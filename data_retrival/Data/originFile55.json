{"items":[{"tags":["java","exception","quarkus"],"answers":[{"tags":[],"owner":{"account_id":17385796,"reputation":219,"user_id":12597147,"display_name":"CodingSamples"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700153170,"creation_date":1700153170,"answer_id":77496621,"question_id":77481506,"body_markdown":"I think it&#39;s more useful to throw a checked exception.\r\n\r\n```java\r\npublic class IdentityResponseException extends Exception {\r\n\r\n    @Getter\r\n    private final ProblemDetail problemDetail;\r\n\r\n    @Getter\r\n    private final Response response;\r\n\r\n    public IdentityResponseException(ProblemDetail problemDetail, Response response) {\r\n        super(problemDetail.getDetail());\r\n        this.problemDetail = problemDetail;\r\n        this.response = response;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@RegisterProvider(IdentityResponseExceptionMapper.class)\r\n@RegisterRestClient(configKey = &quot;identity-api&quot;)\r\npublic interface IdentityTenantsClient {\r\n    @POST\r\n    @Path(&quot;/internal/tenants&quot;)\r\n    TenantResponseDTO createTenant(TenantRequestDTO body) throws IdentityResponseException;\r\n```\r\n\r\nFrom the microprofile rest client spec (https://download.eclipse.org/microprofile/microprofile-rest-client-2.0/microprofile-rest-client-spec-2.0.html#_how_to_implement_responseexceptionmapper) you&#39;re right. Your exception should be thrown directly. Maybe there is a bug in the resteasy implementation when the thrown exception is instance of WebApplicationException. I am not sure, your solution looks fine for me, but you could try out the checked exception solution. Maybe it&#39;ll fit better for you.","title":"ClientWebApplicationException is thrown even if custom exception mapper returned another exception","body":"<p>I think it's more useful to throw a checked exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IdentityResponseException extends Exception {\n\n    @Getter\n    private final ProblemDetail problemDetail;\n\n    @Getter\n    private final Response response;\n\n    public IdentityResponseException(ProblemDetail problemDetail, Response response) {\n        super(problemDetail.getDetail());\n        this.problemDetail = problemDetail;\n        this.response = response;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RegisterProvider(IdentityResponseExceptionMapper.class)\n@RegisterRestClient(configKey = &quot;identity-api&quot;)\npublic interface IdentityTenantsClient {\n    @POST\n    @Path(&quot;/internal/tenants&quot;)\n    TenantResponseDTO createTenant(TenantRequestDTO body) throws IdentityResponseException;\n</code></pre>\n<p>From the microprofile rest client spec (<a href=\"https://download.eclipse.org/microprofile/microprofile-rest-client-2.0/microprofile-rest-client-spec-2.0.html#_how_to_implement_responseexceptionmapper\" rel=\"nofollow noreferrer\">https://download.eclipse.org/microprofile/microprofile-rest-client-2.0/microprofile-rest-client-spec-2.0.html#_how_to_implement_responseexceptionmapper</a>) you're right. Your exception should be thrown directly. Maybe there is a bug in the resteasy implementation when the thrown exception is instance of WebApplicationException. I am not sure, your solution looks fine for me, but you could try out the checked exception solution. Maybe it'll fit better for you.</p>\n"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700153170,"creation_date":1699972932,"question_id":77481506,"body_markdown":"Even if the exception mapper is executed and returns a custom exception when I catch this exception it is always ClienWebApplicationException.\r\n\r\nSo if I do a call with my rest client, and the client returns not successful response this response is mapped to my custom exception by calling my ResponseExceptionMapper.\r\n\r\nAfter exception mapper returns my custom exception I try to catch it in the code, but instead of having instance of my exception I am getting ClienWebApplicationException and the cause of ClienWebApplicationException is my custom exception.\r\n\r\nIn Quarkus I have rest client\r\n\r\n\r\n    @RegisterProvider(IdentityResponseExceptionMapper.class)\r\n    @RegisterRestClient(configKey = &quot;identity-api&quot;)\r\n    public interface IdentityTenantsClient {\r\n        @POST\r\n        @Path(&quot;/internal/tenants&quot;)\r\n        TenantResponseDTO createTenant(TenantRequestDTO body);\r\n\r\nand \r\n\r\nresponse exception mapper\r\n\r\n    public class IdentityResponseExceptionMapper implements ResponseExceptionMapper&lt;IdentityResponseException&gt; {\r\n        @Override\r\n        public IdentityResponseException toThrowable(Response response) {\r\n            ProblemDetail problemDetail = response.readEntity(ProblemDetail.class);\r\n            return new IdentityResponseException(problemDetail, response);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @RegisterForReflection\r\n    public class IdentityResponseException extends WebApplicationException {\r\n        @Getter\r\n        private final transient ProblemDetail problemDetail;\r\n    \r\n        public IdentityResponseException(ProblemDetail problemDetail, Response response) {\r\n            super(problemDetail.getDetail(), response);\r\n            this.problemDetail = problemDetail;\r\n        }\r\n\r\nFor some reason regardless that exception handler maps response to IdentityResponseException, the catch inside the method catches ClientWebApplicationException instead of ClientWebApplicationException ","title":"ClientWebApplicationException is thrown even if custom exception mapper returned another exception","body":"<p>Even if the exception mapper is executed and returns a custom exception when I catch this exception it is always ClienWebApplicationException.</p>\n<p>So if I do a call with my rest client, and the client returns not successful response this response is mapped to my custom exception by calling my ResponseExceptionMapper.</p>\n<p>After exception mapper returns my custom exception I try to catch it in the code, but instead of having instance of my exception I am getting ClienWebApplicationException and the cause of ClienWebApplicationException is my custom exception.</p>\n<p>In Quarkus I have rest client</p>\n<pre><code>@RegisterProvider(IdentityResponseExceptionMapper.class)\n@RegisterRestClient(configKey = &quot;identity-api&quot;)\npublic interface IdentityTenantsClient {\n    @POST\n    @Path(&quot;/internal/tenants&quot;)\n    TenantResponseDTO createTenant(TenantRequestDTO body);\n</code></pre>\n<p>and</p>\n<p>response exception mapper</p>\n<pre><code>public class IdentityResponseExceptionMapper implements ResponseExceptionMapper&lt;IdentityResponseException&gt; {\n    @Override\n    public IdentityResponseException toThrowable(Response response) {\n        ProblemDetail problemDetail = response.readEntity(ProblemDetail.class);\n        return new IdentityResponseException(problemDetail, response);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@RegisterForReflection\npublic class IdentityResponseException extends WebApplicationException {\n    @Getter\n    private final transient ProblemDetail problemDetail;\n\n    public IdentityResponseException(ProblemDetail problemDetail, Response response) {\n        super(problemDetail.getDetail(), response);\n        this.problemDetail = problemDetail;\n    }\n</code></pre>\n<p>For some reason regardless that exception handler maps response to IdentityResponseException, the catch inside the method catches ClientWebApplicationException instead of ClientWebApplicationException</p>\n"},{"tags":["java","guacamole"],"answers":[{"tags":[],"owner":{"account_id":3656861,"reputation":582,"user_id":3047626,"display_name":"mnikolic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553890571,"creation_date":1553890571,"answer_id":55424917,"question_id":55301418,"body_markdown":"You can create an authentication extension for Guacamole, this is a regular way to provide more authentication mechanism to the Guacamole. The extension is essentially a .jar that can be registered to the Guacamole as an authenticator.\r\n\r\nIn your case, it would be probably sufficient to extend some of the JDBC authentication plugins and add your specific auth method. \r\n\r\nYou can find some documentation about this on the Guacamole site: http://guacamole.apache.org/doc/gug/custom-auth.html. There are also examples in the examples directory of the guacamole-client.\r\n","title":"Guacamole get password from external api","body":"<p>You can create an authentication extension for Guacamole, this is a regular way to provide more authentication mechanism to the Guacamole. The extension is essentially a .jar that can be registered to the Guacamole as an authenticator.</p>\n\n<p>In your case, it would be probably sufficient to extend some of the JDBC authentication plugins and add your specific auth method. </p>\n\n<p>You can find some documentation about this on the Guacamole site: <a href=\"http://guacamole.apache.org/doc/gug/custom-auth.html\" rel=\"nofollow noreferrer\">http://guacamole.apache.org/doc/gug/custom-auth.html</a>. There are also examples in the examples directory of the guacamole-client.</p>\n"}],"owner":{"account_id":15338689,"reputation":1,"user_id":11243209,"display_name":"root"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700151766,"creation_date":1553263697,"question_id":55301418,"body_markdown":"I&#39;m trying to setup a guacamole instance to manage my servers accounts. It&#39;s working well when I&#39;m using my MySQL database to manage connection user ID and user password.\r\n\r\nBut I would like to get my password from my keepass like container through REST API, the idea is to store my password in one and secure location !\r\n\r\nI have several ideas to do it, but to be honnest this is not very &quot;beautiful&quot;\r\n\r\n 1. Hack the JDBC extension to replace my password when guacamole try to access it. So I store in my password field something like &quot;MY_KEEPASS:password_id&quot; and I will do a request to my API, get the value and replace MY_KEEPASS:password_id by the password\r\n 2. Use the token extension to execute my api call when password will find the token ${PASS}. But I&#39;m not sure this is possible without hack the token extension...\r\n\r\nDo someone have a better idea to do that ? \r\n\r\nThanks","title":"Guacamole get password from external api","body":"<p>I'm trying to setup a guacamole instance to manage my servers accounts. It's working well when I'm using my MySQL database to manage connection user ID and user password.</p>\n\n<p>But I would like to get my password from my keepass like container through REST API, the idea is to store my password in one and secure location !</p>\n\n<p>I have several ideas to do it, but to be honnest this is not very \"beautiful\"</p>\n\n<ol>\n<li>Hack the JDBC extension to replace my password when guacamole try to access it. So I store in my password field something like \"MY_KEEPASS:password_id\" and I will do a request to my API, get the value and replace MY_KEEPASS:password_id by the password</li>\n<li>Use the token extension to execute my api call when password will find the token ${PASS}. But I'm not sure this is possible without hack the token extension...</li>\n</ol>\n\n<p>Do someone have a better idea to do that ? </p>\n\n<p>Thanks</p>\n"},{"tags":["java","io","fileinputstream"],"answers":[{"tags":[],"owner":{"account_id":5972791,"reputation":651,"user_id":4694665,"display_name":"Chewy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464182555,"creation_date":1464182247,"answer_id":37438427,"question_id":37438092,"body_markdown":"Just change this section of code - once you convert to a char, you cannot compare it to an integer successfully, so your while exit condition is never met.\r\n\r\n    int c;\r\n    while ((c = inputFile.read()) != -1) {\r\n        System.out.println((char) c);\r\n        outputFile.write(c);\r\n    }\r\n\r\nAlso using the java 8 java.nio and java.io packages is much simpler\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        List&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;s:/inputFile.txt&quot;));\r\n        Files.write(Paths.get(&quot;s:/outputFile.txt&quot;), lines);\r\n    }","title":"Why is FileInputStream read() method wrongly reading question mark (ascii: 63) when put into infinite loop?","body":"<p>Just change this section of code - once you convert to a char, you cannot compare it to an integer successfully, so your while exit condition is never met.</p>\n\n<pre><code>int c;\nwhile ((c = inputFile.read()) != -1) {\n    System.out.println((char) c);\n    outputFile.write(c);\n}\n</code></pre>\n\n<p>Also using the java 8 java.nio and java.io packages is much simpler</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    List&lt;String&gt; lines = Files.readAllLines(Paths.get(\"s:/inputFile.txt\"));\n    Files.write(Paths.get(\"s:/outputFile.txt\"), lines);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464182687,"creation_date":1464182687,"answer_id":37438598,"question_id":37438092,"body_markdown":"Typecasting a the result of `in.read()` to char is bad style. Characters should only read from a [Reader][1] - in your case you could use an InputStreamReader:\r\n\r\n\r\n    \tinputFile = new FileInputStream(&quot;s:/inputFile.txt&quot;);\r\n        outputFile = new FileOutputStream(&quot;s:/outputFile.txt&quot;);\r\n        Reader inputReader = InputStreamReader(inputFile, StandardCharsets.UTF_8);\r\n        Writer outputWriter = OutputStreamWriter(outputFile, StandardCharsets.UTF_8);\r\n        char[] cbuf = new char[4096];\r\n        int read;\r\n        while( (read = inputReader.read(cbuf)) &gt;= 0)\r\n        {\r\n            System.out.println(new String(cbuf, 0, read));\r\n            outputWriter.write(cbuf, 0, read);\r\n        }\r\n\r\nThis example furthermore does not copy byte-by-byte (massive speed improvement) and it applies UTF-8 as charset.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/Reader.html","title":"Why is FileInputStream read() method wrongly reading question mark (ascii: 63) when put into infinite loop?","body":"<p>Typecasting a the result of <code>in.read()</code> to char is bad style. Characters should only read from a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Reader.html\" rel=\"nofollow\">Reader</a> - in your case you could use an InputStreamReader:</p>\n\n<pre><code>    inputFile = new FileInputStream(\"s:/inputFile.txt\");\n    outputFile = new FileOutputStream(\"s:/outputFile.txt\");\n    Reader inputReader = InputStreamReader(inputFile, StandardCharsets.UTF_8);\n    Writer outputWriter = OutputStreamWriter(outputFile, StandardCharsets.UTF_8);\n    char[] cbuf = new char[4096];\n    int read;\n    while( (read = inputReader.read(cbuf)) &gt;= 0)\n    {\n        System.out.println(new String(cbuf, 0, read));\n        outputWriter.write(cbuf, 0, read);\n    }\n</code></pre>\n\n<p>This example furthermore does not copy byte-by-byte (massive speed improvement) and it applies UTF-8 as charset.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700151692,"creation_date":1464182850,"answer_id":37438676,"question_id":37438092,"body_markdown":"&gt; Why is this happening? \r\n\r\nThe problem is in this line:\r\n\r\n     while(( c = (char) inputFile.read()) != -1)\r\n\r\nYou are doing the following:\r\n\r\n 1.  Reading a byte from the file.  This gives you an `int` which is either a byte in the range 0 to 255, or -1.\r\n\r\n 2.  You are casting that value to a `char`.  For the byte, that gives a `char` value in the range 0 to 255.  For `-1` the cast will give you `&#39;\\uffff&#39;`.\r\n\r\n 3.  You assign that value to `c`.\r\n\r\n 4.  You then test the value against `-1`.  This is where it goes wrong.  In the case where `read` returned `-1`, you will now be evaluating this `&#39;\\uffff&#39; == -1`.  The LHS is converted to an `int` value ... `0x0000ffff` ... and that is compared to `0xffffffff`.  They are different.\r\n\r\nThen you print `&#39;uffff&#39;` ... which is being converted to a `&#39;?&#39;` when output as a character in your default charset.\r\n\r\n----------------\r\n\r\nThere are two major mistakes in the code.  First, the conversion `int` -&gt; `char` -&gt; `int` is not going to work; see above.\r\n\r\nSecond, and more important:\r\n\r\n  - you should not be trying to use an `InputStream` (which is byte oriented) to read data as characters, and\r\n\r\n  - you should not be trying to write character data to an `OutputStream`.\r\n\r\nDepending on what you actually trying to achieve here, you should either:\r\n\r\n  - read and write bytes ... without a spurious &quot;conversion&quot; to `char` in the middle, OR\r\n\r\n  - use a `FileReader` and `FileWriter` to do the conversions *properly* for the platform default characterset.\r\n\r\n(There are some other points that could be made about buffering, choosing an alternate charset, etc, but this Answer is already getting too long.)","title":"Why is FileInputStream read() method wrongly reading question mark (ascii: 63) when put into infinite loop?","body":"<blockquote>\n<p>Why is this happening?</p>\n</blockquote>\n<p>The problem is in this line:</p>\n<pre><code> while(( c = (char) inputFile.read()) != -1)\n</code></pre>\n<p>You are doing the following:</p>\n<ol>\n<li><p>Reading a byte from the file.  This gives you an <code>int</code> which is either a byte in the range 0 to 255, or -1.</p>\n</li>\n<li><p>You are casting that value to a <code>char</code>.  For the byte, that gives a <code>char</code> value in the range 0 to 255.  For <code>-1</code> the cast will give you <code>'\\uffff'</code>.</p>\n</li>\n<li><p>You assign that value to <code>c</code>.</p>\n</li>\n<li><p>You then test the value against <code>-1</code>.  This is where it goes wrong.  In the case where <code>read</code> returned <code>-1</code>, you will now be evaluating this <code>'\\uffff' == -1</code>.  The LHS is converted to an <code>int</code> value ... <code>0x0000ffff</code> ... and that is compared to <code>0xffffffff</code>.  They are different.</p>\n</li>\n</ol>\n<p>Then you print <code>'uffff'</code> ... which is being converted to a <code>'?'</code> when output as a character in your default charset.</p>\n<hr />\n<p>There are two major mistakes in the code.  First, the conversion <code>int</code> -&gt; <code>char</code> -&gt; <code>int</code> is not going to work; see above.</p>\n<p>Second, and more important:</p>\n<ul>\n<li><p>you should not be trying to use an <code>InputStream</code> (which is byte oriented) to read data as characters, and</p>\n</li>\n<li><p>you should not be trying to write character data to an <code>OutputStream</code>.</p>\n</li>\n</ul>\n<p>Depending on what you actually trying to achieve here, you should either:</p>\n<ul>\n<li><p>read and write bytes ... without a spurious &quot;conversion&quot; to <code>char</code> in the middle, OR</p>\n</li>\n<li><p>use a <code>FileReader</code> and <code>FileWriter</code> to do the conversions <em>properly</em> for the platform default characterset.</p>\n</li>\n</ul>\n<p>(There are some other points that could be made about buffering, choosing an alternate charset, etc, but this Answer is already getting too long.)</p>\n"}],"owner":{"account_id":323554,"reputation":1357,"user_id":643634,"accept_rate":58,"display_name":"Navin Israni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700151692,"creation_date":1464181519,"question_id":37438092,"body_markdown":"There are some similar questions on the site but all have been used in different scenario. So, I&#39;m asking it here:\r\n\r\n    package Assign6B;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class FileOpsDemo {\r\n    \tpublic static void main(String[] args) throws IOException \r\n    \t{\r\n    \t\t\r\n    \t\tFileInputStream inputFile = null;\r\n    \t\tFileOutputStream outputFile = null;\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tinputFile = new FileInputStream(&quot;s:/inputFile.txt&quot;);\r\n    \t\t\toutputFile = new FileOutputStream(&quot;s:/outputFile.txt&quot;);\r\n    \t\t\tchar c;\r\n    \t\t\twhile(( c = (char) inputFile.read()) != -1)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println((char)c);\r\n    \t\t\t\toutputFile.write(c);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;File transfer complete!&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\tif (inputFile != null)\r\n    \t\t\t\tinputFile.close();\r\n    \t\t\t\r\n    \t\t\tif (outputFile != null)\r\n    \t\t\t\toutputFile.close();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThis is my code. In the while loop condition, first I had set it to typecast the int output by read() into a char. The result was that it went into an infinite loop with all characters being converted to &#39;?&#39; (ascii: 63). Then I realized my mistake of char conversion and changed it.\r\n\r\nBut when I changed my while condition to &quot;=-2&quot; (without the char conversion) (this condition will never occur and hence put it into infinite loop). Here too, even if there is no char conversion the first (say, 10) valid characters of the file are still being converted into &#39;?&#39;. (After it reaches EOF, all invalid chars become &#39;?&#39; - I&#39;m assuming this is given).\r\n\r\nWhy is this happening? At least the valid characters of the file should be read properly until it encounters the EOF and starts feeding on invalid chars!\r\n","title":"Why is FileInputStream read() method wrongly reading question mark (ascii: 63) when put into infinite loop?","body":"<p>There are some similar questions on the site but all have been used in different scenario. So, I'm asking it here:</p>\n\n<pre><code>package Assign6B;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class FileOpsDemo {\n    public static void main(String[] args) throws IOException \n    {\n\n        FileInputStream inputFile = null;\n        FileOutputStream outputFile = null;\n\n        try\n        {\n            inputFile = new FileInputStream(\"s:/inputFile.txt\");\n            outputFile = new FileOutputStream(\"s:/outputFile.txt\");\n            char c;\n            while(( c = (char) inputFile.read()) != -1)\n            {\n                System.out.println((char)c);\n                outputFile.write(c);\n            }\n\n            System.out.println(\"File transfer complete!\");\n        }\n\n        finally\n        {\n            if (inputFile != null)\n                inputFile.close();\n\n            if (outputFile != null)\n                outputFile.close();\n        }\n    }\n}\n</code></pre>\n\n<p>This is my code. In the while loop condition, first I had set it to typecast the int output by read() into a char. The result was that it went into an infinite loop with all characters being converted to '?' (ascii: 63). Then I realized my mistake of char conversion and changed it.</p>\n\n<p>But when I changed my while condition to \"=-2\" (without the char conversion) (this condition will never occur and hence put it into infinite loop). Here too, even if there is no char conversion the first (say, 10) valid characters of the file are still being converted into '?'. (After it reaches EOF, all invalid chars become '?' - I'm assuming this is given).</p>\n\n<p>Why is this happening? At least the valid characters of the file should be read properly until it encounters the EOF and starts feeding on invalid chars!</p>\n"},{"tags":["java","android","stripe-payments"],"comments":[{"owner":{"account_id":3220603,"reputation":2133,"user_id":2718163,"display_name":"alex"},"score":0,"creation_date":1700096515,"post_id":77491702,"comment_id":136614130,"body_markdown":"Please share your code. Likely you are creating a PaymentIntent that includes the parameter [setup_for_future_usage](https://stripe.com/docs/api/payment_intents/create#create_payment_intent-setup_future_usage). If you remove that parameter, then that checkbox option won&#39;t show","body":"Please share your code. Likely you are creating a PaymentIntent that includes the parameter <a href=\"https://stripe.com/docs/api/payment_intents/create#create_payment_intent-setup_future_usage\" rel=\"nofollow noreferrer\">setup_for_future_usage</a>. If you remove that parameter, then that checkbox option won&#39;t show"},{"owner":{"account_id":22350370,"reputation":3,"user_id":16568636,"display_name":"baldest_programmer"},"score":0,"creation_date":1700151722,"post_id":77491702,"comment_id":136622065,"body_markdown":"That parameter was not in either my Android or Flask code. But I added it to the Flask payment intent as &quot;off_session&quot; and it is gone. Thanks for pointing me in the right direction.","body":"That parameter was not in either my Android or Flask code. But I added it to the Flask payment intent as &quot;off_session&quot; and it is gone. Thanks for pointing me in the right direction."}],"answers":[{"tags":[],"owner":{"account_id":22350370,"reputation":3,"user_id":16568636,"display_name":"baldest_programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700151565,"creation_date":1700151565,"answer_id":77496440,"question_id":77491702,"body_markdown":"In the Flask app set setup_future_usage to &#39;off_session&#39;\r\n\r\n    paymentIntent = stripe.PaymentIntent.create(\r\n        amount=credits,\r\n        currency=&#39;usd&#39;,\r\n        customer=customer[&#39;id&#39;],\r\n        setup_future_usage=&#39;off_session&#39;,\r\n        automatic_payment_methods={\r\n          &#39;enabled&#39;: True,\r\n        },\r\n      )\r\n\r\n","title":"How to disable saved cards/future payment sheets of Stripe? (Android/Flask)","body":"<p>In the Flask app set setup_future_usage to 'off_session'</p>\n<pre><code>paymentIntent = stripe.PaymentIntent.create(\n    amount=credits,\n    currency='usd',\n    customer=customer['id'],\n    setup_future_usage='off_session',\n    automatic_payment_methods={\n      'enabled': True,\n    },\n  )\n</code></pre>\n"}],"owner":{"account_id":22350370,"reputation":3,"user_id":16568636,"display_name":"baldest_programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700151565,"creation_date":1700095832,"question_id":77491702,"body_markdown":"I have an Android app that uses Stripe&#39;s SDK for purchases and a Gunicorn/Flask backend running. Testing has been well.\r\n\r\nHowever, I do not want to store anything payment information. Yet, there is a checkbox option on the payment sheet to &quot;*Save for future [app] purchases?*&quot;\r\n\r\nI&#39;ve checked the client and server side documentation. But still can&#39;t figure out how to disable that option from the payment sheet. Does anyone know how? I&#39;m writing in Java. ","title":"How to disable saved cards/future payment sheets of Stripe? (Android/Flask)","body":"<p>I have an Android app that uses Stripe's SDK for purchases and a Gunicorn/Flask backend running. Testing has been well.</p>\n<p>However, I do not want to store anything payment information. Yet, there is a checkbox option on the payment sheet to &quot;<em>Save for future [app] purchases?</em>&quot;</p>\n<p>I've checked the client and server side documentation. But still can't figure out how to disable that option from the payment sheet. Does anyone know how? I'm writing in Java.</p>\n"},{"tags":["java","spring","spring-boot","swagger","execution-time"],"comments":[{"owner":{"account_id":881640,"reputation":4614,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1613925546,"post_id":66303565,"comment_id":117220616,"body_markdown":"Isn&#39;t [spring mv metrics](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-spring-mvc) something what you are searching for?","body":"Isn&#39;t <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-spring-mvc\" rel=\"nofollow noreferrer\">spring mv metrics</a> something what you are searching for?"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1613961928,"post_id":66303565,"comment_id":117229068,"body_markdown":"`When I tried annotating at the class level per below, the app failed to compile..` - Did the application startup failed with an exception about , cannot subclass a final class ?","body":"<code>When I tried annotating at the class level per below, the app failed to compile..</code> - Did the application startup failed with an exception about , cannot subclass a final class ?"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1613971563,"post_id":66303565,"comment_id":117230910,"body_markdown":"@bilak I&#39;ll checkout spring metrics, I thought Spring AOP was the solution","body":"@bilak I&#39;ll checkout spring metrics, I thought Spring AOP was the solution"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1613971639,"post_id":66303565,"comment_id":117230929,"body_markdown":"@R.G I update my post. The spring boot app compiles fine and boots up on localhost:8080. The problem is when I try to hit the endpoint that I annotated, nothing happens , I get a 404 NOT FOUND from postman. It&#39;s like adding the annotation breaks the API because we are using Swagger code gen","body":"@R.G I update my post. The spring boot app compiles fine and boots up on localhost:8080. The problem is when I try to hit the endpoint that I annotated, nothing happens , I get a 404 NOT FOUND from postman. It&#39;s like adding the annotation breaks the API because we are using Swagger code gen"}],"answers":[{"tags":[],"owner":{"account_id":2514821,"reputation":403,"user_id":2186495,"accept_rate":29,"display_name":"Pat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661256075,"creation_date":1661256075,"answer_id":73458369,"question_id":66303565,"body_markdown":"To use this annotation over class you have to change target of the annotation to ElementType.TYPE instead of ElementType.METHOD.","title":"Most efficient way to track execution time of methods in REST API? (Java Spring Boot app, Swagger)","body":"<p>To use this annotation over class you have to change target of the annotation to ElementType.TYPE instead of ElementType.METHOD.</p>\n"},{"tags":[],"owner":{"account_id":29919626,"reputation":1,"user_id":22929081,"display_name":"syedsher saraan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700151480,"creation_date":1700151480,"answer_id":77496430,"question_id":66303565,"body_markdown":"You can use spring aop and aspectj to get the execution time but if the class has not interface then remember to add @EnableAspectJAutoProxy (proxyTargetClass = true) annotation it&#39;s a CGLIB. But if you are sure that your service is not having class without interface then go ahead no need to add that annotation.\r\nIf you have final class then the proxy is not going to be created you will get error (Common causes of this problem include using a final class.) or if you have private constructor only. And if the flow is going to final method, then it will not get intercept and you will get NullPointerException and the aplication will break.","title":"Most efficient way to track execution time of methods in REST API? (Java Spring Boot app, Swagger)","body":"<p>You can use spring aop and aspectj to get the execution time but if the class has not interface then remember to add @EnableAspectJAutoProxy (proxyTargetClass = true) annotation it's a CGLIB. But if you are sure that your service is not having class without interface then go ahead no need to add that annotation.\nIf you have final class then the proxy is not going to be created you will get error (Common causes of this problem include using a final class.) or if you have private constructor only. And if the flow is going to final method, then it will not get intercept and you will get NullPointerException and the aplication will break.</p>\n"}],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1997,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700151480,"creation_date":1613919263,"question_id":66303565,"body_markdown":"I have a Java Spring Boot API (Swagger) that I is having thousands of calls on it daily. I wanted to log the execution times of these methods for analysis. I used Spring AOP (Aspect Orientated Programming) to make a simple interface and concrete class that allows me to annotate my methods with @TrackExecutionTime to see the runtime. I have listed the code for that below. My problem is, that in the logs, I am tracking the method call times, but I have thousands of requests, so I need a way of &quot;tagging&quot; each api call and logging it, so I can follow the flow of each api call. I was thinking of generating a random # or maybe someone here had a better suggestion. So the logging currently looks like this:\r\n`\r\n&quot;com.mypackage.myclassname.mymethodname. Time taken for Execution is : 100ms&quot;\r\n` \r\n\r\nAlso, My first RestController uses Swagger, so I tried to annotate the method with my @TrackTimeExecution, but we are using the **swagger-codegen-maven** plugin, so it reads the swagger definition yaml file and generates the &quot;CustomerApi&quot; and other classes/interfaces when it compiles. When I tried annotating at the class level per below, the Spring Boot app compiles, but when I run the app locally on port 8080 and try to hit the endpoint I annotated with Postman, nothing happens at all. It&#39;s like annotating breaks the swagger codegen or something, so I had to settle with sticking the annotation on the customersService.getCustomers() method. Is this acceptable? I figured I would need to clock the execution from when the Controller first gets hit, but as I said,  I coudln&#39;t do it this way unless I&#39;m making some dumb mistake, so I had to put it on the *next* method the controller calls. Does this make my timing of the api call inaccurate since I would need to time in when the app first gets the request by the controller? Would love any input here...\r\n\r\nDumbed dumb implementation of one of my endpoints, basically the same: \r\n```\r\n@RestController\r\n@TrackExecutionTime // this fails to compile\r\npublic class CustomerApiController implements CustomerApi {\r\n    @Autowired\r\n    public CustomerApiController(ObjectMapper objectMapper, HttpServletRequest request) {\r\n        this.objectMapper = objectMapper;\r\n        this.request = request;\r\n}\r\n\r\npublic ResponseEntity&lt;List&lt;Customer&gt;&gt; searchCustomer() {\r\n    return new ResponseEntity&lt;List&lt;Customer&gt;&gt;(this.customerService.getCustomers(), HttpStatus.OK);\r\n```\r\n\r\nClass that logs the execution time of any method annotated with &quot;@TrackExecutionTime&quot;\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@ConditionalOnExpression(&quot;${aspect.enabled:true}&quot;)\r\npublic class ExecutionTimeAdvice {\r\n\r\n    @Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime)&quot;)\r\n    public Object executionTime(ProceedingJoinPoint point) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object object = point.proceed();\r\n        long endtime = System.currentTimeMillis();\r\n        log.info(&quot;Class Name: &quot;+ point.getSignature().getDeclaringTypeName() +&quot;. Method Name: &quot;+ point.getSignature().getName() + &quot;. Time taken for Execution is : &quot; + (endtime-startTime) +&quot;ms&quot;);\r\n        return object;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface TrackExecutionTime {\r\n}\r\n```","title":"Most efficient way to track execution time of methods in REST API? (Java Spring Boot app, Swagger)","body":"<p>I have a Java Spring Boot API (Swagger) that I is having thousands of calls on it daily. I wanted to log the execution times of these methods for analysis. I used Spring AOP (Aspect Orientated Programming) to make a simple interface and concrete class that allows me to annotate my methods with @TrackExecutionTime to see the runtime. I have listed the code for that below. My problem is, that in the logs, I am tracking the method call times, but I have thousands of requests, so I need a way of &quot;tagging&quot; each api call and logging it, so I can follow the flow of each api call. I was thinking of generating a random # or maybe someone here had a better suggestion. So the logging currently looks like this:\n<code>&quot;com.mypackage.myclassname.mymethodname. Time taken for Execution is : 100ms&quot;</code></p>\n<p>Also, My first RestController uses Swagger, so I tried to annotate the method with my @TrackTimeExecution, but we are using the <strong>swagger-codegen-maven</strong> plugin, so it reads the swagger definition yaml file and generates the &quot;CustomerApi&quot; and other classes/interfaces when it compiles. When I tried annotating at the class level per below, the Spring Boot app compiles, but when I run the app locally on port 8080 and try to hit the endpoint I annotated with Postman, nothing happens at all. It's like annotating breaks the swagger codegen or something, so I had to settle with sticking the annotation on the customersService.getCustomers() method. Is this acceptable? I figured I would need to clock the execution from when the Controller first gets hit, but as I said,  I coudln't do it this way unless I'm making some dumb mistake, so I had to put it on the <em>next</em> method the controller calls. Does this make my timing of the api call inaccurate since I would need to time in when the app first gets the request by the controller? Would love any input here...</p>\n<p>Dumbed dumb implementation of one of my endpoints, basically the same:</p>\n<pre><code>@RestController\n@TrackExecutionTime // this fails to compile\npublic class CustomerApiController implements CustomerApi {\n    @Autowired\n    public CustomerApiController(ObjectMapper objectMapper, HttpServletRequest request) {\n        this.objectMapper = objectMapper;\n        this.request = request;\n}\n\npublic ResponseEntity&lt;List&lt;Customer&gt;&gt; searchCustomer() {\n    return new ResponseEntity&lt;List&lt;Customer&gt;&gt;(this.customerService.getCustomers(), HttpStatus.OK);\n</code></pre>\n<p>Class that logs the execution time of any method annotated with &quot;@TrackExecutionTime&quot;</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\n@ConditionalOnExpression(&quot;${aspect.enabled:true}&quot;)\npublic class ExecutionTimeAdvice {\n\n    @Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime)&quot;)\n    public Object executionTime(ProceedingJoinPoint point) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object object = point.proceed();\n        long endtime = System.currentTimeMillis();\n        log.info(&quot;Class Name: &quot;+ point.getSignature().getDeclaringTypeName() +&quot;. Method Name: &quot;+ point.getSignature().getName() + &quot;. Time taken for Execution is : &quot; + (endtime-startTime) +&quot;ms&quot;);\n        return object;\n    }\n}\n</code></pre>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface TrackExecutionTime {\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1700114276,"post_id":77492485,"comment_id":136615493,"body_markdown":"Can you share your table creation query to check if there is some typo error while creating this entity and also your database connection, properties or yml file it&#39;ll be helpful","body":"Can you share your table creation query to check if there is some typo error while creating this entity and also your database connection, properties or yml file it&#39;ll be helpful"},{"owner":{"account_id":29914558,"reputation":1,"user_id":22925070,"display_name":"Federico Wedemeyer"},"score":0,"creation_date":1700150551,"post_id":77492485,"comment_id":136621790,"body_markdown":"@Daksharajkamal\n\nThe database was given to me by the teacher, so i don&#39;t have the table creation query.\nProperties:\n\n```spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect\nspring.jpa.hibernate.ddl-auto=none\n\nspring.datasource.url=jdbc:sqlite:bicicletas.db\nspring.datasource.driver-class-name=org.sqlite.JDBC\n\n\nspring.datasource.username=admin\nspring.datasource.password=admin\n```","body":"@Daksharajkamal  The database was given to me by the teacher, so i don&#39;t have the table creation query. Properties:  <code>spring.jpa.database-platform=org.hibernate.community.dialect&zwnj;&#8203;.SQLiteDialect spring.jpa.hibernate.ddl-auto=none  spring.datasource.url=jdbc:sqlite:bicicletas.db spring.datasource.driver-class-name=org.sqlite.JDBC   spring.datasource.username=admin spring.datasource.password=admin </code>"}],"answers":[{"tags":[],"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700117617,"creation_date":1700117617,"answer_id":77492784,"question_id":77492485,"body_markdown":"JPA 2.1 was released before Java 8 and therefore doesn’t support the new Date and Time API.\r\nSo check the  columns like horaDevolucion and horaRetiro data type and check SQLite support that data type.\r\n\r\n&lt;b&gt;Two options&lt;/b&gt;\r\n1. Update to JPA 2.2 and hibernate 5 support date and time API\r\n2. Convert LocalDateTime to Timestamp using @Converter. [Refer this link for the sample](https://thorben-janssen.com/persist-localdate-localdatetime-jpa/)","title":"JpaRepository.save(entity) not working. SQLError 0, SQLState: null","body":"<p>JPA 2.1 was released before Java 8 and therefore doesn’t support the new Date and Time API.\nSo check the  columns like horaDevolucion and horaRetiro data type and check SQLite support that data type.</p>\n<p><b>Two options</b></p>\n<ol>\n<li>Update to JPA 2.2 and hibernate 5 support date and time API</li>\n<li>Convert LocalDateTime to Timestamp using @Converter. <a href=\"https://thorben-janssen.com/persist-localdate-localdatetime-jpa/\" rel=\"nofollow noreferrer\">Refer this link for the sample</a></li>\n</ol>\n"}],"owner":{"account_id":29914558,"reputation":1,"user_id":22925070,"display_name":"Federico Wedemeyer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700151226,"creation_date":1700112386,"question_id":77492485,"body_markdown":"I&#39;m trying to make a POST endpoint on Java Spring with JPA, Lombok and Hibernate.\r\n\r\nI&#39;ll show you the code i have on the controller, the entity, the service and a screenshot of the error I have to see if you can help me.\r\n\r\nSorry for the spanish on the code, it&#39;s for college.\r\n\r\nThe controller with the POST request:\r\n\r\n```java\r\n @PostMapping\r\n    public ResponseEntity&lt;Object&gt; iniciarAlquiler(@RequestBody AlquilerRequest aRequest) {\r\n        try {\r\n            val alquiler = alquilerService.iniciarAlquiler(aRequest.getClienteId(), aRequest.getEstacionId());\r\n            System.out.println(alquiler);\r\n            return ResponseHandler.success(AlquilerResponse.from(alquiler));\r\n\r\n        } catch (IllegalArgumentException e) {\r\n            return ResponseHandler.badRequest(e.getMessage());\r\n        } catch (Exception e) {\r\n            return ResponseHandler.internalError();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThe entity:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;ALQUILERES&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Alquiler {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;ID&quot;)\r\n    private long id;\r\n\r\n    @Column(name = &quot;ESTACION_DEVOLUCION&quot;)\r\n    private int estacionDevolucion;\r\n\r\n    @Column(name = &quot;ESTACION_RETIRO&quot;)\r\n    private int estacionRetiro;\r\n\r\n    @Column(name = &quot;ESTADO&quot;)\r\n    private int estado;\r\n\r\n    @Column(name = &quot;FECHA_HORA_DEVOLUCION&quot;)\r\n    private LocalDateTime horaDevolucion;\r\n\r\n    @Column(name = &quot;FECHA_HORA_RETIRO&quot;)\r\n    private LocalDateTime horaRetiro;\r\n\r\n    @Column(name = &quot;ID_CLIENTE&quot;)\r\n    private long idCliente;\r\n\r\n    @Column(name = &quot;MONTO&quot;)\r\n    private double monto;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;ID_TARIFA&quot;)\r\n    private Tarifa tarifa;\r\n```\r\n\r\nThe service (note: definirTarifa works ok. It finds another entity):\r\n\r\n\r\n```java\r\n@Override\r\n    public Alquiler iniciarAlquiler(int idCliente, int estacionRetiroId) {\r\n\r\n        val estado = 1;\r\n\r\n        LocalDateTime fechaHoraRetiro = LocalDateTime.now();\r\n        val tarifa = definirTarifa(fechaHoraRetiro);\r\n\r\n        val newAlquiler = new Alquiler();\r\n        newAlquiler.setEstado(estado);\r\n        newAlquiler.setEstacionRetiro(estacionRetiroId);\r\n        //newAlquiler.setHoraRetiro(fechaHoraRetiro);\r\n        newAlquiler.setIdCliente(idCliente);\r\n        newAlquiler.setTarifa(tarifa);\r\n\r\n        return alquileresRepository.save(newAlquiler);\r\n    }\r\n```\r\n\r\n\r\n[The error](https://i.stack.imgur.com/gLt7B.png)\r\n[Database Structure](https://i.stack.imgur.com/iLkff.png)\r\n\r\n\r\nI&#39;m new to programming in general, in fact this is my first StackOverflow question. The class in which im learning this is not good, and I had to learn everything on my own basically. I barely know what i&#39;m doing. If you could also redirect me to some good resources for learning this or solving issues on my own i would really appreciate it.\r\n","title":"JpaRepository.save(entity) not working. SQLError 0, SQLState: null","body":"<p>I'm trying to make a POST endpoint on Java Spring with JPA, Lombok and Hibernate.</p>\n<p>I'll show you the code i have on the controller, the entity, the service and a screenshot of the error I have to see if you can help me.</p>\n<p>Sorry for the spanish on the code, it's for college.</p>\n<p>The controller with the POST request:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping\n    public ResponseEntity&lt;Object&gt; iniciarAlquiler(@RequestBody AlquilerRequest aRequest) {\n        try {\n            val alquiler = alquilerService.iniciarAlquiler(aRequest.getClienteId(), aRequest.getEstacionId());\n            System.out.println(alquiler);\n            return ResponseHandler.success(AlquilerResponse.from(alquiler));\n\n        } catch (IllegalArgumentException e) {\n            return ResponseHandler.badRequest(e.getMessage());\n        } catch (Exception e) {\n            return ResponseHandler.internalError();\n        }\n    }\n</code></pre>\n<p>The entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;ALQUILERES&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Alquiler {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private long id;\n\n    @Column(name = &quot;ESTACION_DEVOLUCION&quot;)\n    private int estacionDevolucion;\n\n    @Column(name = &quot;ESTACION_RETIRO&quot;)\n    private int estacionRetiro;\n\n    @Column(name = &quot;ESTADO&quot;)\n    private int estado;\n\n    @Column(name = &quot;FECHA_HORA_DEVOLUCION&quot;)\n    private LocalDateTime horaDevolucion;\n\n    @Column(name = &quot;FECHA_HORA_RETIRO&quot;)\n    private LocalDateTime horaRetiro;\n\n    @Column(name = &quot;ID_CLIENTE&quot;)\n    private long idCliente;\n\n    @Column(name = &quot;MONTO&quot;)\n    private double monto;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;ID_TARIFA&quot;)\n    private Tarifa tarifa;\n</code></pre>\n<p>The service (note: definirTarifa works ok. It finds another entity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Alquiler iniciarAlquiler(int idCliente, int estacionRetiroId) {\n\n        val estado = 1;\n\n        LocalDateTime fechaHoraRetiro = LocalDateTime.now();\n        val tarifa = definirTarifa(fechaHoraRetiro);\n\n        val newAlquiler = new Alquiler();\n        newAlquiler.setEstado(estado);\n        newAlquiler.setEstacionRetiro(estacionRetiroId);\n        //newAlquiler.setHoraRetiro(fechaHoraRetiro);\n        newAlquiler.setIdCliente(idCliente);\n        newAlquiler.setTarifa(tarifa);\n\n        return alquileresRepository.save(newAlquiler);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gLt7B.png\" rel=\"nofollow noreferrer\">The error</a>\n<a href=\"https://i.stack.imgur.com/iLkff.png\" rel=\"nofollow noreferrer\">Database Structure</a></p>\n<p>I'm new to programming in general, in fact this is my first StackOverflow question. The class in which im learning this is not good, and I had to learn everything on my own basically. I barely know what i'm doing. If you could also redirect me to some good resources for learning this or solving issues on my own i would really appreciate it.</p>\n"},{"tags":["java","intellij-idea","classloader","java-11"],"comments":[{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":6,"creation_date":1547586320,"post_id":54205486,"comment_id":95240217,"body_markdown":"You are trying to use -Xbootclasspath/a and CDS (or AppCDS) at the same time. Can you run with -Xshare:off to disable CDS?","body":"You are trying to use -Xbootclasspath/a and CDS (or AppCDS) at the same time. Can you run with -Xshare:off to disable CDS?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1547611910,"post_id":54205486,"comment_id":95246675,"body_markdown":"Just a guess(since I saw something similar), you&#39;re using an IDE that&#39;s doing what Alan pointed out without you even being aware of it? Is that IntelliJ?","body":"Just a guess(since I saw something similar), you&#39;re using an IDE that&#39;s doing what Alan pointed out without you even being aware of it? Is that IntelliJ?"},{"owner":{"account_id":9573991,"reputation":11925,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":2,"creation_date":1547643027,"post_id":54205486,"comment_id":95260459,"body_markdown":"Yes, this is IntelliJ","body":"Yes, this is IntelliJ"},{"owner":{"account_id":101340,"reputation":2439,"user_id":272742,"accept_rate":64,"display_name":"turbanoff"},"score":21,"creation_date":1555886768,"post_id":54205486,"comment_id":98245186,"body_markdown":"Same problem in IntelliJ IDEA with Java 12.","body":"Same problem in IntelliJ IDEA with Java 12."},{"owner":{"account_id":16017211,"reputation":55,"user_id":11559590,"display_name":"zarez"},"score":6,"creation_date":1558917551,"post_id":54205486,"comment_id":99245730,"body_markdown":"This happened to me right after I switched to java 12, I did run with -Xshare:off and it worked fine too but What exactly this does, Could it be preventing something that I will need in future or anything bad might happen?","body":"This happened to me right after I switched to java 12, I did run with -Xshare:off and it worked fine too but What exactly this does, Could it be preventing something that I will need in future or anything bad might happen?"},{"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"score":2,"creation_date":1563533688,"post_id":54205486,"comment_id":100740979,"body_markdown":"can someone elaborate on this? Why it is happening and what is -Xbootclasspath/a and/or CDS (or AppCDS)?","body":"can someone elaborate on this? Why it is happening and what is -Xbootclasspath/a and/or CDS (or AppCDS)?"},{"owner":{"account_id":3021655,"reputation":2368,"user_id":2562544,"display_name":"Igor Akkerman"},"score":0,"creation_date":1578154950,"post_id":54205486,"comment_id":105350280,"body_markdown":"Using JDK 13, @zarez&#39; solution works for me whereas disabling instrumenting agent doesn&#39;t","body":"Using JDK 13, @zarez&#39; solution works for me whereas disabling instrumenting agent doesn&#39;t"},{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":0,"creation_date":1685693696,"post_id":54205486,"comment_id":134699644,"body_markdown":"I have the same issue when running unit tests in IntelliJ IDEA, not only when debugging.","body":"I have the same issue when running unit tests in IntelliJ IDEA, not only when debugging."}],"answers":[{"tags":[],"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1559150059,"creation_date":1559150059,"answer_id":56365591,"question_id":54205486,"body_markdown":"For me, the issue occurred only when I ran in Docker, and when I used a java command line agent like the DataDog APM agent (`-javaagent:/dd-java-agent.jar`).\r\nWhen I ran in my JDK11 runtime environment (without the agent) I did not get the warnings.","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>For me, the issue occurred only when I ran in Docker, and when I used a java command line agent like the DataDog APM agent (<code>-javaagent:/dd-java-agent.jar</code>).\nWhen I ran in my JDK11 runtime environment (without the agent) I did not get the warnings.</p>\n"},{"tags":[],"owner":{"account_id":11664800,"reputation":171,"user_id":9796356,"display_name":"Zachary Daniel Ruffner"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1562034229,"creation_date":1562034229,"answer_id":56844527,"question_id":54205486,"body_markdown":"I had this issue after installing Java12 when trying to use the debugger with Intellij Idea. The solution that I found was to go into Setting and searching for async and unchecking the Instrumenting agent box. ","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>I had this issue after installing Java12 when trying to use the debugger with Intellij Idea. The solution that I found was to go into Setting and searching for async and unchecking the Instrumenting agent box. </p>\n"},{"tags":[],"owner":{"account_id":8130851,"reputation":2004,"user_id":6124193,"display_name":"Dave"},"down_vote_count":2,"up_vote_count":185,"is_accepted":true,"score":183,"last_activity_date":1574344121,"creation_date":1562249861,"answer_id":56889868,"question_id":54205486,"body_markdown":"I had this issue too after installing `jdk-12.0.1_windows-x64_bin.zip` when trying to use the debugger with IntelliJ IDEA. I was getting an error of (**Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended**). I found, too, going into Setting and search for async and unchecking the Instrumenting agent box. Worked for me!\r\n[![ASYNC settings][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/0ZO6l.png","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>I had this issue too after installing <code>jdk-12.0.1_windows-x64_bin.zip</code> when trying to use the debugger with IntelliJ IDEA. I was getting an error of (<strong>Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended</strong>). I found, too, going into Setting and search for async and unchecking the Instrumenting agent box. Worked for me!\n<a href=\"https://i.stack.imgur.com/0ZO6l.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0ZO6l.png\" alt=\"ASYNC settings\"></a></p>\n"},{"tags":[],"owner":{"account_id":1437036,"reputation":2669,"user_id":1358179,"display_name":"Martin"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1619015353,"creation_date":1568637344,"answer_id":57957031,"question_id":54205486,"body_markdown":"You can ignore this warning. It just means that class data sharing is disabled for classes not loaded by the bootstrap class loader.\r\n\r\nFrom [Improve Launch Times \\[…\\] With Application Class-Data Sharing][1]:\r\n\r\n&gt; The JVM loads some of the JDK classes with the bootstrap class loader\r\n&gt; and the rest with the system class loader, but includes all of them in\r\n&gt; its default archive. When IntelliJ executes your project, it tells the\r\n&gt; JVM to load some code with the bootstrap class loader by appending to\r\n&gt; that class path (second part of the message). Now, that means that the\r\n&gt; portion of the archive that contains classes loaded by the system\r\n&gt; class loader is potentially invalidated and so the JVM partially\r\n&gt; deactivates sharing (first part of the message).\r\n\r\nYou could disable class data sharing completely with `-Xshare:off`, but you would lose some performance.\r\n\r\n  [1]: https://nipafx.dev/java-application-class-data-sharing/","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>You can ignore this warning. It just means that class data sharing is disabled for classes not loaded by the bootstrap class loader.</p>\n<p>From <a href=\"https://nipafx.dev/java-application-class-data-sharing/\" rel=\"noreferrer\">Improve Launch Times […] With Application Class-Data Sharing</a>:</p>\n<blockquote>\n<p>The JVM loads some of the JDK classes with the bootstrap class loader\nand the rest with the system class loader, but includes all of them in\nits default archive. When IntelliJ executes your project, it tells the\nJVM to load some code with the bootstrap class loader by appending to\nthat class path (second part of the message). Now, that means that the\nportion of the archive that contains classes loaded by the system\nclass loader is potentially invalidated and so the JVM partially\ndeactivates sharing (first part of the message).</p>\n</blockquote>\n<p>You could disable class data sharing completely with <code>-Xshare:off</code>, but you would lose some performance.</p>\n"},{"tags":[],"owner":{"account_id":16967312,"reputation":1,"user_id":12272837,"display_name":"IL&#39;NAZ"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1571992752,"creation_date":1571992657,"answer_id":58555009,"question_id":54205486,"body_markdown":"Java version must be 9 or higher.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2AP4D.png\r\n\r\n","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Java version must be 9 or higher.</p>\n\n<p><img src=\"https://i.stack.imgur.com/2AP4D.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":15691426,"reputation":87,"user_id":11322387,"display_name":"Mustafa"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1574729574,"creation_date":1574729574,"answer_id":59042172,"question_id":54205486,"body_markdown":"For Intellij IDE -&gt; Settings/Preferences dialog ( Ctrl+Alt+S ), go to Build | Execution | Deployment | Debugger | Async -&gt; uncheck instrumenting agent","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>For Intellij IDE -> Settings/Preferences dialog ( Ctrl+Alt+S ), go to Build | Execution | Deployment | Debugger | Async -> uncheck instrumenting agent</p>\n"},{"tags":[],"owner":{"account_id":18604767,"reputation":27,"user_id":13558663,"display_name":"Arthur Rees"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1599909087,"creation_date":1599909087,"answer_id":63859714,"question_id":54205486,"body_markdown":"Today I found the same question as you.\r\nSituation: debug while set no breakpoint\r\nSolution: set at least one breakpoint before you click debug button!","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Today I found the same question as you.\nSituation: debug while set no breakpoint\nSolution: set at least one breakpoint before you click debug button!</p>\n"},{"tags":[],"owner":{"account_id":16774134,"reputation":17,"user_id":12125909,"display_name":"Ascar"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1610256720,"creation_date":1610120442,"answer_id":65632066,"question_id":54205486,"body_markdown":"If it is not critical you can change your jdk version. I&#39;ve changed from jdk14 to jdk 11. Hope it will work for you.","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>If it is not critical you can change your jdk version. I've changed from jdk14 to jdk 11. Hope it will work for you.</p>\n"},{"tags":[],"owner":{"account_id":8888700,"reputation":543,"user_id":6636122,"display_name":"BertKing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639211078,"creation_date":1610507424,"answer_id":65695140,"question_id":54205486,"body_markdown":"![Operation guide][1]\r\n\r\n1.Open the **Preferences** option;\r\n\r\n2.Find the **Build,Execution,Deployment** option; \r\n\r\n3.Enter the **Debugger --&gt; Async Stack Traces** ;\r\n\r\n4.Uncheck the **Instrumenting agent(requires debugger restart)** ;\r\n\r\n---\r\n\r\nPlease see this [for detailed information](https://www.jetbrains.com/help/idea/async-stacktraces.html).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o74bX.png","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p><img src=\"https://i.stack.imgur.com/o74bX.png\" alt=\"Operation guide\" /></p>\n<p>1.Open the <strong>Preferences</strong> option;</p>\n<p>2.Find the <strong>Build,Execution,Deployment</strong> option;</p>\n<p>3.Enter the <strong>Debugger --&gt; Async Stack Traces</strong> ;</p>\n<p>4.Uncheck the <strong>Instrumenting agent(requires debugger restart)</strong> ;</p>\n<hr />\n<p>Please see this <a href=\"https://www.jetbrains.com/help/idea/async-stacktraces.html\" rel=\"nofollow noreferrer\">for detailed information</a>.</p>\n"},{"tags":[],"owner":{"account_id":21319305,"reputation":1,"user_id":15692724,"display_name":"listenuptome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626353126,"creation_date":1626353126,"answer_id":68394104,"question_id":54205486,"body_markdown":"Got same problem, and tried to solve it as was written above. \r\n\r\nBut then i got another solution of problem without changing settings.\r\n\r\nPress mouse right button on your file where you put break point and want to debug. Then choose &quot;Debug *ur file name.method()*&quot;.\r\n\r\nDon&#39;t use debug button from tools window. Seems the problem is that Idea can&#39;t understand which file u want to debug.\r\n\r\nThat worked for me without changing async settings.\r\n\r\n[Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zfi0A.png","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Got same problem, and tried to solve it as was written above.</p>\n<p>But then i got another solution of problem without changing settings.</p>\n<p>Press mouse right button on your file where you put break point and want to debug. Then choose &quot;Debug <em>ur file name.method()</em>&quot;.</p>\n<p>Don't use debug button from tools window. Seems the problem is that Idea can't understand which file u want to debug.</p>\n<p>That worked for me without changing async settings.</p>\n<p><a href=\"https://i.stack.imgur.com/Zfi0A.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n"},{"tags":[],"owner":{"account_id":408478,"reputation":358,"user_id":779173,"display_name":"Greg Allen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661420942,"creation_date":1661420942,"answer_id":73485414,"question_id":54205486,"body_markdown":"Given this warning in IntelliJ is harmless (see https://stackoverflow.com/a/57957031/779173) you could just hide the line from your Console view by right-clicking on the line and selecting &quot;Fold Lines Like This&quot;\r\n\r\nHaving done this, you&#39;ll just see:\r\n\r\n```none\r\n&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe&quot; ... &lt;1 internal line&gt;\r\n```","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Given this warning in IntelliJ is harmless (see <a href=\"https://stackoverflow.com/a/57957031/779173\">https://stackoverflow.com/a/57957031/779173</a>) you could just hide the line from your Console view by right-clicking on the line and selecting &quot;Fold Lines Like This&quot;</p>\n<p>Having done this, you'll just see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe&quot; ... &lt;1 internal line&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323221,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700151210,"creation_date":1700151210,"answer_id":77496400,"question_id":54205486,"body_markdown":"Using gradle, you can turn sharing off:\r\n\r\n    tasks.test {\r\n        //kotlin\r\n        jvmArgs = listOf(&quot;-Xshare:off&quot;)\r\n        //groovy\r\n        jvmArgs &quot;-Xshare:off&#39;&quot;;\r\n    }","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Using gradle, you can turn sharing off:</p>\n<pre><code>tasks.test {\n    //kotlin\n    jvmArgs = listOf(&quot;-Xshare:off&quot;)\n    //groovy\n    jvmArgs &quot;-Xshare:off'&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":9573991,"reputation":11925,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211263,"favorite_count":0,"down_vote_count":0,"up_vote_count":191,"accepted_answer_id":56889868,"answer_count":12,"score":191,"last_activity_date":1700151210,"creation_date":1547579905,"question_id":54205486,"body_markdown":"Recently I switched to the Java 11 and start to debug my app and saw this message:\r\n\r\n&gt; OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot\r\n&gt; loader classes because bootstrap classpath has been appended\r\n\r\nFound only [this commit][1] and [ticket][2], but it doesn&#39;t tell me much. \r\n\r\nDo I need to worry about it?\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk/jdk/rev/18fba780c1d1\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8203031","title":"How to avoid &quot;Sharing is only supported for boot loader classes because bootstrap classpath has been appended&quot; warning during debug with Java 11?","body":"<p>Recently I switched to the Java 11 and start to debug my app and saw this message:</p>\n\n<blockquote>\n  <p>OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot\n  loader classes because bootstrap classpath has been appended</p>\n</blockquote>\n\n<p>Found only <a href=\"http://hg.openjdk.java.net/jdk/jdk/rev/18fba780c1d1\" rel=\"noreferrer\">this commit</a> and <a href=\"https://bugs.openjdk.java.net/browse/JDK-8203031\" rel=\"noreferrer\">ticket</a>, but it doesn't tell me much. </p>\n\n<p>Do I need to worry about it?</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":5742767,"reputation":9235,"user_id":4534923,"display_name":"Paulo"},"score":0,"creation_date":1700151662,"post_id":77496394,"comment_id":136622047,"body_markdown":"This is a documented behaviour from elasticsearch : https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#terms-agg-doc-count-error","body":"This is a documented behaviour from elasticsearch : <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#terms-agg-doc-count-error\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a>"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1700153291,"post_id":77496394,"comment_id":136622364,"body_markdown":"Do you mind sharing the raw result of the aggregation query with two different counts?","body":"Do you mind sharing the raw result of the aggregation query with two different counts?"}],"owner":{"account_id":17302009,"reputation":115,"user_id":12531578,"display_name":"DanTe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700151179,"creation_date":1700151179,"question_id":77496394,"body_markdown":"I&#39;m encountering an issue with Elasticsearch version &quot;8.4.1&quot; in a dashboard that displays current active users, new users, and the total number of messages. \r\nThe data is tracked for the past two months, from May to August.\r\n\r\nThe problem lies in the inconsistency of the new users count. For instance, in July, the count was `1902`, but upon retesting yesterday, it&#39;s showing `1903`. The same inconsistency is observed in August, where the count was `3894`, but now it&#39;s `3899`.\r\n\r\nThe other counts are consistent(total messages, active users).  \r\nI&#39;m using the same logic to retrieve active users count, with the only difference being the field used for the date range. I use `created_date` for new users and `dateTime` for active users. Both fields are of the same type:\r\n\r\n    &quot;created_date&quot;: {\r\n    &quot;type&quot;: &quot;date_nanos&quot;,\r\n    &quot;store&quot;: true,\r\n    &quot;format&quot;: &quot;date_optional_time&quot; }\r\n\r\nBelow is the Java code snippet I&#39;m using to fetch the new users count:\r\n\r\n    private Terms getNewUsersTerms(Integer botId, String from, String to) {\r\n    try {\r\n        RestHighLevelClient client = getElasticClient(botId);\r\n\r\n        AggregationBuilder aggregationBuilder = AggregationBuilders.terms(&quot;uniqueIds&quot;).field(&quot;currentState.user.id&quot;).size(Integer.MAX_VALUE);\r\n\r\n        QueryBuilder queryBuilder = QueryBuilders.boolQuery()\r\n            .must(QueryBuilders.matchAllQuery())\r\n            .filter(QueryBuilders.rangeQuery(&quot;currentState.created_date&quot;).gte(&quot;2023-08-01&quot;).lte(&quot;2023-08-31&quot;));\r\n\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\r\n            .aggregation(aggregationBuilder)\r\n            .query(queryBuilder).size(0);\r\n\r\n        SearchRequest searchRequest = new SearchRequest(botId + INDEX_POSTFIX)\r\n            .source(searchSourceBuilder);\r\n\r\n        SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n        return searchResponse.getAggregations().get(&quot;uniqueIds&quot;);\r\n    } catch (Exception e) {\r\n        logger.warn(e.getMessage(), e);\r\n        return null;\r\n    }}\r\n\r\nI&#39;m seeking guidance on what might be missing in my approach and what steps I can take to identify and resolve this inconsistency issue. Any help would be greatly appreciated!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Inconsistent Results for New Users Count in Elasticsearch Dashboard","body":"<p>I'm encountering an issue with Elasticsearch version &quot;8.4.1&quot; in a dashboard that displays current active users, new users, and the total number of messages.\nThe data is tracked for the past two months, from May to August.</p>\n<p>The problem lies in the inconsistency of the new users count. For instance, in July, the count was <code>1902</code>, but upon retesting yesterday, it's showing <code>1903</code>. The same inconsistency is observed in August, where the count was <code>3894</code>, but now it's <code>3899</code>.</p>\n<p>The other counts are consistent(total messages, active users).<br />\nI'm using the same logic to retrieve active users count, with the only difference being the field used for the date range. I use <code>created_date</code> for new users and <code>dateTime</code> for active users. Both fields are of the same type:</p>\n<pre><code>&quot;created_date&quot;: {\n&quot;type&quot;: &quot;date_nanos&quot;,\n&quot;store&quot;: true,\n&quot;format&quot;: &quot;date_optional_time&quot; }\n</code></pre>\n<p>Below is the Java code snippet I'm using to fetch the new users count:</p>\n<pre><code>private Terms getNewUsersTerms(Integer botId, String from, String to) {\ntry {\n    RestHighLevelClient client = getElasticClient(botId);\n\n    AggregationBuilder aggregationBuilder = AggregationBuilders.terms(&quot;uniqueIds&quot;).field(&quot;currentState.user.id&quot;).size(Integer.MAX_VALUE);\n\n    QueryBuilder queryBuilder = QueryBuilders.boolQuery()\n        .must(QueryBuilders.matchAllQuery())\n        .filter(QueryBuilders.rangeQuery(&quot;currentState.created_date&quot;).gte(&quot;2023-08-01&quot;).lte(&quot;2023-08-31&quot;));\n\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\n        .aggregation(aggregationBuilder)\n        .query(queryBuilder).size(0);\n\n    SearchRequest searchRequest = new SearchRequest(botId + INDEX_POSTFIX)\n        .source(searchSourceBuilder);\n\n    SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n    return searchResponse.getAggregations().get(&quot;uniqueIds&quot;);\n} catch (Exception e) {\n    logger.warn(e.getMessage(), e);\n    return null;\n}}\n</code></pre>\n<p>I'm seeking guidance on what might be missing in my approach and what steps I can take to identify and resolve this inconsistency issue. Any help would be greatly appreciated!</p>\n"},{"tags":["java","char"],"comments":[{"owner":{"account_id":1844797,"reputation":57363,"user_id":1673391,"accept_rate":88,"display_name":"Grijesh Chauhan"},"score":1,"creation_date":1371308952,"post_id":17124992,"comment_id":24780329,"body_markdown":"`x` is a char and Unicode value of `&#39;B&#39;` = Unicode value of `&#39;A&#39;` + 1","body":"<code>x</code> is a char and Unicode value of <code>&#39;B&#39;</code> = Unicode value of <code>&#39;A&#39;</code> + 1"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1371308958,"post_id":17124992,"comment_id":24780331,"body_markdown":"You are adding the int to the ASCII code of the char, not to the char itself.","body":"You are adding the int to the ASCII code of the char, not to the char itself."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":7,"creation_date":1371309180,"post_id":17124992,"comment_id":24780387,"body_markdown":"I wish we can get rid of the term _ASCII_ in the context of Java.  Java has been around since 1995 and has been using Unicode the whole time. #Grumpymorning.","body":"I wish we can get rid of the term <i>ASCII</i> in the context of Java.  Java has been around since 1995 and has been using Unicode the whole time. #Grumpymorning."},{"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1371310982,"post_id":17124992,"comment_id":24780811,"body_markdown":"Try this one `x *= 1.1;` which compiles too. ;)","body":"Try this one <code>x *= 1.1;</code> which compiles too. ;)"},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":2,"creation_date":1371369492,"post_id":17124992,"comment_id":24791315,"body_markdown":"The quoted program does not compile. It has two errors, a missing &quot;;&quot;, and the need to cast the result of the increment back to char.","body":"The quoted program does not compile. It has two errors, a missing &quot;;&quot;, and the need to cast the result of the increment back to char."},{"owner":{"account_id":3814914,"reputation":1785,"user_id":3164492,"accept_rate":71,"display_name":"Devavrata"},"score":1,"creation_date":1411844407,"post_id":17124992,"comment_id":40860582,"body_markdown":"This code will give error about `possible loss of precision`.","body":"This code will give error about <code>possible loss of precision</code>."}],"answers":[{"tags":[],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371309314,"creation_date":1371308934,"answer_id":17125001,"question_id":17124992,"body_markdown":"Because type char effectively works like a 16-bit unsigned int. \r\n\r\nSo setting `char x=&#39;A&#39;` is almost equivalent to `int x=65`  When you add one; you get 66; or ASCII &#39;B&#39;.","title":"Incrementing Char Type In Java","body":"<p>Because type char effectively works like a 16-bit unsigned int. </p>\n\n<p>So setting <code>char x='A'</code> is almost equivalent to <code>int x=65</code>  When you add one; you get 66; or ASCII 'B'.</p>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1371309323,"creation_date":1371308938,"answer_id":17125002,"question_id":17124992,"body_markdown":"`char` _is_ a numeric type (2 bytes long), and is also the only unsigned numeric primitive type in Java.\r\n\r\nYou can also do:\r\n\r\n    int foo = &#39;A&#39;;\r\n\r\nWhat is special here is that you initialize the `char` with a _character constant_ instead of a number. What is also special about it is its string representation, as you could witness. You can use `Character.digit(c, 10)` to get its numeric value (as an `int`, since 2 ^ 16 - 1 is not representable by a `short`!).","title":"Incrementing Char Type In Java","body":"<p><code>char</code> <em>is</em> a numeric type (2 bytes long), and is also the only unsigned numeric primitive type in Java.</p>\n\n<p>You can also do:</p>\n\n<pre><code>int foo = 'A';\n</code></pre>\n\n<p>What is special here is that you initialize the <code>char</code> with a <em>character constant</em> instead of a number. What is also special about it is its string representation, as you could witness. You can use <code>Character.digit(c, 10)</code> to get its numeric value (as an <code>int</code>, since 2 ^ 16 - 1 is not representable by a <code>short</code>!).</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717165,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":1,"up_vote_count":55,"is_accepted":true,"score":54,"last_activity_date":1488826761,"creation_date":1371308941,"answer_id":17125003,"question_id":17124992,"body_markdown":"In Java, `char` is a numeric type. When you add `1` to a `char`, you get to the next [*unicode code point*][1]. In case of `&#39;A&#39;`, the next code point is `&#39;B&#39;`:\r\n\r\n    char x=&#39;A&#39;;\r\n    x+=1;\r\n    System.out.println(x);\r\n\r\nNote that you cannot use `x=x+1` because it causes an implicit narrowing conversion. You need to use either `x++` or `x+=1` instead.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Code_point","title":"Incrementing Char Type In Java","body":"<p>In Java, <code>char</code> is a numeric type. When you add <code>1</code> to a <code>char</code>, you get to the next <a href=\"http://en.wikipedia.org/wiki/Code_point\" rel=\"noreferrer\"><em>unicode code point</em></a>. In case of <code>'A'</code>, the next code point is <code>'B'</code>:</p>\n\n<pre><code>char x='A';\nx+=1;\nSystem.out.println(x);\n</code></pre>\n\n<p>Note that you cannot use <code>x=x+1</code> because it causes an implicit narrowing conversion. You need to use either <code>x++</code> or <code>x+=1</code> instead.</p>\n"},{"tags":[],"owner":{"display_name":"user1300630"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460222861,"creation_date":1371308945,"answer_id":17125004,"question_id":17124992,"body_markdown":"Each `char` has a character code. The computer sees a character as an unsigned number, so you can increment it.","title":"Incrementing Char Type In Java","body":"<p>Each <code>char</code> has a character code. The computer sees a character as an unsigned number, so you can increment it.</p>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371308970,"creation_date":1371308970,"answer_id":17125010,"question_id":17124992,"body_markdown":"A `char` in Java is just an integer number, so it&#39;s ok to increment/decrement it. Each char number has a corresponding value, an _interpretation_ of it as a character, by virtue of a conversion table: be it the ASCII encoding, or the UTF-8 encoding, etc.\r\n\r\nCome to think of it, every data in a computer - images, music, programs, etc. are just numbers. A simple character is no exception, it&#39;s _encoded_ or _codified_ as a number, too.","title":"Incrementing Char Type In Java","body":"<p>A <code>char</code> in Java is just an integer number, so it's ok to increment/decrement it. Each char number has a corresponding value, an <em>interpretation</em> of it as a character, by virtue of a conversion table: be it the ASCII encoding, or the UTF-8 encoding, etc.</p>\n\n<p>Come to think of it, every data in a computer - images, music, programs, etc. are just numbers. A simple character is no exception, it's <em>encoded</em> or <em>codified</em> as a number, too.</p>\n"},{"tags":[],"owner":{"account_id":2644552,"reputation":4952,"user_id":2287538,"accept_rate":62,"display_name":"Rahul Bobhate"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371309240,"creation_date":1371309240,"answer_id":17125050,"question_id":17124992,"body_markdown":"`char` are stored as 2 byte unicode values in Java. So if `char x = &#39;A&#39;`, it means that `A` is stored in the unicode format. And in unicode format, every character is represented as an integer. So when you say `x= x+1`, it actually increments the unicode value of the `A`, which prints `B`.","title":"Incrementing Char Type In Java","body":"<p><code>char</code> are stored as 2 byte unicode values in Java. So if <code>char x = 'A'</code>, it means that <code>A</code> is stored in the unicode format. And in unicode format, every character is represented as an integer. So when you say <code>x= x+1</code>, it actually increments the unicode value of the <code>A</code>, which prints <code>B</code>.</p>\n"},{"tags":[],"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1371309659,"creation_date":1371309246,"answer_id":17125052,"question_id":17124992,"body_markdown":"\r\n\r\n\r\n\r\nThis is the equivalent program of your program:\r\n\r\n    public class Tester {\r\n        public static void main(String args[]){\r\n    \t\t     char start=&#39;\\u0041&#39;;\r\n    \t\t     char next=&#39;\\u0041&#39;+1;\r\n    \t\t     System.out.println(next);\r\n    \t}\r\n    }\r\n\r\nBut as you see, `next=start+1`, will not work. That&#39;s the way java handles. \r\n\r\nThe reason could be that we may accidentally use `start`, with integer `1` thinking that `start` is an `int` variables and use that expression. Since, java is so strict about minimizing logical errors. They designed it that way I think.\r\n\r\nBut, when you do, `char next=&#39;\\u0041&#39;+1;` it&#39;s clear that `&#39;\\u0041&#39;` is a character and `1` will be implicitly converted into a 2 byte. This no mistake could be done by a programmer. May be that&#39;s the reason they have allowed it.\r\n\r\n`char` is 2 bytes in java. `char` supports `unicode` characters. When you add or subtract a char var with an offset integer, the equivalent `unicode` character in the unicode table will result. Since, `B` is next to `A`, you got `B`.\r\n       \r\n","title":"Incrementing Char Type In Java","body":"<p>This is the equivalent program of your program:</p>\n\n<pre><code>public class Tester {\n    public static void main(String args[]){\n             char start='\\u0041';\n             char next='\\u0041'+1;\n             System.out.println(next);\n    }\n}\n</code></pre>\n\n<p>But as you see, <code>next=start+1</code>, will not work. That's the way java handles. </p>\n\n<p>The reason could be that we may accidentally use <code>start</code>, with integer <code>1</code> thinking that <code>start</code> is an <code>int</code> variables and use that expression. Since, java is so strict about minimizing logical errors. They designed it that way I think.</p>\n\n<p>But, when you do, <code>char next='\\u0041'+1;</code> it's clear that <code>'\\u0041'</code> is a character and <code>1</code> will be implicitly converted into a 2 byte. This no mistake could be done by a programmer. May be that's the reason they have allowed it.</p>\n\n<p><code>char</code> is 2 bytes in java. <code>char</code> supports <code>unicode</code> characters. When you add or subtract a char var with an offset integer, the equivalent <code>unicode</code> character in the unicode table will result. Since, <code>B</code> is next to <code>A</code>, you got <code>B</code>.</p>\n"},{"tags":[],"owner":{"account_id":2775794,"reputation":869,"user_id":2389405,"accept_rate":100,"display_name":"RvanHeest"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1371309443,"creation_date":1371309443,"answer_id":17125079,"question_id":17124992,"body_markdown":"A `char` is in fact mapped to an `int`, look at the [Ascii Table][1].\r\n\r\nFor example: a capital A corresponds to the decimal number 65. When you are adding 1 to that `char`, you basicly increment the decimal number by 1. So the number becomes 66, which corresponds to the capital B.\r\n\r\n\r\n  [1]: http://www.asciitable.com/","title":"Incrementing Char Type In Java","body":"<p>A <code>char</code> is in fact mapped to an <code>int</code>, look at the <a href=\"http://www.asciitable.com/\" rel=\"noreferrer\">Ascii Table</a>.</p>\n\n<p>For example: a capital A corresponds to the decimal number 65. When you are adding 1 to that <code>char</code>, you basicly increment the decimal number by 1. So the number becomes 66, which corresponds to the capital B.</p>\n"},{"tags":[],"owner":{"account_id":6334513,"reputation":51,"user_id":4918360,"display_name":"Omar Aldawud"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1457125289,"creation_date":1457125289,"answer_id":35805945,"question_id":17124992,"body_markdown":"you have to type cast the result after adding using parenthesis like this:\r\n\r\n    x=&#39;A&#39;;\r\n    x = (char) (x+1);\r\n\r\nelse you will get loose of data error.\r\n","title":"Incrementing Char Type In Java","body":"<p>you have to type cast the result after adding using parenthesis like this:</p>\n\n<pre><code>x='A';\nx = (char) (x+1);\n</code></pre>\n\n<p>else you will get loose of data error.</p>\n"},{"tags":[],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582688598,"creation_date":1582688598,"answer_id":60406423,"question_id":17124992,"body_markdown":"in case you want it to be just a-z.\r\n\r\n    private char getNextChar(char c) {\r\n        return (char)((c + 1 - &#39;a&#39;) % (&#39;z&#39; - &#39;a&#39; + 1) + &#39;a&#39;);\r\n    }\r\nthis avoids it overflows.","title":"Incrementing Char Type In Java","body":"<p>in case you want it to be just a-z.</p>\n\n<pre><code>private char getNextChar(char c) {\n    return (char)((c + 1 - 'a') % ('z' - 'a' + 1) + 'a');\n}\n</code></pre>\n\n<p>this avoids it overflows.</p>\n"},{"tags":[],"owner":{"account_id":26678706,"reputation":1,"user_id":20288971,"display_name":"Darkrai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700150825,"creation_date":1693056919,"answer_id":76983212,"question_id":17124992,"body_markdown":"In some languages such as Java, the characters are converted into integers based on their ASCII values. Therefore such operations can be performed.\r\n \r\n```java\r\nchar inp =&#39;A&#39;;\r\ninp +=1;\r\nSystem.out.println(inp);     //Output = B\r\n```\r\n","title":"Incrementing Char Type In Java","body":"<p>In some languages such as Java, the characters are converted into integers based on their ASCII values. Therefore such operations can be performed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char inp ='A';\ninp +=1;\nSystem.out.println(inp);     //Output = B\n</code></pre>\n"}],"owner":{"account_id":2870572,"reputation":487,"user_id":2464018,"accept_rate":100,"display_name":"Mahesh Nadar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124125,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":17125003,"answer_count":11,"score":36,"last_activity_date":1700150825,"creation_date":1371308808,"question_id":17124992,"body_markdown":"While practicing Java I randomly came up with this:\r\n\r\n    class test\r\n    {\r\n        public static void main(String arg[])\r\n        {\r\n            char x=&#39;A&#39;;\r\n            x=x+1;\r\n            System.out.println(x);\r\n        }\r\n    }\r\n\r\nI thought it will throw an error because we can&#39;t add the numeric value `1` to the letter `A` in mathematics, but the following program runs correctly and prints \r\n\r\n    B \r\n\r\nHow is that possible?","title":"Incrementing Char Type In Java","body":"<p>While practicing Java I randomly came up with this:</p>\n\n<pre><code>class test\n{\n    public static void main(String arg[])\n    {\n        char x='A';\n        x=x+1;\n        System.out.println(x);\n    }\n}\n</code></pre>\n\n<p>I thought it will throw an error because we can't add the numeric value <code>1</code> to the letter <code>A</code> in mathematics, but the following program runs correctly and prints </p>\n\n<pre><code>B \n</code></pre>\n\n<p>How is that possible?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700170151,"post_id":77496314,"comment_id":136625084,"body_markdown":"It seems that your function getImageWithMeasures(boolean, boolean) is taking a long time to be executed and return a bitmap - try to run it in worker thread and send result to main thread, and while it will be executed you can show some progress bar - so the user can understand that there is some action is being processed\nYou can do that with RxJava - Coroutines (in Kotlin) \\","body":"It seems that your function getImageWithMeasures(boolean, boolean) is taking a long time to be executed and return a bitmap - try to run it in worker thread and send result to main thread, and while it will be executed you can show some progress bar - so the user can understand that there is some action is being processed You can do that with RxJava - Coroutines (in Kotlin) \\"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700150481,"creation_date":1700150481,"question_id":77496314,"body_markdown":"I have an ANR &quot;Broadcast of Intent { act=android.intent.action.SCREEN_OFF }&quot; on the following line of code :\r\n\r\n     paint.getTextBounds(text, 0, text.length(), bounds);\r\n\r\nThis line of code is executed in the method getImageWithMeasures launched like this:\r\n\r\n     HelloArActivity.this.runOnUiThread(new Runnable() {\r\n    \r\n                    public void run() {\r\n    \r\n    \r\n                        Bitmap bm = getImageWithMeasures(true, true);\r\n\r\n\r\nI think that this ANR makes my app crashing.\r\n\r\nAny idea how to solve this issue?\r\n\r\nThanks !","title":"Android: ANR &quot;Broadcast of Intent { act=android.intent.action.SCREEN_OFF }&quot; on paint.getTextBounds","body":"<p>I have an ANR &quot;Broadcast of Intent { act=android.intent.action.SCREEN_OFF }&quot; on the following line of code :</p>\n<pre><code> paint.getTextBounds(text, 0, text.length(), bounds);\n</code></pre>\n<p>This line of code is executed in the method getImageWithMeasures launched like this:</p>\n<pre><code> HelloArActivity.this.runOnUiThread(new Runnable() {\n\n                public void run() {\n\n\n                    Bitmap bm = getImageWithMeasures(true, true);\n</code></pre>\n<p>I think that this ANR makes my app crashing.</p>\n<p>Any idea how to solve this issue?</p>\n<p>Thanks !</p>\n"},{"tags":["java","gradle","build","fortify","jstack"],"comments":[{"owner":{"account_id":2476656,"reputation":403,"user_id":5585970,"display_name":"Sekhar Routray"},"score":0,"creation_date":1579026280,"post_id":59739523,"comment_id":105627921,"body_markdown":"Another tidbit I discovered is the gradle build integrated with Fortify runs successfully on a windows machine but not on a linux machine.","body":"Another tidbit I discovered is the gradle build integrated with Fortify runs successfully on a windows machine but not on a linux machine."},{"owner":{"account_id":1259154,"reputation":2738,"user_id":1236128,"accept_rate":86,"display_name":"Jonathan Komar"},"score":0,"creation_date":1593423873,"post_id":59739523,"comment_id":110766215,"body_markdown":"Same issue using the `nebula.rpm` plugin.","body":"Same issue using the <code>nebula.rpm</code> plugin."},{"owner":{"account_id":215206,"reputation":1447,"user_id":469679,"accept_rate":67,"display_name":"Federico Nafria"},"score":1,"creation_date":1604436542,"post_id":59739523,"comment_id":114346697,"body_markdown":"Do you by any chance have `GRADLE_HOME` directory on nfs?","body":"Do you by any chance have <code>GRADLE_HOME</code> directory on nfs?"},{"owner":{"account_id":2476656,"reputation":403,"user_id":5585970,"display_name":"Sekhar Routray"},"score":0,"creation_date":1605012707,"post_id":59739523,"comment_id":114517841,"body_markdown":"Didn&#39;t get what you meant by nfs. But I did add the GRADLE_HOME to the path variable in Win 10 and my linux box.","body":"Didn&#39;t get what you meant by nfs. But I did add the GRADLE_HOME to the path variable in Win 10 and my linux box."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1665243890,"post_id":59739523,"comment_id":130656505,"body_markdown":"any chance you have lower memory and cpu configuration at your linux machine than your windows one?\nyou can check cpu usage and memory usage on linux machine if there is any contention.","body":"any chance you have lower memory and cpu configuration at your linux machine than your windows one? you can check cpu usage and memory usage on linux machine if there is any contention."},{"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"score":0,"creation_date":1700154885,"post_id":59739523,"comment_id":136622672,"body_markdown":"Simplify your run by disabling gradle daemon as well as caching. Does --no-daemon and --no-build-cache options make any difference?","body":"Simplify your run by disabling gradle daemon as well as caching. Does --no-daemon and --no-build-cache options make any difference?"}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700150404,"creation_date":1700150404,"answer_id":77496304,"question_id":59739523,"body_markdown":"So the thread dump is really a tool for the developer(s) to look at.  Users (even other software developers like you and me) wouldn&#39;t be able to really debug the issue from it without knowing the code base. It&#39;s good that you included it so if a more knowledgeable person comes along they could give us some insight. \r\n\r\nThat being said if you&#39;ve used the thread dump before in your own projects you can begin to see what might be happening.  Again I&#39;m not a gradle dev so take this with a grain of salt.  But essentially we&#39;re really only interested in threads with a state of `WAITING (on object monitor)`.  And there are only 4 of those.  `Finalizer`, `Common Cleaner`, `Daemon #20` and an Execution Worker.  `Finalizer` and `Common Cleaner` aren&#39;t doing any work so they can be ignored.  The `Daemon #20` seems to be a gradle daemon thread that kicked off the gradle script so it&#39;s just waiting for the script to finish which is expected.  So that leaves the Execution Worker which looks like this:\r\n\r\n```\r\n&quot;Execution worker for &#39;:&#39;&quot; #42 prio=5 os_prio=0 cpu=2818.31ms elapsed=196.05s tid=0x00007f9358702800 nid=0x16cfe in Object.wait()  [0x00007f93428f1000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(java.base@11.0.5/Native Method)\r\n\t- waiting on &lt;0x00000000ea1d41f8&gt; (a java.lang.ProcessImpl)\r\n\tat java.lang.Object.wait(java.base@11.0.5/Object.java:328)\r\n\tat java.lang.ProcessImpl.waitFor(java.base@11.0.5/ProcessImpl.java:495)\r\n\t- waiting to re-lock in wait() &lt;0x00000000ea1d41f8&gt; (a java.lang.ProcessImpl)\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@11.0.5/Native Method)\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@11.0.5/NativeMethodAccessorImpl.java:62)\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@11.0.5/DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(java.base@11.0.5/Method.java:566)\r\n```\r\n\r\nThe interesting part is `java.lang.ProcessImpl.waitFor` so it appears that gradle is just waiting for an external process to finish.  This doesn&#39;t appear to be a deadlock situation or any exotic locking issue which is good news.  Basically the HP tool is just running and not finishing.  And suddenly `halting problem` becomes all too real.  Is it going to finish or is it hung?  We can&#39;t know.\r\n\r\nBut what I&#39;d do is look at the `top` output on Linux, and find the process that gradle kicked off (ie the HP process).  Is the CPU usage bouncing around for that process?  Then maybe it&#39;s just doing stuff that takes a while, be patient, let it run, and see if it finishes.  If it&#39;s not running then you got a bigger problem.  I bet that on Linux the HPI software is trying to scan something that it shouldn&#39;t, and maybe this a config issue or difference between Linux vs Windows.  Total speculation, but just my gut feel on this.\r\n\r\nWhat my next move might be would be to see if I can manually run the tool on Linux outside of gradle.  What we found from the dump is that gradle doesn&#39;t seem to be contributing to the issue so let&#39;s isolate the HP tool and see if we can get more error messages or something from it.  Some things to consider:\r\n\r\n - Is gradle giving it enough memory to run?  If the executable you run manually is different than Gradle&#39;s it could be a difference in configuration in Linux vs Windows possibly.\r\n - Is there a gradle plugin for the HP tool involved and is there some config option you need to configure on Linux?\r\n - Is there enough available memory for the HP tool AND gradle to run on the Linux box?  Maybe your linux boxes upper memory limit is different than your Windows box.  If you can spin up a bigger box maybe that&#39;ll fix Linux.\r\n\r\nI don&#39;t have a complete answer today for you so just a strategy for you to figure this one out.  Good luck.","title":"Gradle build stuck at &quot;Waiting to acquire shared lock on daemon addresses registry.&quot;","body":"<p>So the thread dump is really a tool for the developer(s) to look at.  Users (even other software developers like you and me) wouldn't be able to really debug the issue from it without knowing the code base. It's good that you included it so if a more knowledgeable person comes along they could give us some insight.</p>\n<p>That being said if you've used the thread dump before in your own projects you can begin to see what might be happening.  Again I'm not a gradle dev so take this with a grain of salt.  But essentially we're really only interested in threads with a state of <code>WAITING (on object monitor)</code>.  And there are only 4 of those.  <code>Finalizer</code>, <code>Common Cleaner</code>, <code>Daemon #20</code> and an Execution Worker.  <code>Finalizer</code> and <code>Common Cleaner</code> aren't doing any work so they can be ignored.  The <code>Daemon #20</code> seems to be a gradle daemon thread that kicked off the gradle script so it's just waiting for the script to finish which is expected.  So that leaves the Execution Worker which looks like this:</p>\n<pre><code>&quot;Execution worker for ':'&quot; #42 prio=5 os_prio=0 cpu=2818.31ms elapsed=196.05s tid=0x00007f9358702800 nid=0x16cfe in Object.wait()  [0x00007f93428f1000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(java.base@11.0.5/Native Method)\n    - waiting on &lt;0x00000000ea1d41f8&gt; (a java.lang.ProcessImpl)\n    at java.lang.Object.wait(java.base@11.0.5/Object.java:328)\n    at java.lang.ProcessImpl.waitFor(java.base@11.0.5/ProcessImpl.java:495)\n    - waiting to re-lock in wait() &lt;0x00000000ea1d41f8&gt; (a java.lang.ProcessImpl)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@11.0.5/Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@11.0.5/NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@11.0.5/DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(java.base@11.0.5/Method.java:566)\n</code></pre>\n<p>The interesting part is <code>java.lang.ProcessImpl.waitFor</code> so it appears that gradle is just waiting for an external process to finish.  This doesn't appear to be a deadlock situation or any exotic locking issue which is good news.  Basically the HP tool is just running and not finishing.  And suddenly <code>halting problem</code> becomes all too real.  Is it going to finish or is it hung?  We can't know.</p>\n<p>But what I'd do is look at the <code>top</code> output on Linux, and find the process that gradle kicked off (ie the HP process).  Is the CPU usage bouncing around for that process?  Then maybe it's just doing stuff that takes a while, be patient, let it run, and see if it finishes.  If it's not running then you got a bigger problem.  I bet that on Linux the HPI software is trying to scan something that it shouldn't, and maybe this a config issue or difference between Linux vs Windows.  Total speculation, but just my gut feel on this.</p>\n<p>What my next move might be would be to see if I can manually run the tool on Linux outside of gradle.  What we found from the dump is that gradle doesn't seem to be contributing to the issue so let's isolate the HP tool and see if we can get more error messages or something from it.  Some things to consider:</p>\n<ul>\n<li>Is gradle giving it enough memory to run?  If the executable you run manually is different than Gradle's it could be a difference in configuration in Linux vs Windows possibly.</li>\n<li>Is there a gradle plugin for the HP tool involved and is there some config option you need to configure on Linux?</li>\n<li>Is there enough available memory for the HP tool AND gradle to run on the Linux box?  Maybe your linux boxes upper memory limit is different than your Windows box.  If you can spin up a bigger box maybe that'll fix Linux.</li>\n</ul>\n<p>I don't have a complete answer today for you so just a strategy for you to figure this one out.  Good luck.</p>\n"}],"owner":{"account_id":2476656,"reputation":403,"user_id":5585970,"display_name":"Sekhar Routray"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6060,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":1,"score":29,"last_activity_date":1700150404,"creation_date":1579025507,"question_id":59739523,"body_markdown":"I&#39;m currently using HP Fortify tool to scan for security vulnerabilities in a project. At the time of scanning Fortify&#39;s CLI allows build tools to integrate into its CLI commands so as to build and simultaneously scan the files present in the project. I&#39;m using the below command:\r\n\r\n```sourceanalyzer -b mcapbookvalue -gradle -verbose ./gradlew -x test --console=verbose -debug --continue assemble```\r\n\r\nBut the build is getting stuck at:\r\n\r\n```\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\u001B[0K\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire shared lock on daemon addresses registry.\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\r\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\r\n```\r\n\r\nThe build is successful if I&#39;m building the project without using Fortify&#39;s command integrated, only with:\r\n\r\n```./gradlew -x test --console=verbose -debug --continue assemble```\r\n\r\nI&#39;m not able to figure out why the gradle build is getting stuck. And reading and understanding what is happening in the thread dump log is beyond me.\r\n\r\nThread dump(jstack log): &lt;https://drive.google.com/file/d/13b6vdDGCWoke7McM_FJROVOkvTaRGqem/view?usp=sharing&gt;\r\n\r\nIt would be great if any help is received.\r\n\r\nThanks in advance.","title":"Gradle build stuck at &quot;Waiting to acquire shared lock on daemon addresses registry.&quot;","body":"<p>I'm currently using HP Fortify tool to scan for security vulnerabilities in a project. At the time of scanning Fortify's CLI allows build tools to integrate into its CLI commands so as to build and simultaneously scan the files present in the project. I'm using the below command:</p>\n\n<p><code>sourceanalyzer -b mcapbookvalue -gradle -verbose ./gradlew -x test --console=verbose -debug --continue assemble</code></p>\n\n<p>But the build is getting stuck at:</p>\n\n<pre><code>2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.[0K\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire shared lock on daemon addresses registry.\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\n2020-01-14T12:31:39.836-0500 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\n</code></pre>\n\n<p>The build is successful if I'm building the project without using Fortify's command integrated, only with:</p>\n\n<p><code>./gradlew -x test --console=verbose -debug --continue assemble</code></p>\n\n<p>I'm not able to figure out why the gradle build is getting stuck. And reading and understanding what is happening in the thread dump log is beyond me.</p>\n\n<p>Thread dump(jstack log): <a href=\"https://drive.google.com/file/d/13b6vdDGCWoke7McM_FJROVOkvTaRGqem/view?usp=sharing\" rel=\"noreferrer\">https://drive.google.com/file/d/13b6vdDGCWoke7McM_FJROVOkvTaRGqem/view?usp=sharing</a></p>\n\n<p>It would be great if any help is received.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-security","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":12937317,"reputation":77,"user_id":9354242,"display_name":"Meini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700150071,"creation_date":1700150071,"answer_id":77496255,"question_id":77488284,"body_markdown":"In the depth of spring I found out that the parameter name of the method which was retrieved by reflection was &#39;arg0&#39;, so it couldn&#39;t be mapped to the &#39;#request&#39; literal in the spEL expression. I compiled with the compiler arg -parameter which preserves the parameter names and now everything works fine.\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${java-version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java-version}&lt;/target&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n               \t \t\t&lt;arg&gt;-parameters&lt;/arg&gt; &lt;---- this did the magic\r\n               \t \t&lt;/compilerArgs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"@PreAuthorize with spEL not working in Graal native image","body":"<p>In the depth of spring I found out that the parameter name of the method which was retrieved by reflection was 'arg0', so it couldn't be mapped to the '#request' literal in the spEL expression. I compiled with the compiler arg -parameter which preserves the parameter names and now everything works fine.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java-version}&lt;/source&gt;\n                &lt;target&gt;${java-version}&lt;/target&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-parameters&lt;/arg&gt; &lt;---- this did the magic\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":12937317,"reputation":77,"user_id":9354242,"display_name":"Meini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77496255,"answer_count":1,"score":0,"last_activity_date":1700150071,"creation_date":1700056337,"question_id":77488284,"body_markdown":"I have this RestController where I use @PreAuthorize to check if the request contains the same &#39;persnr&#39; as the user.\r\n\r\n    @PreAuthorize(&quot;@authorization.hasPermission(principal, #request)&quot;)\r\n\t@PostMapping(&quot;/items&quot;)\r\n\tpublic ResponseEntity&lt;CalendarResponse&gt; getCalendarItems(@Valid @NotNull @RequestBody CalendarRequest request)\r\n\t{\r\n       ...\r\n    }\r\n\r\nThis is the @Bean with the actual &#39;hasPermission&#39; method the spEL in @PreAutorize refers to\r\n\r\n    @Component\r\n    public class Authorization\r\n    {\r\n\t    public boolean hasPermission(User user, /* null in native image */ CalendarRequest request) \r\n\t    {\r\n            return user.getPersnr().equals(request.getPersnr());\r\n        }\r\n    }\r\n\r\nThis is the body of the request\r\n\r\n    \r\n    public class CalendarRequest\r\n    {\r\n\t    @NotBlank(message = &quot;\\&quot;persnr darf nicht leer sein&quot;)\r\n\t    private String persnr; \r\n\t\r\n\t    public String getPersnr()\r\n\t    {\r\n\t\t    return persnr;\r\n\t    }\r\n        // ...\r\n    }\r\n\r\nIn a JVM this works perfectly fine but as a native image the &#39;#request&#39; in the spEL is null and i get a NullPointerException in &#39;hasPermission&#39;.\r\n\r\nAs a workaround I tried to register a WebExpressionAuthorizationManager with the same spEL but it&#39;s not working either\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception\r\n\t{\r\n\t\thttp.authorizeHttpRequests(auth -&gt; \r\n\t\t\t\tauth\r\n                    //...\r\n\t\t\t\t    .dispatcherTypeMatchers(DispatcherType.ERROR).permitAll()\t\t\t\t\t\t\t\t\r\n\t\t\t\t    .requestMatchers(&quot;/calendar/items&quot;).access(new WebExpressionAuthorizationManager(&quot;@authorization.hasPermission(principal, #request)&quot;))\r\n\t\t\t\t\t.anyRequest().authenticated());\r\n\t\t\r\n        //...\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\nI also tried using a custom AuthorizationManager but i don&#39;t see any possibility to access the json body\r\n\r\nIs there another way to implement method level authorization? \r\n\r\nEdit:\r\nI set&#39;prePostEnabled&#39; to false and implemented a custom AuthorizationManager with the same behavior like @PreAuthorize but the &#39;#request&#39; parameter is still null: \r\n\r\n    @Configuration\r\n    @EnableMethodSecurity(prePostEnabled = false, securedEnabled = false, jsr250Enabled = false)\r\n    public class AuthorizationConfig\r\n    {\r\n\t    @Bean\r\n\t    @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\r\n\t    Advisor preAuthorize(CustomAuthorizationManager manager) \r\n\t    {\r\n\t\t    Pointcut pointcut = new AnnotationMatchingPointcut(null, PreAuthorize.class, true);\r\n\t\t    AuthorizationManagerBeforeMethodInterceptor interceptor = new AuthorizationManagerBeforeMethodInterceptor(pointcut, manager);\r\n            interceptor.setOrder(AuthorizationInterceptorsOrder.PRE_AUTHORIZE.getOrder());\r\n\t        return interceptor;\r\n\t    }\r\n    }\r\n\r\n    @Component\r\n    public class CustomAuthorizationManager implements AuthorizationManager&lt;MethodInvocation&gt;\r\n    {\r\n\t    @Autowired\r\n\t    ApplicationContext context;\r\n\t\r\n\t    @Override\r\n\t    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, MethodInvocation mi)\r\n\t    {\r\n\t\t    PreAuthorize annotation = mi.getMethod().getAnnotation(PreAuthorize.class);\r\n\t\t\r\n\t\t    DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\r\n\t\t    expressionHandler.setApplicationContext(context);\r\n\t\t    Expression expression = expressionHandler.getExpressionParser().parseExpression(annotation.value());\r\n\t\t\r\n\t\t    EvaluationContext ctx = expressionHandler.createEvaluationContext(authentication, mi);\r\n\t\t    boolean granted = ExpressionUtils.evaluateAsBoolean(expression, ctx);\r\n\t\t    return new ExpressionAuthorizationDecision(granted, expression);\r\n\t    }\r\n    }\r\n\r\n","title":"@PreAuthorize with spEL not working in Graal native image","body":"<p>I have this RestController where I use @PreAuthorize to check if the request contains the same 'persnr' as the user.</p>\n<pre><code>@PreAuthorize(&quot;@authorization.hasPermission(principal, #request)&quot;)\n@PostMapping(&quot;/items&quot;)\npublic ResponseEntity&lt;CalendarResponse&gt; getCalendarItems(@Valid @NotNull @RequestBody CalendarRequest request)\n{\n   ...\n}\n</code></pre>\n<p>This is the @Bean with the actual 'hasPermission' method the spEL in @PreAutorize refers to</p>\n<pre><code>@Component\npublic class Authorization\n{\n    public boolean hasPermission(User user, /* null in native image */ CalendarRequest request) \n    {\n        return user.getPersnr().equals(request.getPersnr());\n    }\n}\n</code></pre>\n<p>This is the body of the request</p>\n<pre><code>public class CalendarRequest\n{\n    @NotBlank(message = &quot;\\&quot;persnr darf nicht leer sein&quot;)\n    private String persnr; \n\n    public String getPersnr()\n    {\n        return persnr;\n    }\n    // ...\n}\n</code></pre>\n<p>In a JVM this works perfectly fine but as a native image the '#request' in the spEL is null and i get a NullPointerException in 'hasPermission'.</p>\n<p>As a workaround I tried to register a WebExpressionAuthorizationManager with the same spEL but it's not working either</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception\n{\n    http.authorizeHttpRequests(auth -&gt; \n            auth\n                //...\n                .dispatcherTypeMatchers(DispatcherType.ERROR).permitAll()                               \n                .requestMatchers(&quot;/calendar/items&quot;).access(new WebExpressionAuthorizationManager(&quot;@authorization.hasPermission(principal, #request)&quot;))\n                .anyRequest().authenticated());\n    \n    //...\n\n    return http.build();\n}\n</code></pre>\n<p>I also tried using a custom AuthorizationManager but i don't see any possibility to access the json body</p>\n<p>Is there another way to implement method level authorization?</p>\n<p>Edit:\nI set'prePostEnabled' to false and implemented a custom AuthorizationManager with the same behavior like @PreAuthorize but the '#request' parameter is still null:</p>\n<pre><code>@Configuration\n@EnableMethodSecurity(prePostEnabled = false, securedEnabled = false, jsr250Enabled = false)\npublic class AuthorizationConfig\n{\n    @Bean\n    @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\n    Advisor preAuthorize(CustomAuthorizationManager manager) \n    {\n        Pointcut pointcut = new AnnotationMatchingPointcut(null, PreAuthorize.class, true);\n        AuthorizationManagerBeforeMethodInterceptor interceptor = new AuthorizationManagerBeforeMethodInterceptor(pointcut, manager);\n        interceptor.setOrder(AuthorizationInterceptorsOrder.PRE_AUTHORIZE.getOrder());\n        return interceptor;\n    }\n}\n\n@Component\npublic class CustomAuthorizationManager implements AuthorizationManager&lt;MethodInvocation&gt;\n{\n    @Autowired\n    ApplicationContext context;\n\n    @Override\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, MethodInvocation mi)\n    {\n        PreAuthorize annotation = mi.getMethod().getAnnotation(PreAuthorize.class);\n    \n        DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\n        expressionHandler.setApplicationContext(context);\n        Expression expression = expressionHandler.getExpressionParser().parseExpression(annotation.value());\n    \n        EvaluationContext ctx = expressionHandler.createEvaluationContext(authentication, mi);\n        boolean granted = ExpressionUtils.evaluateAsBoolean(expression, ctx);\n        return new ExpressionAuthorizationDecision(granted, expression);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1455722950,"post_id":35460884,"comment_id":58617950,"body_markdown":"Of course. Casting `10.01` to `long` will truncate the value to `10`, making your check pass.","body":"Of course. Casting <code>10.01</code> to <code>long</code> will truncate the value to <code>10</code>, making your check pass."},{"owner":{"account_id":5238737,"reputation":417,"user_id":4186508,"accept_rate":75,"display_name":"Ducthien"},"score":0,"creation_date":1455723042,"post_id":35460884,"comment_id":58618015,"body_markdown":"how can I validate the value only smaller than or equal 10?","body":"how can I validate the value only smaller than or equal 10?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1455723127,"post_id":35460884,"comment_id":58618085,"body_markdown":"Not with `@Range`, that&#39;s for sure.","body":"Not with <code>@Range</code>, that&#39;s for sure."},{"owner":{"account_id":5238737,"reputation":417,"user_id":4186508,"accept_rate":75,"display_name":"Ducthien"},"score":0,"creation_date":1455723792,"post_id":35460884,"comment_id":58618618,"body_markdown":"sorry, I don&#39;t clear with your suggestion. If can&#39;t use @Range what should I use?","body":"sorry, I don&#39;t clear with your suggestion. If can&#39;t use @Range what should I use?"},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1455724126,"post_id":35460884,"comment_id":58618917,"body_markdown":"I think you are using `org.hibernate.validator.constraints.Range`, but I&#39;m not sure. If you are, I see in the [docs of the `Max` one level up](http://docs.jboss.org/hibernate/stable/beanvalidation/api/javax/validation/constraints/Max.html?is-external=true) the following: `&quot;Note that double and float are not supported due to rounding errors (some providers might provide some approximative support).&quot;`. The only one with decimals that is supported is `BigDecimal`, so perhaps use `@Range(min = new BigDecimal(0.0), max = new BigDecimal(10.0)) private BigDecimal score;`? For double I dunno..","body":"I think you are using <code>org.hibernate.validator.constraints.Range</code>, but I&#39;m not sure. If you are, I see in the <a href=\"http://docs.jboss.org/hibernate/stable/beanvalidation/api/javax/validation/constraints/Max.html?is-external=true\" rel=\"nofollow noreferrer\">docs of the <code>Max</code> one level up</a> the following: <code>&quot;Note that double and float are not supported due to rounding errors (some providers might provide some approximative support).&quot;</code>. The only one with decimals that is supported is <code>BigDecimal</code>, so perhaps use <code>@Range(min = new BigDecimal(0.0), max = new BigDecimal(10.0)) private BigDecimal score;</code>? For double I dunno.."}],"answers":[{"tags":[],"owner":{"account_id":931709,"reputation":4835,"user_id":961480,"display_name":"hyness"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455727374,"creation_date":1455727374,"answer_id":35462655,"question_id":35460884,"body_markdown":"There are two problems.  First problem is you are trying to specify a data type in the attribute of the annotation.  You don&#39;t need to specify the data type or fraction either, this annotation only takes whole numbers.\r\n\r\nAlso, as specified by many others, doubles and floats are not allowed to rounding errors, so you need to use a BigDecimal instead of a double.  BigDecimal has a doubleValue() method to get the value as a double.\r\n\r\n    @Range(min = 0, max = 10)\r\n    private BigDecimal score;\r\n","title":"validation with double value in Spring","body":"<p>There are two problems.  First problem is you are trying to specify a data type in the attribute of the annotation.  You don't need to specify the data type or fraction either, this annotation only takes whole numbers.</p>\n\n<p>Also, as specified by many others, doubles and floats are not allowed to rounding errors, so you need to use a BigDecimal instead of a double.  BigDecimal has a doubleValue() method to get the value as a double.</p>\n\n<pre><code>@Range(min = 0, max = 10)\nprivate BigDecimal score;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5238737,"reputation":417,"user_id":4186508,"accept_rate":75,"display_name":"Ducthien"},"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1455727666,"creation_date":1455727666,"answer_id":35462754,"question_id":35460884,"body_markdown":"I resolve my proplem with:\r\n\r\n   \r\n\r\n     @DecimalMax(&quot;10.0&quot;) @DecimalMin(&quot;0.0&quot;) \r\n     private double score;\r\nThank you lots @ Kayaman ,@hyness","title":"validation with double value in Spring","body":"<p>I resolve my proplem with:</p>\n\n<pre><code> @DecimalMax(\"10.0\") @DecimalMin(\"0.0\") \n private double score;\n</code></pre>\n\n<p>Thank you lots @ Kayaman ,@hyness</p>\n"},{"tags":[],"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655391913,"creation_date":1655391913,"answer_id":72647985,"question_id":35460884,"body_markdown":"For those of who just want to put constraint with a message\r\n       \r\n    @DecimalMin(value = &quot;1.0&quot;, message = &quot;Please Enter a valid Deposit Amount&quot;)","title":"validation with double value in Spring","body":"<p>For those of who just want to put constraint with a message</p>\n<pre><code>@DecimalMin(value = &quot;1.0&quot;, message = &quot;Please Enter a valid Deposit Amount&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7727204,"reputation":171,"user_id":5851464,"display_name":"Phanindra Gopishetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700149962,"creation_date":1700149962,"answer_id":77496242,"question_id":35460884,"body_markdown":"    import javax.validation.Constraint;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import javax.validation.Payload;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target({ElementType.FIELD, ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = DoublePrecisionValidator.class)\r\n    public @interface DoublePrecision {\r\n        String message() default &quot;Invalid double precision&quot;;\r\n    \r\n        int precision() default 2;\r\n    \r\n        int maxDigits() default 10;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n    \r\n    public class DoublePrecisionValidator implements ConstraintValidator&lt;DoublePrecision, Double&gt; {\r\n        private int precision;\r\n        private int maxDigits;\r\n    \r\n        @Override\r\n        public void initialize(DoublePrecision doublePrecision) {\r\n            this.precision = doublePrecision.precision();\r\n            this.maxDigits = doublePrecision.maxDigits();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(Double value, ConstraintValidatorContext context) {\r\n            if (value == null) {\r\n                return true; // Null values are considered valid, add additional checks if needed\r\n            }\r\n    \r\n            // Check precision\r\n            double scaledValue = value * Math.pow(10, precision);\r\n            long truncatedValue = (long) scaledValue;\r\n            double restoredValue = truncatedValue / Math.pow(10, precision);\r\n    \r\n            // Check maxDigits\r\n            String stringValue = Double.toString(value);\r\n            int totalDigits = stringValue.length() - (stringValue.contains(&quot;.&quot;) ? 1 : 0);\r\n    \r\n            return value.equals(restoredValue) &amp;&amp; totalDigits &lt;= maxDigits;\r\n        }\r\n    }","title":"validation with double value in Spring","body":"<pre><code>import javax.validation.Constraint;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.FIELD, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = DoublePrecisionValidator.class)\npublic @interface DoublePrecision {\n    String message() default &quot;Invalid double precision&quot;;\n\n    int precision() default 2;\n\n    int maxDigits() default 10;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class DoublePrecisionValidator implements ConstraintValidator&lt;DoublePrecision, Double&gt; {\n    private int precision;\n    private int maxDigits;\n\n    @Override\n    public void initialize(DoublePrecision doublePrecision) {\n        this.precision = doublePrecision.precision();\n        this.maxDigits = doublePrecision.maxDigits();\n    }\n\n    @Override\n    public boolean isValid(Double value, ConstraintValidatorContext context) {\n        if (value == null) {\n            return true; // Null values are considered valid, add additional checks if needed\n        }\n\n        // Check precision\n        double scaledValue = value * Math.pow(10, precision);\n        long truncatedValue = (long) scaledValue;\n        double restoredValue = truncatedValue / Math.pow(10, precision);\n\n        // Check maxDigits\n        String stringValue = Double.toString(value);\n        int totalDigits = stringValue.length() - (stringValue.contains(&quot;.&quot;) ? 1 : 0);\n\n        return value.equals(restoredValue) &amp;&amp; totalDigits &lt;= maxDigits;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5238737,"reputation":417,"user_id":4186508,"accept_rate":75,"display_name":"Ducthien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26328,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":35462754,"answer_count":4,"score":10,"last_activity_date":1700149962,"creation_date":1455722830,"question_id":35460884,"body_markdown":"I want to check score which have value: 0.00 &lt;= value&lt;= 10.00&lt;br/&gt;\r\nI used:&lt;br/&gt;\r\n -Model(Score):\r\n   \r\n\r\n     @Range(min = (long) 0.0, max = (long) 10.0)\r\n     private double score;\r\n\r\n -messages.properties:\r\n\r\n    Range.score.score=Please input 0&lt;= score &lt;=10\r\n -servlet-context.xml:\r\n\r\n       &lt;beans:bean id=&quot;messageSource&quot;\r\n    \t\tclass=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;basename&quot; value=&quot;messages&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\nBut the value = 10.01 has passed the check.&lt;br/&gt;\r\nPlease help me.","title":"validation with double value in Spring","body":"<p>I want to check score which have value: 0.00 &lt;= value&lt;= 10.00<br/>\nI used:<br/>\n -Model(Score):</p>\n\n<pre><code> @Range(min = (long) 0.0, max = (long) 10.0)\n private double score;\n</code></pre>\n\n<p>-messages.properties:</p>\n\n<pre><code>Range.score.score=Please input 0&lt;= score &lt;=10\n</code></pre>\n\n<p>-servlet-context.xml:</p>\n\n<pre><code>   &lt;beans:bean id=\"messageSource\"\n        class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n        &lt;beans:property name=\"basename\" value=\"messages\" /&gt;\n    &lt;/beans:bean&gt;\n</code></pre>\n\n<p>But the value = 10.01 has passed the check.<br/>\nPlease help me.</p>\n"},{"tags":["java","mongodb","pojo"],"owner":{"account_id":307872,"reputation":963,"user_id":619418,"display_name":"tzik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700149954,"creation_date":1700149954,"question_id":77496240,"body_markdown":"I have an issue registering POJO classes from 3rd party libraries in my project with MongoDB so that I can use the POJOS. \r\n\r\nI&#39;m registering the classes first as follows: \r\n```\r\n  PojoCodecProvider pojoCodecProvider = PojoCodecProvider.builder()\r\n.register(&quot;com.myproject.classpackage&quot;)\r\n.register(&quot;com.thirdpartyproject.classpackage3&quot;)\r\n.register(&quot;com.myproject.classpackage2&quot;)\r\n```\r\n\r\nClasses from my project whose registrations come before and after the third party project classes are working just fine. However, registering the third-party package does not work and I always get an error: &quot;no code found for class X under package *com.thirdpartyproject.classpackage3*&quot;\r\n\r\nIf it makes any difference I&#39;m using gradle and the third-party package is added to the project like this: \r\n```\r\n    implementation files(&#39;files/thirdpartylibrary.jar&#39;)\r\n```\r\n\r\nOther than the issue with the MongoDB POJO driver, I can use the third-party library just fine. \r\nI was thinking of storing them as a JSON object using GSON and some custom wrappers. \r\n\r\nThe third-party library POJOs may change over time and I&#39;d rather not implement my own classes just to store the data in MongoDB. \r\nAny help would be much appreciated. ","title":"MongoDB PojoCodecDriver Error Registering 3rd party Package Class","body":"<p>I have an issue registering POJO classes from 3rd party libraries in my project with MongoDB so that I can use the POJOS.</p>\n<p>I'm registering the classes first as follows:</p>\n<pre><code>  PojoCodecProvider pojoCodecProvider = PojoCodecProvider.builder()\n.register(&quot;com.myproject.classpackage&quot;)\n.register(&quot;com.thirdpartyproject.classpackage3&quot;)\n.register(&quot;com.myproject.classpackage2&quot;)\n</code></pre>\n<p>Classes from my project whose registrations come before and after the third party project classes are working just fine. However, registering the third-party package does not work and I always get an error: &quot;no code found for class X under package <em>com.thirdpartyproject.classpackage3</em>&quot;</p>\n<p>If it makes any difference I'm using gradle and the third-party package is added to the project like this:</p>\n<pre><code>    implementation files('files/thirdpartylibrary.jar')\n</code></pre>\n<p>Other than the issue with the MongoDB POJO driver, I can use the third-party library just fine.\nI was thinking of storing them as a JSON object using GSON and some custom wrappers.</p>\n<p>The third-party library POJOs may change over time and I'd rather not implement my own classes just to store the data in MongoDB.\nAny help would be much appreciated.</p>\n"},{"tags":["java","gradle","package","reusability"],"answers":[{"tags":[],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514641641,"creation_date":1514641641,"answer_id":48034521,"question_id":44097725,"body_markdown":"In your `build.gradle` use a custom build to collect only the package that you want\r\n\r\n    task customBuild(type: Jar) {\r\n        from (&quot;src/main/java/abstract/&quot;){\r\n            into &quot;abstract&quot;\r\n        }\r\n    \r\n        version = &quot;&quot;\r\n        baseName = &quot;myClasses&quot;\r\n    }\r\n\r\nit will build you a `jar` file inside `build/libs/YouJarName`\r\n&lt;br&gt;\r\nNow you can copy the jar to anywhere you want, and include it in another project in that way :\r\n\r\n    dependencies {\r\n        compile fileTree (dir : &quot;your/jar/location&quot;, includes: [&quot;myJar.jar&quot;])\r\n    }\r\n\r\n","title":"Outsource java packages for reuse in other projects with gradle","body":"<p>In your <code>build.gradle</code> use a custom build to collect only the package that you want</p>\n\n<pre><code>task customBuild(type: Jar) {\n    from (\"src/main/java/abstract/\"){\n        into \"abstract\"\n    }\n\n    version = \"\"\n    baseName = \"myClasses\"\n}\n</code></pre>\n\n<p>it will build you a <code>jar</code> file inside <code>build/libs/YouJarName</code>\n<br>\nNow you can copy the jar to anywhere you want, and include it in another project in that way :</p>\n\n<pre><code>dependencies {\n    compile fileTree (dir : \"your/jar/location\", includes: [\"myJar.jar\"])\n}\n</code></pre>\n"}],"owner":{"account_id":2724258,"reputation":1743,"user_id":2349787,"accept_rate":61,"display_name":"EchtFettigerKeks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700149942,"creation_date":1495374911,"question_id":44097725,"body_markdown":"I&#39;ve got a project and within it, I developed a bunch of classes which are kept very abstract so I could use them in other projects. How should I outsource the package in a way so I can include it via gradle or by the IDE in the end?\r\n\r\nAlso the reusable packag-content is still in development so I want do work on it in parallel.\r\n\r\nCan anybody tell me how to solve this?","title":"Outsource java packages for reuse in other projects with gradle","body":"<p>I've got a project and within it, I developed a bunch of classes which are kept very abstract so I could use them in other projects. How should I outsource the package in a way so I can include it via gradle or by the IDE in the end?</p>\n<p>Also the reusable packag-content is still in development so I want do work on it in parallel.</p>\n<p>Can anybody tell me how to solve this?</p>\n"},{"tags":["java","android","firebase","kotlin","google-cloud-firestore"],"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700162183,"post_id":77496153,"comment_id":136623930,"body_markdown":"Sajid jan, try to look at the link I have provided, the exception is being thrown is the same as you got\n\nI mean it&#39;s problem of rules although I understand that you didn&#39;t change the rules, it may be other person that have access to the project or may be some bug at the side of firestore - but it&#39;s permission(rules) problem","body":"Sajid jan, try to look at the link I have provided, the exception is being thrown is the same as you got  I mean it&#39;s problem of rules although I understand that you didn&#39;t change the rules, it may be other person that have access to the project or may be some bug at the side of firestore - but it&#39;s permission(rules) problem"},{"owner":{"account_id":6435751,"reputation":56,"user_id":9342781,"display_name":"Sajid"},"score":0,"creation_date":1700162894,"post_id":77496153,"comment_id":136624052,"body_markdown":"Well, it&#39;s obvious that it&#39;s a rules problem. But this particular incident that occurred in my multiple apps wasn&#39;t a human error(No one else has got any access to my firebase accounts). It&#39;s a bug or something else on Google&#39;s end and that&#39;s what I am trying to find out.\nThat question you mentioned, and the underlying answers address the Rules issue on developer&#39;s end. While this particular incident happened under different circumstances and should be addressed differently.","body":"Well, it&#39;s obvious that it&#39;s a rules problem. But this particular incident that occurred in my multiple apps wasn&#39;t a human error(No one else has got any access to my firebase accounts). It&#39;s a bug or something else on Google&#39;s end and that&#39;s what I am trying to find out. That question you mentioned, and the underlying answers address the Rules issue on developer&#39;s end. While this particular incident happened under different circumstances and should be addressed differently."},{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700163398,"post_id":77496153,"comment_id":136624120,"body_markdown":"ok deleting first comment","body":"ok deleting first comment"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700200751,"post_id":77496153,"comment_id":136627626,"body_markdown":"Most likely happened because of [this](https://stackoverflow.com/questions/77491268/firestore-permission-denied-even-with-rules-set-to-allow-all/77491341#77491341).","body":"Most likely happened because of <a href=\"https://stackoverflow.com/questions/77491268/firestore-permission-denied-even-with-rules-set-to-allow-all/77491341#77491341\">this</a>."}],"owner":{"account_id":6435751,"reputation":56,"user_id":9342781,"display_name":"Sajid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700149289,"creation_date":1700149289,"question_id":77496153,"body_markdown":"# PERMISSION_DENIED: Missing or insufficient permissions.\r\n**com.google.firebase.firestore.FirebaseFirestoreException**\r\n\r\nI have several android apps on google playstore that use **Firestore** as the backend. All the apps have large number of DAU. They have been working perfectly fine for a long time, but last night, I noticed a spike in crash reports in Firebase Crashlytics dashboard. All of them had the same exception:\r\n\r\n\r\n`Fatal Exception: com.google.android.gms.tasks.RuntimeExecutionException\r\ncom.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED: Missing or insufficient permissions.`\r\n\r\nThe strange thing is that this exception occurred in multiple apps at the same time, **between 01:00 AM and 07:00 AM (UTC+5)**, and then stopped. I have **not changed anything in the code or the Firestore rules** recently. I have **tried to reproduce the issue** on my devices, but **everything works as expected**. I have also checked the Firestore usage and quota, and they are well below the limits.\r\n\r\nHere are some screenshots from the **Firebase Crashlytics dashboard** showing the crash reports:\r\n\r\n**App with original class names:**\r\n[![enter image description here](https://i.stack.imgur.com/RsJ5M.png)](https://i.stack.imgur.com/RsJ5M.png)\r\n\r\n**App with obfuscated class names**\r\n[![enter image description here](https://i.stack.imgur.com/yJIW3.png)](https://i.stack.imgur.com/yJIW3.png)\r\n\r\n\r\nHere&#39;s the Stack Trace:\r\n\r\n```\r\nCaused by com.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED: Missing or insufficient permissions.\r\n       at com.google.firebase.firestore.util.Util.exceptionFromStatus(Util.java:112)\r\n       at com.google.firebase.firestore.core.EventManager.onError(EventManager.java:166)\r\n       at com.google.firebase.firestore.core.SyncEngine.removeAndCleanupTarget(SyncEngine.java:596)\r\n       at com.google.firebase.firestore.core.SyncEngine.handleRejectedListen(SyncEngine.java:432)\r\n       at com.google.firebase.firestore.core.MemoryComponentProvider$RemoteStoreCallback.handleRejectedListen(MemoryComponentProvider.java:104)\r\n       at com.google.firebase.firestore.remote.RemoteStore.processTargetError(RemoteStore.java:581)\r\n       at com.google.firebase.firestore.remote.RemoteStore.handleWatchChange(RemoteStore.java:465)\r\n       at com.google.firebase.firestore.remote.RemoteStore.access$100(RemoteStore.java:57)\r\n       at com.google.firebase.firestore.remote.RemoteStore$1.onWatchChange(RemoteStore.java:180)\r\n       at com.google.firebase.firestore.remote.WatchStream.onNext(WatchStream.java:109)\r\n       at com.google.firebase.firestore.remote.WatchStream.onNext(WatchStream.java:38)\r\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver.lambda$onNext$1$com-google-firebase-firestore-remote-AbstractStream$StreamObserver(AbstractStream.java:119)\r\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver$$ExternalSyntheticLambda2.run(:4)\r\n       at com.google.firebase.firestore.remote.AbstractStream$CloseGuardedRunner.run(AbstractStream.java:67)\r\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver.onNext(AbstractStream.java:110)\r\n       at com.google.firebase.firestore.remote.FirestoreChannel$1.onMessage(FirestoreChannel.java:140)\r\n       at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)\r\n       at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)\r\n       at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n       at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\r\n       at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n       at com.google.firebase.firestore.util.AsyncQueue$SynchronizedShutdownAwareExecutor$DelayedStartFactory.run(AsyncQueue.java:234)\r\n       at java.lang.Thread.run(Thread.java:919)\r\n```\r\nI am wondering what could have caused this **Permission Denied Exception** in multiple apps at the same time, and how to prevent it from happening again. Is it possible that there was some temporary issue with the Firebase servers or the network connectivity? \r\nHas anyone else experienced this issue?\r\n\r\nI have tried to reproduce the issue but I haven&#39;t been able to do so. ","title":"Fatal Exception: com.google.android.gms.tasks.RuntimeExecutionException: com.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED","body":"<h1>PERMISSION_DENIED: Missing or insufficient permissions.</h1>\n<p><strong>com.google.firebase.firestore.FirebaseFirestoreException</strong></p>\n<p>I have several android apps on google playstore that use <strong>Firestore</strong> as the backend. All the apps have large number of DAU. They have been working perfectly fine for a long time, but last night, I noticed a spike in crash reports in Firebase Crashlytics dashboard. All of them had the same exception:</p>\n<p><code>Fatal Exception: com.google.android.gms.tasks.RuntimeExecutionException com.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED: Missing or insufficient permissions.</code></p>\n<p>The strange thing is that this exception occurred in multiple apps at the same time, <strong>between 01:00 AM and 07:00 AM (UTC+5)</strong>, and then stopped. I have <strong>not changed anything in the code or the Firestore rules</strong> recently. I have <strong>tried to reproduce the issue</strong> on my devices, but <strong>everything works as expected</strong>. I have also checked the Firestore usage and quota, and they are well below the limits.</p>\n<p>Here are some screenshots from the <strong>Firebase Crashlytics dashboard</strong> showing the crash reports:</p>\n<p><strong>App with original class names:</strong>\n<a href=\"https://i.stack.imgur.com/RsJ5M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RsJ5M.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>App with obfuscated class names</strong>\n<a href=\"https://i.stack.imgur.com/yJIW3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yJIW3.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the Stack Trace:</p>\n<pre><code>Caused by com.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED: Missing or insufficient permissions.\n       at com.google.firebase.firestore.util.Util.exceptionFromStatus(Util.java:112)\n       at com.google.firebase.firestore.core.EventManager.onError(EventManager.java:166)\n       at com.google.firebase.firestore.core.SyncEngine.removeAndCleanupTarget(SyncEngine.java:596)\n       at com.google.firebase.firestore.core.SyncEngine.handleRejectedListen(SyncEngine.java:432)\n       at com.google.firebase.firestore.core.MemoryComponentProvider$RemoteStoreCallback.handleRejectedListen(MemoryComponentProvider.java:104)\n       at com.google.firebase.firestore.remote.RemoteStore.processTargetError(RemoteStore.java:581)\n       at com.google.firebase.firestore.remote.RemoteStore.handleWatchChange(RemoteStore.java:465)\n       at com.google.firebase.firestore.remote.RemoteStore.access$100(RemoteStore.java:57)\n       at com.google.firebase.firestore.remote.RemoteStore$1.onWatchChange(RemoteStore.java:180)\n       at com.google.firebase.firestore.remote.WatchStream.onNext(WatchStream.java:109)\n       at com.google.firebase.firestore.remote.WatchStream.onNext(WatchStream.java:38)\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver.lambda$onNext$1$com-google-firebase-firestore-remote-AbstractStream$StreamObserver(AbstractStream.java:119)\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver$$ExternalSyntheticLambda2.run(:4)\n       at com.google.firebase.firestore.remote.AbstractStream$CloseGuardedRunner.run(AbstractStream.java:67)\n       at com.google.firebase.firestore.remote.AbstractStream$StreamObserver.onNext(AbstractStream.java:110)\n       at com.google.firebase.firestore.remote.FirestoreChannel$1.onMessage(FirestoreChannel.java:140)\n       at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:661)\n       at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:646)\n       at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n       at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\n       at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n       at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n       at com.google.firebase.firestore.util.AsyncQueue$SynchronizedShutdownAwareExecutor$DelayedStartFactory.run(AsyncQueue.java:234)\n       at java.lang.Thread.run(Thread.java:919)\n</code></pre>\n<p>I am wondering what could have caused this <strong>Permission Denied Exception</strong> in multiple apps at the same time, and how to prevent it from happening again. Is it possible that there was some temporary issue with the Firebase servers or the network connectivity?\nHas anyone else experienced this issue?</p>\n<p>I have tried to reproduce the issue but I haven't been able to do so.</p>\n"},{"tags":["java","azul-zulu"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":173,"is_accepted":false,"score":173,"last_activity_date":1700149211,"creation_date":1587453558,"answer_id":61337953,"question_id":61335109,"body_markdown":"# Update 2021-09\r\n\r\n - For versions 8 through 16, Oracle required a fee if their own *Oracle JDK* product was used in production, but not for dev, test, and training usages. \r\n - For Java 17, the [Oracle JDK](https://www.oracle.com/javadownload) product is available under  a new\r\n   [*No-Fee Terms and Conditions*](https://www.oracle.com/downloads/licenses/no-fee-license.html) license, [discussed on the Oracle\r\n   company blog](https://blogs.oracle.com/cloud-infrastructure/post/introducing-free-java-license).\r\n\r\nOn my first reading, it appears this new license makes production use free-of-cost (along with dev, test, and training usages), **except for products sold for a fee while bundling the Oracle JDK** product. But I am not an attorney, so read the terms yourself and consult legal advice as needed.\r\n\r\nKeep in mind that many other vendors continue to provide implementations of the Java specs, as shown in the flowchart below. Some of these vendors sell support plans, either optionally or as a requirement for use of their product. Never assume, always read the detailed requirements for any distribution you obtain.\r\n\r\nAnother 2021 update: Add Microsoft to the list of vendors seen below.\r\n\r\n----------\r\n\r\n# Java specification versus implementation \r\n\r\nJava is defined by a [set of specifications][1], [JSRs][2], and [JEPs][3], all published by Oracle.\r\n\r\nThose specifications are implemented in the source code found at the [*OpenJDK*][4] project. \r\n\r\nSeveral vendors provide builds of that source code. Some charge money for those builds and some do not. \r\n\r\n[Azul Systems][5] is one such vendor, a company  providing multiple implementations. [*Zulu Community*][6] is one, provided free of charge. [*Zulu Enterprise*][7] is another of their products, a commercial offering. [*Zing*][8] is yet another product of theirs, a JVM/JDK for special needs.\r\n\r\nOther JDK product vendors include SAP, Amazon, Microsoft, Oracle, BellSoft, Adoptium, Red Hat, IBM, Linux “apt get”, FreeBSD “Ports and Packages”, and more. \r\n\r\nYou asked:\r\n\r\n&gt;Is there any practical difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?\r\n\r\nYes and no. \r\n\r\nFirstly, **OpenJDK provides only [source code][9]**. So you cannot use OpenJDK to run Java apps. You must first build the OpenJDK source code yourself to get [executables][10] for your particular host platform, or you must rely on a vendor make a build for you. As seen in the flow chart below, there are several such vendors making builds of the OpenJDK source code.\r\n\r\nAs for products from Azul Systems, there is no such thing as *Azul OpenJDK* nor *Zulu OpenJDK* that I know of. Azul offers multiple products, as discussed above, but none of them by that name. \r\n\r\nThe `Zulu` name is used for 3 products, the *Community* and *Enterprise* editions above, plus [*Zulu Embedded*](https://www.azul.com/products/zulu-embedded/) for running on constrained hardware resources. As explained on their web site, all three of these are builds of the source code from OpenJDK. \r\n\r\nSo, no, basically no practical differences, as they all are builds of OpenJDK, and behave similar to most any other build of OpenJDK source code. Any desktop, server, or console application written to comply with the Java specifications will run on *Zulu Community* and *Zulu Enterprise*. \r\n\r\nBut, yes, there are some differences in that Azul adds some features such as having back-ported Flight Recorder and Mission Control to their Java 8 version of Zulu products. And Azul, like any such JDK provider, reserves the right to add a patch when urgently needed to fix a critical bug or security vulnerability without waiting for a release in the OpenJDK codebase.\r\n\r\nAnd, yes, there are major differences with the *Zing* product by Azul as that is intended for special needs such as supporting very large amounts of memory. While I presume this product uses parts of OpenJDK, Zing performs quite differently to meet those special needs while still conforming with the Java specifications to be able to run any application written in Java. \r\n\r\nAnother practical difference is that you can obtain support services from Azul Systems for their builds. Several of the vendors provide support services for their builds. OpenJDK provides only source code, no support. \r\n\r\nLastly, I should mention that Azul Systems is [one of the sponsors][11] of [*Adoptium*][12] (formerly known as *AdoptOpenJDK*), a project at the [Eclipse Foundation][13]. Adoptium provides (a) builds of OpenJDK, and (b) [test suites for quality assurance][14]. \r\n\r\nIf you have specific product questions, you should study the Azul.com web site, and contact the sales department at Azul Systems. I speak only for myself here, unaffiliated with that company. I have on occasion used their *Zulu Community* product, but not the others.\r\n\r\n➥ Read [*Java is Still Free*](https://medium.com/@javachampions/java-is-still-free-2-0-0-6b9aa8d6d244) to understand the ecosystem of Oracle, OpenJDK, and the various vendors of Java implementations.\r\n\r\n\r\n----------\r\n\r\nHere is a flow chart I made to help guide you in choosing a vendor for an implementation of Java 11.\r\n\r\n[![Flowchart guiding you in choosing a vendor for a Java 11 implementation][15]][15]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/\r\n  [2]: https://jcp.org/en/jsr/overview\r\n  [3]: https://openjdk.java.net/jeps/0\r\n  [4]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [5]: https://en.wikipedia.org/wiki/Azul_Systems\r\n  [6]: https://www.azul.com/products/zulu-community/\r\n  [7]: https://www.azul.com/products/zulu-enterprise/\r\n  [8]: https://en.wikipedia.org/wiki/Azul_Systems#Zing_JVM\r\n  [9]: https://en.wikipedia.org/wiki/Source_code\r\n  [10]: https://en.wikipedia.org/wiki/Executable\r\n  [11]: https://www.eclipse.org/membership/exploreMembership.php\r\n  [12]: https://adoptium.net/\r\n  [13]: https://en.m.wikipedia.org/wiki/Eclipse_Foundation\r\n  [14]: https://medium.com/adoptopenjdk/the-first-drop-introducing-adoptopenjdk-quality-assurance-aqa-v1-0-fe09f10ced80\r\n  [15]: https://i.stack.imgur.com/P4Gmt.png","title":"What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?","body":"<h1>Update 2021-09</h1>\n<ul>\n<li>For versions 8 through 16, Oracle required a fee if their own <em>Oracle JDK</em> product was used in production, but not for dev, test, and training usages.</li>\n<li>For Java 17, the <a href=\"https://www.oracle.com/javadownload\" rel=\"nofollow noreferrer\">Oracle JDK</a> product is available under  a new\n<a href=\"https://www.oracle.com/downloads/licenses/no-fee-license.html\" rel=\"nofollow noreferrer\"><em>No-Fee Terms and Conditions</em></a> license, <a href=\"https://blogs.oracle.com/cloud-infrastructure/post/introducing-free-java-license\" rel=\"nofollow noreferrer\">discussed on the Oracle\ncompany blog</a>.</li>\n</ul>\n<p>On my first reading, it appears this new license makes production use free-of-cost (along with dev, test, and training usages), <strong>except for products sold for a fee while bundling the Oracle JDK</strong> product. But I am not an attorney, so read the terms yourself and consult legal advice as needed.</p>\n<p>Keep in mind that many other vendors continue to provide implementations of the Java specs, as shown in the flowchart below. Some of these vendors sell support plans, either optionally or as a requirement for use of their product. Never assume, always read the detailed requirements for any distribution you obtain.</p>\n<p>Another 2021 update: Add Microsoft to the list of vendors seen below.</p>\n<hr />\n<h1>Java specification versus implementation</h1>\n<p>Java is defined by a <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">set of specifications</a>, <a href=\"https://jcp.org/en/jsr/overview\" rel=\"nofollow noreferrer\">JSRs</a>, and <a href=\"https://openjdk.java.net/jeps/0\" rel=\"nofollow noreferrer\">JEPs</a>, all published by Oracle.</p>\n<p>Those specifications are implemented in the source code found at the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\"><em>OpenJDK</em></a> project.</p>\n<p>Several vendors provide builds of that source code. Some charge money for those builds and some do not.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Azul_Systems\" rel=\"nofollow noreferrer\">Azul Systems</a> is one such vendor, a company  providing multiple implementations. <a href=\"https://www.azul.com/products/zulu-community/\" rel=\"nofollow noreferrer\"><em>Zulu Community</em></a> is one, provided free of charge. <a href=\"https://www.azul.com/products/zulu-enterprise/\" rel=\"nofollow noreferrer\"><em>Zulu Enterprise</em></a> is another of their products, a commercial offering. <a href=\"https://en.wikipedia.org/wiki/Azul_Systems#Zing_JVM\" rel=\"nofollow noreferrer\"><em>Zing</em></a> is yet another product of theirs, a JVM/JDK for special needs.</p>\n<p>Other JDK product vendors include SAP, Amazon, Microsoft, Oracle, BellSoft, Adoptium, Red Hat, IBM, Linux “apt get”, FreeBSD “Ports and Packages”, and more.</p>\n<p>You asked:</p>\n<blockquote>\n<p>Is there any practical difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?</p>\n</blockquote>\n<p>Yes and no.</p>\n<p>Firstly, <strong>OpenJDK provides only <a href=\"https://en.wikipedia.org/wiki/Source_code\" rel=\"nofollow noreferrer\">source code</a></strong>. So you cannot use OpenJDK to run Java apps. You must first build the OpenJDK source code yourself to get <a href=\"https://en.wikipedia.org/wiki/Executable\" rel=\"nofollow noreferrer\">executables</a> for your particular host platform, or you must rely on a vendor make a build for you. As seen in the flow chart below, there are several such vendors making builds of the OpenJDK source code.</p>\n<p>As for products from Azul Systems, there is no such thing as <em>Azul OpenJDK</em> nor <em>Zulu OpenJDK</em> that I know of. Azul offers multiple products, as discussed above, but none of them by that name.</p>\n<p>The <code>Zulu</code> name is used for 3 products, the <em>Community</em> and <em>Enterprise</em> editions above, plus <a href=\"https://www.azul.com/products/zulu-embedded/\" rel=\"nofollow noreferrer\"><em>Zulu Embedded</em></a> for running on constrained hardware resources. As explained on their web site, all three of these are builds of the source code from OpenJDK.</p>\n<p>So, no, basically no practical differences, as they all are builds of OpenJDK, and behave similar to most any other build of OpenJDK source code. Any desktop, server, or console application written to comply with the Java specifications will run on <em>Zulu Community</em> and <em>Zulu Enterprise</em>.</p>\n<p>But, yes, there are some differences in that Azul adds some features such as having back-ported Flight Recorder and Mission Control to their Java 8 version of Zulu products. And Azul, like any such JDK provider, reserves the right to add a patch when urgently needed to fix a critical bug or security vulnerability without waiting for a release in the OpenJDK codebase.</p>\n<p>And, yes, there are major differences with the <em>Zing</em> product by Azul as that is intended for special needs such as supporting very large amounts of memory. While I presume this product uses parts of OpenJDK, Zing performs quite differently to meet those special needs while still conforming with the Java specifications to be able to run any application written in Java.</p>\n<p>Another practical difference is that you can obtain support services from Azul Systems for their builds. Several of the vendors provide support services for their builds. OpenJDK provides only source code, no support.</p>\n<p>Lastly, I should mention that Azul Systems is <a href=\"https://www.eclipse.org/membership/exploreMembership.php\" rel=\"nofollow noreferrer\">one of the sponsors</a> of <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\"><em>Adoptium</em></a> (formerly known as <em>AdoptOpenJDK</em>), a project at the <a href=\"https://en.m.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>. Adoptium provides (a) builds of OpenJDK, and (b) <a href=\"https://medium.com/adoptopenjdk/the-first-drop-introducing-adoptopenjdk-quality-assurance-aqa-v1-0-fe09f10ced80\" rel=\"nofollow noreferrer\">test suites for quality assurance</a>.</p>\n<p>If you have specific product questions, you should study the Azul.com web site, and contact the sales department at Azul Systems. I speak only for myself here, unaffiliated with that company. I have on occasion used their <em>Zulu Community</em> product, but not the others.</p>\n<p>➥ Read <a href=\"https://medium.com/@javachampions/java-is-still-free-2-0-0-6b9aa8d6d244\" rel=\"nofollow noreferrer\"><em>Java is Still Free</em></a> to understand the ecosystem of Oracle, OpenJDK, and the various vendors of Java implementations.</p>\n<hr />\n<p>Here is a flow chart I made to help guide you in choosing a vendor for an implementation of Java 11.</p>\n<p><a href=\"https://i.stack.imgur.com/P4Gmt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P4Gmt.png\" alt=\"Flowchart guiding you in choosing a vendor for a Java 11 implementation\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11106749,"reputation":3227,"user_id":8153713,"display_name":"Speakjava"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1587466812,"creation_date":1587466812,"answer_id":61341942,"question_id":61335109,"body_markdown":"Let&#39;s start with full disclosure, I work for Azul (which I think makes me qualified to answer the question).\r\n\r\nOpenJDK is a &quot;...place to collaborate on an open-source implementation of the Java Platform, Standard Edition, and related projects&quot;.  Primarily, it hosts the source code repositories for the versions of Java since JDK 6.  Sun open-sourced their implementation of JDK 7 in 2007, which was how OpenJDK originated.  Subsequently, a project was created for JDK 6 (which oddly, is based on JDK 7).  Each version since then has been developed through the OpenJDK.\r\n\r\nAzul is a company that specialises in Java and JVM products.\r\n\r\nZulu is the name chosen for the binary distribution of the OpenJDK provided by Azul.  This comes in three versions:\r\n\r\n 1. Zulu Community: The free distribution provided under the GPLv2 with classpath exception (CPE) license.\r\n 2. Zulu Enterprise: A commercially supported binary distribution with SLAs for how quickly updates will be made available after Oracle provide theirs, two versions of each update (CPU and PSU) and phone/e-mail bug reporting/resolution.\r\n 3. Zulu Embedded: Porting and support for specific chipsets and hardware configurations for embedded applications. Also, a commercial product, although free ARM 32 builds are available for Zulu Community.\r\n\r\nTo summarise, OpenJDK is the source code, Azul is the company and Zulu is the binary distribution built from OpenJDK.","title":"What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?","body":"<p>Let's start with full disclosure, I work for Azul (which I think makes me qualified to answer the question).</p>\n\n<p>OpenJDK is a \"...place to collaborate on an open-source implementation of the Java Platform, Standard Edition, and related projects\".  Primarily, it hosts the source code repositories for the versions of Java since JDK 6.  Sun open-sourced their implementation of JDK 7 in 2007, which was how OpenJDK originated.  Subsequently, a project was created for JDK 6 (which oddly, is based on JDK 7).  Each version since then has been developed through the OpenJDK.</p>\n\n<p>Azul is a company that specialises in Java and JVM products.</p>\n\n<p>Zulu is the name chosen for the binary distribution of the OpenJDK provided by Azul.  This comes in three versions:</p>\n\n<ol>\n<li>Zulu Community: The free distribution provided under the GPLv2 with classpath exception (CPE) license.</li>\n<li>Zulu Enterprise: A commercially supported binary distribution with SLAs for how quickly updates will be made available after Oracle provide theirs, two versions of each update (CPU and PSU) and phone/e-mail bug reporting/resolution.</li>\n<li>Zulu Embedded: Porting and support for specific chipsets and hardware configurations for embedded applications. Also, a commercial product, although free ARM 32 builds are available for Zulu Community.</li>\n</ol>\n\n<p>To summarise, OpenJDK is the source code, Azul is the company and Zulu is the binary distribution built from OpenJDK.</p>\n"}],"owner":{"account_id":18353105,"reputation":1233,"user_id":13366838,"display_name":"Krishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130339,"favorite_count":0,"down_vote_count":3,"up_vote_count":113,"answer_count":2,"score":110,"last_activity_date":1700149211,"creation_date":1587436775,"question_id":61335109,"body_markdown":"What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?","title":"What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?","body":"<p>What is the difference between Azul OpenJDK, Zulu OpenJDK and OpenJDK?</p>\n"},{"tags":["java","geotools","jts"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700149205,"creation_date":1700149205,"answer_id":77496142,"question_id":77493502,"body_markdown":"I suspect the answer is to do with mutable and immutable objects with in the library, a `FeatureType` (schema) is immutable and the schema of an `Feature` includes information about the CRS of the `Geometry` objects so if you change the schema you must change the feature.\r\n\r\nI suspect your life would be easier if you use the `gt-geojson-store` to get a &quot;proper&quot; GeoJSON datastore rather than using `gt-geojson` which is (also) unsupported but even less well supported. However, that won&#39;t let you modify the default geometry to update the collection either (I think). You probably want to [checkout this tutorial][1].\r\n\r\n\r\n  [1]: https://docs.geotools.org/stable/userguide/tutorial/feature/csv2shp.html","title":"Why does the ForceCoordinateSystemIterator class next() method retype the SimpleFeature object?","body":"<p>I suspect the answer is to do with mutable and immutable objects with in the library, a <code>FeatureType</code> (schema) is immutable and the schema of an <code>Feature</code> includes information about the CRS of the <code>Geometry</code> objects so if you change the schema you must change the feature.</p>\n<p>I suspect your life would be easier if you use the <code>gt-geojson-store</code> to get a &quot;proper&quot; GeoJSON datastore rather than using <code>gt-geojson</code> which is (also) unsupported but even less well supported. However, that won't let you modify the default geometry to update the collection either (I think). You probably want to <a href=\"https://docs.geotools.org/stable/userguide/tutorial/feature/csv2shp.html\" rel=\"nofollow noreferrer\">checkout this tutorial</a>.</p>\n"}],"owner":{"account_id":18524434,"reputation":65,"user_id":13496635,"display_name":"Arjen10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77496142,"answer_count":1,"score":0,"last_activity_date":1700149205,"creation_date":1700125755,"question_id":77493502,"body_markdown":"English is not my native language; please excuse typing errors.\r\n\r\nI have two questions\r\n\r\nQ1: ForceCoordinateSystemIterator.class next() method why not return the original SimpleFeature but retype the SimpleFeature?\r\n\r\n\r\n\r\nQ2: when use ForceCoordinateSystemIterator I cannot retrieve the original object to update this default geometry. what would be the best way to do that?\r\n\r\n\r\n```java\r\nFeatureJSON featureJSON = new FeatureJSON(new GeometryJSON(15));\r\nInputStream is = Files.newInputStream(Paths.get(&quot;/arjen_data/rust/2.geojson&quot;));\r\nSimpleFeatureIterator simpleFeatureCollection2 = (SimpleFeatureCollection) featureJSON.readFeatureCollection(is);\r\ntry (SimpleFeatureIterator fit = simpleFeatureCollection2.features()) {\r\n            while (fit.hasNext()) {\r\n                // fit is ForceCoordinateSystemIterator.class\r\n                SimpleFeature next = fit.next(); // is retype object\r\n                Geometry defaultGeometry = (Geometry) next.getDefaultGeometry();\r\n                Geometry intersection = defaultGeometry.difference(union);\r\n                // update default Geometry\r\n                next.setDefaultGeometry(intersection);\r\n            }\r\n}\r\n```\r\n\r\ni read ForceCoordinateSystemIterator.class next() method source code. I have the two questions mentioned above now.\r\n\r\n\r\n```java\r\n    @Override\r\n    public SimpleFeature next() throws NoSuchElementException {\r\n        if (reader == null) {\r\n            throw new IllegalStateException(&quot;Reader has already been closed&quot;);\r\n        }\r\n\r\n        SimpleFeature next = reader.next();\r\n        if (builder == null) return next;\r\n\r\n        try {\r\n            // why retype? original object is bad?\r\n            return SimpleFeatureBuilder.retype(next, builder);\r\n        } catch (IllegalAttributeException eep) {\r\n            throw (IllegalStateException)\r\n                    new IllegalStateException(eep.getMessage()).initCause(eep);\r\n        }\r\n    }\r\n```","title":"Why does the ForceCoordinateSystemIterator class next() method retype the SimpleFeature object?","body":"<p>English is not my native language; please excuse typing errors.</p>\n<p>I have two questions</p>\n<p>Q1: ForceCoordinateSystemIterator.class next() method why not return the original SimpleFeature but retype the SimpleFeature?</p>\n<p>Q2: when use ForceCoordinateSystemIterator I cannot retrieve the original object to update this default geometry. what would be the best way to do that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>FeatureJSON featureJSON = new FeatureJSON(new GeometryJSON(15));\nInputStream is = Files.newInputStream(Paths.get(&quot;/arjen_data/rust/2.geojson&quot;));\nSimpleFeatureIterator simpleFeatureCollection2 = (SimpleFeatureCollection) featureJSON.readFeatureCollection(is);\ntry (SimpleFeatureIterator fit = simpleFeatureCollection2.features()) {\n            while (fit.hasNext()) {\n                // fit is ForceCoordinateSystemIterator.class\n                SimpleFeature next = fit.next(); // is retype object\n                Geometry defaultGeometry = (Geometry) next.getDefaultGeometry();\n                Geometry intersection = defaultGeometry.difference(union);\n                // update default Geometry\n                next.setDefaultGeometry(intersection);\n            }\n}\n</code></pre>\n<p>i read ForceCoordinateSystemIterator.class next() method source code. I have the two questions mentioned above now.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public SimpleFeature next() throws NoSuchElementException {\n        if (reader == null) {\n            throw new IllegalStateException(&quot;Reader has already been closed&quot;);\n        }\n\n        SimpleFeature next = reader.next();\n        if (builder == null) return next;\n\n        try {\n            // why retype? original object is bad?\n            return SimpleFeatureBuilder.retype(next, builder);\n        } catch (IllegalAttributeException eep) {\n            throw (IllegalStateException)\n                    new IllegalStateException(eep.getMessage()).initCause(eep);\n        }\n    }\n</code></pre>\n"},{"tags":["java","eclipse","maven","build"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":2,"creation_date":1700046597,"post_id":77487136,"comment_id":136606003,"body_markdown":"why on earth Java 1.7, if i may ask?","body":"why on earth Java 1.7, if i may ask?"},{"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1700046671,"post_id":77487136,"comment_id":136606017,"body_markdown":"Some of the code is compiled using Java 8 (class version 52) you must use at least Java 8 at run it. Java 7 has been end of life for years, you should be using something more up to date.","body":"Some of the code is compiled using Java 8 (class version 52) you must use at least Java 8 at run it. Java 7 has been end of life for years, you should be using something more up to date."}],"answers":[{"tags":[],"owner":{"account_id":6970618,"reputation":25,"user_id":5347120,"display_name":"Alfred Benigno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700048269,"creation_date":1700048269,"answer_id":77487392,"question_id":77487136,"body_markdown":"java.lang.UnsupportedClassVersionError means compile version is higher than the actual runtime. When you compile from eclipse, it uses the java compliance level you configured from your IDE. When you compile using maven, it uses the java version from your pom.xml file. Class version 52 you encountered is Java 8, not 7.\r\nMake sure your java (jdk not jre) version in your pom.xml file, under properties, is installed in your system. Once you set it, do `mvn dependency:sources dependency:resolve` then do a project update via the eclipse menu, then finally do `mvn clean install`\r\n\r\nSomething like \r\n\r\n\r\n\r\nTake a look at this post [unsupportedclassversion][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi","title":"cannot compile with eclipse","body":"<p>java.lang.UnsupportedClassVersionError means compile version is higher than the actual runtime. When you compile from eclipse, it uses the java compliance level you configured from your IDE. When you compile using maven, it uses the java version from your pom.xml file. Class version 52 you encountered is Java 8, not 7.\nMake sure your java (jdk not jre) version in your pom.xml file, under properties, is installed in your system. Once you set it, do <code>mvn dependency:sources dependency:resolve</code> then do a project update via the eclipse menu, then finally do <code>mvn clean install</code></p>\n<p>Something like</p>\n<p>Take a look at this post <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">unsupportedclassversion</a></p>\n"},{"tags":[],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700148727,"creation_date":1700148727,"answer_id":77496098,"question_id":77487136,"body_markdown":"Changing froom eclipse 2023_09 to 2019_09 it works well, because the maven embedded is an early version; So eclipse is not full compatibile with very old (very old :) ) version;\r\nHope some one can find it useful ","title":"cannot compile with eclipse","body":"<p>Changing froom eclipse 2023_09 to 2019_09 it works well, because the maven embedded is an early version; So eclipse is not full compatibile with very old (very old :) ) version;\nHope some one can find it useful</p>\n"}],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700148727,"creation_date":1700045747,"question_id":77487136,"body_markdown":"I&#39;m trying to compile the project download from \r\n&gt; https://mkyong.com/tutorials/jsf-2-0-tutorials/\r\n using eclipe, when I run from command line\r\n`mvn clean compile pakage` \r\neverything goes well:\r\n\r\n`C:\\esempi\\JSF2.0-hello-world-example-2.1.7\\JavaServerFaces&gt;mvn -version\r\nApache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\r\nMaven home: C:\\Users\\a00569321\\sw\\apache-maven-3.8.8-bin\\apache-maven-3.8.8\r\nJava version: 1.7.0_13, vendor: Oracle Corporation, runtime: C:\\Users\\a00569321\\sw\\jdk1.7.0_13\\jre\r\nDefault locale: en_US, platform encoding: Cp1252\r\nOS name: &quot;windows 8&quot;, version: &quot;6.2&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;`\r\n\r\n\r\n\r\n\r\nbut when I try to compile using eclipse, I get:\r\n[![enter image description here](https://i.stack.imgur.com/0MjxV.png)](https://i.stack.imgur.com/0MjxV.png)\r\n\r\n\r\n\r\nand My eclipse configuration is:build path\r\n[![enter image description here](https://i.stack.imgur.com/iQMwh.png)](https://i.stack.imgur.com/iQMwh.png)\r\n\r\nCompile\r\n[![enter image description here](https://i.stack.imgur.com/crhw3.png)](https://i.stack.imgur.com/crhw3.png)\r\n\r\n\r\nand configuration\r\n[![enter image description here](https://i.stack.imgur.com/kRcp7.png)](https://i.stack.imgur.com/kRcp7.png)\r\n\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/EDaMj.png)](https://i.stack.imgur.com/EDaMj.png)\r\n\r\n\r\n \r\n\r\nI&#39;ve tried to change almost everything (java istallation, binary of maven, change compiler used by ecplipse);\r\nI&#39;m expecting to compile as i did using maven;","title":"cannot compile with eclipse","body":"<p>I'm trying to compile the project download from</p>\n<blockquote>\n<p><a href=\"https://mkyong.com/tutorials/jsf-2-0-tutorials/\" rel=\"nofollow noreferrer\">https://mkyong.com/tutorials/jsf-2-0-tutorials/</a>\nusing eclipe, when I run from command line\n<code>mvn clean compile pakage</code>\neverything goes well:</p>\n</blockquote>\n<p><code>C:\\esempi\\JSF2.0-hello-world-example-2.1.7\\JavaServerFaces&gt;mvn -version Apache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39) Maven home: C:\\Users\\a00569321\\sw\\apache-maven-3.8.8-bin\\apache-maven-3.8.8 Java version: 1.7.0_13, vendor: Oracle Corporation, runtime: C:\\Users\\a00569321\\sw\\jdk1.7.0_13\\jre Default locale: en_US, platform encoding: Cp1252 OS name: &quot;windows 8&quot;, version: &quot;6.2&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;</code></p>\n<p>but when I try to compile using eclipse, I get:\n<a href=\"https://i.stack.imgur.com/0MjxV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0MjxV.png\" alt=\"enter image description here\" /></a></p>\n<p>and My eclipse configuration is:build path\n<a href=\"https://i.stack.imgur.com/iQMwh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iQMwh.png\" alt=\"enter image description here\" /></a></p>\n<p>Compile\n<a href=\"https://i.stack.imgur.com/crhw3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/crhw3.png\" alt=\"enter image description here\" /></a></p>\n<p>and configuration\n<a href=\"https://i.stack.imgur.com/kRcp7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kRcp7.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EDaMj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDaMj.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried to change almost everything (java istallation, binary of maven, change compiler used by ecplipse);\nI'm expecting to compile as i did using maven;</p>\n"},{"tags":["java","hibernate","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700148774,"post_id":77496086,"comment_id":136621353,"body_markdown":"The recommended approach, don&#39;t. When an exception occurs the state of the session is invalid / uncertain. If you want to commit in between use multiple transactions or use savepoints.","body":"The recommended approach, don&#39;t. When an exception occurs the state of the session is invalid / uncertain. If you want to commit in between use multiple transactions or use savepoints."},{"owner":{"account_id":17341040,"reputation":13,"user_id":13792906,"display_name":"Eduardo"},"score":0,"creation_date":1700152835,"post_id":77496086,"comment_id":136622280,"body_markdown":"Could you give an example please?","body":"Could you give an example please?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700159045,"post_id":77496086,"comment_id":136623323,"body_markdown":"Your code also looks flawed, as you are re-using a `transaction` field which is probably at the class level, which feels wrong, especially if that is in a singleton object. Start a transaction, and each x elements do a flush, clear and commit and start a new transaction. That way you will only loose the last x records (maximal) that you processed. Or, if your database supports it, you can use savepoints and do intermediate commits on a single transaction (but that depends on your database).","body":"Your code also looks flawed, as you are re-using a <code>transaction</code> field which is probably at the class level, which feels wrong, especially if that is in a singleton object. Start a transaction, and each x elements do a flush, clear and commit and start a new transaction. That way you will only loose the last x records (maximal) that you processed. Or, if your database supports it, you can use savepoints and do intermediate commits on a single transaction (but that depends on your database)."}],"owner":{"account_id":17341040,"reputation":13,"user_id":13792906,"display_name":"Eduardo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700148637,"creation_date":1700148637,"question_id":77496086,"body_markdown":"I&#39;m facing an issue when trying to commit with Hibernate after an exception occurs during the persistence of a list of objects. My code utilizes Hibernate to persist objects in a database, and I would like to ensure that the objects that were successfully processed up to the point of the error are saved in the database, even after an exception.\r\n\r\nCurrently, my method looks like this:\r\n\r\n    private void persist(List&lt;T&gt; entities, Boolean commitInError, boolean isSaveOrUpdate) {\r\n            try {\r\n                transaction = session.beginTransaction();\r\n                \r\n                for (T entity : entities) {\r\n                \tif (isSaveOrUpdate) {\r\n                \t\tsession.merge(entity);\r\n                \t} else {\r\n                \t\tsession.remove(entity);\r\n                \t}\r\n    \t\t\t}\r\n                \r\n                transaction.commit();\r\n            } catch (Exception e) {\r\n                if (transaction != null) {\r\n                    if (commitInError) {\r\n                        try {\r\n                            transaction.commit();\r\n                        } catch (Exception e2) {\r\n                            throw e2;\r\n                        }\r\n                    } else {\r\n                        transaction.rollback();\r\n                    }\r\n                }\r\n                throw e;\r\n            } finally {\r\n                close();\r\n            }\r\n        }\r\n\r\nI&#39;d like to know if anyone has encountered a similar issue when trying to commit with Hibernate after an exception during the persistence of a list of objects. Is there any recommended solution or approach to handle this situation?\r\n\r\nThank you in advance for your assistance!\r\n\r\nI use hibernate 6.3.1.Final","title":"Issue with Hibernate commit after exception while persisting a list of objects","body":"<p>I'm facing an issue when trying to commit with Hibernate after an exception occurs during the persistence of a list of objects. My code utilizes Hibernate to persist objects in a database, and I would like to ensure that the objects that were successfully processed up to the point of the error are saved in the database, even after an exception.</p>\n<p>Currently, my method looks like this:</p>\n<pre><code>private void persist(List&lt;T&gt; entities, Boolean commitInError, boolean isSaveOrUpdate) {\n        try {\n            transaction = session.beginTransaction();\n            \n            for (T entity : entities) {\n                if (isSaveOrUpdate) {\n                    session.merge(entity);\n                } else {\n                    session.remove(entity);\n                }\n            }\n            \n            transaction.commit();\n        } catch (Exception e) {\n            if (transaction != null) {\n                if (commitInError) {\n                    try {\n                        transaction.commit();\n                    } catch (Exception e2) {\n                        throw e2;\n                    }\n                } else {\n                    transaction.rollback();\n                }\n            }\n            throw e;\n        } finally {\n            close();\n        }\n    }\n</code></pre>\n<p>I'd like to know if anyone has encountered a similar issue when trying to commit with Hibernate after an exception during the persistence of a list of objects. Is there any recommended solution or approach to handle this situation?</p>\n<p>Thank you in advance for your assistance!</p>\n<p>I use hibernate 6.3.1.Final</p>\n"},{"tags":["java","kubernetes","memory-management","jvm"],"comments":[{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":1,"creation_date":1700152973,"post_id":77496062,"comment_id":136622304,"body_markdown":"Isn&#39;t MaxRam just the maximum ram of the POD?  It&#39;s set to your 2gb limit.  I suspect max means max memory of the machine, and not the JVM&#39;s max memory.  With a -XX:MaxRAMPercentage =50 would mean the JVM heap gets 1GB which is reflected in Grafana with the Max JVM heap size, and your program is taking up ~200mb of that heap.  I don&#39;t think there is any wild non-heap usage.","body":"Isn&#39;t MaxRam just the maximum ram of the POD?  It&#39;s set to your 2gb limit.  I suspect max means max memory of the machine, and not the JVM&#39;s max memory.  With a -XX:MaxRAMPercentage =50 would mean the JVM heap gets 1GB which is reflected in Grafana with the Max JVM heap size, and your program is taking up ~200mb of that heap.  I don&#39;t think there is any wild non-heap usage."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700154097,"post_id":77496062,"comment_id":136622538,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":4210603,"reputation":94346,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1700525928,"post_id":77496062,"comment_id":136663159,"body_markdown":"See https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438","body":"See <a href=\"https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438\" title=\"java using much more memory than heap size or size correctly docker memory limi\">stackoverflow.com/questions/53451103/&hellip;</a>"}],"owner":{"account_id":29602990,"reputation":1,"user_id":22687991,"display_name":"Eugen Gerb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700148528,"creation_date":1700148453,"question_id":77496062,"body_markdown":"I have a Kubernetes Pod running a Java 17 application in a container. The Pod is configured with 2GB requested and limited memory.\r\n\r\nFor the Java 17 app, I&#39;ve set the flag -XX:MaxRAMPercentage=50, and the -XX:+UseContainerSupport flag is enabled by default.\r\n\r\nI&#39;ve collected JVM memory metrics (used, max, and committed) using Prometheus, and I&#39;ve noticed that the non-heap memory seems to have an unusually high max value.\r\n\r\nHere&#39;s a screenshot from a JVM Memory Grafana chart of the selected Pod:\r\n\r\n[JVM Memory Grafana Chart](https://i.stack.imgur.com/sTFdH.png)\r\n\r\n[MaxRAM][1]\r\n\r\n[MaxHeapSize][2]\r\n\r\nI understand that besides the Java Heap, the Non-Heap (e.g., Metaspace) also plays a role and appears to be the culprit. However, I&#39;m puzzled as to why the Non-Heap max memory is so high.\r\n\r\nMy specific questions are:\r\n\r\n- How does Prometheus calculate jvm_memory_max_bytes?\r\n\r\n- How can I determine why and where this additional max JVM memory for Non-Heap is coming from?\r\n\r\nThank you for any insights or guidance!\r\n\r\nI have tried to use the different values for the -XX:MaxRAMPercentage flag.\r\n\r\nI have not been able to use tools like jmap or jcmd because the image is a JRE.\r\n\r\nIs the JProfiler suitable to help me with this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3pG9Z.png\r\n  [2]: https://i.stack.imgur.com/7biEk.png","title":"Excessive Max Memory in Non-Heap for Java 17 App on Kubernetes Pod","body":"<p>I have a Kubernetes Pod running a Java 17 application in a container. The Pod is configured with 2GB requested and limited memory.</p>\n<p>For the Java 17 app, I've set the flag -XX:MaxRAMPercentage=50, and the -XX:+UseContainerSupport flag is enabled by default.</p>\n<p>I've collected JVM memory metrics (used, max, and committed) using Prometheus, and I've noticed that the non-heap memory seems to have an unusually high max value.</p>\n<p>Here's a screenshot from a JVM Memory Grafana chart of the selected Pod:</p>\n<p><a href=\"https://i.stack.imgur.com/sTFdH.png\" rel=\"nofollow noreferrer\">JVM Memory Grafana Chart</a></p>\n<p><a href=\"https://i.stack.imgur.com/3pG9Z.png\" rel=\"nofollow noreferrer\">MaxRAM</a></p>\n<p><a href=\"https://i.stack.imgur.com/7biEk.png\" rel=\"nofollow noreferrer\">MaxHeapSize</a></p>\n<p>I understand that besides the Java Heap, the Non-Heap (e.g., Metaspace) also plays a role and appears to be the culprit. However, I'm puzzled as to why the Non-Heap max memory is so high.</p>\n<p>My specific questions are:</p>\n<ul>\n<li><p>How does Prometheus calculate jvm_memory_max_bytes?</p>\n</li>\n<li><p>How can I determine why and where this additional max JVM memory for Non-Heap is coming from?</p>\n</li>\n</ul>\n<p>Thank you for any insights or guidance!</p>\n<p>I have tried to use the different values for the -XX:MaxRAMPercentage flag.</p>\n<p>I have not been able to use tools like jmap or jcmd because the image is a JRE.</p>\n<p>Is the JProfiler suitable to help me with this problem?</p>\n"},{"tags":["java","jsp","struts2","ognl"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466199843,"creation_date":1430387782,"answer_id":29964566,"question_id":29948692,"body_markdown":"In Struts 2 you don&#39;t have to use `jsp:useBean` tag to get access to some bean properties/methods. \r\n\r\nYou also don&#39;t have to call JSP directly, everything is done through the action. The action class that you configure in the Struts configuration, i.e. `struts.xml` could be used instead of `jsp:useBean`. \r\n\r\nYou can also configure a method of this class used to map the action. When action is called Struts instantiates an action bean defined in the configuration and populates its properties. This instance is available in JSP that the action returns as a result. To use these properties or methods you should use OGNL, or JSTL EL.  ","title":"How to call Java methods from JSP page in Struts 2","body":"<p>In Struts 2 you don't have to use <code>jsp:useBean</code> tag to get access to some bean properties/methods. </p>\n\n<p>You also don't have to call JSP directly, everything is done through the action. The action class that you configure in the Struts configuration, i.e. <code>struts.xml</code> could be used instead of <code>jsp:useBean</code>. </p>\n\n<p>You can also configure a method of this class used to map the action. When action is called Struts instantiates an action bean defined in the configuration and populates its properties. This instance is available in JSP that the action returns as a result. To use these properties or methods you should use OGNL, or JSTL EL.  </p>\n"}],"owner":{"account_id":1992570,"reputation":1,"user_id":1786269,"display_name":"amit_dhnbd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700148511,"creation_date":1430322586,"question_id":29948692,"body_markdown":"I am new to Struts 2, (switched from jsp to Struts2)\r\n\r\nI have 3 java class files and 4 jsp pages in a Struts2 application\r\nI have to call 2 different methods of one java class file (let class_01) \r\nfrom a jsp page (let `methodCallerJsp.jsp`)\r\n\r\nIn jsp I use Java bean as:\r\n\r\n    &lt;jsp:useBean id=&quot;class_01-obj&quot; class=&quot;package.class_01&quot;/&gt; \r\nAnd then fetch method by:\r\n\r\n    class_01-obj.method_AA();\r\n\r\nHow can I do the same thing in Struts2?","title":"How to call Java methods from JSP page in Struts 2","body":"<p>I am new to Struts 2, (switched from jsp to Struts2)</p>\n\n<p>I have 3 java class files and 4 jsp pages in a Struts2 application\nI have to call 2 different methods of one java class file (let class_01) \nfrom a jsp page (let <code>methodCallerJsp.jsp</code>)</p>\n\n<p>In jsp I use Java bean as:</p>\n\n<pre><code>&lt;jsp:useBean id=\"class_01-obj\" class=\"package.class_01\"/&gt; \n</code></pre>\n\n<p>And then fetch method by:</p>\n\n<pre><code>class_01-obj.method_AA();\n</code></pre>\n\n<p>How can I do the same thing in Struts2?</p>\n"},{"tags":["java","maven","jsp","tomcat","web-applications"],"comments":[{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700148602,"post_id":77496038,"comment_id":136621324,"body_markdown":"By &#39;class&#39;, I&#39;m assuming you mean a Java source file, not the compiled class; You&#39;ve included a &#39;maven&#39; tag, so I&#39;m assuming you&#39;re using Maven to build a war file; Are these assumptions correct?","body":"By &#39;class&#39;, I&#39;m assuming you mean a Java source file, not the compiled class; You&#39;ve included a &#39;maven&#39; tag, so I&#39;m assuming you&#39;re using Maven to build a war file; Are these assumptions correct?"},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700148699,"post_id":77496038,"comment_id":136621342,"body_markdown":"No, i use a `.class` file and yes I use maven to build a war","body":"No, i use a <code>.class</code> file and yes I use maven to build a war"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700148814,"post_id":77496038,"comment_id":136621360,"body_markdown":"OK, is the `DbUtilities` class in a package?","body":"OK, is the <code>DbUtilities</code> class in a package?"},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700148872,"post_id":77496038,"comment_id":136621377,"body_markdown":"No, is directly in `classes`","body":"No, is directly in <code>classes</code>"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700149032,"post_id":77496038,"comment_id":136621422,"body_markdown":"That&#39;s not what dictates whether or not the class is in a package; is there a `package` declaration in the source for `DbUtilities`?","body":"That&#39;s not what dictates whether or not the class is in a package; is there a <code>package</code> declaration in the source for <code>DbUtilities</code>?"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1700149151,"post_id":77496038,"comment_id":136621446,"body_markdown":"Maybe check this https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package","body":"Maybe check this <a href=\"https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package\" title=\"how to access java classes in the default package\">stackoverflow.com/questions/283816/&hellip;</a>"},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700149223,"post_id":77496038,"comment_id":136621464,"body_markdown":"Not package declaration in the source file, only import of classes","body":"Not package declaration in the source file, only import of classes"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700149522,"post_id":77496038,"comment_id":136621539,"body_markdown":"Have you checked the class file is in the war file?  I think the Maven war plugin might treat the `classes` directory as special, as in it expects to create it.  If you put `DbUtilities.class` in `src/main/resources`, the Maven war plugin will put it in the `WEB-INF/classes` directory in the war file when you run the build.","body":"Have you checked the class file is in the war file?  I think the Maven war plugin might treat the <code>classes</code> directory as special, as in it expects to create it.  If you put <code>DbUtilities.class</code> in <code>src&#47;main&#47;resources</code>, the Maven war plugin will put it in the <code>WEB-INF&#47;classes</code> directory in the war file when you run the build."},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700149684,"post_id":77496038,"comment_id":136621586,"body_markdown":"In the `target` directory is effectively under `WEB-INF/classes`","body":"In the <code>target</code> directory is effectively under <code>WEB-INF&#47;classes</code>"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700149828,"post_id":77496038,"comment_id":136621637,"body_markdown":"In the war or on your file system?","body":"In the war or on your file system?"},{"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"score":0,"creation_date":1700149928,"post_id":77496038,"comment_id":136621657,"body_markdown":"in both, also in the war","body":"in both, also in the war"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700153618,"post_id":77496038,"comment_id":136622435,"body_markdown":"Right, sorry I&#39;m being daft - Java does not support imports from the default package; see this answer - https://stackoverflow.com/questions/2030148/whats-the-syntax-to-import-a-class-in-a-default-package-in-java.  In short, you need to put `DbUtilities` in a package.","body":"Right, sorry I&#39;m being daft - Java does not support imports from the default package; see this answer - <a href=\"https://stackoverflow.com/questions/2030148/whats-the-syntax-to-import-a-class-in-a-default-package-in-java\" title=\"whats the syntax to import a class in a default package in java\">stackoverflow.com/questions/2030148/&hellip;</a>.  In short, you need to put <code>DbUtilities</code> in a package."}],"owner":{"account_id":29919169,"reputation":1,"user_id":22928718,"display_name":"Tommaso Pastorelli"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700155310,"answer_count":0,"score":0,"last_activity_date":1700148254,"creation_date":1700148254,"question_id":77496038,"body_markdown":"A class that is in `src/main/webapp/WEB-INF/classes` and the `.jsp` file doesn&#39;t read that class.\r\n\r\nI have a class called `DbUtilities` in `src/main/webapp/WEB-INF/classes` directory. The `index.jsp` file doesn&#39;t read that class.\r\nRunning the application, I have this error:\r\n\r\n```\r\nAn error occurred at line: [14] in the generated java file: [/usr/local/tomcat/work/Catalina/localhost/UsersLoginTomcat/org/apache/jsp/index_jsp.java]\r\nThe import DbUtilities cannot be resolved\r\n```\r\n```\r\nAn error occurred at line: [33] in the jsp file: [/index.jsp]\r\nDbUtilities cannot be resolved\r\n```","title":"Import class in file jsp","body":"<p>A class that is in <code>src/main/webapp/WEB-INF/classes</code> and the <code>.jsp</code> file doesn't read that class.</p>\n<p>I have a class called <code>DbUtilities</code> in <code>src/main/webapp/WEB-INF/classes</code> directory. The <code>index.jsp</code> file doesn't read that class.\nRunning the application, I have this error:</p>\n<pre><code>An error occurred at line: [14] in the generated java file: [/usr/local/tomcat/work/Catalina/localhost/UsersLoginTomcat/org/apache/jsp/index_jsp.java]\nThe import DbUtilities cannot be resolved\n</code></pre>\n<pre><code>An error occurred at line: [33] in the jsp file: [/index.jsp]\nDbUtilities cannot be resolved\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","openapi","openapi-generator"],"owner":{"account_id":20813557,"reputation":11,"user_id":16476443,"display_name":"Arthur Shtypuliak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700148235,"creation_date":1700148235,"question_id":77496034,"body_markdown":"Recently I tried to use OpenAPI tools for generating API from spec (yaml file with endpoints desciption). All configuration is pretty common with added mappings for schema and where it is placed in src directory.\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &quot;2.7.17&quot;\r\n    id &#39;io.spring.dependency-management&#39; version &quot;1.0.15.RELEASE&quot;\r\n    id &quot;org.openapi.generator&quot; version &quot;6.6.0&quot;\r\n}\r\n\r\ngroup = &#39;com.example.file.service&#39;\r\nversion = &#39;undefined&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &quot;org.springdoc:springdoc-openapi-ui:1.7.0&quot;\r\n    implementation &quot;org.openapitools:jackson-databind-nullable:0.2.6&quot;\r\n    implementation platform(&quot;software.amazon.awssdk:bom:2.20.45&quot;)\r\n    implementation &quot;software.amazon.awssdk:s3&quot;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\nopenApiValidate {\r\n    inputSpec = &quot;$rootDir/src/main/resources/server-api.yml&quot;\r\n}\r\n\r\nopenApiGenerate {\r\n    generatorName = &quot;spring&quot;\r\n    inputSpec = &quot;$rootDir/src/main/resources/server-api.yml&quot;\r\n    outputDir = &quot;$buildDir/generated&quot;\r\n    apiPackage = &quot;com.example.file.service.controller&quot;\r\n    modelPackage = &quot;com.example.file.service.model&quot;\r\n    configOptions = [\r\n            dateLibrary  : &quot;java8&quot;,\r\n            interfaceOnly: &quot;true&quot;,\r\n            useTags      : &quot;true&quot;\r\n    ]\r\n    importMappings = [\r\n            &quot;FileMetaDTO&quot;: &quot;com.example.file.service.dto.FileMetaDTO&quot;,\r\n            &quot;ErrorDTO&quot;: &quot;com.example.file.service.dto.ErrorDTO&quot;,\r\n    ]\r\n}\r\n\r\ntasks.openApiGenerate.dependsOn tasks.processResources\r\ncompileJava.dependsOn tasks.openApiGenerate\r\nsourceSets.main.java.srcDir &quot;$buildDir/generated/src/main/java&quot;\r\nsourceSets.main.resources.srcDir &quot;$buildDir/generated/src/main/resources&quot;\r\n```\r\n\r\nHere is the example of openAPI yaml file with declared endpoint:\r\n\r\n```\r\nopenapi: 3.0.3\r\ninfo:\r\n  title: Cloud Storage File Service\r\n  version: 1.0.0\r\npaths:\r\n  # UploadFileController\r\n  /cs-api/files/data:\r\n    post:\r\n      tags:\r\n        - upload-file-controller\r\n      summary: Upload file\r\n      operationId: uploadFile\r\n      requestBody:\r\n        content:\r\n          multipart/form-data:\r\n            schema:\r\n              type: object\r\n              required: [ &quot;file&quot; ]\r\n              properties:\r\n                file:\r\n                  type: string\r\n                  format: binary\r\n        required: true\r\n        description: File for saving\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: OK\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: FileMetaDTO\r\n```\r\nCurrently everything works fine, but I find it annoying when during openApiGenerate task in logs I see messages like &#39;#/components/schemas/{pojo object} is not defined&#39; and after that message with donation link.\r\nHere is example of message I get every time I build project:\r\n\r\n```\r\n&gt; Task :processResources\r\n\r\n&gt; Task :openApiGenerate\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n#/components/schemas/FileMetaDTO is not defined\r\n################################################################################\r\n# Thanks for using OpenAPI Generator.                                          #\r\n# Please consider donation to help us maintain this project ?                 #\r\n# https://opencollective.com/openapi_generator/donate                          #\r\n################################################################################\r\nSuccessfully generated code to C:\\Users\\rifleman99\\Develop-projects\\file-service\\build/generated\r\n\r\n&gt; Task :compileJava\r\n&gt; Task :classes\r\n&gt; Task :bootJarMainClassName\r\n```\r\n\r\nViewed different resources bu didn&#39;t find any relevant to my problem.\r\nIs there any possible way to disable this type of messages for this task during build execution.","title":"How to suppress log messages for openApiGenerate task in gradle?","body":"<p>Recently I tried to use OpenAPI tools for generating API from spec (yaml file with endpoints desciption). All configuration is pretty common with added mappings for schema and where it is placed in src directory.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version &quot;2.7.17&quot;\n    id 'io.spring.dependency-management' version &quot;1.0.15.RELEASE&quot;\n    id &quot;org.openapi.generator&quot; version &quot;6.6.0&quot;\n}\n\ngroup = 'com.example.file.service'\nversion = 'undefined'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation &quot;org.springdoc:springdoc-openapi-ui:1.7.0&quot;\n    implementation &quot;org.openapitools:jackson-databind-nullable:0.2.6&quot;\n    implementation platform(&quot;software.amazon.awssdk:bom:2.20.45&quot;)\n    implementation &quot;software.amazon.awssdk:s3&quot;\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nopenApiValidate {\n    inputSpec = &quot;$rootDir/src/main/resources/server-api.yml&quot;\n}\n\nopenApiGenerate {\n    generatorName = &quot;spring&quot;\n    inputSpec = &quot;$rootDir/src/main/resources/server-api.yml&quot;\n    outputDir = &quot;$buildDir/generated&quot;\n    apiPackage = &quot;com.example.file.service.controller&quot;\n    modelPackage = &quot;com.example.file.service.model&quot;\n    configOptions = [\n            dateLibrary  : &quot;java8&quot;,\n            interfaceOnly: &quot;true&quot;,\n            useTags      : &quot;true&quot;\n    ]\n    importMappings = [\n            &quot;FileMetaDTO&quot;: &quot;com.example.file.service.dto.FileMetaDTO&quot;,\n            &quot;ErrorDTO&quot;: &quot;com.example.file.service.dto.ErrorDTO&quot;,\n    ]\n}\n\ntasks.openApiGenerate.dependsOn tasks.processResources\ncompileJava.dependsOn tasks.openApiGenerate\nsourceSets.main.java.srcDir &quot;$buildDir/generated/src/main/java&quot;\nsourceSets.main.resources.srcDir &quot;$buildDir/generated/src/main/resources&quot;\n</code></pre>\n<p>Here is the example of openAPI yaml file with declared endpoint:</p>\n<pre><code>openapi: 3.0.3\ninfo:\n  title: Cloud Storage File Service\n  version: 1.0.0\npaths:\n  # UploadFileController\n  /cs-api/files/data:\n    post:\n      tags:\n        - upload-file-controller\n      summary: Upload file\n      operationId: uploadFile\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              type: object\n              required: [ &quot;file&quot; ]\n              properties:\n                file:\n                  type: string\n                  format: binary\n        required: true\n        description: File for saving\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: FileMetaDTO\n</code></pre>\n<p>Currently everything works fine, but I find it annoying when during openApiGenerate task in logs I see messages like '#/components/schemas/{pojo object} is not defined' and after that message with donation link.\nHere is example of message I get every time I build project:</p>\n<pre><code>&gt; Task :processResources\n\n&gt; Task :openApiGenerate\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n#/components/schemas/FileMetaDTO is not defined\n################################################################################\n# Thanks for using OpenAPI Generator.                                          #\n# Please consider donation to help us maintain this project ?                 #\n# https://opencollective.com/openapi_generator/donate                          #\n################################################################################\nSuccessfully generated code to C:\\Users\\rifleman99\\Develop-projects\\file-service\\build/generated\n\n&gt; Task :compileJava\n&gt; Task :classes\n&gt; Task :bootJarMainClassName\n</code></pre>\n<p>Viewed different resources bu didn't find any relevant to my problem.\nIs there any possible way to disable this type of messages for this task during build execution.</p>\n"},{"tags":["java",".net","security","session","authorization"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675094083,"post_id":75286884,"comment_id":132849299,"body_markdown":"How do you define &quot;general practise&quot;, and why do you assume there is one?","body":"How do you define &quot;general practise&quot;, and why do you assume there is one?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675094406,"post_id":75286884,"comment_id":132849412,"body_markdown":"&quot;*Can a session be shared amongst the 2 services written in different technology?*&quot; Yes because a session is not a language construct, at least in any language I know about.","body":"&quot;<i>Can a session be shared amongst the 2 services written in different technology?</i>&quot; Yes because a session is not a language construct, at least in any language I know about."}],"owner":{"account_id":1044026,"reputation":2141,"user_id":1049391,"accept_rate":62,"display_name":"AbhishekB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700148174,"creation_date":1675093997,"question_id":75286884,"body_markdown":"What is the general practise for handling Authentication in a polyglot architecture (e.g. Java and .Net Server)\r\n\r\nCan a session be shared amongst the 2 services written in different technology?","title":"Implementing Authorization in Polyglot Architecture","body":"<p>What is the general practise for handling Authentication in a polyglot architecture (e.g. Java and .Net Server)</p>\n<p>Can a session be shared amongst the 2 services written in different technology?</p>\n"},{"tags":["java","spring-boot","intellij-idea","code-coverage","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1700148451,"post_id":77495968,"comment_id":136621300,"body_markdown":"So you found out that Java’s -cp option does not work with wildcards, just as described in the documentation. What is your question?","body":"So you found out that Java’s -cp option does not work with wildcards, just as described in the documentation. What is your question?"}],"owner":{"account_id":20090370,"reputation":1,"user_id":14731005,"display_name":"Hassan Shamseddine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700147573,"creation_date":1700147573,"question_id":77495968,"body_markdown":"So I have been trying to use intelliJ coverage agent &quot;intellij-coverage-agent-1.0.735.jar&quot; to generate a report for test coverage same as intellij&#39;s results. To execute the tests I have to use the junit5 platform console &quot;junit-platform-console-standalone-1.10.1.jar&quot;. But, this method produced the following errors:\r\n\r\n```\r\n$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes:target/test-classes/\r\n \r\nFailures (1):\r\n  JUnit Jupiter:ExampleTest:evensTest()\r\n    MethodSource [className = &#39;x.y.codecoverage.example.ExampleTest&#39;, methodName = &#39;evensTest&#39;, methodParameterTypes = &#39;&#39;]\r\n    =&gt; java.lang.NoClassDefFoundError: com/google/libs/lib/LibName\r\n```\r\n\r\nThe cause of this issue, is that junit console requires libraries to execute the tests. So I used maven-dependency-plugin to generate the libs to a directory inside the project and I passed the path of that directory with an &quot;*&quot; to the `--classpath`/`-cp` like this:\r\n\r\n```\r\n$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes/:target/test-classes/:target/lib/*\r\n```\r\n\r\nBut to no avail, the issue persists.\r\n\r\nEventually I tried to specify the name of the lib in the classpath like the following:\r\n\r\n```\r\n$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes/:target/test-classes/:target/lib/LibName.jar\r\n```\r\n\r\nAnd it worked. But now I have to pass the libs for every project and I am trying to use this inside a CI/CD pipeline for all maven projects and doing it manually or through a script sounds counter intuitive.\r\n\r\nIf you need more info please do let me know.\r\nI appreciate your help.","title":"junit platform console &quot;--classpath DIR/*&quot; doesn&#39;t work","body":"<p>So I have been trying to use intelliJ coverage agent &quot;intellij-coverage-agent-1.0.735.jar&quot; to generate a report for test coverage same as intellij's results. To execute the tests I have to use the junit5 platform console &quot;junit-platform-console-standalone-1.10.1.jar&quot;. But, this method produced the following errors:</p>\n<pre><code>$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes:target/test-classes/\n \nFailures (1):\n  JUnit Jupiter:ExampleTest:evensTest()\n    MethodSource [className = 'x.y.codecoverage.example.ExampleTest', methodName = 'evensTest', methodParameterTypes = '']\n    =&gt; java.lang.NoClassDefFoundError: com/google/libs/lib/LibName\n</code></pre>\n<p>The cause of this issue, is that junit console requires libraries to execute the tests. So I used maven-dependency-plugin to generate the libs to a directory inside the project and I passed the path of that directory with an &quot;*&quot; to the <code>--classpath</code>/<code>-cp</code> like this:</p>\n<pre><code>$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes/:target/test-classes/:target/lib/*\n</code></pre>\n<p>But to no avail, the issue persists.</p>\n<p>Eventually I tried to specify the name of the lib in the classpath like the following:</p>\n<pre><code>$ java -javaagent:intellij-coverage-agent-1.0.735.jar=config.args -jar junit-platform-console-standalone-1.10.1.jar --scan-classpath -cp target/classes/:target/test-classes/:target/lib/LibName.jar\n</code></pre>\n<p>And it worked. But now I have to pass the libs for every project and I am trying to use this inside a CI/CD pipeline for all maven projects and doing it manually or through a script sounds counter intuitive.</p>\n<p>If you need more info please do let me know.\nI appreciate your help.</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"score":0,"creation_date":1343817482,"post_id":11757348,"comment_id":15609061,"body_markdown":"Is there a reason why you need to capture log time in milliseconds? Logs are printed in order of execution anyway.","body":"Is there a reason why you need to capture log time in milliseconds? Logs are printed in order of execution anyway."},{"owner":{"account_id":1658584,"reputation":4191,"user_id":1527394,"accept_rate":85,"display_name":"alicjasalamon"},"score":0,"creation_date":1343817695,"post_id":11757348,"comment_id":15609153,"body_markdown":"@RajeshJAdvani I try to gather logs from distributed system and calculate time difference between them. I need reliable information when the log was generated.","body":"@RajeshJAdvani I try to gather logs from distributed system and calculate time difference between them. I need reliable information when the log was generated."}],"answers":[{"tags":[],"owner":{"account_id":1313412,"reputation":1011,"user_id":1260901,"display_name":"turankonan"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1430149413,"creation_date":1343817520,"answer_id":11757454,"question_id":11757348,"body_markdown":"You can try this one.\r\n\r\n    log4j.appender.appender_name.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.appender_name.layout.ConversionPattern=%d %p [%c] - %m%n\r\n\r\nDate params `%d`. For example : `%d{HH:mm:ss,SSS}`.\r\n\r\nhttp://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html","title":"log4j : current time in milliseconds","body":"<p>You can try this one.</p>\n\n<pre><code>log4j.appender.appender_name.layout=org.apache.log4j.PatternLayout\nlog4j.appender.appender_name.layout.ConversionPattern=%d %p [%c] - %m%n\n</code></pre>\n\n<p>Date params <code>%d</code>. For example : <code>%d{HH:mm:ss,SSS}</code>.</p>\n\n<p><a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html</a></p>\n"},{"tags":[],"owner":{"account_id":1250235,"reputation":6632,"user_id":1210779,"accept_rate":65,"display_name":"Sai Ye Yan Naing Aye"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1343817627,"creation_date":1343817627,"answer_id":11757484,"question_id":11757348,"body_markdown":"Try this,\r\n\r\n       %d{dd MMM yyyy HH:mm:ss,SSS}","title":"log4j : current time in milliseconds","body":"<p>Try this,</p>\n\n<pre><code>   %d{dd MMM yyyy HH:mm:ss,SSS}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1539083558,"creation_date":1343817802,"answer_id":11757536,"question_id":11757348,"body_markdown":"There is no Log4J symbol that does exactly what you want.\r\n\r\n`%d` returns the current date with a given pattern, defined by a `SimpleDateFormat` (the pattern you put between the brackets), but doesn&#39;t give you the time in millis.\r\n\r\n`%r` gives the number of milliseconds **since the start of execution**.\r\n\r\nOne possible way of achieving what you want is to extend the behaviour of Log4j, it&#39;s quite a bit more complex, but if it&#39;s absolutely necessary... here you go:\r\n\r\n[Customize log4j][1] (edit: no longer online?)  \r\n[Customize log4j][2] (edit: 2018 alternative)\r\n\r\n**Edit**:\r\nKeep in mind that, from your comment, if you need to figure out time differences between executions in different machines, you have to make sure the clocks of the machines are synchronized, or it&#39;ll be leading you to wrong conclusions.\r\n\r\n\r\n  [1]: http://www.jajakarta.org/log4j/jakarta-log4j-1.1.3/docs/deepExtension.html\r\n  [2]: https://logging.apache.org/log4j/2.x/manual/extending.html","title":"log4j : current time in milliseconds","body":"<p>There is no Log4J symbol that does exactly what you want.</p>\n\n<p><code>%d</code> returns the current date with a given pattern, defined by a <code>SimpleDateFormat</code> (the pattern you put between the brackets), but doesn't give you the time in millis.</p>\n\n<p><code>%r</code> gives the number of milliseconds <strong>since the start of execution</strong>.</p>\n\n<p>One possible way of achieving what you want is to extend the behaviour of Log4j, it's quite a bit more complex, but if it's absolutely necessary... here you go:</p>\n\n<p><a href=\"http://www.jajakarta.org/log4j/jakarta-log4j-1.1.3/docs/deepExtension.html\" rel=\"nofollow noreferrer\">Customize log4j</a> (edit: no longer online?)<br>\n<a href=\"https://logging.apache.org/log4j/2.x/manual/extending.html\" rel=\"nofollow noreferrer\">Customize log4j</a> (edit: 2018 alternative)</p>\n\n<p><strong>Edit</strong>:\nKeep in mind that, from your comment, if you need to figure out time differences between executions in different machines, you have to make sure the clocks of the machines are synchronized, or it'll be leading you to wrong conclusions.</p>\n"},{"tags":[],"owner":{"account_id":1241819,"reputation":1392,"user_id":1204246,"accept_rate":75,"display_name":"thegeko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1492519471,"creation_date":1492519471,"answer_id":43472557,"question_id":11757348,"body_markdown":"You should be able to use `%d{UNIX_MILLIS}` From the [manual][1]:\r\n\r\n&gt; `%d{UNIX}` outputs the UNIX time in seconds. `%d{UNIX_MILLIS}` outputs the UNIX time in milliseconds. The UNIX time is the difference, in seconds for UNIX and in milliseconds for UNIX_MILLIS, between the current time and midnight, January 1, 1970 UTC. While the time unit is milliseconds, the granularity depends on the operating system (Windows). This is an efficient way to output the event time because only a conversion from long to String takes place, there is no Date formatting involved.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html","title":"log4j : current time in milliseconds","body":"<p>You should be able to use <code>%d{UNIX_MILLIS}</code> From the <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html\" rel=\"noreferrer\">manual</a>:</p>\n\n<blockquote>\n  <p><code>%d{UNIX}</code> outputs the UNIX time in seconds. <code>%d{UNIX_MILLIS}</code> outputs the UNIX time in milliseconds. The UNIX time is the difference, in seconds for UNIX and in milliseconds for UNIX_MILLIS, between the current time and midnight, January 1, 1970 UTC. While the time unit is milliseconds, the granularity depends on the operating system (Windows). This is an efficient way to output the event time because only a conversion from long to String takes place, there is no Date formatting involved.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10500003,"reputation":1,"user_id":7738995,"display_name":"Sriman Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700147111,"creation_date":1700147111,"answer_id":77495928,"question_id":11757348,"body_markdown":"Please refer to this page: https://logback.qos.ch/manual/layouts.html\r\nPattern should be: %date{HH:mm:ss.SSS}","title":"log4j : current time in milliseconds","body":"<p>Please refer to this page: <a href=\"https://logback.qos.ch/manual/layouts.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/layouts.html</a>\nPattern should be: %date{HH:mm:ss.SSS}</p>\n"}],"owner":{"account_id":1658584,"reputation":4191,"user_id":1527394,"accept_rate":85,"display_name":"alicjasalamon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35899,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":11757536,"answer_count":5,"score":18,"last_activity_date":1700147111,"creation_date":1343817074,"question_id":11757348,"body_markdown":"In `log4j.properties` I can set `PatternLayout` e.g. `(&quot;[%p] %c - %m - %d %n&quot;)`\r\n\r\nIs there any symbol (%something) which returns current time in milliseconds?","title":"log4j : current time in milliseconds","body":"<p>In <code>log4j.properties</code> I can set <code>PatternLayout</code> e.g. <code>(\"[%p] %c - %m - %d %n\")</code></p>\n\n<p>Is there any symbol (%something) which returns current time in milliseconds?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":9664593,"reputation":391,"user_id":7171454,"accept_rate":61,"display_name":"codehacker"},"score":0,"creation_date":1498560999,"post_id":44441328,"comment_id":76537532,"body_markdown":"From java consumer it is possible .","body":"From java consumer it is possible ."}],"answers":[{"tags":[],"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497002442,"creation_date":1497002442,"answer_id":44454853,"question_id":44441328,"body_markdown":"For kafka 9 there is nothing out-of-the-box that can print you that info.\r\n\r\nAccording to the code, message formatter gets key and value only.\r\n\r\n    try {\r\n        formatter.writeTo(msg.key, msg.value, System.out)\r\n    }\r\n\r\n`--property print.key=true` allows to print message key. \r\n\r\nIn kafka 10 there is one more useful param `print.timestamp`\r\n","title":"Kafka console consumer get partition","body":"<p>For kafka 9 there is nothing out-of-the-box that can print you that info.</p>\n\n<p>According to the code, message formatter gets key and value only.</p>\n\n<pre><code>try {\n    formatter.writeTo(msg.key, msg.value, System.out)\n}\n</code></pre>\n\n<p><code>--property print.key=true</code> allows to print message key. </p>\n\n<p>In kafka 10 there is one more useful param <code>print.timestamp</code></p>\n"},{"tags":[],"owner":{"account_id":6381118,"reputation":8062,"user_id":4950528,"display_name":"Hans Jespersen"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1700146979,"creation_date":1497072372,"answer_id":44469886,"question_id":44441328,"body_markdown":"Consider using a more powerful Kafka command line consumer like kafkacat https://github.com/edenhill/kafkacat/blob/master/README.md\r\n\r\nFor example, the following command will print the topic, partition, offset and message payload/value for each message consumed:\r\n\r\n`kcat -b &lt;broker&gt; -C -t &lt;topic&gt; -f &#39;%t %p @ %o: %s\\n&#39;`\r\n","title":"Kafka console consumer get partition","body":"<p>Consider using a more powerful Kafka command line consumer like kafkacat <a href=\"https://github.com/edenhill/kafkacat/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/edenhill/kafkacat/blob/master/README.md</a></p>\n<p>For example, the following command will print the topic, partition, offset and message payload/value for each message consumed:</p>\n<p><code>kcat -b &lt;broker&gt; -C -t &lt;topic&gt; -f '%t %p @ %o: %s\\n'</code></p>\n"},{"tags":[],"owner":{"account_id":3876064,"reputation":126,"user_id":3210078,"display_name":"MattyIceDev"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1700147090,"creation_date":1639628561,"answer_id":70373807,"question_id":44441328,"body_markdown":"I found I was successfully able to subscribe to a topic and output the key and partition using this --properties flag like so: \r\n\r\n```\r\nkafka-console-consumer \\\r\n  --topic &lt;some-topic&gt; \\\r\n  --bootstrap-server :9092 \\\r\n  --from-beginning \\\r\n  --property print.key=true \\\r\n  --property print.partition=true\t\r\n```\r\n\r\nIt gave me an output like this: \r\n\r\n```\r\nPartition:0\t&quot;3&quot;\t{&quot;id&quot;: 2}\r\n```","title":"Kafka console consumer get partition","body":"<p>I found I was successfully able to subscribe to a topic and output the key and partition using this --properties flag like so:</p>\n<pre><code>kafka-console-consumer \\\n  --topic &lt;some-topic&gt; \\\n  --bootstrap-server :9092 \\\n  --from-beginning \\\n  --property print.key=true \\\n  --property print.partition=true   \n</code></pre>\n<p>It gave me an output like this:</p>\n<pre><code>Partition:0 &quot;3&quot; {&quot;id&quot;: 2}\n</code></pre>\n"}],"owner":{"account_id":2939068,"reputation":2834,"user_id":2517384,"accept_rate":81,"display_name":"MeetJoeBlack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12945,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":44469886,"answer_count":3,"score":9,"last_activity_date":1700147090,"creation_date":1496940043,"question_id":44441328,"body_markdown":"I&#39;m using Kafka console consumer to consume messages from the topic with several partitions:\r\n\r\n    kafka-console-consumer.bat --bootstrap-server localhost:9092 --from-beginning --topic events\r\nBut it prints only message body. Is there any way to print record metadata or partition number as well? Cause I want to know where the message сonsumed from.\r\n\r\nI&#39;ve explored console consumer doc http://documentation.kamanja.org/_static/command-ref/kafka-console-consumer.pdf but didn&#39;t find any related properties.\r\n\r\n**UPDATED:**\r\n\r\nSo, as I see the only solution is to override *DefaultMessageFormatter.class* (we can set it by running kafka console consumer with *--formatter* property) and add custom logic that prints record metadata in the #writeTo(..) method. ","title":"Kafka console consumer get partition","body":"<p>I'm using Kafka console consumer to consume messages from the topic with several partitions:</p>\n\n<pre><code>kafka-console-consumer.bat --bootstrap-server localhost:9092 --from-beginning --topic events\n</code></pre>\n\n<p>But it prints only message body. Is there any way to print record metadata or partition number as well? Cause I want to know where the message сonsumed from.</p>\n\n<p>I've explored console consumer doc <a href=\"http://documentation.kamanja.org/_static/command-ref/kafka-console-consumer.pdf\" rel=\"noreferrer\">http://documentation.kamanja.org/_static/command-ref/kafka-console-consumer.pdf</a> but didn't find any related properties.</p>\n\n<p><strong>UPDATED:</strong></p>\n\n<p>So, as I see the only solution is to override <em>DefaultMessageFormatter.class</em> (we can set it by running kafka console consumer with <em>--formatter</em> property) and add custom logic that prints record metadata in the #writeTo(..) method. </p>\n"},{"tags":["java","jooq","java-17"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1700146919,"post_id":77495747,"comment_id":136620954,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1700147099,"post_id":77495747,"comment_id":136620999,"body_markdown":"Possible duplicate: [Java type list is ambiguous?](https://stackoverflow.com/questions/6048946/java-type-list-is-ambiguous) (different class, but essentially the same problem), and [reference to IndexOutOfBoundsException is ambiguous](https://stackoverflow.com/questions/2834253/reference-to-indexoutofboundsexception-is-ambiguous).","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/6048946/java-type-list-is-ambiguous\">Java type list is ambiguous?</a> (different class, but essentially the same problem), and <a href=\"https://stackoverflow.com/questions/2834253/reference-to-indexoutofboundsexception-is-ambiguous\">reference to IndexOutOfBoundsException is ambiguous</a>."}],"answers":[{"tags":[],"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700146394,"creation_date":1700145678,"answer_id":77495748,"question_id":77495747,"body_markdown":"The problem is that jOOQ has a class name with the same name that the JDK does, so when you use the * (asterisk) to import the classes from jOOQ, the compiler doesn&#39;t know which class you are trying to use, for such cases you will need to import the `org.jooq.Record` explicitly.","title":"Reference to Record is ambiguous","body":"<p>The problem is that jOOQ has a class name with the same name that the JDK does, so when you use the * (asterisk) to import the classes from jOOQ, the compiler doesn't know which class you are trying to use, for such cases you will need to import the <code>org.jooq.Record</code> explicitly.</p>\n"}],"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1700150434,"answer_count":1,"score":1,"last_activity_date":1700146885,"creation_date":1700145678,"question_id":77495747,"body_markdown":"I&#39;ve updated the Java runtime that will be used to build my application (from 11 to 17), and the source and target configurations continue to be 11.\r\n\r\nAfter trying to build using the Java 17, I got the following error message:\r\n\r\n&gt; reference to Record is ambiguous... both interface org.jooq.Record in\r\n&gt; org.jooq and class java.lang.Record in java.lang match\r\n\r\nDoes anyone know what&#39;s the problem and how to solve it?","title":"Reference to Record is ambiguous","body":"<p>I've updated the Java runtime that will be used to build my application (from 11 to 17), and the source and target configurations continue to be 11.</p>\n<p>After trying to build using the Java 17, I got the following error message:</p>\n<blockquote>\n<p>reference to Record is ambiguous... both interface org.jooq.Record in\norg.jooq and class java.lang.Record in java.lang match</p>\n</blockquote>\n<p>Does anyone know what's the problem and how to solve it?</p>\n"},{"tags":["java","connect","dcom","opc-da"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700161646,"post_id":77495842,"comment_id":136623843,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29918769,"reputation":1,"user_id":22928413,"display_name":"fork4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700146288,"creation_date":1700146288,"question_id":77495842,"body_markdown":"I&#39;ve been solving the problem of connecting to the OPC-server for several days now.\r\nI use this instruction - https://openscada.atlassian.net/wiki/spaces/OP/pages/6094892/HowToStartWithUtgard\r\nI keep getting the error Access is denied, please check whether the [domain-username-password] are correct.\r\nAll rights to DCOM are configured. Third party clients connect to the server, but the code I wrote does not do this.\r\nCan&#39;t use OPC. JEasyOPC due to the fact that this library works with JRE 32-bit, but I need it to work with 64-bit.\r\nI looked through similar threads here, but none of the advice helped.\r\nPlease help me with the problem.\r\n\r\n\r\n\r\n\r\n\r\n\r\nMy code:\r\n```java\r\npackage opcweb;\r\n\r\nimport java.net.UnknownHostException;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport org.jinterop.dcom.common.JIException;\r\nimport org.jinterop.dcom.core.JIVariant;\r\nimport org.openscada.opc.lib.common.AlreadyConnectedException;\r\nimport org.openscada.opc.lib.common.ConnectionInformation;\r\nimport org.openscada.opc.lib.common.NotConnectedException;\r\nimport org.openscada.opc.lib.da.AccessBase;\r\nimport org.openscada.opc.lib.da.AddFailedException;\r\nimport org.openscada.opc.lib.da.DataCallback;\r\nimport org.openscada.opc.lib.da.DuplicateGroupException;\r\nimport org.openscada.opc.lib.da.Group;\r\nimport org.openscada.opc.lib.da.Item;\r\nimport org.openscada.opc.lib.da.ItemState;\r\nimport org.openscada.opc.lib.da.Server;\r\nimport org.openscada.opc.lib.da.SyncAccess;\r\n\r\npublic class App2 {\r\n\r\n\tpublic static void main(String[] args) throws IllegalArgumentException, UnknownHostException, AlreadyConnectedException, NotConnectedException, DuplicateGroupException, AddFailedException, InterruptedException {\r\n\t\tfinal ConnectionInformation ci = new ConnectionInformation();\r\n\t\t \r\n        ci.setHost(&quot;192.168.1.187&quot;);\r\n        ci.setDomain(&quot;&quot;);\r\n        ci.setUser(&quot;commercial&quot;);\r\n        ci.setPassword(&quot;&quot;);\r\n//        ci.setProgId(&quot;SWToolbox.TOPServer.V5&quot;);\r\n         ci.setClsid(&quot;E7272CA7-0148-4E14-A241-FE17BF9526A2&quot;); // if ProgId is not working, try it using the Clsid instead\r\n        final String itemId = &quot;Каскад_Энергосистема.Энергосистема.Регион_001.ПС_001.Выключатель_099.Измерения.Измерение_13.Значение_текущее.Value&quot;;\r\n        // create a new server\r\n        final Server server = new Server(ci, Executors.newSingleThreadScheduledExecutor());\r\n        try {\r\n            // connect to server\r\n            server.connect();\r\n            // add sync access, poll every 500 ms\r\n            final AccessBase access = new SyncAccess(server, 500);\r\n            access.addItem(itemId, new DataCallback() {\r\n                @Override\r\n                public void changed(Item item, ItemState state) {\r\n                    // also dump value\r\n                    try {\r\n                        if (state.getValue().getType() == JIVariant.VT_UI4) {\r\n                            System.out.println(&quot;&lt;&lt;&lt; &quot; + state + &quot; / value = &quot; + state.getValue().getObjectAsUnsigned().getValue());\r\n                        } else {\r\n                            System.out.println(&quot;&lt;&lt;&lt; &quot; + state + &quot; / value = &quot; + state.getValue().getObject());\r\n                        }\r\n                    } catch (JIException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n \r\n            // Add a new group\r\n            final Group group = server.addGroup(&quot;test&quot;);\r\n            // Add a new item to the group\r\n            final Item item = group.addItem(itemId);\r\n \r\n            // start reading\r\n            access.bind();\r\n \r\n            // add a thread for writing a value every 3 seconds\r\n            ScheduledExecutorService writeThread = Executors.newSingleThreadScheduledExecutor();\r\n            final AtomicInteger i = new AtomicInteger(0);\r\n            writeThread.scheduleWithFixedDelay(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    final JIVariant value = new JIVariant(i.incrementAndGet());\r\n                    try {\r\n                        System.out.println(&quot;&gt;&gt;&gt; &quot; + &quot;writing value &quot; + i.get());\r\n                        item.write(value);\r\n                    } catch (JIException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }, 5, 3, TimeUnit.SECONDS);\r\n \r\n            // wait a little bit\r\n            Thread.sleep(20 * 1000);\r\n            writeThread.shutdownNow();\r\n            // stop reading\r\n            access.unbind();\r\n        } catch (final JIException e) {\r\n            System.out.println(String.format(&quot;%08X: %s&quot;, e.getErrorCode(), server.getErrorMessage(e.getErrorCode())));\r\n        }\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\nError stack:\r\n\r\n```\r\n[main] INFO org.openscada.opc.lib.da.Server - Socket timeout: 0 \r\nнояб. 16, 2023 8:31:49 PM org.jinterop.dcom.common.JISystem logSystemPropertiesAndVersion\r\nINFO: j-Interop Version = null\r\n\r\nнояб. 16, 2023 8:31:49 PM org.jinterop.dcom.common.JISystem logSystemPropertiesAndVersion\r\nINFO: java.specification.version = 20\r\nsun.cpu.isalist = amd64\r\nsun.jnu.encoding = Cp1251\r\njava.class.path = C:\\Users\\commercial\\Documents\\MyFiles\\code\\opcweb\\target\\classes;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\utgard\\org.openscada.opc.dcom\\1.5.0\\org.openscada.opc.dcom-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\utgard\\org.openscada.opc.lib\\1.5.0\\org.openscada.opc.lib-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.2\\slf4j-api-1.7.2.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\jinterop\\org.openscada.jinterop.core\\2.1.8\\org.openscada.jinterop.core-2.1.8.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\external\\org.openscada.external.jcifs\\1.2.25\\org.openscada.external.jcifs-1.2.25.jar;C:\\Users\\commercial\\.m2\\repository\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\jinterop\\org.openscada.jinterop.deps\\1.5.0\\org.openscada.jinterop.deps-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\bouncycastle\\bcprov-jdk15on\\1.66\\bcprov-jdk15on-1.66.jar;C:\\Users\\commercial\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.30\\slf4j-simple-1.7.30.jar\r\njava.vm.vendor = Oracle Corporation\r\nsun.arch.data.model = 64\r\nuser.variant = \r\njava.vendor.url = https://java.oracle.com/\r\nuser.timezone = Asia/Almaty\r\njava.vm.specification.version = 20\r\nos.name = Windows 10\r\nsun.java.launcher = SUN_STANDARD\r\nuser.country = RU\r\nsun.boot.library.path = C:\\Program Files\\Java\\jdk-20\\bin\r\nsun.java.command = opcweb.App2\r\njdk.debug = release\r\nsun.cpu.endian = little\r\nuser.home = C:\\Users\\commercial\r\nuser.language = ru\r\njava.specification.vendor = Oracle Corporation\r\njava.version.date = 2023-07-18\r\njava.home = C:\\Program Files\\Java\\jdk-20\r\nfile.separator = \\\r\njava.vm.compressedOopsMode = 32-bit\r\nline.separator = \r\n\r\njava.vm.specification.vendor = Oracle Corporation\r\njava.specification.name = Java Platform API Specification\r\nuser.script = \r\nsun.management.compiler = HotSpot 64-Bit Tiered Compilers\r\njava.runtime.version = 20.0.2+9-78\r\nuser.name = commercial\r\nstdout.encoding = UTF-8\r\npath.separator = ;\r\nos.version = 10.0\r\njava.runtime.name = Java(TM) SE Runtime Environment\r\nfile.encoding = UTF-8\r\njava.vm.name = Java HotSpot(TM) 64-Bit Server VM\r\njava.vendor.url.bug = https://bugreport.java.com/bugreport/\r\njava.io.tmpdir = C:\\Users\\COMMER~1\\AppData\\Local\\Temp\\\r\njava.version = 20.0.2\r\nuser.dir = C:\\Users\\commercial\\Documents\\MyFiles\\code\\opcweb\r\nos.arch = amd64\r\njava.vm.specification.name = Java Virtual Machine Specification\r\nsun.os.patch.level = \r\nnative.encoding = Cp1251\r\njava.library.path = C:\\Program Files\\Java\\jdk-20\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn\\;C:\\Program Files\\Azure Data Studio\\bin;C:\\Program Files\\Java\\jre-1.8\\lib\\ext;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\hsqldb-2.5.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\ucanaccess-5.0.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\commons-lang3-3.8.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\commons-logging-1.2.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\jaccess.jar;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin\\;C:\\Users\\commercial\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.3\\bin;C:\\Users\\commercial\\Documents\\MyFiles\\maven\\bin;C:\\Program Files\\Docker Toolbox;.\r\njava.vm.info = mixed mode, sharing\r\nstderr.encoding = UTF-8\r\njava.vendor = Oracle Corporation\r\njava.vm.version = 20.0.2+9-78\r\nsun.io.unicode.encoding = UnicodeLittle\r\njava.class.version = 64.0\r\n\r\n[Timer-2] INFO org.jinterop.dcom.core.JIComOxidRuntime - Running ServerPingTimerTask !\r\n[Timer-1] INFO org.jinterop.dcom.core.JIComOxidRuntime - Running ClientPingTimerTask !\r\n[main] INFO org.jinterop.dcom.core.JISession - Created Session: -1743690126\r\nнояб. 16, 2023 8:31:54 PM org.jinterop.dcom.common.JISystem internal_dumpMap\r\nINFO: mapOfHostnamesVsIPs: {}\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\r\nINFO: \r\n Sending BIND\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\r\nINFO: \r\n Recieved BIND_ACK\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\r\nINFO: \r\n Sending AUTH3\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\r\nINFO: \r\n Sending ALTER_CTX\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\r\nINFO: \r\n Recieved ALTER_CTX_RESP\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\r\nINFO: \r\n Sending REQUEST\r\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\r\nINFO: \r\n Recieved FAULT\r\n[main] INFO org.openscada.opc.lib.da.Server - Failed to connect to server\r\norg.jinterop.dcom.common.JIException: Access is denied, please check whether the [domain-username-password] are correct. Also, if not already done please check the GETTING STARTED and FAQ sections in readme.htm. They provide information on how to correctly configure the Windows machine for DCOM access, so as to avoid such exceptions.  [0x00000005]\r\n\tat org.jinterop.dcom.core.JIComServer.init(JIComServer.java:654)\r\n\tat org.jinterop.dcom.core.JIComServer.initialise(JIComServer.java:561)\r\n\tat org.jinterop.dcom.core.JIComServer.&lt;init&gt;(JIComServer.java:524)\r\n\tat org.openscada.opc.lib.da.Server.connect(Server.java:108)\r\n\tat opcweb.App2.main(App2.java:39)\r\nCaused by: rpc.FaultException: Received fault. (unknown)\r\n\tat rpc.ConnectionOrientedEndpoint.call(ConnectionOrientedEndpoint.java:147)\r\n\tat rpc.Stub.call(Stub.java:134)\r\n\tat org.jinterop.dcom.core.JIComServer.init(JIComServer.java:649)\r\n\t... 4 more\r\n[main] INFO org.openscada.opc.lib.da.Server - Destroying DCOM session...\r\n[main] INFO org.openscada.opc.lib.da.Server - Destroying DCOM session... forked\r\n[OPCSessionDestructor] INFO org.jinterop.dcom.core.JISession - About to destroy 0 sessesion which are linked to this session: -1743690126\r\n[OPCSessionDestructor] INFO org.jinterop.dcom.core.JIComOxidRuntime - destroySessionOIDs for session: -1743690126\r\n[OPCSessionDestructor] INFO org.openscada.opc.lib.da.Server - Destructed DCOM session\r\n00000005: Unknown error (00000005)\r\n[OPCSessionDestructor] INFO org.openscada.opc.lib.da.Server - Session destruction took 0 ms\r\n\r\n```\r\n","title":"Utgard - Access is denied, please check whether the [domain-username-password] are correct","body":"<p>I've been solving the problem of connecting to the OPC-server for several days now.\nI use this instruction - <a href=\"https://openscada.atlassian.net/wiki/spaces/OP/pages/6094892/HowToStartWithUtgard\" rel=\"nofollow noreferrer\">https://openscada.atlassian.net/wiki/spaces/OP/pages/6094892/HowToStartWithUtgard</a>\nI keep getting the error Access is denied, please check whether the [domain-username-password] are correct.\nAll rights to DCOM are configured. Third party clients connect to the server, but the code I wrote does not do this.\nCan't use OPC. JEasyOPC due to the fact that this library works with JRE 32-bit, but I need it to work with 64-bit.\nI looked through similar threads here, but none of the advice helped.\nPlease help me with the problem.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package opcweb;\n\nimport java.net.UnknownHostException;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport org.jinterop.dcom.common.JIException;\nimport org.jinterop.dcom.core.JIVariant;\nimport org.openscada.opc.lib.common.AlreadyConnectedException;\nimport org.openscada.opc.lib.common.ConnectionInformation;\nimport org.openscada.opc.lib.common.NotConnectedException;\nimport org.openscada.opc.lib.da.AccessBase;\nimport org.openscada.opc.lib.da.AddFailedException;\nimport org.openscada.opc.lib.da.DataCallback;\nimport org.openscada.opc.lib.da.DuplicateGroupException;\nimport org.openscada.opc.lib.da.Group;\nimport org.openscada.opc.lib.da.Item;\nimport org.openscada.opc.lib.da.ItemState;\nimport org.openscada.opc.lib.da.Server;\nimport org.openscada.opc.lib.da.SyncAccess;\n\npublic class App2 {\n\n    public static void main(String[] args) throws IllegalArgumentException, UnknownHostException, AlreadyConnectedException, NotConnectedException, DuplicateGroupException, AddFailedException, InterruptedException {\n        final ConnectionInformation ci = new ConnectionInformation();\n         \n        ci.setHost(&quot;192.168.1.187&quot;);\n        ci.setDomain(&quot;&quot;);\n        ci.setUser(&quot;commercial&quot;);\n        ci.setPassword(&quot;&quot;);\n//        ci.setProgId(&quot;SWToolbox.TOPServer.V5&quot;);\n         ci.setClsid(&quot;E7272CA7-0148-4E14-A241-FE17BF9526A2&quot;); // if ProgId is not working, try it using the Clsid instead\n        final String itemId = &quot;Каскад_Энергосистема.Энергосистема.Регион_001.ПС_001.Выключатель_099.Измерения.Измерение_13.Значение_текущее.Value&quot;;\n        // create a new server\n        final Server server = new Server(ci, Executors.newSingleThreadScheduledExecutor());\n        try {\n            // connect to server\n            server.connect();\n            // add sync access, poll every 500 ms\n            final AccessBase access = new SyncAccess(server, 500);\n            access.addItem(itemId, new DataCallback() {\n                @Override\n                public void changed(Item item, ItemState state) {\n                    // also dump value\n                    try {\n                        if (state.getValue().getType() == JIVariant.VT_UI4) {\n                            System.out.println(&quot;&lt;&lt;&lt; &quot; + state + &quot; / value = &quot; + state.getValue().getObjectAsUnsigned().getValue());\n                        } else {\n                            System.out.println(&quot;&lt;&lt;&lt; &quot; + state + &quot; / value = &quot; + state.getValue().getObject());\n                        }\n                    } catch (JIException e) {\n                        e.printStackTrace();\n                    }\n                }\n            });\n \n            // Add a new group\n            final Group group = server.addGroup(&quot;test&quot;);\n            // Add a new item to the group\n            final Item item = group.addItem(itemId);\n \n            // start reading\n            access.bind();\n \n            // add a thread for writing a value every 3 seconds\n            ScheduledExecutorService writeThread = Executors.newSingleThreadScheduledExecutor();\n            final AtomicInteger i = new AtomicInteger(0);\n            writeThread.scheduleWithFixedDelay(new Runnable() {\n                @Override\n                public void run() {\n                    final JIVariant value = new JIVariant(i.incrementAndGet());\n                    try {\n                        System.out.println(&quot;&gt;&gt;&gt; &quot; + &quot;writing value &quot; + i.get());\n                        item.write(value);\n                    } catch (JIException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }, 5, 3, TimeUnit.SECONDS);\n \n            // wait a little bit\n            Thread.sleep(20 * 1000);\n            writeThread.shutdownNow();\n            // stop reading\n            access.unbind();\n        } catch (final JIException e) {\n            System.out.println(String.format(&quot;%08X: %s&quot;, e.getErrorCode(), server.getErrorMessage(e.getErrorCode())));\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>Error stack:</p>\n<pre><code>[main] INFO org.openscada.opc.lib.da.Server - Socket timeout: 0 \nнояб. 16, 2023 8:31:49 PM org.jinterop.dcom.common.JISystem logSystemPropertiesAndVersion\nINFO: j-Interop Version = null\n\nнояб. 16, 2023 8:31:49 PM org.jinterop.dcom.common.JISystem logSystemPropertiesAndVersion\nINFO: java.specification.version = 20\nsun.cpu.isalist = amd64\nsun.jnu.encoding = Cp1251\njava.class.path = C:\\Users\\commercial\\Documents\\MyFiles\\code\\opcweb\\target\\classes;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\utgard\\org.openscada.opc.dcom\\1.5.0\\org.openscada.opc.dcom-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\utgard\\org.openscada.opc.lib\\1.5.0\\org.openscada.opc.lib-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.2\\slf4j-api-1.7.2.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\jinterop\\org.openscada.jinterop.core\\2.1.8\\org.openscada.jinterop.core-2.1.8.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\external\\org.openscada.external.jcifs\\1.2.25\\org.openscada.external.jcifs-1.2.25.jar;C:\\Users\\commercial\\.m2\\repository\\javax\\servlet\\javax.servlet-api\\3.1.0\\javax.servlet-api-3.1.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\openscada\\jinterop\\org.openscada.jinterop.deps\\1.5.0\\org.openscada.jinterop.deps-1.5.0.jar;C:\\Users\\commercial\\.m2\\repository\\org\\bouncycastle\\bcprov-jdk15on\\1.66\\bcprov-jdk15on-1.66.jar;C:\\Users\\commercial\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.30\\slf4j-simple-1.7.30.jar\njava.vm.vendor = Oracle Corporation\nsun.arch.data.model = 64\nuser.variant = \njava.vendor.url = https://java.oracle.com/\nuser.timezone = Asia/Almaty\njava.vm.specification.version = 20\nos.name = Windows 10\nsun.java.launcher = SUN_STANDARD\nuser.country = RU\nsun.boot.library.path = C:\\Program Files\\Java\\jdk-20\\bin\nsun.java.command = opcweb.App2\njdk.debug = release\nsun.cpu.endian = little\nuser.home = C:\\Users\\commercial\nuser.language = ru\njava.specification.vendor = Oracle Corporation\njava.version.date = 2023-07-18\njava.home = C:\\Program Files\\Java\\jdk-20\nfile.separator = \\\njava.vm.compressedOopsMode = 32-bit\nline.separator = \n\njava.vm.specification.vendor = Oracle Corporation\njava.specification.name = Java Platform API Specification\nuser.script = \nsun.management.compiler = HotSpot 64-Bit Tiered Compilers\njava.runtime.version = 20.0.2+9-78\nuser.name = commercial\nstdout.encoding = UTF-8\npath.separator = ;\nos.version = 10.0\njava.runtime.name = Java(TM) SE Runtime Environment\nfile.encoding = UTF-8\njava.vm.name = Java HotSpot(TM) 64-Bit Server VM\njava.vendor.url.bug = https://bugreport.java.com/bugreport/\njava.io.tmpdir = C:\\Users\\COMMER~1\\AppData\\Local\\Temp\\\njava.version = 20.0.2\nuser.dir = C:\\Users\\commercial\\Documents\\MyFiles\\code\\opcweb\nos.arch = amd64\njava.vm.specification.name = Java Virtual Machine Specification\nsun.os.patch.level = \nnative.encoding = Cp1251\njava.library.path = C:\\Program Files\\Java\\jdk-20\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn\\;C:\\Program Files\\Azure Data Studio\\bin;C:\\Program Files\\Java\\jre-1.8\\lib\\ext;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\hsqldb-2.5.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\ucanaccess-5.0.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\commons-lang3-3.8.1.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\commons-logging-1.2.jar;C:\\Program Files\\Java\\jre-1.8\\lib\\ext\\jaccess.jar;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin\\;C:\\Users\\commercial\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.1.3\\bin;C:\\Users\\commercial\\Documents\\MyFiles\\maven\\bin;C:\\Program Files\\Docker Toolbox;.\njava.vm.info = mixed mode, sharing\nstderr.encoding = UTF-8\njava.vendor = Oracle Corporation\njava.vm.version = 20.0.2+9-78\nsun.io.unicode.encoding = UnicodeLittle\njava.class.version = 64.0\n\n[Timer-2] INFO org.jinterop.dcom.core.JIComOxidRuntime - Running ServerPingTimerTask !\n[Timer-1] INFO org.jinterop.dcom.core.JIComOxidRuntime - Running ClientPingTimerTask !\n[main] INFO org.jinterop.dcom.core.JISession - Created Session: -1743690126\nнояб. 16, 2023 8:31:54 PM org.jinterop.dcom.common.JISystem internal_dumpMap\nINFO: mapOfHostnamesVsIPs: {}\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\nINFO: \n Sending BIND\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\nINFO: \n Recieved BIND_ACK\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\nINFO: \n Sending AUTH3\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\nINFO: \n Sending ALTER_CTX\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\nINFO: \n Recieved ALTER_CTX_RESP\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processOutgoing\nINFO: \n Sending REQUEST\nнояб. 16, 2023 8:31:54 PM rpc.DefaultConnection processIncoming\nINFO: \n Recieved FAULT\n[main] INFO org.openscada.opc.lib.da.Server - Failed to connect to server\norg.jinterop.dcom.common.JIException: Access is denied, please check whether the [domain-username-password] are correct. Also, if not already done please check the GETTING STARTED and FAQ sections in readme.htm. They provide information on how to correctly configure the Windows machine for DCOM access, so as to avoid such exceptions.  [0x00000005]\n    at org.jinterop.dcom.core.JIComServer.init(JIComServer.java:654)\n    at org.jinterop.dcom.core.JIComServer.initialise(JIComServer.java:561)\n    at org.jinterop.dcom.core.JIComServer.&lt;init&gt;(JIComServer.java:524)\n    at org.openscada.opc.lib.da.Server.connect(Server.java:108)\n    at opcweb.App2.main(App2.java:39)\nCaused by: rpc.FaultException: Received fault. (unknown)\n    at rpc.ConnectionOrientedEndpoint.call(ConnectionOrientedEndpoint.java:147)\n    at rpc.Stub.call(Stub.java:134)\n    at org.jinterop.dcom.core.JIComServer.init(JIComServer.java:649)\n    ... 4 more\n[main] INFO org.openscada.opc.lib.da.Server - Destroying DCOM session...\n[main] INFO org.openscada.opc.lib.da.Server - Destroying DCOM session... forked\n[OPCSessionDestructor] INFO org.jinterop.dcom.core.JISession - About to destroy 0 sessesion which are linked to this session: -1743690126\n[OPCSessionDestructor] INFO org.jinterop.dcom.core.JIComOxidRuntime - destroySessionOIDs for session: -1743690126\n[OPCSessionDestructor] INFO org.openscada.opc.lib.da.Server - Destructed DCOM session\n00000005: Unknown error (00000005)\n[OPCSessionDestructor] INFO org.openscada.opc.lib.da.Server - Session destruction took 0 ms\n\n</code></pre>\n"},{"tags":["java","maven","versioning","git-submodules"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1700150566,"post_id":77495778,"comment_id":136621795,"body_markdown":"did you read the docs? _All &quot;participating&quot; jar files can contribute their own version by supplying their own implementation of the ArtifactVersionService._ So you probably have to do more than just read other modules versions?","body":"did you read the docs? <i>All &quot;participating&quot; jar files can contribute their own version by supplying their own implementation of the ArtifactVersionService.</i> So you probably have to do more than just read other modules versions?"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1700201323,"post_id":77495778,"comment_id":136627669,"body_markdown":"First do you have really your source files `File3.java` in `src` directory and not in `src/main/java/&lt;package&gt;`?","body":"First do you have really your source files <code>File3.java</code> in <code>src</code> directory and not in <code>src&#47;main&#47;java&#47;&lt;package&gt;</code>?"}],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700145823,"creation_date":1700145823,"question_id":77495778,"body_markdown":"I have an application with submodules in java configured in IntellIJ (java ones are unnamed).\r\n\r\nEach submodule has its own pom in his base folder (compile works fine).\r\n\r\nMy goal is to have this function working for each submodule\r\n\r\n```\r\nimport de.westemeyer.version.service.ArtifactVersionCollector;\r\n\r\nclass Main {\r\nstatic String getVersion(){\r\n\r\nString modname = &quot;Main&quot;;\r\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\r\n}\r\n\r\npublic static void main(String[] argv){\r\n\r\n\tfor(var v : artifactVersionCollector.collectArtifacts().toArray()){\r\n\t\t\tsLogger.error( &quot;{}&quot;, v );\r\n\t\t}\r\n}\r\n}\r\n\r\nclass Prj2 {\r\nstatic String getVersion(){\r\n\r\nString modname = &quot;prj2&quot;;\r\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\r\n}\r\n}\r\n\r\n\r\nclass Prj3 {\r\nstatic String getVersion(){\r\n\r\nString modname = &quot;prj3&quot;;\r\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\r\n}\r\n}\r\n\r\n```\r\n\r\nRight now I can get the version if I run the application from IJ (As a Java app) but if I run it from the jar (also from IJ) I got only the version of a single component\r\n\r\nNote: to make the jar I use `mvn clean package` and I run it with the same work-directory as the IJ run configuration.\r\n\r\n\r\n```\r\nbase  \r\n|  \r\n - prj1  \r\n --src  \r\n --- Main.java  \r\n --pom.xml  (Main:V1)  \r\n - prj2   \r\n --src  \r\n --- File2.java\r\n --pom.xml  (prj2:V2)  \r\n - prj3  \r\n --src  \r\n --- File3.java\r\n --pom.xml  (prj3:V3)  \r\n- pom.xml (base:va) &lt;== this one contains the modules section  \r\n```\r\n\r\nRight now If I run the call above in Main.java I get the version of Prj3 (prj3:v3)","title":"Java- gathering versions from pom with ArtifactVersionCollector","body":"<p>I have an application with submodules in java configured in IntellIJ (java ones are unnamed).</p>\n<p>Each submodule has its own pom in his base folder (compile works fine).</p>\n<p>My goal is to have this function working for each submodule</p>\n<pre><code>import de.westemeyer.version.service.ArtifactVersionCollector;\n\nclass Main {\nstatic String getVersion(){\n\nString modname = &quot;Main&quot;;\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\n}\n\npublic static void main(String[] argv){\n\n    for(var v : artifactVersionCollector.collectArtifacts().toArray()){\n            sLogger.error( &quot;{}&quot;, v );\n        }\n}\n}\n\nclass Prj2 {\nstatic String getVersion(){\n\nString modname = &quot;prj2&quot;;\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\n}\n}\n\n\nclass Prj3 {\nstatic String getVersion(){\n\nString modname = &quot;prj3&quot;;\nreturn modname + &quot;:&quot; + ArtifactVersionCollector.findArtifact(&quot;com.dds.project&quot;,modname);\n}\n}\n\n</code></pre>\n<p>Right now I can get the version if I run the application from IJ (As a Java app) but if I run it from the jar (also from IJ) I got only the version of a single component</p>\n<p>Note: to make the jar I use <code>mvn clean package</code> and I run it with the same work-directory as the IJ run configuration.</p>\n<pre><code>base  \n|  \n - prj1  \n --src  \n --- Main.java  \n --pom.xml  (Main:V1)  \n - prj2   \n --src  \n --- File2.java\n --pom.xml  (prj2:V2)  \n - prj3  \n --src  \n --- File3.java\n --pom.xml  (prj3:V3)  \n- pom.xml (base:va) &lt;== this one contains the modules section  \n</code></pre>\n<p>Right now If I run the call above in Main.java I get the version of Prj3 (prj3:v3)</p>\n"},{"tags":["java","jackson","spring-vault"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1700055181,"post_id":77487732,"comment_id":136607537,"body_markdown":"Is the LocalDateTime value a member field of a class that you control?","body":"Is the LocalDateTime value a member field of a class that you control?"},{"owner":{"account_id":138790,"reputation":61711,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1700080876,"post_id":77487732,"comment_id":136612239,"body_markdown":"@jonhanson yes.","body":"@jonhanson yes."},{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1700085390,"post_id":77487732,"comment_id":136612916,"body_markdown":"Have you considered using annotations to override how your class is serialised?","body":"Have you considered using annotations to override how your class is serialised?"},{"owner":{"account_id":138790,"reputation":61711,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1700086247,"post_id":77487732,"comment_id":136613031,"body_markdown":"I hadn’t until now. Thanks for the tip. Will try this although it’s not ideal.","body":"I hadn’t until now. Thanks for the tip. Will try this although it’s not ideal."}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61711,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700145544,"creation_date":1700145544,"answer_id":77495727,"question_id":77487732,"body_markdown":"As hinted by one of the commentators, I was able to resolve this by using a Jackson annotation. It&#39;s not ideal but gets the job done without having to change anything in Spring Vault.\r\n\r\n```java\r\n@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\nprivate OffsetDateTime createdAt\r\n```","title":"Customise ObjectMapper to serialise LocalDateTime properly","body":"<p>As hinted by one of the commentators, I was able to resolve this by using a Jackson annotation. It's not ideal but gets the job done without having to change anything in Spring Vault.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\nprivate OffsetDateTime createdAt\n</code></pre>\n"}],"owner":{"account_id":138790,"reputation":61711,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77495727,"answer_count":1,"score":-1,"last_activity_date":1700145544,"creation_date":1700051505,"question_id":77487732,"body_markdown":"I am using Spring Vault in my project and trying to store a serialised representation of `LocalDateTime` (ISO date time format) as a secret data in Vault. However, the `ObjectMapper` used inside Spring Vault doesn&#39;t seem to be customisable. So I am unable to register the `JavaTimeModule` that comes from `com.fasterxml.jackson.datatype:jackson-datatype-jsr310`.\r\n\r\nIs there a way out of this?","title":"Customise ObjectMapper to serialise LocalDateTime properly","body":"<p>I am using Spring Vault in my project and trying to store a serialised representation of <code>LocalDateTime</code> (ISO date time format) as a secret data in Vault. However, the <code>ObjectMapper</code> used inside Spring Vault doesn't seem to be customisable. So I am unable to register the <code>JavaTimeModule</code> that comes from <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code>.</p>\n<p>Is there a way out of this?</p>\n"},{"tags":["java","gradle","certificate","ros2","px4"],"answers":[{"tags":[],"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1641231980,"creation_date":1641229317,"answer_id":70569106,"question_id":70568781,"body_markdown":"As far as I am aware, it is not possible to disable JVM cert validation by configuration. As you are getting a cert validation failure for `https://repo.maven.apache.org`, which should not happen on most systems, I am going to guess that you are behind a corporate firewall.\r\n\r\nIf you are on Windows, try setting the environment variable `JAVA_TOOL_OPTIONS` to (exactly):\r\n```\r\n-Djavax.net.ssl.trustStoreType=Windows-ROOT -Djavax.net.ssl.trustStore=NUL\r\n```\r\nIf you are on Mac, try setting it to:\r\n```\r\n-Djavax.net.ssl.trustStoreType=KeychainStore -Djavax.net.ssl.trustStore=/dev/null\r\n```\r\n\r\nIf none of those work, you can copy the existing keystore of your JVM, and add your corporate certs to it using `keytool`, which is easy enough to look up with Google. In this case you would use these settings in the env var:\r\n```\r\n-Djavax.net.ssl.trustStore=/my/trust_store -Djavax.net.ssl.trustStorePassword=my_password\r\n```","title":"Problem with certificate while trying to compile Fast-RTPS-Gen with Gradle","body":"<p>As far as I am aware, it is not possible to disable JVM cert validation by configuration. As you are getting a cert validation failure for <code>https://repo.maven.apache.org</code>, which should not happen on most systems, I am going to guess that you are behind a corporate firewall.</p>\n<p>If you are on Windows, try setting the environment variable <code>JAVA_TOOL_OPTIONS</code> to (exactly):</p>\n<pre><code>-Djavax.net.ssl.trustStoreType=Windows-ROOT -Djavax.net.ssl.trustStore=NUL\n</code></pre>\n<p>If you are on Mac, try setting it to:</p>\n<pre><code>-Djavax.net.ssl.trustStoreType=KeychainStore -Djavax.net.ssl.trustStore=/dev/null\n</code></pre>\n<p>If none of those work, you can copy the existing keystore of your JVM, and add your corporate certs to it using <code>keytool</code>, which is easy enough to look up with Google. In this case you would use these settings in the env var:</p>\n<pre><code>-Djavax.net.ssl.trustStore=/my/trust_store -Djavax.net.ssl.trustStorePassword=my_password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3128557,"reputation":151,"user_id":3892802,"accept_rate":67,"display_name":"ebernardes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641287106,"creation_date":1641287106,"answer_id":70576353,"question_id":70568781,"body_markdown":"Managed to solve it by compiling with sudo:\r\n\r\n    sudo env &quot;PATH=$PATH&quot; gradle assemble\r\n\r\nTook me the whole day since I know nothing about gradle, and it ended up just being a stupid simple solution. I proposed to add this as a note on the PX4 install guide.","title":"Problem with certificate while trying to compile Fast-RTPS-Gen with Gradle","body":"<p>Managed to solve it by compiling with sudo:</p>\n<pre><code>sudo env &quot;PATH=$PATH&quot; gradle assemble\n</code></pre>\n<p>Took me the whole day since I know nothing about gradle, and it ended up just being a stupid simple solution. I proposed to add this as a note on the PX4 install guide.</p>\n"}],"owner":{"account_id":3128557,"reputation":151,"user_id":3892802,"accept_rate":67,"display_name":"ebernardes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70576353,"answer_count":2,"score":1,"last_activity_date":1700144589,"creation_date":1641227680,"question_id":70568781,"body_markdown":"I&#39;ve been desperately trying to use ROS2 and PX4, but I can&#39;t compile all of the necessary packages: Fast-RTPS-Gen\r\n\r\nFor people to know PX4:\r\n- I am using Gradle version 6.3 installed with sdk, as explained on the PX4 website.\r\n- I have download the version 1.0.4 from the Fast-RTPS-Gen repository\r\n\r\nWhen I try to compile it with Gradle, I have a certificate (see end of question).\r\n\r\nMy question is: how can I bypass this? Since I&#39;m not gonna develop anything on Java, I just really need this one thing to compile, I&#39;m really interested in the quickest, dirtiest way I can bypass this certificate check. \r\nI have tried adding a certificate from the Maven repo with keystool but I just can&#39;t get it to work.\r\n\r\n    \r\n    &gt; Task :buildIDLParser FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/home/evandro/Fast-RTPS-Gen/thirdparty/idl-parser/idl.gradle&#39; line: 89\r\n    \r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:idl-parser:jar&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:idl-parser:compile&#39;.\r\n       &gt; Could not resolve org.antlr:antlr4:4.5.\r\n         Required by:\r\n             project :idl-parser\r\n          &gt; Could not resolve org.antlr:antlr4:4.5.\r\n             &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom&#39;.\r\n                &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom&#39;.\r\n                   &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n       &gt; Could not resolve org.antlr:antlr4:4.5.\r\n         Required by:\r\n             project :idl-parser\r\n          &gt; Could not resolve org.antlr:antlr4:4.5.\r\n             &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom&#39;.\r\n                &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom&#39;.\r\n                   &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n       &gt; Could not resolve org.antlr:stringtemplate:3.2.\r\n         Required by:\r\n             project :idl-parser\r\n          &gt; Could not resolve org.antlr:stringtemplate:3.2.\r\n             &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom&#39;.\r\n                &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom&#39;.\r\n                   &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.4/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 653ms\r\n    4 actionable tasks: 2 executed, 2 up-to-date\r\n","title":"Problem with certificate while trying to compile Fast-RTPS-Gen with Gradle","body":"<p>I've been desperately trying to use ROS2 and PX4, but I can't compile all of the necessary packages: Fast-RTPS-Gen</p>\n<p>For people to know PX4:</p>\n<ul>\n<li>I am using Gradle version 6.3 installed with sdk, as explained on the PX4 website.</li>\n<li>I have download the version 1.0.4 from the Fast-RTPS-Gen repository</li>\n</ul>\n<p>When I try to compile it with Gradle, I have a certificate (see end of question).</p>\n<p>My question is: how can I bypass this? Since I'm not gonna develop anything on Java, I just really need this one thing to compile, I'm really interested in the quickest, dirtiest way I can bypass this certificate check.\nI have tried adding a certificate from the Maven repo with keystool but I just can't get it to work.</p>\n<pre><code>&gt; Task :buildIDLParser FAILED\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/evandro/Fast-RTPS-Gen/thirdparty/idl-parser/idl.gradle' line: 89\n\n* What went wrong:\nCould not determine the dependencies of task ':idl-parser:jar'.\n&gt; Could not resolve all files for configuration ':idl-parser:compile'.\n   &gt; Could not resolve org.antlr:antlr4:4.5.\n     Required by:\n         project :idl-parser\n      &gt; Could not resolve org.antlr:antlr4:4.5.\n         &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom'.\n            &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom'.\n               &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n   &gt; Could not resolve org.antlr:antlr4:4.5.\n     Required by:\n         project :idl-parser\n      &gt; Could not resolve org.antlr:antlr4:4.5.\n         &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom'.\n            &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/antlr/antlr4/4.5/antlr4-4.5.pom'.\n               &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n   &gt; Could not resolve org.antlr:stringtemplate:3.2.\n     Required by:\n         project :idl-parser\n      &gt; Could not resolve org.antlr:stringtemplate:3.2.\n         &gt; Could not get resource 'https://repo.maven.apache.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom'.\n            &gt; Could not GET 'https://repo.maven.apache.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom'.\n               &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.4/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 653ms\n4 actionable tasks: 2 executed, 2 up-to-date\n</code></pre>\n"},{"tags":["javascript","python","java","django","email"],"owner":{"account_id":29068465,"reputation":69,"user_id":22267432,"display_name":"zahra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700144528,"creation_date":1700144528,"question_id":77495610,"body_markdown":"This project should be able to simulate email.\r\nThe program runs successfully and I can write the email, but the email is not sent and it gives this error.\r\nwhat is the problem؟\r\n\r\nin terminal:  [16/Nov/2023 17:35:46] &quot;GET /emails/inbox HTTP/1.1&quot; 200 2\r\n\r\nin console:   MLFormElement.&lt;anonymous&gt; (inbox.js:10:7)\r\n\r\n\r\ncode:\r\n\r\n    document.addEventListener(\r\n       &quot;DOMContentLoaded&quot;,function () {\r\n        const form = document.querySelector(&quot;#compose-form&quot;);\r\n        const msg = document.querySelector(&quot;#message&quot;);\r\n        form.addEventListener(&quot;submit&quot;, (event) =&gt; {\r\n          event.preventDefault();\r\n          to = document.querySelector(&quot;#compose-recipients&quot;);\r\n          subject = document.querySelector(&quot;#compose-subject&quot;);\r\n          body = document.querySelector(&quot;#compose-body&quot;);\r\n          if (from.length == 0 &amp;&amp; to.length == 1000) return;\r\n\r\n          fetch(&quot;/emails&quot;, {\r\n            method: &quot;POST&quot;,\r\n            body: JSON.stringify({\r\n              recipients: to.value,\r\n              subject: subject.value,\r\n              body: body.value,\r\n            }),\r\n          })\r\n          .then((response) =&gt; response.json())\r\n          .then((result) =&gt; {\r\n              console.log(result.status);\r\n              if (result.status == 201) {\r\n                  load_mailbox(&quot;sent&quot;);\r\n             } else {\r\n                  msg.innerHTML = `&lt;div class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;\r\n                  ${result.error}\r\n            &lt;/div&gt;`;\r\n            }\r\n          });\r\n        });\r\n       },\r\n      false\r\n      );\r\n\r\n","title":"Email simulation with Django","body":"<p>This project should be able to simulate email.\nThe program runs successfully and I can write the email, but the email is not sent and it gives this error.\nwhat is the problem؟</p>\n<p>in terminal:  [16/Nov/2023 17:35:46] &quot;GET /emails/inbox HTTP/1.1&quot; 200 2</p>\n<p>in console:   MLFormElement. (inbox.js:10:7)</p>\n<p>code:</p>\n<pre><code>document.addEventListener(\n   &quot;DOMContentLoaded&quot;,function () {\n    const form = document.querySelector(&quot;#compose-form&quot;);\n    const msg = document.querySelector(&quot;#message&quot;);\n    form.addEventListener(&quot;submit&quot;, (event) =&gt; {\n      event.preventDefault();\n      to = document.querySelector(&quot;#compose-recipients&quot;);\n      subject = document.querySelector(&quot;#compose-subject&quot;);\n      body = document.querySelector(&quot;#compose-body&quot;);\n      if (from.length == 0 &amp;&amp; to.length == 1000) return;\n\n      fetch(&quot;/emails&quot;, {\n        method: &quot;POST&quot;,\n        body: JSON.stringify({\n          recipients: to.value,\n          subject: subject.value,\n          body: body.value,\n        }),\n      })\n      .then((response) =&gt; response.json())\n      .then((result) =&gt; {\n          console.log(result.status);\n          if (result.status == 201) {\n              load_mailbox(&quot;sent&quot;);\n         } else {\n              msg.innerHTML = `&lt;div class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;\n              ${result.error}\n        &lt;/div&gt;`;\n        }\n      });\n    });\n   },\n  false\n  );\n</code></pre>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache"],"owner":{"account_id":67291,"reputation":4770,"user_id":196963,"accept_rate":83,"display_name":"onigunn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700144107,"creation_date":1700144107,"question_id":77495559,"body_markdown":"I want to implement a soft-delete mechanism on my quarkus prototype. Given this entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;categories&quot;)\r\n@SQLDelete(sql = &quot;UPDATE categories SET deleted_at = now() WHERE id = ?&quot;, check = ResultCheckStyle.COUNT)\r\n@Where(clause = &quot;deleted_at IS NULL&quot;)\r\npublic class Category extends PanacheEntity {\r\n    public String title;\r\n    @ManyToOne\r\n    public Category parent;\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;updated_at&quot;)\r\n    public Date updatedAt;\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;, updatable = false)\r\n    public Date createdAt;\r\n    @Column(name = &quot;deleted_at&quot;)\r\n    public Date deletedAt;\r\n}\r\n```\r\nHibernate picks up the `@Where` and `@SQLDelete` annotation correctly, as it is shown in the logs.\r\n\r\nIn connection with `PanacheEntityResource` \r\n```\r\n@ResourceProperties(path = &quot;r-categories&quot;)\r\npublic interface CategoryREST extends PanacheEntityResource&lt;Category, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nall methods `GET,POST,PUT` work fine besides `DELETE` which throws a `jakarta.persistence.OptimisticLockException` see detailed stacktrace below\r\n\r\n```\r\n2023-11-16 15:02:56,857 WARN  [io.qua.hib.orm.res.dat.pan.run.RestDataPanacheExceptionMapper] (executor-thread-1) Mapping an unhandled RestDataPanacheException: io.quarkus.rest.data.panache.RestDataPanacheException: Failed to delete an entity\r\n        at org.acme.CategoryRESTJaxRs_e79be3c94f0cad9f226867ba6e8d90914e10ca85.delete(Unknown Source)\r\n        at org.acme.CategoryRESTJaxRs_e79be3c94f0cad9f226867ba6e8d90914e10ca85$quarkusrestinvoker$delete_51d77e39c8d2bf28511a9aae7f6a80b42eb0edb7.invoke(Unknown Source)\r\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\r\n        at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\r\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\r\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:582)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:1583)\r\nCaused by: io.quarkus.arc.ArcUndeclaredThrowableException: Error invoking subclass method\r\n        at org.acme.CategoryRESTImpl_e79be3c94f0cad9f226867ba6e8d90914e10ca85_Subclass.delete(Unknown Source)\r\n        at org.acme.CategoryRESTImpl_e79be3c94f0cad9f226867ba6e8d90914e10ca85_ClientProxy.delete(Unknown Source)\r\n        ... 12 more\r\nCaused by: jakarta.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\r\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1283)\r\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:104)\r\n        at io.quarkus.narayana.jta.runtime.NotifyingTransactionManager.commit(NotifyingTransactionManager.java:70)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.endTransaction(TransactionalInterceptorBase.java:406)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:171)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\r\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)\r\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\r\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\r\n        ... 14 more\r\nCaused by: jakarta.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [org.acme.domain.entity.Category#2]\r\n        at org.hibernate.internal.ExceptionConverterImpl.wrapStaleStateException(ExceptionConverterImpl.java:204)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:93)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\r\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:168)\r\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1416)\r\n        at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:485)\r\n        at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2301)\r\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1966)\r\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\r\n        at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.beforeCompletion(JtaTransactionCoordinatorImpl.java:336)\r\n        at org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorNonTrackingImpl.beforeCompletion(SynchronizationCallbackCoordinatorNonTrackingImpl.java:47)\r\n        at org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:37)\r\n        at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:52)\r\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:351)\r\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:69)\r\n        at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:138)\r\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1271)\r\n        ... 26 more\r\n\r\n\r\n```\r\n\r\nGiven hibernate is working this could be a bug related to panache?\r\n","title":"Soft-Delete with PanacheEntityResource results in OptimisticLockException","body":"<p>I want to implement a soft-delete mechanism on my quarkus prototype. Given this entity</p>\n<pre><code>@Entity\n@Table(name = &quot;categories&quot;)\n@SQLDelete(sql = &quot;UPDATE categories SET deleted_at = now() WHERE id = ?&quot;, check = ResultCheckStyle.COUNT)\n@Where(clause = &quot;deleted_at IS NULL&quot;)\npublic class Category extends PanacheEntity {\n    public String title;\n    @ManyToOne\n    public Category parent;\n    @UpdateTimestamp\n    @Column(name = &quot;updated_at&quot;)\n    public Date updatedAt;\n    @CreationTimestamp\n    @Column(name = &quot;created_at&quot;, updatable = false)\n    public Date createdAt;\n    @Column(name = &quot;deleted_at&quot;)\n    public Date deletedAt;\n}\n</code></pre>\n<p>Hibernate picks up the <code>@Where</code> and <code>@SQLDelete</code> annotation correctly, as it is shown in the logs.</p>\n<p>In connection with <code>PanacheEntityResource</code></p>\n<pre><code>@ResourceProperties(path = &quot;r-categories&quot;)\npublic interface CategoryREST extends PanacheEntityResource&lt;Category, Long&gt; {\n\n}\n</code></pre>\n<p>all methods <code>GET,POST,PUT</code> work fine besides <code>DELETE</code> which throws a <code>jakarta.persistence.OptimisticLockException</code> see detailed stacktrace below</p>\n<pre><code>2023-11-16 15:02:56,857 WARN  [io.qua.hib.orm.res.dat.pan.run.RestDataPanacheExceptionMapper] (executor-thread-1) Mapping an unhandled RestDataPanacheException: io.quarkus.rest.data.panache.RestDataPanacheException: Failed to delete an entity\n        at org.acme.CategoryRESTJaxRs_e79be3c94f0cad9f226867ba6e8d90914e10ca85.delete(Unknown Source)\n        at org.acme.CategoryRESTJaxRs_e79be3c94f0cad9f226867ba6e8d90914e10ca85$quarkusrestinvoker$delete_51d77e39c8d2bf28511a9aae7f6a80b42eb0edb7.invoke(Unknown Source)\n        at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\n        at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\n        at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:582)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: io.quarkus.arc.ArcUndeclaredThrowableException: Error invoking subclass method\n        at org.acme.CategoryRESTImpl_e79be3c94f0cad9f226867ba6e8d90914e10ca85_Subclass.delete(Unknown Source)\n        at org.acme.CategoryRESTImpl_e79be3c94f0cad9f226867ba6e8d90914e10ca85_ClientProxy.delete(Unknown Source)\n        ... 12 more\nCaused by: jakarta.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1283)\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:104)\n        at io.quarkus.narayana.jta.runtime.NotifyingTransactionManager.commit(NotifyingTransactionManager.java:70)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.endTransaction(TransactionalInterceptorBase.java:406)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:171)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)\n        at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\n        ... 14 more\nCaused by: jakarta.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [org.acme.domain.entity.Category#2]\n        at org.hibernate.internal.ExceptionConverterImpl.wrapStaleStateException(ExceptionConverterImpl.java:204)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:93)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:168)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1416)\n        at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:485)\n        at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2301)\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1966)\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\n        at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.beforeCompletion(JtaTransactionCoordinatorImpl.java:336)\n        at org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorNonTrackingImpl.beforeCompletion(SynchronizationCallbackCoordinatorNonTrackingImpl.java:47)\n        at org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:37)\n        at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:52)\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:351)\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:69)\n        at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:138)\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1271)\n        ... 26 more\n\n\n</code></pre>\n<p>Given hibernate is working this could be a bug related to panache?</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","swagger-3.0"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26056,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700144079,"creation_date":1700143104,"answer_id":77495456,"question_id":77495348,"body_markdown":"You shouldn&#39;t be passing data via request headers like this. Request headers are used to pass information about the client to the server (eg does the client accept gzipped responses)\r\n\r\nTo pass data to the server you should either use:\r\n\r\n - Request parameters (@RequestParam)\r\n - Path Variables (@PathVariable)\r\n - The body of a POST (@RequestBody)\r\n\r\n**Note that GET requests do not support a @RequestBody** (standard HTTP protocol, nothing to do with spring / swagger)\r\n\r\nHere&#39;s an example POST with @PathVariable, @RequestParam and @RequestBody \r\n\r\n```java\r\npublic class MyBodyBean {\r\n   private String value1;\r\n   private String value2;\r\n   private String value3;\r\n\r\n   // getters / setters\r\n}\r\n```\r\n\r\n```java\r\npublic class FooController {\r\n   @PostMapping(&quot;/foo/{test1}/do-something/&quot;)\r\n   public ResponseEntity doSomething(\r\n      @PathVariable(&quot;test1&quot;) test1,\r\n      @RequestParam(&quot;test2&quot;) test2,\r\n      @RequestBody MyBodyBean body\r\n   ) {\r\n      doStuff(test1, test2, body);\r\n      return ResponseEntity.ok(HttpStatus.OK);\r\n   }\r\n}\r\n```\r\n\r\nTo invoke this you would POST a JSON body to `/foo/xxx/do-something?test2=yyy`\r\n\r\nThe JSON body would look something like\r\n```json\r\n{ \r\n  &quot;value1&quot;:&quot;A&quot;, \r\n  &quot;value2&quot;:&quot;B&quot;, \r\n  &quot;value3&quot;:&quot;C&quot; \r\n}\r\n```","title":"@RequestHeader Map&lt;String, String&gt; is not working in swagger UI","body":"<p>You shouldn't be passing data via request headers like this. Request headers are used to pass information about the client to the server (eg does the client accept gzipped responses)</p>\n<p>To pass data to the server you should either use:</p>\n<ul>\n<li>Request parameters (@RequestParam)</li>\n<li>Path Variables (@PathVariable)</li>\n<li>The body of a POST (@RequestBody)</li>\n</ul>\n<p><strong>Note that GET requests do not support a @RequestBody</strong> (standard HTTP protocol, nothing to do with spring / swagger)</p>\n<p>Here's an example POST with @PathVariable, @RequestParam and @RequestBody</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyBodyBean {\n   private String value1;\n   private String value2;\n   private String value3;\n\n   // getters / setters\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooController {\n   @PostMapping(&quot;/foo/{test1}/do-something/&quot;)\n   public ResponseEntity doSomething(\n      @PathVariable(&quot;test1&quot;) test1,\n      @RequestParam(&quot;test2&quot;) test2,\n      @RequestBody MyBodyBean body\n   ) {\n      doStuff(test1, test2, body);\n      return ResponseEntity.ok(HttpStatus.OK);\n   }\n}\n</code></pre>\n<p>To invoke this you would POST a JSON body to <code>/foo/xxx/do-something?test2=yyy</code></p>\n<p>The JSON body would look something like</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n  &quot;value1&quot;:&quot;A&quot;, \n  &quot;value2&quot;:&quot;B&quot;, \n  &quot;value3&quot;:&quot;C&quot; \n}\n</code></pre>\n"}],"owner":{"account_id":29034892,"reputation":11,"user_id":22241030,"display_name":"MrCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700144079,"creation_date":1700142351,"question_id":77495348,"body_markdown":"I have a controller with method @GET. I would like to pass headers as a Map&lt;String, String&gt;, but a field to pass headers is not visible on swagger UI side.\r\n\r\nFor example: When I tried to pass header as a @RequestHeader String something - field is visible on swagger UI part, just above place to pass body, but after annotation there is a Map, there is no place to put this headers at all.\r\n\r\n```\r\npublic ResponseEntity&lt;MyObject&gt; getObject(\r\n            @RequestHeader String test,\r\n            @RequestHeader Map&lt;String, String&gt; headers) {\r\n\r\n//logic here\r\n}\r\n```\r\n[enter image description here](https://i.stack.imgur.com/KyBQW.png)\r\n\r\nI would like to be able to pass for example three headers via some textbox (like @RequestBody is working). Not to create countless amount of labels with concrete headers, I would like to pass headers through map via swagger UI. Is it possible?\r\n\r\nThanks","title":"@RequestHeader Map&lt;String, String&gt; is not working in swagger UI","body":"<p>I have a controller with method @GET. I would like to pass headers as a Map&lt;String, String&gt;, but a field to pass headers is not visible on swagger UI side.</p>\n<p>For example: When I tried to pass header as a @RequestHeader String something - field is visible on swagger UI part, just above place to pass body, but after annotation there is a Map, there is no place to put this headers at all.</p>\n<pre><code>public ResponseEntity&lt;MyObject&gt; getObject(\n            @RequestHeader String test,\n            @RequestHeader Map&lt;String, String&gt; headers) {\n\n//logic here\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KyBQW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I would like to be able to pass for example three headers via some textbox (like @RequestBody is working). Not to create countless amount of labels with concrete headers, I would like to pass headers through map via swagger UI. Is it possible?</p>\n<p>Thanks</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700143593,"post_id":77495491,"comment_id":136620281,"body_markdown":"`&quot;&#39;)&#39;&quot;` → `&quot;&#39;)&quot;` at the end","body":"<code>&quot;&#39;)&#39;&quot;</code> → <code>&quot;&#39;)&quot;</code> at the end"},{"owner":{"account_id":129540,"reputation":210837,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1700143858,"post_id":77495491,"comment_id":136620331,"body_markdown":"*&quot;You have an error in your SQL syntax&quot;* - Your very first first debugging step should be to observe the actual runtime value of your `sql` variable so you can see the resulting syntax that you&#39;ve created.  Test that SQL code independently of this Java code which creates it.  Observe any problems in that code.  If you can&#39;t find the problem in that code, reduce it to simpler and simpler versions (fewer columns, etc.) to a minimal version of only the SQL code which produces the problem.  In **that** code, observe and identify the problem.  Debugging is a critical process to resolving errors.","body":"<i>&quot;You have an error in your SQL syntax&quot;</i> - Your very first first debugging step should be to observe the actual runtime value of your <code>sql</code> variable so you can see the resulting syntax that you&#39;ve created.  Test that SQL code independently of this Java code which creates it.  Observe any problems in that code.  If you can&#39;t find the problem in that code, reduce it to simpler and simpler versions (fewer columns, etc.) to a minimal version of only the SQL code which produces the problem.  In <b>that</b> code, observe and identify the problem.  Debugging is a critical process to resolving errors."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1700145076,"post_id":77495491,"comment_id":136620568,"body_markdown":"Also, send [Little Bobby Tables](https://bobby-tables.com/) my regards.","body":"Also, send <a href=\"https://bobby-tables.com/\" rel=\"nofollow noreferrer\">Little Bobby Tables</a> my regards."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700149403,"post_id":77495491,"comment_id":136621507,"body_markdown":"Your misuse of PreparedStatement is **one of the most dangerous software vulnerabilities in existence.**  You should have written `String sql = &quot;INSERT INTO rumah (nama, area, tipe, luas, harga, jumlah_cicilan, cicilan_bulan) VALUES (?, ?, ?, ?, ?, ?, ?)&quot;;` and then called `pst.setString(1, orderNameTxt.getText());`, `pst.setString(2, areacb.getSelectedItem());`, etc.  Even if this just an assignment and not a commercial application, it is a very good idea to get used to writing safe, secure, unhackable code.","body":"Your misuse of PreparedStatement is <b>one of the most dangerous software vulnerabilities in existence.</b>  You should have written <code>String sql = &quot;INSERT INTO rumah (nama, area, tipe, luas, harga, jumlah_cicilan, cicilan_bulan) VALUES (?, ?, ?, ?, ?, ?, ?)&quot;;</code> and then called <code>pst.setString(1, orderNameTxt.getText());</code>, <code>pst.setString(2, areacb.getSelectedItem());</code>, etc.  Even if this just an assignment and not a commercial application, it is a very good idea to get used to writing safe, secure, unhackable code."}],"owner":{"account_id":29918509,"reputation":1,"user_id":22928210,"display_name":"Rispa Nurhalipah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700144136,"answer_count":0,"score":-1,"last_activity_date":1700143859,"creation_date":1700143402,"question_id":77495491,"body_markdown":"```\r\naplikasi.penjualan.rumah.PaymentForm btsaveActionPerformed\r\nSEVERE: null\r\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;&#39;&#39; at line 1\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:386)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2794)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)\r\n\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1379)\r\n\tat aplikasi.penjualan.rumah.PaymentForm.btsaveActionPerformed(PaymentForm.java:572)\r\n\tat aplikasi.penjualan.rumah.PaymentForm.access$900(PaymentForm.java:19)\r\n\tat aplikasi.penjualan.rumah.PaymentForm$10.actionPerformed(PaymentForm.java:187)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n```\r\n```\r\nif(agreementCbx.isSelected() == false){\r\n            JOptionPane.showMessageDialog(null, \r\n                    &quot;Klik Centang CheckBox Untuk Simpan Data&quot;, &quot;Error&quot;,\r\n            JOptionPane.ERROR_MESSAGE);\r\n        }else {\r\n            String typeHouse;\r\n            if (t36RadioButton.isSelected()) {\r\n                typeHouse = &quot;TIPE 36&quot;;\r\n            }else if (t45RadioButton.isSelected()){\r\n                typeHouse = &quot;TIPE 45&quot;;\r\n            }else {\r\n                typeHouse = &quot;TIPE 54&quot;;\r\n            }\r\n            \r\n            try{\r\n                String sql = &quot;INSERT INTO rumah (nama, area, tipe, luas, harga, jumlah_cicilan, cicilan_bulan) VALUES (&#39;&quot;\r\n                        + orderNameTxt.getText() + &quot;&#39;,&#39;&quot;\r\n                        + areacb.getSelectedItem() + &quot;&#39;,&#39;&quot;\r\n                        + typeHouse + &quot;&#39;,&#39;&quot;\r\n                        + largeLandTxt.getText()+&quot;&#39;,&#39;&quot;\r\n                        + totalPriceTxt.getText() + &quot;&#39;,&#39;&quot;\r\n                        + instalmentAmountTxt.getText() + &quot;&#39;,&#39;&quot;\r\n                        + instalmentMonthTxt.getText() + &quot;&#39;)&#39;&quot;;\r\n                Connection conn = (Connection)ConnectionDB.connectDatabase();\r\n                PreparedStatement pst = conn.prepareStatement(sql);\r\n                pst.execute();\r\n            } catch (SQLException ex) {\r\n                Logger.getLogger(PaymentForm.class.getName()).log(Level. SEVERE, null, ex);  \r\n            }\r\n            \r\n            OptionMenu optionMenu = new OptionMenu();\r\n            optionMenu.setVisible(true);\r\n            this.getDesktopPane().add(optionMenu);\r\n            this.dispose();\r\n            \r\n            \r\n        }\r\n    }\r\n```             ","title":"Full Message Erorr","body":"<pre><code>aplikasi.penjualan.rumah.PaymentForm btsaveActionPerformed\nSEVERE: null\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ''' at line 1\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.Util.getInstance(Util.java:386)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2794)\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)\n    at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1379)\n    at aplikasi.penjualan.rumah.PaymentForm.btsaveActionPerformed(PaymentForm.java:572)\n    at aplikasi.penjualan.rumah.PaymentForm.access$900(PaymentForm.java:19)\n    at aplikasi.penjualan.rumah.PaymentForm$10.actionPerformed(PaymentForm.java:187)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n<pre><code>if(agreementCbx.isSelected() == false){\n            JOptionPane.showMessageDialog(null, \n                    &quot;Klik Centang CheckBox Untuk Simpan Data&quot;, &quot;Error&quot;,\n            JOptionPane.ERROR_MESSAGE);\n        }else {\n            String typeHouse;\n            if (t36RadioButton.isSelected()) {\n                typeHouse = &quot;TIPE 36&quot;;\n            }else if (t45RadioButton.isSelected()){\n                typeHouse = &quot;TIPE 45&quot;;\n            }else {\n                typeHouse = &quot;TIPE 54&quot;;\n            }\n            \n            try{\n                String sql = &quot;INSERT INTO rumah (nama, area, tipe, luas, harga, jumlah_cicilan, cicilan_bulan) VALUES ('&quot;\n                        + orderNameTxt.getText() + &quot;','&quot;\n                        + areacb.getSelectedItem() + &quot;','&quot;\n                        + typeHouse + &quot;','&quot;\n                        + largeLandTxt.getText()+&quot;','&quot;\n                        + totalPriceTxt.getText() + &quot;','&quot;\n                        + instalmentAmountTxt.getText() + &quot;','&quot;\n                        + instalmentMonthTxt.getText() + &quot;')'&quot;;\n                Connection conn = (Connection)ConnectionDB.connectDatabase();\n                PreparedStatement pst = conn.prepareStatement(sql);\n                pst.execute();\n            } catch (SQLException ex) {\n                Logger.getLogger(PaymentForm.class.getName()).log(Level. SEVERE, null, ex);  \n            }\n            \n            OptionMenu optionMenu = new OptionMenu();\n            optionMenu.setVisible(true);\n            this.getDesktopPane().add(optionMenu);\n            this.dispose();\n            \n            \n        }\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":29724554,"reputation":56,"user_id":22780906,"display_name":"Nicktrovert"},"score":0,"creation_date":1700142801,"post_id":77495372,"comment_id":136620145,"body_markdown":"Try taking a look at Hashmaps","body":"Try taking a look at Hashmaps"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1700142807,"post_id":77495372,"comment_id":136620146,"body_markdown":"If the keys are unique, you can use Map, other ways you can create your own List with a custom Object with two params key and value","body":"If the keys are unique, you can use Map, other ways you can create your own List with a custom Object with two params key and value"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700144606,"post_id":77495372,"comment_id":136620480,"body_markdown":"Some languages refer to this as a _dictionary_, or a _map_.  Technically, though, it&#39;s not a _&quot;dictionary&quot;_.","body":"Some languages refer to this as a <i>dictionary</i>, or a <i>map</i>.  Technically, though, it&#39;s not a <i>&quot;dictionary&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700143175,"creation_date":1700143175,"answer_id":77495463,"question_id":77495372,"body_markdown":"## Map - If unique keys\r\n\r\nFor example:\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;23&quot;, 3632464346L);\r\n    map.put(&quot;14&quot;, &quot;abcdefgh&quot;);\r\n    map.put(&quot;22&quot;, &quot;2352sdfs23&quot;);\r\n\r\n## Custom Object - If not unique keys\r\n\r\nFor example:\r\n\r\n    class CustomObject {\r\n    \r\n       private String key;\r\n       private Object value;\r\n    \r\n      // Constructor, Getters, and Setters\r\n    }\r\n\r\nand then:\r\n\r\n    List&lt;CustomObject&gt; list = new ArrayList();\r\n    list.add(new CustomObject(&quot;23&quot;, 3632464346L));\r\n    list.add(new CustomObject(&quot;14&quot;, &quot;abcdefgh&quot;));\r\n    list.add(new CustomObject(&quot;22&quot;, &quot;2352sdfs23&quot;));\r\n\r\n","title":"What is the java equivalent of string array with custom keys?","body":"<h2>Map - If unique keys</h2>\n<p>For example:</p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;23&quot;, 3632464346L);\nmap.put(&quot;14&quot;, &quot;abcdefgh&quot;);\nmap.put(&quot;22&quot;, &quot;2352sdfs23&quot;);\n</code></pre>\n<h2>Custom Object - If not unique keys</h2>\n<p>For example:</p>\n<pre><code>class CustomObject {\n\n   private String key;\n   private Object value;\n\n  // Constructor, Getters, and Setters\n}\n</code></pre>\n<p>and then:</p>\n<pre><code>List&lt;CustomObject&gt; list = new ArrayList();\nlist.add(new CustomObject(&quot;23&quot;, 3632464346L));\nlist.add(new CustomObject(&quot;14&quot;, &quot;abcdefgh&quot;));\nlist.add(new CustomObject(&quot;22&quot;, &quot;2352sdfs23&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15068489,"reputation":604,"user_id":10874806,"display_name":"Hamza Khattabi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700143797,"creation_date":1700143290,"answer_id":77495476,"question_id":77495372,"body_markdown":"I think you are confusing Arrays, Maps and List.\r\n\r\nArray has a fixed size meaning that you can put an element to a defined position only if this position is not out of its boundaries.\r\n\r\nList are dynamic collection that looks like an array but with no **real** fixed size. In this case the elements are followed each other with no ways to put them in a specific position (they are some methods to bypass this constraint but it is an anti-pattern, better to use array for this case).\r\n\r\nMaps are collection that can be seen as a JSON object. It contains a set of key value where values can be accessed from the key provided.\r\n\r\nThe only cons with Java is that collections can not have mixed type of object like we can see in Python for example. It means that if you initialize a collection of numbers, you can only put numbers value in it, same for the String object for example. It is possible to do it by setting the value type of &quot;**Object**&quot;, because a String is an **Object**, an Integer also etc. But it need a strong verification process to not refer the wrong type to a value.\r\n\r\nFrom what I understood on your question, you want to put value linked to a specific number, a HashMap is more suitable. Even if you have two differents type on your collection (Numbers and text) You can provide them as a String and convert it using the parse() method for the wanted type (e.g Integer.parseInt(String) returns an Integer)\r\n\r\n    Map&lt;Integer, String&gt; map = new Hashmap&lt;&gt;();\r\n    \r\n    map.put(23, &quot;3632464346&quot;)\r\n    map.put(14, &quot;abcdefgh&quot;)\r\n    map.put(23, &quot;2352sdfs23&quot;) // **This will override the first value.**\r\n\r\n","title":"What is the java equivalent of string array with custom keys?","body":"<p>I think you are confusing Arrays, Maps and List.</p>\n<p>Array has a fixed size meaning that you can put an element to a defined position only if this position is not out of its boundaries.</p>\n<p>List are dynamic collection that looks like an array but with no <strong>real</strong> fixed size. In this case the elements are followed each other with no ways to put them in a specific position (they are some methods to bypass this constraint but it is an anti-pattern, better to use array for this case).</p>\n<p>Maps are collection that can be seen as a JSON object. It contains a set of key value where values can be accessed from the key provided.</p>\n<p>The only cons with Java is that collections can not have mixed type of object like we can see in Python for example. It means that if you initialize a collection of numbers, you can only put numbers value in it, same for the String object for example. It is possible to do it by setting the value type of &quot;<strong>Object</strong>&quot;, because a String is an <strong>Object</strong>, an Integer also etc. But it need a strong verification process to not refer the wrong type to a value.</p>\n<p>From what I understood on your question, you want to put value linked to a specific number, a HashMap is more suitable. Even if you have two differents type on your collection (Numbers and text) You can provide them as a String and convert it using the parse() method for the wanted type (e.g Integer.parseInt(String) returns an Integer)</p>\n<pre><code>Map&lt;Integer, String&gt; map = new Hashmap&lt;&gt;();\n\nmap.put(23, &quot;3632464346&quot;)\nmap.put(14, &quot;abcdefgh&quot;)\nmap.put(23, &quot;2352sdfs23&quot;) // **This will override the first value.**\n</code></pre>\n"}],"owner":{"account_id":1474020,"reputation":3366,"user_id":1384889,"accept_rate":87,"display_name":"Onimusha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77495476,"answer_count":2,"score":0,"last_activity_date":1700143797,"creation_date":1700142555,"question_id":77495372,"body_markdown":"I&#39;m new to Java and Android. Arrays do not make any sense to me with so many methods.\r\n\r\nHow do I create a dynamic array that I can populate at runtime for example:\r\n\r\n    customArray[23] = 3632464346\r\n    customArray[14] = abcdefgh\r\n    customArray[22] = 2352sdfs23\r\n\r\nWould it be best to create a JSONObject such as:\r\n\r\n    JSONObject customArray = newJSONObject();\r\n    \r\n    //.....in code\r\n    customArray.put(&quot;23&quot;, 3632464346);\r\n    customArray.put(&quot;14&quot;, &quot;abcdefgh&quot;);\r\n    customArray.put(&quot;23&quot;, &quot;2352sdfs23&quot;);\r\n\r\nOr is there a better way?","title":"What is the java equivalent of string array with custom keys?","body":"<p>I'm new to Java and Android. Arrays do not make any sense to me with so many methods.</p>\n<p>How do I create a dynamic array that I can populate at runtime for example:</p>\n<pre><code>customArray[23] = 3632464346\ncustomArray[14] = abcdefgh\ncustomArray[22] = 2352sdfs23\n</code></pre>\n<p>Would it be best to create a JSONObject such as:</p>\n<pre><code>JSONObject customArray = newJSONObject();\n\n//.....in code\ncustomArray.put(&quot;23&quot;, 3632464346);\ncustomArray.put(&quot;14&quot;, &quot;abcdefgh&quot;);\ncustomArray.put(&quot;23&quot;, &quot;2352sdfs23&quot;);\n</code></pre>\n<p>Or is there a better way?</p>\n"},{"tags":["java","rabbitmq","quarkus","quarkus-reactive"],"answers":[{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700143430,"creation_date":1700008659,"answer_id":77484595,"question_id":77475040,"body_markdown":"## TLS Connections Without Peer Verification\r\n\r\nYou _**DO NOT**_ need the server&#39;s private key! That would defeat the purpose of the server keeping it a secret.\r\n\r\nIf your RabbitMQ server or a TLS-terminating proxy uses a self-signed certificate, add the following configuration to your RabbitMQ client:\r\n\r\n```java\r\nPemTrustOptions trust = new PemTrustOptions().addCertPath(&quot;./tlc/ca.crt&quot;);\r\nRabbitMQOptions options = new RabbitMQOptions()\r\n    .setSsl(true)\r\n    .setPemTrustOptions(trust)\r\n    // ... other configuration options\r\n```\r\nEnsure that `./tlc/ca.crt` contains the public key (certificate) of the CA that signed the server certificate.\r\n\r\nTry to make this work first before proceeding to client certificate authentication and peer verification.\r\n\r\n## Enabling Peer Verification\r\n\r\nTo enable peer verification, provide the RabbitMQ client with the client&#39;s private and public key:\r\n\r\n```java\r\nPemKeyCertOptions keycert = new PemKeyCertOptions()\r\n    .addCertPath(&quot;./tls/tls.crt&quot;)\r\n    .addKeyPath(&quot;./tls/tls.key&quot;);\r\nRabbitMQOptions options = new RabbitMQOptions()\r\n    .setSsl(true)\r\n    .setPemKeyCertOptions(keycert)\r\n    // ... other configuration options\r\n```\r\nHere, `./tls/tls.crt` is the public key, and `./tls/tls.key` is the private key of your client certificate.\r\n\r\nEnsure RabbitMQ is configured for [peer verification][1]. If your RabbitMQ server doesn&#39;t handle TLS traffic directly, consider configuring it at a higher layer (e.g., if behind HaProxy or Nginx).\r\n\r\nFor self-signed client certificates, inform the server (RabbitMQ or TLS terminating proxy) about their trustworthiness. Detailed steps for establishing this trust are beyond this post&#39;s scope.\r\n\r\n[1]: https://www.rabbitmq.com/ssl.html#peer-verification-configuration","title":"Quarkus reactive messaging rabbitmq Connector with client certificate authentication","body":"<h2>TLS Connections Without Peer Verification</h2>\n<p>You <em><strong>DO NOT</strong></em> need the server's private key! That would defeat the purpose of the server keeping it a secret.</p>\n<p>If your RabbitMQ server or a TLS-terminating proxy uses a self-signed certificate, add the following configuration to your RabbitMQ client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PemTrustOptions trust = new PemTrustOptions().addCertPath(&quot;./tlc/ca.crt&quot;);\nRabbitMQOptions options = new RabbitMQOptions()\n    .setSsl(true)\n    .setPemTrustOptions(trust)\n    // ... other configuration options\n</code></pre>\n<p>Ensure that <code>./tlc/ca.crt</code> contains the public key (certificate) of the CA that signed the server certificate.</p>\n<p>Try to make this work first before proceeding to client certificate authentication and peer verification.</p>\n<h2>Enabling Peer Verification</h2>\n<p>To enable peer verification, provide the RabbitMQ client with the client's private and public key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PemKeyCertOptions keycert = new PemKeyCertOptions()\n    .addCertPath(&quot;./tls/tls.crt&quot;)\n    .addKeyPath(&quot;./tls/tls.key&quot;);\nRabbitMQOptions options = new RabbitMQOptions()\n    .setSsl(true)\n    .setPemKeyCertOptions(keycert)\n    // ... other configuration options\n</code></pre>\n<p>Here, <code>./tls/tls.crt</code> is the public key, and <code>./tls/tls.key</code> is the private key of your client certificate.</p>\n<p>Ensure RabbitMQ is configured for <a href=\"https://www.rabbitmq.com/ssl.html#peer-verification-configuration\" rel=\"nofollow noreferrer\">peer verification</a>. If your RabbitMQ server doesn't handle TLS traffic directly, consider configuring it at a higher layer (e.g., if behind HaProxy or Nginx).</p>\n<p>For self-signed client certificates, inform the server (RabbitMQ or TLS terminating proxy) about their trustworthiness. Detailed steps for establishing this trust are beyond this post's scope.</p>\n"}],"owner":{"account_id":29892597,"reputation":1,"user_id":22908386,"display_name":"bc_qq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700143430,"creation_date":1699889565,"question_id":77475040,"body_markdown":"I would like to use the [Quarkus RabbitMQ Connector](https://quarkus.io/guides/rabbitmq-reference) to connect to a RabbitMQ Broker (Queues). The customer requires peer verification and client certificate authentication (instead of username/password). Unfortunately, I could not find an example of how to configure the client certificate.\r\n\r\nIn the Quarkus description, I found that he Vert.x RabbitMQ client can be customized (https://quarkus.io/guides/rabbitmq-reference#customizing-the-underlying-rabbitmq-client). I have the server certificate (where the RabbitMQ broker is running) as .crt and the keyfile as .key file. I also have the client certificate as a .pem file with the cert chain und the encrypted private key included.\r\n\r\n```none\r\n------BEGIN CERTIFICATE-----  \r\nCERT  \r\n-----END CERTIFICATE-----  \r\n-----BEGIN CERTIFICATE-----  \r\nCERT   \r\n-----END CERTIFICATE-----  \r\n-----BEGIN CERTIFICATE-----  \r\nCERT  \r\n-----END CERTIFICATE-----  \r\n-----BEGIN ENCRYPTED PRIVATE KEY-----  \r\n-----END ENCRYPTED PRIVATE KEY-----  \r\n```\r\n\r\nDoes anyone have experience with client certificate authentication and RabbitMQ?\r\n\r\nI am currently not sure if the client certificate authentication works with Quarkus and the RabbitMQ connector. For the underlying vert.x client, I can only configure a truststore (https://vertx.io/docs/vertx-rabbitmq-client/java/#_jks_trust_store_option). I set there the server certificate file and the password. Or should I create a own keystore with the server certificate and the client certificate included? Is this possible?","title":"Quarkus reactive messaging rabbitmq Connector with client certificate authentication","body":"<p>I would like to use the <a href=\"https://quarkus.io/guides/rabbitmq-reference\" rel=\"nofollow noreferrer\">Quarkus RabbitMQ Connector</a> to connect to a RabbitMQ Broker (Queues). The customer requires peer verification and client certificate authentication (instead of username/password). Unfortunately, I could not find an example of how to configure the client certificate.</p>\n<p>In the Quarkus description, I found that he Vert.x RabbitMQ client can be customized (<a href=\"https://quarkus.io/guides/rabbitmq-reference#customizing-the-underlying-rabbitmq-client\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/rabbitmq-reference#customizing-the-underlying-rabbitmq-client</a>). I have the server certificate (where the RabbitMQ broker is running) as .crt and the keyfile as .key file. I also have the client certificate as a .pem file with the cert chain und the encrypted private key included.</p>\n<pre class=\"lang-none prettyprint-override\"><code>------BEGIN CERTIFICATE-----  \nCERT  \n-----END CERTIFICATE-----  \n-----BEGIN CERTIFICATE-----  \nCERT   \n-----END CERTIFICATE-----  \n-----BEGIN CERTIFICATE-----  \nCERT  \n-----END CERTIFICATE-----  \n-----BEGIN ENCRYPTED PRIVATE KEY-----  \n-----END ENCRYPTED PRIVATE KEY-----  \n</code></pre>\n<p>Does anyone have experience with client certificate authentication and RabbitMQ?</p>\n<p>I am currently not sure if the client certificate authentication works with Quarkus and the RabbitMQ connector. For the underlying vert.x client, I can only configure a truststore (<a href=\"https://vertx.io/docs/vertx-rabbitmq-client/java/#_jks_trust_store_option\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-rabbitmq-client/java/#_jks_trust_store_option</a>). I set there the server certificate file and the password. Or should I create a own keystore with the server certificate and the client certificate included? Is this possible?</p>\n"},{"tags":["java","spring","spring-boot","multithreading","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1700057894,"post_id":77488407,"comment_id":136608105,"body_markdown":"The warning is about the `JobLauncher` **not** your `Job`. Those are different things. It is used for your step not for the launcher those are totally different things.","body":"The warning is about the <code>JobLauncher</code> <b>not</b> your <code>Job</code>. Those are different things. It is used for your step not for the launcher those are totally different things."}],"answers":[{"tags":[],"owner":{"account_id":26559684,"reputation":103,"user_id":20187719,"display_name":"Harvey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700143308,"creation_date":1700143308,"answer_id":77495478,"question_id":77488407,"body_markdown":"I think it is related to the WriterExecutor, try debugging the API using the context  processor, has worked for me","title":"Spring batch not picking task executor","body":"<p>I think it is related to the WriterExecutor, try debugging the API using the context  processor, has worked for me</p>\n"}],"owner":{"account_id":18958775,"reputation":1,"user_id":13834785,"display_name":"Shivam Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700143308,"creation_date":1700057378,"question_id":77488407,"body_markdown":"This is my spring batch config:\r\n\r\n```java\r\n@RequiredArgsConstructor\r\n@Configuration\r\n@Slf4j\r\n@EnableBatchProcessing\r\npublic class SpringBatchConfig {\r\n\r\n    private final JobBuilderFactory jobBuilderFactory;\r\n    private final StepBuilderFactory stepBuilderFactory;\r\n    @Autowired\r\n    @Lazy\r\n    private CRMTService crmtService;\r\n\r\n    @Bean\r\n    public TaskExecutor myTaskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(10);\r\n        executor.setMaxPoolSize(15);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;Batch-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n    \r\n    @Bean\r\n    public Step step() {\r\n        return stepBuilderFactory.get(&quot;step&quot;)\r\n                .&lt;String, String&gt;chunk(10)\r\n                .reader(itemReader())\r\n                .processor(itemProcessor())\r\n                .writer(itemWriter())\r\n                .taskExecutor(myTaskExecutor())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Job job() {\r\n        return jobBuilderFactory.get(&quot;job&quot;)\r\n                .start(step())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public ItemReader&lt;String&gt; itemReader() {\r\n        List&lt;String&gt; list = crmtService.getVertrags();\r\n        return new IteratorItemReader&lt;&gt;(list != null ? list.iterator() : Collections.emptyIterator());\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public ItemProcessor&lt;String, String&gt; itemProcessor() {\r\n        return item -&gt; {\r\n               //Logic -&gt; This calls a method in service class. In that method I am calling an API for each string and saving the response to mongodb.\r\n\t\treturn item;\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    @StepScope\r\n    public ItemWriter&lt;String&gt; itemWriter() {\r\n        return items -&gt; {\r\n            //If we plan to log do anything in future\r\n        };\r\n    }\r\n\r\n}\r\n```\r\n\r\nJdk version 11\r\n\r\nSpring boot version 2.6.3\r\n\r\nI am triggering this spring batch in my service class.\r\n\r\nWhen I am not using task executor, I am able to get all the products (214) in my mongodb \\[With single thread I am able to get all products but obviously it takes time\\]. When I am using with task executor I miss 1 or 2 products (212/213).\r\n\r\nAlso, some 2 interesting observations:\r\n\r\nWhen the spring batch is triggered, These are the logs I get in console:\r\n```\r\nWARN [] 9758 --- [onPool-worker-1] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository \r\nWARN [] 9758 --- [onPool-worker-1] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager \r\nINFO [] 9758 --- [onPool-worker-1] o.s.b.c.l.support.SimpleJobLauncher      : **No TaskExecutor has been set, defaulting to synchronous executor**.\r\n```\r\nEven though I have set task executor in step bean. I am getting this message.\r\n\r\nWhen the spring batch actually starts, the threads which are running are from myTaskExecutor&quot; because in the console I can see the thread&#39;s name is starting with &quot;Batch&quot; and this is the prefix I added in spring batch config class.\r\n\r\n```\r\n[        Batch-1] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 123 \r\n[        Batch-3] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 456\r\n[        Batch-2] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 789\r\n```\r\n\r\nQuestion 1: Why am I getting no task executor found even when I have defined it explicitly? \r\n\r\nQuestion 2: If it is not picked then why are threads in spring batch are starting with &quot;Batch-&quot;\r\n\r\nEven if I use this instead of task executor:\r\n\r\n```java\r\n@Bean\r\npublic Step step() {\r\n    return stepBuilderFactory.get(&quot;step&quot;)\r\n            .&lt;VertragsListe, VertragsListe&gt;chunk(10)\r\n            .reader(itemReader())\r\n            .processor(itemProcessor())\r\n            .writer(itemWriter())\r\n            .taskExecutor(new SimpleAsyncTaskExecutor())\r\n            .build();\r\n}\r\n\r\n```\r\n\r\nI still get &quot;No task executor found&quot;.","title":"Spring batch not picking task executor","body":"<p>This is my spring batch config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@Configuration\n@Slf4j\n@EnableBatchProcessing\npublic class SpringBatchConfig {\n\n    private final JobBuilderFactory jobBuilderFactory;\n    private final StepBuilderFactory stepBuilderFactory;\n    @Autowired\n    @Lazy\n    private CRMTService crmtService;\n\n    @Bean\n    public TaskExecutor myTaskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(10);\n        executor.setMaxPoolSize(15);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;Batch-&quot;);\n        executor.initialize();\n        return executor;\n    }\n    \n    @Bean\n    public Step step() {\n        return stepBuilderFactory.get(&quot;step&quot;)\n                .&lt;String, String&gt;chunk(10)\n                .reader(itemReader())\n                .processor(itemProcessor())\n                .writer(itemWriter())\n                .taskExecutor(myTaskExecutor())\n                .build();\n    }\n\n    @Bean\n    public Job job() {\n        return jobBuilderFactory.get(&quot;job&quot;)\n                .start(step())\n                .build();\n    }\n\n    @Bean\n    @StepScope\n    public ItemReader&lt;String&gt; itemReader() {\n        List&lt;String&gt; list = crmtService.getVertrags();\n        return new IteratorItemReader&lt;&gt;(list != null ? list.iterator() : Collections.emptyIterator());\n    }\n\n    @Bean\n    @StepScope\n    public ItemProcessor&lt;String, String&gt; itemProcessor() {\n        return item -&gt; {\n               //Logic -&gt; This calls a method in service class. In that method I am calling an API for each string and saving the response to mongodb.\n        return item;\n        };\n    }\n\n    @Bean\n    @StepScope\n    public ItemWriter&lt;String&gt; itemWriter() {\n        return items -&gt; {\n            //If we plan to log do anything in future\n        };\n    }\n\n}\n</code></pre>\n<p>Jdk version 11</p>\n<p>Spring boot version 2.6.3</p>\n<p>I am triggering this spring batch in my service class.</p>\n<p>When I am not using task executor, I am able to get all the products (214) in my mongodb [With single thread I am able to get all products but obviously it takes time]. When I am using with task executor I miss 1 or 2 products (212/213).</p>\n<p>Also, some 2 interesting observations:</p>\n<p>When the spring batch is triggered, These are the logs I get in console:</p>\n<pre><code>WARN [] 9758 --- [onPool-worker-1] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository \nWARN [] 9758 --- [onPool-worker-1] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager \nINFO [] 9758 --- [onPool-worker-1] o.s.b.c.l.support.SimpleJobLauncher      : **No TaskExecutor has been set, defaulting to synchronous executor**.\n</code></pre>\n<p>Even though I have set task executor in step bean. I am getting this message.</p>\n<p>When the spring batch actually starts, the threads which are running are from myTaskExecutor&quot; because in the console I can see the thread's name is starting with &quot;Batch&quot; and this is the prefix I added in spring batch config class.</p>\n<pre><code>[        Batch-1] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 123 \n[        Batch-3] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 456\n[        Batch-2] c.t.openapi.crmt.conf.SpringBatchConfig  : Processing 789\n</code></pre>\n<p>Question 1: Why am I getting no task executor found even when I have defined it explicitly?</p>\n<p>Question 2: If it is not picked then why are threads in spring batch are starting with &quot;Batch-&quot;</p>\n<p>Even if I use this instead of task executor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Step step() {\n    return stepBuilderFactory.get(&quot;step&quot;)\n            .&lt;VertragsListe, VertragsListe&gt;chunk(10)\n            .reader(itemReader())\n            .processor(itemProcessor())\n            .writer(itemWriter())\n            .taskExecutor(new SimpleAsyncTaskExecutor())\n            .build();\n}\n\n</code></pre>\n<p>I still get &quot;No task executor found&quot;.</p>\n"},{"tags":["java","android","navigation","bottomnavigationview"],"owner":{"account_id":21226912,"reputation":9,"user_id":15612424,"display_name":"simonetassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700143008,"creation_date":1700143008,"question_id":77495441,"body_markdown":"I&#39;m trying to use .setOnItemSelectedListener() method to hide the badge associated to one of the menu items in my BottomNavigationView but it&#39;s not working and I can&#39;t figure out what&#39;s the problem\r\n\r\nThis is my code:\r\n\r\n```\r\n@Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ...\r\n\r\n        // NAVBAR CONTROL\r\n        NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\r\n        NavController navController = navHostFragment.getNavController();\r\n        bottomNavigationView = findViewById(R.id.bottomNavigation);\r\n        bottomNavigationView.getOrCreateBadge(R.id.discoverFragment);\r\n        bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(false);\r\n\r\n        // TODO not working at the moment\r\n        bottomNavigationView.setOnItemSelectedListener( item -&gt; {\r\n            if (item.getItemId() == R.id.discoverFragment){\r\n                Log.d(TAG, &quot;discover fragment&quot;);\r\n                bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(false);\r\n                return true;\r\n            } else {\r\n                Log.d(TAG, &quot;ERROR: Fragment unrecognized&quot;);\r\n                return false;\r\n            }\r\n        });\r\n\r\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\r\n...\r\n\r\n```\r\n\r\nTo show the badge i use             `bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(true);`, which works perfectly fine.\r\n\r\n","title":"BottomNavigationView.setOnItemSelectedListener() badge update not working","body":"<p>I'm trying to use .setOnItemSelectedListener() method to hide the badge associated to one of the menu items in my BottomNavigationView but it's not working and I can't figure out what's the problem</p>\n<p>This is my code:</p>\n<pre><code>@Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ...\n\n        // NAVBAR CONTROL\n        NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n        NavController navController = navHostFragment.getNavController();\n        bottomNavigationView = findViewById(R.id.bottomNavigation);\n        bottomNavigationView.getOrCreateBadge(R.id.discoverFragment);\n        bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(false);\n\n        // TODO not working at the moment\n        bottomNavigationView.setOnItemSelectedListener( item -&gt; {\n            if (item.getItemId() == R.id.discoverFragment){\n                Log.d(TAG, &quot;discover fragment&quot;);\n                bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(false);\n                return true;\n            } else {\n                Log.d(TAG, &quot;ERROR: Fragment unrecognized&quot;);\n                return false;\n            }\n        });\n\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\n...\n\n</code></pre>\n<p>To show the badge i use             <code>bottomNavigationView.getBadge(R.id.discoverFragment).setVisible(true);</code>, which works perfectly fine.</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683373576,"post_id":76188050,"comment_id":134358960,"body_markdown":"Did you try one of additional gradle arguments suggested in the error message to get more details about the error?","body":"Did you try one of additional gradle arguments suggested in the error message to get more details about the error?"},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1683375475,"post_id":76188050,"comment_id":134359132,"body_markdown":"@aled I did, nothing useful. Too big to put here.","body":"@aled I did, nothing useful. Too big to put here."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683376692,"post_id":76188050,"comment_id":134359267,"body_markdown":"It may be useful to answer to have more details. Try extracting details of the error only, not the full thing. If you don&#39;t provide more information it is very unlikely anyone can help you.","body":"It may be useful to answer to have more details. Try extracting details of the error only, not the full thing. If you don&#39;t provide more information it is very unlikely anyone can help you."},{"owner":{"account_id":1473276,"reputation":110989,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1683378782,"post_id":76188050,"comment_id":134359522,"body_markdown":"Looks like a failure due to a `NoSuchMethodError`. What version of Gradle are you using? Also, `--stacktrace` should identify the code that&#39;s calling the method that doesn&#39;t exist.","body":"Looks like a failure due to a <code>NoSuchMethodError</code>. What version of Gradle are you using? Also, <code>--stacktrace</code> should identify the code that&#39;s calling the method that doesn&#39;t exist."},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1683379319,"post_id":76188050,"comment_id":134359577,"body_markdown":"@aled Added link to full debug log.","body":"@aled Added link to full debug log."},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1683379454,"post_id":76188050,"comment_id":134359598,"body_markdown":"@AndyWilkinson Added link to full debug log. I didn&#39;t find NoSuchMethodError here. Using Gradle 8.1.1","body":"@AndyWilkinson Added link to full debug log. I didn&#39;t find NoSuchMethodError here. Using Gradle 8.1.1"},{"owner":{"account_id":1473276,"reputation":110989,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1683383036,"post_id":76188050,"comment_id":134360047,"body_markdown":"@Ram You may want to delete that debug log as it can contain sensitive information","body":"@Ram You may want to delete that debug log as it can contain sensitive information"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110989,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1683382895,"creation_date":1683382895,"answer_id":76189396,"question_id":76188050,"body_markdown":"You are using Spring Boot 2.6 [which does not support Gradle 8.x](https://docs.spring.io/spring-boot/docs/2.6.x/gradle-plugin/reference/htmlsingle/#introduction):\r\n\r\n&gt; Spring Boot’s Gradle plugin requires Gradle 6.8, 6.9, or 7.x and can be used with Gradle’s configuration cache.\r\n\r\nSupport for Gradle 8 was added in Spring Boot 2.7 so you can either upgrade to Spring Boot 2.7 or downgrade to Gradle 7.x.","title":"How to fix gradle build failed due to void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider) error?","body":"<p>You are using Spring Boot 2.6 <a href=\"https://docs.spring.io/spring-boot/docs/2.6.x/gradle-plugin/reference/htmlsingle/#introduction\" rel=\"noreferrer\">which does not support Gradle 8.x</a>:</p>\n<blockquote>\n<p>Spring Boot’s Gradle plugin requires Gradle 6.8, 6.9, or 7.x and can be used with Gradle’s configuration cache.</p>\n</blockquote>\n<p>Support for Gradle 8 was added in Spring Boot 2.7 so you can either upgrade to Spring Boot 2.7 or downgrade to Gradle 7.x.</p>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700142966,"creation_date":1700142966,"answer_id":77495434,"question_id":76188050,"body_markdown":"If you are seeing this from intelliJ and returning fine otherwise or vice-versa, you may need to verify you are using local gradle installation in your build tool setting. This will give consistent result.","title":"How to fix gradle build failed due to void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider) error?","body":"<p>If you are seeing this from intelliJ and returning fine otherwise or vice-versa, you may need to verify you are using local gradle installation in your build tool setting. This will give consistent result.</p>\n"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10629,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":76189396,"answer_count":2,"score":12,"last_activity_date":1700142966,"creation_date":1683363819,"question_id":76188050,"body_markdown":"I am getting following exception when I try to build the spring boot project using Gradle build command. The code comiples and runs fine in IntelliJ Idea.\r\n\r\n    PS C:\\SVN\\Dactyl\\IIOTWizards\\SCADA\\Trunk\\source\\Services\\universal-service&gt; gradle build                                                                                                \r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    &#39;void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider)&#39;\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 657ms\r\n\r\nThis is my build.gradle file.\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.iiot.wizards&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    //sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation files(&#39;lib/connection-manager-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/dlms-lib-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/emdb-entities-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/emdb-model-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/emflex-ansi-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/emflex-dlms-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-common-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-communication-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-dnp3-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-dnp3-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-history-data-provider-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-history-data-writers-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-licensing-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-local-data-cache-manager-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-log-manager-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-messaging-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-mio-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-modbus-gprs-read-meter-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-modbus-meter-reader-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-scheduler-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/modbus-master-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/TinyLog-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/Utils-2.0.0.1.jar&#39;)\r\n        implementation files(&#39;lib/jniwrap-3.12.jar&#39;)\r\n        implementation files(&#39;lib/GoogleProtocolBuffer_2.6.1.jar&#39;)\r\n        implementation files(&#39;lib/comm.jar&#39;)\r\n        implementation files(&#39;lib/RXTXcomm.jar&#39;)\r\n        implementation files(&#39;lib/iiot-wizards-history-entities-2.0.0.1.jar&#39;)\r\n    \r\n        // https://mvnrepository.com/artifact/commons-io/commons-io\r\n        implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.11.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.eclipse.paho/org.eclipse.paho.client.mqttv3\r\n        implementation group: &#39;org.eclipse.paho&#39;, name: &#39;org.eclipse.paho.client.mqttv3&#39;, version: &#39;1.2.5&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.rabbitmq/amqp-client\r\n        implementation group: &#39;com.rabbitmq&#39;, name: &#39;amqp-client&#39;, version: &#39;5.13.1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-compress\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-compress&#39;, version: &#39;1.21&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\r\n        implementation group: &#39;commons-beanutils&#39;, name: &#39;commons-beanutils&#39;, version: &#39;1.9.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/commons-cli/commons-cli\r\n        implementation group: &#39;commons-cli&#39;, name: &#39;commons-cli&#39;, version: &#39;1.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-collections4\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-collections4&#39;, version: &#39;4.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/commons-logging/commons-logging\r\n        implementation group: &#39;commons-logging&#39;, name: &#39;commons-logging&#39;, version: &#39;1.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-math3\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-math3&#39;, version: &#39;3.6.1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-text\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-text&#39;, version: &#39;1.9&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/gnu.io/rxtx\r\n    //    implementation group: &#39;gnu.io&#39;, name: &#39;rxtx&#39;, version: &#39;2.1.7&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n        implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;5.5.7.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apiguardian/apiguardian-api\r\n        implementation group: &#39;org.apiguardian&#39;, name: &#39;apiguardian-api&#39;, version: &#39;1.1.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.dom4j/dom4j\r\n        implementation group: &#39;org.dom4j&#39;, name: &#39;dom4j&#39;, version: &#39;2.1.3&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.sun.xml.fastinfoset/FastInfoset\r\n        implementation group: &#39;com.sun.xml.fastinfoset&#39;, name: &#39;FastInfoset&#39;, version: &#39;2.0.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core\r\n        testImplementation group: &#39;org.hamcrest&#39;, name: &#39;hamcrest-core&#39;, version: &#39;2.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.1-api\r\n        implementation group: &#39;org.hibernate.javax.persistence&#39;, name: &#39;hibernate-jpa-2.1-api&#39;, version: &#39;1.0.2.Final&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.hibernate.ogm/hibernate-ogm-mongodb\r\n    //    implementation group: &#39;org.hibernate.ogm&#39;, name: &#39;hibernate-ogm-mongodb&#39;, version: &#39;5.4.1.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.sun.istack/istack-commons-runtime\r\n        implementation group: &#39;com.sun.istack&#39;, name: &#39;istack-commons-runtime&#39;, version: &#39;4.1.0-M1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.javassist/javassist\r\n        implementation &#39;org.javassist:javassist:3.28.0-GA&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\r\n        implementation &#39;javax.annotation:javax.annotation-api:1.3.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/io.dropwizard.metrics/metrics-core\r\n        implementation &#39;io.dropwizard.metrics:metrics-core:4.2.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.jboss.narayana.jta/narayana-jta\r\n        testImplementation &#39;org.jboss.narayana.jta:narayana-jta:5.12.1.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/io.netty/netty-all\r\n        implementation &#39;io.netty:netty-all:4.1.67.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.rabbitmq/amqp-client\r\n        implementation &#39;com.rabbitmq:amqp-client:5.13.1&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\r\n    //    implementation &#39;org.apache.logging.log4j:log4j-core:2.14.1&#39;\r\n    //\r\n    //    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl\r\n    //    testImplementation &#39;org.apache.logging.log4j:log4j-slf4j-impl:2.14.1&#39;\r\n    //\r\n    //    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api\r\n    //    implementation &#39;org.apache.logging.log4j:log4j-api:2.14.1&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.slf4j/slf4j-api\r\n    //    implementation &#39;org.slf4j:slf4j-api:1.7.32&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12\r\n    //    testImplementation &#39;org.slf4j:slf4j-log4j12:1.7.32&#39;\r\n    \r\n    //    // https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\r\n    //    testImplementation &#39;org.slf4j:slf4j-simple:1.7.32&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc\r\n        implementation &#39;org.xerial:sqlite-jdbc:3.36.0.3&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.jvnet.staxex/stax-ex\r\n        implementation &#39;org.jvnet.staxex:stax-ex:2.1.0-M1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.glassfish.jaxb/txw2\r\n        implementation &#39;org.glassfish.jaxb:txw2:3.0.2&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple\r\n        implementation &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;\r\n    \r\n    \r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc:2.5.6&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.6&#39;\r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb:2.5.4&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-jdbc:2.5.6&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client:2.5.6&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security:2.5.6&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web:2.5.6&#39;\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n        runtimeOnly &#39;com.h2database:h2:1.4.200&#39;\r\n        runtimeOnly &#39;com.microsoft.sqlserver:mssql-jdbc&#39;\r\n        runtimeOnly &#39;com.oracle.database.jdbc:ojdbc8:21.1.0.0&#39;\r\n        runtimeOnly &#39;mysql:mysql-connector-java:8.0.28&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql:42.3.8&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.5.6&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test:5.5.1&#39;\r\n    \r\n    }\r\n    \r\n    //jar {\r\n    //    manifest {\r\n    //        attributes(\r\n    //                &#39;Class-Path&#39;: &#39;comm.jar jdom.jar optra.jar jxl-2.6.jar RXTXcomm.jar javax.ejb.jar javax.jms.jar sqljdbc42.jar guava-16.0.jar hamcrest-core.jar javax.servlet.jar commons-io-2.7.jar javax.resource.jar commons-cli-1.4.jar log4j-api-2.9.0.jar rabbitmq-client.jar javax.annotation.jar log4j-core-2.9.0.jar portmapper-2.0.0.jar javax.servlet.jsp.jar javax.transaction.jar netty-3.9.0.Final.jar sqlite-jdbc-3.7.2.jar metrics-core-2.2.0.jar metrics-core-3.1.2.jar poi-3.10.1-20140818.jar javax.servlet.jsp.jstl.jar poi-ooxml-3.10.1-20140818.jar GoogleProtocolBuffer_2.6.1.jar poi-ooxml-schemas-3.10.1-20140818.jar hibernate-jpa-2.1-api-1.0.2.Final.jar apiguardian-api-1.0.0.jar opentest4j-1.1.1.jar byte-buddy-1.10.7.jar hibernate-core-5.4.11.Final.jar classmate-1.5.1.jar antlr-2.7.7.jar dom4j-2.1.1.jar hibernate-commons-annotations-5.1.0.Final.jar FastInfoset-1.2.15.jar istack-commons-runtime-3.0.7.jar jandex-2.1.1.Final.jar javassist-3.24.0-GA.jar jaxb-api-2.3.1.jar javax.activation-api-1.2.0.jar javax.persistence-api-2.2.jar jaxb-runtime-2.3.1.jar jboss-logging-3.3.2.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar stax-ex-1.8.jar txw2-2.3.1.jar commons-compress-1.19.jar javax.jms.jar javax.annotation.jar javax.ejb.jar javax.transaction.jar javax.resource.jar javax.servlet.jar javax.servlet.jsp.jar javax.servlet.jsp.jstl.jar comm.jar jdom.jar optra.jar lombok.jar ojdbc7.jar jxl-2.6.jar comm-2.0.jar RXTXcomm.jar javax.ejb.jar javax.jms.jar seroUtils.jar sqljdbc42.jar guava-16.0.jar h2-1.4.200.jar junit-4.10.jar txw2-2.3.1.jar antlr-2.7.7.jar dom4j-2.1.1.jar stax-ex-1.8.jar jniwrap-3.12.jar hamcrest-core.jar javax.servlet.jar commons-io-2.7.jar javax.resource.jar jaxb-api-2.3.1.jar classmate-1.5.1.jar commons-cli-1.4.jar log4j-api-2.9.0.jar rabbitmq-client.jar javax.annotation.jar log4j-core-2.9.0.jar opentest4j-1.1.1.jar portmapper-2.0.0.jar slf4j-api-1.7.30.jar byte-buddy-1.10.2.jar byte-buddy-1.10.7.jar javax.servlet.jsp.jar javax.transaction.jar json-simple-1.1.1.jar netty-3.9.0.Final.jar sqlite-jdbc-3.7.2.jar commons-lang3-3.11.jar FastInfoset-1.2.15.jar jandex-2.1.1.Final.jar jaxb-runtime-2.3.1.jar metrics-core-2.2.0.jar metrics-core-3.1.2.jar jackson-core-2.11.1.jar javassist-3.24.0-GA.jar junit-jupiter-5.4.2.jar poi-3.10.1-20140818.jar sqlite-jdbc-3.27.2.1.jar apiguardian-api-1.0.0.jar commons-compress-1.19.jar javax.servlet.jsp.jstl.jar jackson-databind-2.11.1.jar junit-jupiter-api-5.4.2.jar javax.persistence-api-2.2.jar jboss-logging-3.3.2.Final.jar poi-ooxml-3.10.1-20140818.jar GoogleProtocolBuffer_2.6.1.jar jackson-annotations-2.11.1.jar javax.activation-api-1.2.0.jar junit-jupiter-engine-5.4.2.jar junit-jupiter-params-5.4.2.jar hibernate-core-5.4.11.Final.jar junit-platform-engine-1.4.2.jar mysql-connector-java-8.0.15.jar istack-commons-runtime-3.0.7.jar junit-platform-commons-1.4.2.jar hibernate-jpa-2.1-api-1.0.2.Final.jar poi-ooxml-schemas-3.10.1-20140818.jar org.eclipse.paho.client.mqttv3-1.2.1.jar hibernate-commons-annotations-5.1.0.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar&#39;\r\n    //        )\r\n    //    }\r\n    //}\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n","title":"How to fix gradle build failed due to void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider) error?","body":"<p>I am getting following exception when I try to build the spring boot project using Gradle build command. The code comiples and runs fine in IntelliJ Idea.</p>\n<pre><code>PS C:\\SVN\\Dactyl\\IIOTWizards\\SCADA\\Trunk\\source\\Services\\universal-service&gt; gradle build                                                                                                \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\n'void org.gradle.api.internal.artifacts.dsl.LazyPublishArtifact.&lt;init&gt;(org.gradle.api.provider.Provider)'\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 657ms\n</code></pre>\n<p>This is my build.gradle file.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.iiot.wizards'\nversion = '0.0.1-SNAPSHOT'\n//sourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    implementation files('lib/connection-manager-2.0.0.1.jar')\n    implementation files('lib/dlms-lib-2.0.0.1.jar')\n    implementation files('lib/emdb-entities-2.0.0.1.jar')\n    implementation files('lib/emdb-model-2.0.0.1.jar')\n    implementation files('lib/emflex-ansi-meter-reader-2.0.0.1.jar')\n    implementation files('lib/emflex-dlms-meter-reader-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-common-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-communication-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-dnp3-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-dnp3-meter-reader-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-history-data-provider-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-history-data-writers-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-licensing-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-local-data-cache-manager-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-log-manager-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-messaging-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-mio-meter-reader-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-modbus-gprs-read-meter-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-modbus-meter-reader-2.0.0.1.jar')\n    implementation files('lib/iiot-wizards-scheduler-2.0.0.1.jar')\n    implementation files('lib/modbus-master-2.0.0.1.jar')\n    implementation files('lib/TinyLog-2.0.0.1.jar')\n    implementation files('lib/Utils-2.0.0.1.jar')\n    implementation files('lib/jniwrap-3.12.jar')\n    implementation files('lib/GoogleProtocolBuffer_2.6.1.jar')\n    implementation files('lib/comm.jar')\n    implementation files('lib/RXTXcomm.jar')\n    implementation files('lib/iiot-wizards-history-entities-2.0.0.1.jar')\n\n    // https://mvnrepository.com/artifact/commons-io/commons-io\n    implementation group: 'commons-io', name: 'commons-io', version: '2.11.0'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n\n    // https://mvnrepository.com/artifact/org.eclipse.paho/org.eclipse.paho.client.mqttv3\n    implementation group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version: '1.2.5'\n\n    // https://mvnrepository.com/artifact/com.rabbitmq/amqp-client\n    implementation group: 'com.rabbitmq', name: 'amqp-client', version: '5.13.1'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-compress\n    implementation group: 'org.apache.commons', name: 'commons-compress', version: '1.21'\n\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\n    implementation group: 'commons-beanutils', name: 'commons-beanutils', version: '1.9.4'\n\n    // https://mvnrepository.com/artifact/commons-cli/commons-cli\n    implementation group: 'commons-cli', name: 'commons-cli', version: '1.4'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-collections4\n    implementation group: 'org.apache.commons', name: 'commons-collections4', version: '4.4'\n\n    // https://mvnrepository.com/artifact/commons-logging/commons-logging\n    implementation group: 'commons-logging', name: 'commons-logging', version: '1.2'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-math3\n    implementation group: 'org.apache.commons', name: 'commons-math3', version: '3.6.1'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-text\n    implementation group: 'org.apache.commons', name: 'commons-text', version: '1.9'\n\n//    // https://mvnrepository.com/artifact/gnu.io/rxtx\n//    implementation group: 'gnu.io', name: 'rxtx', version: '2.1.7'\n\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\n    implementation group: 'org.hibernate', name: 'hibernate-core', version: '5.5.7.Final'\n\n    // https://mvnrepository.com/artifact/org.apiguardian/apiguardian-api\n    implementation group: 'org.apiguardian', name: 'apiguardian-api', version: '1.1.2'\n\n    // https://mvnrepository.com/artifact/org.dom4j/dom4j\n    implementation group: 'org.dom4j', name: 'dom4j', version: '2.1.3'\n\n    // https://mvnrepository.com/artifact/com.sun.xml.fastinfoset/FastInfoset\n    implementation group: 'com.sun.xml.fastinfoset', name: 'FastInfoset', version: '2.0.0'\n\n    // https://mvnrepository.com/artifact/org.hamcrest/hamcrest-core\n    testImplementation group: 'org.hamcrest', name: 'hamcrest-core', version: '2.2'\n\n    // https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.1-api\n    implementation group: 'org.hibernate.javax.persistence', name: 'hibernate-jpa-2.1-api', version: '1.0.2.Final'\n\n//    // https://mvnrepository.com/artifact/org.hibernate.ogm/hibernate-ogm-mongodb\n//    implementation group: 'org.hibernate.ogm', name: 'hibernate-ogm-mongodb', version: '5.4.1.Final'\n\n    // https://mvnrepository.com/artifact/com.sun.istack/istack-commons-runtime\n    implementation group: 'com.sun.istack', name: 'istack-commons-runtime', version: '4.1.0-M1'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.0'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.0'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.0'\n\n    // https://mvnrepository.com/artifact/org.javassist/javassist\n    implementation 'org.javassist:javassist:3.28.0-GA'\n\n    // https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\n    implementation 'javax.annotation:javax.annotation-api:1.3.2'\n\n    // https://mvnrepository.com/artifact/io.dropwizard.metrics/metrics-core\n    implementation 'io.dropwizard.metrics:metrics-core:4.2.4'\n\n    // https://mvnrepository.com/artifact/org.jboss.narayana.jta/narayana-jta\n    testImplementation 'org.jboss.narayana.jta:narayana-jta:5.12.1.Final'\n\n    // https://mvnrepository.com/artifact/io.netty/netty-all\n    implementation 'io.netty:netty-all:4.1.67.Final'\n\n    // https://mvnrepository.com/artifact/com.rabbitmq/amqp-client\n    implementation 'com.rabbitmq:amqp-client:5.13.1'\n\n//    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core\n//    implementation 'org.apache.logging.log4j:log4j-core:2.14.1'\n//\n//    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl\n//    testImplementation 'org.apache.logging.log4j:log4j-slf4j-impl:2.14.1'\n//\n//    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api\n//    implementation 'org.apache.logging.log4j:log4j-api:2.14.1'\n\n//    // https://mvnrepository.com/artifact/org.slf4j/slf4j-api\n//    implementation 'org.slf4j:slf4j-api:1.7.32'\n\n//    // https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12\n//    testImplementation 'org.slf4j:slf4j-log4j12:1.7.32'\n\n//    // https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\n//    testImplementation 'org.slf4j:slf4j-simple:1.7.32'\n\n    // https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc\n    implementation 'org.xerial:sqlite-jdbc:3.36.0.3'\n\n    // https://mvnrepository.com/artifact/org.jvnet.staxex/stax-ex\n    implementation 'org.jvnet.staxex:stax-ex:2.1.0-M1'\n\n    // https://mvnrepository.com/artifact/org.glassfish.jaxb/txw2\n    implementation 'org.glassfish.jaxb:txw2:3.0.2'\n\n    // https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple\n    implementation 'com.googlecode.json-simple:json-simple:1.1.1'\n\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc:2.5.6'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.5.6'\n//    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb:2.5.4'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc:2.5.6'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client:2.5.6'\n    implementation 'org.springframework.boot:spring-boot-starter-security:2.5.6'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.5.6'\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    runtimeOnly 'com.h2database:h2:1.4.200'\n    runtimeOnly 'com.microsoft.sqlserver:mssql-jdbc'\n    runtimeOnly 'com.oracle.database.jdbc:ojdbc8:21.1.0.0'\n    runtimeOnly 'mysql:mysql-connector-java:8.0.28'\n    runtimeOnly 'org.postgresql:postgresql:42.3.8'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.5.6'\n    testImplementation 'org.springframework.security:spring-security-test:5.5.1'\n\n}\n\n//jar {\n//    manifest {\n//        attributes(\n//                'Class-Path': 'comm.jar jdom.jar optra.jar jxl-2.6.jar RXTXcomm.jar javax.ejb.jar javax.jms.jar sqljdbc42.jar guava-16.0.jar hamcrest-core.jar javax.servlet.jar commons-io-2.7.jar javax.resource.jar commons-cli-1.4.jar log4j-api-2.9.0.jar rabbitmq-client.jar javax.annotation.jar log4j-core-2.9.0.jar portmapper-2.0.0.jar javax.servlet.jsp.jar javax.transaction.jar netty-3.9.0.Final.jar sqlite-jdbc-3.7.2.jar metrics-core-2.2.0.jar metrics-core-3.1.2.jar poi-3.10.1-20140818.jar javax.servlet.jsp.jstl.jar poi-ooxml-3.10.1-20140818.jar GoogleProtocolBuffer_2.6.1.jar poi-ooxml-schemas-3.10.1-20140818.jar hibernate-jpa-2.1-api-1.0.2.Final.jar apiguardian-api-1.0.0.jar opentest4j-1.1.1.jar byte-buddy-1.10.7.jar hibernate-core-5.4.11.Final.jar classmate-1.5.1.jar antlr-2.7.7.jar dom4j-2.1.1.jar hibernate-commons-annotations-5.1.0.Final.jar FastInfoset-1.2.15.jar istack-commons-runtime-3.0.7.jar jandex-2.1.1.Final.jar javassist-3.24.0-GA.jar jaxb-api-2.3.1.jar javax.activation-api-1.2.0.jar javax.persistence-api-2.2.jar jaxb-runtime-2.3.1.jar jboss-logging-3.3.2.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar stax-ex-1.8.jar txw2-2.3.1.jar commons-compress-1.19.jar javax.jms.jar javax.annotation.jar javax.ejb.jar javax.transaction.jar javax.resource.jar javax.servlet.jar javax.servlet.jsp.jar javax.servlet.jsp.jstl.jar comm.jar jdom.jar optra.jar lombok.jar ojdbc7.jar jxl-2.6.jar comm-2.0.jar RXTXcomm.jar javax.ejb.jar javax.jms.jar seroUtils.jar sqljdbc42.jar guava-16.0.jar h2-1.4.200.jar junit-4.10.jar txw2-2.3.1.jar antlr-2.7.7.jar dom4j-2.1.1.jar stax-ex-1.8.jar jniwrap-3.12.jar hamcrest-core.jar javax.servlet.jar commons-io-2.7.jar javax.resource.jar jaxb-api-2.3.1.jar classmate-1.5.1.jar commons-cli-1.4.jar log4j-api-2.9.0.jar rabbitmq-client.jar javax.annotation.jar log4j-core-2.9.0.jar opentest4j-1.1.1.jar portmapper-2.0.0.jar slf4j-api-1.7.30.jar byte-buddy-1.10.2.jar byte-buddy-1.10.7.jar javax.servlet.jsp.jar javax.transaction.jar json-simple-1.1.1.jar netty-3.9.0.Final.jar sqlite-jdbc-3.7.2.jar commons-lang3-3.11.jar FastInfoset-1.2.15.jar jandex-2.1.1.Final.jar jaxb-runtime-2.3.1.jar metrics-core-2.2.0.jar metrics-core-3.1.2.jar jackson-core-2.11.1.jar javassist-3.24.0-GA.jar junit-jupiter-5.4.2.jar poi-3.10.1-20140818.jar sqlite-jdbc-3.27.2.1.jar apiguardian-api-1.0.0.jar commons-compress-1.19.jar javax.servlet.jsp.jstl.jar jackson-databind-2.11.1.jar junit-jupiter-api-5.4.2.jar javax.persistence-api-2.2.jar jboss-logging-3.3.2.Final.jar poi-ooxml-3.10.1-20140818.jar GoogleProtocolBuffer_2.6.1.jar jackson-annotations-2.11.1.jar javax.activation-api-1.2.0.jar junit-jupiter-engine-5.4.2.jar junit-jupiter-params-5.4.2.jar hibernate-core-5.4.11.Final.jar junit-platform-engine-1.4.2.jar mysql-connector-java-8.0.15.jar istack-commons-runtime-3.0.7.jar junit-platform-commons-1.4.2.jar hibernate-jpa-2.1-api-1.0.2.Final.jar poi-ooxml-schemas-3.10.1-20140818.jar org.eclipse.paho.client.mqttv3-1.2.1.jar hibernate-commons-annotations-5.1.0.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar'\n//        )\n//    }\n//}\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","c++","converters","jna"],"comments":[{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":0,"creation_date":1535027076,"post_id":51983889,"comment_id":90920804,"body_markdown":"Could you add a link to the other question you are refering to for context?","body":"Could you add a link to the other question you are refering to for context?"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535027351,"post_id":51983889,"comment_id":90920969,"body_markdown":"I have added the link","body":"I have added the link"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535056411,"post_id":51983889,"comment_id":90937409,"body_markdown":"Has anyone a solution?","body":"Has anyone a solution?"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1535058758,"post_id":51983889,"comment_id":90938389,"body_markdown":"Can you be more clear on what &quot;does not work properly&quot; means?","body":"Can you be more clear on what &quot;does not work properly&quot; means?"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535060453,"post_id":51983889,"comment_id":90938989,"body_markdown":"If you look at this Image https://i.stack.imgur.com/rHR4V.png . It is ugly","body":"If you look at this Image <a href=\"https://i.stack.imgur.com/rHR4V.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/rHR4V.png</a> . It is ugly"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1535063964,"post_id":51983889,"comment_id":90939897,"body_markdown":"Check your order of operations. `0xFF - lpBitsMask.getByte(i) &amp; 0xFF` is probably not doing what you think it is.  `0xFF - (lpBitsMask.getByte(i) &amp; 0xFF)` might work better...","body":"Check your order of operations. <code>0xFF - lpBitsMask.getByte(i) &amp; 0xFF</code> is probably not doing what you think it is.  <code>0xFF - (lpBitsMask.getByte(i) &amp; 0xFF)</code> might work better..."},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535064654,"post_id":51983889,"comment_id":90940074,"body_markdown":"Thanks for your try. But it hasn&#180;t changed anything ;(","body":"Thanks for your try. But it hasn&#180;t changed anything ;("},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1535064973,"post_id":51983889,"comment_id":90940156,"body_markdown":"Why are you subtracting the bitmask from 0xFF?   Looking at the image, it does seem something&#39;s wonky with your alpha calculation because the rest of it looks normal.  Is there sample code or docs you are following?","body":"Why are you subtracting the bitmask from 0xFF?   Looking at the image, it does seem something&#39;s wonky with your alpha calculation because the rest of it looks normal.  Is there sample code or docs you are following?"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535065503,"post_id":51983889,"comment_id":90940283,"body_markdown":"Yes here is the sample code: https://www.programcreek.com/java-api-examples/index.php?api=com.sun.jna.platform.win32.WinDef.HICON","body":"Yes here is the sample code: <a href=\"https://www.programcreek.com/java-api-examples/index.php?api=com.sun.jna.platform.win32.WinDef.HICON\" rel=\"nofollow noreferrer\">programcreek.com/java-api-examples/&hellip;</a>"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1535066906,"post_id":51983889,"comment_id":90940557,"body_markdown":"Just guessing here comparing to reference image. Looks like you&#39;re getting &quot;pure white&quot; on an edge case for alpha.  Try a special case if `lpBitsMask.getByte(i)` equals zero, returning 0 for `a` instead of `0xFF`.","body":"Just guessing here comparing to reference image. Looks like you&#39;re getting &quot;pure white&quot; on an edge case for alpha.  Try a special case if <code>lpBitsMask.getByte(i)</code> equals zero, returning 0 for <code>a</code> instead of <code>0xFF</code>."},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535067093,"post_id":51983889,"comment_id":90940594,"body_markdown":"Is this right ?                                                                             if(lpBitsMask.getByte(i)==0) {\n                a=0;\n            }else{\n                a = 0xFF;\n            }","body":"Is this right ?                                                                             if(lpBitsMask.getByte(i)==0) {                 a=0;             }else{                 a = 0xFF;             }"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535067806,"post_id":51983889,"comment_id":90940741,"body_markdown":"I have found another Method which works much better (EDIT) as you can see here https://i.stack.imgur.com/HoRyG.png. But not perfect. What should I change?","body":"I have found another Method which works much better (EDIT) as you can see here <a href=\"https://i.stack.imgur.com/HoRyG.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/HoRyG.png</a>. But not perfect. What should I change?"},{"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"score":0,"creation_date":1535068907,"post_id":51983889,"comment_id":90940959,"body_markdown":"I fixed it finally!","body":"I fixed it finally!"}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700142664,"creation_date":1700142664,"answer_id":77495389,"question_id":51983889,"body_markdown":"I tweaked code from [MrMarnic][1]&#39;s GitHub which works with any HICON (rather than file paths):\r\n\r\n\tpublic static BufferedImage toImage(WinDef.HICON hicon) {\r\n\t\tWinDef.HBITMAP bitmapHandle = null;\r\n\t\tUser32 user32 = User32.INSTANCE;\r\n\t\tGDI32 gdi32 = GDI32.INSTANCE;\r\n\r\n\t\ttry {\r\n\t\t\tWinGDI.ICONINFO info = new WinGDI.ICONINFO();\r\n\t\t\tif (!user32.GetIconInfo(hicon, info))\r\n\t\t\t\treturn null;\r\n\r\n\t\t\tinfo.read();\r\n\t\t\tbitmapHandle = Optional.ofNullable(info.hbmColor).orElse(info.hbmMask);\r\n\r\n\t\t\tWinGDI.BITMAP bitmap = new WinGDI.BITMAP();\r\n\t\t\tif (gdi32.GetObject(bitmapHandle, bitmap.size(), bitmap.getPointer()) &gt; 0) {\r\n\t\t\t\tbitmap.read();\r\n\r\n\t\t\t\tint width = bitmap.bmWidth.intValue();\r\n\t\t\t\tint height = bitmap.bmHeight.intValue();\r\n\r\n\t\t\t\tfinal WinDef.HDC deviceContext = user32.GetDC(null);\r\n\t\t\t\tWinGDI.BITMAPINFO bitmapInfo = new WinGDI.BITMAPINFO();\r\n\r\n\t\t\t\tbitmapInfo.bmiHeader.biSize = bitmapInfo.bmiHeader.size();\r\n\t\t\t\tif (gdi32.GetDIBits(deviceContext, bitmapHandle, 0, 0, Pointer.NULL, bitmapInfo,\r\n\t\t\t\t\t\tWinGDI.DIB_RGB_COLORS) == 0)\r\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;GetDIBits should not return 0&quot;);\r\n\r\n\t\t\t\tbitmapInfo.read();\r\n\r\n\t\t\t\tMemory pixels = new Memory(bitmapInfo.bmiHeader.biSizeImage);\r\n\t\t\t\tbitmapInfo.bmiHeader.biCompression = WinGDI.BI_RGB;\r\n\t\t\t\tbitmapInfo.bmiHeader.biHeight = -height;\r\n\r\n\t\t\t\tif (gdi32.GetDIBits(deviceContext, bitmapHandle, 0, bitmapInfo.bmiHeader.biHeight, pixels, bitmapInfo,\r\n\t\t\t\t\t\tWinGDI.DIB_RGB_COLORS) == 0)\r\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;GetDIBits should not return 0&quot;);\r\n\r\n\t\t\t\tint[] colorArray = pixels.getIntArray(0, width * height);\r\n\t\t\t\tBufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n\t\t\t\timage.setRGB(0, 0, width, height, colorArray, 0, width);\r\n\r\n\t\t\t\treturn image;\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tgdi32.DeleteObject(hicon);\r\n\t\t\tOptional.ofNullable(bitmapHandle).ifPresent(gdi32::DeleteObject);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/10260109/mrmarnic","title":"JNA Convert HICON to Java Image","body":"<p>I tweaked code from <a href=\"https://stackoverflow.com/users/10260109/mrmarnic\">MrMarnic</a>'s GitHub which works with any HICON (rather than file paths):</p>\n<pre><code>public static BufferedImage toImage(WinDef.HICON hicon) {\n    WinDef.HBITMAP bitmapHandle = null;\n    User32 user32 = User32.INSTANCE;\n    GDI32 gdi32 = GDI32.INSTANCE;\n\n    try {\n        WinGDI.ICONINFO info = new WinGDI.ICONINFO();\n        if (!user32.GetIconInfo(hicon, info))\n            return null;\n\n        info.read();\n        bitmapHandle = Optional.ofNullable(info.hbmColor).orElse(info.hbmMask);\n\n        WinGDI.BITMAP bitmap = new WinGDI.BITMAP();\n        if (gdi32.GetObject(bitmapHandle, bitmap.size(), bitmap.getPointer()) &gt; 0) {\n            bitmap.read();\n\n            int width = bitmap.bmWidth.intValue();\n            int height = bitmap.bmHeight.intValue();\n\n            final WinDef.HDC deviceContext = user32.GetDC(null);\n            WinGDI.BITMAPINFO bitmapInfo = new WinGDI.BITMAPINFO();\n\n            bitmapInfo.bmiHeader.biSize = bitmapInfo.bmiHeader.size();\n            if (gdi32.GetDIBits(deviceContext, bitmapHandle, 0, 0, Pointer.NULL, bitmapInfo,\n                    WinGDI.DIB_RGB_COLORS) == 0)\n                throw new IllegalArgumentException(&quot;GetDIBits should not return 0&quot;);\n\n            bitmapInfo.read();\n\n            Memory pixels = new Memory(bitmapInfo.bmiHeader.biSizeImage);\n            bitmapInfo.bmiHeader.biCompression = WinGDI.BI_RGB;\n            bitmapInfo.bmiHeader.biHeight = -height;\n\n            if (gdi32.GetDIBits(deviceContext, bitmapHandle, 0, bitmapInfo.bmiHeader.biHeight, pixels, bitmapInfo,\n                    WinGDI.DIB_RGB_COLORS) == 0)\n                throw new IllegalArgumentException(&quot;GetDIBits should not return 0&quot;);\n\n            int[] colorArray = pixels.getIntArray(0, width * height);\n            BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n            image.setRGB(0, 0, width, height, colorArray, 0, width);\n\n            return image;\n        }\n    } finally {\n        gdi32.DeleteObject(hicon);\n        Optional.ofNullable(bitmapHandle).ifPresent(gdi32::DeleteObject);\n    }\n\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":14202586,"reputation":33,"user_id":10260109,"display_name":"MrMarnic"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700142664,"creation_date":1535020772,"question_id":51983889,"body_markdown":"I knwo there is already an [question like this][1]. But its solution was not suitable for me because with the Sehellfolder Methode you can only get 16x16 and 32x32 sized icons.\r\nI have extracted a HICO with size of 256x256 and want to convert it into and Java Image like BufferedImage. I found and method for it to. But it does not work properly:\r\n \r\n\r\n    public static BufferedImage getIcon(final WinDef.HICON hIcon,int ICON_SIZE,short ICON_DEPTH,int ICON_BYTE_SIZE) {\r\n        final int width = ICON_SIZE;\r\n        final int height = ICON_SIZE;\r\n        final short depth = ICON_DEPTH;\r\n        final BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n\r\n        final Memory lpBitsColor = new Memory(width * height * depth / ICON_BYTE_SIZE);\r\n        final Memory lpBitsMask = new Memory(width * height * depth / ICON_BYTE_SIZE);\r\n        final WinGDI.BITMAPINFO info = new WinGDI.BITMAPINFO();\r\n        final WinGDI.BITMAPINFOHEADER hdr = new WinGDI.BITMAPINFOHEADER();\r\n        info.bmiHeader = hdr;\r\n        hdr.biWidth = width;\r\n        hdr.biHeight = height;\r\n        hdr.biPlanes = 1;\r\n        hdr.biBitCount = depth;\r\n        hdr.biCompression = WinGDI.BI_RGB;\r\n\r\n        final WinDef.HDC hDC = User32.INSTANCE.GetDC(null);\r\n        final WinGDI.ICONINFO piconinfo = new WinGDI.ICONINFO();\r\n        User32.INSTANCE.GetIconInfo(hIcon, piconinfo);\r\n\r\n        GDI32.INSTANCE.GetDIBits(hDC, piconinfo.hbmColor, 0, height, lpBitsColor, info, WinGDI.DIB_RGB_COLORS);\r\n        GDI32.INSTANCE.GetDIBits(hDC, piconinfo.hbmMask, 0, height, lpBitsMask, info, WinGDI.DIB_RGB_COLORS);\r\n\r\n        int r, g, b, a, argb;\r\n        int x = 0, y = height - 1;\r\n        for (int i = 0; i &lt; lpBitsColor.size(); i = i + 3) {\r\n            b = lpBitsColor.getByte(i) &amp; 0xFF;\r\n            g = lpBitsColor.getByte(i + 1) &amp; 0xFF;\r\n            r = lpBitsColor.getByte(i + 2) &amp; 0xFF;\r\n            a = 0xFF - lpBitsMask.getByte(i) &amp; 0xFF;\r\n\r\n            argb = a &lt;&lt; 24 | r &lt;&lt; 16 | g &lt;&lt; 8 | b;\r\n            image.setRGB(x, y, argb);\r\n            x = (x + 1) % width;\r\n            if (x == 0) {\r\n                y--;\r\n            }\r\n        }\r\n\r\n        User32.INSTANCE.ReleaseDC(null, hDC);\r\n        GDI32.INSTANCE.DeleteObject(piconinfo.hbmColor);\r\n        GDI32.INSTANCE.DeleteObject(piconinfo.hbmMask);\r\n\r\n        return image;\r\n    }\r\n\r\n[Resulting Image][2]\r\n\r\n\r\nDo you know andy method that works better?\r\n\r\nEDIT:\r\n\r\n    public static BufferedImage getImageByHICON(final int width, final int height, final WinNT.HANDLE hicon, final WinGDI.BITMAPINFOHEADER info) {\r\n        final WinGDI.ICONINFO iconinfo = new WinGDI.ICONINFO();\r\n\r\n        try {\r\n            // GDI32 g32 = GDI32.INSTANCE;\r\n\r\n            // get icon information\r\n\r\n            if (!User32.INSTANCE.GetIconInfo(new WinDef.HICON(hicon.getPointer()), iconinfo)) { return null; }\r\n            final WinDef.HWND hwdn = new WinDef.HWND();\r\n            final WinDef.HDC dc = User32.INSTANCE.GetDC(hwdn);\r\n\r\n            if (dc == null) {\r\n\r\n                return null; }\r\n            try {\r\n                final int nBits = width * height * 4;\r\n                // final BitmapInfo bmi = new BitmapInfo(1);\r\n\r\n                final Memory colorBitsMem = new Memory(nBits);\r\n                // // Extract the color bitmap\r\n                final WinGDI.BITMAPINFO bmi = new WinGDI.BITMAPINFO();\r\n\r\n                bmi.bmiHeader.biWidth = width;\r\n                bmi.bmiHeader.biHeight = -height;\r\n                bmi.bmiHeader.biPlanes = 1;\r\n                bmi.bmiHeader.biBitCount = 32;\r\n                bmi.bmiHeader.biCompression = WinGDI.BI_RGB;\r\n                GDI32.INSTANCE.GetDIBits(dc, iconinfo.hbmColor, 0, height, colorBitsMem, bmi, WinGDI.DIB_RGB_COLORS);\r\n                // g32.GetDIBits(dc, iconinfo.hbmColor, 0, size, colorBitsMem,\r\n                // bmi,\r\n                // GDI32.DIB_RGB_COLORS);\r\n                final int[] colorBits = colorBitsMem.getIntArray(0, width * height);\r\n                if (info.biBitCount &lt; 32) {\r\n                    final Memory maskBitsMem = new Memory(nBits);\r\n                    // // Extract the mask bitmap\r\n                    GDI32.INSTANCE.GetDIBits(dc, iconinfo.hbmMask, 0, height, maskBitsMem, bmi, WinGDI.DIB_PAL_COLORS);\r\n                    // g32.GetDIBits(dc, iconinfo.hbmMask, 0, size,\r\n                    // maskBitsMem,\r\n                    // bmi,\r\n                    // // GDI32.DIB_RGB_COLORS);\r\n                    final int[] maskBits = maskBitsMem.getIntArray(0, width * height);\r\n                    // // // Copy the mask alphas into the color bits\r\n                    for (int i = 0; i &lt; colorBits.length; i++) {\r\n                        colorBits[i] = colorBits[i] | (maskBits[i] != 0 ? 0 : 0xFF000000);\r\n                    }\r\n                }\r\n                final BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n                bi.setRGB(0, 0, width, height, colorBits, 0, height);\r\n                return bi;\r\n            } finally {\r\n                com.sun.jna.platform.win32.User32.INSTANCE.ReleaseDC(hwdn, dc);\r\n            }\r\n        } finally {\r\n            User32.INSTANCE.DestroyIcon(new WinDef.HICON(hicon.getPointer()));\r\n            GDI32.INSTANCE.DeleteObject(iconinfo.hbmColor);\r\n            GDI32.INSTANCE.DeleteObject(iconinfo.hbmMask);\r\n        }\r\n    }\r\n\r\n[Better Image][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19279134/java-windows-taskbar-using-jna-how-do-i-convert-window-icons-hicon-to-java?rq=1\r\n  [2]: https://i.stack.imgur.com/rHR4V.png\r\n  [3]: https://i.stack.imgur.com/HoRyG.png","title":"JNA Convert HICON to Java Image","body":"<p>I knwo there is already an <a href=\"https://stackoverflow.com/questions/19279134/java-windows-taskbar-using-jna-how-do-i-convert-window-icons-hicon-to-java?rq=1\">question like this</a>. But its solution was not suitable for me because with the Sehellfolder Methode you can only get 16x16 and 32x32 sized icons.\nI have extracted a HICO with size of 256x256 and want to convert it into and Java Image like BufferedImage. I found and method for it to. But it does not work properly:</p>\n\n<pre><code>public static BufferedImage getIcon(final WinDef.HICON hIcon,int ICON_SIZE,short ICON_DEPTH,int ICON_BYTE_SIZE) {\n    final int width = ICON_SIZE;\n    final int height = ICON_SIZE;\n    final short depth = ICON_DEPTH;\n    final BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\n    final Memory lpBitsColor = new Memory(width * height * depth / ICON_BYTE_SIZE);\n    final Memory lpBitsMask = new Memory(width * height * depth / ICON_BYTE_SIZE);\n    final WinGDI.BITMAPINFO info = new WinGDI.BITMAPINFO();\n    final WinGDI.BITMAPINFOHEADER hdr = new WinGDI.BITMAPINFOHEADER();\n    info.bmiHeader = hdr;\n    hdr.biWidth = width;\n    hdr.biHeight = height;\n    hdr.biPlanes = 1;\n    hdr.biBitCount = depth;\n    hdr.biCompression = WinGDI.BI_RGB;\n\n    final WinDef.HDC hDC = User32.INSTANCE.GetDC(null);\n    final WinGDI.ICONINFO piconinfo = new WinGDI.ICONINFO();\n    User32.INSTANCE.GetIconInfo(hIcon, piconinfo);\n\n    GDI32.INSTANCE.GetDIBits(hDC, piconinfo.hbmColor, 0, height, lpBitsColor, info, WinGDI.DIB_RGB_COLORS);\n    GDI32.INSTANCE.GetDIBits(hDC, piconinfo.hbmMask, 0, height, lpBitsMask, info, WinGDI.DIB_RGB_COLORS);\n\n    int r, g, b, a, argb;\n    int x = 0, y = height - 1;\n    for (int i = 0; i &lt; lpBitsColor.size(); i = i + 3) {\n        b = lpBitsColor.getByte(i) &amp; 0xFF;\n        g = lpBitsColor.getByte(i + 1) &amp; 0xFF;\n        r = lpBitsColor.getByte(i + 2) &amp; 0xFF;\n        a = 0xFF - lpBitsMask.getByte(i) &amp; 0xFF;\n\n        argb = a &lt;&lt; 24 | r &lt;&lt; 16 | g &lt;&lt; 8 | b;\n        image.setRGB(x, y, argb);\n        x = (x + 1) % width;\n        if (x == 0) {\n            y--;\n        }\n    }\n\n    User32.INSTANCE.ReleaseDC(null, hDC);\n    GDI32.INSTANCE.DeleteObject(piconinfo.hbmColor);\n    GDI32.INSTANCE.DeleteObject(piconinfo.hbmMask);\n\n    return image;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rHR4V.png\" rel=\"nofollow noreferrer\">Resulting Image</a></p>\n\n<p>Do you know andy method that works better?</p>\n\n<p>EDIT:</p>\n\n<pre><code>public static BufferedImage getImageByHICON(final int width, final int height, final WinNT.HANDLE hicon, final WinGDI.BITMAPINFOHEADER info) {\n    final WinGDI.ICONINFO iconinfo = new WinGDI.ICONINFO();\n\n    try {\n        // GDI32 g32 = GDI32.INSTANCE;\n\n        // get icon information\n\n        if (!User32.INSTANCE.GetIconInfo(new WinDef.HICON(hicon.getPointer()), iconinfo)) { return null; }\n        final WinDef.HWND hwdn = new WinDef.HWND();\n        final WinDef.HDC dc = User32.INSTANCE.GetDC(hwdn);\n\n        if (dc == null) {\n\n            return null; }\n        try {\n            final int nBits = width * height * 4;\n            // final BitmapInfo bmi = new BitmapInfo(1);\n\n            final Memory colorBitsMem = new Memory(nBits);\n            // // Extract the color bitmap\n            final WinGDI.BITMAPINFO bmi = new WinGDI.BITMAPINFO();\n\n            bmi.bmiHeader.biWidth = width;\n            bmi.bmiHeader.biHeight = -height;\n            bmi.bmiHeader.biPlanes = 1;\n            bmi.bmiHeader.biBitCount = 32;\n            bmi.bmiHeader.biCompression = WinGDI.BI_RGB;\n            GDI32.INSTANCE.GetDIBits(dc, iconinfo.hbmColor, 0, height, colorBitsMem, bmi, WinGDI.DIB_RGB_COLORS);\n            // g32.GetDIBits(dc, iconinfo.hbmColor, 0, size, colorBitsMem,\n            // bmi,\n            // GDI32.DIB_RGB_COLORS);\n            final int[] colorBits = colorBitsMem.getIntArray(0, width * height);\n            if (info.biBitCount &lt; 32) {\n                final Memory maskBitsMem = new Memory(nBits);\n                // // Extract the mask bitmap\n                GDI32.INSTANCE.GetDIBits(dc, iconinfo.hbmMask, 0, height, maskBitsMem, bmi, WinGDI.DIB_PAL_COLORS);\n                // g32.GetDIBits(dc, iconinfo.hbmMask, 0, size,\n                // maskBitsMem,\n                // bmi,\n                // // GDI32.DIB_RGB_COLORS);\n                final int[] maskBits = maskBitsMem.getIntArray(0, width * height);\n                // // // Copy the mask alphas into the color bits\n                for (int i = 0; i &lt; colorBits.length; i++) {\n                    colorBits[i] = colorBits[i] | (maskBits[i] != 0 ? 0 : 0xFF000000);\n                }\n            }\n            final BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n            bi.setRGB(0, 0, width, height, colorBits, 0, height);\n            return bi;\n        } finally {\n            com.sun.jna.platform.win32.User32.INSTANCE.ReleaseDC(hwdn, dc);\n        }\n    } finally {\n        User32.INSTANCE.DestroyIcon(new WinDef.HICON(hicon.getPointer()));\n        GDI32.INSTANCE.DeleteObject(iconinfo.hbmColor);\n        GDI32.INSTANCE.DeleteObject(iconinfo.hbmMask);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HoRyG.png\" rel=\"nofollow noreferrer\">Better Image</a></p>\n"},{"tags":["java","spring","datasource","hikaricp","dbcp"],"comments":[{"owner":{"account_id":9847991,"reputation":56896,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":1,"creation_date":1513525620,"post_id":47758091,"comment_id":82677695,"body_markdown":"Please add hikari version and other settings of hikari to your question","body":"Please add hikari version and other settings of hikari to your question"},{"owner":{"account_id":10900090,"reputation":753,"user_id":8012596,"accept_rate":91,"display_name":"user8012596"},"score":1,"creation_date":1513537476,"post_id":47758091,"comment_id":82681367,"body_markdown":"My hikari version is HikariCP-2.6.1.jar. I dont have any other settings other that stated above in the question. Thank you.","body":"My hikari version is HikariCP-2.6.1.jar. I dont have any other settings other that stated above in the question. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1567107154,"creation_date":1566750804,"answer_id":57647811,"question_id":47758091,"body_markdown":"Your database is not obtaining connection within (30000 milliseconds that is default connectionTimeout property) because of  network latency or some of the queries which are taking too long to execute(more than 30000 milliseconds).\r\n\r\nPlease try to increase value of property `connectionTimeout`.\r\n\r\nYML configuration example:\r\n\r\n    spring:\r\n      datasource:\r\n        hikari:\r\n          minimumIdle: 2\r\n          maximumPoolSize: 10\r\n          idleTimeout: 120000\r\n          connectionTimeout: 300000\r\n          leakDetectionThreshold: 300000\r\n\r\nJava Config example:\r\n\r\n    HikariConfig config = new HikariConfig();\r\n    \t\tconfig.setMaximumPoolSize(20);\r\n    \t\tconfig.setConnectionTimeout(300000);\r\n    \t\tconfig.setConnectionTimeout(120000);\r\n    \t\tconfig.setLeakDetectionThreshold(300000);","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>Your database is not obtaining connection within (30000 milliseconds that is default connectionTimeout property) because of  network latency or some of the queries which are taking too long to execute(more than 30000 milliseconds).</p>\n\n<p>Please try to increase value of property <code>connectionTimeout</code>.</p>\n\n<p>YML configuration example:</p>\n\n<pre><code>spring:\n  datasource:\n    hikari:\n      minimumIdle: 2\n      maximumPoolSize: 10\n      idleTimeout: 120000\n      connectionTimeout: 300000\n      leakDetectionThreshold: 300000\n</code></pre>\n\n<p>Java Config example:</p>\n\n<pre><code>HikariConfig config = new HikariConfig();\n        config.setMaximumPoolSize(20);\n        config.setConnectionTimeout(300000);\n        config.setConnectionTimeout(120000);\n        config.setLeakDetectionThreshold(300000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11627789,"reputation":379,"user_id":8517040,"display_name":"Andres Rincon"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1596895135,"creation_date":1596889682,"answer_id":63315370,"question_id":47758091,"body_markdown":"I am using spring boot and I was facing the same problem, and my solution was to get the connection like this &quot;`DataSourceUtils.getConnection(dataSource)`&quot;. So I change from `dataSource.getConnection()` to `DataSourceUtils.getConnection(dataSource)`.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>I am using spring boot and I was facing the same problem, and my solution was to get the connection like this &quot;<code>DataSourceUtils.getConnection(dataSource)</code>&quot;. So I change from <code>dataSource.getConnection()</code> to <code>DataSourceUtils.getConnection(dataSource)</code>.</p>\n"},{"tags":[],"owner":{"account_id":19955535,"reputation":1594,"user_id":14624235,"display_name":"Vlad L"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1624668589,"creation_date":1624509535,"answer_id":68109716,"question_id":47758091,"body_markdown":"In my case the code wasn&#39;t closing the connections.\r\n\r\nTry-with-resources fixed it:\r\n\r\n```\r\ntry (\r\n    Connection connection = dataSource.getConnection();\r\n    Statement statement = …\r\n) {\r\n…\r\n}\r\n\r\n```","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case the code wasn't closing the connections.</p>\n<p>Try-with-resources fixed it:</p>\n<pre><code>try (\n    Connection connection = dataSource.getConnection();\n    Statement statement = …\n) {\n…\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14028248,"reputation":51,"user_id":10132784,"display_name":"mafyak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627997445,"creation_date":1627997445,"answer_id":68636981,"question_id":47758091,"body_markdown":"Took forever to figure it out... In my case I used solution similar to [@Andres Rincon][1]:\r\n\r\n    try (Connection connection = DataSourceUtils.getConnection(jdbcTemplate.getDataSource())) {\r\n        // some code here\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/8517040/andres-rincon","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>Took forever to figure it out... In my case I used solution similar to <a href=\"https://stackoverflow.com/users/8517040/andres-rincon\">@Andres Rincon</a>:</p>\n<pre><code>try (Connection connection = DataSourceUtils.getConnection(jdbcTemplate.getDataSource())) {\n    // some code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20348780,"reputation":31,"user_id":14925910,"display_name":"HGreg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632318875,"creation_date":1632318875,"answer_id":69285697,"question_id":47758091,"body_markdown":"request timeout is not something that you can fix by increasing the timeout. Perhaps you&#39;d need to evaluate all the queries from your service and implement indexing if it&#39;s needed ","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>request timeout is not something that you can fix by increasing the timeout. Perhaps you'd need to evaluate all the queries from your service and implement indexing if it's needed</p>\n"},{"tags":[],"owner":{"account_id":12214514,"reputation":459,"user_id":8915367,"display_name":"ebeb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645565567,"creation_date":1645565567,"answer_id":71228568,"question_id":47758091,"body_markdown":"This can also happen if the client app is requesting lot of open connections and the database server setting has a max limit on number of pool connections. So the client app is unable to get any more connections from the database server. Check the database server connections pool to see if the max is exceeded during the time period of the errors.   ","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>This can also happen if the client app is requesting lot of open connections and the database server setting has a max limit on number of pool connections. So the client app is unable to get any more connections from the database server. Check the database server connections pool to see if the max is exceeded during the time period of the errors.</p>\n"},{"tags":[],"owner":{"account_id":12544513,"reputation":341,"user_id":9128333,"display_name":"Yeshi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1662115337,"creation_date":1662115337,"answer_id":73581375,"question_id":47758091,"body_markdown":"In my case I was using JPA and hence using EntityManagerFactory for persistence and query for my springBoot project and got the same error.\r\n\r\nThe reason was in any CRUD operation I was not closing EntityManager once the operation is done hence exhausting the resources.\r\n\r\nHope this helps!!\r\n\r\n\r\n\r\n```\r\nEntityManager em = emf.createEntityManager();\r\n       Customer c  = em.find(Customer.class , id);\r\n        em.close();\r\n```\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case I was using JPA and hence using EntityManagerFactory for persistence and query for my springBoot project and got the same error.</p>\n<p>The reason was in any CRUD operation I was not closing EntityManager once the operation is done hence exhausting the resources.</p>\n<p>Hope this helps!!</p>\n<pre><code>EntityManager em = emf.createEntityManager();\n       Customer c  = em.find(Customer.class , id);\n        em.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26547349,"reputation":1,"user_id":20177219,"display_name":"rafaelnadal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665680186,"creation_date":1665676754,"answer_id":74058697,"question_id":47758091,"body_markdown":"What fixed the issue in my case was to **add proper indexing** in the proper db tables. Take a look at the queries / transactions you&#39;re making to the db.\r\n\r\nIn my case the statement that was causing the latency was an UPDATE statement, e.g.\r\n\r\n    UPDATE table_name WHERE column1 = value1, column2 = value2;\r\n\r\nWhat fixed the issue for me in this case was to add an index in that table for those two columns like:\r\n\r\n    CREATE INDEX index_name ON table_name (column1, column2);\r\n    \r\nAnother good reason could be that **you&#39;re not closing out your connections**. You can close the connections with a try-with-resource statement like:\r\n\r\n    try( Connection connection = datasource.getConnection() ){\r\n        //your code\r\n    }\r\n\r\n\r\nIn my opinion, increasing the timeout as **Girdhar Singh Rathore** suggested is not ideal. It could temporarily fix the issue, but at some point you&#39;ll need to take care of proper indexing and closing connections management.\r\n\r\nHope this helps.\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>What fixed the issue in my case was to <strong>add proper indexing</strong> in the proper db tables. Take a look at the queries / transactions you're making to the db.</p>\n<p>In my case the statement that was causing the latency was an UPDATE statement, e.g.</p>\n<pre><code>UPDATE table_name WHERE column1 = value1, column2 = value2;\n</code></pre>\n<p>What fixed the issue for me in this case was to add an index in that table for those two columns like:</p>\n<pre><code>CREATE INDEX index_name ON table_name (column1, column2);\n</code></pre>\n<p>Another good reason could be that <strong>you're not closing out your connections</strong>. You can close the connections with a try-with-resource statement like:</p>\n<pre><code>try( Connection connection = datasource.getConnection() ){\n    //your code\n}\n</code></pre>\n<p>In my opinion, increasing the timeout as <strong>Girdhar Singh Rathore</strong> suggested is not ideal. It could temporarily fix the issue, but at some point you'll need to take care of proper indexing and closing connections management.</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":11906277,"reputation":93,"user_id":8712753,"display_name":"ebey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667946834,"creation_date":1667946834,"answer_id":74367900,"question_id":47758091,"body_markdown":"Generally opened and unclosed connections cause this problem.There is a limit of application servers to connect database and if you over this limit it will be crash your environment.\r\n\r\nConnection must be stand on singleton pattern but if you really need to open a datasource or connect external datasource like reports you must close your connection in your finally block where you open connection block \r\n\r\n    connection.getConnection().rollback();\r\n    connection.getConnection().close();\r\n\r\nYou must also close if you are using PersistenceJpa without singleton\r\n\r\n    persistenceJPAConfig.dataSource().getConnection().rollback();\r\n    persistenceJPAConfig.dataSource().getConnection().close();\r\n\r\nIf you are using some stress test tools via creating threads to test your methods you probably get this error on your queries which take long time.It will be lead the way optimizing your queries or service instance size.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>Generally opened and unclosed connections cause this problem.There is a limit of application servers to connect database and if you over this limit it will be crash your environment.</p>\n<p>Connection must be stand on singleton pattern but if you really need to open a datasource or connect external datasource like reports you must close your connection in your finally block where you open connection block</p>\n<pre><code>connection.getConnection().rollback();\nconnection.getConnection().close();\n</code></pre>\n<p>You must also close if you are using PersistenceJpa without singleton</p>\n<pre><code>persistenceJPAConfig.dataSource().getConnection().rollback();\npersistenceJPAConfig.dataSource().getConnection().close();\n</code></pre>\n<p>If you are using some stress test tools via creating threads to test your methods you probably get this error on your queries which take long time.It will be lead the way optimizing your queries or service instance size.</p>\n"},{"tags":[],"owner":{"account_id":16297526,"reputation":193,"user_id":11769408,"display_name":"Geoffrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668440638,"creation_date":1668422183,"answer_id":74430288,"question_id":47758091,"body_markdown":"In my case a:\r\n\r\n```shell\r\no.h.engine.jdbc.spi.SqlExceptionHelper: HikariPool-1 - Connection is not available, request timed out after 30019ms.\r\ni.s.commons.web.error.ExceptionLogger: Internal Server Error\r\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n```\r\n\r\nWas caused by a too low `spring.hikari.maximumPoolSize` in the application properties, increasing from `5` to `20` solved the issue.\r\nThe log message is kind of miss-leading.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case a:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>o.h.engine.jdbc.spi.SqlExceptionHelper: HikariPool-1 - Connection is not available, request timed out after 30019ms.\ni.s.commons.web.error.ExceptionLogger: Internal Server Error\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n</code></pre>\n<p>Was caused by a too low <code>spring.hikari.maximumPoolSize</code> in the application properties, increasing from <code>5</code> to <code>20</code> solved the issue.\nThe log message is kind of miss-leading.</p>\n"},{"tags":[],"owner":{"account_id":25350784,"reputation":1,"user_id":19167681,"display_name":"Madhukar Tatiraju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670845384,"creation_date":1668683638,"answer_id":74474506,"question_id":47758091,"body_markdown":"In my case I used solution similar to @Andres Rincon:\r\n\r\n    try (Connection conn = connectionManager.getDataConnection()) {\r\n        Statement stmt = conn.createStatement();\r\n    \t...\r\n        conn.close();\r\n    } catch (Exception e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case I used solution similar to @Andres Rincon:</p>\n<pre><code>try (Connection conn = connectionManager.getDataConnection()) {\n    Statement stmt = conn.createStatement();\n    ...\n    conn.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":385199,"reputation":744,"user_id":742192,"display_name":"justCurious"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686124520,"creation_date":1673022097,"answer_id":75033473,"question_id":47758091,"body_markdown":"I&#39;ve fixed my issue using:\r\n\r\nincrease the minIdle and maxPool\r\n\r\n    spring.datasource.hikari.minimumIdle=20\r\n    spring.datasource.hikari.maximumPoolSize=30\r\n    spring.datasource.hikari.connectionTimeout=50000\r\n\r\nTo debug the issue/check if the values are ok, enable the logging for Hikari:\r\n\r\n    logging.level.com.zaxxer.hikari.HikariConfig=DEBUG \r\n    logging.level.com.zaxxer.hikari=TRACE\r\n\r\nThe logs will look like:\r\n\r\n    DEBUG 2023-01-06T16:12:31.932018849Z  HikariPool-1 - Before cleanup stats (total=17, active=0, idle=17, waiting=0)\r\n    DEBUG 2023-01-06T16:12:31.932665522Z  HikariPool-1 - After cleanup stats (total=17, active=0, idle=17, waiting=0)\r\n    DEBUG 2023-01-06T16:12:31.932733949Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n    DEBUG 2023-01-06T16:12:32.495269726Z  HikariPool-1 - After adding stats (total=17, active=0, idle=17, waiting=0)\r\n    DEBUG 2023-01-06T16:12:38.309953158Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n    DEBUG 2023-01-06T16:12:39.200246897Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n    DEBUG 2023-01-06T16:12:44.812065268Z  HikariPool-1 - Before cleanup stats (total=18, active=0, idle=18, waiting=0)\r\n    DEBUG 2023-01-06T16:12:44.812822113Z  HikariPool-1 - After cleanup stats (total=18, active=0, idle=18, waiting=0)\r\n\r\nGood Luck ! :)\r\n\r\nWarning:\r\nPlease be careful, a big maximumPoolSize can be a code smell and can hide a performance issue e.g: long transactions. Also DB Vendors recommend to use a smaller maximumPoolSize, e.g: maximumPoolSize=10. The DB performance will be affected by big values for maximumPoolSize.\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>I've fixed my issue using:</p>\n<p>increase the minIdle and maxPool</p>\n<pre><code>spring.datasource.hikari.minimumIdle=20\nspring.datasource.hikari.maximumPoolSize=30\nspring.datasource.hikari.connectionTimeout=50000\n</code></pre>\n<p>To debug the issue/check if the values are ok, enable the logging for Hikari:</p>\n<pre><code>logging.level.com.zaxxer.hikari.HikariConfig=DEBUG \nlogging.level.com.zaxxer.hikari=TRACE\n</code></pre>\n<p>The logs will look like:</p>\n<pre><code>DEBUG 2023-01-06T16:12:31.932018849Z  HikariPool-1 - Before cleanup stats (total=17, active=0, idle=17, waiting=0)\nDEBUG 2023-01-06T16:12:31.932665522Z  HikariPool-1 - After cleanup stats (total=17, active=0, idle=17, waiting=0)\nDEBUG 2023-01-06T16:12:31.932733949Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\nDEBUG 2023-01-06T16:12:32.495269726Z  HikariPool-1 - After adding stats (total=17, active=0, idle=17, waiting=0)\nDEBUG 2023-01-06T16:12:38.309953158Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\nDEBUG 2023-01-06T16:12:39.200246897Z  HikariPool-1 - Fill pool skipped, pool is at sufficient level.\nDEBUG 2023-01-06T16:12:44.812065268Z  HikariPool-1 - Before cleanup stats (total=18, active=0, idle=18, waiting=0)\nDEBUG 2023-01-06T16:12:44.812822113Z  HikariPool-1 - After cleanup stats (total=18, active=0, idle=18, waiting=0)\n</code></pre>\n<p>Good Luck ! :)</p>\n<p>Warning:\nPlease be careful, a big maximumPoolSize can be a code smell and can hide a performance issue e.g: long transactions. Also DB Vendors recommend to use a smaller maximumPoolSize, e.g: maximumPoolSize=10. The DB performance will be affected by big values for maximumPoolSize.</p>\n"},{"tags":[],"owner":{"account_id":24121148,"reputation":1,"user_id":18090305,"display_name":"Kavita Bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693627047,"creation_date":1693502371,"answer_id":77018041,"question_id":47758091,"body_markdown":"In my case I have increased the size of `hikaripoolConnection` to 10 and this got resolved.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>In my case I have increased the size of <code>hikaripoolConnection</code> to 10 and this got resolved.</p>\n"},{"tags":[],"owner":{"account_id":5485332,"reputation":665,"user_id":4360308,"display_name":"giroxiii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700142643,"creation_date":1700142643,"answer_id":77495383,"question_id":47758091,"body_markdown":"Make sure you close the connections once used. \r\n\r\nAn easy way to accomplish this in Kotlin is:\r\n\r\n    dataSource.connection.use { connection -&gt;\r\n        // Your code here\r\n    }\r\n","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>Make sure you close the connections once used.</p>\n<p>An easy way to accomplish this in Kotlin is:</p>\n<pre><code>dataSource.connection.use { connection -&gt;\n    // Your code here\n}\n</code></pre>\n"}],"owner":{"account_id":10900090,"reputation":753,"user_id":8012596,"accept_rate":91,"display_name":"user8012596"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167551,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":57647811,"answer_count":14,"score":52,"last_activity_date":1700142643,"creation_date":1513012872,"question_id":47758091,"body_markdown":"I have a small Java application for testing purposes. I have moved to hikari recently. What I notice is that I keep getting this error.\r\n\r\n    java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\r\n    java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\r\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:602)\r\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:195)\r\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:145)\r\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:85)\r\n\r\nBelow is my settings for the hikari initially.\r\n\r\n     HikariConfig config = new HikariConfig();\r\n    \t\t\tconfig.setJdbcUrl(&quot;jdbc:mysql://localhost:3306/****&quot;); \r\n    \t\t\tconfig.setUsername(&quot;***&quot;); \r\n    \t\t\tconfig.setPassword(&quot;*****&quot;);      \r\n    \t\t\tconfig.setMaximumPoolSize(20);  \r\n\r\nHardly its being used my two devices and I ensure towards the end I do close it. So I don&#39;t know why it keep getting the error? What could be the issue or is there some settings which I need to change?\r\n\r\nMy hikari version is HikariCP-2.6.1.jar.","title":"HikariPool-1 - Connection is not available, request timed out after 30000ms for very tiny load server","body":"<p>I have a small Java application for testing purposes. I have moved to hikari recently. What I notice is that I keep getting this error.</p>\n\n<pre><code>java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\njava.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\nat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:602)\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:195)\nat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:145)\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:85)\n</code></pre>\n\n<p>Below is my settings for the hikari initially.</p>\n\n<pre><code> HikariConfig config = new HikariConfig();\n            config.setJdbcUrl(\"jdbc:mysql://localhost:3306/****\"); \n            config.setUsername(\"***\"); \n            config.setPassword(\"*****\");      \n            config.setMaximumPoolSize(20);  \n</code></pre>\n\n<p>Hardly its being used my two devices and I ensure towards the end I do close it. So I don't know why it keep getting the error? What could be the issue or is there some settings which I need to change?</p>\n\n<p>My hikari version is HikariCP-2.6.1.jar.</p>\n"},{"tags":["java","postgresql","jdbc","stata"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1700084500,"post_id":77490880,"comment_id":136612770,"body_markdown":"Not familiar with stata, though since it is only on two users a few things I would check: is the error purely related to the connection, did they configure pre/post-steps connection (if at all possible), have you tried fresh install of it on those two? Do they have different JRE installed? Do they have different versions of JDBC libs installed? The log part I would check the stata tool itself if possible to configure logging rather than the connector. These are suggestions to take a look.","body":"Not familiar with stata, though since it is only on two users a few things I would check: is the error purely related to the connection, did they configure pre/post-steps connection (if at all possible), have you tried fresh install of it on those two? Do they have different JRE installed? Do they have different versions of JDBC libs installed? The log part I would check the stata tool itself if possible to configure logging rather than the connector. These are suggestions to take a look."},{"owner":{"account_id":9277052,"reputation":3007,"user_id":6889416,"display_name":"TheIceBear"},"score":1,"creation_date":1700127272,"post_id":77490880,"comment_id":136617292,"body_markdown":"Familiar with Stata, but less with Java. You can ask each user to run `java query` in the Stata command line to get detailed info if Java if initialized and versions. Perhaps this gives a clue.","body":"Familiar with Stata, but less with Java. You can ask each user to run <code>java query</code> in the Stata command line to get detailed info if Java if initialized and versions. Perhaps this gives a clue."}],"owner":{"account_id":9286012,"reputation":43,"user_id":19927489,"display_name":"snowpeak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700142310,"creation_date":1700081822,"question_id":77490880,"body_markdown":"I&#39;ve launched a cloud PostgreSQL database at my organization and have had a few users test it. I thought it best to have my users use JDBC rather than ODBC in Stata to connect to the DB, as it saves them a trip to IT to install the driver. My users are all using the latest version of the PostgreSQL driver and the latest release of Stata 17, and all on Windows.\r\n\r\nStrangely, I am able to access the database from Stata 17 and Stata 18 without issue. Two of my users, however, get the following error when they run ```jdbc connect```:\r\n\r\n```\r\ninvalid connection property key value pair\r\n     Index 1 out of bounds for length 1\r\nr(198);\r\n```\r\n\r\nIt seems to me that this error is coming from the underlying Java Runtime, not Stata itself, as the error message is exactly the text of an ArrayIndexOutOfBoundsException in Java. In fact, these same users are able to access the DB using R, Python, and - get this - Java code compiled and run from the command line with Stata&#39;s own built-in Java Runtime environment! I have even tried modifying Stata-Java&#39;s logging.properties file (as per these instructions https://jdbc.postgresql.org/documentation/logging/) to create logs for the PostgreSQL driver in my affected users&#39; home directories, but even that doesn&#39;t work. \r\n\r\nDoes anyone have an idea of what could be going on here? Many many thanks in advance!\r\n","title":"Stata JDBC PostgreSQL mystery bug","body":"<p>I've launched a cloud PostgreSQL database at my organization and have had a few users test it. I thought it best to have my users use JDBC rather than ODBC in Stata to connect to the DB, as it saves them a trip to IT to install the driver. My users are all using the latest version of the PostgreSQL driver and the latest release of Stata 17, and all on Windows.</p>\n<p>Strangely, I am able to access the database from Stata 17 and Stata 18 without issue. Two of my users, however, get the following error when they run <code>jdbc connect</code>:</p>\n<pre><code>invalid connection property key value pair\n     Index 1 out of bounds for length 1\nr(198);\n</code></pre>\n<p>It seems to me that this error is coming from the underlying Java Runtime, not Stata itself, as the error message is exactly the text of an ArrayIndexOutOfBoundsException in Java. In fact, these same users are able to access the DB using R, Python, and - get this - Java code compiled and run from the command line with Stata's own built-in Java Runtime environment! I have even tried modifying Stata-Java's logging.properties file (as per these instructions <a href=\"https://jdbc.postgresql.org/documentation/logging/\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/logging/</a>) to create logs for the PostgreSQL driver in my affected users' home directories, but even that doesn't work.</p>\n<p>Does anyone have an idea of what could be going on here? Many many thanks in advance!</p>\n"},{"tags":["java","junit5","jgiven"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1700087391,"post_id":77489404,"comment_id":136613176,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29910525,"reputation":1,"user_id":22922073,"display_name":"Angelique"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700142216,"creation_date":1700065665,"question_id":77489404,"body_markdown":"I&#39;m using JGiven and JUnit5 for automated Software tests. \r\nThe Then-Stage I&#39;m currently using, asserts a stream like so:\r\n assertAll(executableList.stream());\r\n\r\nwhich works great, but in the JGiven Testreport this looks like only one Assertion, which is not ideal.\r\n\r\nDoes anyone know if there is a way to have every single assertion listed in the JGiven HTML-Report?\r\n\r\n\r\n\r\n","title":"Resolve JUnit5 MultipleAssertions / assertAll( ) in JGiven-Testreport","body":"<p>I'm using JGiven and JUnit5 for automated Software tests.\nThe Then-Stage I'm currently using, asserts a stream like so:\nassertAll(executableList.stream());</p>\n<p>which works great, but in the JGiven Testreport this looks like only one Assertion, which is not ideal.</p>\n<p>Does anyone know if there is a way to have every single assertion listed in the JGiven HTML-Report?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1570003254,"post_id":58197251,"comment_id":102773129,"body_markdown":"did u check this https://stackoverflow.com/questions/42162395/serialize-mongodb-objectid-to-string?rq=1, https://www.tutorialspoint.com/how-to-convert-objectid-to-string-in-mongodb","body":"did u check this <a href=\"https://stackoverflow.com/questions/42162395/serialize-mongodb-objectid-to-string?rq=1\" title=\"serialize mongodb objectid to string\">stackoverflow.com/questions/42162395/&hellip;</a>, <a href=\"https://www.tutorialspoint.com/how-to-convert-objectid-to-string-in-mongodb\" rel=\"nofollow noreferrer\">tutorialspoint.com/how-to-convert-objectid-to-string-in-mong&zwnj;&#8203;odb</a>"},{"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"score":0,"creation_date":1570009242,"post_id":58197251,"comment_id":102776028,"body_markdown":"I&#39;ve checked this, tryed something from it and I didn&#39;t find solution for my case.","body":"I&#39;ve checked this, tryed something from it and I didn&#39;t find solution for my case."}],"answers":[{"tags":[],"owner":{"account_id":10320769,"reputation":841,"user_id":7613743,"display_name":"Kevin Montalvo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1584851270,"creation_date":1584851270,"answer_id":60795933,"question_id":58197251,"body_markdown":"I have a solution very simple:\r\n\r\n    @JsonSerialize(using= ToStringSerializer.class)\r\n    private ObjectId id;\r\n    ...\r\n\r\nput that on the attribute that is Object Id, and the ObjectId gets and inserts like string\r\n\r\nhere my [answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60795916/7613743","title":"Spring. How to return ObjectId field as String in response of Rest controller?","body":"<p>I have a solution very simple:</p>\n\n<pre><code>@JsonSerialize(using= ToStringSerializer.class)\nprivate ObjectId id;\n...\n</code></pre>\n\n<p>put that on the attribute that is Object Id, and the ObjectId gets and inserts like string</p>\n\n<p>here my <a href=\"https://stackoverflow.com/a/60795916/7613743\">answer</a></p>\n"}],"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60795933,"answer_count":1,"score":0,"last_activity_date":1700141908,"creation_date":1570002486,"question_id":58197251,"body_markdown":"I have Rest controller on Spring.\r\n\r\nController:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class Controller {\r\n\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    public Controller(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public List&lt;User&gt; fethAllUsers() {\r\n        return userService.fetchAllUsers();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public User getUser(@PathVariable ObjectId id) {\r\n        return userService.fetchUser(id);\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public User createUser(@RequestParam String name, @RequestParam String address) {\r\n        return userService.createUser(name, address);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void deleteUser(@PathVariable ObjectId id) {\r\n        userService.deleteUser(id);\r\n    }\r\n}\r\n```\r\nService: \r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public List&lt;User&gt; fetchAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public User fetchUser(ObjectId id) {\r\n        Optional&lt;User&gt; optionalUser = userRepository.findById(id);\r\n        return optionalUser.orElseGet(optionalUser::get);\r\n    }\r\n\r\n    public User createUser(String name, String address) {\r\n        User user = new User();\r\n        user.setId(ObjectId.get());\r\n        user.setName(name);\r\n        user.setAddress(address);\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    public void deleteUser(ObjectId id) {\r\n        userRepository.deleteById(id);\r\n    }\r\n}\r\n```\r\nRepository:\r\n```\r\n@Repository\r\npublic interface UserRepository extends MongoRepository&lt;User, ObjectId&gt; {\r\n}\r\n```\r\nEntity:\r\n```\r\nimport lombok.Data;\r\nimport org.bson.types.ObjectId;\r\n\r\n@Data\r\npublic class User {\r\n    private ObjectId id;\r\n    private String name;\r\n    private String address;\r\n}\r\n```\r\nCurrently when I use method @GetMapping in Postman (or browser) in response JSON object in get: \r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: {\r\n            &quot;timestamp&quot;: 1569940881,\r\n            &quot;machineIdentifier&quot;: 9478066,\r\n            &quot;processIdentifier&quot;: 10308,\r\n            &quot;counter&quot;: 14051396,\r\n            &quot;time&quot;: 1569940881000,\r\n            &quot;date&quot;: &quot;2019-10-01T14:41:21.000+0000&quot;,\r\n            &quot;timeSecond&quot;: 1569940881\r\n        },\r\n        &quot;name&quot;: &quot;testName&quot;,\r\n        &quot;address&quot;: &quot;testAddress&quot;\r\n    }\r\n]\r\n```\r\nAnd in response I need field &quot;id&quot; in String format and looks like:\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;5d936591909fb22844d66844&quot;,\r\n        &quot;name&quot;: &quot;testName&quot;,\r\n        &quot;address&quot;: &quot;testAddress&quot;\r\n    }\r\n]\r\n```\r\n\r\nHow can I return in response JSON object fielt &quot;id&quot; as ObjectId in String format?","title":"Spring. How to return ObjectId field as String in response of Rest controller?","body":"<p>I have Rest controller on Spring.</p>\n\n<p>Controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/users\")\npublic class Controller {\n\n    private UserService userService;\n\n    @Autowired\n    public Controller(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(\"/all\")\n    public List&lt;User&gt; fethAllUsers() {\n        return userService.fetchAllUsers();\n    }\n\n    @GetMapping(\"/{id}\")\n    public User getUser(@PathVariable ObjectId id) {\n        return userService.fetchUser(id);\n    }\n\n    @PostMapping(\"/\")\n    public User createUser(@RequestParam String name, @RequestParam String address) {\n        return userService.createUser(name, address);\n    }\n\n    @DeleteMapping(\"/{id}\")\n    public void deleteUser(@PathVariable ObjectId id) {\n        userService.deleteUser(id);\n    }\n}\n</code></pre>\n\n<p>Service: </p>\n\n<pre><code>@Service\npublic class UserService {\n\n    private UserRepository userRepository;\n\n    @Autowired\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    public List&lt;User&gt; fetchAllUsers() {\n        return userRepository.findAll();\n    }\n\n    public User fetchUser(ObjectId id) {\n        Optional&lt;User&gt; optionalUser = userRepository.findById(id);\n        return optionalUser.orElseGet(optionalUser::get);\n    }\n\n    public User createUser(String name, String address) {\n        User user = new User();\n        user.setId(ObjectId.get());\n        user.setName(name);\n        user.setAddress(address);\n        return userRepository.save(user);\n    }\n\n    public void deleteUser(ObjectId id) {\n        userRepository.deleteById(id);\n    }\n}\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends MongoRepository&lt;User, ObjectId&gt; {\n}\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>import lombok.Data;\nimport org.bson.types.ObjectId;\n\n@Data\npublic class User {\n    private ObjectId id;\n    private String name;\n    private String address;\n}\n</code></pre>\n\n<p>Currently when I use method @GetMapping in Postman (or browser) in response JSON object in get: </p>\n\n<pre><code>[\n    {\n        \"id\": {\n            \"timestamp\": 1569940881,\n            \"machineIdentifier\": 9478066,\n            \"processIdentifier\": 10308,\n            \"counter\": 14051396,\n            \"time\": 1569940881000,\n            \"date\": \"2019-10-01T14:41:21.000+0000\",\n            \"timeSecond\": 1569940881\n        },\n        \"name\": \"testName\",\n        \"address\": \"testAddress\"\n    }\n]\n</code></pre>\n\n<p>And in response I need field \"id\" in String format and looks like:</p>\n\n<pre><code>[\n    {\n        \"id\": \"5d936591909fb22844d66844\",\n        \"name\": \"testName\",\n        \"address\": \"testAddress\"\n    }\n]\n</code></pre>\n\n<p>How can I return in response JSON object fielt \"id\" as ObjectId in String format?</p>\n"},{"tags":["java","jms","wildfly","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1700066375,"post_id":77489367,"comment_id":136609823,"body_markdown":"I think part of the problem might be that you&#39;re using `@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)`. This means that the MDB will *not* start a transaction when consuming a message. Therefore, the `enable-graceful-txn-shutdown` may not actually apply. Does the behavior change if you remove that annotation?","body":"I think part of the problem might be that you&#39;re using <code>@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED&zwnj;&#8203;)</code>. This means that the MDB will <i>not</i> start a transaction when consuming a message. Therefore, the <code>enable-graceful-txn-shutdown</code> may not actually apply. Does the behavior change if you remove that annotation?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1700066423,"post_id":77489367,"comment_id":136609837,"body_markdown":"Have you tried this on the latest version of WildFly? Perhaps there&#39;s a bug that&#39;s been fixed in the 4 years since 16.0.0.Final was released.","body":"Have you tried this on the latest version of WildFly? Perhaps there&#39;s a bug that&#39;s been fixed in the 4 years since 16.0.0.Final was released."},{"owner":{"account_id":17292944,"reputation":5,"user_id":12524189,"display_name":"canEE"},"score":0,"creation_date":1700141664,"post_id":77489367,"comment_id":136619921,"body_markdown":"@JustinBertram Will do some research on \n`@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)`. We are working on upgrading, but this is a bigger system/application, so upgrading will take quite some time.","body":"@JustinBertram Will do some research on  <code>@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED&zwnj;&#8203;)</code>. We are working on upgrading, but this is a bigger system/application, so upgrading will take quite some time."}],"owner":{"account_id":17292944,"reputation":5,"user_id":12524189,"display_name":"canEE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700141868,"creation_date":1700065312,"question_id":77489367,"body_markdown":"When I gracefully shutdown WildFly my MDBs continue to consume messages from our ActiveMQ queue. Then the thread will die to an exception thrown by WildFly. Our current workaround solution is to manually pause the MDBs some minutes before triggering the shutdown of WildFly.\r\n\r\nI have the following MDB consuming messages from an ActiveMQ queue:\r\n```java\r\n@ResourceAdapter(&quot;activemq&quot;)\r\n@MessageDriven(name = &quot;MyMDB&quot;, activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;my_queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)\r\n})\r\n@TransactionManagement(TransactionManagementType.CONTAINER)\r\n@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\r\n@Pool(value = &quot;my-pool&quot;)\r\npublic class MyMDB implements MessageListener {\r\n    @Override\r\n    public void onMessage(final Message message) {\r\n        ...\r\n    }\r\n    \r\n    @PreDestroy\r\n    public void shutdown() {\r\n        LOG.info(&quot;Shutting down MyMDB&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI have 1000 messages on ActiveMQ queue and trigger WildFly shutdown with graceful command with the jboss-cli.\r\n```\r\ncommand=:shutdown(timeout=120)\r\n```\r\n*Note: `Enable Graceful Txn Shutdown` in the WildFly EJB submodule is enabled*\r\n\r\nWildFly will then start spewing out the following exception until the ActiveMQ queue is empty or the timeout of 120 seconds are reached.\r\n```\r\nAMQ154004: Failed to deliver message: org.jboss.as.ejb3.component.EJBComponentUnavailableException: WFLYEJB0421: Invocation cannot proceed as component is shutting down\r\n```\r\nI can also see in my log that my log message `Shutting down MyMDB` is logged before exceptions are thrown, as in WildFly knows it should shutdown.\r\n\r\nI suspect that ActiveMQ is redelivering the messages when an exception is thrown from WildFly, because we get this error more than 1000 times. But in the end all messages will be moved to ActiveMQ&#39;s DLQ *(Dead Letter Queue)*.\r\n\r\nWhen I read the documentation of graceful shutdown in WildFly, my understanding is that all MDBs should stop consuming, but that does seem to happen. \r\n\r\n**Should graceful shutdown of WildFly stop MDBs from consuming from ActiveMQ? If it should, any thought on why it does not in my case?**\r\n\r\n- WildFly Version: 16.0.0.Final\r\n- ActiveMQ Artemis Version: 2.6.4\r\n- Java Version: 8\r\n","title":"WildFly MDB continues to consume messages after graceful shutdown has initiated","body":"<p>When I gracefully shutdown WildFly my MDBs continue to consume messages from our ActiveMQ queue. Then the thread will die to an exception thrown by WildFly. Our current workaround solution is to manually pause the MDBs some minutes before triggering the shutdown of WildFly.</p>\n<p>I have the following MDB consuming messages from an ActiveMQ queue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResourceAdapter(&quot;activemq&quot;)\n@MessageDriven(name = &quot;MyMDB&quot;, activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;my_queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)\n})\n@TransactionManagement(TransactionManagementType.CONTAINER)\n@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\n@Pool(value = &quot;my-pool&quot;)\npublic class MyMDB implements MessageListener {\n    @Override\n    public void onMessage(final Message message) {\n        ...\n    }\n    \n    @PreDestroy\n    public void shutdown() {\n        LOG.info(&quot;Shutting down MyMDB&quot;);\n    }\n}\n</code></pre>\n<p>I have 1000 messages on ActiveMQ queue and trigger WildFly shutdown with graceful command with the jboss-cli.</p>\n<pre><code>command=:shutdown(timeout=120)\n</code></pre>\n<p><em>Note: <code>Enable Graceful Txn Shutdown</code> in the WildFly EJB submodule is enabled</em></p>\n<p>WildFly will then start spewing out the following exception until the ActiveMQ queue is empty or the timeout of 120 seconds are reached.</p>\n<pre><code>AMQ154004: Failed to deliver message: org.jboss.as.ejb3.component.EJBComponentUnavailableException: WFLYEJB0421: Invocation cannot proceed as component is shutting down\n</code></pre>\n<p>I can also see in my log that my log message <code>Shutting down MyMDB</code> is logged before exceptions are thrown, as in WildFly knows it should shutdown.</p>\n<p>I suspect that ActiveMQ is redelivering the messages when an exception is thrown from WildFly, because we get this error more than 1000 times. But in the end all messages will be moved to ActiveMQ's DLQ <em>(Dead Letter Queue)</em>.</p>\n<p>When I read the documentation of graceful shutdown in WildFly, my understanding is that all MDBs should stop consuming, but that does seem to happen.</p>\n<p><strong>Should graceful shutdown of WildFly stop MDBs from consuming from ActiveMQ? If it should, any thought on why it does not in my case?</strong></p>\n<ul>\n<li>WildFly Version: 16.0.0.Final</li>\n<li>ActiveMQ Artemis Version: 2.6.4</li>\n<li>Java Version: 8</li>\n</ul>\n"},{"tags":["java","http","ssl","junit","wiremock"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700129276,"post_id":77493839,"comment_id":136617672,"body_markdown":"Please post the entire exception stacktrace.","body":"Please post the entire exception stacktrace."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1700129432,"post_id":77493839,"comment_id":136617698,"body_markdown":"Well, you obviously misconfigured SSL somewhere. Either, your application is expecting SSL, but you didn&#39;t configure it in Wiremock or you did enable SSL in Wiremock but did not specify a working SSL certificate.","body":"Well, you obviously misconfigured SSL somewhere. Either, your application is expecting SSL, but you didn&#39;t configure it in Wiremock or you did enable SSL in Wiremock but did not specify a working SSL certificate."},{"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"score":0,"creation_date":1700129960,"post_id":77493839,"comment_id":136617833,"body_markdown":"@MarkRotteveel, i attached the screenshot for stacktrace. Is it helpful?","body":"@MarkRotteveel, i attached the screenshot for stacktrace. Is it helpful?"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1700130558,"post_id":77493839,"comment_id":136617931,"body_markdown":"No, post the exception stacktrace as code-formatted **text** (use `exception.printStackTrace()`). That said, have you **read** the exception message, it identifies the problem for you, your connection is not actual SSL encrypted, but just plain text.","body":"No, post the exception stacktrace as code-formatted <b>text</b> (use <code>exception.printStackTrace()</code>). That said, have you <b>read</b> the exception message, it identifies the problem for you, your connection is not actual SSL encrypted, but just plain text."},{"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"score":0,"creation_date":1700130866,"post_id":77493839,"comment_id":136617995,"body_markdown":"@MarkRotteveel how to fix this? connection should be plain text instead of SSL encrypted or it is otherwise?","body":"@MarkRotteveel how to fix this? connection should be plain text instead of SSL encrypted or it is otherwise?"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700130938,"post_id":77493839,"comment_id":136618013,"body_markdown":"Somewhere you&#39;re saying a connection is HTTPS, while it is actually is HTTP.","body":"Somewhere you&#39;re saying a connection is HTTPS, while it is actually is HTTP."},{"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"score":0,"creation_date":1700139963,"post_id":77493839,"comment_id":136619595,"body_markdown":"@MarkRotteveel , you are right my tokenURI in test.yaml file was https so was expecting certs, replaced with http. It worked. Thank you so much","body":"@MarkRotteveel , you are right my tokenURI in test.yaml file was https so was expecting certs, replaced with http. It worked. Thank you so much"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1700146162,"post_id":77493839,"comment_id":136620784,"body_markdown":"Please read [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/238704)","body":"Please read <a href=\"https://meta.stackoverflow.com/q/285551/238704\">Why should I not upload images of code/data/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700141599,"creation_date":1700140125,"answer_id":77495069,"question_id":77493839,"body_markdown":"In my test.yaml file tokenURI was with https, so it was expecting certs which I was not providing through WireMock. I replaced it with http, and it passed. Another way to solve this is to setup WireMock with certs to accept SSL.","title":"Method threw &#39;javax.net.ssl.SSLException&#39; exception","body":"<p>In my test.yaml file tokenURI was with https, so it was expecting certs which I was not providing through WireMock. I replaced it with http, and it passed. Another way to solve this is to setup WireMock with certs to accept SSL.</p>\n"}],"owner":{"account_id":11282967,"reputation":367,"user_id":8274672,"display_name":"lucky"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77495069,"answer_count":1,"score":-2,"last_activity_date":1700141599,"creation_date":1700128785,"question_id":77493839,"body_markdown":"I have written a JUnit to test one of the method which calls below getAuthToken \r\n\r\n```java\r\npublic String getAuthToken() throws URISyntaxException, IOException, InterruptedException {\r\n    String formBody = String.format(&quot;grant_type=client_credentials&amp;client_id=%s&amp;client_secret=%s&amp;scope=%s&quot;,\r\n            URLEncoder.encode(clientId, StandardCharsets.UTF_8),\r\n            URLEncoder.encode(clientSecret, StandardCharsets.UTF_8),\r\n            URLEncoder.encode(scope, StandardCharsets.UTF_8));\r\n\r\n    HttpRequest authRequest = HttpRequest.newBuilder()\r\n            .uri(new URI(epimTokenUri))\r\n            .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n            .POST(HttpRequest.BodyPublishers.ofString(formBody))\r\n            .build();\r\n\r\n    HttpResponse&lt;String&gt; authResponse = client.send(authRequest, HttpResponse.BodyHandlers.ofString());\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    JsonNode jsonNode = objectMapper.readTree(authResponse.body());\r\n\r\n    return jsonNode.get(&quot;access_token&quot;).asText();\r\n}\r\n```\r\n\r\nFor this I am using WireMock. Following is mapping for WireMock for getting token \r\n\r\n```json\r\n{\r\n  &quot;request&quot;: {\r\n    &quot;method&quot;: &quot;POST&quot;,\r\n    &quot;url&quot;: &quot;/.default/token&quot;\r\n  },\r\n  &quot;response&quot;: {\r\n    &quot;status&quot;: 200,\r\n    &quot;jsonBody&quot;: {\r\n      &quot;access_token&quot;: &quot;testToken&quot;,\r\n      &quot;expires_in&quot;: 3600,\r\n      &quot;refresh_expires_in&quot;: 0,\r\n      &quot;token_type&quot;: &quot;Bearer&quot;,\r\n      &quot;not-before-policy&quot;: 0,\r\n      &quot;scope&quot;: &quot;https://localhost:9082/.default&quot;\r\n    },\r\n    &quot;headers&quot;: {\r\n      &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis gives error as method threw &#39;javax.net.ssl.SSLException&#39; exception. at the line `HttpResponse&lt;String&gt; authResponse = client.send(authRequest, HttpResponse.BodyHandlers.ofString());`\r\n\r\nCan anyone please help me on this? What is going wrong here or any other way to mock this method to use in my JUnit? Following is the complete stackTrace [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ccqt7.png","title":"Method threw &#39;javax.net.ssl.SSLException&#39; exception","body":"<p>I have written a JUnit to test one of the method which calls below getAuthToken</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getAuthToken() throws URISyntaxException, IOException, InterruptedException {\n    String formBody = String.format(&quot;grant_type=client_credentials&amp;client_id=%s&amp;client_secret=%s&amp;scope=%s&quot;,\n            URLEncoder.encode(clientId, StandardCharsets.UTF_8),\n            URLEncoder.encode(clientSecret, StandardCharsets.UTF_8),\n            URLEncoder.encode(scope, StandardCharsets.UTF_8));\n\n    HttpRequest authRequest = HttpRequest.newBuilder()\n            .uri(new URI(epimTokenUri))\n            .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n            .POST(HttpRequest.BodyPublishers.ofString(formBody))\n            .build();\n\n    HttpResponse&lt;String&gt; authResponse = client.send(authRequest, HttpResponse.BodyHandlers.ofString());\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    JsonNode jsonNode = objectMapper.readTree(authResponse.body());\n\n    return jsonNode.get(&quot;access_token&quot;).asText();\n}\n</code></pre>\n<p>For this I am using WireMock. Following is mapping for WireMock for getting token</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;request&quot;: {\n    &quot;method&quot;: &quot;POST&quot;,\n    &quot;url&quot;: &quot;/.default/token&quot;\n  },\n  &quot;response&quot;: {\n    &quot;status&quot;: 200,\n    &quot;jsonBody&quot;: {\n      &quot;access_token&quot;: &quot;testToken&quot;,\n      &quot;expires_in&quot;: 3600,\n      &quot;refresh_expires_in&quot;: 0,\n      &quot;token_type&quot;: &quot;Bearer&quot;,\n      &quot;not-before-policy&quot;: 0,\n      &quot;scope&quot;: &quot;https://localhost:9082/.default&quot;\n    },\n    &quot;headers&quot;: {\n      &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;\n    }\n  }\n}\n</code></pre>\n<p>This gives error as method threw 'javax.net.ssl.SSLException' exception. at the line <code>HttpResponse&lt;String&gt; authResponse = client.send(authRequest, HttpResponse.BodyHandlers.ofString());</code></p>\n<p>Can anyone please help me on this? What is going wrong here or any other way to mock this method to use in my JUnit? Following is the complete stackTrace <a href=\"https://i.stack.imgur.com/ccqt7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ccqt7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":15753984,"reputation":483,"user_id":11367672,"display_name":"Andreas1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700141594,"creation_date":1700141594,"answer_id":77495260,"question_id":77494781,"body_markdown":"I have found the reason, and the answer as well. \r\n\r\nSo one of the LiveData updated the ui as I mentioned, so I created some kind of SingleEvent&lt;&gt; class, and wrap up this liveData. So if I return to Fragment A although the liveData fires, but it wont do anything, because this value was previously handled. ","title":"How to handle the screen &quot;flickering&quot; after back navigation?","body":"<p>I have found the reason, and the answer as well.</p>\n<p>So one of the LiveData updated the ui as I mentioned, so I created some kind of SingleEvent&lt;&gt; class, and wrap up this liveData. So if I return to Fragment A although the liveData fires, but it wont do anything, because this value was previously handled.</p>\n"}],"owner":{"account_id":15753984,"reputation":483,"user_id":11367672,"display_name":"Andreas1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700141594,"creation_date":1700137563,"question_id":77494781,"body_markdown":"So we have a legacy project, where we don&#39;t use the Navigation component, databinding etc...\r\n\r\nWhen I navigate from Fragment A to fragment B, I use this code: \r\n```\r\n            getSupportFragmentManager().beginTransaction()\r\n                    .setCustomAnimations(enter, exit, popEnter, popExit)\r\n                    .replace(getFragmentContainerId(), fragment, fragmentTag)\r\n                    .addToBackStack(backStackTag)\r\n                    .commitAllowingStateLoss();\r\n ```\r\nThe problem is, when I press the back button, and the popBackStack method called, the previous fragment (Fragment A) flashing/flickering. This is because all of the lifecycle method runs (onResume, onCreateView, onViewCreated), and in onViewCreated I have a bunch of observers which update the ui. \r\n\r\nI tried to use the addFragment, instead of replace, and it solved the flickering, but it caused an another problem, because in this case, the onResume method wont get called, and it contains some important logic.\r\n\r\nSo my question is, how could I resolve this thing? \r\nI have 1 possible solution in my mind, that I create a callback function, and in Fragment B onPause method I call it, and I put all of the functions from onResume into this callback fun. In this case I have to use addFragment instead of replace. \r\n\r\nIt is working, but I believe it isn&#39;t the best solution, because Fragment B onPause method can be invoked not just then, when I press the back button.  ","title":"How to handle the screen &quot;flickering&quot; after back navigation?","body":"<p>So we have a legacy project, where we don't use the Navigation component, databinding etc...</p>\n<p>When I navigate from Fragment A to fragment B, I use this code:</p>\n<pre><code>            getSupportFragmentManager().beginTransaction()\n                    .setCustomAnimations(enter, exit, popEnter, popExit)\n                    .replace(getFragmentContainerId(), fragment, fragmentTag)\n                    .addToBackStack(backStackTag)\n                    .commitAllowingStateLoss();\n</code></pre>\n<p>The problem is, when I press the back button, and the popBackStack method called, the previous fragment (Fragment A) flashing/flickering. This is because all of the lifecycle method runs (onResume, onCreateView, onViewCreated), and in onViewCreated I have a bunch of observers which update the ui.</p>\n<p>I tried to use the addFragment, instead of replace, and it solved the flickering, but it caused an another problem, because in this case, the onResume method wont get called, and it contains some important logic.</p>\n<p>So my question is, how could I resolve this thing?\nI have 1 possible solution in my mind, that I create a callback function, and in Fragment B onPause method I call it, and I put all of the functions from onResume into this callback fun. In this case I have to use addFragment instead of replace.</p>\n<p>It is working, but I believe it isn't the best solution, because Fragment B onPause method can be invoked not just then, when I press the back button.</p>\n"},{"tags":["java","android","android-studio","pdf","whatsapp"],"comments":[{"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"score":0,"creation_date":1700140828,"post_id":77495117,"comment_id":136619756,"body_markdown":"what&#39;s the content of ```filePath```?","body":"what&#39;s the content of <code>filePath</code>?"},{"owner":{"account_id":4013715,"reputation":34,"user_id":3306452,"display_name":"juliangorge"},"score":0,"creation_date":1700141078,"post_id":77495117,"comment_id":136619805,"body_markdown":"Hi @MalikBilal, I forgot that. added it into the post","body":"Hi @MalikBilal, I forgot that. added it into the post"},{"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"score":0,"creation_date":1700141310,"post_id":77495117,"comment_id":136619844,"body_markdown":"Please add a log or print the content of filePath. Also add your code related for content provider.","body":"Please add a log or print the content of filePath. Also add your code related for content provider."},{"owner":{"account_id":4013715,"reputation":34,"user_id":3306452,"display_name":"juliangorge"},"score":0,"creation_date":1700142529,"post_id":77495117,"comment_id":136620086,"body_markdown":"System.out: /storage/emulated/0/Android/data/ar.com.juliangorge.orders/files/orders/file.pdf I don&#39;t have implemented any content provider. it&#39;s ok? @MalikBilal","body":"System.out: /storage/emulated/0/Android/data/ar.com.juliangorge.orders/f&zwnj;&#8203;iles/orders/file.pdf I don&#39;t have implemented any content provider. it&#39;s ok? @MalikBilal"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700154029,"post_id":77495117,"comment_id":136622527,"body_markdown":"Uri.fromFile() is not usable since several Android versions. Use FileProvider.getUriForFile() instead to get a nice uri for your file.","body":"Uri.fromFile() is not usable since several Android versions. Use FileProvider.getUriForFile() instead to get a nice uri for your file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700154205,"post_id":77495117,"comment_id":136622560,"body_markdown":"That is not a Whatsapp share button but a Yourapp share button. The user can choose any app to share with.","body":"That is not a Whatsapp share button but a Yourapp share button. The user can choose any app to share with."}],"owner":{"account_id":4013715,"reputation":34,"user_id":3306452,"display_name":"juliangorge"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700141508,"creation_date":1700140505,"question_id":77495117,"body_markdown":"I took an android app project that someone built and my main task was to update the SDK because the users couldn&#39;t share my pdf files in theirs devices.\r\nThen, I uploaded it to:\r\n\r\n    compileSdkVersion 33\r\n    minSdkVersion 23\r\n    targetSdkVersion 33\r\n\r\nAnd I uploaded the Manifest file as well:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nThis is my piece of code of Sharing button:\r\n\r\n    String directory_path = ctx.getExternalFilesDir(&quot;&quot;) + &quot;/orders/&quot;; \r\n    File file = new File(directory_path); \r\n    String targetPdf = directory_path + &quot;file.pdf&quot;; \r\n    File filePath = new File(targetPdf);\r\n    Intent share = new Intent(Intent.ACTION_SEND);\r\n    share.setType(&quot;application/pdf&quot;);\r\n    \r\n    Uri uri = Uri.fromFile(filePath);\r\n    share.setAction(Intent.ACTION_SEND);\r\n    share.putExtra(Intent.EXTRA_STREAM, uri);\r\n    ctx.startActivity(Intent.createChooser(share, &quot;Compartiendo archivo&quot;));\r\n\r\nFilepath content:\r\nSystem.out: /storage/emulated/0/Android/data/ar.com.juliangorge.orders/files/orders/file.pdf\r\n\r\n\r\nI&#39;ve got any error reported, but when I touch on Share button and select the correct chat, Whatsapp says:\r\n\r\n**&quot;The file format is not supported&quot;**.\r\n\r\nWhere am I wrong? Because this Sharing button&#39;s worked before.\r\n","title":"Whatsapp&#39;s share button of Pdf files stopped working after SDK 33 uploading","body":"<p>I took an android app project that someone built and my main task was to update the SDK because the users couldn't share my pdf files in theirs devices.\nThen, I uploaded it to:</p>\n<pre><code>compileSdkVersion 33\nminSdkVersion 23\ntargetSdkVersion 33\n</code></pre>\n<p>And I uploaded the Manifest file as well:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>This is my piece of code of Sharing button:</p>\n<pre><code>String directory_path = ctx.getExternalFilesDir(&quot;&quot;) + &quot;/orders/&quot;; \nFile file = new File(directory_path); \nString targetPdf = directory_path + &quot;file.pdf&quot;; \nFile filePath = new File(targetPdf);\nIntent share = new Intent(Intent.ACTION_SEND);\nshare.setType(&quot;application/pdf&quot;);\n\nUri uri = Uri.fromFile(filePath);\nshare.setAction(Intent.ACTION_SEND);\nshare.putExtra(Intent.EXTRA_STREAM, uri);\nctx.startActivity(Intent.createChooser(share, &quot;Compartiendo archivo&quot;));\n</code></pre>\n<p>Filepath content:\nSystem.out: /storage/emulated/0/Android/data/ar.com.juliangorge.orders/files/orders/file.pdf</p>\n<p>I've got any error reported, but when I touch on Share button and select the correct chat, Whatsapp says:</p>\n<p><strong>&quot;The file format is not supported&quot;</strong>.</p>\n<p>Where am I wrong? Because this Sharing button's worked before.</p>\n"},{"tags":["java","spring","junit"],"owner":{"account_id":10818317,"reputation":73,"user_id":7956552,"display_name":"Mateusz Korga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700141186,"creation_date":1700141186,"question_id":77495201,"body_markdown":"\r\n&#39;&#39;&#39;&#39;    \r\n\r\n    import org.junit.rules.TestRule;\r\n    import org.junit.runner.Description;\r\n    import org.junit.runners.model.Statement;\r\n    \r\n    public class RetryRule implements TestRule {\r\n        private int retryCount;\r\n    \r\n        public RetryRule(int retryCount) {\r\n            this.retryCount = retryCount;\r\n        }\r\n    \r\n        public Statement apply(Statement base, Description description) {\r\n            return statement(base, description);\r\n        }\r\n    \r\n        private Statement statement(final Statement base, final Description description) {\r\n            return new Statement() {\r\n                @Override\r\n                public void evaluate() throws Throwable {\r\n    \r\n                    // implement retry logic here\r\n                    for (int i = 0; i &lt; retryCount; i++) {\r\n                        try {\r\n                            base.evaluate();\r\n                            return;\r\n                        } catch (Throwable t) {\r\n                            //  System.out.println(&quot;: run &quot; + (i+1) + &quot; failed&quot;);\r\n                            System.err.println(description.getDisplayName() + &quot;: run &quot; + (i + 1) + &quot; failed.&quot;);\r\n                        }\r\n                    }\r\n                    System.err.println(description.getDisplayName() + &quot;: giving up after &quot; + retryCount + &quot; failures.&quot;);\r\n                }\r\n            };\r\n        }\r\n    }\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class SomeTestClass {\r\n    \r\n    @Rule\r\n    private RetryRule rule = new RetryRule(3);\r\n    \r\n    @Test\r\n    public void test() {...}\r\n}\r\n\r\nI have lot of integration tests written in Junit4 which may sometimes fail due to Awaitibility.await(...) mechanism. I found that i can use this TestRule interface to restart them couple times and try to make them pass. But the tring is i need to restart the context also like @DirtiesContext, but ONLY when the test failed - entered catch block inside RetryRule.\r\nAny ideas?","title":"Dirties context upon TestRule","body":"<p>''''</p>\n<pre><code>import org.junit.rules.TestRule;\nimport org.junit.runner.Description;\nimport org.junit.runners.model.Statement;\n\npublic class RetryRule implements TestRule {\n    private int retryCount;\n\n    public RetryRule(int retryCount) {\n        this.retryCount = retryCount;\n    }\n\n    public Statement apply(Statement base, Description description) {\n        return statement(base, description);\n    }\n\n    private Statement statement(final Statement base, final Description description) {\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n\n                // implement retry logic here\n                for (int i = 0; i &lt; retryCount; i++) {\n                    try {\n                        base.evaluate();\n                        return;\n                    } catch (Throwable t) {\n                        //  System.out.println(&quot;: run &quot; + (i+1) + &quot; failed&quot;);\n                        System.err.println(description.getDisplayName() + &quot;: run &quot; + (i + 1) + &quot; failed.&quot;);\n                    }\n                }\n                System.err.println(description.getDisplayName() + &quot;: giving up after &quot; + retryCount + &quot; failures.&quot;);\n            }\n        };\n    }\n}\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class SomeTestClass {\n\n@Rule\nprivate RetryRule rule = new RetryRule(3);\n\n@Test\npublic void test() {...}\n</code></pre>\n<p>}</p>\n<p>I have lot of integration tests written in Junit4 which may sometimes fail due to Awaitibility.await(...) mechanism. I found that i can use this TestRule interface to restart them couple times and try to make them pass. But the tring is i need to restart the context also like @DirtiesContext, but ONLY when the test failed - entered catch block inside RetryRule.\nAny ideas?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700139676,"post_id":77494987,"comment_id":136619519,"body_markdown":"That&#39;s not a standard feature as far as I know. You&#39;ll probably need to do an update using values from your audit table. Perhaps looking at the code that creates the audit entry will help?","body":"That&#39;s not a standard feature as far as I know. You&#39;ll probably need to do an update using values from your audit table. Perhaps looking at the code that creates the audit entry will help?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1700140979,"post_id":77494987,"comment_id":136621135,"body_markdown":"Oh, that is well implemented in Hibernate-Envers-Audit. Check [this](https://github.com/enexusde/Java-Spring-Boot-JPA-Enver-Audit-Hibernate-Tools-Reversengineer) out.","body":"Oh, that is well implemented in Hibernate-Envers-Audit. Check <a href=\"https://github.com/enexusde/Java-Spring-Boot-JPA-Enver-Audit-Hibernate-Tools-Reversengineer\" rel=\"nofollow noreferrer\">this</a> out."}],"owner":{"account_id":26719206,"reputation":37,"user_id":20323350,"display_name":"Logolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":0,"score":-1,"last_activity_date":1700140979,"creation_date":1700139426,"question_id":77494987,"body_markdown":"Imagine we run a server with Java Spring using Hibernate (database is connected) and would like to restore a previous state of the database by supplying a timestamp when the change was committed. The latter is stored in revinfo table.\r\n\r\nI have figured out that the mechanism should be:\r\n1) Copy the row of the audit table.\r\n2) Update the row of the original table with the audit row.\r\n\r\nHow do we implement this in code? Is there a way to automate this procedure or is it usually done manually? The questions could sound simple but I haven&#39;t found a clear answer on this matter in any documentation.","title":"Restore previous state of the database in Java Spring","body":"<p>Imagine we run a server with Java Spring using Hibernate (database is connected) and would like to restore a previous state of the database by supplying a timestamp when the change was committed. The latter is stored in revinfo table.</p>\n<p>I have figured out that the mechanism should be:</p>\n<ol>\n<li>Copy the row of the audit table.</li>\n<li>Update the row of the original table with the audit row.</li>\n</ol>\n<p>How do we implement this in code? Is there a way to automate this procedure or is it usually done manually? The questions could sound simple but I haven't found a clear answer on this matter in any documentation.</p>\n"},{"tags":["java","android","permissions","storage","android-13"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1700138555,"post_id":77494715,"comment_id":136619300,"body_markdown":"Can you share your AndroidManifes.xml file?","body":"Can you share your AndroidManifes.xml file?"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1700139021,"post_id":77494715,"comment_id":136619388,"body_markdown":"How you obtain `fileUri`? what is the format of this uri? Why didn&#39;t you follow terror message and use &quot;ACTION_OPEN_DOCUMENT&quot; for getting the uri?","body":"How you obtain <code>fileUri</code>? what is the format of this uri? Why didn&#39;t you follow terror message and use &quot;ACTION_OPEN_DOCUMENT&quot; for getting the uri?"},{"owner":{"account_id":7107995,"reputation":547,"user_id":5437001,"accept_rate":62,"display_name":"Laurens V"},"score":0,"creation_date":1700139950,"post_id":77494715,"comment_id":136619587,"body_markdown":"@tomerpacific I added the permissions I have in my Android Manifest to the post above.","body":"@tomerpacific I added the permissions I have in my Android Manifest to the post above."},{"owner":{"account_id":7107995,"reputation":547,"user_id":5437001,"accept_rate":62,"display_name":"Laurens V"},"score":0,"creation_date":1700139954,"post_id":77494715,"comment_id":136619589,"body_markdown":"@Selvin I got it from the FileProvider and my uri looks like this: content://com.android.externalstorage.documents/document/primary%3ADocuments%2F123456789.pdf","body":"@Selvin I got it from the FileProvider and my uri looks like this: content://com.android.externalstorage.documents/document/pri&zwnj;&#8203;mary%3ADocuments%2F1&zwnj;&#8203;23456789.pdf"},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1700140101,"post_id":77494715,"comment_id":136619624,"body_markdown":"@LaurensV - Have you read [this](https://developer.android.com/training/data-storage/shared/documents-files)?","body":"@LaurensV - Have you read <a href=\"https://developer.android.com/training/data-storage/shared/documents-files\" rel=\"nofollow noreferrer\">this</a>?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700145245,"post_id":77494715,"comment_id":136620591,"body_markdown":"`got it from the FileProvider` No uries from FileProvider look quite different. Its more from ACTION_OPEN_DOCUMENT. And for ACTION_OPEN_DOCUMENT you do not need any permission.","body":"<code>got it from the FileProvider</code> No uries from FileProvider look quite different. Its more from ACTION_OPEN_DOCUMENT. And for ACTION_OPEN_DOCUMENT you do not need any permission."},{"owner":{"account_id":7107995,"reputation":547,"user_id":5437001,"accept_rate":62,"display_name":"Laurens V"},"score":0,"creation_date":1700737681,"post_id":77494715,"comment_id":136692564,"body_markdown":"@blackapps Yes, but I don&#39;t want to open a file. I want to get the file, convert it to the base64 and send it to my API so I can get a url back and save the online url.","body":"@blackapps Yes, but I don&#39;t want to open a file. I want to get the file, convert it to the base64 and send it to my API so I can get a url back and save the online url."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700739128,"post_id":77494715,"comment_id":136692800,"body_markdown":"Ok. Getting the file or open it is the same for me. So i do not understand your problem. You first have to open the file to get it;s content.","body":"Ok. Getting the file or open it is the same for me. So i do not understand your problem. You first have to open the file to get it;s content."}],"owner":{"account_id":7107995,"reputation":547,"user_id":5437001,"accept_rate":62,"display_name":"Laurens V"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700139738,"creation_date":1700136936,"question_id":77494715,"body_markdown":"I am trying to retrieve a file using my uri. Only when I want to retrieve it through my openInputStream I get this following error:\r\n\r\n&gt; Permission Denial: opening provider\r\n&gt; com.android.externalstorage.ExternalStorageProvider from\r\n&gt; ProcessRecord{b3d0dd0 18767:com.workbon/u0a163} (pid=18767, uid=10163)\r\n&gt; requires that you obtain access using ACTION_OPEN_DOCUMENT or related\r\n&gt; APIs\r\n\r\nMy code, yes it is still Java is as follows:\r\n\r\n    InputStream inputStream = context.getContentResolver().openInputStream(fileUri);\r\n                byte[] bytes = readBytes(inputStream);\r\n                return Base64.encodeToString(bytes, Base64.DEFAULT);\r\n\r\n    private static byte[] readBytes(InputStream inputStream) throws IOException {\r\n            ByteArrayOutputStream byteBuffer = new ByteArrayOutputStream();\r\n            int bufferSize = 1024;\r\n            byte[] buffer = new byte[bufferSize];\r\n    \r\n            int len;\r\n            while ((len = inputStream.read(buffer)) != -1) {\r\n                byteBuffer.write(buffer, 0, len);\r\n            }\r\n            return byteBuffer.toByteArray();\r\n        }\r\n\r\n\r\nMy goal is to eventually convert the file to **base64** data so I can pass that along to an API.\r\n\r\nAmong other things, I have these permissions in my Android Manifest.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n            android:maxSdkVersion=&quot;32&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_MEDIA_STORAGE&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n\r\nHopefully someone can help me with this problem. It is a specific Android 13+ problem.","title":"Get file from uri in Android 13 (sdk 33) permission denial","body":"<p>I am trying to retrieve a file using my uri. Only when I want to retrieve it through my openInputStream I get this following error:</p>\n<blockquote>\n<p>Permission Denial: opening provider\ncom.android.externalstorage.ExternalStorageProvider from\nProcessRecord{b3d0dd0 18767:com.workbon/u0a163} (pid=18767, uid=10163)\nrequires that you obtain access using ACTION_OPEN_DOCUMENT or related\nAPIs</p>\n</blockquote>\n<p>My code, yes it is still Java is as follows:</p>\n<pre><code>InputStream inputStream = context.getContentResolver().openInputStream(fileUri);\n            byte[] bytes = readBytes(inputStream);\n            return Base64.encodeToString(bytes, Base64.DEFAULT);\n\nprivate static byte[] readBytes(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream byteBuffer = new ByteArrayOutputStream();\n        int bufferSize = 1024;\n        byte[] buffer = new byte[bufferSize];\n\n        int len;\n        while ((len = inputStream.read(buffer)) != -1) {\n            byteBuffer.write(buffer, 0, len);\n        }\n        return byteBuffer.toByteArray();\n    }\n</code></pre>\n<p>My goal is to eventually convert the file to <strong>base64</strong> data so I can pass that along to an API.</p>\n<p>Among other things, I have these permissions in my Android Manifest.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;32&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_MEDIA_STORAGE&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n</code></pre>\n<p>Hopefully someone can help me with this problem. It is a specific Android 13+ problem.</p>\n"},{"tags":["java","maven","jpa"],"comments":[{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":1,"creation_date":1700138798,"post_id":77494876,"comment_id":136619342,"body_markdown":"Hey! Please add the error message as text and not as images :)","body":"Hey! Please add the error message as text and not as images :)"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1700139272,"post_id":77494876,"comment_id":136619447,"body_markdown":"Why are you using `org.apache.derby:derby:10.15.2.0` if you&#39;ve configured `persistence.xml` for connections to a MySQL DB server? I think you should include the dependency to [ConnectorJ](https://mvnrepository.com/artifact/com.mysql/mysql-connector-j) instead.","body":"Why are you using <code>org.apache.derby:derby:10.15.2.0</code> if you&#39;ve configured <code>persistence.xml</code> for connections to a MySQL DB server? I think you should include the dependency to <a href=\"https://mvnrepository.com/artifact/com.mysql/mysql-connector-j\" rel=\"nofollow noreferrer\">ConnectorJ</a> instead."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1700139391,"post_id":77494876,"comment_id":136619472,"body_markdown":"In your `persistence.xml`, why are you configuring `org.eclipse.persistence.jpa.PersistenceProvider` as your provider if you plan to use Hibernate? I&#39;m pretty sure you want that to be `org.hibernate.jpa.HibernatePersistenceProvider`.","body":"In your <code>persistence.xml</code>, why are you configuring <code>org.eclipse.persistence.jpa.PersistenceProvider</code> as your provider if you plan to use Hibernate? I&#39;m pretty sure you want that to be <code>org.hibernate.jpa.HibernatePersistenceProvider</code>."}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700139112,"creation_date":1700139112,"answer_id":77494957,"question_id":77494876,"body_markdown":"Implementations of JPA specification include:\r\n- Hibernate\r\n- EclipseLink\r\n\r\nYou imported Hibernate JAR but specified EclipseLink as JPA provider:\r\n```lang-xml\r\n&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n```\r\n\r\nUse Hibernate provider instead:\r\n```lang-xml\r\n&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n```","title":"JPA no persistence found","body":"<p>Implementations of JPA specification include:</p>\n<ul>\n<li>Hibernate</li>\n<li>EclipseLink</li>\n</ul>\n<p>You imported Hibernate JAR but specified EclipseLink as JPA provider:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n</code></pre>\n<p>Use Hibernate provider instead:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n</code></pre>\n"}],"owner":{"account_id":20078161,"reputation":1,"user_id":22927645,"display_name":"jhonny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700140224,"answer_count":1,"score":0,"last_activity_date":1700139112,"creation_date":1700138330,"question_id":77494876,"body_markdown":"first and foremost I don&#39;t think this is a duplicate because I checked the folders names and also the persistence name file\r\n\r\n\r\n\r\nI updated the pom to work with maven as well.\r\n\r\n\r\n```\r\n  &lt;dependencies&gt;\r\n\t  \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- JPA --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Hibernate (JPA Implementation) --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.5.6.Final&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Derby --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n        &lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n        &lt;version&gt;10.15.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n  &lt;/dependencies&gt;\r\n```\r\n\r\nI still get the persistence not found\r\n\r\n[please check image for more context](https://i.stack.imgur.com/4CIwB.png)\r\n\r\n\r\n    &lt;persistence-unit name=&quot;Memories&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\r\n\r\nHere&#39;s the datamaper\r\n\r\n\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    \r\n    import com.fcul.memoriesdb.domain.Photograph;\r\n    \r\n    import java.util.List;\r\n     \r\n    public class PhotographDataMapper {\r\n     \r\n        private EntityManagerFactory entityManagerFactory;\r\n     \r\n        public PhotographDataMapper() {\r\n            // Create the EntityManagerFactory\r\n            entityManagerFactory = Persistence.createEntityManagerFactory(&quot;Memories&quot;);\r\n","title":"JPA no persistence found","body":"<p>first and foremost I don't think this is a duplicate because I checked the folders names and also the persistence name file</p>\n<p>I updated the pom to work with maven as well.</p>\n<pre><code>  &lt;dependencies&gt;\n      \n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- JPA --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Hibernate (JPA Implementation) --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.5.6.Final&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Derby --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n        &lt;artifactId&gt;derby&lt;/artifactId&gt;\n        &lt;version&gt;10.15.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n  &lt;/dependencies&gt;\n</code></pre>\n<p>I still get the persistence not found</p>\n<p><a href=\"https://i.stack.imgur.com/4CIwB.png\" rel=\"nofollow noreferrer\">please check image for more context</a></p>\n<pre><code>&lt;persistence-unit name=&quot;Memories&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n</code></pre>\n<p>Here's the datamaper</p>\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\nimport com.fcul.memoriesdb.domain.Photograph;\n\nimport java.util.List;\n \npublic class PhotographDataMapper {\n \n    private EntityManagerFactory entityManagerFactory;\n \n    public PhotographDataMapper() {\n        // Create the EntityManagerFactory\n        entityManagerFactory = Persistence.createEntityManagerFactory(&quot;Memories&quot;);\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":29774244,"reputation":7,"user_id":22818685,"display_name":"Oleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700138420,"creation_date":1700138280,"answer_id":77494870,"question_id":77477544,"body_markdown":"Most likely, the problem is that you have created a `NotificationChannel` with `default_notification_channel_id`, while in `NotificationCompat.Builder` you use `channel_id`.\r\n\r\nSo try replacing with:\r\n```\r\nNotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;default_notification_channel_id&quot;)\r\n```","title":"Firebase FCM notifications not displaying","body":"<p>Most likely, the problem is that you have created a <code>NotificationChannel</code> with <code>default_notification_channel_id</code>, while in <code>NotificationCompat.Builder</code> you use <code>channel_id</code>.</p>\n<p>So try replacing with:</p>\n<pre><code>NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;default_notification_channel_id&quot;)\n</code></pre>\n"}],"owner":{"account_id":29895982,"reputation":1,"user_id":22910863,"display_name":"Helpingdotydk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700138420,"creation_date":1699921307,"question_id":77477544,"body_markdown":"I created an android app in android studio and I connected it with Firebase. I know it is connected because when the app is open onMessageRecieved is being called and I can see it in the log.\r\n\r\nThere are similar posts on here, and ive tried everything I could find including:\r\n\r\nadding this to the manifest:\r\n\r\n```\r\n&lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n            android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\r\n        &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages.\r\n     See README() for more. --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n            android:resource=&quot;@drawable/ic_launcher_background&quot; /&gt;\r\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming\r\n             notification message. See README() for more. --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n            android:resource=&quot;@color/white&quot; /&gt;\r\n```\r\n\r\nUsing this createNotificationChannel() method in the MainActivity OnCreate() and in my class that extends FirebaseMessagingService:\r\n\r\n```\r\nprivate void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    &quot;default_notification_channel_id&quot;,\r\n                    &quot;Channel name&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n            channel.setDescription(&quot;Channel description&quot;);\r\n\r\n            // Register the channel with the system; you can&#39;t change the importance\r\n            // or other notification behaviors after this\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            if (notificationManager != null) {\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nBelow Ill add my AndroidManifest and the class extending FirebaseMessagingService, honestly I feel like theres one obvious thing I keep missing but I have been trying to fix this for days with no luck. Let me know if I need to add anything else.\r\n\r\nAndroidManifest:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot; &gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.TestApp&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:targetApi=&quot;31&quot; &gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n            android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\r\n        &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages.\r\n     See README() for more. --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n            android:resource=&quot;@drawable/ic_launcher_background&quot; /&gt;\r\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming\r\n             notification message. See README() for more. --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n            android:resource=&quot;@color/white&quot; /&gt;\r\n\r\n        &lt;service android:name=&quot;.MyFirebaseMessagingService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n\r\n        &lt;activity\r\n            android:name=&quot;.RealSettingsActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:label=&quot;@string/title_activity_real_settings&quot;\r\n            android:theme=&quot;@style/Theme.TestApp.NoActionBar&quot; &gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.WebviewActivity&quot;\r\n            android:exported=&quot;false&quot; &gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SettingsActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:label=&quot;@string/title_activity_settings&quot; &gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nMyFirebaseMessagingService:\r\n\r\n```\r\npublic class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n    public static final String TAG = &quot;Push-Event&quot;;\r\n    public static final String CHANNEL_ID = String.valueOf(R.string.default_notification_channel_id);\r\n    public static final String CHANNEL_NAME = &quot;com.example.androidappfortesting&quot;;\r\n\r\n    @Override\r\n    public void onNewToken(@NonNull String token) {\r\n        Log.d(TAG, &quot;Refreshed token: &quot; + token);\r\n        \r\n    }\r\n    \r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n\r\n        // Check if message contains a data payload.\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n        }\r\n\r\n        // Check if message contains a Notification payload.\r\n        if (remoteMessage.getNotification() != null) {\r\n            String title = remoteMessage.getNotification().getTitle();\r\n            String description = remoteMessage.getNotification().getBody();\r\n            Log.d(TAG, &quot;Message Notification Title: &quot; + title);\r\n            Log.d(TAG, &quot;Message Notification Description: &quot; + description);\r\n            \r\n            createNotificationChannel();\r\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\r\n                    .setContentTitle(remoteMessage.getNotification().getTitle())\r\n                    .setContentText(remoteMessage.getNotification().getBody())\r\n                    .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                    .setStyle(new NotificationCompat.BigTextStyle())\r\n                    .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\r\n                    .setSmallIcon(R.mipmap.ic_launcher)\r\n                    .setAutoCancel(true);\r\n\r\n            NotificationManager notificationManager =\r\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n            notificationManager.notify(0, notificationBuilder.build());\r\n        }\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    &quot;default_notification_channel_id&quot;,\r\n                    &quot;Channel name&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n            channel.setDescription(&quot;Channel description&quot;);\r\n\r\n            // Register the channel with the system; you can&#39;t change the importance\r\n            // or other notification behaviors after this\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            if (notificationManager != null) {\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n        }\r\n    }\r\n    \r\n}\r\n```","title":"Firebase FCM notifications not displaying","body":"<p>I created an android app in android studio and I connected it with Firebase. I know it is connected because when the app is open onMessageRecieved is being called and I can see it in the log.</p>\n<p>There are similar posts on here, and ive tried everything I could find including:</p>\n<p>adding this to the manifest:</p>\n<pre><code>&lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\n            android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\n        &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages.\n     See README() for more. --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\n            android:resource=&quot;@drawable/ic_launcher_background&quot; /&gt;\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming\n             notification message. See README() for more. --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\n            android:resource=&quot;@color/white&quot; /&gt;\n</code></pre>\n<p>Using this createNotificationChannel() method in the MainActivity OnCreate() and in my class that extends FirebaseMessagingService:</p>\n<pre><code>private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(\n                    &quot;default_notification_channel_id&quot;,\n                    &quot;Channel name&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            channel.setDescription(&quot;Channel description&quot;);\n\n            // Register the channel with the system; you can't change the importance\n            // or other notification behaviors after this\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            if (notificationManager != null) {\n                notificationManager.createNotificationChannel(channel);\n            }\n        }\n    }\n</code></pre>\n<p>Below Ill add my AndroidManifest and the class extending FirebaseMessagingService, honestly I feel like theres one obvious thing I keep missing but I have been trying to fix this for days with no luck. Let me know if I need to add anything else.</p>\n<p>AndroidManifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot; &gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TestApp&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:targetApi=&quot;31&quot; &gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\n            android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\n        &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages.\n     See README() for more. --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\n            android:resource=&quot;@drawable/ic_launcher_background&quot; /&gt;\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming\n             notification message. See README() for more. --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\n            android:resource=&quot;@color/white&quot; /&gt;\n\n        &lt;service android:name=&quot;.MyFirebaseMessagingService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n\n        &lt;activity\n            android:name=&quot;.RealSettingsActivity&quot;\n            android:exported=&quot;false&quot;\n            android:label=&quot;@string/title_activity_real_settings&quot;\n            android:theme=&quot;@style/Theme.TestApp.NoActionBar&quot; &gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.WebviewActivity&quot;\n            android:exported=&quot;false&quot; &gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.SettingsActivity&quot;\n            android:exported=&quot;false&quot;\n            android:label=&quot;@string/title_activity_settings&quot; &gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>MyFirebaseMessagingService:</p>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n    public static final String TAG = &quot;Push-Event&quot;;\n    public static final String CHANNEL_ID = String.valueOf(R.string.default_notification_channel_id);\n    public static final String CHANNEL_NAME = &quot;com.example.androidappfortesting&quot;;\n\n    @Override\n    public void onNewToken(@NonNull String token) {\n        Log.d(TAG, &quot;Refreshed token: &quot; + token);\n        \n    }\n    \n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n\n        // Check if message contains a data payload.\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\n        }\n\n        // Check if message contains a Notification payload.\n        if (remoteMessage.getNotification() != null) {\n            String title = remoteMessage.getNotification().getTitle();\n            String description = remoteMessage.getNotification().getBody();\n            Log.d(TAG, &quot;Message Notification Title: &quot; + title);\n            Log.d(TAG, &quot;Message Notification Description: &quot; + description);\n            \n            createNotificationChannel();\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\n                    .setContentTitle(remoteMessage.getNotification().getTitle())\n                    .setContentText(remoteMessage.getNotification().getBody())\n                    .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                    .setStyle(new NotificationCompat.BigTextStyle())\n                    .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\n                    .setSmallIcon(R.mipmap.ic_launcher)\n                    .setAutoCancel(true);\n\n            NotificationManager notificationManager =\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n            notificationManager.notify(0, notificationBuilder.build());\n        }\n    }\n\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(\n                    &quot;default_notification_channel_id&quot;,\n                    &quot;Channel name&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            channel.setDescription(&quot;Channel description&quot;);\n\n            // Register the channel with the system; you can't change the importance\n            // or other notification behaviors after this\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            if (notificationManager != null) {\n                notificationManager.createNotificationChannel(channel);\n            }\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":44195,"reputation":269023,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":6,"creation_date":1342400857,"post_id":11497020,"comment_id":15188070,"body_markdown":"Perhaps that&#39;s because there&#39;s no difference?","body":"Perhaps that&#39;s because there&#39;s no difference?"},{"owner":{"account_id":1095607,"reputation":1616,"user_id":1089258,"accept_rate":50,"display_name":"swapy"},"score":0,"creation_date":1342425444,"post_id":11497020,"comment_id":15192794,"body_markdown":"http://stackoverflow.com/questions/6008241/java-generics-e-and-t-what-is-the-difference","body":"<a href=\"http://stackoverflow.com/questions/6008241/java-generics-e-and-t-what-is-the-difference\" title=\"java generics e and t what is the difference\">stackoverflow.com/questions/6008241/&hellip;</a>"},{"owner":{"account_id":5374207,"reputation":3969,"user_id":4281711,"accept_rate":63,"display_name":"Prateek Joshi"},"score":3,"creation_date":1436417143,"post_id":11497020,"comment_id":50605496,"body_markdown":"why we cant define class Name&lt;? extends Number&gt; but class Name&lt;T extends Number&gt; is fine ?","body":"why we cant define class Name&lt;? extends Number&gt; but class Name&lt;T extends Number&gt; is fine ?"},{"owner":{"display_name":"user10990333"},"score":0,"creation_date":1590847252,"post_id":11497020,"comment_id":109838618,"body_markdown":"@PrateekJoshi Yes, I was thinking the same. Did you get the answer?","body":"@PrateekJoshi Yes, I was thinking the same. Did you get the answer?"}],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258535,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1342400914,"creation_date":1342400914,"answer_id":11497034,"question_id":11497020,"body_markdown":"There is no difference in this case, because `T` is never used again. \r\n\r\nThe reason for declaring a `T` is so that you can refer to it again, thus binding two parameter types, or a return type together.","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>There is no difference in this case, because <code>T</code> is never used again. </p>\n\n<p>The reason for declaring a <code>T</code> is so that you can refer to it again, thus binding two parameter types, or a return type together.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1342404422,"creation_date":1342401343,"answer_id":11497064,"question_id":11497020,"body_markdown":"The difference is you can&#39;t refer to `T` when using a wildcard. \r\n\r\nYou aren&#39;t right now, so there is &quot;no difference&quot;, but here&#39;s how you could use `T` to make a difference:\r\n\r\n    static &lt;T extends Number&gt; T getElement(List&lt;T&gt; l) {\r\n        for (T t : l) {\r\n            if (some condition)\r\n                return t;\r\n        }\r\n        return null;\r\n    }\r\n\r\nThis will return *the same type* as whatever is passed in. eg these will both compile:\r\n\r\n    Integer x = getElement(integerList);\r\n    Float y = getElement(floatList);\r\n","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>The difference is you can't refer to <code>T</code> when using a wildcard. </p>\n\n<p>You aren't right now, so there is \"no difference\", but here's how you could use <code>T</code> to make a difference:</p>\n\n<pre><code>static &lt;T extends Number&gt; T getElement(List&lt;T&gt; l) {\n    for (T t : l) {\n        if (some condition)\n            return t;\n    }\n    return null;\n}\n</code></pre>\n\n<p>This will return <em>the same type</em> as whatever is passed in. eg these will both compile:</p>\n\n<pre><code>Integer x = getElement(integerList);\nFloat y = getElement(floatList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4754770,"reputation":263,"user_id":3843786,"display_name":"ns89"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1458814993,"creation_date":1408251966,"answer_id":25346455,"question_id":11497020,"body_markdown":"`T` is a bounded type, i.e. whatever type you use, you have to stick to that particular type which extends `Number`, e.g. if you pass a `Double` type to a list, you cannot pass it a `Short` type as `T` is of type `Double` and the list is already bounded by that type. In contrast, if you use `?` (`wildcard`), you can use &quot;any&quot; type that extends `Number` (add both `Short` and `Double` to that list).","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p><code>T</code> is a bounded type, i.e. whatever type you use, you have to stick to that particular type which extends <code>Number</code>, e.g. if you pass a <code>Double</code> type to a list, you cannot pass it a <code>Short</code> type as <code>T</code> is of type <code>Double</code> and the list is already bounded by that type. In contrast, if you use <code>?</code> (<code>wildcard</code>), you can use \"any\" type that extends <code>Number</code> (add both <code>Short</code> and <code>Double</code> to that list).</p>\n"},{"tags":[],"owner":{"account_id":1919533,"reputation":956,"user_id":1731383,"accept_rate":14,"display_name":"Kanagaraj M"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1461322867,"creation_date":1461244057,"answer_id":36770591,"question_id":11497020,"body_markdown":"When you use T you can perform all type of actions on List. But when you use &lt;?&gt; you can not perform add.\r\n\r\nT -  as same as object reference with full access &lt;br/&gt;\r\n? -  give partial access \r\n   \r\n    static void gPrint(List&lt;? extends Number&gt; l) {\r\n     l.add(1); //Will give error\r\n    for (Number n : l) {\r\n        System.out.println(n);\r\n    }\r\n\r\n    static &lt;T extends Number&gt; void gPrintA(List&lt;T&gt; l) {\r\n    l.add((T)1); //We can add\r\n    for (Number n : l) {\r\n        System.out.println(n);\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>When you use T you can perform all type of actions on List. But when you use  you can not perform add.</p>\n\n<p>T -  as same as object reference with full access <br/>\n? -  give partial access </p>\n\n<pre><code>static void gPrint(List&lt;? extends Number&gt; l) {\n l.add(1); //Will give error\nfor (Number n : l) {\n    System.out.println(n);\n}\n\nstatic &lt;T extends Number&gt; void gPrintA(List&lt;T&gt; l) {\nl.add((T)1); //We can add\nfor (Number n : l) {\n    System.out.println(n);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001011,"reputation":11,"user_id":2564343,"display_name":"Pablo Ernesto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700138222,"creation_date":1700137806,"answer_id":77494805,"question_id":11497020,"body_markdown":"Why we use the upper bound wildcard is very well described in the [Upper Bounded Wildcards][1] section of Java Generics Tutorial.\r\n\r\nAs you already know; Integer, Long, Double and as well as a few other classes extend from the Number class. In other words all of them are subtypes of Number. Therefore, you can say &quot;Integer is a Number&quot;, &quot;Double is a Number&quot; and so on.\r\nHowever, the same relationship does NOT exist for List\\&lt;Number&gt; against List\\&lt;Integer&gt;, List\\&lt;Double&gt; and so on. In other words, List\\&lt;Number&gt; is not a base type of List\\&lt;Integer&gt;, List\\&lt;Double&gt; etc.\r\n\r\nSo, let&#39;s say, you want to write methods that must be able to work with all List of those types. In other words, your method should have a list argument, that could be a List\\&lt;Integer&gt;, List\\&lt;Double&gt;, List\\&lt;Number&gt; etc. In this case, you have to **use the upper bounded wildcard**.\r\n\r\nIn conclusion, List\\&lt;? extends Number&gt; is the base type of List\\&lt;Integer&gt;, List\\&lt;Double&gt;, List\\&lt;Number&gt; and etc.\r\n\r\nConsider the following example:\r\n\r\n    import java.util.*;\r\n    \r\n    public class WildCardDemo {\r\n\r\n      public static double sum1 (List&lt;Number&gt; list) {\r\n        double result = 0.0;\r\n        for (Number n : list) {\r\n          result += n.doubleValue();\r\n        }\r\n        return result;\r\n      }\r\n    /*\r\n      public static &lt;T&gt; double sum2 (List&lt;T extends Number&gt; list) {\r\n        double result = 0.0;\r\n        for (Number n : list) {\r\n          result += n.doubleValue();\r\n        }\r\n        return result;\r\n      }\r\n    */\r\n    \r\n      public static double sum3 (List&lt;? extends Number&gt; list) {\r\n        double result = 0.0;\r\n        for (Number n : list) {\r\n          result += n.doubleValue();\r\n        }\r\n        return result;\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n\r\n        List&lt;Double&gt; numList = Arrays.asList(1.0, 2.0, 3.0);\r\n\r\n        //System.out.println(sum1(numList));  // Compiler Error !!! incompatible types: List&lt;Double&gt; cannot be converted to List&lt;Number&gt;\r\n\r\n        //System.out.println(sum2(numList)); // Compiler error !!!  sytax error\r\n\r\n        System.out.println(sum3(numList)); // This works\r\n      }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/upperBounded.html","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>Why we use the upper bound wildcard is very well described in the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/upperBounded.html\" rel=\"nofollow noreferrer\">Upper Bounded Wildcards</a> section of Java Generics Tutorial.</p>\n<p>As you already know; Integer, Long, Double and as well as a few other classes extend from the Number class. In other words all of them are subtypes of Number. Therefore, you can say &quot;Integer is a Number&quot;, &quot;Double is a Number&quot; and so on.\nHowever, the same relationship does NOT exist for List&lt;Number&gt; against List&lt;Integer&gt;, List&lt;Double&gt; and so on. In other words, List&lt;Number&gt; is not a base type of List&lt;Integer&gt;, List&lt;Double&gt; etc.</p>\n<p>So, let's say, you want to write methods that must be able to work with all List of those types. In other words, your method should have a list argument, that could be a List&lt;Integer&gt;, List&lt;Double&gt;, List&lt;Number&gt; etc. In this case, you have to <strong>use the upper bounded wildcard</strong>.</p>\n<p>In conclusion, List&lt;? extends Number&gt; is the base type of List&lt;Integer&gt;, List&lt;Double&gt;, List&lt;Number&gt; and etc.</p>\n<p>Consider the following example:</p>\n<pre><code>import java.util.*;\n\npublic class WildCardDemo {\n\n  public static double sum1 (List&lt;Number&gt; list) {\n    double result = 0.0;\n    for (Number n : list) {\n      result += n.doubleValue();\n    }\n    return result;\n  }\n/*\n  public static &lt;T&gt; double sum2 (List&lt;T extends Number&gt; list) {\n    double result = 0.0;\n    for (Number n : list) {\n      result += n.doubleValue();\n    }\n    return result;\n  }\n*/\n\n  public static double sum3 (List&lt;? extends Number&gt; list) {\n    double result = 0.0;\n    for (Number n : list) {\n      result += n.doubleValue();\n    }\n    return result;\n  }\n\n  public static void main(String[] args) {\n\n    List&lt;Double&gt; numList = Arrays.asList(1.0, 2.0, 3.0);\n\n    //System.out.println(sum1(numList));  // Compiler Error !!! incompatible types: List&lt;Double&gt; cannot be converted to List&lt;Number&gt;\n\n    //System.out.println(sum2(numList)); // Compiler error !!!  sytax error\n\n    System.out.println(sum3(numList)); // This works\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1314886,"reputation":4009,"user_id":1262000,"accept_rate":70,"display_name":"vikky.rk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22196,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":11497034,"answer_count":5,"score":92,"last_activity_date":1700138222,"creation_date":1342400714,"question_id":11497020,"body_markdown":"What is the difference between these 2 functions?\r\n \r\n    static void gPrint(List&lt;? extends Number&gt; l) {\r\n\t    for (Number n : l) {\r\n\t\t\tSystem.out.println(n);\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic &lt;T extends Number&gt; void gPrintA(List&lt;T&gt; l) {\r\n\t\tfor (Number n : l) {\r\n\t\t\tSystem.out.println(n);\r\n\t\t}\r\n\t}\r\n\r\nI see the same output.","title":"Java Generics WildCard: &lt;? extends Number&gt; vs &lt;T extends Number&gt;","body":"<p>What is the difference between these 2 functions?</p>\n\n<pre><code>static void gPrint(List&lt;? extends Number&gt; l) {\n    for (Number n : l) {\n        System.out.println(n);\n    }\n}\n\nstatic &lt;T extends Number&gt; void gPrintA(List&lt;T&gt; l) {\n    for (Number n : l) {\n        System.out.println(n);\n    }\n}\n</code></pre>\n\n<p>I see the same output.</p>\n"},{"tags":["java","spring","spring-boot","multithreading"],"owner":{"account_id":18085962,"reputation":19,"user_id":15626126,"display_name":"Smetana Po Aktsii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700137321,"creation_date":1700137321,"question_id":77494757,"body_markdown":"What is the difference between using ApplicationEventMultycaster and using @Async annotation on @EventListener method.  I&#39;m looking for ways to use events asynchronously.  What&#39;s the best way to do this?  Maybe there is something else that I don&#39;t know?","title":"Difference between ApplicationEventMultycaster and @Async","body":"<p>What is the difference between using ApplicationEventMultycaster and using @Async annotation on @EventListener method.  I'm looking for ways to use events asynchronously.  What's the best way to do this?  Maybe there is something else that I don't know?</p>\n"},{"tags":["java","arrays","null","initialization","zero"],"comments":[{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1425764164,"post_id":28920245,"comment_id":46097959,"body_markdown":"all 1s. This is basic Java in any 101 book or tutorial. Have you seen the ones on Oracle? http://goo.gl/QiHpsb","body":"all 1s. This is basic Java in any 101 book or tutorial. Have you seen the ones on Oracle? <a href=\"http://goo.gl/QiHpsb\" rel=\"nofollow noreferrer\">goo.gl/QiHpsb</a>"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":4,"creation_date":1425764237,"post_id":28920245,"comment_id":46097985,"body_markdown":"I&#39;m voting to close this question as off-topic because it can be trivially found in the documentation. http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","body":"I&#39;m voting to close this question as off-topic because it can be trivially found in the documentation. <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"score":0,"creation_date":1425764971,"post_id":28920245,"comment_id":46098189,"body_markdown":"@JeroenVannevel are general purpose questions not allowed on SnackOverflow; if so, how would we flag them?","body":"@JeroenVannevel are general purpose questions not allowed on SnackOverflow; if so, how would we flag them?"},{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":0,"creation_date":1425770687,"post_id":28920245,"comment_id":46099795,"body_markdown":"possible duplicate of [What is the default initialization of an array in Java?](http://stackoverflow.com/questions/3426843/what-is-the-default-initialization-of-an-array-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3426843/what-is-the-default-initialization-of-an-array-in-java\">What is the default initialization of an array in Java?</a>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683805266,"post_id":28920245,"comment_id":134424453,"body_markdown":"The array is not &#39;empty&#39;, it is full with 9 instances of zero.","body":"The array is not &#39;empty&#39;, it is full with 9 instances of zero."}],"answers":[{"tags":[],"owner":{"account_id":4180297,"reputation":41806,"user_id":3425536,"accept_rate":72,"display_name":"Emil Laine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425764073,"creation_date":1425764073,"answer_id":28920266,"question_id":28920245,"body_markdown":"All elements are initialized to 0.","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>All elements are initialized to 0.</p>\n"},{"tags":[],"owner":{"account_id":3595528,"reputation":3527,"user_id":3000387,"accept_rate":92,"display_name":"Marv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1425764128,"creation_date":1425764128,"answer_id":28920278,"question_id":28920245,"body_markdown":"If it is an Array of objects it will be initialized with `null`, if it&#39;s an array of primitive values (like `int`) it will be initialized with `0`. For the non-number primitive `boolean` it is `false` and for &#39;char&#39; it is ` \t&#39;\\u0000&#39;`. For more information, check the table Default Values on the following page: \r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>If it is an Array of objects it will be initialized with <code>null</code>, if it's an array of primitive values (like <code>int</code>) it will be initialized with <code>0</code>. For the non-number primitive <code>boolean</code> it is <code>false</code> and for 'char' it is <code>'\\u0000'</code>. For more information, check the table Default Values on the following page: </p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n"},{"tags":[],"owner":{"account_id":1684734,"reputation":3195,"user_id":4235960,"accept_rate":84,"display_name":"adrCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683804736,"creation_date":1425764236,"answer_id":28920291,"question_id":28920245,"body_markdown":"A copy from [Oracle Java Documentation][1].\r\n\r\n[Primitive Data Types][1] - Default Values:\r\n\r\n    Data Type\tDefault Value (for fields)\r\n    byte\t\t0\r\n    short\t\t0\r\n    int\t\t\t0\r\n    long\t\t0L\r\n    float\t\t0.0f\r\n    double\t\t0.0d\r\n    char\t\t&#39;\\u0000&#39;\r\n    String \t\tnull\r\n    Object\t\tnull\r\n    boolean\t\tfalse\r\n\r\nSo, for int, it is zero (0).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>A copy from <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Oracle Java Documentation</a>.</p>\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types</a> - Default Values:</p>\n<pre><code>Data Type   Default Value (for fields)\nbyte        0\nshort       0\nint         0\nlong        0L\nfloat       0.0f\ndouble      0.0d\nchar        '\\u0000'\nString      null\nObject      null\nboolean     false\n</code></pre>\n<p>So, for int, it is zero (0).</p>\n"},{"tags":[],"owner":{"account_id":5901870,"reputation":1361,"user_id":4645110,"display_name":"Arnaud Bertrand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425764715,"creation_date":1425764243,"answer_id":28920294,"question_id":28920245,"body_markdown":"Integer class can be null however &quot;int&quot; type cannot be null.\r\n\r\nYou can try int x = null; you&#39;ll have an error.\r\n\r\nTherefore it is created by default to 0 until you change it.","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>Integer class can be null however \"int\" type cannot be null.</p>\n\n<p>You can try int x = null; you'll have an error.</p>\n\n<p>Therefore it is created by default to 0 until you change it.</p>\n"},{"tags":[],"owner":{"account_id":4476563,"reputation":5607,"user_id":3641545,"accept_rate":79,"display_name":"Zarwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425764271,"creation_date":1425764271,"answer_id":28920298,"question_id":28920245,"body_markdown":"Every value in an int array is initialized to 0 by default. This is something that you can easily try on your own:\r\n\r\n        int [] nums = new int [9];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; nums.length; i++) {\r\n\t\t\tSystem.out.println(nums[i]);\r\n\t\t}\r\n\r\nResult:\r\n\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0\r\n    0","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>Every value in an int array is initialized to 0 by default. This is something that you can easily try on your own:</p>\n\n<pre><code>    int [] nums = new int [9];\n\n    for (int i = 0; i &lt; nums.length; i++) {\n        System.out.println(nums[i]);\n    }\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>0\n0\n0\n0\n0\n0\n0\n0\n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5860981,"reputation":1600,"user_id":4616696,"display_name":"Dermot Blair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425764293,"creation_date":1425764293,"answer_id":28920302,"question_id":28920245,"body_markdown":"Here are the default values for the different types in Java:\r\n\r\nbyte\t0\r\n\r\nshort\t0\r\n\r\nint\t    0\r\n\r\nlong\t0L\r\n\r\nfloat\t0.0f\r\n\r\ndouble\t0.0d\r\n\r\nchar\t‘u0000′\r\n\r\nString (or any Object)\tnull\r\n\r\nboolean\tfalse\r\n\r\nAs you can see, int defaults to 0.","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>Here are the default values for the different types in Java:</p>\n\n<p>byte    0</p>\n\n<p>short   0</p>\n\n<p>int     0</p>\n\n<p>long    0L</p>\n\n<p>float   0.0f</p>\n\n<p>double  0.0d</p>\n\n<p>char    ‘u0000′</p>\n\n<p>String (or any Object)  null</p>\n\n<p>boolean false</p>\n\n<p>As you can see, int defaults to 0.</p>\n"}],"owner":{"account_id":2602914,"reputation":811,"user_id":2274782,"accept_rate":83,"display_name":"cvbattum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1283,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"closed_date":1425772737,"accepted_answer_id":28920278,"answer_count":6,"score":-3,"last_activity_date":1700137061,"creation_date":1425763983,"question_id":28920245,"body_markdown":"I made the following array:\r\n\r\n    int[] array = new int[9];\r\n\r\nThis array is initialized, but empty. \r\n\r\nIn that case, what is the value of any index of this array?  \r\n\r\nWhen I print it out, it gives me 0.  \r\nDoes that mean there is a zero stored in here (like if you had called `int x = 0`)?  \r\nOr is it `null`?\r\n\r\nAlso, is this the same for any `Object` array?  \r\nIs it an empty instance of this object, or is it `null`?","title":"What value is stored in an initialized but empty integer array in Java","body":"<p>I made the following array:</p>\n<pre><code>int[] array = new int[9];\n</code></pre>\n<p>This array is initialized, but empty.</p>\n<p>In that case, what is the value of any index of this array?</p>\n<p>When I print it out, it gives me 0.<br />\nDoes that mean there is a zero stored in here (like if you had called <code>int x = 0</code>)?<br />\nOr is it <code>null</code>?</p>\n<p>Also, is this the same for any <code>Object</code> array?<br />\nIs it an empty instance of this object, or is it <code>null</code>?</p>\n"},{"tags":["java","android","events","insert","calendar"],"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1700160739,"post_id":77494648,"comment_id":136623670,"body_markdown":"If there is an obvious crash case, it&#39;s always preferred to add a crash log","body":"If there is an obvious crash case, it&#39;s always preferred to add a crash log"}],"owner":{"account_id":6220888,"reputation":1,"user_id":4840553,"display_name":"Maitreyee Tewari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700136358,"creation_date":1700136358,"question_id":77494648,"body_markdown":"I am using the library by Alam Kanak accessible at this github link https://github.com/alamkanak/Android-Week-View/tree/master\r\nFor the function &quot;onEmptyViewLongPress&quot; I would like the user to be able to create, delete, and edit the event by long pressing an empty time slot in the calendar.\r\n\r\n\r\nI intended that &quot;onEmptyViewLongPress&quot; a new intent is created and the user can enter title, begin time, and end time of the event. Following is the code I have written for enabling the user to long press and insert an event in the calendar but when I long press the app crashes. Any help would be much appreciated!   \r\n```\r\n@Override\r\n    public void onEmptyViewLongPress(Calendar time) {\r\n      Intent intent = new Intent(Intent.ACTION_INSERT)\r\n              .setData(CalendarContract.Events.CONTENT_URI)\r\n              .putExtra(CalendarContract.Events.TITLE, &quot;Event title&quot;)\r\n              .putExtra(CalendarContract.EXTRA_EVENT_BEGIN_TIME, &quot;begin time&quot;)\r\n              .putExtra(CalendarContract.EXTRA_EVENT_END_TIME,&quot;end time&quot;);\r\n      startActivity(intent);\r\n  }\r\n```","title":"How to add an event on long press empty view","body":"<p>I am using the library by Alam Kanak accessible at this github link <a href=\"https://github.com/alamkanak/Android-Week-View/tree/master\" rel=\"nofollow noreferrer\">https://github.com/alamkanak/Android-Week-View/tree/master</a>\nFor the function &quot;onEmptyViewLongPress&quot; I would like the user to be able to create, delete, and edit the event by long pressing an empty time slot in the calendar.</p>\n<p>I intended that &quot;onEmptyViewLongPress&quot; a new intent is created and the user can enter title, begin time, and end time of the event. Following is the code I have written for enabling the user to long press and insert an event in the calendar but when I long press the app crashes. Any help would be much appreciated!</p>\n<pre><code>@Override\n    public void onEmptyViewLongPress(Calendar time) {\n      Intent intent = new Intent(Intent.ACTION_INSERT)\n              .setData(CalendarContract.Events.CONTENT_URI)\n              .putExtra(CalendarContract.Events.TITLE, &quot;Event title&quot;)\n              .putExtra(CalendarContract.EXTRA_EVENT_BEGIN_TIME, &quot;begin time&quot;)\n              .putExtra(CalendarContract.EXTRA_EVENT_END_TIME,&quot;end time&quot;);\n      startActivity(intent);\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700125943,"creation_date":1700122092,"answer_id":77493127,"question_id":77493058,"body_markdown":"Would the following be acceptable? \r\n\r\n1. create a generic controller object\r\n\r\n       public class GenericController &lt;T extends Identifiable&gt;{\r\n            private Map&lt;Integer, T&gt; genericMap;\r\n        \r\n            public GenericController() {\r\n                genericMap = new HashMap&lt;&gt;();\r\n            }\r\n        \r\n            public T create(T t) {\r\n                genericMap.put(t.getid(), t);\r\n                return t;\r\n            }\r\n        }\r\n\r\nThis gives you a base for creating controllers and methods. \r\n\r\n 2. create interfaces to ensure that the generic methods work properly. In the above example, creating an object needs an id. So, I create an interface called Identifiable and have T in the genericController extend it.\r\n\r\n        public interface Identifiable {\r\n            public Integer getid();\r\n        }\r\n\r\n 3. create your controllers, autowiring the genericMap as needed (dont forget to setup the generic maps as beans in a @Configuration class somewhere!)\r\n\r\n\r\n        @RestController\r\n        public class UserController {\r\n            @Autowired\r\n            GenericController&lt;User&gt; userController;\r\n        \r\n            @PostMapping(&quot;/user&quot;)\r\n            private User createUser(@RequestBody User user) {\r\n                return userController.create(user);\r\n            }\r\n        }\r\n\r\nAs a side note, I think there is only up to a certain point that you will be able to refactor/generalize your code. If I am thinking what you want, you want something like a generic/abstract controller then you just need to extend it while specifying the type, and its done. However, you will still need to specify the RequestMapping&#39;s endpoints, as you will not be able to dynamically configure it if I am not mistaken. So even then, the classes should look something like:\r\n\r\n    \r\n    public abstract class GenericController &lt;T extends Identifiable&gt;{\r\n        private Map&lt;Integer, T&gt; genericMap;\r\n    \r\n        public GenericController() {\r\n            genericMap = new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        public T create(T t) {\r\n            genericMap.put(t.getId(), t);\r\n            return t;\r\n        }\r\n    }\r\n    @RestController\r\n    public class UserController extends GenericController&lt;User&gt; {\r\n    //  GenericController&lt;User&gt; userController;\r\n    \r\n    //    @PostMapping(&quot;/user&quot;)\r\n    //    private User createUser(@RequestBody User user) {\r\n    //        return userController.create(user);\r\n    //    }\r\n    \r\n        @PostMapping(&quot;/user&quot;)\r\n        public User create(User user ) {\r\n            return super.create(user);\r\n        }\r\n    }","title":"How to create an abstract class with generics for controllers in Spring Boot?","body":"<p>Would the following be acceptable?</p>\n<ol>\n<li><p>create a generic controller object</p>\n<pre><code>public class GenericController &lt;T extends Identifiable&gt;{\n     private Map&lt;Integer, T&gt; genericMap;\n\n     public GenericController() {\n         genericMap = new HashMap&lt;&gt;();\n     }\n\n     public T create(T t) {\n         genericMap.put(t.getid(), t);\n         return t;\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>This gives you a base for creating controllers and methods.</p>\n<ol start=\"2\">\n<li><p>create interfaces to ensure that the generic methods work properly. In the above example, creating an object needs an id. So, I create an interface called Identifiable and have T in the genericController extend it.</p>\n<pre><code>public interface Identifiable {\n    public Integer getid();\n}\n</code></pre>\n</li>\n<li><p>create your controllers, autowiring the genericMap as needed (dont forget to setup the generic maps as beans in a @Configuration class somewhere!)</p>\n<pre><code>@RestController\npublic class UserController {\n    @Autowired\n    GenericController&lt;User&gt; userController;\n\n    @PostMapping(&quot;/user&quot;)\n    private User createUser(@RequestBody User user) {\n        return userController.create(user);\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>As a side note, I think there is only up to a certain point that you will be able to refactor/generalize your code. If I am thinking what you want, you want something like a generic/abstract controller then you just need to extend it while specifying the type, and its done. However, you will still need to specify the RequestMapping's endpoints, as you will not be able to dynamically configure it if I am not mistaken. So even then, the classes should look something like:</p>\n<pre><code>public abstract class GenericController &lt;T extends Identifiable&gt;{\n    private Map&lt;Integer, T&gt; genericMap;\n\n    public GenericController() {\n        genericMap = new HashMap&lt;&gt;();\n    }\n\n    public T create(T t) {\n        genericMap.put(t.getId(), t);\n        return t;\n    }\n}\n@RestController\npublic class UserController extends GenericController&lt;User&gt; {\n//  GenericController&lt;User&gt; userController;\n\n//    @PostMapping(&quot;/user&quot;)\n//    private User createUser(@RequestBody User user) {\n//        return userController.create(user);\n//    }\n\n    @PostMapping(&quot;/user&quot;)\n    public User create(User user ) {\n        return super.create(user);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700122309,"creation_date":1700122309,"answer_id":77493147,"question_id":77493058,"body_markdown":"It would seem a generic CRUD controller is what you&#39;re after. \r\n\r\nIn which case, I would suggest that you have a look at `spring-data-rest`. \r\n\r\nGetting all the CRUD functionality is as easy as annotating your Spring Data repository with `@RepositoryRestResource`. \r\n\r\nThat is of course, if you are planning to use Spring Data as the persistence layer for your entities. ","title":"How to create an abstract class with generics for controllers in Spring Boot?","body":"<p>It would seem a generic CRUD controller is what you're after.</p>\n<p>In which case, I would suggest that you have a look at <code>spring-data-rest</code>.</p>\n<p>Getting all the CRUD functionality is as easy as annotating your Spring Data repository with <code>@RepositoryRestResource</code>.</p>\n<p>That is of course, if you are planning to use Spring Data as the persistence layer for your entities.</p>\n"},{"tags":[],"owner":{"account_id":29915961,"reputation":1,"user_id":22926170,"display_name":"Roei Harush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700135936,"creation_date":1700126451,"answer_id":77493577,"question_id":77493058,"body_markdown":"You absolutely can! Try this way:\r\n\r\n```java\r\npublic abstract class BaseController&lt;T&gt; {\r\n\r\n    private Map&lt;Integer, T&gt; entities = new HashMap&lt;&gt;();\r\n\r\n    @PostMapping\r\n    public T addEntity(@RequestBody T entity) {\r\n        entities.put(getEntityId(entity), entity);\r\n        return entity;\r\n    }\r\n\r\n    @PutMapping\r\n    public T updateEntity(@RequestBody T entity) {\r\n        entities.put(getEntityId(entity), entity);\r\n        return entity;\r\n    }\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public List&lt;T&gt; getAllEntities() {\r\n        return new ArrayList&lt;&gt;(entities.values());\r\n    }\r\n\r\n    protected abstract Integer getEntityId(T entity);\r\n}\r\n``` \r\n\r\nBut i would recommend you to use `ResponseEntity&lt;&gt;` instead for handling http exceptions.  ","title":"How to create an abstract class with generics for controllers in Spring Boot?","body":"<p>You absolutely can! Try this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseController&lt;T&gt; {\n\n    private Map&lt;Integer, T&gt; entities = new HashMap&lt;&gt;();\n\n    @PostMapping\n    public T addEntity(@RequestBody T entity) {\n        entities.put(getEntityId(entity), entity);\n        return entity;\n    }\n\n    @PutMapping\n    public T updateEntity(@RequestBody T entity) {\n        entities.put(getEntityId(entity), entity);\n        return entity;\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public List&lt;T&gt; getAllEntities() {\n        return new ArrayList&lt;&gt;(entities.values());\n    }\n\n    protected abstract Integer getEntityId(T entity);\n}\n</code></pre>\n<p>But i would recommend you to use <code>ResponseEntity&lt;&gt;</code> instead for handling http exceptions.</p>\n"}],"owner":{"account_id":29915226,"reputation":9,"user_id":22925587,"display_name":"ANVISERO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1700135936,"creation_date":1700121304,"question_id":77493058,"body_markdown":"I am developing an application on Spring Boot and I have two controllers that handle films and users. Both controllers have similar endpoints, and I would like to create an abstract class to simplify and scale my code. \r\nHere are the examples of controllers that I use:\r\n```\r\n@RestController\r\npublic class FilmController {\r\n  private static Map&lt;Integer, Film&gt; films = new HashMap&lt;&gt;();\r\n\r\n  @PostMapping(&quot;/film&quot;)\r\n  public Film addFilm(@RequestBody Film film) {\r\n      films.put(film.getId(), film);\r\n      return film;\r\n  }\r\n\r\n  @PutMapping(&quot;/film&quot;)\r\n  private Film updateFilm(@RequestBody Film film) {\r\n      films.put(film.getId(), film);\r\n      return film;\r\n  }\r\n\r\n  @GetMapping(&quot;/films&quot;)\r\n  private List&lt;Film&gt; getAllFilms() {\r\n      return new ArrayList&lt;&gt;(films.values());\r\n  }\r\n}\r\n````\r\n```@RestController\r\npublic class UserController {\r\n  private static Map&lt;Integer, User&gt; users = new HashMap&lt;&gt;();\r\n\r\n  @PostMapping(&quot;/user&quot;)\r\n  private User createUser(@RequestBody User user) {\r\n      users.put(user.getId(), user);\r\n      return user;\r\n  }\r\n\r\n  @PutMapping(&quot;/user&quot;)\r\n  private User updateUser(@RequestBody User user) {\r\n      users.put(user.getId(), user);\r\n      return user;\r\n  }\r\n\r\n  @GetMapping(&quot;/users&quot;)\r\n  private List&lt;User&gt; getAllUsers() {\r\n      return new ArrayList&lt;&gt;(users.values());\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nCan I use an abstract class with generics for this? If so, how can I do it?\r\nI would like to create an abstract class that will handle the common logic for these two controllers. \r\nCould you please explain to me, and what is better to use and why?","title":"How to create an abstract class with generics for controllers in Spring Boot?","body":"<p>I am developing an application on Spring Boot and I have two controllers that handle films and users. Both controllers have similar endpoints, and I would like to create an abstract class to simplify and scale my code.\nHere are the examples of controllers that I use:</p>\n<pre><code>@RestController\npublic class FilmController {\n  private static Map&lt;Integer, Film&gt; films = new HashMap&lt;&gt;();\n\n  @PostMapping(&quot;/film&quot;)\n  public Film addFilm(@RequestBody Film film) {\n      films.put(film.getId(), film);\n      return film;\n  }\n\n  @PutMapping(&quot;/film&quot;)\n  private Film updateFilm(@RequestBody Film film) {\n      films.put(film.getId(), film);\n      return film;\n  }\n\n  @GetMapping(&quot;/films&quot;)\n  private List&lt;Film&gt; getAllFilms() {\n      return new ArrayList&lt;&gt;(films.values());\n  }\n}\n</code></pre>\n<pre><code>public class UserController {\n  private static Map&lt;Integer, User&gt; users = new HashMap&lt;&gt;();\n\n  @PostMapping(&quot;/user&quot;)\n  private User createUser(@RequestBody User user) {\n      users.put(user.getId(), user);\n      return user;\n  }\n\n  @PutMapping(&quot;/user&quot;)\n  private User updateUser(@RequestBody User user) {\n      users.put(user.getId(), user);\n      return user;\n  }\n\n  @GetMapping(&quot;/users&quot;)\n  private List&lt;User&gt; getAllUsers() {\n      return new ArrayList&lt;&gt;(users.values());\n  }\n}\n\n</code></pre>\n<p>Can I use an abstract class with generics for this? If so, how can I do it?\nI would like to create an abstract class that will handle the common logic for these two controllers.\nCould you please explain to me, and what is better to use and why?</p>\n"},{"tags":["java","apache-spark","amazon-s3","avro","parquet"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1691484560,"post_id":47355038,"comment_id":135494445,"body_markdown":"The repository https://github.com/macalbert/WriteParquetJavaDemo contains a minimal example.","body":"The repository <a href=\"https://github.com/macalbert/WriteParquetJavaDemo\" rel=\"nofollow noreferrer\">github.com/macalbert/WriteParquetJavaDemo</a> contains a minimal example."}],"answers":[{"tags":[],"owner":{"account_id":1571062,"reputation":5218,"user_id":1458738,"accept_rate":78,"display_name":"Sal"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1539350734,"creation_date":1510935868,"answer_id":47355092,"question_id":47355038,"body_markdown":"*Disclaimer: The code samples below in no way represent best practices and are only presented as a rough how-to.*\r\n\r\n**Dependencies:**\r\n\r\n - parquet-avro (1.9.0) : https://mvnrepository.com/artifact/org.apache.parquet/parquet-avro/1.9.0 (We use 1.9.0 because this version uses Avro 1.8+ which supports Decimals and Dates)\r\n - hadoop-aws (2.8.2) [If you don&#39;t plan on writing to S3 you won&#39;t need this but you will need to add several other dependencies that normally get added thanks to this. I will not cover that scenario. So even if you&#39;re going to generate Parquet files only on your local disk, you can still add this to your project as a dependency]: https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws/2.8.2 (We use this because it was the latest version at the time)\r\n - Hadoop 2.8.1: https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1 (We use 2.8.X because it needs to match the hadoop libraries used in the parquet-avro and hadoop-aws dependencies) \r\n\r\nI&#39;ll be using **NetBeans** as my IDE.\r\n\r\nSome info regarding parquet in Java (For noobs such as me):\r\n\r\n - In order to serialize your data into parquet, you must choose one of the popular Java data serialization frameworks: Avro, Protocol Buffers or Thrift (I&#39;ll be using Avro (1.8.0), as can be seen from our parquet-avro dependency)\r\n - You will need to use an IDE that supports Maven. This is because the dependencies above have a lot of dependencies of their own. Maven will automatically download those for you (like NuGet for VisualStudio)\r\n\r\n**Pre-requisite:**\r\n\r\nYou must have hadoop on the windows machine that will be running the Java code. The good news is you don&#39;t need to install the entire hadoop software, rather you need only two files:\r\n\r\n - hadoop.dll\r\n - winutils.exe \r\n\r\nThese can be downloaded [here][1]. You will need version 2.8.1 for this example (due to parquet-avro 1.9.0). \r\n\r\n 1. Copy these files to **C:\\hadoop-2.8.1\\bin** on the target machine.\r\n 2. Add a new System Variable (not user variable) called: **HADOOP_HOME** with the value **C:\\hadoop-2.8.1**\r\n\r\n    [![systemvariable][2]][2]\r\n\r\n 3. Modify the System **Path** variable (not user variable) and add the following to the end: **%HADOOP_HOME%\\bin**\r\n 4. Restart the machine for changes to take affect.\r\n\r\nIf this config was not done properly you will get the following error at run-time: `java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z`\r\n\r\n**Getting Started with Coding:**\r\n\r\n - First create a new empty Maven Project and add parquet-avro 1.9.0 and hadoop-aws 2.8.2 as dependencies:[![dependency][3]][3]\r\n - Create your main class where you can write some code\r\n - First thing is you need to generate a **Schema**. Now as far as I can tell there is no way you can generate a schema programmatically at run-time. the **Schema.Parser** class&#39; *parse()* method only takes a file or a string literal as a parameter and doesn&#39;t let you modify the schema once it is created.\r\nTo circumvent this I am generating my Schema JSON at run time and parsing that. Below is an example Schema:\r\n\r\n    &lt;pre&gt;&lt;code&gt;String schema = &quot;{\\&quot;namespace\\&quot;: \\&quot;org.myorganization.mynamespace\\&quot;,&quot; //Not used in Parquet, can put anything\r\n\t\t+ &quot;\\&quot;type\\&quot;: \\&quot;record\\&quot;,&quot; //Must be set as record\r\n\t\t+ &quot;\\&quot;name\\&quot;: \\&quot;myrecordname\\&quot;,&quot; //Not used in Parquet, can put anything\r\n\t\t+ &quot;\\&quot;fields\\&quot;: [&quot;\r\n\t\t+ &quot; {\\&quot;name\\&quot;: \\&quot;myInteger\\&quot;, \\&quot;type\\&quot;: \\&quot;int\\&quot;},&quot; //Required field\r\n\t\t+ &quot; {\\&quot;name\\&quot;: \\&quot;myString\\&quot;,  \\&quot;type\\&quot;: [\\&quot;string\\&quot;, \\&quot;null\\&quot;]},&quot;\r\n\t\t+ &quot; {\\&quot;name\\&quot;: \\&quot;myDecimal\\&quot;, \\&quot;type\\&quot;: [{\\&quot;type\\&quot;: \\&quot;fixed\\&quot;, \\&quot;size\\&quot;:16, \\&quot;logicalType\\&quot;: \\&quot;decimal\\&quot;, \\&quot;name\\&quot;: \\&quot;mydecimaltype1\\&quot;, \\&quot;precision\\&quot;: 32, \\&quot;scale\\&quot;: 4}, \\&quot;null\\&quot;]},&quot;\r\n\t\t+ &quot; {\\&quot;name\\&quot;: \\&quot;myDate\\&quot;, \\&quot;type\\&quot;: [{\\&quot;type\\&quot;: \\&quot;int\\&quot;, \\&quot;logicalType\\&quot; : \\&quot;date\\&quot;}, \\&quot;null\\&quot;]}&quot;\r\n\t\t+ &quot; ]}&quot;;\r\n    Parser parser = new Schema.Parser().setValidate(true);\r\n    Schema avroSchema = parser.parse(schema);\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\n    Details on Avro schema can be found here: https://avro.apache.org/docs/1.8.0/spec.html\r\n\r\n - Next we can start generating records (Avro primitive types are simple):\r\n\r\n    &lt;pre&gt;&lt;code&gt;GenericData.Record record = new GenericData.Record(avroSchema);\r\n    record.put(&quot;myInteger&quot;, 1);\r\n    record.put(&quot;myString&quot;, &quot;string value 1&quot;);\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\n- In order to generate a decimal logical type a **fixed** or **bytes** primitive type must be used as the actual data type for storage. The current Parquet format only supports Fixed length byte arrays (aka: `fixed_len_byte_array`). So we have to use **fixed** in our case as well (as can be seen in the schema). In Java we must use `BigDecimal` in order to truly handle decimals. And I&#39;ve identified that a `Decimal(32,4)` will not take more than 16 bytes no matter the value. So we will use a standard byte array size of 16 in our serialization below (and in the schema above):\r\n\r\n    &lt;pre&gt;&lt;code&gt;BigDecimal myDecimalValue = new BigDecimal(&quot;99.9999&quot;);\r\n    \r\n    //First we need to make sure the BigDecimal matches our schema scale:\r\n    myDecimalValue = myDecimalValue.setScale(4, RoundingMode.HALF_UP);\r\n    \r\n    //Next we get the decimal value as one BigInteger (like there was no decimal point)\r\n    BigInteger myUnscaledDecimalValue = myDecimalValue.unscaledValue();\r\n    \r\n    //Finally we serialize the integer\r\n    byte[] decimalBytes = myUnscaledDecimalValue.toByteArray();\r\n    \r\n    //We need to create an Avro &#39;Fixed&#39; type and pass the decimal schema once more here:\r\n    GenericData.Fixed fixed = new GenericData.Fixed(new Schema.Parser().parse(&quot;{\\&quot;type\\&quot;: \\&quot;fixed\\&quot;, \\&quot;size\\&quot;:16, \\&quot;precision\\&quot;: 32, \\&quot;scale\\&quot;: 4, \\&quot;name\\&quot;:\\&quot;mydecimaltype1\\&quot;}&quot;));\r\n    \r\n    byte[] myDecimalBuffer = new byte[16];\r\n    if (myDecimalBuffer.length &gt;= decimalBytes.length) {            \r\n\t\t//Because we set our fixed byte array size as 16 bytes, we need to\r\n\t\t//pad-left our original value&#39;s bytes with zeros\r\n\t\tint myDecimalBufferIndex = myDecimalBuffer.length - 1;\r\n\t\tfor(int i = decimalBytes.length - 1; i &gt;= 0; i--){\r\n\t\t\tmyDecimalBuffer[myDecimalBufferIndex] = decimalBytes[i];\r\n\t\t\tmyDecimalBufferIndex--;\r\n\t\t}\r\n\t\t//Save result\r\n\t\tfixed.bytes(myDecimalBuffer);\r\n\t} else {\r\n\t\tthrow new IllegalArgumentException(String.format(&quot;Decimal size: %d was greater than the allowed max: %d&quot;, decimalBytes.length, myDecimalBuffer.length));\r\n\t}\r\n    \r\n    //We can finally write our decimal to our record\r\n    record.put(&quot;myDecimal&quot;, fixed);\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\n - For Date values, Avro specifies that we need to save the number of days since EPOCH as an integer. (If you need the time component as well, such as an actual DateTime type, you need to use the **Timestamp** Avro type, which I will not cover). \r\nThe easiest way I found to get the number of days since epoch is using the [joda-time][4] library. If you added the **hadoop-aws** dependency to your project you should already have this library. If not you will need to add it yourself:\r\n\r\n    &lt;pre&gt;&lt;code&gt;//Get epoch value\r\n    MutableDateTime epoch = new MutableDateTime(0l, DateTimeZone.UTC);\r\n    \r\n    DateTime currentDate = new DateTime(); //Can take Java Date in constructor\r\n    Days days = Days.daysBetween(epoch, currentDate);\r\n    \r\n    //We can write number of days since epoch into the record\r\n    record.put(&quot;myDate&quot;, days.getDays());\r\n    &lt;/code&gt;&lt;/pre&gt;\r\n\r\n - We finally can start writing our parquet file as such\r\n\r\n    &lt;pre&gt;&lt;code&gt;try {\r\n       Configuration conf = new Configuration();\r\n       conf.set(&quot;fs.s3a.access.key&quot;, &quot;ACCESSKEY&quot;);\r\n       conf.set(&quot;fs.s3a.secret.key&quot;, &quot;SECRETKEY&quot;);\r\n       //Below are some other helpful settings\r\n       //conf.set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;);\r\n       //conf.set(&quot;fs.s3a.aws.credentials.provider&quot;, &quot;org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider&quot;);\r\n       //conf.set(&quot;fs.hdfs.impl&quot;, org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()); // Not needed unless you reference the hadoop-hdfs library.\r\n       //conf.set(&quot;fs.file.impl&quot;, org.apache.hadoop.fs.LocalFileSystem.class.getName()); // Uncomment if you get &quot;No FileSystem for scheme: file&quot; errors\r\n    \r\n       Path path = new Path(&quot;s3a://your-bucket-name/examplefolder/data.parquet&quot;);\r\n    \r\n       //Use path below to save to local file system instead\r\n       //Path path = new Path(&quot;data.parquet&quot;);\r\n    \r\n       try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter.&lt;GenericData.Record&gt;builder(path)\r\n    \t\t   .withSchema(avroSchema)\r\n    \t\t   .withCompressionCodec(CompressionCodecName.GZIP)\r\n    \t\t   .withConf(conf)\r\n    \t\t   .withPageSize(4 * 1024 * 1024) //For compression\r\n    \t\t   .withRowGroupSize(16 * 1024 * 1024) //For write buffering (Page size)\r\n    \t\t   .build()) {\r\n    \t   //We only have one record to write in our example\r\n    \t   writer.write(record);\r\n       }\r\n    } catch (Exception ex) { ex.printStackTrace(System.out); }&lt;/code&gt;&lt;/pre&gt;\r\n\r\n - Here is the data loaded into Apache Spark (2.2.0):\r\n [![spark][5]][5]\r\n\r\nAnd for your convenience, the entire source code:\r\n\r\n    \r\n    package com.mycompany.stackoverflow;\r\n    \r\n    import java.math.BigDecimal;\r\n    import java.math.BigInteger;\r\n    import java.math.RoundingMode;\r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.generic.GenericData;\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.parquet.avro.AvroParquetWriter;\r\n    import org.apache.parquet.hadoop.ParquetWriter;\r\n    import org.apache.parquet.hadoop.metadata.CompressionCodecName;\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.DateTimeZone;\r\n    import org.joda.time.Days;\r\n    import org.joda.time.MutableDateTime;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Start&quot;);\r\n            \r\n            String schema = &quot;{\\&quot;namespace\\&quot;: \\&quot;org.myorganization.mynamespace\\&quot;,&quot; //Not used in Parquet, can put anything\r\n                    + &quot;\\&quot;type\\&quot;: \\&quot;record\\&quot;,&quot; //Must be set as record\r\n                    + &quot;\\&quot;name\\&quot;: \\&quot;myrecordname\\&quot;,&quot; //Not used in Parquet, can put anything\r\n                    + &quot;\\&quot;fields\\&quot;: [&quot;\r\n                    + &quot; {\\&quot;name\\&quot;: \\&quot;myInteger\\&quot;, \\&quot;type\\&quot;: \\&quot;int\\&quot;},&quot; //Required field\r\n                    + &quot; {\\&quot;name\\&quot;: \\&quot;myString\\&quot;,  \\&quot;type\\&quot;: [\\&quot;string\\&quot;, \\&quot;null\\&quot;]},&quot;\r\n                    + &quot; {\\&quot;name\\&quot;: \\&quot;myDecimal\\&quot;, \\&quot;type\\&quot;: [{\\&quot;type\\&quot;: \\&quot;fixed\\&quot;, \\&quot;size\\&quot;:16, \\&quot;logicalType\\&quot;: \\&quot;decimal\\&quot;, \\&quot;name\\&quot;: \\&quot;mydecimaltype1\\&quot;, \\&quot;precision\\&quot;: 32, \\&quot;scale\\&quot;: 4}, \\&quot;null\\&quot;]},&quot;\r\n                    + &quot; {\\&quot;name\\&quot;: \\&quot;myDate\\&quot;, \\&quot;type\\&quot;: [{\\&quot;type\\&quot;: \\&quot;int\\&quot;, \\&quot;logicalType\\&quot; : \\&quot;date\\&quot;}, \\&quot;null\\&quot;]}&quot;\r\n                    + &quot; ]}&quot;;\r\n            \r\n            Schema.Parser parser = new Schema.Parser().setValidate(true);\r\n            Schema avroSchema = parser.parse(schema);\r\n                    \r\n            GenericData.Record record = new GenericData.Record(avroSchema);\r\n            record.put(&quot;myInteger&quot;, 1);\r\n            record.put(&quot;myString&quot;, &quot;string value 1&quot;);\r\n            \r\n            BigDecimal myDecimalValue = new BigDecimal(&quot;99.9999&quot;);\r\n            \r\n            //First we need to make sure the huge decimal matches our schema scale:\r\n            myDecimalValue = myDecimalValue.setScale(4, RoundingMode.HALF_UP);\r\n            \r\n            //Next we get the decimal value as one BigInteger (like there was no decimal point)\r\n            BigInteger myUnscaledDecimalValue = myDecimalValue.unscaledValue();\r\n            \r\n            //Finally we serialize the integer\r\n            byte[] decimalBytes = myUnscaledDecimalValue.toByteArray();\r\n            \r\n            //We need to create an Avro &#39;Fixed&#39; type and pass the decimal schema once more here:\r\n            GenericData.Fixed fixed = new GenericData.Fixed(new Schema.Parser().parse(&quot;{\\&quot;type\\&quot;: \\&quot;fixed\\&quot;, \\&quot;size\\&quot;:16, \\&quot;precision\\&quot;: 32, \\&quot;scale\\&quot;: 4, \\&quot;name\\&quot;:\\&quot;mydecimaltype1\\&quot;}&quot;));\r\n            \r\n            byte[] myDecimalBuffer = new byte[16];\r\n            if (myDecimalBuffer.length &gt;= decimalBytes.length) {            \r\n                //Because we set our fixed byte array size as 16 bytes, we need to\r\n                //pad-left our original value&#39;s bytes with zeros\r\n                int myDecimalBufferIndex = myDecimalBuffer.length - 1;\r\n                for(int i = decimalBytes.length - 1; i &gt;= 0; i--){\r\n                    myDecimalBuffer[myDecimalBufferIndex] = decimalBytes[i];\r\n                    myDecimalBufferIndex--;\r\n                }\r\n                \r\n                //Save result\r\n                fixed.bytes(myDecimalBuffer);\r\n            } else {\r\n                throw new IllegalArgumentException(String.format(&quot;Decimal size: %d was greater than the allowed max: %d&quot;, decimalBytes.length, myDecimalBuffer.length));\r\n            }\r\n            \r\n            //We can finally write our decimal to our record\r\n            record.put(&quot;myDecimal&quot;, fixed);\r\n            \r\n            //Get epoch value\r\n            MutableDateTime epoch = new MutableDateTime(0l, DateTimeZone.UTC);\r\n            \r\n            DateTime currentDate = new DateTime(); //Can take Java Date in constructor\r\n            Days days = Days.daysBetween(epoch, currentDate);\r\n            \r\n            //We can write number of days since epoch into the record\r\n            record.put(&quot;myDate&quot;, days.getDays());\r\n            \r\n            try {\r\n               Configuration conf = new Configuration();\r\n               conf.set(&quot;fs.s3a.access.key&quot;, &quot;ACCESSKEY&quot;);\r\n               conf.set(&quot;fs.s3a.secret.key&quot;, &quot;SECRETKEY&quot;);\r\n               //Below are some other helpful settings\r\n               //conf.set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;);\r\n               //conf.set(&quot;fs.s3a.aws.credentials.provider&quot;, &quot;org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider&quot;);\r\n               //conf.set(&quot;fs.hdfs.impl&quot;, org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()); // Not needed unless you reference the hadoop-hdfs library.\r\n               //conf.set(&quot;fs.file.impl&quot;, org.apache.hadoop.fs.LocalFileSystem.class.getName()); // Uncomment if you get &quot;No FileSystem for scheme: file&quot; errors.\r\n    \r\n               Path path = new Path(&quot;s3a://your-bucket-name/examplefolder/data.parquet&quot;);\r\n    \r\n               //Use path below to save to local file system instead\r\n               //Path path = new Path(&quot;data.parquet&quot;);\r\n    \r\n               try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter.&lt;GenericData.Record&gt;builder(path)\r\n                       .withSchema(avroSchema)\r\n                       .withCompressionCodec(CompressionCodecName.GZIP)\r\n                       .withConf(conf)\r\n                       .withPageSize(4 * 1024 * 1024) //For compression\r\n                       .withRowGroupSize(16 * 1024 * 1024) //For write buffering (Page size)\r\n                       .build()) {\r\n    \r\n                   //We only have one record to write in our example\r\n                   writer.write(record);\r\n               }\r\n            } catch (Exception ex) { \r\n                ex.printStackTrace(System.out);\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n\r\n  [1]: https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1\r\n  [2]: https://i.stack.imgur.com/Ci3Dc.png\r\n  [3]: https://i.stack.imgur.com/KXHFu.png\r\n  [4]: https://mvnrepository.com/artifact/joda-time/joda-time/2.9.4\r\n  [5]: https://i.stack.imgur.com/f8Xlv.png\r\n","title":"How to Generate Parquet File Using Pure Java (Including Date &amp; Decimal Types) And Upload to S3 [Windows] (No HDFS)","body":"<p><em>Disclaimer: The code samples below in no way represent best practices and are only presented as a rough how-to.</em></p>\n\n<p><strong>Dependencies:</strong></p>\n\n<ul>\n<li>parquet-avro (1.9.0) : <a href=\"https://mvnrepository.com/artifact/org.apache.parquet/parquet-avro/1.9.0\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.parquet/parquet-avro/1.9.0</a> (We use 1.9.0 because this version uses Avro 1.8+ which supports Decimals and Dates)</li>\n<li>hadoop-aws (2.8.2) [If you don't plan on writing to S3 you won't need this but you will need to add several other dependencies that normally get added thanks to this. I will not cover that scenario. So even if you're going to generate Parquet files only on your local disk, you can still add this to your project as a dependency]: <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws/2.8.2\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws/2.8.2</a> (We use this because it was the latest version at the time)</li>\n<li>Hadoop 2.8.1: <a href=\"https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1\" rel=\"noreferrer\">https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1</a> (We use 2.8.X because it needs to match the hadoop libraries used in the parquet-avro and hadoop-aws dependencies) </li>\n</ul>\n\n<p>I'll be using <strong>NetBeans</strong> as my IDE.</p>\n\n<p>Some info regarding parquet in Java (For noobs such as me):</p>\n\n<ul>\n<li>In order to serialize your data into parquet, you must choose one of the popular Java data serialization frameworks: Avro, Protocol Buffers or Thrift (I'll be using Avro (1.8.0), as can be seen from our parquet-avro dependency)</li>\n<li>You will need to use an IDE that supports Maven. This is because the dependencies above have a lot of dependencies of their own. Maven will automatically download those for you (like NuGet for VisualStudio)</li>\n</ul>\n\n<p><strong>Pre-requisite:</strong></p>\n\n<p>You must have hadoop on the windows machine that will be running the Java code. The good news is you don't need to install the entire hadoop software, rather you need only two files:</p>\n\n<ul>\n<li>hadoop.dll</li>\n<li>winutils.exe </li>\n</ul>\n\n<p>These can be downloaded <a href=\"https://github.com/steveloughran/winutils/tree/master/hadoop-2.8.1\" rel=\"noreferrer\">here</a>. You will need version 2.8.1 for this example (due to parquet-avro 1.9.0). </p>\n\n<ol>\n<li>Copy these files to <strong>C:\\hadoop-2.8.1\\bin</strong> on the target machine.</li>\n<li><p>Add a new System Variable (not user variable) called: <strong>HADOOP_HOME</strong> with the value <strong>C:\\hadoop-2.8.1</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ci3Dc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ci3Dc.png\" alt=\"systemvariable\"></a></p></li>\n<li><p>Modify the System <strong>Path</strong> variable (not user variable) and add the following to the end: <strong>%HADOOP_HOME%\\bin</strong></p></li>\n<li>Restart the machine for changes to take affect.</li>\n</ol>\n\n<p>If this config was not done properly you will get the following error at run-time: <code>java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z</code></p>\n\n<p><strong>Getting Started with Coding:</strong></p>\n\n<ul>\n<li>First create a new empty Maven Project and add parquet-avro 1.9.0 and hadoop-aws 2.8.2 as dependencies:<a href=\"https://i.stack.imgur.com/KXHFu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KXHFu.png\" alt=\"dependency\"></a></li>\n<li>Create your main class where you can write some code</li>\n<li><p>First thing is you need to generate a <strong>Schema</strong>. Now as far as I can tell there is no way you can generate a schema programmatically at run-time. the <strong>Schema.Parser</strong> class' <em>parse()</em> method only takes a file or a string literal as a parameter and doesn't let you modify the schema once it is created.\nTo circumvent this I am generating my Schema JSON at run time and parsing that. Below is an example Schema:</p>\n\n<pre><code>String schema = \"{\\\"namespace\\\": \\\"org.myorganization.mynamespace\\\",\" //Not used in Parquet, can put anything\n    + \"\\\"type\\\": \\\"record\\\",\" //Must be set as record\n    + \"\\\"name\\\": \\\"myrecordname\\\",\" //Not used in Parquet, can put anything\n    + \"\\\"fields\\\": [\"\n    + \" {\\\"name\\\": \\\"myInteger\\\", \\\"type\\\": \\\"int\\\"},\" //Required field\n    + \" {\\\"name\\\": \\\"myString\\\",  \\\"type\\\": [\\\"string\\\", \\\"null\\\"]},\"\n    + \" {\\\"name\\\": \\\"myDecimal\\\", \\\"type\\\": [{\\\"type\\\": \\\"fixed\\\", \\\"size\\\":16, \\\"logicalType\\\": \\\"decimal\\\", \\\"name\\\": \\\"mydecimaltype1\\\", \\\"precision\\\": 32, \\\"scale\\\": 4}, \\\"null\\\"]},\"\n    + \" {\\\"name\\\": \\\"myDate\\\", \\\"type\\\": [{\\\"type\\\": \\\"int\\\", \\\"logicalType\\\" : \\\"date\\\"}, \\\"null\\\"]}\"\n    + \" ]}\";\nParser parser = new Schema.Parser().setValidate(true);\nSchema avroSchema = parser.parse(schema);\n</code></pre>\n\n<p>Details on Avro schema can be found here: <a href=\"https://avro.apache.org/docs/1.8.0/spec.html\" rel=\"noreferrer\">https://avro.apache.org/docs/1.8.0/spec.html</a></p></li>\n<li><p>Next we can start generating records (Avro primitive types are simple):</p>\n\n<pre><code>GenericData.Record record = new GenericData.Record(avroSchema);\nrecord.put(\"myInteger\", 1);\nrecord.put(\"myString\", \"string value 1\");\n</code></pre>\n\n<ul>\n<li>In order to generate a decimal logical type a <strong>fixed</strong> or <strong>bytes</strong> primitive type must be used as the actual data type for storage. The current Parquet format only supports Fixed length byte arrays (aka: <code>fixed_len_byte_array</code>). So we have to use <strong>fixed</strong> in our case as well (as can be seen in the schema). In Java we must use <code>BigDecimal</code> in order to truly handle decimals. And I've identified that a <code>Decimal(32,4)</code> will not take more than 16 bytes no matter the value. So we will use a standard byte array size of 16 in our serialization below (and in the schema above):</li>\n</ul>\n\n<pre><code>BigDecimal myDecimalValue = new BigDecimal(\"99.9999\");\n\n//First we need to make sure the BigDecimal matches our schema scale:\nmyDecimalValue = myDecimalValue.setScale(4, RoundingMode.HALF_UP);\n\n//Next we get the decimal value as one BigInteger (like there was no decimal point)\nBigInteger myUnscaledDecimalValue = myDecimalValue.unscaledValue();\n\n//Finally we serialize the integer\nbyte[] decimalBytes = myUnscaledDecimalValue.toByteArray();\n\n//We need to create an Avro 'Fixed' type and pass the decimal schema once more here:\nGenericData.Fixed fixed = new GenericData.Fixed(new Schema.Parser().parse(\"{\\\"type\\\": \\\"fixed\\\", \\\"size\\\":16, \\\"precision\\\": 32, \\\"scale\\\": 4, \\\"name\\\":\\\"mydecimaltype1\\\"}\"));\n\nbyte[] myDecimalBuffer = new byte[16];\nif (myDecimalBuffer.length >= decimalBytes.length) {            \n    //Because we set our fixed byte array size as 16 bytes, we need to\n    //pad-left our original value's bytes with zeros\n    int myDecimalBufferIndex = myDecimalBuffer.length - 1;\n    for(int i = decimalBytes.length - 1; i >= 0; i--){\n        myDecimalBuffer[myDecimalBufferIndex] = decimalBytes[i];\n        myDecimalBufferIndex--;\n    }\n    //Save result\n    fixed.bytes(myDecimalBuffer);\n} else {\n    throw new IllegalArgumentException(String.format(\"Decimal size: %d was greater than the allowed max: %d\", decimalBytes.length, myDecimalBuffer.length));\n}\n\n//We can finally write our decimal to our record\nrecord.put(\"myDecimal\", fixed);\n</code></pre></li>\n<li><p>For Date values, Avro specifies that we need to save the number of days since EPOCH as an integer. (If you need the time component as well, such as an actual DateTime type, you need to use the <strong>Timestamp</strong> Avro type, which I will not cover). \nThe easiest way I found to get the number of days since epoch is using the <a href=\"https://mvnrepository.com/artifact/joda-time/joda-time/2.9.4\" rel=\"noreferrer\">joda-time</a> library. If you added the <strong>hadoop-aws</strong> dependency to your project you should already have this library. If not you will need to add it yourself:</p>\n\n<pre><code>//Get epoch value\nMutableDateTime epoch = new MutableDateTime(0l, DateTimeZone.UTC);\n\nDateTime currentDate = new DateTime(); //Can take Java Date in constructor\nDays days = Days.daysBetween(epoch, currentDate);\n\n//We can write number of days since epoch into the record\nrecord.put(\"myDate\", days.getDays());\n</code></pre></li>\n<li><p>We finally can start writing our parquet file as such</p>\n\n<pre><code>try {\n   Configuration conf = new Configuration();\n   conf.set(\"fs.s3a.access.key\", \"ACCESSKEY\");\n   conf.set(\"fs.s3a.secret.key\", \"SECRETKEY\");\n   //Below are some other helpful settings\n   //conf.set(\"fs.s3a.endpoint\", \"s3.amazonaws.com\");\n   //conf.set(\"fs.s3a.aws.credentials.provider\", \"org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider\");\n   //conf.set(\"fs.hdfs.impl\", org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()); // Not needed unless you reference the hadoop-hdfs library.\n   //conf.set(\"fs.file.impl\", org.apache.hadoop.fs.LocalFileSystem.class.getName()); // Uncomment if you get \"No FileSystem for scheme: file\" errors\n\n   Path path = new Path(\"s3a://your-bucket-name/examplefolder/data.parquet\");\n\n   //Use path below to save to local file system instead\n   //Path path = new Path(\"data.parquet\");\n\n   try (ParquetWriter writer = AvroParquetWriter.builder(path)\n           .withSchema(avroSchema)\n           .withCompressionCodec(CompressionCodecName.GZIP)\n           .withConf(conf)\n           .withPageSize(4 * 1024 * 1024) //For compression\n           .withRowGroupSize(16 * 1024 * 1024) //For write buffering (Page size)\n           .build()) {\n       //We only have one record to write in our example\n       writer.write(record);\n   }\n} catch (Exception ex) { ex.printStackTrace(System.out); }</code></pre></li>\n<li><p>Here is the data loaded into Apache Spark (2.2.0):\n<a href=\"https://i.stack.imgur.com/f8Xlv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f8Xlv.png\" alt=\"spark\"></a></p></li>\n</ul>\n\n<p>And for your convenience, the entire source code:</p>\n\n<pre><code>package com.mycompany.stackoverflow;\n\nimport java.math.BigDecimal;\nimport java.math.BigInteger;\nimport java.math.RoundingMode;\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.parquet.avro.AvroParquetWriter;\nimport org.apache.parquet.hadoop.ParquetWriter;\nimport org.apache.parquet.hadoop.metadata.CompressionCodecName;\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\nimport org.joda.time.Days;\nimport org.joda.time.MutableDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(\"Start\");\n\n        String schema = \"{\\\"namespace\\\": \\\"org.myorganization.mynamespace\\\",\" //Not used in Parquet, can put anything\n                + \"\\\"type\\\": \\\"record\\\",\" //Must be set as record\n                + \"\\\"name\\\": \\\"myrecordname\\\",\" //Not used in Parquet, can put anything\n                + \"\\\"fields\\\": [\"\n                + \" {\\\"name\\\": \\\"myInteger\\\", \\\"type\\\": \\\"int\\\"},\" //Required field\n                + \" {\\\"name\\\": \\\"myString\\\",  \\\"type\\\": [\\\"string\\\", \\\"null\\\"]},\"\n                + \" {\\\"name\\\": \\\"myDecimal\\\", \\\"type\\\": [{\\\"type\\\": \\\"fixed\\\", \\\"size\\\":16, \\\"logicalType\\\": \\\"decimal\\\", \\\"name\\\": \\\"mydecimaltype1\\\", \\\"precision\\\": 32, \\\"scale\\\": 4}, \\\"null\\\"]},\"\n                + \" {\\\"name\\\": \\\"myDate\\\", \\\"type\\\": [{\\\"type\\\": \\\"int\\\", \\\"logicalType\\\" : \\\"date\\\"}, \\\"null\\\"]}\"\n                + \" ]}\";\n\n        Schema.Parser parser = new Schema.Parser().setValidate(true);\n        Schema avroSchema = parser.parse(schema);\n\n        GenericData.Record record = new GenericData.Record(avroSchema);\n        record.put(\"myInteger\", 1);\n        record.put(\"myString\", \"string value 1\");\n\n        BigDecimal myDecimalValue = new BigDecimal(\"99.9999\");\n\n        //First we need to make sure the huge decimal matches our schema scale:\n        myDecimalValue = myDecimalValue.setScale(4, RoundingMode.HALF_UP);\n\n        //Next we get the decimal value as one BigInteger (like there was no decimal point)\n        BigInteger myUnscaledDecimalValue = myDecimalValue.unscaledValue();\n\n        //Finally we serialize the integer\n        byte[] decimalBytes = myUnscaledDecimalValue.toByteArray();\n\n        //We need to create an Avro 'Fixed' type and pass the decimal schema once more here:\n        GenericData.Fixed fixed = new GenericData.Fixed(new Schema.Parser().parse(\"{\\\"type\\\": \\\"fixed\\\", \\\"size\\\":16, \\\"precision\\\": 32, \\\"scale\\\": 4, \\\"name\\\":\\\"mydecimaltype1\\\"}\"));\n\n        byte[] myDecimalBuffer = new byte[16];\n        if (myDecimalBuffer.length &gt;= decimalBytes.length) {            \n            //Because we set our fixed byte array size as 16 bytes, we need to\n            //pad-left our original value's bytes with zeros\n            int myDecimalBufferIndex = myDecimalBuffer.length - 1;\n            for(int i = decimalBytes.length - 1; i &gt;= 0; i--){\n                myDecimalBuffer[myDecimalBufferIndex] = decimalBytes[i];\n                myDecimalBufferIndex--;\n            }\n\n            //Save result\n            fixed.bytes(myDecimalBuffer);\n        } else {\n            throw new IllegalArgumentException(String.format(\"Decimal size: %d was greater than the allowed max: %d\", decimalBytes.length, myDecimalBuffer.length));\n        }\n\n        //We can finally write our decimal to our record\n        record.put(\"myDecimal\", fixed);\n\n        //Get epoch value\n        MutableDateTime epoch = new MutableDateTime(0l, DateTimeZone.UTC);\n\n        DateTime currentDate = new DateTime(); //Can take Java Date in constructor\n        Days days = Days.daysBetween(epoch, currentDate);\n\n        //We can write number of days since epoch into the record\n        record.put(\"myDate\", days.getDays());\n\n        try {\n           Configuration conf = new Configuration();\n           conf.set(\"fs.s3a.access.key\", \"ACCESSKEY\");\n           conf.set(\"fs.s3a.secret.key\", \"SECRETKEY\");\n           //Below are some other helpful settings\n           //conf.set(\"fs.s3a.endpoint\", \"s3.amazonaws.com\");\n           //conf.set(\"fs.s3a.aws.credentials.provider\", \"org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider\");\n           //conf.set(\"fs.hdfs.impl\", org.apache.hadoop.hdfs.DistributedFileSystem.class.getName()); // Not needed unless you reference the hadoop-hdfs library.\n           //conf.set(\"fs.file.impl\", org.apache.hadoop.fs.LocalFileSystem.class.getName()); // Uncomment if you get \"No FileSystem for scheme: file\" errors.\n\n           Path path = new Path(\"s3a://your-bucket-name/examplefolder/data.parquet\");\n\n           //Use path below to save to local file system instead\n           //Path path = new Path(\"data.parquet\");\n\n           try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter.&lt;GenericData.Record&gt;builder(path)\n                   .withSchema(avroSchema)\n                   .withCompressionCodec(CompressionCodecName.GZIP)\n                   .withConf(conf)\n                   .withPageSize(4 * 1024 * 1024) //For compression\n                   .withRowGroupSize(16 * 1024 * 1024) //For write buffering (Page size)\n                   .build()) {\n\n               //We only have one record to write in our example\n               writer.write(record);\n           }\n        } catch (Exception ex) { \n            ex.printStackTrace(System.out);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700135317,"creation_date":1700135317,"answer_id":77494542,"question_id":47355038,"body_markdown":"I&#39;ve spent some time with this approach and I have found an alternative approach using [DuckDB][1]. It is creating an in-memory table and exports it to a parquet file.\r\n\r\nDependencies (that&#39;s it!)\r\n```groovy\r\nimplementation &#39;org.duckdb:duckdb_jdbc:0.9.2&#39;\r\n```\r\n\r\nCode example (simplest possible):\r\n```java\r\n        Connection conn = DriverManager.getConnection(&quot;jdbc:duckdb:&quot;);\r\n        try(Statement stmt = conn.createStatement()) {\r\n            stmt.execute(&quot;CREATE TABLE items (item VARCHAR, value DECIMAL(10, 2), count INTEGER)&quot;);\r\n            stmt.execute(&quot;INSERT INTO items VALUES (&#39;jeans&#39;, 20.0, 1), (&#39;hammer&#39;, 42.2, 2)&quot;);\r\n            stmt.execute(&quot;COPY items TO &#39;output2.parquet&#39; (FORMAT PARQUET);&quot;);\r\n        }\r\n```\r\n\r\nUploading a file to s3 should be easy, but there is a [built-in support in DuckDB as well][2].\r\n\r\n\r\n  [1]: https://duckdb.org/\r\n  [2]: https://duckdb.org/docs/archive/0.9.2/guides/import/s3_export","title":"How to Generate Parquet File Using Pure Java (Including Date &amp; Decimal Types) And Upload to S3 [Windows] (No HDFS)","body":"<p>I've spent some time with this approach and I have found an alternative approach using <a href=\"https://duckdb.org/\" rel=\"nofollow noreferrer\">DuckDB</a>. It is creating an in-memory table and exports it to a parquet file.</p>\n<p>Dependencies (that's it!)</p>\n<pre><code>implementation 'org.duckdb:duckdb_jdbc:0.9.2'\n</code></pre>\n<p>Code example (simplest possible):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Connection conn = DriverManager.getConnection(&quot;jdbc:duckdb:&quot;);\n        try(Statement stmt = conn.createStatement()) {\n            stmt.execute(&quot;CREATE TABLE items (item VARCHAR, value DECIMAL(10, 2), count INTEGER)&quot;);\n            stmt.execute(&quot;INSERT INTO items VALUES ('jeans', 20.0, 1), ('hammer', 42.2, 2)&quot;);\n            stmt.execute(&quot;COPY items TO 'output2.parquet' (FORMAT PARQUET);&quot;);\n        }\n</code></pre>\n<p>Uploading a file to s3 should be easy, but there is a <a href=\"https://duckdb.org/docs/archive/0.9.2/guides/import/s3_export\" rel=\"nofollow noreferrer\">built-in support in DuckDB as well</a>.</p>\n"}],"owner":{"account_id":1571062,"reputation":5218,"user_id":1458738,"accept_rate":78,"display_name":"Sal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23842,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":47355092,"answer_count":2,"score":10,"last_activity_date":1700135317,"creation_date":1510935677,"question_id":47355038,"body_markdown":"I recently had a requirement where I needed to generate Parquet files that could be read by Apache Spark using only Java (Using no additional software installations such as: Apache Drill, Hive, Spark, etc.). The files needed to be saved to S3 so I will be sharing details on how to do both.\r\n\r\nThere were no simple to follow guides on how to do this. I&#39;m also not a Java programmer so the concepts of using Maven, Hadoop, etc. were all foreign to me. So it took me nearly two weeks to get this working. I&#39;d like to share my personal guide below on how I achieved this\r\n","title":"How to Generate Parquet File Using Pure Java (Including Date &amp; Decimal Types) And Upload to S3 [Windows] (No HDFS)","body":"<p>I recently had a requirement where I needed to generate Parquet files that could be read by Apache Spark using only Java (Using no additional software installations such as: Apache Drill, Hive, Spark, etc.). The files needed to be saved to S3 so I will be sharing details on how to do both.</p>\n\n<p>There were no simple to follow guides on how to do this. I'm also not a Java programmer so the concepts of using Maven, Hadoop, etc. were all foreign to me. So it took me nearly two weeks to get this working. I'd like to share my personal guide below on how I achieved this</p>\n"},{"tags":["java","generics","reflection"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700139055,"post_id":77494391,"comment_id":136619394,"body_markdown":"Calling `setAccessible(true)` on a `Field` only affects that `Field` object and attempts to access the underlying field through that object. It does not magically make the field generally accessible.","body":"Calling <code>setAccessible(true)</code> on a <code>Field</code> only affects that <code>Field</code> object and attempts to access the underlying field through that object. It does not magically make the field generally accessible."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700134653,"creation_date":1700134653,"answer_id":77494483,"question_id":77494391,"body_markdown":"Yes, that means your code will not work on any modularized (as in, `module-info.java`, that specific kind of modularized) system running on JVM21 and up.\r\n\r\nIf module A does not expose some element to module B (usually because it doesn&#39;t export that at all, possibly because A only exports it to an explicitly enumerated list of modules), then `.setAccessible` doesn&#39;t work, and nothing will short of `--add-opens` switches when starting `java`.\r\n\r\nMore generally &#39;print all fields of an object&#39; is breaking encapsulation rules that you shouldn&#39;t be breaking - java is not that kind of language. If you want to &#39;print an object&#39;, then the class definition (the `.java` source file containing the `public class Foo` definition representing that class) needs to have a method that does that. If it does not have that method you will have to edit that source file to add it, and if you can&#39;t do that, then you will have to live with it.\r\n\r\nIf the purpose is specifically debugging, you might be better off using the debugger infrastructure (JVMTI - you can search the web for that, or load as an agent, &#39;java agent&#39; is also searchable for tutorials). You&#39;d need completely different code for that, you don&#39;t, generally, use reflection in agents.\r\n","title":"Any issue in setting the accessiblilty of java.lang.reflect Field to true?","body":"<p>Yes, that means your code will not work on any modularized (as in, <code>module-info.java</code>, that specific kind of modularized) system running on JVM21 and up.</p>\n<p>If module A does not expose some element to module B (usually because it doesn't export that at all, possibly because A only exports it to an explicitly enumerated list of modules), then <code>.setAccessible</code> doesn't work, and nothing will short of <code>--add-opens</code> switches when starting <code>java</code>.</p>\n<p>More generally 'print all fields of an object' is breaking encapsulation rules that you shouldn't be breaking - java is not that kind of language. If you want to 'print an object', then the class definition (the <code>.java</code> source file containing the <code>public class Foo</code> definition representing that class) needs to have a method that does that. If it does not have that method you will have to edit that source file to add it, and if you can't do that, then you will have to live with it.</p>\n<p>If the purpose is specifically debugging, you might be better off using the debugger infrastructure (JVMTI - you can search the web for that, or load as an agent, 'java agent' is also searchable for tutorials). You'd need completely different code for that, you don't, generally, use reflection in agents.</p>\n"}],"owner":{"account_id":29198739,"reputation":25,"user_id":22369313,"display_name":"Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77494483,"answer_count":1,"score":0,"last_activity_date":1700134653,"creation_date":1700133700,"question_id":77494391,"body_markdown":"I&#39;m trying to write a generic function to print the individual fields of any object. I&#39;m using java.lang.reflect.Field to get the individual fields in the onject. However the code only works if I set the **accessible** property of that field to true, as highlighted in the code below. My only concern is, would this lead to any issue anywhere else where I&#39;m using the object?\r\n```\r\nField[] fields = MyClass.class.getDeclaredFields();\r\nfor(Field field : fields) {\r\n    try {\r\n        field.setAccessible(true); // Would this lead to any issue anywhere else?\r\n        Object obj = field.get(m); // m is a sample object of MyClass\r\n        System.out.println(&quot;Object: &quot; + obj);\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Illegal Access Exception : &quot; + e);\r\n    }\r\n}\r\n```","title":"Any issue in setting the accessiblilty of java.lang.reflect Field to true?","body":"<p>I'm trying to write a generic function to print the individual fields of any object. I'm using java.lang.reflect.Field to get the individual fields in the onject. However the code only works if I set the <strong>accessible</strong> property of that field to true, as highlighted in the code below. My only concern is, would this lead to any issue anywhere else where I'm using the object?</p>\n<pre><code>Field[] fields = MyClass.class.getDeclaredFields();\nfor(Field field : fields) {\n    try {\n        field.setAccessible(true); // Would this lead to any issue anywhere else?\n        Object obj = field.get(m); // m is a sample object of MyClass\n        System.out.println(&quot;Object: &quot; + obj);\n    } catch (Exception e) {\n        System.out.println(&quot;Illegal Access Exception : &quot; + e);\n    }\n}\n</code></pre>\n"},{"tags":["java","html","tinymce","wicket"],"owner":{"account_id":22093497,"reputation":1,"user_id":16351203,"display_name":"chadouhoney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700133334,"creation_date":1700133334,"question_id":77494353,"body_markdown":"I have a class, let&#39;s say MyRichTextEditor that becomes enriched via TinyMCESettings.\r\n\r\nIside a form, there are 2 fields that use MyRichEditor components. When submitting the form, I want to repaint these components using the addOrReplace() method.  However, after the ajax request, no rich text is on the page. Instead, the initial textArea fields are shown.\r\n\r\n\r\nMyRichEditorClass.java\r\n```\r\npublic class MyRichTextEditor extends TextArea&lt;String&gt; {\r\n\r\n\tprotected TinyMCESettings settings;\r\n\tprivate boolean showToolbar;\r\n\tprivate boolean readOnly;\r\n\r\n\tpublic MyRichTextEditor(String id, boolean showToolbar, boolean readOnly) {\r\n\r\n\t\tsuper(id);\r\n\t\tthis.showToolbar = showToolbar;\r\n\t\tthis.readOnly = readOnly;\r\n\t\tsettings = new TinyMCESettings(TinyMCESettings.Theme.modern);\r\n\t\tsettings.addCustomSetting(&quot;content_style: \\&quot;body { font-family: Verdana,sans-serif; font-size: 15px; }\\&quot;&quot;);\r\n\t\taddSettings();\r\n\t\tadd(new TinyMceBehavior(settings));\r\n\r\n\t}\r\n\r\n\tpublic MyRichTextEditor(String id) {\r\n\r\n\t\tthis(id, true, false);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void onInitialize() {\r\n\r\n\t\tsuper.onInitialize();\r\n\t\tadd(AttributeAppender.append(&quot;class&quot;, &quot;my-rich-text-editor&quot;));\r\n\t\tif (getModelObject() == null) {\r\n\t\t\tsetModelObject(&quot;Insert your text here&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprotected void addSettings() {\r\n\r\n\t\tsettings.setMenuBar(false);\r\n\t\tsettings.addCustomSetting(&quot;force_p_newlines : true&quot;);\r\n\t\tsettings.addCustomSetting(&quot;force_br_newlines : true&quot;);\r\n\t\tsettings.addCustomSetting(&quot;convert_newlines_to_brs : false&quot;);\r\n\t\tsettings.addCustomSetting(&quot;remove_linebreaks : true&quot;);\r\n\r\n\t\tif (showToolbar) {\r\n\t\t\t//@formatter:off\r\n\t\t\t\tString plugins = &quot;advlist autolink autosave link image lists charmap print preview hr anchor pagebreak &quot;\r\n\t\t\t\t\t\t+ &quot;searchreplace  visualblocks visualchars code fullscreen insertdatetime &quot;\r\n\t\t\t\t\t\t+ &quot;table contextmenu directionality emoticons template textcolor paste fullpage colorpicker&quot;;\r\n\r\n\t\t\t\t// @formatter:on  \r\n\t\t\tString[] pluginNames = plugins.split(&quot; &quot;);\r\n\r\n\t\t\tfor (String name : pluginNames) {\r\n\t\t\t\tsettings.addPlugins(name);\r\n\t\t\t}\r\n\r\n\t\t\tsettings.addToolbar(\r\n\t\t\t\tnew Toolbar(\r\n\t\t\t\t\t&quot;toolbar1&quot;,\r\n\t\t\t\t\t&quot;newdocument | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | styleselect formatselect fontselect fontsizeselect&quot;));\r\n\t\t\tsettings.addToolbar(\r\n\t\t\t\tnew Toolbar(\r\n\t\t\t\t\t&quot;toolbar2&quot;,\r\n\t\t\t\t\t&quot;cut copy paste | searchreplace | bullist numlist | outdent indent blockquote | undo redo | link unlink anchor code | inserttime preview | forecolor backcolor&quot;));\r\n\t\t\tsettings.addToolbar(\r\n\t\t\t\tnew Toolbar(\r\n\t\t\t\t\t&quot;toolbar3&quot;,\r\n\t\t\t\t\t&quot;table | hr removeformat | subscript superscript | charmap emoticons | print fullscreen | ltr rtl | nonbreaking  restoredraft&quot;));\r\n\r\n\t\t\tsettings.addCustomSetting(&quot;readonly : &quot; + (readOnly ? &quot;1&quot; : &quot;0&quot;));\r\n\r\n\t\t} else {\r\n\t\t\tsettings.addCustomSetting(&quot;readonly:1&quot;);\r\n\t\t\tsettings.addCustomSetting(&quot;toolbar:false&quot;);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMyPanel.html\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:wicket=&quot;http://wicket.apache.org&quot;&gt;\r\n&lt;body&gt;\r\n&lt;wicket:panel&gt;\r\n    &lt;wicket:extend&gt;\r\n        &lt;form wicket:id=&quot;form&quot;&gt;\r\n\r\n            .\r\n            .\r\n            .\r\n\r\n            \r\n            &lt;wicket:label for=&quot;description&quot;&gt;Request Description&lt;/wicket:label&gt;\r\n            &lt;textarea wicket:id=&quot;description&quot;&gt;&lt;/textarea&gt;\r\n           \r\n\r\n                \r\n            &lt;wicket:label for=&quot;response&quot;&gt;Response&lt;/wicket:label&gt;\r\n            &lt;textarea wicket:id=&quot;response&quot;&gt;&lt;/textarea&gt;\r\n                \r\n\r\n\r\n            .\r\n            .\r\n            .\r\n\r\n        &lt;/form&gt;\r\n\r\n\r\n    &lt;/wicket:extend&gt;\r\n&lt;/wicket:panel&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nMyPanel.java\r\n\r\n```\r\nclass EpikAitimaKentrikisDiacheirisisPanel extends ...{\r\n\r\n\t...\r\n\r\n\tTextArea&lt;String&gt; description, response;\r\n\r\n\r\n\tAjaxSubmitLink btnSave;\r\n\r\n\t\r\n\t@Override\r\n\tprotected void onInitialize() {\r\n\r\n\t\tsuper.onInitialize();\r\n\r\n\t\tform = new CompoundPropertyModelForm&lt;&gt;(&quot;form&quot;, modelObject);\r\n\t\tadd(form);\r\n\r\n                ...\r\n\r\n\t\tpaintDescriptionAndResponseComponents();\r\n\r\n\t\t\r\n\r\n\t\tbtnSave = new AjaxSubmitLink(&quot;btnSave&quot;){\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void οnSubmit(AjaxRequestTarget target) {\r\n\r\n\t\t\t\tbtnSaveOnSubmit(target);\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t\tbtnSave.add(new TinyMceAjaxSubmitModifier());\r\n\t\tform.add(btnSave);\r\n\r\n\t}\r\n\r\n\tprivate void btnSaveOnSubmit(AjaxRequestTarget target) {\r\n\r\n\t\tform.getModelObject().setDescription(org.springframework.web.util.HtmlUtils.htmlUnescape(description.getModelObject()));\r\n\r\n\t\t//save form.getModelObject\r\n                //reload saved object\r\n\r\n\t\tpaintDescriptionAndResponseComponents();\r\n\r\n\t\ttarget.add(form);\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\tprivate void paintDescriptionAndResponseComponents() {\r\n\r\n\t\tdescription= new MyRichTextEditor(&quot;description&quot;, showDescriptionToolbar(), descriptionReadOnly());\r\n\t\tdescription.add(Validators.required());\r\n\t\tdescription.setOutputMarkupPlaceholderTag(true);\r\n\t\tform.addOrReplace(description);\r\n\r\n\t\tresponse= new MyRichTextEditor(&quot;response&quot;, showResponseToolbar(), responseReadOnly());\r\n\t\tresponse.setOutputMarkupPlaceholderTag(true);\r\n\t\tresponse.add(Validators.required());\r\n\t\tform.addOrReplace(response);\r\n\r\n\t}\r\n\r\n\tprivate boolean reponseReadOnly() {\r\n\r\n\t\t...\r\n\t}\r\n\r\n\tprivate boolean showResponseToolbar() {\r\n\r\n\t\t...\r\n\t}\r\n\r\n\tprivate boolean descriptionReadOnly() {\r\n\r\n\t\t...\r\n\r\n\t}\r\n\r\n\tprivate boolean showDescriptionToolbar() {\r\n\r\n\t\t...\r\n\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Problem with TinyMCE on Wicket when using addOrReplace","body":"<p>I have a class, let's say MyRichTextEditor that becomes enriched via TinyMCESettings.</p>\n<p>Iside a form, there are 2 fields that use MyRichEditor components. When submitting the form, I want to repaint these components using the addOrReplace() method.  However, after the ajax request, no rich text is on the page. Instead, the initial textArea fields are shown.</p>\n<p>MyRichEditorClass.java</p>\n<pre><code>public class MyRichTextEditor extends TextArea&lt;String&gt; {\n\n    protected TinyMCESettings settings;\n    private boolean showToolbar;\n    private boolean readOnly;\n\n    public MyRichTextEditor(String id, boolean showToolbar, boolean readOnly) {\n\n        super(id);\n        this.showToolbar = showToolbar;\n        this.readOnly = readOnly;\n        settings = new TinyMCESettings(TinyMCESettings.Theme.modern);\n        settings.addCustomSetting(&quot;content_style: \\&quot;body { font-family: Verdana,sans-serif; font-size: 15px; }\\&quot;&quot;);\n        addSettings();\n        add(new TinyMceBehavior(settings));\n\n    }\n\n    public MyRichTextEditor(String id) {\n\n        this(id, true, false);\n\n    }\n\n    @Override\n    protected void onInitialize() {\n\n        super.onInitialize();\n        add(AttributeAppender.append(&quot;class&quot;, &quot;my-rich-text-editor&quot;));\n        if (getModelObject() == null) {\n            setModelObject(&quot;Insert your text here&quot;);\n        }\n\n    }\n\n    protected void addSettings() {\n\n        settings.setMenuBar(false);\n        settings.addCustomSetting(&quot;force_p_newlines : true&quot;);\n        settings.addCustomSetting(&quot;force_br_newlines : true&quot;);\n        settings.addCustomSetting(&quot;convert_newlines_to_brs : false&quot;);\n        settings.addCustomSetting(&quot;remove_linebreaks : true&quot;);\n\n        if (showToolbar) {\n            //@formatter:off\n                String plugins = &quot;advlist autolink autosave link image lists charmap print preview hr anchor pagebreak &quot;\n                        + &quot;searchreplace  visualblocks visualchars code fullscreen insertdatetime &quot;\n                        + &quot;table contextmenu directionality emoticons template textcolor paste fullpage colorpicker&quot;;\n\n                // @formatter:on  \n            String[] pluginNames = plugins.split(&quot; &quot;);\n\n            for (String name : pluginNames) {\n                settings.addPlugins(name);\n            }\n\n            settings.addToolbar(\n                new Toolbar(\n                    &quot;toolbar1&quot;,\n                    &quot;newdocument | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | styleselect formatselect fontselect fontsizeselect&quot;));\n            settings.addToolbar(\n                new Toolbar(\n                    &quot;toolbar2&quot;,\n                    &quot;cut copy paste | searchreplace | bullist numlist | outdent indent blockquote | undo redo | link unlink anchor code | inserttime preview | forecolor backcolor&quot;));\n            settings.addToolbar(\n                new Toolbar(\n                    &quot;toolbar3&quot;,\n                    &quot;table | hr removeformat | subscript superscript | charmap emoticons | print fullscreen | ltr rtl | nonbreaking  restoredraft&quot;));\n\n            settings.addCustomSetting(&quot;readonly : &quot; + (readOnly ? &quot;1&quot; : &quot;0&quot;));\n\n        } else {\n            settings.addCustomSetting(&quot;readonly:1&quot;);\n            settings.addCustomSetting(&quot;toolbar:false&quot;);\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>MyPanel.html</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:wicket=&quot;http://wicket.apache.org&quot;&gt;\n&lt;body&gt;\n&lt;wicket:panel&gt;\n    &lt;wicket:extend&gt;\n        &lt;form wicket:id=&quot;form&quot;&gt;\n\n            .\n            .\n            .\n\n            \n            &lt;wicket:label for=&quot;description&quot;&gt;Request Description&lt;/wicket:label&gt;\n            &lt;textarea wicket:id=&quot;description&quot;&gt;&lt;/textarea&gt;\n           \n\n                \n            &lt;wicket:label for=&quot;response&quot;&gt;Response&lt;/wicket:label&gt;\n            &lt;textarea wicket:id=&quot;response&quot;&gt;&lt;/textarea&gt;\n                \n\n\n            .\n            .\n            .\n\n        &lt;/form&gt;\n\n\n    &lt;/wicket:extend&gt;\n&lt;/wicket:panel&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>MyPanel.java</p>\n<pre><code>class EpikAitimaKentrikisDiacheirisisPanel extends ...{\n\n    ...\n\n    TextArea&lt;String&gt; description, response;\n\n\n    AjaxSubmitLink btnSave;\n\n    \n    @Override\n    protected void onInitialize() {\n\n        super.onInitialize();\n\n        form = new CompoundPropertyModelForm&lt;&gt;(&quot;form&quot;, modelObject);\n        add(form);\n\n                ...\n\n        paintDescriptionAndResponseComponents();\n\n        \n\n        btnSave = new AjaxSubmitLink(&quot;btnSave&quot;){\n\n            @Override\n            protected void οnSubmit(AjaxRequestTarget target) {\n\n                btnSaveOnSubmit(target);\n\n            }\n\n        };\n        btnSave.add(new TinyMceAjaxSubmitModifier());\n        form.add(btnSave);\n\n    }\n\n    private void btnSaveOnSubmit(AjaxRequestTarget target) {\n\n        form.getModelObject().setDescription(org.springframework.web.util.HtmlUtils.htmlUnescape(description.getModelObject()));\n\n        //save form.getModelObject\n                //reload saved object\n\n        paintDescriptionAndResponseComponents();\n\n        target.add(form);\n\n    }\n\n    \n\n    private void paintDescriptionAndResponseComponents() {\n\n        description= new MyRichTextEditor(&quot;description&quot;, showDescriptionToolbar(), descriptionReadOnly());\n        description.add(Validators.required());\n        description.setOutputMarkupPlaceholderTag(true);\n        form.addOrReplace(description);\n\n        response= new MyRichTextEditor(&quot;response&quot;, showResponseToolbar(), responseReadOnly());\n        response.setOutputMarkupPlaceholderTag(true);\n        response.add(Validators.required());\n        form.addOrReplace(response);\n\n    }\n\n    private boolean reponseReadOnly() {\n\n        ...\n    }\n\n    private boolean showResponseToolbar() {\n\n        ...\n    }\n\n    private boolean descriptionReadOnly() {\n\n        ...\n\n    }\n\n    private boolean showDescriptionToolbar() {\n\n        ...\n\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","android","charts","anychart"],"owner":{"account_id":29917113,"reputation":1,"user_id":22927088,"display_name":"Carlos Bessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700133154,"creation_date":1700133154,"question_id":77494327,"body_markdown":"I have a chart made with AnyChart library in Android and iOS. The problem is, the only scroller available is a bar that is shown under the chart. That is not very user friendly. Is there a way to scroll the chart (x-axis), with the touch in the screen? I really need to make this work as fast as possible.\r\n\r\nThis are the settings I inserted to zoom my chart, to not appear all the info on top of each other, and to not be shown the zoom under the chart in the x axis.\r\n\r\n```\r\ncartesian.xScroller().allowRangeChange(false);\r\ncartesian.xScroller().thumbs().enabled(false);\r\ncartesian.xZoom(true);\r\ncartesian.xZoom(2);\r\n```","title":"AnyChart Bar Graph with scroll in Mobile (Android or iOS)?","body":"<p>I have a chart made with AnyChart library in Android and iOS. The problem is, the only scroller available is a bar that is shown under the chart. That is not very user friendly. Is there a way to scroll the chart (x-axis), with the touch in the screen? I really need to make this work as fast as possible.</p>\n<p>This are the settings I inserted to zoom my chart, to not appear all the info on top of each other, and to not be shown the zoom under the chart in the x axis.</p>\n<pre><code>cartesian.xScroller().allowRangeChange(false);\ncartesian.xScroller().thumbs().enabled(false);\ncartesian.xZoom(true);\ncartesian.xZoom(2);\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","environment-variables","bitbucket-pipelines"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700133165,"post_id":77494299,"comment_id":136618397,"body_markdown":"If it is an environment variable it will be automatically bound to `admin.password` youi don&#39;t need to do anything for that. However if you are running your app elsewere then on bitbucket this variable will not be present.","body":"If it is an environment variable it will be automatically bound to <code>admin.password</code> youi don&#39;t need to do anything for that. However if you are running your app elsewere then on bitbucket this variable will not be present."},{"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"score":0,"creation_date":1700133318,"post_id":77494299,"comment_id":136618424,"body_markdown":"It is running only on Bitbucket, but it still does not work\nMaybe i need to pass it somehow from repository to environment ?","body":"It is running only on Bitbucket, but it still does not work Maybe i need to pass it somehow from repository to environment ?"}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700132792,"creation_date":1700132792,"question_id":77494299,"body_markdown":"I have a repository variable called ADMIN_PASSWORD in bitbucket and I want to use it inside my Spring Boot application\r\n\r\nBut if I refer to it in application.yaml \r\n```\r\nadmin:\r\n  login: root\r\n  password: ${ADMIN_PASSWORD}\r\n```\r\nOr just inside my service like this \r\n```\r\n    @Value(&quot;${admin.password}&quot;)\r\n    private String adminPassword;\r\n```\r\nI will have this error\r\n\r\n```\r\nError creating bean with name &#39;adminUtil&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;ADMIN_PASSWORD&#39; in value &quot;${ADMIN_PASSWORD}&quot;\r\n```\r\nI also tried to add script to step in bitbucket-pipelines.yaml and then executing file\r\n```\r\n- echo &#39;export ADMIN_PASSWORD=$ADMIN_PASSWORD&#39; &gt; build.env\r\n- &#39;[ -e ./build.env ] &amp;&amp; . ./build.env&#39;\r\n```\r\nBut nothing of these worked\r\n\r\n","title":"Bitbucket repository variable in Spring Boot","body":"<p>I have a repository variable called ADMIN_PASSWORD in bitbucket and I want to use it inside my Spring Boot application</p>\n<p>But if I refer to it in application.yaml</p>\n<pre><code>admin:\n  login: root\n  password: ${ADMIN_PASSWORD}\n</code></pre>\n<p>Or just inside my service like this</p>\n<pre><code>    @Value(&quot;${admin.password}&quot;)\n    private String adminPassword;\n</code></pre>\n<p>I will have this error</p>\n<pre><code>Error creating bean with name 'adminUtil': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'ADMIN_PASSWORD' in value &quot;${ADMIN_PASSWORD}&quot;\n</code></pre>\n<p>I also tried to add script to step in bitbucket-pipelines.yaml and then executing file</p>\n<pre><code>- echo 'export ADMIN_PASSWORD=$ADMIN_PASSWORD' &gt; build.env\n- '[ -e ./build.env ] &amp;&amp; . ./build.env'\n</code></pre>\n<p>But nothing of these worked</p>\n"},{"tags":["java","thrift"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1699809694,"post_id":77469550,"comment_id":136575041,"body_markdown":"In Java, I do not know thrift, you are not supposed to extend `Enum` (assuming Java&#39;s standard class), but you declare an enumeration class: `public enum B  { A, B }` or even `public enum B implements TEnum { A(1), B(5); ... }` - see the corresponding official tutorial [Enum Types](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html) or Java Language Specification [8.9. Enum Classes](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.9)","body":"In Java, I do not know thrift, you are not supposed to extend <code>Enum</code> (assuming Java&#39;s standard class), but you declare an enumeration class: <code>public enum B  { A, B }</code> or even <code>public enum B implements TEnum { A(1), B(5); ... }</code> - see the corresponding official tutorial <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Enum Types</a> or Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">8.9. Enum Classes</a>"},{"owner":{"account_id":29885478,"reputation":1,"user_id":22903115,"display_name":"y0an11"},"score":0,"creation_date":1699839704,"post_id":77469550,"comment_id":136577766,"body_markdown":"In thrift framework, enum definition is an integer value, but I need to define multiple integer values of an enum type. For example in the java structure\n```java\n#java\npublic enum A implement TEnum {\n   a(1,1),\n   b(2,3);\n   int ord;\n   int val;\n   public A(int ord, int val) {\n     this.ord=ord;\n     this.val=val;\n   }\n}\n````\nSorry, my English is not good","body":"In thrift framework, enum definition is an integer value, but I need to define multiple integer values of an enum type. For example in the java structure ```java #java public enum A implement TEnum {    a(1,1),    b(2,3);    int ord;    int val;    public A(int ord, int val) {      this.ord=ord;      this.val=val;    } } ```` Sorry, my English is not good"}],"answers":[{"tags":[],"owner":{"account_id":670047,"reputation":13263,"user_id":499466,"display_name":"JensG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700132718,"creation_date":1700132718,"answer_id":77494296,"question_id":77469550,"body_markdown":"In Thrift an enum is simply an integer. It&#39;s not possible to have more complex structures on top of it. \r\n\r\n\r\n     enum Foo {\r\n          Bar = 0\r\n          Baz = 1\r\n          AnswerToEverythingEtc = 42     \r\n     }\r\n\r\n\r\nRemember that Thrift is compatible to 20+ target languages and dialects and most environments do not have the capability to do such stuff like having two values on an enum. To model that with Thrift consider using a struct\r\n\r\n\r\n     struct TwoValues {\r\n          1: i32 ord\r\n          2: i32 val\r\n     }","title":"How should multiple value thrift of Java enumeration class be defined?","body":"<p>In Thrift an enum is simply an integer. It's not possible to have more complex structures on top of it.</p>\n<pre><code> enum Foo {\n      Bar = 0\n      Baz = 1\n      AnswerToEverythingEtc = 42     \n }\n</code></pre>\n<p>Remember that Thrift is compatible to 20+ target languages and dialects and most environments do not have the capability to do such stuff like having two values on an enum. To model that with Thrift consider using a struct</p>\n<pre><code> struct TwoValues {\n      1: i32 ord\n      2: i32 val\n }\n</code></pre>\n"}],"owner":{"account_id":29885478,"reputation":1,"user_id":22903115,"display_name":"y0an11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700132718,"creation_date":1699803193,"question_id":77469550,"body_markdown":"``` Java\r\n# java\r\npublic class B extends Enum implements TEnum {\r\n    B a = new B(&quot;a&quot;, 1, 1);\r\n    B b = new B(&quot;b&quot;, 2, 5);\r\n\r\n    int val;\r\n\r\n    public B(String s, int i, int val) {\r\n        super(s, i);\r\n        this.val = val;\r\n    }\r\n}\r\n```\r\n\r\nHow should I define the above structure in thrift?","title":"How should multiple value thrift of Java enumeration class be defined?","body":"<pre><code># java\npublic class B extends Enum implements TEnum {\n    B a = new B(&quot;a&quot;, 1, 1);\n    B b = new B(&quot;b&quot;, 2, 5);\n\n    int val;\n\n    public B(String s, int i, int val) {\n        super(s, i);\n        this.val = val;\n    }\n}\n</code></pre>\n<p>How should I define the above structure in thrift?</p>\n"},{"tags":["java","spring-boot","rest","validation"],"comments":[{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1700040828,"post_id":77482470,"comment_id":136604999,"body_markdown":"Add `@Validated` into your controller class level to enable AOP validation. Refer to this [post](https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring)","body":"Add <code>@Validated</code> into your controller class level to enable AOP validation. Refer to this <a href=\"https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring\">post</a>"}],"answers":[{"tags":[],"owner":{"account_id":477757,"reputation":1070,"user_id":889438,"accept_rate":81,"display_name":"coconut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700132647,"creation_date":1700059512,"answer_id":77488687,"question_id":77482470,"body_markdown":"This worked. I ended up removing the @Valid and leaving the @ValidStudents. My intellij wasn&#39;t picking up the changes so I thought it wasn&#39;t working. \r\n\r\nAnd also as @phuongnq1995 said, make sure you have the @Validated at class level in your controller. ","title":"Custom Validation of lists in SpringBoot","body":"<p>This worked. I ended up removing the @Valid and leaving the @ValidStudents. My intellij wasn't picking up the changes so I thought it wasn't working.</p>\n<p>And also as @phuongnq1995 said, make sure you have the @Validated at class level in your controller.</p>\n"}],"owner":{"account_id":477757,"reputation":1070,"user_id":889438,"accept_rate":81,"display_name":"coconut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700132647,"creation_date":1699980977,"question_id":77482470,"body_markdown":"I have a simple object: \r\n\r\n    public class Student {\r\n        private int id;\r\n\r\n        @Max(18)\r\n        @Min(3)\r\n        private int age;\r\n    }\r\n\r\nMy rest controller receives a list of students. How can I validate the min and max age and that the IDs in the list are not duplicated? \r\n\r\nI tried writing my own validator but it&#39;s not working. \r\n\r\n    public class StudentsValidator implements ConstraintValidator&lt;ValidStudents, List&lt;Student&gt;&gt; {\r\n\r\n        @Override\r\n        public void initialize(ValidStudents constraintAnnotation) {\r\n            ConstraintValidator.super.initialize(constraintAnnotation);\r\n        }\r\n\r\n        @Override\r\n        public boolean isValid(List&lt;Student&gt; students, ConstraintValidatorContext constraintValidatorContext) {\r\n            if (students == null || students.isEmpty())\r\n                return true;\r\n        \r\n            if (students.stream().anyMatch(students -&gt; students.getAge() &lt; 3 || students.getAge() &gt; 18))\r\n                return false;\r\n        \r\n            return students.stream().map(Student::getID).distinct().count() == students.size();\r\n        }\r\n    }\r\n\r\n\r\n\r\nMy annotation: \r\n\r\n    @Target({ElementType.FIELD, ElementType.PARAMETER})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = StudentsValidator.class)\r\n    public @interface ValidStudents {\r\n        String message() default &quot;Invalid list of students&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nAnd then in my controller I use it like this: \r\n\r\n    public void putStudents(@RequestBody @ValidStudents List&lt;@Valid Student&gt; students)\r\n\r\nI&#39;m assuming I wouldn&#39;t need to run a @Valid before Student if my @ValidStudents was working but I&#39;m trying both and neither works. What am I missing? \r\n\r\nAlso, is there anyway I can throw a bad request after the validation fails besides writing my custom exception handler? \r\n\r\nThanks in advance! ","title":"Custom Validation of lists in SpringBoot","body":"<p>I have a simple object:</p>\n<pre><code>public class Student {\n    private int id;\n\n    @Max(18)\n    @Min(3)\n    private int age;\n}\n</code></pre>\n<p>My rest controller receives a list of students. How can I validate the min and max age and that the IDs in the list are not duplicated?</p>\n<p>I tried writing my own validator but it's not working.</p>\n<pre><code>public class StudentsValidator implements ConstraintValidator&lt;ValidStudents, List&lt;Student&gt;&gt; {\n\n    @Override\n    public void initialize(ValidStudents constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(List&lt;Student&gt; students, ConstraintValidatorContext constraintValidatorContext) {\n        if (students == null || students.isEmpty())\n            return true;\n    \n        if (students.stream().anyMatch(students -&gt; students.getAge() &lt; 3 || students.getAge() &gt; 18))\n            return false;\n    \n        return students.stream().map(Student::getID).distinct().count() == students.size();\n    }\n}\n</code></pre>\n<p>My annotation:</p>\n<pre><code>@Target({ElementType.FIELD, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = StudentsValidator.class)\npublic @interface ValidStudents {\n    String message() default &quot;Invalid list of students&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>And then in my controller I use it like this:</p>\n<pre><code>public void putStudents(@RequestBody @ValidStudents List&lt;@Valid Student&gt; students)\n</code></pre>\n<p>I'm assuming I wouldn't need to run a @Valid before Student if my @ValidStudents was working but I'm trying both and neither works. What am I missing?</p>\n<p>Also, is there anyway I can throw a bad request after the validation fails besides writing my custom exception handler?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","jakarta-migration"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700132558,"creation_date":1685448971,"answer_id":76364735,"question_id":76364511,"body_markdown":"&gt; not able to find the libraries for javax.net and javax.sql in jakarta ee\r\n\r\nThese are **not** part of [Jakarta EE][1] and have never been part of [legacy Java EE][2] either. \r\n\r\nThese have always been part of [Java SE][3]. Open the [package list][4] and Ctrl+F on `javax`. You&#39;ll find the following `javax.*` packages being part of Java SE:\r\n\r\n- `javax.accessibility`\r\n- `javax.annotation.processing`\r\n- `javax.crypto`\r\n- `javax.imageio`\r\n- `javax.lang`\r\n- `javax.management`\r\n- `javax.naming`\r\n- `javax.net`\r\n- `javax.print`\r\n- `javax.rmi`\r\n- `javax.script`\r\n- `javax.security.auth`\r\n- `javax.security.cert`\r\n- `javax.security.sasl`\r\n- `javax.smartcardio`\r\n- `javax.sound`\r\n- `javax.sql`\r\n- `javax.swing`\r\n- `javax.tools`\r\n- `javax.transaction.xa`\r\n- `javax.xml`\r\n\r\nYou can keep them as-is. Just listen to the compiler.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/platform/10/apidocs/\r\n  [2]: https://docs.oracle.com/javaee/7/api/\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/allpackages-index.html","title":"How to handle javax.net and javax.sql imports while upgrading to SpringBoot 3?","body":"<blockquote>\n<p>not able to find the libraries for javax.net and javax.sql in jakarta ee</p>\n</blockquote>\n<p>These are <strong>not</strong> part of <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/\" rel=\"nofollow noreferrer\">Jakarta EE</a> and have never been part of <a href=\"https://docs.oracle.com/javaee/7/api/\" rel=\"nofollow noreferrer\">legacy Java EE</a> either.</p>\n<p>These have always been part of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/\" rel=\"nofollow noreferrer\">Java SE</a>. Open the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/allpackages-index.html\" rel=\"nofollow noreferrer\">package list</a> and Ctrl+F on <code>javax</code>. You'll find the following <code>javax.*</code> packages being part of Java SE:</p>\n<ul>\n<li><code>javax.accessibility</code></li>\n<li><code>javax.annotation.processing</code></li>\n<li><code>javax.crypto</code></li>\n<li><code>javax.imageio</code></li>\n<li><code>javax.lang</code></li>\n<li><code>javax.management</code></li>\n<li><code>javax.naming</code></li>\n<li><code>javax.net</code></li>\n<li><code>javax.print</code></li>\n<li><code>javax.rmi</code></li>\n<li><code>javax.script</code></li>\n<li><code>javax.security.auth</code></li>\n<li><code>javax.security.cert</code></li>\n<li><code>javax.security.sasl</code></li>\n<li><code>javax.smartcardio</code></li>\n<li><code>javax.sound</code></li>\n<li><code>javax.sql</code></li>\n<li><code>javax.swing</code></li>\n<li><code>javax.tools</code></li>\n<li><code>javax.transaction.xa</code></li>\n<li><code>javax.xml</code></li>\n</ul>\n<p>You can keep them as-is. Just listen to the compiler.</p>\n"}],"owner":{"account_id":8306741,"reputation":11,"user_id":6243451,"display_name":"Java_guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700132558,"creation_date":1685447490,"question_id":76364511,"body_markdown":"I am upgrading my application from springboot 2.** to springboot 3.07. I am aware that we have to jakarta package instead of javax but not sure what to do about javax.net.* and javax.sql.datasource imports.\r\nwhat is the replacement for these with respect to jakarta ee\r\n\r\nnot able to find the libraries for javax.net and javax.sql in jakarta ee","title":"How to handle javax.net and javax.sql imports while upgrading to SpringBoot 3?","body":"<p>I am upgrading my application from springboot 2.** to springboot 3.07. I am aware that we have to jakarta package instead of javax but not sure what to do about javax.net.* and javax.sql.datasource imports.\nwhat is the replacement for these with respect to jakarta ee</p>\n<p>not able to find the libraries for javax.net and javax.sql in jakarta ee</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700132429,"creation_date":1700132429,"answer_id":77494262,"question_id":77494222,"body_markdown":"you don&#39;t need `@Qualifier` in this case just replace them with `@Profile(&quot;nameOfYourProfile&quot;)`:\r\n\r\n```java\r\n@Service\r\n@Profile(&quot;dev&quot;)\r\npublic class MyService1Impl implements MyService {\r\n```\r\n\r\nand\r\n\r\n```java\r\n@Service\r\n@Profile(&quot;!dev&quot;)\r\npublic class MyService2Impl implements MyService {\r\n```\r\n\r\n","title":"Springboot use different implementation class depending on environment","body":"<p>you don't need <code>@Qualifier</code> in this case just replace them with <code>@Profile(&quot;nameOfYourProfile&quot;)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Profile(&quot;dev&quot;)\npublic class MyService1Impl implements MyService {\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Profile(&quot;!dev&quot;)\npublic class MyService2Impl implements MyService {\n</code></pre>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77494262,"answer_count":1,"score":0,"last_activity_date":1700132429,"creation_date":1700132083,"question_id":77494222,"body_markdown":"I am using Springboot 3 with Java20.\r\n\r\nI am looking for the simplest way to use a different implementation depending on the environment.\r\n\r\nI have the following interface:\r\n\r\n**MyService**\r\n\r\n    public interface MyService {\r\n        boolean send(String fileName, final String userName);\r\n    }\r\n\r\nWith two implementations:\r\n\r\n**MyService1Impl**\r\n\r\n    @Service\r\n    @Qualifier(&quot;myService1Impl&quot;)\r\n    public class MyService1Impl implements MyService {\r\n\r\n**MyService2Impl**\r\n\r\n    @Service\r\n    @Qualifier(&quot;myService2Impl&quot;)\r\n    public class MyService2Impl implements MyService {\r\n\r\nThen I want to use the following:\r\n\r\n    @Autowired\r\n    private @Qualifier(&quot;myService1Impl&quot;) MyService myService1Impl;\r\n    @Autowired\r\n    private @Qualifier(&quot;myService2Impl&quot;) MyService myService2Impl;\r\n\r\n    // if @Profile(&quot;dev&quot;) use myService1Impl\r\n    // if @Profile(&quot;*&quot;) use myService2Impl\r\n\r\nI would like to keep this as simple as possible (not to have to use `@Cofiguration` if possible).\r\n","title":"Springboot use different implementation class depending on environment","body":"<p>I am using Springboot 3 with Java20.</p>\n<p>I am looking for the simplest way to use a different implementation depending on the environment.</p>\n<p>I have the following interface:</p>\n<p><strong>MyService</strong></p>\n<pre><code>public interface MyService {\n    boolean send(String fileName, final String userName);\n}\n</code></pre>\n<p>With two implementations:</p>\n<p><strong>MyService1Impl</strong></p>\n<pre><code>@Service\n@Qualifier(&quot;myService1Impl&quot;)\npublic class MyService1Impl implements MyService {\n</code></pre>\n<p><strong>MyService2Impl</strong></p>\n<pre><code>@Service\n@Qualifier(&quot;myService2Impl&quot;)\npublic class MyService2Impl implements MyService {\n</code></pre>\n<p>Then I want to use the following:</p>\n<pre><code>@Autowired\nprivate @Qualifier(&quot;myService1Impl&quot;) MyService myService1Impl;\n@Autowired\nprivate @Qualifier(&quot;myService2Impl&quot;) MyService myService2Impl;\n\n// if @Profile(&quot;dev&quot;) use myService1Impl\n// if @Profile(&quot;*&quot;) use myService2Impl\n</code></pre>\n<p>I would like to keep this as simple as possible (not to have to use <code>@Cofiguration</code> if possible).</p>\n"},{"tags":["java","jakarta-migration"],"comments":[{"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1700132162,"post_id":77494202,"comment_id":136618259,"body_markdown":"That class isn&#39;t part of Jakarta EE. It&#39;s part of [Java SE](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/javax/security/auth/x500/X500Principal.html). Why exactly did you think you need to migrate it? Did it give compilation errors? Related/duplicate: https://stackoverflow.com/a/76364735. The `jakarta.security` package is basically for the Jakarta EE equivalent of &quot;Spring Security&quot;, as seen here: https://jakarta.ee/specifications/security/3.0/jakarta-security-spec-3.0","body":"That class isn&#39;t part of Jakarta EE. It&#39;s part of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/javax/security/auth/x500/X500Principal.html\" rel=\"nofollow noreferrer\">Java SE</a>. Why exactly did you think you need to migrate it? Did it give compilation errors? Related/duplicate: <a href=\"https://stackoverflow.com/a/76364735\">stackoverflow.com/a/76364735</a>. The <code>jakarta.security</code> package is basically for the Jakarta EE equivalent of &quot;Spring Security&quot;, as seen here: <a href=\"https://jakarta.ee/specifications/security/3.0/jakarta-security-spec-3.0\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/security/3.0/&hellip;</a>"},{"owner":{"account_id":135268,"reputation":3309,"user_id":6999882,"accept_rate":86,"display_name":"leventunver"},"score":0,"creation_date":1700132889,"post_id":77494202,"comment_id":136618367,"body_markdown":"@BalusC No compilation errors. During the migration, I noticed `javax.annotation.PreDestroy` also had a Jakarta equivalent even though it is part of Java SE. So I wanted to know if it&#39;s the case for X500 as well and eliminate all javax.* packages if possible.","body":"@BalusC No compilation errors. During the migration, I noticed <code>javax.annotation.PreDestroy</code> also had a Jakarta equivalent even though it is part of Java SE. So I wanted to know if it&#39;s the case for X500 as well and eliminate all javax.* packages if possible."},{"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1700132945,"post_id":77494202,"comment_id":136618370,"body_markdown":"`@PreDestroy` is **not** part of Java SE. [Look over there in Java SE documentation, it&#39;s nowhere](https://docs.oracle.com/en/java/javase/20/docs/api/allpackages-index.html). So if `javax.annotation.PreDestroy` compiles fine then you have a dependency problem.","body":"<code>@PreDestroy</code> is <b>not</b> part of Java SE. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/allpackages-index.html\" rel=\"nofollow noreferrer\">Look over there in Java SE documentation, it&#39;s nowhere</a>. So if <code>javax.annotation.PreDestroy</code> compiles fine then you have a dependency problem."},{"owner":{"account_id":135268,"reputation":3309,"user_id":6999882,"accept_rate":86,"display_name":"leventunver"},"score":0,"creation_date":1700133130,"post_id":77494202,"comment_id":136618391,"body_markdown":"@BalusC Yes it compiled fine. Thanks for pointing out. I am also ok to make this question duplicate with your suggestion.","body":"@BalusC Yes it compiled fine. Thanks for pointing out. I am also ok to make this question duplicate with your suggestion."}],"owner":{"account_id":135268,"reputation":3309,"user_id":6999882,"accept_rate":86,"display_name":"leventunver"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700133052,"answer_count":0,"score":0,"last_activity_date":1700132142,"creation_date":1700131946,"question_id":77494202,"body_markdown":"We are moving away from javax to Jakarta EE, and we migrated almost all of our packages except one:\r\n\r\n```\r\njavax.security.auth.x500.X500Principal\r\n```\r\nThere is a `jakarta.security.auth` package already, but the content is slightly different. No matter how much I searched, I couldn&#39;t find the equivalent of this package in Jakarta. Am I missing something here?\r\n\r\nI am no security expert, so I don&#39;t have much preliminary knowledge about the subject.","title":"Can&#39;t migrate javax.security.auth.x500 to Jakarta EE","body":"<p>We are moving away from javax to Jakarta EE, and we migrated almost all of our packages except one:</p>\n<pre><code>javax.security.auth.x500.X500Principal\n</code></pre>\n<p>There is a <code>jakarta.security.auth</code> package already, but the content is slightly different. No matter how much I searched, I couldn't find the equivalent of this package in Jakarta. Am I missing something here?</p>\n<p>I am no security expert, so I don't have much preliminary knowledge about the subject.</p>\n"},{"tags":["java","spring","redis"],"owner":{"account_id":15105798,"reputation":1,"user_id":10901519,"display_name":"Michele Letizia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700131884,"creation_date":1700131621,"question_id":77494170,"body_markdown":"i&#39;m trying to write a redis object on an instance of REDIS using spring-boot-starter-data-redis.\r\nOn Redis istance is deactivated the hmset and i must save object with hset.\r\n\r\nBut i only run this:\r\n\r\n    repository.save(myObject);\r\n\r\nwhere repository:\r\n\r\n    @Repository\r\n    public interface repository extends CrudRepository&lt;myObject, String&gt; {}\r\n\r\nand myObject:\r\n\r\n    @RedisHash\r\n    public class myObject{\r\n  \r\n    @Id\r\n    private String sessionId;\r\n    ...\r\n\r\n    }\r\n\r\n\r\nHow can i force spring lib to use hset instead of hmset?\r\n\r\nThank you,\r\nMik","title":"NOPERM this user has no permissions to run the &#39;hmset&#39; command","body":"<p>i'm trying to write a redis object on an instance of REDIS using spring-boot-starter-data-redis.\nOn Redis istance is deactivated the hmset and i must save object with hset.</p>\n<p>But i only run this:</p>\n<pre><code>repository.save(myObject);\n</code></pre>\n<p>where repository:</p>\n<pre><code>@Repository\npublic interface repository extends CrudRepository&lt;myObject, String&gt; {}\n</code></pre>\n<p>and myObject:</p>\n<pre><code>@RedisHash\npublic class myObject{\n\n@Id\nprivate String sessionId;\n...\n\n}\n</code></pre>\n<p>How can i force spring lib to use hset instead of hmset?</p>\n<p>Thank you,\nMik</p>\n"},{"tags":["java","maven","maven-dependency-plugin"],"comments":[{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":0,"creation_date":1462475601,"post_id":37057487,"comment_id":61663877,"body_markdown":"is menu.xml directly in the root of the dependant jar? Do you have that jar in the dependencies list? Have you tried something like **/menu.xml as mentioned in the docs https://maven.apache.org/plugins/maven-dependency-plugin/unpack-dependencies-mojo.html#includes - and if you load the file from the classpath anyway, way unpack it at all?","body":"is menu.xml directly in the root of the dependant jar? Do you have that jar in the dependencies list? Have you tried something like **/menu.xml as mentioned in the docs <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/unpack-dependencies-mojo.html#includes\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a> - and if you load the file from the classpath anyway, way unpack it at all?"},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1462477509,"post_id":37057487,"comment_id":61664998,"body_markdown":"Why do you need to do that? You don&#39;t need to do that. If the resource is at the root of a JAR in the classpath, it is in the root of your classpath so what you &quot;want&quot; serves absolutely no purpose. Hence: what do you _really_ want to do? What&#39;s the real problem you want to solve?","body":"Why do you need to do that? You don&#39;t need to do that. If the resource is at the root of a JAR in the classpath, it is in the root of your classpath so what you &quot;want&quot; serves absolutely no purpose. Hence: what do you <i>really</i> want to do? What&#39;s the real problem you want to solve?"},{"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"score":0,"creation_date":1462481971,"post_id":37057487,"comment_id":61667340,"body_markdown":"Yes, the file is in the root of the dependent jar. I now figured out the issue. The jar is not in the dependencies list. The confusion started because I first tried the **unpack** goal of the plugin, which downloads the jar from the repository, which worked well. However in this case I can&#39;t use the file for tests because it happens in a later life cycle phase. I guess I&#39;ll have to fall back to the previous solution, which was copying the file from the other project&#39;s source folder using the maven-resources-plugin.","body":"Yes, the file is in the root of the dependent jar. I now figured out the issue. The jar is not in the dependencies list. The confusion started because I first tried the <b>unpack</b> goal of the plugin, which downloads the jar from the repository, which worked well. However in this case I can&#39;t use the file for tests because it happens in a later life cycle phase. I guess I&#39;ll have to fall back to the previous solution, which was copying the file from the other project&#39;s source folder using the maven-resources-plugin."}],"answers":[{"tags":[],"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1700131730,"creation_date":1462483159,"answer_id":37060435,"question_id":37057487,"body_markdown":"After some help from the comments, I could figure out the issue. **The jar holding the menu.xml file is not in the dependencies list of my project**.\r\n\r\n\r\nHere is a better explanation of what I was trying to achieve for better understanding:\r\n\r\nMy project is inside a maven multi module, and I need the information of this menu.xml which is maintained on another project of the same multi module. Apart from this file there&#39;s no other dependency to this other project, therefore, there&#39;s also no maven dependency to the jar.\r\n\r\nIn order to avoid duplication of the file in my project, I helped myself so far with the maven-resources-plugin, which copies the file from the source directory of the other project. I never really liked this solution though, because it&#39;s dependent on having the source of this other project on the file system.\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-resources&lt;/id&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.basedir}/src/main/resources&lt;/outputDirectory&gt;\r\n              &lt;resources&gt;          \r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;${project.basedir}/../other-jar/src/main/resources&lt;/directory&gt;\r\n                  &lt;includes&gt;\r\n                    &lt;include&gt;menu.xml&lt;/include&gt;\r\n                  &lt;/includes&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/resources&gt;              \r\n            &lt;/configuration&gt;            \r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nThen [I discovered the maven-depency-plugin][1] and the **unpack** goal which can extract the file out of the downloaded jar from the repository. This looked like a much cleaner solution. I tried it out and it worked actually well. The problem with this solution though was that the unpack plugin acts only in a later maven phase after testing and I do have some tests using the file as well.\r\n\r\nAfter some more research, I found the resource-dependencies plugin with the **unpack-dependencies** goal which looked like the perfect solution but at this stage I had completely forgotten that I actually don&#39;t have a dependency to the jar.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18566372/maven-add-resource-from-jar-to-web-inf-during-build","title":"maven: copy resource from dependent jar to target folder","body":"<p>After some help from the comments, I could figure out the issue. <strong>The jar holding the menu.xml file is not in the dependencies list of my project</strong>.</p>\n<p>Here is a better explanation of what I was trying to achieve for better understanding:</p>\n<p>My project is inside a maven multi module, and I need the information of this menu.xml which is maintained on another project of the same multi module. Apart from this file there's no other dependency to this other project, therefore, there's also no maven dependency to the jar.</p>\n<p>In order to avoid duplication of the file in my project, I helped myself so far with the maven-resources-plugin, which copies the file from the source directory of the other project. I never really liked this solution though, because it's dependent on having the source of this other project on the file system.</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;copy-resources&lt;/id&gt;\n        &lt;phase&gt;validate&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;copy-resources&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${project.basedir}/src/main/resources&lt;/outputDirectory&gt;\n          &lt;resources&gt;          \n            &lt;resource&gt;\n              &lt;directory&gt;${project.basedir}/../other-jar/src/main/resources&lt;/directory&gt;\n              &lt;includes&gt;\n                &lt;include&gt;menu.xml&lt;/include&gt;\n              &lt;/includes&gt;\n            &lt;/resource&gt;\n          &lt;/resources&gt;              \n        &lt;/configuration&gt;            \n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Then <a href=\"https://stackoverflow.com/questions/18566372/maven-add-resource-from-jar-to-web-inf-during-build\">I discovered the maven-depency-plugin</a> and the <strong>unpack</strong> goal which can extract the file out of the downloaded jar from the repository. This looked like a much cleaner solution. I tried it out and it worked actually well. The problem with this solution though was that the unpack plugin acts only in a later maven phase after testing and I do have some tests using the file as well.</p>\n<p>After some more research, I found the resource-dependencies plugin with the <strong>unpack-dependencies</strong> goal which looked like the perfect solution but at this stage I had completely forgotten that I actually don't have a dependency to the jar.</p>\n"},{"tags":[],"owner":{"account_id":13489230,"reputation":11,"user_id":9732037,"display_name":"Simon"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1525288418,"creation_date":1525288418,"answer_id":50141934,"question_id":37057487,"body_markdown":"In order to use the maven-depency-plugin to unpack a jar before testing, the workaround is to use failsafe instead of surefire to have tests run after the unpacking.\r\n\r\nSimon","title":"maven: copy resource from dependent jar to target folder","body":"<p>In order to use the maven-depency-plugin to unpack a jar before testing, the workaround is to use failsafe instead of surefire to have tests run after the unpacking.</p>\n\n<p>Simon</p>\n"},{"tags":[],"owner":{"account_id":6864330,"reputation":148,"user_id":5277332,"display_name":"raneesh choudhary"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1587029369,"creation_date":1587029369,"answer_id":61246960,"question_id":37057487,"body_markdown":"A nice way to copy files from your dependency is to use Goal unpack :\r\n\r\nyou can mention your files /directories in &lt;includes&gt; \r\ndir/** --&gt; include everything from a directory\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;resource-dependencies&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;unpack&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;artifactItems&gt;\r\n    \t\t\t\t&lt;artifactItem&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;group_id&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;artifact_id&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t\t\t\t&lt;overWrite&gt;true&lt;/overWrite&gt;\r\n    \t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;/artifactItem&gt;\r\n    \t\t\t\t&lt;/artifactItems&gt;\r\n    \t\t\t\t&lt;includes&gt;directory_to_include/**&lt;/includes&gt;\r\n    \t\t\t\t&lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nI attached goal unpack to the phase compile. Customise as per your need.","title":"maven: copy resource from dependent jar to target folder","body":"<p>A nice way to copy files from your dependency is to use Goal unpack :</p>\n\n<p>you can mention your files /directories in  \ndir/** --> include everything from a directory</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;resource-dependencies&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;unpack&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                    &lt;groupId&gt;group_id&lt;/groupId&gt;\n                    &lt;artifactId&gt;artifact_id&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;type&gt;jar&lt;/type&gt;\n                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                &lt;/artifactItem&gt;\n                &lt;/artifactItems&gt;\n                &lt;includes&gt;directory_to_include/**&lt;/includes&gt;\n                &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I attached goal unpack to the phase compile. Customise as per your need.</p>\n"}],"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32584,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"accepted_answer_id":61246960,"answer_count":3,"score":10,"last_activity_date":1700131730,"creation_date":1462472055,"question_id":37057487,"body_markdown":"I need to copy a resource file (menu.xml) from the root of a dependent jar file to the root of the output directory of my current project, before the tests are executed during the build. The file must be available for the tests but also later for the main program using `...getClassLoader().getResourceAsStream(&quot;menu.xml&quot;)`.\r\n\r\nI&#39;m trying the solution suggested in [this question](https://stackoverflow.com/questions/10532274/maven-extract-dependency-resources-before-test) but it&#39;s not working.\r\n\r\nThis is how the pom file looks like:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;resource-dependencies&lt;/id&gt;\r\n            &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;type&gt;jar&lt;/type&gt;\r\n              &lt;includeArtifactIds&gt;other-jar&lt;/includeArtifactIds&gt;\r\n              &lt;includes&gt;menu.xml&lt;/includes&gt;\r\n              &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nWhen I execute `mvn clean process-test-resources` I see the following output:\r\n\r\n    [INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ something ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 3 resources\r\n    [INFO]\r\n    [INFO] --- maven-dependency-plugin:2.8:unpack-dependencies (resource-dependencies) @ something ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 8.709 s\r\n    [INFO] Finished at: 2016-05-05T15:01:06-03:00\r\n    [INFO] Final Memory: 30M/458M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nThe file menu.xml is not copied to the target folder. How can I see what could be possibly wrong? I tried to run maven on debug log level and could see that the configuration was parsed correctly, but the plugin doesn&#39;t log any additional information of what is happening.\r\n\r\n    ...\r\n    [DEBUG]   (f) includeArtifactIds = other-jar\r\n    [DEBUG]   (s) includes = menu.xml\r\n    ...\r\n    [DEBUG]   (f) outputAbsoluteArtifactFilename = false\r\n    [DEBUG]   (s) outputDirectory = c:\\Dev\\workspaces\\config\\something\\target\\classes\r\n    ...\r\n    [DEBUG]   (f) project = MavenProject: com.something:something:3-SNAPSHOT @ c:\\Dev\\workspaces\\config\\something\\\r\n    pom.xml\r\n    [DEBUG] -- end configuration --\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 10.014 s\r\n    [INFO] Finished at: 2016-05-05T15:09:29-03:00\r\n    [INFO] Final Memory: 27M/328M\r\n    [INFO] ------------------------------------------------------------------------","title":"maven: copy resource from dependent jar to target folder","body":"<p>I need to copy a resource file (menu.xml) from the root of a dependent jar file to the root of the output directory of my current project, before the tests are executed during the build. The file must be available for the tests but also later for the main program using <code>...getClassLoader().getResourceAsStream(&quot;menu.xml&quot;)</code>.</p>\n<p>I'm trying the solution suggested in <a href=\"https://stackoverflow.com/questions/10532274/maven-extract-dependency-resources-before-test\">this question</a> but it's not working.</p>\n<p>This is how the pom file looks like:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;resource-dependencies&lt;/id&gt;\n        &lt;phase&gt;process-test-resources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;type&gt;jar&lt;/type&gt;\n          &lt;includeArtifactIds&gt;other-jar&lt;/includeArtifactIds&gt;\n          &lt;includes&gt;menu.xml&lt;/includes&gt;\n          &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>When I execute <code>mvn clean process-test-resources</code> I see the following output:</p>\n<pre><code>[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ something ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 3 resources\n[INFO]\n[INFO] --- maven-dependency-plugin:2.8:unpack-dependencies (resource-dependencies) @ something ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 8.709 s\n[INFO] Finished at: 2016-05-05T15:01:06-03:00\n[INFO] Final Memory: 30M/458M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>The file menu.xml is not copied to the target folder. How can I see what could be possibly wrong? I tried to run maven on debug log level and could see that the configuration was parsed correctly, but the plugin doesn't log any additional information of what is happening.</p>\n<pre><code>...\n[DEBUG]   (f) includeArtifactIds = other-jar\n[DEBUG]   (s) includes = menu.xml\n...\n[DEBUG]   (f) outputAbsoluteArtifactFilename = false\n[DEBUG]   (s) outputDirectory = c:\\Dev\\workspaces\\config\\something\\target\\classes\n...\n[DEBUG]   (f) project = MavenProject: com.something:something:3-SNAPSHOT @ c:\\Dev\\workspaces\\config\\something\\\npom.xml\n[DEBUG] -- end configuration --\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 10.014 s\n[INFO] Finished at: 2016-05-05T15:09:29-03:00\n[INFO] Final Memory: 27M/328M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1699618843,"post_id":77459941,"comment_id":136557854,"body_markdown":"IIRC, IntelliJ sets the current working directory to the root of your IntelliJ project, so Java resolves would resolve files relative to that location. I can&#39;t recall what Eclipse does.","body":"IIRC, IntelliJ sets the current working directory to the root of your IntelliJ project, so Java resolves would resolve files relative to that location. I can&#39;t recall what Eclipse does."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1699619060,"post_id":77459941,"comment_id":136557889,"body_markdown":"A good starting point would to get the current working directory: [How to get the current working directory in Java?](https://stackoverflow.com/questions/4871051/how-to-get-the-current-working-directory-in-java)","body":"A good starting point would to get the current working directory: <a href=\"https://stackoverflow.com/questions/4871051/how-to-get-the-current-working-directory-in-java\">How to get the current working directory in Java?</a>"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699620020,"post_id":77459941,"comment_id":136558064,"body_markdown":"FYI, the major host OSes (macOS, Windows, Linux) each have a certain folder in which to place files that support an application.","body":"FYI, the major host OSes (macOS, Windows, Linux) each have a certain folder in which to place files that support an application."},{"owner":{"account_id":29095091,"reputation":1,"user_id":22288130,"display_name":"koyashiba"},"score":0,"creation_date":1699622140,"post_id":77459941,"comment_id":136558446,"body_markdown":"Thank you @MarkRotteveel, System.getProperty(&quot;user.dir&quot;) works alright. A very simple solution I didn&#39;t think of.","body":"Thank you @MarkRotteveel, System.getProperty(&quot;user.dir&quot;) works alright. A very simple solution I didn&#39;t think of."}],"answers":[{"tags":[],"owner":{"account_id":29095091,"reputation":1,"user_id":22288130,"display_name":"koyashiba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700131400,"creation_date":1700127668,"answer_id":77493721,"question_id":77459941,"body_markdown":"Thanks to the kind comment from Mark Rotteveel, I found a solution, which works as I wanted it to:\r\n\r\n```java\r\nimport java.sql.Connection;\r\nConnection connection = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+System.getProperty(&quot;user.dir&quot;)+&quot;/database/data.db&quot;);\r\n```\r\n\r\nThat statement is can be anywhere in the file hierarchy as shown in the question.","title":"How do establish an JDBC database connection (SQLite) with a relative path independent from any IDE or superior folder structure","body":"<p>Thanks to the kind comment from Mark Rotteveel, I found a solution, which works as I wanted it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Connection;\nConnection connection = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+System.getProperty(&quot;user.dir&quot;)+&quot;/database/data.db&quot;);\n</code></pre>\n<p>That statement is can be anywhere in the file hierarchy as shown in the question.</p>\n"}],"owner":{"account_id":29095091,"reputation":1,"user_id":22288130,"display_name":"koyashiba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77493721,"answer_count":1,"score":0,"last_activity_date":1700131400,"creation_date":1699618368,"question_id":77459941,"body_markdown":"I work on a Mac with IntelliJ in a Maven project with SQLite and I&#39;ve successfully established a connection to the database with a absolute path:\r\n\r\n```java\r\nimport java.sql.*;\r\nConnection connection = null;\r\nString url = &quot;jdbc:sqlite:/Users/user/any/dir/java_project/database/data.db&quot;;\r\nconnection DriverManager.getConnection(url);\r\n```\r\n\r\nWhich works fine on my PC, but I want the database connection independent of any IDE or superordinate Folder structure, because I work in a team where everybody has a different folder structure (of course) and not uses the same IDE.\r\n\r\nThe intern folder structure is like that: (IntelliJ generated)\r\n\r\n```\r\njava_project\r\n│  \r\n│\r\n├───src\r\n│   │\r\n│   └───main\r\n│       └───java\r\n│            └─Main.java\r\n│  \r\n│  \r\n└───database\r\n    └─data.db\r\n```\r\n\r\nI&#39;ve been trying to connect the SQLite file in the Main with a relative path String like:\r\n\r\n```\r\nurl = &quot;jdbc:sqlite:../../../database/data.db&quot;\r\n```\r\n\r\nbut only the absolute path works.\r\nI found that thread: https://stackoverflow.com/questions/31611785/sqlite-jdbc-eclipse-database-relative-path\r\n\r\nBut this person searched for an Eclipse specific solution. Nevertheless,\r\n\r\n```\r\nString url=&quot;jdbc:sqlite:&quot;+dbfile.getAbsolutePath()+&quot;\\\\Demo.db&quot;;\r\n```\r\n\r\nlooks good, but I don&#39;t know, how I import the data.db file to refer to it with the method.\r\n\r\nSomething else I found was:\r\n\r\n```\r\nconnection = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+$PROJECT_DIR$+&quot;/database/data.db&quot;);\r\n```\r\n\r\nBut IntelliJ couldn&#39;t resolve the symbol, I didn&#39;t put much effort in making this work because I believe it is IntelliJ specific and I want something which is not depending on an IDE.\r\n\r\nThe code should run on a server in the future so it would be nice if we had an option to establish a connection with a relative path so it does not matter in which superordinate folder the project is.\r\n","title":"How do establish an JDBC database connection (SQLite) with a relative path independent from any IDE or superior folder structure","body":"<p>I work on a Mac with IntelliJ in a Maven project with SQLite and I've successfully established a connection to the database with a absolute path:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\nConnection connection = null;\nString url = &quot;jdbc:sqlite:/Users/user/any/dir/java_project/database/data.db&quot;;\nconnection DriverManager.getConnection(url);\n</code></pre>\n<p>Which works fine on my PC, but I want the database connection independent of any IDE or superordinate Folder structure, because I work in a team where everybody has a different folder structure (of course) and not uses the same IDE.</p>\n<p>The intern folder structure is like that: (IntelliJ generated)</p>\n<pre><code>java_project\n│  \n│\n├───src\n│   │\n│   └───main\n│       └───java\n│            └─Main.java\n│  \n│  \n└───database\n    └─data.db\n</code></pre>\n<p>I've been trying to connect the SQLite file in the Main with a relative path String like:</p>\n<pre><code>url = &quot;jdbc:sqlite:../../../database/data.db&quot;\n</code></pre>\n<p>but only the absolute path works.\nI found that thread: <a href=\"https://stackoverflow.com/questions/31611785/sqlite-jdbc-eclipse-database-relative-path\">sqlite jdbc Eclipse database relative path</a></p>\n<p>But this person searched for an Eclipse specific solution. Nevertheless,</p>\n<pre><code>String url=&quot;jdbc:sqlite:&quot;+dbfile.getAbsolutePath()+&quot;\\\\Demo.db&quot;;\n</code></pre>\n<p>looks good, but I don't know, how I import the data.db file to refer to it with the method.</p>\n<p>Something else I found was:</p>\n<pre><code>connection = DriverManager.getConnection(&quot;jdbc:sqlite:&quot;+$PROJECT_DIR$+&quot;/database/data.db&quot;);\n</code></pre>\n<p>But IntelliJ couldn't resolve the symbol, I didn't put much effort in making this work because I believe it is IntelliJ specific and I want something which is not depending on an IDE.</p>\n<p>The code should run on a server in the future so it would be nice if we had an option to establish a connection with a relative path so it does not matter in which superordinate folder the project is.</p>\n"},{"tags":["java","eclipse","compiler-errors"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":11,"creation_date":1367826462,"post_id":16394152,"comment_id":23499543,"body_markdown":"+1. Nice question, I never thought about it :)","body":"+1. Nice question, I never thought about it :)"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1367826211,"creation_date":1367825935,"answer_id":16394191,"question_id":16394152,"body_markdown":"Eclipse uses the IBM compiler which has an option of creating classes which do not compile, replacing errors with\r\n\r\n    throw new Error();\r\n\r\nIMHO, this is very bad practice and I have seen some very poor quality projects use this.  The project didn&#39;t compile completely for weeks at a time.\r\n\r\nUnlike fail fast strategies, which try to minimise the cost of bugs, discovering bugs as late as possible also maximises the cost of fixing them.\r\n\r\nThis strategy only works if you are writing prototype code quickly, i.e. code you know will never get into production. (It is hard to be sure this will be the case)","title":"How can Eclipse create a class with unresolved compilation problems?","body":"<p>Eclipse uses the IBM compiler which has an option of creating classes which do not compile, replacing errors with</p>\n\n<pre><code>throw new Error();\n</code></pre>\n\n<p>IMHO, this is very bad practice and I have seen some very poor quality projects use this.  The project didn't compile completely for weeks at a time.</p>\n\n<p>Unlike fail fast strategies, which try to minimise the cost of bugs, discovering bugs as late as possible also maximises the cost of fixing them.</p>\n\n<p>This strategy only works if you are writing prototype code quickly, i.e. code you know will never get into production. (It is hard to be sure this will be the case)</p>\n"},{"tags":[],"owner":{"account_id":2193343,"reputation":8615,"user_id":1939754,"accept_rate":50,"display_name":"Erich Schubert"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1368132581,"creation_date":1367825975,"answer_id":16394204,"question_id":16394152,"body_markdown":"Yes, [Eclipse][1] uses its own special compiler; known as &quot;ecj&quot;. From Stack Overflow question *[What is the difference between javac and the Eclipse compiler?][2]*:\r\n\r\n&gt; One notable difference is that the Eclipse compiler lets you run code that didn&#39;t actually properly compile. If the block of code with the error is never ran, your program will run fine. Otherwise it will throw an exception indicating that you tried to run code that doesn&#39;t compile.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n  [2]: https://stackoverflow.com/questions/3061654\r\n","title":"How can Eclipse create a class with unresolved compilation problems?","body":"<p>Yes, <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a> uses its own special compiler; known as \"ecj\". From Stack Overflow question <em><a href=\"https://stackoverflow.com/questions/3061654\">What is the difference between javac and the Eclipse compiler?</a></em>:</p>\n\n<blockquote>\n  <p>One notable difference is that the Eclipse compiler lets you run code that didn't actually properly compile. If the block of code with the error is never ran, your program will run fine. Otherwise it will throw an exception indicating that you tried to run code that doesn't compile.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"down_vote_count":1,"up_vote_count":67,"is_accepted":true,"score":66,"last_activity_date":1700131323,"creation_date":1367826024,"answer_id":16394218,"question_id":16394152,"body_markdown":"If you decompile your class file, you can see the below `main()` method. That is how the Java compiler knows about the compilation error in the class.\r\n\r\n    public static void main(String[] paramArrayOfString)\r\n    {\r\n        throw new Error(&quot;Unresolved compilation problem: \\n\\tType mismatch: cannot convert from long to int.\\n&quot;);\r\n    }\r\n\r\nAnd all this happens because the [compiler][1] (**Eclipse Compiler for Java**), which Eclipse uses by default/comes bundled with, is not the same as the standard Java compiler!\r\n\r\n  [1]: http://blog.deepakazad.com/2010/05/ecj-eclipse-java-compiler.html\r\n","title":"How can Eclipse create a class with unresolved compilation problems?","body":"<p>If you decompile your class file, you can see the below <code>main()</code> method. That is how the Java compiler knows about the compilation error in the class.</p>\n<pre><code>public static void main(String[] paramArrayOfString)\n{\n    throw new Error(&quot;Unresolved compilation problem: \\n\\tType mismatch: cannot convert from long to int.\\n&quot;);\n}\n</code></pre>\n<p>And all this happens because the <a href=\"http://blog.deepakazad.com/2010/05/ecj-eclipse-java-compiler.html\" rel=\"nofollow noreferrer\">compiler</a> (<strong>Eclipse Compiler for Java</strong>), which Eclipse uses by default/comes bundled with, is not the same as the standard Java compiler!</p>\n"}],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7084,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":16394218,"answer_count":3,"score":69,"last_activity_date":1700131323,"creation_date":1367825769,"question_id":16394152,"body_markdown":"When I try to compile this class with javac, I get a compilation error and Test.class is not created.\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint x = 1L;  // &lt;- this cannot compile\r\n    \t}\r\n    }\r\n\r\nBut when I create this class in Eclipse, I can see that Test.class appears in target/classes. When I try to run this class from command line with java.exe, I get \r\n\r\n&gt;    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: &lt;br/&gt;\r\n&gt;    \tType mismatch: cannot convert from long to int\r\n\r\nDoes Eclipse use its own special Java compiler to create a broken .class? How does java.exe know about complilation problems in .class?\r\n","title":"How can Eclipse create a class with unresolved compilation problems?","body":"<p>When I try to compile this class with javac, I get a compilation error and Test.class is not created.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        int x = 1L;  // &lt;- this cannot compile\n    }\n}\n</code></pre>\n\n<p>But when I create this class in Eclipse, I can see that Test.class appears in target/classes. When I try to run this class from command line with java.exe, I get </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.Error: Unresolved compilation problem: <br/>\n        Type mismatch: cannot convert from long to int</p>\n</blockquote>\n\n<p>Does Eclipse use its own special Java compiler to create a broken .class? How does java.exe know about complilation problems in .class?</p>\n"},{"tags":["java","xml","hibernate","intellij-idea"],"comments":[{"owner":{"account_id":17383128,"reputation":5465,"user_id":12594975,"display_name":"Koyasha"},"score":0,"creation_date":1699531650,"post_id":77452523,"comment_id":136545261,"body_markdown":"What version of the IDE do you use? Can you upload a demo project to https://uploads.jetbrains.com and share the id of the upload here? I&#39;ll check it.","body":"What version of the IDE do you use? Can you upload a demo project to <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the id of the upload here? I&#39;ll check it."},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1699535730,"post_id":77452523,"comment_id":136546065,"body_markdown":"@Koyasha IntelliJ IDEA 2023.2.4 (Ultimate Edition)","body":"@Koyasha IntelliJ IDEA 2023.2.4 (Ultimate Edition)"}],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700131074,"creation_date":1699527173,"question_id":77452523,"body_markdown":"Sure, here&#39;s the translated question for Stack Overflow:\r\n\r\n---\r\n\r\nHello!\r\n\r\nI have a problem with using named queries in my **Spring** and **IntelliJ IDEA** project. In my project, I&#39;m using named queries defined in XML files to avoid hardcoding queries in the code. However, **IntelliJ IDEA** doesn&#39;t recognize the named query and highlights it as an error saying &quot;**Cannot resolve query &#39;Order.customNamedQuery&#39;**&quot;.\r\n\r\nI&#39;ve checked that all the necessary dependencies are included, and the query files are in the correct location. I&#39;ve also made sure that I specified the path to the query files in the EntityManager factory settings.\r\n\r\nHere&#39;s a simplified version of my code:\r\n\r\n```java\r\n@Override\r\npublic boolean hasCustomSupport() {\r\n    Query query = em.createNamedQuery(&quot;Order.customNamedQuery&quot;);\r\n\r\n    return JpaQueryUtils.getFirstOrDefault(query, false);\r\n}\r\n```\r\n\r\nAnd here&#39;s the XML file with the definition of the named query (Order.xml):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd&quot;\r\n                 version=&quot;2.0&quot;&gt;\r\n    &lt;named-query name=&quot;Order.customNamedQuery&quot;&gt;\r\n        &lt;query&gt;\r\n            &lt;![CDATA[\r\n                -- Your custom query goes here --\r\n            ]]&gt;\r\n        &lt;/query&gt;\r\n    &lt;/named-query&gt;\r\n&lt;/entity-mappings&gt;\r\n```\r\n\r\n\r\n\r\nIn order to see the constipation in the spring, I use\r\n```java\r\nLocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\r\nFactoryBean.setMappingResources(setmappingresources());\r\n```\r\n\r\n```java\r\npublic string[] setmappingresources()\r\n{\r\nreturns a new string[]{\r\n&quot;com/example/projectName/model/Order.xml&quot;,\r\n...\r\n}\r\n```\r\nI would like to understand why IntelliJ IDEA doesn&#39;t recognize the named query and how to fix it. I would appreciate any help!\r\n\r\n","title":"IntelliJ IDEA does not recognize named query with Spring: &#39;Cannot resolve query&#39;","body":"<p>Sure, here's the translated question for Stack Overflow:</p>\n<hr />\n<p>Hello!</p>\n<p>I have a problem with using named queries in my <strong>Spring</strong> and <strong>IntelliJ IDEA</strong> project. In my project, I'm using named queries defined in XML files to avoid hardcoding queries in the code. However, <strong>IntelliJ IDEA</strong> doesn't recognize the named query and highlights it as an error saying &quot;<strong>Cannot resolve query 'Order.customNamedQuery'</strong>&quot;.</p>\n<p>I've checked that all the necessary dependencies are included, and the query files are in the correct location. I've also made sure that I specified the path to the query files in the EntityManager factory settings.</p>\n<p>Here's a simplified version of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean hasCustomSupport() {\n    Query query = em.createNamedQuery(&quot;Order.customNamedQuery&quot;);\n\n    return JpaQueryUtils.getFirstOrDefault(query, false);\n}\n</code></pre>\n<p>And here's the XML file with the definition of the named query (Order.xml):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd&quot;\n                 version=&quot;2.0&quot;&gt;\n    &lt;named-query name=&quot;Order.customNamedQuery&quot;&gt;\n        &lt;query&gt;\n            &lt;![CDATA[\n                -- Your custom query goes here --\n            ]]&gt;\n        &lt;/query&gt;\n    &lt;/named-query&gt;\n&lt;/entity-mappings&gt;\n</code></pre>\n<p>In order to see the constipation in the spring, I use</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\nFactoryBean.setMappingResources(setmappingresources());\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public string[] setmappingresources()\n{\nreturns a new string[]{\n&quot;com/example/projectName/model/Order.xml&quot;,\n...\n}\n</code></pre>\n<p>I would like to understand why IntelliJ IDEA doesn't recognize the named query and how to fix it. I would appreciate any help!</p>\n"},{"tags":["java","sql","spring","oracle","hibernate"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1697795097,"post_id":77329880,"comment_id":136327432,"body_markdown":"Is the DAO `CompositionDataPoint` mapped with the same column name?","body":"Is the DAO <code>CompositionDataPoint</code> mapped with the same column name?"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1697795445,"post_id":77329880,"comment_id":136327499,"body_markdown":"Yeah its all mapped correctly - using XML annotation","body":"Yeah its all mapped correctly - using XML annotation"},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1697795712,"post_id":77329880,"comment_id":136327550,"body_markdown":"The error seems to be from fetching the data from the result set, not executing the query; as it seems to have a problem getting a column index from its name (according to the top of the error stack), it sounds like you might have an incorrect name somewhere in your mapping - possibly just the wrong case?","body":"The error seems to be from fetching the data from the result set, not executing the query; as it seems to have a problem getting a column index from its name (according to the top of the error stack), it sounds like you might have an incorrect name somewhere in your mapping - possibly just the wrong case?"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1697796055,"post_id":77329880,"comment_id":136327621,"body_markdown":"let me double check","body":"let me double check"},{"owner":{"account_id":1635690,"reputation":150022,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1697796445,"post_id":77329880,"comment_id":136327679,"body_markdown":"You should be able to get rid of the self join by using analytic functions `SELECT *\nFROM   (\n  select d.*,\n         MAX(date_effective) OVER (ORDER BY date_effective DESC)\n           AS max_date_effective\n  from   data_point d\n  where  name = :name \n  and    product = :product\n  and    network_object_id = :networkObject\n  and    date_effective &lt;= :gasDay\n)\nWHERE date_effective = max_date_effective\norder by id`","body":"You should be able to get rid of the self join by using analytic functions <code>SELECT * FROM   (   select d.*,          MAX(date_effective) OVER (ORDER BY date_effective DESC)            AS max_date_effective   from   data_point d   where  name = :name    and    product = :product   and    network_object_id = :networkObject   and    date_effective &lt;= :gasDay ) WHERE date_effective = max_date_effective order by id</code>"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1697797029,"post_id":77329880,"comment_id":136327789,"body_markdown":"@AlexPoole i have updated the question with my mapping","body":"@AlexPoole i have updated the question with my mapping"},{"owner":{"account_id":22612018,"reputation":412,"user_id":16792034,"display_name":"Senthil P Nathan"},"score":0,"creation_date":1697797845,"post_id":77329880,"comment_id":136327931,"body_markdown":"I am not a Java expert but can you try this code in your Java `SELECT 1 as ID, 2 as NETWORK_OBJECT_ID, &#39;My Name&#39; NAME, &#39;Product 1&#39; PRODUCT, &#39;working  &#39; DESCRIPTION, NULL DATE_EFFECTIVE, NULL DATA_POINT_TYPE\n` instead of `Select * FROM data_point` and check if it works?","body":"I am not a Java expert but can you try this code in your Java <code>SELECT 1 as ID, 2 as NETWORK_OBJECT_ID, &#39;My Name&#39; NAME, &#39;Product 1&#39; PRODUCT, &#39;working  &#39; DESCRIPTION, NULL DATE_EFFECTIVE, NULL DATA_POINT_TYPE </code> instead of <code>Select * FROM data_point</code> and check if it works?"},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1697808279,"post_id":77329880,"comment_id":136329835,"body_markdown":"Is this a similar issue? https://stackoverflow.com/questions/41810305/java-sql-sqlexception-invalid-column-name","body":"Is this a similar issue? <a href=\"https://stackoverflow.com/questions/41810305/java-sql-sqlexception-invalid-column-name\" title=\"java sql sqlexception invalid column name\">stackoverflow.com/questions/41810305/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29854220,"reputation":19,"user_id":22879420,"display_name":"T N MOHITH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700131069,"creation_date":1700131069,"answer_id":77494100,"question_id":77329880,"body_markdown":" Adding @Table(name=&quot;Whatever the table name that is present in database in which your columns are present&quot;).Adding this will allow to map the table name in which your columns are present and hence you will get the results that you are expecting.please vote my answer if this worked for you","title":"Invalid column name when executing named query","body":"<p>Adding @Table(name=&quot;Whatever the table name that is present in database in which your columns are present&quot;).Adding this will allow to map the table name in which your columns are present and hence you will get the results that you are expecting.please vote my answer if this worked for you</p>\n"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700131069,"creation_date":1697794894,"question_id":77329880,"body_markdown":"I am getting a strange error when executing a named query. It is complaining about an invalid column name. \r\n\r\nHere is the named query\r\n```\r\n    &lt;sql-query  name=&quot;findCompositionDataPointsApplicableOnDate&quot;&gt;\r\n    \t&lt;return class=&quot;com.application.data.domain.datapoint.AbstractDataPoint&quot; /&gt;\r\n\t\t    &lt;![CDATA[\r\n               select c1.* \r\n                from data_point c1\r\n        \t\twhere c1.name = :name \r\n                and c1.product = :product\r\n                and c1.network_object_id = :networkObject\r\n                and c1.date_effective\r\n        \t\t\t= (select max(c2.date_effective) \r\n                    from data_point c2\r\n        \t\t\twhere c2.name = c1.name \r\n                     and c2.product = c1.product\r\n                     and c2.network_object_id = c1.network_object_id\r\n                    and c2.date_effective &lt;= :gasDay)\r\n        \t\torder by c1.id\r\n\t\t    ]]&gt;\r\n    &lt;/sql-query&gt;\r\n```\r\n\r\nThese are the exact column names in the database table:\r\n\r\nID,  NETWORK_OBJECT_ID,  NAME,  PRODUCT,  DESCRIPTION,  DATE_EFFECTIVE,  DATA_POINT_TYPE\r\n\r\nThis is the code that executes the query \r\n\r\n``` \r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Override\r\n\tpublic List&lt;CompositionDataPoint&gt; findEffectiveByNetworkObjectAndNameAndProduct(NetworkObject&lt;Long&gt; networkObject, String name, Product product,\r\n\t\t\tLocalDate date) {\r\n\t\tSQLQuery query = (SQLQuery) getSession().getNamedQuery(&quot;findCompositionDataPointsApplicableOnDate&quot;)\r\n\t\t.setParameter(&quot;gasDay&quot;, convertToDate(date))\r\n\t\t.setParameter(&quot;name&quot;, name)\r\n\t\t.setParameter(&quot;product&quot;, product.name().toString())\r\n\t\t.setParameter(&quot;networkObject&quot;, networkObject.getId());\r\n\t\treturn query.list();\r\n\t}\r\n ```\r\n\r\n\r\nThe named query executes fine when run on sqlDeveloper but when it is executed when running the application, i get the following error.\r\n\r\n```\r\nCaused by: java.sql.SQLException: Invalid column name\r\n\tat oracle.jdbc.driver.OracleStatement.getColumnIndex(OracleStatement.java:3757)\r\n\tat oracle.jdbc.driver.InsensitiveScrollableResultSet.findColumn(InsensitiveScrollableResultSet.java:264)\r\n\tat oracle.jdbc.driver.GeneratedResultSet.getString(GeneratedResultSet.java:594)\r\n\tat org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:263)\r\n\tat org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:263)\r\n\tat org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62)\r\n\tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\r\n\tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)\r\n\tat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)\r\n\tat org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1624)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)\r\n\tat org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:998)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:967)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n\t... 110 more\r\n```\r\nI have also tried reducing the named query to be just something as simple as `Select * from data_point` and it still gives me the same error. I have also tried listing all the column names out in the select but still the same error. \r\n\r\nAnymore info you need, let me know\r\n\r\nPretty confused. \r\n\r\nedit:\r\n\r\nhere is the data_point hbm file with the mapping - i cant spot anything wrong with this?\r\n\r\n```\r\n&lt;class table=&quot;DATA_POINT&quot; \r\n        name=&quot;com.application.data.domain.datapoint.AbstractDataPoint&quot; \r\n        proxy=&quot;com.application.data.domain.datapoint.DataPoint&quot;\r\n        abstract=&quot;true&quot;\r\n    &gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\r\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;generator class=&quot;sequence&quot;&gt;\r\n                &lt;param name=&quot;sequence&quot;&gt;DATA_POINT_ID_SEQ&lt;/param&gt;\r\n            &lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;discriminator column=&quot;DATA_POINT_TYPE&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;NAME&quot; length=&quot;64&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;product&quot; type=&quot;Product&quot;&gt;\r\n            &lt;column name=&quot;PRODUCT&quot; length=&quot;16&quot; not-null=&quot;false&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;description&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;DESCRIPTION&quot; length=&quot;128&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;many-to-one name=&quot;networkObject&quot; class=&quot;com.application.network.domain.AbstractNetworkObject&quot;&gt;\r\n            &lt;column name=&quot;NETWORK_OBJECT_ID&quot; not-null=&quot;false&quot;/&gt;\r\n        &lt;/many-to-one&gt;\r\n        &lt;property name=&quot;dateEffective&quot; type=&quot;LocalDate&quot;&gt;\r\n            &lt;column name=&quot;DATE_EFFECTIVE&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n```\r\n\r\nHere is the full stacktrace \r\n\r\n``` \r\nInvalid column name\r\nAn error occurred during execution of handler: com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController#display(WebRequest, ViewMonthlyGasDeliveryCompositionSearchCriteria)\r\norg.springframework.orm.hibernate5.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException for SQL [select id, network_object_id, product, description, date_effective, data_point_type\r\n               from data_point]; SQL state [99999]; error code [17006]; could not execute query; nested exception is org.hibernate.exception.GenericJDBCException: could not execute query\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:252)\r\n\tat org.springframework.orm.hibernate5.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:102)\r\n\tat org.springframework.orm.hibernate5.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:77)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:154)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy104.findEffectiveByNetworkObjectAndNameAndProduct(Unknown Source)\r\n\tat com.amor.hcplus.application.data.domain.datapoint.DataPointManagerImpl.getCompositionDataPoints(DataPointManagerImpl.java:43)\r\n\tat com.application.network.domain.AbstractNetworkObject.getCompositionDataPoints(AbstractNetworkObject.java:46)\r\n\tat com.application.network.domain.AbstractMeteredPoint.createMonthlyGasData(AbstractMeteredPoint.java:412)\r\n\tat com.application.composition.domain.CompositionDataRootImpl.getDeliveryPointTotalGasData(CompositionDataRootImpl.java:415)\r\n\tat com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData_aroundBody68(CompositionServiceImpl.java:1263)\r\n\tat com.service.composition.CompositionServiceImpl$AjcClosure69.run(CompositionServiceImpl.java:1)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96cproceed(AbstractTransactionAspect.aj:67)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect$AbstractTransactionAspect$1.proceedWithInvocation(AbstractTransactionAspect.aj:73)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n\tat org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96c(AbstractTransactionAspect.aj:71)\r\n\tat com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData(CompositionServiceImpl.java:1252)\r\n\tat com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController.display(ViewMonthlyGasDeliveryCompositionController.java:122)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:152)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute query\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2871)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677)\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)\r\n\tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n\tat com.amor.hcplus.application.data.dao.hibernate.CompositionDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(CompositionDataPointHibernateDao.java:49)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\t... 93 more\r\nCaused by: java.sql.SQLException: Invalid column name\r\n\tat oracle.jdbc.driver.OracleStatement.getColumnIndex(OracleStatement.java:3757)\r\n\tat oracle.jdbc.driver.InsensitiveScrollableResultSet.findColumn(InsensitiveScrollableResultSet.java:264)\r\n\tat oracle.jdbc.driver.GeneratedResultSet.getString(GeneratedResultSet.java:594)\r\n\tat org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:263)\r\n\tat org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:263)\r\n\tat org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62)\r\n\tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\r\n\tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)\r\n\tat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)\r\n\tat org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)\r\n\tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)\r\n\tat org.hibernate.loader.Loader.getRow(Loader.java:1624)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)\r\n\tat org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:998)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:967)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n\t... 110 more\r\n ```","title":"Invalid column name when executing named query","body":"<p>I am getting a strange error when executing a named query. It is complaining about an invalid column name.</p>\n<p>Here is the named query</p>\n<pre><code>    &lt;sql-query  name=&quot;findCompositionDataPointsApplicableOnDate&quot;&gt;\n        &lt;return class=&quot;com.application.data.domain.datapoint.AbstractDataPoint&quot; /&gt;\n            &lt;![CDATA[\n               select c1.* \n                from data_point c1\n                where c1.name = :name \n                and c1.product = :product\n                and c1.network_object_id = :networkObject\n                and c1.date_effective\n                    = (select max(c2.date_effective) \n                    from data_point c2\n                    where c2.name = c1.name \n                     and c2.product = c1.product\n                     and c2.network_object_id = c1.network_object_id\n                    and c2.date_effective &lt;= :gasDay)\n                order by c1.id\n            ]]&gt;\n    &lt;/sql-query&gt;\n</code></pre>\n<p>These are the exact column names in the database table:</p>\n<p>ID,  NETWORK_OBJECT_ID,  NAME,  PRODUCT,  DESCRIPTION,  DATE_EFFECTIVE,  DATA_POINT_TYPE</p>\n<p>This is the code that executes the query</p>\n<pre><code>    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public List&lt;CompositionDataPoint&gt; findEffectiveByNetworkObjectAndNameAndProduct(NetworkObject&lt;Long&gt; networkObject, String name, Product product,\n            LocalDate date) {\n        SQLQuery query = (SQLQuery) getSession().getNamedQuery(&quot;findCompositionDataPointsApplicableOnDate&quot;)\n        .setParameter(&quot;gasDay&quot;, convertToDate(date))\n        .setParameter(&quot;name&quot;, name)\n        .setParameter(&quot;product&quot;, product.name().toString())\n        .setParameter(&quot;networkObject&quot;, networkObject.getId());\n        return query.list();\n    }\n</code></pre>\n<p>The named query executes fine when run on sqlDeveloper but when it is executed when running the application, i get the following error.</p>\n<pre><code>Caused by: java.sql.SQLException: Invalid column name\n    at oracle.jdbc.driver.OracleStatement.getColumnIndex(OracleStatement.java:3757)\n    at oracle.jdbc.driver.InsensitiveScrollableResultSet.findColumn(InsensitiveScrollableResultSet.java:264)\n    at oracle.jdbc.driver.GeneratedResultSet.getString(GeneratedResultSet.java:594)\n    at org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:263)\n    at org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:263)\n    at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62)\n    at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\n    at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\n    at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)\n    at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)\n    at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)\n    at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)\n    at org.hibernate.loader.Loader.getRow(Loader.java:1624)\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)\n    at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:998)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:967)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doList(Loader.java:2868)\n    ... 110 more\n</code></pre>\n<p>I have also tried reducing the named query to be just something as simple as <code>Select * from data_point</code> and it still gives me the same error. I have also tried listing all the column names out in the select but still the same error.</p>\n<p>Anymore info you need, let me know</p>\n<p>Pretty confused.</p>\n<p>edit:</p>\n<p>here is the data_point hbm file with the mapping - i cant spot anything wrong with this?</p>\n<pre><code>&lt;class table=&quot;DATA_POINT&quot; \n        name=&quot;com.application.data.domain.datapoint.AbstractDataPoint&quot; \n        proxy=&quot;com.application.data.domain.datapoint.DataPoint&quot;\n        abstract=&quot;true&quot;\n    &gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\n            &lt;generator class=&quot;sequence&quot;&gt;\n                &lt;param name=&quot;sequence&quot;&gt;DATA_POINT_ID_SEQ&lt;/param&gt;\n            &lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;discriminator column=&quot;DATA_POINT_TYPE&quot; type=&quot;string&quot; /&gt;\n        &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;NAME&quot; length=&quot;64&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;product&quot; type=&quot;Product&quot;&gt;\n            &lt;column name=&quot;PRODUCT&quot; length=&quot;16&quot; not-null=&quot;false&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;description&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;DESCRIPTION&quot; length=&quot;128&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n        &lt;many-to-one name=&quot;networkObject&quot; class=&quot;com.application.network.domain.AbstractNetworkObject&quot;&gt;\n            &lt;column name=&quot;NETWORK_OBJECT_ID&quot; not-null=&quot;false&quot;/&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=&quot;dateEffective&quot; type=&quot;LocalDate&quot;&gt;\n            &lt;column name=&quot;DATE_EFFECTIVE&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/property&gt;\n</code></pre>\n<p>Here is the full stacktrace</p>\n<pre><code>Invalid column name\nAn error occurred during execution of handler: com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController#display(WebRequest, ViewMonthlyGasDeliveryCompositionSearchCriteria)\norg.springframework.orm.hibernate5.HibernateJdbcException: JDBC exception on Hibernate data access: SQLException for SQL [select id, network_object_id, product, description, date_effective, data_point_type\n               from data_point]; SQL state [99999]; error code [17006]; could not execute query; nested exception is org.hibernate.exception.GenericJDBCException: could not execute query\n    at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:252)\n    at org.springframework.orm.hibernate5.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:102)\n    at org.springframework.orm.hibernate5.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:77)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:154)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy104.findEffectiveByNetworkObjectAndNameAndProduct(Unknown Source)\n    at com.amor.hcplus.application.data.domain.datapoint.DataPointManagerImpl.getCompositionDataPoints(DataPointManagerImpl.java:43)\n    at com.application.network.domain.AbstractNetworkObject.getCompositionDataPoints(AbstractNetworkObject.java:46)\n    at com.application.network.domain.AbstractMeteredPoint.createMonthlyGasData(AbstractMeteredPoint.java:412)\n    at com.application.composition.domain.CompositionDataRootImpl.getDeliveryPointTotalGasData(CompositionDataRootImpl.java:415)\n    at com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData_aroundBody68(CompositionServiceImpl.java:1263)\n    at com.service.composition.CompositionServiceImpl$AjcClosure69.run(CompositionServiceImpl.java:1)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96cproceed(AbstractTransactionAspect.aj:67)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect$AbstractTransactionAspect$1.proceedWithInvocation(AbstractTransactionAspect.aj:73)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\n    at org.springframework.transaction.aspectj.AbstractTransactionAspect.ajc$around$org_springframework_transaction_aspectj_AbstractTransactionAspect$1$2a73e96c(AbstractTransactionAspect.aj:71)\n    at com.service.composition.CompositionServiceImpl.getMonthlyTotalCommingledGasData(CompositionServiceImpl.java:1252)\n    at com.web.mvc.composition.ViewMonthlyGasDeliveryCompositionController.display(ViewMonthlyGasDeliveryCompositionController.java:122)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:152)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:156)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute query\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.loader.Loader.doList(Loader.java:2871)\n    at org.hibernate.loader.Loader.doList(Loader.java:2850)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\n    at org.hibernate.loader.Loader.list(Loader.java:2677)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)\n    at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)\n    at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\n    at com.amor.hcplus.application.data.dao.hibernate.CompositionDataPointHibernateDao.findEffectiveByNetworkObjectAndNameAndProduct(CompositionDataPointHibernateDao.java:49)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    ... 93 more\nCaused by: java.sql.SQLException: Invalid column name\n    at oracle.jdbc.driver.OracleStatement.getColumnIndex(OracleStatement.java:3757)\n    at oracle.jdbc.driver.InsensitiveScrollableResultSet.findColumn(InsensitiveScrollableResultSet.java:264)\n    at oracle.jdbc.driver.GeneratedResultSet.getString(GeneratedResultSet.java:594)\n    at org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:263)\n    at org.apache.commons.dbcp.DelegatingResultSet.getString(DelegatingResultSet.java:263)\n    at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62)\n    at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\n    at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\n    at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)\n    at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)\n    at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)\n    at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)\n    at org.hibernate.loader.Loader.getRow(Loader.java:1624)\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)\n    at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:998)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:967)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doList(Loader.java:2868)\n    ... 110 more\n</code></pre>\n"},{"tags":["java","kotlin","github","bluetooth-lowenergy","esp32"],"owner":{"account_id":25577581,"reputation":15,"user_id":19356725,"display_name":"Javed Quantum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700130992,"creation_date":1700130798,"question_id":77494069,"body_markdown":"    public class MainScreen extends AppCompatActivity implements Serializable, Observer {\r\n        BluetoothAdapter mBluetoothAdapter;\r\n    \r\n        public static final String Tag=&quot;DetailBle&quot;;\r\n        boolean MAINSSTATUS;\r\n        boolean SOLARSTATUS;\r\n    //    boolean UPSSTATUS;\r\n        private static boolean UPSSTATUS;\r\n        boolean BATTERYFULL;\r\n        String  CHARGING_STATUS,CHARGING_LABEL;\r\n        View view;\r\n        LinearLayout statusLayout;\r\n        int psckecked;\r\n        Alarms alarms;\r\n    \r\n        List&lt;BluetoothGattCharacteristic&gt; characteristicsList = new ArrayList&lt;&gt;();\r\n        List&lt;BluetoothGattService&gt; servicesList;\r\n        BleDevice bleDevice;\r\n        BluetoothGattService service;\r\n        List&lt;StringBuilder&gt; builderList;\r\n    \r\n        // here we define our variable connected to xml file\r\n    \r\n        LinearLayout solarArrowLoad, solarArrowBattery, gridArrowLoad, gridArrowBattery,batteryArrowLoad;\r\n    \r\n    \r\n        TextView solarToloadP,solarToBatteryCur;\r\n                //gridToLoadP,gridToBatteryCu;  ye comment kiye hai\r\n    //    todayPS  totalps,solarPower  ye bhi comment kiya hai\r\n    \r\n        TextView solarCurrent,batteryVolt,batteryCurrent,SRnumber, gridVolt,loadPersent;\r\n        TextView connetionStatus;\r\n        Button upsStatus,upsMode,highCharging,powerSaving;  // btn to txt here error\r\n        ImageView solarPanel,battery,homeLoad,supply;\r\n        //\r\n    \r\n    \r\n        //\r\n    \r\n        int writeFlag;\r\n    \r\n        ClickDialog clickDialog;\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_detail_ble);\r\n            ObserverManager.Companion.getInstance().addObserver(this);\r\n            mBluetoothAdapter=BluetoothAdapter.getDefaultAdapter();\r\n    \r\n            BleDevice bleDevice1 = getIntent().getParcelableExtra(&quot;bleDevice&quot;); //BLE class object\r\n    //      bleDevice1.getName().toString();\r\n    \r\n    \r\n            if (bleDevice1 != null){\r\n                Log.d(&quot;&quot;,&quot;javed&quot;+bleDevice1.getName());\r\n                start(bleDevice1);\r\n            }\r\n    \r\n            // D4:D4:DA:30:8D:62\r\n            else {\r\n                Toast.makeText(this, &quot;yaha dikaat hai ky  bhai&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n        }\r\n        void start(BleDevice bleDevice1){\r\n            bleDevice=bleDevice1;\r\n            Log.d(&quot;&quot;,&quot;oldhai&quot;+bleDevice.getName());\r\n    \r\n    \r\n            if (bleDevice!=null){\r\n    \r\n    \r\n                if (BleManager.getInstance().isConnected(bleDevice)){\r\n                    initView();\r\n                    setData();\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException ex) {\r\n                        Thread.currentThread().interrupt();\r\n                    }\r\n                    //notifyClick();\r\n                   write(&quot;hello sir&quot;); //1\r\n                    Log.d(&quot;Tag&quot;,&quot;msg&quot;+write(&quot;i am coder&quot;));\r\n                    Log.d(&quot;Tag&quot;,&quot;msg&quot;+write(&quot;i am coder&quot;));\r\n                    try {\r\n                        Thread.sleep(500);\r\n                    } catch (InterruptedException ex) {\r\n                        Thread.currentThread().interrupt();\r\n                    }\r\n                    indicate();\r\n    \r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException ex) {\r\n                        Thread.currentThread().interrupt();\r\n                    }\r\n    \r\n                    setMTU();\r\n    \r\n    \r\n                }\r\n                else\r\n                    Toast.makeText(this, &quot;Device is not connected&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.d(Tag+&quot;onCreate&quot;,&quot;Device id not connected&quot;);\r\n            }\r\n            setConnectivityStatus();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n        }\r\n        @Override\r\n        protected void onResume() {\r\n            //start handler as activity become visible\r\n            // startCkeckStatus();\r\n            super.onResume();\r\n        }\r\n    \r\n    \r\n        private void setConnectivityStatus() {\r\n            if (getConnectivityStatus()) {\r\n                connetionStatus.setText(getText(R.string.connected));\r\n                Log.d(Tag,&quot;Connected&quot;);\r\n            }\r\n            else {\r\n                connetionStatus.setText(R.string.active_disconnected);\r\n                Log.d(Tag,&quot;Disconnected&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        private boolean getConnectivityStatus() {\r\n            return  BleManager.getInstance().isConnected(bleDevice);\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            if (bleDevice!=null){\r\n                BleManager.getInstance().disconnect(bleDevice);\r\n                BleManager.getInstance().destroy();}\r\n            stopNotification();\r\n        }\r\n    \r\n        private void initView() {\r\n            servicesList = new ArrayList&lt;&gt;();\r\n            builderList= new ArrayList&lt;&gt;();\r\n    \r\n            connetionStatus=findViewById(R.id.connected_status);\r\n    \r\n            solarToloadP=findViewById(R.id.solar_to_load_power);\r\n            solarToBatteryCur=findViewById(R.id.solar_to_battery_current);\r\n            // 208 and 209 and 214 ,2013.1113,1117,1118,1198,1120 these line will be connected\r\n        //    gridToLoadP=findViewById(R.id.grid_to_load_power);\r\n        //    gridToBatteryCu=findViewById(R.id.grid_to_battery_current);\r\n    \r\n    //        todayPS=findViewById(R.id.today_power_saved);\r\n    //        totalPS=findViewById(R.id.total_power_saved);\r\n    \r\n      //      solarPower=findViewById(R.id.solar_power);\r\n            //  solarCurrent=findViewById(R.id.solar_current);\r\n            SRnumber = findViewById(R.id.serialNO);\r\n            gridVolt =findViewById(R.id.ip_volt);\r\n            loadPersent=findViewById(R.id.load_presentge);\r\n            batteryVolt=findViewById(R.id.battery_volt);\r\n            batteryCurrent=findViewById(R.id.battrery_to_load_power);\r\n    \r\n    \r\n    \r\n            upsStatus=findViewById(R.id.ups_status);\r\n           upsMode=findViewById(R.id.ups_mode);\r\n            highCharging=findViewById(R.id.high_charging);\r\n            powerSaving=findViewById(R.id.power_saving);\r\n    \r\n            solarPanel=findViewById(R.id.solar_panel);\r\n            supply=findViewById(R.id.supply);\r\n            battery=findViewById(R.id.battery);\r\n            homeLoad=findViewById(R.id.load);\r\n    \r\n            gridArrowLoad =findViewById(R.id.grid_arroweup);\r\n            gridArrowBattery =findViewById(R.id.grid_arrowdown);\r\n    \r\n            solarArrowLoad =findViewById(R.id.solar_arrow_up);\r\n            solarArrowBattery =findViewById(R.id.solar_arrow_mid);\r\n            batteryArrowLoad =findViewById(R.id.battery_to_load);\r\n    \r\n        }\r\n    \r\n        private void setData() {\r\n            BluetoothGatt gatt = BleManager.getInstance().getBluetoothGatt(bleDevice);\r\n            alarms=new Alarms(MainScreen.this);\r\n    \r\n            clickDialog = new ClickDialog(MainScreen.this);\r\n            view =getWindow().getDecorView().findViewById(android.R.id.content);\r\n            for (BluetoothGattService service : gatt.getServices()) {\r\n                servicesList.add(service);\r\n    \r\n            }\r\n            service = servicesList.get(2); // 3-1 services chl rhe hai\r\n        //    Log.d(&quot;&quot;,&quot;i am ser&quot;+service);\r\n    ////        Log.d(&quot;&quot;,&quot;service1&quot;+service.getCharacteristics().get(1));\r\n    //        Log.d(&quot;&quot;,&quot;service1&quot;+servicesList.get(1));\r\n    //        Log.d(&quot;&quot;,&quot;service0&quot;+servicesList.get(0));\r\n    //        Log.d(&quot;&quot;,&quot;service2&quot;+servicesList.get(2));\r\n            characteristicsList.addAll(service.getCharacteristics());\r\n    \r\n            /* ************************************* Button ******************************************* */\r\n    //        upsStatus.setOnClickListener(view -&gt; {\r\n    //            Toast.makeText(MainScreen.this, &quot;data is coming&quot;,\r\n    //                    Toast.LENGTH_SHORT).show();\r\n    //            if (!builderList.isEmpty()) {\r\n    //                if (upsStatus.getText() == getString(R.string.ups_on)) {\r\n    //                    Toast.makeText(MainScreen.this, &quot;data is coming&quot;,\r\n    //                            Toast.LENGTH_SHORT).show();\r\n    //                    // String input = builderList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_off) + &quot;%&quot; + &quot;END&quot;;\r\n    //                    String input = builderList.get(7).toString() + &quot;%&quot; + &quot;OFF&quot;+ &quot;%&quot; + &quot;END&quot;;\r\n    //                    Log.d(&quot;&quot;,&quot;buton&quot;+ input);\r\n    //                    int status = write(input);\r\n    //                    if (status == 4)\r\n    //                        upsStatus.setText(getString(R.string.ups_off));\r\n    //\r\n    //                    else\r\n    //                        Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\r\n    //                                Toast.LENGTH_SHORT).show();\r\n    //\r\n    //                } else {\r\n    //                    //  String input = builderList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_on) + &quot;%&quot; + &quot;END&quot;;\r\n    //                    String input = builderList.get(7).toString() + &quot;%&quot; + &quot; ON&quot;+ &quot;%&quot; + &quot;END&quot;;\r\n    //                    int status = write(input);\r\n    //                    Log.d(&quot;YourTag&quot;, &quot;write method executed. Status: &quot; + status);\r\n    //                    if (status == 1)\r\n    //                        upsStatus.setText(getString(R.string.ups_on));\r\n    //                    else\r\n    //                        Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\r\n    //                                Toast.LENGTH_SHORT).show();\r\n    //                }\r\n    //            }\r\n    //\r\n    //        });\r\n    \r\n            // button hai yha p\r\n    \r\n    //        upsStatus.setOnClickListener(new View.OnClickListener() {\r\n    //\r\n    //            @Override\r\n    //            public void onClick(View view) {\r\n    //\r\n    //\r\n    //                        if (!builderList.isEmpty()) {\r\n    //                    if (upsStatus.getText() == getString(R.string.ups_on)) {\r\n    //\r\n    //                        // String input = mArrayList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_off) + &quot;%&quot; + &quot;END&quot;;\r\n    //                        String input = builderList.get(1).toString() ;\r\n    //                        Log.d(&quot;&quot;,&quot;input&quot;+input.toString());\r\n    //                        Log.d(&quot;&quot;,&quot;upsss&quot;+builderList.get(10).toString());\r\n    //                        int status = write(input);\r\n    //                        Log.d(&quot;&quot;,&quot;input&quot;+status);\r\n    //                        if (status == 1)\r\n    //                            upsStatus.setText(getString(R.string.ups_off));\r\n    //                        else\r\n    //                            Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\r\n    //                                    Toast.LENGTH_SHORT).show();\r\n    //                    } else {\r\n    //                        //  String input = mArrayList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_on) + &quot;%&quot; + &quot;END&quot;;\r\n    //                        String input = builderList.get(1).toString() + &quot;%&quot; + &quot; ON&quot; + &quot;%&quot; + &quot;END&quot;;\r\n    //                        int status = write(input);\r\n    //                        if (status == 1)\r\n    //                            upsStatus.setText(getString(R.string.ups_on));\r\n    //                        else\r\n    //                            Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\r\n    //                                    Toast.LENGTH_SHORT).show();\r\n    //                    }\r\n    //                }\r\n    //\r\n    //            }\r\n    //        });\r\n    \r\n    //        upsStatus.setOnClickListener(new View.OnClickListener() {\r\n    //\r\n    //            @Override\r\n    //            public void onClick(View view) {\r\n    //\r\n    //                try {\r\n    //                    if (!builderList.isEmpty()) {\r\n    //                        Log.d(&quot;&quot;, &quot;Builder list size: &quot; + builderList.size());\r\n    //                        Toast.makeText(MainScreen.this, &quot;data is coming&quot;,\r\n    //                                Toast.LENGTH_SHORT).show();\r\n    //                        Log.d(&quot;&quot;,&quot;mybuil&quot;+builderList.get(1));\r\n    //                        if (upsStatus.getText().equals(getString(R.string.ups_on))) {\r\n    //                            String input = builderList.get(1).toString();\r\n    //                            int status = write(input);\r\n    //                            if (status == 1)\r\n    //                                upsStatus.setText(getString(R.string.ups_off));\r\n    //                            else\r\n    //                                Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\r\n    //                                        Toast.LENGTH_SHORT).show();\r\n    //                        } else {\r\n    //                            String input = builderList.get(1).toString() + &quot;%&quot; + &quot; ON&quot; + &quot;%&quot; + &quot;END&quot;;\r\n    //                            int status = write(input);\r\n    //                            if (status == 1)\r\n    //                                upsStatus.setText(getString(R.string.ups_on));\r\n    //                            else\r\n    //                                Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\r\n    //                                        Toast.LENGTH_SHORT).show();\r\n    //                        }\r\n    //                    }\r\n    //                } catch (Exception e) {\r\n    //                    // Handle exceptions here\r\n    //                    e.printStackTrace(); // This line prints the exception&#39;s stack trace for debugging\r\n    //                    // You can display an error message or handle the exception in a way suitable for your application\r\n    //                    Toast.makeText(MainScreen.this, &quot;An error occurred: &quot; + e.getMessage(),\r\n    //                            Toast.LENGTH_SHORT).show();\r\n    //                }\r\n    //            }\r\n    //        });\r\n    \r\n            upsStatus.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (!builderList.isEmpty()) {\r\n                        if (upsStatus.getText() == getString(R.string.ups_on)) {\r\n                            // String input = mArrayList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_off) + &quot;%&quot; + &quot;END&quot;;\r\n    \r\n                            String input = builderList.get(1).toString() + &quot;%&quot; + &quot;OFF&quot; + &quot;%&quot; + &quot;END&quot;;\r\n                            Log.d(&quot;&quot;,&quot;upsss&quot;+builderList.subList(1,10));\r\n                            int status = write(input);\r\n                            if (status == 1)\r\n                                upsStatus.setText(getString(R.string.ups_off));\r\n                            else\r\n                                Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\r\n                                        Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            //  String input = mArrayList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_on) + &quot;%&quot; + &quot;END&quot;;\r\n                            String input = builderList.get(1).toString() + &quot;%&quot; + &quot; ON&quot; + &quot;%&quot; + &quot;END&quot;;\r\n                            int status = write(input);\r\n                            if (status == 1)\r\n                                upsStatus.setText(getString(R.string.ups_on));\r\n                            else\r\n                                Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\r\n                                        Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            });\r\n    \r\n  I have an Android app with a user interface containing a button. On button click, I initiate a write operation to a specific BLE characteristic associated with the ESP32 server to transmit data. However, despite the code being implemented to write data to the characteristic, the data isn&#39;t successfully transmitted to the ESP32.\r\nThe data I received correctly from the server is below.\r\nUPS%12345678%223%012.8%000%223%00.0%04%1%001%13.5%00.0%00.3%00.0%00.4%000.0%000.0%END\r\nNow I have to send this data from the Android App to esp32.\r\n   String input = builderList.get(1).toString() + &quot;%&quot; + &quot; ON&quot; + &quot;%&quot; + &quot;END&quot;;\r\n  \r\n","title":"when click on button from Android Application my characteristics write not send data to esp32 module","body":"<pre><code>public class MainScreen extends AppCompatActivity implements Serializable, Observer {\n    BluetoothAdapter mBluetoothAdapter;\n\n    public static final String Tag=&quot;DetailBle&quot;;\n    boolean MAINSSTATUS;\n    boolean SOLARSTATUS;\n//    boolean UPSSTATUS;\n    private static boolean UPSSTATUS;\n    boolean BATTERYFULL;\n    String  CHARGING_STATUS,CHARGING_LABEL;\n    View view;\n    LinearLayout statusLayout;\n    int psckecked;\n    Alarms alarms;\n\n    List&lt;BluetoothGattCharacteristic&gt; characteristicsList = new ArrayList&lt;&gt;();\n    List&lt;BluetoothGattService&gt; servicesList;\n    BleDevice bleDevice;\n    BluetoothGattService service;\n    List&lt;StringBuilder&gt; builderList;\n\n    // here we define our variable connected to xml file\n\n    LinearLayout solarArrowLoad, solarArrowBattery, gridArrowLoad, gridArrowBattery,batteryArrowLoad;\n\n\n    TextView solarToloadP,solarToBatteryCur;\n            //gridToLoadP,gridToBatteryCu;  ye comment kiye hai\n//    todayPS  totalps,solarPower  ye bhi comment kiya hai\n\n    TextView solarCurrent,batteryVolt,batteryCurrent,SRnumber, gridVolt,loadPersent;\n    TextView connetionStatus;\n    Button upsStatus,upsMode,highCharging,powerSaving;  // btn to txt here error\n    ImageView solarPanel,battery,homeLoad,supply;\n    //\n\n\n    //\n\n    int writeFlag;\n\n    ClickDialog clickDialog;\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_detail_ble);\n        ObserverManager.Companion.getInstance().addObserver(this);\n        mBluetoothAdapter=BluetoothAdapter.getDefaultAdapter();\n\n        BleDevice bleDevice1 = getIntent().getParcelableExtra(&quot;bleDevice&quot;); //BLE class object\n//      bleDevice1.getName().toString();\n\n\n        if (bleDevice1 != null){\n            Log.d(&quot;&quot;,&quot;javed&quot;+bleDevice1.getName());\n            start(bleDevice1);\n        }\n\n        // D4:D4:DA:30:8D:62\n        else {\n            Toast.makeText(this, &quot;yaha dikaat hai ky  bhai&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n    }\n    void start(BleDevice bleDevice1){\n        bleDevice=bleDevice1;\n        Log.d(&quot;&quot;,&quot;oldhai&quot;+bleDevice.getName());\n\n\n        if (bleDevice!=null){\n\n\n            if (BleManager.getInstance().isConnected(bleDevice)){\n                initView();\n                setData();\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException ex) {\n                    Thread.currentThread().interrupt();\n                }\n                //notifyClick();\n               write(&quot;hello sir&quot;); //1\n                Log.d(&quot;Tag&quot;,&quot;msg&quot;+write(&quot;i am coder&quot;));\n                Log.d(&quot;Tag&quot;,&quot;msg&quot;+write(&quot;i am coder&quot;));\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException ex) {\n                    Thread.currentThread().interrupt();\n                }\n                indicate();\n\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException ex) {\n                    Thread.currentThread().interrupt();\n                }\n\n                setMTU();\n\n\n            }\n            else\n                Toast.makeText(this, &quot;Device is not connected&quot;, Toast.LENGTH_SHORT).show();\n            Log.d(Tag+&quot;onCreate&quot;,&quot;Device id not connected&quot;);\n        }\n        setConnectivityStatus();\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n    }\n    @Override\n    protected void onResume() {\n        //start handler as activity become visible\n        // startCkeckStatus();\n        super.onResume();\n    }\n\n\n    private void setConnectivityStatus() {\n        if (getConnectivityStatus()) {\n            connetionStatus.setText(getText(R.string.connected));\n            Log.d(Tag,&quot;Connected&quot;);\n        }\n        else {\n            connetionStatus.setText(R.string.active_disconnected);\n            Log.d(Tag,&quot;Disconnected&quot;);\n        }\n\n    }\n\n    private boolean getConnectivityStatus() {\n        return  BleManager.getInstance().isConnected(bleDevice);\n    }\n\n\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (bleDevice!=null){\n            BleManager.getInstance().disconnect(bleDevice);\n            BleManager.getInstance().destroy();}\n        stopNotification();\n    }\n\n    private void initView() {\n        servicesList = new ArrayList&lt;&gt;();\n        builderList= new ArrayList&lt;&gt;();\n\n        connetionStatus=findViewById(R.id.connected_status);\n\n        solarToloadP=findViewById(R.id.solar_to_load_power);\n        solarToBatteryCur=findViewById(R.id.solar_to_battery_current);\n        // 208 and 209 and 214 ,2013.1113,1117,1118,1198,1120 these line will be connected\n    //    gridToLoadP=findViewById(R.id.grid_to_load_power);\n    //    gridToBatteryCu=findViewById(R.id.grid_to_battery_current);\n\n//        todayPS=findViewById(R.id.today_power_saved);\n//        totalPS=findViewById(R.id.total_power_saved);\n\n  //      solarPower=findViewById(R.id.solar_power);\n        //  solarCurrent=findViewById(R.id.solar_current);\n        SRnumber = findViewById(R.id.serialNO);\n        gridVolt =findViewById(R.id.ip_volt);\n        loadPersent=findViewById(R.id.load_presentge);\n        batteryVolt=findViewById(R.id.battery_volt);\n        batteryCurrent=findViewById(R.id.battrery_to_load_power);\n\n\n\n        upsStatus=findViewById(R.id.ups_status);\n       upsMode=findViewById(R.id.ups_mode);\n        highCharging=findViewById(R.id.high_charging);\n        powerSaving=findViewById(R.id.power_saving);\n\n        solarPanel=findViewById(R.id.solar_panel);\n        supply=findViewById(R.id.supply);\n        battery=findViewById(R.id.battery);\n        homeLoad=findViewById(R.id.load);\n\n        gridArrowLoad =findViewById(R.id.grid_arroweup);\n        gridArrowBattery =findViewById(R.id.grid_arrowdown);\n\n        solarArrowLoad =findViewById(R.id.solar_arrow_up);\n        solarArrowBattery =findViewById(R.id.solar_arrow_mid);\n        batteryArrowLoad =findViewById(R.id.battery_to_load);\n\n    }\n\n    private void setData() {\n        BluetoothGatt gatt = BleManager.getInstance().getBluetoothGatt(bleDevice);\n        alarms=new Alarms(MainScreen.this);\n\n        clickDialog = new ClickDialog(MainScreen.this);\n        view =getWindow().getDecorView().findViewById(android.R.id.content);\n        for (BluetoothGattService service : gatt.getServices()) {\n            servicesList.add(service);\n\n        }\n        service = servicesList.get(2); // 3-1 services chl rhe hai\n    //    Log.d(&quot;&quot;,&quot;i am ser&quot;+service);\n////        Log.d(&quot;&quot;,&quot;service1&quot;+service.getCharacteristics().get(1));\n//        Log.d(&quot;&quot;,&quot;service1&quot;+servicesList.get(1));\n//        Log.d(&quot;&quot;,&quot;service0&quot;+servicesList.get(0));\n//        Log.d(&quot;&quot;,&quot;service2&quot;+servicesList.get(2));\n        characteristicsList.addAll(service.getCharacteristics());\n\n        /* ************************************* Button ******************************************* */\n//        upsStatus.setOnClickListener(view -&gt; {\n//            Toast.makeText(MainScreen.this, &quot;data is coming&quot;,\n//                    Toast.LENGTH_SHORT).show();\n//            if (!builderList.isEmpty()) {\n//                if (upsStatus.getText() == getString(R.string.ups_on)) {\n//                    Toast.makeText(MainScreen.this, &quot;data is coming&quot;,\n//                            Toast.LENGTH_SHORT).show();\n//                    // String input = builderList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_off) + &quot;%&quot; + &quot;END&quot;;\n//                    String input = builderList.get(7).toString() + &quot;%&quot; + &quot;OFF&quot;+ &quot;%&quot; + &quot;END&quot;;\n//                    Log.d(&quot;&quot;,&quot;buton&quot;+ input);\n//                    int status = write(input);\n//                    if (status == 4)\n//                        upsStatus.setText(getString(R.string.ups_off));\n//\n//                    else\n//                        Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\n//                                Toast.LENGTH_SHORT).show();\n//\n//                } else {\n//                    //  String input = builderList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_on) + &quot;%&quot; + &quot;END&quot;;\n//                    String input = builderList.get(7).toString() + &quot;%&quot; + &quot; ON&quot;+ &quot;%&quot; + &quot;END&quot;;\n//                    int status = write(input);\n//                    Log.d(&quot;YourTag&quot;, &quot;write method executed. Status: &quot; + status);\n//                    if (status == 1)\n//                        upsStatus.setText(getString(R.string.ups_on));\n//                    else\n//                        Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\n//                                Toast.LENGTH_SHORT).show();\n//                }\n//            }\n//\n//        });\n\n        // button hai yha p\n\n//        upsStatus.setOnClickListener(new View.OnClickListener() {\n//\n//            @Override\n//            public void onClick(View view) {\n//\n//\n//                        if (!builderList.isEmpty()) {\n//                    if (upsStatus.getText() == getString(R.string.ups_on)) {\n//\n//                        // String input = mArrayList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_off) + &quot;%&quot; + &quot;END&quot;;\n//                        String input = builderList.get(1).toString() ;\n//                        Log.d(&quot;&quot;,&quot;input&quot;+input.toString());\n//                        Log.d(&quot;&quot;,&quot;upsss&quot;+builderList.get(10).toString());\n//                        int status = write(input);\n//                        Log.d(&quot;&quot;,&quot;input&quot;+status);\n//                        if (status == 1)\n//                            upsStatus.setText(getString(R.string.ups_off));\n//                        else\n//                            Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\n//                                    Toast.LENGTH_SHORT).show();\n//                    } else {\n//                        //  String input = mArrayList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_on) + &quot;%&quot; + &quot;END&quot;;\n//                        String input = builderList.get(1).toString() + &quot;%&quot; + &quot; ON&quot; + &quot;%&quot; + &quot;END&quot;;\n//                        int status = write(input);\n//                        if (status == 1)\n//                            upsStatus.setText(getString(R.string.ups_on));\n//                        else\n//                            Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\n//                                    Toast.LENGTH_SHORT).show();\n//                    }\n//                }\n//\n//            }\n//        });\n\n//        upsStatus.setOnClickListener(new View.OnClickListener() {\n//\n//            @Override\n//            public void onClick(View view) {\n//\n//                try {\n//                    if (!builderList.isEmpty()) {\n//                        Log.d(&quot;&quot;, &quot;Builder list size: &quot; + builderList.size());\n//                        Toast.makeText(MainScreen.this, &quot;data is coming&quot;,\n//                                Toast.LENGTH_SHORT).show();\n//                        Log.d(&quot;&quot;,&quot;mybuil&quot;+builderList.get(1));\n//                        if (upsStatus.getText().equals(getString(R.string.ups_on))) {\n//                            String input = builderList.get(1).toString();\n//                            int status = write(input);\n//                            if (status == 1)\n//                                upsStatus.setText(getString(R.string.ups_off));\n//                            else\n//                                Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\n//                                        Toast.LENGTH_SHORT).show();\n//                        } else {\n//                            String input = builderList.get(1).toString() + &quot;%&quot; + &quot; ON&quot; + &quot;%&quot; + &quot;END&quot;;\n//                            int status = write(input);\n//                            if (status == 1)\n//                                upsStatus.setText(getString(R.string.ups_on));\n//                            else\n//                                Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\n//                                        Toast.LENGTH_SHORT).show();\n//                        }\n//                    }\n//                } catch (Exception e) {\n//                    // Handle exceptions here\n//                    e.printStackTrace(); // This line prints the exception's stack trace for debugging\n//                    // You can display an error message or handle the exception in a way suitable for your application\n//                    Toast.makeText(MainScreen.this, &quot;An error occurred: &quot; + e.getMessage(),\n//                            Toast.LENGTH_SHORT).show();\n//                }\n//            }\n//        });\n\n        upsStatus.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (!builderList.isEmpty()) {\n                    if (upsStatus.getText() == getString(R.string.ups_on)) {\n                        // String input = mArrayList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_off) + &quot;%&quot; + &quot;END&quot;;\n\n                        String input = builderList.get(1).toString() + &quot;%&quot; + &quot;OFF&quot; + &quot;%&quot; + &quot;END&quot;;\n                        Log.d(&quot;&quot;,&quot;upsss&quot;+builderList.subList(1,10));\n                        int status = write(input);\n                        if (status == 1)\n                            upsStatus.setText(getString(R.string.ups_off));\n                        else\n                            Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                    } else {\n                        //  String input = mArrayList.get(1).toString() + &quot;%&quot; + getString(R.string.ups_on) + &quot;%&quot; + &quot;END&quot;;\n                        String input = builderList.get(1).toString() + &quot;%&quot; + &quot; ON&quot; + &quot;%&quot; + &quot;END&quot;;\n                        int status = write(input);\n                        if (status == 1)\n                            upsStatus.setText(getString(R.string.ups_on));\n                        else\n                            Toast.makeText(MainScreen.this, &quot;Operation Fail try again&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                    }\n                }\n\n            }\n        });\n</code></pre>\n<p>I have an Android app with a user interface containing a button. On button click, I initiate a write operation to a specific BLE characteristic associated with the ESP32 server to transmit data. However, despite the code being implemented to write data to the characteristic, the data isn't successfully transmitted to the ESP32.\nThe data I received correctly from the server is below.\nUPS%12345678%223%012.8%000%223%00.0%04%1%001%13.5%00.0%00.3%00.0%00.4%000.0%000.0%END\nNow I have to send this data from the Android App to esp32.\nString input = builderList.get(1).toString() + &quot;%&quot; + &quot; ON&quot; + &quot;%&quot; + &quot;END&quot;;</p>\n"},{"tags":["java","java-11","wsdl2java","cxf-codegen-plugin"],"comments":[{"owner":{"account_id":1555104,"reputation":3384,"user_id":1446479,"accept_rate":45,"display_name":"peedee"},"score":0,"creation_date":1634652808,"post_id":63384143,"comment_id":123079458,"body_markdown":"I assume that this has not yet been implemented, maybe it would come once https://issues.apache.org/jira/browse/CXF-8371 is resolved","body":"I assume that this has not yet been implemented, maybe it would come once <a href=\"https://issues.apache.org/jira/browse/CXF-8371\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/CXF-8371</a> is resolved"}],"answers":[{"tags":[],"owner":{"account_id":16490526,"reputation":359,"user_id":11914568,"display_name":"blacktiago"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1610049778,"creation_date":1610043518,"answer_id":65617883,"question_id":63384143,"body_markdown":"Try using maven-replacer-plugin at generated-source phase, in my case I generate client files on target folder and then replace package there\r\n\r\n    \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;replace-for-jakarta&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;replace&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;filesToInclude&gt;target/generated/**/*.java&lt;/filesToInclude&gt;\r\n\t\t\t\t\t\t\t&lt;preserveDir&gt;true&lt;/preserveDir&gt;\r\n\t\t\t\t\t\t\t&lt;replacements&gt;\r\n\t\t\t\t\t\t\t\t&lt;replacement&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;token&gt;javax.jws&lt;/token&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;jakarta.jws&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t&lt;/replacement&gt;\r\n\t\t\t\t\t\t\t&lt;/replacements&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n","title":"How make cxf-codegen-plugin generate Webservices from jakarta.xml.ws?","body":"<p>Try using maven-replacer-plugin at generated-source phase, in my case I generate client files on target folder and then replace package there</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;replace-for-jakarta&lt;/id&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;replace&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filesToInclude&gt;target/generated/**/*.java&lt;/filesToInclude&gt;\n                        &lt;preserveDir&gt;true&lt;/preserveDir&gt;\n                        &lt;replacements&gt;\n                            &lt;replacement&gt;\n                                &lt;token&gt;javax.jws&lt;/token&gt;\n                                &lt;value&gt;jakarta.jws&lt;/value&gt;\n                            &lt;/replacement&gt;\n                        &lt;/replacements&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6325493,"reputation":465,"user_id":4912093,"display_name":"harryssuperman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651870905,"creation_date":1651870905,"answer_id":72147320,"question_id":63384143,"body_markdown":"in our case the configuration was like this:\r\n\r\n    &lt;configuration&gt;\r\n                                &lt;filesToInclude&gt;${project.build.directory}/generated-sources/cxf/**/*.java&lt;/filesToInclude&gt;\r\n                                &lt;preserveDir&gt;true&lt;/preserveDir&gt;\r\n                                &lt;replacements&gt;\r\n                                    &lt;replacement&gt;\r\n                                        &lt;token&gt;javax.xml.bind&lt;/token&gt;\r\n                                        &lt;value&gt;jakarta.xml.bind&lt;/value&gt;\r\n                                    &lt;/replacement&gt;\r\n                                    &lt;replacement&gt;\r\n                                        &lt;token&gt;javax.annotation&lt;/token&gt;\r\n                                        &lt;value&gt;jakarta.annotation&lt;/value&gt;\r\n                                    &lt;/replacement&gt;\r\n                                    &lt;replacement&gt;\r\n                                        &lt;token&gt;javax.jws&lt;/token&gt;\r\n                                        &lt;value&gt;jakarta.jws&lt;/value&gt;\r\n                                    &lt;/replacement&gt;\r\n                                    &lt;replacement&gt;\r\n                                        &lt;token&gt;javax.xml.ws&lt;/token&gt;\r\n                                        &lt;value&gt;jakarta.xml.ws&lt;/value&gt;\r\n                                    &lt;/replacement&gt;\r\n                                &lt;/replacements&gt;\r\n                            &lt;/configuration&gt;","title":"How make cxf-codegen-plugin generate Webservices from jakarta.xml.ws?","body":"<p>in our case the configuration was like this:</p>\n<pre><code>&lt;configuration&gt;\n                            &lt;filesToInclude&gt;${project.build.directory}/generated-sources/cxf/**/*.java&lt;/filesToInclude&gt;\n                            &lt;preserveDir&gt;true&lt;/preserveDir&gt;\n                            &lt;replacements&gt;\n                                &lt;replacement&gt;\n                                    &lt;token&gt;javax.xml.bind&lt;/token&gt;\n                                    &lt;value&gt;jakarta.xml.bind&lt;/value&gt;\n                                &lt;/replacement&gt;\n                                &lt;replacement&gt;\n                                    &lt;token&gt;javax.annotation&lt;/token&gt;\n                                    &lt;value&gt;jakarta.annotation&lt;/value&gt;\n                                &lt;/replacement&gt;\n                                &lt;replacement&gt;\n                                    &lt;token&gt;javax.jws&lt;/token&gt;\n                                    &lt;value&gt;jakarta.jws&lt;/value&gt;\n                                &lt;/replacement&gt;\n                                &lt;replacement&gt;\n                                    &lt;token&gt;javax.xml.ws&lt;/token&gt;\n                                    &lt;value&gt;jakarta.xml.ws&lt;/value&gt;\n                                &lt;/replacement&gt;\n                            &lt;/replacements&gt;\n                        &lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18438243,"reputation":113,"user_id":13431525,"display_name":"Sander Cobbaert"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1700130821,"creation_date":1674212079,"answer_id":75183058,"question_id":63384143,"body_markdown":"Issue has been resolved in [CXF-8371][1]\r\n\r\nIf you upgrade to version &gt;=4.0.0 it will generate jakarta.jws instead of javax.jws.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/CXF-8371","title":"How make cxf-codegen-plugin generate Webservices from jakarta.xml.ws?","body":"<p>Issue has been resolved in <a href=\"https://issues.apache.org/jira/browse/CXF-8371\" rel=\"nofollow noreferrer\">CXF-8371</a></p>\n<p>If you upgrade to version &gt;=4.0.0 it will generate jakarta.jws instead of javax.jws.</p>\n"}],"owner":{"account_id":8901537,"reputation":133,"user_id":6644847,"display_name":"S. Kom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6026,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1700130821,"creation_date":1597263416,"question_id":63384143,"body_markdown":"Migrating from Java 8 to Java 11.\r\n\r\nUpdated cxf-codegen-plugin from version 3.2.0 to 3.3.6.\r\n\r\nPlugin still generates Java stubs from wsdl files using packages from javax.jws.* instead of from jakarta.jws.*:\r\n\r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebParam;\r\n    import javax.jws.WebResult;\r\n    import javax.jws.WebService;\r\n    \r\n    /**\r\n     * This class was generated by Apache CXF 3.3.6\r\n     * 2020-08-12T19:22:40.406+02:00\r\n     * Generated source version: 3.3.6\r\n     *\r\n     */\r\n\r\nAm I getting it wrong that javax.jws is deprecated and should be changed to jakarta.jws?\r\n\r\nAnd how do I accomplish code generation with desired packages?","title":"How make cxf-codegen-plugin generate Webservices from jakarta.xml.ws?","body":"<p>Migrating from Java 8 to Java 11.</p>\n<p>Updated cxf-codegen-plugin from version 3.2.0 to 3.3.6.</p>\n<p>Plugin still generates Java stubs from wsdl files using packages from javax.jws.* instead of from jakarta.jws.*:</p>\n<pre><code>import javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebResult;\nimport javax.jws.WebService;\n\n/**\n * This class was generated by Apache CXF 3.3.6\n * 2020-08-12T19:22:40.406+02:00\n * Generated source version: 3.3.6\n *\n */\n</code></pre>\n<p>Am I getting it wrong that javax.jws is deprecated and should be changed to jakarta.jws?</p>\n<p>And how do I accomplish code generation with desired packages?</p>\n"},{"tags":["java","repository","centos7","java-11","yum"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1700112554,"post_id":77492443,"comment_id":136615337,"body_markdown":"&quot;I want to have latest version.&quot; Java 13 is not the latest version 21 is.","body":"&quot;I want to have latest version.&quot; Java 13 is not the latest version 21 is."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1700130332,"post_id":77492443,"comment_id":136617902,"body_markdown":"Java 13 went out of support in March 2020 with the release of Java 14. At the moment the supported Java versions are Java 8 (support until 2026 ~ 2030 depending on vendor and contract), Java 11 (until 2024 ~ 2032), Java 17 (until 2027 ~ 2029) and Java 21 (until 2029 ~ 2031).","body":"Java 13 went out of support in March 2020 with the release of Java 14. At the moment the supported Java versions are Java 8 (support until 2026 ~ 2030 depending on vendor and contract), Java 11 (until 2024 ~ 2032), Java 17 (until 2027 ~ 2029) and Java 21 (until 2029 ~ 2031)."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1700145787,"post_id":77492443,"comment_id":136620710,"body_markdown":"As already said, JDK 13 is obsolete, however you can download it from https://jdk.java.net/archive/","body":"As already said, JDK 13 is obsolete, however you can download it from <a href=\"https://jdk.java.net/archive/\" rel=\"nofollow noreferrer\">jdk.java.net/archive</a>"},{"owner":{"account_id":890083,"reputation":3745,"user_id":928532,"accept_rate":62,"display_name":"adrianTNT"},"score":0,"creation_date":1700188082,"post_id":77492443,"comment_id":136626796,"body_markdown":"Thanks the the tips, the java.net url mentions `Mercurial repo`, does anyone know if this would be it ? `mercurial.x86_64 : Mercurial -- a distributed SCM` I found it with Yum, I don&#39;t want to break a new server setup","body":"Thanks the the tips, the java.net url mentions <code>Mercurial repo</code>, does anyone know if this would be it ? <code>mercurial.x86_64 : Mercurial -- a distributed SCM</code> I found it with Yum, I don&#39;t want to break a new server setup"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700307687,"post_id":77492443,"comment_id":136640068,"body_markdown":"@adrianTNT You only need Mercurial if you want to checkout the sources, which you shouldn&#39;t need to.","body":"@adrianTNT You only need Mercurial if you want to checkout the sources, which you shouldn&#39;t need to."}],"owner":{"account_id":890083,"reputation":3745,"user_id":928532,"accept_rate":62,"display_name":"adrianTNT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700130476,"creation_date":1700111636,"question_id":77492443,"body_markdown":"I have two machines with CentOS 7.x on them, on one I have this (13.x since 2020?):\r\n\r\n```none\r\njava --version\r\nopenjdk 13.0.2 2020-01-14\r\nOpenJDK Runtime Environment 19.9 (build 13.0.2+8)\r\nOpenJDK 64-Bit Server VM 19.9 (build 13.0.2+8, mixed mode, sharing)\r\n```\r\n\r\nAnd on another one I have this (11.x since 2023?):\r\n\r\n```none\r\njava --version\r\nopenjdk 11.0.20 2023-07-18 LTS\r\nOpenJDK Runtime Environment (Red_Hat-11.0.20.0.8-1.el7_9) (build 11.0.20+8-LTS)\r\nOpenJDK 64-Bit Server VM (Red_Hat-11.0.20.0.8-1.el7_9) (build 11.0.20+8-LTS, mixed mode, sharing)\r\n```\r\n\r\nHow can I install version 13 on the other machine too? I cannot see newer version with `yum search`.\r\n\r\nOn the server with version 13 it says it openjdk is from Epel repo:\r\n\r\n```none\r\nyum info java-latest-openjdk.x86_64\r\nLoaded plugins: fastestmirror\r\nLoading mirror speeds from cached hostfile\r\n[...]\r\nhttps://ookla.bintray.com/rhel/repodata/repomd.xml: [Errno 14] curl#51 - &quot;Unable to communicate securely with peer: requested domain name does not match the server&#39;s certificate                                                            .&quot;\r\nTrying other mirror.\r\nInstalled Packages\r\nName        : java-latest-openjdk\r\nArch        : x86_64\r\nEpoch       : 1\r\nVersion     : 13.0.2.8\r\nRelease     : 1.rolling.el7\r\nSize        : 573 k\r\nRepo        : installed\r\nFrom repo   : epel\r\nSummary     : OpenJDK Runtime Environment 13\r\nURL         : http://openjdk.java.net/\r\nLicense     : ASL 1.1 and ASL 2.0 and BSD and BSD with advertising and GPL+ and GPLv2 and GPLv2 with exceptions and IJG and LGPLv2+ and MIT and MPLv2.0 and Public Domain and W3C\r\n            : and zlib and ISC and FTL and RSA\r\nDescription : The OpenJDK runtime environment.\r\n```\r\n\r\nHow can I update the other server with this 13.x version?\r\n\r\nI want to have latest version because I use some tools that return errors with the 11.x version.","title":"How can I install openjdk 13.x on Centos 7?","body":"<p>I have two machines with CentOS 7.x on them, on one I have this (13.x since 2020?):</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --version\nopenjdk 13.0.2 2020-01-14\nOpenJDK Runtime Environment 19.9 (build 13.0.2+8)\nOpenJDK 64-Bit Server VM 19.9 (build 13.0.2+8, mixed mode, sharing)\n</code></pre>\n<p>And on another one I have this (11.x since 2023?):</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --version\nopenjdk 11.0.20 2023-07-18 LTS\nOpenJDK Runtime Environment (Red_Hat-11.0.20.0.8-1.el7_9) (build 11.0.20+8-LTS)\nOpenJDK 64-Bit Server VM (Red_Hat-11.0.20.0.8-1.el7_9) (build 11.0.20+8-LTS, mixed mode, sharing)\n</code></pre>\n<p>How can I install version 13 on the other machine too? I cannot see newer version with <code>yum search</code>.</p>\n<p>On the server with version 13 it says it openjdk is from Epel repo:</p>\n<pre class=\"lang-none prettyprint-override\"><code>yum info java-latest-openjdk.x86_64\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\n[...]\nhttps://ookla.bintray.com/rhel/repodata/repomd.xml: [Errno 14] curl#51 - &quot;Unable to communicate securely with peer: requested domain name does not match the server's certificate                                                            .&quot;\nTrying other mirror.\nInstalled Packages\nName        : java-latest-openjdk\nArch        : x86_64\nEpoch       : 1\nVersion     : 13.0.2.8\nRelease     : 1.rolling.el7\nSize        : 573 k\nRepo        : installed\nFrom repo   : epel\nSummary     : OpenJDK Runtime Environment 13\nURL         : http://openjdk.java.net/\nLicense     : ASL 1.1 and ASL 2.0 and BSD and BSD with advertising and GPL+ and GPLv2 and GPLv2 with exceptions and IJG and LGPLv2+ and MIT and MPLv2.0 and Public Domain and W3C\n            : and zlib and ISC and FTL and RSA\nDescription : The OpenJDK runtime environment.\n</code></pre>\n<p>How can I update the other server with this 13.x version?</p>\n<p>I want to have latest version because I use some tools that return errors with the 11.x version.</p>\n"},{"tags":["java","android","odoo-mobile"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":2,"creation_date":1587966456,"post_id":61452410,"comment_id":108706777,"body_markdown":"_&quot;but it would cause an error&quot;_ We have no idea why since you haven&#39;t shown us your code or told us what the error is.","body":"<i>&quot;but it would cause an error&quot;</i> We have no idea why since you haven&#39;t shown us your code or told us what the error is."},{"owner":{"account_id":15044467,"reputation":101,"user_id":10858068,"display_name":"plexus"},"score":0,"creation_date":1587967168,"post_id":61452410,"comment_id":108706980,"body_markdown":"I forgot to include, I updated above","body":"I forgot to include, I updated above"},{"owner":{"account_id":1714140,"reputation":2518,"user_id":1571605,"display_name":"Itamar Kerbel"},"score":0,"creation_date":1587967858,"post_id":61452410,"comment_id":108707206,"body_markdown":"whats happens if you try to use the existing GSon? I mean not importing a new version of GSon?","body":"whats happens if you try to use the existing GSon? I mean not importing a new version of GSon?"},{"owner":{"account_id":15044467,"reputation":101,"user_id":10858068,"display_name":"plexus"},"score":0,"creation_date":1587968482,"post_id":61452410,"comment_id":108707402,"body_markdown":"it returns json{}","body":"it returns json{}"}],"answers":[{"tags":[],"owner":{"account_id":29916670,"reputation":1,"user_id":22926723,"display_name":"Husnain Rafique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700130400,"creation_date":1700130132,"answer_id":77493994,"question_id":61452410,"body_markdown":"    private fun generateQRCode(name: String, phone: String, email: \r\n    String){\r\n        val concatenatedValues = &quot;$name\\n$phone\\n$email&quot;\r\n        val barcodeEncoder = BarcodeEncoder()\r\n        val hints = mapOf(Pair(EncodeHintType.MARGIN, 0))\r\n        val barCodeImage = \r\n    barcodeEncoder.encodeBitmap(concatenatedValues,BarcodeFormat.QR_CODE, 400, \r\n    400,hints)\r\n    binding.imgBarCode.setImageBitmap(barCodeImage)\r\n    }\r\n  \r\n\r\n    private fun setUpQrCode(){\r\n        val name = &quot;Name = Husnain Ali Rafique&quot;\r\n        val phone = &quot;Phone = 00000000000&quot;\r\n        val email = &quot;Email = husnainalirafique125@gmail.com&quot;\r\n        generateQRCode(name,phone,email)\r\n    }\r\n    \r\n\r\nthis way by concatinating one can achieve this \r\n\r\n    \r\n\r\n\r\n\r\n","title":"How to generate QR code that stores multiple values","body":"<pre><code>private fun generateQRCode(name: String, phone: String, email: \nString){\n    val concatenatedValues = &quot;$name\\n$phone\\n$email&quot;\n    val barcodeEncoder = BarcodeEncoder()\n    val hints = mapOf(Pair(EncodeHintType.MARGIN, 0))\n    val barCodeImage = \nbarcodeEncoder.encodeBitmap(concatenatedValues,BarcodeFormat.QR_CODE, 400, \n400,hints)\nbinding.imgBarCode.setImageBitmap(barCodeImage)\n}\n\n\nprivate fun setUpQrCode(){\n    val name = &quot;Name = Husnain Ali Rafique&quot;\n    val phone = &quot;Phone = 00000000000&quot;\n    val email = &quot;Email = husnainalirafique125@gmail.com&quot;\n    generateQRCode(name,phone,email)\n}\n</code></pre>\n<p>this way by concatinating one can achieve this</p>\n"}],"owner":{"account_id":15044467,"reputation":101,"user_id":10858068,"display_name":"plexus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700130400,"creation_date":1587966301,"question_id":61452410,"body_markdown":"I wanted to generate a QR code that contains JSON data, I found [this][1] as an example. This [question][2] suggested to use Gson but my project uses Odoo mobile framework and it has an existing Gson in the [directory][3] and tried to implement it but it would cause an [error][4]. Is there another way to store multiple values in QR code?\r\n\r\n\r\n  [1]: https://codesandbox.io/s/yp1pmpjo4z?file=/index.js\r\n  [2]: https://stackoverflow.com/questions/23672520/how-make-qr-code-from-object-of-a-class-or-several-data\r\n  [3]: https://i.stack.imgur.com/RVktd.png\r\n  [4]: https://stackoverflow.com/questions/61336930/gson-implementation-in-gradle-not-working","title":"How to generate QR code that stores multiple values","body":"<p>I wanted to generate a QR code that contains JSON data, I found <a href=\"https://codesandbox.io/s/yp1pmpjo4z?file=/index.js\" rel=\"nofollow noreferrer\">this</a> as an example. This <a href=\"https://stackoverflow.com/questions/23672520/how-make-qr-code-from-object-of-a-class-or-several-data\">question</a> suggested to use Gson but my project uses Odoo mobile framework and it has an existing Gson in the <a href=\"https://i.stack.imgur.com/RVktd.png\" rel=\"nofollow noreferrer\">directory</a> and tried to implement it but it would cause an <a href=\"https://stackoverflow.com/questions/61336930/gson-implementation-in-gradle-not-working\">error</a>. Is there another way to store multiple values in QR code?</p>\n"},{"tags":["java","spring-boot","hibernate","java-17"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683025549,"post_id":76154189,"comment_id":134300188,"body_markdown":"Please provide more details of your use case. Ordering can be implemented by just using methods generated with JPA repository interbace.","body":"Please provide more details of your use case. Ordering can be implemented by just using methods generated with JPA repository interbace."},{"owner":{"account_id":9341144,"reputation":173,"user_id":6933895,"display_name":"Riberto Junior"},"score":0,"creation_date":1683030184,"post_id":76154189,"comment_id":134301136,"body_markdown":"We have sorting and ordering creation in runtime, depending on the API request. We use criteria builder and specification (depending on the entity being search) and we add the OrderImpl instance (with the order by expression) to properly create the query.","body":"We have sorting and ordering creation in runtime, depending on the API request. We use criteria builder and specification (depending on the entity being search) and we add the OrderImpl instance (with the order by expression) to properly create the query."},{"owner":{"account_id":9341144,"reputation":173,"user_id":6933895,"display_name":"Riberto Junior"},"score":1,"creation_date":1683034032,"post_id":76154189,"comment_id":134302156,"body_markdown":"Still need to validate completely, but for now I&#39;ve replace:\nnew OrderImpl(expression, isAcending);\nfor\nisAscending ? criteriabuilder.asc(expression) : criteriabuilder.desc(expression);","body":"Still need to validate completely, but for now I&#39;ve replace: new OrderImpl(expression, isAcending); for isAscending ? criteriabuilder.asc(expression) : criteriabuilder.desc(expression);"},{"owner":{"account_id":3239231,"reputation":151,"user_id":8937376,"display_name":"basseur"},"score":0,"creation_date":1696503801,"post_id":76154189,"comment_id":136162760,"body_markdown":"It has been a while. Could you confirm your final solution? It would also be greatly appreciated if you could post it as an answer to your own question and select it as the solution.","body":"It has been a while. Could you confirm your final solution? It would also be greatly appreciated if you could post it as an answer to your own question and select it as the solution."},{"owner":{"account_id":9341144,"reputation":173,"user_id":6933895,"display_name":"Riberto Junior"},"score":0,"creation_date":1700130316,"post_id":76154189,"comment_id":136617898,"body_markdown":"just did, it does work with no problems for me","body":"just did, it does work with no problems for me"}],"answers":[{"tags":[],"owner":{"account_id":9341144,"reputation":173,"user_id":6933895,"display_name":"Riberto Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700130244,"creation_date":1700130244,"answer_id":77494004,"question_id":76154189,"body_markdown":"For my specific use CriteriaBuilder::asc(~) and CriteriaBuilder::desc(~) does work.\r\n\r\n    new OrderImpl(expression, isAcending); \r\n\r\nfor:\r\n\r\n    isAscending ? criteriabuilder.asc(expression) : criteriabuilder.desc(expression);","title":"How replace hibernate OrderImpl on hibernate 6? (Spring Boot 3 migration)","body":"<p>For my specific use CriteriaBuilder::asc(~) and CriteriaBuilder::desc(~) does work.</p>\n<pre><code>new OrderImpl(expression, isAcending); \n</code></pre>\n<p>for:</p>\n<pre><code>isAscending ? criteriabuilder.asc(expression) : criteriabuilder.desc(expression);\n</code></pre>\n"}],"owner":{"account_id":9341144,"reputation":173,"user_id":6933895,"display_name":"Riberto Junior"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77494004,"answer_count":1,"score":1,"last_activity_date":1700130244,"creation_date":1683025305,"question_id":76154189,"body_markdown":"`org.hibernate.query.criteria.internal.OrderImpl` does not exist anymore on `hibernate` `6.1.7-final` (version used on Spring Boot `3.0.5`) is there a way to replace it other than implement one myself?\r\n\r\nTried to replace with a custom implementation but I&#39;m stuck on this \r\n```java\r\nerror: &quot;(...).OrderImpl cannot be cast to class org.hibernate.query.sqm.tree.select.SqmSortSpecification&quot;\r\n```\r\n**Update:**\r\nStill need to validate completely, but for now I&#39;ve replace: \r\n```java\r\nnew OrderImpl(expression, isAcending); \r\n```\r\nfor:\r\n```java\r\nisAscending ? criteriabuilder.asc(expression) : criteriabuilder.desc(expression);\r\n```\r\nIt seems to be working as expected now.","title":"How replace hibernate OrderImpl on hibernate 6? (Spring Boot 3 migration)","body":"<p><code>org.hibernate.query.criteria.internal.OrderImpl</code> does not exist anymore on <code>hibernate</code> <code>6.1.7-final</code> (version used on Spring Boot <code>3.0.5</code>) is there a way to replace it other than implement one myself?</p>\n<p>Tried to replace with a custom implementation but I'm stuck on this</p>\n<pre class=\"lang-java prettyprint-override\"><code>error: &quot;(...).OrderImpl cannot be cast to class org.hibernate.query.sqm.tree.select.SqmSortSpecification&quot;\n</code></pre>\n<p><strong>Update:</strong>\nStill need to validate completely, but for now I've replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new OrderImpl(expression, isAcending); \n</code></pre>\n<p>for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>isAscending ? criteriabuilder.asc(expression) : criteriabuilder.desc(expression);\n</code></pre>\n<p>It seems to be working as expected now.</p>\n"},{"tags":["java","mysql","jdbc","opencsv"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700130129,"post_id":77492518,"comment_id":136617863,"body_markdown":"Please provide sample CSV as code-formatted **text**. I forget the defaults of OpenCSV, but I think you&#39;ve misconfigured it with regard to escaping/quoting. As an aside, it would be wise to separate the problem into CSV parsing vs JDBC. For example, what happens if you just try to parse the CSV (and maybe print the columns or something). It would simplify your code and allow you to locate the problem.","body":"Please provide sample CSV as code-formatted <b>text</b>. I forget the defaults of OpenCSV, but I think you&#39;ve misconfigured it with regard to escaping/quoting. As an aside, it would be wise to separate the problem into CSV parsing vs JDBC. For example, what happens if you just try to parse the CSV (and maybe print the columns or something). It would simplify your code and allow you to locate the problem."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1701879264,"post_id":77492518,"comment_id":136830126,"body_markdown":"You should probably increase the heap memory. See https://stackoverflow.com/questions/1565388/increase-heap-size-in-java or post the error, the freezing is probably due to GC running. CSVReader ain&#39;t great with memory handling though and copies a lot of data, you might wanna implement own version of it. Also, what&#39;s up with storing JSON data in a CSV?","body":"You should probably increase the heap memory. See <a href=\"https://stackoverflow.com/questions/1565388/increase-heap-size-in-java\" title=\"increase heap size in java\">stackoverflow.com/questions/1565388/increase-heap-size-in-ja&zwnj;&#8203;va</a> or post the error, the freezing is probably due to GC running. CSVReader ain&#39;t great with memory handling though and copies a lot of data, you might wanna implement own version of it. Also, what&#39;s up with storing JSON data in a CSV?"}],"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700129965,"creation_date":1700112932,"question_id":77492518,"body_markdown":"I am trying to parse a CSV with a Java Application, and after parsing, trying to insert the values in a MySQL table. The code snippet is below.\r\n\r\nThe issue is that when I parsing a file which has a column with a very large JSON under quotes, the application kind of freezes on the specific line with large JSON and then exits without giving any errors (in the bach script it just moves on the next line).\r\n\r\nI have attached the pic of the CSV with the large chunk too (line 3 in CSV).\r\n\r\nThe MySQL table into which insert is done has the same column names and ```column_name TEXT DEFAULT NULL``` type and ```charset=utf8mb4``` encoding \r\n\r\nThe header that has the big data chunk  in ```message_payload``` \r\n\r\n```java\r\ntry (\r\n    Connection connection = DriverManager.getConnection(jdbcUrl, username, password);\r\n    PreparedStatement preparedStatement = connection.prepareStatement(sqlInsertStatement);\r\n    CSVReader csvReader = new CSVReader(new FileReader(csvFilePath))\r\n) {\r\n    connection.setAutoCommit(false); // Disable auto-commit for batch execution\r\n    String[] headers = csvReader.readNext(); // Assuming the first line is the header\r\n    String[] nextLine;\r\n\r\n    while ((nextLine = csvReader.readNext()) != null) {\r\n        j++;\r\n        System.out.println(&quot;Line-----&quot; + j);\r\n        if (nextLine.length != headers.length) {\r\n            mismatchLines_count++;\r\n            continue; // Skip lines that do not have the same number of columns as the headers\r\n        }\r\n\r\n        for (int i = 0; i &lt; headers.length; i++) {\r\n            if (nextLine[i].length() &gt; MAX_SIZE) {\r\n                preparedStatement.setString(i + 1, nextLine[i].substring(0, MAX_SIZE));\r\n            } else {\r\n                preparedStatement.setString(i + 1, nextLine[i]);\r\n            }\r\n        }\r\n\r\n        preparedStatement.addBatch();\r\n\r\n        if (++count % batchSize == 0) {\r\n            preparedStatement.executeBatch();\r\n            connection.commit();\r\n        }\r\n    }\r\n\r\n    if (count % batchSize != 0) {\r\n        preparedStatement.executeBatch();\r\n        connection.commit();\r\n        System.out.println(&quot;Committing After Line :&quot; + j);\r\n    }\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n} finally {\r\n    try {\r\n        connection.setAutoCommit(true); // Re-enable auto-commit\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n\r\nImage of the CSV (removing the sensitive data)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/196fo.png","title":"Unable to parse large column Data","body":"<p>I am trying to parse a CSV with a Java Application, and after parsing, trying to insert the values in a MySQL table. The code snippet is below.</p>\n<p>The issue is that when I parsing a file which has a column with a very large JSON under quotes, the application kind of freezes on the specific line with large JSON and then exits without giving any errors (in the bach script it just moves on the next line).</p>\n<p>I have attached the pic of the CSV with the large chunk too (line 3 in CSV).</p>\n<p>The MySQL table into which insert is done has the same column names and <code>column_name TEXT DEFAULT NULL</code> type and <code>charset=utf8mb4</code> encoding</p>\n<p>The header that has the big data chunk  in <code>message_payload</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>try (\n    Connection connection = DriverManager.getConnection(jdbcUrl, username, password);\n    PreparedStatement preparedStatement = connection.prepareStatement(sqlInsertStatement);\n    CSVReader csvReader = new CSVReader(new FileReader(csvFilePath))\n) {\n    connection.setAutoCommit(false); // Disable auto-commit for batch execution\n    String[] headers = csvReader.readNext(); // Assuming the first line is the header\n    String[] nextLine;\n\n    while ((nextLine = csvReader.readNext()) != null) {\n        j++;\n        System.out.println(&quot;Line-----&quot; + j);\n        if (nextLine.length != headers.length) {\n            mismatchLines_count++;\n            continue; // Skip lines that do not have the same number of columns as the headers\n        }\n\n        for (int i = 0; i &lt; headers.length; i++) {\n            if (nextLine[i].length() &gt; MAX_SIZE) {\n                preparedStatement.setString(i + 1, nextLine[i].substring(0, MAX_SIZE));\n            } else {\n                preparedStatement.setString(i + 1, nextLine[i]);\n            }\n        }\n\n        preparedStatement.addBatch();\n\n        if (++count % batchSize == 0) {\n            preparedStatement.executeBatch();\n            connection.commit();\n        }\n    }\n\n    if (count % batchSize != 0) {\n        preparedStatement.executeBatch();\n        connection.commit();\n        System.out.println(&quot;Committing After Line :&quot; + j);\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n} finally {\n    try {\n        connection.setAutoCommit(true); // Re-enable auto-commit\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Image of the CSV (removing the sensitive data)</p>\n<p><a href=\"https://i.stack.imgur.com/196fo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/196fo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver","scroll"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1700154390,"post_id":77493962,"comment_id":136622592,"body_markdown":"you need to target the element with the scrollbar.  Using //html is not going to be it.  Possibly a DIV?  Right-click on the table/grid there and choose &quot;Inspect&quot; to find the element that has a scrollable style set.  (probably an &quot;overflow&quot; setting in the style)","body":"you need to target the element with the scrollbar.  Using //html is not going to be it.  Possibly a DIV?  Right-click on the table/grid there and choose &quot;Inspect&quot; to find the element that has a scrollable style set.  (probably an &quot;overflow&quot; setting in the style)"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1700165477,"post_id":77493962,"comment_id":136624403,"body_markdown":"of course &quot;//html&quot; is an example - there is real xpath. I found locator to overflow element but still your solution does not work","body":"of course &quot;//html&quot; is an example - there is real xpath. I found locator to overflow element but still your solution does not work"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1700167883,"post_id":77493962,"comment_id":136624770,"body_markdown":"you&#39;ll probably want to use element.scrollBy(x,y)... right now you&#39;re using element.scrollIntoView which would be trying to use the main scrollbar to scroll your targeted element into view.  If there&#39;s a particular element inside the scrolling div, that you wanted to view, you could use scrollIntoView on it, and it should scroll the parent element.  Also remember that most Selenium methods will automatically scroll elements into view when doing an action on them.","body":"you&#39;ll probably want to use element.scrollBy(x,y)... right now you&#39;re using element.scrollIntoView which would be trying to use the main scrollbar to scroll your targeted element into view.  If there&#39;s a particular element inside the scrolling div, that you wanted to view, you could use scrollIntoView on it, and it should scroll the parent element.  Also remember that most Selenium methods will automatically scroll elements into view when doing an action on them."},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1700174603,"post_id":77493962,"comment_id":136625593,"body_markdown":"please add an example, thank you","body":"please add an example, thank you"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700129938,"creation_date":1700129938,"question_id":77493962,"body_markdown":"I have the following code that scrolls the whole page down instead of the certain div (I indicated in red color div I want to scroll down) and test fails because webbriver cannot find the element that is hidden under red slider. The code scrolls green slider instead of red slider. \r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//html&quot;));\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element); \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cAuju.jpg","title":"Java Selenium - arguments[0].scrollIntoView(true) scrolls whole page instead of certain DIV","body":"<p>I have the following code that scrolls the whole page down instead of the certain div (I indicated in red color div I want to scroll down) and test fails because webbriver cannot find the element that is hidden under red slider. The code scrolls green slider instead of red slider.</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//html&quot;));\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element); \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cAuju.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cAuju.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":24054006,"reputation":1,"user_id":18032097,"display_name":"Ihor Tarkhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700129683,"creation_date":1700045155,"answer_id":77487066,"question_id":75888290,"body_markdown":"I have similar problem to add authorize button for Bearer autorisation. The solution I find is configure SpringSecurityConfig:\r\n```java\r\n@Configuration\r\n@SecurityScheme(type = SecuritySchemeType.HTTP, name = &quot;bearerAuth&quot;, scheme = &quot;bearer&quot;)\r\npublic class SpringSecurityConfig {}\r\n```\r\nIn your specific case, I think, you can configure with `type = SecuritySchemeType.OAUTH2`\r\n\r\nAnd the usage via `@SecurityRequirement` is somethink like this:\r\n``` java\r\n@RestController\r\n@SecurityRequirement(name = &quot;bearerAuth&quot;) // on full class\r\npublic class PingController {\r\n    @SecurityRequirement(name = &quot;bearerAuth&quot;) // or only on specific method\r\n    @GetMapping(&quot;/ping&quot;)\r\n    public String ping() {\r\n        return &quot;pong&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe result to authorize:\r\n[auth button][1];\r\n[auth flow][2]\r\n\r\nAnd the method marked in this way:\r\n[api marked with lock icon][3]\r\nIt will automaticly add `Authorization: Bearer &lt;value you enter&gt;` header to this request\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jts2q.png\r\n  [2]: https://i.stack.imgur.com/rmAxI.png\r\n  [3]: https://i.stack.imgur.com/7zZfD.png","title":"Enabling Authorize button for auth in swagger API using springdoc-openapi-starter-webmvc-ui","body":"<p>I have similar problem to add authorize button for Bearer autorisation. The solution I find is configure SpringSecurityConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@SecurityScheme(type = SecuritySchemeType.HTTP, name = &quot;bearerAuth&quot;, scheme = &quot;bearer&quot;)\npublic class SpringSecurityConfig {}\n</code></pre>\n<p>In your specific case, I think, you can configure with <code>type = SecuritySchemeType.OAUTH2</code></p>\n<p>And the usage via <code>@SecurityRequirement</code> is somethink like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@SecurityRequirement(name = &quot;bearerAuth&quot;) // on full class\npublic class PingController {\n    @SecurityRequirement(name = &quot;bearerAuth&quot;) // or only on specific method\n    @GetMapping(&quot;/ping&quot;)\n    public String ping() {\n        return &quot;pong&quot;;\n    }\n}\n</code></pre>\n<p>The result to authorize:\n<a href=\"https://i.stack.imgur.com/Jts2q.png\" rel=\"nofollow noreferrer\">auth button</a>;\n<a href=\"https://i.stack.imgur.com/rmAxI.png\" rel=\"nofollow noreferrer\">auth flow</a></p>\n<p>And the method marked in this way:\n<a href=\"https://i.stack.imgur.com/7zZfD.png\" rel=\"nofollow noreferrer\">api marked with lock icon</a>\nIt will automaticly add <code>Authorization: Bearer &lt;value you enter&gt;</code> header to this request</p>\n"}],"owner":{"account_id":14350717,"reputation":1,"user_id":21526821,"display_name":"Sarath S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700129683,"creation_date":1680179308,"question_id":75888290,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/rSxaV.png)](https://i.stack.imgur.com/rSxaV.png)\r\n\r\nHow to enable authorize button on the top right for OAuth 2.0\r\n\r\nI added `springdoc-openapi-starter-webmvc-ui` for spring boot version 3.0.2. Can someone help me enable authorize button","title":"Enabling Authorize button for auth in swagger API using springdoc-openapi-starter-webmvc-ui","body":"<p><a href=\"https://i.stack.imgur.com/rSxaV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rSxaV.png\" alt=\"enter image description here\" /></a></p>\n<p>How to enable authorize button on the top right for OAuth 2.0</p>\n<p>I added <code>springdoc-openapi-starter-webmvc-ui</code> for spring boot version 3.0.2. Can someone help me enable authorize button</p>\n"},{"tags":["java","apache-spark-sql"],"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700129486,"creation_date":1700126823,"question_id":77493625,"body_markdown":"I am new to Spark. I have a data source with JSON objects and that data is being written to Iceberg. The Iceberg schema has `a_field` which is an integer. However, some JSON objects come in with `&quot;a_field&quot;: 123.0`, which then results in:\r\n\r\n&gt; Caused by: org.apache.spark.SparkRuntimeException:\r\n&gt; [CANNOT_PARSE_JSON_FIELD] Cannot parse the field name &#39;a_field&#39; and\r\n&gt; the value 123.0 of the JSON token type VALUE_NUMBER_FLOAT to target\r\n&gt; Spark data type &quot;INT&quot;.\r\n\r\nFixing the data in the source is not easy. Is it possible to &quot;hook&quot; into the Spark JSON parser and demote the float value into an integer value?\r\n\r\nCode reproducing the issue.\r\n\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    void test() {\r\n        var schema = new StructType()\r\n            .add(new StructField(&quot;a_field&quot;, IntegerType$.MODULE$, false, Metadata.empty()))\r\n\r\n        var spark = SparkSession\r\n            .builder()\r\n            .master(&quot;local[*]&quot;)\r\n            .appName(&quot;Java API Demo&quot;)\r\n            .getOrCreate();\r\n\r\n        String json = &quot;&quot;&quot;\r\n            {\r\n                &quot;a_field&quot;: 123.0\r\n            }\r\n            &quot;&quot;&quot;;\r\n\r\n        Dataset&lt;Row&gt; data = spark.read()\r\n            .option(&quot;mode&quot;, &quot;FAILFAST&quot;)\r\n            .schema(schema)\r\n            .json(spark.createDataset(List.of(json), Encoders.STRING()));\r\n\r\n        data.show();\r\n    }","title":"Read JSON float field as integer","body":"<p>I am new to Spark. I have a data source with JSON objects and that data is being written to Iceberg. The Iceberg schema has <code>a_field</code> which is an integer. However, some JSON objects come in with <code>&quot;a_field&quot;: 123.0</code>, which then results in:</p>\n<blockquote>\n<p>Caused by: org.apache.spark.SparkRuntimeException:\n[CANNOT_PARSE_JSON_FIELD] Cannot parse the field name 'a_field' and\nthe value 123.0 of the JSON token type VALUE_NUMBER_FLOAT to target\nSpark data type &quot;INT&quot;.</p>\n</blockquote>\n<p>Fixing the data in the source is not easy. Is it possible to &quot;hook&quot; into the Spark JSON parser and demote the float value into an integer value?</p>\n<p>Code reproducing the issue.</p>\n<pre><code>@SneakyThrows\n@Test\nvoid test() {\n    var schema = new StructType()\n        .add(new StructField(&quot;a_field&quot;, IntegerType$.MODULE$, false, Metadata.empty()))\n\n    var spark = SparkSession\n        .builder()\n        .master(&quot;local[*]&quot;)\n        .appName(&quot;Java API Demo&quot;)\n        .getOrCreate();\n\n    String json = &quot;&quot;&quot;\n        {\n            &quot;a_field&quot;: 123.0\n        }\n        &quot;&quot;&quot;;\n\n    Dataset&lt;Row&gt; data = spark.read()\n        .option(&quot;mode&quot;, &quot;FAILFAST&quot;)\n        .schema(schema)\n        .json(spark.createDataset(List.of(json), Encoders.STRING()));\n\n    data.show();\n}\n</code></pre>\n"},{"tags":["java","sorting","java-8","comparator"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700127599,"post_id":77493664,"comment_id":136617351,"body_markdown":"I think it would be much easier to diagnose what&#39;s going on if you change the code to log the two inputs and the result each time a comparison is made. That log should make it clearer. I *suspect* there&#39;ll be some x, y, z for which x &lt; y, y &lt; z but x &gt;z.","body":"I think it would be much easier to diagnose what&#39;s going on if you change the code to log the two inputs and the result each time a comparison is made. That log should make it clearer. I <i>suspect</i> there&#39;ll be some x, y, z for which x &lt; y, y &lt; z but x &gt;z."},{"owner":{"account_id":8788184,"reputation":44,"user_id":6569233,"display_name":"jos.mathew123"},"score":0,"creation_date":1700128170,"post_id":77493664,"comment_id":136617454,"body_markdown":"This is what I got after adding debugs: \n\nprodClass1: [3, A, 1, a, 1] Comparing with prodClass2: [2, A, 1, b, 3]\nprodClass1: [2, A, 1, b, 3] Comparing with prodClass2: [3, A, 1, a]\nprodClass1: [2, A, 1, b, 3] Comparing with prodClass2: [3, A, 1]\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\n\tat java.base/java.util.TimSort.mergeHi(TimSort.java:903)\n\tat java.base/java.util.TimSort.mergeAt(TimSort.java:520)","body":"This is what I got after adding debugs:   prodClass1: [3, A, 1, a, 1] Comparing with prodClass2: [2, A, 1, b, 3] prodClass1: [2, A, 1, b, 3] Comparing with prodClass2: [3, A, 1, a] prodClass1: [2, A, 1, b, 3] Comparing with prodClass2: [3, A, 1] Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract! \tat java.base/java.util.TimSort.mergeHi(TimSort.java:903) \tat java.base/java.util.TimSort.mergeAt(TimSort.java:520)"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1700128632,"post_id":77493664,"comment_id":136617538,"body_markdown":"Please put that in the question as a list. It&#39;s really hard to read with it all just inline. And you need to include the *result* - just seeing what it&#39;s comparing doesn&#39;t help.","body":"Please put that in the question as a list. It&#39;s really hard to read with it all just inline. And you need to include the <i>result</i> - just seeing what it&#39;s comparing doesn&#39;t help."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1700128886,"post_id":77493664,"comment_id":136617601,"body_markdown":"Note in the loop that `!prodClass1[i].equals(prodClass2[i])` isn&#39;t consistent with the non-numeric case return `prodClass1[i].compareToIgnoreCase(prodClass2[i])`. Consider using `prodClass1[i].equalsIgnoreCase(prodClass2[i])` for the first check.","body":"Note in the loop that <code>!prodClass1[i].equals(prodClass2[i])</code> isn&#39;t consistent with the non-numeric case return <code>prodClass1[i].compareToIgnoreCase(prodClass2[i])</code>. Consider using <code>prodClass1[i].equalsIgnoreCase(prodClass2[i])</code> for the first check."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1700129149,"post_id":77493664,"comment_id":136617650,"body_markdown":"Also, in the case that the arrays have different lengths, you should be returning a value based on which of the arrays is longer (e.g. `return Integer.compare(prodClass1.length, prodClass2.length)`, rather than using lexicographic string comparison.","body":"Also, in the case that the arrays have different lengths, you should be returning a value based on which of the arrays is longer (e.g. <code>return Integer.compare(prodClass1.length, prodClass2.length)</code>, rather than using lexicographic string comparison."},{"owner":{"account_id":8788184,"reputation":44,"user_id":6569233,"display_name":"jos.mathew123"},"score":0,"creation_date":1700129564,"post_id":77493664,"comment_id":136617725,"body_markdown":"@AndyTurner Thanks for feedback, is there any particular reason for mentioning that I should return based on which array is longer?","body":"@AndyTurner Thanks for feedback, is there any particular reason for mentioning that I should return based on which array is longer?"},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1700228909,"post_id":77493664,"comment_id":136631943,"body_markdown":"@jos.mathew because not doing so will result in more `a&lt;b, b&lt;c, a&gt;c` violations.","body":"@jos.mathew because not doing so will result in more <code>a&lt;b, b&lt;c, a&gt;c</code> violations."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1700129322,"creation_date":1700129322,"answer_id":77493901,"question_id":77493664,"body_markdown":"If you violate the contract, then `sort` can do one of two things, __and the spec does not guarantee either behaviour__:\r\n\r\n* The output of sort is utterly gobbledygook.\r\n* You get that exception.\r\n\r\nHence, if you do _not_ get that exception, that _does not_ imply your code is fine. Absence of exception is not proof of absence of bugs. Hence, &quot;If I remove an element this exception goes away&quot; is meaningless. The key problem here is the 1A entry.\r\n\r\nYou can zoom in on just `&quot;10.A&quot;, &quot;1A.2&quot;, &quot;2.A.1&quot;`.\r\n\r\n* As per your code, 10.A is less than 1A.2, because string ordering is used on the first component, and `&quot;10&quot;.compareTo(&quot;1A&quot;)` is negative - `&quot;10&quot;` is considered as coming before `&quot;1A&quot;`.\r\n* As per your code, 1A.2 is less than 2.A.1, because string ordering is used on the first component, and `&quot;1A&quot;.compareTo(&quot;2&quot;)` is negative - `&quot;1A&quot;` is considered as coming before `&quot;2&quot;`.\r\n\r\nSo far, so obvious, right? However..\r\n\r\n* As per your code, 10.A is __not__ less than 2.A.1, because the integer ordering is used on the first component (as they are both numeric), and 10 is _after_ 2.\r\n\r\nHence, we have the following scenario:\r\n\r\n* A comes before B, and B comes before C...\r\n* but A comes after C.\r\n\r\nWhich, obviously, is impossible.\r\n\r\nThe general contract of comparison methods involves:\r\n\r\n* `a.equals(b)`? then `a.compareTo(b) == 0`.\r\n* `a.compareTo(a) == 0`.\r\n* `a.compareTo(b)` needs to be the opposite of `b.compareTo(a)`.\r\n* `a.compareTo(b)` and `b.compareTo(c)` are the same direction? Then `a.compareTo(c)` must also be that direction (a is before b and b is before c? Then a must also be before c - same for &#39;after&#39;).\r\n\r\nYou&#39;ve violated that last one. The second snippet fixes it by treating `1A` as being after `10`.\r\n\r\n\r\n\r\nThere are more ways in which your comparison code violates the rules, and, as you found out, violation of the rules doesn&#39;t guarantee exceptions. Your general approach of &#39;eh, fall back to string sorting&#39; is a bad one. For example, you should not just fall back to that if one is &#39;longer&#39; than the other (instead, the longer way needs to always win/lose from the shorter one).","title":"Java Comparison issue - Comparison method violates its general contract","body":"<p>If you violate the contract, then <code>sort</code> can do one of two things, <strong>and the spec does not guarantee either behaviour</strong>:</p>\n<ul>\n<li>The output of sort is utterly gobbledygook.</li>\n<li>You get that exception.</li>\n</ul>\n<p>Hence, if you do <em>not</em> get that exception, that <em>does not</em> imply your code is fine. Absence of exception is not proof of absence of bugs. Hence, &quot;If I remove an element this exception goes away&quot; is meaningless. The key problem here is the 1A entry.</p>\n<p>You can zoom in on just <code>&quot;10.A&quot;, &quot;1A.2&quot;, &quot;2.A.1&quot;</code>.</p>\n<ul>\n<li>As per your code, 10.A is less than 1A.2, because string ordering is used on the first component, and <code>&quot;10&quot;.compareTo(&quot;1A&quot;)</code> is negative - <code>&quot;10&quot;</code> is considered as coming before <code>&quot;1A&quot;</code>.</li>\n<li>As per your code, 1A.2 is less than 2.A.1, because string ordering is used on the first component, and <code>&quot;1A&quot;.compareTo(&quot;2&quot;)</code> is negative - <code>&quot;1A&quot;</code> is considered as coming before <code>&quot;2&quot;</code>.</li>\n</ul>\n<p>So far, so obvious, right? However..</p>\n<ul>\n<li>As per your code, 10.A is <strong>not</strong> less than 2.A.1, because the integer ordering is used on the first component (as they are both numeric), and 10 is <em>after</em> 2.</li>\n</ul>\n<p>Hence, we have the following scenario:</p>\n<ul>\n<li>A comes before B, and B comes before C...</li>\n<li>but A comes after C.</li>\n</ul>\n<p>Which, obviously, is impossible.</p>\n<p>The general contract of comparison methods involves:</p>\n<ul>\n<li><code>a.equals(b)</code>? then <code>a.compareTo(b) == 0</code>.</li>\n<li><code>a.compareTo(a) == 0</code>.</li>\n<li><code>a.compareTo(b)</code> needs to be the opposite of <code>b.compareTo(a)</code>.</li>\n<li><code>a.compareTo(b)</code> and <code>b.compareTo(c)</code> are the same direction? Then <code>a.compareTo(c)</code> must also be that direction (a is before b and b is before c? Then a must also be before c - same for 'after').</li>\n</ul>\n<p>You've violated that last one. The second snippet fixes it by treating <code>1A</code> as being after <code>10</code>.</p>\n<p>There are more ways in which your comparison code violates the rules, and, as you found out, violation of the rules doesn't guarantee exceptions. Your general approach of 'eh, fall back to string sorting' is a bad one. For example, you should not just fall back to that if one is 'longer' than the other (instead, the longer way needs to always win/lose from the shorter one).</p>\n"}],"owner":{"account_id":8788184,"reputation":44,"user_id":6569233,"display_name":"jos.mathew123"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700129409,"accepted_answer_id":77493901,"answer_count":1,"score":-1,"last_activity_date":1700129433,"creation_date":1700127146,"question_id":77493664,"body_markdown":"I am trying to do a sorting of some number. I am getting a &quot;java.lang.IllegalArgumentException: Comparison method violates its general contract!&quot; Exception when I execute the following code. \r\n\r\n\r\n```\r\nimport org.apache.commons.lang3.StringUtils;\r\n\r\npublic class ComparatorTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; ll = List.of(&quot;1.A&quot;, &quot;1.A.1&quot;, &quot;10.A&quot;, &quot;10.A.1&quot;, &quot;10.A.2&quot;, &quot;10.A.3&quot;, &quot;12.A&quot;, &quot;12.A.1&quot;, &quot;12.A.2&quot;,\r\n\t\t\t\t&quot;12.A.4&quot;, &quot;12.A.6&quot;, &quot;1A.2&quot;, &quot;2.A.1&quot;, &quot;2.A.1.b&quot;, &quot;2.A.1.b.1&quot;, &quot;2.A.1.b.2&quot;, &quot;2.A.1.b.3&quot;, &quot;20.A.1&quot;,\r\n\t\t\t\t&quot;20.A.1.a&quot;, &quot;20.A.1.b&quot;, &quot;20.A.1.b.1&quot;, &quot;20.A.1.b.2&quot;, &quot;3.A.1&quot;, &quot;3.A.1.a&quot;, &quot;3.A.1.a.1&quot;, &quot;3.A.1.a.2&quot;,\r\n\t\t\t\t&quot;3.A.1.a.3&quot;, &quot;3.A.1.a.4&quot;, &quot;3.A.1.b&quot;, &quot;3.A.10&quot;, &quot;6.A.1&quot;, &quot;9.A.1&quot;);\r\n\t\t\r\n\t\tArrayList&lt;String&gt; l2 = new ArrayList&lt;&gt;(ll);\r\n\t\tCollections.sort(l2, (obj1, obj2) -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tString[] prodClass1 = obj1.split(&quot;\\\\.&quot;);\r\n\t\t\t\tString[] prodClass2 = obj2.split(&quot;\\\\.&quot;);\r\n\t\t\t\tfor (int i = 0; (i &lt; prodClass1.length) &amp;&amp; (i &lt; prodClass2.length); i++) {\r\n\t\t\t\t\tif (!prodClass1[i].equals(prodClass2[i])) {\r\n\t\t\t\t\t\tif (StringUtils.isNumeric(prodClass1[i]) &amp;&amp; StringUtils.isNumeric(prodClass2[i])) {\r\n\t\t\t\t\t\t\treturn Integer.valueOf(prodClass1[i]).compareTo(Integer.valueOf(prodClass2[i]));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn prodClass1[i].compareToIgnoreCase(prodClass2[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn obj1.compareToIgnoreCase(obj2);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\treturn obj1.compareToIgnoreCase(obj2);\r\n\t\t\t}\r\n\t\t});\r\n\t\tSystem.out.println(l2);\r\n\t}\r\n\t\r\n}\r\n```\r\nInterstingly if I remove any 1 element form the list ll, the code works just fine.\r\n\r\n\r\n\r\nI think this has to do something related to equals() and compare() method. But can someone pinpoint the whats wrong here.\r\n\r\nIf I add one extra condition in the custom comparator it works. Why it is like this? Can anyone pinpoint the issue.\r\n\r\nModified code\r\n\r\n\r\n```\r\nCollections.sort(l2, (obj1, obj2) -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tString[] prodClass1 = obj1.split(&quot;\\\\.&quot;);\r\n\t\t\t\tString[] prodClass2 = obj2.split(&quot;\\\\.&quot;);\r\n\t\t\t\tfor (int i = 0; (i &lt; prodClass1.length) &amp;&amp; (i &lt; prodClass2.length); i++) {\r\n\t\t\t\t\tif (!prodClass1[i].equals(prodClass2[i])) {\r\n\t\t\t\t\t\tif (StringUtils.isNumeric(prodClass1[i]) &amp;&amp; StringUtils.isNumeric(prodClass2[i])) {\r\n\t\t\t\t\t\t\treturn Integer.valueOf(prodClass1[i]).compareTo(Integer.valueOf(prodClass2[i]));\r\n\t\t\t\t\t\t} else if (StringUtils.isNumeric(prodClass1[i]) || StringUtils.isNumeric(prodClass2[i])) {\r\n\t\t\t\t            return StringUtils.isNumeric(prodClass1[i]) ? -1 : 1;\r\n\t\t\t\t        } else {\r\n\t\t\t\t\t\t\treturn prodClass1[i].compareToIgnoreCase(prodClass2[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn obj1.compareToIgnoreCase(obj2);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\treturn obj1.compareToIgnoreCase(obj2);\r\n\t\t\t}\r\n\t\t});\r\n```\r\n\r\nThe below is the output when I execute the code after adding some logs:\r\n\r\n```\r\nprodClass1: [3, A, 1, a, 1] Comparing with prodClass2: [2, A, 1, b, 3]\r\nprodClass1: [2, A, 1, b, 3] Comparing with prodClass2: [3, A, 1, a]\r\nprodClass1: [2, A, 1, b, 3] Comparing with prodClass2: [3, A, 1]\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n\tat java.base/java.util.TimSort.mergeHi(TimSort.java:903)\r\n\tat java.base/java.util.TimSort.mergeAt(TimSort.java:520)\r\n\tat java.base/java.util.TimSort.mergeForceCollapse(TimSort.java:461)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:254)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1515)\r\n\tat java.base/java.util.ArrayList.sort(ArrayList.java:1750)\r\n\tat java.base/java.util.Collections.sort(Collections.java:179)\r\n\tat core.ComparatorTest.main(ComparatorTest.java:30)\r\n```","title":"Java Comparison issue - Comparison method violates its general contract","body":"<p>I am trying to do a sorting of some number. I am getting a &quot;java.lang.IllegalArgumentException: Comparison method violates its general contract!&quot; Exception when I execute the following code.</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\npublic class ComparatorTest {\n\n    public static void main(String[] args) {\n        List&lt;String&gt; ll = List.of(&quot;1.A&quot;, &quot;1.A.1&quot;, &quot;10.A&quot;, &quot;10.A.1&quot;, &quot;10.A.2&quot;, &quot;10.A.3&quot;, &quot;12.A&quot;, &quot;12.A.1&quot;, &quot;12.A.2&quot;,\n                &quot;12.A.4&quot;, &quot;12.A.6&quot;, &quot;1A.2&quot;, &quot;2.A.1&quot;, &quot;2.A.1.b&quot;, &quot;2.A.1.b.1&quot;, &quot;2.A.1.b.2&quot;, &quot;2.A.1.b.3&quot;, &quot;20.A.1&quot;,\n                &quot;20.A.1.a&quot;, &quot;20.A.1.b&quot;, &quot;20.A.1.b.1&quot;, &quot;20.A.1.b.2&quot;, &quot;3.A.1&quot;, &quot;3.A.1.a&quot;, &quot;3.A.1.a.1&quot;, &quot;3.A.1.a.2&quot;,\n                &quot;3.A.1.a.3&quot;, &quot;3.A.1.a.4&quot;, &quot;3.A.1.b&quot;, &quot;3.A.10&quot;, &quot;6.A.1&quot;, &quot;9.A.1&quot;);\n        \n        ArrayList&lt;String&gt; l2 = new ArrayList&lt;&gt;(ll);\n        Collections.sort(l2, (obj1, obj2) -&gt; {\n            try {\n                String[] prodClass1 = obj1.split(&quot;\\\\.&quot;);\n                String[] prodClass2 = obj2.split(&quot;\\\\.&quot;);\n                for (int i = 0; (i &lt; prodClass1.length) &amp;&amp; (i &lt; prodClass2.length); i++) {\n                    if (!prodClass1[i].equals(prodClass2[i])) {\n                        if (StringUtils.isNumeric(prodClass1[i]) &amp;&amp; StringUtils.isNumeric(prodClass2[i])) {\n                            return Integer.valueOf(prodClass1[i]).compareTo(Integer.valueOf(prodClass2[i]));\n                        } else {\n                            return prodClass1[i].compareToIgnoreCase(prodClass2[i]);\n                        }\n                    }\n                }\n                return obj1.compareToIgnoreCase(obj2);\n            } catch (Exception e) {\n                e.printStackTrace();\n                return obj1.compareToIgnoreCase(obj2);\n            }\n        });\n        System.out.println(l2);\n    }\n    \n}\n</code></pre>\n<p>Interstingly if I remove any 1 element form the list ll, the code works just fine.</p>\n<p>I think this has to do something related to equals() and compare() method. But can someone pinpoint the whats wrong here.</p>\n<p>If I add one extra condition in the custom comparator it works. Why it is like this? Can anyone pinpoint the issue.</p>\n<p>Modified code</p>\n<pre><code>Collections.sort(l2, (obj1, obj2) -&gt; {\n            try {\n                String[] prodClass1 = obj1.split(&quot;\\\\.&quot;);\n                String[] prodClass2 = obj2.split(&quot;\\\\.&quot;);\n                for (int i = 0; (i &lt; prodClass1.length) &amp;&amp; (i &lt; prodClass2.length); i++) {\n                    if (!prodClass1[i].equals(prodClass2[i])) {\n                        if (StringUtils.isNumeric(prodClass1[i]) &amp;&amp; StringUtils.isNumeric(prodClass2[i])) {\n                            return Integer.valueOf(prodClass1[i]).compareTo(Integer.valueOf(prodClass2[i]));\n                        } else if (StringUtils.isNumeric(prodClass1[i]) || StringUtils.isNumeric(prodClass2[i])) {\n                            return StringUtils.isNumeric(prodClass1[i]) ? -1 : 1;\n                        } else {\n                            return prodClass1[i].compareToIgnoreCase(prodClass2[i]);\n                        }\n                    }\n                }\n                return obj1.compareToIgnoreCase(obj2);\n            } catch (Exception e) {\n                e.printStackTrace();\n                return obj1.compareToIgnoreCase(obj2);\n            }\n        });\n</code></pre>\n<p>The below is the output when I execute the code after adding some logs:</p>\n<pre><code>prodClass1: [3, A, 1, a, 1] Comparing with prodClass2: [2, A, 1, b, 3]\nprodClass1: [2, A, 1, b, 3] Comparing with prodClass2: [3, A, 1, a]\nprodClass1: [2, A, 1, b, 3] Comparing with prodClass2: [3, A, 1]\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\n    at java.base/java.util.TimSort.mergeHi(TimSort.java:903)\n    at java.base/java.util.TimSort.mergeAt(TimSort.java:520)\n    at java.base/java.util.TimSort.mergeForceCollapse(TimSort.java:461)\n    at java.base/java.util.TimSort.sort(TimSort.java:254)\n    at java.base/java.util.Arrays.sort(Arrays.java:1515)\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1750)\n    at java.base/java.util.Collections.sort(Collections.java:179)\n    at core.ComparatorTest.main(ComparatorTest.java:30)\n</code></pre>\n"},{"tags":["java","character-encoding","printwriter"],"comments":[{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1700119453,"post_id":77492848,"comment_id":136615995,"body_markdown":"Bro it is impossible to remove xml declaration in JAX-WS, the only solution is writting the filter, please tell me how to utf-8 problem","body":"Bro it is impossible to remove xml declaration in JAX-WS, the only solution is writting the filter, please tell me how to utf-8 problem"},{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1700119729,"post_id":77492848,"comment_id":136616042,"body_markdown":"please read the https://stackoverflow.com/questions/11566609/difference-between-jax-ws-axis2-and-cxf","body":"please read the <a href=\"https://stackoverflow.com/questions/11566609/difference-between-jax-ws-axis2-and-cxf\" title=\"difference between jax ws axis2 and cxf\">stackoverflow.com/questions/11566609/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700123700,"post_id":77492848,"comment_id":136616658,"body_markdown":"That doesn&#39;t chnage anything about the fact that jax-ws is an API not an implementation, configure your actual implementation accordingly. BUt alas you don&#39;t want to do that, so I&#39;m going to remove my comments.","body":"That doesn&#39;t chnage anything about the fact that jax-ws is an API not an implementation, configure your actual implementation accordingly. BUt alas you don&#39;t want to do that, so I&#39;m going to remove my comments."}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700128368,"answer_count":0,"score":0,"last_activity_date":1700128436,"creation_date":1700118581,"question_id":77492848,"body_markdown":"There is a response wrapper to replace some contents to another contents like this:\r\n\r\n    import javax.servlet.ServletOutputStream;\r\n    import java.io.CharArrayWriter;\r\n    import java.io.IOException;\r\n    \r\n    class ArrayServletOutputStream extends ServletOutputStream {\r\n        private CharArrayWriter charArray;\r\n    \r\n        public ArrayServletOutputStream(CharArrayWriter charArray) {\r\n            this.charArray = charArray;\r\n        }\r\n    \r\n        @Override\r\n        public void write(int b) throws IOException {\r\n            charArray.write(b);\r\n        }\r\n    }\r\n\r\nand the its response wrapper:\r\n\r\n    import javax.servlet.ServletOutputStream;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpServletResponseWrapper;\r\n    import java.io.CharArrayWriter;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    class ResponseWrapper extends HttpServletResponseWrapper {\r\n        protected CharArrayWriter charArray = new CharArrayWriter();\r\n    \r\n        public ResponseWrapper(HttpServletResponse response) {\r\n            super(response);\r\n        }\r\n    \r\n        @Override\r\n        public PrintWriter getWriter() {\r\n            return new PrintWriter(charArray);\r\n        }\r\n    \r\n        @Override\r\n        public ServletOutputStream getOutputStream() throws IOException {\r\n            return new ArrayServletOutputStream(charArray);\r\n        }\r\n    }\r\n\r\nand the filter is :\r\n\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    public class CustomFilter implements Filter {\r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n            ResponseWrapper responseWrapper = new ResponseWrapper((HttpServletResponse) servletResponse);\r\n            filterChain.doFilter(servletRequest, responseWrapper);\r\n    \r\n            String replacedContent = responseWrapper.charArray.toString(); // Example modification\r\n            replacedContent = replacedContent.replaceAll(&quot;S:Envelope&quot;, &quot;soap:Envelope&quot;);\r\n            replacedContent = replacedContent.replaceAll(&quot;S:Body&quot;, &quot;soap:Body&quot;);\r\n            replacedContent = replacedContent.replaceAll(&quot;xmlns:S&quot;, &quot;xmlns:soap&quot;);\r\n            replacedContent = replacedContent.replace(&quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;&quot;, &quot;&quot;);\r\n            servletResponse.setContentLength(replacedContent.length());\r\n            PrintWriter out = servletResponse.getWriter();\r\n            out.write(replacedContent);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n    \r\n        }\r\n    }\r\n\r\nSo it is working but **the characterset is not UTF-8** and another word the `ResponseWrapper` does not support the **UTF-8** encoding.\r\n\r\nHow do I solve the problem?\r\n\r\nthanks in advance to whom help me","title":"How to solve the issue to support UTF-8-encoding of PrintWriter","body":"<p>There is a response wrapper to replace some contents to another contents like this:</p>\n<pre><code>import javax.servlet.ServletOutputStream;\nimport java.io.CharArrayWriter;\nimport java.io.IOException;\n\nclass ArrayServletOutputStream extends ServletOutputStream {\n    private CharArrayWriter charArray;\n\n    public ArrayServletOutputStream(CharArrayWriter charArray) {\n        this.charArray = charArray;\n    }\n\n    @Override\n    public void write(int b) throws IOException {\n        charArray.write(b);\n    }\n}\n</code></pre>\n<p>and the its response wrapper:</p>\n<pre><code>import javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpServletResponseWrapper;\nimport java.io.CharArrayWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nclass ResponseWrapper extends HttpServletResponseWrapper {\n    protected CharArrayWriter charArray = new CharArrayWriter();\n\n    public ResponseWrapper(HttpServletResponse response) {\n        super(response);\n    }\n\n    @Override\n    public PrintWriter getWriter() {\n        return new PrintWriter(charArray);\n    }\n\n    @Override\n    public ServletOutputStream getOutputStream() throws IOException {\n        return new ArrayServletOutputStream(charArray);\n    }\n}\n</code></pre>\n<p>and the filter is :</p>\n<pre><code>import javax.servlet.*;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\npublic class CustomFilter implements Filter {\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        ResponseWrapper responseWrapper = new ResponseWrapper((HttpServletResponse) servletResponse);\n        filterChain.doFilter(servletRequest, responseWrapper);\n\n        String replacedContent = responseWrapper.charArray.toString(); // Example modification\n        replacedContent = replacedContent.replaceAll(&quot;S:Envelope&quot;, &quot;soap:Envelope&quot;);\n        replacedContent = replacedContent.replaceAll(&quot;S:Body&quot;, &quot;soap:Body&quot;);\n        replacedContent = replacedContent.replaceAll(&quot;xmlns:S&quot;, &quot;xmlns:soap&quot;);\n        replacedContent = replacedContent.replace(&quot;&lt;?xml version='1.0' encoding='UTF-8'?&gt;&quot;, &quot;&quot;);\n        servletResponse.setContentLength(replacedContent.length());\n        PrintWriter out = servletResponse.getWriter();\n        out.write(replacedContent);\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n<p>So it is working but <strong>the characterset is not UTF-8</strong> and another word the <code>ResponseWrapper</code> does not support the <strong>UTF-8</strong> encoding.</p>\n<p>How do I solve the problem?</p>\n<p>thanks in advance to whom help me</p>\n"},{"tags":["java","arrays","matrix"],"owner":{"account_id":29914718,"reputation":1,"user_id":22925192,"display_name":"Ink_flow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700128313,"creation_date":1700114707,"question_id":77492617,"body_markdown":"So I am trying to solve the Spiral Matrix but the output is always giving weird jumble of numbers back after I input numbers. I am running into this problem even after I changed some specifics but still, all weird output is all I am getting. I tried to do it by changing the `s` with `int col` and `int row` specifically also but, still the same. If anyone can point out the issue, that would be very helpful for me.\r\n\r\n```\r\nimport java.util.Scanner;\r\n/**\r\n * twodArray3\r\n */\r\npublic class twodArray3 {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter no. of terms &quot;);\r\n         int n = sc.nextInt(); //rows\r\n         int m = sc.nextInt(); //columns\r\n         int matrix[][] = new int[n][m];\r\n\r\n        System.out.println(&quot;Enter the numbers &quot;);\r\n        for(int i=0; i&lt;n; i++) {\r\n            for(int j=0; j&lt;m; j++) {\r\n                matrix[i][j] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;The spiral order matrix is &quot;);\r\n        int s, k=0, l=0;\r\n        int last_row = n-1, last_col = m-1;\r\n\r\n        //to print spiral order matrix\r\n        while(k&lt;=last_row &amp;&amp; l&lt;=last_col) {\r\n            for(s=l; s&lt;=last_col; s++) {\r\n                System.out.print(matrix[k][s]+&quot; &quot;); //1\r\n            }  k++;\r\n            for(s=k; s&lt;=last_row; s++) {\r\n                System.out.print(matrix[s][last_col]+&quot; &quot;); //2\r\n            } last_col--;\r\n            \r\n            for(s=last_col; s&gt;=l; s--) {\r\n                System.out.print(matrix[last_row][s]+&quot; &quot;); //3\r\n            } last_row--;\r\n            \r\n            \r\n            for(s=last_row; s&gt;=k; s--) {\r\n                System.out.print(matrix[s][l]+&quot; &quot;); //4\r\n            } l++;\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```","title":"Stumble upon a impass while trying to solve the spiral matrix 2d array","body":"<p>So I am trying to solve the Spiral Matrix but the output is always giving weird jumble of numbers back after I input numbers. I am running into this problem even after I changed some specifics but still, all weird output is all I am getting. I tried to do it by changing the <code>s</code> with <code>int col</code> and <code>int row</code> specifically also but, still the same. If anyone can point out the issue, that would be very helpful for me.</p>\n<pre><code>import java.util.Scanner;\n/**\n * twodArray3\n */\npublic class twodArray3 {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter no. of terms &quot;);\n         int n = sc.nextInt(); //rows\n         int m = sc.nextInt(); //columns\n         int matrix[][] = new int[n][m];\n\n        System.out.println(&quot;Enter the numbers &quot;);\n        for(int i=0; i&lt;n; i++) {\n            for(int j=0; j&lt;m; j++) {\n                matrix[i][j] = sc.nextInt();\n            }\n        }\n\n        System.out.println(&quot;The spiral order matrix is &quot;);\n        int s, k=0, l=0;\n        int last_row = n-1, last_col = m-1;\n\n        //to print spiral order matrix\n        while(k&lt;=last_row &amp;&amp; l&lt;=last_col) {\n            for(s=l; s&lt;=last_col; s++) {\n                System.out.print(matrix[k][s]+&quot; &quot;); //1\n            }  k++;\n            for(s=k; s&lt;=last_row; s++) {\n                System.out.print(matrix[s][last_col]+&quot; &quot;); //2\n            } last_col--;\n            \n            for(s=last_col; s&gt;=l; s--) {\n                System.out.print(matrix[last_row][s]+&quot; &quot;); //3\n            } last_row--;\n            \n            \n            for(s=last_row; s&gt;=k; s--) {\n                System.out.print(matrix[s][l]+&quot; &quot;); //4\n            } l++;\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":5,"creation_date":1411326674,"post_id":6481627,"comment_id":40649990,"body_markdown":"Refer to [How to install Java Cryptography Extension unlimited strength jurisdiction policy files](http://opensourceforgeeks.blogspot.in/2014/09/how-to-install-java-cryptography.html)","body":"Refer to <a href=\"http://opensourceforgeeks.blogspot.in/2014/09/how-to-install-java-cryptography.html\" rel=\"nofollow noreferrer\">How to install Java Cryptography Extension unlimited strength jurisdiction policy files</a>"},{"owner":{"account_id":2585984,"reputation":681,"user_id":2241686,"display_name":"EagleEye208"},"score":4,"creation_date":1462309440,"post_id":6481627,"comment_id":61580796,"body_markdown":"This may also be thrown as error:`Caused by: java.security.InvalidKeyException: Illegal key size` (without the &quot;or default parameters&quot;) in Java 8","body":"This may also be thrown as error:<code>Caused by: java.security.InvalidKeyException: Illegal key size</code> (without the &quot;or default parameters&quot;) in Java 8"},{"owner":{"account_id":47359,"reputation":2770,"user_id":140234,"accept_rate":40,"display_name":"Rodrigo Asensio"},"score":0,"creation_date":1483562741,"post_id":6481627,"comment_id":75005892,"body_markdown":"Just use the OpenJDK and it will work.","body":"Just use the OpenJDK and it will work."},{"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"score":0,"creation_date":1500965426,"post_id":6481627,"comment_id":77553258,"body_markdown":"@RodrigoAsensio : I&#39;m using the OpenJDK and it doesn&#39;t work with it. You have to install the unlimited Strength Jurisdiction Policy Files jar files. And then it will work.","body":"@RodrigoAsensio : I&#39;m using the OpenJDK and it doesn&#39;t work with it. You have to install the unlimited Strength Jurisdiction Policy Files jar files. And then it will work."},{"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"score":7,"creation_date":1508497421,"post_id":6481627,"comment_id":80642807,"body_markdown":"Update to @AniketThakur answer.\n\nSince Java 9 and Java 8u151 there&#39;s no need to download and manually install jurisdiction policy files anymore. To enable unlimited cryptography, one can use the new crypto.policy Security property. If the new Security property (crypto.policy) is set in the java.security file, or has been set dynamically by using the Security.setProperty() call before the JCE framework has been initialized, that setting will be honored. By default, the property will be undefined.","body":"Update to @AniketThakur answer.  Since Java 9 and Java 8u151 there&#39;s no need to download and manually install jurisdiction policy files anymore. To enable unlimited cryptography, one can use the new crypto.policy Security property. If the new Security property (crypto.policy) is set in the java.security file, or has been set dynamically by using the Security.setProperty() call before the JCE framework has been initialized, that setting will be honored. By default, the property will be undefined."}],"answers":[{"tags":[],"owner":{"account_id":13372,"reputation":16082,"user_id":26816,"accept_rate":69,"display_name":"RHSeeger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1398655475,"creation_date":1309052836,"answer_id":6481652,"question_id":6481627,"body_markdown":"There&#39;s a short discussion of what appears to be this issue [here][1]. The page it [links to][2] appears to be gone, but one of the responses might be what you need:\r\n\r\n&gt; Indeed, copying US_export_policy.jar and local_policy.jar from core/lib/jce to $JAVA_HOME/jre/lib/security helped. Thanks.\r\n\r\n\r\n  [1]: http://forums.project.net/archive/index.php/t-431.html\r\n  [2]: http://community.project.net/trac/pnet-community/wiki/Production-Tomcat55#a5.2:UpdatetheJavaSecurityforStrongEncryption","title":"Java Security: Illegal key size or default parameters?","body":"<p>There's a short discussion of what appears to be this issue <a href=\"http://forums.project.net/archive/index.php/t-431.html\" rel=\"nofollow\">here</a>. The page it <a href=\"http://community.project.net/trac/pnet-community/wiki/Production-Tomcat55#a5.2%3aUpdatetheJavaSecurityforStrongEncryption\" rel=\"nofollow\">links to</a> appears to be gone, but one of the responses might be what you need:</p>\n\n<blockquote>\n  <p>Indeed, copying US_export_policy.jar and local_policy.jar from core/lib/jce to $JAVA_HOME/jre/lib/security helped. Thanks.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"down_vote_count":2,"up_vote_count":753,"is_accepted":true,"score":751,"last_activity_date":1541341207,"creation_date":1309052910,"answer_id":6481658,"question_id":6481627,"body_markdown":"Most likely you don&#39;t have the unlimited strength file installed now.\r\n\r\nYou may need to download this file:\r\n\r\n[Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6\r\n][1]\r\n\r\n[Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 7 Download][2]\r\n\r\n[Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 8 Download][3] (only required for versions before Java 8 u162)\r\n\r\nExtract the jar files from the zip and save them in `${java.home}/jre/lib/security/`.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html\r\n  [2]: http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html\r\n  [3]: http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html","title":"Java Security: Illegal key size or default parameters?","body":"<p>Most likely you don't have the unlimited strength file installed now.</p>\n\n<p>You may need to download this file:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html\" rel=\"noreferrer\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6\n</a></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html\" rel=\"noreferrer\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 7 Download</a></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"noreferrer\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 8 Download</a> (only required for versions before Java 8 u162)</p>\n\n<p>Extract the jar files from the zip and save them in <code>${java.home}/jre/lib/security/</code>.</p>\n"},{"tags":[],"owner":{"account_id":1007543,"reputation":1397,"user_id":1020883,"accept_rate":87,"display_name":"Dev G"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1323931488,"creation_date":1323931488,"answer_id":8516110,"question_id":6481627,"body_markdown":"I also got the issue but after replacing existing one with the downloaded (from JCE) one resolved the issue. New crypto files provided unlimited strength.","title":"Java Security: Illegal key size or default parameters?","body":"<p>I also got the issue but after replacing existing one with the downloaded (from JCE) one resolved the issue. New crypto files provided unlimited strength.</p>\n"},{"tags":[],"owner":{"account_id":337581,"reputation":191,"user_id":665928,"display_name":"evanxsummers"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1324549986,"creation_date":1324549986,"answer_id":8602592,"question_id":6481627,"body_markdown":"\r\n&quot;Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6&quot;\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html","title":"Java Security: Illegal key size or default parameters?","body":"<p>\"Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6\"</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html</a></p>\n"},{"tags":[],"owner":{"account_id":281006,"reputation":4173,"user_id":577062,"display_name":"anon"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1409319967,"creation_date":1332527650,"answer_id":9844690,"question_id":6481627,"body_markdown":"I experienced the same error while using Windows 7 x64, Eclipse, and JDK 1.6.0_30. In the JDK installation folder there is a `jre` folder. This threw me off at first as I was adding the aforementioned jars to the JDK&#39;s lib/security folder with no luck. Full path:\r\n\r\n    C:\\Program Files\\Java\\jdk1.6.0_30\\jre\\lib\\security\r\n\r\nDownload and extract the files contained in the `jce` folder of [this archive](http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html) into that folder.","title":"Java Security: Illegal key size or default parameters?","body":"<p>I experienced the same error while using Windows 7 x64, Eclipse, and JDK 1.6.0_30. In the JDK installation folder there is a <code>jre</code> folder. This threw me off at first as I was adding the aforementioned jars to the JDK's lib/security folder with no luck. Full path:</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.6.0_30\\jre\\lib\\security\n</code></pre>\n\n<p>Download and extract the files contained in the <code>jce</code> folder of <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html\">this archive</a> into that folder.</p>\n"},{"tags":[],"owner":{"account_id":306495,"reputation":1258,"user_id":617277,"accept_rate":87,"display_name":"C Deepak"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1456219106,"creation_date":1357741784,"answer_id":14237459,"question_id":6481627,"body_markdown":"For JAVA 7 the download link is [jce-7-download][1]\r\n\r\n\r\nCopy the two downloaded jars in Java\\jdk1.7.0_10\\jre\\lib\\security  \r\nTake a backup of older jars to be on safer side.  \r\n\r\nFor JAVA 8 the download link is [jce-8-download][2]  \r\nCopy the downloaded jars in Java\\jdk1.8.0_45\\jre\\lib\\security  \r\nTake a backup of older jars to be on safer side.  \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html\r\n  [2]: http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html","title":"Java Security: Illegal key size or default parameters?","body":"<p>For JAVA 7 the download link is <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html\" rel=\"noreferrer\">jce-7-download</a></p>\n\n<p>Copy the two downloaded jars in Java\\jdk1.7.0_10\\jre\\lib\\security<br>\nTake a backup of older jars to be on safer side.  </p>\n\n<p>For JAVA 8 the download link is <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"noreferrer\">jce-8-download</a><br>\nCopy the downloaded jars in Java\\jdk1.8.0_45\\jre\\lib\\security<br>\nTake a backup of older jars to be on safer side.  </p>\n"},{"tags":[],"owner":{"account_id":148289,"reputation":1618,"user_id":359954,"accept_rate":50,"display_name":"Saad Malik"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1413956897,"creation_date":1398287470,"answer_id":23255246,"question_id":6481627,"body_markdown":"The JRE/JDK/Java 8 jurisdiction files can be found here:\r\n\r\n[Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 8 Download][1]\r\n\r\nLike James said above:  \r\nInstall the files in `${java.home}/jre/lib/security/`.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html","title":"Java Security: Illegal key size or default parameters?","body":"<p>The JRE/JDK/Java 8 jurisdiction files can be found here:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"noreferrer\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 8 Download</a></p>\n\n<p>Like James said above:<br>\nInstall the files in <code>${java.home}/jre/lib/security/</code>.</p>\n"},{"tags":[],"owner":{"account_id":5267841,"reputation":781,"user_id":4207141,"display_name":"max"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1443213315,"creation_date":1443212728,"answer_id":32790132,"question_id":6481627,"body_markdown":"the problem is the **content** of the file **default_local.policy** in **local_policy.jar** in the folder **jre\\lib\\security**, if you install the JRE:\r\n\r\n    // Some countries have import limits on crypto strength. This policy file\r\n    // is worldwide importable.\r\n    \r\n    grant {\r\n        permission javax.crypto.CryptoPermission &quot;DES&quot;, 64;\r\n        permission javax.crypto.CryptoPermission &quot;DESede&quot;, *;\r\n        permission javax.crypto.CryptoPermission &quot;RC2&quot;, 128,\r\n                                         &quot;javax.crypto.spec.RC2ParameterSpec&quot;, 128;\r\n        permission javax.crypto.CryptoPermission &quot;RC4&quot;, 128;\r\n        permission javax.crypto.CryptoPermission &quot;RC5&quot;, 128,\r\n              &quot;javax.crypto.spec.RC5ParameterSpec&quot;, *, 12, *;\r\n        permission javax.crypto.CryptoPermission &quot;RSA&quot;, *;\r\n        permission javax.crypto.CryptoPermission *, 128;\r\n    };\r\n\r\nif you do not need worldwide valid settings you simply can edit this file and change the content to\r\n\r\n    // Country-specific policy file for countries with no limits on crypto strength.\r\n    grant {\r\n        // There is no restriction to any algorithms.\r\n        permission javax.crypto.CryptoAllPermission;\r\n    };\r\n\r\nthis is what get if you download the JCE from Oracle.","title":"Java Security: Illegal key size or default parameters?","body":"<p>the problem is the <strong>content</strong> of the file <strong>default_local.policy</strong> in <strong>local_policy.jar</strong> in the folder <strong>jre\\lib\\security</strong>, if you install the JRE:</p>\n\n<pre><code>// Some countries have import limits on crypto strength. This policy file\n// is worldwide importable.\n\ngrant {\n    permission javax.crypto.CryptoPermission \"DES\", 64;\n    permission javax.crypto.CryptoPermission \"DESede\", *;\n    permission javax.crypto.CryptoPermission \"RC2\", 128,\n                                     \"javax.crypto.spec.RC2ParameterSpec\", 128;\n    permission javax.crypto.CryptoPermission \"RC4\", 128;\n    permission javax.crypto.CryptoPermission \"RC5\", 128,\n          \"javax.crypto.spec.RC5ParameterSpec\", *, 12, *;\n    permission javax.crypto.CryptoPermission \"RSA\", *;\n    permission javax.crypto.CryptoPermission *, 128;\n};\n</code></pre>\n\n<p>if you do not need worldwide valid settings you simply can edit this file and change the content to</p>\n\n<pre><code>// Country-specific policy file for countries with no limits on crypto strength.\ngrant {\n    // There is no restriction to any algorithms.\n    permission javax.crypto.CryptoAllPermission;\n};\n</code></pre>\n\n<p>this is what get if you download the JCE from Oracle.</p>\n"},{"tags":[],"owner":{"account_id":2184023,"reputation":464,"user_id":1932862,"display_name":"Ketan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1509643248,"creation_date":1445400965,"answer_id":33250851,"question_id":6481627,"body_markdown":"In Java, by default AES supports a 128 Bit key, if you plans to use 192 Bit or 256 Bit key, java complier will throw  Illegal key size Exception, which you are getting.\r\n\r\nThe solution is as victor &amp; James suggested, you will need to download JCE (Java Cryptography Extension) as per your JRE version,(java6, java7 or java8).\r\n\r\nThe JCE zip contains following JAR:\r\n\r\n1. local_policy.jar\r\n2. US_export_policy.jar\r\n \r\nYou need to replace these jar form your `&lt;JAVA_HOME&gt;/jre/lib/security`.\r\n if you are on a unix system the &lt;JAVA_HOME&gt; will probably refer to `/home/urs/usr/lib/jvm/java-&lt;version&gt;-oracle/`\r\n\r\nSometimes just replacing local_policy.jar, US_export_policy.jar in security folder doesn&#39;t work on unix, so I suggest to copy security folder to your desktop first, replace the jar&#39;s @Desktop/security folder, delete the security folder from &lt;JAVA_HOME&gt;/jre/lib/ &amp; move the Desktop security folder to &lt;JAVA_HOME&gt;/jre/lib/.\r\n\r\neg :: sudo mv security `/usr/lib/jvm/java-7-oracle/jre/lib`\r\n  ","title":"Java Security: Illegal key size or default parameters?","body":"<p>In Java, by default AES supports a 128 Bit key, if you plans to use 192 Bit or 256 Bit key, java complier will throw  Illegal key size Exception, which you are getting.</p>\n\n<p>The solution is as victor &amp; James suggested, you will need to download JCE (Java Cryptography Extension) as per your JRE version,(java6, java7 or java8).</p>\n\n<p>The JCE zip contains following JAR:</p>\n\n<ol>\n<li>local_policy.jar</li>\n<li>US_export_policy.jar</li>\n</ol>\n\n<p>You need to replace these jar form your <code>&lt;JAVA_HOME&gt;/jre/lib/security</code>.\n if you are on a unix system the  will probably refer to <code>/home/urs/usr/lib/jvm/java-&lt;version&gt;-oracle/</code></p>\n\n<p>Sometimes just replacing local_policy.jar, US_export_policy.jar in security folder doesn't work on unix, so I suggest to copy security folder to your desktop first, replace the jar's @Desktop/security folder, delete the security folder from /jre/lib/ &amp; move the Desktop security folder to /jre/lib/.</p>\n\n<p>eg :: sudo mv security <code>/usr/lib/jvm/java-7-oracle/jre/lib</code></p>\n"},{"tags":[],"owner":{"account_id":1477329,"reputation":2379,"user_id":1387421,"accept_rate":75,"display_name":"keaplogik"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1452868646,"creation_date":1452604344,"answer_id":34744663,"question_id":6481627,"body_markdown":"By default, Java only supports AES 128 bit (16 bytes) key sizes for encryption. If you do not need more than default supported, you can trim the key to the proper size before using `Cipher`. See [javadoc](https://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html) for default supported keys.\r\n\r\nThis is an example of generating a key that would work with any JVM version without modifying the policy files. Use at your own discretion.\r\n\r\nHere is a good article on whether key 128 to 256 key sizes matter on [AgileBits Blog](https://blog.agilebits.com/2013/03/09/guess-why-were-moving-to-256-bit-aes-keys/)\r\n\r\n    SecretKeySpec getKey() {\r\n        final pass = &quot;47e7717f0f37ee72cb226278279aebef&quot;.getBytes(&quot;UTF-8&quot;);\r\n        final sha = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\r\n        def key = sha.digest(pass);\r\n        // use only first 128 bit (16 bytes). By default Java only supports AES 128 bit key sizes for encryption.\r\n        // Updated jvm policies are required for 256 bit.\r\n        key = Arrays.copyOf(key, 16);\r\n        return new SecretKeySpec(key, AES);\r\n    }","title":"Java Security: Illegal key size or default parameters?","body":"<p>By default, Java only supports AES 128 bit (16 bytes) key sizes for encryption. If you do not need more than default supported, you can trim the key to the proper size before using <code>Cipher</code>. See <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow\">javadoc</a> for default supported keys.</p>\n\n<p>This is an example of generating a key that would work with any JVM version without modifying the policy files. Use at your own discretion.</p>\n\n<p>Here is a good article on whether key 128 to 256 key sizes matter on <a href=\"https://blog.agilebits.com/2013/03/09/guess-why-were-moving-to-256-bit-aes-keys/\" rel=\"nofollow\">AgileBits Blog</a></p>\n\n<pre><code>SecretKeySpec getKey() {\n    final pass = \"47e7717f0f37ee72cb226278279aebef\".getBytes(\"UTF-8\");\n    final sha = MessageDigest.getInstance(\"SHA-256\");\n\n    def key = sha.digest(pass);\n    // use only first 128 bit (16 bytes). By default Java only supports AES 128 bit key sizes for encryption.\n    // Updated jvm policies are required for 256 bit.\n    key = Arrays.copyOf(key, 16);\n    return new SecretKeySpec(key, AES);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":122758,"reputation":2509,"user_id":316766,"accept_rate":85,"display_name":"Jako"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1496338905,"creation_date":1496338905,"answer_id":44313943,"question_id":6481627,"body_markdown":"This is a **code only solution**. No need to download or mess with configuration files. \r\n\r\nIt&#39;s a reflection based solution, **tested on java 8**\r\n\r\nCall this method once, early in your program.\r\n\r\n//Imports\r\n\r\n    import javax.crypto.Cipher;\r\n    import java.lang.reflect.Constructor;\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Modifier;\r\n    import java.util.Map;\r\n//method\r\n\r\n    public static void fixKeyLength() {\r\n        String errorString = &quot;Failed manually overriding key-length permissions.&quot;;\r\n        int newMaxKeyLength;\r\n        try {\r\n            if ((newMaxKeyLength = Cipher.getMaxAllowedKeyLength(&quot;AES&quot;)) &lt; 256) {\r\n                Class c = Class.forName(&quot;javax.crypto.CryptoAllPermissionCollection&quot;);\r\n                Constructor con = c.getDeclaredConstructor();\r\n                con.setAccessible(true);\r\n                Object allPermissionCollection = con.newInstance();\r\n                Field f = c.getDeclaredField(&quot;all_allowed&quot;);\r\n                f.setAccessible(true);\r\n                f.setBoolean(allPermissionCollection, true);\r\n\r\n                c = Class.forName(&quot;javax.crypto.CryptoPermissions&quot;);\r\n                con = c.getDeclaredConstructor();\r\n                con.setAccessible(true);\r\n                Object allPermissions = con.newInstance();\r\n                f = c.getDeclaredField(&quot;perms&quot;);\r\n                f.setAccessible(true);\r\n                ((Map) f.get(allPermissions)).put(&quot;*&quot;, allPermissionCollection);\r\n\r\n                c = Class.forName(&quot;javax.crypto.JceSecurityManager&quot;);\r\n                f = c.getDeclaredField(&quot;defaultPolicy&quot;);\r\n                f.setAccessible(true);\r\n                Field mf = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n                mf.setAccessible(true);\r\n                mf.setInt(f, f.getModifiers() &amp; ~Modifier.FINAL);\r\n                f.set(null, allPermissions);\r\n\r\n                newMaxKeyLength = Cipher.getMaxAllowedKeyLength(&quot;AES&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(errorString, e);\r\n        }\r\n        if (newMaxKeyLength &lt; 256)\r\n            throw new RuntimeException(errorString); // hack failed\r\n    }\r\n \r\n\r\n\r\n\r\nCredits: [Delthas][1]\r\n\r\n\r\n  [1]: https://github.com/Delthas/JavaSkype/commit/c329dc06c28b0b2a6f2b6c05cc08bad1e0cdf9c8","title":"Java Security: Illegal key size or default parameters?","body":"<p>This is a <strong>code only solution</strong>. No need to download or mess with configuration files. </p>\n\n<p>It's a reflection based solution, <strong>tested on java 8</strong></p>\n\n<p>Call this method once, early in your program.</p>\n\n<p>//Imports</p>\n\n<pre><code>import javax.crypto.Cipher;\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\nimport java.util.Map;\n</code></pre>\n\n<p>//method</p>\n\n<pre><code>public static void fixKeyLength() {\n    String errorString = \"Failed manually overriding key-length permissions.\";\n    int newMaxKeyLength;\n    try {\n        if ((newMaxKeyLength = Cipher.getMaxAllowedKeyLength(\"AES\")) &lt; 256) {\n            Class c = Class.forName(\"javax.crypto.CryptoAllPermissionCollection\");\n            Constructor con = c.getDeclaredConstructor();\n            con.setAccessible(true);\n            Object allPermissionCollection = con.newInstance();\n            Field f = c.getDeclaredField(\"all_allowed\");\n            f.setAccessible(true);\n            f.setBoolean(allPermissionCollection, true);\n\n            c = Class.forName(\"javax.crypto.CryptoPermissions\");\n            con = c.getDeclaredConstructor();\n            con.setAccessible(true);\n            Object allPermissions = con.newInstance();\n            f = c.getDeclaredField(\"perms\");\n            f.setAccessible(true);\n            ((Map) f.get(allPermissions)).put(\"*\", allPermissionCollection);\n\n            c = Class.forName(\"javax.crypto.JceSecurityManager\");\n            f = c.getDeclaredField(\"defaultPolicy\");\n            f.setAccessible(true);\n            Field mf = Field.class.getDeclaredField(\"modifiers\");\n            mf.setAccessible(true);\n            mf.setInt(f, f.getModifiers() &amp; ~Modifier.FINAL);\n            f.set(null, allPermissions);\n\n            newMaxKeyLength = Cipher.getMaxAllowedKeyLength(\"AES\");\n        }\n    } catch (Exception e) {\n        throw new RuntimeException(errorString, e);\n    }\n    if (newMaxKeyLength &lt; 256)\n        throw new RuntimeException(errorString); // hack failed\n}\n</code></pre>\n\n<p>Credits: <a href=\"https://github.com/Delthas/JavaSkype/commit/c329dc06c28b0b2a6f2b6c05cc08bad1e0cdf9c8\" rel=\"noreferrer\">Delthas</a></p>\n"},{"tags":[],"owner":{"account_id":2642797,"reputation":342,"user_id":2286129,"display_name":"Sulabh Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587428103,"creation_date":1505465994,"answer_id":46235660,"question_id":6481627,"body_markdown":"Default JDK supports encryption only through 128 bit keys becuase of American restrictions.\r\nSo to support encryption from 256 bit long key we have to replace `local_policy.jar` and `US_export_policy.jars` in `$JAVA_HOME/java-8-oracle/jre/lib/security` folder otherwise it will give:\r\n&gt;java.security.InvalidKeyException: Illegal key size or default\r\n","title":"Java Security: Illegal key size or default parameters?","body":"<p>Default JDK supports encryption only through 128 bit keys becuase of American restrictions.\nSo to support encryption from 256 bit long key we have to replace <code>local_policy.jar</code> and <code>US_export_policy.jars</code> in <code>$JAVA_HOME/java-8-oracle/jre/lib/security</code> folder otherwise it will give:</p>\n\n<blockquote>\n  <p>java.security.InvalidKeyException: Illegal key size or default</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1521541875,"creation_date":1508535528,"answer_id":46857694,"question_id":6481627,"body_markdown":"With Java 9, [Java 8u161](http://www.oracle.com/technetwork/java/javase/8u161-relnotes-4021379.html#JDK-8170157), [Java 7u171](http://www.oracle.com/technetwork/java/javase/documentation/javase7supportreleasenotes-1601161.html#JDK-8170157) and [Java 6u181](http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html#JDK-8170157) the limitation is now disabled by default. See [issue in Java Bug Database](https://bugs.java.com/view_bug.do?bug_id=JDK-8170157).\r\n\r\n----------\r\n\r\nBeginning with [Java 8u151](http://www.oracle.com/technetwork/java/javase/8u151-relnotes-3850493.html) you can disable the limitation programmatically.\r\n\r\n&gt; In older releases, JCE jurisdiction files had to be downloaded and installed separately to allow unlimited cryptography to be used by the JDK. The download and install steps are no longer necessary.\r\n\r\n\r\nInstead you can now invoke the following line before first use of JCE classes (i.e. preferably right after application start):\r\n\r\n    Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);","title":"Java Security: Illegal key size or default parameters?","body":"<p>With Java 9, <a href=\"http://www.oracle.com/technetwork/java/javase/8u161-relnotes-4021379.html#JDK-8170157\" rel=\"noreferrer\">Java 8u161</a>, <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/javase7supportreleasenotes-1601161.html#JDK-8170157\" rel=\"noreferrer\">Java 7u171</a> and <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/overview-156328.html#JDK-8170157\" rel=\"noreferrer\">Java 6u181</a> the limitation is now disabled by default. See <a href=\"https://bugs.java.com/view_bug.do?bug_id=JDK-8170157\" rel=\"noreferrer\">issue in Java Bug Database</a>.</p>\n\n<hr>\n\n<p>Beginning with <a href=\"http://www.oracle.com/technetwork/java/javase/8u151-relnotes-3850493.html\" rel=\"noreferrer\">Java 8u151</a> you can disable the limitation programmatically.</p>\n\n<blockquote>\n  <p>In older releases, JCE jurisdiction files had to be downloaded and installed separately to allow unlimited cryptography to be used by the JDK. The download and install steps are no longer necessary.</p>\n</blockquote>\n\n<p>Instead you can now invoke the following line before first use of JCE classes (i.e. preferably right after application start):</p>\n\n<pre><code>Security.setProperty(\"crypto.policy\", \"unlimited\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521205494,"creation_date":1521205494,"answer_id":49321517,"question_id":6481627,"body_markdown":"Starting from Java 9 or 8u151, you can use comment a line in the file:\r\n\r\n    &lt;JAVA_HOME&gt;/jre/lib/security/java.security\r\n\r\nAnd change:\r\n\r\n    #crypto.policy=unlimited\r\n\r\nto\r\n\r\n    crypto.policy=unlimited\r\n\r\n\r\n","title":"Java Security: Illegal key size or default parameters?","body":"<p>Starting from Java 9 or 8u151, you can use comment a line in the file:</p>\n\n<pre><code>&lt;JAVA_HOME&gt;/jre/lib/security/java.security\n</code></pre>\n\n<p>And change:</p>\n\n<pre><code>#crypto.policy=unlimited\n</code></pre>\n\n<p>to</p>\n\n<pre><code>crypto.policy=unlimited\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529923053,"creation_date":1529923053,"answer_id":51021488,"question_id":6481627,"body_markdown":"there are two options to solve this issue \r\n\r\n**option number 1 :** use certificate with less length RSA 2048\r\n\r\n**option number 2 :** you will update two jars in `jre\\lib\\security`\r\nwhatever you use java http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html \r\n\r\nor you use IBM websphere or any application server that use its java .\r\nthe main problem that i faced i used certification with maximum length ,when i deployed ears on websphere the same exception is thrown \r\n\r\n    Java Security: Illegal key size or default parameters?\r\n\r\ni updated java intsalled folder in websphere with two jars\r\n https://www14.software.ibm.com/webapp/iwm/web/reg/pick.do?source=jcesdk&amp;lang=en_US\r\n\r\nyou can check reference in link https://www-01.ibm.com/support/docview.wss?uid=swg21663373\r\n","title":"Java Security: Illegal key size or default parameters?","body":"<p>there are two options to solve this issue </p>\n\n<p><strong>option number 1 :</strong> use certificate with less length RSA 2048</p>\n\n<p><strong>option number 2 :</strong> you will update two jars in <code>jre\\lib\\security</code>\nwhatever you use java <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html</a> </p>\n\n<p>or you use IBM websphere or any application server that use its java .\nthe main problem that i faced i used certification with maximum length ,when i deployed ears on websphere the same exception is thrown </p>\n\n<pre><code>Java Security: Illegal key size or default parameters?\n</code></pre>\n\n<p>i updated java intsalled folder in websphere with two jars\n <a href=\"https://www14.software.ibm.com/webapp/iwm/web/reg/pick.do?source=jcesdk&amp;lang=en_US\" rel=\"nofollow noreferrer\">https://www14.software.ibm.com/webapp/iwm/web/reg/pick.do?source=jcesdk&amp;lang=en_US</a></p>\n\n<p>you can check reference in link <a href=\"https://www-01.ibm.com/support/docview.wss?uid=swg21663373\" rel=\"nofollow noreferrer\">https://www-01.ibm.com/support/docview.wss?uid=swg21663373</a></p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545898255,"creation_date":1532187193,"answer_id":51457548,"question_id":6481627,"body_markdown":"If you are using Linux distribution with apt and have added webupd8 PPA, you can simply run the command \r\n\r\n    apt-get install oracle-java8-unlimited-jce-policy\r\n\r\n---\r\n**Other updates:**\r\n\r\n 1. The Unlimited Strength Jurisdiction Policy Files are included with **Java 9** and used by default\r\n 2. Starting with **Java 8 Update 161**, Java 8 defaults to the Unlimited Strength Jurisdiction Policy.\r\n 3. Starting with **Java 8 Update 151**, the Unlimited Strength Jurisdiction Policy is included with Java 8 but not used by default. To enable it, you need to edit the java.security file in `&lt;java_home&gt;/jre/lib/security` (for JDK) or `&lt;java_home&gt;/lib/security` (for JRE). Uncomment (or include) the line\r\n\r\n    `crypto.policy=unlimited`\r\n\r\n   Make sure you edit the file using an editor run as administrator.\r\n   The policy change only takes effect after restarting the JVM \r\n\r\nBefore **Java 8 Update 151** rest of the answers hold valid. Download JCE Unlimited Strength Jurisdiction Policy Files and replace.\r\n\r\nFor more details, you can refer to my personal blog post below -\r\n[How to install Java Cryptography Extension (JCE) unlimited strength jurisdiction policy files][1]\r\n\r\n\r\n  [1]: http://opensourceforgeeks.blogspot.com/2014/09/how-to-install-java-cryptography.html","title":"Java Security: Illegal key size or default parameters?","body":"<p>If you are using Linux distribution with apt and have added webupd8 PPA, you can simply run the command </p>\n\n<pre><code>apt-get install oracle-java8-unlimited-jce-policy\n</code></pre>\n\n<hr>\n\n<p><strong>Other updates:</strong></p>\n\n<ol>\n<li>The Unlimited Strength Jurisdiction Policy Files are included with <strong>Java 9</strong> and used by default</li>\n<li>Starting with <strong>Java 8 Update 161</strong>, Java 8 defaults to the Unlimited Strength Jurisdiction Policy.</li>\n<li><p>Starting with <strong>Java 8 Update 151</strong>, the Unlimited Strength Jurisdiction Policy is included with Java 8 but not used by default. To enable it, you need to edit the java.security file in <code>&lt;java_home&gt;/jre/lib/security</code> (for JDK) or <code>&lt;java_home&gt;/lib/security</code> (for JRE). Uncomment (or include) the line</p>\n\n<p><code>crypto.policy=unlimited</code></p>\n\n<p>Make sure you edit the file using an editor run as administrator.\nThe policy change only takes effect after restarting the JVM </p></li>\n</ol>\n\n<p>Before <strong>Java 8 Update 151</strong> rest of the answers hold valid. Download JCE Unlimited Strength Jurisdiction Policy Files and replace.</p>\n\n<p>For more details, you can refer to my personal blog post below -\n<a href=\"http://opensourceforgeeks.blogspot.com/2014/09/how-to-install-java-cryptography.html\" rel=\"nofollow noreferrer\">How to install Java Cryptography Extension (JCE) unlimited strength jurisdiction policy files</a></p>\n"},{"tags":[],"owner":{"account_id":6430147,"reputation":1735,"user_id":7449607,"accept_rate":50,"display_name":"Fzum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549878075,"creation_date":1549875001,"answer_id":54626784,"question_id":6481627,"body_markdown":"You need to go there \r\n\r\n/jdk1.8.0_152\r\n   | /jre\r\n        | /lib\r\n              | /security\r\n                    | java.security\r\nand uncomment the\r\n\r\n    #crypto.policy=unlimited\r\n\r\nto\r\n\r\n    crypto.policy=unlimited","title":"Java Security: Illegal key size or default parameters?","body":"<p>You need to go there </p>\n\n<p>/jdk1.8.0_152\n   | /jre\n        | /lib\n              | /security\n                    | java.security\nand uncomment the</p>\n\n<pre><code>#crypto.policy=unlimited\n</code></pre>\n\n<p>to</p>\n\n<pre><code>crypto.policy=unlimited\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6751726,"reputation":167,"user_id":5201552,"display_name":"Ruslan Sheremet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562311392,"creation_date":1562311392,"answer_id":56898368,"question_id":6481627,"body_markdown":"Make sure you use **the latest version of JDK/JRE**. \r\n\r\nIn my case, I had put JCE into JRE folder, but it didn&#39;t help. It happened because I was running my project from the IDE directly (using JDK).\r\n\r\nThen I updated my JDK and JRE to the latest version (1.8.0_211) and the problem had gone.\r\n\r\nMore details: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8170157","title":"Java Security: Illegal key size or default parameters?","body":"<p>Make sure you use <strong>the latest version of JDK/JRE</strong>. </p>\n\n<p>In my case, I had put JCE into JRE folder, but it didn't help. It happened because I was running my project from the IDE directly (using JDK).</p>\n\n<p>Then I updated my JDK and JRE to the latest version (1.8.0_211) and the problem had gone.</p>\n\n<p>More details: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8170157\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8170157</a></p>\n"},{"tags":[],"owner":{"account_id":13740304,"reputation":959,"user_id":9915594,"display_name":"Ishaq Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599987495,"creation_date":1599987495,"answer_id":63868934,"question_id":6481627,"body_markdown":"Download the JCE Files from below Link for Java 6\r\n\r\n    https://www.oracle.com/java/technologies/jce-6-download.html\r\n\r\nDownload the JCE Files from below Link for Java 8\r\n\r\n    https://www.oracle.com/java/technologies/javase-jce8-downloads.html\r\n\r\nCopy the files downloaded from the above Link and Go to JDK Installed Directory\r\n\r\n    /Users/ik/jdk1.8.0_72/jre/lib/security\r\n\r\nPaste &amp; Replace the files from the directory. Restart your application &amp; the error must be resolved.","title":"Java Security: Illegal key size or default parameters?","body":"<p>Download the JCE Files from below Link for Java 6</p>\n<pre><code>https://www.oracle.com/java/technologies/jce-6-download.html\n</code></pre>\n<p>Download the JCE Files from below Link for Java 8</p>\n<pre><code>https://www.oracle.com/java/technologies/javase-jce8-downloads.html\n</code></pre>\n<p>Copy the files downloaded from the above Link and Go to JDK Installed Directory</p>\n<pre><code>/Users/ik/jdk1.8.0_72/jre/lib/security\n</code></pre>\n<p>Paste &amp; Replace the files from the directory. Restart your application &amp; the error must be resolved.</p>\n"},{"tags":[],"owner":{"account_id":22509500,"reputation":43,"user_id":16704633,"display_name":"Tarunkumar Aghara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700127240,"creation_date":1700127240,"answer_id":77493676,"question_id":6481627,"body_markdown":"I faced same issue recently on java version 1.8.0_102. Upgraded to 1.8.0_231 and it resolved issue. ","title":"Java Security: Illegal key size or default parameters?","body":"<p>I faced same issue recently on java version 1.8.0_102. Upgraded to 1.8.0_231 and it resolved issue.</p>\n"}],"owner":{"account_id":156898,"reputation":10269,"user_id":374476,"accept_rate":96,"display_name":"Rihards"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493185,"favorite_count":0,"down_vote_count":1,"up_vote_count":440,"accepted_answer_id":6481658,"answer_count":20,"score":439,"last_activity_date":1700127240,"creation_date":1309052415,"question_id":6481627,"body_markdown":"I had asked a question about this earlier, but it didn&#39;t get answered right and led nowhere.\r\n\r\nSo I&#39;ve clarified few details on the problem and I would really like to hear your ideas on how could I fix this or what should I try. \r\n\r\nI have **Java 1.6.0.12** installed on my Linux server and the code below runs just perfectly.\r\n\r\n    String key = &quot;av45k1pfb024xa3bl359vsb4esortvks74sksr5oy4s5serondry84jsrryuhsr5ys49y5seri5shrdliheuirdygliurguiy5ru&quot;;\r\n    try {\r\n        Cipher c = Cipher.getInstance(&quot;ARCFOUR&quot;);\r\n    \t\t\t\r\n        SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;ARCFOUR&quot;);\r\n        c.init(Cipher.DECRYPT_MODE, secretKeySpec);\r\n    \r\n        return new String(c.doFinal(Hex.decodeHex(data.toCharArray())), &quot;UTF-8&quot;);\r\n    \r\n    } catch (InvalidKeyException e) {\r\n        throw new CryptoException(e);\r\n    }\r\n\r\nToday I installed **Java 1.6.0.26** on my server user and when I try to run my application, I get the following exception. My guess would be that it has something to do with the Java installation configuration because it works in the first one, but doesn&#39;t work in the later version.\r\n\r\n    Caused by: java.security.InvalidKeyException: Illegal key size or default parameters\r\n    \tat javax.crypto.Cipher.a(DashoA13*..) ~[na:1.6]\r\n    \tat javax.crypto.Cipher.a(DashoA13*..) ~[na:1.6]\r\n    \tat javax.crypto.Cipher.a(DashoA13*..) ~[na:1.6]\r\n    \tat javax.crypto.Cipher.init(DashoA13*..) ~[na:1.6]\r\n    \tat javax.crypto.Cipher.init(DashoA13*..) ~[na:1.6]\r\n    \tat my.package.Something.decode(RC4Decoder.java:25) ~[my.package.jar:na]\r\n    \t... 5 common frames omitted\r\n\r\n*Line 25* is:\r\n`c.init(Cipher.DECRYPT_MODE, secretKeySpec);`\r\n\r\n**Notes:**    \r\n* java.security on server&#39;s **1.6.0.12** java directory matches almost completely with the **1.6.0.26** java.security file. There are no additional providers in the first one.   \r\n* The previous question is [here][1].\r\n\r\n  [1]: https://stackoverflow.com/questions/5929705/is-it-rc4-or-arcfour-invalidkeyexception-when-using-secretkeyspec","title":"Java Security: Illegal key size or default parameters?","body":"<p>I had asked a question about this earlier, but it didn't get answered right and led nowhere.</p>\n\n<p>So I've clarified few details on the problem and I would really like to hear your ideas on how could I fix this or what should I try. </p>\n\n<p>I have <strong>Java 1.6.0.12</strong> installed on my Linux server and the code below runs just perfectly.</p>\n\n<pre><code>String key = \"av45k1pfb024xa3bl359vsb4esortvks74sksr5oy4s5serondry84jsrryuhsr5ys49y5seri5shrdliheuirdygliurguiy5ru\";\ntry {\n    Cipher c = Cipher.getInstance(\"ARCFOUR\");\n\n    SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"ARCFOUR\");\n    c.init(Cipher.DECRYPT_MODE, secretKeySpec);\n\n    return new String(c.doFinal(Hex.decodeHex(data.toCharArray())), \"UTF-8\");\n\n} catch (InvalidKeyException e) {\n    throw new CryptoException(e);\n}\n</code></pre>\n\n<p>Today I installed <strong>Java 1.6.0.26</strong> on my server user and when I try to run my application, I get the following exception. My guess would be that it has something to do with the Java installation configuration because it works in the first one, but doesn't work in the later version.</p>\n\n<pre><code>Caused by: java.security.InvalidKeyException: Illegal key size or default parameters\n    at javax.crypto.Cipher.a(DashoA13*..) ~[na:1.6]\n    at javax.crypto.Cipher.a(DashoA13*..) ~[na:1.6]\n    at javax.crypto.Cipher.a(DashoA13*..) ~[na:1.6]\n    at javax.crypto.Cipher.init(DashoA13*..) ~[na:1.6]\n    at javax.crypto.Cipher.init(DashoA13*..) ~[na:1.6]\n    at my.package.Something.decode(RC4Decoder.java:25) ~[my.package.jar:na]\n    ... 5 common frames omitted\n</code></pre>\n\n<p><em>Line 25</em> is:\n<code>c.init(Cipher.DECRYPT_MODE, secretKeySpec);</code></p>\n\n<p><strong>Notes:</strong><br>\n* java.security on server's <strong>1.6.0.12</strong> java directory matches almost completely with the <strong>1.6.0.26</strong> java.security file. There are no additional providers in the first one.<br>\n* The previous question is <a href=\"https://stackoverflow.com/questions/5929705/is-it-rc4-or-arcfour-invalidkeyexception-when-using-secretkeyspec\">here</a>.</p>\n"},{"tags":["java","http","jetty"],"answers":[{"tags":[],"owner":{"account_id":7247195,"reputation":732,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700127043,"creation_date":1700039772,"answer_id":77486445,"question_id":77456888,"body_markdown":"You can define custom error pages in your web.xml (`webapp/WEB-INF/web.xml`) by adding an `error-page` block:\r\n\r\n    &lt;web-app ...&gt;\r\n        ...\r\n        &lt;error-page&gt;\r\n          &lt;error-code&gt;404&lt;/error-code&gt;\r\n          &lt;location&gt;/my_custom_404.html&lt;/location&gt;\r\n        &lt;/error-page&gt;\r\n    &lt;/web-app&gt;\r\n\r\nSource: https://eclipse.dev/jetty/documentation/jetty-9/index.html#custom-error-pages","title":"I have the jetty version appearing on my 404 error page","body":"<p>You can define custom error pages in your web.xml (<code>webapp/WEB-INF/web.xml</code>) by adding an <code>error-page</code> block:</p>\n<pre><code>&lt;web-app ...&gt;\n    ...\n    &lt;error-page&gt;\n      &lt;error-code&gt;404&lt;/error-code&gt;\n      &lt;location&gt;/my_custom_404.html&lt;/location&gt;\n    &lt;/error-page&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>Source: <a href=\"https://eclipse.dev/jetty/documentation/jetty-9/index.html#custom-error-pages\" rel=\"nofollow noreferrer\">https://eclipse.dev/jetty/documentation/jetty-9/index.html#custom-error-pages</a></p>\n"}],"owner":{"account_id":29868023,"reputation":1,"user_id":22890054,"display_name":"Alceu Junior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700127043,"creation_date":1699571988,"question_id":77456888,"body_markdown":"I have a problem with a 404 error page in which I use jetty, I wanted to know how I can make the version that jetty is in disappear from there? example:\r\n[enter image description here](https://i.stack.imgur.com/bmLEy.png)\r\n\r\nI don&#39;t want the jetty version to appear, and I really don&#39;t know where I can look to remove this because the code isn&#39;t mine and I wasn&#39;t the one who installed jetty\r\n  \r\n\r\nI looked a lot but I really don&#39;t know where it can be or where to move it so that the jetty version comes out, and I really need to remove it because it&#39;s a customer request","title":"I have the jetty version appearing on my 404 error page","body":"<p>I have a problem with a 404 error page in which I use jetty, I wanted to know how I can make the version that jetty is in disappear from there? example:\n<a href=\"https://i.stack.imgur.com/bmLEy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't want the jetty version to appear, and I really don't know where I can look to remove this because the code isn't mine and I wasn't the one who installed jetty</p>\n<p>I looked a lot but I really don't know where it can be or where to move it so that the jetty version comes out, and I really need to remove it because it's a customer request</p>\n"},{"tags":["java","flutter","sdk"],"comments":[{"owner":{"account_id":27636668,"reputation":79,"user_id":21094470,"display_name":"Shubham Singh"},"score":0,"creation_date":1700127401,"post_id":77493635,"comment_id":136617310,"body_markdown":"Kindly add your build.gradle file along..","body":"Kindly add your build.gradle file along.."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1700129583,"post_id":77493635,"comment_id":136617735,"body_markdown":"Please do not add code/errors/messages as image. Please [edit] your post ans add it as text.","body":"Please do not add code/errors/messages as image. Please <a href=\"https://stackoverflow.com/posts/77493635/edit\">edit</a> your post ans add it as text."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1700129657,"post_id":77493635,"comment_id":136617754,"body_markdown":"Does this answer your question? [How to fix java.lang.UnsupportedClassVersionError: Unsupported major.minor version](https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">How to fix java.lang.UnsupportedClassVersionError: Unsupported major.minor version</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700160080,"post_id":77493635,"comment_id":136623568,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29916210,"reputation":1,"user_id":22926364,"display_name":"Mohammed Ismail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700126919,"creation_date":1700126919,"question_id":77493635,"body_markdown":"&gt; something went wrong trying to debug the flutter project \r\n\r\nSomething went wrong trying to run and debug the flutter project \r\nbug! Exception in phase &#39;semantic analysis&#39; in source unit &#39;_Bildscript_&#39; unsupported ... version 61[enter image description here](https://i.stack.imgur.com/6sPuq.jpg)","title":"Flutter (Build failed with exception)","body":"<blockquote>\n<p>something went wrong trying to debug the flutter project</p>\n</blockquote>\n<p>Something went wrong trying to run and debug the flutter project\nbug! Exception in phase 'semantic analysis' in source unit '<em>Bildscript</em>' unsupported ... version 61<a href=\"https://i.stack.imgur.com/6sPuq.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","hibernate","h2","spring-test"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1699448960,"post_id":77445346,"comment_id":136532286,"body_markdown":"Please show the definition of your JPA/Hibernate entity, and provide a [mre] of the code that triggers the actual error.","body":"Please show the definition of your JPA/Hibernate entity, and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the code that triggers the actual error."}],"answers":[{"tags":[],"owner":{"account_id":14769499,"reputation":108,"user_id":10666418,"display_name":"Anton Kozub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699532708,"creation_date":1699532708,"answer_id":77453176,"question_id":77445346,"body_markdown":"The error occurs because there are two candidates for the `card` field in `Account` entity.\r\n\r\n&gt; It should be valid for a table to refer to the same primary key of another table\r\n\r\nIt is valid if you use `@ManyToOne` association type. For `@OneToOne` it&#39;s invalid. ","title":"&quot;More than one row with the given identifier was found&quot;. The problem: it&#39;s not an identifier","body":"<p>The error occurs because there are two candidates for the <code>card</code> field in <code>Account</code> entity.</p>\n<blockquote>\n<p>It should be valid for a table to refer to the same primary key of another table</p>\n</blockquote>\n<p>It is valid if you use <code>@ManyToOne</code> association type. For <code>@OneToOne</code> it's invalid.</p>\n"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77453176,"answer_count":1,"score":0,"last_activity_date":1700126732,"creation_date":1699444795,"question_id":77445346,"body_markdown":"***Note.** It&#39;s a heavily trimmed down version of the problematic code. I spent a lot of time making it. I believe it&#39;s pretty MREish. I do hope for a helpful answer*\r\n\r\nHere&#39;s my test\r\n```java\r\npackage by.afinny.credit.unit.repository;\r\n\r\nimport by.afinny.credit.entity.Card;\r\nimport by.afinny.credit.enumeration.CardStatus;\r\nimport by.afinny.credit.repository.CardRepository;\r\nimport org.assertj.core.api.SoftAssertions;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.EnumSource;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.jdbc.Sql;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@DataJpaTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Sql(\r\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\r\n        scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\r\n)\r\nclass CardRepositoryTest {\r\n    @Autowired\r\n    private CardRepository cardRepository;\r\n    private final static UUID ACCOUNT_ID = UUID.fromString(&quot;00000000-0000-0000-0000-000000000ac1&quot;);\r\n\r\n\r\n    @ParameterizedTest\r\n    @EnumSource(CardStatus.class)\r\n    void testFindByAccountIdAndCardStatusNot(CardStatus excludedCardStatus) {\r\n        List&lt;Card&gt; cards = cardRepository.findByAccountIdAndCardStatusNot(ACCOUNT_ID, excludedCardStatus); // never gets beyond this line, though\r\n        cards.forEach(card -&gt; verifyProperties(card, excludedCardStatus));\r\n    }\r\n\r\n    private void verifyProperties(Card card, CardStatus excludedCardStatus) {\r\n        SoftAssertions.assertSoftly(softAssertions -&gt; {\r\n            softAssertions.assertThat(card.getAccount().getId()).isEqualTo(ACCOUNT_ID);\r\n            softAssertions.assertThat(card.getCardStatus()).isNotEqualTo(excludedCardStatus);\r\n        });\r\n    }\r\n}\r\n```\r\nHere are my scripts:\r\n```sql\r\nCREATE TABLE IF NOT EXISTS PUBLIC.account\r\n(\r\n    id                        UUID           PRIMARY KEY\r\n);\r\nCREATE TABLE IF NOT EXISTS PUBLIC.card\r\n(\r\n    id                UUID             PRIMARY KEY,\r\n    account_id        UUID             NOT NULL REFERENCES account (id),\r\n    status            VARCHAR(30)      NOT NULL\r\n);\r\n```\r\n```sql\r\nCREATE TABLE IF NOT EXISTS PUBLIC.account\r\n(\r\n    id                        UUID           PRIMARY KEY\r\n);\r\nCREATE TABLE IF NOT EXISTS PUBLIC.card\r\n(\r\n    id                UUID             PRIMARY KEY,\r\n    account_id        UUID             NOT NULL REFERENCES account (id),\r\n    status            VARCHAR(30)      NOT NULL\r\n);\r\n```\r\nMy entities:\r\n```java\r\npackage by.afinny.credit.entity;\r\n\r\nimport by.afinny.credit.enumeration.CardStatus;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EnumType;\r\nimport javax.persistence.Enumerated;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;card&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Card {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;status&quot;, nullable = false, length = 30)\r\n    private CardStatus cardStatus;\r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Account account;\r\n}\r\n```\r\n```java\r\npackage by.afinny.credit.entity;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;account&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Account {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n    @OneToOne(mappedBy = &quot;account&quot;)\r\n    private Card card;\r\n}\r\n```\r\n```java\r\npackage by.afinny.credit.enumeration;\r\n\r\npublic enum CardStatus {\r\n    BLOCKED,\r\n    ACTIVE,\r\n    CLOSED,\r\n    NON_ACTIVE\r\n}\r\n```\r\n```java\r\npackage by.afinny.credit.repository;\r\n\r\nimport by.afinny.credit.entity.Card;\r\nimport by.afinny.credit.enumeration.CardStatus;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@Repository\r\npublic interface CardRepository extends JpaRepository&lt;Card, UUID&gt; {\r\n    List&lt;Card&gt; findByAccountIdAndCardStatusNot(UUID accountId, CardStatus excludedStatus);\r\n}\r\n```\r\nProperties:\r\n```java\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MySQL;DATABASE_TO_LOWER=TRUE\r\n    driver-class-name: org.h2.Driver\r\n    username: sa\r\n    password:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    show-sql: true\r\n    database-platform: org.hibernate.dialect.H2Dialect\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n  h2:\r\n    console:\r\n      enabled: false\r\n      settings:\r\n        web-allow-others: true\r\n  config:\r\n    activate:\r\n      on-profile: test\r\n\r\nlogging:\r\n  level:\r\n    org:\r\n      hibernate:\r\n        type: TRACE\r\n      springframework:\r\n          jdbc:\r\n            core: TRACE\r\n            datasource:\r\n              init: DEBUG\r\n          test:\r\n            context:\r\n              jdbc: DEBUG\r\n```\r\nI can include the pom as well if it&#39;s necessary, but I don&#39;t think so (basically all it has is `starter-data-jpa`, `starter-test`, `lombok`, `h2`)\r\n\r\nThe problem:\r\n```\r\nCaused by: org.hibernate.HibernateException: More than one row with the given identifier was found: 00000000-0000-0000-0000-000000000ac1, for class: by.afinny.credit.entity.Card\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:104)\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:66)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.loadByUniqueKey(AbstractEntityPersister.java:2486)\r\n```\r\nWhy does it see the foreign key to the `account` table as an identifier? I can&#39;t wrap my head around it. It should be valid for a table to refer to the same primary key of another table\r\n\r\nInterestingly, it runs fine with `ACTIVE`, but fails in all other cases\r\n\r\nWhat&#39;s the root of this problem? How do I fix it?","title":"&quot;More than one row with the given identifier was found&quot;. The problem: it&#39;s not an identifier","body":"<p><em><strong>Note.</strong> It's a heavily trimmed down version of the problematic code. I spent a lot of time making it. I believe it's pretty MREish. I do hope for a helpful answer</em></p>\n<p>Here's my test</p>\n<pre class=\"lang-java prettyprint-override\"><code>package by.afinny.credit.unit.repository;\n\nimport by.afinny.credit.entity.Card;\nimport by.afinny.credit.enumeration.CardStatus;\nimport by.afinny.credit.repository.CardRepository;\nimport org.assertj.core.api.SoftAssertions;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.EnumSource;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.jdbc.Sql;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\n@Sql(\n        executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD,\n        scripts = {&quot;/schema-h2.sql&quot;, &quot;/data-h2.sql&quot;}\n)\nclass CardRepositoryTest {\n    @Autowired\n    private CardRepository cardRepository;\n    private final static UUID ACCOUNT_ID = UUID.fromString(&quot;00000000-0000-0000-0000-000000000ac1&quot;);\n\n\n    @ParameterizedTest\n    @EnumSource(CardStatus.class)\n    void testFindByAccountIdAndCardStatusNot(CardStatus excludedCardStatus) {\n        List&lt;Card&gt; cards = cardRepository.findByAccountIdAndCardStatusNot(ACCOUNT_ID, excludedCardStatus); // never gets beyond this line, though\n        cards.forEach(card -&gt; verifyProperties(card, excludedCardStatus));\n    }\n\n    private void verifyProperties(Card card, CardStatus excludedCardStatus) {\n        SoftAssertions.assertSoftly(softAssertions -&gt; {\n            softAssertions.assertThat(card.getAccount().getId()).isEqualTo(ACCOUNT_ID);\n            softAssertions.assertThat(card.getCardStatus()).isNotEqualTo(excludedCardStatus);\n        });\n    }\n}\n</code></pre>\n<p>Here are my scripts:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE IF NOT EXISTS PUBLIC.account\n(\n    id                        UUID           PRIMARY KEY\n);\nCREATE TABLE IF NOT EXISTS PUBLIC.card\n(\n    id                UUID             PRIMARY KEY,\n    account_id        UUID             NOT NULL REFERENCES account (id),\n    status            VARCHAR(30)      NOT NULL\n);\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE IF NOT EXISTS PUBLIC.account\n(\n    id                        UUID           PRIMARY KEY\n);\nCREATE TABLE IF NOT EXISTS PUBLIC.card\n(\n    id                UUID             PRIMARY KEY,\n    account_id        UUID             NOT NULL REFERENCES account (id),\n    status            VARCHAR(30)      NOT NULL\n);\n</code></pre>\n<p>My entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package by.afinny.credit.entity;\n\nimport by.afinny.credit.enumeration.CardStatus;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;card&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Card {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status&quot;, nullable = false, length = 30)\n    private CardStatus cardStatus;\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;account_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Account account;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package by.afinny.credit.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;account&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Account {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n    @OneToOne(mappedBy = &quot;account&quot;)\n    private Card card;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package by.afinny.credit.enumeration;\n\npublic enum CardStatus {\n    BLOCKED,\n    ACTIVE,\n    CLOSED,\n    NON_ACTIVE\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package by.afinny.credit.repository;\n\nimport by.afinny.credit.entity.Card;\nimport by.afinny.credit.enumeration.CardStatus;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@Repository\npublic interface CardRepository extends JpaRepository&lt;Card, UUID&gt; {\n    List&lt;Card&gt; findByAccountIdAndCardStatusNot(UUID accountId, CardStatus excludedStatus);\n}\n</code></pre>\n<p>Properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring:\n  datasource:\n    url: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MySQL;DATABASE_TO_LOWER=TRUE\n    driver-class-name: org.h2.Driver\n    username: sa\n    password:\n  jpa:\n    hibernate:\n      ddl-auto: none\n    show-sql: true\n    database-platform: org.hibernate.dialect.H2Dialect\n    properties:\n      hibernate:\n        format_sql: true\n  h2:\n    console:\n      enabled: false\n      settings:\n        web-allow-others: true\n  config:\n    activate:\n      on-profile: test\n\nlogging:\n  level:\n    org:\n      hibernate:\n        type: TRACE\n      springframework:\n          jdbc:\n            core: TRACE\n            datasource:\n              init: DEBUG\n          test:\n            context:\n              jdbc: DEBUG\n</code></pre>\n<p>I can include the pom as well if it's necessary, but I don't think so (basically all it has is <code>starter-data-jpa</code>, <code>starter-test</code>, <code>lombok</code>, <code>h2</code>)</p>\n<p>The problem:</p>\n<pre><code>Caused by: org.hibernate.HibernateException: More than one row with the given identifier was found: 00000000-0000-0000-0000-000000000ac1, for class: by.afinny.credit.entity.Card\n    at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:104)\n    at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:66)\n    at org.hibernate.persister.entity.AbstractEntityPersister.loadByUniqueKey(AbstractEntityPersister.java:2486)\n</code></pre>\n<p>Why does it see the foreign key to the <code>account</code> table as an identifier? I can't wrap my head around it. It should be valid for a table to refer to the same primary key of another table</p>\n<p>Interestingly, it runs fine with <code>ACTIVE</code>, but fails in all other cases</p>\n<p>What's the root of this problem? How do I fix it?</p>\n"},{"tags":["java","maven","intellij-idea","pom.xml","wildfly-23"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1700238242,"post_id":77493418,"comment_id":136633686,"body_markdown":"What goal are you running? Is this just for testing?","body":"What goal are you running? Is this just for testing?"}],"answers":[{"tags":[],"owner":{"account_id":17837305,"reputation":117,"user_id":12956008,"display_name":"Brahim Bessrour"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700126552,"creation_date":1700126552,"answer_id":77493588,"question_id":77493418,"body_markdown":"The `add-user.sh` script is a command-line tool that allows you to add new users to Wildfly.\r\n\r\n1)Go to `JBOSS_HOME/bin` folder&lt;br&gt;\r\n2)Open CMD and launch the script &lt;br&gt;\r\n-If you are on windows: `./add-user.bat`&lt;br&gt;\r\n-If you are using Linux: `./add-user.sh`&lt;br&gt;\r\n3)Select the default option `a` to add a Management user&lt;br&gt;\r\n4)Enter the username and password&lt;br&gt;\r\n5)Add the group or leave it blank if you do not want the user to belong to any groups.&lt;br&gt;\r\n6)Review the information and to confirm type yes &lt;br&gt;\r\n\r\nCheck this [link][1] it might help \r\n\r\n\r\n  [1]: https://www.mastertheboss.com/jbossas/jboss-script/wildfly-how-to-add-an-user/\r\n","title":"How to add wildfly user from server configuration?","body":"<p>The <code>add-user.sh</code> script is a command-line tool that allows you to add new users to Wildfly.</p>\n<p>1)Go to <code>JBOSS_HOME/bin</code> folder<br>\n2)Open CMD and launch the script <br>\n-If you are on windows: <code>./add-user.bat</code><br>\n-If you are using Linux: <code>./add-user.sh</code><br>\n3)Select the default option <code>a</code> to add a Management user<br>\n4)Enter the username and password<br>\n5)Add the group or leave it blank if you do not want the user to belong to any groups.<br>\n6)Review the information and to confirm type yes <br></p>\n<p>Check this <a href=\"https://www.mastertheboss.com/jbossas/jboss-script/wildfly-how-to-add-an-user/\" rel=\"nofollow noreferrer\">link</a> it might help</p>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700126552,"creation_date":1700124876,"question_id":77493418,"body_markdown":"I am using Wildfly in a Java application. Here is the configuration on the pom:\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.0.Final&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!--\r\n                             In produzione c&#39;e&#39; JBoss EAP 6.3 =&gt; JBoss AS 7.4.0.Final\r\n                             ma tale release non e&#39; disponibile nei repo Maven\r\n                             quindi usiamo la versione piu&#39; simile disponibile\r\n                          --&gt;\r\n                        &lt;version&gt;23.0.0.Final&lt;/version&gt;\r\n                        &lt;javaOpts&gt;\r\n                            -Xms64m -Xmx512m -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true\r\n                            -Dorg.jboss.resolver.warning=true\r\n                            -Dsun.rmi.dgc.client.gcInterval=3600000\r\n                            -Dsun.rmi.dgc.server.gcInterval=3600000\r\n                            -Djboss.socket.binding.port-offset=100\r\n                            -Djboss.server.config.dir=${project.build.testOutputDirectory}/configuration\r\n                            ${jacocoAgent}\r\n    &lt;!--                        &amp;lt;!&amp;ndash;per eseguire il debug remoto rimuovere il commento dalla riga sottostante--&gt;\r\n    &lt;!--                            -Xrunjdwp:transport=dt_socket,address=33333,server=y,suspend=y--&gt;\r\n                        &lt;/javaOpts&gt;\r\n                        &lt;port&gt;10099&lt;/port&gt;\r\n                    &lt;/configuration&gt;\r\n    \r\nI would like to add a new admin user automatically by some initial configuration (e. g. standalone.xml), is it possible, and how? I haven&#39;t find any references. Thanks.","title":"How to add wildfly user from server configuration?","body":"<p>I am using Wildfly in a Java application. Here is the configuration on the pom:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0.Final&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!--\n                         In produzione c'e' JBoss EAP 6.3 =&gt; JBoss AS 7.4.0.Final\n                         ma tale release non e' disponibile nei repo Maven\n                         quindi usiamo la versione piu' simile disponibile\n                      --&gt;\n                    &lt;version&gt;23.0.0.Final&lt;/version&gt;\n                    &lt;javaOpts&gt;\n                        -Xms64m -Xmx512m -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true\n                        -Dorg.jboss.resolver.warning=true\n                        -Dsun.rmi.dgc.client.gcInterval=3600000\n                        -Dsun.rmi.dgc.server.gcInterval=3600000\n                        -Djboss.socket.binding.port-offset=100\n                        -Djboss.server.config.dir=${project.build.testOutputDirectory}/configuration\n                        ${jacocoAgent}\n&lt;!--                        &amp;lt;!&amp;ndash;per eseguire il debug remoto rimuovere il commento dalla riga sottostante--&gt;\n&lt;!--                            -Xrunjdwp:transport=dt_socket,address=33333,server=y,suspend=y--&gt;\n                    &lt;/javaOpts&gt;\n                    &lt;port&gt;10099&lt;/port&gt;\n                &lt;/configuration&gt;\n</code></pre>\n<p>I would like to add a new admin user automatically by some initial configuration (e. g. standalone.xml), is it possible, and how? I haven't find any references. Thanks.</p>\n"},{"tags":["java","for-loop","button","jframe","controls"],"comments":[{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1447155005,"post_id":33628936,"comment_id":55031403,"body_markdown":"So.. what are you asking? Does this code work? If not, what does it do that you don&#39;t expect?","body":"So.. what are you asking? Does this code work? If not, what does it do that you don&#39;t expect?"},{"owner":{"account_id":5870677,"reputation":1,"user_id":4623105,"display_name":"Ali Pınar"},"score":0,"creation_date":1447155136,"post_id":33628936,"comment_id":55031473,"body_markdown":"It doesn&#39;t work on JAVA :( I need for loop controls..","body":"It doesn&#39;t work on JAVA :( I need for loop controls.."},{"owner":{"account_id":5870677,"reputation":1,"user_id":4623105,"display_name":"Ali Pınar"},"score":0,"creation_date":1447155160,"post_id":33628936,"comment_id":55031487,"body_markdown":"String btnName;\n        JButton butnesne = new JButton();\n        for(int i=1;i&lt;=4;i++)\n        {\n            btnName = &quot;jButton&quot;+String.valueOf(i);\n            btnName.setText(String.valueOf(i));\n        }","body":"String btnName;         JButton butnesne = new JButton();         for(int i=1;i&lt;=4;i++)         {             btnName = &quot;jButton&quot;+String.valueOf(i);             btnName.setText(String.valueOf(i));         }"},{"owner":{"account_id":5870677,"reputation":1,"user_id":4623105,"display_name":"Ali Pınar"},"score":0,"creation_date":1447155186,"post_id":33628936,"comment_id":55031505,"body_markdown":"This code doesn&#39;t work on Java","body":"This code doesn&#39;t work on Java"},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1447155201,"post_id":33628936,"comment_id":55031511,"body_markdown":"&quot;doesn&#39;t work on JAVA&quot; is not a description of the problem. Does it compile? Does it throw an exception when you run it? Does it do something different to what you expect? etc etc. Help us to help you.","body":"&quot;doesn&#39;t work on JAVA&quot; is not a description of the problem. Does it compile? Does it throw an exception when you run it? Does it do something different to what you expect? etc etc. Help us to help you."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1447155295,"post_id":33628936,"comment_id":55031571,"body_markdown":"&quot;Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: How to create a Minimal, Complete, and Verifiable example.&quot; http://stackoverflow.com/help/on-topic","body":"&quot;Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: How to create a Minimal, Complete, and Verifiable example.&quot; <a href=\"http://stackoverflow.com/help/on-topic\">stackoverflow.com/help/on-topic</a>"},{"owner":{"account_id":5870677,"reputation":1,"user_id":4623105,"display_name":"Ali Pınar"},"score":0,"creation_date":1447155325,"post_id":33628936,"comment_id":55031585,"body_markdown":"Can you give me facebook adress ? Can you help me on private","body":"Can you give me facebook adress ? Can you help me on private"},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1447155407,"post_id":33628936,"comment_id":55031627,"body_markdown":"Nope, here is fine. Please just provide details of your problem in your question.","body":"Nope, here is fine. Please just provide details of your problem in your question."},{"owner":{"account_id":1593372,"reputation":6466,"user_id":1476206,"display_name":"Joseph Lord"},"score":0,"creation_date":1447156677,"post_id":33628936,"comment_id":55032280,"body_markdown":"Can you put the labels in an array (even temporarily) so that the iteration over them works? Java is not a scripting language you can&#39;t just assemble variable names at runtime (or at least that isn&#39;t usually the correct way to code).","body":"Can you put the labels in an array (even temporarily) so that the iteration over them works? Java is not a scripting language you can&#39;t just assemble variable names at runtime (or at least that isn&#39;t usually the correct way to code)."}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447156346,"creation_date":1447156346,"answer_id":33629355,"question_id":33628936,"body_markdown":"Create a `JLabel` array and fill it with the loop :\r\n\r\n    JLabel[] labs = new JLabel[6];\r\n    \r\n    for (int i = 0 ; i &lt; labs.length ; i++){\r\n        labs[i] = new JLabel(&quot;Whatever&quot;);\r\n    }","title":"Loop controls in JAVA. How to control i=1 to n.. button[i].setText() ? I dont want to as foreach","body":"<p>Create a <code>JLabel</code> array and fill it with the loop :</p>\n\n<pre><code>JLabel[] labs = new JLabel[6];\n\nfor (int i = 0 ; i &lt; labs.length ; i++){\n    labs[i] = new JLabel(\"Whatever\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3635224,"reputation":6579,"user_id":3030495,"accept_rate":100,"display_name":"hurricane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700126240,"creation_date":1447156471,"answer_id":33629396,"question_id":33628936,"body_markdown":"You need to getLabels which are inside in a Jframe.\r\n\r\n//if you don&#39;t have contentpane use jframe.getComponents();\r\n\r\n    foreach(Component comp : jframe.getContentPane().getComponents()){\r\n        System.out.println(comp.getLabel());\r\n        comp.setLabel(&quot;Your Label&quot;);\r\n    }","title":"Loop controls in JAVA. How to control i=1 to n.. button[i].setText() ? I dont want to as foreach","body":"<p>You need to getLabels which are inside in a Jframe.</p>\n<p>//if you don't have contentpane use jframe.getComponents();</p>\n<pre><code>foreach(Component comp : jframe.getContentPane().getComponents()){\n    System.out.println(comp.getLabel());\n    comp.setLabel(&quot;Your Label&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10839766,"reputation":5282,"user_id":8200485,"accept_rate":82,"display_name":"hyper-neutrino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447211375,"creation_date":1447211375,"answer_id":33643644,"question_id":33628936,"body_markdown":"Since the OP seems to want to name them `label1`, `label2`, `label3`, etc., this code will do that:\r\n\r\n    for (i = 1; i &lt;= 6; i++) {\r\n        label[i - 1].text = &quot;label&quot; + i;\r\n    }\r\n\r\nTwo things to notice:\r\n\r\n`label[i - 1]`: Array numeration starts at zero. The first element is `array[0]`.\r\n\r\nSecond thing: `&quot;label&quot; + i`\r\n\r\nThis is an example of concatenation. I take the string `&quot;label&quot;` and I append `i` to the end of it. It is not numerical addition because I cannot add strings like numbers! Instead, the result is `&quot;label?&quot;`","title":"Loop controls in JAVA. How to control i=1 to n.. button[i].setText() ? I dont want to as foreach","body":"<p>Since the OP seems to want to name them <code>label1</code>, <code>label2</code>, <code>label3</code>, etc., this code will do that:</p>\n\n<pre><code>for (i = 1; i &lt;= 6; i++) {\n    label[i - 1].text = \"label\" + i;\n}\n</code></pre>\n\n<p>Two things to notice:</p>\n\n<p><code>label[i - 1]</code>: Array numeration starts at zero. The first element is <code>array[0]</code>.</p>\n\n<p>Second thing: <code>\"label\" + i</code></p>\n\n<p>This is an example of concatenation. I take the string <code>\"label\"</code> and I append <code>i</code> to the end of it. It is not numerical addition because I cannot add strings like numbers! Instead, the result is <code>\"label?\"</code></p>\n"}],"owner":{"account_id":5870677,"reputation":1,"user_id":4623105,"display_name":"Ali Pınar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1700126240,"creation_date":1447154872,"question_id":33628936,"body_markdown":"I am having 6 `label controls` in a java form (`JFrame`): `label1`, `label2` etc. till `label6`. How to &#39;refer&#39; to the control in a loop like this:\r\n   \r\n    for (i=1; i&lt;=6; i++) \r\n    { \r\n        label[i].text = ...; //Some line of code here\r\n    }","title":"Loop controls in JAVA. How to control i=1 to n.. button[i].setText() ? I dont want to as foreach","body":"<p>I am having 6 <code>label controls</code> in a java form (<code>JFrame</code>): <code>label1</code>, <code>label2</code> etc. till <code>label6</code>. How to 'refer' to the control in a loop like this:</p>\n\n<pre><code>for (i=1; i&lt;=6; i++) \n{ \n    label[i].text = ...; //Some line of code here\n}\n</code></pre>\n"},{"tags":["java","quarkus","open-telemetry","jaeger","open-telemetry-collector"],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700126189,"creation_date":1700125214,"answer_id":77493451,"question_id":77490791,"body_markdown":"`quarkus.opentelemetry.propagators` or the new property for Quarkus v3.x+: `quarkus.otel.propagators` will allow you to use one or more propagation frameworks. In the example you give, headers for  `tracecontext,baggage,jaeger` will be added to the outbound requests. \r\n\r\n* `tracecontext` and `baggage` will use the standard [W3C headers][1].\r\n* `jaeger` will use the [Jaeger native propagation format][2], which also includes the baggage.\r\n\r\nYou can say that you are duplicating the context and the baggage data in 2 different formats, on the outbound request. Upon receiving the request, external systems understanding the default W3C will use the `tracecontext` and `baggage` headers, systems understanding Jaeger format will use the data on the `jaeger` header.\r\n\r\nFor more details check the [quarkus.otel.propagators][3] property and the [propagators][4] section of the Quarkus OpenTelemetry guide. There, you can explore guidelines on integrating additional libraries into Quarkus to enable support for non-standard [propagation mechanisms][5] permitted by the Java implementation of OpenTelemetry.\r\n\r\n\r\n  [1]: https://www.w3.org/TR/trace-context/#trace-context-http-headers-format\r\n  [2]: https://www.jaegertracing.io/docs/1.21/client-libraries/#propagation-format\r\n  [3]: https://quarkus.io/guides/opentelemetry#quarkus-opentelemetry_quarkus.otel.propagators\r\n  [4]: https://quarkus.io/guides/opentelemetry#propagators\r\n  [5]: https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#propagator","title":"Setting Quarkus Opentelemetry Propagators","body":"<p><code>quarkus.opentelemetry.propagators</code> or the new property for Quarkus v3.x+: <code>quarkus.otel.propagators</code> will allow you to use one or more propagation frameworks. In the example you give, headers for  <code>tracecontext,baggage,jaeger</code> will be added to the outbound requests.</p>\n<ul>\n<li><code>tracecontext</code> and <code>baggage</code> will use the standard <a href=\"https://www.w3.org/TR/trace-context/#trace-context-http-headers-format\" rel=\"nofollow noreferrer\">W3C headers</a>.</li>\n<li><code>jaeger</code> will use the <a href=\"https://www.jaegertracing.io/docs/1.21/client-libraries/#propagation-format\" rel=\"nofollow noreferrer\">Jaeger native propagation format</a>, which also includes the baggage.</li>\n</ul>\n<p>You can say that you are duplicating the context and the baggage data in 2 different formats, on the outbound request. Upon receiving the request, external systems understanding the default W3C will use the <code>tracecontext</code> and <code>baggage</code> headers, systems understanding Jaeger format will use the data on the <code>jaeger</code> header.</p>\n<p>For more details check the <a href=\"https://quarkus.io/guides/opentelemetry#quarkus-opentelemetry_quarkus.otel.propagators\" rel=\"nofollow noreferrer\">quarkus.otel.propagators</a> property and the <a href=\"https://quarkus.io/guides/opentelemetry#propagators\" rel=\"nofollow noreferrer\">propagators</a> section of the Quarkus OpenTelemetry guide. There, you can explore guidelines on integrating additional libraries into Quarkus to enable support for non-standard <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#propagator\" rel=\"nofollow noreferrer\">propagation mechanisms</a> permitted by the Java implementation of OpenTelemetry.</p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700126189,"creation_date":1700080973,"question_id":77490791,"body_markdown":"I am trying to understand the purpose of setting this property in the application.properties\r\n\r\nquarkus.opentelemetry.propagators=tracecontext,baggage,jaeger\r\n\r\nI know the tracecontext and baggage are default. Not sure what the jaeger or this property itself does. We have Jaeger collector and i am able to see all the traces/spans without setting this property. Looking at the docs, it seems this has some vital behavior. Any idea what i am missing here and how the flow works without setting this property with jaeger collector\r\n\r\nThank you\r\nSG ","title":"Setting Quarkus Opentelemetry Propagators","body":"<p>I am trying to understand the purpose of setting this property in the application.properties</p>\n<p>quarkus.opentelemetry.propagators=tracecontext,baggage,jaeger</p>\n<p>I know the tracecontext and baggage are default. Not sure what the jaeger or this property itself does. We have Jaeger collector and i am able to see all the traces/spans without setting this property. Looking at the docs, it seems this has some vital behavior. Any idea what i am missing here and how the flow works without setting this property with jaeger collector</p>\n<p>Thank you\nSG</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1699976774,"post_id":77481179,"comment_id":136596721,"body_markdown":"based on second logs file you missed to also add `constructor` to your `DTO`, after it all will work well.","body":"based on second logs file you missed to also add <code>constructor</code> to your <code>DTO</code>, after it all will work well."},{"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1699980934,"post_id":77481179,"comment_id":136597659,"body_markdown":"@AndreiLisa the `data` annotation on the class generates a constructor. lombok is clearly not working thats what your logs are telling us. but without a small reproducible project uploaded somewhere we cant run ourselves we cant help you more.","body":"@AndreiLisa the <code>data</code> annotation on the class generates a constructor. lombok is clearly not working thats what your logs are telling us. but without a small reproducible project uploaded somewhere we cant run ourselves we cant help you more."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1699981630,"post_id":77481179,"comment_id":136597812,"body_markdown":"Yes you are right my bad, I did not see `@NonNull` annotation on `String phone`.","body":"Yes you are right my bad, I did not see <code>@NonNull</code> annotation on <code>String phone</code>."}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699971301,"creation_date":1699970652,"answer_id":77481221,"question_id":77481179,"body_markdown":"Allow /api/v1/auth/sign_up in SecurityFilterChain to pass,and disable csrf\r\n\r\n    @Bean\r\n    public SecurityFilterChain publicFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(\r\n                        authorize -&gt; authorize.requestMatchers(&quot;/api/v1/auth/sign_up&quot;).permitAll()\r\n                                .anyRequest()\r\n                                .authenticated()\r\n                )\r\n                .httpBasic(Customizer.withDefaults())\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return httpSecurity.build();\r\n    }\r\n\r\n","title":"Access denied in Spring Security 3.0","body":"<p>Allow /api/v1/auth/sign_up in SecurityFilterChain to pass,and disable csrf</p>\n<pre><code>@Bean\npublic SecurityFilterChain publicFilterChain(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(\n                    authorize -&gt; authorize.requestMatchers(&quot;/api/v1/auth/sign_up&quot;).permitAll()\n                            .anyRequest()\n                            .authenticated()\n            )\n            .httpBasic(Customizer.withDefaults())\n            .formLogin(Customizer.withDefaults());\n\n    return httpSecurity.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18532949,"reputation":215,"user_id":13503258,"display_name":"DONGMO BERNARD GERAUD"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1699986464,"creation_date":1699986464,"answer_id":77483024,"question_id":77481179,"body_markdown":"Here&#39;s how I modified your code and it works.\r\n\r\n**POM**\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t                    &lt;exclude&gt;\r\n\t                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t                    &lt;/exclude&gt;\r\n                \t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n**Security config(very basic)**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    @Order(2)\r\n    SecurityFilterChain publicFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \treturn httpSecurity\r\n    \t\t\t.securityMatcher(&quot;/api/**&quot;)\r\n    \t\t\t.authorizeHttpRequests(auth -&gt; {\r\n    \t\t\t\tauth.anyRequest().authenticated();\r\n    \t\t\t})\r\n    \t\t\t.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n    \t\t\t.httpBasic(Customizer.withDefaults())\r\n    \t\t\t.build();\r\n    }\r\n    \r\n    @Bean\r\n    @Order(1)\r\n    SecurityFilterChain registrationFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \treturn httpSecurity\r\n    \t\t\t.securityMatcher(AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/sign_up&quot;))\r\n    \t\t\t.authorizeHttpRequests(auth -&gt; {\r\n    \t\t\t\tauth.requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/sign_up&quot;)).permitAll();\r\n    \t\t\t})\r\n    \t\t\t.csrf(csrf -&gt; csrf.ignoringRequestMatchers(AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/sign_up&quot;)))\r\n    \t\t\t.build();\r\n    }\r\n}\r\n```\r\n**DTO**\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class RegistrationRequestDTO {\r\n    @NonNull\r\n    private String phone;\r\n}\r\n```\r\n**Controller**\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/api/v1&quot;)\r\npublic class AuthController {\r\n\t\r\n    @PostMapping(&quot;/auth/sign_up&quot;)\r\n    public ResponseEntity&lt;String&gt; registerUser(@RequestBody RegistrationRequestDTO registrationRequestDTO) {\r\n      return new ResponseEntity&lt;&gt;(&quot;test&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n**application.properties**\r\n```\r\nserver.port=8087\r\nlogging.level.org.springframework.web= TRACE\r\nlogging.level.org.springframework.security= TRACE\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U9lut.png","title":"Access denied in Spring Security 3.0","body":"<p>Here's how I modified your code and it works.</p>\n<p><strong>POM</strong></p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                    &lt;/image&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p><strong>Security config(very basic)</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    @Order(2)\n    SecurityFilterChain publicFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n                .securityMatcher(&quot;/api/**&quot;)\n                .authorizeHttpRequests(auth -&gt; {\n                    auth.anyRequest().authenticated();\n                })\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .httpBasic(Customizer.withDefaults())\n                .build();\n    }\n    \n    @Bean\n    @Order(1)\n    SecurityFilterChain registrationFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n                .securityMatcher(AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/sign_up&quot;))\n                .authorizeHttpRequests(auth -&gt; {\n                    auth.requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/sign_up&quot;)).permitAll();\n                })\n                .csrf(csrf -&gt; csrf.ignoringRequestMatchers(AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/sign_up&quot;)))\n                .build();\n    }\n}\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RegistrationRequestDTO {\n    @NonNull\n    private String phone;\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/v1&quot;)\npublic class AuthController {\n    \n    @PostMapping(&quot;/auth/sign_up&quot;)\n    public ResponseEntity&lt;String&gt; registerUser(@RequestBody RegistrationRequestDTO registrationRequestDTO) {\n      return new ResponseEntity&lt;&gt;(&quot;test&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=8087\nlogging.level.org.springframework.web= TRACE\nlogging.level.org.springframework.security= TRACE\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/U9lut.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U9lut.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1700050055,"accepted_answer_id":77483024,"answer_count":2,"score":-2,"last_activity_date":1700125964,"creation_date":1699970292,"question_id":77481179,"body_markdown":"Created sandbox project to play with `Spring-Boot 3` and `Spring-Security`. In previos versions of Spring-Security we had to extend security config from `WebConfigurerAdapter` class, but as I see beginning with `Spring-Security 6`  we need to create FilterChain object. I&#39;m trying to create basic configuration, but getting access denied message on `doFilter()` operation. Here is my code:\r\n\r\n**POM**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;security&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;security&lt;/name&gt;\r\n\t&lt;description&gt;test for security&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n**Security config(very basic)**\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain publicFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity\r\n                    .csrf(Customizer.withDefaults())\r\n                    .authorizeHttpRequests(\r\n                            authorize -&gt; authorize\r\n                                    .anyRequest()\r\n                                    .authenticated()\r\n                    )\r\n                    .httpBasic(Customizer.withDefaults())\r\n                    .formLogin(Customizer.withDefaults());\r\n    \r\n            return httpSecurity.build();\r\n        }\r\n    }\r\n\r\n**DTO**\r\n\r\n    @Data\r\n    @Builder\r\n    public class RegistrationRequestDTO {\r\n        @NonNull\r\n        private String phone;\r\n    }\r\n\r\n**Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/v1&quot;)\r\n    public class AuthController {\r\n        @PostMapping(&quot;/auth/sign_up&quot;)\r\n        public ResponseEntity&lt;String&gt; registerUser(@RequestBody RegistrationRequestDTO registrationRequestDTO) {\r\n          return new ResponseEntity&lt;&gt;(&quot;test&quot;, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nI added to properties class: \r\n\r\n    server.port=8087\r\n     logging.level.org.springframework.web= TRACE\r\n        logging.level.org.springframework.security= TRACE\r\n\r\nSo, when I&#39;m calling endpoint from postman, I&#39;m getting 401-error:\r\n[![enter image description here][1]][1] \r\n\r\nAnd in logs I see:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    org.springframework.security.access.AccessDeniedException: Access Denied\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n**UPD**\r\n\r\n**Logs after removing exclussion of Lombok from pom:**\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@29f0fb02] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$698/0x0000000801004660@29a87072\r\n    2023-11-14T16:52:55.116+02:00 DEBUG 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/sign_up\r\n    2023-11-14T16:52:55.118+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : POST &quot;/api/v1/auth/sign_up&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-11-14T16:52:55.119+02:00 TRACE 10361 --- [nio-8087-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.test.security.controller.AuthController#registerUser(RegistrationRequestDTO)\r\n    2023-11-14T16:52:55.175+02:00 DEBUG 10361 --- [nio-8087-exec-1] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.test.security.controller.AuthController.registerUser(com.test.security.config.RegistrationRequestDTO): JSON parse error: Cannot construct instance of `com.test.security.config.RegistrationRequestDTO` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n    2023-11-14T16:52:55.177+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\r\n    2023-11-14T16:52:55.179+02:00  WARN 10361 --- [nio-8087-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.test.security.config.RegistrationRequestDTO` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)]\r\n    2023-11-14T16:52:55.179+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\r\n    2023-11-14T16:52:55.180+02:00 DEBUG 10361 --- [nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST, headers={masked}\r\n    2023-11-14T16:52:55.180+02:00 TRACE 10361 --- [nio-8087-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists\r\n    2023-11-14T16:52:55.180+02:00 TRACE 10361 --- [nio-8087-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n    2023-11-14T16:52:55.180+02:00 TRACE 10361 --- [nio-8087-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n    2023-11-14T16:52:55.181+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    2023-11-14T16:52:55.184+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7b5b5bfe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74834afd, org.springframework.security.web.context.SecurityContextHolderFilter@c889805, org.springframework.security.web.header.HeaderWriterFilter@39c85c1a, org.springframework.security.web.authentication.logout.LogoutFilter@6f3f0ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b2ccba5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7df28f1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@75fd65c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5f59ea8c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78d9f51b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72b6832e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d499c13, org.springframework.security.web.access.ExceptionTranslationFilter@40113163, org.springframework.security.web.access.intercept.AuthorizationFilter@3913f206]] (1/1)\r\n    2023-11-14T16:52:55.184+02:00 DEBUG 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /error\r\n    2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/14)\r\n    2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/14)\r\n    2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/14)\r\n    2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/14)\r\n    2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/14)\r\n    2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n    2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (6/14)\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern=&#39;/login&#39;, POST]\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking DefaultLoginPageGeneratingFilter (7/14)\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking DefaultLogoutPageGeneratingFilter (8/14)\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (9/14)\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (10/14)\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (11/14)\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (12/14)\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (13/14)\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (14/14)\r\n    2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@d72bbd2]]\r\n    2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\r\n    2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@d72bbd2]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@173143aa\r\n    2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists\r\n    2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n    2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n    2023-11-14T16:52:55.189+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    2023-11-14T16:52:55.189+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\n\r\n\r\nSo, obviously I&#39;m doing something wrong and don&#39;t quite understand how updated Spring-Security should be configured. Could anybody tell me how to configure it properly in order to receive request in controller?\r\n\r\n  [1]: https://i.stack.imgur.com/I0xqp.png","title":"Access denied in Spring Security 3.0","body":"<p>Created sandbox project to play with <code>Spring-Boot 3</code> and <code>Spring-Security</code>. In previos versions of Spring-Security we had to extend security config from <code>WebConfigurerAdapter</code> class, but as I see beginning with <code>Spring-Security 6</code>  we need to create FilterChain object. I'm trying to create basic configuration, but getting access denied message on <code>doFilter()</code> operation. Here is my code:</p>\n<p><strong>POM</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.security&lt;/groupId&gt;\n    &lt;artifactId&gt;security&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;security&lt;/name&gt;\n    &lt;description&gt;test for security&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                    &lt;/image&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Security config(very basic)</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain publicFilterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf(Customizer.withDefaults())\n                .authorizeHttpRequests(\n                        authorize -&gt; authorize\n                                .anyRequest()\n                                .authenticated()\n                )\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>@Data\n@Builder\npublic class RegistrationRequestDTO {\n    @NonNull\n    private String phone;\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/v1&quot;)\npublic class AuthController {\n    @PostMapping(&quot;/auth/sign_up&quot;)\n    public ResponseEntity&lt;String&gt; registerUser(@RequestBody RegistrationRequestDTO registrationRequestDTO) {\n      return new ResponseEntity&lt;&gt;(&quot;test&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I added to properties class:</p>\n<pre><code>server.port=8087\n logging.level.org.springframework.web= TRACE\n    logging.level.org.springframework.security= TRACE\n</code></pre>\n<p>So, when I'm calling endpoint from postman, I'm getting 401-error:\n<a href=\"https://i.stack.imgur.com/I0xqp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I0xqp.png\" alt=\"enter image description here\" /></a></p>\n<p>And in logs I see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.5.jar:6.1.5]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p><strong>UPD</strong></p>\n<p><strong>Logs after removing exclussion of Lombok from pom:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@29f0fb02] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$698/0x0000000801004660@29a87072\n2023-11-14T16:52:55.116+02:00 DEBUG 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/sign_up\n2023-11-14T16:52:55.118+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : POST &quot;/api/v1/auth/sign_up&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2023-11-14T16:52:55.119+02:00 TRACE 10361 --- [nio-8087-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.test.security.controller.AuthController#registerUser(RegistrationRequestDTO)\n2023-11-14T16:52:55.175+02:00 DEBUG 10361 --- [nio-8087-exec-1] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.test.security.controller.AuthController.registerUser(com.test.security.config.RegistrationRequestDTO): JSON parse error: Cannot construct instance of `com.test.security.config.RegistrationRequestDTO` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\n2023-11-14T16:52:55.177+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\n2023-11-14T16:52:55.179+02:00  WARN 10361 --- [nio-8087-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.test.security.config.RegistrationRequestDTO` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)]\n2023-11-14T16:52:55.179+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\n2023-11-14T16:52:55.180+02:00 DEBUG 10361 --- [nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST, headers={masked}\n2023-11-14T16:52:55.180+02:00 TRACE 10361 --- [nio-8087-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists\n2023-11-14T16:52:55.180+02:00 TRACE 10361 --- [nio-8087-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-11-14T16:52:55.180+02:00 TRACE 10361 --- [nio-8087-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-11-14T16:52:55.181+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-11-14T16:52:55.184+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7b5b5bfe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74834afd, org.springframework.security.web.context.SecurityContextHolderFilter@c889805, org.springframework.security.web.header.HeaderWriterFilter@39c85c1a, org.springframework.security.web.authentication.logout.LogoutFilter@6f3f0ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b2ccba5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7df28f1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@75fd65c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5f59ea8c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78d9f51b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72b6832e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d499c13, org.springframework.security.web.access.ExceptionTranslationFilter@40113163, org.springframework.security.web.access.intercept.AuthorizationFilter@3913f206]] (1/1)\n2023-11-14T16:52:55.184+02:00 DEBUG 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /error\n2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/14)\n2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/14)\n2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/14)\n2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/14)\n2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/14)\n2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-11-14T16:52:55.185+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (6/14)\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking DefaultLoginPageGeneratingFilter (7/14)\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking DefaultLogoutPageGeneratingFilter (8/14)\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking BasicAuthenticationFilter (9/14)\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (10/14)\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (11/14)\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (12/14)\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (13/14)\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (14/14)\n2023-11-14T16:52:55.186+02:00 TRACE 10361 --- [nio-8087-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@d72bbd2]]\n2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@d72bbd2]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@173143aa\n2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists\n2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-11-14T16:52:55.188+02:00 TRACE 10361 --- [nio-8087-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-11-14T16:52:55.189+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-11-14T16:52:55.189+02:00 TRACE 10361 --- [nio-8087-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\n</code></pre>\n<p>So, obviously I'm doing something wrong and don't quite understand how updated Spring-Security should be configured. Could anybody tell me how to configure it properly in order to receive request in controller?</p>\n"},{"tags":["java","hibernate","reverse-engineering","hibernate-tools"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1700097719,"post_id":77491312,"comment_id":136614235,"body_markdown":"Is the DDL you show the newly generated DDL? If so, show the DDL in the source database as well.","body":"Is the DDL you show the newly generated DDL? If so, show the DDL in the source database as well."},{"owner":{"account_id":3437842,"reputation":61,"user_id":2880516,"display_name":"user2880516"},"score":0,"creation_date":1700120488,"post_id":77491312,"comment_id":136616146,"body_markdown":"@JimGarrison it is the DDL in the source database","body":"@JimGarrison it is the DDL in the source database"}],"owner":{"account_id":3437842,"reputation":61,"user_id":2880516,"display_name":"user2880516"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700125615,"creation_date":1700088288,"question_id":77491312,"body_markdown":"I&#39;m trying to use the reverse engineering tool of the hibernate-tools suite to  generate all the model of the tables in a PostgreSQL DB.\r\n\r\nI followed this guide [https://www.codejava.net/frameworks/hibernate/java-hibernate-reverse-engineering-tutorial-with-eclipse-and-mysql][1] but when I run the hibernate code generator, it shows this error:\r\n``` \r\norg.jboss.tools.hibernate.runtime.spi.HibernateException: Table(public.newtable) already has a primary key!\r\n\tat org.hibernate.eclipse.console.workbench.LazyDatabaseSchemaWorkbenchAdapter$2.execute(LazyDatabaseSchemaWorkbenchAdapter.java:132)\r\n\tat org.hibernate.console.execution.DefaultExecutionContext.execute(DefaultExecutionContext.java:63)\r\n\tat org.hibernate.console.ConsoleConfiguration.execute(ConsoleConfiguration.java:107)\r\n\tat org.hibernate.eclipse.console.workbench.LazyDatabaseSchemaWorkbenchAdapter.readDatabaseSchema(LazyDatabaseSchemaWorkbenchAdapter.java:119)\r\n\tat org.hibernate.eclipse.console.workbench.LazyDatabaseSchemaWorkbenchAdapter.getChildren(LazyDatabaseSchemaWorkbenchAdapter.java:60)\r\n\tat org.hibernate.eclipse.console.workbench.BasicWorkbenchAdapter.fetchDeferredChildren(BasicWorkbenchAdapter.java:104)\r\n\tat org.eclipse.ui.progress.DeferredTreeContentManager$1.run(DeferredTreeContentManager.java:219)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n```\r\n\r\nThis is the **newtable DDL**\r\n```\r\nCREATE TABLE public.&quot;newtable&quot; (\r\n\t&quot;codiceFiscale&quot; varchar(16) NOT NULL,\r\n\tnome varchar(100) NULL,\r\n\tcognome varchar(100) NULL,\r\n\temail varchar(255) NULL,\r\n\tindirizzo varchar(255) NULL,\r\n\t&quot;idComune&quot; int4 NULL,\r\n\t&quot;idStato&quot; varchar(3) NULL,\r\n\t&quot;idProvincia&quot; int4 NULL,\r\n\tcap varchar(10) NULL,\r\n\t&quot;ruolo&quot; varchar(1) NULL,\r\n\t&quot;idAccount&quot; int4 NULL,\r\n\tusername varchar(100) NULL,\r\n\trup varchar(10) NULL,\r\n\t&quot;codice&quot; varchar(20) NULL,\r\n\t&quot;codiceNUTS&quot; varchar(20) NULL,\r\n\t&quot;codiceStatoExtraUE&quot; varchar(100) NULL,\r\n\t&quot;dataAbilitazione&quot; timestamp NULL,\r\n\t&quot;dataRegistrazione&quot; timestamp NULL,\r\n\t&quot;numeroRinnovo&quot; int4 NULL,\r\n\tCONSTRAINT newtable_pk PRIMARY KEY (&quot;codiceFiscale&quot;)\r\n);\r\n```\r\n\r\nThis is the **hibernate.cfg.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n\t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;XXXXXXXXXXXXXXXXXXX&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://XXX.XXX.XXX.XXX:5432/test&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.default_schema&quot;&gt;public&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n \r\nOther tables can be processed without any issue. \r\nAny suggestion?\r\n\r\n\r\n  [1]: https://www.codejava.net/frameworks/hibernate/java-hibernate-reverse-engineering-tutorial-with-eclipse-and-mysql\r\n\r\n\r\n**EDIT**\r\n\r\nSolved **empirically** by removing the double quote around table and column names in the DDL","title":"Eclipse + maven + hibernate-tools Reverse Engineering error","body":"<p>I'm trying to use the reverse engineering tool of the hibernate-tools suite to  generate all the model of the tables in a PostgreSQL DB.</p>\n<p>I followed this guide <a href=\"https://www.codejava.net/frameworks/hibernate/java-hibernate-reverse-engineering-tutorial-with-eclipse-and-mysql\" rel=\"nofollow noreferrer\">https://www.codejava.net/frameworks/hibernate/java-hibernate-reverse-engineering-tutorial-with-eclipse-and-mysql</a> but when I run the hibernate code generator, it shows this error:</p>\n<pre><code>org.jboss.tools.hibernate.runtime.spi.HibernateException: Table(public.newtable) already has a primary key!\n    at org.hibernate.eclipse.console.workbench.LazyDatabaseSchemaWorkbenchAdapter$2.execute(LazyDatabaseSchemaWorkbenchAdapter.java:132)\n    at org.hibernate.console.execution.DefaultExecutionContext.execute(DefaultExecutionContext.java:63)\n    at org.hibernate.console.ConsoleConfiguration.execute(ConsoleConfiguration.java:107)\n    at org.hibernate.eclipse.console.workbench.LazyDatabaseSchemaWorkbenchAdapter.readDatabaseSchema(LazyDatabaseSchemaWorkbenchAdapter.java:119)\n    at org.hibernate.eclipse.console.workbench.LazyDatabaseSchemaWorkbenchAdapter.getChildren(LazyDatabaseSchemaWorkbenchAdapter.java:60)\n    at org.hibernate.eclipse.console.workbench.BasicWorkbenchAdapter.fetchDeferredChildren(BasicWorkbenchAdapter.java:104)\n    at org.eclipse.ui.progress.DeferredTreeContentManager$1.run(DeferredTreeContentManager.java:219)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n</code></pre>\n<p>This is the <strong>newtable DDL</strong></p>\n<pre><code>CREATE TABLE public.&quot;newtable&quot; (\n    &quot;codiceFiscale&quot; varchar(16) NOT NULL,\n    nome varchar(100) NULL,\n    cognome varchar(100) NULL,\n    email varchar(255) NULL,\n    indirizzo varchar(255) NULL,\n    &quot;idComune&quot; int4 NULL,\n    &quot;idStato&quot; varchar(3) NULL,\n    &quot;idProvincia&quot; int4 NULL,\n    cap varchar(10) NULL,\n    &quot;ruolo&quot; varchar(1) NULL,\n    &quot;idAccount&quot; int4 NULL,\n    username varchar(100) NULL,\n    rup varchar(10) NULL,\n    &quot;codice&quot; varchar(20) NULL,\n    &quot;codiceNUTS&quot; varchar(20) NULL,\n    &quot;codiceStatoExtraUE&quot; varchar(100) NULL,\n    &quot;dataAbilitazione&quot; timestamp NULL,\n    &quot;dataRegistrazione&quot; timestamp NULL,\n    &quot;numeroRinnovo&quot; int4 NULL,\n    CONSTRAINT newtable_pk PRIMARY KEY (&quot;codiceFiscale&quot;)\n);\n</code></pre>\n<p>This is the <strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;XXXXXXXXXXXXXXXXXXX&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://XXX.XXX.XXX.XXX:5432/test&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\n        &lt;property name=&quot;hibernate.default_schema&quot;&gt;public&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Other tables can be processed without any issue.\nAny suggestion?</p>\n<p><strong>EDIT</strong></p>\n<p>Solved <strong>empirically</strong> by removing the double quote around table and column names in the DDL</p>\n"},{"tags":["java","android","hash","bcrypt"],"comments":[{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1549739016,"post_id":54609663,"comment_id":96014106,"body_markdown":"https://stackoverflow.com/questions/7626914/using-jbcrypt-to-salt-passwords-in-android-app-causes-a-long-hang","body":"<a href=\"https://stackoverflow.com/questions/7626914/using-jbcrypt-to-salt-passwords-in-android-app-causes-a-long-hang\" title=\"using jbcrypt to salt passwords in android app causes a long hang\">stackoverflow.com/questions/7626914/&hellip;</a>"},{"owner":{"account_id":11547048,"reputation":919,"user_id":8460733,"display_name":"Hasan Cheraghi"},"score":0,"creation_date":1549739440,"post_id":54609663,"comment_id":96014237,"body_markdown":"thank u @CommonsWare","body":"thank u @CommonsWare"}],"answers":[{"tags":[],"owner":{"account_id":13443574,"reputation":693,"user_id":9700152,"display_name":"Dustin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585316777,"creation_date":1585316471,"answer_id":60887236,"question_id":54609663,"body_markdown":"There is a Java implementation of the BCrypt algorithm [here][1], I even use a modified version of it in my [BCryptGenerator][2] project.\r\n\r\n\r\n  [1]: https://www.mindrot.org/projects/jBCrypt/\r\n  [2]: https://github.com/dustinkredmond/bcrypt-generator\r\n\r\nUsage of the BCrypt class is as follows:\r\n\r\n    import com.whatever-domain.BCrypt\r\n\r\n\r\n    private String generateHashedPass(String pass) {\r\n        // hash a plaintext password using the typical log rounds (10)\r\n        return BCrypt.hashpw(pass, BCrypt.gensalt());\r\n    }\r\n    \r\n    private boolean isValid(String clearTextPassword, String hashedPass) {\r\n        // returns true if password matches hash\r\n        return BCrypt.checkpw(clearTextPassword, hashedPass);\r\n    }","title":"How to use password hashing with bcrypt in android java?","body":"<p>There is a Java implementation of the BCrypt algorithm <a href=\"https://www.mindrot.org/projects/jBCrypt/\" rel=\"nofollow noreferrer\">here</a>, I even use a modified version of it in my <a href=\"https://github.com/dustinkredmond/bcrypt-generator\" rel=\"nofollow noreferrer\">BCryptGenerator</a> project.</p>\n\n<p>Usage of the BCrypt class is as follows:</p>\n\n<pre><code>import com.whatever-domain.BCrypt\n\n\nprivate String generateHashedPass(String pass) {\n    // hash a plaintext password using the typical log rounds (10)\n    return BCrypt.hashpw(pass, BCrypt.gensalt());\n}\n\nprivate boolean isValid(String clearTextPassword, String hashedPass) {\n    // returns true if password matches hash\n    return BCrypt.checkpw(clearTextPassword, hashedPass);\n}\n</code></pre>\n"}],"owner":{"account_id":11547048,"reputation":919,"user_id":8460733,"display_name":"Hasan Cheraghi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700125595,"creation_date":1549738842,"question_id":54609663,"body_markdown":"I want to use bcrypt to hash the app password. But I could not get the result about use that in android java. How can I use bcrypt hashing in android?","title":"How to use password hashing with bcrypt in android java?","body":"<p>I want to use bcrypt to hash the app password. But I could not get the result about use that in android java. How can I use bcrypt hashing in android?</p>\n"},{"tags":["java","image-processing","color-profile","color-management"],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1700125482,"creation_date":1430138076,"answer_id":29895944,"question_id":29707253,"body_markdown":"Warning: The question is vague/very wide, so the answer will have to be as well. But here&#39;s an attempt at an answer anyway.\r\n\r\nThe core Java 2D classes have good support for ICC profiles. See `ICC_Profile` and `ICC_ColorSpace`. \r\n\r\nYou can use [`ColorConvertOp`](https://docs.oracle.com/javase/7/docs/api/java/awt/image/ColorConvertOp.html) to convert between color spaces (or color profiles). It supports both `BufferedImage`s and `WritableRaster`s, and is generally fast for ICC conversions (uses native libraries behind the scenes). It will handle all the conversions you mentioned, including sRGB and AdobeRGB differences. \r\n\r\nSo far, so good. \r\n\r\nTo read and write JPEG files using ICC profiles, things get a little more complicated. In theory, the standard [`ImageIO` API](http://docs.oracle.com/javase/7/docs/api/javax/imageio/package-summary.html) is all you need. You&#39;ll need to obtain both the meta data (`IIOMetadata`) and the pixels (as either `Raster` or `BufferedImage`). \r\n\r\nThe ICC profile will be part of the meta data. You need to obtain the native JPEG metadata [specified here](http://docs.oracle.com/javase/7/docs/api/javax/imageio/metadata/doc-files/jpeg_metadata.html). For RGB JPEGs this is all you need.\r\n\r\nUnfortunately, the standard `JPEGImageReader` that is part of all Oracle or OpenJDK JREs does not support reading CMYK data as a `BufferedImage`. You will have to read as `Raster`. The raster will usually contain YCbCr or YCCK data, depending on the color transformation used when writing, so you might have to handle that transformation as well. Alternatively, you can use my [JPEG plugin for ImageIO](http://haraldk.github.io/TwelveMonkeys/#jpeg) which supports CMYK JPEGs directly.\r\n\r\nWriting is pretty much the same. Writing RGB is &quot;straight forward&quot; (although it takes a few lines of code), while writing CMYK is harder. The important thing is to use the meta data obtained from the image you read, then replace the ICC profile with the one you have converted to. And finally write the meta data and the updated image data back. My JPEG plugin can also write CMYK JPEGs.\r\n\r\nFor everything Java 2D and `BufferedImage`/`Raster`-related operations, you are normally limited by the available (heap) memory (as well as the maximum array size in Java, should you have that much RAM). There are some workarounds, feel free to look at my `MappedImageFactory` and `MappedFileBuffer` classes [here](https://github.com/haraldk/TwelveMonkeys/tree/master/sandbox/sandbox-common/src/main/java/com/twelvemonkeys/image) for nio `MappedByteBuffer` (memory mapped file buffer) backed data buffers for `BufferedImage`s. I&#39;m sure JAI also have some options for this, but I generally don&#39;t recommend JAI for new code, as it seems completely left in the dark by Oracle.\r\n\r\nGood luck! Prepare to spend some time on this, though. &#128512; ","title":"ICC based image conversion using Java","body":"<p>Warning: The question is vague/very wide, so the answer will have to be as well. But here's an attempt at an answer anyway.</p>\n<p>The core Java 2D classes have good support for ICC profiles. See <code>ICC_Profile</code> and <code>ICC_ColorSpace</code>.</p>\n<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/ColorConvertOp.html\" rel=\"nofollow noreferrer\"><code>ColorConvertOp</code></a> to convert between color spaces (or color profiles). It supports both <code>BufferedImage</code>s and <code>WritableRaster</code>s, and is generally fast for ICC conversions (uses native libraries behind the scenes). It will handle all the conversions you mentioned, including sRGB and AdobeRGB differences.</p>\n<p>So far, so good.</p>\n<p>To read and write JPEG files using ICC profiles, things get a little more complicated. In theory, the standard <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\"><code>ImageIO</code> API</a> is all you need. You'll need to obtain both the meta data (<code>IIOMetadata</code>) and the pixels (as either <code>Raster</code> or <code>BufferedImage</code>).</p>\n<p>The ICC profile will be part of the meta data. You need to obtain the native JPEG metadata <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/imageio/metadata/doc-files/jpeg_metadata.html\" rel=\"nofollow noreferrer\">specified here</a>. For RGB JPEGs this is all you need.</p>\n<p>Unfortunately, the standard <code>JPEGImageReader</code> that is part of all Oracle or OpenJDK JREs does not support reading CMYK data as a <code>BufferedImage</code>. You will have to read as <code>Raster</code>. The raster will usually contain YCbCr or YCCK data, depending on the color transformation used when writing, so you might have to handle that transformation as well. Alternatively, you can use my <a href=\"http://haraldk.github.io/TwelveMonkeys/#jpeg\" rel=\"nofollow noreferrer\">JPEG plugin for ImageIO</a> which supports CMYK JPEGs directly.</p>\n<p>Writing is pretty much the same. Writing RGB is &quot;straight forward&quot; (although it takes a few lines of code), while writing CMYK is harder. The important thing is to use the meta data obtained from the image you read, then replace the ICC profile with the one you have converted to. And finally write the meta data and the updated image data back. My JPEG plugin can also write CMYK JPEGs.</p>\n<p>For everything Java 2D and <code>BufferedImage</code>/<code>Raster</code>-related operations, you are normally limited by the available (heap) memory (as well as the maximum array size in Java, should you have that much RAM). There are some workarounds, feel free to look at my <code>MappedImageFactory</code> and <code>MappedFileBuffer</code> classes <a href=\"https://github.com/haraldk/TwelveMonkeys/tree/master/sandbox/sandbox-common/src/main/java/com/twelvemonkeys/image\" rel=\"nofollow noreferrer\">here</a> for nio <code>MappedByteBuffer</code> (memory mapped file buffer) backed data buffers for <code>BufferedImage</code>s. I'm sure JAI also have some options for this, but I generally don't recommend JAI for new code, as it seems completely left in the dark by Oracle.</p>\n<p>Good luck! Prepare to spend some time on this, though. 😀</p>\n"},{"tags":[],"owner":{"account_id":6738484,"reputation":41,"user_id":5192394,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467973155,"creation_date":1467973155,"answer_id":38264250,"question_id":29707253,"body_markdown":"\r\n    import java.awt.color.ColorSpace;\r\n    import java.awt.color.ICC_ColorSpace;\r\n    import java.awt.color.ICC_Profile;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n\r\n\r\n    public class ColorConv {\r\n    final static String pathToCMYKProfile = &quot;C:\\\\UncoatedFOGRA29.icc&quot;;\r\n\r\n    public static float[] rgbToCmyk(float... rgb) throws IOException {\r\n        if (rgb.length != 3) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        ColorSpace instance = new ICC_ColorSpace(ICC_Profile.getInstance(pathToCMYKProfile));\r\n        float[] fromRGB = instance.fromRGB(rgb);\r\n        return fromRGB;\r\n    }\r\n    public static float[] cmykToRgb(float... cmyk) throws IOException {\r\n        if (cmyk.length != 4) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        ColorSpace instance = new ICC_ColorSpace(ICC_Profile.getInstance(pathToCMYKProfile));\r\n        float[] fromRGB = instance.toRGB(cmyk);\r\n        return fromRGB;\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        try {\r\n            float[] rgbToCmyk = rgbToCmyk(1.0f, 1.0f, 1.0f);\r\n            System.out.println(Arrays.toString(rgbToCmyk));\r\n            System.out.println(Arrays.toString(cmykToRgb(rgbToCmyk[0], rgbToCmyk[1], rgbToCmyk[2], rgbToCmyk[3])));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }","title":"ICC based image conversion using Java","body":"<pre><code>import java.awt.color.ColorSpace;\nimport java.awt.color.ICC_ColorSpace;\nimport java.awt.color.ICC_Profile;\nimport java.io.IOException;\nimport java.util.Arrays;\n\n\npublic class ColorConv {\nfinal static String pathToCMYKProfile = \"C:\\\\UncoatedFOGRA29.icc\";\n\npublic static float[] rgbToCmyk(float... rgb) throws IOException {\n    if (rgb.length != 3) {\n        throw new IllegalArgumentException();\n    }\n    ColorSpace instance = new ICC_ColorSpace(ICC_Profile.getInstance(pathToCMYKProfile));\n    float[] fromRGB = instance.fromRGB(rgb);\n    return fromRGB;\n}\npublic static float[] cmykToRgb(float... cmyk) throws IOException {\n    if (cmyk.length != 4) {\n        throw new IllegalArgumentException();\n    }\n    ColorSpace instance = new ICC_ColorSpace(ICC_Profile.getInstance(pathToCMYKProfile));\n    float[] fromRGB = instance.toRGB(cmyk);\n    return fromRGB;\n}\n\npublic static void main(String... args) {\n    try {\n        float[] rgbToCmyk = rgbToCmyk(1.0f, 1.0f, 1.0f);\n        System.out.println(Arrays.toString(rgbToCmyk));\n        System.out.println(Arrays.toString(cmykToRgb(rgbToCmyk[0], rgbToCmyk[1], rgbToCmyk[2], rgbToCmyk[3])));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":6160719,"reputation":510,"user_id":4802412,"accept_rate":43,"display_name":"tmmls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2918,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700125482,"creation_date":1429296759,"question_id":29707253,"body_markdown":"I would like to convert images using ICC profiles and Java. The source image can be RGB or CMYK based, and maybe could have an icc profile embeded. The new images should also be in RGB or CMYK color mode, and has to have a icc profile embeded. All source images will be in JPEG format.\r\n\r\nWhich (external/internal) Java framework/Library should I use ? What approche is the best to use for RGB &gt; CMYK or RGB &gt; RGB or CMYK &gt; CMYK or CMYK &gt; RGB icc based image conversion ?\r\n\r\nAre there memory limitations ? Can it handle larger image files ? And how to handle the difference between sRGB an AdobeRGB ?\r\n\r\nDoes anyone have experience in handling image conversions using Java ?\r\n\r\nThanx\r\n","title":"ICC based image conversion using Java","body":"<p>I would like to convert images using ICC profiles and Java. The source image can be RGB or CMYK based, and maybe could have an icc profile embeded. The new images should also be in RGB or CMYK color mode, and has to have a icc profile embeded. All source images will be in JPEG format.</p>\n\n<p>Which (external/internal) Java framework/Library should I use ? What approche is the best to use for RGB > CMYK or RGB > RGB or CMYK > CMYK or CMYK > RGB icc based image conversion ?</p>\n\n<p>Are there memory limitations ? Can it handle larger image files ? And how to handle the difference between sRGB an AdobeRGB ?</p>\n\n<p>Does anyone have experience in handling image conversions using Java ?</p>\n\n<p>Thanx</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9803,"page":55,"page_size":100}
