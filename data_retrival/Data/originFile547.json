{"items":[{"tags":["java","android-11","android-notification.mediastyle"],"comments":[{"owner":{"account_id":5508519,"reputation":95,"user_id":4375671,"accept_rate":40,"display_name":"zerstoer"},"score":0,"creation_date":1630611265,"post_id":64090494,"comment_id":122011549,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":459700,"reputation":196,"user_id":860323,"display_name":"skvalex"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1603067526,"creation_date":1603067526,"answer_id":64419687,"question_id":64090494,"body_markdown":"You now need to add metadata to your media session as well:\r\n```\r\nmediaSessionCompat.setMetadata(\r\n    new MediaMetadataCompat.Builder()\r\n        .putString(MediaMetadata.METADATA_KEY_TITLE, track.getTitle())\r\n        .putString(MediaMetadata.METADATA_KEY_ARTIST, track.getArtist())\r\n        .build()\r\n    );\r\n```","title":"Mediastyle notifications not working in android 11","body":"<p>You now need to add metadata to your media session as well:</p>\n<pre><code>mediaSessionCompat.setMetadata(\n    new MediaMetadataCompat.Builder()\n        .putString(MediaMetadata.METADATA_KEY_TITLE, track.getTitle())\n        .putString(MediaMetadata.METADATA_KEY_ARTIST, track.getArtist())\n        .build()\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7425095,"reputation":21,"user_id":5647886,"display_name":"Hani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611503180,"creation_date":1611502835,"answer_id":65872564,"question_id":64090494,"body_markdown":"I had same issue and was able to resolve it only once I set compileSdkVersion to 30.","title":"Mediastyle notifications not working in android 11","body":"<p>I had same issue and was able to resolve it only once I set compileSdkVersion to 30.</p>\n"},{"tags":[],"owner":{"account_id":11953677,"reputation":870,"user_id":8746644,"display_name":"michpohl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661836857,"creation_date":1661836857,"answer_id":73537460,"question_id":64090494,"body_markdown":"Just had the same problem. Turns out `.setOngoing(true)` doesn&#39;t seem to work right with Mediastyle notifications. Once I removed it, the notification showed up correctly.  ","title":"Mediastyle notifications not working in android 11","body":"<p>Just had the same problem. Turns out <code>.setOngoing(true)</code> doesn't seem to work right with Mediastyle notifications. Once I removed it, the notification showed up correctly.</p>\n"},{"tags":[],"owner":{"account_id":26395389,"reputation":11,"user_id":20046611,"display_name":"Abdullah Hammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672693953,"creation_date":1672693923,"answer_id":74987097,"question_id":64090494,"body_markdown":"There is a simple solution to it. Just add these lines after mediaSessionCompat declaration.\r\n   \r\n\r\n     mediaSessionCompat=new MediaSessionCompat(this,&quot;tag&quot;);\r\n    \r\n    \r\n    \r\n            mediaSessionCompat.setMetadata(\r\n                    new MediaMetadataCompat.Builder()\r\n                    .putString(MediaMetadata.METADATA_KEY_TITLE,&quot;Song Title&quot;)\r\n                    .putString(MediaMetadata.METADATA_KEY_ARTIST,&quot;Artist&quot;)\r\n                    .build());\r\n\r\nHope this helps.","title":"Mediastyle notifications not working in android 11","body":"<p>There is a simple solution to it. Just add these lines after mediaSessionCompat declaration.</p>\n<pre><code> mediaSessionCompat=new MediaSessionCompat(this,&quot;tag&quot;);\n\n\n\n        mediaSessionCompat.setMetadata(\n                new MediaMetadataCompat.Builder()\n                .putString(MediaMetadata.METADATA_KEY_TITLE,&quot;Song Title&quot;)\n                .putString(MediaMetadata.METADATA_KEY_ARTIST,&quot;Artist&quot;)\n                .build());\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":14490284,"reputation":11,"user_id":10466808,"display_name":"Benabd Ellatif Ragheb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679792410,"creation_date":1679792410,"answer_id":75845353,"question_id":64090494,"body_markdown":"Works for me : Should add &quot;mMediaSession.setMetadata(..)&quot; after setStyle(..) \r\n\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            ...\r\n                mBuilder.setStyle(new androidx.media.app.NotificationCompat.MediaStyle()\r\n                                .setMediaSession(mMediaSession.getSessionToken())\r\n                                .setShowCancelButton(true)\r\n                                .setShowActionsInCompactView(0, 1, 2)\r\n                                .setCancelButtonIntent(\r\n                                        MediaButtonReceiver.buildMediaButtonPendingIntent(\r\n                                                context, PlaybackStateCompat.ACTION_STOP)))\r\n                                .addAction(new NotificationCompat.Action(\r\n                                        R.drawable.ic_noti_previous, &quot;Previous&quot;,\r\n                                        ppreviousIntent))\r\n                                .addAction(new NotificationCompat.Action(\r\n                                        R.drawable.ic_noti_pause, &quot;Pause&quot;,\r\n                                        pplayIntent))\r\n                                .addAction(new NotificationCompat.Action(\r\n                                        R.drawable.ic_noti_next, &quot;Next&quot;,\r\n                                        pnextIntent))\r\n                                .addAction(new NotificationCompat.Action(\r\n                                        R.drawable.ic_noti_close, &quot;Close&quot;,\r\n                                        pcloseIntent));\r\n                mMediaSession.setMetadata(\r\n                    new MediaMetadataCompat.Builder()\r\n                        .putString(MediaMetadata.METADATA_KEY_TITLE,&quot;Song Title&quot;)\r\n                                        .putString(MediaMetadata.METADATA_KEY_ARTIST,&quot;Artist&quot;)\r\n                                        .build());\r\n        \r\n    else\r\n    {\r\n        ...\r\n    }","title":"Mediastyle notifications not working in android 11","body":"<p>Works for me : Should add &quot;mMediaSession.setMetadata(..)&quot; after setStyle(..)</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        ...\n            mBuilder.setStyle(new androidx.media.app.NotificationCompat.MediaStyle()\n                            .setMediaSession(mMediaSession.getSessionToken())\n                            .setShowCancelButton(true)\n                            .setShowActionsInCompactView(0, 1, 2)\n                            .setCancelButtonIntent(\n                                    MediaButtonReceiver.buildMediaButtonPendingIntent(\n                                            context, PlaybackStateCompat.ACTION_STOP)))\n                            .addAction(new NotificationCompat.Action(\n                                    R.drawable.ic_noti_previous, &quot;Previous&quot;,\n                                    ppreviousIntent))\n                            .addAction(new NotificationCompat.Action(\n                                    R.drawable.ic_noti_pause, &quot;Pause&quot;,\n                                    pplayIntent))\n                            .addAction(new NotificationCompat.Action(\n                                    R.drawable.ic_noti_next, &quot;Next&quot;,\n                                    pnextIntent))\n                            .addAction(new NotificationCompat.Action(\n                                    R.drawable.ic_noti_close, &quot;Close&quot;,\n                                    pcloseIntent));\n            mMediaSession.setMetadata(\n                new MediaMetadataCompat.Builder()\n                    .putString(MediaMetadata.METADATA_KEY_TITLE,&quot;Song Title&quot;)\n                                    .putString(MediaMetadata.METADATA_KEY_ARTIST,&quot;Artist&quot;)\n                                    .build());\n    \nelse\n{\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":19606882,"reputation":71,"user_id":14350337,"display_name":"janu935"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4265,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1679792410,"creation_date":1601222495,"question_id":64090494,"body_markdown":"My custom mediastyle notification no longer works in Android 11 for my music app. It works fine in Android 10 and previous versions. \r\n\r\nIs there any other code I need to add so that it works in Android 11. \r\n\r\nI should add that getting rid of the &quot; .setMediaSession(mediaSessionCompat.getSessionToken())) &quot; line gives me a notification, but its not an Oreo notification with the full background color, etc. \r\n\r\nHere is my code for creating notifications:\r\n\r\n```\r\npublic static final String CHANNEL_ID = &quot;Channel1&quot;;\r\n\r\n//public static final String ACTION_PREVIOUS = &quot;actionprevious&quot;;\r\npublic static final String ACTION_PLAY = &quot;actionplay&quot;;\r\npublic static final String ACTION_EXIT = &quot;actionexit&quot;;\r\n//public static final String ACTION_NEXT = &quot;actionnext&quot;;\r\n\r\npublic static Notification notification;\r\n\r\npublic static void createNotification(Context context, Track track, int playbutton, int exitApp, int pos, int size) {\r\n\r\n    if (Build.VERSION.SDK_INT &gt;=Build.VERSION_CODES.O) {\r\n\r\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context); \r\n        MediaSessionCompat mediaSessionCompat = new MediaSessionCompat(context, &quot;tag&quot;); /\r\n\r\n        mediaSessionCompat.setActive(true);\r\n\r\n        Bitmap icon = BitmapFactory.decodeResource(context.getResources(),R.drawable.half); \r\n\r\n        Intent intentPlay = new Intent(context, NotificationActionService.class)\r\n                .setAction(ACTION_PLAY);\r\n        PendingIntent pendingIntentPlay = PendingIntent.getBroadcast(context, 0,\r\n                intentPlay, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        Intent intentExit = new Intent(context, NotificationActionService.class)\r\n                .setAction(ACTION_EXIT);\r\n        PendingIntent pendingIntentExit = PendingIntent.getBroadcast(context, 0,\r\n                intentExit, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        exitApp = R.drawable.ic_close_black;\r\n\r\n    \r\n        Intent intentOpenApp = new Intent(context, MainActivity.class);\r\n        PendingIntent pendingIntentOpenApp = PendingIntent.getActivity(context,0,\r\n                intentOpenApp, 0);\r\n\r\n      \r\n\r\n         Notification.MediaStyle style = new Notification.MediaStyle();\r\n        androidx.core.app.NotificationCompat.Builder builder = new androidx.core.app.NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\r\n                //NotificationCompat.Builder builder = new NotificationCompat.Builder( this, NOTIFICATION_CHANNEL_ID );\r\n                .setSmallIcon(R.drawable.ic_audiotrack)\r\n                .setVisibility(androidx.core.app.NotificationCompat.VISIBILITY_PUBLIC) \r\n                .setLargeIcon(icon)\r\n                .setContentTitle( &quot;TEST&quot; )\r\n                .setContentText(notificationText)\r\n                .setContentIntent(pendingIntentOpenApp) \r\n                .setShowWhen(false) \r\n                .setOngoing(true)           .setBadgeIconType(androidx.core.app.NotificationCompat.BADGE_ICON_NONE) \r\n                .setOnlyAlertOnce(true)\r\n                .addAction(action)\r\n                .addAction(generateAction(R.drawable.ic_close_black, &quot;Exit&quot;, ACTION_EXIT))\r\n                .setStyle(new NotificationCompat.MediaStyle()\r\n                        .setShowActionsInCompactView(0,1)\r\n                        .setMediaSession(mediaSession.getSessionToken())); \r\n\r\n\r\n        mediaSession.setMetadata\r\n            (new MediaMetadataCompat.Builder()\r\n                .putBitmap(MediaMetadataCompat.METADATA_KEY_ALBUM_ART,icon)\r\n                .putString(MediaMetadata.METADATA_KEY_TITLE, &quot;TEST TITLE&quot;)\r\n                .putString(MediaMetadata.METADATA_KEY_ARTIST, &quot;TEST ARTIST&quot;)\r\n                .build()\r\n        );\r\n\r\n\r\n\r\n        startForeground(1, builder.build()); \r\n    }\r\n\r\n\r\n}\r\n```","title":"Mediastyle notifications not working in android 11","body":"<p>My custom mediastyle notification no longer works in Android 11 for my music app. It works fine in Android 10 and previous versions.</p>\n<p>Is there any other code I need to add so that it works in Android 11.</p>\n<p>I should add that getting rid of the &quot; .setMediaSession(mediaSessionCompat.getSessionToken())) &quot; line gives me a notification, but its not an Oreo notification with the full background color, etc.</p>\n<p>Here is my code for creating notifications:</p>\n<pre><code>public static final String CHANNEL_ID = &quot;Channel1&quot;;\n\n//public static final String ACTION_PREVIOUS = &quot;actionprevious&quot;;\npublic static final String ACTION_PLAY = &quot;actionplay&quot;;\npublic static final String ACTION_EXIT = &quot;actionexit&quot;;\n//public static final String ACTION_NEXT = &quot;actionnext&quot;;\n\npublic static Notification notification;\n\npublic static void createNotification(Context context, Track track, int playbutton, int exitApp, int pos, int size) {\n\n    if (Build.VERSION.SDK_INT &gt;=Build.VERSION_CODES.O) {\n\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context); \n        MediaSessionCompat mediaSessionCompat = new MediaSessionCompat(context, &quot;tag&quot;); /\n\n        mediaSessionCompat.setActive(true);\n\n        Bitmap icon = BitmapFactory.decodeResource(context.getResources(),R.drawable.half); \n\n        Intent intentPlay = new Intent(context, NotificationActionService.class)\n                .setAction(ACTION_PLAY);\n        PendingIntent pendingIntentPlay = PendingIntent.getBroadcast(context, 0,\n                intentPlay, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        Intent intentExit = new Intent(context, NotificationActionService.class)\n                .setAction(ACTION_EXIT);\n        PendingIntent pendingIntentExit = PendingIntent.getBroadcast(context, 0,\n                intentExit, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        exitApp = R.drawable.ic_close_black;\n\n    \n        Intent intentOpenApp = new Intent(context, MainActivity.class);\n        PendingIntent pendingIntentOpenApp = PendingIntent.getActivity(context,0,\n                intentOpenApp, 0);\n\n      \n\n         Notification.MediaStyle style = new Notification.MediaStyle();\n        androidx.core.app.NotificationCompat.Builder builder = new androidx.core.app.NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\n                //NotificationCompat.Builder builder = new NotificationCompat.Builder( this, NOTIFICATION_CHANNEL_ID );\n                .setSmallIcon(R.drawable.ic_audiotrack)\n                .setVisibility(androidx.core.app.NotificationCompat.VISIBILITY_PUBLIC) \n                .setLargeIcon(icon)\n                .setContentTitle( &quot;TEST&quot; )\n                .setContentText(notificationText)\n                .setContentIntent(pendingIntentOpenApp) \n                .setShowWhen(false) \n                .setOngoing(true)           .setBadgeIconType(androidx.core.app.NotificationCompat.BADGE_ICON_NONE) \n                .setOnlyAlertOnce(true)\n                .addAction(action)\n                .addAction(generateAction(R.drawable.ic_close_black, &quot;Exit&quot;, ACTION_EXIT))\n                .setStyle(new NotificationCompat.MediaStyle()\n                        .setShowActionsInCompactView(0,1)\n                        .setMediaSession(mediaSession.getSessionToken())); \n\n\n        mediaSession.setMetadata\n            (new MediaMetadataCompat.Builder()\n                .putBitmap(MediaMetadataCompat.METADATA_KEY_ALBUM_ART,icon)\n                .putString(MediaMetadata.METADATA_KEY_TITLE, &quot;TEST TITLE&quot;)\n                .putString(MediaMetadata.METADATA_KEY_ARTIST, &quot;TEST ARTIST&quot;)\n                .build()\n        );\n\n\n\n        startForeground(1, builder.build()); \n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","command-line-interface","ansi-escape","jansi"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1491430703,"post_id":43242304,"comment_id":73555264,"body_markdown":"Have you tried [`Ansi#eraseScreen(Ansi.Erase)`](http://fusesource.github.io/jansi/documentation/api/org/fusesource/jansi/Ansi.html#eraseScreen-org.fusesource.jansi.Ansi.Erase-) and using one of the other erase methods?  It might not be possible and might be limitation of the API","body":"Have you tried <a href=\"http://fusesource.github.io/jansi/documentation/api/org/fusesource/jansi/Ansi.html#eraseScreen-org.fusesource.jansi.Ansi.Erase-\" rel=\"nofollow noreferrer\"><code>Ansi#eraseScreen(Ansi.Erase)</code></a> and using one of the other erase methods?  It might not be possible and might be limitation of the API"},{"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"score":0,"creation_date":1491463470,"post_id":43242304,"comment_id":73566008,"body_markdown":"@MadProgrammer Just tried it; it has the same problem.","body":"@MadProgrammer Just tried it; it has the same problem."},{"owner":{"account_id":2771516,"reputation":2174,"user_id":2386040,"display_name":"Jan"},"score":0,"creation_date":1582204989,"post_id":43242304,"comment_id":106702525,"body_markdown":"Your examplecode worked correctly when running in a console under Windows 10.","body":"Your examplecode worked correctly when running in a console under Windows 10."}],"answers":[{"tags":[],"owner":{"account_id":5704103,"reputation":3,"user_id":4508235,"display_name":"vizen10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528967731,"creation_date":1528967731,"answer_id":50853856,"question_id":43242304,"body_markdown":"Maybe you can try by overwriting the world &quot;Hello...&quot; with &quot;...world&quot;.\r\n\r\nIt should be something like this:\r\n\r\n    System.out.print(&quot;Hello... &quot;);\r\n    System.out.print(ansi().cursorLeft(&quot;Hello... &quot;.lenght()).a(&quot;...world&quot;));\r\n","title":"How do I clear the screen using Jansi?","body":"<p>Maybe you can try by overwriting the world \"Hello...\" with \"...world\".</p>\n\n<p>It should be something like this:</p>\n\n<pre><code>System.out.print(\"Hello... \");\nSystem.out.print(ansi().cursorLeft(\"Hello... \".lenght()).a(\"...world\"));\n</code></pre>\n"}],"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679791357,"creation_date":1491429324,"question_id":43242304,"body_markdown":"I am trying to clear the console in Java using Jansi. I am using macOS, but Jansi should be portable. \r\n\r\nHere is the code that I have tried: \r\n\r\n    AnsiConsole.systemInstall();\r\n\r\n    System.out.println(&quot;Hello... &quot;);\r\n    System.out.println(Ansi.ansi().eraseScreen());\r\n    System.out.println(&quot;... world.&quot;);\r\n\r\nHowever, this does not clear the screen. It inserts many new lines and then prints the next line, like this:\r\n\r\n    Hello...\r\n\r\n\r\n\r\n\r\n\r\n\r\n     ... world. \r\n\r\nHow do I clear the screen properly, so that my final output is just the below? \r\n\r\n    ... world. ","title":"How do I clear the screen using Jansi?","body":"<p>I am trying to clear the console in Java using Jansi. I am using macOS, but Jansi should be portable. </p>\n\n<p>Here is the code that I have tried: </p>\n\n<pre><code>AnsiConsole.systemInstall();\n\nSystem.out.println(\"Hello... \");\nSystem.out.println(Ansi.ansi().eraseScreen());\nSystem.out.println(\"... world.\");\n</code></pre>\n\n<p>However, this does not clear the screen. It inserts many new lines and then prints the next line, like this:</p>\n\n<pre><code>Hello...\n\n\n\n\n\n\n ... world. \n</code></pre>\n\n<p>How do I clear the screen properly, so that my final output is just the below? </p>\n\n<pre><code>... world. \n</code></pre>\n"},{"tags":["java","ansi-escape"],"comments":[{"owner":{"account_id":8316464,"reputation":1047,"user_id":6249567,"display_name":"DamCx"},"score":0,"creation_date":1481275783,"post_id":41057014,"comment_id":69320877,"body_markdown":"The point is, checking if the console supports the ANSI escape codes isn&#39;t the best way to do this. In fact, you have to use a `PrintWriter`, on the `System.out` writer so you can set the Encoding type on it","body":"The point is, checking if the console supports the ANSI escape codes isn&#39;t the best way to do this. In fact, you have to use a <code>PrintWriter</code>, on the <code>System.out</code> writer so you can set the Encoding type on it"}],"answers":[{"tags":[],"owner":{"account_id":961485,"reputation":1731,"user_id":985752,"display_name":"Fabel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485944905,"creation_date":1485944905,"answer_id":41977358,"question_id":41057014,"body_markdown":"I don&#39;t know if Java has some special way to deal with this, but there are two ways to deal with the problem itself. The usual method used (at least in the unix world) is to get the terminal used from the `TERM` environment variable and look up it&#39;s capabilities from the [terminfo][1]/[termcap][2] database (usually using [curses][3] or [slang][4]). Another more crude approach is to send the Device Status Report code (`&quot;\\u001B[6n&quot;`) and check if the terminal responds. This is of course a bit of a hack since a terminal that supports the DSR code might not support color for example.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Terminfo\r\n  [2]: https://en.wikipedia.org/wiki/Termcap\r\n  [3]: https://en.wikipedia.org/wiki/Curses_(programming_library)\r\n  [4]: https://en.wikipedia.org/wiki/S-Lang_(programming_library)","title":"Check if console supports ANSI escape codes in Java","body":"<p>I don't know if Java has some special way to deal with this, but there are two ways to deal with the problem itself. The usual method used (at least in the unix world) is to get the terminal used from the <code>TERM</code> environment variable and look up it's capabilities from the <a href=\"https://en.wikipedia.org/wiki/Terminfo\" rel=\"nofollow noreferrer\">terminfo</a>/<a href=\"https://en.wikipedia.org/wiki/Termcap\" rel=\"nofollow noreferrer\">termcap</a> database (usually using <a href=\"https://en.wikipedia.org/wiki/Curses_(programming_library)\" rel=\"nofollow noreferrer\">curses</a> or <a href=\"https://en.wikipedia.org/wiki/S-Lang_(programming_library)\" rel=\"nofollow noreferrer\">slang</a>). Another more crude approach is to send the Device Status Report code (<code>\"\\u001B[6n\"</code>) and check if the terminal responds. This is of course a bit of a hack since a terminal that supports the DSR code might not support color for example.</p>\n"},{"tags":[],"owner":{"account_id":11784512,"reputation":1147,"user_id":8622794,"display_name":"trozen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1537180985,"creation_date":1537180985,"answer_id":52365927,"question_id":41057014,"body_markdown":"A simple java-only solution:\r\n\r\n    if (System.console() != null &amp;&amp; System.getenv().get(&quot;TERM&quot;) != null) {\r\n        System.out.println(&quot;\\u001B[36m&quot;+&quot;Menu option&quot;+&quot;\\u001B[0m&quot;);\r\n    } else {\r\n        System.out.println(&quot;Menu option&quot;);\r\n    }\r\n\r\nThe first term is there to check if a terminal is attached, second to see if TERM env var is defined (is not on Windows). This isn&#39;t perfect, but works well enough in my case.","title":"Check if console supports ANSI escape codes in Java","body":"<p>A simple java-only solution:</p>\n\n<pre><code>if (System.console() != null &amp;&amp; System.getenv().get(\"TERM\") != null) {\n    System.out.println(\"\\u001B[36m\"+\"Menu option\"+\"\\u001B[0m\");\n} else {\n    System.out.println(\"Menu option\");\n}\n</code></pre>\n\n<p>The first term is there to check if a terminal is attached, second to see if TERM env var is defined (is not on Windows). This isn't perfect, but works well enough in my case.</p>\n"}],"owner":{"account_id":4425106,"reputation":198,"user_id":3603786,"display_name":"Slye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4545,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":52365927,"answer_count":2,"score":12,"last_activity_date":1679791259,"creation_date":1481275474,"question_id":41057014,"body_markdown":"I&#39;m building a program in Java that uses menus with different colors using ANSI escape codes. Something like\r\n\r\n    System.out.println(&quot;\\u001B[36m&quot;+&quot;Menu option&quot;+&quot;\\u001B[0m&quot;);\r\nThe problem is that i want to check if the console where the code is going to be executed supports using this codes, so in case it doesn&#39;t, print an alternative version without the codes.\r\n\r\nIt will be something similar to:\r\n\r\n    if(console.supportsANSICode){\r\n       System.out.println(&quot;\\u001B[36m&quot;+&quot;Menu option&quot;+&quot;\\u001B[0m&quot;);\r\n    }\r\n    else{\r\n       System.out.println(&quot;Menu option&quot;);\r\n    }\r\nIs there a method in java to check this?\r\n","title":"Check if console supports ANSI escape codes in Java","body":"<p>I'm building a program in Java that uses menus with different colors using ANSI escape codes. Something like</p>\n\n<pre><code>System.out.println(\"\\u001B[36m\"+\"Menu option\"+\"\\u001B[0m\");\n</code></pre>\n\n<p>The problem is that i want to check if the console where the code is going to be executed supports using this codes, so in case it doesn't, print an alternative version without the codes.</p>\n\n<p>It will be something similar to:</p>\n\n<pre><code>if(console.supportsANSICode){\n   System.out.println(\"\\u001B[36m\"+\"Menu option\"+\"\\u001B[0m\");\n}\nelse{\n   System.out.println(\"Menu option\");\n}\n</code></pre>\n\n<p>Is there a method in java to check this?</p>\n"},{"tags":["java","generics","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1677991602,"post_id":75639656,"comment_id":133445317,"body_markdown":"What is the result of `body[0].getClass()`?","body":"What is the result of <code>body[0].getClass()</code>?"},{"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"score":0,"creation_date":1678030958,"post_id":75639656,"comment_id":133450211,"body_markdown":"Is: class java.util.LinkedHashMap","body":"Is: class java.util.LinkedHashMap"},{"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"score":0,"creation_date":1678031329,"post_id":75639656,"comment_id":133450268,"body_markdown":"I think the trick here is to create the appropriate ParameterizedTypeReference as mentioned in this answer: https://stackoverflow.com/questions/19463372/classcastexception-resttemplate-returning-listlinkedhashmap-instead-of-listm question is how to do that passing the type as CustomPageImpl&lt;ConcretType&gt; when ConcretType is a Class parameter","body":"I think the trick here is to create the appropriate ParameterizedTypeReference as mentioned in this answer: <a href=\"https://stackoverflow.com/questions/19463372/classcastexception-resttemplate-returning-listlinkedhashmap-instead-of-listm\" title=\"classcastexception resttemplate returning listlinkedhashmap instead of listm\">stackoverflow.com/questions/19463372/&hellip;</a> question is how to do that passing the type as CustomPageImpl&lt;ConcretType&gt; when ConcretType is a Class parameter"},{"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"score":0,"creation_date":1678036400,"post_id":75639656,"comment_id":133451175,"body_markdown":"I edit the question with a link to a project that simulates the problem with JunitTests, if someone figures out how to make the listWithClassType test pass like the other two examples are passing then it will close this question.","body":"I edit the question with a link to a project that simulates the problem with JunitTests, if someone figures out how to make the listWithClassType test pass like the other two examples are passing then it will close this question."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1678043035,"post_id":75639656,"comment_id":133452305,"body_markdown":"So you are comparing instances of `LinkedHashMap` against instances of `Brand`. They&#39;ll never be considered equal because they&#39;re of a different type. Either convert the expected values to a `Map`, or the actual value to `Brand`.","body":"So you are comparing instances of <code>LinkedHashMap</code> against instances of <code>Brand</code>. They&#39;ll never be considered equal because they&#39;re of a different type. Either convert the expected values to a <code>Map</code>, or the actual value to <code>Brand</code>."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1678043619,"post_id":75639656,"comment_id":133452393,"body_markdown":"And fundamentally, I don&#39;t think you should use Cucumber for these tests. MockMvc seems much more appropriate for what you are testing here.","body":"And fundamentally, I don&#39;t think you should use Cucumber for these tests. MockMvc seems much more appropriate for what you are testing here."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1678043752,"post_id":75639656,"comment_id":133452419,"body_markdown":"Also note that testing against `Brand` is not effective. Because you use `Brand` in both the definition of the project and the expected value, the test is a bit of a tautology. So it would be better to test against the json representation.","body":"Also note that testing against <code>Brand</code> is not effective. Because you use <code>Brand</code> in both the definition of the project and the expected value, the test is a bit of a tautology. So it would be better to test against the json representation."}],"answers":[{"tags":[],"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679790624,"creation_date":1679790624,"answer_id":75845282,"question_id":75639656,"body_markdown":"One possibility is to build the ParameterizedTypeReference using a factory, that way it is generic:\r\n\r\n```java\r\npublic class ParameterizedTypeReferenceFactory {\r\n\r\n  private static Map&lt;Class&lt;?&gt;, ParameterizedTypeReference&lt;? extends CustomPageImpl&lt;? extends Object&gt;&gt;&gt; parameterizedTypes = Map.of(\r\n    Brand.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Brand&gt;&gt;() {\r\n    },\r\n    ProductCategory.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;ProductCategory&gt;&gt;() {\r\n    },\r\n    Product.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Product&gt;&gt;() {\r\n    },\r\n    Market.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Market&gt;&gt;() {\r\n    },\r\n    MainStock.class,\r\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;MainStock&gt;&gt;() {\r\n    }\r\n  );\r\n\r\n  public static &lt;T&gt; ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt; buildCustomPageReference(Class&lt;T&gt; aClass) {\r\n    if (parameterizedTypes.containsKey(aClass)) {\r\n      return (ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt;) parameterizedTypes.get(aClass);\r\n    } else {\r\n      throw new IllegalArgumentException(String.format(&quot;Cannot find parametrized type for class %s&quot;, aClass));\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAnd use it like this:\r\n\r\n```java\r\n    ParameterizedTypeReference&lt;? extends CustomPageImpl&lt;?&gt;&gt; typeRef = ParameterizedTypeReferenceFactory.buildCustomPageReference(aClass);\r\n    String uriBuild = uriComponentsBuilder[0].toUriString();\r\n    ResponseEntity&lt;? extends CustomPageImpl&lt;?&gt;&gt; forEntity = testRestTemplate.exchange(uriBuild, HttpMethod.GET, null, typeRef);\r\n    this.responseEntityPage = forEntity;\r\n```","title":"How to instantiate a generic list type in cucumber for tests","body":"<p>One possibility is to build the ParameterizedTypeReference using a factory, that way it is generic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ParameterizedTypeReferenceFactory {\n\n  private static Map&lt;Class&lt;?&gt;, ParameterizedTypeReference&lt;? extends CustomPageImpl&lt;? extends Object&gt;&gt;&gt; parameterizedTypes = Map.of(\n    Brand.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Brand&gt;&gt;() {\n    },\n    ProductCategory.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;ProductCategory&gt;&gt;() {\n    },\n    Product.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Product&gt;&gt;() {\n    },\n    Market.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;Market&gt;&gt;() {\n    },\n    MainStock.class,\n    new ParameterizedTypeReference&lt;CustomPageImpl&lt;MainStock&gt;&gt;() {\n    }\n  );\n\n  public static &lt;T&gt; ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt; buildCustomPageReference(Class&lt;T&gt; aClass) {\n    if (parameterizedTypes.containsKey(aClass)) {\n      return (ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt;) parameterizedTypes.get(aClass);\n    } else {\n      throw new IllegalArgumentException(String.format(&quot;Cannot find parametrized type for class %s&quot;, aClass));\n    }\n  }\n}\n</code></pre>\n<p>And use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ParameterizedTypeReference&lt;? extends CustomPageImpl&lt;?&gt;&gt; typeRef = ParameterizedTypeReferenceFactory.buildCustomPageReference(aClass);\n    String uriBuild = uriComponentsBuilder[0].toUriString();\n    ResponseEntity&lt;? extends CustomPageImpl&lt;?&gt;&gt; forEntity = testRestTemplate.exchange(uriBuild, HttpMethod.GET, null, typeRef);\n    this.responseEntityPage = forEntity;\n</code></pre>\n"}],"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679790624,"creation_date":1677978498,"question_id":75639656,"body_markdown":"I want to reuse an cucumber assertion that verify if a spring Page of some type contains in any order an datatype. I was able to get it working with list, but not with generic Page\r\n\r\nMy code:\r\n\r\n```\r\nScenario: List all brands\r\n    Given I have brands in database\r\n      | id | name                          |\r\n      | 1  | brand name for list           |\r\n      | 2  | second brand for list         |\r\n    When I Set GET Brand Endpoint\r\n    When I Set First Page Params\r\n    When I send a GET HTTP request for a page of type com.kugelbit.mercado.estoque.domain.product.Brand\r\n    Then I receive a valid response code for page 200\r\n    Then I receive a valid response page of type com.kugelbit.mercado.estoque.domain.product.Brand\r\n      | id | name |\r\n      | 1  | brand name for list |\r\n      | 2  | second brand for list |\r\n```\r\n\r\n```java\r\n@When(&quot;^I send a GET HTTP request for a page of type ([^\\&quot;]*)$&quot;)\r\n  public void iSendAGetHTTPRequestForPageOfType(String type) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\r\n    Class&lt;?&gt; aClass = Class.forName(type);\r\n    final UriComponentsBuilder[] uriComponentsBuilder = {UriComponentsBuilder.fromUriString(this.apiUrl)};\r\n    if(this.urlSearchParams != null) {\r\n      urlSearchParams.forEach((key, value) -&gt; {\r\n        uriComponentsBuilder[0] = uriComponentsBuilder[0].queryParam(key, URLEncoder.encode(value, StandardCharsets.UTF_8));\r\n      });\r\n    }\r\n\r\n    CustomPageImpl customPage = new CustomPageImpl(List.of(aClass.newInstance()));\r\n\r\n    String uriBuild = uriComponentsBuilder[0].toUriString();\r\n    ResponseEntity&lt;CustomPageImpl&lt;?&gt;&gt; forEntity = (ResponseEntity&lt;CustomPageImpl&lt;?&gt;&gt;) testRestTemplate.exchange(uriBuild, HttpMethod.GET, null, customPage.getClass());\r\n    this.responseEntityPage = forEntity;\r\n  }\r\n```\r\n\r\n\r\n```java\r\n@Then(&quot;^I receive a valid response page of type ([^\\&quot;]*)$&quot;)\r\n  public void iReceiveAValidResponsePageOfType(String type, DataTable dataTable) throws ClassNotFoundException {\r\n    Class&lt;?&gt; aClass = Class.forName(type);\r\n    List&lt;?&gt; expected = dataTable.asList(aClass);\r\n    Object[] body = responseEntityPage.getBody().getContent().toArray();\r\n    assertThat(body).containsExactlyInAnyOrderElementsOf(expected);\r\n  }\r\n```\r\n\r\nThe assertion is failing with the following:\r\n\r\n&gt; Step failed java.lang.AssertionError:  Expecting actual:   [{&quot;id&quot;=1,\r\n&gt; &quot;name&quot;=&quot;brand name for list&quot;},\r\n&gt;     {&quot;id&quot;=2, &quot;name&quot;=&quot;second brand for list&quot;}] to contain exactly in any order:   [Brand(id=1, name=brand name for list), Brand(id=2,\r\n&gt; name=second brand for list)] elements not found:   [Brand(id=1,\r\n&gt; name=brand name for list), Brand(id=2, name=second brand for list)]\r\n&gt; and elements not expected:   [{&quot;id&quot;=1, &quot;name&quot;=&quot;brand name for list&quot;},\r\n&gt;     {&quot;id&quot;=2, &quot;name&quot;=&quot;second brand for list&quot;}]\r\n\r\nWhich means that the expected is a list of type Brand which is correct I do have a DataTable conversion. The actual body has the same properties but is list of type Object\r\n\r\nI did think in two possible solutions:\r\n\r\n1. Find a way to make the request passing the correct generic type of Page\r\n2. Find another assertion that compares the contents of the objects in the array ignoring the type.\r\n\r\nNote.: My ```CustomPageImpl``` is from this answer: https://stackoverflow.com/a/54423639\r\n\r\nHere is a project with junit test to simulate the problem of assertion in a rest template generic page: https://github.com/giovannicandido/spring-test-generic-resttemplate-question\r\n","title":"How to instantiate a generic list type in cucumber for tests","body":"<p>I want to reuse an cucumber assertion that verify if a spring Page of some type contains in any order an datatype. I was able to get it working with list, but not with generic Page</p>\n<p>My code:</p>\n<pre><code>Scenario: List all brands\n    Given I have brands in database\n      | id | name                          |\n      | 1  | brand name for list           |\n      | 2  | second brand for list         |\n    When I Set GET Brand Endpoint\n    When I Set First Page Params\n    When I send a GET HTTP request for a page of type com.kugelbit.mercado.estoque.domain.product.Brand\n    Then I receive a valid response code for page 200\n    Then I receive a valid response page of type com.kugelbit.mercado.estoque.domain.product.Brand\n      | id | name |\n      | 1  | brand name for list |\n      | 2  | second brand for list |\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@When(&quot;^I send a GET HTTP request for a page of type ([^\\&quot;]*)$&quot;)\n  public void iSendAGetHTTPRequestForPageOfType(String type) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\n    Class&lt;?&gt; aClass = Class.forName(type);\n    final UriComponentsBuilder[] uriComponentsBuilder = {UriComponentsBuilder.fromUriString(this.apiUrl)};\n    if(this.urlSearchParams != null) {\n      urlSearchParams.forEach((key, value) -&gt; {\n        uriComponentsBuilder[0] = uriComponentsBuilder[0].queryParam(key, URLEncoder.encode(value, StandardCharsets.UTF_8));\n      });\n    }\n\n    CustomPageImpl customPage = new CustomPageImpl(List.of(aClass.newInstance()));\n\n    String uriBuild = uriComponentsBuilder[0].toUriString();\n    ResponseEntity&lt;CustomPageImpl&lt;?&gt;&gt; forEntity = (ResponseEntity&lt;CustomPageImpl&lt;?&gt;&gt;) testRestTemplate.exchange(uriBuild, HttpMethod.GET, null, customPage.getClass());\n    this.responseEntityPage = forEntity;\n  }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Then(&quot;^I receive a valid response page of type ([^\\&quot;]*)$&quot;)\n  public void iReceiveAValidResponsePageOfType(String type, DataTable dataTable) throws ClassNotFoundException {\n    Class&lt;?&gt; aClass = Class.forName(type);\n    List&lt;?&gt; expected = dataTable.asList(aClass);\n    Object[] body = responseEntityPage.getBody().getContent().toArray();\n    assertThat(body).containsExactlyInAnyOrderElementsOf(expected);\n  }\n</code></pre>\n<p>The assertion is failing with the following:</p>\n<blockquote>\n<p>Step failed java.lang.AssertionError:  Expecting actual:   [{&quot;id&quot;=1,\n&quot;name&quot;=&quot;brand name for list&quot;},\n{&quot;id&quot;=2, &quot;name&quot;=&quot;second brand for list&quot;}] to contain exactly in any order:   [Brand(id=1, name=brand name for list), Brand(id=2,\nname=second brand for list)] elements not found:   [Brand(id=1,\nname=brand name for list), Brand(id=2, name=second brand for list)]\nand elements not expected:   [{&quot;id&quot;=1, &quot;name&quot;=&quot;brand name for list&quot;},\n{&quot;id&quot;=2, &quot;name&quot;=&quot;second brand for list&quot;}]</p>\n</blockquote>\n<p>Which means that the expected is a list of type Brand which is correct I do have a DataTable conversion. The actual body has the same properties but is list of type Object</p>\n<p>I did think in two possible solutions:</p>\n<ol>\n<li>Find a way to make the request passing the correct generic type of Page</li>\n<li>Find another assertion that compares the contents of the objects in the array ignoring the type.</li>\n</ol>\n<p>Note.: My <code>CustomPageImpl</code> is from this answer: <a href=\"https://stackoverflow.com/a/54423639\">https://stackoverflow.com/a/54423639</a></p>\n<p>Here is a project with junit test to simulate the problem of assertion in a rest template generic page: <a href=\"https://github.com/giovannicandido/spring-test-generic-resttemplate-question\" rel=\"nofollow noreferrer\">https://github.com/giovannicandido/spring-test-generic-resttemplate-question</a></p>\n"},{"tags":["java","servlets","servlet-3.0"],"answers":[{"tags":[],"owner":{"account_id":9025175,"reputation":27,"user_id":6724705,"display_name":"Sudarshan Nagre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679401123,"creation_date":1679401123,"answer_id":75801117,"question_id":75800367,"body_markdown":"Use the below approach.\r\n\r\nInstead of retrieving the object of &#39;RequestDispatcher&#39; from getServletContext(), retrieve the same object from the HttpServletRequest like -   \r\n\r\n    RequestDispatcher rd = request.getRequestDispatcher(&quot;/forgotpassword.jsp&quot;);\r\n        \r\n    rd.include(request, response);","title":"Request Dispatcher is not include is not executing file but showing Its source code","body":"<p>Use the below approach.</p>\n<p>Instead of retrieving the object of 'RequestDispatcher' from getServletContext(), retrieve the same object from the HttpServletRequest like -</p>\n<pre><code>RequestDispatcher rd = request.getRequestDispatcher(&quot;/forgotpassword.jsp&quot;);\n    \nrd.include(request, response);\n</code></pre>\n"}],"owner":{"account_id":27500695,"reputation":1,"user_id":20984462,"display_name":"Diana "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679790267,"creation_date":1679396616,"question_id":75800367,"body_markdown":"```\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mysql&quot;,&quot;root&quot;,&quot;12345&quot;);\r\n            Statement st =con.createStatement();\r\n            String mi = &quot;select * from empinfo where EEmailID = &#39;&quot;+email+&quot;&#39;&quot;;\r\n            \r\n            ResultSet rs = st.executeQuery(mi);\r\n            if(rs.next()) {\r\n            if(email.equals(rs.getString(&quot;EEMailID&quot;))){\r\n                 // Generate a random OTP\r\n        Random random = new Random();\r\n        int otp = 100000 + random.nextInt(900000);\r\n\r\n        // Send OTP through email Calling Function\r\n        sendEmail(otp, email);\r\n\r\n        // Store OTP in the session for Verification\r\n        HttpSession session = request.getSession();\r\n        session.setAttribute(&quot;OTP&quot;, Integer.toString(otp));\r\n        session.setAttribute(&quot;eemail&quot;,email);\r\n\r\n        // Redirect the user to the OTP verification page\r\n        response.sendRedirect(&quot;otp.jsp&quot;);\r\n            }}\r\n            else{\r\n                out.println(&quot;Enter Registered Email Id only&quot;);\r\n                RequestDispatcher dis= getServletContext().getRequestDispatcher(&quot;/forgotpassword.jsp&quot;);\r\n                dis.include(request, response);\r\n                }\r\n```\r\n\r\n\r\nIt is showing this in the output:-\r\n\r\nEnter Registered Email Id only\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;link href=&quot;bootstrap-4.0.0-dist/css/bootstrap.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;\r\n        &lt;link href=&quot;bootstrap-4.0.0-dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;\r\n        &lt;title&gt;JSP Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n       \r\n        &lt;center&gt;\r\n        &lt;form action=&quot;OTPLoginServlet&quot; method=&quot;post&quot;&gt;\r\n            &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\r\n            &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/center&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nabove is the code present in forgotpassword.jsp that is not executing but only showing it.\r\nSo, what can I do to solve this error?","title":"Request Dispatcher is not include is not executing file but showing Its source code","body":"<pre><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mysql&quot;,&quot;root&quot;,&quot;12345&quot;);\n            Statement st =con.createStatement();\n            String mi = &quot;select * from empinfo where EEmailID = '&quot;+email+&quot;'&quot;;\n            \n            ResultSet rs = st.executeQuery(mi);\n            if(rs.next()) {\n            if(email.equals(rs.getString(&quot;EEMailID&quot;))){\n                 // Generate a random OTP\n        Random random = new Random();\n        int otp = 100000 + random.nextInt(900000);\n\n        // Send OTP through email Calling Function\n        sendEmail(otp, email);\n\n        // Store OTP in the session for Verification\n        HttpSession session = request.getSession();\n        session.setAttribute(&quot;OTP&quot;, Integer.toString(otp));\n        session.setAttribute(&quot;eemail&quot;,email);\n\n        // Redirect the user to the OTP verification page\n        response.sendRedirect(&quot;otp.jsp&quot;);\n            }}\n            else{\n                out.println(&quot;Enter Registered Email Id only&quot;);\n                RequestDispatcher dis= getServletContext().getRequestDispatcher(&quot;/forgotpassword.jsp&quot;);\n                dis.include(request, response);\n                }\n</code></pre>\n<p>It is showing this in the output:-</p>\n<p>Enter Registered Email Id only</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;link href=&quot;bootstrap-4.0.0-dist/css/bootstrap.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;\n        &lt;link href=&quot;bootstrap-4.0.0-dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n       \n        &lt;center&gt;\n        &lt;form action=&quot;OTPLoginServlet&quot; method=&quot;post&quot;&gt;\n            &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\n            &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;br&gt;&lt;br&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n        &lt;/form&gt;\n    &lt;/center&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>above is the code present in forgotpassword.jsp that is not executing but only showing it.\nSo, what can I do to solve this error?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","aws-s3-client"],"comments":[{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":1,"creation_date":1679769951,"post_id":75843819,"comment_id":133781611,"body_markdown":"Write the file to memory and then upload the stream...or delete the local file after each upload competes...I&#39;m kind of confused by this question. &quot;So is there a way to write the data directly to a file and upload it to S3 without being stored anywhere.&quot; ---Both methods above do this and are pretty standard","body":"Write the file to memory and then upload the stream...or delete the local file after each upload competes...I&#39;m kind of confused by this question. &quot;So is there a way to write the data directly to a file and upload it to S3 without being stored anywhere.&quot; ---Both methods above do this and are pretty standard"},{"owner":{"account_id":10594606,"reputation":3598,"user_id":7803797,"display_name":"Chaitanya"},"score":0,"creation_date":1679770496,"post_id":75843819,"comment_id":133781686,"body_markdown":"Does this answer your question? [Upload multipart file to AWS without saving it locally](https://stackoverflow.com/questions/50248710/upload-multipart-file-to-aws-without-saving-it-locally)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50248710/upload-multipart-file-to-aws-without-saving-it-locally\">Upload multipart file to AWS without saving it locally</a>"},{"owner":{"account_id":11282308,"reputation":49,"user_id":8274248,"accept_rate":50,"display_name":"vyas"},"score":0,"creation_date":1679771128,"post_id":75843819,"comment_id":133781773,"body_markdown":"@Chaitanya This is fine, if i use Multipart File, but i need to write my data to multipartFile, how will it be possible. If you see my code above, i have a file name and json, i need to write that json by creating a file with file name and then upload that to S3","body":"@Chaitanya This is fine, if i use Multipart File, but i need to write my data to multipartFile, how will it be possible. If you see my code above, i have a file name and json, i need to write that json by creating a file with file name and then upload that to S3"},{"owner":{"account_id":11282308,"reputation":49,"user_id":8274248,"accept_rate":50,"display_name":"vyas"},"score":0,"creation_date":1679771604,"post_id":75843819,"comment_id":133781849,"body_markdown":"@ViaTech writing millions of files to a memory and then again deleting all those files after uploading to S3 will consume lots of time. So is there a way to upload the data by creating a file with the desired fileName directly in S3 bucket, without storing it anywhere","body":"@ViaTech writing millions of files to a memory and then again deleting all those files after uploading to S3 will consume lots of time. So is there a way to upload the data by creating a file with the desired fileName directly in S3 bucket, without storing it anywhere"},{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":0,"creation_date":1679782788,"post_id":75843819,"comment_id":133783287,"body_markdown":"@vyas yes, as stated in my intial comment...a stream would be that way","body":"@vyas yes, as stated in my intial comment...a stream would be that way"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679788569,"creation_date":1679788569,"answer_id":75845190,"question_id":75843819,"body_markdown":"Here is the [AWS SDK for Java V2][1] code to upload an object using a **byte[]**:\r\n\r\n     private S3Client getClient() {\r\n            return S3Client.builder()\r\n                .region(PhotoApplicationResources.REGION)\r\n                .build();\r\n        }\r\n    \r\n    public void putObject(byte[] data, String bucketName, String objectKey) {\r\n            S3Client s3 = getClient();\r\n            try {\r\n                s3.putObject(PutObjectRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .key(objectKey)\r\n                        .build(),\r\n                    RequestBody.fromBytes(data));\r\n            } catch (S3Exception e) {\r\n                System.err.println(e.getMessage());\r\n                e.printStackTrace();\r\n                throw e;\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html","title":"Hi, Iam working on a Java Code to upload Files into S3 bucket. But instead of uploading a file to S3, i need to write some data into a file name in S3","body":"<p>Here is the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">AWS SDK for Java V2</a> code to upload an object using a <strong>byte[]</strong>:</p>\n<pre><code> private S3Client getClient() {\n        return S3Client.builder()\n            .region(PhotoApplicationResources.REGION)\n            .build();\n    }\n\npublic void putObject(byte[] data, String bucketName, String objectKey) {\n        S3Client s3 = getClient();\n        try {\n            s3.putObject(PutObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(objectKey)\n                    .build(),\n                RequestBody.fromBytes(data));\n        } catch (S3Exception e) {\n            System.err.println(e.getMessage());\n            e.printStackTrace();\n            throw e;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11282308,"reputation":49,"user_id":8274248,"accept_rate":50,"display_name":"vyas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679788569,"creation_date":1679769776,"question_id":75843819,"body_markdown":"I am using aws-java-sdk-s3 dependency to use S3 libraries in my spring Boot App. I have written some demo code to upload a file to S3 bucket\r\n\r\n    upload(bucketName, key, fileName, s3client);\r\n\r\nBut my scenario is different, i am getting some data from DataBase and i need to write this data to a fileName and upload this file to S3 bucket, How to achieve this using AmazonS3. Below is my code i tried to do. Iam just skipping the S3 client creation here to make it simple\r\n\r\n    public void upload(String fileName,String folderName, List&lt;Map&lt;String,Object&gt;&gt; jsonData){\r\n     String bucketName= “myBucketName”;\r\n     String toFile = folderName + “/” + fileName;\r\n     FileOutputStream os = null; \r\n     try{\r\n    os = new FileOutputStream(fileName);\r\n    byte[] strToByte = jsonData.getBytes();\r\n    os.write(strToByte);\r\n    client.putObject(new PutObjectRequest(bucketName, toFile, new File(fileName)));\r\n        }catch(IOException e){\r\n    Log.error(e.getMessage);\r\n       }finally{\r\n    os.close();\r\n    }\r\n     }\r\n\r\nThis code is working fine, but a local copy of this file is creating in my local machine and that file is being uploaded to S3 bucket. Like this i have millions of files. I cannot store all of these in local System. So is there a way to write the data directly to a file and upload it to S3 without being stored anywhere.\r\n\r\n\r\n   ","title":"Hi, Iam working on a Java Code to upload Files into S3 bucket. But instead of uploading a file to S3, i need to write some data into a file name in S3","body":"<p>I am using aws-java-sdk-s3 dependency to use S3 libraries in my spring Boot App. I have written some demo code to upload a file to S3 bucket</p>\n<pre><code>upload(bucketName, key, fileName, s3client);\n</code></pre>\n<p>But my scenario is different, i am getting some data from DataBase and i need to write this data to a fileName and upload this file to S3 bucket, How to achieve this using AmazonS3. Below is my code i tried to do. Iam just skipping the S3 client creation here to make it simple</p>\n<pre><code>public void upload(String fileName,String folderName, List&lt;Map&lt;String,Object&gt;&gt; jsonData){\n String bucketName= “myBucketName”;\n String toFile = folderName + “/” + fileName;\n FileOutputStream os = null; \n try{\nos = new FileOutputStream(fileName);\nbyte[] strToByte = jsonData.getBytes();\nos.write(strToByte);\nclient.putObject(new PutObjectRequest(bucketName, toFile, new File(fileName)));\n    }catch(IOException e){\nLog.error(e.getMessage);\n   }finally{\nos.close();\n}\n }\n</code></pre>\n<p>This code is working fine, but a local copy of this file is creating in my local machine and that file is being uploaded to S3 bucket. Like this i have millions of files. I cannot store all of these in local System. So is there a way to write the data directly to a file and upload it to S3 without being stored anywhere.</p>\n"},{"tags":["java","encoding","inputstream"],"comments":[{"owner":{"account_id":1506070,"reputation":1020,"user_id":1409408,"accept_rate":93,"display_name":"David"},"score":1,"creation_date":1467811605,"post_id":38224818,"comment_id":63872289,"body_markdown":"Not a fix for your code, but can you copy out the code into a new standalone program and run it with test data you know causes problems? You can then add debug output to find out exactly what is happening. You may find something is going wrong elsewhere. Make sure the input and output are exactly as expected.","body":"Not a fix for your code, but can you copy out the code into a new standalone program and run it with test data you know causes problems? You can then add debug output to find out exactly what is happening. You may find something is going wrong elsewhere. Make sure the input and output are exactly as expected."},{"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"score":0,"creation_date":1467909950,"post_id":38224818,"comment_id":63923024,"body_markdown":"Tried that. Didn&#39;t really get anywhere. Thanks for the idea though.","body":"Tried that. Didn&#39;t really get anywhere. Thanks for the idea though."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467814620,"creation_date":1467814620,"answer_id":38226308,"question_id":38224818,"body_markdown":"With XML there are minor problems: In the first line `&lt;?xml ... ?&gt;` specifies an encoding or defaults to UTF-8. Hence often XML is read as InputStream (binary) and left to the XML parser to find out the encoding.\r\n\r\nWhen writing XML, one may assume to have it say in a String. When writing the encoding from that `&lt;?xml ... ?&gt;` should be used in an `new OutputStreamWriter(ouputStream, encoding)`.\r\n\r\nBinary input and output XMLs must be tested for their encoding, in a programmer&#39;s editor like JEdit or Notepad++, that handles encodings.\r\n\r\nIF you want to read the text immediately in the right encoding: I did a search for XMLInputStreamReader and found some. But all your Reader class needs to do: buffer the first bytes in an ByteArrayOutputStream, till the `&lt;?xml encoding=...?&gt;` is handled, and then do an InputStreamReader.\r\n","title":"Java: InputStreamReader character encoding needs to be run twice","body":"<p>With XML there are minor problems: In the first line <code>&lt;?xml ... ?&gt;</code> specifies an encoding or defaults to UTF-8. Hence often XML is read as InputStream (binary) and left to the XML parser to find out the encoding.</p>\n\n<p>When writing XML, one may assume to have it say in a String. When writing the encoding from that <code>&lt;?xml ... ?&gt;</code> should be used in an <code>new OutputStreamWriter(ouputStream, encoding)</code>.</p>\n\n<p>Binary input and output XMLs must be tested for their encoding, in a programmer's editor like JEdit or Notepad++, that handles encodings.</p>\n\n<p>IF you want to read the text immediately in the right encoding: I did a search for XMLInputStreamReader and found some. But all your Reader class needs to do: buffer the first bytes in an ByteArrayOutputStream, till the <code>&lt;?xml encoding=...?&gt;</code> is handled, and then do an InputStreamReader.</p>\n"}],"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679788429,"creation_date":1467810396,"question_id":38224818,"body_markdown":"My company does a lot of work with XML transformations with clients all over the world. As such, we do at times encounter character encoding issues. We have a component of our application which is designed to normalize an InputStream to a specific character encoding. It works well... but with a catch.\r\n\r\nIn some cases, we need to run it twice. For the life of me I can&#39;t tell you why, I&#39;ve been trying to hard to figure out what is causing it, and I come up with nothing. It just seems that there are some files where when it runs the first time, it doesn&#39;t make it right, but when it runs the second time everything is finally good.\r\n\r\nHere is the code that does the encoding (assume that the &quot;encoding&quot; variable is &quot;UTF-8&quot;, it usually is):\r\n\r\n    char[] buffer = new char[getBufferSize()];\r\n    String encoding = getEncoding();\r\n    \r\n    Cache fileCache = getFileCache();\r\n    \r\n    try (InputStreamReader reader = new InputStreamReader(data.getDataStream(), encoding); Writer writer = fileCache.getWriter(encoding)) {\r\n    \tint charsRead;\r\n    \twhile ((charsRead = reader.read(buffer)) != -1) {\r\n    \t\twriter.write(buffer, 0, charsRead);\r\n    \t}\r\n    \tdata.setDataStream(fileCache.getInputStream());\r\n    } catch(IOException ex) {\r\n    \tthrow new Exception(String.format(&quot;Unable to normalize stream for %s encoding&quot;, encoding), ex);\r\n    }\r\n\r\nSo, sometimes this code needs to be run twice to make a stream behave with the specified encoding properly.\r\n\r\nI want to make it run better on the first try.\r\n\r\n1) What possible causes could there be for this issue?\r\n\r\n2) Is there any way to improve this code to make the &quot;stream normalization&quot; (as we call it) more effective?\r\n\r\n3) Other than using InputStreamReader, what alternative methods of fixing stream encoding are there that might work better?\r\n","title":"Java: InputStreamReader character encoding needs to be run twice","body":"<p>My company does a lot of work with XML transformations with clients all over the world. As such, we do at times encounter character encoding issues. We have a component of our application which is designed to normalize an InputStream to a specific character encoding. It works well... but with a catch.</p>\n<p>In some cases, we need to run it twice. For the life of me I can't tell you why, I've been trying to hard to figure out what is causing it, and I come up with nothing. It just seems that there are some files where when it runs the first time, it doesn't make it right, but when it runs the second time everything is finally good.</p>\n<p>Here is the code that does the encoding (assume that the &quot;encoding&quot; variable is &quot;UTF-8&quot;, it usually is):</p>\n<pre><code>char[] buffer = new char[getBufferSize()];\nString encoding = getEncoding();\n\nCache fileCache = getFileCache();\n\ntry (InputStreamReader reader = new InputStreamReader(data.getDataStream(), encoding); Writer writer = fileCache.getWriter(encoding)) {\n    int charsRead;\n    while ((charsRead = reader.read(buffer)) != -1) {\n        writer.write(buffer, 0, charsRead);\n    }\n    data.setDataStream(fileCache.getInputStream());\n} catch(IOException ex) {\n    throw new Exception(String.format(&quot;Unable to normalize stream for %s encoding&quot;, encoding), ex);\n}\n</code></pre>\n<p>So, sometimes this code needs to be run twice to make a stream behave with the specified encoding properly.</p>\n<p>I want to make it run better on the first try.</p>\n<ol>\n<li><p>What possible causes could there be for this issue?</p>\n</li>\n<li><p>Is there any way to improve this code to make the &quot;stream normalization&quot; (as we call it) more effective?</p>\n</li>\n<li><p>Other than using InputStreamReader, what alternative methods of fixing stream encoding are there that might work better?</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","gradle","heroku","heroku-postgres"],"comments":[{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1679904121,"post_id":75845083,"comment_id":133797794,"body_markdown":"Which command do you use to build the application?","body":"Which command do you use to build the application?"},{"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"score":0,"creation_date":1679916234,"post_id":75845083,"comment_id":133800806,"body_markdown":"locally: standard `clean build`. But for heroku, I don&#39;t know where to set it","body":"locally: standard <code>clean build</code>. But for heroku, I don&#39;t know where to set it"},{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1679964784,"post_id":75845083,"comment_id":133812042,"body_markdown":"Most probably `build/libs/*.jar` will have two jars, one plain. Did you check the directory content?","body":"Most probably <code>build&#47;libs&#47;*.jar</code> will have two jars, one plain. Did you check the directory content?"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679786712,"creation_date":1679786712,"question_id":75845083,"body_markdown":"I have created a simple repository which has two functions:\r\n1. Greets the user.\r\n2. Asks for a username, saves it to the `postgresql` database, greets the user by this name.\r\n\r\nWhen I test my application locally, it works correctly. But when I try to deploy it to Heroku, I get these errors:\r\n\r\n\r\n\r\n    heroku[web.1]: Starting process with command java -Dserver.port=11441 $JAVA_OPTS -jar build/libs/*.jar\r\n    app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\r\n    app[web.1]: Picked up JAVA_TOOL_OPTIONS: -XX:+UseContainerSupport -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8 \r\n    app[web.1]: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\r\n    app[web.1]: \tat com.pro.library.Application.main(Application.java:10)\r\n    app[web.1]: Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\r\n    app[web.1]: \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    app[web.1]: \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    app[web.1]: \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\r\n\r\nI have a feeling that the error is related to the creation of the jar, but I do not understand how to solve it. I have already looked at a bunch of articles on how to deploy to heroku, but so far this has not helped to identify my problem.\r\n\r\n\r\nmy Procfile:\r\n```\r\nweb: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/*.jar\r\n```\r\n\r\nmy building.gradle.kts:\r\n```kotlin\r\nplugins {\r\n    java\r\n    id(&quot;org.springframework.boot&quot;) version &quot;2.7.1&quot;\r\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n}\r\n\r\nversion = &quot;0.0.1&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_11\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom(configurations.annotationProcessor.get())\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url = uri(&quot;https://repo.spring.io/milestone&quot;) }\r\n    maven { url = uri(&quot;https://repo.spring.io/snapshot&quot;) }\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa:2.7.9&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web:2.7.9&quot;)\r\n\r\n    compileOnly(&quot;org.projectlombok:lombok:1.18.26&quot;)\r\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.26&quot;)\r\n    implementation(&quot;org.mapstruct:mapstruct:1.5.3.Final&quot;)\r\n    annotationProcessor(&quot;org.mapstruct:mapstruct-processor:1.5.3.Final&quot;)\r\n\r\n    implementation(&quot;org.postgresql:postgresql:42.5.4&quot;)\r\n    implementation(&quot;org.flywaydb:flyway-core:8.5.13&quot;)\r\n    implementation(&quot;com.vladmihalcea:hibernate-types-52:2.20.0&quot;)\r\n\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:2.7.9&quot;)\r\n    testImplementation(&quot;org.testcontainers:testcontainers:1.17.6&quot;)\r\n    testImplementation(&quot;org.testcontainers:postgresql:1.17.6&quot;)\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n}\r\n\r\ntasks.jar {\r\n    manifest {\r\n        attributes(\r\n            &quot;Main-Class&quot; to &quot;com.pro.library.Application&quot;,\r\n        )\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy Application.java\r\n```java\r\n@SpringBootApplication\r\npublic class Application {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```","title":"&quot;ClassNotFoundException: org.springframework.boot.SpringApplication&quot; for Deploy Spring Boot app to Heroku","body":"<p>I have created a simple repository which has two functions:</p>\n<ol>\n<li>Greets the user.</li>\n<li>Asks for a username, saves it to the <code>postgresql</code> database, greets the user by this name.</li>\n</ol>\n<p>When I test my application locally, it works correctly. But when I try to deploy it to Heroku, I get these errors:</p>\n<pre><code>heroku[web.1]: Starting process with command java -Dserver.port=11441 $JAVA_OPTS -jar build/libs/*.jar\napp[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\napp[web.1]: Picked up JAVA_TOOL_OPTIONS: -XX:+UseContainerSupport -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8 \napp[web.1]: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\napp[web.1]:     at com.pro.library.Application.main(Application.java:10)\napp[web.1]: Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\napp[web.1]:     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\napp[web.1]:     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\napp[web.1]:     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n</code></pre>\n<p>I have a feeling that the error is related to the creation of the jar, but I do not understand how to solve it. I have already looked at a bunch of articles on how to deploy to heroku, but so far this has not helped to identify my problem.</p>\n<p>my Procfile:</p>\n<pre><code>web: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/*.jar\n</code></pre>\n<p>my building.gradle.kts:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    java\n    id(&quot;org.springframework.boot&quot;) version &quot;2.7.1&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n}\n\nversion = &quot;0.0.1&quot;\njava.sourceCompatibility = JavaVersion.VERSION_11\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url = uri(&quot;https://repo.spring.io/milestone&quot;) }\n    maven { url = uri(&quot;https://repo.spring.io/snapshot&quot;) }\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa:2.7.9&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web:2.7.9&quot;)\n\n    compileOnly(&quot;org.projectlombok:lombok:1.18.26&quot;)\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.26&quot;)\n    implementation(&quot;org.mapstruct:mapstruct:1.5.3.Final&quot;)\n    annotationProcessor(&quot;org.mapstruct:mapstruct-processor:1.5.3.Final&quot;)\n\n    implementation(&quot;org.postgresql:postgresql:42.5.4&quot;)\n    implementation(&quot;org.flywaydb:flyway-core:8.5.13&quot;)\n    implementation(&quot;com.vladmihalcea:hibernate-types-52:2.20.0&quot;)\n\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test:2.7.9&quot;)\n    testImplementation(&quot;org.testcontainers:testcontainers:1.17.6&quot;)\n    testImplementation(&quot;org.testcontainers:postgresql:1.17.6&quot;)\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\ntasks.jar {\n    manifest {\n        attributes(\n            &quot;Main-Class&quot; to &quot;com.pro.library.Application&quot;,\n        )\n    }\n}\n\n</code></pre>\n<p>My Application.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679786700,"creation_date":1679786700,"answer_id":75845082,"question_id":75833567,"body_markdown":"I know 2 options:\r\n\r\n1: adding custom method\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class BookRequestMapper {\r\n    \r\n        @Autowired\r\n        protected UserRepository userRepository;\r\n\r\n        @Mapping(target = &quot;user&quot;, source = &quot;dto.userId&quot;, qualifiedByName = &quot;mapUser&quot;)\r\n        public abstract Book toEntity(BookRequest dto);\r\n\r\n        @Named(&quot;mapUser&quot;) \r\n        protected User mapUser(Long userId){\r\n            return userRepository.getReferenceById(userId);\r\n        }\r\n \r\n    }\r\n\r\n- Official documentation: [adding-custom-methods][1]\r\n- Baeldung tutorial: [mapstruct-custom-mapper][2]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\r\n  [2]: https://www.baeldung.com/mapstruct-custom-mapper\r\n\r\n\r\n2: usign expression\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class BookRequestMapper {\r\n    \r\n        @Autowired\r\n        protected UserRepository userRepository;\r\n\r\n        @Mapping(target = &quot;user&quot;, expression = &quot;java(userRepository.getReferenceById(dto.getUserId()))&quot;)\r\n        public abstract Book toEntity(BookRequest dto);\r\n\r\n    }\r\n\r\n- Official documentation: [Mapping expression documentation][1]\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#expressions","title":"How to map FK field in MapStruct?","body":"<p>I know 2 options:</p>\n<p>1: adding custom method</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class BookRequestMapper {\n\n    @Autowired\n    protected UserRepository userRepository;\n\n    @Mapping(target = &quot;user&quot;, source = &quot;dto.userId&quot;, qualifiedByName = &quot;mapUser&quot;)\n    public abstract Book toEntity(BookRequest dto);\n\n    @Named(&quot;mapUser&quot;) \n    protected User mapUser(Long userId){\n        return userRepository.getReferenceById(userId);\n    }\n\n}\n</code></pre>\n<ul>\n<li>Official documentation: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">adding-custom-methods</a></li>\n<li>Baeldung tutorial: <a href=\"https://www.baeldung.com/mapstruct-custom-mapper\" rel=\"nofollow noreferrer\">mapstruct-custom-mapper</a></li>\n</ul>\n<p>2: usign expression</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class BookRequestMapper {\n\n    @Autowired\n    protected UserRepository userRepository;\n\n    @Mapping(target = &quot;user&quot;, expression = &quot;java(userRepository.getReferenceById(dto.getUserId()))&quot;)\n    public abstract Book toEntity(BookRequest dto);\n\n}\n</code></pre>\n<ul>\n<li>Official documentation: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">Mapping expression documentation</a></li>\n</ul>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679786700,"creation_date":1679660314,"question_id":75833567,"body_markdown":"I have the following entities:\r\n\r\n```\r\n@Entity\r\npublic class Book {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    // other fields\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    // other fields\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nWhen I save a book, first I map the `BookRequest` fields using MapStruct and then I set the user field of the entity returned from mapper as shown below. \r\n\r\n```\r\npublic void create(BookRequest request) {\r\n    final Book book = bookRequestMapper.toEntity(request);\r\n\r\n    // here I set the User field of the Book \r\n    book.setUser(userRepository.getReferenceById(request.getUserId()));\r\n    bookRepository.save(book);\r\n}\r\n```\r\n\r\nHowever, I am wondering if this is a proper way or can I map the user in the mapper. So, how should I map the user in this scenario? Here is my mapper:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface BookRequestMapper {\r\n\r\n    Book toEntity(BookRequest dto);\r\n}\r\n```\r\n\r\n","title":"How to map FK field in MapStruct?","body":"<p>I have the following entities:</p>\n<pre><code>@Entity\npublic class Book {\n\n    @Id\n    private Long id;\n\n    // other fields\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n}\n</code></pre>\n<br/>\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    private Long id;\n\n    // other fields\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>When I save a book, first I map the <code>BookRequest</code> fields using MapStruct and then I set the user field of the entity returned from mapper as shown below.</p>\n<pre><code>public void create(BookRequest request) {\n    final Book book = bookRequestMapper.toEntity(request);\n\n    // here I set the User field of the Book \n    book.setUser(userRepository.getReferenceById(request.getUserId()));\n    bookRepository.save(book);\n}\n</code></pre>\n<p>However, I am wondering if this is a proper way or can I map the user in the mapper. So, how should I map the user in this scenario? Here is my mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface BookRequestMapper {\n\n    Book toEntity(BookRequest dto);\n}\n</code></pre>\n"},{"tags":["java","android","asynchronous","android-asynctask"],"answers":[{"tags":[],"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1358411632,"creation_date":1358411632,"answer_id":14374964,"question_id":14374682,"body_markdown":"In general I would recommend the static implementation (though both are acceptable).\r\n\r\nThe Google approach will require less code but your asynctask will be tightly coupled with your actitivy (which means not easily reusable). But sometimes this approach is more readable.\r\n\r\nWith the CommonsGuy approach, it will require more effort (and more code) to decouple activity and asynctask, but in the end you will have a more modular, more reusable code.","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>In general I would recommend the static implementation (though both are acceptable).</p>\n\n<p>The Google approach will require less code but your asynctask will be tightly coupled with your actitivy (which means not easily reusable). But sometimes this approach is more readable.</p>\n\n<p>With the CommonsGuy approach, it will require more effort (and more code) to decouple activity and asynctask, but in the end you will have a more modular, more reusable code.</p>\n"},{"tags":[],"owner":{"account_id":1932421,"reputation":72673,"user_id":1741542,"accept_rate":75,"display_name":"Olaf Dietsche"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1358413266,"creation_date":1358412687,"answer_id":14375206,"question_id":14374682,"body_markdown":"The linked article already says it \r\n\r\n&gt; This does emphasize, though, that you want doInBackground() of your AsyncTask to be completely decoupled from the Activity. If you only touch your Activity on the main application thread, your AsyncTask can survive the orientation change intact.\r\n\r\nDon&#39;t touch the Activity (e.g. its members) from the `AsyncTask`, which is in line with [Static Nested Classes](http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html) \r\n\r\n&gt; **Static Nested Classes**  \r\nAs with class methods and variables, a static nested class is associated with its outer class. And like static class methods, a static nested class cannot refer directly to instance variables or methods defined in its enclosing class — it can use them only through an object reference.\r\n\r\nAlthough, the examples from Android, [AsyncTask reference](http://developer.android.com/reference/android/os/AsyncTask.html) and [Using AsyncTask](http://developer.android.com/guide/components/processes-and-threads.html#AsyncTask) are still using non-static nested classes.\r\n\r\nAnd according to this https://stackoverflow.com/q/253492/1741542, I would first go with the *static* inner class and resort to the non-static version only, if it is really necessary.","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>The linked article already says it </p>\n\n<blockquote>\n  <p>This does emphasize, though, that you want doInBackground() of your AsyncTask to be completely decoupled from the Activity. If you only touch your Activity on the main application thread, your AsyncTask can survive the orientation change intact.</p>\n</blockquote>\n\n<p>Don't touch the Activity (e.g. its members) from the <code>AsyncTask</code>, which is in line with <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">Static Nested Classes</a> </p>\n\n<blockquote>\n  <p><strong>Static Nested Classes</strong><br>\n  As with class methods and variables, a static nested class is associated with its outer class. And like static class methods, a static nested class cannot refer directly to instance variables or methods defined in its enclosing class — it can use them only through an object reference.</p>\n</blockquote>\n\n<p>Although, the examples from Android, <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask reference</a> and <a href=\"http://developer.android.com/guide/components/processes-and-threads.html#AsyncTask\" rel=\"nofollow noreferrer\">Using AsyncTask</a> are still using non-static nested classes.</p>\n\n<p>And according to this <a href=\"https://stackoverflow.com/q/253492/1741542\">Static nested class in Java, why?</a>, I would first go with the <em>static</em> inner class and resort to the non-static version only, if it is really necessary.</p>\n"},{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1679786633,"creation_date":1358421509,"answer_id":14377898,"question_id":14374682,"body_markdown":"There&#39;s no single &quot;correct&quot; way of implementing `AsyncTask`. But here are my two cents:\r\n\r\nThis class is intended to perform &quot;light&quot; work in the context of an Activity. That&#39;s why it has the methods `onPreExecute`, `onProgressUpdate`, `onPostExecute` running in the UI thread, so that they can access fields and update GUI quickly. Any task that might take a longer time to complete and is not meant to update a specific activity should be moved to a Service.\r\n\r\nThose methods are mostly used to update the GUI. As the GUI is something related to the Activity instance (the fields are likely declared as private member variables), it is more convenient to implement the `AsyncTask` as a non-static nested class. It is also the most natural way in my opinion.\r\n\r\nIn case the task is going to be reused in other activities, I think it should be allowed to have its own class. To be honest, I&#39;m no fan of static nested classes, especially inside views. If it is a class, it means it is conceptually different than the activity. And if it is static, it means it is not related to this concrete instance of the activity. But as they are nested, those classes are visually inside the parent class making it harder to read, and can go unnoticed in the project package explorer as it only shows files. And despite being less coupled than inner classes, this is not really that useful: if the class changes, you have to merge/commit the whole parent file to the version control. If you were to reuse it, then you&#39;d have to access it as `Parent.Nested` everywhere. So in order not to couple other activities to the `Parent` class, you probably would like to refactor it and extract the nested class to its own file.\r\n\r\nSo for me the question would be *Inner Class vs Top-Level Class*.","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>There's no single &quot;correct&quot; way of implementing <code>AsyncTask</code>. But here are my two cents:</p>\n<p>This class is intended to perform &quot;light&quot; work in the context of an Activity. That's why it has the methods <code>onPreExecute</code>, <code>onProgressUpdate</code>, <code>onPostExecute</code> running in the UI thread, so that they can access fields and update GUI quickly. Any task that might take a longer time to complete and is not meant to update a specific activity should be moved to a Service.</p>\n<p>Those methods are mostly used to update the GUI. As the GUI is something related to the Activity instance (the fields are likely declared as private member variables), it is more convenient to implement the <code>AsyncTask</code> as a non-static nested class. It is also the most natural way in my opinion.</p>\n<p>In case the task is going to be reused in other activities, I think it should be allowed to have its own class. To be honest, I'm no fan of static nested classes, especially inside views. If it is a class, it means it is conceptually different than the activity. And if it is static, it means it is not related to this concrete instance of the activity. But as they are nested, those classes are visually inside the parent class making it harder to read, and can go unnoticed in the project package explorer as it only shows files. And despite being less coupled than inner classes, this is not really that useful: if the class changes, you have to merge/commit the whole parent file to the version control. If you were to reuse it, then you'd have to access it as <code>Parent.Nested</code> everywhere. So in order not to couple other activities to the <code>Parent</code> class, you probably would like to refactor it and extract the nested class to its own file.</p>\n<p>So for me the question would be <em>Inner Class vs Top-Level Class</em>.</p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537305103,"creation_date":1537305103,"answer_id":52394650,"question_id":14374682,"body_markdown":"I found out that a non-static nested Asynctask UI update is faster when you need to update your UI frequently by calling runOnUiThread in onProgressUpdate. For example, when you have to append lines to a TextView.\r\n\r\n    non-static:\r\n        @Override\r\n        protected void onProgressUpdate(String... values) {\r\n            runOnUiThread(() -&gt; {\r\n                TextView tv_results = findViewById(R.id.tv_results);\r\n                tv_results.append(values[0] + &quot;\\n&quot;);\r\n            });\r\n        }\r\n\r\nIt&#39;s 1000x faster than implementing listeners for a static AsyncTask. I might be wrong, but that was my experience. \r\n\r\n    static:\r\n            @Override\r\n            protected void onProgressUpdate(String... values) {\r\n                OnTaskStringUpdatedListener.OnTaskStringUpdated(task, values[0]);\r\n            }","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>I found out that a non-static nested Asynctask UI update is faster when you need to update your UI frequently by calling runOnUiThread in onProgressUpdate. For example, when you have to append lines to a TextView.</p>\n\n<pre><code>non-static:\n    @Override\n    protected void onProgressUpdate(String... values) {\n        runOnUiThread(() -&gt; {\n            TextView tv_results = findViewById(R.id.tv_results);\n            tv_results.append(values[0] + \"\\n\");\n        });\n    }\n</code></pre>\n\n<p>It's 1000x faster than implementing listeners for a static AsyncTask. I might be wrong, but that was my experience. </p>\n\n<pre><code>static:\n        @Override\n        protected void onProgressUpdate(String... values) {\n            OnTaskStringUpdatedListener.OnTaskStringUpdated(task, values[0]);\n        }\n</code></pre>\n"}],"owner":{"account_id":171163,"reputation":13601,"user_id":398398,"accept_rate":93,"display_name":"roxrook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21851,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":14374964,"answer_count":4,"score":31,"last_activity_date":1679786633,"creation_date":1358410533,"question_id":14374682,"body_markdown":"The &quot;Login&quot; from Android examples implemented `AsyncTask` as a non-static inner class. However, according to Commonsguys, this class should be static and use weak-reference to the outside activity [see this][1].\r\n\r\nSo what is the correct way to implement `AsyncTask`? Static or non-static?\r\n\r\n**Commonsguy Implementation**  \r\nhttps://github.com/commonsguy/cw-android/tree/master/Rotation/RotationAsync/\r\n\r\n**Log in example from Google** \r\n\r\n    package com.example.asynctaskdemo;\r\n    \r\n    import android.animation.Animator;\r\n    import android.animation.AnimatorListenerAdapter;\r\n    import android.annotation.TargetApi;\r\n    import android.app.Activity;\r\n    import android.os.AsyncTask;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.view.KeyEvent;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    import android.view.inputmethod.EditorInfo;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    /**\r\n     * Activity which displays a login screen to the user, offering registration as\r\n     * well.\r\n     */\r\n    public class LoginActivity extends Activity {\r\n    \t/**\r\n    \t * A dummy authentication store containing known user names and passwords.\r\n    \t * TODO: remove after connecting to a real authentication system.\r\n    \t */\r\n    \tprivate static final String[] DUMMY_CREDENTIALS = new String[] { &quot;foo@example.com:hello&quot;, &quot;bar@example.com:world&quot; };\r\n    \r\n    \t/**\r\n    \t * The default email to populate the email field with.\r\n    \t */\r\n    \tpublic static final String EXTRA_EMAIL = &quot;com.example.android.authenticatordemo.extra.EMAIL&quot;;\r\n    \r\n    \t/**\r\n    \t * Keep track of the login task to ensure we can cancel it if requested.\r\n    \t */\r\n    \tprivate UserLoginTask mAuthTask = null;\r\n    \r\n    \t// Values for email and password at the time of the login attempt.\r\n    \tprivate String mEmail;\r\n    \tprivate String mPassword;\r\n    \r\n    \t// UI references.\r\n    \tprivate EditText mEmailView;\r\n    \tprivate EditText mPasswordView;\r\n    \tprivate View mLoginFormView;\r\n    \tprivate View mLoginStatusView;\r\n    \tprivate TextView mLoginStatusMessageView;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \r\n    \t\tsetContentView(R.layout.activity_login);\r\n    \r\n    \t\t// Set up the login form.\r\n    \t\tmEmail = getIntent().getStringExtra(EXTRA_EMAIL);\r\n    \t\tmEmailView = (EditText) findViewById(R.id.email);\r\n    \t\tmEmailView.setText(mEmail);\r\n    \r\n    \t\tmPasswordView = (EditText) findViewById(R.id.password);\r\n    \t\tmPasswordView.setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onEditorAction(TextView textView, int id, KeyEvent keyEvent) {\r\n    \t\t\t\tif (id == R.id.login || id == EditorInfo.IME_NULL) {\r\n    \t\t\t\t\tattemptLogin();\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tmLoginFormView = findViewById(R.id.login_form);\r\n    \t\tmLoginStatusView = findViewById(R.id.login_status);\r\n    \t\tmLoginStatusMessageView = (TextView) findViewById(R.id.login_status_message);\r\n    \r\n    \t\tfindViewById(R.id.sign_in_button).setOnClickListener(new View.OnClickListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View view) {\r\n    \t\t\t\tattemptLogin();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n    \t\tsuper.onCreateOptionsMenu(menu);\r\n    \t\tgetMenuInflater().inflate(R.menu.activity_login, menu);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Attempts to sign in or register the account specified by the login form.\r\n    \t * If there are form errors (invalid email, missing fields, etc.), the\r\n    \t * errors are presented and no actual login attempt is made.\r\n    \t */\r\n    \tpublic void attemptLogin() {\r\n    \t\tif (mAuthTask != null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// Reset errors.\r\n    \t\tmEmailView.setError(null);\r\n    \t\tmPasswordView.setError(null);\r\n    \r\n    \t\t// Store values at the time of the login attempt.\r\n    \t\tmEmail = mEmailView.getText().toString();\r\n    \t\tmPassword = mPasswordView.getText().toString();\r\n    \r\n    \t\tboolean cancel = false;\r\n    \t\tView focusView = null;\r\n    \r\n    \t\t// Check for a valid password.\r\n    \t\tif (TextUtils.isEmpty(mPassword)) {\r\n    \t\t\tmPasswordView.setError(getString(R.string.error_field_required));\r\n    \t\t\tfocusView = mPasswordView;\r\n    \t\t\tcancel = true;\r\n    \t\t}\r\n    \t\telse if (mPassword.length() &lt; 4) {\r\n    \t\t\tmPasswordView.setError(getString(R.string.error_invalid_password));\r\n    \t\t\tfocusView = mPasswordView;\r\n    \t\t\tcancel = true;\r\n    \t\t}\r\n    \r\n    \t\t// Check for a valid email address.\r\n    \t\tif (TextUtils.isEmpty(mEmail)) {\r\n    \t\t\tmEmailView.setError(getString(R.string.error_field_required));\r\n    \t\t\tfocusView = mEmailView;\r\n    \t\t\tcancel = true;\r\n    \t\t}\r\n    \t\telse if (!mEmail.contains(&quot;@&quot;)) {\r\n    \t\t\tmEmailView.setError(getString(R.string.error_invalid_email));\r\n    \t\t\tfocusView = mEmailView;\r\n    \t\t\tcancel = true;\r\n    \t\t}\r\n    \r\n    \t\tif (cancel) {\r\n    \t\t\t// There was an error; don&#39;t attempt login and focus the first\r\n    \t\t\t// form field with an error.\r\n    \t\t\tfocusView.requestFocus();\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\t// Show a progress spinner, and kick off a background task to\r\n    \t\t\t// perform the user login attempt.\r\n    \t\t\tmLoginStatusMessageView.setText(R.string.login_progress_signing_in);\r\n    \t\t\tshowProgress(true);\r\n    \t\t\tmAuthTask = new UserLoginTask();\r\n    \t\t\tmAuthTask.execute((Void) null);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Shows the progress UI and hides the login form.\r\n    \t */\r\n    \t@TargetApi(Build.VERSION_CODES.HONEYCOMB_MR2)\r\n    \tprivate void showProgress(final boolean show) {\r\n    \t\t// On Honeycomb MR2 we have the ViewPropertyAnimator APIs, which allow\r\n    \t\t// for very easy animations. If available, use these APIs to fade-in\r\n    \t\t// the progress spinner.\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\r\n    \t\t\tint shortAnimTime = getResources().getInteger(android.R.integer.config_shortAnimTime);\r\n    \r\n    \t\t\tmLoginStatusView.setVisibility(View.VISIBLE);\r\n    \t\t\tmLoginStatusView.animate().setDuration(shortAnimTime).alpha(show ? 1 : 0).setListener(new AnimatorListenerAdapter() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onAnimationEnd(Animator animation) {\r\n    \t\t\t\t\tmLoginStatusView.setVisibility(show ? View.VISIBLE : View.GONE);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tmLoginFormView.setVisibility(View.VISIBLE);\r\n    \t\t\tmLoginFormView.animate().setDuration(shortAnimTime).alpha(show ? 0 : 1).setListener(new AnimatorListenerAdapter() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onAnimationEnd(Animator animation) {\r\n    \t\t\t\t\tmLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\t// The ViewPropertyAnimator APIs are not available, so simply show\r\n    \t\t\t// and hide the relevant UI components.\r\n    \t\t\tmLoginStatusView.setVisibility(show ? View.VISIBLE : View.GONE);\r\n    \t\t\tmLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Represents an asynchronous login/registration task used to authenticate\r\n    \t * the user.\r\n    \t */\r\n    \tpublic class UserLoginTask extends AsyncTask&lt;Void, Void, Boolean&gt; {\r\n    \t\t@Override\r\n    \t\tprotected Boolean doInBackground(Void... params) {\r\n    \t\t\t// TODO: attempt authentication against a network service.\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\t// Simulate network access.\r\n    \t\t\t\tThread.sleep(2000);\r\n    \t\t\t}\r\n    \t\t\tcatch (InterruptedException e) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\tfor (String credential : DUMMY_CREDENTIALS) {\r\n    \t\t\t\tString[] pieces = credential.split(&quot;:&quot;);\r\n    \t\t\t\tif (pieces[0].equals(mEmail)) {\r\n    \t\t\t\t\t// Account exists, return true if the password matches.\r\n    \t\t\t\t\treturn pieces[1].equals(mPassword);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\t// TODO: register the new account here.\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void onPostExecute(final Boolean success) {\r\n    \t\t\tmAuthTask = null;\r\n    \t\t\tshowProgress(false);\r\n    \r\n    \t\t\tif (success) {\r\n    \t\t\t\tfinish();\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tmPasswordView.setError(getString(R.string.error_incorrect_password));\r\n    \t\t\t\tmPasswordView.requestFocus();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void onCancelled() {\r\n    \t\t\tmAuthTask = null;\r\n    \t\t\tshowProgress(false);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf it depends on a specific situation, then with `ListView` items (text + plus Bitmap) loaded from the internet using `HttpClient`, how should I implement my AsyncTask? \r\n\r\n\r\n  [1]: http://commonsware.com/blog/2010/09/10/asynctask-screen-rotation.html","title":"What&#39;s the correct way to implement AsyncTask? static or non static nested class?","body":"<p>The \"Login\" from Android examples implemented <code>AsyncTask</code> as a non-static inner class. However, according to Commonsguys, this class should be static and use weak-reference to the outside activity <a href=\"http://commonsware.com/blog/2010/09/10/asynctask-screen-rotation.html\">see this</a>.</p>\n\n<p>So what is the correct way to implement <code>AsyncTask</code>? Static or non-static?</p>\n\n<p><strong>Commonsguy Implementation</strong><br>\n<a href=\"https://github.com/commonsguy/cw-android/tree/master/Rotation/RotationAsync/\">https://github.com/commonsguy/cw-android/tree/master/Rotation/RotationAsync/</a></p>\n\n<p><strong>Log in example from Google</strong> </p>\n\n<pre><code>package com.example.asynctaskdemo;\n\nimport android.animation.Animator;\nimport android.animation.AnimatorListenerAdapter;\nimport android.annotation.TargetApi;\nimport android.app.Activity;\nimport android.os.AsyncTask;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.KeyEvent;\nimport android.view.Menu;\nimport android.view.View;\nimport android.view.inputmethod.EditorInfo;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\n/**\n * Activity which displays a login screen to the user, offering registration as\n * well.\n */\npublic class LoginActivity extends Activity {\n    /**\n     * A dummy authentication store containing known user names and passwords.\n     * TODO: remove after connecting to a real authentication system.\n     */\n    private static final String[] DUMMY_CREDENTIALS = new String[] { \"foo@example.com:hello\", \"bar@example.com:world\" };\n\n    /**\n     * The default email to populate the email field with.\n     */\n    public static final String EXTRA_EMAIL = \"com.example.android.authenticatordemo.extra.EMAIL\";\n\n    /**\n     * Keep track of the login task to ensure we can cancel it if requested.\n     */\n    private UserLoginTask mAuthTask = null;\n\n    // Values for email and password at the time of the login attempt.\n    private String mEmail;\n    private String mPassword;\n\n    // UI references.\n    private EditText mEmailView;\n    private EditText mPasswordView;\n    private View mLoginFormView;\n    private View mLoginStatusView;\n    private TextView mLoginStatusMessageView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_login);\n\n        // Set up the login form.\n        mEmail = getIntent().getStringExtra(EXTRA_EMAIL);\n        mEmailView = (EditText) findViewById(R.id.email);\n        mEmailView.setText(mEmail);\n\n        mPasswordView = (EditText) findViewById(R.id.password);\n        mPasswordView.setOnEditorActionListener(new TextView.OnEditorActionListener() {\n            @Override\n            public boolean onEditorAction(TextView textView, int id, KeyEvent keyEvent) {\n                if (id == R.id.login || id == EditorInfo.IME_NULL) {\n                    attemptLogin();\n                    return true;\n                }\n                return false;\n            }\n        });\n\n        mLoginFormView = findViewById(R.id.login_form);\n        mLoginStatusView = findViewById(R.id.login_status);\n        mLoginStatusMessageView = (TextView) findViewById(R.id.login_status_message);\n\n        findViewById(R.id.sign_in_button).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                attemptLogin();\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n        getMenuInflater().inflate(R.menu.activity_login, menu);\n        return true;\n    }\n\n    /**\n     * Attempts to sign in or register the account specified by the login form.\n     * If there are form errors (invalid email, missing fields, etc.), the\n     * errors are presented and no actual login attempt is made.\n     */\n    public void attemptLogin() {\n        if (mAuthTask != null) {\n            return;\n        }\n\n        // Reset errors.\n        mEmailView.setError(null);\n        mPasswordView.setError(null);\n\n        // Store values at the time of the login attempt.\n        mEmail = mEmailView.getText().toString();\n        mPassword = mPasswordView.getText().toString();\n\n        boolean cancel = false;\n        View focusView = null;\n\n        // Check for a valid password.\n        if (TextUtils.isEmpty(mPassword)) {\n            mPasswordView.setError(getString(R.string.error_field_required));\n            focusView = mPasswordView;\n            cancel = true;\n        }\n        else if (mPassword.length() &lt; 4) {\n            mPasswordView.setError(getString(R.string.error_invalid_password));\n            focusView = mPasswordView;\n            cancel = true;\n        }\n\n        // Check for a valid email address.\n        if (TextUtils.isEmpty(mEmail)) {\n            mEmailView.setError(getString(R.string.error_field_required));\n            focusView = mEmailView;\n            cancel = true;\n        }\n        else if (!mEmail.contains(\"@\")) {\n            mEmailView.setError(getString(R.string.error_invalid_email));\n            focusView = mEmailView;\n            cancel = true;\n        }\n\n        if (cancel) {\n            // There was an error; don't attempt login and focus the first\n            // form field with an error.\n            focusView.requestFocus();\n        }\n        else {\n            // Show a progress spinner, and kick off a background task to\n            // perform the user login attempt.\n            mLoginStatusMessageView.setText(R.string.login_progress_signing_in);\n            showProgress(true);\n            mAuthTask = new UserLoginTask();\n            mAuthTask.execute((Void) null);\n        }\n    }\n\n    /**\n     * Shows the progress UI and hides the login form.\n     */\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB_MR2)\n    private void showProgress(final boolean show) {\n        // On Honeycomb MR2 we have the ViewPropertyAnimator APIs, which allow\n        // for very easy animations. If available, use these APIs to fade-in\n        // the progress spinner.\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n            int shortAnimTime = getResources().getInteger(android.R.integer.config_shortAnimTime);\n\n            mLoginStatusView.setVisibility(View.VISIBLE);\n            mLoginStatusView.animate().setDuration(shortAnimTime).alpha(show ? 1 : 0).setListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    mLoginStatusView.setVisibility(show ? View.VISIBLE : View.GONE);\n                }\n            });\n\n            mLoginFormView.setVisibility(View.VISIBLE);\n            mLoginFormView.animate().setDuration(shortAnimTime).alpha(show ? 0 : 1).setListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    mLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE);\n                }\n            });\n        }\n        else {\n            // The ViewPropertyAnimator APIs are not available, so simply show\n            // and hide the relevant UI components.\n            mLoginStatusView.setVisibility(show ? View.VISIBLE : View.GONE);\n            mLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE);\n        }\n    }\n\n    /**\n     * Represents an asynchronous login/registration task used to authenticate\n     * the user.\n     */\n    public class UserLoginTask extends AsyncTask&lt;Void, Void, Boolean&gt; {\n        @Override\n        protected Boolean doInBackground(Void... params) {\n            // TODO: attempt authentication against a network service.\n\n            try {\n                // Simulate network access.\n                Thread.sleep(2000);\n            }\n            catch (InterruptedException e) {\n                return false;\n            }\n\n            for (String credential : DUMMY_CREDENTIALS) {\n                String[] pieces = credential.split(\":\");\n                if (pieces[0].equals(mEmail)) {\n                    // Account exists, return true if the password matches.\n                    return pieces[1].equals(mPassword);\n                }\n            }\n\n            // TODO: register the new account here.\n            return true;\n        }\n\n        @Override\n        protected void onPostExecute(final Boolean success) {\n            mAuthTask = null;\n            showProgress(false);\n\n            if (success) {\n                finish();\n            }\n            else {\n                mPasswordView.setError(getString(R.string.error_incorrect_password));\n                mPasswordView.requestFocus();\n            }\n        }\n\n        @Override\n        protected void onCancelled() {\n            mAuthTask = null;\n            showProgress(false);\n        }\n    }\n}\n</code></pre>\n\n<p>If it depends on a specific situation, then with <code>ListView</code> items (text + plus Bitmap) loaded from the internet using <code>HttpClient</code>, how should I implement my AsyncTask? </p>\n"},{"tags":["java","android","media-player","ringtone"],"comments":[{"owner":{"display_name":"user5734311"},"score":0,"creation_date":1526941869,"post_id":50457321,"comment_id":87928359,"body_markdown":"My guess is the `MediaPlayer` instance takes some time to prepare; that&#39;s why you&#39;re supposed to asynchronously call `.create()` and only `.start()` it in a callback that runs when preparation has finished: https://developer.android.com/guide/topics/media/mediaplayer#preparingasync (also: javascript != java)","body":"My guess is the <code>MediaPlayer</code> instance takes some time to prepare; that&#39;s why you&#39;re supposed to asynchronously call <code>.create()</code> and only <code>.start()</code> it in a callback that runs when preparation has finished: <a href=\"https://developer.android.com/guide/topics/media/mediaplayer#preparingasync\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/media/&hellip;</a> (also: javascript != java)"}],"answers":[{"tags":[],"owner":{"account_id":11939540,"reputation":11,"user_id":8736813,"display_name":"Ahmed abo elnaga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526942646,"creation_date":1526942646,"answer_id":50457494,"question_id":50457321,"body_markdown":"mediaPlayer.start();  remove  from onResume() \r\n \r\n     @Override\r\n    protected void onResume() {\r\n        super.onResume();   \r\n    }","title":"android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>mediaPlayer.start();  remove  from onResume() </p>\n\n<pre><code> @Override\nprotected void onResume() {\n    super.onResume();   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10472639,"reputation":144,"user_id":7720074,"display_name":"anilkay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526944239,"creation_date":1526944239,"answer_id":50457688,"question_id":50457321,"body_markdown":"MediaPlayer is heavy process. Android developers said should not use in Ui thread, but if you want to use it this code works just fine:\r\n\r\n  \r\n\r\n    mediaPlayer=MediaPlayer.create(this,R.raw.pota);\r\n            mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n                @Override\r\n                public void onCompletion(MediaPlayer mediaPlayer) {\r\n                    mediaPlayer.start();\r\n                }\r\n            });\r\nYou can write this code whatever you want (onCreate,onStart,onResume).","title":"android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>MediaPlayer is heavy process. Android developers said should not use in Ui thread, but if you want to use it this code works just fine:</p>\n\n<pre><code>mediaPlayer=MediaPlayer.create(this,R.raw.pota);\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mediaPlayer) {\n                mediaPlayer.start();\n            }\n        });\n</code></pre>\n\n<p>You can write this code whatever you want (onCreate,onStart,onResume).</p>\n"}],"owner":{"account_id":13561879,"reputation":31,"user_id":9783294,"display_name":"Saouti Mohamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679786592,"creation_date":1526941394,"question_id":50457321,"body_markdown":"I am trying to add a ringtone to this layout and I can&#39;t know why is on a null object even thought I have the mp3 ringtone in raw file and I am writing the code as is showing below.\r\n\r\n    import android.content.Intent;\r\n    import android.media.MediaPlayer;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.text.TextUtils;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import com.saoutimohamed.tewsilaclone.Common.Common;\r\n    import com.saoutimohamed.tewsilaclone.Mode.FCMResponse;\r\n    import com.saoutimohamed.tewsilaclone.Mode.Notification;\r\n    import com.saoutimohamed.tewsilaclone.Mode.Sender;\r\n    import com.saoutimohamed.tewsilaclone.Mode.Token;\r\n    import com.saoutimohamed.tewsilaclone.Remote.IFCMService;\r\n    import com.saoutimohamed.tewsilaclone.Remote.IGoogleAPI;\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n\r\n    import retrofit2.Call;\r\n    import retrofit2.Callback;\r\n    import retrofit2.Response;\r\n\r\n    public class CustomerCall extends AppCompatActivity {\r\n\r\n        TextView txtTime, txtAddress, txtDistance;\r\n        MediaPlayer mediaPlayer;\r\n\r\n        IGoogleAPI mService;\r\n\r\n        Button btnAccept, btnDecline;\r\n\r\n        String customerId;\r\n        IFCMService ifcmService;\r\n        double lat,lng;\r\n\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_customer_call);\r\n\r\n            mService = Common.getGoogleAPI();\r\n            ifcmService = Common.getFCMService();\r\n\r\n            txtAddress = findViewById(R.id.txtAddress);\r\n            txtTime = findViewById(R.id.txtTime);\r\n            txtDistance = findViewById(R.id.txtDistance);\r\n\r\n            btnAccept = findViewById(R.id.btnAccept);\r\n            btnDecline = findViewById(R.id.btnDecline);\r\n\r\n            mediaPlayer = MediaPlayer.create(this,R.raw.ringtone);\r\n            mediaPlayer.start();\r\n            mediaPlayer.setLooping(true);\r\n\r\n            if (getIntent() != null)\r\n            {\r\n                 lat = getIntent().getDoubleExtra(&quot;lat&quot;,-1.0);\r\n                 lng = getIntent().getDoubleExtra(&quot;lng&quot;,-1.0);\r\n                customerId = getIntent().getStringExtra(&quot;customer&quot;);\r\n\r\n\r\n                getDirection(lat,lng);\r\n            }\r\n            btnDecline.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (!TextUtils.isEmpty(customerId))\r\n                        cancelBooking(customerId);\r\n                }\r\n            });\r\n\r\n            btnAccept.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(CustomerCall.this,DriverTracking.class);\r\n\r\n                    intent.putExtra(&quot;lat&quot;,lat);\r\n                    intent.putExtra(&quot;lng&quot;,lng);\r\n                    startActivity(intent);\r\n                    finish();\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        private void cancelBooking(String customerId) {\r\n            Token token = new Token(customerId);\r\n            Notification notification = new Notification(&quot;Notice!&quot;,&quot;Driver has cancelled your request&quot;);\r\n            Sender sender = new Sender(token.getToken(),notification);\r\n            ifcmService.sandMessage(sender)\r\n                    .enqueue(new Callback&lt;FCMResponse&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;FCMResponse&gt; call, Response&lt;FCMResponse&gt; response) {\r\n                            if (response.body().success ==1)\r\n                            {\r\n                                Toast.makeText(CustomerCall.this, &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n                                finish();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Call&lt;FCMResponse&gt; call, Throwable t) {\r\n\r\n                        }\r\n                    });\r\n        }\r\n\r\n        private void getDirection(double lat,double lng) {\r\n            String requestApi;\r\n            try {\r\n                requestApi = &quot;https://maps.googleapis.com/maps/api/directions/json?&quot; +\r\n                        &quot;mode=driving&amp;&quot; +\r\n                        &quot;transit_routing_preference=less_driving&amp;&quot; +\r\n                        &quot;origin=&quot; + Common.mLastLocation.getLatitude() + &quot;,&quot; + Common.mLastLocation.getLongitude() + &quot;&amp;&quot; +\r\n                        &quot;destination=&quot; + lat+&quot;,&quot;+lng + &quot;&amp;&quot; +\r\n                        &quot;key=&quot; + getResources().getString(R.string.google_direction_api);\r\n                Log.d(&quot;SAOUTI&quot;, requestApi);\r\n                mService.getPath(requestApi)\r\n                        .enqueue(new Callback&lt;String&gt;() {\r\n                            @Override\r\n                            public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n                                try {\r\n                                    JSONObject jsonObject = new JSONObject(response.body().toString());\r\n\r\n                                    JSONArray routes = jsonObject.getJSONArray(&quot;routes&quot;);\r\n\r\n                                    JSONObject object = routes.getJSONObject(0);\r\n\r\n                                    JSONArray legs = object.getJSONArray(&quot;legs&quot;);\r\n\r\n                                    JSONObject legsObject = legs.getJSONObject(0);\r\n\r\n                                    JSONObject distance = legsObject.getJSONObject(&quot;distance&quot;);\r\n\r\n                                    txtDistance.setText(distance.getString(&quot;text&quot;));\r\n\r\n                                    JSONObject time = legsObject.getJSONObject(&quot;duration&quot;);\r\n\r\n                                    txtTime.setText(time.getString(&quot;text&quot;));\r\n\r\n                                    String address = legsObject.getString(&quot;end_address&quot;);\r\n\r\n                                    txtAddress.setText(address);\r\n\r\n\r\n\r\n                                } catch (JSONException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Call&lt;String&gt; call, Throwable t) {\r\n                                Toast.makeText(CustomerCall.this, &quot;&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onStop() {\r\n            mediaPlayer.release();\r\n            super.onStop();\r\n        }\r\n\r\n        @Override\r\n        protected void onPause() {\r\n            mediaPlayer.release();\r\n            super.onPause();\r\n        }\r\n\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            mediaPlayer.start();\r\n        }\r\n    }\r\n\r\nand this is the logcat\r\n\r\n       Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference\r\n                          at com.saoutimohamed.tewsilaclone.CustomerCall.onCreate(CustomerCall.java:60)\r\n                          at android.app.Activity.performCreate(Activity.java:7174)\r\n                          at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)\r\n                          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2908)\r\n                          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3030) \r\n                          at android.app.ActivityThread.-wrap11(Unknown Source:0) \r\n                          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696) \r\n                          at android.os.Handler.dispatchMessage(Handler.java:105) \r\n                          at android.os.Looper.loop(Looper.java:164) \r\n                          at android.app.ActivityThread.main(ActivityThread.java:6938) \r\n                          at java.lang.reflect.Method.invoke(Native Method) \r\n                          at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) \r\n                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) \r\n\r\n\r\nthis ringtone is supposed to be a call from a rider to adriver","title":"android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>I am trying to add a ringtone to this layout and I can't know why is on a null object even thought I have the mp3 ringtone in raw file and I am writing the code as is showing below.</p>\n<pre><code>import android.content.Intent;\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.saoutimohamed.tewsilaclone.Common.Common;\nimport com.saoutimohamed.tewsilaclone.Mode.FCMResponse;\nimport com.saoutimohamed.tewsilaclone.Mode.Notification;\nimport com.saoutimohamed.tewsilaclone.Mode.Sender;\nimport com.saoutimohamed.tewsilaclone.Mode.Token;\nimport com.saoutimohamed.tewsilaclone.Remote.IFCMService;\nimport com.saoutimohamed.tewsilaclone.Remote.IGoogleAPI;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\n\npublic class CustomerCall extends AppCompatActivity {\n\n    TextView txtTime, txtAddress, txtDistance;\n    MediaPlayer mediaPlayer;\n\n    IGoogleAPI mService;\n\n    Button btnAccept, btnDecline;\n\n    String customerId;\n    IFCMService ifcmService;\n    double lat,lng;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_customer_call);\n\n        mService = Common.getGoogleAPI();\n        ifcmService = Common.getFCMService();\n\n        txtAddress = findViewById(R.id.txtAddress);\n        txtTime = findViewById(R.id.txtTime);\n        txtDistance = findViewById(R.id.txtDistance);\n\n        btnAccept = findViewById(R.id.btnAccept);\n        btnDecline = findViewById(R.id.btnDecline);\n\n        mediaPlayer = MediaPlayer.create(this,R.raw.ringtone);\n        mediaPlayer.start();\n        mediaPlayer.setLooping(true);\n\n        if (getIntent() != null)\n        {\n             lat = getIntent().getDoubleExtra(&quot;lat&quot;,-1.0);\n             lng = getIntent().getDoubleExtra(&quot;lng&quot;,-1.0);\n            customerId = getIntent().getStringExtra(&quot;customer&quot;);\n\n\n            getDirection(lat,lng);\n        }\n        btnDecline.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (!TextUtils.isEmpty(customerId))\n                    cancelBooking(customerId);\n            }\n        });\n\n        btnAccept.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(CustomerCall.this,DriverTracking.class);\n\n                intent.putExtra(&quot;lat&quot;,lat);\n                intent.putExtra(&quot;lng&quot;,lng);\n                startActivity(intent);\n                finish();\n\n            }\n        });\n\n    }\n\n    private void cancelBooking(String customerId) {\n        Token token = new Token(customerId);\n        Notification notification = new Notification(&quot;Notice!&quot;,&quot;Driver has cancelled your request&quot;);\n        Sender sender = new Sender(token.getToken(),notification);\n        ifcmService.sandMessage(sender)\n                .enqueue(new Callback&lt;FCMResponse&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;FCMResponse&gt; call, Response&lt;FCMResponse&gt; response) {\n                        if (response.body().success ==1)\n                        {\n                            Toast.makeText(CustomerCall.this, &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\n                            finish();\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;FCMResponse&gt; call, Throwable t) {\n\n                    }\n                });\n    }\n\n    private void getDirection(double lat,double lng) {\n        String requestApi;\n        try {\n            requestApi = &quot;https://maps.googleapis.com/maps/api/directions/json?&quot; +\n                    &quot;mode=driving&amp;&quot; +\n                    &quot;transit_routing_preference=less_driving&amp;&quot; +\n                    &quot;origin=&quot; + Common.mLastLocation.getLatitude() + &quot;,&quot; + Common.mLastLocation.getLongitude() + &quot;&amp;&quot; +\n                    &quot;destination=&quot; + lat+&quot;,&quot;+lng + &quot;&amp;&quot; +\n                    &quot;key=&quot; + getResources().getString(R.string.google_direction_api);\n            Log.d(&quot;SAOUTI&quot;, requestApi);\n            mService.getPath(requestApi)\n                    .enqueue(new Callback&lt;String&gt;() {\n                        @Override\n                        public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n                            try {\n                                JSONObject jsonObject = new JSONObject(response.body().toString());\n\n                                JSONArray routes = jsonObject.getJSONArray(&quot;routes&quot;);\n\n                                JSONObject object = routes.getJSONObject(0);\n\n                                JSONArray legs = object.getJSONArray(&quot;legs&quot;);\n\n                                JSONObject legsObject = legs.getJSONObject(0);\n\n                                JSONObject distance = legsObject.getJSONObject(&quot;distance&quot;);\n\n                                txtDistance.setText(distance.getString(&quot;text&quot;));\n\n                                JSONObject time = legsObject.getJSONObject(&quot;duration&quot;);\n\n                                txtTime.setText(time.getString(&quot;text&quot;));\n\n                                String address = legsObject.getString(&quot;end_address&quot;);\n\n                                txtAddress.setText(address);\n\n\n\n                            } catch (JSONException e) {\n                                e.printStackTrace();\n                            }\n\n                        }\n\n                        @Override\n                        public void onFailure(Call&lt;String&gt; call, Throwable t) {\n                            Toast.makeText(CustomerCall.this, &quot;&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected void onStop() {\n        mediaPlayer.release();\n        super.onStop();\n    }\n\n    @Override\n    protected void onPause() {\n        mediaPlayer.release();\n        super.onPause();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        mediaPlayer.start();\n    }\n}\n</code></pre>\n<p>and this is the logcat</p>\n<pre><code>   Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.media.MediaPlayer.start()' on a null object reference\n                      at com.saoutimohamed.tewsilaclone.CustomerCall.onCreate(CustomerCall.java:60)\n                      at android.app.Activity.performCreate(Activity.java:7174)\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2908)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3030) \n                      at android.app.ActivityThread.-wrap11(Unknown Source:0) \n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696) \n                      at android.os.Handler.dispatchMessage(Handler.java:105) \n                      at android.os.Looper.loop(Looper.java:164) \n                      at android.app.ActivityThread.main(ActivityThread.java:6938) \n                      at java.lang.reflect.Method.invoke(Native Method) \n                      at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) \n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) \n</code></pre>\n<p>this ringtone is supposed to be a call from a rider to adriver</p>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":10797936,"reputation":31,"user_id":7942976,"accept_rate":0,"display_name":"Thomas.Chan"},"score":0,"creation_date":1604311147,"post_id":64643128,"comment_id":114298993,"body_markdown":"But i have initialize the variable suppose not to hit null pointer exception in this point.","body":"But i have initialize the variable suppose not to hit null pointer exception in this point."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1604312923,"post_id":64643128,"comment_id":114299786,"body_markdown":"Look twice: you reassign `ivbsound = MediaPlayer.create()` ... must then return null. That is the thing. Android is tricky, you have to really understand when the framework does what.","body":"Look twice: you reassign <code>ivbsound = MediaPlayer.create()</code> ... must then return null. That is the thing. Android is tricky, you have to really understand when the framework does what."},{"owner":{"account_id":10797936,"reputation":31,"user_id":7942976,"accept_rate":0,"display_name":"Thomas.Chan"},"score":0,"creation_date":1604316314,"post_id":64643128,"comment_id":114301278,"body_markdown":"@GhostCat Yes, this is the one cause error, thank you so much buddy! the problem resolved.","body":"@GhostCat Yes, this is the one cause error, thank you so much buddy! the problem resolved."}],"answers":[{"tags":[],"owner":{"account_id":2000631,"reputation":841,"user_id":1791771,"display_name":"Rustam Samandarov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679786452,"creation_date":1604310856,"answer_id":64643266,"question_id":64643128,"body_markdown":"Try to create player with another audio file.\r\nMaybe the ivbutton file is corrupt\r\n\r\n\r\n[UPDATE]\r\n\r\nIf you are reusing it declare lazy property of this sound player and on every click play it\r\n\r\n    \r\n    class MyActivity extends AppCompatActivity {\r\n        private MediaPlayer soundPlayer = null;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            \r\n            soundPlayer = MediaPlayer.create(this, R.raw.ivbutton);\r\n    \r\n            iv_33.setOnClickListener(view -&gt; {\r\n                soundPlayer.start();\r\n                int theCard = Integer.parseInt((String) view.getTag());\r\n                doStuff(iv_33, theCard);\r\n            });\r\n        }\r\n    }","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>Try to create player with another audio file.\nMaybe the ivbutton file is corrupt</p>\n<p>[UPDATE]</p>\n<p>If you are reusing it declare lazy property of this sound player and on every click play it</p>\n<pre><code>class MyActivity extends AppCompatActivity {\n    private MediaPlayer soundPlayer = null;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n        soundPlayer = MediaPlayer.create(this, R.raw.ivbutton);\n\n        iv_33.setOnClickListener(view -&gt; {\n            soundPlayer.start();\n            int theCard = Integer.parseInt((String) view.getTag());\n            doStuff(iv_33, theCard);\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604311035,"creation_date":1604311035,"answer_id":64643300,"question_id":64643128,"body_markdown":"It means that the creation of your MediaPlayer failed (maybe you have warn/debug messages about it).\r\nIt&#39;s useless to create a new MediaPlayer and then replace it by a new one.\r\n\r\nCheck if R.raw.ivbutton exist and correspond to a good media (which can be runned).\r\n\r\nPersonnally, this is how I do:\r\n\r\n```java\r\n\r\n    File mediaFile = obj.getFile();\r\n    MediaPlayer mediaPlayer = new MediaPlayer();\r\n    try {\r\n        mediaFile.setReadable(true); // be sure that the program have access to the media content\r\n        \r\n        // this try/catch is to support multiple Android version\r\n        try {\r\n             mediaPlayer.setDataSource(mediaFile.getAbsolutePath());\r\n        } catch (Exception e) {\r\n             mediaPlayer.setDataSource(context, Uri.fromFile(mediaFile));\r\n        }\r\n    \r\n        mediaPlayer.prepare(); // prepare it, after you can change volume ...\r\n    } catch (Exception e){\r\n        e.printStackTrace();\r\n    }\r\n    mediaPlayer.start(); // finally start the media\r\n```","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>It means that the creation of your MediaPlayer failed (maybe you have warn/debug messages about it).\nIt's useless to create a new MediaPlayer and then replace it by a new one.</p>\n<p>Check if R.raw.ivbutton exist and correspond to a good media (which can be runned).</p>\n<p>Personnally, this is how I do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    File mediaFile = obj.getFile();\n    MediaPlayer mediaPlayer = new MediaPlayer();\n    try {\n        mediaFile.setReadable(true); // be sure that the program have access to the media content\n        \n        // this try/catch is to support multiple Android version\n        try {\n             mediaPlayer.setDataSource(mediaFile.getAbsolutePath());\n        } catch (Exception e) {\n             mediaPlayer.setDataSource(context, Uri.fromFile(mediaFile));\n        }\n    \n        mediaPlayer.prepare(); // prepare it, after you can change volume ...\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n    mediaPlayer.start(); // finally start the media\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5949970,"reputation":671,"user_id":4678336,"display_name":"Ramy Ibrahim"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1604311100,"creation_date":1604311100,"answer_id":64643317,"question_id":64643128,"body_markdown":"please make sure that your sound file format you try to play is supported one check list from [here][1]. as the MediaPlayer.create returns null in case of the file is not supported which cause you null pointer exception. besides i recommend to check if(ivbsound != null) before calling ivbsound.start();\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/media/media-formats","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>please make sure that your sound file format you try to play is supported one check list from <a href=\"https://developer.android.com/guide/topics/media/media-formats\" rel=\"nofollow noreferrer\">here</a>. as the MediaPlayer.create returns null in case of the file is not supported which cause you null pointer exception. besides i recommend to check if(ivbsound != null) before calling ivbsound.start();</p>\n"}],"owner":{"account_id":10797936,"reputation":31,"user_id":7942976,"accept_rate":0,"display_name":"Thomas.Chan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7006,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1604312870,"answer_count":3,"score":1,"last_activity_date":1679786452,"creation_date":1604310360,"question_id":64643128,"body_markdown":"When i try to click on the button several time then i encountered this error. \r\nBelow are the error in logcat: \r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.huiiy.myapplication, PID: 3933\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference\r\n        at com.example.huiiy.myapplication.Activity9$13.onClick(Activity9.java:288)\r\n        at android.view.View.performClick(View.java:5712)\r\n        at android.view.View$PerformClick.run(View.java:22514)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6141)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n```\r\n\r\n\r\nBelow are the coding of my application:\r\n\r\n        iv_33.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                MediaPlayer ivbsound = new MediaPlayer();\r\n                ivbsound = MediaPlayer.create(Activity9.this,R.raw.ivbutton);\r\n                //          MediaPlayer ivbsound = MediaPlayer.create(Activity9.this,R.raw.ivbutton);\r\n                ivbsound.start();\r\n                int theCard = Integer.parseInt((String) view.getTag());\r\n                doStuff(iv_33, theCard);\r\n            }\r\n        });","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.media.MediaPlayer.start()&#39; on a null object reference","body":"<p>When i try to click on the button several time then i encountered this error.\nBelow are the error in logcat:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.huiiy.myapplication, PID: 3933\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.media.MediaPlayer.start()' on a null object reference\n        at com.example.huiiy.myapplication.Activity9$13.onClick(Activity9.java:288)\n        at android.view.View.performClick(View.java:5712)\n        at android.view.View$PerformClick.run(View.java:22514)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6141)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n<p>Below are the coding of my application:</p>\n<pre><code>    iv_33.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            MediaPlayer ivbsound = new MediaPlayer();\n            ivbsound = MediaPlayer.create(Activity9.this,R.raw.ivbutton);\n            //          MediaPlayer ivbsound = MediaPlayer.create(Activity9.this,R.raw.ivbutton);\n            ivbsound.start();\n            int theCard = Integer.parseInt((String) view.getTag());\n            doStuff(iv_33, theCard);\n        }\n    });\n</code></pre>\n"},{"tags":["java","apache-camel","apache-plc4x"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1679779059,"post_id":75840534,"comment_id":133782839,"body_markdown":"What version of Camel do you use? And the NPE is something we should fix, at least give another exception explaining to the user if something must be configured. You are welcome to create a JIRA at ApacheCamel","body":"What version of Camel do you use? And the NPE is something we should fix, at least give another exception explaining to the user if something must be configured. You are welcome to create a JIRA at ApacheCamel"},{"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"score":0,"creation_date":1679785890,"post_id":75840534,"comment_id":133783638,"body_markdown":"Camel core version : 3.20.2 Camel-PLC4X version : 3.20.2, actually I have tried using another endpoint configuration, like:\nplc4x:modbus-tcp://localhost:502?tags={unitId=1&amp;dataType=holding-register&amp;addresses=1}\nBut still, the tags are null while debugging. \nSure I will raise a ticket on Jira.","body":"Camel core version : 3.20.2 Camel-PLC4X version : 3.20.2, actually I have tried using another endpoint configuration, like: plc4x:modbus-tcp://localhost:502?tags={unitId=1&amp;dataType=hol&zwnj;&#8203;ding-register&amp;addres&zwnj;&#8203;ses=1} But still, the tags are null while debugging.  Sure I will raise a ticket on Jira."},{"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"score":0,"creation_date":1679786269,"post_id":75840534,"comment_id":133783665,"body_markdown":"Also it is working if I configure it by creating a new instance of Plc4xEndpoint and configuring the tags manually there like below:\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\t\t\tmap.put(&quot;value-1&quot;, &quot;holding-register:1&quot;);\n\t\t\t\n\t\t\tPlc4XEndpoint plc4xEndpoint = new Plc4XEndpoint(&quot;plc4x:modbus-tcp://localhost:502&quot;,\n\t\t\t\t\tgetContext().getComponent(&quot;plc4x&quot;));\n\t\t\tplc4xEndpoint.setTags(map);\n\t\t\tfrom(plc4xEndpoint).log(&quot;value : ${body}&quot;);\n\nBut why it is not working if I configure the endpoint as just String?","body":"Also it is working if I configure it by creating a new instance of Plc4xEndpoint and configuring the tags manually there like below: Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); \t\t\tmap.put(&quot;value-1&quot;, &quot;holding-register:1&quot;); \t\t\t \t\t\tPlc4XEndpoint plc4xEndpoint = new Plc4XEndpoint(&quot;plc4x:modbus-tcp://localhost:502&quot;, \t\t\t\t\tgetContext().getComponent(&quot;plc4x&quot;)); \t\t\tplc4xEndpoint.setTags(map); \t\t\tfrom(plc4xEndpoint).log(&quot;value : ${body}&quot;);  But why it is not working if I configure the endpoint as just String?"}],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679786208,"creation_date":1679733518,"question_id":75840534,"body_markdown":"I am using [ModbusPal][1] to create the Virtual modbus.\r\n\r\nI am using the endpoint URI as:\r\n\r\n    plc4x:modbus-tcp://localhost:502?unitId=1&amp;dataType=holding-register&amp;addresses=1\r\n\r\nFollowing is the screenshot of Modbus holding registers:\r\n[![enter image description here][2]][2]\r\n\r\nBut when starting camel context it throws NullPointerException.\r\n\r\n    java.lang.NullPointerException\r\n    \tat org.apache.camel.component.plc4x.Plc4XConsumer.startUnTriggered(Plc4XConsumer.java:89)\r\n    \tat org.apache.camel.component.plc4x.Plc4XConsumer.doStart(Plc4XConsumer.java:81)\r\n    \tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\r\nI debugged it and found the problem is with this line:\r\n\r\n            for (Map.Entry&lt;String, Object&gt; tag : tags.entrySet()) {\r\n\r\nHere **tags** is null, so basically I am not configuring the endpoint correctly.\r\n\r\nHow can I write the endpoint correctly?\r\n\r\n**Edit:**\r\nCamel core version : 3.20.2\r\nCamel-PLC4X version : 3.20.2\r\n\r\nBut when I am configuring the endpoint by creating an instance of Plc4XEndpoint and then configuring the tags there, it works like:\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\tmap.put(&quot;value-1&quot;, &quot;holding-register:1&quot;);\r\n    \t\t\t\r\n    \t\t\tPlc4XEndpoint plc4xEndpoint = new Plc4XEndpoint(&quot;plc4x:modbus-tcp://localhost:502&quot;,\r\n    \t\t\t\t\tgetContext().getComponent(&quot;plc4x&quot;));\r\n    \t\t\tplc4xEndpoint.setTags(map);\r\n    \t\t\tfrom(plc4xEndpoint).log(&quot;value : ${body}&quot;);\r\n\r\nBut why it is not working if I configure the endpoint as just String?\r\n\r\n  [1]: https://plc4x.apache.org/users/getting-started/virtual-modbus.html\r\n  [2]: https://i.stack.imgur.com/Oca1y.png","title":"How to create plc4x endpoint in camel","body":"<p>I am using <a href=\"https://plc4x.apache.org/users/getting-started/virtual-modbus.html\" rel=\"nofollow noreferrer\">ModbusPal</a> to create the Virtual modbus.</p>\n<p>I am using the endpoint URI as:</p>\n<pre><code>plc4x:modbus-tcp://localhost:502?unitId=1&amp;dataType=holding-register&amp;addresses=1\n</code></pre>\n<p>Following is the screenshot of Modbus holding registers:\n<a href=\"https://i.stack.imgur.com/Oca1y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oca1y.png\" alt=\"enter image description here\" /></a></p>\n<p>But when starting camel context it throws NullPointerException.</p>\n<pre><code>java.lang.NullPointerException\n    at org.apache.camel.component.plc4x.Plc4XConsumer.startUnTriggered(Plc4XConsumer.java:89)\n    at org.apache.camel.component.plc4x.Plc4XConsumer.doStart(Plc4XConsumer.java:81)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n</code></pre>\n<p>I debugged it and found the problem is with this line:</p>\n<pre><code>        for (Map.Entry&lt;String, Object&gt; tag : tags.entrySet()) {\n</code></pre>\n<p>Here <strong>tags</strong> is null, so basically I am not configuring the endpoint correctly.</p>\n<p>How can I write the endpoint correctly?</p>\n<p><strong>Edit:</strong>\nCamel core version : 3.20.2\nCamel-PLC4X version : 3.20.2</p>\n<p>But when I am configuring the endpoint by creating an instance of Plc4XEndpoint and then configuring the tags there, it works like:</p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n            map.put(&quot;value-1&quot;, &quot;holding-register:1&quot;);\n            \n            Plc4XEndpoint plc4xEndpoint = new Plc4XEndpoint(&quot;plc4x:modbus-tcp://localhost:502&quot;,\n                    getContext().getComponent(&quot;plc4x&quot;));\n            plc4xEndpoint.setTags(map);\n            from(plc4xEndpoint).log(&quot;value : ${body}&quot;);\n</code></pre>\n<p>But why it is not working if I configure the endpoint as just String?</p>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679761874,"post_id":75842360,"comment_id":133780419,"body_markdown":"The issue seems to be with your configuration. It&#39;s expecting the h2 database path but it&#39;s not finding it.","body":"The issue seems to be with your configuration. It&#39;s expecting the h2 database path but it&#39;s not finding it."},{"owner":{"account_id":28120468,"reputation":1,"user_id":21486791,"display_name":"InesBelhaj"},"score":0,"creation_date":1679778437,"post_id":75842360,"comment_id":133782765,"body_markdown":"I tried to resolve the issue by adding the path manually to the &quot;pom.xml&quot; file. However, it&#39;s not solved. Thus, I decided to build module by module. Now, I have the following error in the operator folder: &quot;Command execution failed.: Cannot run program &quot;C:\\Users\\inesb\\keycloak\\operator\\patch-sources.sh&quot; (in directory &quot;C:\\Users\\inesb\\keycloak\\operator&quot;): CreateProcess error=193, %1 is not a valid Win32 application -&gt; [Help 1]&quot; .  Knowing Keycloak can be installed on Windows, I don&#39;t know why I have this architecture mismatch.","body":"I tried to resolve the issue by adding the path manually to the &quot;pom.xml&quot; file. However, it&#39;s not solved. Thus, I decided to build module by module. Now, I have the following error in the operator folder: &quot;Command execution failed.: Cannot run program &quot;C:\\Users\\inesb\\keycloak\\operator\\patch-sources.sh&quot; (in directory &quot;C:\\Users\\inesb\\keycloak\\operator&quot;): CreateProcess error=193, %1 is not a valid Win32 application -&gt; [Help 1]&quot; .  Knowing Keycloak can be installed on Windows, I don&#39;t know why I have this architecture mismatch."},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679842578,"post_id":75842360,"comment_id":133789314,"body_markdown":"It&#39;s using the sh script. So will be built on a Linux machine or you have to install Cygwin or Linux subsystem. But it&#39;s not sure shell script uses which commands. So I would suggest to build on Linux.","body":"It&#39;s using the sh script. So will be built on a Linux machine or you have to install Cygwin or Linux subsystem. But it&#39;s not sure shell script uses which commands. So I would suggest to build on Linux."},{"owner":{"account_id":28120468,"reputation":1,"user_id":21486791,"display_name":"InesBelhaj"},"score":0,"creation_date":1679865601,"post_id":75842360,"comment_id":133793100,"body_markdown":"Is it possible to use Docker as another alternative ?","body":"Is it possible to use Docker as another alternative ?"}],"owner":{"account_id":28120468,"reputation":1,"user_id":21486791,"display_name":"InesBelhaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679785154,"creation_date":1679754646,"question_id":75842360,"body_markdown":"I want to build Keycloak from source code on my computer to perform some coding.\r\nI followed the steps described in the Readme file on the git repository one by one. \r\n     \r\n     - Java version : 17.0.2\r\n     - Maven version : 3.9.1\r\n     - Git is already installed \r\n\r\nHowever, when I proceed to run the command &quot;mvn clean install&quot; after cloning the project, I get the following error: \r\n\r\n    [ERROR] ConfigurationTest.testDatabaseDefaults:259 \r\n    expected:jdbc:h2:file:C:[\\Users\\inesb\\data\\]h2/keycloakdb;;AUTO_... but \r\n    was:jdbc:h2:file:C:[/Users/inesb/data/]h2/keycloakdb;;AUTO_... [ERROR] \r\n    ConfigurationTest.testDatabaseProperties:337 expected:jdbc:h2:file: \r\n    [C:\\Users\\inesb\\data\\h2/keycloakdb;;AUTO_SERVER=TRUE];NON_KEYWORDS=VALUE \r\n    but was:jdbc:h2:file:[test- \r\n    dir/data/h2/keycloakdb;;test=test;test1=test1];NON_KEYWORDS=VALUE\r\n\r\nI also tried the command `&quot;mvn clean install -Pdistribution -DskipTests&quot;`. \r\n\r\nBut, I still get a build failure due the same error. \r\n\r\nI believe this issue may be related to path inconsistencies in the test configuration. However, I couldn&#39;t find a solution to the problem. \r\n\r\nI tried to modify the `ConfigurationTest` Class by implementing the Path class to create a Path object to represent the file path.\r\n\r\nHowever, it did not solve the issue.","title":"How to build Keycloak source code on Windows System","body":"<p>I want to build Keycloak from source code on my computer to perform some coding.\nI followed the steps described in the Readme file on the git repository one by one.</p>\n<pre><code> - Java version : 17.0.2\n - Maven version : 3.9.1\n - Git is already installed \n</code></pre>\n<p>However, when I proceed to run the command &quot;mvn clean install&quot; after cloning the project, I get the following error:</p>\n<pre><code>[ERROR] ConfigurationTest.testDatabaseDefaults:259 \nexpected:jdbc:h2:file:C:[\\Users\\inesb\\data\\]h2/keycloakdb;;AUTO_... but \nwas:jdbc:h2:file:C:[/Users/inesb/data/]h2/keycloakdb;;AUTO_... [ERROR] \nConfigurationTest.testDatabaseProperties:337 expected:jdbc:h2:file: \n[C:\\Users\\inesb\\data\\h2/keycloakdb;;AUTO_SERVER=TRUE];NON_KEYWORDS=VALUE \nbut was:jdbc:h2:file:[test- \ndir/data/h2/keycloakdb;;test=test;test1=test1];NON_KEYWORDS=VALUE\n</code></pre>\n<p>I also tried the command <code>&quot;mvn clean install -Pdistribution -DskipTests&quot;</code>.</p>\n<p>But, I still get a build failure due the same error.</p>\n<p>I believe this issue may be related to path inconsistencies in the test configuration. However, I couldn't find a solution to the problem.</p>\n<p>I tried to modify the <code>ConfigurationTest</code> Class by implementing the Path class to create a Path object to represent the file path.</p>\n<p>However, it did not solve the issue.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1575546555,"post_id":41356279,"comment_id":104607317,"body_markdown":"FYI, `Date` &amp; `Calendar` are both legacy as of the adoption of JSR 310 years ago. Supplanted by the modern *java.time* classes. For early Android, see the *ThreeTen-Backport* library and the *ThreeTenABP* wrapper.","body":"FYI, <code>Date</code> &amp; <code>Calendar</code> are both legacy as of the adoption of JSR 310 years ago. Supplanted by the modern <i>java.time</i> classes. For early Android, see the <i>ThreeTen-Backport</i> library and the <i>ThreeTenABP</i> wrapper."}],"answers":[{"tags":[],"owner":{"account_id":8419435,"reputation":2416,"user_id":6318630,"accept_rate":17,"display_name":"dsncode"},"down_vote_count":0,"up_vote_count":170,"is_accepted":false,"score":170,"last_activity_date":1524636701,"creation_date":1482905292,"answer_id":41356309,"question_id":41356279,"body_markdown":"Because you need to create an instance first.\r\n\r\ntry this\r\n\r\n    Calendar.getInstance().get(Calendar.YEAR);\r\n\r\nand you are good to go.","title":"How to get current year in android?","body":"<p>Because you need to create an instance first.</p>\n\n<p>try this</p>\n\n<pre><code>Calendar.getInstance().get(Calendar.YEAR);\n</code></pre>\n\n<p>and you are good to go.</p>\n"},{"tags":[],"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482905320,"creation_date":1482905320,"answer_id":41356313,"question_id":41356279,"body_markdown":"you should use\r\n\r\n`Calendar.getInstance().get(Calendar.YEAR)`;","title":"How to get current year in android?","body":"<p>you should use</p>\n\n<p><code>Calendar.getInstance().get(Calendar.YEAR)</code>;</p>\n"},{"tags":[],"owner":{"account_id":4639590,"reputation":2255,"user_id":3759846,"display_name":"Wajid"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1641996553,"creation_date":1482905363,"answer_id":41356320,"question_id":41356279,"body_markdown":"Yeah, you get an error because this is not a static method. First you need to create an instance of the Calendar class.&lt;br&gt;\r\ni.e.\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    int year = calendar.get(Calendar.YEAR);\r\n\r\nIf your min API version is &lt;26, you can do a shorthand as well:\r\n\r\n    val yearInt = Year.now().value","title":"How to get current year in android?","body":"<p>Yeah, you get an error because this is not a static method. First you need to create an instance of the Calendar class.<br>\ni.e.</p>\n<pre><code>Calendar calendar = Calendar.getInstance();\nint year = calendar.get(Calendar.YEAR);\n</code></pre>\n<p>If your min API version is &lt;26, you can do a shorthand as well:</p>\n<pre><code>val yearInt = Year.now().value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7114621,"reputation":43,"user_id":5441374,"display_name":"Wrong Chao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482905872,"creation_date":1482905872,"answer_id":41356413,"question_id":41356279,"body_markdown":"    // get current year、month and day\r\n    Calendar calendar = Calendar.getInstance();\r\n    int year = calendar.get(Calendar.YEAR);\r\n    int month = calendar.get(Calendar.MONTH);\r\n    int day = calendar.get(Calendar.DATE);\r\n    \r\n    // get current year millis\r\n    Time time = new Time(Time.TIMEZONE_UTC);\r\n    calendar.set(year, 0, 0, 0, 0, 0);\r\n    long year = calendar.getTimeInMillis();\r\n    time.set(year);\r\n    year = time.toMillis(true);\r\n","title":"How to get current year in android?","body":"<pre><code>// get current year、month and day\nCalendar calendar = Calendar.getInstance();\nint year = calendar.get(Calendar.YEAR);\nint month = calendar.get(Calendar.MONTH);\nint day = calendar.get(Calendar.DATE);\n\n// get current year millis\nTime time = new Time(Time.TIMEZONE_UTC);\ncalendar.set(year, 0, 0, 0, 0, 0);\nlong year = calendar.getTimeInMillis();\ntime.set(year);\nyear = time.toMillis(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11610316,"reputation":45,"user_id":8504730,"display_name":"Mustafa Karim"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1507108889,"creation_date":1507106648,"answer_id":46560596,"question_id":41356279,"body_markdown":"you can use `Calendar.getInstance() .get(Calendar.YEAR )` also for **Kotlin** language purposes ","title":"How to get current year in android?","body":"<p>you can use <code>Calendar.getInstance() .get(Calendar.YEAR )</code> also for <strong>Kotlin</strong> language purposes </p>\n"},{"tags":[],"owner":{"account_id":2670434,"reputation":1804,"user_id":2307970,"accept_rate":29,"display_name":"Zidane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507106922,"creation_date":1507106922,"answer_id":46560679,"question_id":41356279,"body_markdown":"Have you tried the code below \r\n\r\nCalendar c = Calendar.getInstance();\r\n\r\n    int seconds = c.get(Calendar.SECOND);\r\n    int hour = c.get(Calendar.HOUR_OF_DAY); // IF YOU USE HOUR IT WILL GIVE 12 HOUR USE HOUR_OF_DAY TO GET 24 HOUR FORMAT\r\n    int minutes = c.get(Calendar.MINUTE);\r\n    int date = c.get(Calendar.DATE);\r\n    int month = c.get(Calendar.MONTH) + 1; // in java month starts from 0 not from 1 so for december 11+1 = 12\r\n    int year = c.get(Calendar.YEAR);","title":"How to get current year in android?","body":"<p>Have you tried the code below </p>\n\n<p>Calendar c = Calendar.getInstance();</p>\n\n<pre><code>int seconds = c.get(Calendar.SECOND);\nint hour = c.get(Calendar.HOUR_OF_DAY); // IF YOU USE HOUR IT WILL GIVE 12 HOUR USE HOUR_OF_DAY TO GET 24 HOUR FORMAT\nint minutes = c.get(Calendar.MINUTE);\nint date = c.get(Calendar.DATE);\nint month = c.get(Calendar.MONTH) + 1; // in java month starts from 0 not from 1 so for december 11+1 = 12\nint year = c.get(Calendar.YEAR);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1679784788,"creation_date":1507124935,"answer_id":46566610,"question_id":41356279,"body_markdown":"# tl;dr \r\n\r\n    Year.now()\r\n        .getValue()\r\n\r\n&gt;2023\r\n\r\n\r\n# java.time\r\n\r\nThe other Answers use the troublesome old date-time classes such as Calendar. These are supplanted by the java.time classes. For older versions of Android, see the ThreeTen-Backport and ThreeTenABP projects. \r\n\r\n## `Year` class\r\n\r\nRather than pass around mere integers to represent a year, pass around objects. Namely, the [`Year`](https://docs.oracle.com/javase/9/docs/api/java/time/Year.html) class.\r\n\r\nGetting the current year requires a time zone. For any given moment, the date varies around the globe by zone. So it is possible for `Pacific/Auckland` to be on 2018 while `America/Montreal` is in 2017 simultaneously. \r\n\r\nBetter to pass explicitly the desired/expected zone. If omitted, you implicitly get the JVM’s current default time zone. That default can change at any moment during runtime, so it is not reliable. \r\n\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\r\n    Year y = Year.now( z ) ;\r\n\r\nWhen you do need an integer, extract the value.\r\n\r\n    int yearNumber = y.getValue() ;\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n","title":"How to get current year in android?","body":"<h1>tl;dr</h1>\n<pre><code>Year.now()\n    .getValue()\n</code></pre>\n<blockquote>\n<p>2023</p>\n</blockquote>\n<h1>java.time</h1>\n<p>The other Answers use the troublesome old date-time classes such as Calendar. These are supplanted by the java.time classes. For older versions of Android, see the ThreeTen-Backport and ThreeTenABP projects.</p>\n<h2><code>Year</code> class</h2>\n<p>Rather than pass around mere integers to represent a year, pass around objects. Namely, the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>Year</code></a> class.</p>\n<p>Getting the current year requires a time zone. For any given moment, the date varies around the globe by zone. So it is possible for <code>Pacific/Auckland</code> to be on 2018 while <code>America/Montreal</code> is in 2017 simultaneously.</p>\n<p>Better to pass explicitly the desired/expected zone. If omitted, you implicitly get the JVM’s current default time zone. That default can change at any moment during runtime, so it is not reliable.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\nYear y = Year.now( z ) ;\n</code></pre>\n<p>When you do need an integer, extract the value.</p>\n<pre><code>int yearNumber = y.getValue() ;\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1634981,"reputation":7135,"user_id":1508724,"accept_rate":68,"display_name":"T D Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658801136,"creation_date":1658801136,"answer_id":73117031,"question_id":41356279,"body_markdown":"WIth Kotlin\r\n\r\n    LocalDateTime.now().year","title":"How to get current year in android?","body":"<p>WIth Kotlin</p>\n<pre><code>LocalDateTime.now().year\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8727017,"reputation":171,"user_id":6528374,"display_name":"Swapnil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673520614,"creation_date":1673420344,"answer_id":75079320,"question_id":41356279,"body_markdown":"in kotlin you can get  \r\n\r\n    val calendar: Calendar = Calendar.getInstance()\r\n    val currentYear = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n           LocalDate.now().year\r\n     } else {\r\n          calendar[Calendar.YEAR]\r\n     }\r\n\r\n","title":"How to get current year in android?","body":"<p>in kotlin you can get</p>\n<pre><code>val calendar: Calendar = Calendar.getInstance()\nval currentYear = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n       LocalDate.now().year\n } else {\n      calendar[Calendar.YEAR]\n }\n</code></pre>\n"}],"owner":{"account_id":8516814,"reputation":3204,"user_id":6390459,"accept_rate":75,"display_name":"Shunan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80470,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":41356320,"answer_count":9,"score":58,"last_activity_date":1679784788,"creation_date":1482905145,"question_id":41356279,"body_markdown":"I tried\r\n\r\n    int year = Calendar.get(Calendar.YEAR);\r\n\r\nbut it is giving me compile time error that \r\n\r\n&gt; Non-static method &#39;get(int)&#39; cannot be referenced from a static context.\r\n\r\nI am calling this method from call method of observable.\r\n\r\n \r\n\r\n    Observable.combineLatest(ob1 ob2,\r\n                    ob3, new Func3&lt;String, String, String, Boolean&gt;() {\r\n                        @Override\r\n                        public Boolean call(String a, String b, String c) {...\r\n\r\nI had also seen `(new Date()).getYear();` but it is deprecated.\r\n","title":"How to get current year in android?","body":"<p>I tried</p>\n\n<pre><code>int year = Calendar.get(Calendar.YEAR);\n</code></pre>\n\n<p>but it is giving me compile time error that </p>\n\n<blockquote>\n  <p>Non-static method 'get(int)' cannot be referenced from a static context.</p>\n</blockquote>\n\n<p>I am calling this method from call method of observable.</p>\n\n<pre><code>Observable.combineLatest(ob1 ob2,\n                ob3, new Func3&lt;String, String, String, Boolean&gt;() {\n                    @Override\n                    public Boolean call(String a, String b, String c) {...\n</code></pre>\n\n<p>I had also seen <code>(new Date()).getYear();</code> but it is deprecated.</p>\n"},{"tags":["java","android","flutter","android-studio"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1631476420,"creation_date":1631474567,"answer_id":69154555,"question_id":69110608,"body_markdown":"In the screen you&#39;ve shown, just use &quot;Android Studio default JDK&quot; (or any other JDK 11).\r\n\r\n    Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK.\r\n\r\nYou&#39;d also need to setup the same path as `JAVA_HOME` environmental variable, as well as `ANDROID_HOME`. In Windows, these can be added below `Settings` &gt; `Advanced System Settings` &gt; `Environmental Variables`. Flutter needs these set up to find the CLI tools ...\r\nand the problem might not be the [CLI tools][1] themselves, but that it doesn&#39;t know about the Java SDK or Android SDK at all.\r\n\r\n  [1]: https://developer.android.com/studio#command-tools","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>In the screen you've shown, just use &quot;Android Studio default JDK&quot; (or any other JDK 11).</p>\n<pre><code>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK.\n</code></pre>\n<p>You'd also need to setup the same path as <code>JAVA_HOME</code> environmental variable, as well as <code>ANDROID_HOME</code>. In Windows, these can be added below <code>Settings</code> &gt; <code>Advanced System Settings</code> &gt; <code>Environmental Variables</code>. Flutter needs these set up to find the CLI tools ...\nand the problem might not be the <a href=\"https://developer.android.com/studio#command-tools\" rel=\"nofollow noreferrer\">CLI tools</a> themselves, but that it doesn't know about the Java SDK or Android SDK at all.</p>\n"},{"tags":[],"owner":{"account_id":19145701,"reputation":1582,"user_id":13984728,"display_name":"Mithson"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1672631542,"creation_date":1631542638,"answer_id":69164282,"question_id":69110608,"body_markdown":"You can follow the below steps in order to ensure proper working of your flutter project:\r\n\r\nYour sdk manager should look something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**1. Installing Android SDK Command-line Tools in Android Studio:**\r\n\r\n`Preferences` &gt; `Appearance &amp; Behavior` &gt; `System Settings` &gt; `Android SDK` &gt; `SDK Tools` &gt; \r\n\r\n**Install these 3 tools:**\r\n- Android SDK Command-line Tools (latest)\r\n- Android SDK Build Tools 31\r\n- Android SDK Platform tools (latest version 31)\r\n\r\nMake sure every tool is the same latest version in order to avoid any errors as there might be new updates later on.\r\n\r\n\r\n2. Also make sure to **Accept Android Licences** by running below command in your cmd:\r\n\r\n```\r\nflutter doctor --android-licenses\r\n```\r\n\r\nIf anything above didn&#39;t work out make sure you have set the proper JDK/JRE locations in environment variables in system settings of windows: \r\n\r\nAdd below path in your System environment path variable for **user variable** as well as your **system variable**:\r\n\r\n\r\n     C:\\Program Files\\Java\\jdkXXXXX\\bin \r\n\r\nHere, XXX is your version, and this should be added in your sys var and user both\r\n\r\n    C:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\tools\r\n    C:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\build-tools\r\n    C:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n\r\nThe above three paths should be added in your user variable path. Check the two screenshots attached below for proper path settings.\r\nI have added android studio&#39;s tools path also so do that as I have done in screenshot.\r\n\r\nThis one is for user variable path:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis one is for system variable path:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nFollow [source][4] to learn more about setting the path for java.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/De17f.png\r\n  [2]: https://i.stack.imgur.com/VzUiT.png\r\n  [3]: https://i.stack.imgur.com/uAtm0.png\r\n  [4]: https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/index.html\r\n","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>You can follow the below steps in order to ensure proper working of your flutter project:</p>\n<p>Your sdk manager should look something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/De17f.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/De17f.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>1. Installing Android SDK Command-line Tools in Android Studio:</strong></p>\n<p><code>Preferences</code> &gt; <code>Appearance &amp; Behavior</code> &gt; <code>System Settings</code> &gt; <code>Android SDK</code> &gt; <code>SDK Tools</code> &gt;</p>\n<p><strong>Install these 3 tools:</strong></p>\n<ul>\n<li>Android SDK Command-line Tools (latest)</li>\n<li>Android SDK Build Tools 31</li>\n<li>Android SDK Platform tools (latest version 31)</li>\n</ul>\n<p>Make sure every tool is the same latest version in order to avoid any errors as there might be new updates later on.</p>\n<ol start=\"2\">\n<li>Also make sure to <strong>Accept Android Licences</strong> by running below command in your cmd:</li>\n</ol>\n<pre><code>flutter doctor --android-licenses\n</code></pre>\n<p>If anything above didn't work out make sure you have set the proper JDK/JRE locations in environment variables in system settings of windows:</p>\n<p>Add below path in your System environment path variable for <strong>user variable</strong> as well as your <strong>system variable</strong>:</p>\n<pre><code> C:\\Program Files\\Java\\jdkXXXXX\\bin \n</code></pre>\n<p>Here, XXX is your version, and this should be added in your sys var and user both</p>\n<pre><code>C:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\tools\nC:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\build-tools\nC:\\Users\\Neha\\AppData\\Local\\Android\\Sdk\\platform-tools\n</code></pre>\n<p>The above three paths should be added in your user variable path. Check the two screenshots attached below for proper path settings.\nI have added android studio's tools path also so do that as I have done in screenshot.</p>\n<p>This one is for user variable path:</p>\n<p><a href=\"https://i.stack.imgur.com/VzUiT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VzUiT.png\" alt=\"enter image description here\" /></a></p>\n<p>This one is for system variable path:</p>\n<p><a href=\"https://i.stack.imgur.com/uAtm0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uAtm0.png\" alt=\"enter image description here\" /></a></p>\n<p>Follow <a href=\"https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/index.html\" rel=\"noreferrer\">source</a> to learn more about setting the path for java.</p>\n"},{"tags":[],"owner":{"account_id":21664684,"reputation":11,"user_id":15983281,"display_name":"Vicky"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643395348,"creation_date":1643395348,"answer_id":70898743,"question_id":69110608,"body_markdown":"If you are installing Flutter without Android Studio.\r\nRun this command in your Android/bin folder directory where you have your sdkmanager.bat file.\r\nIn my case its `C:\\Android\\bin&gt;`.\r\ntype this command\r\n\r\n    sdkmanager.bat --install &quot;cmdline-tools;latest --sdk_root=../\r\n\r\nThis worked for me and I hope it will work for you too.","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>If you are installing Flutter without Android Studio.\nRun this command in your Android/bin folder directory where you have your sdkmanager.bat file.\nIn my case its <code>C:\\Android\\bin&gt;</code>.\ntype this command</p>\n<pre><code>sdkmanager.bat --install &quot;cmdline-tools;latest --sdk_root=../\n</code></pre>\n<p>This worked for me and I hope it will work for you too.</p>\n"},{"tags":[],"owner":{"account_id":24318247,"reputation":11,"user_id":18259087,"display_name":"Sherin S"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645353096,"creation_date":1645353096,"answer_id":71193515,"question_id":69110608,"body_markdown":"If you have installed Flutter without Android Studio. Run this command in your Android/bin folder directory where you have your sdkmanager.bat file. In my case its C:\\Android\\bin&gt;\r\n```\r\nsdkmanager.bat &quot;cmdline-tools;latest&quot; --sdk_root=../\r\n```","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>If you have installed Flutter without Android Studio. Run this command in your Android/bin folder directory where you have your sdkmanager.bat file. In my case its C:\\Android\\bin&gt;</p>\n<pre><code>sdkmanager.bat &quot;cmdline-tools;latest&quot; --sdk_root=../\n</code></pre>\n"}],"owner":{"account_id":17072221,"reputation":533,"user_id":12352707,"display_name":"Jhon Piper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43735,"favorite_count":0,"down_vote_count":2,"up_vote_count":35,"accepted_answer_id":69164282,"answer_count":4,"score":33,"last_activity_date":1679784627,"creation_date":1631143131,"question_id":69110608,"body_markdown":"I have tried the answers at [here][1] &amp; [here][2] to no avail.\r\n\r\nAfter installing Android Studio &amp; Flutter on Windows 10, when I run `flutter doctor`, I get the following:\r\n\r\n    [√] Flutter (Channel stable, 2.5.0, on Microsoft Windows [Version 10.0.19043.1202], locale en-US)\r\n    [X] Android toolchain - develop for Android devices\r\n        X cmdline-tools component is missing\r\n          Run `path/to/sdkmanager --install &quot;cmdline-tools;latest&quot;`\r\n          See https://developer.android.com/studio/command-line for more details.\r\n    [√] Chrome - develop for the web\r\n    [√] Android Studio (version 2020.3)\r\n    [√] VS Code (version 1.60.0)\r\n    [√] Connected device (2 available)\r\n\r\nOpening `Android Studio &gt; SDK Manager &gt; Android SDK &gt; SDK Tools` uninstalling and re-installing `Android SDK Command-line Tools (latest)` has no effect.\r\n\r\nI have also added `&lt;pathToSDK&gt;\\tools\\bin`, `&lt;pathToSDK&gt;\\platform-tools\\`, and `&lt;pathToSDK&gt;\\cmdline-tools\\latest\\bin` to the user PATH environment variables.\r\n\r\nFollowing the flutter instructions and running `&lt;pathToSDKManager&gt; --install &quot;cmdline-tools;latest&quot;` (Which for me is located in `&lt;pathToSDK&gt;\\cmdline-tools\\latest\\bin`) results with:\r\n\r\n    ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH.\r\n    \r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n\r\nI haven&#39;t been able to find any documentation on this other than that I need to install some  version on Java and add it to my path. The https://flutter.dev/docs/get-started/install/windows page mentions &quot;Make sure that you have a version of Java 8 installed and that your JAVA_HOME environment variable is set to the JDK’s folder.&quot; and then states &quot;Android Studio versions 2.2 and higher come with a JDK, so this should already be done.&quot; but doesn&#39;t elaborate further.\r\n\r\nOpening Android Studio and going to `File &gt; Project Structure &gt; Project &gt; Project SDK` I can see that Android Studio already recognized several versions of Java installed:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68236007/i-am-getting-this-errors-cmdline-tools-component-is-missing-after-installing-f\r\n  [2]: https://stackoverflow.com/questions/68416723/i-am-getting-this-errors-cmdline-tools-component-is-missing-i-have-installed-f\r\n  [3]: https://i.stack.imgur.com/8gktF.png","title":"Flutter doctor results with &quot;cmdline-tools component is missing&quot;","body":"<p>I have tried the answers at <a href=\"https://stackoverflow.com/questions/68236007/i-am-getting-this-errors-cmdline-tools-component-is-missing-after-installing-f\">here</a> &amp; <a href=\"https://stackoverflow.com/questions/68416723/i-am-getting-this-errors-cmdline-tools-component-is-missing-i-have-installed-f\">here</a> to no avail.</p>\n<p>After installing Android Studio &amp; Flutter on Windows 10, when I run <code>flutter doctor</code>, I get the following:</p>\n<pre><code>[√] Flutter (Channel stable, 2.5.0, on Microsoft Windows [Version 10.0.19043.1202], locale en-US)\n[X] Android toolchain - develop for Android devices\n    X cmdline-tools component is missing\n      Run `path/to/sdkmanager --install &quot;cmdline-tools;latest&quot;`\n      See https://developer.android.com/studio/command-line for more details.\n[√] Chrome - develop for the web\n[√] Android Studio (version 2020.3)\n[√] VS Code (version 1.60.0)\n[√] Connected device (2 available)\n</code></pre>\n<p>Opening <code>Android Studio &gt; SDK Manager &gt; Android SDK &gt; SDK Tools</code> uninstalling and re-installing <code>Android SDK Command-line Tools (latest)</code> has no effect.</p>\n<p>I have also added <code>&lt;pathToSDK&gt;\\tools\\bin</code>, <code>&lt;pathToSDK&gt;\\platform-tools\\</code>, and <code>&lt;pathToSDK&gt;\\cmdline-tools\\latest\\bin</code> to the user PATH environment variables.</p>\n<p>Following the flutter instructions and running <code>&lt;pathToSDKManager&gt; --install &quot;cmdline-tools;latest&quot;</code> (Which for me is located in <code>&lt;pathToSDK&gt;\\cmdline-tools\\latest\\bin</code>) results with:</p>\n<pre><code>ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n<p>I haven't been able to find any documentation on this other than that I need to install some  version on Java and add it to my path. The <a href=\"https://flutter.dev/docs/get-started/install/windows\" rel=\"noreferrer\">https://flutter.dev/docs/get-started/install/windows</a> page mentions &quot;Make sure that you have a version of Java 8 installed and that your JAVA_HOME environment variable is set to the JDK’s folder.&quot; and then states &quot;Android Studio versions 2.2 and higher come with a JDK, so this should already be done.&quot; but doesn't elaborate further.</p>\n<p>Opening Android Studio and going to <code>File &gt; Project Structure &gt; Project &gt; Project SDK</code> I can see that Android Studio already recognized several versions of Java installed:</p>\n<p><a href=\"https://i.stack.imgur.com/8gktF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8gktF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","graph-databases","janusgraph"],"comments":[{"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"score":0,"creation_date":1679858103,"post_id":75844887,"comment_id":133791970,"body_markdown":"For inspiration, see: https://www.datastax.com/blog/gremlins-time-machine","body":"For inspiration, see: <a href=\"https://www.datastax.com/blog/gremlins-time-machine\" rel=\"nofollow noreferrer\">datastax.com/blog/gremlins-time-machine</a>"},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":2,"creation_date":1680352872,"post_id":75844887,"comment_id":133886027,"body_markdown":"Is the concern more over running out of storage or the cost of storage? A key thing to consider is query efficiency. You only have 3 basic building blocks to work with.  Nodes, Edges, and Properties. Using nodes and edges to represent the version chain might use more storage, but might also allow simple query writing and efficient query execution.","body":"Is the concern more over running out of storage or the cost of storage? A key thing to consider is query efficiency. You only have 3 basic building blocks to work with.  Nodes, Edges, and Properties. Using nodes and edges to represent the version chain might use more storage, but might also allow simple query writing and efficient query execution."},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1680353209,"post_id":75844887,"comment_id":133886073,"body_markdown":"What information will you need to retrieve that is unique to each version?","body":"What information will you need to retrieve that is unique to each version?"},{"owner":{"account_id":7259207,"reputation":92,"user_id":5536648,"display_name":"A R K"},"score":0,"creation_date":1680371853,"post_id":75844887,"comment_id":133888805,"body_markdown":"Thanks Kelvin, the concern is related to the overall storage costs as their are millions of records already without using the version and facing latency issues in multiple hop queries, as one record could be updated multiple times may be more than 1000 and one record is related to more than 10000 related records in the  Graph, so just thinking to avoid storage cost, I require to retrieve the relationship based on version, so if record 1 version 1 is related to record to version 1 and record 1 version 2 is related to record 2 version 2, so I require to return versioned graph  for record r1:v1","body":"Thanks Kelvin, the concern is related to the overall storage costs as their are millions of records already without using the version and facing latency issues in multiple hop queries, as one record could be updated multiple times may be more than 1000 and one record is related to more than 10000 related records in the  Graph, so just thinking to avoid storage cost, I require to retrieve the relationship based on version, so if record 1 version 1 is related to record to version 1 and record 1 version 2 is related to record 2 version 2, so I require to return versioned graph  for record r1:v1"}],"owner":{"account_id":7259207,"reputation":92,"user_id":5536648,"display_name":"A R K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679783858,"creation_date":1679783482,"question_id":75844887,"body_markdown":"Suppose there are multiple versions of a record A say v1, v2,v3 and vn, and A is related to B till version v2 and A is related to C from version v3\r\n\r\nSuppose A represent the record Id and vi represent the version where i &lt;= n\r\n\r\nSo the Graph Relationship could look like Av1 -&gt; Bv1 (Reads as A version v1 is related to B version v1)\r\nSimilarly Av2 -&gt; Bv2, Av3 -&gt; Cv1 and so on.\r\n\r\nSo what could be the best way to store these kind of versioned relationship in Graph database like Janusgraph?\r\n\r\nStoring separate vertex for each version will cause storage size to be increased, is there any good approach where storage size can be kept minimal and still we are able to query &quot;give me all related records for record A with version 1&quot; ?\r\n\r\nI am trying to create vertex for each version of a record in Graph database but this is causing the Graph database size to increased exponentially as there are multiple updates coming for the same record and with new version we need to create new vertices and edges to maintain the relationships","title":"Best way to store multiple versions of a record in Graph Database say JanusGraph","body":"<p>Suppose there are multiple versions of a record A say v1, v2,v3 and vn, and A is related to B till version v2 and A is related to C from version v3</p>\n<p>Suppose A represent the record Id and vi represent the version where i &lt;= n</p>\n<p>So the Graph Relationship could look like Av1 -&gt; Bv1 (Reads as A version v1 is related to B version v1)\nSimilarly Av2 -&gt; Bv2, Av3 -&gt; Cv1 and so on.</p>\n<p>So what could be the best way to store these kind of versioned relationship in Graph database like Janusgraph?</p>\n<p>Storing separate vertex for each version will cause storage size to be increased, is there any good approach where storage size can be kept minimal and still we are able to query &quot;give me all related records for record A with version 1&quot; ?</p>\n<p>I am trying to create vertex for each version of a record in Graph database but this is causing the Graph database size to increased exponentially as there are multiple updates coming for the same record and with new version we need to create new vertices and edges to maintain the relationships</p>\n"},{"tags":["java","spring-boot","jackson-databind"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1679734117,"post_id":75838411,"comment_id":133776674,"body_markdown":"As you noticed jackson deals with json payloads. [FormHttpMessageConverter](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html) handles `x-www-form-urlencoded`. I&#39;m not sure if this will work, but you can try extending it to create a class to meet your needs.","body":"As you noticed jackson deals with json payloads. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html\" rel=\"nofollow noreferrer\">FormHttpMessageConverter</a> handles <code>x-www-form-urlencoded</code>. I&#39;m not sure if this will work, but you can try extending it to create a class to meet your needs."}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679782393,"creation_date":1679782393,"answer_id":75844823,"question_id":75838411,"body_markdown":"You can use the [`RequestParam`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html) annotation that combines query parameters and form data into a single map called &quot;parameters&quot;, and that includes automatic parsing of the request body like below:\r\n\r\n~~~\r\npublic ResponseEntity&lt;Void&gt; test(@RequestParam Map&lt;String, String&gt; parameters) {}\r\n~~~\r\n\r\nThen you can use an [`ObjectMapper`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html) instance to convert your `Map&lt;String, String&gt;` parameters to a subclass of your `AbstractClazz` depending from the value of the *discriminator* key obtaining the expected result:\r\n\r\n~~~\r\n@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\npublic ResponseEntity&lt;Void&gt; test(@RequestParam Map&lt;String, String&gt; parameters) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    AbstractClazz clazz = mapper.convertValue(parameters, AbstractClazz.class); \r\n    return ResponseEntity.ok().build();\r\n}\r\n~~~\r\n","title":"Use abstract class with x-www-form-urlencoded content-type","body":"<p>You can use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\"><code>RequestParam</code></a> annotation that combines query parameters and form data into a single map called &quot;parameters&quot;, and that includes automatic parsing of the request body like below:</p>\n<pre><code>public ResponseEntity&lt;Void&gt; test(@RequestParam Map&lt;String, String&gt; parameters) {}\n</code></pre>\n<p>Then you can use an <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\"><code>ObjectMapper</code></a> instance to convert your <code>Map&lt;String, String&gt;</code> parameters to a subclass of your <code>AbstractClazz</code> depending from the value of the <em>discriminator</em> key obtaining the expected result:</p>\n<pre><code>@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\npublic ResponseEntity&lt;Void&gt; test(@RequestParam Map&lt;String, String&gt; parameters) {\n    ObjectMapper mapper = new ObjectMapper();\n    AbstractClazz clazz = mapper.convertValue(parameters, AbstractClazz.class); \n    return ResponseEntity.ok().build();\n}\n</code></pre>\n"}],"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75844823,"answer_count":1,"score":1,"last_activity_date":1679782393,"creation_date":1679695305,"question_id":75838411,"body_markdown":"I have an abstract class\r\n```java\r\npublic abstract class AbstractClazz {\r\n\r\n    private String discriminator;\r\n\r\n    // getter, setter\r\n}\r\n```\r\n\r\nand I have multiple implementations of this class, one of them could look like this\r\n```java\r\npublic class ConcreteClazz {\r\n\r\n    private String value;\r\n\r\n    // getter, setter\r\n}\r\n```\r\n\r\nalso I have an endpoint that consumes x-www-form-urlencoded content type only.\r\n```java\r\n@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\npublic ResponseEntity&lt;Void&gt; test(AbstractClazz abstractClazz) {\r\n    System.out.println(abstractClazz);\r\n    return ResponseEntity.ok().build();\r\n}\r\n```\r\n\r\nWhat I want to achieve is to deserialize to a concrete class based on the discriminator parameter in AbstractClazz. I&#39;ve tried using jackson @JsonSybTypes and @JsonTypeInfo annotations on the abstract class but it only works if the payload comes as json in request body and not as x-www-form-urlencoded content.\r\n\r\n```java\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;discriminator&quot;)\r\n@JsonSubTypes(@JsonSubTypes.Type(value = ConcreteClazz.class, name = &quot;concrete&quot;))\r\npublic abstract class AbstractClazz {\r\n\r\n    private String discriminator;\r\n\r\n    // getter, setter\r\n}\r\n```\r\nIs there a way how to achieve the same behavior with x-www-form-urlencoded content type?  \r\nThe error I get is \r\n```\r\nRequest processing failed: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.AbstractClazz]: Is it an abstract class?] with root cause\r\n\r\njava.lang.InstantiationException: null\r\n```","title":"Use abstract class with x-www-form-urlencoded content-type","body":"<p>I have an abstract class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractClazz {\n\n    private String discriminator;\n\n    // getter, setter\n}\n</code></pre>\n<p>and I have multiple implementations of this class, one of them could look like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConcreteClazz {\n\n    private String value;\n\n    // getter, setter\n}\n</code></pre>\n<p>also I have an endpoint that consumes x-www-form-urlencoded content type only.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\npublic ResponseEntity&lt;Void&gt; test(AbstractClazz abstractClazz) {\n    System.out.println(abstractClazz);\n    return ResponseEntity.ok().build();\n}\n</code></pre>\n<p>What I want to achieve is to deserialize to a concrete class based on the discriminator parameter in AbstractClazz. I've tried using jackson @JsonSybTypes and @JsonTypeInfo annotations on the abstract class but it only works if the payload comes as json in request body and not as x-www-form-urlencoded content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;discriminator&quot;)\n@JsonSubTypes(@JsonSubTypes.Type(value = ConcreteClazz.class, name = &quot;concrete&quot;))\npublic abstract class AbstractClazz {\n\n    private String discriminator;\n\n    // getter, setter\n}\n</code></pre>\n<p>Is there a way how to achieve the same behavior with x-www-form-urlencoded content type?<br />\nThe error I get is</p>\n<pre><code>Request processing failed: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.AbstractClazz]: Is it an abstract class?] with root cause\n\njava.lang.InstantiationException: null\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":86421,"reputation":1450,"user_id":240342,"accept_rate":71,"display_name":"Steve Huston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676052588,"creation_date":1676052588,"answer_id":75414694,"question_id":75385663,"body_markdown":"I have not tried this, but I&#39;m guessing Camel wants a bean annotated as a typeconverter to use for the .convertBodyTo directive.\r\n\r\nSince the actual converter is a generated class I&#39;m not sure how you would do that... maybe there&#39;s a way to define it in an XML file Camel reads.","title":"Apache Camel Mapstruct integration","body":"<p>I have not tried this, but I'm guessing Camel wants a bean annotated as a typeconverter to use for the .convertBodyTo directive.</p>\n<p>Since the actual converter is a generated class I'm not sure how you would do that... maybe there's a way to define it in an XML file Camel reads.</p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679781721,"creation_date":1679781721,"answer_id":75844775,"question_id":75385663,"body_markdown":"There was a recent bug in camel-mapstruct-starter for SB that it did not auto-configure itself correctly, when you did not use mapstruct as a component in the routes.\r\n\r\nThis will be fixed in upcoming Camel releases:\r\nhttps://issues.apache.org/jira/browse/CAMEL-19181","title":"Apache Camel Mapstruct integration","body":"<p>There was a recent bug in camel-mapstruct-starter for SB that it did not auto-configure itself correctly, when you did not use mapstruct as a component in the routes.</p>\n<p>This will be fixed in upcoming Camel releases:\n<a href=\"https://issues.apache.org/jira/browse/CAMEL-19181\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CAMEL-19181</a></p>\n"}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75844775,"answer_count":2,"score":0,"last_activity_date":1679781721,"creation_date":1675858571,"question_id":75385663,"body_markdown":"In my Springboot Camel microservice I integrate camel mapstruct with this dependency:\r\n\r\n    &lt;camel.version&gt;3.20.1&lt;/camel.version&gt;\r\n    &lt;mapstruct.version&gt;1.5.3.Final&lt;/mapstruct.version&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-mapstruct-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;${camel.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI also have a mapper like this:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface CamelTestMapper {\r\n    \r\n        @BeanMapping(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\r\n        CamelTestDto mapCamelTestEntity(CamelTestEntity camelTestEntity);\r\n    \r\n    }\r\n\r\nand a route like this:\r\n\r\n    from(&quot;direct:get-by-id&quot;)\r\n                    .routeId(&quot;db-get-by-id-route&quot;)\r\n                    .transacted()\r\n                    .process(camelTestSampleDatabaseProcessor)\r\n                    .log(LoggingLevel.INFO, &quot;Retrieved entity from db with name: ${body.name}&quot;)\r\n                    .to(&quot;mapstruct:org.example.model.dto.CamelTestDto&quot;)\r\n                    .log(LoggingLevel.INFO, &quot;Mapped new Dto: ${body}&quot;);\r\n\r\nI can&#39;t understand why in this way it works, and when I use\r\n\r\n    .convertBodyTo(CamelTestDto.class)\r\n\r\nit throw this exception:\r\n\r\n    org.apache.camel.InvalidPayloadException: No body available of type: org.example.model.dto.CamelTestDto but has type: org.example.model.entity.CamelTestEntity on: Message[4939598FD4DFE7C-0000000000000103]. \r\n        Caused by: No type converter available to convert from type: org.example.model.entity.CamelTestEntity to the required type: org.example.model.dto.CamelTestDto. Exchange[4939598FD4DFE7C-0000000000000103]. \r\n        Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: org.example.model.entity.CamelTestEntity to the required type: org.example.model.dto.CamelTestDto]\r\n\r\nObviously I already set the application .yml in this way:\r\n\r\n    camel:\r\n      component:\r\n        mapstruct:\r\n          mapper-package-name: org.example.mapper\r\n\r\n\r\nDoes anyone know how to solve it? Can you give to me some examples of how to use this integrations? Also with conversion with List please.","title":"Apache Camel Mapstruct integration","body":"<p>In my Springboot Camel microservice I integrate camel mapstruct with this dependency:</p>\n<pre><code>&lt;camel.version&gt;3.20.1&lt;/camel.version&gt;\n&lt;mapstruct.version&gt;1.5.3.Final&lt;/mapstruct.version&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-mapstruct-starter&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n    &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I also have a mapper like this:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface CamelTestMapper {\n\n    @BeanMapping(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\n    CamelTestDto mapCamelTestEntity(CamelTestEntity camelTestEntity);\n\n}\n</code></pre>\n<p>and a route like this:</p>\n<pre><code>from(&quot;direct:get-by-id&quot;)\n                .routeId(&quot;db-get-by-id-route&quot;)\n                .transacted()\n                .process(camelTestSampleDatabaseProcessor)\n                .log(LoggingLevel.INFO, &quot;Retrieved entity from db with name: ${body.name}&quot;)\n                .to(&quot;mapstruct:org.example.model.dto.CamelTestDto&quot;)\n                .log(LoggingLevel.INFO, &quot;Mapped new Dto: ${body}&quot;);\n</code></pre>\n<p>I can't understand why in this way it works, and when I use</p>\n<pre><code>.convertBodyTo(CamelTestDto.class)\n</code></pre>\n<p>it throw this exception:</p>\n<pre><code>org.apache.camel.InvalidPayloadException: No body available of type: org.example.model.dto.CamelTestDto but has type: org.example.model.entity.CamelTestEntity on: Message[4939598FD4DFE7C-0000000000000103]. \n    Caused by: No type converter available to convert from type: org.example.model.entity.CamelTestEntity to the required type: org.example.model.dto.CamelTestDto. Exchange[4939598FD4DFE7C-0000000000000103]. \n    Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: org.example.model.entity.CamelTestEntity to the required type: org.example.model.dto.CamelTestDto]\n</code></pre>\n<p>Obviously I already set the application .yml in this way:</p>\n<pre><code>camel:\n  component:\n    mapstruct:\n      mapper-package-name: org.example.mapper\n</code></pre>\n<p>Does anyone know how to solve it? Can you give to me some examples of how to use this integrations? Also with conversion with List please.</p>\n"},{"tags":["javascript","java","spring","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":14697300,"reputation":519,"user_id":10614344,"display_name":"Kerem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679781563,"creation_date":1679666949,"answer_id":75834686,"question_id":75833159,"body_markdown":"I personally recommend sending an event to the server with the `id` of the sending client or some specific information about sender. The server should have a mapping for the websocket connections to each client/user. I would iterate through this mapping and send an specific event to each client except the sending one (the id mustn&#39;t match). Whenever a client receives this specific event then it reloads the page.\r\n\r\nBut, first of all, think about it. Do you really need to reload the entire page? Sounds like you want to reload the page, because things have changed. Instead of reloading the page you could just tell the client what have changed, so that the event_listener updates only part of the dom. \r\n\r\nAlso I would recommend you to read about server sent events. They are way cheaper than websockets. ","title":"Spring Boot Websockets: Is there a way to make Other Users reload page","body":"<p>I personally recommend sending an event to the server with the <code>id</code> of the sending client or some specific information about sender. The server should have a mapping for the websocket connections to each client/user. I would iterate through this mapping and send an specific event to each client except the sending one (the id mustn't match). Whenever a client receives this specific event then it reloads the page.</p>\n<p>But, first of all, think about it. Do you really need to reload the entire page? Sounds like you want to reload the page, because things have changed. Instead of reloading the page you could just tell the client what have changed, so that the event_listener updates only part of the dom.</p>\n<p>Also I would recommend you to read about server sent events. They are way cheaper than websockets.</p>\n"}],"owner":{"account_id":15189062,"reputation":1,"user_id":10960164,"display_name":"DomePB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679781563,"creation_date":1679657797,"question_id":75833159,"body_markdown":"When something from a client is sent through the websocket I want the other clients to refresh the page but not the sender.\r\n~~~javascript\r\nwindow.addEventListener(&quot;load&quot;, (e) =&gt; {\r\n  const socket = new SockJS(&quot;/stomp-endpoint&quot;);\r\n  const stompClient = Stomp.over(socket);\r\n  stompClient.connect({}, (frame) =&gt; {\r\n    stompClient.subscribe(&quot;/topic/greetings&quot;, (greeting) =&gt; {\r\n      console.log(&quot;UPDATE&quot; + greeting.body);\r\n      window.location = &quot;/&quot;; //location.reload();\r\n    });\r\n    Array.from(document.getElementsByClassName(&quot;move&quot;)).forEach((element) =&gt;\r\n      element.addEventListener(&quot;click&quot;, (e) =&gt; {\r\n        console.log(&quot;move&quot;);\r\n        stompClient.send(&quot;/app/hello&quot;, {}, JSON.stringify({ name: &quot;Tammie&quot; }));\r\n      })\r\n    );\r\n  });\r\n});\r\n~~~\r\nThis is my javascript code but this way every client that subscribes to the websocket reloads his page which is a problem because other methods won&#39;t be resolved on the sender site.\r\n\r\nI tried to give a User an id and it kinda worked to only reload Client that have a different id but I&#39;m not quite sure how to set different id in My Controller without it changing everytime the page refreshes.","title":"Spring Boot Websockets: Is there a way to make Other Users reload page","body":"<p>When something from a client is sent through the websocket I want the other clients to refresh the page but not the sender.</p>\n<pre class=\"lang-js prettyprint-override\"><code>window.addEventListener(&quot;load&quot;, (e) =&gt; {\n  const socket = new SockJS(&quot;/stomp-endpoint&quot;);\n  const stompClient = Stomp.over(socket);\n  stompClient.connect({}, (frame) =&gt; {\n    stompClient.subscribe(&quot;/topic/greetings&quot;, (greeting) =&gt; {\n      console.log(&quot;UPDATE&quot; + greeting.body);\n      window.location = &quot;/&quot;; //location.reload();\n    });\n    Array.from(document.getElementsByClassName(&quot;move&quot;)).forEach((element) =&gt;\n      element.addEventListener(&quot;click&quot;, (e) =&gt; {\n        console.log(&quot;move&quot;);\n        stompClient.send(&quot;/app/hello&quot;, {}, JSON.stringify({ name: &quot;Tammie&quot; }));\n      })\n    );\n  });\n});\n</code></pre>\n<p>This is my javascript code but this way every client that subscribes to the websocket reloads his page which is a problem because other methods won't be resolved on the sender site.</p>\n<p>I tried to give a User an id and it kinda worked to only reload Client that have a different id but I'm not quite sure how to set different id in My Controller without it changing everytime the page refreshes.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679781492,"creation_date":1679781492,"answer_id":75844757,"question_id":75446926,"body_markdown":"Do you really have a custom `org.springframework.jdbc.core.BeanPropertyRowMapper` ?\r\n\r\nIts not possible to configure currently in camel-sql.\r\nYou are welcome to create a JIRA and work on a PR to add support for this.\r\n","title":"Apache-Camel SQLEndpoint - configure a custom BeanPropertyRowMapper","body":"<p>Do you really have a custom <code>org.springframework.jdbc.core.BeanPropertyRowMapper</code> ?</p>\n<p>Its not possible to configure currently in camel-sql.\nYou are welcome to create a JIRA and work on a PR to add support for this.</p>\n"}],"owner":{"account_id":2089789,"reputation":450,"user_id":1859881,"accept_rate":83,"display_name":"Ivo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75844757,"answer_count":1,"score":1,"last_activity_date":1679781492,"creation_date":1676372790,"question_id":75446926,"body_markdown":"I&#39;m using camel version 3.14.5 and I&#39;m wondering if there&#39;s a way (I can&#39;t see one) where I can use a custom`BeanPropertyRowMapper` when using a `SqlEndpoint`.\r\n\r\nI&#39;m using the sql endpoint like this in a route:\r\n\r\n    .to(&quot;mySqlComponent:classpath:my_sql.sql?outputType=StreamList&amp;outputClass=com.my.project.MyCustomMappedPojo&quot;)\r\n\r\nLooking at the code it does look like a BeanPropertyRowMapper is hardcoded in the class \r\n\r\n&gt; DefaultSqlEndpoint\r\n\r\n     @SuppressWarnings(&quot;unchecked&quot;)\r\n        public ResultSetIterator queryForStreamList(Connection connection, Statement statement, ResultSet rs) throws SQLException {\r\n            if (outputClass == null) {\r\n                RowMapper rowMapper = new ColumnMapRowMapper();\r\n                return new ResultSetIterator(connection, statement, rs, rowMapper);\r\n            } else {\r\n                Class&lt;?&gt; outputClzz = getCamelContext().getClassResolver().resolveClass(outputClass);\r\n                RowMapper rowMapper = new BeanPropertyRowMapper(outputClzz);\r\n                return new ResultSetIterator(connection, statement, rs, rowMapper);\r\n            }\r\n        }\r\n\r\nSo all I&#39;m after is a way to make use of a Custom RowMapper. \r\n\r\nThe most obvious way would be to pass it to the SqlEndpoint directly, but there&#39;s no such property. \r\n\r\nAlternatively I thought about using a custom `SqlEndpoint` whilst wiring a `SqlComponent` in Spring, but I see that the `SqlComponent` uses a `SqlEndpoint` hardcoded (i.e.: doesn&#39;t allow me to inject a custom Endpoint) which in turns uses the hardcoded BeanPropertyRowMapper as per the code sample above.","title":"Apache-Camel SQLEndpoint - configure a custom BeanPropertyRowMapper","body":"<p>I'm using camel version 3.14.5 and I'm wondering if there's a way (I can't see one) where I can use a custom<code>BeanPropertyRowMapper</code> when using a <code>SqlEndpoint</code>.</p>\n<p>I'm using the sql endpoint like this in a route:</p>\n<pre><code>.to(&quot;mySqlComponent:classpath:my_sql.sql?outputType=StreamList&amp;outputClass=com.my.project.MyCustomMappedPojo&quot;)\n</code></pre>\n<p>Looking at the code it does look like a BeanPropertyRowMapper is hardcoded in the class</p>\n<blockquote>\n<p>DefaultSqlEndpoint</p>\n</blockquote>\n<pre><code> @SuppressWarnings(&quot;unchecked&quot;)\n    public ResultSetIterator queryForStreamList(Connection connection, Statement statement, ResultSet rs) throws SQLException {\n        if (outputClass == null) {\n            RowMapper rowMapper = new ColumnMapRowMapper();\n            return new ResultSetIterator(connection, statement, rs, rowMapper);\n        } else {\n            Class&lt;?&gt; outputClzz = getCamelContext().getClassResolver().resolveClass(outputClass);\n            RowMapper rowMapper = new BeanPropertyRowMapper(outputClzz);\n            return new ResultSetIterator(connection, statement, rs, rowMapper);\n        }\n    }\n</code></pre>\n<p>So all I'm after is a way to make use of a Custom RowMapper.</p>\n<p>The most obvious way would be to pass it to the SqlEndpoint directly, but there's no such property.</p>\n<p>Alternatively I thought about using a custom <code>SqlEndpoint</code> whilst wiring a <code>SqlComponent</code> in Spring, but I see that the <code>SqlComponent</code> uses a <code>SqlEndpoint</code> hardcoded (i.e.: doesn't allow me to inject a custom Endpoint) which in turns uses the hardcoded BeanPropertyRowMapper as per the code sample above.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1596029706,"post_id":63154787,"comment_id":111678442,"body_markdown":"Where do you get the error in IntelliJ or in the console?","body":"Where do you get the error in IntelliJ or in the console?"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596029749,"post_id":63154787,"comment_id":111678471,"body_markdown":"Once I ran mvn clean install -DskipTests on the terminal.","body":"Once I ran mvn clean install -DskipTests on the terminal."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1596029899,"post_id":63154787,"comment_id":111678551,"body_markdown":"And in terminal JAVA_HOME is pointing to JDK 11?","body":"And in terminal JAVA_HOME is pointing to JDK 11?"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596029957,"post_id":63154787,"comment_id":111678590,"body_markdown":"Yes as written on the question.","body":"Yes as written on the question."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1596030046,"post_id":63154787,"comment_id":111678655,"body_markdown":"And what Maven version are you using? Did you install this and has it any settings.xml configuration?","body":"And what Maven version are you using? Did you install this and has it any settings.xml configuration?"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1596030322,"post_id":63154787,"comment_id":111678836,"body_markdown":"Do you have any other Java build in your Path environment variable?","body":"Do you have any other Java build in your Path environment variable?"},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1596030473,"post_id":63154787,"comment_id":111678932,"body_markdown":"What is javac -version? Add %JAVA_HOME%\\bin as the first value in path env variable. Seems you have multiple java version on the system. IN your path variable do u have oracle DB installed?  Share your path variable output.","body":"What is javac -version? Add %JAVA_HOME%\\bin as the first value in path env variable. Seems you have multiple java version on the system. IN your path variable do u have oracle DB installed?  Share your path variable output."},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596030581,"post_id":63154787,"comment_id":111679009,"body_markdown":"Updated the question to have the full Error I can see. \nmaven version is 3.6.3\nI have a project where I use JAVA 8. But presently I have only Java 11 in my Path Env Variable.","body":"Updated the question to have the full Error I can see.  maven version is 3.6.3 I have a project where I use JAVA 8. But presently I have only Java 11 in my Path Env Variable."},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1596030710,"post_id":63154787,"comment_id":111679088,"body_markdown":"Please print the output of the Path env. variable. And print javac -version output too.. Can you run the on command prompt just use mvn -e clean install","body":"Please print the output of the Path env. variable. And print javac -version output too.. Can you run the on command prompt just use mvn -e clean install"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596030814,"post_id":63154787,"comment_id":111679170,"body_markdown":"javac -version is javac 11.0.8","body":"javac -version is javac 11.0.8"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596030907,"post_id":63154787,"comment_id":111679235,"body_markdown":"Updated Path Environment Variable information to the Question.","body":"Updated Path Environment Variable information to the Question."},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596031261,"post_id":63154787,"comment_id":111679456,"body_markdown":"Amit Vyas. What do you mean by adding %JAVA_HOME%\\bin in my path Variable as the first entry to the path variable. Does heirarchy matter as I already have it in the Path Variable.","body":"Amit Vyas. What do you mean by adding %JAVA_HOME%\\bin in my path Variable as the first entry to the path variable. Does heirarchy matter as I already have it in the Path Variable."},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596031292,"post_id":63154787,"comment_id":111679479,"body_markdown":"@procrastinator How do I set JAVA_HOME in mvn.bat?","body":"@procrastinator How do I set JAVA_HOME in mvn.bat?"},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1596031502,"post_id":63154787,"comment_id":111679616,"body_markdown":"In your case you have correct. What is your M2_HOME? And Why you have 2 maven entries in D and H drive?","body":"In your case you have correct. What is your M2_HOME? And Why you have 2 maven entries in D and H drive?"},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":1,"creation_date":1596031858,"post_id":63154787,"comment_id":111679856,"body_markdown":"You always do like create JAVA_HOME and set java without bin before the home path and refer the %JAVA_HOME%\\bin as an entry in the path. No hard coding of the java path in the PATH variable. Then have M2_HOME and add a maven path without a bin folder value. In PATH variable set %M2_HOME%\\bin as value. Then open new command prompt and run java -version , javac -version mvn -verion and mvn -e clean install. As @procrastinator make sure you don&#39;t have a hardcoded path in mvn.bat file. Delete all hardcoding from the PATH variable for java and maven home before doing above steps.","body":"You always do like create JAVA_HOME and set java without bin before the home path and refer the %JAVA_HOME%\\bin as an entry in the path. No hard coding of the java path in the PATH variable. Then have M2_HOME and add a maven path without a bin folder value. In PATH variable set %M2_HOME%\\bin as value. Then open new command prompt and run java -version , javac -version mvn -verion and mvn -e clean install. As @procrastinator make sure you don&#39;t have a hardcoded path in mvn.bat file. Delete all hardcoding from the PATH variable for java and maven home before doing above steps."},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":2,"creation_date":1596032001,"post_id":63154787,"comment_id":111679940,"body_markdown":"@procrastinator Updating JAVA_HOME in mvn.cmd(mvn.bat is mvn.cmd in maven 3.5 and above) worked. \nCan you post this as an answer so that I can accept it as the answer. Thank you so much!!!","body":"@procrastinator Updating JAVA_HOME in mvn.cmd(mvn.bat is mvn.cmd in maven 3.5 and above) worked.  Can you post this as an answer so that I can accept it as the answer. Thank you so much!!!"},{"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"score":0,"creation_date":1596032132,"post_id":63154787,"comment_id":111680019,"body_markdown":"@AmitVyas Thanks for the guidance. Will update my Path variables as the norm. Thanks so much for the effort.","body":"@AmitVyas Thanks for the guidance. Will update my Path variables as the norm. Thanks so much for the effort."},{"owner":{"account_id":1945704,"reputation":790,"user_id":1750909,"display_name":"Amit Vyas"},"score":0,"creation_date":1596032745,"post_id":63154787,"comment_id":111680447,"body_markdown":"@AyushSurana for troubleshooting it is oki to set JAVA Home explicit in the maven bat/shell file but you should not. Clean up your path/java home/maven home and everything should work seamlessly. Avoid setting explicit values in the maven as if u will try jdk 8 or 13 or 14 it will fail. Changing JAVA_HOME for nay value will make all dependent apps to work seamlessly.","body":"@AyushSurana for troubleshooting it is oki to set JAVA Home explicit in the maven bat/shell file but you should not. Clean up your path/java home/maven home and everything should work seamlessly. Avoid setting explicit values in the maven as if u will try jdk 8 or 13 or 14 it will fail. Changing JAVA_HOME for nay value will make all dependent apps to work seamlessly."},{"owner":{"account_id":251813,"reputation":1963,"user_id":529442,"display_name":"Eugene Gr. Philippov"},"score":0,"creation_date":1617993428,"post_id":63154787,"comment_id":118476774,"body_markdown":"A similar (and solved!) question for Heroku&#39;s Maven JDK: https://stackoverflow.com/questions/60817038/why-when-i-try-push-my-spring-boot-app-to-heroku-it-return-fatal-error-compilin","body":"A similar (and solved!) question for Heroku&#39;s Maven JDK: <a href=\"https://stackoverflow.com/questions/60817038/why-when-i-try-push-my-spring-boot-app-to-heroku-it-return-fatal-error-compilin\" title=\"why when i try push my spring boot app to heroku it return fatal error compilin\">stackoverflow.com/questions/60817038/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"down_vote_count":2,"up_vote_count":112,"is_accepted":true,"score":110,"last_activity_date":1661030284,"creation_date":1596032117,"answer_id":63155672,"question_id":63154787,"body_markdown":"It seems like you&#39;re having the `JAVA_HOME` set in your `mvn.bat`. It could be pointing to the older version of Java (i.e., 8 in your case).\r\n\r\n`set JAVA_HOME=C:\\path\\to\\jdk11`. Try using it on the first line, before calling Maven.\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>It seems like you're having the <code>JAVA_HOME</code> set in your <code>mvn.bat</code>. It could be pointing to the older version of Java (i.e., 8 in your case).</p>\n<p><code>set JAVA_HOME=C:\\path\\to\\jdk11</code>. Try using it on the first line, before calling Maven.</p>\n"},{"tags":[],"owner":{"account_id":10057195,"reputation":427,"user_id":7435048,"display_name":"Mercuriat"},"down_vote_count":12,"up_vote_count":31,"is_accepted":false,"score":19,"last_activity_date":1661030534,"creation_date":1608988258,"answer_id":65456740,"question_id":63154787,"body_markdown":"I was experiencing this issue while trying to deploy a [Spring Boot][1] application to [Heroku][2]. \r\n\r\nMy JAVA_HOME was set correctly, but I was still receiving same error.\r\n\r\nBut then this worked for me: \r\n\r\nIn your *pom.xml* file, add or adapt to your own context: \r\n\r\n```lang-xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [2]: https://en.wikipedia.org/wiki/Heroku\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I was experiencing this issue while trying to deploy a <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> application to <a href=\"https://en.wikipedia.org/wiki/Heroku\" rel=\"nofollow noreferrer\">Heroku</a>.</p>\n<p>My JAVA_HOME was set correctly, but I was still receiving same error.</p>\n<p>But then this worked for me:</p>\n<p>In your <em>pom.xml</em> file, add or adapt to your own context:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3635341,"reputation":35,"user_id":3030585,"display_name":"AzezoLinux"},"down_vote_count":13,"up_vote_count":6,"is_accepted":false,"score":-7,"last_activity_date":1661030698,"creation_date":1610289140,"answer_id":65654379,"question_id":63154787,"body_markdown":"Just change this \r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nto\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>Just change this</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1661030866,"creation_date":1616704766,"answer_id":66807280,"question_id":63154787,"body_markdown":"If other people are having this same problem, but with [Eclipse][1] (I know OP was referring to IntelliJ IDEA), also check the JRE in use for Maven:\r\n\r\n- Run configurations...\r\n- Select your Maven Build configuration\r\n- Click the JRE tab and choose the JRE version in accordance with your [POM][2] file.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>If other people are having this same problem, but with <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a> (I know OP was referring to IntelliJ IDEA), also check the JRE in use for Maven:</p>\n<ul>\n<li>Run configurations...</li>\n<li>Select your Maven Build configuration</li>\n<li>Click the JRE tab and choose the JRE version in accordance with your <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7719340,"reputation":85,"user_id":5846031,"display_name":"thelearner"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1618579317,"creation_date":1618579317,"answer_id":67126057,"question_id":63154787,"body_markdown":"I was facing the same problem. Setting JAVA_HOME environment variable to the right JDK solved my problem.\r\n\r\njava -version was showing the right version, but **echo %JAVA_HOME%** pointed to the wrong JDK. Fixing it, solved this issue for me.","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I was facing the same problem. Setting JAVA_HOME environment variable to the right JDK solved my problem.</p>\n<p>java -version was showing the right version, but <strong>echo %JAVA_HOME%</strong> pointed to the wrong JDK. Fixing it, solved this issue for me.</p>\n"},{"tags":[],"owner":{"account_id":2859902,"reputation":6027,"user_id":2455366,"display_name":"Mohit Singh"},"down_vote_count":9,"up_vote_count":6,"is_accepted":false,"score":-3,"last_activity_date":1661031084,"creation_date":1619417499,"answer_id":67261632,"question_id":63154787,"body_markdown":"1. Check the Java home under path inside environment variables. It should point to JDK 11 under your Java installation directory,\r\n\r\n2. Check for the below inside file *pom.xml*\r\n\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n\r\n3. Under *Path*, check the correct entry for %JAVA_HOME% environment variable and explicitly set JAVA_HOME=C:\\tools\\java\\jdk11\r\n4. Check, your mvn should not be overriding the Java version 11\r\n\r\n\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<ol>\n<li><p>Check the Java home under path inside environment variables. It should point to JDK 11 under your Java installation directory,</p>\n</li>\n<li><p>Check for the below inside file <em>pom.xml</em></p>\n<pre><code> &lt;properties&gt;\n     &lt;java.version&gt;11&lt;/java.version&gt;\n &lt;/properties&gt;\n</code></pre>\n</li>\n<li><p>Under <em>Path</em>, check the correct entry for %JAVA_HOME% environment variable and explicitly set JAVA_HOME=C:\\tools\\java\\jdk11</p>\n</li>\n<li><p>Check, your mvn should not be overriding the Java version 11</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12675932,"reputation":2179,"user_id":9211684,"display_name":"John Kitonyo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1661031676,"creation_date":1623556274,"answer_id":67954689,"question_id":63154787,"body_markdown":"First run\r\n\r\n```lang-none\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nThis will list all the possible **JAVA_HOME** paths possible on your machine.\r\n\r\nYou have two options:\r\n\r\nAdd the line (project permanent)\r\n\r\n```lang-none\r\nJAVA_HOME=&quot;/path/to/obtained/from/command/lib&quot;\r\n```\r\n\r\nin your *maven.bat* file, ideally right after the initial comments.\r\n\r\nRun\r\n\r\n```lang-none\r\nexport JAVA_HOME=/path/to/obtained/from/command/lib\r\n```\r\n\r\nBefore running the mvnw command.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>First run</p>\n<pre class=\"lang-none prettyprint-override\"><code>/usr/libexec/java_home -V\n</code></pre>\n<p>This will list all the possible <strong>JAVA_HOME</strong> paths possible on your machine.</p>\n<p>You have two options:</p>\n<p>Add the line (project permanent)</p>\n<pre class=\"lang-none prettyprint-override\"><code>JAVA_HOME=&quot;/path/to/obtained/from/command/lib&quot;\n</code></pre>\n<p>in your <em>maven.bat</em> file, ideally right after the initial comments.</p>\n<p>Run</p>\n<pre class=\"lang-none prettyprint-override\"><code>export JAVA_HOME=/path/to/obtained/from/command/lib\n</code></pre>\n<p>Before running the mvnw command.</p>\n"},{"tags":[],"owner":{"account_id":8129615,"reputation":37,"user_id":6123311,"display_name":"Piyush Singh"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1661031331,"creation_date":1624472916,"answer_id":68105347,"question_id":63154787,"body_markdown":"This what helped me:\r\n\r\n[![Changed from 11 to 8, works fine][1]][1]\r\n\r\nThe issue must be you are using 8 locally, but pointing to a different version in your *pom.xml*.\r\n\r\n  [1]: https://i.stack.imgur.com/tJ109.png\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>This what helped me:</p>\n<p><a href=\"https://i.stack.imgur.com/tJ109.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tJ109.png\" alt=\"Changed from 11 to 8, works fine\" /></a></p>\n<p>The issue must be you are using 8 locally, but pointing to a different version in your <em>pom.xml</em>.</p>\n"},{"tags":[],"owner":{"account_id":4234411,"reputation":79,"user_id":3465988,"display_name":"Kff7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661032206,"creation_date":1637236484,"answer_id":70019389,"question_id":63154787,"body_markdown":"I had the same problem even the correct Java version 11 and JAVA_HOME variable was set.\r\n\r\nSwitching to another Java vendor from AdoptOpenJDK to Corretto solved it.\r\n\r\nYou can use [SDKMAN][1] to change easily and quick between different Java versions and vendors. (the JAVA_HOME variable will set automatically correct by SDKMAN).\r\n\r\nInstall SDKMAN by:\r\n\r\n```lang-none\r\ncurl -s &quot;https://get.sdkman.io&quot; | bash\r\n```\r\n\r\nThen enter in the terminal:\r\n\r\n```lang-none\r\nsource &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n```\r\n\r\nTo ensure installation was successful:\r\n\r\n```lang-none\r\nsdk version\r\n```\r\n\r\nInstall Java 11:\r\n\r\n```lang-none\r\nsdk install java 11.0.13.8.1-amzn\r\nsdk default java 11.0.13.8.1-amzn\r\n```\r\n\r\nTo check the versions, runtime and vendor:\r\n\r\n```lang-none\r\njava --version\r\nmvn -v\r\n```\r\n\r\n  [1]: https://sdkman.io/install\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I had the same problem even the correct Java version 11 and JAVA_HOME variable was set.</p>\n<p>Switching to another Java vendor from AdoptOpenJDK to Corretto solved it.</p>\n<p>You can use <a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">SDKMAN</a> to change easily and quick between different Java versions and vendors. (the JAVA_HOME variable will set automatically correct by SDKMAN).</p>\n<p>Install SDKMAN by:</p>\n<pre class=\"lang-none prettyprint-override\"><code>curl -s &quot;https://get.sdkman.io&quot; | bash\n</code></pre>\n<p>Then enter in the terminal:</p>\n<pre class=\"lang-none prettyprint-override\"><code>source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\n</code></pre>\n<p>To ensure installation was successful:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sdk version\n</code></pre>\n<p>Install Java 11:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sdk install java 11.0.13.8.1-amzn\nsdk default java 11.0.13.8.1-amzn\n</code></pre>\n<p>To check the versions, runtime and vendor:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java --version\nmvn -v\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3883278,"reputation":505,"user_id":3215286,"display_name":"Djacomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661032274,"creation_date":1640768485,"answer_id":70517218,"question_id":63154787,"body_markdown":"The fastest and the easiest way is to use SDKMAN https://sdkman.io/:\r\n\r\n1. Install JDK 11 with:\r\n\r\n    ```lang-none\r\n    sdk install 11.0.11.hs-adpt\r\n    ```\r\n\r\n    - ```sdk list java``` for the list of available JDK\r\n\r\n2. Create a .sdkmanrc file in your project main directory:\r\n\r\n    ```lang-none\r\n    java=11.0.11.hs-adpt\r\n    ```\r\n\r\n3. Switch JDK\r\n\r\n    - use ```sdk env``` for switch to right JDK.\r\n\r\n    - For automatic switch to the chosen jdk version, enable it in sdkman config file (```~/.sdkman/etc/config```)\r\n\r\n        ```lang-none\r\n        sdkman_auto_env=true\r\n        ```\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>The fastest and the easiest way is to use SDKMAN <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a>:</p>\n<ol>\n<li><p>Install JDK 11 with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sdk install 11.0.11.hs-adpt\n</code></pre>\n<ul>\n<li><code>sdk list java</code> for the list of available JDK</li>\n</ul>\n</li>\n<li><p>Create a .sdkmanrc file in your project main directory:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java=11.0.11.hs-adpt\n</code></pre>\n</li>\n<li><p>Switch JDK</p>\n<ul>\n<li><p>use <code>sdk env</code> for switch to right JDK.</p>\n</li>\n<li><p>For automatic switch to the chosen jdk version, enable it in sdkman config file (<code>~/.sdkman/etc/config</code>)</p>\n<pre class=\"lang-none prettyprint-override\"><code>sdkman_auto_env=true\n</code></pre>\n</li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9358826,"reputation":123,"user_id":6945898,"display_name":"amitsriv99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672047932,"creation_date":1672047932,"answer_id":74919092,"question_id":63154787,"body_markdown":"And don&#39;t forget to change JRE version appropriately in the Run As --&gt; Run Configurations --&gt; JRE tab in Eclipse IDE..\r\n\r\n[![Run Configurations - JRE Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JQLld.jpg","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>And don't forget to change JRE version appropriately in the Run As --&gt; Run Configurations --&gt; JRE tab in Eclipse IDE..</p>\n<p><a href=\"https://i.stack.imgur.com/JQLld.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JQLld.jpg\" alt=\"Run Configurations - JRE Settings\" /></a></p>\n"},{"tags":[],"owner":{"account_id":405758,"reputation":143,"user_id":774860,"display_name":"Mark Johnson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679781279,"creation_date":1679781279,"answer_id":75844746,"question_id":63154787,"body_markdown":"I was having the same error when packaging using Maven from VSCode.  I just needed to add the `release` element to the mavin maven-compiler-plugin in the pom.xml like this:\r\n\r\n``` xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;release&gt;11&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nThank you to Bing Chat to nail that one!","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I was having the same error when packaging using Maven from VSCode.  I just needed to add the <code>release</code> element to the mavin maven-compiler-plugin in the pom.xml like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;11&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Thank you to Bing Chat to nail that one!</p>\n"}],"owner":{"account_id":8215579,"reputation":1826,"user_id":6182083,"display_name":"Ayush Surana"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238282,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":63155672,"answer_count":12,"score":98,"last_activity_date":1679781279,"creation_date":1596029506,"question_id":63154787,"body_markdown":"I am trying to compile my project with Java 11.\r\n\r\nWhen I try to run the application with Java 8 as the Java version in *pom.xml*, it works fine. But when I try to run it with Java 11, it throws an error.\r\n\r\n&gt; Fatal error compiling: invalid target release: 11\r\n\r\nI&#39;ve tried to fix it in various ways, like changing the environment variable, updating the path, and pointing %JAVA_HOME% to Java 11.\r\n\r\nThe commands and their results as on my computer are as follows:\r\n\r\n```lang-none\r\njava -version\r\necho %JAVA_HOME%\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\njava version &quot;11.0.8&quot; 2020-07-14 LTS\r\nC:\\Program Files\\Java\\jdk-11.0.8\r\n```\r\n\r\nI am using [IntelliJ IDEA][1] and have made the necessary changes as suggested in [this tutorial][2].\r\n\r\nMy *pom.xml* file looks something like this:\r\n\r\n\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;version&gt;1&lt;/version&gt;\r\n                    &lt;projectId&gt;businessapplication-6963d&lt;/projectId&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I check the Maven version, it shows JDK 1.8 as the Java version:\r\n\r\n```lang-none\r\nmvn --version\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\nJava version: 1.8.0_241, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_241\\jre\r\n```\r\n\r\nHow can I point Maven to Java 11? Or, if that is not the problem, how to solve this issue? I don&#39;t think that this question is a duplicate of [invalid target release: 1.7][3], as I have already implemented the solutions provided in that thread.\r\n\r\nError after building the project:\r\n\r\n```lang-none\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project demo: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nThe path environment variable is:\r\n\r\n```lang-none\r\nC:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\bin\\Intel64;\r\nC:\\Program Files (x86)\\Intel\\iCLS Client\\;\r\nC:\\Program Files\\Intel\\iCLS Client\\;\r\nC:\\WINDOWS\\system32;C:\\WINDOWS;\r\nC:\\WINDOWS\\System32\\Wbem;\r\nC:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;\r\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;\r\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;\r\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;\r\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\WINDOWS\\System32\\OpenSSH\\;\r\nC:\\Delhi 2.0\\apache-maven-3.6.1\\bin;\r\nC:\\Program Files\\Java\\jdk-11.0.8\\bin;C:\\Program Files\\Intel\\WiFi\\bin\\;\r\nC:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;\r\nC:\\Program Files\\Git\\cmd;D:\\Flutter\\flutter\\flutter\\bin;\r\nC:\\Users\\Infinity97\\AppData\\Local\\Google\\Cloud SDK\\google-cloud-sdk\\bin;\r\nC:\\Users\\Infinity97\\AppData\\Local\\Microsoft\\WindowsApps;\r\nC:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.2\\bin;\r\nH:\\apache-maven-3.6.3\\bin;\r\nC:\\Program Files\\PostgreSQL\\12\\bin;\r\nC:\\Program Files\\PostgreSQL\\12\\lib;\r\nC:\\Program Files\\Docker Toolbox\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [2]: https://www.baeldung.com/java-lang-unsupportedclassversion\r\n  [3]: https://stackoverflow.com/questions/28291691/fatal-error-compiling-invalid-target-release-1-8-help-1\r\n\r\n\r\n\r\n\r\n","title":"Maven is not using Java 11: error message &quot;Fatal error compiling: invalid target release: 11&quot;","body":"<p>I am trying to compile my project with Java 11.</p>\n<p>When I try to run the application with Java 8 as the Java version in <em>pom.xml</em>, it works fine. But when I try to run it with Java 11, it throws an error.</p>\n<blockquote>\n<p>Fatal error compiling: invalid target release: 11</p>\n</blockquote>\n<p>I've tried to fix it in various ways, like changing the environment variable, updating the path, and pointing %JAVA_HOME% to Java 11.</p>\n<p>The commands and their results as on my computer are as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -version\necho %JAVA_HOME%\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java version &quot;11.0.8&quot; 2020-07-14 LTS\nC:\\Program Files\\Java\\jdk-11.0.8\n</code></pre>\n<p>I am using <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"noreferrer\">IntelliJ IDEA</a> and have made the necessary changes as suggested in <a href=\"https://www.baeldung.com/java-lang-unsupportedclassversion\" rel=\"noreferrer\">this tutorial</a>.</p>\n<p>My <em>pom.xml</em> file looks something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;version&gt;1&lt;/version&gt;\n                    &lt;projectId&gt;businessapplication-6963d&lt;/projectId&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I check the Maven version, it shows JDK 1.8 as the Java version:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn --version\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Java version: 1.8.0_241, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_241\\jre\n</code></pre>\n<p>How can I point Maven to Java 11? Or, if that is not the problem, how to solve this issue? I don't think that this question is a duplicate of <a href=\"https://stackoverflow.com/questions/28291691/fatal-error-compiling-invalid-target-release-1-8-help-1\">invalid target release: 1.7</a>, as I have already implemented the solutions provided in that thread.</p>\n<p>Error after building the project:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project demo: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>The path environment variable is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\bin\\Intel64;\nC:\\Program Files (x86)\\Intel\\iCLS Client\\;\nC:\\Program Files\\Intel\\iCLS Client\\;\nC:\\WINDOWS\\system32;C:\\WINDOWS;\nC:\\WINDOWS\\System32\\Wbem;\nC:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\WINDOWS\\System32\\OpenSSH\\;\nC:\\Delhi 2.0\\apache-maven-3.6.1\\bin;\nC:\\Program Files\\Java\\jdk-11.0.8\\bin;C:\\Program Files\\Intel\\WiFi\\bin\\;\nC:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;\nC:\\Program Files\\Git\\cmd;D:\\Flutter\\flutter\\flutter\\bin;\nC:\\Users\\Infinity97\\AppData\\Local\\Google\\Cloud SDK\\google-cloud-sdk\\bin;\nC:\\Users\\Infinity97\\AppData\\Local\\Microsoft\\WindowsApps;\nC:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.2\\bin;\nH:\\apache-maven-3.6.3\\bin;\nC:\\Program Files\\PostgreSQL\\12\\bin;\nC:\\Program Files\\PostgreSQL\\12\\lib;\nC:\\Program Files\\Docker Toolbox\n</code></pre>\n"},{"tags":["java","android","ios","flutter","dart"],"owner":{"account_id":19996213,"reputation":1,"user_id":14656199,"display_name":"Sandro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679781135,"creation_date":1679781135,"question_id":75844737,"body_markdown":"I want to program a flutter app which can record and play audio. But when I press the record button the app doesn&#39;t start recording. I&#39;ve tried checking the pubspec.yaml. Is there maybe a problem with the permission to access the device microphone? Or what else can I do? I also tried different simulators/devices... \r\n\r\n\r\n    import &#39;dart:io&#39;;\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    import &#39;package:flutter_sound/flutter_sound.dart&#39;;\r\n    import &#39;package:permission_handler/permission_handler.dart&#39;;\r\n\r\n    void main() {\r\n      runApp(MyApp());\r\n    }\r\n\r\n    class MyApp extends StatelessWidget {\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return MaterialApp(\r\n          title: &#39;Audio Recorder&#39;,\r\n          home: MyHomePage(),\r\n        );\r\n      }\r\n    }\r\n\r\n    class MyHomePage extends StatefulWidget {\r\n      const MyHomePage({Key? key}) : super(key: key);\r\n\r\n      @override\r\n      State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\r\n    }\r\n\r\n    class _MyHomePageState extends State&lt;MyHomePage&gt; {\r\n      final recorder = FlutterSoundRecorder();\r\n\r\n      @override\r\n      void initState() {\r\n        super.initState();\r\n        initRecorder();\r\n      }\r\n\r\n      @override\r\n      void dispose() {\r\n        recorder.stopRecorder();\r\n        super.dispose();\r\n      }\r\n\r\n      Future initRecorder() async {\r\n        final status = await Permission.microphone.request();\r\n        if (status != PermissionStatus.granted) {\r\n          throw &#39;Permission not granted&#39;;\r\n        }\r\n        await recorder.openRecorder();\r\n        recorder.setSubscriptionDuration(const Duration(milliseconds: 500));\r\n      }\r\n\r\n      Future startRecord() async {\r\n        await recorder.startRecorder(toFile: &quot;audio&quot;);\r\n      }\r\n\r\n      Future stopRecorder() async {\r\n        final filePath = await recorder.stopRecorder();\r\n        final file = File(filePath!);\r\n        print(&#39;Recorded file path: $filePath&#39;);\r\n      }\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return Scaffold(\r\n          backgroundColor: Colors.white,\r\n          body: Center(\r\n            child: Column(\r\n              mainAxisAlignment: MainAxisAlignment.center,\r\n              children: [\r\n                StreamBuilder&lt;RecordingDisposition&gt;(\r\n                  builder: (context, snapshot) {\r\n                    final duration = snapshot.hasData\r\n                        ? snapshot.data!.duration\r\n                        : Duration.zero;\r\n    \r\n                    String twoDigits(int n) =&gt; n.toString().padLeft(2, &#39;0&#39;);\r\n\r\n                    final twoDigitMinutes =\r\n                    twoDigits(duration.inMinutes.remainder(60));\r\n                    final twoDigitSeconds =\r\n                    twoDigits(duration.inSeconds.remainder(60));\r\n\r\n                    return Text(\r\n                      &#39;$twoDigitMinutes:$twoDigitSeconds&#39;,\r\n                      style: const TextStyle(\r\n                        color: Colors.black,\r\n                        fontSize: 50,\r\n                        fontWeight: FontWeight.bold,\r\n                      ),\r\n                    );\r\n                  },\r\n                  stream: recorder.onProgress,\r\n                ),\r\n                const SizedBox(height: 20),\r\n                GestureDetector(\r\n                  onTap: () async {\r\n                    if (recorder.isRecording) {\r\n                      await stopRecorder();\r\n                      setState(() {});\r\n                    } else {\r\n                      await startRecord();\r\n                      setState(() {});\r\n                    }\r\n                  },\r\n                  child: Container(\r\n                    width: 120,\r\n                    height: 120,\r\n                    decoration: BoxDecoration(\r\n                      color: Colors.red,\r\n                      shape: BoxShape.circle,\r\n                    ),\r\n                    child: Column(\r\n                      mainAxisAlignment: MainAxisAlignment.center,\r\n                      children: [\r\n                        Icon(\r\n                          recorder.isRecording ? Icons.stop : Icons.mic,\r\n                          size: 60,\r\n                          color: Colors.white,\r\n                        ),\r\n                        const SizedBox(height: 10),\r\n                        Text(\r\n                          &#39;Record&#39;,\r\n                          style: const TextStyle(\r\n                            color: Colors.white,\r\n                            fontSize: 20,\r\n                            fontWeight: FontWeight.bold,\r\n                          ),\r\n                        ),\r\n                      ],\r\n                    ),\r\n                  ),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\n","title":"I can&#39;t start recording when pressing the record button. What should I do?","body":"<p>I want to program a flutter app which can record and play audio. But when I press the record button the app doesn't start recording. I've tried checking the pubspec.yaml. Is there maybe a problem with the permission to access the device microphone? Or what else can I do? I also tried different simulators/devices...</p>\n<pre><code>import 'dart:io';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_sound/flutter_sound.dart';\nimport 'package:permission_handler/permission_handler.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Audio Recorder',\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key}) : super(key: key);\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  final recorder = FlutterSoundRecorder();\n\n  @override\n  void initState() {\n    super.initState();\n    initRecorder();\n  }\n\n  @override\n  void dispose() {\n    recorder.stopRecorder();\n    super.dispose();\n  }\n\n  Future initRecorder() async {\n    final status = await Permission.microphone.request();\n    if (status != PermissionStatus.granted) {\n      throw 'Permission not granted';\n    }\n    await recorder.openRecorder();\n    recorder.setSubscriptionDuration(const Duration(milliseconds: 500));\n  }\n\n  Future startRecord() async {\n    await recorder.startRecorder(toFile: &quot;audio&quot;);\n  }\n\n  Future stopRecorder() async {\n    final filePath = await recorder.stopRecorder();\n    final file = File(filePath!);\n    print('Recorded file path: $filePath');\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.white,\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            StreamBuilder&lt;RecordingDisposition&gt;(\n              builder: (context, snapshot) {\n                final duration = snapshot.hasData\n                    ? snapshot.data!.duration\n                    : Duration.zero;\n\n                String twoDigits(int n) =&gt; n.toString().padLeft(2, '0');\n\n                final twoDigitMinutes =\n                twoDigits(duration.inMinutes.remainder(60));\n                final twoDigitSeconds =\n                twoDigits(duration.inSeconds.remainder(60));\n\n                return Text(\n                  '$twoDigitMinutes:$twoDigitSeconds',\n                  style: const TextStyle(\n                    color: Colors.black,\n                    fontSize: 50,\n                    fontWeight: FontWeight.bold,\n                  ),\n                );\n              },\n              stream: recorder.onProgress,\n            ),\n            const SizedBox(height: 20),\n            GestureDetector(\n              onTap: () async {\n                if (recorder.isRecording) {\n                  await stopRecorder();\n                  setState(() {});\n                } else {\n                  await startRecord();\n                  setState(() {});\n                }\n              },\n              child: Container(\n                width: 120,\n                height: 120,\n                decoration: BoxDecoration(\n                  color: Colors.red,\n                  shape: BoxShape.circle,\n                ),\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  children: [\n                    Icon(\n                      recorder.isRecording ? Icons.stop : Icons.mic,\n                      size: 60,\n                      color: Colors.white,\n                    ),\n                    const SizedBox(height: 10),\n                    Text(\n                      'Record',\n                      style: const TextStyle(\n                        color: Colors.white,\n                        fontSize: 20,\n                        fontWeight: FontWeight.bold,\n                      ),\n                    ),\n                  ],\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"},{"tags":["java","apache-camel","sftp"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679780853,"creation_date":1679780853,"answer_id":75844718,"question_id":75595909,"body_markdown":"See the FTP documentation. The file is _left as is_ on the FTP server by default. You need to configure camel-ftp what it should do with the file afterwards, such as `delete=true` or any of the move options etc.","title":"Camel SFTP File Download - copy of file is moved to client but actual file is present in Server","body":"<p>See the FTP documentation. The file is <em>left as is</em> on the FTP server by default. You need to configure camel-ftp what it should do with the file afterwards, such as <code>delete=true</code> or any of the move options etc.</p>\n"}],"owner":{"account_id":17901350,"reputation":23,"user_id":13005525,"display_name":"Lokesh Deena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679780853,"creation_date":1677608491,"question_id":75595909,"body_markdown":"I have a requirement to download file from external SFTP Server. I have service which has API hosted and once we hit API it should download the file from SFTP Server and I&#39;m using camel as integrator for downloading the files from server. Now when API is called route is started and file is copied from source (server) to destination (client) but the sftp route is not closed, still it fetches the file from server and since the file is present in the server. How to solve this, below is the code snippet. \r\n    \r\nAPI Code \r\n    \r\n    @GetMapping(&quot;myapicall&quot;)\r\n\tpublic void fetchFileFromSFTPServer() {\r\n\t\tlogger.info(&quot;-------Begin of fetchFileFromSFTPServer-------&quot;);\r\n\t\ttry {\r\n\t\t\tRouteBuilder routeBuilder = sftpRoute.buildRoute();\r\n\t\t\tcamelContext.addRoutes(routeBuilder);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Error while loading Routes------&quot; + e.getMessage());\r\n\t\t}\r\n\t\t\r\n\t\tcamelContext.setUseMDCLogging(true);\r\n\t\tlogger.info(&quot;-------End of fetchFileFromSFTPServer-------&quot; );\r\n\t}\r\n\r\nRoute Builder Code\r\n\r\n    public RouteBuilder buildRoute() {\r\n\t\tRouteBuilder builder = new RouteBuilder() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void configure() throws Exception {\r\n\t\t\t\t\r\n\t\t\t\tfrom(\r\n\t\t\t\t  &quot;sftp://server/?username=**&amp;password=**&amp;passiveMode=true&amp;disconnect=true&quot;)\r\n\t\t\t\t  .routeId(&quot;SFTP_File_Route&quot;).setExchangePattern(ExchangePattern.InOnly).\r\n\t\t\t\t  log(&quot;connecting to SFTP Server&quot;)\r\n\t\t\t\t  .to(&quot;file://C:/myLocal&quot;).end();\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn builder;\r\n\t}\r\n\r\n\r\n","title":"Camel SFTP File Download - copy of file is moved to client but actual file is present in Server","body":"<p>I have a requirement to download file from external SFTP Server. I have service which has API hosted and once we hit API it should download the file from SFTP Server and I'm using camel as integrator for downloading the files from server. Now when API is called route is started and file is copied from source (server) to destination (client) but the sftp route is not closed, still it fetches the file from server and since the file is present in the server. How to solve this, below is the code snippet.</p>\n<p>API Code</p>\n<pre><code>@GetMapping(&quot;myapicall&quot;)\npublic void fetchFileFromSFTPServer() {\n    logger.info(&quot;-------Begin of fetchFileFromSFTPServer-------&quot;);\n    try {\n        RouteBuilder routeBuilder = sftpRoute.buildRoute();\n        camelContext.addRoutes(routeBuilder);\n\n    } catch (Exception e) {\n        logger.error(&quot;Error while loading Routes------&quot; + e.getMessage());\n    }\n    \n    camelContext.setUseMDCLogging(true);\n    logger.info(&quot;-------End of fetchFileFromSFTPServer-------&quot; );\n}\n</code></pre>\n<p>Route Builder Code</p>\n<pre><code>public RouteBuilder buildRoute() {\n    RouteBuilder builder = new RouteBuilder() {\n\n        @Override\n        public void configure() throws Exception {\n            \n            from(\n              &quot;sftp://server/?username=**&amp;password=**&amp;passiveMode=true&amp;disconnect=true&quot;)\n              .routeId(&quot;SFTP_File_Route&quot;).setExchangePattern(ExchangePattern.InOnly).\n              log(&quot;connecting to SFTP Server&quot;)\n              .to(&quot;file://C:/myLocal&quot;).end();\n        }\n    };\n    return builder;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677773037,"creation_date":1677773037,"answer_id":75617961,"question_id":75602606,"body_markdown":"I had the same problem but with JMS component.\r\n\r\nHere is what I did:\r\n\r\n1) Set an id on my route (`.routeId(&quot;demo&quot;)`)\r\n\r\n2) Put my route with `.autostart(false)`\r\n\r\n2) Add to the context an **extra** system-oriented route with a `from(&quot;timer:&quot;)` in order to regularly monitor the health of (in my case) the JMS broker. When the broker is detected &quot;up&quot;, then a Camel processor can simply (via Camel API) ask te controller to restart the involved route(s): `context.getRouteController().start(&quot;demo&quot;)`\r\n\r\nHope this helps","title":"Allow Camel to start up even if the &quot;from&quot; endpoint is currently not available","body":"<p>I had the same problem but with JMS component.</p>\n<p>Here is what I did:</p>\n<ol>\n<li><p>Set an id on my route (<code>.routeId(&quot;demo&quot;)</code>)</p>\n</li>\n<li><p>Put my route with <code>.autostart(false)</code></p>\n</li>\n<li><p>Add to the context an <strong>extra</strong> system-oriented route with a <code>from(&quot;timer:&quot;)</code> in order to regularly monitor the health of (in my case) the JMS broker. When the broker is detected &quot;up&quot;, then a Camel processor can simply (via Camel API) ask te controller to restart the involved route(s): <code>context.getRouteController().start(&quot;demo&quot;)</code></p>\n</li>\n</ol>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679780708,"creation_date":1679780708,"answer_id":75844704,"question_id":75602606,"body_markdown":"Yes you can use `autoStartup=false` that, however will not re-connect later when working. As the name implies the route is not started, and you need to do that manually later.\r\n\r\nYou can also take a look at supervised route controller, that can re-start failing routes on startup.\r\n\r\n- https://camel.apache.org/manual/route-controller.html#_supervisingroutecontroller","title":"Allow Camel to start up even if the &quot;from&quot; endpoint is currently not available","body":"<p>Yes you can use <code>autoStartup=false</code> that, however will not re-connect later when working. As the name implies the route is not started, and you need to do that manually later.</p>\n<p>You can also take a look at supervised route controller, that can re-start failing routes on startup.</p>\n<ul>\n<li><a href=\"https://camel.apache.org/manual/route-controller.html#_supervisingroutecontroller\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/route-controller.html#_supervisingroutecontroller</a></li>\n</ul>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75617961,"answer_count":2,"score":0,"last_activity_date":1679780708,"creation_date":1677667460,"question_id":75602606,"body_markdown":"I have a camel application running with Spring Boot. I want to improve resilience by letting my application start up even if one or more of the &quot;from&quot; endpoints (MQ or SMPP in my case) are not currently available - I want the application to just keep checking, and pick up messages once the endpoint becomes available.\r\n\r\nCurrent code:\r\n\r\n```java\r\n// Application.java\r\n@SpringBootApplication\r\n@ConfigurationPropertiesScan\r\npublic class Application \r\n{   \r\n    @Autowired private CamelContext context;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n   @Bean\r\n    CommandLineRunner init(ProducerTemplate template) \r\n    {\r\n    \treturn args -&gt; \r\n    \t{\r\n    \t\tcontext.addRoutes(new MQRouteBuilder());\r\n    \t\tcontext.addRoutes(new SMPPRouteBuilder());\r\n        };\r\n    }\r\n}\r\n\r\n// example route builder\r\npublic class SMPPRouteBuilder extends RouteBuilder\r\n{\r\n    public void configure() throws Exception\r\n    {\r\n        from(&quot;smpp://{{camel.component.smpp.configuration.host}}&quot;).to(&quot;direct:processSMS&quot;);\r\n        //...\r\n    }\r\n}\r\n```\r\n\r\nCurrently, if the SMS-C defined as camel.component.smpp.configuration.host isn&#39;t available, the application fails to start:\r\n\r\n&gt; java.lang.IllegalStateException: Failed to execute CommandLineRunner at\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:787)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:322)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \tat\r\n&gt; Application.main(Application.java:28)\r\n&gt; ~[classes/:na] Caused by: org.apache.camel.RuntimeCamelException:\r\n&gt; java.io.IOException: localhostInvalid \tat\r\n&gt; org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:68)\r\n&gt; ~[camel-api-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.support.service.ServiceSupport.start(ServiceSupport.java:134)\r\n&gt; ~[camel-api-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.startService(AbstractCamelContext.java:2989)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.doStartOrResumeRouteConsumers(AbstractCamelContext.java:3327)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.doStartRouteConsumers(AbstractCamelContext.java:3258)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.safelyStartRouteServices(AbstractCamelContext.java:3163)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.safelyStartRouteServices(AbstractCamelContext.java:3189)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.startRouteService(AbstractCamelContext.java:3033)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.DefaultModel.start(DefaultModel.java:358)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.DefaultModel.startRoute(DefaultModel.java:330)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.DefaultModel.startRouteDefinitions(DefaultModel.java:323)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.DefaultModel.addRouteDefinitions(DefaultModel.java:88)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.AbstractModelCamelContext.addRouteDefinitions(AbstractModelCamelContext.java:110)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.builder.RouteBuilder.populateRoutes(RouteBuilder.java:520)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:437)\r\n&gt; ~[camel-core-engine-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.lambda$addRoutes$0(AbstractCamelContext.java:1160)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.doWithDefinedClassLoader(AbstractCamelContext.java:2544)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.addRoutes(AbstractCamelContext.java:1160)\r\n&gt; ~[camel-base-3.1.0.jar:3.1.0] \tat\r\n&gt; Application.lambda$0(Application.java:42)\r\n&gt; ~[classes/:na] \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784)\r\n&gt; ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE] \t... 5 common frames\r\n&gt; omitted Caused by: java.io.IOException: localhostInvalid \tat\r\n&gt; org.apache.camel.component.smpp.SmppConnectionFactory.createConnection(SmppConnectionFactory.java:112)\r\n&gt; ~[camel-smpp-3.1.0.jar:3.1.0] \tat\r\n&gt; org.jsmpp.session.SMPPSession.connectAndBind(SMPPSession.java:222)\r\n&gt; ~[jsmpp-2.3.8.jar:2.3.8] \tat\r\n&gt; org.jsmpp.session.SMPPSession.connectAndBind(SMPPSession.java:201)\r\n&gt; ~[jsmpp-2.3.8.jar:2.3.8] \tat\r\n&gt; org.apache.camel.component.smpp.SmppConsumer.createSession(SmppConsumer.java:95)\r\n&gt; ~[camel-smpp-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.component.smpp.SmppConsumer.doStart(SmppConsumer.java:84)\r\n&gt; ~[camel-smpp-3.1.0.jar:3.1.0] \tat\r\n&gt; org.apache.camel.support.service.ServiceSupport.start(ServiceSupport.java:121)\r\n&gt; ~[camel-api-3.1.0.jar:3.1.0] \t... 23 common frames omitted Caused by:\r\n&gt; java.net.UnknownHostException: localhostInvalid \tat\r\n&gt; java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:229)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n&gt; ~[na:na] \tat java.base/java.net.Socket.connect(Socket.java:609)\r\n&gt; ~[na:na] \tat\r\n&gt; org.apache.camel.component.smpp.SmppConnectionFactory.createConnection(SmppConnectionFactory.java:99)\r\n&gt; ~[camel-smpp-3.1.0.jar:3.1.0]\r\n\r\nWhat I want instead, is for the application to start up, start listening on the connections it can connect to (e.g. MQ), and just periodically retry the ones it can&#39;t until they become available.","title":"Allow Camel to start up even if the &quot;from&quot; endpoint is currently not available","body":"<p>I have a camel application running with Spring Boot. I want to improve resilience by letting my application start up even if one or more of the &quot;from&quot; endpoints (MQ or SMPP in my case) are not currently available - I want the application to just keep checking, and pick up messages once the endpoint becomes available.</p>\n<p>Current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Application.java\n@SpringBootApplication\n@ConfigurationPropertiesScan\npublic class Application \n{   \n    @Autowired private CamelContext context;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n   @Bean\n    CommandLineRunner init(ProducerTemplate template) \n    {\n        return args -&gt; \n        {\n            context.addRoutes(new MQRouteBuilder());\n            context.addRoutes(new SMPPRouteBuilder());\n        };\n    }\n}\n\n// example route builder\npublic class SMPPRouteBuilder extends RouteBuilder\n{\n    public void configure() throws Exception\n    {\n        from(&quot;smpp://{{camel.component.smpp.configuration.host}}&quot;).to(&quot;direct:processSMS&quot;);\n        //...\n    }\n}\n</code></pre>\n<p>Currently, if the SMS-C defined as camel.component.smpp.configuration.host isn't available, the application fails to start:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to execute CommandLineRunner at\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:787)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\norg.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:322)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    at\nApplication.main(Application.java:28)\n~[classes/:na] Caused by: org.apache.camel.RuntimeCamelException:\njava.io.IOException: localhostInvalid     at\norg.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:68)\n~[camel-api-3.1.0.jar:3.1.0]  at\norg.apache.camel.support.service.ServiceSupport.start(ServiceSupport.java:134)\n~[camel-api-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.engine.AbstractCamelContext.startService(AbstractCamelContext.java:2989)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.doStartOrResumeRouteConsumers(AbstractCamelContext.java:3327)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.doStartRouteConsumers(AbstractCamelContext.java:3258)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.safelyStartRouteServices(AbstractCamelContext.java:3163)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.safelyStartRouteServices(AbstractCamelContext.java:3189)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.startRouteService(AbstractCamelContext.java:3033)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.DefaultModel.start(DefaultModel.java:358)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.DefaultModel.startRoute(DefaultModel.java:330)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.DefaultModel.startRouteDefinitions(DefaultModel.java:323)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.DefaultModel.addRouteDefinitions(DefaultModel.java:88)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.AbstractModelCamelContext.addRouteDefinitions(AbstractModelCamelContext.java:110)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.builder.RouteBuilder.populateRoutes(RouteBuilder.java:520)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:437)\n~[camel-core-engine-3.1.0.jar:3.1.0]  at\norg.apache.camel.impl.engine.AbstractCamelContext.lambda$addRoutes$0(AbstractCamelContext.java:1160)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.doWithDefinedClassLoader(AbstractCamelContext.java:2544)\n~[camel-base-3.1.0.jar:3.1.0]     at\norg.apache.camel.impl.engine.AbstractCamelContext.addRoutes(AbstractCamelContext.java:1160)\n~[camel-base-3.1.0.jar:3.1.0]     at\nApplication.lambda$0(Application.java:42)\n~[classes/:na]    at\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784)\n~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]    ... 5 common frames\nomitted Caused by: java.io.IOException: localhostInvalid  at\norg.apache.camel.component.smpp.SmppConnectionFactory.createConnection(SmppConnectionFactory.java:112)\n~[camel-smpp-3.1.0.jar:3.1.0]     at\norg.jsmpp.session.SMPPSession.connectAndBind(SMPPSession.java:222)\n~[jsmpp-2.3.8.jar:2.3.8]  at\norg.jsmpp.session.SMPPSession.connectAndBind(SMPPSession.java:201)\n~[jsmpp-2.3.8.jar:2.3.8]  at\norg.apache.camel.component.smpp.SmppConsumer.createSession(SmppConsumer.java:95)\n~[camel-smpp-3.1.0.jar:3.1.0]     at\norg.apache.camel.component.smpp.SmppConsumer.doStart(SmppConsumer.java:84)\n~[camel-smpp-3.1.0.jar:3.1.0]     at\norg.apache.camel.support.service.ServiceSupport.start(ServiceSupport.java:121)\n~[camel-api-3.1.0.jar:3.1.0]  ... 23 common frames omitted Caused by:\njava.net.UnknownHostException: localhostInvalid   at\njava.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:229)\n~[na:na]  at\njava.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n~[na:na]  at java.base/java.net.Socket.connect(Socket.java:609)\n~[na:na]  at\norg.apache.camel.component.smpp.SmppConnectionFactory.createConnection(SmppConnectionFactory.java:99)\n~[camel-smpp-3.1.0.jar:3.1.0]</p>\n</blockquote>\n<p>What I want instead, is for the application to start up, start listening on the connections it can connect to (e.g. MQ), and just periodically retry the ones it can't until they become available.</p>\n"},{"tags":["java","antlr"],"comments":[{"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"score":0,"creation_date":1257031041,"post_id":1655854,"comment_id":1527458,"body_markdown":"On http://www.jguru.com/faq/view.jsp?EID=16185 they explain how to embed the package inside the grammar. But is there a way to specify it as command line parameter?","body":"On <a href=\"http://www.jguru.com/faq/view.jsp?EID=16185\" rel=\"nofollow noreferrer\">jguru.com/faq/view.jsp?EID=16185</a> they explain how to embed the package inside the grammar. But is there a way to specify it as command line parameter?"}],"answers":[{"tags":[],"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"down_vote_count":0,"up_vote_count":75,"is_accepted":true,"score":75,"last_activity_date":1412197388,"creation_date":1257031930,"answer_id":1655920,"question_id":1655854,"body_markdown":"ANTLR provides a header tool which allows you to include package and imports. You include this in your *.g grammar file:\r\n\r\n    @header {\r\n        package org.xmlcml.cml.converters.antlr;\r\n        import java.util.HashMap;\r\n    }\r\n\r\nAnd you may need it in the Lexer as well:\r\n\r\n    @lexer::header {package org.xmlcml.cml.converters.antlr;}\r\n\r\nand in case you need to add some members and code:\r\n\r\n    @members {\r\n        HashMap&lt;String, Object&gt; objectMap = new HashMap&lt;String, Object&gt;();\r\n        //...\r\n\r\n        private void addArrayValue(String content) {\r\n        //... code required by snippets in the grammar\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to specify a target package for ANTLR?","body":"<p>ANTLR provides a header tool which allows you to include package and imports. You include this in your *.g grammar file:</p>\n\n<pre><code>@header {\n    package org.xmlcml.cml.converters.antlr;\n    import java.util.HashMap;\n}\n</code></pre>\n\n<p>And you may need it in the Lexer as well:</p>\n\n<pre><code>@lexer::header {package org.xmlcml.cml.converters.antlr;}\n</code></pre>\n\n<p>and in case you need to add some members and code:</p>\n\n<pre><code>@members {\n    HashMap&lt;String, Object&gt; objectMap = new HashMap&lt;String, Object&gt;();\n    //...\n\n    private void addArrayValue(String content) {\n    //... code required by snippets in the grammar\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031737,"reputation":10625,"user_id":1039947,"accept_rate":86,"display_name":"kmp"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1458486773,"creation_date":1413205652,"answer_id":26340736,"question_id":1655854,"body_markdown":"An old question with a perfectly good answer, but since the comment on the question asked for a command line option (and that was what I was actually searching for when I got here), I thought I&#39;d just chime in and say the following...\r\n\r\nYou can specifiy the package on the command line if you are using ANTLR 4.  I [checked][1] and it seems to not be there in version 3 so the [other][2] answer is the way to go for ANTLR 3. \r\n\r\nHere is an example:\r\n\r\n    java -cp antlr-4.4-complete.jar org.antlr.v4.Tool -package my.package MyGram.g4\r\n\r\nSee the `-package` option at [ANTLR Tool Command Line Options][3] for more information.\r\n\r\n\r\n  [1]: https://theantlrguy.atlassian.net/wiki/display/ANTLR3/Command+line+options\r\n  [2]: https://stackoverflow.com/a/1655920/1039947\r\n  [3]: https://github.com/antlr/antlr4/blob/master/doc/tool-options.md","title":"How to specify a target package for ANTLR?","body":"<p>An old question with a perfectly good answer, but since the comment on the question asked for a command line option (and that was what I was actually searching for when I got here), I thought I'd just chime in and say the following...</p>\n\n<p>You can specifiy the package on the command line if you are using ANTLR 4.  I <a href=\"https://theantlrguy.atlassian.net/wiki/display/ANTLR3/Command+line+options\" rel=\"noreferrer\">checked</a> and it seems to not be there in version 3 so the <a href=\"https://stackoverflow.com/a/1655920/1039947\">other</a> answer is the way to go for ANTLR 3. </p>\n\n<p>Here is an example:</p>\n\n<pre><code>java -cp antlr-4.4-complete.jar org.antlr.v4.Tool -package my.package MyGram.g4\n</code></pre>\n\n<p>See the <code>-package</code> option at <a href=\"https://github.com/antlr/antlr4/blob/master/doc/tool-options.md\" rel=\"noreferrer\">ANTLR Tool Command Line Options</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":1374386,"reputation":3070,"user_id":1308685,"accept_rate":88,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664123017,"creation_date":1664123017,"answer_id":73846091,"question_id":1655854,"body_markdown":"It may have changed in more recent versions.  \r\nI&#39;m working on a DSL for a Savantly game service, and \r\nI place my grammar files in subfolders. \r\nThe generated classes are in a package corresponding to the folder structure. \r\n\r\nMy plugin configuration looks like this -  \r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${antlr.version}&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;sourceDirectory&gt;${basedir}&lt;/sourceDirectory&gt;\r\n\t\t&lt;includes&gt;\r\n\t\t   &lt;include&gt;**/*.g4&lt;/include&gt;\r\n\t\t&lt;/includes&gt;\r\n\t\t&lt;visitor&gt;true&lt;/visitor&gt;\r\n\t\t&lt;listener&gt;true&lt;/listener&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;antlr4&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAnd the resulting folder structure -  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NCTQB.png","title":"How to specify a target package for ANTLR?","body":"<p>It may have changed in more recent versions.<br />\nI'm working on a DSL for a Savantly game service, and\nI place my grammar files in subfolders.\nThe generated classes are in a package corresponding to the folder structure.</p>\n<p>My plugin configuration looks like this -</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n    &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${antlr.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;sourceDirectory&gt;${basedir}&lt;/sourceDirectory&gt;\n        &lt;includes&gt;\n           &lt;include&gt;**/*.g4&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;visitor&gt;true&lt;/visitor&gt;\n        &lt;listener&gt;true&lt;/listener&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;antlr4&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And the resulting folder structure -</p>\n<p><a href=\"https://i.stack.imgur.com/NCTQB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NCTQB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2087834,"reputation":7157,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679780564,"creation_date":1679780564,"answer_id":75844694,"question_id":1655854,"body_markdown":"For folks using Gradle&#39;s Antlr plugin toss this into your `build.gradle.kts`,\r\n\r\n    tasks {\r\n        generateGrammarSource {\r\n            val pkg = &quot;com.stackoverflow.antlr&quot;\r\n            arguments = arguments + listOf(&quot;-package&quot;, pkg)\r\n            outputDirectory = outputDirectory.resolve(pkg.split(&quot;.&quot;).joinToString(&quot;/&quot;))\r\n        }\r\n    }\r\n\r\nThe `outputDirectory` part might not be needed, but for whatever reason Antlr does not put generated files into the package directory layout even though you give it a package. I wonder if this is a bug [because the documentation][1] mentions another option which makes it sound like it tries to. Either way, this works for me.\r\n\r\n&gt; ` -Xexact-output-dir  all output goes into -o dir regardless of paths/package`\r\n\r\n*(Also, I am on Windows and the `/` instead of `\\\\` seems to be working just fine.)*\r\n\r\n[1]: https://github.com/antlr/antlr4/blob/8dcc6526cfb154d688497f31cf1e0904801c6df2/doc/tool-options.md","title":"How to specify a target package for ANTLR?","body":"<p>For folks using Gradle's Antlr plugin toss this into your <code>build.gradle.kts</code>,</p>\n<pre><code>tasks {\n    generateGrammarSource {\n        val pkg = &quot;com.stackoverflow.antlr&quot;\n        arguments = arguments + listOf(&quot;-package&quot;, pkg)\n        outputDirectory = outputDirectory.resolve(pkg.split(&quot;.&quot;).joinToString(&quot;/&quot;))\n    }\n}\n</code></pre>\n<p>The <code>outputDirectory</code> part might not be needed, but for whatever reason Antlr does not put generated files into the package directory layout even though you give it a package. I wonder if this is a bug <a href=\"https://github.com/antlr/antlr4/blob/8dcc6526cfb154d688497f31cf1e0904801c6df2/doc/tool-options.md\" rel=\"nofollow noreferrer\">because the documentation</a> mentions another option which makes it sound like it tries to. Either way, this works for me.</p>\n<blockquote>\n<p><code> -Xexact-output-dir  all output goes into -o dir regardless of paths/package</code></p>\n</blockquote>\n<p><em>(Also, I am on Windows and the <code>/</code> instead of <code>\\\\</code> seems to be working just fine.)</em></p>\n"}],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21418,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":1655920,"answer_count":4,"score":51,"last_activity_date":1679780564,"creation_date":1257029805,"question_id":1655854,"body_markdown":"If I call:\r\n\r\n    java org.antlr.Tool -o outdir sources/com/example/Java5.g\r\n\r\n...with antlr-3.1.3 the parser and lexer code will be generated in the directory `outdir/sources/com/example`. But the generated classes don&#39;t have any `package` statement. I need them to life in the package `com.example`.\r\n\r\nIs there a way to specify the target package?","title":"How to specify a target package for ANTLR?","body":"<p>If I call:</p>\n\n<pre><code>java org.antlr.Tool -o outdir sources/com/example/Java5.g\n</code></pre>\n\n<p>...with antlr-3.1.3 the parser and lexer code will be generated in the directory <code>outdir/sources/com/example</code>. But the generated classes don't have any <code>package</code> statement. I need them to life in the package <code>com.example</code>.</p>\n\n<p>Is there a way to specify the target package?</p>\n"},{"tags":["java","spring","oauth","spring-cloud-config"],"comments":[{"owner":{"account_id":366241,"reputation":1735,"user_id":711659,"accept_rate":69,"display_name":"chrislhardin"},"score":0,"creation_date":1679231860,"post_id":75573893,"comment_id":133680569,"body_markdown":"I have this same need. I need to override the class that does the magic and call a config server protected by oauth.  The import mechanism support a type of authentication but it is not oauth.","body":"I have this same need. I need to override the class that does the magic and call a config server protected by oauth.  The import mechanism support a type of authentication but it is not oauth."},{"owner":{"account_id":366241,"reputation":1735,"user_id":711659,"accept_rate":69,"display_name":"chrislhardin"},"score":0,"creation_date":1679232236,"post_id":75573893,"comment_id":133680611,"body_markdown":"Maybe in boot  2.7 or 3.0, there is some ingenious answer for this. I am running simultaneous branches of those right now. I hacked a way around this issue but it doesn&#39;t load first like spring.config.import does. A custom implementation class would be just ideal.","body":"Maybe in boot  2.7 or 3.0, there is some ingenious answer for this. I am running simultaneous branches of those right now. I hacked a way around this issue but it doesn&#39;t load first like spring.config.import does. A custom implementation class would be just ideal."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1679551747,"post_id":75573893,"comment_id":133742651,"body_markdown":"@chrislhardin Plz share a minimal reproduceable codebase.","body":"@chrislhardin Plz share a minimal reproduceable codebase."}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679780271,"creation_date":1679780271,"answer_id":75844669,"question_id":75573893,"body_markdown":"Actually, you can do this by creating a custom `ConfigDataLoader` that sets the RestTemplate on the `ConfigServicePropertySourceLocator`. To do that, first create `ConfigDataLoader`;\r\n\r\n    public class OAuth2ConfigDataLoader implements ConfigDataLoader&lt;ConfigServerConfigData&gt; {\r\n    \r\n        private final ConfigClientProperties clientProperties;\r\n        private final OAuth2RestTemplate oauth2RestTemplate;\r\n    \r\n        public OAuth2ConfigDataLoader(ConfigClientProperties clientProperties,\r\n                                      OAuth2RestTemplate oauth2RestTemplate) {\r\n            this.clientProperties = clientProperties;\r\n            this.oauth2RestTemplate = oauth2RestTemplate;\r\n        }\r\n    \r\n        @Override\r\n        public ConfigServerConfigData load(ConfigDataLoaderContext context,\r\n                                           ConfigServerConfigDataResource resource)\r\n                throws ConfigDataNotFoundException, IOException {\r\n            ConfigServicePropertySourceLocator locator =\r\n                    new ConfigServicePropertySourceLocator(clientProperties);\r\n            locator.setRestTemplate(oauth2RestTemplate);\r\n            return new ConfigServerConfigData(locator);\r\n        }\r\n    \r\n        @Override\r\n        public ConfigDataLoader&lt;ConfigServerConfigData&gt; withFallback(ConfigDataLoader&lt;?&gt; fallback) {\r\n            return this;\r\n        }\r\n    }\r\n\r\nThen create a configuration class to configure the `OAuth2RestTemplate`:\r\n\r\n    @Configuration\r\n    public class OAuth2RestTemplateConfig {\r\n    \r\n        @Bean\r\n        public OAuth2RestTemplate oauth2RestTemplate() {\r\n            // configure and return the OAuth2RestTemplate\r\n        }\r\n    }\r\n\r\nAnd last step, set these in your `application.properties` file:\r\n\r\n    spring.config.import=optional:configserver:http://localhost:8888/\r\n    spring.config.imports[0].name=oauth2\r\n    spring.config.imports[0].optional=true\r\n    spring.config.imports[0].loader=com.example.config.OAuth2ConfigDataLoader\r\n\r\n","title":"How to access OAuth2-secured Spring cloud config server when using spring.config.import?","body":"<p>Actually, you can do this by creating a custom <code>ConfigDataLoader</code> that sets the RestTemplate on the <code>ConfigServicePropertySourceLocator</code>. To do that, first create <code>ConfigDataLoader</code>;</p>\n<pre><code>public class OAuth2ConfigDataLoader implements ConfigDataLoader&lt;ConfigServerConfigData&gt; {\n\n    private final ConfigClientProperties clientProperties;\n    private final OAuth2RestTemplate oauth2RestTemplate;\n\n    public OAuth2ConfigDataLoader(ConfigClientProperties clientProperties,\n                                  OAuth2RestTemplate oauth2RestTemplate) {\n        this.clientProperties = clientProperties;\n        this.oauth2RestTemplate = oauth2RestTemplate;\n    }\n\n    @Override\n    public ConfigServerConfigData load(ConfigDataLoaderContext context,\n                                       ConfigServerConfigDataResource resource)\n            throws ConfigDataNotFoundException, IOException {\n        ConfigServicePropertySourceLocator locator =\n                new ConfigServicePropertySourceLocator(clientProperties);\n        locator.setRestTemplate(oauth2RestTemplate);\n        return new ConfigServerConfigData(locator);\n    }\n\n    @Override\n    public ConfigDataLoader&lt;ConfigServerConfigData&gt; withFallback(ConfigDataLoader&lt;?&gt; fallback) {\n        return this;\n    }\n}\n</code></pre>\n<p>Then create a configuration class to configure the <code>OAuth2RestTemplate</code>:</p>\n<pre><code>@Configuration\npublic class OAuth2RestTemplateConfig {\n\n    @Bean\n    public OAuth2RestTemplate oauth2RestTemplate() {\n        // configure and return the OAuth2RestTemplate\n    }\n}\n</code></pre>\n<p>And last step, set these in your <code>application.properties</code> file:</p>\n<pre><code>spring.config.import=optional:configserver:http://localhost:8888/\nspring.config.imports[0].name=oauth2\nspring.config.imports[0].optional=true\nspring.config.imports[0].loader=com.example.config.OAuth2ConfigDataLoader\n</code></pre>\n"}],"owner":{"account_id":7654780,"reputation":105,"user_id":5802110,"display_name":"dflachbart"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1679780271,"creation_date":1677433578,"question_id":75573893,"body_markdown":"I have a Spring Cloud configuration server that is secured with OAuth2 and use the old-style (pre-Spring 2.4) bootstrap approach to bind to the config server. In order to make it use an OAuth2RestTemplate I implemented a custom `ConfigServicePropertySourceLocator` that sets the rest template, configured via `spring.factories` (I found a few examples out there that showed how to do this):\r\n\r\n```\r\n@Configuration\r\npublic class ConfigClientOAuth2BootstrapConfiguration {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ConfigServicePropertySourceLocator configServicePropertySourceLocator() {\r\n        ConfigClientProperties clientProperties = configClientProperties();\r\n        ConfigServicePropertySourceLocator locator = new ConfigServicePropertySourceLocator(clientProperties);\r\n        locator.setRestTemplate(oauth2RestTemplate());\r\n        \r\n        return locator;\r\n    }\r\n\r\n    [...]\r\n}\r\n```\r\n\r\nMETA-INF/spring.factories:\r\n\r\n```\r\norg.springframework.cloud.bootstrap.BootstrapConfiguration=\\\r\ncom.example.config.ConfigClientOAuth2BootstrapConfiguration\r\n\r\n```\r\n\r\nEverything works fine that way. \r\n\r\nBut I would like to use the new Spring Boot Config Data method of import via `spring.config.import=optional:configserver:` instead which got introduced in 2.4 (doing away with bootstrap.properties, and the need for `spring-cloud-starter-bootstrap`), but cannot find any documentation or examples on how to set a custom Rest Template in this case.\r\n\r\nDoes anyone have an example (or link to documentation) on how this could be done? Or maybe it&#39;s not possible?\r\n","title":"How to access OAuth2-secured Spring cloud config server when using spring.config.import?","body":"<p>I have a Spring Cloud configuration server that is secured with OAuth2 and use the old-style (pre-Spring 2.4) bootstrap approach to bind to the config server. In order to make it use an OAuth2RestTemplate I implemented a custom <code>ConfigServicePropertySourceLocator</code> that sets the rest template, configured via <code>spring.factories</code> (I found a few examples out there that showed how to do this):</p>\n<pre><code>@Configuration\npublic class ConfigClientOAuth2BootstrapConfiguration {\n\n    @Bean\n    @Primary\n    public ConfigServicePropertySourceLocator configServicePropertySourceLocator() {\n        ConfigClientProperties clientProperties = configClientProperties();\n        ConfigServicePropertySourceLocator locator = new ConfigServicePropertySourceLocator(clientProperties);\n        locator.setRestTemplate(oauth2RestTemplate());\n        \n        return locator;\n    }\n\n    [...]\n}\n</code></pre>\n<p>META-INF/spring.factories:</p>\n<pre><code>org.springframework.cloud.bootstrap.BootstrapConfiguration=\\\ncom.example.config.ConfigClientOAuth2BootstrapConfiguration\n\n</code></pre>\n<p>Everything works fine that way.</p>\n<p>But I would like to use the new Spring Boot Config Data method of import via <code>spring.config.import=optional:configserver:</code> instead which got introduced in 2.4 (doing away with bootstrap.properties, and the need for <code>spring-cloud-starter-bootstrap</code>), but cannot find any documentation or examples on how to set a custom Rest Template in this case.</p>\n<p>Does anyone have an example (or link to documentation) on how this could be done? Or maybe it's not possible?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":1,"creation_date":1679780898,"post_id":75844665,"comment_id":133783072,"body_markdown":"Can you share some snippet from pom.xml","body":"Can you share some snippet from pom.xml"}],"owner":{"account_id":13588641,"reputation":4677,"user_id":9802634,"display_name":"danny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679780215,"creation_date":1679780215,"question_id":75844665,"body_markdown":"I have java project with multiple modules and when I added new module and call:\r\n\r\n    mvn clean install\r\ni get my old modules jars with version &#39;1.0.10new_module&#39;. This is because i added to my new module&#39;s pom, in &lt;parent&gt; section version &#39;1.0.10new_module&#39; (Intelij created it by default). \r\nNow I can&#39;t get rid of it. I deleted this packages from my local m2, cleared caches but it is still like that. \r\nWhere maven store informations about version of jars?","title":"Where maven store information about package version","body":"<p>I have java project with multiple modules and when I added new module and call:</p>\n<pre><code>mvn clean install\n</code></pre>\n<p>i get my old modules jars with version '1.0.10new_module'. This is because i added to my new module's pom, in  section version '1.0.10new_module' (Intelij created it by default).\nNow I can't get rid of it. I deleted this packages from my local m2, cleared caches but it is still like that.\nWhere maven store informations about version of jars?</p>\n"},{"tags":["java","spring-data-jpa","entitymanager"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1679782647,"post_id":75844663,"comment_id":133783266,"body_markdown":"You are right! (Constructor injection has its (+dis-/)advantages, and it cannot be practiced &quot;like religion&quot;) 1. Is probably wrong (a singleton `EntityManager`) 2. Conforms with (also modern) [documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#dao-annotations).","body":"You are right! (Constructor injection has its (+dis-/)advantages, and it cannot be practiced &quot;like religion&quot;) 1. Is probably wrong (a singleton <code>EntityManager</code>) 2. Conforms with (also modern) <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#dao-annotations\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":1,"creation_date":1679783117,"post_id":75844663,"comment_id":133783326,"body_markdown":"@xerx593 thanks for the answer! But in JPA specification (look this question answer: https://stackoverflow.com/questions/10762974/should-jpa-entity-manager-be-closed) we need a close ```EntityManager```. How it can be singleton? Maybe I misunderstand something &#129300;","body":"@xerx593 thanks for the answer! But in JPA specification (look this question answer: <a href=\"https://stackoverflow.com/questions/10762974/should-jpa-entity-manager-be-closed\" title=\"should jpa entity manager be closed\">stackoverflow.com/questions/10762974/&hellip;</a>) we need a close <code>EntityManager</code>. How it can be singleton? Maybe I misunderstand something 🤔"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1679783452,"post_id":75844663,"comment_id":133783377,"body_markdown":"No, it should not be singleton ..(except if someone really wants this), but by `@Service`+`final`+constructor It is (de facto;)","body":"No, it should not be singleton ..(except if someone really wants this), but by <code>@Service</code>+<code>final</code>+constructor It is (de facto;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1679783793,"post_id":75844663,"comment_id":133783417,"body_markdown":"With `@Service`+ `final` we could *better* inject `EntityManager` ...*`Factory`* (!)","body":"With <code>@Service</code>+ <code>final</code> we could <i>better</i> inject <code>EntityManager</code> ...*<code>Factory</code>* (!)"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":1,"creation_date":1679784023,"post_id":75844663,"comment_id":133783442,"body_markdown":"@xerx593 I tried first method - and that’s works well, more one time. But by specification - EntityManager closing after transaction (and yes, it’s closing in spring too). But what’s a magic - if that closed - then it’s &#171;worked out&#187; object and we need new instance (open), but we can use EntityManager again… Is that proxy by spring? Or that’s rewriting FINAL field ?","body":"@xerx593 I tried first method - and that’s works well, more one time. But by specification - EntityManager closing after transaction (and yes, it’s closing in spring too). But what’s a magic - if that closed - then it’s &#171;worked out&#187; object and we need new instance (open), but we can use EntityManager again… Is that proxy by spring? Or that’s rewriting FINAL field ?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679784328,"post_id":75844663,"comment_id":133783480,"body_markdown":"Have you &quot;stress tested&quot; (by multiple (remote) users)?;) No, (normally) final is final &#129310;&#129310;","body":"Have you &quot;stress tested&quot; (by multiple (remote) users)?;) No, (normally) final is final 🤞🤞"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":1,"creation_date":1679784390,"post_id":75844663,"comment_id":133783485,"body_markdown":"@xerx593 didn’t, but I tried do more one request, and that’s was fine. This magic scares me a lot","body":"@xerx593 didn’t, but I tried do more one request, and that’s was fine. This magic scares me a lot"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":0,"creation_date":1679784613,"post_id":75844663,"comment_id":133783518,"body_markdown":"@xerx593 I found this answer in some question (https://stackoverflow.com/a/49948301/18824568). But I think that’s really magic (with proxy and other black-jackes)","body":"@xerx593 I found this answer in some question (<a href=\"https://stackoverflow.com/a/49948301/18824568\">stackoverflow.com/a/49948301/18824568</a>). But I think that’s really magic (with proxy and other black-jackes)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1679784950,"post_id":75844663,"comment_id":133783555,"body_markdown":"But if you follow the [link](https://jira.spring.io/browse/SPR-10443), it is an &quot;open&quot; (stupid, sorry!) &quot;request&quot;.. :) ..and comments clearly say &quot;you cannot constructor inject entity manager&quot;","body":"But if you follow the <a href=\"https://jira.spring.io/browse/SPR-10443\" rel=\"nofollow noreferrer\">link</a>, it is an &quot;open&quot; (stupid, sorry!) &quot;request&quot;.. :) ..and comments clearly say &quot;you cannot constructor inject entity manager&quot;"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":0,"creation_date":1679785172,"post_id":75844663,"comment_id":133783578,"body_markdown":"@xerx593 okey, so I think best solution &#171;again&#187; (I’m going to rewriting my changes back) using PersistenceContext. Thanks for this discussion and dialog!","body":"@xerx593 okey, so I think best solution &#171;again&#187; (I’m going to rewriting my changes back) using PersistenceContext. Thanks for this discussion and dialog!"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":0,"creation_date":1679785712,"post_id":75844663,"comment_id":133783623,"body_markdown":"@xerx593 omg… I really interesting how they “fixed” final fields. It just doesn’t fit in my head. How they close and open EntityManager again… I think (just theory) is proxy magic","body":"@xerx593 omg… I really interesting how they “fixed” final fields. It just doesn’t fit in my head. How they close and open EntityManager again… I think (just theory) is proxy magic"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1679786100,"post_id":75844663,"comment_id":133783651,"body_markdown":"... if you&#39;re rewriting (back...sry &#128575;, welcome&#128513;), then also consider to introduce/use a `@Repository` layer (as documented)...to get (full) &quot;exception translation&quot;... (To handle these in `@service`s;)","body":"... if you&#39;re rewriting (back...sry 😿, welcome😁), then also consider to introduce/use a <code>@Repository</code> layer (as documented)...to get (full) &quot;exception translation&quot;... (To handle these in <code>@service</code>s;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1679786187,"post_id":75844663,"comment_id":133783657,"body_markdown":"But also you must admit, a test from single user in localhost is not very representative... (&quot;Anonyme Browser&quot; at least gives you a 2nd/multiple (http) sessions)","body":"But also you must admit, a test from single user in localhost is not very representative... (&quot;Anonyme Browser&quot; at least gives you a 2nd/multiple (http) sessions)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1679787255,"post_id":75844663,"comment_id":133783742,"body_markdown":"Another very specific section: https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#orm-jpa-dao","body":"Another very specific section: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#orm-jpa-dao\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679780196,"creation_date":1679780196,"question_id":75844663,"body_markdown":"I need a ```EntityManager``` for my some methods in Spring Data JPA. What best method for enabling this in my code:\r\n```\r\n@Service\r\npublic class MyService {\r\n   private final EntityManager em;\r\n   public MyService(EntityManager em) {\r\n     this.em = em;\r\n   }\r\n}\r\n```\r\nOr that:\r\n```\r\n@Service\r\npublic class MyService {\r\n   @PersistenceContext\r\n   private EntityManager em;\r\n}\r\n```\r\nI like first method, but I know that JPA specification declare closing ```EntityManager``` after transaction, and in first example field is final (how it can injecting again after ```em.close```, if object is immutable)?","title":"EntityManager: inject with constructor vs @PersistenceContext","body":"<p>I need a <code>EntityManager</code> for my some methods in Spring Data JPA. What best method for enabling this in my code:</p>\n<pre><code>@Service\npublic class MyService {\n   private final EntityManager em;\n   public MyService(EntityManager em) {\n     this.em = em;\n   }\n}\n</code></pre>\n<p>Or that:</p>\n<pre><code>@Service\npublic class MyService {\n   @PersistenceContext\n   private EntityManager em;\n}\n</code></pre>\n<p>I like first method, but I know that JPA specification declare closing <code>EntityManager</code> after transaction, and in first example field is final (how it can injecting again after <code>em.close</code>, if object is immutable)?</p>\n"},{"tags":["java","android","android-room","dao","cannot-find-symbol"],"comments":[{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1679734543,"post_id":75839157,"comment_id":133776732,"body_markdown":"The core element(s) of any Room database are the `@Entity` annotated classes. Without these  it could at best be guesswork to say what the issue actually is. It is the Entity (Notes class) that defines what columns types etc can be found/used etc. You should edit your question to include the Notes class.","body":"The core element(s) of any Room database are the <code>@Entity</code> annotated classes. Without these  it could at best be guesswork to say what the issue actually is. It is the Entity (Notes class) that defines what columns types etc can be found/used etc. You should edit your question to include the Notes class."},{"owner":{"account_id":21662054,"reputation":11,"user_id":15981054,"display_name":"Faizan "},"score":0,"creation_date":1679736382,"post_id":75839157,"comment_id":133776956,"body_markdown":"Yeah sure. I have added my Notes.java as well","body":"Yeah sure. I have added my Notes.java as well"}],"answers":[{"tags":[],"owner":{"account_id":27554556,"reputation":100,"user_id":21029023,"display_name":"Nick Pap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679714590,"creation_date":1679714590,"answer_id":75839499,"question_id":75839157,"body_markdown":"I&#39;m not very familiar with the code you used in RoomDB.java since I have only used a very specific way of doing those things. However, not sure if it will change anything, but there are some things you could change in your DAO.\r\n\r\nFirst and foremost, there is a an Update notation in Room, so you don&#39;t have to use a Query in order to update your tables.\r\n\r\n    import androidx.room.Update; //this should go where your other import statements are\r\n    \r\n    @Update\r\n    public void updateAgent(Agent agent); //example code from one of my projects - this should go where you currently have the Query for updating the tables\r\n\r\nSecondly, as you can see above, I&#39;m declaring public and void for each method. Not sure if this will fix your problem, but it won&#39;t hurt to give it a try. (Example code from my project below)\r\n\r\n    package com.example.excursiontime;\r\n    \r\n    import androidx.room.Dao;\r\n    import androidx.room.Delete;\r\n    import androidx.room.Insert;\r\n    import androidx.room.Query;\r\n    import androidx.room.Update;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Dao\r\n    public interface MyDAO {\r\n    \r\n        //Agents\r\n        @Insert\r\n        public void addAgent(Agent agent);\r\n    \r\n        @Query(&quot;SELECT * FROM agents&quot;)\r\n        public List&lt;Agent&gt; getAgents();\r\n    \r\n        @Delete\r\n        public void deleteAgent(Agent agent);\r\n    \r\n        @Update\r\n        public void updateAgent(Agent agent);\r\n    }\r\n\r\nPS: Sorry for making this an answer. I don&#39;t have enough reputation to ask you all of this in a comment. And might as well have it here as an answer so other people can see it, if this indeed fixes your problem.","title":"Cannot resolve symbol error | Android Studio Error | ROOM Database","body":"<p>I'm not very familiar with the code you used in RoomDB.java since I have only used a very specific way of doing those things. However, not sure if it will change anything, but there are some things you could change in your DAO.</p>\n<p>First and foremost, there is a an Update notation in Room, so you don't have to use a Query in order to update your tables.</p>\n<pre><code>import androidx.room.Update; //this should go where your other import statements are\n\n@Update\npublic void updateAgent(Agent agent); //example code from one of my projects - this should go where you currently have the Query for updating the tables\n</code></pre>\n<p>Secondly, as you can see above, I'm declaring public and void for each method. Not sure if this will fix your problem, but it won't hurt to give it a try. (Example code from my project below)</p>\n<pre><code>package com.example.excursiontime;\n\nimport androidx.room.Dao;\nimport androidx.room.Delete;\nimport androidx.room.Insert;\nimport androidx.room.Query;\nimport androidx.room.Update;\n\nimport java.util.List;\n\n@Dao\npublic interface MyDAO {\n\n    //Agents\n    @Insert\n    public void addAgent(Agent agent);\n\n    @Query(&quot;SELECT * FROM agents&quot;)\n    public List&lt;Agent&gt; getAgents();\n\n    @Delete\n    public void deleteAgent(Agent agent);\n\n    @Update\n    public void updateAgent(Agent agent);\n}\n</code></pre>\n<p>PS: Sorry for making this an answer. I don't have enough reputation to ask you all of this in a comment. And might as well have it here as an answer so other people can see it, if this indeed fixes your problem.</p>\n"},{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679779998,"creation_date":1679779998,"answer_id":75844646,"question_id":75839157,"body_markdown":"I believe that the problems are a red herring i.e. there is no issue. If you compile (Ctrl + F9) you should see that the project builds with no issues e.g.\r\n\r\n    BUILD SUCCESSFUL in 283ms\r\n    31 actionable tasks: 31 up-to-date\r\n\r\nEven though:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nTo further prove the point consider the following activity code:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        RoomDB db;\r\n        MainDAO dao;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            db = RoomDB.getInstance(this);\r\n            dao = db.mainDAO();\r\n    \r\n            Notes n1 = new Notes();\r\n            n1.setDate(&quot;2023-03-31&quot;);\r\n            n1.setNotes(&quot;Blah&quot;);\r\n            n1.setPinned(false);\r\n            n1.setTitle(&quot;Note001&quot;);\r\n    \r\n            dao.insert(n1);\r\n            dao.insert(n1);\r\n            dao.update(666,&quot;Not a valid Notes&quot;,&quot;nothing&quot;);\r\n            dao.update(1,&quot;Probably a valid ID for update&quot;,&quot;something that is not blah!!!!&quot;);\r\n            dao.delete(n1);\r\n            for (Notes n: dao.getAll()) {\r\n                Log.d(&quot;DBINFO&quot;,&quot;NoteTitle=&quot; + n.getTitle() + &quot; ID is &quot; + n.getID() + &quot; Date is &quot; + n.getDate() + &quot; Pinned=&quot; + n.isPinned() + &quot; Notes are\\n\\t&quot; + n.getNotes());\r\n            }\r\n        }\r\n    }\r\n\r\nWhen run, then the log includes:-\r\n\r\n    D/DBINFO: NoteTitle=Note001 ID is 2 Date is 2023-03-31 Pinned=false Notes are\r\n        \tBlah\r\n    D/DBINFO: NoteTitle=Probably a valid ID for update ID is 1 Date is 2023-03-31 Pinned=false Notes are\r\n        \tsomething that is not blah!!!!\r\n\r\nAnd viewing the database via App Inspection shows:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**i.e.**\r\n\r\n- The two rows have been inserted.\r\n- The update for the row with an id of 666 (not a row that exists) has not caused an issue.\r\n- The update for the row with an id of 1 (row does exist) has changed the values acordingly\r\n- The delete, using the n1 object, has not deleted a row; noting that as the id wasn&#39;t set that the id is 0 and thus not an existing row even though n1 was successfully used to insert 2 rows (where the id was generated as the value of the id member of the n1 object was 0).\r\n- The 2 rows were extracted and confirm that the row with an id of 1 was updated.\r\n\r\n\r\n*Personally I tend to rely upon the build/compile and the resultant build log, rather than the often deceptive problems highlighted by the editor. In addition to errors this will also display warnings*\r\n\r\n- note that no warnings were issued for the above.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nX3ft.png\r\n  [2]: https://i.stack.imgur.com/87u4d.png","title":"Cannot resolve symbol error | Android Studio Error | ROOM Database","body":"<p>I believe that the problems are a red herring i.e. there is no issue. If you compile (Ctrl + F9) you should see that the project builds with no issues e.g.</p>\n<pre><code>BUILD SUCCESSFUL in 283ms\n31 actionable tasks: 31 up-to-date\n</code></pre>\n<p>Even though:-</p>\n<p><a href=\"https://i.stack.imgur.com/nX3ft.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nX3ft.png\" alt=\"enter image description here\" /></a></p>\n<p>To further prove the point consider the following activity code:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    RoomDB db;\n    MainDAO dao;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = RoomDB.getInstance(this);\n        dao = db.mainDAO();\n\n        Notes n1 = new Notes();\n        n1.setDate(&quot;2023-03-31&quot;);\n        n1.setNotes(&quot;Blah&quot;);\n        n1.setPinned(false);\n        n1.setTitle(&quot;Note001&quot;);\n\n        dao.insert(n1);\n        dao.insert(n1);\n        dao.update(666,&quot;Not a valid Notes&quot;,&quot;nothing&quot;);\n        dao.update(1,&quot;Probably a valid ID for update&quot;,&quot;something that is not blah!!!!&quot;);\n        dao.delete(n1);\n        for (Notes n: dao.getAll()) {\n            Log.d(&quot;DBINFO&quot;,&quot;NoteTitle=&quot; + n.getTitle() + &quot; ID is &quot; + n.getID() + &quot; Date is &quot; + n.getDate() + &quot; Pinned=&quot; + n.isPinned() + &quot; Notes are\\n\\t&quot; + n.getNotes());\n        }\n    }\n}\n</code></pre>\n<p>When run, then the log includes:-</p>\n<pre><code>D/DBINFO: NoteTitle=Note001 ID is 2 Date is 2023-03-31 Pinned=false Notes are\n        Blah\nD/DBINFO: NoteTitle=Probably a valid ID for update ID is 1 Date is 2023-03-31 Pinned=false Notes are\n        something that is not blah!!!!\n</code></pre>\n<p>And viewing the database via App Inspection shows:-</p>\n<p><a href=\"https://i.stack.imgur.com/87u4d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/87u4d.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>i.e.</strong></p>\n<ul>\n<li>The two rows have been inserted.</li>\n<li>The update for the row with an id of 666 (not a row that exists) has not caused an issue.</li>\n<li>The update for the row with an id of 1 (row does exist) has changed the values acordingly</li>\n<li>The delete, using the n1 object, has not deleted a row; noting that as the id wasn't set that the id is 0 and thus not an existing row even though n1 was successfully used to insert 2 rows (where the id was generated as the value of the id member of the n1 object was 0).</li>\n<li>The 2 rows were extracted and confirm that the row with an id of 1 was updated.</li>\n</ul>\n<p><em>Personally I tend to rely upon the build/compile and the resultant build log, rather than the often deceptive problems highlighted by the editor. In addition to errors this will also display warnings</em></p>\n<ul>\n<li>note that no warnings were issued for the above.</li>\n</ul>\n"}],"owner":{"account_id":21662054,"reputation":11,"user_id":15981054,"display_name":"Faizan "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679779998,"creation_date":1679706625,"question_id":75839157,"body_markdown":"I am working on a notepad application in java. After initializing the database in RoomDB.java class, i am importing the values in my MainDAO.java interface to perform Datebase logics. However, i get following errors in my Problems box of my MainDAO.java file: \r\n[Here](https://i.stack.imgur.com/y4ttl.png)\r\nCannot resolve symbol &#39;ID&#39;\r\nCannot resolve symbol &#39;notes&#39;\r\nCannot resolve symbol &#39;title&#39;\r\nCannot resolve symbol &#39;notes&#39;\r\n\r\nI am still learning to develop apps in android studio so please guide me and let me know the cause of the error. Following are the code files for your reference, let me know if you need anything else to debug this error.\r\n\r\nMainDAO.java\r\n```\r\npackage com.example.notepad_colornotes.Database;\r\n\r\nimport static androidx.room.OnConflictStrategy.REPLACE;\r\n\r\nimport androidx.room.Dao;\r\nimport androidx.room.Delete;\r\nimport androidx.room.Insert;\r\nimport androidx.room.Query;\r\n\r\nimport com.example.notepad_colornotes.Models.Notes;\r\n\r\n\r\nimport java.util.List;\r\n\r\n@Dao\r\npublic interface MainDAO {\r\n    //method to insert data into our database\r\n    @Insert(onConflict = REPLACE)\r\n    void insert(Notes notes);\r\n\r\n    //method to get all the data, datatype is list\r\n    @Query(&quot;SELECT * FROM notes ORDER BY ID DESC&quot;) //this query arranges the items in the notes in descending order. newly added ones will be at the top\r\n    List&lt;Notes&gt; getAll();\r\n\r\n    //method to update the data\r\n    @Query(&quot;UPDATE notes SET title = :Title, notes = :Notes WHERE ID = :ID&quot;) //takes the value from the model and that of the update method parameter\r\n    void update(int ID, String Title, String Notes);\r\n\r\n    @Delete\r\n    void delete(Notes notes);\r\n}\r\n\r\n```\r\n\r\nRoomDB.java\r\n\r\n```\r\npackage com.example.notepad_colornotes.Database;\r\n\r\nimport android.content.Context;\r\n\r\nimport androidx.room.Database;\r\nimport androidx.room.Room;\r\nimport androidx.room.RoomDatabase;\r\n\r\nimport com.example.notepad_colornotes.Models.Notes;\r\n\r\n@Database(entities = Notes.class, version = 1, exportSchema = false)\r\npublic abstract class RoomDB extends RoomDatabase {\r\n    private static RoomDB database;\r\n    private static String DATABASE_NAME = &quot;NoteApp&quot;;\r\n\r\n    //method to get the instance of the database\r\n    public synchronized static RoomDB getInstance(Context context){\r\n        if (database == null){\r\n            database = Room.databaseBuilder(context.getApplicationContext(),\r\n                    RoomDB.class, DATABASE_NAME)\r\n                    .allowMainThreadQueries()\r\n                    .fallbackToDestructiveMigration()\r\n                    .build();\r\n        }\r\n        return database;\r\n    }\r\n\r\n    //instance of DAO\r\n    public abstract MainDAO mainDAO();\r\n}\r\n\r\n```\r\n\r\nNotes.java\r\n```\r\npackage com.example.notepad_colornotes.Models;\r\n\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Entity;\r\nimport androidx.room.PrimaryKey;\r\n\r\nimport java.io.Serializable;\r\n//Serialization in Java allows us to convert an Object to stream that we can send over the network or save it as file or store in DB for later usage\r\n\r\n@Entity(tableName = &quot;notes&quot;)\r\n@SuppressWarnings(&quot;unused&quot;)\r\npublic class Notes implements Serializable {\r\n\r\n    @PrimaryKey(autoGenerate = true) //automatically generates an ID whenever we add an item\r\n    int ID = 0;\r\n\r\n    @ColumnInfo(name = &quot;title&quot;)\r\n    String Title = &quot;&quot;;\r\n\r\n    @ColumnInfo(name = &quot;notes&quot;)\r\n    String Notes = &quot;&quot;;\r\n\r\n    @ColumnInfo(name = &quot;date&quot;)\r\n    String Date = &quot;&quot;;\r\n\r\n    @ColumnInfo(name = &quot;pinned&quot;)\r\n    boolean Pinned = false;\r\n\r\n    public int getID() {\r\n        return ID;\r\n    }\r\n\r\n    public void setID(int ID) {\r\n        this.ID = ID;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return Title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.Title = title;\r\n    }\r\n\r\n    public String getNotes() {\r\n        return Notes;\r\n    }\r\n\r\n    public void setNotes(String notes) {\r\n        this.Notes = notes;\r\n    }\r\n\r\n    public String getDate() {\r\n        return Date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.Date = date;\r\n    }\r\n\r\n    public boolean isPinned() {\r\n        return Pinned;\r\n    }\r\n\r\n    public void setPinned(boolean pinned) {\r\n        this.Pinned = pinned;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ni have tried making the compilersdkversion to 33 as well and i have also rebuilt the project also i have checked the imports and the case sensitivity of the values. still no use","title":"Cannot resolve symbol error | Android Studio Error | ROOM Database","body":"<p>I am working on a notepad application in java. After initializing the database in RoomDB.java class, i am importing the values in my MainDAO.java interface to perform Datebase logics. However, i get following errors in my Problems box of my MainDAO.java file:\n<a href=\"https://i.stack.imgur.com/y4ttl.png\" rel=\"nofollow noreferrer\">Here</a>\nCannot resolve symbol 'ID'\nCannot resolve symbol 'notes'\nCannot resolve symbol 'title'\nCannot resolve symbol 'notes'</p>\n<p>I am still learning to develop apps in android studio so please guide me and let me know the cause of the error. Following are the code files for your reference, let me know if you need anything else to debug this error.</p>\n<p>MainDAO.java</p>\n<pre><code>package com.example.notepad_colornotes.Database;\n\nimport static androidx.room.OnConflictStrategy.REPLACE;\n\nimport androidx.room.Dao;\nimport androidx.room.Delete;\nimport androidx.room.Insert;\nimport androidx.room.Query;\n\nimport com.example.notepad_colornotes.Models.Notes;\n\n\nimport java.util.List;\n\n@Dao\npublic interface MainDAO {\n    //method to insert data into our database\n    @Insert(onConflict = REPLACE)\n    void insert(Notes notes);\n\n    //method to get all the data, datatype is list\n    @Query(&quot;SELECT * FROM notes ORDER BY ID DESC&quot;) //this query arranges the items in the notes in descending order. newly added ones will be at the top\n    List&lt;Notes&gt; getAll();\n\n    //method to update the data\n    @Query(&quot;UPDATE notes SET title = :Title, notes = :Notes WHERE ID = :ID&quot;) //takes the value from the model and that of the update method parameter\n    void update(int ID, String Title, String Notes);\n\n    @Delete\n    void delete(Notes notes);\n}\n\n</code></pre>\n<p>RoomDB.java</p>\n<pre><code>package com.example.notepad_colornotes.Database;\n\nimport android.content.Context;\n\nimport androidx.room.Database;\nimport androidx.room.Room;\nimport androidx.room.RoomDatabase;\n\nimport com.example.notepad_colornotes.Models.Notes;\n\n@Database(entities = Notes.class, version = 1, exportSchema = false)\npublic abstract class RoomDB extends RoomDatabase {\n    private static RoomDB database;\n    private static String DATABASE_NAME = &quot;NoteApp&quot;;\n\n    //method to get the instance of the database\n    public synchronized static RoomDB getInstance(Context context){\n        if (database == null){\n            database = Room.databaseBuilder(context.getApplicationContext(),\n                    RoomDB.class, DATABASE_NAME)\n                    .allowMainThreadQueries()\n                    .fallbackToDestructiveMigration()\n                    .build();\n        }\n        return database;\n    }\n\n    //instance of DAO\n    public abstract MainDAO mainDAO();\n}\n\n</code></pre>\n<p>Notes.java</p>\n<pre><code>package com.example.notepad_colornotes.Models;\n\nimport androidx.room.ColumnInfo;\nimport androidx.room.Entity;\nimport androidx.room.PrimaryKey;\n\nimport java.io.Serializable;\n//Serialization in Java allows us to convert an Object to stream that we can send over the network or save it as file or store in DB for later usage\n\n@Entity(tableName = &quot;notes&quot;)\n@SuppressWarnings(&quot;unused&quot;)\npublic class Notes implements Serializable {\n\n    @PrimaryKey(autoGenerate = true) //automatically generates an ID whenever we add an item\n    int ID = 0;\n\n    @ColumnInfo(name = &quot;title&quot;)\n    String Title = &quot;&quot;;\n\n    @ColumnInfo(name = &quot;notes&quot;)\n    String Notes = &quot;&quot;;\n\n    @ColumnInfo(name = &quot;date&quot;)\n    String Date = &quot;&quot;;\n\n    @ColumnInfo(name = &quot;pinned&quot;)\n    boolean Pinned = false;\n\n    public int getID() {\n        return ID;\n    }\n\n    public void setID(int ID) {\n        this.ID = ID;\n    }\n\n    public String getTitle() {\n        return Title;\n    }\n\n    public void setTitle(String title) {\n        this.Title = title;\n    }\n\n    public String getNotes() {\n        return Notes;\n    }\n\n    public void setNotes(String notes) {\n        this.Notes = notes;\n    }\n\n    public String getDate() {\n        return Date;\n    }\n\n    public void setDate(String date) {\n        this.Date = date;\n    }\n\n    public boolean isPinned() {\n        return Pinned;\n    }\n\n    public void setPinned(boolean pinned) {\n        this.Pinned = pinned;\n    }\n}\n\n</code></pre>\n<p>i have tried making the compilersdkversion to 33 as well and i have also rebuilt the project also i have checked the imports and the case sensitivity of the values. still no use</p>\n"},{"tags":["java","recursion","arraylist"],"owner":{"account_id":23774478,"reputation":43,"user_id":17788139,"display_name":"BlueInundation"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679779982,"creation_date":1679775028,"question_id":75844277,"body_markdown":"I have this ArrayList (called linArray) (and this only) that contains Subway exchange stations (first the station name and then the lines you can exchange to at that station):\r\n\r\n    [[Yenikapi, B1, M1A, M2], [Otogar, M1A, M1B], [Kagithane, M7, M11], [Levent, M2, M6], [Sisli-Mecidiyekoy, M2, M7], [Uskudar, B1, M5], [AyrilikCesmesi, B1, M4]]\r\n\r\nThen I have an initial line, and a final line like `[M5, M2]` (or `[M1B,M4]` and whatever). I need to find the indices stations we have to use when going from M5 to M2 (example) (the result would be `[5,0]` i.e. Uskudar and Yenikapi).\r\n\r\nI wrote a method for it, where `linInit` is initial line M5, `linFin` is M2, `indices` is the ArrayList to store the indices, and `linArray` is the initial ArrayList.\r\n\r\n    static ArrayList&lt;String&gt; connectionFinder(String linInit, String linFin, ArrayList&lt;String&gt; indices, ArrayList&lt;ArrayList&lt;String&gt;&gt; linArray) {\r\n            if (linInit.equals(linFin)) {   //returns the indices list if linInit reaches linFin\r\n                return indices;\r\n            }\r\n            for (int i = 0; i &lt; linArray.size(); i++) {\r\n                if (linArray.get(i).contains(linInit) &amp;&amp; !indices.contains(i)) {   //checks which stations are exchange stations for linInit, and checks the index to prevent infinite recursion\r\n                    for (int j = 1; j &lt; linArray.get(i).size(); j++) {\r\n                        if (!linArray.get(i).get(j).equals(linInit)) {   //j starts from 1 so as to avoid the station name, and checks if the linInit is different to prevent infinite recursion\r\n                            connectionFinder(linArray.get(i).get(j), linFin, add(indices, i), linArray);   //changes the linInit, and adds the index ( add(ArrayList,value) is a custom method that returns the ArrayList instead of a boolean -ArrayList.add(value) returns a boolean-)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\nBut at the end there are too many indices in the ArrayList (it gives `[5, 0, 1, 0]` instead of `[5,0]`). I believe it&#39;s because the Recursive Calls modify the index list globally, not for each Recursive Call (i.e. the ArrayList changes permanently, not temporarily during that Recursive Call)\r\n\r\nHow can I resolve this issue, or what can I do to get the result I want?","title":"Finding a ArrayList Connection (representing Subway Lines) with Recursion","body":"<p>I have this ArrayList (called linArray) (and this only) that contains Subway exchange stations (first the station name and then the lines you can exchange to at that station):</p>\n<pre><code>[[Yenikapi, B1, M1A, M2], [Otogar, M1A, M1B], [Kagithane, M7, M11], [Levent, M2, M6], [Sisli-Mecidiyekoy, M2, M7], [Uskudar, B1, M5], [AyrilikCesmesi, B1, M4]]\n</code></pre>\n<p>Then I have an initial line, and a final line like <code>[M5, M2]</code> (or <code>[M1B,M4]</code> and whatever). I need to find the indices stations we have to use when going from M5 to M2 (example) (the result would be <code>[5,0]</code> i.e. Uskudar and Yenikapi).</p>\n<p>I wrote a method for it, where <code>linInit</code> is initial line M5, <code>linFin</code> is M2, <code>indices</code> is the ArrayList to store the indices, and <code>linArray</code> is the initial ArrayList.</p>\n<pre><code>static ArrayList&lt;String&gt; connectionFinder(String linInit, String linFin, ArrayList&lt;String&gt; indices, ArrayList&lt;ArrayList&lt;String&gt;&gt; linArray) {\n        if (linInit.equals(linFin)) {   //returns the indices list if linInit reaches linFin\n            return indices;\n        }\n        for (int i = 0; i &lt; linArray.size(); i++) {\n            if (linArray.get(i).contains(linInit) &amp;&amp; !indices.contains(i)) {   //checks which stations are exchange stations for linInit, and checks the index to prevent infinite recursion\n                for (int j = 1; j &lt; linArray.get(i).size(); j++) {\n                    if (!linArray.get(i).get(j).equals(linInit)) {   //j starts from 1 so as to avoid the station name, and checks if the linInit is different to prevent infinite recursion\n                        connectionFinder(linArray.get(i).get(j), linFin, add(indices, i), linArray);   //changes the linInit, and adds the index ( add(ArrayList,value) is a custom method that returns the ArrayList instead of a boolean -ArrayList.add(value) returns a boolean-)\n                    }\n                }\n            }\n        }\n        return null;\n    }\n</code></pre>\n<p>But at the end there are too many indices in the ArrayList (it gives <code>[5, 0, 1, 0]</code> instead of <code>[5,0]</code>). I believe it's because the Recursive Calls modify the index list globally, not for each Recursive Call (i.e. the ArrayList changes permanently, not temporarily during that Recursive Call)</p>\n<p>How can I resolve this issue, or what can I do to get the result I want?</p>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":18655075,"reputation":2482,"user_id":13597675,"display_name":"Aziz Sonawalla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590862214,"creation_date":1590799904,"answer_id":62096551,"question_id":62095869,"body_markdown":"I have the full code answer below, and here&#39;s the explanation:\r\n\r\nEssentially you need to break this problem down to a recurrence. What that means is, you look at the choice at each step (i.e. whether to use a number or not in the sum) and recursively calculate both options.\r\n\r\nThe base case:\r\nIf num == 0 then we know it&#39;s true. But if num != 0 and the array has length 0, then we know it&#39;s false\r\n\r\nRecursive case:\r\nWe check if the first number in the array is less than or equal to num. If not, then we can&#39;t use it. So we do a recursive call with all the same parameters except the array is now the original array minus the first number\r\n\r\nIf we CAN use the number (i.e. ``a[0] &lt;= num``) then the true answer might use this or it may not use it. We make a recursive call for each case, and return true if either of the recursive calls return true.\r\n\r\nThe consecutive number rule:\r\nThis is easy to enforce. We add a parameter called &#39;left&#39; which tells us the number of elements we can consecutively take from the beginning of the array. To start with, left is 2 because at most we can take 2 consecutive numbers. Then in the cases where we DO use the first number in the array in our sum, we decrement left. If we don&#39;t use the first number in the array, we reset left to 2. In the cases where left becomes 0, we have no choice but to skip the current number at the top of the array.\r\n\r\n\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        int[] a = new int[] {5,4,2,1,3};\r\n        System.out.println(sumRule(a, 8));\r\n        System.out.println(sumRule(a, 11));\r\n      }\r\n    \r\n      public static boolean sumRule(int[] a , int num){\r\n        if (num == 0){\r\n            return true;\r\n        } else {\r\n          return sumRule(a,num,2);\r\n        }\r\n      }\r\n    \r\n      private static boolean sumRule(int[] a, int num, int left){\r\n          if (num == 0) {\r\n            return true;\r\n          }\r\n    \r\n          if (a.length == 0) {\r\n            return false;\r\n          }\r\n          \r\n          int[] a_new = new int[a.length-1];\r\n          for (int i = 1; i &lt; a.length; i++) a_new[i-1] = a[i];\r\n    \r\n          if (left == 0) {\r\n            return sumRule(a_new, num, 2);\r\n          }\r\n    \r\n          boolean using_a0 = false;\r\n          if (a[0] &lt;= num) {\r\n            using_a0 = sumRule(a_new, num-a[0], left-1);\r\n          }\r\n    \r\n          boolean not_using_a0 = sumRule(a_new, num, 2);\r\n    \r\n          return (not_using_a0 || using_a0);\r\n      }\r\n    }\r\n\r\n**Edit - A variation on the code above without copying the array:**\r\n\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        int[] a = new int[] {5,4,2,1,3};\r\n        System.out.println(sumRule(a, 8));\r\n        System.out.println(sumRule(a, 11));\r\n      }\r\n    \r\n      public static boolean sumRule(int[] a , int num){\r\n        if (num == 0){\r\n            return true;\r\n        } else {\r\n          return sumRuleNoLoop(a,num,2,0);\r\n        }\r\n      }\r\n    \r\n      private static boolean sumRuleNoLoop(int[] a, int num, int left, int startIdx){\r\n          if (num == 0) {\r\n            return true;\r\n          }\r\n    \r\n          if (startIdx &gt;= a.length) {\r\n            return false;\r\n          }\r\n    \r\n          if (left == 0) {\r\n            return sumRuleNoLoop(a, num, 2, startIdx+1);\r\n          }\r\n    \r\n          boolean using_a0 = false;\r\n          if (a[startIdx] &lt;= num) {\r\n            using_a0 = sumRuleNoLoop(a, num-a[startIdx], left-1, startIdx+1);\r\n          }\r\n    \r\n          boolean not_using_a0 = sumRuleNoLoop(a, num, 2, startIdx+1);\r\n    \r\n          return (not_using_a0 || using_a0);\r\n      }\r\n    }","title":"Recursion sum numbers *with rule* - Recursion only","body":"<p>I have the full code answer below, and here's the explanation:</p>\n\n<p>Essentially you need to break this problem down to a recurrence. What that means is, you look at the choice at each step (i.e. whether to use a number or not in the sum) and recursively calculate both options.</p>\n\n<p>The base case:\nIf num == 0 then we know it's true. But if num != 0 and the array has length 0, then we know it's false</p>\n\n<p>Recursive case:\nWe check if the first number in the array is less than or equal to num. If not, then we can't use it. So we do a recursive call with all the same parameters except the array is now the original array minus the first number</p>\n\n<p>If we CAN use the number (i.e. <code>a[0] &lt;= num</code>) then the true answer might use this or it may not use it. We make a recursive call for each case, and return true if either of the recursive calls return true.</p>\n\n<p>The consecutive number rule:\nThis is easy to enforce. We add a parameter called 'left' which tells us the number of elements we can consecutively take from the beginning of the array. To start with, left is 2 because at most we can take 2 consecutive numbers. Then in the cases where we DO use the first number in the array in our sum, we decrement left. If we don't use the first number in the array, we reset left to 2. In the cases where left becomes 0, we have no choice but to skip the current number at the top of the array.</p>\n\n<pre><code>class Main {\n  public static void main(String[] args) {\n    int[] a = new int[] {5,4,2,1,3};\n    System.out.println(sumRule(a, 8));\n    System.out.println(sumRule(a, 11));\n  }\n\n  public static boolean sumRule(int[] a , int num){\n    if (num == 0){\n        return true;\n    } else {\n      return sumRule(a,num,2);\n    }\n  }\n\n  private static boolean sumRule(int[] a, int num, int left){\n      if (num == 0) {\n        return true;\n      }\n\n      if (a.length == 0) {\n        return false;\n      }\n\n      int[] a_new = new int[a.length-1];\n      for (int i = 1; i &lt; a.length; i++) a_new[i-1] = a[i];\n\n      if (left == 0) {\n        return sumRule(a_new, num, 2);\n      }\n\n      boolean using_a0 = false;\n      if (a[0] &lt;= num) {\n        using_a0 = sumRule(a_new, num-a[0], left-1);\n      }\n\n      boolean not_using_a0 = sumRule(a_new, num, 2);\n\n      return (not_using_a0 || using_a0);\n  }\n}\n</code></pre>\n\n<p><strong>Edit - A variation on the code above without copying the array:</strong></p>\n\n<pre><code>class Main {\n  public static void main(String[] args) {\n    int[] a = new int[] {5,4,2,1,3};\n    System.out.println(sumRule(a, 8));\n    System.out.println(sumRule(a, 11));\n  }\n\n  public static boolean sumRule(int[] a , int num){\n    if (num == 0){\n        return true;\n    } else {\n      return sumRuleNoLoop(a,num,2,0);\n    }\n  }\n\n  private static boolean sumRuleNoLoop(int[] a, int num, int left, int startIdx){\n      if (num == 0) {\n        return true;\n      }\n\n      if (startIdx &gt;= a.length) {\n        return false;\n      }\n\n      if (left == 0) {\n        return sumRuleNoLoop(a, num, 2, startIdx+1);\n      }\n\n      boolean using_a0 = false;\n      if (a[startIdx] &lt;= num) {\n        using_a0 = sumRuleNoLoop(a, num-a[startIdx], left-1, startIdx+1);\n      }\n\n      boolean not_using_a0 = sumRuleNoLoop(a, num, 2, startIdx+1);\n\n      return (not_using_a0 || using_a0);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2439595,"reputation":2897,"user_id":2128503,"accept_rate":22,"display_name":"Moon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1590972662,"creation_date":1590831313,"answer_id":62100555,"question_id":62095869,"body_markdown":"First thing you can add is a check to see not 3 numbers in a row being added. Also replacing a number in the array with `-1` would have unintended side effects within recursive calls. Below is something I have. You can ignore the `index` param I have used to see the values used.\n\nExplanation:\nThe recursive `sumRule` method divides the problem into two parts:\n\n - First part takes the value of current index and adds with the sum of values starting from next index.\n - Second part assumes, current value can’t be taken for the sum. It only checks if there is a sum within the subset starting from next value of the array.\n\nIn the method, `lastIndex` is keeping track of the index of last value picked up for the sum. So, in the first call the value is 0, 1 in second and so on.\n\n`(start - lastIndex &lt;= 1 ? consecutive + 1 : 1)` is to check whether value of `consecutive` should be increased or not. consecutive = 1 means, current value is added to the sum.\n\r\n\r\n      public static boolean sumRule(int[] a, int num) {\r\n        if (num == 0) {\r\n          return true;\r\n        } else {\r\n          return sumRule(a, num, 0, 0, 0, 0, &quot;&quot;);\r\n        }\r\n      }\r\n    \r\n      public static boolean sumRule(final int[] a, int num, int sum, int start, int consecutive, int lastIndex,\r\n          String index) {\r\n        if (consecutive == 3) {\r\n          return false;\r\n        }\r\n    \r\n        if (sum == num) {\r\n          System.out.println(index);\r\n          return true;\r\n        }\r\n    \r\n        if (start &gt;= a.length) {\r\n          return false;\r\n        }\r\n    \r\n        return sumRule(a, num, sum + a[start], start + 1, (start - lastIndex &lt;= 1 ? consecutive + 1 : 1), start,\r\n            index + &quot;, &quot; + start) || sumRule(a, num, sum, start + 1, consecutive, lastIndex, index);\r\n      }","title":"Recursion sum numbers *with rule* - Recursion only","body":"<p>First thing you can add is a check to see not 3 numbers in a row being added. Also replacing a number in the array with <code>-1</code> would have unintended side effects within recursive calls. Below is something I have. You can ignore the <code>index</code> param I have used to see the values used.</p>\n\n<p>Explanation:\nThe recursive <code>sumRule</code> method divides the problem into two parts:</p>\n\n<ul>\n<li>First part takes the value of current index and adds with the sum of values starting from next index.</li>\n<li>Second part assumes, current value can’t be taken for the sum. It only checks if there is a sum within the subset starting from next value of the array.</li>\n</ul>\n\n<p>In the method, <code>lastIndex</code> is keeping track of the index of last value picked up for the sum. So, in the first call the value is 0, 1 in second and so on.</p>\n\n<p><code>(start - lastIndex &lt;= 1 ? consecutive + 1 : 1)</code> is to check whether value of <code>consecutive</code> should be increased or not. consecutive = 1 means, current value is added to the sum.</p>\n\n<pre><code>  public static boolean sumRule(int[] a, int num) {\n    if (num == 0) {\n      return true;\n    } else {\n      return sumRule(a, num, 0, 0, 0, 0, \"\");\n    }\n  }\n\n  public static boolean sumRule(final int[] a, int num, int sum, int start, int consecutive, int lastIndex,\n      String index) {\n    if (consecutive == 3) {\n      return false;\n    }\n\n    if (sum == num) {\n      System.out.println(index);\n      return true;\n    }\n\n    if (start &gt;= a.length) {\n      return false;\n    }\n\n    return sumRule(a, num, sum + a[start], start + 1, (start - lastIndex &lt;= 1 ? consecutive + 1 : 1), start,\n        index + \", \" + start) || sumRule(a, num, sum, start + 1, consecutive, lastIndex, index);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590833078,"creation_date":1590833078,"answer_id":62100836,"question_id":62095869,"body_markdown":"Here is my implementation. It contains comments explaining what the different parts do.\r\n```java\r\npublic class RecurSum {\r\n    /**\r\n     * Determines whether &#39;sum&#39; equals &#39;target&#39;.\r\n     * \r\n     * @param arr         - its elements are summed\r\n     * @param sum         - sum of some elements in &#39;arr&#39;\r\n     * @param target      - required value of &#39;sum&#39;\r\n     * @param index       - index in &#39;arr&#39;\r\n     * @param consecutive - number of consecutive indexes summed to ensure don&#39;t exceed 3\r\n     * @param start       - starting element in &#39;arr&#39; which is used for back-tracking\r\n     * \r\n     * @return &quot;true&quot; if &#39;sum&#39; equals &#39;target&#39;\r\n     */\r\n    private static boolean sumRule(int[] arr, int sum, int target, int index, int consecutive, int start) {\r\n        if (sum == target) {\r\n            return true;\r\n        }\r\n        else {\r\n            if (index &gt;= arr.length) {\r\n                // if we have reached last element in &#39;arr&#39; then back-track and start again\r\n                if (start &lt; arr.length) {\r\n                    return sumRule(arr, 0, target, start + 1, 0, start + 1);\r\n                }\r\n                // we have reached last element in &#39;arr&#39; and cannot back-track\r\n                return false;\r\n            }\r\n            else {\r\n                consecutive++;\r\n                if (consecutive == 3) {\r\n                    // skip 3rd consecutive element (because of the rule)\r\n                    consecutive = 0;\r\n                    return sumRule(arr, sum, target, index + 2, consecutive, start);\r\n                }\r\n                else {\r\n                    if (sum + arr[index] &gt; target) {\r\n                        // recursive call but don&#39;t add current element of &#39;arr&#39;\r\n                        return sumRule(arr, sum, target, index + 1, 0, start);\r\n                    }\r\n                    // recursive call: add current element of &#39;arr&#39; to &#39;sum&#39; and proceed to next element\r\n                    return sumRule(arr, sum + arr[index], target, index + 1, consecutive, start);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = new int[]{5, 4, 2, 1, 3};\r\n\r\n        // initial call to recursive method with target = 11 (eleven)\r\n        System.out.println(sumRule(arr, 0, 11, 0, 0, 0));\r\n\r\n        // initial call to recursive method with target = 8\r\n        System.out.println(sumRule(arr, 0, 8, 0, 0, 0));\r\n    }\r\n}\r\n```","title":"Recursion sum numbers *with rule* - Recursion only","body":"<p>Here is my implementation. It contains comments explaining what the different parts do.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class RecurSum {\n    /**\n     * Determines whether 'sum' equals 'target'.\n     * \n     * @param arr         - its elements are summed\n     * @param sum         - sum of some elements in 'arr'\n     * @param target      - required value of 'sum'\n     * @param index       - index in 'arr'\n     * @param consecutive - number of consecutive indexes summed to ensure don't exceed 3\n     * @param start       - starting element in 'arr' which is used for back-tracking\n     * \n     * @return \"true\" if 'sum' equals 'target'\n     */\n    private static boolean sumRule(int[] arr, int sum, int target, int index, int consecutive, int start) {\n        if (sum == target) {\n            return true;\n        }\n        else {\n            if (index &gt;= arr.length) {\n                // if we have reached last element in 'arr' then back-track and start again\n                if (start &lt; arr.length) {\n                    return sumRule(arr, 0, target, start + 1, 0, start + 1);\n                }\n                // we have reached last element in 'arr' and cannot back-track\n                return false;\n            }\n            else {\n                consecutive++;\n                if (consecutive == 3) {\n                    // skip 3rd consecutive element (because of the rule)\n                    consecutive = 0;\n                    return sumRule(arr, sum, target, index + 2, consecutive, start);\n                }\n                else {\n                    if (sum + arr[index] &gt; target) {\n                        // recursive call but don't add current element of 'arr'\n                        return sumRule(arr, sum, target, index + 1, 0, start);\n                    }\n                    // recursive call: add current element of 'arr' to 'sum' and proceed to next element\n                    return sumRule(arr, sum + arr[index], target, index + 1, consecutive, start);\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        int[] arr = new int[]{5, 4, 2, 1, 3};\n\n        // initial call to recursive method with target = 11 (eleven)\n        System.out.println(sumRule(arr, 0, 11, 0, 0, 0));\n\n        // initial call to recursive method with target = 8\n        System.out.println(sumRule(arr, 0, 8, 0, 0, 0));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27048227,"reputation":29,"user_id":20602067,"display_name":"l3xandrr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679779689,"creation_date":1679779689,"answer_id":75844619,"question_id":62095869,"body_markdown":"\tpublic static boolean isSum(int[] a, int index, int sum){\r\n\t\r\n\tif(sum==0){\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tif(index&gt;=a.length-1 || sum&lt;0){\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t\treturn isSum(a,index+3,sum-a[index]-a[index+1]) || isSum(a,index+2,sum-a[index]) || isSum(a,index+1,sum);\r\n\t}\r\n\r\n\r\n\tpublic static boolean isSum(int[] a, int sum){\r\n\t\r\n\t\treturn isSum(a,0,sum);\r\n\r\n\t}","title":"Recursion sum numbers *with rule* - Recursion only","body":"<pre><code>public static boolean isSum(int[] a, int index, int sum){\n\nif(sum==0){\n    return true;\n}\n\nif(index&gt;=a.length-1 || sum&lt;0){\n    return false;\n}\n\n    return isSum(a,index+3,sum-a[index]-a[index+1]) || isSum(a,index+2,sum-a[index]) || isSum(a,index+1,sum);\n}\n\n\npublic static boolean isSum(int[] a, int sum){\n\n    return isSum(a,0,sum);\n\n}\n</code></pre>\n"}],"owner":{"account_id":4022724,"reputation":164,"user_id":3312364,"display_name":"makat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62100555,"answer_count":4,"score":1,"last_activity_date":1679779689,"creation_date":1590793970,"question_id":62095869,"body_markdown":"So the exercise is:\r\n\r\nUsing recursion only (no loops)\r\n\r\nFind if there is sub ground of numbers that are equal to the given number in an array and follow the rule.\r\n\r\nLet&#39;s say I have this array, I give the function a number for sum and it must adhere to this rule:\r\nyou cannot repeat the same number, and you can&#39;t sum 3 numbers in a row (can&#39;t do i+1 and i+2)\r\n\r\n\r\n\r\n    int[] a = {5,4,2,1,3};\r\n\r\nSo in this case: \r\nnum 8 = true (4+3+1) ( 5+3)\r\nnum 11 = false (4+5+2 are 3 but are three in a row) (5+2+1+3 also three in a row)\r\n\r\n\r\n\r\nMy attempt is:\r\n\r\n    public static boolean sumRule(int[] a , int num){\r\n            if (num == 0){\r\n                return true;\r\n            } else {\r\n    \r\n        return sumRule(a,num,0,a.length);\r\n            }\r\n    }\r\n    \r\n    private static boolean sumRule(int[] a, int num, int low,int high){\r\n        if(low &gt;= high || low &lt; 0){\r\n            return false;\r\n        }\r\n    \r\n        if (a[low] == -1){\r\n            return false;\r\n        }\r\n    \r\n        if(a[low] == num || num-a[low] == 0 ){\r\n            return true;\r\n        }\r\n    \r\n        int temp = a[low];\r\n        a[low] = -1;\r\n    \r\n        return  sumRule(a,num,low,high) || sumRule(a,num-temp,low+3,high) || sumRule(a,num-temp,low+1,high) ;\r\n        \r\n    }\r\n\r\nBut when I send 11 to this, it still returns true, anyone has an idea what am i missing here?\r\n\r\nThanks,\r\n\r\n\r\n","title":"Recursion sum numbers *with rule* - Recursion only","body":"<p>So the exercise is:</p>\n\n<p>Using recursion only (no loops)</p>\n\n<p>Find if there is sub ground of numbers that are equal to the given number in an array and follow the rule.</p>\n\n<p>Let's say I have this array, I give the function a number for sum and it must adhere to this rule:\nyou cannot repeat the same number, and you can't sum 3 numbers in a row (can't do i+1 and i+2)</p>\n\n<pre><code>int[] a = {5,4,2,1,3};\n</code></pre>\n\n<p>So in this case: \nnum 8 = true (4+3+1) ( 5+3)\nnum 11 = false (4+5+2 are 3 but are three in a row) (5+2+1+3 also three in a row)</p>\n\n<p>My attempt is:</p>\n\n<pre><code>public static boolean sumRule(int[] a , int num){\n        if (num == 0){\n            return true;\n        } else {\n\n    return sumRule(a,num,0,a.length);\n        }\n}\n\nprivate static boolean sumRule(int[] a, int num, int low,int high){\n    if(low &gt;= high || low &lt; 0){\n        return false;\n    }\n\n    if (a[low] == -1){\n        return false;\n    }\n\n    if(a[low] == num || num-a[low] == 0 ){\n        return true;\n    }\n\n    int temp = a[low];\n    a[low] = -1;\n\n    return  sumRule(a,num,low,high) || sumRule(a,num-temp,low+3,high) || sumRule(a,num-temp,low+1,high) ;\n\n}\n</code></pre>\n\n<p>But when I send 11 to this, it still returns true, anyone has an idea what am i missing here?</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","maven","maven-shade-plugin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679702590,"post_id":75838869,"comment_id":133774119,"body_markdown":"I assume the trailing `i` in `...Transformer&quot;&gt;i` is just a typo?","body":"I assume the trailing <code>i</code> in <code>...Transformer&quot;&gt;i</code> is just a typo?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679702664,"post_id":75838869,"comment_id":133774127,"body_markdown":"Try moving your config to `&lt;build&gt;&lt;plugins&gt;` instead of `&lt;pluginManagement&gt;`","body":"Try moving your config to <code>&lt;build&gt;&lt;plugins&gt;</code> instead of <code>&lt;pluginManagement&gt;</code>"},{"owner":{"account_id":2467550,"reputation":1512,"user_id":2150289,"display_name":"Alcamtar"},"score":0,"creation_date":1679710227,"post_id":75838869,"comment_id":133774781,"body_markdown":"@tgdavies THANK YOU. Such a seemingly simple thing. I was using maven&#39;s autogenerated project template on the assumption it was the most correct. If you add this as an answer I&#39;ll accept it.","body":"@tgdavies THANK YOU. Such a seemingly simple thing. I was using maven&#39;s autogenerated project template on the assumption it was the most correct. If you add this as an answer I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":2467550,"reputation":1512,"user_id":2150289,"display_name":"Alcamtar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679779328,"creation_date":1679779328,"answer_id":75844580,"question_id":75838869,"body_markdown":"The answer is from the comment by [tgdavies][1]. The `&lt;pluginManagement&gt;` tag interferes with the Shade plugin. For this example, it was causing two bugs:\r\n\r\n - The main manifest attribute was not getting set, preventing the jar from being executable.\r\n - The dependencies were not getting incorporated into the jar (i.e. a fat jar was not being constructed).\r\n\r\nRemoving `&lt;pluginManagement&gt;` resolved both of these issues. More information can be found at https://stackoverflow.com/questions/53918867/pluginmanagement-interferes-with-shade-plugin.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/11002/tgdavies","title":"How do I create a Fat Jar with Maven Shade?","body":"<p>The answer is from the comment by <a href=\"https://stackoverflow.com/users/11002/tgdavies\">tgdavies</a>. The <code>&lt;pluginManagement&gt;</code> tag interferes with the Shade plugin. For this example, it was causing two bugs:</p>\n<ul>\n<li>The main manifest attribute was not getting set, preventing the jar from being executable.</li>\n<li>The dependencies were not getting incorporated into the jar (i.e. a fat jar was not being constructed).</li>\n</ul>\n<p>Removing <code>&lt;pluginManagement&gt;</code> resolved both of these issues. More information can be found at <a href=\"https://stackoverflow.com/questions/53918867/pluginmanagement-interferes-with-shade-plugin\">pluginManagement interferes with shade plugin</a>.</p>\n"}],"owner":{"account_id":2467550,"reputation":1512,"user_id":2150289,"display_name":"Alcamtar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75844580,"answer_count":1,"score":0,"last_activity_date":1679779328,"creation_date":1679701689,"question_id":75838869,"body_markdown":"I am trying to create a fat jar using Maven. Everyone says the Shade plugin is the simplest way to do it, so that is what I am trying. I&#39;ve tried a good dozen example projects. All of them are slightly different in what XML tags are used and how the XML is nested, which is confusing and frustrating, but also none of them worked for me, and they are all so obscure I cannot tell WHY they don&#39;t work.\r\n\r\nI have tried to boil the problem down to a minimum viable Hello World project.\r\n\r\nHere is the project structure:\r\n\r\n      ├── pom.xml\r\n      └── src\r\n          └── main\r\n              └── java\r\n                  └── org\r\n                      └── example\r\n                          └── Hello.java\r\n\r\nMy Hello.java looks like this:\r\n\r\n    package org.example;\r\n    \r\n    import gnu.getopt.Getopt;\r\n    \r\n    public class Hello {\r\n        public static void main(String[] args) {\r\n    \t\tGetopt g = new Getopt(&quot;hello&quot;, args, &quot;x&quot;);\r\n    \r\n    \t\tint c;\r\n    \t\twhile ((c = g.getopt()) != -1) {\r\n    \t\t\tswitch (c) {\r\n    \t\t\t\tcase &#39;x&#39; -&gt; System.out.println(&quot;Hello X!&quot;);\r\n    \t\t\t\tdefault -&gt; System.out.println(&quot;Error &quot; + c);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Goodbye&quot;);\r\n    \t}\r\n    };\r\n\r\nAnd my pom.xml looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hello-fat-jar&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt; \r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt; \r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/gnu.getopt/java-getopt --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;gnu.getopt&lt;/groupId&gt;\r\n          &lt;artifactId&gt;java-getopt&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n    \r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.4.1&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;phase&gt;package&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                  &lt;configuration&gt;\r\n                    &lt;transformers&gt;\r\n                      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;i\r\n                        &lt;mainClass&gt;org.example.Hello&lt;/mainClass&gt;\r\n                      &lt;/transformer&gt;\r\n                    &lt;/transformers&gt;\r\n                  &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nSo far so good. I do a mvn clean package:\r\n\r\n    $ mvn clean package\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ---------------------&lt; org.example:hello-fat-jar &gt;----------------------\r\n    [INFO] Building hello-fat-jar 0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    Downloading from central: https://repo.maven.apache.org/maven2/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.pom\r\n    Downloaded from central: https://repo.maven.apache.org/maven2/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.pom (2.0 kB at 9.5 kB/s)\r\n    Downloading from central: https://repo.maven.apache.org/maven2/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.jar\r\n    Downloaded from central: https://repo.maven.apache.org/maven2/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.jar (60 kB at 1.8 MB/s)\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ hello-fat-jar ---\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hello-fat-jar ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory HOME/src/java/hello-fat-jar/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hello-fat-jar ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to HOME/src/java/hello-fat-jar/target/classes\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hello-fat-jar ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory HOME/src/java/hello-fat-jar/src/test/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hello-fat-jar ---\r\n    [INFO] No sources to compile\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ hello-fat-jar ---\r\n    [INFO] No tests to run.\r\n    [INFO] \r\n    [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ hello-fat-jar ---\r\n    [INFO] Building jar: HOME/src/java/hello-fat-jar/target/hello-fat-jar-0.1-SNAPSHOT.jar\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.595 s\r\n    [INFO] Finished at: 2023-03-24T16:30:35-07:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nI can see the dependency has been downloaded:\r\n\r\n    $ ls ~/.m2/repository/gnu/getopt/java-getopt/1.0.13\r\n    java-getopt-1.0.13.jar  java-getopt-1.0.13.jar.sha1  java-getopt-1.0.13.pom  java-getopt-1.0.13.pom.sha1  _remote.repositories\r\n\r\nBut it did not create a fat jar:\r\n\r\n    $ jar tf target/hello-fat-jar-0.1-SNAPSHOT.jar\r\n    META-INF/\r\n    META-INF/MANIFEST.MF\r\n    org/\r\n    org/example/\r\n    org/example/Hello.class\r\n    META-INF/maven/\r\n    META-INF/maven/org.example/\r\n    META-INF/maven/org.example/hello-fat-jar/\r\n    META-INF/maven/org.example/hello-fat-jar/pom.xml\r\n    META-INF/maven/org.example/hello-fat-jar/pom.properties\r\n\r\nWhen I try to run it complains about no main manifest attribute, which supposedly the shade plugin was supposed to set:\r\n\r\n    $ java -jar target/hello-fat-jar-0.1-SNAPSHOT.jar\r\n    no main manifest attribute, in target/hello-fat-jar-0.1-SNAPSHOT.jar\r\n\r\nI can get around the main manifest by adding a `maven-jar-plugin` with a `&lt;mainClass&gt;`, but it still isn&#39;t a fat jar and can&#39;t find the Getopt dependency. Also the shade plugin is supposed to set the main class and it is not doing so. I would like to understand why it is not working, and fix it, rather than rely on a hacky band-aid.\r\n \r\nBut the code and the jar is good! I can run it with an explicit classpath:\r\n\r\n    $ java -cp target/hello-fat-jar-0.1-SNAPSHOT.jar:$HOME/.m2/repository/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.jar org.example.Hello -x\r\n    Hello X!\r\n    Goodbye\r\n\r\n(For whatever it is worth, this is the cleanest tutorial I could find: https://javahelps.com/how-to-create-a-fat-jar-using-maven)\r\n\r\nWhat am I doing wrong? How can I create a fat jar using the shade plugin?\r\n\r\n**UPDATE**: following tgdavies&#39; comment, I removed the `&lt;pluginManagement&gt;` tags and everything works as expected. (pluginManagement came from the maven `archetype:generate` goal.)\r\n","title":"How do I create a Fat Jar with Maven Shade?","body":"<p>I am trying to create a fat jar using Maven. Everyone says the Shade plugin is the simplest way to do it, so that is what I am trying. I've tried a good dozen example projects. All of them are slightly different in what XML tags are used and how the XML is nested, which is confusing and frustrating, but also none of them worked for me, and they are all so obscure I cannot tell WHY they don't work.</p>\n<p>I have tried to boil the problem down to a minimum viable Hello World project.</p>\n<p>Here is the project structure:</p>\n<pre><code>  ├── pom.xml\n  └── src\n      └── main\n          └── java\n              └── org\n                  └── example\n                      └── Hello.java\n</code></pre>\n<p>My Hello.java looks like this:</p>\n<pre><code>package org.example;\n\nimport gnu.getopt.Getopt;\n\npublic class Hello {\n    public static void main(String[] args) {\n        Getopt g = new Getopt(&quot;hello&quot;, args, &quot;x&quot;);\n\n        int c;\n        while ((c = g.getopt()) != -1) {\n            switch (c) {\n                case 'x' -&gt; System.out.println(&quot;Hello X!&quot;);\n                default -&gt; System.out.println(&quot;Error &quot; + c);\n            }\n        }\n        System.out.println(&quot;Goodbye&quot;);\n    }\n};\n</code></pre>\n<p>And my pom.xml looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;hello-fat-jar&lt;/artifactId&gt;\n  &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt; \n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt; \n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/gnu.getopt/java-getopt --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;gnu.getopt&lt;/groupId&gt;\n      &lt;artifactId&gt;java-getopt&lt;/artifactId&gt;\n      &lt;version&gt;1.0.13&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.4.1&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;transformers&gt;\n                  &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;i\n                    &lt;mainClass&gt;org.example.Hello&lt;/mainClass&gt;\n                  &lt;/transformer&gt;\n                &lt;/transformers&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>So far so good. I do a mvn clean package:</p>\n<pre><code>$ mvn clean package\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ---------------------&lt; org.example:hello-fat-jar &gt;----------------------\n[INFO] Building hello-fat-jar 0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\nDownloading from central: https://repo.maven.apache.org/maven2/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.pom\nDownloaded from central: https://repo.maven.apache.org/maven2/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.pom (2.0 kB at 9.5 kB/s)\nDownloading from central: https://repo.maven.apache.org/maven2/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.jar\nDownloaded from central: https://repo.maven.apache.org/maven2/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.jar (60 kB at 1.8 MB/s)\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ hello-fat-jar ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hello-fat-jar ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory HOME/src/java/hello-fat-jar/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hello-fat-jar ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to HOME/src/java/hello-fat-jar/target/classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hello-fat-jar ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory HOME/src/java/hello-fat-jar/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hello-fat-jar ---\n[INFO] No sources to compile\n[INFO] \n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ hello-fat-jar ---\n[INFO] No tests to run.\n[INFO] \n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ hello-fat-jar ---\n[INFO] Building jar: HOME/src/java/hello-fat-jar/target/hello-fat-jar-0.1-SNAPSHOT.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.595 s\n[INFO] Finished at: 2023-03-24T16:30:35-07:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>I can see the dependency has been downloaded:</p>\n<pre><code>$ ls ~/.m2/repository/gnu/getopt/java-getopt/1.0.13\njava-getopt-1.0.13.jar  java-getopt-1.0.13.jar.sha1  java-getopt-1.0.13.pom  java-getopt-1.0.13.pom.sha1  _remote.repositories\n</code></pre>\n<p>But it did not create a fat jar:</p>\n<pre><code>$ jar tf target/hello-fat-jar-0.1-SNAPSHOT.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\norg/\norg/example/\norg/example/Hello.class\nMETA-INF/maven/\nMETA-INF/maven/org.example/\nMETA-INF/maven/org.example/hello-fat-jar/\nMETA-INF/maven/org.example/hello-fat-jar/pom.xml\nMETA-INF/maven/org.example/hello-fat-jar/pom.properties\n</code></pre>\n<p>When I try to run it complains about no main manifest attribute, which supposedly the shade plugin was supposed to set:</p>\n<pre><code>$ java -jar target/hello-fat-jar-0.1-SNAPSHOT.jar\nno main manifest attribute, in target/hello-fat-jar-0.1-SNAPSHOT.jar\n</code></pre>\n<p>I can get around the main manifest by adding a <code>maven-jar-plugin</code> with a <code>&lt;mainClass&gt;</code>, but it still isn't a fat jar and can't find the Getopt dependency. Also the shade plugin is supposed to set the main class and it is not doing so. I would like to understand why it is not working, and fix it, rather than rely on a hacky band-aid.</p>\n<p>But the code and the jar is good! I can run it with an explicit classpath:</p>\n<pre><code>$ java -cp target/hello-fat-jar-0.1-SNAPSHOT.jar:$HOME/.m2/repository/gnu/getopt/java-getopt/1.0.13/java-getopt-1.0.13.jar org.example.Hello -x\nHello X!\nGoodbye\n</code></pre>\n<p>(For whatever it is worth, this is the cleanest tutorial I could find: <a href=\"https://javahelps.com/how-to-create-a-fat-jar-using-maven\" rel=\"nofollow noreferrer\">https://javahelps.com/how-to-create-a-fat-jar-using-maven</a>)</p>\n<p>What am I doing wrong? How can I create a fat jar using the shade plugin?</p>\n<p><strong>UPDATE</strong>: following tgdavies' comment, I removed the <code>&lt;pluginManagement&gt;</code> tags and everything works as expected. (pluginManagement came from the maven <code>archetype:generate</code> goal.)</p>\n"},{"tags":["java","spring","spring-boot","datetime","spring-mongodb"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679385313,"post_id":75795633,"comment_id":133707622,"body_markdown":"You want to avoid using `Date`. It’s a legacy class that was finally supplanted nearly 10 years ago because it was poorly designed. Use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"You want to avoid using <code>Date</code>. It’s a legacy class that was finally supplanted nearly 10 years ago because it was poorly designed. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679792355,"post_id":75795633,"comment_id":133784151,"body_markdown":"`LocalDateTime` is the wrong Java type as well. That type cannot represent a point on the timeline as it has only a date with time but no time zone nor offset-from-UTC.","body":"<code>LocalDateTime</code> is the wrong Java type as well. That type cannot represent a point on the timeline as it has only a date with time but no time zone nor offset-from-UTC."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679792394,"post_id":75795633,"comment_id":133784154,"body_markdown":"Never put `Z` inside quotes in a date-time formatting pattern. You are discarding valuable information: an offset of zero hours-minutes-seconds.","body":"Never put <code>Z</code> inside quotes in a date-time formatting pattern. You are discarding valuable information: an offset of zero hours-minutes-seconds."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679792444,"post_id":75795633,"comment_id":133784156,"body_markdown":"This question is convoluted and unclear. I suggest you show an utterly simple but complete example of storing a date-time value, and of retrieving that date-time value. This question is also likely a duplicate of others.","body":"This question is convoluted and unclear. I suggest you show an utterly simple but complete example of storing a date-time value, and of retrieving that date-time value. This question is also likely a duplicate of others."}],"answers":[{"tags":[],"owner":{"account_id":27977546,"reputation":1,"user_id":21365993,"display_name":"BrokenHeart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679779076,"creation_date":1679779052,"answer_id":75844559,"question_id":75795633,"body_markdown":"So it turns out that if a date that is saved as a type String inside MongoDB, the default mapper cannot read it as a Java Date or LocalDateTime object. It has be mapped to a java String (unless you create the mapper function yourself). I could be wrong but that is the conclusion I have come to. ","title":"I am trying to convert some Strings I received from my mongodb collection into a java date object. But I can&#39;t seem to find a pattern that works","body":"<p>So it turns out that if a date that is saved as a type String inside MongoDB, the default mapper cannot read it as a Java Date or LocalDateTime object. It has be mapped to a java String (unless you create the mapper function yourself). I could be wrong but that is the conclusion I have come to.</p>\n"}],"owner":{"account_id":27977546,"reputation":1,"user_id":21365993,"display_name":"BrokenHeart"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75844559,"answer_count":1,"score":-1,"last_activity_date":1679779076,"creation_date":1679348931,"question_id":75795633,"body_markdown":"I want to convert values from my mongoDB format into a java Date object(LocalDateTime would also be fine). But I can&#39;t find the pattern that does the job. \r\n\r\nMy &#39;lastupdated&#39; value inside the mongodb collection is like this. \r\n`lastupdated : &quot;2015-08-26 00:03:50.133000000&quot;` \r\n\r\nI have successfully created a connection but I am getting an error converting it from a string to a date. This is what the error I am being shown. \r\n`Failed to convert from type [java.lang.String] to type [java.util.Date] for value &#39;2015-08-31 00:41:20.670000000&#39;` \r\n\r\nI am also struggling to convert this kind of String with key &#39;release&#39;.\r\n\r\n&gt; release : &#39;1893-05-09T00:00:00.000+00:00;\r\n\r\n\r\nI have applied the DateTimeFormat annotation which has usually worked for me in Spring as shown below. \r\n\r\n```\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss.SSZ&quot;)\r\n    private Date lastupdated;\r\n```\r\n\r\nI have also tried other similar variations such as\r\n```\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss.S&quot;)\r\n    private Date lastupdated;\r\n```\r\n\r\nFor my other String, I tried this. \r\n\r\n```\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)\r\n    private String released;`\r\n```\r\n\r\nI have looked through the pattern documentation linked here. \r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns\r\n\r\nI am not able find the right format I believe, or perhaps there is a better way of doing this?\r\n","title":"I am trying to convert some Strings I received from my mongodb collection into a java date object. But I can&#39;t seem to find a pattern that works","body":"<p>I want to convert values from my mongoDB format into a java Date object(LocalDateTime would also be fine). But I can't find the pattern that does the job.</p>\n<p>My 'lastupdated' value inside the mongodb collection is like this.\n<code>lastupdated : &quot;2015-08-26 00:03:50.133000000&quot;</code></p>\n<p>I have successfully created a connection but I am getting an error converting it from a string to a date. This is what the error I am being shown.\n<code>Failed to convert from type [java.lang.String] to type [java.util.Date] for value '2015-08-31 00:41:20.670000000'</code></p>\n<p>I am also struggling to convert this kind of String with key 'release'.</p>\n<blockquote>\n<p>release : '1893-05-09T00:00:00.000+00:00;</p>\n</blockquote>\n<p>I have applied the DateTimeFormat annotation which has usually worked for me in Spring as shown below.</p>\n<pre><code>    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss.SSZ&quot;)\n    private Date lastupdated;\n</code></pre>\n<p>I have also tried other similar variations such as</p>\n<pre><code>    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss.S&quot;)\n    private Date lastupdated;\n</code></pre>\n<p>For my other String, I tried this.</p>\n<pre><code>    @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;)\n    private String released;`\n</code></pre>\n<p>I have looked through the pattern documentation linked here.\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#patterns</a></p>\n<p>I am not able find the right format I believe, or perhaps there is a better way of doing this?</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":2675582,"reputation":1012,"user_id":2312064,"display_name":"krzydyn"},"score":3,"creation_date":1679570908,"post_id":75822183,"comment_id":133746924,"body_markdown":"First close streams (they can buffer data and closing them flushes data) and do `socket.close()` as the last one.","body":"First close streams (they can buffer data and closing them flushes data) and do <code>socket.close()</code> as the last one."},{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":1,"creation_date":1679583230,"post_id":75822183,"comment_id":133750565,"body_markdown":"According to the javadocs on Socket&#39;s close method (https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#close()]) it states: &quot;Closing this socket will also close the socket&#39;s InputStream and OutputStream&quot; so I guess you wil be ok!","body":"According to the javadocs on Socket&#39;s close method (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#close()]\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/Socket.html#clos&zwnj;&#8203;e()]</a>) it states: &quot;Closing this socket will also close the socket&#39;s InputStream and OutputStream&quot; so I guess you wil be ok!"}],"answers":[{"tags":[],"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679778999,"creation_date":1679572042,"answer_id":75822599,"question_id":75822183,"body_markdown":"First, let me set 2 alarma about Object Streams... \r\n\r\n1) ObjectOutputStream would send some bytes that would need to be flushed, while ObjectInputStream expect some bytes to read in order to finish. It&#39;s fairly easy to hang when using object streams over sockets.\r\n\r\n2) Object streams have a memory of objects they already sent, by design. If you don&#39;t outputstream.reset() then the server&#39;s and client&#39;s memory will grow indefinitely.\r\n\r\nNow, closing streams append TCP FIN on the corresponding stream (basically flush and end). That&#39;s to do half-closed sockets. If you socket.close() before stream close(), it would send a TCP RST which is a harsh disconnect and the peer may not get all the bytes, and may also experience a &quot;broken pipe&quot; if attempting to write on its not yet closed outputstream.\r\n","title":"What to close when using Java sockets","body":"<p>First, let me set 2 alarma about Object Streams...</p>\n<ol>\n<li><p>ObjectOutputStream would send some bytes that would need to be flushed, while ObjectInputStream expect some bytes to read in order to finish. It's fairly easy to hang when using object streams over sockets.</p>\n</li>\n<li><p>Object streams have a memory of objects they already sent, by design. If you don't outputstream.reset() then the server's and client's memory will grow indefinitely.</p>\n</li>\n</ol>\n<p>Now, closing streams append TCP FIN on the corresponding stream (basically flush and end). That's to do half-closed sockets. If you socket.close() before stream close(), it would send a TCP RST which is a harsh disconnect and the peer may not get all the bytes, and may also experience a &quot;broken pipe&quot; if attempting to write on its not yet closed outputstream.</p>\n"}],"owner":{"account_id":17475615,"reputation":19,"user_id":12670542,"display_name":"VictoRPiles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75822599,"answer_count":1,"score":0,"last_activity_date":1679778999,"creation_date":1679569461,"question_id":75822183,"body_markdown":"So I have this class that uses Java sockets:\r\n```java\r\npublic class Connection {\r\n\tprivate final Socket socket;\r\n\r\n\tprivate final PrintWriter out;\r\n\tprivate final BufferedReader in;\r\n\r\n\tprivate final ObjectOutputStream objectOut;\r\n\tprivate final ObjectInputStream objectIn;\r\n\r\n\tpublic Connection(Socket socket) throws IOException {\r\n\t\tthis.socket = socket;\r\n\t\tthis.out = new PrintWriter(socket.getOutputStream(), true);\r\n\t\tthis.in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\t\tthis.objectOut = new ObjectOutputStream(socket.getOutputStream());\r\n\t\tthis.objectIn = new ObjectInputStream(socket.getInputStream());\r\n\t}\r\n\r\n\tpublic void close() throws IOException {\r\n\t\tsocket.close();\r\n\t\tout.close();\r\n\t\tin.close();\r\n\t\tobjectOut.close();\r\n\t\tobjectIn.close();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn socket.getInetAddress() + &quot;:&quot; + socket.getPort();\r\n\t}\r\n}\r\n```\r\n\r\nIn the method close, what do I really need to close and what is going to be closed when socket.close() is called?","title":"What to close when using Java sockets","body":"<p>So I have this class that uses Java sockets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Connection {\n    private final Socket socket;\n\n    private final PrintWriter out;\n    private final BufferedReader in;\n\n    private final ObjectOutputStream objectOut;\n    private final ObjectInputStream objectIn;\n\n    public Connection(Socket socket) throws IOException {\n        this.socket = socket;\n        this.out = new PrintWriter(socket.getOutputStream(), true);\n        this.in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        this.objectOut = new ObjectOutputStream(socket.getOutputStream());\n        this.objectIn = new ObjectInputStream(socket.getInputStream());\n    }\n\n    public void close() throws IOException {\n        socket.close();\n        out.close();\n        in.close();\n        objectOut.close();\n        objectIn.close();\n    }\n    \n    @Override\n    public String toString() {\n        return socket.getInetAddress() + &quot;:&quot; + socket.getPort();\n    }\n}\n</code></pre>\n<p>In the method close, what do I really need to close and what is going to be closed when socket.close() is called?</p>\n"},{"tags":["java","unit-testing"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1667807097,"post_id":74343285,"comment_id":131246595,"body_markdown":"You don&#39;t. You test the methods that call those private methods and make sure you&#39;re testing all possible paths. `create`, in this case, so passing a `User` with `username` (I suppose) `&quot;dummy&quot;`, and a different string, and `null` (which will make `checkUsername` throw a `NullPointerException`, by the way).","body":"You don&#39;t. You test the methods that call those private methods and make sure you&#39;re testing all possible paths. <code>create</code>, in this case, so passing a <code>User</code> with <code>username</code> (I suppose) <code>&quot;dummy&quot;</code>, and a different string, and <code>null</code> (which will make <code>checkUsername</code> throw a <code>NullPointerException</code>, by the way)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1667807102,"post_id":74343285,"comment_id":131246598,"body_markdown":"The private method is immaterial. Simply test if you get the expected output, whether that be a `User` object or an exception, given a certain input. And if you&#39;ve defined your class correctly, then you&#39;ll be able to insert a mock for `userRepository` so that you don&#39;t interact with a real data source.","body":"The private method is immaterial. Simply test if you get the expected output, whether that be a <code>User</code> object or an exception, given a certain input. And if you&#39;ve defined your class correctly, then you&#39;ll be able to insert a mock for <code>userRepository</code> so that you don&#39;t interact with a real data source."},{"owner":{"account_id":18850356,"reputation":11,"user_id":20437855,"display_name":"taha furkan &#252;nsal"},"score":0,"creation_date":1667807339,"post_id":74343285,"comment_id":131246662,"body_markdown":"@FedericoklezCulloca i have to do it was given as homework and i don&#39;t know how to do it if you can write it can you send the code","body":"@FedericoklezCulloca i have to do it was given as homework and i don&#39;t know how to do it if you can write it can you send the code"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1667807414,"post_id":74343285,"comment_id":131246694,"body_markdown":"@tahafurkan&#252;nsal please read [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/q/6166). Sorry, but we&#39;re not doing your homework for you. If you don&#39;t know how to do it review the course material, because the answer is surely in there. If that&#39;s still unclear ask your tutor/teacher. That&#39;s what they&#39;re there for.","body":"@tahafurkan&#252;nsal please read <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a>. Sorry, but we&#39;re not doing your homework for you. If you don&#39;t know how to do it review the course material, because the answer is surely in there. If that&#39;s still unclear ask your tutor/teacher. That&#39;s what they&#39;re there for."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1667807530,"post_id":74343285,"comment_id":131246720,"body_markdown":"No, I will not do your homework for you. From a testing perspective, pretend that the private method doesn&#39;t exist, and all that code is actually inlined into the `create(User)` method. In other words, you test `create(User)` and make sure it returns what you expect when you expect it and throws an exception when you expect. For the most part, you only care about the _what_, not the _how_.","body":"No, I will not do your homework for you. From a testing perspective, pretend that the private method doesn&#39;t exist, and all that code is actually inlined into the <code>create(User)</code> method. In other words, you test <code>create(User)</code> and make sure it returns what you expect when you expect it and throws an exception when you expect. For the most part, you only care about the <i>what</i>, not the <i>how</i>."},{"owner":{"account_id":18850356,"reputation":11,"user_id":20437855,"display_name":"taha furkan &#252;nsal"},"score":0,"creation_date":1667807664,"post_id":74343285,"comment_id":131246770,"body_markdown":"@FedericoklezCulloca how should i do it for private method at least one place i should look is an example","body":"@FedericoklezCulloca how should i do it for private method at least one place i should look is an example"}],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1667812500,"creation_date":1667812500,"answer_id":74344225,"question_id":74343285,"body_markdown":"Actually, you can use **ReflectionTestUtills** to achieve that, please read below\r\nhttps://www.baeldung.com/spring-reflection-test-utils","title":"How do I test a method that has private methods?","body":"<p>Actually, you can use <strong>ReflectionTestUtills</strong> to achieve that, please read below\n<a href=\"https://www.baeldung.com/spring-reflection-test-utils\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-reflection-test-utils</a></p>\n"},{"tags":[],"owner":{"account_id":954558,"reputation":11903,"user_id":980097,"accept_rate":87,"display_name":"Popeye"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667815157,"creation_date":1667815157,"answer_id":74344762,"question_id":74343285,"body_markdown":"**The Right Way**\r\n\r\nYou would not be testing the method `checkUsername` directly, you should be testing it indirectly by testing your `create` method.\r\n\r\nYou have 3 tests from what I can see that you need to create:\r\n\r\n 1. Test the outcome when username is `dummy` - you want to be testing for the expected exception of `UsernameUnavailableException` with the message of `Username = &#39;dummy&#39; is cannot be used!`.\r\n 2. Test the outcome is `UsernameIsInUseException` when a username already exists and the expected exception error message is `Username = &#39;&lt;insert username&gt;&#39; is being used by another user!`.\r\n 3. Test what actually happens when the user is successfully saved.\r\n\r\n\r\nIf this was me I would be looking at creating a mocked/spied version of `userRepository` so I could manipulate the response for both `existsByUsername` and `save` for each individual test. I would also assert how many times those methods get called for each test, for example for test **(1)** I would not expect either `existsByUsername` or `save` to be called so I would verify that it was called 0 times. Whereas for test **(2)** I would expect `existsByUsername` to be called at least once and `save` to be called 0 times; and for test **(3)** I would expect both methods to be called at least once and only once.\r\n\r\nIf you cannot test a private method indirectly then it most likely falls into one of 3 categories:\r\n\r\n 1. The private method is dead code because it cannot be indirectly accessed.\r\n 2. Your code has been poorly designed and you should consider refactoring to be more efficient.\r\n 3. The method you are trying to test should never have been private in the first place, does it make sense from a design point of view to make it public?\r\n\r\n----------\r\n\r\n**The Wrong Way**\r\n\r\nThe wrong way would be to use reflection to access that private method, unfortunately I know people who swear by this method but in my opinion it is the wrong way to carry out tests of a private method; and unfortunately I have used reflection myself to test a private method within a legacy project in which I was unable to refactor so would have fallen into category **2** above. \r\n\r\nThe snippet below is from a book called `JUnit In Action`, I would recommend picking up a copy if you can.\r\n\r\n&gt; Using reflection to access private properties and methods breaks what\r\n&gt; we learn as a good student and well disciplined developer, and that is\r\n&gt; the object-oriented language is built around 3 pillars: encapsulation,\r\n&gt; inheritance and polymorphism\r\n\r\n\r\n\r\n*I have not shared code because this is clearly a homework question, however above should be enough to help guide you towards achieving what you need.*\r\n","title":"How do I test a method that has private methods?","body":"<p><strong>The Right Way</strong></p>\n<p>You would not be testing the method <code>checkUsername</code> directly, you should be testing it indirectly by testing your <code>create</code> method.</p>\n<p>You have 3 tests from what I can see that you need to create:</p>\n<ol>\n<li>Test the outcome when username is <code>dummy</code> - you want to be testing for the expected exception of <code>UsernameUnavailableException</code> with the message of <code>Username = 'dummy' is cannot be used!</code>.</li>\n<li>Test the outcome is <code>UsernameIsInUseException</code> when a username already exists and the expected exception error message is <code>Username = '&lt;insert username&gt;' is being used by another user!</code>.</li>\n<li>Test what actually happens when the user is successfully saved.</li>\n</ol>\n<p>If this was me I would be looking at creating a mocked/spied version of <code>userRepository</code> so I could manipulate the response for both <code>existsByUsername</code> and <code>save</code> for each individual test. I would also assert how many times those methods get called for each test, for example for test <strong>(1)</strong> I would not expect either <code>existsByUsername</code> or <code>save</code> to be called so I would verify that it was called 0 times. Whereas for test <strong>(2)</strong> I would expect <code>existsByUsername</code> to be called at least once and <code>save</code> to be called 0 times; and for test <strong>(3)</strong> I would expect both methods to be called at least once and only once.</p>\n<p>If you cannot test a private method indirectly then it most likely falls into one of 3 categories:</p>\n<ol>\n<li>The private method is dead code because it cannot be indirectly accessed.</li>\n<li>Your code has been poorly designed and you should consider refactoring to be more efficient.</li>\n<li>The method you are trying to test should never have been private in the first place, does it make sense from a design point of view to make it public?</li>\n</ol>\n<hr />\n<p><strong>The Wrong Way</strong></p>\n<p>The wrong way would be to use reflection to access that private method, unfortunately I know people who swear by this method but in my opinion it is the wrong way to carry out tests of a private method; and unfortunately I have used reflection myself to test a private method within a legacy project in which I was unable to refactor so would have fallen into category <strong>2</strong> above.</p>\n<p>The snippet below is from a book called <code>JUnit In Action</code>, I would recommend picking up a copy if you can.</p>\n<blockquote>\n<p>Using reflection to access private properties and methods breaks what\nwe learn as a good student and well disciplined developer, and that is\nthe object-oriented language is built around 3 pillars: encapsulation,\ninheritance and polymorphism</p>\n</blockquote>\n<p><em>I have not shared code because this is clearly a homework question, however above should be enough to help guide you towards achieving what you need.</em></p>\n"}],"owner":{"account_id":18850356,"reputation":11,"user_id":20437855,"display_name":"taha furkan &#252;nsal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1667816793,"answer_count":2,"score":1,"last_activity_date":1679778341,"creation_date":1667806409,"question_id":74343285,"body_markdown":"How do I test private methods and a method with 2 controls in it? How can I write a test method for the `create` method and for the private `checkUsername` method?\r\n\r\n\r\n```java\r\npublic User create(User user) {\r\n    checkUsername(user.getUsername());\r\n    return userRepository.save(user);\r\n}\r\n```\r\n\r\n```\r\nprivate void checkUsername(String username) {\r\n    if (username.equals(&quot;dummy&quot;)) {\r\n        String msg = String.format(&quot;Username = &#39;%s is cannot be used!&quot;, username);\r\n        throw new UsernameUnavailableException(msg);\r\n    } else if (!userRepository.existsByUsername(username)) return;\r\n\r\n    String msg = String.format(&quot;Username =&#39;s%s&#39; is being used by another user!&quot;, username);\r\n    throw new UsernameIsInUseException(msg);\r\n\r\n}\r\n```\r\n\r\n\r\nI couldn&#39;t find a private method test according to my research, can you help me?","title":"How do I test a method that has private methods?","body":"<p>How do I test private methods and a method with 2 controls in it? How can I write a test method for the <code>create</code> method and for the private <code>checkUsername</code> method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public User create(User user) {\n    checkUsername(user.getUsername());\n    return userRepository.save(user);\n}\n</code></pre>\n<pre><code>private void checkUsername(String username) {\n    if (username.equals(&quot;dummy&quot;)) {\n        String msg = String.format(&quot;Username = '%s is cannot be used!&quot;, username);\n        throw new UsernameUnavailableException(msg);\n    } else if (!userRepository.existsByUsername(username)) return;\n\n    String msg = String.format(&quot;Username ='s%s' is being used by another user!&quot;, username);\n    throw new UsernameIsInUseException(msg);\n\n}\n</code></pre>\n<p>I couldn't find a private method test according to my research, can you help me?</p>\n"},{"tags":["java","android","crash"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1679820194,"post_id":75844447,"comment_id":133786247,"body_markdown":"Your phone wrote a tombstone file.  We&#39;d need that to help further.  I haven&#39;t seen a tombstone in a very long time, I&#39;m surprised to see one here.","body":"Your phone wrote a tombstone file.  We&#39;d need that to help further.  I haven&#39;t seen a tombstone in a very long time, I&#39;m surprised to see one here."},{"owner":{"account_id":28123163,"reputation":1,"user_id":21489064,"display_name":"Mateo"},"score":0,"creation_date":1679931393,"post_id":75844447,"comment_id":133805352,"body_markdown":"How do I access the tombstone file?","body":"How do I access the tombstone file?"}],"owner":{"account_id":28123163,"reputation":1,"user_id":21489064,"display_name":"Mateo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679777416,"creation_date":1679777416,"question_id":75844447,"body_markdown":"I have the following code and I am trying to make an app that gets photos and names of footballers from a website and then puts an image with 4 possible answes and the user has to guess who it is. However, it is crashing when irun it on my device\r\n\r\nMy code: \r\n\r\n\r\n```\r\npackage com.example.a82guessthecelebrity;\r\n\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.os.AsyncTask;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.Objects;\r\nimport java.util.Random;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ArrayList&lt;String&gt; footballerURLs = new ArrayList&lt;String&gt;();\r\n    ArrayList&lt;String&gt; footballerNames = new ArrayList&lt;String&gt;();\r\n    int chosenPlayer = 0;\r\n    String[] answers = new String[4];\r\n    int locationOfCorrectAnswer = 0;\r\n    ImageView imageView;\r\n    Button button0;\r\n    Button button1;\r\n    Button button2;\r\n    Button button3;\r\n    int score;\r\n    int questionsAsked;\r\n\r\n    public void celebChosen(View view) {\r\n        if (view.getTag().toString().equals(Integer.toString(locationOfCorrectAnswer))) {\r\n            Toast.makeText(getApplicationContext(),&quot;Correct!&quot;,Toast.LENGTH_SHORT).show();\r\n            score ++;\r\n        } else {\r\n            Toast.makeText(getApplicationContext(),&quot;Wrong! It was &quot; + footballerNames.get(chosenPlayer),Toast.LENGTH_SHORT).show();\r\n        }\r\n        questionsAsked ++;\r\n\r\n        newQuestion();\r\n    }\r\n\r\n    public class ImageDownloader extends AsyncTask&lt;String, Void, Bitmap&gt; {\r\n\r\n        @Override\r\n        protected Bitmap doInBackground(String... urls) {\r\n            try {\r\n\r\n                URL url = new URL(urls[0]);\r\n\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.connect();\r\n                InputStream inputStream = connection.getInputStream();\r\n                Bitmap myBitmap = BitmapFactory.decodeStream(inputStream);\r\n                return myBitmap;\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class DownloadTask extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(String... urls) {\r\n\r\n            String result = &quot;&quot;;\r\n            URL url;\r\n            HttpURLConnection urlConnection = null;\r\n\r\n            try {\r\n\r\n                url = new URL(urls[0]);\r\n\r\n                urlConnection = (HttpURLConnection) url.openConnection();\r\n\r\n                InputStream in = urlConnection.getInputStream();\r\n\r\n                InputStreamReader reader = new InputStreamReader(in);\r\n\r\n                int data = reader.read();\r\n\r\n                while (data != -1) {\r\n                    char current = (char) data;\r\n                    result += current;\r\n                    data = reader.read();\r\n                }\r\n\r\n                return result;\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public void newQuestion() {\r\n        try {\r\n            Random rand = new Random();\r\n\r\n            chosenPlayer = rand.nextInt(footballerURLs.size());\r\n\r\n            ImageDownloader imageTask = new ImageDownloader();\r\n\r\n            Bitmap playerImage = imageTask.execute(footballerURLs.get(chosenPlayer)).get();\r\n\r\n            imageView.setImageBitmap(playerImage);\r\n\r\n            locationOfCorrectAnswer = rand.nextInt(4);\r\n\r\n            int incorrectAnswerLocation;\r\n\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                if (i == locationOfCorrectAnswer) {\r\n                    answers[i] = footballerNames.get(chosenPlayer);\r\n                } else {\r\n                    incorrectAnswerLocation = rand.nextInt(footballerURLs.size());\r\n\r\n                    while (incorrectAnswerLocation == chosenPlayer) {\r\n                        incorrectAnswerLocation = rand.nextInt(footballerURLs.size());\r\n                    }\r\n\r\n                    answers[i] = footballerNames.get(incorrectAnswerLocation);\r\n                }\r\n            }\r\n\r\n            button0.setText(answers[0]);\r\n            button1.setText(answers[1]);\r\n            button2.setText(answers[2]);\r\n            button3.setText(answers[3]);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        imageView = findViewById(R.id.imageView);\r\n        button0 = findViewById(R.id.button0);\r\n        button1 = findViewById(R.id.button1);\r\n        button2 = findViewById(R.id.button2);\r\n        button3 = findViewById(R.id.button3);\r\n\r\n        DownloadTask task = new DownloadTask();\r\n        String result = null;\r\n\r\n        try {\r\n\r\n            result = task.execute(&quot;https://bleacherreport.com/articles/705591-the-100-best-soccer-players-of-all-time&quot;).get();\r\n\r\n            String[] splitResult = result.split(&quot;&lt;div class=\\&quot;organism contentStream slide\\&quot; id=\\&quot;slide68\\&quot;&gt;&quot;);\r\n\r\n            Pattern p = Pattern.compile(&quot;&lt;img alt=(.*?)&gt;&quot;);\r\n                Matcher m = p.matcher(splitResult[1]);\r\n\r\n            while (m.find()) {\r\n                Pattern p2 = Pattern.compile(&quot;src=\\&quot;(.*?)\\&quot;&quot;);\r\n\r\n                Matcher m2 = p2.matcher(m.group(1));\r\n\r\n                while (m2.find()) {\r\n                    footballerURLs.add(m2.group(1));\r\n\r\n                }\r\n\r\n            }\r\n\r\n\r\n            Pattern p3 = Pattern.compile(&quot;&lt;div class=\\&quot;organism contentStream slide\\&quot;(.*?)/h2&gt;&quot;);\r\n            Matcher m3 = p3.matcher(splitResult[1]);\r\n\r\n            while (m3.find()) {\r\n                Pattern p4 = Pattern.compile(&quot;&lt;h2&gt;(.*?)&lt;&quot;);\r\n                Matcher m4 = p4.matcher(Objects.requireNonNull(m3.group(1)));\r\n\r\n                while (m4.find()) {\r\n                    String footballerName = m4.group(1).trim();\r\n                    footballerName = footballerName.replaceAll(&quot;[0-9]&quot;, &quot;&quot;);\r\n                    footballerName = footballerName.replaceAll(&quot;\\\\. &quot;, &quot;&quot;);\r\n                    footballerNames.add(footballerName);\r\n\r\n                }\r\n\r\n            }\r\n            footballerNames.remove(1);\r\n\r\n\r\n            newQuestion();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nError: \r\n```\r\n03/25 16:10:46: Launching &#39;app&#39; on OPPO CPH2219.\r\nInstall successfully finished in 264 ms.\r\n$ adb shell am start -n &quot;com.example.a82guessthecelebrity/com.example.a82guessthecelebrity.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\nConnected to process 7770 on device &#39;oppo-cph2219-e91b6bde&#39;.\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nI/essthecelebrit: Late-enabling -Xcheck:jni\r\nE/essthecelebrit: Unknown bits set in runtime_flags: 0x40000000\r\nD/ProcessState: Binder ioctl to enable oneway spam detection failed: Invalid argument\r\nI/OneTrace: Mark active for pid=7770? true\r\nD/cutils-dev: otrace_set_tracing_enabled? true\r\nD/cutils-dev: properties changed in otrace_seq_number_changed!\r\nW/re-initialized&gt;: type=1400 audit(0.0:18700): avc: granted { execute } for path=&quot;/data/data/com.example.a82guessthecelebrity/code_cache/startup_agents/69880af5-agent.so&quot; dev=&quot;dm-29&quot; ino=453160 scontext=u:r:untrusted_app:s0:c91,c256,c512,c768 tcontext=u:object_r:app_data_file:s0:c91,c256,c512,c768 tclass=file app=com.example.a82guessthecelebrity\r\nV/studio.deploy: Startup agent attached to VM\r\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-6b5afa68.jar\r\nW/essthecelebrit: DexFile /data/data/com.example.a82guessthecelebrity/code_cache/.studio/instruments-6b5afa68.jar is in boot class path but is not in a known location\r\nV/studio.deploy: Applying transforms with cached classes\r\nW/essthecelebrit: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\r\nW/essthecelebrit: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10091; state: ENABLED\r\nI/oplus.android.OplusFrameworkFactoryImpl: get feature:IOplusAutoResolutionFeature\r\nI/oplus.android.OplusFrameworkFactoryImpl: getOplusAutoResolutionFeature\r\nD/CompactWindowAppManager: initCompactApplicationInfo \r\nI/OplusFeatureCache: Milliseconds spent on init(): 37\r\nD/LoadedApk: mApplicationInfo overrideDisplayId:null\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.example.a82guessthecelebrity&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nE/MultiApp.Impl: OplusMultiAppImpl\r\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\nI/oplus.android.OplusFrameworkFactoryImpl: Unknow feature:IOplusTextViewRTLUtilForUG\r\nW/essthecelebrit: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\nW/essthecelebrit: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\nE/OplusCustomizeRestrictionManager: sInstance is null, start a new sInstance\r\nI/Quality: ActivityThread: viewInflate delay 141 com.example.a82guessthecelebrity:layout/activity_main 7770\r\nW/System: A resource failed to call close. \r\nI/essthecelebrit: Thread[5,tid=7776,WaitingInMainSignalCatcherLoop,Thread*=0xb400007e2fc8cc00,peer=0x12d01fe0,&quot;Signal Catcher&quot;]: reacting to signal 3\r\nI/essthecelebrit: \r\nI/essthecelebrit: Waiting for a blocking GC ObjectsAllocated\r\nI/essthecelebrit: WaitForGcToComplete blocked ObjectsAllocated on Background for 17.625ms\r\nI/essthecelebrit: Wrote stack traces to tombstoned\r\nI/essthecelebrit: Thread[5,tid=7776,WaitingInMainSignalCatcherLoop,Thread*=0xb400007e2fc8cc00,peer=0x12d01fe0,&quot;Signal Catcher&quot;]: reacting to signal 3\r\nI/essthecelebrit: \r\nI/essthecelebrit: Waiting for a blocking GC ObjectsAllocated\r\nI/essthecelebrit: WaitForGcToComplete blocked ObjectsAllocated on Background for 28.916ms\r\nI/essthecelebrit: Wrote stack traces to tombstoned\r\n\r\n```\r\n\r\nPlease help\r\n\r\n\r\n\r\nWhen running app on emulator, no problem, but it crashes when I run on oppo","title":"When I run my android studio java app, it crashes on real device","body":"<p>I have the following code and I am trying to make an app that gets photos and names of footballers from a website and then puts an image with 4 possible answes and the user has to guess who it is. However, it is crashing when irun it on my device</p>\n<p>My code:</p>\n<pre><code>package com.example.a82guessthecelebrity;\n\n\nimport android.annotation.SuppressLint;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.os.AsyncTask;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.Objects;\nimport java.util.Random;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ArrayList&lt;String&gt; footballerURLs = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; footballerNames = new ArrayList&lt;String&gt;();\n    int chosenPlayer = 0;\n    String[] answers = new String[4];\n    int locationOfCorrectAnswer = 0;\n    ImageView imageView;\n    Button button0;\n    Button button1;\n    Button button2;\n    Button button3;\n    int score;\n    int questionsAsked;\n\n    public void celebChosen(View view) {\n        if (view.getTag().toString().equals(Integer.toString(locationOfCorrectAnswer))) {\n            Toast.makeText(getApplicationContext(),&quot;Correct!&quot;,Toast.LENGTH_SHORT).show();\n            score ++;\n        } else {\n            Toast.makeText(getApplicationContext(),&quot;Wrong! It was &quot; + footballerNames.get(chosenPlayer),Toast.LENGTH_SHORT).show();\n        }\n        questionsAsked ++;\n\n        newQuestion();\n    }\n\n    public class ImageDownloader extends AsyncTask&lt;String, Void, Bitmap&gt; {\n\n        @Override\n        protected Bitmap doInBackground(String... urls) {\n            try {\n\n                URL url = new URL(urls[0]);\n\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                connection.connect();\n                InputStream inputStream = connection.getInputStream();\n                Bitmap myBitmap = BitmapFactory.decodeStream(inputStream);\n                return myBitmap;\n\n            } catch (Exception e) {\n                e.printStackTrace();\n                return null;\n            }\n        }\n    }\n\n    public class DownloadTask extends AsyncTask&lt;String, Void, String&gt; {\n\n        @Override\n        protected String doInBackground(String... urls) {\n\n            String result = &quot;&quot;;\n            URL url;\n            HttpURLConnection urlConnection = null;\n\n            try {\n\n                url = new URL(urls[0]);\n\n                urlConnection = (HttpURLConnection) url.openConnection();\n\n                InputStream in = urlConnection.getInputStream();\n\n                InputStreamReader reader = new InputStreamReader(in);\n\n                int data = reader.read();\n\n                while (data != -1) {\n                    char current = (char) data;\n                    result += current;\n                    data = reader.read();\n                }\n\n                return result;\n\n            } catch (Exception e) {\n                e.printStackTrace();\n                return null;\n            }\n\n        }\n    }\n\n    public void newQuestion() {\n        try {\n            Random rand = new Random();\n\n            chosenPlayer = rand.nextInt(footballerURLs.size());\n\n            ImageDownloader imageTask = new ImageDownloader();\n\n            Bitmap playerImage = imageTask.execute(footballerURLs.get(chosenPlayer)).get();\n\n            imageView.setImageBitmap(playerImage);\n\n            locationOfCorrectAnswer = rand.nextInt(4);\n\n            int incorrectAnswerLocation;\n\n            for (int i = 0; i &lt; 4; i++) {\n                if (i == locationOfCorrectAnswer) {\n                    answers[i] = footballerNames.get(chosenPlayer);\n                } else {\n                    incorrectAnswerLocation = rand.nextInt(footballerURLs.size());\n\n                    while (incorrectAnswerLocation == chosenPlayer) {\n                        incorrectAnswerLocation = rand.nextInt(footballerURLs.size());\n                    }\n\n                    answers[i] = footballerNames.get(incorrectAnswerLocation);\n                }\n            }\n\n            button0.setText(answers[0]);\n            button1.setText(answers[1]);\n            button2.setText(answers[2]);\n            button3.setText(answers[3]);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        imageView = findViewById(R.id.imageView);\n        button0 = findViewById(R.id.button0);\n        button1 = findViewById(R.id.button1);\n        button2 = findViewById(R.id.button2);\n        button3 = findViewById(R.id.button3);\n\n        DownloadTask task = new DownloadTask();\n        String result = null;\n\n        try {\n\n            result = task.execute(&quot;https://bleacherreport.com/articles/705591-the-100-best-soccer-players-of-all-time&quot;).get();\n\n            String[] splitResult = result.split(&quot;&lt;div class=\\&quot;organism contentStream slide\\&quot; id=\\&quot;slide68\\&quot;&gt;&quot;);\n\n            Pattern p = Pattern.compile(&quot;&lt;img alt=(.*?)&gt;&quot;);\n                Matcher m = p.matcher(splitResult[1]);\n\n            while (m.find()) {\n                Pattern p2 = Pattern.compile(&quot;src=\\&quot;(.*?)\\&quot;&quot;);\n\n                Matcher m2 = p2.matcher(m.group(1));\n\n                while (m2.find()) {\n                    footballerURLs.add(m2.group(1));\n\n                }\n\n            }\n\n\n            Pattern p3 = Pattern.compile(&quot;&lt;div class=\\&quot;organism contentStream slide\\&quot;(.*?)/h2&gt;&quot;);\n            Matcher m3 = p3.matcher(splitResult[1]);\n\n            while (m3.find()) {\n                Pattern p4 = Pattern.compile(&quot;&lt;h2&gt;(.*?)&lt;&quot;);\n                Matcher m4 = p4.matcher(Objects.requireNonNull(m3.group(1)));\n\n                while (m4.find()) {\n                    String footballerName = m4.group(1).trim();\n                    footballerName = footballerName.replaceAll(&quot;[0-9]&quot;, &quot;&quot;);\n                    footballerName = footballerName.replaceAll(&quot;\\\\. &quot;, &quot;&quot;);\n                    footballerNames.add(footballerName);\n\n                }\n\n            }\n            footballerNames.remove(1);\n\n\n            newQuestion();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>Error:</p>\n<pre><code>03/25 16:10:46: Launching 'app' on OPPO CPH2219.\nInstall successfully finished in 264 ms.\n$ adb shell am start -n &quot;com.example.a82guessthecelebrity/com.example.a82guessthecelebrity.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nConnected to process 7770 on device 'oppo-cph2219-e91b6bde'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nI/essthecelebrit: Late-enabling -Xcheck:jni\nE/essthecelebrit: Unknown bits set in runtime_flags: 0x40000000\nD/ProcessState: Binder ioctl to enable oneway spam detection failed: Invalid argument\nI/OneTrace: Mark active for pid=7770? true\nD/cutils-dev: otrace_set_tracing_enabled? true\nD/cutils-dev: properties changed in otrace_seq_number_changed!\nW/re-initialized&gt;: type=1400 audit(0.0:18700): avc: granted { execute } for path=&quot;/data/data/com.example.a82guessthecelebrity/code_cache/startup_agents/69880af5-agent.so&quot; dev=&quot;dm-29&quot; ino=453160 scontext=u:r:untrusted_app:s0:c91,c256,c512,c768 tcontext=u:object_r:app_data_file:s0:c91,c256,c512,c768 tclass=file app=com.example.a82guessthecelebrity\nV/studio.deploy: Startup agent attached to VM\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-6b5afa68.jar\nW/essthecelebrit: DexFile /data/data/com.example.a82guessthecelebrity/code_cache/.studio/instruments-6b5afa68.jar is in boot class path but is not in a known location\nV/studio.deploy: Applying transforms with cached classes\nW/essthecelebrit: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\nW/essthecelebrit: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10091; state: ENABLED\nI/oplus.android.OplusFrameworkFactoryImpl: get feature:IOplusAutoResolutionFeature\nI/oplus.android.OplusFrameworkFactoryImpl: getOplusAutoResolutionFeature\nD/CompactWindowAppManager: initCompactApplicationInfo \nI/OplusFeatureCache: Milliseconds spent on init(): 37\nD/LoadedApk: mApplicationInfo overrideDisplayId:null\nV/GraphicsEnvironment: ANGLE Developer option for 'com.example.a82guessthecelebrity' set to: 'default'\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nE/MultiApp.Impl: OplusMultiAppImpl\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\nI/oplus.android.OplusFrameworkFactoryImpl: Unknow feature:IOplusTextViewRTLUtilForUG\nW/essthecelebrit: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\nW/essthecelebrit: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\nE/OplusCustomizeRestrictionManager: sInstance is null, start a new sInstance\nI/Quality: ActivityThread: viewInflate delay 141 com.example.a82guessthecelebrity:layout/activity_main 7770\nW/System: A resource failed to call close. \nI/essthecelebrit: Thread[5,tid=7776,WaitingInMainSignalCatcherLoop,Thread*=0xb400007e2fc8cc00,peer=0x12d01fe0,&quot;Signal Catcher&quot;]: reacting to signal 3\nI/essthecelebrit: \nI/essthecelebrit: Waiting for a blocking GC ObjectsAllocated\nI/essthecelebrit: WaitForGcToComplete blocked ObjectsAllocated on Background for 17.625ms\nI/essthecelebrit: Wrote stack traces to tombstoned\nI/essthecelebrit: Thread[5,tid=7776,WaitingInMainSignalCatcherLoop,Thread*=0xb400007e2fc8cc00,peer=0x12d01fe0,&quot;Signal Catcher&quot;]: reacting to signal 3\nI/essthecelebrit: \nI/essthecelebrit: Waiting for a blocking GC ObjectsAllocated\nI/essthecelebrit: WaitForGcToComplete blocked ObjectsAllocated on Background for 28.916ms\nI/essthecelebrit: Wrote stack traces to tombstoned\n\n</code></pre>\n<p>Please help</p>\n<p>When running app on emulator, no problem, but it crashes when I run on oppo</p>\n"},{"tags":["java","spring","spring-boot","environment-variables"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1679345272,"post_id":75793877,"comment_id":133702383,"body_markdown":"That are the supported ways:https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","body":"That are the supported ways:<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":1,"creation_date":1679351223,"post_id":75793877,"comment_id":133703492,"body_markdown":"I could not see anything related to `.env` file on that page.","body":"I could not see anything related to <code>.env</code> file on that page."}],"answers":[{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679776368,"creation_date":1679385607,"answer_id":75798571,"question_id":75793877,"body_markdown":"I&#39;m assuming you put the `.env` file in the top of the project directory, you can add the following configuration to read variables from the `.env` file\r\n\r\n```\r\n...\r\nspring:\r\n    config:\r\n        import: optional:file:.env[.properties]\r\n...\r\n```","title":"Reading .env file parameters from application.yml in Spring Boot?","body":"<p>I'm assuming you put the <code>.env</code> file in the top of the project directory, you can add the following configuration to read variables from the <code>.env</code> file</p>\n<pre><code>...\nspring:\n    config:\n        import: optional:file:.env[.properties]\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679414976,"creation_date":1679399348,"answer_id":75800792,"question_id":75793877,"body_markdown":"No, it&#39;s not supported. I would say, it&#39;s not a job of Spring Boot to read `.env` files.\r\nIt&#39;s a job of your shell environment (i.e. `bash`, `zsh`) or a job of your IDE (there are [corresponding plugins for Intellij](https://plugins.jetbrains.com/search?products=androidstudio&amp;products=appcode&amp;products=aqua&amp;products=clion&amp;products=dataspell&amp;products=dbe&amp;products=go&amp;products=idea&amp;products=idea_ce&amp;products=idea_edu&amp;products=mps&amp;products=phpstorm&amp;products=pycharm&amp;products=pycharm_ce&amp;products=pycharm_edu&amp;products=rider&amp;products=ruby&amp;products=webstorm&amp;search=.env))\r\n\r\nBut as I can see you do some unnecessary work by introducing your own env variables and mapping them to Spring Boot properties.\r\nIt&#39;s unnecessary, because the value for each Spring Boot property can be passed and recognized with a corresponding uppercased environment variable (see [this docs section](https://docs.spring.io/spring-boot/docs/3.0.4/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.environment-variables)). This means that if you want to pass a value for `spring.datasource.password` property to Spring Boot, you can just start the app with a value in `SPRING_DATASOURCE_PASSWORD` environment variable.\r\n\r\nAlso, I do not see any reasons to use `.env` file while developing apps with Spring Boot. In your `src/resources/application.yaml` just set `spring.profiles.active: secrets` and put your sensitive data (which you do not want to commit) into `application-secrets.yaml` (which is `.gitignore`d to avoid accidental commit)\r\n\r\nPlease note that ideally you also should not keep secrets in a file when deploying your app. You should inject them [as environment variable](https://12factor.net/config) on startup of your application&#39;s process, so it would only exist in a memory of a working process.","title":"Reading .env file parameters from application.yml in Spring Boot?","body":"<p>No, it's not supported. I would say, it's not a job of Spring Boot to read <code>.env</code> files.\nIt's a job of your shell environment (i.e. <code>bash</code>, <code>zsh</code>) or a job of your IDE (there are <a href=\"https://plugins.jetbrains.com/search?products=androidstudio&amp;products=appcode&amp;products=aqua&amp;products=clion&amp;products=dataspell&amp;products=dbe&amp;products=go&amp;products=idea&amp;products=idea_ce&amp;products=idea_edu&amp;products=mps&amp;products=phpstorm&amp;products=pycharm&amp;products=pycharm_ce&amp;products=pycharm_edu&amp;products=rider&amp;products=ruby&amp;products=webstorm&amp;search=.env\" rel=\"nofollow noreferrer\">corresponding plugins for Intellij</a>)</p>\n<p>But as I can see you do some unnecessary work by introducing your own env variables and mapping them to Spring Boot properties.\nIt's unnecessary, because the value for each Spring Boot property can be passed and recognized with a corresponding uppercased environment variable (see <a href=\"https://docs.spring.io/spring-boot/docs/3.0.4/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.environment-variables\" rel=\"nofollow noreferrer\">this docs section</a>). This means that if you want to pass a value for <code>spring.datasource.password</code> property to Spring Boot, you can just start the app with a value in <code>SPRING_DATASOURCE_PASSWORD</code> environment variable.</p>\n<p>Also, I do not see any reasons to use <code>.env</code> file while developing apps with Spring Boot. In your <code>src/resources/application.yaml</code> just set <code>spring.profiles.active: secrets</code> and put your sensitive data (which you do not want to commit) into <code>application-secrets.yaml</code> (which is <code>.gitignore</code>d to avoid accidental commit)</p>\n<p>Please note that ideally you also should not keep secrets in a file when deploying your app. You should inject them <a href=\"https://12factor.net/config\" rel=\"nofollow noreferrer\">as environment variable</a> on startup of your application's process, so it would only exist in a memory of a working process.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75798571,"answer_count":2,"score":-1,"last_activity_date":1679776368,"creation_date":1679335928,"question_id":75793877,"body_markdown":"I use some sensitive data by passing as environment variables via IntelliJ run config:\r\n\r\n```\r\n\r\nspring:\r\n...\r\n  datasource:\r\n    driver-class-name: org.postgresql.Driver\r\n    url: jdbc:postgresql://localhost:5432/${DB_NAME}\r\n    username: ${DB_USERNAME}\r\n    password: ${DB_PASSWORD}\r\n```\r\n\r\n\r\n\r\nHowever, I am wondering if it is possible to read from `.env` file and match these labels without passing them via IntelliJ or command line. In `docker-compose` it is possible using `env_file` parameter as far as I remember. Is there a similar thing for application properties to read and match parameters in `.env` file by giving its location? ","title":"Reading .env file parameters from application.yml in Spring Boot?","body":"<p>I use some sensitive data by passing as environment variables via IntelliJ run config:</p>\n<pre><code>\nspring:\n...\n  datasource:\n    driver-class-name: org.postgresql.Driver\n    url: jdbc:postgresql://localhost:5432/${DB_NAME}\n    username: ${DB_USERNAME}\n    password: ${DB_PASSWORD}\n</code></pre>\n<p>However, I am wondering if it is possible to read from <code>.env</code> file and match these labels without passing them via IntelliJ or command line. In <code>docker-compose</code> it is possible using <code>env_file</code> parameter as far as I remember. Is there a similar thing for application properties to read and match parameters in <code>.env</code> file by giving its location?</p>\n"},{"tags":["java","dynamic-jasper"],"answers":[{"tags":[],"owner":{"account_id":51225,"reputation":1302,"user_id":153017,"accept_rate":67,"display_name":"arek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679776109,"creation_date":1679776109,"answer_id":75844346,"question_id":75843976,"body_markdown":"Have found the solution - quite easy to use ex in ConditionalStyle:\r\n\r\n    public class StrikeThroughJasperStyle extends Style {\r\n\r\n    @Override\r\n    protected void setJRBaseStyleProperties(JRBaseStyle transformedStyle) {\r\n        transformedStyle.setStrikeThrough(true);\r\n    }\r\n}","title":"Strikethrough font in DynamicJasper report","body":"<p>Have found the solution - quite easy to use ex in ConditionalStyle:</p>\n<pre><code>public class StrikeThroughJasperStyle extends Style {\n\n@Override\nprotected void setJRBaseStyleProperties(JRBaseStyle transformedStyle) {\n    transformedStyle.setStrikeThrough(true);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":51225,"reputation":1302,"user_id":153017,"accept_rate":67,"display_name":"arek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679776109,"creation_date":1679771568,"question_id":75843976,"body_markdown":"How to set attribute strikethrough to Font in DynamicJasper. There are simple ways to make font italic or underlined but no way to change strikethrough.","title":"Strikethrough font in DynamicJasper report","body":"<p>How to set attribute strikethrough to Font in DynamicJasper. There are simple ways to make font italic or underlined but no way to change strikethrough.</p>\n"},{"tags":["java","uml","associations","composition","class-diagram"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1677448453,"post_id":75575227,"comment_id":133335095,"body_markdown":"I don&#39;t see the problem?  Why shouldn&#39;t a `TastyFruits` object be able to reference an `Apple` that&#39;s part of `Fruits`?","body":"I don&#39;t see the problem?  Why shouldn&#39;t a <code>TastyFruits</code> object be able to reference an <code>Apple</code> that&#39;s part of <code>Fruits</code>?"},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1677448781,"post_id":75575227,"comment_id":133335143,"body_markdown":"Because what that uml diagram means is that Taisty Fruits objects have an atributte that is apples, but as the composition says that if apple is inside fruits, that means that no apple can be instantiated if no fruit is instantiated. So how can a Tasty Fruit have an apple atributte if apples are always instantiated inside fruits according to the composition ?  (Or this is what I have understood of composition )","body":"Because what that uml diagram means is that Taisty Fruits objects have an atributte that is apples, but as the composition says that if apple is inside fruits, that means that no apple can be instantiated if no fruit is instantiated. So how can a Tasty Fruit have an apple atributte if apples are always instantiated inside fruits according to the composition ?  (Or this is what I have understood of composition )"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1677450158,"post_id":75575227,"comment_id":133335359,"body_markdown":"One object can reference something that was created somewhere else.  So once a `Fruits` exists, a `TastyFruits` can reference its `Apple`s.  Sure, if there&#39;s no `Fruits`, there&#39;s no `Apple`, so in your diagram a `Fruits` would have to be created before a `TastyFruits`.","body":"One object can reference something that was created somewhere else.  So once a <code>Fruits</code> exists, a <code>TastyFruits</code> can reference its <code>Apple</code>s.  Sure, if there&#39;s no <code>Fruits</code>, there&#39;s no <code>Apple</code>, so in your diagram a <code>Fruits</code> would have to be created before a <code>TastyFruits</code>."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1677453077,"post_id":75575227,"comment_id":133335749,"body_markdown":"Additionally, a composition relationship means that `Fruits` objects have `Apple` objects as owned component parts, but it does not mean that those are the *only* `Apple` objects that exist.","body":"Additionally, a composition relationship means that <code>Fruits</code> objects have <code>Apple</code> objects as owned component parts, but it does not mean that those are the <i>only</i> <code>Apple</code> objects that exist."},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1677492848,"post_id":75575227,"comment_id":133341615,"body_markdown":"&#39;Sure, if there&#39;s no Fruits, there&#39;s no Apple&#39; but also &#39; but it does not mean that those are the only Apple objects that exist&#39; . So an apple can be instantiated without the instance of a fruit?","body":"&#39;Sure, if there&#39;s no Fruits, there&#39;s no Apple&#39; but also &#39; but it does not mean that those are the only Apple objects that exist&#39; . So an apple can be instantiated without the instance of a fruit?"}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677454933,"creation_date":1677454163,"answer_id":75575647,"question_id":75575227,"body_markdown":"The composite aggregation means that `Apples` components of a `Fruit` composite have their lifecycle managed by the `Fruit` that owns them. \r\n\r\nThis does not prevent `Apples` to be associated directly with other classes. `Apples` could even exist without being owned by `Fruit` if the multiplicity on the fruit side would be `0..1`. \r\n\r\nThat being said, the diagram would be ok, with classes such as A, B, C. But  it is very confusing, with the classes chosen : in real life an `Apple` is a `Fruit`, and a `Fruit` instance (e.g. a given strawberry) is not composed of one or more apples. Similarly, a `Tasty Fruit` is also a `Fruit` and the association with `Apple` is as weird as a the composition. \r\n\r\nIn other words, the issue is not the UML rules, but the semantics usually associated with the chosen classes.","title":"Why if one class forms a composition with another class, a different class can be asocciated with the composed class?","body":"<p>The composite aggregation means that <code>Apples</code> components of a <code>Fruit</code> composite have their lifecycle managed by the <code>Fruit</code> that owns them.</p>\n<p>This does not prevent <code>Apples</code> to be associated directly with other classes. <code>Apples</code> could even exist without being owned by <code>Fruit</code> if the multiplicity on the fruit side would be <code>0..1</code>.</p>\n<p>That being said, the diagram would be ok, with classes such as A, B, C. But  it is very confusing, with the classes chosen : in real life an <code>Apple</code> is a <code>Fruit</code>, and a <code>Fruit</code> instance (e.g. a given strawberry) is not composed of one or more apples. Similarly, a <code>Tasty Fruit</code> is also a <code>Fruit</code> and the association with <code>Apple</code> is as weird as a the composition.</p>\n<p>In other words, the issue is not the UML rules, but the semantics usually associated with the chosen classes.</p>\n"}],"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75575647,"answer_count":1,"score":1,"last_activity_date":1679775321,"creation_date":1677448314,"question_id":75575227,"body_markdown":"Look at the following example:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe class named Fruits forms a composition with the class named Apple. That means that apples will be only instantiated when some fruit object is instantiated. Now my question is, if apples are only instantiated when fruits are instantiated how is it possible that a third class &quot;Tasty Fruits&quot; can access apple objects with an association relation if apple objects are inside fruits?\r\n\r\nWouldn&#39;t that association relation contradict the composition? I mean, in order to access apples, tasty fruits would need to access fruits as apples are inside fruits. I don&#39;t understand how and why this UML diagram is fine.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jIcy7.png","title":"Why if one class forms a composition with another class, a different class can be asocciated with the composed class?","body":"<p>Look at the following example:\n<a href=\"https://i.stack.imgur.com/jIcy7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jIcy7.png\" alt=\"enter image description here\" /></a></p>\n<p>The class named Fruits forms a composition with the class named Apple. That means that apples will be only instantiated when some fruit object is instantiated. Now my question is, if apples are only instantiated when fruits are instantiated how is it possible that a third class &quot;Tasty Fruits&quot; can access apple objects with an association relation if apple objects are inside fruits?</p>\n<p>Wouldn't that association relation contradict the composition? I mean, in order to access apples, tasty fruits would need to access fruits as apples are inside fruits. I don't understand how and why this UML diagram is fine.</p>\n"},{"tags":["java","android","redux","observer-pattern"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1582205953,"post_id":60320994,"comment_id":106703118,"body_markdown":"You will want to look into data binding in terms of what Android offers today. Jetpack Compose has similar capabilities, but that is Kotlin and will not be available in a stable release until 2021 (probably).","body":"You will want to look into data binding in terms of what Android offers today. Jetpack Compose has similar capabilities, but that is Kotlin and will not be available in a stable release until 2021 (probably)."},{"owner":{"account_id":2375654,"reputation":12371,"user_id":2079103,"accept_rate":83,"display_name":"clearlight"},"score":0,"creation_date":1582209343,"post_id":60320994,"comment_id":106705130,"body_markdown":"Can you please edit your answer and fix up that last sentence. It&#39;s hard to know what you&#39;re asking specifically because the wording seems jumbled.","body":"Can you please edit your answer and fix up that last sentence. It&#39;s hard to know what you&#39;re asking specifically because the wording seems jumbled."},{"owner":{"account_id":15172186,"reputation":11,"user_id":10947901,"display_name":"ROBINSON CHUKWU"},"score":0,"creation_date":1582235135,"post_id":60320994,"comment_id":106717784,"body_markdown":"Wow! Thanks. I think that&#39;s what I&#39;m looking for. I&#39;ll go do more research on it.  I think there is a data binding with Java","body":"Wow! Thanks. I think that&#39;s what I&#39;m looking for. I&#39;ll go do more research on it.  I think there is a data binding with Java"}],"owner":{"account_id":15172186,"reputation":11,"user_id":10947901,"display_name":"ROBINSON CHUKWU"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679774652,"creation_date":1582205052,"question_id":60320994,"body_markdown":"I&#39;ve been working with React web application development. I enjoy how changing the state object with `setSate()` automatically updates all UI elements subscribed to that state object. \r\n\r\nI want to know if the is such auto updating with state changing in Android development with Java programming.","title":"Is there a way to have the UI auto update with a change in a state object in Android just like how react and react native does. But using java","body":"<p>I've been working with React web application development. I enjoy how changing the state object with <code>setSate()</code> automatically updates all UI elements subscribed to that state object. </p>\n\n<p>I want to know if the is such auto updating with state changing in Android development with Java programming.</p>\n"},{"tags":["java","apache-httpclient-4.x","apache-httpcomponents"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1435596778,"creation_date":1267010323,"answer_id":2325493,"question_id":2325272,"body_markdown":"1. Obtain the `Content-Length` response header first\r\n2. Get the result as stream and process it byte-by-byte (in batches)\r\n3. Count the bytes processed and show the user the percentage of processed bytes from the total number of bytes (obtained on the 1st step)","title":"Monitor download progress with apache http components","body":"<ol>\n<li>Obtain the <code>Content-Length</code> response header first</li>\n<li>Get the result as stream and process it byte-by-byte (in batches)</li>\n<li>Count the bytes processed and show the user the percentage of processed bytes from the total number of bytes (obtained on the 1st step)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11060443,"reputation":71,"user_id":8121935,"display_name":"Eric Ballard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679773920,"creation_date":1679773920,"answer_id":75844172,"question_id":2325272,"body_markdown":"Adding to @Bozho&#39;s answer, here is example code how to download a file, calculate download progress as a percentage, and update a JProgressBar\r\n\r\n    // Download update\r\n        public static void update(final int totalBytes, final JProgressBar progressBar) {\r\n            // Download file using buffer\r\n            try (BufferedInputStream in = new BufferedInputStream(new URL(API_DOMAIN + &quot;download&quot;).openStream());\r\n                 FileOutputStream fileOutputStream = new FileOutputStream(Files.dataDir + File.separator + &quot;client.jar&quot;)) {\r\n    \r\n                byte[] dataBuffer = new byte[1024];\r\n                int totalBytesRead = 0, bytesRead;\r\n                int progress = 0;\r\n    \r\n                // Process buffer\r\n                while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\r\n                    fileOutputStream.write(dataBuffer, 0, bytesRead);\r\n    \r\n                    // Calculate progress\r\n                    totalBytesRead += bytesRead;\r\n                    progress = (int) Math.floor(((double) totalBytesRead / totalBytes) * 100D);\r\n                    log.info(progress + &quot;%&quot;);\r\n    \r\n                    // Update UI\r\n                    int finalProgress = progress;\r\n                    SwingUtilities.invokeLater(() -&gt; {\r\n                        progressBar.setValue(finalProgress);\r\n                        progressBar.setString(finalProgress + &quot;%&quot;);\r\n                    });\r\n                }\r\n            } catch (IOException e) {\r\n                // handle exception\r\n                log.error(&quot;@Services~ Failed to update client due to: &quot; + e.getMessage(), e);\r\n            }\r\n        }","title":"Monitor download progress with apache http components","body":"<p>Adding to @Bozho's answer, here is example code how to download a file, calculate download progress as a percentage, and update a JProgressBar</p>\n<pre><code>// Download update\n    public static void update(final int totalBytes, final JProgressBar progressBar) {\n        // Download file using buffer\n        try (BufferedInputStream in = new BufferedInputStream(new URL(API_DOMAIN + &quot;download&quot;).openStream());\n             FileOutputStream fileOutputStream = new FileOutputStream(Files.dataDir + File.separator + &quot;client.jar&quot;)) {\n\n            byte[] dataBuffer = new byte[1024];\n            int totalBytesRead = 0, bytesRead;\n            int progress = 0;\n\n            // Process buffer\n            while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\n                fileOutputStream.write(dataBuffer, 0, bytesRead);\n\n                // Calculate progress\n                totalBytesRead += bytesRead;\n                progress = (int) Math.floor(((double) totalBytesRead / totalBytes) * 100D);\n                log.info(progress + &quot;%&quot;);\n\n                // Update UI\n                int finalProgress = progress;\n                SwingUtilities.invokeLater(() -&gt; {\n                    progressBar.setValue(finalProgress);\n                    progressBar.setString(finalProgress + &quot;%&quot;);\n                });\n            }\n        } catch (IOException e) {\n            // handle exception\n            log.error(&quot;@Services~ Failed to update client due to: &quot; + e.getMessage(), e);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1519,"reputation":10289,"user_id":2031,"accept_rate":98,"display_name":"danb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3280,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2325493,"answer_count":2,"score":5,"last_activity_date":1679773920,"creation_date":1267007800,"question_id":2325272,"body_markdown":"I have some big files to download with Apache&#39;s &lt;a href=&quot;http://hc.apache.org/&quot;&gt;Http Components&lt;/a&gt; and I want to be able to display some progress info to users in the admin console of my web app. What is the right way to monitor a download in progress using this library? I will create a singleton to manage the ongoing downloads, what I need is a way to inspect the open connections and find out where they are at any given time.","title":"Monitor download progress with apache http components","body":"<p>I have some big files to download with Apache's <a href=\"http://hc.apache.org/\" rel=\"nofollow noreferrer\">Http Components</a> and I want to be able to display some progress info to users in the admin console of my web app. What is the right way to monitor a download in progress using this library? I will create a singleton to manage the ongoing downloads, what I need is a way to inspect the open connections and find out where they are at any given time.</p>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api-client"],"answers":[{"tags":[],"owner":{"account_id":9108441,"reputation":181,"user_id":6778015,"display_name":"Dhruvajyoti Chatterjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679773846,"creation_date":1679773846,"answer_id":75844165,"question_id":75785005,"body_markdown":"I resolved the issue. The way to solve the problem is to add the provider classes implementation library. As explained here https://github.com/elastic/elasticsearch-java/pull/63 an implementation of provider class is Eclipse Parsson. So adding the dependency of provider implementation &#39;org.eclipse.parsson:parsson:1.1.1&#39; and the api interface &#39;jakarta.json:jakarta.json-api:2.1.1&#39; is a working solution.","title":"Elasticsearch new java API client gives error in bulk operation [jakarta.json.JsonException: Unable to get a JsonProvider]","body":"<p>I resolved the issue. The way to solve the problem is to add the provider classes implementation library. As explained here <a href=\"https://github.com/elastic/elasticsearch-java/pull/63\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch-java/pull/63</a> an implementation of provider class is Eclipse Parsson. So adding the dependency of provider implementation 'org.eclipse.parsson:parsson:1.1.1' and the api interface 'jakarta.json:jakarta.json-api:2.1.1' is a working solution.</p>\n"}],"owner":{"account_id":9108441,"reputation":181,"user_id":6778015,"display_name":"Dhruvajyoti Chatterjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679773846,"creation_date":1679261022,"question_id":75785005,"body_markdown":"I have elasticsearch 8.6.1 version installed. I&#39;m trying to add data using java API client. Code snippet is : \r\n```\r\nrestClient = restClientBuilder.build();\r\nclient = new ElasticsearchClient(new RestClientTransport(restClient, new JacksonJsonpMapper())); \r\n\r\n// dummy data\r\nEmployee emp = new Employee(&quot;E01&quot;, (short)32, &quot;Sunil Kumar&quot;); \r\n\t\t\r\ntry {\r\n\tclient.index(i -&gt; i\r\n\t\t\t\t    .index(&quot;employee&quot;)\r\n\t\t\t\t    .id(emp.getEmpID())\r\n\t\t\t\t    .document(emp));\r\n\t} catch (ElasticsearchException | IOException e) {}\r\n```\r\nBut while performing basic index operation giving Error:  \r\n**Unable to execute bulk request.\r\nco.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch._types.ShardStatistics: jakarta.json.JsonException: Unable to get\r\n a JsonProvider. Check your classpath or thread context classloader. (JSON path: items[0]._shards.total) (line no=1, column no=155, offset=-1)**\r\n\r\nFollowing are depedency jars in classpath: \r\n 1. elasticsearch-java-8.6.2.jar\r\n 2. jackson-databind-2.12.3.jar \r\n 3. jakarta.json-api-2.0.1.jar\r\n\r\nPlease help on how it can be resolved. ","title":"Elasticsearch new java API client gives error in bulk operation [jakarta.json.JsonException: Unable to get a JsonProvider]","body":"<p>I have elasticsearch 8.6.1 version installed. I'm trying to add data using java API client. Code snippet is :</p>\n<pre><code>restClient = restClientBuilder.build();\nclient = new ElasticsearchClient(new RestClientTransport(restClient, new JacksonJsonpMapper())); \n\n// dummy data\nEmployee emp = new Employee(&quot;E01&quot;, (short)32, &quot;Sunil Kumar&quot;); \n        \ntry {\n    client.index(i -&gt; i\n                    .index(&quot;employee&quot;)\n                    .id(emp.getEmpID())\n                    .document(emp));\n    } catch (ElasticsearchException | IOException e) {}\n</code></pre>\n<p>But while performing basic index operation giving Error:<br />\n<strong>Unable to execute bulk request.\nco.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch._types.ShardStatistics: jakarta.json.JsonException: Unable to get\na JsonProvider. Check your classpath or thread context classloader. (JSON path: items[0]._shards.total) (line no=1, column no=155, offset=-1)</strong></p>\n<p>Following are depedency jars in classpath:</p>\n<ol>\n<li>elasticsearch-java-8.6.2.jar</li>\n<li>jackson-databind-2.12.3.jar</li>\n<li>jakarta.json-api-2.0.1.jar</li>\n</ol>\n<p>Please help on how it can be resolved.</p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679772294,"creation_date":1679772294,"answer_id":75844042,"question_id":75843380,"body_markdown":"You could make `getSupportedDataRecordClasses()` a default method, and then have it responsible for reading the annotation from the class. That way the facade can still override the method to call the &quot;real&quot; method, while letting the &quot;real&quot; method continue to be based on the annotation (without having to implement the same thing for every `ExportDocumentFactory` implementation).\r\n\r\nFor example:\r\n```lang-java\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Inherited;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\npublic interface ExportDocumentFactory {\r\n    \r\n    default Class&lt;?&gt;[] getSupportedDataRecordClasses() {\r\n        var annotation = getClass().getAnnotation(DataRecordSupport.class);\r\n        if (annotation == null) {\r\n            throw new IllegalStateException(&quot;no DataRecordSupport annotation present&quot;);\r\n        }\r\n        return annotation.value();\r\n    }\r\n    \r\n    @Inherited\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @interface DataRecordSupport {\r\n\r\n        Class&lt;?&gt;[] value() default {};\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nNote this is similar to what [`AbstractProcessor`][1] does with e.g., [`SupportedAnnotationTypes`][2].\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.compiler/javax/annotation/processing/AbstractProcessor.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.compiler/javax/annotation/processing/SupportedAnnotationTypes.html","title":"How to defer getAnnotation call to an instance variable&#39;s type","body":"<p>You could make <code>getSupportedDataRecordClasses()</code> a default method, and then have it responsible for reading the annotation from the class. That way the facade can still override the method to call the &quot;real&quot; method, while letting the &quot;real&quot; method continue to be based on the annotation (without having to implement the same thing for every <code>ExportDocumentFactory</code> implementation).</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Inherited;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\npublic interface ExportDocumentFactory {\n    \n    default Class&lt;?&gt;[] getSupportedDataRecordClasses() {\n        var annotation = getClass().getAnnotation(DataRecordSupport.class);\n        if (annotation == null) {\n            throw new IllegalStateException(&quot;no DataRecordSupport annotation present&quot;);\n        }\n        return annotation.value();\n    }\n    \n    @Inherited\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.TYPE)\n    @interface DataRecordSupport {\n\n        Class&lt;?&gt;[] value() default {};\n    }\n}\n</code></pre>\n<hr />\n<p>Note this is similar to what <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.compiler/javax/annotation/processing/AbstractProcessor.html\" rel=\"nofollow noreferrer\"><code>AbstractProcessor</code></a> does with e.g., <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.compiler/javax/annotation/processing/SupportedAnnotationTypes.html\" rel=\"nofollow noreferrer\"><code>SupportedAnnotationTypes</code></a>.</p>\n"}],"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75844042,"answer_count":1,"score":0,"last_activity_date":1679772294,"creation_date":1679765107,"question_id":75843380,"body_markdown":"I have an interface\r\n```java\r\npublic interface ExportDocumentFactory {\r\n  Class&lt;?&gt;[] getSupportedDataRecordClasses();\r\n}\r\n```\r\nthat allows implementing classes to declare types of DataRecords they support\r\n```java\r\n@Override\r\npublic Class&lt;?&gt;[] getSupportedDataRecordClasses() {\r\n  Class&lt;?&gt;[] classes = new Class&lt;?&gt;[1];\r\n  classes[0] = CardRequestBatchComponent.class;\r\n  return classes;\r\n}\r\n```\r\nso that a service can read the supported types\r\n```java\r\nsourceClasses = sourceFileClientConfig.getFileFactory().getSupportedDataRecordClasses();\r\n```\r\nThis work fine, except that I think it could be done better with an annotation, e.g.\r\n```java\r\n@DataRecordSupport({CardRequestBatchComponent.class})\r\n```\r\nwhich looks like\r\n```java\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface DataRecordSupport {\r\n  Class&lt;?&gt;[] value() default {};\r\n}\r\n```\r\nand is read like\r\n```java\r\nsourceClasses = sourceFileClientConfig.getFileFactory().getClass().getAnnotation(DataRecordSupport.class).value();\r\n```\r\nBut there&#39;s a complication. One of the implementing classes is a facade, so that it overrides like so\r\n```java\r\n@Override\r\npublic Class&lt;?&gt;[] getSupportedDataRecordClasses() {\r\n  return config.getFileFactory().getSupportedDataRecordClasses();\r\n}\r\n```\r\nThe getAnnotation method above will fail to find any annotation on objects of this class. How can I get this to work, preferably without changing the caller?\r\n\r\nIf I did change the caller to only work with this one class, I would first have to create the getConfig getter, and then make it\r\n```java\r\nsourceClasses = sourceFileClientConfig.getFileFactory().getConfig().getFileFactory().getClass().getAnnotation(DataRecordSupport.class).value();\r\n```\r\n","title":"How to defer getAnnotation call to an instance variable&#39;s type","body":"<p>I have an interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ExportDocumentFactory {\n  Class&lt;?&gt;[] getSupportedDataRecordClasses();\n}\n</code></pre>\n<p>that allows implementing classes to declare types of DataRecords they support</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Class&lt;?&gt;[] getSupportedDataRecordClasses() {\n  Class&lt;?&gt;[] classes = new Class&lt;?&gt;[1];\n  classes[0] = CardRequestBatchComponent.class;\n  return classes;\n}\n</code></pre>\n<p>so that a service can read the supported types</p>\n<pre class=\"lang-java prettyprint-override\"><code>sourceClasses = sourceFileClientConfig.getFileFactory().getSupportedDataRecordClasses();\n</code></pre>\n<p>This work fine, except that I think it could be done better with an annotation, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataRecordSupport({CardRequestBatchComponent.class})\n</code></pre>\n<p>which looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface DataRecordSupport {\n  Class&lt;?&gt;[] value() default {};\n}\n</code></pre>\n<p>and is read like</p>\n<pre class=\"lang-java prettyprint-override\"><code>sourceClasses = sourceFileClientConfig.getFileFactory().getClass().getAnnotation(DataRecordSupport.class).value();\n</code></pre>\n<p>But there's a complication. One of the implementing classes is a facade, so that it overrides like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Class&lt;?&gt;[] getSupportedDataRecordClasses() {\n  return config.getFileFactory().getSupportedDataRecordClasses();\n}\n</code></pre>\n<p>The getAnnotation method above will fail to find any annotation on objects of this class. How can I get this to work, preferably without changing the caller?</p>\n<p>If I did change the caller to only work with this one class, I would first have to create the getConfig getter, and then make it</p>\n<pre class=\"lang-java prettyprint-override\"><code>sourceClasses = sourceFileClientConfig.getFileFactory().getConfig().getFileFactory().getClass().getAnnotation(DataRecordSupport.class).value();\n</code></pre>\n"},{"tags":["java","swing","netflow"],"answers":[{"tags":[],"owner":{"account_id":1733893,"reputation":66893,"user_id":1586880,"accept_rate":100,"display_name":"dsgriffin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1357833844,"creation_date":1357833844,"answer_id":14262071,"question_id":14262032,"body_markdown":"Yes, there is [Java NetFlow Collect-Analyzer][1] as well. It supports v7 and v9 as well as previous versions.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jnca/","title":"Java library for netflow","body":"<p>Yes, there is <a href=\"http://sourceforge.net/projects/jnca/\" rel=\"nofollow\">Java NetFlow Collect-Analyzer</a> as well. It supports v7 and v9 as well as previous versions.</p>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679771924,"creation_date":1357878249,"answer_id":14271642,"question_id":14262032,"body_markdown":"Another java library called Styx is another Netflow Collector and Analyzer.\r\n","title":"Java library for netflow","body":"<p>Another java library called Styx is another Netflow Collector and Analyzer.</p>\n"},{"tags":[],"owner":{"account_id":157597,"reputation":1257,"user_id":375670,"accept_rate":78,"display_name":"Jeff Evans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498675019,"creation_date":1498675019,"answer_id":44810160,"question_id":14262032,"body_markdown":"There is a [Scala library][1], which presumably means it could be invoked from Java.  But that&#39;s not specifically documented, nor have I attempted to.\r\n\r\n\r\n  [1]: https://github.com/wasted/netflow","title":"Java library for netflow","body":"<p>There is a <a href=\"https://github.com/wasted/netflow\" rel=\"nofollow noreferrer\">Scala library</a>, which presumably means it could be invoked from Java.  But that's not specifically documented, nor have I attempted to.</p>\n"}],"owner":{"account_id":1069990,"reputation":700,"user_id":1069522,"accept_rate":74,"display_name":"tdimmig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4680,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14262071,"answer_count":3,"score":3,"last_activity_date":1679771924,"creation_date":1357833724,"question_id":14262032,"body_markdown":"Is there a Java library for Netflow?  I need to be able to objectify flows for analysis.  (I really need to support sflow, too, but one hurdle at a time.)  I found a project called &quot;jflow&quot; that has classes for Netflow v5 and v6, but I need to support 7 and 9 as well.  \r\n\r\nAll of my googling has brought me nothing.  Does anyone know of a library?  Has anyone written their own?","title":"Java library for netflow","body":"<p>Is there a Java library for Netflow?  I need to be able to objectify flows for analysis.  (I really need to support sflow, too, but one hurdle at a time.)  I found a project called \"jflow\" that has classes for Netflow v5 and v6, but I need to support 7 and 9 as well.  </p>\n\n<p>All of my googling has brought me nothing.  Does anyone know of a library?  Has anyone written their own?</p>\n"},{"tags":["java","android","database","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1679749221,"post_id":75836384,"comment_id":133778487,"body_markdown":"So you say that onDataChange nor onCancelled are triggered, right? Are you sure you have an active internet connection on the device? Besides that, what is the location of your database and how did define `mDatabase`? Please respond using @AlexMamo","body":"So you say that onDataChange nor onCancelled are triggered, right? Are you sure you have an active internet connection on the device? Besides that, what is the location of your database and how did define <code>mDatabase</code>? Please respond using @AlexMamo"},{"owner":{"account_id":23395252,"reputation":5,"user_id":17459382,"display_name":"Francesco"},"score":0,"creation_date":1679769278,"post_id":75836384,"comment_id":133781534,"body_markdown":"@AlexMamo i have internet connection and the internet permission in my manifest","body":"@AlexMamo i have internet connection and the internet permission in my manifest"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1679770588,"post_id":75836384,"comment_id":133781692,"body_markdown":"Thanks. Cleaning up some comments to allow folks to focus.","body":"Thanks. Cleaning up some comments to allow folks to focus."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679771207,"creation_date":1679770789,"answer_id":75843909,"question_id":75836384,"body_markdown":"The way you initialize `mDatabase` here is wrong:\r\n```\r\nDatabaseReference mDatabase = \r\nFirebaseDatabase.getInstance().getReference(&quot;DATABASE_NAME/europe-west1/firebasedatabase/app/&quot;);\r\n```\r\n\r\nYou have to pass the database URL to `getInstance`, not to `getReference`. So:\r\n\r\n```\r\nDatabaseReference mDatabase = \r\nFirebaseDatabase.getInstance(&quot;https://DATABASE_NAME.europe-west1.firebasedatabase.app&quot;).getReference();\r\n```\r\n\r\nBe sure to copy/paste the URL exactly as is into the `getInstance` call.","title":"Why Firebase works only first time I open the app?","body":"<p>The way you initialize <code>mDatabase</code> here is wrong:</p>\n<pre><code>DatabaseReference mDatabase = \nFirebaseDatabase.getInstance().getReference(&quot;DATABASE_NAME/europe-west1/firebasedatabase/app/&quot;);\n</code></pre>\n<p>You have to pass the database URL to <code>getInstance</code>, not to <code>getReference</code>. So:</p>\n<pre><code>DatabaseReference mDatabase = \nFirebaseDatabase.getInstance(&quot;https://DATABASE_NAME.europe-west1.firebasedatabase.app&quot;).getReference();\n</code></pre>\n<p>Be sure to copy/paste the URL exactly as is into the <code>getInstance</code> call.</p>\n"}],"owner":{"account_id":23395252,"reputation":5,"user_id":17459382,"display_name":"Francesco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75843909,"answer_count":1,"score":0,"last_activity_date":1679771207,"creation_date":1679677010,"question_id":75836384,"body_markdown":"To store and retrieve data about my users in my app I&#39;m using Firebase Realtime Database.\r\nTo read data I do the following code. I tried to put it in OnCreate or OnStart or in OnRestart, nothing works.\r\n\r\n    DatabaseReference mDatabase = \r\n    FirebaseDatabase.getInstance().getReference(&quot;DATABASE_NAME/europe-west1/firebasedatabase/app/&quot;);\r\n    mDatabase.child(&quot;users&quot;).child(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            loggedUser = snapshot.getValue(User.class);\r\n            Bundle bundle = new Bundle();\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n            Log.e(&quot;onDataChange Oncancelled&quot;,error.toString());\r\n        }\r\n    });\r\n\r\n\r\nbut this only works the first time. The call to **getValue** returns null.\r\nNeither onDataChange nor onCancelled are triggered, and I have an active internet connection on my device.\r\nHow can I fix this?\r\n\r\n","title":"Why Firebase works only first time I open the app?","body":"<p>To store and retrieve data about my users in my app I'm using Firebase Realtime Database.\nTo read data I do the following code. I tried to put it in OnCreate or OnStart or in OnRestart, nothing works.</p>\n<pre><code>DatabaseReference mDatabase = \nFirebaseDatabase.getInstance().getReference(&quot;DATABASE_NAME/europe-west1/firebasedatabase/app/&quot;);\nmDatabase.child(&quot;users&quot;).child(mAuth.getCurrentUser().getUid()).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        loggedUser = snapshot.getValue(User.class);\n        Bundle bundle = new Bundle();\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        Log.e(&quot;onDataChange Oncancelled&quot;,error.toString());\n    }\n});\n</code></pre>\n<p>but this only works the first time. The call to <strong>getValue</strong> returns null.\nNeither onDataChange nor onCancelled are triggered, and I have an active internet connection on my device.\nHow can I fix this?</p>\n"},{"tags":["java","oop","inheritance","interface","abstraction"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1679770769,"post_id":75843828,"comment_id":133781726,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/abstract.html</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679790653,"post_id":75843828,"comment_id":133784049,"body_markdown":"Before posting here, always read [Wikipedia](https://en.wikipedia.org/wiki/Interface_(Java)), and study Oracle&#39;s free-of-cost tutorial on Java. See the [tutorial on interfaces](https://docs.oracle.com/javase/tutorial/java/concepts/interface.html). To quote: *an interface is a group of related methods with empty bodies*. So no member fields in an interface in Java. Your attempt to declare a String (for example: String seat) is nonsensical in Java. You may want to learn about *abstract class* in Java.","body":"Before posting here, always read <a href=\"https://en.wikipedia.org/wiki/Interface_(Java)\" rel=\"nofollow noreferrer\">Wikipedia</a>, and study Oracle&#39;s free-of-cost tutorial on Java. See the <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/interface.html\" rel=\"nofollow noreferrer\">tutorial on interfaces</a>. To quote: <i>an interface is a group of related methods with empty bodies</i>. So no member fields in an interface in Java. Your attempt to declare a String (for example: String seat) is nonsensical in Java. You may want to learn about <i>abstract class</i> in Java."}],"answers":[{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679771206,"creation_date":1679771206,"answer_id":75843947,"question_id":75843828,"body_markdown":"If you want to declare a state for each Bicycle (like &#39;seats&#39;, wheelDimensions, topSpeed, gears etc) - abstract class is the way to go, as it allows to declare those fields.\r\n\r\nIf you want to declare what actions are allowed by Bicycle or onto Bicycle (like &#39;startRide&#39;, &#39;getSpeed&#39;, &#39;jump&#39; etc) - interface is the way to go, as it will just specify what is expected from Bicycle in general, without going into details.\r\n\r\nOne downside with using abstract class for such approach - that if for some reason one of bikes would not have some property of abstract class (for example - some bike has no seats at all) - it will still have a seat field (even it is equal to 0).\r\n\r\nHowever, both approaches (interface &amp; abstract class) could be used or even combined to achieve needed functionality","title":"Is interface the right way to go?","body":"<p>If you want to declare a state for each Bicycle (like 'seats', wheelDimensions, topSpeed, gears etc) - abstract class is the way to go, as it allows to declare those fields.</p>\n<p>If you want to declare what actions are allowed by Bicycle or onto Bicycle (like 'startRide', 'getSpeed', 'jump' etc) - interface is the way to go, as it will just specify what is expected from Bicycle in general, without going into details.</p>\n<p>One downside with using abstract class for such approach - that if for some reason one of bikes would not have some property of abstract class (for example - some bike has no seats at all) - it will still have a seat field (even it is equal to 0).</p>\n<p>However, both approaches (interface &amp; abstract class) could be used or even combined to achieve needed functionality</p>\n"}],"owner":{"account_id":20793436,"reputation":1,"user_id":15271019,"display_name":"tarrzaann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1679771206,"creation_date":1679769940,"question_id":75843828,"body_markdown":"I am making a Bicycle interface acting as a blueprint for all types of bikes. \r\n\r\nI have multiple classes that implements the Bicycle interface, classes such as BMX, MountainBike, RoadBike, MotorBike...etc.\r\n\r\nNow, I understand that interfaces are one way to force each of the classes that implement it to have multiple things like String seats, double wheelDimensions, double topSpeed, int gears...\r\nThese are some of the things I want to force all the classes to have when the Bicycle interface is implemented. \r\n\r\nIs interface the right approach or is it abstraction?\r\nBecause when I try to declare a String (for example: String seat) in the interface, it says it must be instantiated. I want the classes to instantiate the seat and not the interface. Because each class will have different type of seats.\r\n\r\nI was under the assumption that interfaces are a way to force classes that implement it with the things the interface wants?","title":"Is interface the right way to go?","body":"<p>I am making a Bicycle interface acting as a blueprint for all types of bikes.</p>\n<p>I have multiple classes that implements the Bicycle interface, classes such as BMX, MountainBike, RoadBike, MotorBike...etc.</p>\n<p>Now, I understand that interfaces are one way to force each of the classes that implement it to have multiple things like String seats, double wheelDimensions, double topSpeed, int gears...\nThese are some of the things I want to force all the classes to have when the Bicycle interface is implemented.</p>\n<p>Is interface the right approach or is it abstraction?\nBecause when I try to declare a String (for example: String seat) in the interface, it says it must be instantiated. I want the classes to instantiate the seat and not the interface. Because each class will have different type of seats.</p>\n<p>I was under the assumption that interfaces are a way to force classes that implement it with the things the interface wants?</p>\n"},{"tags":["java","android","apache-poi","xlsx"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679762110,"creation_date":1679762110,"answer_id":75843091,"question_id":75842879,"body_markdown":"Assets are files on your development machine. They are not files on the device.\r\n\r\nReplace:\r\n\r\n```java\r\nFileInputStream fileInputStream = new FileInputStream(&quot;assets/test.xlsx&quot;);\r\n```\r\n\r\nwith:\r\n\r\n```java\r\nInputStream inputStream = getAssets().open(&quot;test.xlsx&quot;);\r\n```\r\n\r\n...and then use `inputStream` where you now have `fileInputStream`.","title":"ENOENT (No such file or directory) Apache Poi Android","body":"<p>Assets are files on your development machine. They are not files on the device.</p>\n<p>Replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream fileInputStream = new FileInputStream(&quot;assets/test.xlsx&quot;);\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream inputStream = getAssets().open(&quot;test.xlsx&quot;);\n</code></pre>\n<p>...and then use <code>inputStream</code> where you now have <code>fileInputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":28123231,"reputation":1,"user_id":21489118,"display_name":"Mateusz Okruch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679770839,"creation_date":1679770839,"answer_id":75843918,"question_id":75842879,"body_markdown":"I found the answer. I just needed change version library to 5.2.3 in the dependencies.\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;org.apache.poi:poi:5.2.3&#39;\r\n        implementation &#39;org.apache.poi:poi-ooxml:5.2.3&#39;\r\n    }","title":"ENOENT (No such file or directory) Apache Poi Android","body":"<p>I found the answer. I just needed change version library to 5.2.3 in the dependencies.</p>\n<pre><code>dependencies {\n\n    implementation 'org.apache.poi:poi:5.2.3'\n    implementation 'org.apache.poi:poi-ooxml:5.2.3'\n}\n</code></pre>\n"}],"owner":{"account_id":28123231,"reputation":1,"user_id":21489118,"display_name":"Mateusz Okruch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75843918,"answer_count":2,"score":0,"last_activity_date":1679770839,"creation_date":1679759991,"question_id":75842879,"body_markdown":"**I try access the file .xlsx with Apache Poi lib, but I get an error**\r\n\r\n&gt; java.io.FileNotFoundException: assets/test.xlsx: open failed: ENOENT (No such file or directory)\r\n\r\n```\r\npackage com.example.apachepoi;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TextView textView = findViewById(R.id.textView);\r\n\r\n        readingFile(textView);\r\n    }\r\n    public void readingFile(TextView textView) {\r\n        try {\r\n            FileInputStream fileInputStream = new FileInputStream(&quot;assets/test.xlsx&quot;);\r\n            XSSFWorkbook xssfWorkbook = new XSSFWorkbook(fileInputStream);\r\n            XSSFSheet sheet = xssfWorkbook.getSheetAt(0);\r\n            Row row = sheet.getRow(0);\r\n            Cell cell = row.getCell(0);\r\n            String cellValue = cell.getStringCellValue();\r\n            textView.setText(cellValue);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**also i try do this with AssetManager but then i get error of**\r\n\r\n&gt; org.apache.poi.ooxml.POIXMLException: error: The &#39;namespace-prefix&#39; feature is not supported while the &#39;namespaces&#39; feature is enabled.\r\n\r\nafter adding\r\n\r\n`DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(); factory.setNamespaceAware(false);`\r\n\r\nresult was\r\n\r\n&gt; java.io.FileNotFoundException: xlsx.xlsx\r\n\r\nbuild.gradle is\r\n\r\n```\r\nandroid { \r\n...\r\n    compileSdk 33    \r\n        defaultConfig {\r\n            ...\r\n            minSdk 26\r\n            targetSdk 33\r\n            ...\r\n        }\r\n}\r\n```\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;org.apache.poi:poi:4.1.2&#39;\r\n    implementation &#39;org.apache.poi:poi-ooxml:4.1.2&#39;\r\n}\r\n```","title":"ENOENT (No such file or directory) Apache Poi Android","body":"<p><strong>I try access the file .xlsx with Apache Poi lib, but I get an error</strong></p>\n<blockquote>\n<p>java.io.FileNotFoundException: assets/test.xlsx: open failed: ENOENT (No such file or directory)</p>\n</blockquote>\n<pre><code>package com.example.apachepoi;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TextView textView = findViewById(R.id.textView);\n\n        readingFile(textView);\n    }\n    public void readingFile(TextView textView) {\n        try {\n            FileInputStream fileInputStream = new FileInputStream(&quot;assets/test.xlsx&quot;);\n            XSSFWorkbook xssfWorkbook = new XSSFWorkbook(fileInputStream);\n            XSSFSheet sheet = xssfWorkbook.getSheetAt(0);\n            Row row = sheet.getRow(0);\n            Cell cell = row.getCell(0);\n            String cellValue = cell.getStringCellValue();\n            textView.setText(cellValue);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>also i try do this with AssetManager but then i get error of</strong></p>\n<blockquote>\n<p>org.apache.poi.ooxml.POIXMLException: error: The 'namespace-prefix' feature is not supported while the 'namespaces' feature is enabled.</p>\n</blockquote>\n<p>after adding</p>\n<p><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(); factory.setNamespaceAware(false);</code></p>\n<p>result was</p>\n<blockquote>\n<p>java.io.FileNotFoundException: xlsx.xlsx</p>\n</blockquote>\n<p>build.gradle is</p>\n<pre><code>android { \n...\n    compileSdk 33    \n        defaultConfig {\n            ...\n            minSdk 26\n            targetSdk 33\n            ...\n        }\n}\n</code></pre>\n<pre><code>dependencies {\n\n    implementation 'org.apache.poi:poi:4.1.2'\n    implementation 'org.apache.poi:poi-ooxml:4.1.2'\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-sns","amazon-kinesis"],"comments":[{"owner":{"account_id":4136822,"reputation":4401,"user_id":3393308,"display_name":"yorodm"},"score":0,"creation_date":1582832281,"post_id":60438658,"comment_id":106922528,"body_markdown":"You can use `InputStream` or `String` as  the request type and then figure out which kind of event is from the structure.","body":"You can use <code>InputStream</code> or <code>String</code> as  the request type and then figure out which kind of event is from the structure."},{"owner":{"account_id":8885142,"reputation":124,"user_id":6741250,"accept_rate":100,"display_name":"Mokz"},"score":0,"creation_date":1582836478,"post_id":60438658,"comment_id":106924205,"body_markdown":"@yorodm I get an unable to parse exception when trying to receive a String. That&#39;s why I started using SNSEvent","body":"@yorodm I get an unable to parse exception when trying to receive a String. That&#39;s why I started using SNSEvent"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1582838597,"post_id":60438658,"comment_id":106925093,"body_markdown":"You could write multiple handlers within the same Lambda function with different signatures.","body":"You could write multiple handlers within the same Lambda function with different signatures."},{"owner":{"account_id":4136822,"reputation":4401,"user_id":3393308,"display_name":"yorodm"},"score":0,"creation_date":1582841233,"post_id":60438658,"comment_id":106926038,"body_markdown":"@Mokz is this error from the lambda runtime or on the Java side","body":"@Mokz is this error from the lambda runtime or on the Java side"},{"owner":{"account_id":8643255,"reputation":2619,"user_id":6471284,"display_name":"Gustavo Tavares"},"score":0,"creation_date":1582893803,"post_id":60438658,"comment_id":106943055,"body_markdown":"What I do is parse the event as compare to expectations regarding the know formats (SQS, SQS, API gateway and so on).","body":"What I do is parse the event as compare to expectations regarding the know formats (SQS, SQS, API gateway and so on)."}],"answers":[{"tags":[],"owner":{"account_id":4015971,"reputation":317,"user_id":3308078,"display_name":"GuillaumeCleme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679769670,"creation_date":1679769670,"answer_id":75843812,"question_id":60438658,"body_markdown":"AWS publishes many events in the `aws-lambda-java-events` library which includes generic events such as `APIGatewayV2HTTPEvent`. Those events essentially give you generic beans to handle the event JSON. Check out the project here: https://github.com/aws/aws-lambda-java-libs/tree/main/aws-lambda-java-events","title":"Is there a generic Event a AWS Lambda function can receive, and then determine which type of event is it?","body":"<p>AWS publishes many events in the <code>aws-lambda-java-events</code> library which includes generic events such as <code>APIGatewayV2HTTPEvent</code>. Those events essentially give you generic beans to handle the event JSON. Check out the project here: <a href=\"https://github.com/aws/aws-lambda-java-libs/tree/main/aws-lambda-java-events\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-java-libs/tree/main/aws-lambda-java-events</a></p>\n"}],"owner":{"account_id":8885142,"reputation":124,"user_id":6741250,"accept_rate":100,"display_name":"Mokz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679769670,"creation_date":1582824059,"question_id":60438658,"body_markdown":"I&#39;m currently learning about AWS Lambda and how to trigger it from other services. I&#39;ve managed to use SNS topic (with help of [this tutorial][1]) to publish a json like:\r\n\r\n    {\r\n    \t&quot;name&quot;:&quot;Bojack&quot;,\r\n    \t&quot;lastName&quot;:&quot;Horseman&quot;,\r\n    \t&quot;job&quot;:&quot;Horsin around&quot;\r\n    }\r\n\r\nand triggers the Lambda function:\r\n\r\n    public class LambdaHandler implements RequestHandler&lt;SNSEvent, MyResponse&gt; {\r\n    \r\n    \tpublic MyResponse handleRequest(SNSEvent request, Context context){\r\n    \t\t\r\n    \t\tString input = request.getRecords().get(0).getSNS().getMessage();\r\n    \t\tMyRequest myRequest = new Gson().fromJson(input, MyRequest.class);\r\n    \t\t\r\n    \t\tcontext.getLogger().log(MyRequest.toString());\r\n    \t\t\r\n    \t\t// do some logic\r\n    \t\t\r\n    \t\treturn null;\r\n    \t }\r\n    } \r\n\r\nIt works great! \r\n\r\nHowever, now I&#39;m trying to figure out how to add a new service that can also trigger this function.\r\nFor example SQS, or kinesis. AFAIK these services send different json input to the lambda function, and I&#39;m not sure about how to receive it since I&#39;m currently using **SNSEvent**\r\n\r\nIs there a way to receive a Generic Event and inside the handler determine which service was the one who send it? So that way I can parse it to that specific event and get the **message**\r\n\r\nI&#39;ve read about [AWS Lambda Event Source Mapping][2] but I&#39;m not sure if that&#39;s the way to go. Also I didn&#39;t really understand it\r\n    \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/with-sns-example.html\r\n  [2]: https://docs.aws.amazon.com/lambda/latest/dg/invocation-eventsourcemapping.html","title":"Is there a generic Event a AWS Lambda function can receive, and then determine which type of event is it?","body":"<p>I'm currently learning about AWS Lambda and how to trigger it from other services. I've managed to use SNS topic (with help of <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-sns-example.html\" rel=\"nofollow noreferrer\">this tutorial</a>) to publish a json like:</p>\n\n<pre><code>{\n    \"name\":\"Bojack\",\n    \"lastName\":\"Horseman\",\n    \"job\":\"Horsin around\"\n}\n</code></pre>\n\n<p>and triggers the Lambda function:</p>\n\n<pre><code>public class LambdaHandler implements RequestHandler&lt;SNSEvent, MyResponse&gt; {\n\n    public MyResponse handleRequest(SNSEvent request, Context context){\n\n        String input = request.getRecords().get(0).getSNS().getMessage();\n        MyRequest myRequest = new Gson().fromJson(input, MyRequest.class);\n\n        context.getLogger().log(MyRequest.toString());\n\n        // do some logic\n\n        return null;\n     }\n} \n</code></pre>\n\n<p>It works great! </p>\n\n<p>However, now I'm trying to figure out how to add a new service that can also trigger this function.\nFor example SQS, or kinesis. AFAIK these services send different json input to the lambda function, and I'm not sure about how to receive it since I'm currently using <strong>SNSEvent</strong></p>\n\n<p>Is there a way to receive a Generic Event and inside the handler determine which service was the one who send it? So that way I can parse it to that specific event and get the <strong>message</strong></p>\n\n<p>I've read about <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/invocation-eventsourcemapping.html\" rel=\"nofollow noreferrer\">AWS Lambda Event Source Mapping</a> but I'm not sure if that's the way to go. Also I didn't really understand it</p>\n"},{"tags":["java","spring-boot","docker","maven","netsuite"],"answers":[{"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679768795,"creation_date":1679768438,"answer_id":75843711,"question_id":75843419,"body_markdown":"That is because java runtime is looking for them inside the docker container. To make it work, you need to add the libraries to docker image (`ADD` command in Dockerfile) or add the volume to map your local filesystem folder into the container filesystem folder.\r\n\r\nYou can also install the dependencies into your local maven repository, and then they will be included in the &quot;fat jar&quot; after build.\r\n\r\n```\r\nmvn install:install-file -Dfile=${pom.basedir}/libs/suitetalk-axis-proxy-v2022_1-1.0.0.jar -DgroupId=org.suitetalk -DartifactId=suitetalk-axis-proxy-v2022_1 -Dversion=1.0.0 -Dpackaging=jar\r\n```","title":"Getting NoClassDefFound while running jar in docker","body":"<p>That is because java runtime is looking for them inside the docker container. To make it work, you need to add the libraries to docker image (<code>ADD</code> command in Dockerfile) or add the volume to map your local filesystem folder into the container filesystem folder.</p>\n<p>You can also install the dependencies into your local maven repository, and then they will be included in the &quot;fat jar&quot; after build.</p>\n<pre><code>mvn install:install-file -Dfile=${pom.basedir}/libs/suitetalk-axis-proxy-v2022_1-1.0.0.jar -DgroupId=org.suitetalk -DartifactId=suitetalk-axis-proxy-v2022_1 -Dversion=1.0.0 -Dpackaging=jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679769648,"creation_date":1679769648,"answer_id":75843809,"question_id":75843419,"body_markdown":"You are missing the instruction for the spring-boot-maven-plugin to copy the system scope into the spring-boot jar.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAlso `pom.` in `${pom.basedir}` is redundant:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;11.2.0.3&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${basedir}/libs/suitetalk-axis-proxy-v2022_1-1.0.0.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;","title":"Getting NoClassDefFound while running jar in docker","body":"<p>You are missing the instruction for the spring-boot-maven-plugin to copy the system scope into the spring-boot jar.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Also <code>pom.</code> in <code>${pom.basedir}</code> is redundant:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc&lt;/artifactId&gt;\n    &lt;version&gt;11.2.0.3&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${basedir}/libs/suitetalk-axis-proxy-v2022_1-1.0.0.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9114195,"reputation":45,"user_id":6781778,"display_name":"Prashant VIDHATE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75843711,"answer_count":2,"score":1,"last_activity_date":1679769648,"creation_date":1679765446,"question_id":75843419,"body_markdown":"I have added 3 external jars which is not present on the maven repository. I mentioned external jars as a system scope in pom.xml file -\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.suitetalk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;suitetalk-axis-proxy-v2022_1&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t&lt;systemPath&gt;${pom.basedir}/libs/suitetalk-axis-proxy-v2022_1-1.0.0.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nIn STS/Eclipse, the project is not giving errors and all functionality is working well as expected. But if we build project by - `mvn clean package` then also it is not throwing any error. When I run docker image by docker run command then getting error as - \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u0aoX.png\r\n\r\nSummary - External Jar&#39;s classes are not found while running the docker image. getting error as NoClassDefFOund error. \r\nCan someone please help me to solve this issue ?\r\n\r\nThanks in advance for your efforts!\r\n\r\n**Regards,**\r\nPrashant VIDHATE","title":"Getting NoClassDefFound while running jar in docker","body":"<p>I have added 3 external jars which is not present on the maven repository. I mentioned external jars as a system scope in pom.xml file -</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.suitetalk&lt;/groupId&gt;\n        &lt;artifactId&gt;suitetalk-axis-proxy-v2022_1&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;systemPath&gt;${pom.basedir}/libs/suitetalk-axis-proxy-v2022_1-1.0.0.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In STS/Eclipse, the project is not giving errors and all functionality is working well as expected. But if we build project by - <code>mvn clean package</code> then also it is not throwing any error. When I run docker image by docker run command then getting error as -\n<a href=\"https://i.stack.imgur.com/u0aoX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u0aoX.png\" alt=\"enter image description here\" /></a></p>\n<p>Summary - External Jar's classes are not found while running the docker image. getting error as NoClassDefFOund error.\nCan someone please help me to solve this issue ?</p>\n<p>Thanks in advance for your efforts!</p>\n<p><strong>Regards,</strong>\nPrashant VIDHATE</p>\n"},{"tags":["java","arrays","random","java.util.scanner","ansi-escape"],"comments":[{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":0,"creation_date":1386198623,"post_id":20388026,"comment_id":30442950,"body_markdown":"It is a bit confusing indeed. Try to help us by giving some more details. What exactly do you want the program to do in what specific situation? What does it do instead?","body":"It is a bit confusing indeed. Try to help us by giving some more details. What exactly do you want the program to do in what specific situation? What does it do instead?"},{"owner":{"account_id":2670200,"reputation":317,"user_id":2744968,"accept_rate":39,"display_name":"KTF"},"score":0,"creation_date":1386198832,"post_id":20388026,"comment_id":30443020,"body_markdown":"Right now, if you run the program, it will generate a 10x10 board with 10 1-cell ships placed randomly in it. What I need help with is instead of 1-cell ships, I want to place 2-cell up to 4-cell ships in it if possible. The ships are generated through the initShips().","body":"Right now, if you run the program, it will generate a 10x10 board with 10 1-cell ships placed randomly in it. What I need help with is instead of 1-cell ships, I want to place 2-cell up to 4-cell ships in it if possible. The ships are generated through the initShips()."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1386199243,"post_id":20388026,"comment_id":30443160,"body_markdown":"So your actual question is roughly how to find (2 or 4) connected free cells within a 2D array with potentially some other restrictions. Or is it &quot;how do I represent a 2 cells in an array as 1 entity&quot;?","body":"So your actual question is roughly how to find (2 or 4) connected free cells within a 2D array with potentially some other restrictions. Or is it &quot;how do I represent a 2 cells in an array as 1 entity&quot;?"},{"owner":{"account_id":3534449,"reputation":3772,"user_id":2953117,"accept_rate":55,"display_name":"Blub"},"score":1,"creation_date":1386199249,"post_id":20388026,"comment_id":30443162,"body_markdown":"Why not make a `Ship` class that holds the start and end coordinates of itself?","body":"Why not make a <code>Ship</code> class that holds the start and end coordinates of itself?"},{"owner":{"account_id":2670200,"reputation":317,"user_id":2744968,"accept_rate":39,"display_name":"KTF"},"score":0,"creation_date":1386199828,"post_id":20388026,"comment_id":30443371,"body_markdown":"@zapl the latter. But if I have to use the former, I&#39;ll do it.","body":"@zapl the latter. But if I have to use the former, I&#39;ll do it."}],"answers":[{"tags":[],"owner":{"account_id":2737472,"reputation":712,"user_id":2359830,"display_name":"ThaBomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386199556,"creation_date":1386199556,"answer_id":20388277,"question_id":20388026,"body_markdown":"I don&#39;t understand the board/ship arrays in your code.  \r\nWhat are the extra arrays for ship for?  \r\n\r\nI suggest you make 1 array for each player&#39;s board filled with 0&#39;s at creation by default, and then add the boats by filling in 1&#39;s in the boats locations? and possibly later on in the game 2&#39;s for missed points and 3 for hits.\r\n\r\nThe only extra array you will need will be a 2D array containing 5 rows for the 5 ships and 2 columns specifying initial and ending coordinate of the ship that may later on be used to check if the entire ship has been destroyed or not.","title":"Adding an array into another array (for a Java Battleship program)","body":"<p>I don't understand the board/ship arrays in your code.<br>\nWhat are the extra arrays for ship for?  </p>\n\n<p>I suggest you make 1 array for each player's board filled with 0's at creation by default, and then add the boats by filling in 1's in the boats locations? and possibly later on in the game 2's for missed points and 3 for hits.</p>\n\n<p>The only extra array you will need will be a 2D array containing 5 rows for the 5 ships and 2 columns specifying initial and ending coordinate of the ship that may later on be used to check if the entire ship has been destroyed or not.</p>\n"}],"owner":{"account_id":2670200,"reputation":317,"user_id":2744968,"accept_rate":39,"display_name":"KTF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2067,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679769641,"creation_date":1386198496,"question_id":20388026,"body_markdown":"I&#39;ve been at this Battleship code for weeks on and off and I really have trouble putting multi-cell ships in it. The program works fine as is, but I want to add ships that contain 2-4 cells. I&#39;ve tried all that I could to no avail, if anybody can give me help that would be really great.\r\n\r\nHere&#39;s my code, it might be a bit confusing:\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class Battleship\r\n    {\r\n        private static int counter = 0;\r\n    \tprivate static boolean flag = true;\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n        {\r\n            int[][] boardP1 = new int[10][10];\r\n            int[][] boardP2 = new int[10][10];\r\n            int[][] shipsP1 = new int[10][2];\r\n            int[][] shipsP2 = new int[10][2];\r\n            int[] shootP1 = new int[2];\r\n            int[] shootP2 = new int[2];\r\n            int shotHitP1 = 0, shotHitP2 = 0;\r\n            \r\n            Scanner userInput = new Scanner(System.in);\r\n            String p1name = null, p2name = null;\r\n            \r\n    \t\t// Welcome message\r\n    \t\tSystem.out.println(&quot;\\033[2J\\033[10;28f WELCOME TO BATTLESHIPS!&quot;);\r\n    \t\tSystem.out.print(&quot;\\033[13;31f Player 1: &quot;);\r\n    \t\tp1name = userInput.nextLine();\r\n    \t\tSystem.out.print(&quot;\\033[15;31f Player 2: &quot;);\r\n    \t\tp2name = userInput.nextLine();      \r\n            \r\n    \t\t// Clear screen\r\n            System.out.println(&quot;\\033[2J&quot;);\r\n            \r\n    \t\t// Initialize boards (random)\r\n    \t\tinitBoardsP1(boardP1);\r\n            initBoardsP2(boardP2);\r\n            // Initialize ships (random)\r\n            initShips(shipsP1);\r\n            initShips(shipsP2);\t\t\t\t\t\t\r\n                \r\n            do\r\n            {   // Display boards\r\n    \t\t\tshowBoardP1(boardP1);\r\n    \t\t\tshowBoardP2(boardP2);\r\n    \t\t\t\t\r\n                // P1 ask for shot\r\n    \t\t\tshootP1(shootP1);\r\n                counter++;\r\n    \t\t\t\r\n                if (hit(shootP2,shipsP2))\r\n                {\r\n    \t\t\t\tshotHitP1++;\r\n                        \r\n                    if (shotHitP1 == 5)\r\n                    { System.out.println(&quot;\\n\\n\\n&quot; +p1name+ &quot; has won the game!&quot;);\r\n                      System.out.println(); }\r\n                }            \r\n                else\r\n                { System.out.println(&quot;\\033[48;36f Miss!&quot;); }\r\n                    \r\n    \t\t\tchangeboardP2(shootP1, shipsP1, boardP1);\r\n    \t\t\tSystem.out.print(&quot;\\033[2J&quot;);\r\n    \t\t\t\t\r\n                // P2 Ask for shot\r\n                showBoardP1(boardP1);\r\n    \t\t\tshowBoardP2(boardP2);\r\n                shootP2(shootP2);\r\n                counter++;\r\n    \t\t\t\r\n                if (hit(shootP1,shipsP1))\r\n                {\r\n                    shotHitP2++;\r\n                        \r\n                    if (shotHitP2 == 5)\r\n                    { System.out.println(&quot;\\n\\n\\n&quot; +p2name+ &quot; has won the game!&quot;);\r\n                      System.out.println(); }\r\n                }            \r\n                else\r\n                { System.out.println();\r\n                  System.out.println(&quot;You missed!&quot;);\r\n                  System.out.println(); }\r\n                    \r\n                changeboardP1(shootP2, shipsP2, boardP2);\r\n    \t\t\tSystem.out.print(&quot;\\033[2J&quot;);\r\n            } while (shotHitP1 != 5 || shotHitP2 != 5);\r\n        }\r\n            \r\n    \tpublic static void initShips(int[][] ships)\r\n    \t{\r\n    \t\tRandom random = new Random();\r\n            \r\n    \t\tfor (int ship = 0; ship &lt; 10; ship++)\r\n    \t\t{\r\n    \t\t\tships[ship][0] = random.nextInt(10); // Draws row coordinate\r\n    \t\t\tships[ship][1] = random.nextInt(10); // Draws column coordinate\r\n    \t\t\t\r\n                \r\n    \t\t\t// Check to see if already used combo\r\n    \t\t\tfor (int last = 0; last &lt; ship; last++)\r\n    \t\t\t{\r\n    \t\t\t\tif ((ships[ship][0] == ships[last][0]) &amp;&amp; (ships[ship][1] == ships[last][1]))\r\n    \t\t\t\t\tdo\r\n    \t\t\t\t\t{ ships[ship][0] = random.nextInt(10);\r\n    \t\t\t\t\t  ships[ship][1] = random.nextInt(10); }\r\n    \t\t\t\t\twhile((ships[ship][0] == ships[last][0])&amp;&amp;(ships[ship][1] == ships[last][1]));\r\n    \t\t\t}\r\n            }\r\n    \t}\r\n    \t\t\r\n    \tpublic static void initBoardsP1(int[][] boardP1)\r\n    \t{ for (int row = 0; row &lt; 10; row++)\r\n    \t\tfor (int column = 0; column &lt; 10; column++)\r\n    \t\t\tboardP1[row][column] = -1; }\r\n        \r\n    \tpublic static void initBoardsP2(int[][] boardP2)\r\n    \t{ for (int row = 0; row &lt; 10; row++)\r\n    \t\tfor (int column = 0; column &lt; 10; column++)\r\n    \t\t\tboardP2[row][column] = -1; }\r\n    \t\t\r\n    \tpublic static void showBoardP1(int[][] boardP1)\r\n    \t{\r\n    \t\tif (flag = true)\r\n    \t\t{ System.out.println(&quot;\\033[9;15f   PLAYER 2&quot;);\r\n    \t\t  System.out.println(&quot;\\033[12;5f   1  2  3  4  5  6  7  8  9  10&quot;);\r\n    \t\t  System.out.println(&quot;\\033[13;4f   +-++-++-++-++-++-++-++-++-++-+&quot;); }\r\n    \t\telse\r\n    \t\t{ System.out.println(&quot;\\033[9;54f   PLAYER 1&quot;);\r\n    \t\t  System.out.println(&quot;\\033[12;45f  1  2  3  4  5  6  7  8  9  10&quot;);\r\n    \t\t  System.out.println(&quot;\\033[13;44f  +-++-++-++-++-++-++-++-++-++-+&quot;); }\r\n    \t\t\r\n    \t\tfor (int row = 0; row &lt; 10; row++)\r\n    \t\t{\t\t\r\n    \t\t\tif (flag = true)\r\n    \t\t\t{ System.out.print(&quot;\\033[1C&quot;); }\r\n    \t\t\telse\r\n    \t\t\t{ System.out.print(&quot;\\033[40C&quot;); }\r\n    \t\t\t\r\n    \t\t\tif (row &lt;= 8)\r\n    \t\t\t{ System.out.print(&quot;   &quot; +(row+1)+ &quot; &quot;); }\r\n    \t\t\telse\r\n    \t\t\t{ System.out.print(&quot;  10 &quot;); }\r\n                \r\n    \t\t\tfor (int column = 0; column &lt; 10; column++)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(&quot;|&quot;);\r\n    \t\t\t\tif (boardP1[row][column] == -1)\r\n    \t\t\t\t{ System.out.print(&quot; &quot;); }\r\n    \t\t\t\telse if (boardP1[row][column] == 0)\r\n    \t\t\t\t{ System.out.print(&quot;0&quot;); }\r\n    \t\t\t\telse if (boardP1[row][column] == 1)\r\n    \t\t\t\t{ System.out.print(&quot;\\033[1;31mX\\033[0m&quot;); }   \r\n    \t\t\t\tSystem.out.print(&quot;|&quot;);\r\n    \t\t\t}\r\n                \r\n    \t\t\tif (flag = true)\r\n    \t\t\t{ System.out.println();\r\n    \t\t\t  System.out.println(&quot;      +-++-++-++-++-++-++-++-++-++-+&quot;); }\r\n    \t\t\telse\r\n    \t\t\t{ System.out.println();\r\n    \t\t\t  System.out.println(&quot;\\033[40C     +-++-++-++-++-++-++-++-++-++-+&quot;); }\r\n    \t\t\t\r\n    \t\t\tif ((counter % 100) == 0)\r\n    \t\t\t{ flag = true; }\r\n    \t\t\telse\r\n    \t\t\t{ flag = false; }\r\n    \t\t}\r\n    \t}\r\n        \r\n    \tpublic static void showBoardP2(int[][] boardP2)\r\n    \t{\r\n    \t\tif (flag = true)\r\n    \t\t{ System.out.println(&quot;\\033[9;54f   PLAYER 1&quot;);\r\n    \t\t  System.out.println(&quot;\\033[12;45f  1  2  3  4  5  6  7  8  9  10&quot;);\r\n    \t\t  System.out.println(&quot;\\033[13;44f  +-++-++-++-++-++-++-++-++-++-+&quot;); }\r\n    \t\telse\r\n    \t\t{ System.out.println(&quot;\\033[9;15f   PLAYER 2&quot;);\r\n    \t\t  System.out.println(&quot;\\033[12;5f   1  2  3  4  5  6  7  8  9  10&quot;);\r\n    \t\t  System.out.println(&quot;\\033[13;4f   +-++-++-++-++-++-++-++-++-++-+&quot;); }\r\n    \t\t\r\n    \t\tfor (int row = 0; row &lt; 10; row++)\r\n    \t\t{\t\r\n    \t\t\tif (flag = true)\r\n    \t\t\t{ System.out.print(&quot;\\033[40C&quot;); }\r\n    \t\t\telse\r\n    \t\t\t{ System.out.print(&quot;\\033[1C&quot;); }\r\n                \r\n    \t\t\tif (row &lt;= 8)\r\n    \t\t\t{ System.out.print(&quot;   &quot; +(row+1)+ &quot; &quot;); }\r\n    \t\t\telse\r\n    \t\t\t{ System.out.print(&quot;  10 &quot;); }\r\n                \r\n    \t\t\tfor (int column = 0; column &lt; 10; column++)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(&quot;|&quot;);\r\n    \t\t\t\tif (boardP2[row][column] == -1)\r\n    \t\t\t\t{ System.out.print(&quot; &quot;); }\r\n    \t\t\t\telse if (boardP2[row][column] == 0)\r\n    \t\t\t\t{ System.out.print(&quot;0&quot;); }\r\n    \t\t\t\telse if (boardP2[row][column] == 1)\r\n    \t\t\t\t{ System.out.print(&quot;\\033[1;31mX\\033[0m&quot;); }   \r\n    \t\t\t\tSystem.out.print(&quot;|&quot;);\r\n    \t\t\t}\r\n                \r\n    \t\t\tif (flag = true)\r\n    \t\t\t{ System.out.println();\r\n    \t\t\t  System.out.println(&quot;\\033[40C     +-++-++-++-++-++-++-++-++-++-+&quot;); }\r\n    \t\t\telse\r\n    \t\t\t{ System.out.println();\r\n    \t\t\t  System.out.println(&quot;      +-++-++-++-++-++-++-++-++-++-+&quot;); }\r\n    \t\t\t\r\n    \t\t\tif ((counter % 100) == 0)\r\n    \t\t\t{ flag = true; }\r\n    \t\t\telse\r\n    \t\t\t{ flag = false; }\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void shootP1(int[] shootP1)\r\n    \t{\r\n    \t\tScanner userInput = new Scanner(System.in);\r\n    \t\t\t\r\n    \t\tSystem.out.println(&quot;\\033[38;26f ----- PLAYER ONE&#39;S SHOT -----&quot;);\r\n    \t\tSystem.out.println(&quot;\\033[40;27f (Legend: 0 - Miss, \\033[1;31mX\\033[0m - Hit)&quot;);\r\n    \t\tSystem.out.println(&quot;\\033[55;21f Press any non-integer character to quit.&quot;);\r\n    \t\t\t\r\n    \t\tSystem.out.print(&quot;\\033[44;35f Row: &quot;);\r\n    \t\tshootP1[0] = userInput.nextInt();\r\n    \t\tshootP1[0]--;\r\n    \t\t\t\t\r\n    \t\tSystem.out.print(&quot;\\033[45;32f Column: &quot;);\r\n    \t\tshootP1[1] = userInput.nextInt();\r\n    \t\tshootP1[1]--;\r\n    \t}\r\n        \r\n    \tpublic static void shootP2(int[] shootP2)\r\n    \t{\r\n    \t\tScanner input = new Scanner(System.in);\r\n            \r\n    \t\tSystem.out.println(&quot;\\033[38;26f ----- PLAYER TWO&#39;S SHOT -----&quot;);\r\n    \t\tSystem.out.println(&quot;\\033[40;27f (Legend: 0 - Miss, \\033[1;31mX\\033[0m - Hit)&quot;);\r\n    \t\tSystem.out.println(&quot;\\033[55;21f Press any non-integer character to quit.&quot;);\r\n            \r\n    \t\tSystem.out.print(&quot;\\033[44;35f Row: &quot;);\r\n    \t\tshootP2[0] = input.nextInt();\r\n    \t\tshootP2[0]--;\r\n            System.out.print(&quot;\\033[45;32f Column: &quot;);\r\n    \t\tshootP2[1] = input.nextInt();\r\n    \t\tshootP2[1]--;    \r\n    \t}\r\n        \r\n    \tpublic static boolean hit(int[] shoot, int[][] ships)\r\n    \t{\r\n    \t\tfor (int ship = 0; ship &lt; ships.length; ship++)\r\n    \t\t{\r\n    \t\t\tif (shoot[0] == ships[ship][0] &amp;&amp; shoot[1] == ships[ship][1])\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;\\033[48;34f KABOOM!!&quot;);\r\n    \t\t\t\tSystem.out.printf(&quot;\\033[50;23f You hit a ship located in (%d,%d)!\\n\\n&quot;, shoot[0]+1, shoot[1]+1);\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n            \r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic static void changeboardP1(int[] shoot, int[][] ships, int[][] boardP1)\r\n    \t{\r\n    \t\tif (hit(shoot,ships))\r\n    \t\t{ boardP1[shoot[0]][shoot[1]] = 1; }\r\n    \t\telse\r\n    \t\t{ boardP1[shoot[0]][shoot[1]] = 0; }\r\n    \t}\r\n        \r\n    \tpublic static void changeboardP2(int[] shoot, int[][] ships, int[][] boardP2)\r\n    \t{\r\n    \t\tif (hit(shoot,ships))\r\n    \t\t{ boardP2[shoot[0]][shoot[1]] = 1; }\r\n    \t\telse\r\n    \t\t{ boardP2[shoot[0]][shoot[1]] = 0; }\r\n    \t}\r\n    }","title":"Adding an array into another array (for a Java Battleship program)","body":"<p>I've been at this Battleship code for weeks on and off and I really have trouble putting multi-cell ships in it. The program works fine as is, but I want to add ships that contain 2-4 cells. I've tried all that I could to no avail, if anybody can give me help that would be really great.</p>\n\n<p>Here's my code, it might be a bit confusing:</p>\n\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Battleship\n{\n    private static int counter = 0;\n    private static boolean flag = true;\n\n    public static void main(String[] args)\n    {\n        int[][] boardP1 = new int[10][10];\n        int[][] boardP2 = new int[10][10];\n        int[][] shipsP1 = new int[10][2];\n        int[][] shipsP2 = new int[10][2];\n        int[] shootP1 = new int[2];\n        int[] shootP2 = new int[2];\n        int shotHitP1 = 0, shotHitP2 = 0;\n\n        Scanner userInput = new Scanner(System.in);\n        String p1name = null, p2name = null;\n\n        // Welcome message\n        System.out.println(\"\\033[2J\\033[10;28f WELCOME TO BATTLESHIPS!\");\n        System.out.print(\"\\033[13;31f Player 1: \");\n        p1name = userInput.nextLine();\n        System.out.print(\"\\033[15;31f Player 2: \");\n        p2name = userInput.nextLine();      \n\n        // Clear screen\n        System.out.println(\"\\033[2J\");\n\n        // Initialize boards (random)\n        initBoardsP1(boardP1);\n        initBoardsP2(boardP2);\n        // Initialize ships (random)\n        initShips(shipsP1);\n        initShips(shipsP2);                     \n\n        do\n        {   // Display boards\n            showBoardP1(boardP1);\n            showBoardP2(boardP2);\n\n            // P1 ask for shot\n            shootP1(shootP1);\n            counter++;\n\n            if (hit(shootP2,shipsP2))\n            {\n                shotHitP1++;\n\n                if (shotHitP1 == 5)\n                { System.out.println(\"\\n\\n\\n\" +p1name+ \" has won the game!\");\n                  System.out.println(); }\n            }            \n            else\n            { System.out.println(\"\\033[48;36f Miss!\"); }\n\n            changeboardP2(shootP1, shipsP1, boardP1);\n            System.out.print(\"\\033[2J\");\n\n            // P2 Ask for shot\n            showBoardP1(boardP1);\n            showBoardP2(boardP2);\n            shootP2(shootP2);\n            counter++;\n\n            if (hit(shootP1,shipsP1))\n            {\n                shotHitP2++;\n\n                if (shotHitP2 == 5)\n                { System.out.println(\"\\n\\n\\n\" +p2name+ \" has won the game!\");\n                  System.out.println(); }\n            }            \n            else\n            { System.out.println();\n              System.out.println(\"You missed!\");\n              System.out.println(); }\n\n            changeboardP1(shootP2, shipsP2, boardP2);\n            System.out.print(\"\\033[2J\");\n        } while (shotHitP1 != 5 || shotHitP2 != 5);\n    }\n\n    public static void initShips(int[][] ships)\n    {\n        Random random = new Random();\n\n        for (int ship = 0; ship &lt; 10; ship++)\n        {\n            ships[ship][0] = random.nextInt(10); // Draws row coordinate\n            ships[ship][1] = random.nextInt(10); // Draws column coordinate\n\n\n            // Check to see if already used combo\n            for (int last = 0; last &lt; ship; last++)\n            {\n                if ((ships[ship][0] == ships[last][0]) &amp;&amp; (ships[ship][1] == ships[last][1]))\n                    do\n                    { ships[ship][0] = random.nextInt(10);\n                      ships[ship][1] = random.nextInt(10); }\n                    while((ships[ship][0] == ships[last][0])&amp;&amp;(ships[ship][1] == ships[last][1]));\n            }\n        }\n    }\n\n    public static void initBoardsP1(int[][] boardP1)\n    { for (int row = 0; row &lt; 10; row++)\n        for (int column = 0; column &lt; 10; column++)\n            boardP1[row][column] = -1; }\n\n    public static void initBoardsP2(int[][] boardP2)\n    { for (int row = 0; row &lt; 10; row++)\n        for (int column = 0; column &lt; 10; column++)\n            boardP2[row][column] = -1; }\n\n    public static void showBoardP1(int[][] boardP1)\n    {\n        if (flag = true)\n        { System.out.println(\"\\033[9;15f   PLAYER 2\");\n          System.out.println(\"\\033[12;5f   1  2  3  4  5  6  7  8  9  10\");\n          System.out.println(\"\\033[13;4f   +-++-++-++-++-++-++-++-++-++-+\"); }\n        else\n        { System.out.println(\"\\033[9;54f   PLAYER 1\");\n          System.out.println(\"\\033[12;45f  1  2  3  4  5  6  7  8  9  10\");\n          System.out.println(\"\\033[13;44f  +-++-++-++-++-++-++-++-++-++-+\"); }\n\n        for (int row = 0; row &lt; 10; row++)\n        {       \n            if (flag = true)\n            { System.out.print(\"\\033[1C\"); }\n            else\n            { System.out.print(\"\\033[40C\"); }\n\n            if (row &lt;= 8)\n            { System.out.print(\"   \" +(row+1)+ \" \"); }\n            else\n            { System.out.print(\"  10 \"); }\n\n            for (int column = 0; column &lt; 10; column++)\n            {\n                System.out.print(\"|\");\n                if (boardP1[row][column] == -1)\n                { System.out.print(\" \"); }\n                else if (boardP1[row][column] == 0)\n                { System.out.print(\"0\"); }\n                else if (boardP1[row][column] == 1)\n                { System.out.print(\"\\033[1;31mX\\033[0m\"); }   \n                System.out.print(\"|\");\n            }\n\n            if (flag = true)\n            { System.out.println();\n              System.out.println(\"      +-++-++-++-++-++-++-++-++-++-+\"); }\n            else\n            { System.out.println();\n              System.out.println(\"\\033[40C     +-++-++-++-++-++-++-++-++-++-+\"); }\n\n            if ((counter % 100) == 0)\n            { flag = true; }\n            else\n            { flag = false; }\n        }\n    }\n\n    public static void showBoardP2(int[][] boardP2)\n    {\n        if (flag = true)\n        { System.out.println(\"\\033[9;54f   PLAYER 1\");\n          System.out.println(\"\\033[12;45f  1  2  3  4  5  6  7  8  9  10\");\n          System.out.println(\"\\033[13;44f  +-++-++-++-++-++-++-++-++-++-+\"); }\n        else\n        { System.out.println(\"\\033[9;15f   PLAYER 2\");\n          System.out.println(\"\\033[12;5f   1  2  3  4  5  6  7  8  9  10\");\n          System.out.println(\"\\033[13;4f   +-++-++-++-++-++-++-++-++-++-+\"); }\n\n        for (int row = 0; row &lt; 10; row++)\n        {   \n            if (flag = true)\n            { System.out.print(\"\\033[40C\"); }\n            else\n            { System.out.print(\"\\033[1C\"); }\n\n            if (row &lt;= 8)\n            { System.out.print(\"   \" +(row+1)+ \" \"); }\n            else\n            { System.out.print(\"  10 \"); }\n\n            for (int column = 0; column &lt; 10; column++)\n            {\n                System.out.print(\"|\");\n                if (boardP2[row][column] == -1)\n                { System.out.print(\" \"); }\n                else if (boardP2[row][column] == 0)\n                { System.out.print(\"0\"); }\n                else if (boardP2[row][column] == 1)\n                { System.out.print(\"\\033[1;31mX\\033[0m\"); }   \n                System.out.print(\"|\");\n            }\n\n            if (flag = true)\n            { System.out.println();\n              System.out.println(\"\\033[40C     +-++-++-++-++-++-++-++-++-++-+\"); }\n            else\n            { System.out.println();\n              System.out.println(\"      +-++-++-++-++-++-++-++-++-++-+\"); }\n\n            if ((counter % 100) == 0)\n            { flag = true; }\n            else\n            { flag = false; }\n        }\n    }\n\n    public static void shootP1(int[] shootP1)\n    {\n        Scanner userInput = new Scanner(System.in);\n\n        System.out.println(\"\\033[38;26f ----- PLAYER ONE'S SHOT -----\");\n        System.out.println(\"\\033[40;27f (Legend: 0 - Miss, \\033[1;31mX\\033[0m - Hit)\");\n        System.out.println(\"\\033[55;21f Press any non-integer character to quit.\");\n\n        System.out.print(\"\\033[44;35f Row: \");\n        shootP1[0] = userInput.nextInt();\n        shootP1[0]--;\n\n        System.out.print(\"\\033[45;32f Column: \");\n        shootP1[1] = userInput.nextInt();\n        shootP1[1]--;\n    }\n\n    public static void shootP2(int[] shootP2)\n    {\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(\"\\033[38;26f ----- PLAYER TWO'S SHOT -----\");\n        System.out.println(\"\\033[40;27f (Legend: 0 - Miss, \\033[1;31mX\\033[0m - Hit)\");\n        System.out.println(\"\\033[55;21f Press any non-integer character to quit.\");\n\n        System.out.print(\"\\033[44;35f Row: \");\n        shootP2[0] = input.nextInt();\n        shootP2[0]--;\n        System.out.print(\"\\033[45;32f Column: \");\n        shootP2[1] = input.nextInt();\n        shootP2[1]--;    \n    }\n\n    public static boolean hit(int[] shoot, int[][] ships)\n    {\n        for (int ship = 0; ship &lt; ships.length; ship++)\n        {\n            if (shoot[0] == ships[ship][0] &amp;&amp; shoot[1] == ships[ship][1])\n            {\n                System.out.println(\"\\033[48;34f KABOOM!!\");\n                System.out.printf(\"\\033[50;23f You hit a ship located in (%d,%d)!\\n\\n\", shoot[0]+1, shoot[1]+1);\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public static void changeboardP1(int[] shoot, int[][] ships, int[][] boardP1)\n    {\n        if (hit(shoot,ships))\n        { boardP1[shoot[0]][shoot[1]] = 1; }\n        else\n        { boardP1[shoot[0]][shoot[1]] = 0; }\n    }\n\n    public static void changeboardP2(int[] shoot, int[][] ships, int[][] boardP2)\n    {\n        if (hit(shoot,ships))\n        { boardP2[shoot[0]][shoot[1]] = 1; }\n        else\n        { boardP2[shoot[0]][shoot[1]] = 0; }\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","tls1.2"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1679687143,"post_id":75837285,"comment_id":133771890,"body_markdown":"See [&quot;Debug Output Format&quot; in the documentation](https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-4D421910-C36D-40A2-8BA2-7D42CCBED3C6). Fields 3 and 4 both identify the thread and will be tied to each other as long as the thread exists, which in webservers is often as long as the server is running. In a server using SSLSocket a given thread can do only one handshake at a time, but with SSLEngine it can do more than one; usually different threads will not be involved in a single connection but will do different connections.","body":"See <a href=\"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-4D421910-C36D-40A2-8BA2-7D42CCBED3C6\" rel=\"nofollow noreferrer\">&quot;Debug Output Format&quot; in the documentation</a>. Fields 3 and 4 both identify the thread and will be tied to each other as long as the thread exists, which in webservers is often as long as the server is running. In a server using SSLSocket a given thread can do only one handshake at a time, but with SSLEngine it can do more than one; usually different threads will not be involved in a single connection but will do different connections."},{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":0,"creation_date":1679768785,"post_id":75837285,"comment_id":133781456,"body_markdown":"@dave_thompson_085, I created an answer based on your comment.  I don&#39;t know if it&#39;s possible to chown and answer from me to you, but feel free to copy my answer and create a new answer (owned by you) so I can select it as the answer.  (then I&#39;ll delete this comment)","body":"@dave_thompson_085, I created an answer based on your comment.  I don&#39;t know if it&#39;s possible to chown and answer from me to you, but feel free to copy my answer and create a new answer (owned by you) so I can select it as the answer.  (then I&#39;ll delete this comment)"}],"answers":[{"tags":[],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679768659,"creation_date":1679768659,"answer_id":75843729,"question_id":75837285,"body_markdown":"This answer is credited to  @dave_thompson_085.\r\n\r\n&gt; Is there anything in the SSL debug log line that uniquely identifies a given SSL connection? If so what is it?\r\n\r\nFields 3 and 4 both identify the thread and will be tied to each other as long as the thread exists, which in webservers is often as long as the server is running. In a server using SSLSocket a given thread can do only one handshake at a time, but with SSLEngine it can do more than one; usually different threads will not be involved in a single connection but will do different connections.\r\n\r\nSee [Java 11 Debugging TLS Connections][1] link (credit to @dave_thompson_085) which says:\r\n\r\n**Debug Output Format**\r\n\r\n&gt; Each line of the debug output contains the following information; each field is separated by a vertical bar (|):\r\n&gt;\r\n&gt; Logger name (System.getLogger(&quot;javax.net.ssl&quot;))&lt;br/&gt;\r\n&gt; Debug level (System.Logger.Level)&lt;br/&gt;\r\n&gt; Thread ID (Thread.currentThread().getId())&lt;br/&gt;\r\n&gt; Thread name (Thread.currentThread().getName())&lt;br/&gt;\r\n&gt; Date and time&lt;br/&gt;\r\n&gt; Caller (location of the logging call)&lt;br/&gt;\r\n&gt; Message&lt;br/&gt;\r\n\r\nThe link&#39;s page also provides a wealth of other information about debugging TLS in Java.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-4D421910-C36D-40A2-8BA2-7D42CCBED3C6","title":"Debugging multiple SSL streams in java, how to tell them apart","body":"<p>This answer is credited to  @dave_thompson_085.</p>\n<blockquote>\n<p>Is there anything in the SSL debug log line that uniquely identifies a given SSL connection? If so what is it?</p>\n</blockquote>\n<p>Fields 3 and 4 both identify the thread and will be tied to each other as long as the thread exists, which in webservers is often as long as the server is running. In a server using SSLSocket a given thread can do only one handshake at a time, but with SSLEngine it can do more than one; usually different threads will not be involved in a single connection but will do different connections.</p>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-4D421910-C36D-40A2-8BA2-7D42CCBED3C6\" rel=\"nofollow noreferrer\">Java 11 Debugging TLS Connections</a> link (credit to @dave_thompson_085) which says:</p>\n<p><strong>Debug Output Format</strong></p>\n<blockquote>\n<p>Each line of the debug output contains the following information; each field is separated by a vertical bar (|):</p>\n<p>Logger name (System.getLogger(&quot;javax.net.ssl&quot;))<br/>\nDebug level (System.Logger.Level)<br/>\nThread ID (Thread.currentThread().getId())<br/>\nThread name (Thread.currentThread().getName())<br/>\nDate and time<br/>\nCaller (location of the logging call)<br/>\nMessage<br/></p>\n</blockquote>\n<p>The link's page also provides a wealth of other information about debugging TLS in Java.</p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75843729,"answer_count":1,"score":0,"last_activity_date":1679768659,"creation_date":1679684166,"question_id":75837285,"body_markdown":"I&#39;ve enabled SSL debugging to troubleshoot a problem mutual authentication and running into a\r\nchallange.  When a single SSL connection is made it&#39;s clear that all of the log messages are\r\nassociated with single TLS connection.\r\n\r\nHowever, when multiple TLS connections are being made, I&#39;m finding it difficult to identify what TLS\r\nlogs belong to what TLS connections.  I&#39;m using Java 8 or Java 11 depending on the environment.\r\nFor this question, I&#39;ll stick to the format in the Java11 environment.\r\n\r\n**Is there anything in the SSL debug log line that uniquely identifies a given SSL connection?  If so what is it?**\r\n\r\nI think it&#39;s likely the 3rd or 4th field in a log message.  For example, the following are logs that\r\nmatch the string **https-jsse-nio-8005-exec-1** in some multi-threaded debugging I&#39;ve done each\r\nthread has a uniq ID so this (exec-1) might represent a given thread.\r\n\r\n```\r\ngrep https-jsse-nio-8005-exec-1 log-for-so-2023-03-24T181816Z.log\r\njavax.net.ssl|ALL|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.150 UTC|HandshakeContext.java:347|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384\r\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.184 UTC|ClientHello.java:798|Consuming ClientHello handshake message (\r\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.215 UTC|ServerHello.java:364|Produced ServerHello handshake message (\r\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.219 UTC|CertificateMessage.java:271|Produced server Certificate handshake message (\r\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.253 UTC|ECDHServerKeyExchange.java:491|Produced ECDH ServerKeyExchange handshake message (\r\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.265 UTC|CertificateRequest.java:630|Produced CertificateRequest handshake message (\r\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.265 UTC|ServerHelloDone.java:97|Produced ServerHelloDone handshake message (\r\n```\r\n\r\nBut when I&#39;m on debugging on a server that has multiple TLS connections being made, I&#39;m not seeing\r\nany clear pattern.\r\n\r\n### Examining the 4th field, https-jsse-nio-8005-exec-1\r\n\r\nIn one case, the https-jsse-nio-8005-exec-1 is being used for different connections.  I can tell\r\nthat because the **Consuming server Certificate handshake** lists the server certificate to which a\r\nconnection is made.  It is, however, possible that this string is a &quot;thread&quot; (from a thread pool)\r\nand the thread is being re-used to handle another SSL request.\r\n\r\n### Examining the pattern of logs\r\n\r\nBelow is a list of the unique first four fields, so all javax.net.ssl log lines begin with one of\r\nthese patterns.\r\n\r\n```\r\ngrep &#39;^javax.net.ssl&#39; log-for-so-2023-03-24T181816Z.log | awk -F&#39;|&#39; &#39;{print $1,$2,$3,$4}&#39; | sort -u\r\njavax.net.ssl ALL 51 https-jsse-nio-8005-exec-1\r\njavax.net.ssl DEBUG 01 main\r\njavax.net.ssl DEBUG 03 Finalizer\r\njavax.net.ssl DEBUG 51 https-jsse-nio-8005-exec-1\r\njavax.net.ssl DEBUG 52 https-jsse-nio-8005-exec-2\r\njavax.net.ssl DEBUG 56 https-jsse-nio-8005-exec-6\r\njavax.net.ssl WARNING 51 https-jsse-nio-8005-exec-1\r\njavax.net.ssl WARNING 56 https-jsse-nio-8005-exec-6\r\n```\r\n\r\n### Examining the 3rd field.  Based on studying the logs, I know that the\r\nstring **https-jsse-nio-8005-exec-1** has logs for handling the TLS connection I&#39;ve made for this\r\nso question.\r\n\r\n```\r\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.184 UTC|ClientHello.java:798|Consuming ClientHello handshake message (\r\n```\r\n\r\nSo I greped for &#39;|51|&#39; to see that number is unique, but again it is used for different connections.\r\n```\r\ngrep &#39;^javax.net.ssl&#39; log-for-so-2023-03-24T181816Z.log | grep &#39;|51|&#39;  | less\r\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.169 UTC|SSLExtensions.java:135|Ignore unknown or unsupported extension (\r\njavax.net.ssl|WARNING|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.180 UTC|SignatureScheme.java:295|Signature algorithm, ed25519, is not supported by the underlying providers\r\njavax.net.ssl|WARNING|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.180 UTC|SignatureScheme.java:295|Signature algorithm, ed448, is not supported by the underlying providers\r\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.184 UTC|ClientHello.java:798|Consuming ClientHello handshake message (\r\n```\r\n\r\nIn this simplistic single TLS connection case the id `51` only appears with the\r\nthread **https-jsse-nio-8005-exec-1** but in the server mutli-TLS connection case, I see this number\r\nused on different TLS connections.\r\n\r\n**Is there a way to associated the SSL DEBUG logs with a SSL/TLS connection?**\r\n\r\n## Looking for a solution\r\nI searched for how to configure the log output in hopes it might document these fields but so far haven&#39;t found that answer.\r\n\r\n\r\n","title":"Debugging multiple SSL streams in java, how to tell them apart","body":"<p>I've enabled SSL debugging to troubleshoot a problem mutual authentication and running into a\nchallange.  When a single SSL connection is made it's clear that all of the log messages are\nassociated with single TLS connection.</p>\n<p>However, when multiple TLS connections are being made, I'm finding it difficult to identify what TLS\nlogs belong to what TLS connections.  I'm using Java 8 or Java 11 depending on the environment.\nFor this question, I'll stick to the format in the Java11 environment.</p>\n<p><strong>Is there anything in the SSL debug log line that uniquely identifies a given SSL connection?  If so what is it?</strong></p>\n<p>I think it's likely the 3rd or 4th field in a log message.  For example, the following are logs that\nmatch the string <strong>https-jsse-nio-8005-exec-1</strong> in some multi-threaded debugging I've done each\nthread has a uniq ID so this (exec-1) might represent a given thread.</p>\n<pre><code>grep https-jsse-nio-8005-exec-1 log-for-so-2023-03-24T181816Z.log\njavax.net.ssl|ALL|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.150 UTC|HandshakeContext.java:347|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.184 UTC|ClientHello.java:798|Consuming ClientHello handshake message (\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.215 UTC|ServerHello.java:364|Produced ServerHello handshake message (\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.219 UTC|CertificateMessage.java:271|Produced server Certificate handshake message (\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.253 UTC|ECDHServerKeyExchange.java:491|Produced ECDH ServerKeyExchange handshake message (\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.265 UTC|CertificateRequest.java:630|Produced CertificateRequest handshake message (\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.265 UTC|ServerHelloDone.java:97|Produced ServerHelloDone handshake message (\n</code></pre>\n<p>But when I'm on debugging on a server that has multiple TLS connections being made, I'm not seeing\nany clear pattern.</p>\n<h3>Examining the 4th field, https-jsse-nio-8005-exec-1</h3>\n<p>In one case, the https-jsse-nio-8005-exec-1 is being used for different connections.  I can tell\nthat because the <strong>Consuming server Certificate handshake</strong> lists the server certificate to which a\nconnection is made.  It is, however, possible that this string is a &quot;thread&quot; (from a thread pool)\nand the thread is being re-used to handle another SSL request.</p>\n<h3>Examining the pattern of logs</h3>\n<p>Below is a list of the unique first four fields, so all javax.net.ssl log lines begin with one of\nthese patterns.</p>\n<pre><code>grep '^javax.net.ssl' log-for-so-2023-03-24T181816Z.log | awk -F'|' '{print $1,$2,$3,$4}' | sort -u\njavax.net.ssl ALL 51 https-jsse-nio-8005-exec-1\njavax.net.ssl DEBUG 01 main\njavax.net.ssl DEBUG 03 Finalizer\njavax.net.ssl DEBUG 51 https-jsse-nio-8005-exec-1\njavax.net.ssl DEBUG 52 https-jsse-nio-8005-exec-2\njavax.net.ssl DEBUG 56 https-jsse-nio-8005-exec-6\njavax.net.ssl WARNING 51 https-jsse-nio-8005-exec-1\njavax.net.ssl WARNING 56 https-jsse-nio-8005-exec-6\n</code></pre>\n<h3>Examining the 3rd field.  Based on studying the logs, I know that the</h3>\n<p>string <strong>https-jsse-nio-8005-exec-1</strong> has logs for handling the TLS connection I've made for this\nso question.</p>\n<pre><code>javax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.184 UTC|ClientHello.java:798|Consuming ClientHello handshake message (\n</code></pre>\n<p>So I greped for '|51|' to see that number is unique, but again it is used for different connections.</p>\n<pre><code>grep '^javax.net.ssl' log-for-so-2023-03-24T181816Z.log | grep '|51|'  | less\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.169 UTC|SSLExtensions.java:135|Ignore unknown or unsupported extension (\njavax.net.ssl|WARNING|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.180 UTC|SignatureScheme.java:295|Signature algorithm, ed25519, is not supported by the underlying providers\njavax.net.ssl|WARNING|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.180 UTC|SignatureScheme.java:295|Signature algorithm, ed448, is not supported by the underlying providers\njavax.net.ssl|DEBUG|51|https-jsse-nio-8005-exec-1|2023-03-24 18:22:22.184 UTC|ClientHello.java:798|Consuming ClientHello handshake message (\n</code></pre>\n<p>In this simplistic single TLS connection case the id <code>51</code> only appears with the\nthread <strong>https-jsse-nio-8005-exec-1</strong> but in the server mutli-TLS connection case, I see this number\nused on different TLS connections.</p>\n<p><strong>Is there a way to associated the SSL DEBUG logs with a SSL/TLS connection?</strong></p>\n<h2>Looking for a solution</h2>\n<p>I searched for how to configure the log output in hopes it might document these fields but so far haven't found that answer.</p>\n"},{"tags":["java","bit-manipulation","tilde"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1679711349,"post_id":75839358,"comment_id":133774851,"body_markdown":"`11111111 11111111 11111111 11111101` as the value of a Java int never means ~2 Billion -- it always means -3. I&#39;m not sure what you are asking.","body":"<code>11111111 11111111 11111111 11111101</code> as the value of a Java int never means ~2 Billion -- it always means -3. I&#39;m not sure what you are asking."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1679711661,"post_id":75839358,"comment_id":133774871,"body_markdown":"Please edit your question to explain why you think it would ever mean -2billion.","body":"Please edit your question to explain why you think it would ever mean -2billion."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1679711748,"post_id":75839358,"comment_id":133774878,"body_markdown":"-2 billion is represented entirely differently (`10001000110010100110110000000000`).","body":"-2 billion is represented entirely differently (<code>10001000110010100110110000000000</code>)."},{"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"score":1,"creation_date":1679712173,"post_id":75839358,"comment_id":133774899,"body_markdown":"Tle leftmost bit is the sign bit. 1 is negative. It is 2 billion if it is an unsigned int but Java does not have unsigned integers.","body":"Tle leftmost bit is the sign bit. 1 is negative. It is 2 billion if it is an unsigned int but Java does not have unsigned integers."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1679714333,"post_id":75839358,"comment_id":133775065,"body_markdown":"Java may not have an unsigned int data type, but it does have methods to support handling integers as if they were unsigned. Check out the methods having &quot;unsigned&quot; as part of the names in the [Integer API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html) and the [Long API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Long.html)","body":"Java may not have an unsigned int data type, but it does have methods to support handling integers as if they were unsigned. Check out the methods having &quot;unsigned&quot; as part of the names in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\">Integer API</a> and the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Long.html\" rel=\"nofollow noreferrer\">Long API</a>"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1679715972,"post_id":75839358,"comment_id":133775179,"body_markdown":"Does this answer your question? [What is “two&#39;s complement”?](https://stackoverflow.com/questions/1049722/what-is-twos-complement)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1049722/what-is-twos-complement\">What is “two&#39;s complement”?</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679723705,"post_id":75839358,"comment_id":133775726,"body_markdown":"Java `int` and its other integer types are *signed*. If the first bit is 1, it’s a negative number. If the first bit is 0, it’s a positive number or 0-","body":"Java <code>int</code> and its other integer types are <i>signed</i>. If the first bit is 1, it’s a negative number. If the first bit is 0, it’s a positive number or 0-"}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679768609,"creation_date":1679713143,"answer_id":75839439,"question_id":75839358,"body_markdown":"As an unsigned 32-bit number, the value would be 4,294,967,293.\r\n\r\nAs mentioned, Java doesn&#39;t have a type that is a 32-bit unsigned integer, so for Java, the question is moot.\r\n\r\nFor other languages, and other machines, the concept does exist. You ask &#39;how does the machine differentiate&#39; and in general, the answer is that it doesn&#39;t.  It&#39;s up to the low-level programmer to decide whether 11111111 11111111 11111111 11111101 means -3 or 4,294,967,293.  And thus you get to decide whether the result of adding 1 to 11111111 11111111 11111111 11111101 means 4,294,967,294 or -2.  It&#39;s the same twos-complement addition.\r\n\r\nThere are some cases, say for a &#39;compare&#39; instruction, where it matters whether the comparands are regarded as signed or unsigned.  But (again, generally) this is handled by the programmer deciding to code &#39;signed compare&#39; or &#39;unsigned compare&#39;.  For higher-level languages, this decision is implicit in the data type used: signed integer or unsigned integer.\r\n","title":"How does the number of leading zeros in a bitwise operation (~ in Java) actually works?","body":"<p>As an unsigned 32-bit number, the value would be 4,294,967,293.</p>\n<p>As mentioned, Java doesn't have a type that is a 32-bit unsigned integer, so for Java, the question is moot.</p>\n<p>For other languages, and other machines, the concept does exist. You ask 'how does the machine differentiate' and in general, the answer is that it doesn't.  It's up to the low-level programmer to decide whether 11111111 11111111 11111111 11111101 means -3 or 4,294,967,293.  And thus you get to decide whether the result of adding 1 to 11111111 11111111 11111111 11111101 means 4,294,967,294 or -2.  It's the same twos-complement addition.</p>\n<p>There are some cases, say for a 'compare' instruction, where it matters whether the comparands are regarded as signed or unsigned.  But (again, generally) this is handled by the programmer deciding to code 'signed compare' or 'unsigned compare'.  For higher-level languages, this decision is implicit in the data type used: signed integer or unsigned integer.</p>\n"}],"owner":{"account_id":21686940,"reputation":75,"user_id":16002233,"display_name":"LeoAlmDiniz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1679715972,"answer_count":1,"score":-3,"last_activity_date":1679768609,"creation_date":1679711197,"question_id":75839358,"body_markdown":"I apologize if the question I’m raising is way too basic, but I really don’t understand this. And I my theoretical background is not software engineering.\r\n\r\nLet’s say se are dealing with a Java int, which is 32 bit. So:\r\n\r\n2 = 00000000 00000000 00000000 00000010\r\n\r\nI understand Tilde of 2 is the bitwise of 2. So:\r\n\r\n~2 = 11111111 11111111 11111111 11111101\r\n\r\nFor which I must find which positive number is the twos complement of this, which is 3, so ~2 = -3\r\n\r\nBut what I don’t get about all this is…\r\n\r\nHow does the machine differentiates when 11111111 11111111 11111111 11111101 means -3 And when does it mean -2billion?\r\n\r\nI can’t understand this because it seems to violate the injective behavior between bits and numbers.\r\n\r\nWhat am I getting wrong here?","title":"How does the number of leading zeros in a bitwise operation (~ in Java) actually works?","body":"<p>I apologize if the question I’m raising is way too basic, but I really don’t understand this. And I my theoretical background is not software engineering.</p>\n<p>Let’s say se are dealing with a Java int, which is 32 bit. So:</p>\n<p>2 = 00000000 00000000 00000000 00000010</p>\n<p>I understand Tilde of 2 is the bitwise of 2. So:</p>\n<p>~2 = 11111111 11111111 11111111 11111101</p>\n<p>For which I must find which positive number is the twos complement of this, which is 3, so ~2 = -3</p>\n<p>But what I don’t get about all this is…</p>\n<p>How does the machine differentiates when 11111111 11111111 11111111 11111101 means -3 And when does it mean -2billion?</p>\n<p>I can’t understand this because it seems to violate the injective behavior between bits and numbers.</p>\n<p>What am I getting wrong here?</p>\n"},{"tags":["java","android","callback","mvp","callable"],"comments":[{"owner":{"account_id":4460600,"reputation":453,"user_id":3629588,"display_name":"Muneesh"},"score":0,"creation_date":1679812218,"post_id":75843638,"comment_id":133785468,"body_markdown":"Better to use viewmodel. Set the code here in viewmodel and observe in fragment/activty.","body":"Better to use viewmodel. Set the code here in viewmodel and observe in fragment/activty."}],"owner":{"account_id":23924615,"reputation":1,"user_id":17919872,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679767700,"creation_date":1679767700,"question_id":75843638,"body_markdown":"Can`t pass code from user input as return value to Callable.\r\n\r\nLoginPresenter:\r\n```\r\npublic void login(String username, String password) {\r\n        model.login(username, password,\r\n                new IGClient.Builder.LoginHandler() {\r\n                    @Override\r\n                    public LoginResponse accept(IGClient client, LoginResponse t) {\r\n                        return IGChallengeUtils.resolveTwoFactor(client, t, new Callable&lt;String&gt;() {\r\n                            @Override\r\n                            public String call() throws Exception {\r\n                                getView().showDialog(); // method from activity\r\n                                return null; // here must be code that user entered\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n```\r\nLoginActivity:\r\n\r\n```\r\npublic void showDialog(){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        View view = getLayoutInflater().inflate(R.layout.request_code_dialog, null);\r\n        builder.setMessage(&quot;Write code from SMS&quot;);\r\n        builder.setView(view)\r\n               .setPositiveButton(R.string.okey_text,\r\n                       new DialogInterface.OnClickListener() {\r\n                           @Override\r\n                           public void onClick(DialogInterface dialog, int which) {\r\n                               dialog.dismiss();\r\n                               String code = ((EditText) view.findViewById(R.id.request_code_dialog_edittext_code)).getText().toString();\r\n                               // ??? how to pass this code to Callable ??? \r\n                          }\r\n                      }\r\n               );\r\n        AlertDialog alert = builder.create();\r\n        alert.show();\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI tried to pass code through Callback, but if i use it, i cant set value from Callback as return value of Callable. It is necessary to show a window for entering a code from SMS and pass this code for verification as a return value after user click.","title":"Android. Pass value from AlertDialog EditText as return value of Callable","body":"<p>Can`t pass code from user input as return value to Callable.</p>\n<p>LoginPresenter:</p>\n<pre><code>public void login(String username, String password) {\n        model.login(username, password,\n                new IGClient.Builder.LoginHandler() {\n                    @Override\n                    public LoginResponse accept(IGClient client, LoginResponse t) {\n                        return IGChallengeUtils.resolveTwoFactor(client, t, new Callable&lt;String&gt;() {\n                            @Override\n                            public String call() throws Exception {\n                                getView().showDialog(); // method from activity\n                                return null; // here must be code that user entered\n                            }\n                        });\n                    }\n                }\n</code></pre>\n<p>LoginActivity:</p>\n<pre><code>public void showDialog(){\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        View view = getLayoutInflater().inflate(R.layout.request_code_dialog, null);\n        builder.setMessage(&quot;Write code from SMS&quot;);\n        builder.setView(view)\n               .setPositiveButton(R.string.okey_text,\n                       new DialogInterface.OnClickListener() {\n                           @Override\n                           public void onClick(DialogInterface dialog, int which) {\n                               dialog.dismiss();\n                               String code = ((EditText) view.findViewById(R.id.request_code_dialog_edittext_code)).getText().toString();\n                               // ??? how to pass this code to Callable ??? \n                          }\n                      }\n               );\n        AlertDialog alert = builder.create();\n        alert.show();\n    }\n</code></pre>\n<p>I tried to pass code through Callback, but if i use it, i cant set value from Callback as return value of Callable. It is necessary to show a window for entering a code from SMS and pass this code for verification as a return value after user click.</p>\n"},{"tags":["java","android","android-listview"],"owner":{"account_id":27687005,"reputation":1,"user_id":21134580,"display_name":"PaulK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679767252,"creation_date":1679767252,"question_id":75843587,"body_markdown":"I&#39;m getting a floating error from Crashlytics that I can&#39;t replicate.\r\nWork goes to `Fragment`. And the error occurs when calling `BottomSheetBehavior`. It seems so to me. When I call this function myself, everything always works. But judging by the statistics, the error occurs once in 1000 times.\r\n\r\nMy function call\r\n\r\n```\r\nMyBottomSheetDialog_myOrders bottomSheet = new MyBottomSheetDialog_myOrders(callback);\r\n bottomSheet.show(requireActivity().getSupportFragmentManager(),&quot;ModalBottomSheet&quot;);\r\n```\r\n\r\nmy class MyBottomSheetDialog_myOrders \r\n\r\n\r\n```\r\npublic class MyBottomSheetDialog_myOrders extends BottomSheetDialogFragment {\r\n\r\n    String barcode, date, provider, _id;\r\n    SQLiteDatabase db;\r\n    private BottomSheetBehavior mBottomBehavior;\r\n    ListView lv;\r\n    RadioButton btnOrder, btnReference;\r\n    AutoCompleteTextView inputName;\r\n    View v;\r\n    ArrayAdapter&lt;String&gt; itemsAdapter;\r\n    ArrayList&lt;String&gt; names, providers, dates;\r\n    Spinner spin_provider, spin_date;\r\n    adapter_select_orders adapter_select_orders;\r\n    CopyOnWriteArrayList&lt;GoodsCreate_SQL&gt; arrayGetInvList = new CopyOnWriteArrayList&lt;&gt;();\r\n    private CustomInterface callback;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable\r\n    ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        v = inflater.inflate(R.layout.bottom_sheet_orders,\r\n                container, false);\r\n        db = Application.db;\r\n        lv = v.findViewById(R.id.lvOrders);\r\n        btnOrder = v.findViewById(R.id.btnOrder);\r\n        btnReference = v.findViewById(R.id.btnReference);\r\n        inputName = v.findViewById(R.id.inputName);\r\n        spin_provider = v.findViewById(R.id.spin_provider);\r\n        spin_date = v.findViewById(R.id.spin_date);\r\n\r\n        inputName.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                arrayGetInvList.clear();\r\n                Cursor cursor = db.query(MyDBHelper.TABLE_NAME_Z,\r\n                        new String[]{MyDBHelper.PRODUCT_NAME, MyDBHelper.PRODUCT_PROVIDER, MyDBHelper.BARCODE},\r\n                        MyDBHelper.PRODUCT_NAME + &quot; LIKE ? AND &quot; + MyDBHelper.WEIGHT + &quot; = ?&quot;,\r\n                        new String[]{&quot;%&quot; + inputName.getText().toString() + &quot;%&quot;, &quot;1&quot;}, MyDBHelper.PRODUCT_NAME, null, MyDBHelper._ID);\r\n                while (cursor.moveToNext()) {\r\n                    arrayGetInvList.add(new GoodsCreate_SQL(\r\n                            cursor.getString(0),\r\n                            cursor.getString(1),\r\n                            cursor.getString(2)\r\n                    ));\r\n                }\r\n                cursor.close();\r\n                if (v != null) {\r\n                    adapter_select_orders = new adapter_select_orders(requireContext(), R.layout.adapter_view_3_rows, arrayGetInvList);\r\n                    lv.setAdapter(adapter_select_orders);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n            }\r\n        });\r\n\r\n        lv.setOnItemLongClickListener((adapterView, view, i, l) -&gt; {\r\n            final GoodsCreate_SQL obj = (GoodsCreate_SQL) lv.getItemAtPosition(i);\r\n            callback.callbackMethod(obj);\r\n            dismiss();\r\n            return false;\r\n        });\r\n        return v;\r\n    }\r\n```\r\n\r\nmy custom adapter\r\n\r\n\r\n```\r\npublic class adapter_select_orders extends ArrayAdapter&lt;GoodsCreate_SQL&gt; {\r\n\r\n    //private static final String TAG = &quot;GoodsListAdapter&quot;;\r\n\r\n    private Context mContext;\r\n    int mResourse;\r\n    int cycymer = 1;\r\n    CopyOnWriteArrayList&lt;GoodsCreate_SQL&gt; sqls;\r\n\r\n    public adapter_select_orders(Context context, int resourse, CopyOnWriteArrayList&lt;GoodsCreate_SQL&gt; objects) {\r\n        super(context, resourse, objects);\r\n        mContext = context;\r\n        mResourse = resourse;\r\n        cycymer = 1;\r\n        this.sqls = objects;\r\n    }\r\n\r\n    @SuppressLint({&quot;ViewHolder&quot;, &quot;SetTextI18n&quot;, &quot;ResourceType&quot;})\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        try {\r\n            if (convertView == null){\r\n                LayoutInflater inflater = LayoutInflater.from(mContext);\r\n                convertView = inflater.inflate(mResourse, parent, false);\r\n            }\r\n            GoodsCreate_SQL myItemFromList = getItem(position);\r\n            String numDoc = myItemFromList.productName;\r\n            String numFact = myItemFromList.prodBrand;\r\n            String _id = myItemFromList.barCode;\r\n\r\n            TextView tvNumDoc = convertView.findViewById(R.id.tvDateInv);\r\n            TextView tvNumFac = convertView.findViewById(R.id.tvInnerDocNum);\r\n            TextView id = convertView.findViewById(R.id.tvID);\r\n            id.setVisibility(View.GONE);\r\n\r\n            tvNumFac.setTextSize(10);\r\n\r\n            tvNumDoc.setText(numDoc);\r\n            tvNumFac.setText(numFact);\r\n\r\n        } catch (ArrayIndexOutOfBoundsException | NullPointerException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return convertView;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to hide everything in a `try catch`, but this only led to a huge stream of logs, which caused the application to lag.\r\nI can reproduce this error by writing `return null` but that&#39;s not the way to go..\r\nWhere should I dig?\r\n\r\nmy error log\r\n\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.view.View.getImportantForAccessibility()&#39; on a null object reference\r\n\tat android.widget.AbsListView.obtainView(AbsListView.java:2404)\r\n\tat android.widget.ListView.makeAndAddView(ListView.java:2067)\r\n\tat android.widget.ListView.fillDown(ListView.java:793)\r\n\tat android.widget.ListView.fillFromTop(ListView.java:855)\r\n\tat android.widget.ListView.layoutChildren(ListView.java:1838)\r\n\tat android.widget.AbsListView.onLayout(AbsListView.java:2184)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n\tat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat android.widget.RelativeLayout.onLayout(RelativeLayout.java:1103)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n\tat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n\tat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n\tat android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n\tat android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n\tat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n\tat android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n\tat android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n\tat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n\tat com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\r\n\tat android.view.View.layout(View.java:23015)\r\n\tat android.view.ViewGroup.layout(ViewGroup.java:6453)\r\n\tat android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3580)\r\n\tat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3038)\r\n\tat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2020)\r\n\tat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8410)\r\n\tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:974)\r\n\tat android.view.Choreographer.doCallbacks(Choreographer.java:797)\r\n\tat android.view.Choreographer.doFrame(Choreographer.java:732)\r\n\tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:959)\r\n\tat android.os.Handler.handleCallback(Handler.java:938)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loop(Looper.java:223)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7703)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:997)\r\n```\r\n\r\nand my layout\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/test2&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    android:gravity=&quot;center_horizontal&quot;&gt;\r\n    \r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView6&quot;\r\n        android:layout_width=&quot;80dp&quot;\r\n        android:layout_height=&quot;5dp&quot;\r\n        android:layout_gravity=&quot;top|center&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:src=&quot;@drawable/btn_round&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tv12&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textColor=&quot;@color/greenOrYellow&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView6&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:id=&quot;@+id/mc12&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        style=&quot;@style/MaterialAlertDialog.Material3&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/tv12&quot;\r\n        android:layout_marginHorizontal=&quot;10dp&quot;\r\n        android:backgroundTint=&quot;@color/ClearGray&quot;\r\n        android:clickable=&quot;false&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv12&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;RadioGroup\r\n                android:id=&quot;@+id/radioGroup&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;10dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;RadioButton\r\n                    android:id=&quot;@+id/btnOrder&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:enabled=&quot;false&quot;\r\n                    android:text=&quot;в заказах&quot; /&gt;\r\n\r\n                &lt;RadioButton\r\n                    android:id=&quot;@+id/btnReference&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:enabled=&quot;false&quot;\r\n                    android:text=&quot;в ТМЦ&quot; /&gt;\r\n            &lt;/RadioGroup&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/label&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;10dp&quot;\r\n                android:layout_marginVertical=&quot;10dp&quot;\r\n                android:text=&quot;Клиент&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/radioGroup&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/labelDate&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;10dp&quot;\r\n                android:layout_marginVertical=&quot;10dp&quot;\r\n                android:text=&quot;Дата&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/radioGroup&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/spin_provider&quot; /&gt;\r\n\r\n            &lt;Spinner\r\n                android:id=&quot;@+id/spin_provider&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;10dp&quot;\r\n                android:layout_marginVertical=&quot;10dp&quot;\r\n                android:enabled=&quot;false&quot;\r\n                android:spinnerMode=&quot;dropdown&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/radioGroup&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/label&quot; /&gt;\r\n\r\n            &lt;Spinner\r\n                android:id=&quot;@+id/spin_date&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;10dp&quot;\r\n                android:layout_marginVertical=&quot;10dp&quot;\r\n                android:enabled=&quot;false&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/radioGroup&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/labelDate&quot; /&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/lvOrders&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:layout_marginBottom=&quot;50dp&quot;\r\n        android:layout_marginHorizontal=&quot;10dp&quot;\r\n        android:maxHeight=&quot;200dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/inputName&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv12&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;10dp&quot; /&gt;\r\n\r\n    &lt;AutoCompleteTextView\r\n        android:id=&quot;@+id/inputName&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        android:layout_marginHorizontal=&quot;10dp&quot;\r\n        android:backgroundTint=&quot;@color/ClearGray&quot;\r\n        android:gravity=&quot;bottom&quot;\r\n        android:maxLength=&quot;10&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textColorHint=&quot;@color/black&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;10dp&quot; /&gt;\r\n    &lt;requestFocus /&gt;\r\n\r\n    &lt;!--    &lt;/RelativeLayout&gt;--&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nHow could I repeat this error other than `return null`?","title":"I get an error Attempt to invoke virtual method &#39;int android.view.View.getImportantForAccessibility()&#39; on a null object reference BottomSheetBehavior","body":"<p>I'm getting a floating error from Crashlytics that I can't replicate.\nWork goes to <code>Fragment</code>. And the error occurs when calling <code>BottomSheetBehavior</code>. It seems so to me. When I call this function myself, everything always works. But judging by the statistics, the error occurs once in 1000 times.</p>\n<p>My function call</p>\n<pre><code>MyBottomSheetDialog_myOrders bottomSheet = new MyBottomSheetDialog_myOrders(callback);\n bottomSheet.show(requireActivity().getSupportFragmentManager(),&quot;ModalBottomSheet&quot;);\n</code></pre>\n<p>my class MyBottomSheetDialog_myOrders</p>\n<pre><code>public class MyBottomSheetDialog_myOrders extends BottomSheetDialogFragment {\n\n    String barcode, date, provider, _id;\n    SQLiteDatabase db;\n    private BottomSheetBehavior mBottomBehavior;\n    ListView lv;\n    RadioButton btnOrder, btnReference;\n    AutoCompleteTextView inputName;\n    View v;\n    ArrayAdapter&lt;String&gt; itemsAdapter;\n    ArrayList&lt;String&gt; names, providers, dates;\n    Spinner spin_provider, spin_date;\n    adapter_select_orders adapter_select_orders;\n    CopyOnWriteArrayList&lt;GoodsCreate_SQL&gt; arrayGetInvList = new CopyOnWriteArrayList&lt;&gt;();\n    private CustomInterface callback;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable\n    ViewGroup container, @Nullable Bundle savedInstanceState) {\n        v = inflater.inflate(R.layout.bottom_sheet_orders,\n                container, false);\n        db = Application.db;\n        lv = v.findViewById(R.id.lvOrders);\n        btnOrder = v.findViewById(R.id.btnOrder);\n        btnReference = v.findViewById(R.id.btnReference);\n        inputName = v.findViewById(R.id.inputName);\n        spin_provider = v.findViewById(R.id.spin_provider);\n        spin_date = v.findViewById(R.id.spin_date);\n\n        inputName.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                arrayGetInvList.clear();\n                Cursor cursor = db.query(MyDBHelper.TABLE_NAME_Z,\n                        new String[]{MyDBHelper.PRODUCT_NAME, MyDBHelper.PRODUCT_PROVIDER, MyDBHelper.BARCODE},\n                        MyDBHelper.PRODUCT_NAME + &quot; LIKE ? AND &quot; + MyDBHelper.WEIGHT + &quot; = ?&quot;,\n                        new String[]{&quot;%&quot; + inputName.getText().toString() + &quot;%&quot;, &quot;1&quot;}, MyDBHelper.PRODUCT_NAME, null, MyDBHelper._ID);\n                while (cursor.moveToNext()) {\n                    arrayGetInvList.add(new GoodsCreate_SQL(\n                            cursor.getString(0),\n                            cursor.getString(1),\n                            cursor.getString(2)\n                    ));\n                }\n                cursor.close();\n                if (v != null) {\n                    adapter_select_orders = new adapter_select_orders(requireContext(), R.layout.adapter_view_3_rows, arrayGetInvList);\n                    lv.setAdapter(adapter_select_orders);\n                }\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n            }\n        });\n\n        lv.setOnItemLongClickListener((adapterView, view, i, l) -&gt; {\n            final GoodsCreate_SQL obj = (GoodsCreate_SQL) lv.getItemAtPosition(i);\n            callback.callbackMethod(obj);\n            dismiss();\n            return false;\n        });\n        return v;\n    }\n</code></pre>\n<p>my custom adapter</p>\n<pre><code>public class adapter_select_orders extends ArrayAdapter&lt;GoodsCreate_SQL&gt; {\n\n    //private static final String TAG = &quot;GoodsListAdapter&quot;;\n\n    private Context mContext;\n    int mResourse;\n    int cycymer = 1;\n    CopyOnWriteArrayList&lt;GoodsCreate_SQL&gt; sqls;\n\n    public adapter_select_orders(Context context, int resourse, CopyOnWriteArrayList&lt;GoodsCreate_SQL&gt; objects) {\n        super(context, resourse, objects);\n        mContext = context;\n        mResourse = resourse;\n        cycymer = 1;\n        this.sqls = objects;\n    }\n\n    @SuppressLint({&quot;ViewHolder&quot;, &quot;SetTextI18n&quot;, &quot;ResourceType&quot;})\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        try {\n            if (convertView == null){\n                LayoutInflater inflater = LayoutInflater.from(mContext);\n                convertView = inflater.inflate(mResourse, parent, false);\n            }\n            GoodsCreate_SQL myItemFromList = getItem(position);\n            String numDoc = myItemFromList.productName;\n            String numFact = myItemFromList.prodBrand;\n            String _id = myItemFromList.barCode;\n\n            TextView tvNumDoc = convertView.findViewById(R.id.tvDateInv);\n            TextView tvNumFac = convertView.findViewById(R.id.tvInnerDocNum);\n            TextView id = convertView.findViewById(R.id.tvID);\n            id.setVisibility(View.GONE);\n\n            tvNumFac.setTextSize(10);\n\n            tvNumDoc.setText(numDoc);\n            tvNumFac.setText(numFact);\n\n        } catch (ArrayIndexOutOfBoundsException | NullPointerException ex) {\n            ex.printStackTrace();\n        }\n        return convertView;\n    }\n}\n</code></pre>\n<p>I tried to hide everything in a <code>try catch</code>, but this only led to a huge stream of logs, which caused the application to lag.\nI can reproduce this error by writing <code>return null</code> but that's not the way to go..\nWhere should I dig?</p>\n<p>my error log</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'int android.view.View.getImportantForAccessibility()' on a null object reference\n    at android.widget.AbsListView.obtainView(AbsListView.java:2404)\n    at android.widget.ListView.makeAndAddView(ListView.java:2067)\n    at android.widget.ListView.fillDown(ListView.java:793)\n    at android.widget.ListView.fillFromTop(ListView.java:855)\n    at android.widget.ListView.layoutChildren(ListView.java:1838)\n    at android.widget.AbsListView.onLayout(AbsListView.java:2184)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at android.widget.RelativeLayout.onLayout(RelativeLayout.java:1103)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n    at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n    at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n    at com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\n    at android.view.View.layout(View.java:23015)\n    at android.view.ViewGroup.layout(ViewGroup.java:6453)\n    at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3580)\n    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3038)\n    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2020)\n    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8410)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:974)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:797)\n    at android.view.Choreographer.doFrame(Choreographer.java:732)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:959)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7703)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:997)\n</code></pre>\n<p>and my layout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/test2&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    android:gravity=&quot;center_horizontal&quot;&gt;\n    \n    &lt;ImageView\n        android:id=&quot;@+id/imageView6&quot;\n        android:layout_width=&quot;80dp&quot;\n        android:layout_height=&quot;5dp&quot;\n        android:layout_gravity=&quot;top|center&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/btn_round&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv12&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;@color/greenOrYellow&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView6&quot; /&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:id=&quot;@+id/mc12&quot;\n        android:visibility=&quot;gone&quot;\n        style=&quot;@style/MaterialAlertDialog.Material3&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/tv12&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:backgroundTint=&quot;@color/ClearGray&quot;\n        android:clickable=&quot;false&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv12&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;RadioGroup\n                android:id=&quot;@+id/radioGroup&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginHorizontal=&quot;10dp&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;RadioButton\n                    android:id=&quot;@+id/btnOrder&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:enabled=&quot;false&quot;\n                    android:text=&quot;в заказах&quot; /&gt;\n\n                &lt;RadioButton\n                    android:id=&quot;@+id/btnReference&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:enabled=&quot;false&quot;\n                    android:text=&quot;в ТМЦ&quot; /&gt;\n            &lt;/RadioGroup&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/label&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginHorizontal=&quot;10dp&quot;\n                android:layout_marginVertical=&quot;10dp&quot;\n                android:text=&quot;Клиент&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/radioGroup&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/labelDate&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginHorizontal=&quot;10dp&quot;\n                android:layout_marginVertical=&quot;10dp&quot;\n                android:text=&quot;Дата&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/radioGroup&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/spin_provider&quot; /&gt;\n\n            &lt;Spinner\n                android:id=&quot;@+id/spin_provider&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginHorizontal=&quot;10dp&quot;\n                android:layout_marginVertical=&quot;10dp&quot;\n                android:enabled=&quot;false&quot;\n                android:spinnerMode=&quot;dropdown&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/radioGroup&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/label&quot; /&gt;\n\n            &lt;Spinner\n                android:id=&quot;@+id/spin_date&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginHorizontal=&quot;10dp&quot;\n                android:layout_marginVertical=&quot;10dp&quot;\n                android:enabled=&quot;false&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/radioGroup&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/labelDate&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/lvOrders&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:layout_marginBottom=&quot;50dp&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:maxHeight=&quot;200dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/inputName&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv12&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        tools:layout_editor_absoluteX=&quot;10dp&quot; /&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/inputName&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:backgroundTint=&quot;@color/ClearGray&quot;\n        android:gravity=&quot;bottom&quot;\n        android:maxLength=&quot;10&quot;\n        android:inputType=&quot;text&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textColorHint=&quot;@color/black&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        tools:layout_editor_absoluteX=&quot;10dp&quot; /&gt;\n    &lt;requestFocus /&gt;\n\n    &lt;!--    &lt;/RelativeLayout&gt;--&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>How could I repeat this error other than <code>return null</code>?</p>\n"},{"tags":["java","jax-rs","resteasy","wildfly-11"],"comments":[{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1518805605,"post_id":48832612,"comment_id":84669879,"body_markdown":"What do your nginx logs show? Is there actually just one POST request attempt, or it is a POST followed with GET? Maybe there is a 302 in response to the first POST?","body":"What do your nginx logs show? Is there actually just one POST request attempt, or it is a POST followed with GET? Maybe there is a 302 in response to the first POST?"},{"owner":{"account_id":1999712,"reputation":53,"user_id":1791045,"display_name":"Peter Frisch"},"score":0,"creation_date":1518859062,"post_id":48832612,"comment_id":84683601,"body_markdown":"You seem to be right. There is a POST request and a GET request. Where did that come from?","body":"You seem to be right. There is a POST request and a GET request. Where did that come from?"},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1518864920,"post_id":48832612,"comment_id":84685151,"body_markdown":"Just a guess: is there some security framework like Spring Security that considers the original POST unauthenticated and makes a redirect to a login page? If so, you need to make your request authenticated or configure the security framework to allow non-authenticated requests for this endpoint.","body":"Just a guess: is there some security framework like Spring Security that considers the original POST unauthenticated and makes a redirect to a login page? If so, you need to make your request authenticated or configure the security framework to allow non-authenticated requests for this endpoint."},{"owner":{"account_id":1999712,"reputation":53,"user_id":1791045,"display_name":"Peter Frisch"},"score":3,"creation_date":1518900490,"post_id":48832612,"comment_id":84695634,"body_markdown":"I think I found the reason, but I&#39;m not completely sure where the GET came from. I configured my nginx to forward all HTTP requests to HTTPS. My original POST request was done by HTTP, so I got a response 301, but here my networking knowledge ends ... who sent the GET request that failed on my Wildfly?","body":"I think I found the reason, but I&#39;m not completely sure where the GET came from. I configured my nginx to forward all HTTP requests to HTTPS. My original POST request was done by HTTP, so I got a response 301, but here my networking knowledge ends ... who sent the GET request that failed on my Wildfly?"},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":2,"creation_date":1518951944,"post_id":48832612,"comment_id":84705287,"body_markdown":"Just a guess again: a user agent (Postman in this case?) may redirect using GET request as a reaction to 301, even if the initial request was POST.","body":"Just a guess again: a user agent (Postman in this case?) may redirect using GET request as a reaction to 301, even if the initial request was POST."},{"owner":{"account_id":1999712,"reputation":53,"user_id":1791045,"display_name":"Peter Frisch"},"score":0,"creation_date":1519021168,"post_id":48832612,"comment_id":84724072,"body_markdown":"Hmm ... we probably will never know ;) But thanks for your help. I really appreciate it!","body":"Hmm ... we probably will never know ;) But thanks for your help. I really appreciate it!"},{"owner":{"account_id":6263390,"reputation":101,"user_id":4869864,"display_name":"Lennert De Feyter"},"score":0,"creation_date":1599031242,"post_id":48832612,"comment_id":112643555,"body_markdown":"Just to add. I had the same issue, but @RomanPuchkovskiy suggestion about redirection was the key to solving it","body":"Just to add. I had the same issue, but @RomanPuchkovskiy suggestion about redirection was the key to solving it"}],"answers":[{"tags":[],"owner":{"account_id":19358547,"reputation":21,"user_id":14154293,"display_name":"geigea84"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655737379,"creation_date":1655737379,"answer_id":72689121,"question_id":48832612,"body_markdown":"I ran into the exact same error when I updated one of my GET requests to a POST request.  I failed to update the endpoint in Postman and then tried to run it, and that&#39;s when the error was thrown.  Updating the request type in Postman to match my code cleared the error.  Double check that your request types match, and do be sure to click save (Postman can get finicky).","title":"&quot;No resource method found for GET, return 405 with Allow header&quot; but doing a POST request","body":"<p>I ran into the exact same error when I updated one of my GET requests to a POST request.  I failed to update the endpoint in Postman and then tried to run it, and that's when the error was thrown.  Updating the request type in Postman to match my code cleared the error.  Double check that your request types match, and do be sure to click save (Postman can get finicky).</p>\n"}],"owner":{"account_id":1999712,"reputation":53,"user_id":1791045,"display_name":"Peter Frisch"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19966,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1679766730,"creation_date":1518804663,"question_id":48832612,"body_markdown":"I&#39;m having a problem accessing my rest endpoint. I&#39;m trying to do a login with a POST request, but keep getting \r\n\r\n    ERROR [org.jboss.resteasy.resteasy_jaxrs.i18n] (default task-36) RESTEASY002010: Failed to execute: javax.ws.rs.NotAllowedException: RESTEASY003650: No resource method found for GET, return 405 with Allow header\r\n\r\nI&#39;m using Postman for testing, so I&#39;m pretty sure I actually create a POST request and not a GET request.\r\n\r\nOn the server I use a CORS filter and looking at the header in the response, I think it&#39;s working:\r\n\r\n    Access-Control-Allow-Credentials →true\r\n    Access-Control-Allow-Headers →origin, content-type, accept, authorization\r\n    Access-Control-Allow-Methods →GET, POST, PUT, DELETE, OPTIONS, HEAD\r\n    Access-Control-Allow-Origin →*\r\n    Access-Control-Max-Age →1209600\r\n    Allow →POST, OPTIONS\r\n    Allow →GET, POST, PUT, DELETE, OPTIONS, HEAD\r\n    Connection →keep-alive\r\n    Content-Length →0\r\n    Date →Fri, 16 Feb 2018 17:47:04 GMT\r\n    Server →nginx/1.10.3 (Ubuntu)\r\n    X-Powered-By →Undertow/1\r\n\r\n(Yes, I&#39;m aware it&#39;s not the safest idea to allow ALL origins, and virtually eternity for max age. But I can restrict this further, when I worked around my current problem).\r\n\r\nAs for the server setup: I&#39;m running Wildfly 11.0.0 Alpha1 and Nginx for an Angular5 Application that ultimately is supposed to do the login.\r\n\r\nAny suggestions where to look for the cause of this problem?","title":"&quot;No resource method found for GET, return 405 with Allow header&quot; but doing a POST request","body":"<p>I'm having a problem accessing my rest endpoint. I'm trying to do a login with a POST request, but keep getting </p>\n\n<pre><code>ERROR [org.jboss.resteasy.resteasy_jaxrs.i18n] (default task-36) RESTEASY002010: Failed to execute: javax.ws.rs.NotAllowedException: RESTEASY003650: No resource method found for GET, return 405 with Allow header\n</code></pre>\n\n<p>I'm using Postman for testing, so I'm pretty sure I actually create a POST request and not a GET request.</p>\n\n<p>On the server I use a CORS filter and looking at the header in the response, I think it's working:</p>\n\n<pre><code>Access-Control-Allow-Credentials →true\nAccess-Control-Allow-Headers →origin, content-type, accept, authorization\nAccess-Control-Allow-Methods →GET, POST, PUT, DELETE, OPTIONS, HEAD\nAccess-Control-Allow-Origin →*\nAccess-Control-Max-Age →1209600\nAllow →POST, OPTIONS\nAllow →GET, POST, PUT, DELETE, OPTIONS, HEAD\nConnection →keep-alive\nContent-Length →0\nDate →Fri, 16 Feb 2018 17:47:04 GMT\nServer →nginx/1.10.3 (Ubuntu)\nX-Powered-By →Undertow/1\n</code></pre>\n\n<p>(Yes, I'm aware it's not the safest idea to allow ALL origins, and virtually eternity for max age. But I can restrict this further, when I worked around my current problem).</p>\n\n<p>As for the server setup: I'm running Wildfly 11.0.0 Alpha1 and Nginx for an Angular5 Application that ultimately is supposed to do the login.</p>\n\n<p>Any suggestions where to look for the cause of this problem?</p>\n"},{"tags":["java","android","navigation","startup","launch"],"owner":{"account_id":8797649,"reputation":41,"user_id":6575044,"display_name":"MrSALSA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679766517,"creation_date":1679766517,"question_id":75843518,"body_markdown":"I recently noticed a strange behavior with my app, which I have not been able to reproduce so far.\r\n\r\n**Problem:**\r\n\r\nNow and then, when I use my smartphone while my app (a simple stepper app with a service in the background and three activities) is running and I click on some random app via launcher icon or from the recent apps overview, my app is loaded in front instead. My phone is running on Android 9, but I have also seen this behavior on Android 11 on a friend&#39;s phone. Also, on his smartphone, I noticed that if my app was loaded and I clicked on the recent apps overview, my app would keep reloading when I clicked the recent apps overview button again and again. However, I am not sure if these behaviors are related or totally different.\r\n\r\n**What I have tried so far:**\r\n\r\nThis is my first app, so please bear with me if this is a very common question/problem and I could not find the solution yet. The only similar problem description I found was on Reddit, where a guy had the problem that Nova Launcher kept opening wrong apps occasionally. But as I am not using Nova Launcher, that&#39;s no help at all.\r\n\r\nI have tried to reproduce this behavior, but I cannot see the failure. It just happens sometimes and most of the time not. It&#39;s hard to debug as I cannot reproduce the behavior. It never happened when plugged into my PC while Android Studio with Logcat open was running, so I cannot provide any log files. I mostly use emulators for debugging (Android 9 to 13) but have never noticed that behavior there. Of course, I don&#39;t use random apps there like I do on my own phone, except for Gmail.\r\n\r\n**App structure:**\r\n\r\nAs I&#39;m not sure which information about my app is useful here, I will give you a brief description of it, and I will add more details if you tell me what is necessary.\r\n\r\nAs I said before, it&#39;s a simple stepper app, written in java, with a background service running all the time and three activities. The main activity is for showing the current steps, the second for setting up a user profile, and the third shows the history of all daily achieved steps. Also, there is a splash screen activity loaded when one or multiple activities need to be reloaded, like on app start-up. Except for the splash screen activity, all activities&#39; launch modes are set to singleInstance in the AndroidManifest.xml. Also, to make sure that the activities will be reloaded instead of recreated if possible, the activities will be started with the following flags:\r\n\r\n```\r\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\nintent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n```\r\n\r\nAny help is appreciated and very welcome.\r\n\r\nWith kind regards.","title":"Clicking a different app via launcher icon, or in the recent app overview sometimes opens my app","body":"<p>I recently noticed a strange behavior with my app, which I have not been able to reproduce so far.</p>\n<p><strong>Problem:</strong></p>\n<p>Now and then, when I use my smartphone while my app (a simple stepper app with a service in the background and three activities) is running and I click on some random app via launcher icon or from the recent apps overview, my app is loaded in front instead. My phone is running on Android 9, but I have also seen this behavior on Android 11 on a friend's phone. Also, on his smartphone, I noticed that if my app was loaded and I clicked on the recent apps overview, my app would keep reloading when I clicked the recent apps overview button again and again. However, I am not sure if these behaviors are related or totally different.</p>\n<p><strong>What I have tried so far:</strong></p>\n<p>This is my first app, so please bear with me if this is a very common question/problem and I could not find the solution yet. The only similar problem description I found was on Reddit, where a guy had the problem that Nova Launcher kept opening wrong apps occasionally. But as I am not using Nova Launcher, that's no help at all.</p>\n<p>I have tried to reproduce this behavior, but I cannot see the failure. It just happens sometimes and most of the time not. It's hard to debug as I cannot reproduce the behavior. It never happened when plugged into my PC while Android Studio with Logcat open was running, so I cannot provide any log files. I mostly use emulators for debugging (Android 9 to 13) but have never noticed that behavior there. Of course, I don't use random apps there like I do on my own phone, except for Gmail.</p>\n<p><strong>App structure:</strong></p>\n<p>As I'm not sure which information about my app is useful here, I will give you a brief description of it, and I will add more details if you tell me what is necessary.</p>\n<p>As I said before, it's a simple stepper app, written in java, with a background service running all the time and three activities. The main activity is for showing the current steps, the second for setting up a user profile, and the third shows the history of all daily achieved steps. Also, there is a splash screen activity loaded when one or multiple activities need to be reloaded, like on app start-up. Except for the splash screen activity, all activities' launch modes are set to singleInstance in the AndroidManifest.xml. Also, to make sure that the activities will be reloaded instead of recreated if possible, the activities will be started with the following flags:</p>\n<pre><code>intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nintent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n</code></pre>\n<p>Any help is appreciated and very welcome.</p>\n<p>With kind regards.</p>\n"},{"tags":["java","selenium","proxy","host","browsermob-proxy"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1553084783,"post_id":55237635,"comment_id":97252792,"body_markdown":"What&#39;s the &#39;proxy&#39; in ClientUtil.createSeleniumProxy(proxy)?","body":"What&#39;s the &#39;proxy&#39; in ClientUtil.createSeleniumProxy(proxy)?"},{"owner":{"account_id":15034189,"reputation":79,"user_id":10851172,"display_name":"josh"},"score":0,"creation_date":1553228339,"post_id":55237635,"comment_id":97314295,"body_markdown":"`BrowserMobProxyServer proxy ;` @pburgr","body":"<code>BrowserMobProxyServer proxy ;</code> @pburgr"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1553238859,"post_id":55237635,"comment_id":97317466,"body_markdown":"Seems (to me) order of commends isn&#39;t correct. See https://www.swtestacademy.com/webdriver-browsermob-proxy/","body":"Seems (to me) order of commends isn&#39;t correct. See <a href=\"https://www.swtestacademy.com/webdriver-browsermob-proxy/\" rel=\"nofollow noreferrer\">swtestacademy.com/webdriver-browsermob-proxy</a>"},{"owner":{"account_id":2417,"reputation":37838,"user_id":3362,"accept_rate":79,"display_name":"Andy McCluggage"},"score":1,"creation_date":1632307792,"post_id":55237635,"comment_id":122455256,"body_markdown":"proxy.setTrustAllServers(true); was required for me. Thanks","body":"proxy.setTrustAllServers(true); was required for me. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":21207982,"reputation":19,"user_id":15597210,"display_name":"Tank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679766151,"creation_date":1679766151,"answer_id":75843482,"question_id":55237635,"body_markdown":"Add \r\nproxy.setTrustAllServers(true);\r\nBefore you start your proxy server. This will solve your problem.","title":"browsermob-proxy+selenium with vpn not working on mac but works on windows","body":"<p>Add\nproxy.setTrustAllServers(true);\nBefore you start your proxy server. This will solve your problem.</p>\n"}],"owner":{"account_id":15034189,"reputation":79,"user_id":10851172,"display_name":"josh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679766151,"creation_date":1552987969,"question_id":55237635,"body_markdown":"I&#39;m using JMeter with my project jar and trying to open the browser with browsermob-proxy, but it shows `ERR_PROXY_CONNECTION_FAILED with` my VPN connected on MAC.\r\n\r\n\r\n\r\n[Error Screenshot][1]\r\n\r\n\r\n     proxy = new BrowserMobProxyServer();\r\n                proxy.setTrustAllServers(true);\r\n                proxy.start();\r\n                options.setCapability(&quot;proxy&quot;, ClientUtil.createSeleniumProxy(proxy));\r\n                proxy.enableHarCaptureTypes(CaptureType.REQUEST_CONTENT, CaptureType.RESPONSE_CONTENT);\r\n\r\nNOTE-\r\n\r\nMac: I&#39;m only facing this issue when my VPN is connected, otherwise, it works fine.\r\n\r\nWindows: Everything is working fine with VPN connected or not.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UeCzc.png","title":"browsermob-proxy+selenium with vpn not working on mac but works on windows","body":"<p>I'm using JMeter with my project jar and trying to open the browser with browsermob-proxy, but it shows <code>ERR_PROXY_CONNECTION_FAILED with</code> my VPN connected on MAC.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UeCzc.png\" rel=\"nofollow noreferrer\">Error Screenshot</a></p>\n\n<pre><code> proxy = new BrowserMobProxyServer();\n            proxy.setTrustAllServers(true);\n            proxy.start();\n            options.setCapability(\"proxy\", ClientUtil.createSeleniumProxy(proxy));\n            proxy.enableHarCaptureTypes(CaptureType.REQUEST_CONTENT, CaptureType.RESPONSE_CONTENT);\n</code></pre>\n\n<p>NOTE-</p>\n\n<p>Mac: I'm only facing this issue when my VPN is connected, otherwise, it works fine.</p>\n\n<p>Windows: Everything is working fine with VPN connected or not.</p>\n"},{"tags":["java","android","onclick","widget"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1679766098,"post_id":75843465,"comment_id":133781067,"body_markdown":"What do you mean by &quot;an opening of the app&quot;?","body":"What do you mean by &quot;an opening of the app&quot;?"},{"owner":{"account_id":11373770,"reputation":73,"user_id":8350451,"display_name":"user365045"},"score":0,"creation_date":1679766164,"post_id":75843465,"comment_id":133781081,"body_markdown":"I mean that it opens the application in question. I tried to reformulate.","body":"I mean that it opens the application in question. I tried to reformulate."}],"owner":{"account_id":11373770,"reputation":73,"user_id":8350451,"display_name":"user365045"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679766106,"creation_date":1679765949,"question_id":75843465,"body_markdown":"I&#39;m new to Android programming, I&#39;ve been on the subject for a few hours now but I can&#39;t find the solution. I&#39;m trying to create a widget that when clicked does something inside the app (like the press of a &quot;next song&quot; button in a media player widget), but I don&#39;t want the click to trigger my application to open. Every thing that I tried so far, opened the app and didn&#39;t do what I planned to do.\r\n\r\nHere is what I have so far :\r\n\r\n\r\n```\r\npublic class NewAppWidget extends AppWidgetProvider {\r\n\r\n    private static final String CLICK_ACTION = &quot;com.myproject.com.CLICK_ACTION&quot;;\r\n\r\n    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,\r\n                                int appWidgetId) {\r\n\r\n        // Construct the RemoteViews object\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.new_app_widget);\r\n        views.setTextViewText(R.id.appwidget_text, widgetText);\r\n\r\n        Intent intent = new Intent(context, NewAppWidget.class);\r\n        intent.setAction(CLICK_ACTION);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(\r\n                context,\r\n                0,\r\n                intent,\r\n                PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        views.setOnClickPendingIntent(R.id.appwidget_text, pendingIntent);\r\n\r\n\r\n        // Instruct the widget manager to update the widget\r\n        appWidgetManager.updateAppWidget(appWidgetId, views);\r\n    }\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        // There may be multiple widgets active, so update all of them\r\n        for (int appWidgetId : appWidgetIds) {\r\n            updateAppWidget(context, appWidgetManager, appWidgetId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        super.onReceive(context, intent);\r\n        if (CLICK_ACTION.equals(intent.getAction())) {\r\n            Log.d(&quot;Widget&quot;, &quot;Launch function&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onEnabled(Context context) {\r\n        // Enter relevant functionality for when the first widget is created\r\n    }\r\n\r\n    @Override\r\n    public void onDisabled(Context context) {\r\n        // Enter relevant functionality for when the last widget is disabled\r\n    }\r\n}\r\n```\r\n\r\nThe ressource with the id &quot;appwidget_text&quot; is the TextView that is inside my widget.","title":"How to create a widget that does an action when clicked but doesn&#39;t open the application","body":"<p>I'm new to Android programming, I've been on the subject for a few hours now but I can't find the solution. I'm trying to create a widget that when clicked does something inside the app (like the press of a &quot;next song&quot; button in a media player widget), but I don't want the click to trigger my application to open. Every thing that I tried so far, opened the app and didn't do what I planned to do.</p>\n<p>Here is what I have so far :</p>\n<pre><code>public class NewAppWidget extends AppWidgetProvider {\n\n    private static final String CLICK_ACTION = &quot;com.myproject.com.CLICK_ACTION&quot;;\n\n    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,\n                                int appWidgetId) {\n\n        // Construct the RemoteViews object\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.new_app_widget);\n        views.setTextViewText(R.id.appwidget_text, widgetText);\n\n        Intent intent = new Intent(context, NewAppWidget.class);\n        intent.setAction(CLICK_ACTION);\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(\n                context,\n                0,\n                intent,\n                PendingIntent.FLAG_UPDATE_CURRENT);\n\n        views.setOnClickPendingIntent(R.id.appwidget_text, pendingIntent);\n\n\n        // Instruct the widget manager to update the widget\n        appWidgetManager.updateAppWidget(appWidgetId, views);\n    }\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        // There may be multiple widgets active, so update all of them\n        for (int appWidgetId : appWidgetIds) {\n            updateAppWidget(context, appWidgetManager, appWidgetId);\n        }\n    }\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        super.onReceive(context, intent);\n        if (CLICK_ACTION.equals(intent.getAction())) {\n            Log.d(&quot;Widget&quot;, &quot;Launch function&quot;);\n        }\n    }\n\n    @Override\n    public void onEnabled(Context context) {\n        // Enter relevant functionality for when the first widget is created\n    }\n\n    @Override\n    public void onDisabled(Context context) {\n        // Enter relevant functionality for when the last widget is disabled\n    }\n}\n</code></pre>\n<p>The ressource with the id &quot;appwidget_text&quot; is the TextView that is inside my widget.</p>\n"},{"tags":["java","eclipse","input","java.util.scanner","system.out"],"owner":{"account_id":26572432,"reputation":41,"user_id":20198458,"display_name":"Davi Franke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679766127,"answer_count":0,"score":0,"last_activity_date":1679765964,"creation_date":1679765964,"question_id":75843467,"body_markdown":"i have this function, its suposed to allow you to register a new product line by line and then it inserts the object in the binary tree, but for some reason it skips the insert the name part and i cant insert it\r\n```\r\n\tpublic static Produto insertnew(Product head) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;insert the product code&quot;);\r\n\t\tint code = scanner.nextInt();\r\n\t\tSystem.out.println(&quot;insert the current in stock quantity of this product&quot;);\r\n\t\tint instock = scanner.nextInt();\r\n\t\tSystem.out.println(&quot;insert a name for this product&quot;);\r\n\t\tString namep = scanner.nextLine();\r\n\t\tSystem.out.println(&quot;insert a brand for this product&quot;);\r\n\t\tString brand = scanner.nextLine();\r\n\t\tSystem.out.println(&quot;insert a category for this product&quot;);\r\n\t\tString category = scanner.nextLine();\r\n\t\tSystem.out.println(&quot;insert a price for this product&quot;);\r\n\t\tfloat price = scanner.nextFloat();\r\n\t\treturn head = inserir(head, code, instock, namep, brand, category, price);\r\n\t}\r\n```\r\nthis is the output and input:\r\n\r\n```\r\ninsert the product code\r\n45\r\ninsert the current in stock quantity of this product\r\n10\r\ninsert a name for this product\r\ninsert a brand for this product\r\ndell\r\ninsert a category for this product\r\neletronic\r\ninsert a price for this product\r\n100,50\r\n```\r\n\r\ndoes anyone know where the problem is or how to fix it?\r\n\r\ni tried changing the name to namep in case name was a reserved word in java, but it didnt work\r\ni searched for similar questions in this forum but none worked for me","title":"scanner skipping the insert name line for some reason, how to fix?","body":"<p>i have this function, its suposed to allow you to register a new product line by line and then it inserts the object in the binary tree, but for some reason it skips the insert the name part and i cant insert it</p>\n<pre><code>    public static Produto insertnew(Product head) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;insert the product code&quot;);\n        int code = scanner.nextInt();\n        System.out.println(&quot;insert the current in stock quantity of this product&quot;);\n        int instock = scanner.nextInt();\n        System.out.println(&quot;insert a name for this product&quot;);\n        String namep = scanner.nextLine();\n        System.out.println(&quot;insert a brand for this product&quot;);\n        String brand = scanner.nextLine();\n        System.out.println(&quot;insert a category for this product&quot;);\n        String category = scanner.nextLine();\n        System.out.println(&quot;insert a price for this product&quot;);\n        float price = scanner.nextFloat();\n        return head = inserir(head, code, instock, namep, brand, category, price);\n    }\n</code></pre>\n<p>this is the output and input:</p>\n<pre><code>insert the product code\n45\ninsert the current in stock quantity of this product\n10\ninsert a name for this product\ninsert a brand for this product\ndell\ninsert a category for this product\neletronic\ninsert a price for this product\n100,50\n</code></pre>\n<p>does anyone know where the problem is or how to fix it?</p>\n<p>i tried changing the name to namep in case name was a reserved word in java, but it didnt work\ni searched for similar questions in this forum but none worked for me</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1679732477,"post_id":75840430,"comment_id":133776504,"body_markdown":"What exactly is this code supposed to do? Please elaborate.","body":"What exactly is this code supposed to do? Please elaborate."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1679732699,"post_id":75840430,"comment_id":133776521,"body_markdown":"Does this answer your question? [How to convert/parse from String to char in java?](https://stackoverflow.com/questions/7853502/how-to-convert-parse-from-string-to-char-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7853502/how-to-convert-parse-from-string-to-char-in-java\">How to convert/parse from String to char in java?</a>"},{"owner":{"account_id":22134572,"reputation":63,"user_id":16385593,"display_name":"Inamul Hassan"},"score":2,"creation_date":1679732988,"post_id":75840430,"comment_id":133776557,"body_markdown":"If you want to change a string to a character just use `&quot;Your String&quot;.charAt(position)`. For Example, If you give the input to `variableChar` as `c` then you can use `variableChar.charAt(0)` to convert it into a character.","body":"If you want to change a string to a character just use <code>&quot;Your String&quot;.charAt(position)</code>. For Example, If you give the input to <code>variableChar</code> as <code>c</code> then you can use <code>variableChar.charAt(0)</code> to convert it into a character."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679733589,"post_id":75840430,"comment_id":133776622,"body_markdown":"hint: first read, then convert","body":"hint: first read, then convert"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1679755544,"post_id":75840430,"comment_id":133779428,"body_markdown":"Your code contains almost 20 uses of the value of `aChar`, but `aChar` has no value assigned to it (not counting the case where you try and convert the unassigned value to lowercase)","body":"Your code contains almost 20 uses of the value of <code>aChar</code>, but <code>aChar</code> has no value assigned to it (not counting the case where you try and convert the unassigned value to lowercase)"},{"owner":{"account_id":28120205,"reputation":1,"user_id":21486563,"display_name":"diitrii"},"score":0,"creation_date":1679763291,"post_id":75840430,"comment_id":133780654,"body_markdown":"@ArfurNarf That&#39;s one of the issues I&#39;m having, I don&#39;t necessarily know what to configure `aChar` as, because it needs to accept user input but if I label it as just a character it no longer accepts user input.","body":"@ArfurNarf That&#39;s one of the issues I&#39;m having, I don&#39;t necessarily know what to configure <code>aChar</code> as, because it needs to accept user input but if I label it as just a character it no longer accepts user input."},{"owner":{"account_id":28120205,"reputation":1,"user_id":21486563,"display_name":"diitrii"},"score":0,"creation_date":1679763318,"post_id":75840430,"comment_id":133780659,"body_markdown":"@Unmitigated, the code that is supposed to read as follows:\n`Enter a character... R`\n`The character is R`\n`R is uppercase`\n`R is not lowercase`\n`After toLowerCase(), aChar is r`\n`After toUpperCase(), aChar is R`\n`R is a letter or digit`\n`R is not whitespace`\nThis is simply an example, but it should be able to accept multiple different characters.","body":"@Unmitigated, the code that is supposed to read as follows: <code>Enter a character... R</code> <code>The character is R</code> <code>R is uppercase</code> <code>R is not lowercase</code> <code>After toLowerCase(), aChar is r</code> <code>After toUpperCase(), aChar is R</code> <code>R is a letter or digit</code> <code>R is not whitespace</code> This is simply an example, but it should be able to accept multiple different characters."}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679765599,"creation_date":1679765599,"answer_id":75843438,"question_id":75840430,"body_markdown":"Your statement in the title seems backwards.\r\n\r\n&gt; converting a char to a String for user input\r\n\r\nYou want to read a string and convert to a char.\r\n\r\nChange this part:\r\n\r\n        System.out.print(&quot;Enter a character...&quot;);\r\n        String variableChar;\r\n        char aChar;\r\n        variableChar = Character.toString(aChar);\r\n        variableChar = keyboard.nextLine();\r\n\r\nto\r\n\r\n        System.out.print(&quot;Enter a character...&quot;);\r\n        String line = keyboard.nextLine();\r\n        char aChar = line.charAt(0);\r\n\r\nand that should get you started.  \r\n\r\nNote:    \r\n1) Better name for the line, &#39;variableChar&#39; needlessly tells us that a variable is a variable, and it doesn&#39;t hold a &#39;char&#39; anyway    \r\n2) Combining declaration with initialization is better style.   \r\n","title":"I&#39;m having trouble figuring out a coding homework problem involving converting a char to a String for user input","body":"<p>Your statement in the title seems backwards.</p>\n<blockquote>\n<p>converting a char to a String for user input</p>\n</blockquote>\n<p>You want to read a string and convert to a char.</p>\n<p>Change this part:</p>\n<pre><code>    System.out.print(&quot;Enter a character...&quot;);\n    String variableChar;\n    char aChar;\n    variableChar = Character.toString(aChar);\n    variableChar = keyboard.nextLine();\n</code></pre>\n<p>to</p>\n<pre><code>    System.out.print(&quot;Enter a character...&quot;);\n    String line = keyboard.nextLine();\n    char aChar = line.charAt(0);\n</code></pre>\n<p>and that should get you started.</p>\n<p>Note:</p>\n<ol>\n<li>Better name for the line, 'variableChar' needlessly tells us that a variable is a variable, and it doesn't hold a 'char' anyway</li>\n<li>Combining declaration with initialization is better style.</li>\n</ol>\n"}],"owner":{"account_id":28120205,"reputation":1,"user_id":21486563,"display_name":"diitrii"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679765599,"creation_date":1679732260,"question_id":75840430,"body_markdown":"The code is listed here: \r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class InputCharacterInfo {\r\n    public static void main(String[] args) {\r\n        Scanner keyboard = new Scanner(System.in);\r\n        System.out.print(&quot;Enter a character...&quot;);\r\n        String variableChar;\r\n        char aChar;\r\n        variableChar = Character.toString(aChar);\r\n        variableChar = keyboard.nextLine();\r\n        System.out.println(&quot;The character is &quot; + aChar);\r\n        if(Character.isUpperCase(aChar))\r\n            System.out.println(aChar + &quot; is uppercase&quot;);\r\n        else\r\n            System.out.println(aChar + &quot; is not uppercase&quot;);\r\n        if(Character.isLowerCase(aChar))\r\n            System.out.println(aChar + &quot; is lowercase&quot;);\r\n        else\r\n            System.out.println(aChar + &quot; is not lowercase&quot;);\r\n        aChar = Character.toLowerCase(aChar);\r\n        System.out.println(&quot;After toLowerCase(), aChar is &quot; + aChar);\r\n        aChar = Character.toUpperCase(aChar);\r\n        System.out.println(&quot;After toUpperCase(), aChar is &quot; + aChar);\r\n        if(Character.isLetterOrDigit(aChar))\r\n            System.out.println(aChar + &quot; is a letter or digit&quot;);\r\n        else\r\n            System.out.println(aChar +\r\n            &quot; is neither a letter nor a digit&quot;);\r\n        if(Character.isWhitespace(aChar))\r\n            System.out.println(aChar + &quot; is whitespace&quot;);\r\n        else\r\n            System.out.println(aChar + &quot; is not whitespace&quot;);\r\n    }\r\n}\r\n\r\n```\r\nMy problem entails that I need to identify the char variable &quot;aChar&quot; as a String which I put as &quot;variableChar&quot;, however I&#39;ve run into a point where I do not know what to define the char &quot;aChar&quot; as without removing the ability of the user to input. User input is crucial for this assignment.\r\n\r\n\r\nI&#39;ve tried moving around the `char aChar;` statement multiple times, also tried changing the definition of &quot;variableChar&quot;. Resulted in the char not being defined, the rest of the code not working, or the String not reading properly. ","title":"I&#39;m having trouble figuring out a coding homework problem involving converting a char to a String for user input","body":"<p>The code is listed here:</p>\n<pre><code>import java.util.Scanner;\npublic class InputCharacterInfo {\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        System.out.print(&quot;Enter a character...&quot;);\n        String variableChar;\n        char aChar;\n        variableChar = Character.toString(aChar);\n        variableChar = keyboard.nextLine();\n        System.out.println(&quot;The character is &quot; + aChar);\n        if(Character.isUpperCase(aChar))\n            System.out.println(aChar + &quot; is uppercase&quot;);\n        else\n            System.out.println(aChar + &quot; is not uppercase&quot;);\n        if(Character.isLowerCase(aChar))\n            System.out.println(aChar + &quot; is lowercase&quot;);\n        else\n            System.out.println(aChar + &quot; is not lowercase&quot;);\n        aChar = Character.toLowerCase(aChar);\n        System.out.println(&quot;After toLowerCase(), aChar is &quot; + aChar);\n        aChar = Character.toUpperCase(aChar);\n        System.out.println(&quot;After toUpperCase(), aChar is &quot; + aChar);\n        if(Character.isLetterOrDigit(aChar))\n            System.out.println(aChar + &quot; is a letter or digit&quot;);\n        else\n            System.out.println(aChar +\n            &quot; is neither a letter nor a digit&quot;);\n        if(Character.isWhitespace(aChar))\n            System.out.println(aChar + &quot; is whitespace&quot;);\n        else\n            System.out.println(aChar + &quot; is not whitespace&quot;);\n    }\n}\n\n</code></pre>\n<p>My problem entails that I need to identify the char variable &quot;aChar&quot; as a String which I put as &quot;variableChar&quot;, however I've run into a point where I do not know what to define the char &quot;aChar&quot; as without removing the ability of the user to input. User input is crucial for this assignment.</p>\n<p>I've tried moving around the <code>char aChar;</code> statement multiple times, also tried changing the definition of &quot;variableChar&quot;. Resulted in the char not being defined, the rest of the code not working, or the String not reading properly.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25417380,"reputation":526,"user_id":19224040,"display_name":"Rob"},"score":0,"creation_date":1679791706,"post_id":75843391,"comment_id":133784109,"body_markdown":"Can you share a screenshot of what your result is and a diagram of your desired layout?","body":"Can you share a screenshot of what your result is and a diagram of your desired layout?"}],"owner":{"account_id":18259433,"reputation":1,"user_id":13292561,"display_name":"mjdklntr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679765236,"creation_date":1679765236,"question_id":75843391,"body_markdown":"I want put ScrollView Over Before LinearLayout But LinearLayout go Under ScrollView\r\nPlease Help I want put ScrollView Over LinearLayout\r\ni want overlapping Scrollview\r\nI tried everything. Please Somebody help me\r\n\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_below=&quot;@+id/Titlebar&quot;\r\n        android:id=&quot;@+id/Titlebar2&quot;\r\n        android:background=&quot;@color/BluPrimaty&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;100sp&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_below=&quot;@+id/Titlebar2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;-90sp&quot;\r\n        android:layout_marginLeft=&quot;10sp&quot;\r\n\r\n        android:layout_marginRight=&quot;10sp&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n      \r\n    &lt;/ScrollView&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```","title":"ScrollView Over LinearLayout","body":"<p>I want put ScrollView Over Before LinearLayout But LinearLayout go Under ScrollView\nPlease Help I want put ScrollView Over LinearLayout\ni want overlapping Scrollview\nI tried everything. Please Somebody help me</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        android:layout_below=&quot;@+id/Titlebar&quot;\n        android:id=&quot;@+id/Titlebar2&quot;\n        android:background=&quot;@color/BluPrimaty&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;100sp&quot;&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;ScrollView\n        android:layout_below=&quot;@+id/Titlebar2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;-90sp&quot;\n        android:layout_marginLeft=&quot;10sp&quot;\n\n        android:layout_marginRight=&quot;10sp&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n      \n    &lt;/ScrollView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1679760565,"post_id":75842923,"comment_id":133780210,"body_markdown":"Because `C&lt;B&gt;` is not a subclass of `C&lt;A&gt;`.  Consider a `List&lt;Number&gt;` and a `List&lt;Integer&gt;`:  The first List may contain Integers, Doubles, Floats, Shorts, etc.  The second list cannot be treated like a `List&lt;Number&gt;` because it is not allowed to contain anything other than Integer elements.","body":"Because <code>C&lt;B&gt;</code> is not a subclass of <code>C&lt;A&gt;</code>.  Consider a <code>List&lt;Number&gt;</code> and a <code>List&lt;Integer&gt;</code>:  The first List may contain Integers, Doubles, Floats, Shorts, etc.  The second list cannot be treated like a <code>List&lt;Number&gt;</code> because it is not allowed to contain anything other than Integer elements."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1679760659,"post_id":75842923,"comment_id":133780223,"body_markdown":"PECS. Producer Extends, Consumer Super. `C&lt;C&lt;? extends A&gt;&gt; container = new C&lt;&gt;();`","body":"PECS. Producer Extends, Consumer Super. <code>C&lt;C&lt;? extends A&gt;&gt; container = new C&lt;&gt;();</code>"},{"owner":{"account_id":21188518,"reputation":51,"user_id":15581412,"display_name":"derdilla"},"score":0,"creation_date":1679761302,"post_id":75842923,"comment_id":133780340,"body_markdown":"@VGR I am not sure if I understand you correctly, but shouldn&#39;t the `List&lt;Integer&gt;` lose the distinct properties of `Integer`  and behave like `List&lt;Number&gt;`. I get the base argument, but isn&#39;t this inconsistent with java&#39;s normal way of implicitly type conversion?","body":"@VGR I am not sure if I understand you correctly, but shouldn&#39;t the <code>List&lt;Integer&gt;</code> lose the distinct properties of <code>Integer</code>  and behave like <code>List&lt;Number&gt;</code>. I get the base argument, but isn&#39;t this inconsistent with java&#39;s normal way of implicitly type conversion?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1679761359,"post_id":75842923,"comment_id":133780349,"body_markdown":"No.  `List&lt;Integer&gt;` is **not** a subclass of `List&lt;Number&gt;`.  It does not inherit anything from `List&lt;Number&gt;`.  It cannot be used in place of a `List&lt;Number&gt;`.","body":"No.  <code>List&lt;Integer&gt;</code> is <b>not</b> a subclass of <code>List&lt;Number&gt;</code>.  It does not inherit anything from <code>List&lt;Number&gt;</code>.  It cannot be used in place of a <code>List&lt;Number&gt;</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1679761968,"post_id":75842923,"comment_id":133780432,"body_markdown":"Related: [Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?](https://stackoverflow.com/q/2745265)","body":"Related: <a href=\"https://stackoverflow.com/q/2745265\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a>"}],"answers":[{"tags":[],"owner":{"account_id":21188518,"reputation":51,"user_id":15581412,"display_name":"derdilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679764519,"creation_date":1679761689,"answer_id":75843044,"question_id":75842923,"body_markdown":"## The issue\r\nAs VGR pointed out: `C&lt;B&gt;` doesn&#39;t extend `C&lt;A&gt;`.\r\n\r\nSo `C&lt;B&gt;` other than `B` itself, doesn&#39;t have any properties of `C&lt;A&gt;`.\r\n\r\nThis becomes more clear, when looking at what `C&lt;A&gt;` and `C&lt;B&gt;` generate: `C&lt;A&gt;` acts like a \r\n```java\r\nclass D {\r\n    void m(A t) {}\r\n}\r\n```\r\nwhile `C&lt;B&gt;` acts like a \r\n```java\r\nclass E {\r\n    void m(B t) {}\r\n}\r\n```\r\n\r\nWhen looking at it in this unraveled fashion, it becomes apparent, that class `E` doesn&#39;t extend class `D`.\r\n## The solution\r\nAs Elliott Frisch said, this can be avoided by changing `C&lt;A&gt;` to `C&lt;? extends A&gt;`.\r\n### Full working example:\r\n```java\r\npublic class Test {\r\n    class A {}\r\n    class B extends A {}\r\n    class C&lt;T&gt; {\r\n        void m(T t) {}\r\n    }\r\n    void test() {\r\n        C&lt;C&lt;? extends A&gt;&gt; container = new C&lt;&gt;();\r\n        C&lt;B&gt; obj = new C&lt;&gt;();\r\n        container.m(obj);\r\n    }\r\n}\r\n```","title":"Inheritance of nested generics [object orientation]","body":"<h2>The issue</h2>\n<p>As VGR pointed out: <code>C&lt;B&gt;</code> doesn't extend <code>C&lt;A&gt;</code>.</p>\n<p>So <code>C&lt;B&gt;</code> other than <code>B</code> itself, doesn't have any properties of <code>C&lt;A&gt;</code>.</p>\n<p>This becomes more clear, when looking at what <code>C&lt;A&gt;</code> and <code>C&lt;B&gt;</code> generate: <code>C&lt;A&gt;</code> acts like a</p>\n<pre class=\"lang-java prettyprint-override\"><code>class D {\n    void m(A t) {}\n}\n</code></pre>\n<p>while <code>C&lt;B&gt;</code> acts like a</p>\n<pre class=\"lang-java prettyprint-override\"><code>class E {\n    void m(B t) {}\n}\n</code></pre>\n<p>When looking at it in this unraveled fashion, it becomes apparent, that class <code>E</code> doesn't extend class <code>D</code>.</p>\n<h2>The solution</h2>\n<p>As Elliott Frisch said, this can be avoided by changing <code>C&lt;A&gt;</code> to <code>C&lt;? extends A&gt;</code>.</p>\n<h3>Full working example:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    class A {}\n    class B extends A {}\n    class C&lt;T&gt; {\n        void m(T t) {}\n    }\n    void test() {\n        C&lt;C&lt;? extends A&gt;&gt; container = new C&lt;&gt;();\n        C&lt;B&gt; obj = new C&lt;&gt;();\n        container.m(obj);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21188518,"reputation":51,"user_id":15581412,"display_name":"derdilla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679764519,"creation_date":1679760320,"question_id":75842923,"body_markdown":"## Idealized scenario\r\nLet&#39;s imagine a scenario, with 2 classes like `A` and `B` where B extends A.\r\nI also have a third generic class `C&lt;T&gt;` with a method `m(T t)`.\r\n\r\nIf I create a object `C&lt;C&lt;A&gt;&gt; container` and another object `C&lt;B&gt; obj = new C&lt;&gt;();` why can&#39;t I run `container.m(obj)`?\r\n\r\n## Full code example\r\n```\r\npublic class Test {\r\n    class A {}\r\n    class B extends A {}\r\n    class C&lt;T&gt; {\r\n        void m(T t) {}\r\n    }\r\n    void test() {\r\n        C&lt;C&lt;A&gt;&gt; container = new C&lt;&gt;();\r\n        C&lt;B&gt; obj = new C&lt;&gt;();\r\n\r\n        container.m(obj);\r\n    }\r\n}\r\n```\r\n\r\n\r\n## Practical case\r\nThis Issue becomes apparent with nested lists where the `C&lt;A&gt;` in my simplified example would be a a `List&lt;A&gt;`.\r\n\r\nOracle highlights some [limitations of generics](https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html), but I can&#39;t find anything describing this issue and how to deal with it.","title":"Inheritance of nested generics [object orientation]","body":"<h2>Idealized scenario</h2>\n<p>Let's imagine a scenario, with 2 classes like <code>A</code> and <code>B</code> where B extends A.\nI also have a third generic class <code>C&lt;T&gt;</code> with a method <code>m(T t)</code>.</p>\n<p>If I create a object <code>C&lt;C&lt;A&gt;&gt; container</code> and another object <code>C&lt;B&gt; obj = new C&lt;&gt;();</code> why can't I run <code>container.m(obj)</code>?</p>\n<h2>Full code example</h2>\n<pre><code>public class Test {\n    class A {}\n    class B extends A {}\n    class C&lt;T&gt; {\n        void m(T t) {}\n    }\n    void test() {\n        C&lt;C&lt;A&gt;&gt; container = new C&lt;&gt;();\n        C&lt;B&gt; obj = new C&lt;&gt;();\n\n        container.m(obj);\n    }\n}\n</code></pre>\n<h2>Practical case</h2>\n<p>This Issue becomes apparent with nested lists where the <code>C&lt;A&gt;</code> in my simplified example would be a a <code>List&lt;A&gt;</code>.</p>\n<p>Oracle highlights some <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\" rel=\"nofollow noreferrer\">limitations of generics</a>, but I can't find anything describing this issue and how to deal with it.</p>\n"},{"tags":["java","android","service","broadcastreceiver","foreground-service"],"owner":{"account_id":27718620,"reputation":1,"user_id":21159721,"display_name":"fff zakaria faghloumi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679763150,"creation_date":1679763150,"question_id":75843188,"body_markdown":"I am working on an android studio app to develop my knowledge, and I have a recycler view. I want to delete an item when the time is equal to the element in the item and send a notification to the user, so I worked with the foreground service, but it isn&#39;t working continuously to check every second the time.\r\n\r\nMake a service work continuously ","title":"Service in Android Studio","body":"<p>I am working on an android studio app to develop my knowledge, and I have a recycler view. I want to delete an item when the time is equal to the element in the item and send a notification to the user, so I worked with the foreground service, but it isn't working continuously to check every second the time.</p>\n<p>Make a service work continuously</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675446074,"post_id":75339131,"comment_id":132937996,"body_markdown":"is your repository actually a Spring Data repository?","body":"is your repository actually a Spring Data repository?"},{"owner":{"account_id":9760290,"reputation":463,"user_id":7235609,"display_name":"DariusNica"},"score":0,"creation_date":1675451312,"post_id":75339131,"comment_id":132939417,"body_markdown":"is a org.springframework.data.repository.reactive.ReactiveCrudRepository","body":"is a org.springframework.data.repository.reactive.ReactiveCrudRep&zwnj;&#8203;ository"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675449184,"creation_date":1675449184,"answer_id":75339750,"question_id":75339131,"body_markdown":"In reactive you need to build a flow using operators that will be evaluated when downstream (in your case webflux) subscribes to the flow. Result is not immediately available and you can&#39;t just concatenate it with a string. `reactiveDocumentRepository.findLastDocument()` is reactive and you need to use `flatMap` instead of `map`.\r\n\r\n```\r\npublic Flux getDocuments() {        \r\n\treturn Flux.interval(Duration.ofSeconds(1))    \r\n\t\t\t.flatMap(x -&gt; \r\n\t\t\t\t\treactiveDocumentRepository.findLastDocument()\r\n\t\t\t\t\t\t\t.map(d -&gt; &quot;document-&quot; + d.getDescription)\r\n\t\t\t);\r\n}\r\n```\r\n\r\n","title":"spring boot webflux query data in continuous flux","body":"<p>In reactive you need to build a flow using operators that will be evaluated when downstream (in your case webflux) subscribes to the flow. Result is not immediately available and you can't just concatenate it with a string. <code>reactiveDocumentRepository.findLastDocument()</code> is reactive and you need to use <code>flatMap</code> instead of <code>map</code>.</p>\n<pre><code>public Flux getDocuments() {        \n    return Flux.interval(Duration.ofSeconds(1))    \n            .flatMap(x -&gt; \n                    reactiveDocumentRepository.findLastDocument()\n                            .map(d -&gt; &quot;document-&quot; + d.getDescription)\n            );\n}\n</code></pre>\n"}],"owner":{"account_id":9760290,"reputation":463,"user_id":7235609,"display_name":"DariusNica"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75339750,"answer_count":1,"score":0,"last_activity_date":1679763079,"creation_date":1675445220,"question_id":75339131,"body_markdown":"having the following code that produces a continuous flux of random strings :\r\n\r\n    @RestController\r\n    public class WebFluxController {\r\n    \r\n    private final Random random = new Random();\r\n                      \r\n    @CrossOrigin         \r\n    @GetMapping(value = &quot;/documents&quot;)         \r\n    public Flux getDocuments() {                          \r\n            return Flux.interval(Duration.ofSeconds(1))     .map(x -&gt; &quot;document-&quot; + \r\n     random.nextDouble());         \r\n        }\r\n    }\r\n\r\n\r\n...how can I replace the random with a query to the database that will return a field of the last record, something like :\r\n\r\n    @RestController\r\n    public class WebFluxController {\r\n    \r\n    @Autowired\r\n    private ReactiveDocumentRepository reactiveDocumentRepository;\r\n    \r\n    @CrossOrigin     @GetMapping(value = &quot;/documents&quot;)     \r\n    public Flux getDocuments() {                  \r\n        return Flux.interval(Duration.ofSeconds(1))     .map(x -&gt; &quot;document-&quot; + \r\n     reactiveDocumentRepository.findLastDocument().map(d-&gt;d.getDescription);     \r\n            }\r\n        }\r\n    }\r\n\r\n...where \r\nreactiveDocumentRepository.findLastDocument() returns a mono containing last document inserted in the db? \r\nIn other words, I want that query to be ran continuously over the database and publish last inserted record all the time \r\n\r\n\r\n\r\n\r\n","title":"spring boot webflux query data in continuous flux","body":"<p>having the following code that produces a continuous flux of random strings :</p>\n<pre><code>@RestController\npublic class WebFluxController {\n\nprivate final Random random = new Random();\n                  \n@CrossOrigin         \n@GetMapping(value = &quot;/documents&quot;)         \npublic Flux getDocuments() {                          \n        return Flux.interval(Duration.ofSeconds(1))     .map(x -&gt; &quot;document-&quot; + \n random.nextDouble());         \n    }\n}\n</code></pre>\n<p>...how can I replace the random with a query to the database that will return a field of the last record, something like :</p>\n<pre><code>@RestController\npublic class WebFluxController {\n\n@Autowired\nprivate ReactiveDocumentRepository reactiveDocumentRepository;\n\n@CrossOrigin     @GetMapping(value = &quot;/documents&quot;)     \npublic Flux getDocuments() {                  \n    return Flux.interval(Duration.ofSeconds(1))     .map(x -&gt; &quot;document-&quot; + \n reactiveDocumentRepository.findLastDocument().map(d-&gt;d.getDescription);     \n        }\n    }\n}\n</code></pre>\n<p>...where\nreactiveDocumentRepository.findLastDocument() returns a mono containing last document inserted in the db?\nIn other words, I want that query to be ran continuously over the database and publish last inserted record all the time</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671209845,"creation_date":1648651182,"answer_id":71679321,"question_id":71671706,"body_markdown":"You need to construct the flow using reactive operators that will be executed when web flux subscribes to this flow. In this case use `request.bodyToMono` to resolve request body and the continue the sequence to construct `ServerResponse`  \r\n\r\n```\r\npublic Mono&lt;ServerResponse&gt; createSubject(ServerRequest request) {\r\n\t\treturn request.bodyToMono(Subject.class)\r\n\t\t\t\t.flatMap(subject -&gt; subjectRepository.save(subject))\r\n\t\t\t\t.flatMap(newSubject -&gt; \r\n\t\t\t\t\t\tServerResponse.ok()\r\n\t\t\t\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t\t\t\t.bodyValue(newSubject)\r\n\t\t\t\t);\r\n}\r\n``` ","title":"Save Mono with reactive repository","body":"<p>You need to construct the flow using reactive operators that will be executed when web flux subscribes to this flow. In this case use <code>request.bodyToMono</code> to resolve request body and the continue the sequence to construct <code>ServerResponse</code></p>\n<pre><code>public Mono&lt;ServerResponse&gt; createSubject(ServerRequest request) {\n        return request.bodyToMono(Subject.class)\n                .flatMap(subject -&gt; subjectRepository.save(subject))\n                .flatMap(newSubject -&gt; \n                        ServerResponse.ok()\n                            .contentType(MediaType.APPLICATION_JSON)\n                            .bodyValue(newSubject)\n                );\n}\n</code></pre>\n"}],"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71679321,"answer_count":1,"score":0,"last_activity_date":1679762783,"creation_date":1648616120,"question_id":71671706,"body_markdown":"I try to implement a reactive endpoint to save new entity instances:\r\n\r\nMethod save in `SubjectRepository` is still required `Subject` without `Mono` wrapper. But how to extract value from the reactive wrapper doesn&#39;t clear.\r\n\r\nShould I extract `Subject` from `Mono&lt;Subject&gt;` with `request.body(BodyExtractor)` and call `SubjectRepository.save(Subject s)`? Or I can somehow save `Mono&lt;&gt;` directly to MongoDB?\r\n\r\nThat is the right way to work with the input body? \r\n\r\nEntity:\r\n\r\n    @Document\r\n    public record Subject(@Id UUID id, String route) {}\r\n\r\n    @Repository\r\n    public interface SubjectRepository extends ReactiveMongoRepository&lt;Subject, UUID&gt; {\r\n    }\r\n\r\nHandler method:\r\n\r\n    @NotNull\r\n    public Mono&lt;ServerResponse&gt; createSubject(@NotNull ServerRequest request) {\r\n        Mono&lt;Subject&gt; data = subjectRepository\r\n                .save(/** Somehow extract Subject from request */);\r\n        return ServerResponse\r\n                .ok()\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(data, Subject.class);\r\n    }\r\n\r\n","title":"Save Mono with reactive repository","body":"<p>I try to implement a reactive endpoint to save new entity instances:</p>\n<p>Method save in <code>SubjectRepository</code> is still required <code>Subject</code> without <code>Mono</code> wrapper. But how to extract value from the reactive wrapper doesn't clear.</p>\n<p>Should I extract <code>Subject</code> from <code>Mono&lt;Subject&gt;</code> with <code>request.body(BodyExtractor)</code> and call <code>SubjectRepository.save(Subject s)</code>? Or I can somehow save <code>Mono&lt;&gt;</code> directly to MongoDB?</p>\n<p>That is the right way to work with the input body?</p>\n<p>Entity:</p>\n<pre><code>@Document\npublic record Subject(@Id UUID id, String route) {}\n\n@Repository\npublic interface SubjectRepository extends ReactiveMongoRepository&lt;Subject, UUID&gt; {\n}\n</code></pre>\n<p>Handler method:</p>\n<pre><code>@NotNull\npublic Mono&lt;ServerResponse&gt; createSubject(@NotNull ServerRequest request) {\n    Mono&lt;Subject&gt; data = subjectRepository\n            .save(/** Somehow extract Subject from request */);\n    return ServerResponse\n            .ok()\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(data, Subject.class);\n}\n</code></pre>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1679773125,"post_id":75843079,"comment_id":133782047,"body_markdown":"Imagine you have a budget of `N` and `N` different special items with price=1 in shopping cart, now we are adding new special item with price `N` into shopping cart, according to the rules we need to cancel all special items added previously - that can&#39;t be done in O(logN) because we need to enumerate all those items in order to produce output. What exactly should have O(logN) TC?","body":"Imagine you have a budget of <code>N</code> and <code>N</code> different special items with price=1 in shopping cart, now we are adding new special item with price <code>N</code> into shopping cart, according to the rules we need to cancel all special items added previously - that can&#39;t be done in O(logN) because we need to enumerate all those items in order to produce output. What exactly should have O(logN) TC?"}],"owner":{"account_id":13380970,"reputation":25,"user_id":9656247,"display_name":"Jason Hapyer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679762655,"creation_date":1679761991,"question_id":75843079,"body_markdown":"I was asked by a interviewer about the algorithm, but I can&#39;t figure out a better way to reduce time complexity to O(logn).\r\n\r\nHere is the problem:\r\n\r\nBob is buying things in a shopping mall with his son, his son is randomly choosing items and throw them into the shopping cart, Bob needs to make sure the total cost is below budget based on the limitations.\r\n\r\n\r\n1. There are two types of items: normal and special.\r\n2. Each item has 3 properties: price, amount, type(special or normal).\r\n3. Items are sorted into the shopping cart by price from high to low and the time the item was added. If two items have same price, then the one that is added earlier is sorted in front.\r\n4. If the shopping cart contains special items, then for each special item, the total cost of items sorted in front of the item and the item itself can&#39;t exceed the budget.\r\n5. When total cost exceeds the budget, special items shoule be cancelled or reduce its size, to make sure rule 4 is not violated.\r\n\r\nYou should write a algorithm with time complexity of O(logN).\r\n\r\nFor example:\r\n\r\nBudget 100:  \r\nThree items are added into the cart, and sorted:\r\n1. `A(price=50,size=1,normal)`\r\n2. `B(price=40,size=1,special)`\r\n3. `C(price=10,size=1,special)`\r\n\r\nThen another item is added:  \r\n`D(price=35,size=1,normal)`\r\n\r\nAfter D is added, items are sorted as: A B D C, because C is special item, so all the items sorted in front of C and C itself can&#39;t exceed the budget, so C is cancelled, and the items are:\r\nA B D, althrough B is also special item, it doesn&#39;t violate rule 4.\r\n\r\nNote: \r\n1. althrough the total cost of A B D exceeds the budget, but it&#39;s OK because D is normal item, and it doesn&#39;t need to comply with rule 4.\r\n2. the size in the example is 1, but it can also be other positive values.\r\n3. more than one special items may be reduced or cancelled.\r\n\r\nAnother example:\r\n\r\nBudget 100:  \r\nThree items are added into the cart, and sorted:\r\n1. `A(price=50,size=1,normal)`\r\n2. `B(price=40,size=1,normal)`\r\n3. `C(price=10,size=1,normal)`\r\n\r\nThen another item is added:  \r\n`D(price=9,size=1,special)`\r\n\r\nresult: D is cancelled, because it is sorted as the last one, and according to rule 4, it can&#39;t be added into the cart.\r\n\r\n\r\nInput:\r\n1. budget\r\n2. a new item\r\n\r\nOutput:\r\n1. all the special items being cancelled or reduced.\r\n\r\n\r\nWhen an item is added into the cart, I can sort the item into the list, and then iterate the list, calculate each item and its cost, if the cost exceeds the budget, I can cancal it or reduce its size.\r\n\r\nBut the problem is that it needs `O(n)` to do that, how can it be `O(logN)` or better?","title":"Algorithm: adjust shopping cart based on budget with time complexity O(logn)","body":"<p>I was asked by a interviewer about the algorithm, but I can't figure out a better way to reduce time complexity to O(logn).</p>\n<p>Here is the problem:</p>\n<p>Bob is buying things in a shopping mall with his son, his son is randomly choosing items and throw them into the shopping cart, Bob needs to make sure the total cost is below budget based on the limitations.</p>\n<ol>\n<li>There are two types of items: normal and special.</li>\n<li>Each item has 3 properties: price, amount, type(special or normal).</li>\n<li>Items are sorted into the shopping cart by price from high to low and the time the item was added. If two items have same price, then the one that is added earlier is sorted in front.</li>\n<li>If the shopping cart contains special items, then for each special item, the total cost of items sorted in front of the item and the item itself can't exceed the budget.</li>\n<li>When total cost exceeds the budget, special items shoule be cancelled or reduce its size, to make sure rule 4 is not violated.</li>\n</ol>\n<p>You should write a algorithm with time complexity of O(logN).</p>\n<p>For example:</p>\n<p>Budget 100:<br />\nThree items are added into the cart, and sorted:</p>\n<ol>\n<li><code>A(price=50,size=1,normal)</code></li>\n<li><code>B(price=40,size=1,special)</code></li>\n<li><code>C(price=10,size=1,special)</code></li>\n</ol>\n<p>Then another item is added:<br />\n<code>D(price=35,size=1,normal)</code></p>\n<p>After D is added, items are sorted as: A B D C, because C is special item, so all the items sorted in front of C and C itself can't exceed the budget, so C is cancelled, and the items are:\nA B D, althrough B is also special item, it doesn't violate rule 4.</p>\n<p>Note:</p>\n<ol>\n<li>althrough the total cost of A B D exceeds the budget, but it's OK because D is normal item, and it doesn't need to comply with rule 4.</li>\n<li>the size in the example is 1, but it can also be other positive values.</li>\n<li>more than one special items may be reduced or cancelled.</li>\n</ol>\n<p>Another example:</p>\n<p>Budget 100:<br />\nThree items are added into the cart, and sorted:</p>\n<ol>\n<li><code>A(price=50,size=1,normal)</code></li>\n<li><code>B(price=40,size=1,normal)</code></li>\n<li><code>C(price=10,size=1,normal)</code></li>\n</ol>\n<p>Then another item is added:<br />\n<code>D(price=9,size=1,special)</code></p>\n<p>result: D is cancelled, because it is sorted as the last one, and according to rule 4, it can't be added into the cart.</p>\n<p>Input:</p>\n<ol>\n<li>budget</li>\n<li>a new item</li>\n</ol>\n<p>Output:</p>\n<ol>\n<li>all the special items being cancelled or reduced.</li>\n</ol>\n<p>When an item is added into the cart, I can sort the item into the list, and then iterate the list, calculate each item and its cost, if the cost exceeds the budget, I can cancal it or reduce its size.</p>\n<p>But the problem is that it needs <code>O(n)</code> to do that, how can it be <code>O(logN)</code> or better?</p>\n"},{"tags":["java","java-stream","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":16346498,"reputation":52,"user_id":11806102,"display_name":"sk1030"},"score":0,"creation_date":1651811484,"post_id":72134737,"comment_id":127456866,"body_markdown":"Problem is not with Mono to Flux, The actual problem i think is with Steam&lt;String&gt; to String.\nIgnore Mono and Flux for a moment .\n\nHow are you going to convert Stream&lt;String&gt; to String first ?","body":"Problem is not with Mono to Flux, The actual problem i think is with Steam&lt;String&gt; to String. Ignore Mono and Flux for a moment .  How are you going to convert Stream&lt;String&gt; to String first ?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1651811570,"post_id":72134737,"comment_id":127456883,"body_markdown":"can you use `Flux.fromStream(...)`?","body":"can you use <code>Flux.fromStream(...)</code>?"},{"owner":{"account_id":16346498,"reputation":52,"user_id":11806102,"display_name":"sk1030"},"score":0,"creation_date":1651811857,"post_id":72134737,"comment_id":127456934,"body_markdown":"@Alex , i don&#39;t think it solves the problem, Flux.fromStream accepts Stream as input not Mono&lt;Stream&lt;Obj&gt;&gt;.","body":"@Alex , i don&#39;t think it solves the problem, Flux.fromStream accepts Stream as input not Mono&lt;Stream&lt;Obj&gt;&gt;."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651812122,"creation_date":1651812122,"answer_id":72136269,"question_id":72134737,"body_markdown":"Not sure what is the idea behind `Mono&lt;Stream&lt;String&gt;&gt;` but assuming you are getting it from another method you could do something like\r\n\r\n```\r\nFlux&lt;String&gt; authorities = authoritiesStream\r\n\t.flatMapMany(stream -&gt; Flux.fromStream(stream));\r\n``` \r\n\r\n","title":"Convert Mono&lt;Stream&lt;String&gt;&gt; to Flux&lt;String&gt;","body":"<p>Not sure what is the idea behind <code>Mono&lt;Stream&lt;String&gt;&gt;</code> but assuming you are getting it from another method you could do something like</p>\n<pre><code>Flux&lt;String&gt; authorities = authoritiesStream\n    .flatMapMany(stream -&gt; Flux.fromStream(stream));\n</code></pre>\n"}],"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72136269,"answer_count":1,"score":1,"last_activity_date":1679762655,"creation_date":1651794712,"question_id":72134737,"body_markdown":"I have a Mono like this `Mono&lt;Stream&lt;String&gt;&gt;` and I want to convert it to a Flux like this `Flux&lt;String&gt;`. &lt;br/&gt;In my junior mind I think it should be simple because `Mono&lt;Stream&lt;String&gt;&gt;` is the &quot;hope&quot; for a String and `Flux&lt;String&gt;` is also the &quot;hope&quot; of a String, therefore there should be a simple operator to do the conversion.&lt;br/&gt;\r\nI am new to Spring boot webflux, so if there is an operator for this query just show me or tell me why such operation is not possible.\r\n\r\n```\r\nMono&lt;Stream&lt;String&gt;&gt; authoritiesStream = Mono.just(Stream.of(&quot;&quot;));\r\n\t\t\r\nFlux&lt;String&gt; authorities = authoritiesStream.???\r\n```\r\n\r\nI don&#39;t want to collect() the stream and use `flatMapIterable()` to do the conversion because collecting would imply that I have lost my asynch edge. Please teach me\r\n&lt;br/&gt;\r\nThank you in advance.","title":"Convert Mono&lt;Stream&lt;String&gt;&gt; to Flux&lt;String&gt;","body":"<p>I have a Mono like this <code>Mono&lt;Stream&lt;String&gt;&gt;</code> and I want to convert it to a Flux like this <code>Flux&lt;String&gt;</code>. <br/>In my junior mind I think it should be simple because <code>Mono&lt;Stream&lt;String&gt;&gt;</code> is the &quot;hope&quot; for a String and <code>Flux&lt;String&gt;</code> is also the &quot;hope&quot; of a String, therefore there should be a simple operator to do the conversion.<br/>\nI am new to Spring boot webflux, so if there is an operator for this query just show me or tell me why such operation is not possible.</p>\n<pre><code>Mono&lt;Stream&lt;String&gt;&gt; authoritiesStream = Mono.just(Stream.of(&quot;&quot;));\n        \nFlux&lt;String&gt; authorities = authoritiesStream.???\n</code></pre>\n<p>I don't want to collect() the stream and use <code>flatMapIterable()</code> to do the conversion because collecting would imply that I have lost my asynch edge. Please teach me\n<br/>\nThank you in advance.</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649429378,"creation_date":1649367728,"answer_id":71789245,"question_id":71788973,"body_markdown":"There are several options to stream data from the server using WebFlux:\r\n\r\n- **Server-sent events** pushing individual events (media type: `text/event-stream`)\r\n- **Streaming events** separated by newlines (media type: `application/x-ndjson`)\r\n\r\n\r\nHere is a complete example that exposes both `text/event-stream` &amp; `application/x-ndjson` endpoints and returns data in `json` format.\r\nIf you need plain text content - use `text/event-stream`.\r\n\r\n\r\n```\r\n@RestController\r\npublic class StreamingController {\r\n\r\n    @GetMapping(produces = TEXT_EVENT_STREAM_VALUE)\r\n    Flux&lt;DataEntry&gt; sse() {\r\n        return stream();\r\n    }\r\n\r\n    @GetMapping(produces = APPLICATION_NDJSON_VALUE)\r\n    Flux&lt;DataEntry&gt; ndjson() {\r\n        return stream();\r\n    }\r\n\r\n    private Flux&lt;DataEntry&gt; stream() {\r\n        return Flux.range(1, 1000)\r\n                .delayElements(Duration.ofSeconds(1))\r\n                .map(i -&gt; new DataEntry(i, Instant.now()));\r\n    }\r\n\r\n    @Value\r\n    @Builder\r\n    private static class DataEntry {\r\n        long index;\r\n        Instant timestamp;\r\n    }\r\n}\r\n```\r\n\r\nTo test `text/event-stream` use:\r\n\r\n`curl -v -H &quot;Accept: text/event-stream&quot; http://localhost:8080`\r\n```\r\n&gt; GET / HTTP/1.1\r\n&gt; Host: localhost:8080\r\n&gt; User-Agent: curl/7.64.1\r\n&gt; Accept: text/event-stream\r\n&gt; \r\n&lt; HTTP/1.1 200 OK\r\n&lt; transfer-encoding: chunked\r\n&lt; Content-Type: text/event-stream;charset=UTF-8\r\n&lt; \r\ndata:{&quot;index&quot;:1,&quot;timestamp&quot;:&quot;2022-04-08T14:41:06.513352Z&quot;}\r\n\r\ndata:{&quot;index&quot;:2,&quot;timestamp&quot;:&quot;2022-04-08T14:41:07.527817Z&quot;}\r\n\r\ndata:{&quot;index&quot;:3,&quot;timestamp&quot;:&quot;2022-04-08T14:41:08.541706Z&quot;}\r\n\r\ndata:{&quot;index&quot;:4,&quot;timestamp&quot;:&quot;2022-04-08T14:41:09.553329Z&quot;}\r\n\r\n```\r\n\r\nTo test `application/x-ndjson` use:\r\n\r\n`curl -v -H &quot;Accept: application/x-ndjson&quot; http://localhost:8080`\r\n\r\n```\r\n&gt; GET / HTTP/1.1\r\n&gt; Host: localhost:8080\r\n&gt; User-Agent: curl/7.64.1\r\n&gt; Accept: application/x-ndjson\r\n&gt;\r\n&lt; HTTP/1.1 200 OK\r\n&lt; transfer-encoding: chunked\r\n&lt; Content-Type: application/x-ndjson\r\n&lt; \r\n{&quot;index&quot;:1,&quot;timestamp&quot;:&quot;2022-04-08T14:42:36.081269Z&quot;}\r\n{&quot;index&quot;:2,&quot;timestamp&quot;:&quot;2022-04-08T14:42:37.094928Z&quot;}\r\n{&quot;index&quot;:3,&quot;timestamp&quot;:&quot;2022-04-08T14:42:38.109378Z&quot;}\r\n{&quot;index&quot;:4,&quot;timestamp&quot;:&quot;2022-04-08T14:42:39.121315Z&quot;}\r\n\r\n```\r\n\r\nThe above example will produce 1000 records with 1 seconds interval. You could also generate unbounded streams using something like\r\n\r\n```\r\nprivate Flux&lt;DataEntry&gt; stream() {\r\n    return Flux.interval(Duration.ofSeconds(1))\r\n            .map(i -&gt; new DataEntry(i, Instant.now()));\r\n}\r\n```\r\n","title":"How to stream data from the server using WebFlux","body":"<p>There are several options to stream data from the server using WebFlux:</p>\n<ul>\n<li><strong>Server-sent events</strong> pushing individual events (media type: <code>text/event-stream</code>)</li>\n<li><strong>Streaming events</strong> separated by newlines (media type: <code>application/x-ndjson</code>)</li>\n</ul>\n<p>Here is a complete example that exposes both <code>text/event-stream</code> &amp; <code>application/x-ndjson</code> endpoints and returns data in <code>json</code> format.\nIf you need plain text content - use <code>text/event-stream</code>.</p>\n<pre><code>@RestController\npublic class StreamingController {\n\n    @GetMapping(produces = TEXT_EVENT_STREAM_VALUE)\n    Flux&lt;DataEntry&gt; sse() {\n        return stream();\n    }\n\n    @GetMapping(produces = APPLICATION_NDJSON_VALUE)\n    Flux&lt;DataEntry&gt; ndjson() {\n        return stream();\n    }\n\n    private Flux&lt;DataEntry&gt; stream() {\n        return Flux.range(1, 1000)\n                .delayElements(Duration.ofSeconds(1))\n                .map(i -&gt; new DataEntry(i, Instant.now()));\n    }\n\n    @Value\n    @Builder\n    private static class DataEntry {\n        long index;\n        Instant timestamp;\n    }\n}\n</code></pre>\n<p>To test <code>text/event-stream</code> use:</p>\n<p><code>curl -v -H &quot;Accept: text/event-stream&quot; http://localhost:8080</code></p>\n<pre><code>&gt; GET / HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.64.1\n&gt; Accept: text/event-stream\n&gt; \n&lt; HTTP/1.1 200 OK\n&lt; transfer-encoding: chunked\n&lt; Content-Type: text/event-stream;charset=UTF-8\n&lt; \ndata:{&quot;index&quot;:1,&quot;timestamp&quot;:&quot;2022-04-08T14:41:06.513352Z&quot;}\n\ndata:{&quot;index&quot;:2,&quot;timestamp&quot;:&quot;2022-04-08T14:41:07.527817Z&quot;}\n\ndata:{&quot;index&quot;:3,&quot;timestamp&quot;:&quot;2022-04-08T14:41:08.541706Z&quot;}\n\ndata:{&quot;index&quot;:4,&quot;timestamp&quot;:&quot;2022-04-08T14:41:09.553329Z&quot;}\n\n</code></pre>\n<p>To test <code>application/x-ndjson</code> use:</p>\n<p><code>curl -v -H &quot;Accept: application/x-ndjson&quot; http://localhost:8080</code></p>\n<pre><code>&gt; GET / HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.64.1\n&gt; Accept: application/x-ndjson\n&gt;\n&lt; HTTP/1.1 200 OK\n&lt; transfer-encoding: chunked\n&lt; Content-Type: application/x-ndjson\n&lt; \n{&quot;index&quot;:1,&quot;timestamp&quot;:&quot;2022-04-08T14:42:36.081269Z&quot;}\n{&quot;index&quot;:2,&quot;timestamp&quot;:&quot;2022-04-08T14:42:37.094928Z&quot;}\n{&quot;index&quot;:3,&quot;timestamp&quot;:&quot;2022-04-08T14:42:38.109378Z&quot;}\n{&quot;index&quot;:4,&quot;timestamp&quot;:&quot;2022-04-08T14:42:39.121315Z&quot;}\n\n</code></pre>\n<p>The above example will produce 1000 records with 1 seconds interval. You could also generate unbounded streams using something like</p>\n<pre><code>private Flux&lt;DataEntry&gt; stream() {\n    return Flux.interval(Duration.ofSeconds(1))\n            .map(i -&gt; new DataEntry(i, Instant.now()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24202428,"reputation":11,"user_id":18376331,"display_name":"lol"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1650123259,"creation_date":1650123259,"answer_id":71895214,"question_id":71788973,"body_markdown":"What I was looking for is Http Streaming, furthermore note that Safari as well as Postman and axios (js lib - I used it in my frontend part) doesn&#39;t support http streaming so you cant see your output to appear as soon as one of the results are ready (only all results in 1 response), try it in Chrome.\r\n\r\nAlso if you struggle with  **frontend part** as I did, try to search for SSE - server-sent-events, for example this:\r\nhttps://turkogluc.com/server-sent-events-with-spring-boot-and-reactjs/\r\n\r\nhope this will help\r\n ","title":"How to stream data from the server using WebFlux","body":"<p>What I was looking for is Http Streaming, furthermore note that Safari as well as Postman and axios (js lib - I used it in my frontend part) doesn't support http streaming so you cant see your output to appear as soon as one of the results are ready (only all results in 1 response), try it in Chrome.</p>\n<p>Also if you struggle with  <strong>frontend part</strong> as I did, try to search for SSE - server-sent-events, for example this:\n<a href=\"https://turkogluc.com/server-sent-events-with-spring-boot-and-reactjs/\" rel=\"nofollow noreferrer\">https://turkogluc.com/server-sent-events-with-spring-boot-and-reactjs/</a></p>\n<p>hope this will help</p>\n"}],"owner":{"account_id":24202428,"reputation":11,"user_id":18376331,"display_name":"lol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71895214,"answer_count":2,"score":1,"last_activity_date":1679762590,"creation_date":1649365909,"question_id":71788973,"body_markdown":"My task is to simply make controller that gives me results immediately when they are ready (simple example below)\r\n\r\n## Imagine: ##\r\nI want to get the exact number of Strings (for example 1000 Strings that are somehow made for ***1 second***)\r\n(actually I need to get result of func but to simplify the task just Strings)\r\n\r\nSo when I get some request in my controller I want it to give answers ***as soon as they are ready*** (without buffering results) in that way:\r\n\r\n## What I want is: ##\r\n\r\n1 second\r\n\r\n&quot;some string&quot; -&gt; (send response to my frontend)\r\n\r\n1 second\r\n\r\n&quot;another one&quot; -&gt; (send response to my frontend)\r\n\r\n1 second\r\n\r\n&quot;third one&quot; -&gt; (send response to my frontend)\r\n....\r\n\r\n## But what I get is: ##\r\n\r\n1000 seconds\r\n\r\n\r\n&quot;some string&quot;\r\n\r\n.....\r\n\r\n\r\n&quot;thousand strings&quot;\r\n\r\nHere is my code:\r\n\r\n```    \r\n@GetMapping(value = &quot;/3&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\npublic Flux&lt;String&gt; get3() {\r\n        System.out.println(&quot;get3 start&quot;);\r\n        Flux&lt;String&gt; result = Flux.fromStream(IntStream.range(1, 10).mapToObj(i -&gt; {\r\n            try {\r\n                TimeUnit.SECONDS.sleep(1);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return &quot;flux data--&quot; + i;\r\n        }));\r\n        System.out.println(&quot;get3 end&quot;);\r\n        return result;\r\n\r\n    }\r\n```\r\nActually in my console I get\r\n\r\n &quot;get3 start&quot; and &quot;get3 end&quot; immediately\r\nbut response only goes after all strings are ready\r\n\r\n\r\nMy actual service for this task is similar (but I merge 2 Flux here) and I get Flux which is formed by interval so I want it to give me results as soon as they appear\r\n\r\n\r\n```\r\npublic Flux&lt;AnswerCalculationDto&gt; calculate(CalculationDto calculationDto){\r\n        String checkMsg = checkCalculationDto(calculationDto);\r\n        if(checkMsg.equals(&quot;Success&quot;)){//valid\r\n            Long quantity = Long.parseLong(calculationDto.getQuantity());\r\n\r\n            Flux&lt;AnswerCalculationDto&gt; firstFunc =  Flux.interval(interval)//func 1\r\n                    .onBackpressureDrop()\r\n                    .takeWhile((i)-&gt; i &lt; quantity)\r\n                    .map((i)-&gt;new AnswerCalculationDto(i,1,translateToJava(calculationDto.getFunc1(),i)))\r\n                    ;\r\n            Flux&lt;AnswerCalculationDto&gt; secondFunc = Flux.interval(interval) //func 2\r\n                    .onBackpressureDrop()\r\n                    .takeUntil((i)-&gt; i &gt; quantity-2)\r\n                    .map((i)-&gt;new AnswerCalculationDto(i,2,translateToJava(calculationDto.getFunc2(),i)) )\r\n                    ;\r\n            return Flux.merge(firstFunc,secondFunc);\r\n        }\r\n        else {//invalid data from client\r\n            return Flux.just(new AnswerCalculationDto(&quot;&quot;,checkMsg));\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\n","title":"How to stream data from the server using WebFlux","body":"<p>My task is to simply make controller that gives me results immediately when they are ready (simple example below)</p>\n<h2>Imagine:</h2>\n<p>I want to get the exact number of Strings (for example 1000 Strings that are somehow made for <em><strong>1 second</strong></em>)\n(actually I need to get result of func but to simplify the task just Strings)</p>\n<p>So when I get some request in my controller I want it to give answers <em><strong>as soon as they are ready</strong></em> (without buffering results) in that way:</p>\n<h2>What I want is:</h2>\n<p>1 second</p>\n<p>&quot;some string&quot; -&gt; (send response to my frontend)</p>\n<p>1 second</p>\n<p>&quot;another one&quot; -&gt; (send response to my frontend)</p>\n<p>1 second</p>\n<p>&quot;third one&quot; -&gt; (send response to my frontend)\n....</p>\n<h2>But what I get is:</h2>\n<p>1000 seconds</p>\n<p>&quot;some string&quot;</p>\n<p>.....</p>\n<p>&quot;thousand strings&quot;</p>\n<p>Here is my code:</p>\n<pre><code>@GetMapping(value = &quot;/3&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;String&gt; get3() {\n        System.out.println(&quot;get3 start&quot;);\n        Flux&lt;String&gt; result = Flux.fromStream(IntStream.range(1, 10).mapToObj(i -&gt; {\n            try {\n                TimeUnit.SECONDS.sleep(1);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            return &quot;flux data--&quot; + i;\n        }));\n        System.out.println(&quot;get3 end&quot;);\n        return result;\n\n    }\n</code></pre>\n<p>Actually in my console I get</p>\n<p>&quot;get3 start&quot; and &quot;get3 end&quot; immediately\nbut response only goes after all strings are ready</p>\n<p>My actual service for this task is similar (but I merge 2 Flux here) and I get Flux which is formed by interval so I want it to give me results as soon as they appear</p>\n<pre><code>public Flux&lt;AnswerCalculationDto&gt; calculate(CalculationDto calculationDto){\n        String checkMsg = checkCalculationDto(calculationDto);\n        if(checkMsg.equals(&quot;Success&quot;)){//valid\n            Long quantity = Long.parseLong(calculationDto.getQuantity());\n\n            Flux&lt;AnswerCalculationDto&gt; firstFunc =  Flux.interval(interval)//func 1\n                    .onBackpressureDrop()\n                    .takeWhile((i)-&gt; i &lt; quantity)\n                    .map((i)-&gt;new AnswerCalculationDto(i,1,translateToJava(calculationDto.getFunc1(),i)))\n                    ;\n            Flux&lt;AnswerCalculationDto&gt; secondFunc = Flux.interval(interval) //func 2\n                    .onBackpressureDrop()\n                    .takeUntil((i)-&gt; i &gt; quantity-2)\n                    .map((i)-&gt;new AnswerCalculationDto(i,2,translateToJava(calculationDto.getFunc2(),i)) )\n                    ;\n            return Flux.merge(firstFunc,secondFunc);\n        }\n        else {//invalid data from client\n            return Flux.just(new AnswerCalculationDto(&quot;&quot;,checkMsg));\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679762513,"creation_date":1566159179,"answer_id":57548042,"question_id":57541620,"body_markdown":"Confluent maintains tutorials for exactly this use case: https://docs.confluent.io/platform/current/tutorials/examples/clients/docs/java-springboot.html\r\n\r\n---\r\n\r\nYou&#39;re currently using only JSON, not &quot;JSON schema&quot;. To use Avro easily with your current setup, you&#39;d have to import the Jackson **Avro** data format `Objectmapper`. \r\n\r\nhttps://github.com/FasterXML/jackson-dataformats-binary/blob/master/avro/README.md\r\n\r\n**Alternatively** (recommended) you can install/run the Confluent Schema Registry and use their serializers without having to write your own for every object class you want. Confluent provides `KafkaAvroSerializer` class for this purpose so you don&#39;t need to implement your own. \r\n\r\nTo actually use the AVSC, you will need to read the file from the filesystem to create a Schema object, or can use the Avro Gradle Plugin to have it generate a object class for you rather than you writing one manually, which will have the schema embedded as a variable. https://github.com/commercehub-oss/gradle-avro-plugin\r\n\r\nThe Confluent examples use the Avro Maven plugin, but the idea would be similar. \r\n\r\nhttps://docs.confluent.io/current/schema-registry/schema_registry_tutorial.html#example-producer-code\r\n\r\nNote that using the Jackson Avro encoded messages are not compatible with Confluent ones, as the Confluent serialized messages do not contain any Avro schema themselves, so you cannot mix those (de)serializers ","title":"How to use Avro serialization with Spring-Kafka","body":"<p>Confluent maintains tutorials for exactly this use case: <a href=\"https://docs.confluent.io/platform/current/tutorials/examples/clients/docs/java-springboot.html\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/tutorials/examples/clients/docs/java-springboot.html</a></p>\n<hr />\n<p>You're currently using only JSON, not &quot;JSON schema&quot;. To use Avro easily with your current setup, you'd have to import the Jackson <strong>Avro</strong> data format <code>Objectmapper</code>.</p>\n<p><a href=\"https://github.com/FasterXML/jackson-dataformats-binary/blob/master/avro/README.md\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformats-binary/blob/master/avro/README.md</a></p>\n<p><strong>Alternatively</strong> (recommended) you can install/run the Confluent Schema Registry and use their serializers without having to write your own for every object class you want. Confluent provides <code>KafkaAvroSerializer</code> class for this purpose so you don't need to implement your own.</p>\n<p>To actually use the AVSC, you will need to read the file from the filesystem to create a Schema object, or can use the Avro Gradle Plugin to have it generate a object class for you rather than you writing one manually, which will have the schema embedded as a variable. <a href=\"https://github.com/commercehub-oss/gradle-avro-plugin\" rel=\"nofollow noreferrer\">https://github.com/commercehub-oss/gradle-avro-plugin</a></p>\n<p>The Confluent examples use the Avro Maven plugin, but the idea would be similar.</p>\n<p><a href=\"https://docs.confluent.io/current/schema-registry/schema_registry_tutorial.html#example-producer-code\" rel=\"nofollow noreferrer\">https://docs.confluent.io/current/schema-registry/schema_registry_tutorial.html#example-producer-code</a></p>\n<p>Note that using the Jackson Avro encoded messages are not compatible with Confluent ones, as the Confluent serialized messages do not contain any Avro schema themselves, so you cannot mix those (de)serializers</p>\n"}],"owner":{"account_id":3670323,"reputation":1,"user_id":3057769,"accept_rate":0,"display_name":"shrikant.sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679762513,"creation_date":1566101989,"question_id":57541620,"body_markdown":"I am trying to learn Kafka and now Avro, To keep consistency between the sender object and receiver object, we keep a JSON schema (.avsc). but I am not able to find any simple example of how to use it. some example is using confluent (is confluent mandate for Avro), some are generating object via Avro tool.\r\nso far I have a working Kafka setup.\r\n\r\n&gt; Object class\r\n\r\n    package com.example.kafka;\r\n    public class Hello {\r\n    String name;\r\n    String age;\r\n    public Hello(String name, String age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Hello{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, date=&#39;&quot; + age + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public String getAge() {\r\n        return age;\r\n    }\r\n    public void setAge(String age) {\r\n        this.age = age;\r\n    }\r\n}\r\n\r\n\r\n&gt; Controler Class\r\n\r\n        package com.example.kafka;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    class KafkaController {\r\n        @Autowired\r\n        KafkaService kafkaService;\r\n        @GetMapping(&quot;test&quot;)\r\n        public Hello hello() {\r\n            Hello hello = new Hello(&quot;shrikant&quot;, &quot;25&quot;);\r\n            kafkaService.hello(hello);\r\n            return hello;\r\n        }\r\n    }\r\n\r\n&gt; Main Application\r\n\r\n\r\n    package com.example.kafka;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    public class KafkaDemoApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(KafkaDemoApplication.class, args);\r\n        }\r\n    }\r\n\r\n&gt; KafkaProducerConfig\r\n\r\n    package com.example.kafka;\r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.common.serialization.StringSerializer;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.core.DefaultKafkaProducerFactory;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.kafka.core.ProducerFactory;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n        @Bean\r\n        public Map&lt;String, Object&gt; producerConfigs() {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n            props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaSerializer.class);\r\n            return props;\r\n        }\r\n        @Bean\r\n        public ProducerFactory&lt;String, Hello&gt; producerFactory() {\r\n            return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n        }\r\n        @Bean\r\n        public KafkaTemplate&lt;String, Hello&gt; kafkaTemplate() {\r\n            return new KafkaTemplate&lt;&gt;(producerFactory());\r\n        }\r\n    }\r\n\r\n&gt; KafkaSerializer\r\n\r\n    package com.example.kafka;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.apache.kafka.common.serialization.Serializer;\r\n    import java.util.Map;\r\n    public class KafkaSerializer implements Serializer&lt;Hello&gt; {\r\n        @Override\r\n        public byte[] serialize(String arg0, Hello developer) {\r\n            byte[] serializedBytes = null;\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            try {\r\n                serializedBytes = objectMapper.writeValueAsString(developer).getBytes();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return serializedBytes;\r\n        }\r\n        @Override\r\n        public void close() {\r\n            // TODO Auto-generated method stub\r\n        }\r\n        @Override\r\n        public void configure(Map&lt;String, ?&gt; arg0, boolean arg1) {\r\n            // TODO Auto-generated method stub\r\n        }\r\n    }\r\n\r\n&gt; KafkaService\r\n\r\n    package com.example.kafka;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.stereotype.Service;\r\n    @Service\r\n    public class KafkaService {\r\n        @Autowired\r\n        private KafkaTemplate&lt;String, Hello&gt; kafkaTemplate;\r\n        public void hello(Hello hello) {\r\n            kafkaTemplate.send(&quot;test&quot;, hello);\r\n        }\r\n    }\r\n\r\n&gt; Hello.avsc\r\n\r\n    {&quot;namespace&quot;: &quot;com.example.kafka&quot;,\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;Hello&quot;,\r\n      &quot;fields&quot;: [\r\n        {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},\r\n        {&quot;name&quot;: &quot;age&quot;,  &quot;type&quot;: &quot;string&quot;},\r\n      ]\r\n    }\r\n\r\n&gt; build.gradle\r\n\r\n        buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;org.springframework.boot:spring-boot-gradle-plugin:1.5.21.RELEASE&#39;\r\n        }\r\n    }\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    group = &#39;com.example.kafka&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    ext {\r\n        set(&#39;spring-kafka.version&#39;, &quot;2.2.8.RELEASE&quot;)\r\n    }\r\n    dependencies {\r\n        compile &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        compile &#39;org.springframework.kafka:spring-kafka&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    }\r\n\r\nit&#39;s working setup and I am able to send and receive data, what changes I need to make in order to get Avro working.","title":"How to use Avro serialization with Spring-Kafka","body":"<p>I am trying to learn Kafka and now Avro, To keep consistency between the sender object and receiver object, we keep a JSON schema (.avsc). but I am not able to find any simple example of how to use it. some example is using confluent (is confluent mandate for Avro), some are generating object via Avro tool.\nso far I have a working Kafka setup.</p>\n\n<blockquote>\n  <p>Object class</p>\n</blockquote>\n\n<pre><code>package com.example.kafka;\npublic class Hello {\nString name;\nString age;\npublic Hello(String name, String age) {\n    this.name = name;\n    this.age = age;\n}\n@Override\npublic String toString() {\n    return \"Hello{\" +\n            \"name='\" + name + '\\'' +\n            \", date='\" + age + '\\'' +\n            '}';\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic String getAge() {\n    return age;\n}\npublic void setAge(String age) {\n    this.age = age;\n}\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p>Controler Class</p>\n</blockquote>\n\n<pre><code>    package com.example.kafka;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n@RestController\n@RequestMapping(\"/\")\nclass KafkaController {\n    @Autowired\n    KafkaService kafkaService;\n    @GetMapping(\"test\")\n    public Hello hello() {\n        Hello hello = new Hello(\"shrikant\", \"25\");\n        kafkaService.hello(hello);\n        return hello;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Main Application</p>\n</blockquote>\n\n<pre><code>package com.example.kafka;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n@SpringBootApplication\n@EnableAutoConfiguration\npublic class KafkaDemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(KafkaDemoApplication.class, args);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>KafkaProducerConfig</p>\n</blockquote>\n\n<pre><code>package com.example.kafka;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\nimport java.util.HashMap;\nimport java.util.Map;\n@Configuration\npublic class KafkaProducerConfig {\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaSerializer.class);\n        return props;\n    }\n    @Bean\n    public ProducerFactory&lt;String, Hello&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n    }\n    @Bean\n    public KafkaTemplate&lt;String, Hello&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>KafkaSerializer</p>\n</blockquote>\n\n<pre><code>package com.example.kafka;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.apache.kafka.common.serialization.Serializer;\nimport java.util.Map;\npublic class KafkaSerializer implements Serializer&lt;Hello&gt; {\n    @Override\n    public byte[] serialize(String arg0, Hello developer) {\n        byte[] serializedBytes = null;\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            serializedBytes = objectMapper.writeValueAsString(developer).getBytes();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return serializedBytes;\n    }\n    @Override\n    public void close() {\n        // TODO Auto-generated method stub\n    }\n    @Override\n    public void configure(Map&lt;String, ?&gt; arg0, boolean arg1) {\n        // TODO Auto-generated method stub\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>KafkaService</p>\n</blockquote>\n\n<pre><code>package com.example.kafka;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.stereotype.Service;\n@Service\npublic class KafkaService {\n    @Autowired\n    private KafkaTemplate&lt;String, Hello&gt; kafkaTemplate;\n    public void hello(Hello hello) {\n        kafkaTemplate.send(\"test\", hello);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Hello.avsc</p>\n</blockquote>\n\n<pre><code>{\"namespace\": \"com.example.kafka\",\n  \"type\": \"record\",\n  \"name\": \"Hello\",\n  \"fields\": [\n    {\"name\": \"name\", \"type\": \"string\"},\n    {\"name\": \"age\",  \"type\": \"string\"},\n  ]\n}\n</code></pre>\n\n<blockquote>\n  <p>build.gradle</p>\n</blockquote>\n\n<pre><code>    buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'org.springframework.boot:spring-boot-gradle-plugin:1.5.21.RELEASE'\n    }\n}\nplugins {\n    id 'java'\n}\napply plugin: 'org.springframework.boot'\ngroup = 'com.example.kafka'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\nrepositories {\n    mavenCentral()\n}\next {\n    set('spring-kafka.version', \"2.2.8.RELEASE\")\n}\ndependencies {\n    compile 'org.springframework.boot:spring-boot-starter'\n    compile 'org.springframework.kafka:spring-kafka'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n}\n</code></pre>\n\n<p>it's working setup and I am able to send and receive data, what changes I need to make in order to get Avro working.</p>\n"},{"tags":["java","binary","base64"],"comments":[{"owner":{"account_id":280439,"reputation":48160,"user_id":576139,"accept_rate":100,"display_name":"Chris Eberle"},"score":0,"creation_date":1322980326,"post_id":8373729,"comment_id":10333261,"body_markdown":"Web-based tools really aren&#39;t good at binary i/o. Does it have to be web-based?","body":"Web-based tools really aren&#39;t good at binary i/o. Does it have to be web-based?"},{"owner":{"display_name":"user180100"},"score":1,"creation_date":1322980350,"post_id":8373729,"comment_id":10333263,"body_markdown":"using http://commons.apache.org/codec/api-release/org/apache/commons/codec/binary/Base64.html ?","body":"using <a href=\"http://commons.apache.org/codec/api-release/org/apache/commons/codec/binary/Base64.html\" rel=\"nofollow noreferrer\">commons.apache.org/codec/api-release/org/apache/commons/code&zwnj;&#8203;c/&hellip;</a> ?"},{"owner":{"account_id":157119,"reputation":477,"user_id":374841,"accept_rate":64,"display_name":"Dave"},"score":0,"creation_date":1322982537,"post_id":8373729,"comment_id":10333435,"body_markdown":"It doesn&#39;t have to be web-based. I&#39;m just trying to figure each step out and what I&#39;d have to do.","body":"It doesn&#39;t have to be web-based. I&#39;m just trying to figure each step out and what I&#39;d have to do."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1322980215,"creation_date":1322980215,"answer_id":8373752,"question_id":8373729,"body_markdown":"The problem of using those online tools isn&#39;t going to be in the base64 conversion - it&#39;s going to be parsing the hex string into a byte array to start with. In your real code that won&#39;t be a problem, as it&#39;ll be the output of another stage. Just to prove that, here&#39;s some sample Java code, using a [public domain base64 encoder][1]:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n            byte[] data = { (byte) 0xB6, (byte) 0x79, (byte) 0xC0, (byte) 0xAF, \r\n                    (byte) 0x18, (byte) 0xF4, (byte) 0xE9, (byte) 0xC5, \r\n                    (byte) 0x87, (byte) 0xAB, (byte) 0x8E, (byte) 0x20, \r\n                    (byte) 0x0A, (byte) 0xCD, (byte) 0x4E, (byte) 0x48, \r\n                    (byte) 0xA9, (byte) 0x3F, (byte) 0x8C, (byte) 0xB6 };\r\n            \r\n            String text = Base64.encodeBytes(data);\r\n            System.out.println(text);\r\n        }\r\n    }\r\n\r\nOutput: tnnArxj06cWHq44gCs1OSKk/jLY=\r\n\r\n\r\n\r\n  [1]: http://iharder.sourceforge.net/current/java/base64/","title":"How to convert a &quot;binary string&quot; to base64?","body":"<p>The problem of using those online tools isn't going to be in the base64 conversion - it's going to be parsing the hex string into a byte array to start with. In your real code that won't be a problem, as it'll be the output of another stage. Just to prove that, here's some sample Java code, using a <a href=\"http://iharder.sourceforge.net/current/java/base64/\">public domain base64 encoder</a>:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) throws Exception {\n        byte[] data = { (byte) 0xB6, (byte) 0x79, (byte) 0xC0, (byte) 0xAF, \n                (byte) 0x18, (byte) 0xF4, (byte) 0xE9, (byte) 0xC5, \n                (byte) 0x87, (byte) 0xAB, (byte) 0x8E, (byte) 0x20, \n                (byte) 0x0A, (byte) 0xCD, (byte) 0x4E, (byte) 0x48, \n                (byte) 0xA9, (byte) 0x3F, (byte) 0x8C, (byte) 0xB6 };\n\n        String text = Base64.encodeBytes(data);\n        System.out.println(text);\n    }\n}\n</code></pre>\n\n<p>Output: tnnArxj06cWHq44gCs1OSKk/jLY=</p>\n"},{"tags":[],"owner":{"account_id":16531580,"reputation":31,"user_id":12384422,"display_name":"Data Dad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643204946,"creation_date":1643178682,"answer_id":70859362,"question_id":8373729,"body_markdown":"You can use this link to convert Binary String to Base64\r\nhttps://cryptii.com/pipes/binary-to-text\r\n\r\nHere is an example of converting Binary String to Base64 String:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is another example of converting Normal String to Base64 String\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LH6lX.png\r\n  [2]: https://i.stack.imgur.com/f7hyC.png","title":"How to convert a &quot;binary string&quot; to base64?","body":"<p>You can use this link to convert Binary String to Base64\n<a href=\"https://cryptii.com/pipes/binary-to-text\" rel=\"nofollow noreferrer\">https://cryptii.com/pipes/binary-to-text</a></p>\n<p>Here is an example of converting Binary String to Base64 String:\n<a href=\"https://i.stack.imgur.com/LH6lX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LH6lX.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is another example of converting Normal String to Base64 String</p>\n<p><a href=\"https://i.stack.imgur.com/f7hyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f7hyC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679762492,"creation_date":1679745503,"answer_id":75841530,"question_id":8373729,"body_markdown":"\r\nJava 8 has come up with `java.util.Base64` package to help encode bytes to Base64 and \r\nvice-versa \r\n\r\n```\r\nimport java.util.Base64;\r\n\r\n\r\nbyte[] bytes = string.getBytes();\r\n\r\n// returns byte[]\r\nBase64.getEncoder().encode(bytes);\r\n\r\n// returns String\r\nBase64.getEncoder().encodeToString(bytes);\r\n```","title":"How to convert a &quot;binary string&quot; to base64?","body":"<p>Java 8 has come up with <code>java.util.Base64</code> package to help encode bytes to Base64 and\nvice-versa</p>\n<pre><code>import java.util.Base64;\n\n\nbyte[] bytes = string.getBytes();\n\n// returns byte[]\nBase64.getEncoder().encode(bytes);\n\n// returns String\nBase64.getEncoder().encodeToString(bytes);\n</code></pre>\n"}],"owner":{"account_id":157119,"reputation":477,"user_id":374841,"accept_rate":64,"display_name":"Dave"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8373752,"answer_count":3,"score":4,"last_activity_date":1679762492,"creation_date":1322979973,"question_id":8373729,"body_markdown":"I&#39;ve followed this: https://dev.twitter.com/docs/auth/creating-signature\r\n\r\nto the end but I can&#39;t find how to encode a &quot;binary string&quot; to base64(at the end). I wanted to try online converters first but they don&#39;t give the string the show \r\n&quot;tnnArxj06cWHq44gCs1OSKk/jLY=&quot; \r\n\r\nTried this: http://www.motobit.com/util/base64-decoder-encoder.asp\r\n\r\nand \r\n\r\nhttp://www.hash-cracker.com/base64.php#anchor\r\n\r\nand \r\n\r\nhttp://www.opinionatedgeek.com/dotnet/tools/Base64Encode/\r\n\r\nand none give that string.\r\n\r\nI&#39;m going to be using java. But I think all those java tools I search for will give the same result as the online converters. What has to be done to encode a &quot;binary string&quot; to base64?","title":"How to convert a &quot;binary string&quot; to base64?","body":"<p>I've followed this: <a href=\"https://dev.twitter.com/docs/auth/creating-signature\" rel=\"nofollow\">https://dev.twitter.com/docs/auth/creating-signature</a></p>\n\n<p>to the end but I can't find how to encode a \"binary string\" to base64(at the end). I wanted to try online converters first but they don't give the string the show \n\"tnnArxj06cWHq44gCs1OSKk/jLY=\" </p>\n\n<p>Tried this: <a href=\"http://www.motobit.com/util/base64-decoder-encoder.asp\" rel=\"nofollow\">http://www.motobit.com/util/base64-decoder-encoder.asp</a></p>\n\n<p>and </p>\n\n<p><a href=\"http://www.hash-cracker.com/base64.php#anchor\" rel=\"nofollow\">http://www.hash-cracker.com/base64.php#anchor</a></p>\n\n<p>and </p>\n\n<p><a href=\"http://www.opinionatedgeek.com/dotnet/tools/Base64Encode/\" rel=\"nofollow\">http://www.opinionatedgeek.com/dotnet/tools/Base64Encode/</a></p>\n\n<p>and none give that string.</p>\n\n<p>I'm going to be using java. But I think all those java tools I search for will give the same result as the online converters. What has to be done to encode a \"binary string\" to base64?</p>\n"},{"tags":["java","file-io","delete-file","fileinputstream"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1342088442,"post_id":11447241,"comment_id":15109818,"body_markdown":"I&#39;d suggest that the short answer is no.  You should be taking care of you streams better.","body":"I&#39;d suggest that the short answer is no.  You should be taking care of you streams better."},{"owner":{"account_id":1233203,"reputation":4084,"user_id":1197359,"accept_rate":99,"display_name":"Stanley Mungai"},"score":0,"creation_date":1342093007,"post_id":11447241,"comment_id":15111637,"body_markdown":"Then I should say that I have gone through Every Inpustream There is in the code and I have closed the whole lot of them But I still got the same error","body":"Then I should say that I have gone through Every Inpustream There is in the code and I have closed the whole lot of them But I still got the same error"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1342123701,"post_id":11447241,"comment_id":15126721,"body_markdown":"2 thoughts.  Some one, some where is holding a file open &amp;/or there is a permissions issue","body":"2 thoughts.  Some one, some where is holding a file open &amp;/or there is a permissions issue"}],"answers":[{"tags":[],"owner":{"account_id":918396,"reputation":1824,"user_id":950670,"accept_rate":83,"display_name":"Dmytro Chyzhykov"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1342080051,"creation_date":1342080051,"answer_id":11447433,"question_id":11447241,"body_markdown":"There is no InputStream instances in the provided chunk of code.\r\n\r\nTo not write lots of untested IO code, please take a look at the [apache.commons.io][1] project. Especially at the [FileDeleteStrategy][2] class, for file deletion operations.\r\n\r\nYour code might look like that:\r\n\r\n    File fin = new File(&quot;C:/ABC Statements final/&quot;);\r\n    \r\n    for (File file : fin.listFiles()) {\r\n        FileDeleteStrategy.FORCE.delete(file);\r\n    }   \r\n\r\n\r\n  [1]: http://commons.apache.org/io/\r\n  [2]: http://commons.apache.org/io/apidocs/org/apache/commons/io/FileDeleteStrategy.html","title":"Force Delete all files from a folder","body":"<p>There is no InputStream instances in the provided chunk of code.</p>\n\n<p>To not write lots of untested IO code, please take a look at the <a href=\"http://commons.apache.org/io/\">apache.commons.io</a> project. Especially at the <a href=\"http://commons.apache.org/io/apidocs/org/apache/commons/io/FileDeleteStrategy.html\">FileDeleteStrategy</a> class, for file deletion operations.</p>\n\n<p>Your code might look like that:</p>\n\n<pre><code>File fin = new File(\"C:/ABC Statements final/\");\n\nfor (File file : fin.listFiles()) {\n    FileDeleteStrategy.FORCE.delete(file);\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1181998,"reputation":798,"user_id":1156739,"accept_rate":100,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1342084473,"creation_date":1342084473,"answer_id":11448573,"question_id":11447241,"body_markdown":"You can use:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    FileUtils.deleteDirectory(File directory)\r\n\r\n from [Apache Commons][1]\r\n\r\n  [1]: http://commons.apache.org/io/api-1.4/org/apache/commons/io/FileUtils.html","title":"Force Delete all files from a folder","body":"<p>You can use:\n</p>\n\n<pre><code>FileUtils.deleteDirectory(File directory)\n</code></pre>\n\n<p>from <a href=\"http://commons.apache.org/io/api-1.4/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\">Apache Commons</a></p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444226889,"creation_date":1444226889,"answer_id":32994493,"question_id":11447241,"body_markdown":"With Apache Commons IO:\r\n\r\n    File dir = ...\r\n    FileUtils.deleteQuietly(dir);\r\n    dir.mkdirs();\r\n\r\nNo need to check for exceptions this way.","title":"Force Delete all files from a folder","body":"<p>With Apache Commons IO:</p>\n\n<pre><code>File dir = ...\nFileUtils.deleteQuietly(dir);\ndir.mkdirs();\n</code></pre>\n\n<p>No need to check for exceptions this way.</p>\n"},{"tags":[],"owner":{"account_id":1921531,"reputation":16820,"user_id":1732936,"accept_rate":66,"display_name":"Xelian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511622658,"creation_date":1511622658,"answer_id":47487433,"question_id":11447241,"body_markdown":"  Use:\r\n\r\n       import org.apache.commons.io.FileUtils;\r\n       FileUtils.cleanDirectory(fin);\r\nDocs:\r\n\r\n     /**\r\n         * Clean a directory without deleting it.\r\n         *\r\n         * @param directory directory to clean\r\n         * @throws IOException in case cleaning is unsuccessful\r\n         */\r\n\r\n\r\nIn order to use it you need a dependency:\r\n\r\n**Maven:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Gradle:**\r\n\r\n    compile &#39;commons-io:commons-io:2.6&#39;","title":"Force Delete all files from a folder","body":"<p>Use:</p>\n\n<pre><code>   import org.apache.commons.io.FileUtils;\n   FileUtils.cleanDirectory(fin);\n</code></pre>\n\n<p>Docs:</p>\n\n<pre><code> /**\n     * Clean a directory without deleting it.\n     *\n     * @param directory directory to clean\n     * @throws IOException in case cleaning is unsuccessful\n     */\n</code></pre>\n\n<p>In order to use it you need a dependency:</p>\n\n<p><strong>Maven:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Gradle:</strong></p>\n\n<pre><code>compile 'commons-io:commons-io:2.6'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9194391,"reputation":19,"user_id":6833639,"display_name":"Shikha Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513855764,"creation_date":1513855764,"answer_id":47924010,"question_id":11447241,"body_markdown":"    public void removeDir()\r\n    {\r\n    try\r\n    {\r\n    \tFile dir = new File((System.getProperty(&quot;user.dir&quot;)+&quot;/ReportFolderToMail&quot;+timeStamp));\r\n    \tif (dir.isDirectory())\r\n    \t{\r\n    \t\tFile[] files = dir.listFiles();\r\n            if (files != null &amp;&amp; files.length &gt; 0)\r\n            {\r\n            \tfor (File aFile : files) \r\n                {\r\n                \tSystem.gc();\r\n                    Thread.sleep(2000);\r\n                \t FileDeleteStrategy.FORCE.delete(aFile);\r\n                    System.out.println(&quot;delet file&quot; +aFile);\r\n                }\r\n            }\r\n            dir.delete();\r\n            System.out.println(&quot;delet&quot; +dir);\r\n        } \r\n        else \r\n        {\r\n            dir.delete();\r\n        }\r\n    }\r\n    catch(Exception e)\r\n    {\r\n    \te.printStackTrace();\r\n    }","title":"Force Delete all files from a folder","body":"<pre><code>public void removeDir()\n{\ntry\n{\n    File dir = new File((System.getProperty(\"user.dir\")+\"/ReportFolderToMail\"+timeStamp));\n    if (dir.isDirectory())\n    {\n        File[] files = dir.listFiles();\n        if (files != null &amp;&amp; files.length &gt; 0)\n        {\n            for (File aFile : files) \n            {\n                System.gc();\n                Thread.sleep(2000);\n                 FileDeleteStrategy.FORCE.delete(aFile);\n                System.out.println(\"delet file\" +aFile);\n            }\n        }\n        dir.delete();\n        System.out.println(\"delet\" +dir);\n    } \n    else \n    {\n        dir.delete();\n    }\n}\ncatch(Exception e)\n{\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9194391,"reputation":19,"user_id":6833639,"display_name":"Shikha Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516620347,"creation_date":1516620347,"answer_id":48380501,"question_id":11447241,"body_markdown":"    public boolean removeDir()\r\n    {\r\n    try\r\n    {\r\n       //destFile = new File((System.getProperty(&quot;user.dir&quot;)+&quot;/FileName&quot;))\r\n       // checks if the directory has any file\r\n    \tFile dir = destFile; \r\n    \tif (dir.isDirectory())\r\n    \t{\r\n    \t\tFile[] files = dir.listFiles();\r\n            if (files != null &amp;&amp; files.length &gt; 0)\r\n            {\r\n            \tfor (File aFile : files) \r\n                {\r\n                \tSystem.gc();\r\n                    Thread.sleep(2000);\r\n                \tFileDeleteStrategy.FORCE.delete(aFile);\r\n                    System.out.println(&quot;delet file&quot; +aFile);\r\n                }\r\n            }\r\n            dir.delete();\r\n            System.out.println(&quot;delet&quot; +dir);\r\n        } \r\n        else \r\n        {\r\n            dir.delete();\r\n        }\r\n    }\r\n    catch(Exception e)\r\n    {\r\n    \tlogger.log(LogStatus.FATAL, &quot;Exception Occured While Deleting Folder : &quot; +e);\r\n    }\r\n    return true;\r\n    }","title":"Force Delete all files from a folder","body":"<pre><code>public boolean removeDir()\n{\ntry\n{\n   //destFile = new File((System.getProperty(\"user.dir\")+\"/FileName\"))\n   // checks if the directory has any file\n    File dir = destFile; \n    if (dir.isDirectory())\n    {\n        File[] files = dir.listFiles();\n        if (files != null &amp;&amp; files.length &gt; 0)\n        {\n            for (File aFile : files) \n            {\n                System.gc();\n                Thread.sleep(2000);\n                FileDeleteStrategy.FORCE.delete(aFile);\n                System.out.println(\"delet file\" +aFile);\n            }\n        }\n        dir.delete();\n        System.out.println(\"delet\" +dir);\n    } \n    else \n    {\n        dir.delete();\n    }\n}\ncatch(Exception e)\n{\n    logger.log(LogStatus.FATAL, \"Exception Occured While Deleting Folder : \" +e);\n}\nreturn true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679762102,"creation_date":1679761024,"answer_id":75842994,"question_id":11447241,"body_markdown":"**I simply did this and it worked awesomely:**\r\n\r\n                System.gc();\r\n                //then\r\n                Files.delete(chosenFile.toPath());\r\n                FileDeleteStrategy.FORCE.delete(chosenFile);\r\n","title":"Force Delete all files from a folder","body":"<p><strong>I simply did this and it worked awesomely:</strong></p>\n<pre><code>            System.gc();\n            //then\n            Files.delete(chosenFile.toPath());\n            FileDeleteStrategy.FORCE.delete(chosenFile);\n</code></pre>\n"}],"owner":{"account_id":1233203,"reputation":4084,"user_id":1197359,"accept_rate":99,"display_name":"Stanley Mungai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74356,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":11447433,"answer_count":7,"score":17,"last_activity_date":1679762102,"creation_date":1342079179,"question_id":11447241,"body_markdown":"I have been using a specific piece of code to delete files from a folder but it is proving very problematic because maybe I forgot to close an InputStream or two. The code I have is so big that I am not be able to see all the Inputstreams that I have not closed. Is there a way of deleting files whether there is an open InputStream or not?\r\n\r\nThis is the piece of the code that I have been using;\r\n\r\n    File fin = new File(&quot;C:/ABC Statements final/&quot;);\r\n        File[] finlist = fin.listFiles();       \r\n        for (int n = 0; n &lt; finlist.length; n++) {\r\n            if (finlist[n].isFile()) {\r\n            System.gc();\r\n            Thread.sleep(2000);\r\n                finlist[n].delete();\r\n            }\r\n        }        \r\n\r\n\r\nI have edited the code. This version works.","title":"Force Delete all files from a folder","body":"<p>I have been using a specific piece of code to delete files from a folder but it is proving very problematic because maybe I forgot to close an InputStream or two. The code I have is so big that I am not be able to see all the Inputstreams that I have not closed. Is there a way of deleting files whether there is an open InputStream or not?</p>\n\n<p>This is the piece of the code that I have been using;</p>\n\n<pre><code>File fin = new File(\"C:/ABC Statements final/\");\n    File[] finlist = fin.listFiles();       \n    for (int n = 0; n &lt; finlist.length; n++) {\n        if (finlist[n].isFile()) {\n        System.gc();\n        Thread.sleep(2000);\n            finlist[n].delete();\n        }\n    }        \n</code></pre>\n\n<p>I have edited the code. This version works.</p>\n"},{"tags":["java","spring-mvc","thymeleaf"],"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679761715,"creation_date":1679761715,"question_id":75843049,"body_markdown":"I am trying to add a User object to a Collaborators(an arraylist) field of a ToDo object by choice from a dropdown list on an html page.\r\n\r\nOn a view page of a ToDo list of all possible users is sent and added to a dropdown like this:\r\n\r\n    &lt;form th:action=&quot;@{/todos/{id}/add(id=${todo.id})}&quot; method=&quot;post&quot;&gt;\r\n    &lt;select th:field=&quot;*{selected}&quot;&gt;\r\n        &lt;option value=&quot;&quot;&gt;-- Select a collaborator to add --&lt;/option&gt;\r\n        &lt;option th:each=&quot;collaborator:${users}&quot; th:value=&quot;${collaborator.id}&quot; th:text=&quot;${collaborator.firstName}&quot;&gt;&lt;/option&gt;\r\n    &lt;/select&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Add Collaborator&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\nThe method supposed to process it:\r\n\r\n    @PostMapping(&quot;/{todoid}/add&quot;)\r\n    public String addCollaborator(Model model, @PathVariable(&quot;todoid&quot;) Long id, @ModelAttribute(&quot;selected&quot;) User cb) {\r\n        ToDo todo = toDoService.readById(id);\r\n        todo.getCollaborators().add(cb);\r\n        toDoService.update(todo);\r\n        return &quot;redirect:/todos/&quot; + id + &quot;/tasks/&quot;;\r\n    }\r\nHowever, the &quot;selected&quot; object that gets returned is transient and does not have the id of a user we chose in a dropdown. What do i do? Thanks in advance.\r\n\r\n","title":"Cannot get object from a dropdown using Java Spring and Thymeleaf","body":"<p>I am trying to add a User object to a Collaborators(an arraylist) field of a ToDo object by choice from a dropdown list on an html page.</p>\n<p>On a view page of a ToDo list of all possible users is sent and added to a dropdown like this:</p>\n<pre><code>&lt;form th:action=&quot;@{/todos/{id}/add(id=${todo.id})}&quot; method=&quot;post&quot;&gt;\n&lt;select th:field=&quot;*{selected}&quot;&gt;\n    &lt;option value=&quot;&quot;&gt;-- Select a collaborator to add --&lt;/option&gt;\n    &lt;option th:each=&quot;collaborator:${users}&quot; th:value=&quot;${collaborator.id}&quot; th:text=&quot;${collaborator.firstName}&quot;&gt;&lt;/option&gt;\n&lt;/select&gt;\n    &lt;button type=&quot;submit&quot;&gt;Add Collaborator&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>The method supposed to process it:</p>\n<pre><code>@PostMapping(&quot;/{todoid}/add&quot;)\npublic String addCollaborator(Model model, @PathVariable(&quot;todoid&quot;) Long id, @ModelAttribute(&quot;selected&quot;) User cb) {\n    ToDo todo = toDoService.readById(id);\n    todo.getCollaborators().add(cb);\n    toDoService.update(todo);\n    return &quot;redirect:/todos/&quot; + id + &quot;/tasks/&quot;;\n}\n</code></pre>\n<p>However, the &quot;selected&quot; object that gets returned is transient and does not have the id of a user we chose in a dropdown. What do i do? Thanks in advance.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679761127,"creation_date":1678457000,"answer_id":75697088,"question_id":75696140,"body_markdown":"This isn&#39;t really a Quarkus problem. `SteamsBuilder.stream` should not be used in a loop as you&#39;re effectively telling it to only use the last topic you&#39;ve iterated over when the Topology is actually built and ran.\r\n\r\nPass the collection to the function directly \r\n\r\n&gt; where can I find documentation? \r\n\r\n[The Javadoc](https://kafka.apache.org/34/javadoc/org/apache/kafka/streams/StreamsBuilder.html#stream(java.util.Collection))? \r\n\r\n---\r\n\r\nYou should also use peek or foreach to print data, not mapValues with no changes\r\n\r\n---\r\n\r\n&gt; create the Kafka dynamic subscriber. \r\n\r\nA static list is not &quot;dynamic&quot;. You&#39;ll need extra code to stop and modify the topics used by the topology. More specifically, adding/removing from topics list will not cause them to be consumed automatically ","title":"subscribe to multiple kafka topics at runtime","body":"<p>This isn't really a Quarkus problem. <code>SteamsBuilder.stream</code> should not be used in a loop as you're effectively telling it to only use the last topic you've iterated over when the Topology is actually built and ran.</p>\n<p>Pass the collection to the function directly</p>\n<blockquote>\n<p>where can I find documentation?</p>\n</blockquote>\n<p><a href=\"https://kafka.apache.org/34/javadoc/org/apache/kafka/streams/StreamsBuilder.html#stream(java.util.Collection)\" rel=\"nofollow noreferrer\">The Javadoc</a>?</p>\n<hr />\n<p>You should also use peek or foreach to print data, not mapValues with no changes</p>\n<hr />\n<blockquote>\n<p>create the Kafka dynamic subscriber.</p>\n</blockquote>\n<p>A static list is not &quot;dynamic&quot;. You'll need extra code to stop and modify the topics used by the topology. More specifically, adding/removing from topics list will not cause them to be consumed automatically</p>\n"}],"owner":{"account_id":2818245,"reputation":581,"user_id":2422715,"accept_rate":31,"display_name":"Lorenzo De Francesco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679761127,"creation_date":1678451194,"question_id":75696140,"body_markdown":"I want to create a Microservice with Java Quarkus to subscribe to multiple topics at runtime. The Service will read the topic form an API at regular interval (once a day) and update the topic to consume.\r\n\r\nMy problem is to create the Kafka dynamic subscriber. I tried with\r\n\r\n**quarkus.kafka-streams**\r\n```\r\n@ApplicationScoped\r\n@Slf4j\r\npublic class KafkaTopology {\r\n\r\n    @Inject\r\n    IResourceFileService resourceFileService;\r\n\r\n    @Produces\r\n    public Topology buildTopology() {\r\n\r\n        log.info(&quot;Start building topology - Read from file the topics&quot;);\r\n        List&lt;TopicData&gt; data = resourceFileService.getTopics();\r\n        List&lt;String&gt; topics = data.stream().map(single -&gt; single.getTopic()).collect(Collectors.toList());\r\n\r\n        StreamsBuilder builder = new StreamsBuilder();\r\n        log.info(&quot;Topic list is&quot; + topics);\r\n        builder.stream(topics, Consumed.with(Serdes.String(), Serdes.String())).peek((topic, value) -&gt;{\r\n            log.info(&quot;Peek &quot; + topic + &quot;Value: &quot; + value);\r\n        });\r\n\r\n        return builder.build();\r\n    }\r\n}\r\n```\r\nand application.properties is\r\n```\r\nquarkus.kafka-streams.bootstrap-servers=xxxx\r\nquarkus.kafka-streams.security.protocol=SASL_SSL\r\nquarkus.kafka-streams.sasl.mechanism=PLAIN\r\nquarkus.kafka-streams.sasl.jaas-config=xxxx\r\n```\r\n\r\nUnfortunately I get the error\r\n```\r\n2023-03-24 12:34:22,086 WARN  [org.apa.kaf.str.int.met.ClientMetrics] (Quarkus Main Thread) Error while loading kafka-streams-version.properties: java.lang.NullPointerException: inStream parameter is null\r\n\r\nWARN  [org.apa.kaf.cli.con.ConsumerConfig] (Quarkus Main Thread) These configurations &#39;[streams.metadata.max.age.ms, bootstrap-servers, streams.commit.interval.ms, sasl.jaas-config, streams.auto.offset.reset, streams.cache.max.bytes.buffering, application-id]&#39; were supplied but are not used yet.\r\nException in thread &quot;pool-12-thread-1&quot; java.lang.IllegalArgumentException: Missing list of topics\r\n```\r\n\r\nBut topics exists :(\r\n\r\n**OLD and deprecated**\r\n**quarkus.kafka-streams**\r\n\r\n```\r\n@ApplicationScoped\r\npublic class MyTopology {\r\n\r\n    // this list is Dynamic and comes from a Event bus\r\n    List&lt;String&gt; topics = List.of(&quot;topicA&quot;, &quot;topicB&quot;);\r\n    @Produces\r\n    public Topology buildTopology() {\r\n\r\n        StreamsBuilder builder = new StreamsBuilder();\r\n\r\n        for(String topic : topics){\r\n            builder.stream(topic, Consumed.with(Serdes.String(), Serdes.String()))\r\n                .mapValues(v -&gt; {\r\n                    System.out.println(&quot;Topic message elaboration&quot; + v);\r\n                    return v;\r\n                });\r\n        }\r\n        return builder.build();\r\n\r\n    }\r\n}\r\n```\r\n\r\n**org.apache.kafka.clients.consumer.KafkaConsumer**\r\n\r\n```\r\npublic class CustomKafkaConsumer implements ConsumerRebalanceListener {\r\n\r\n    List&lt;String&gt; topics = List.of(&quot;topicA&quot;, &quot;topicB&quot;);\r\n    private Consumer&lt;String, String&gt; consumer;\r\n\r\n    public void start() {\r\n        Properties props = new Properties();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;xx&quot;);\r\n        props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;xx&quot;);\r\n        props.put(&quot;sasl.jaas.config&quot;, &quot;22&quot;);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;test&quot;);\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n\r\n        this.consumer = new KafkaConsumer&lt;&gt;(props);\r\n        this.consumer.subscribe(topics, this);\r\n    }\r\n\r\n    public void stop() {\r\n        this.consumer.close();\r\n    }\r\n\r\n    public void poll(Duration timeout) {\r\n        this.consumer.poll(timeout).forEach(record -&gt; {\r\n            // Process the message\r\n            System.out.println(&quot;TOPIC&quot; + record.topic());\r\n            System.out.println(&quot;VALUE&quot; + record.value());\r\n            System.out.println(&quot;KEY&quot; + record.key());\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onPartitionsRevoked(Collection&lt;TopicPartition&gt; partitions) {\r\n        // Do nothing\r\n    }\r\n\r\n    @Override\r\n    public void onPartitionsAssigned(Collection&lt;TopicPartition&gt; partitions) {\r\n        // Do nothing\r\n    }\r\n}\r\n```\r\n\r\nand cannot find a solution... where can I find documentation? Or where am I wrong?\r\n\r\n","title":"subscribe to multiple kafka topics at runtime","body":"<p>I want to create a Microservice with Java Quarkus to subscribe to multiple topics at runtime. The Service will read the topic form an API at regular interval (once a day) and update the topic to consume.</p>\n<p>My problem is to create the Kafka dynamic subscriber. I tried with</p>\n<p><strong>quarkus.kafka-streams</strong></p>\n<pre><code>@ApplicationScoped\n@Slf4j\npublic class KafkaTopology {\n\n    @Inject\n    IResourceFileService resourceFileService;\n\n    @Produces\n    public Topology buildTopology() {\n\n        log.info(&quot;Start building topology - Read from file the topics&quot;);\n        List&lt;TopicData&gt; data = resourceFileService.getTopics();\n        List&lt;String&gt; topics = data.stream().map(single -&gt; single.getTopic()).collect(Collectors.toList());\n\n        StreamsBuilder builder = new StreamsBuilder();\n        log.info(&quot;Topic list is&quot; + topics);\n        builder.stream(topics, Consumed.with(Serdes.String(), Serdes.String())).peek((topic, value) -&gt;{\n            log.info(&quot;Peek &quot; + topic + &quot;Value: &quot; + value);\n        });\n\n        return builder.build();\n    }\n}\n</code></pre>\n<p>and application.properties is</p>\n<pre><code>quarkus.kafka-streams.bootstrap-servers=xxxx\nquarkus.kafka-streams.security.protocol=SASL_SSL\nquarkus.kafka-streams.sasl.mechanism=PLAIN\nquarkus.kafka-streams.sasl.jaas-config=xxxx\n</code></pre>\n<p>Unfortunately I get the error</p>\n<pre><code>2023-03-24 12:34:22,086 WARN  [org.apa.kaf.str.int.met.ClientMetrics] (Quarkus Main Thread) Error while loading kafka-streams-version.properties: java.lang.NullPointerException: inStream parameter is null\n\nWARN  [org.apa.kaf.cli.con.ConsumerConfig] (Quarkus Main Thread) These configurations '[streams.metadata.max.age.ms, bootstrap-servers, streams.commit.interval.ms, sasl.jaas-config, streams.auto.offset.reset, streams.cache.max.bytes.buffering, application-id]' were supplied but are not used yet.\nException in thread &quot;pool-12-thread-1&quot; java.lang.IllegalArgumentException: Missing list of topics\n</code></pre>\n<p>But topics exists :(</p>\n<p><strong>OLD and deprecated</strong>\n<strong>quarkus.kafka-streams</strong></p>\n<pre><code>@ApplicationScoped\npublic class MyTopology {\n\n    // this list is Dynamic and comes from a Event bus\n    List&lt;String&gt; topics = List.of(&quot;topicA&quot;, &quot;topicB&quot;);\n    @Produces\n    public Topology buildTopology() {\n\n        StreamsBuilder builder = new StreamsBuilder();\n\n        for(String topic : topics){\n            builder.stream(topic, Consumed.with(Serdes.String(), Serdes.String()))\n                .mapValues(v -&gt; {\n                    System.out.println(&quot;Topic message elaboration&quot; + v);\n                    return v;\n                });\n        }\n        return builder.build();\n\n    }\n}\n</code></pre>\n<p><strong>org.apache.kafka.clients.consumer.KafkaConsumer</strong></p>\n<pre><code>public class CustomKafkaConsumer implements ConsumerRebalanceListener {\n\n    List&lt;String&gt; topics = List.of(&quot;topicA&quot;, &quot;topicB&quot;);\n    private Consumer&lt;String, String&gt; consumer;\n\n    public void start() {\n        Properties props = new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;xx&quot;);\n        props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;xx&quot;);\n        props.put(&quot;sasl.jaas.config&quot;, &quot;22&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;test&quot;);\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n\n        this.consumer = new KafkaConsumer&lt;&gt;(props);\n        this.consumer.subscribe(topics, this);\n    }\n\n    public void stop() {\n        this.consumer.close();\n    }\n\n    public void poll(Duration timeout) {\n        this.consumer.poll(timeout).forEach(record -&gt; {\n            // Process the message\n            System.out.println(&quot;TOPIC&quot; + record.topic());\n            System.out.println(&quot;VALUE&quot; + record.value());\n            System.out.println(&quot;KEY&quot; + record.key());\n        });\n    }\n\n    @Override\n    public void onPartitionsRevoked(Collection&lt;TopicPartition&gt; partitions) {\n        // Do nothing\n    }\n\n    @Override\n    public void onPartitionsAssigned(Collection&lt;TopicPartition&gt; partitions) {\n        // Do nothing\n    }\n}\n</code></pre>\n<p>and cannot find a solution... where can I find documentation? Or where am I wrong?</p>\n"},{"tags":["java","algorithm","runtime"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679737659,"post_id":75840699,"comment_id":133777100,"body_markdown":"Count the frequency of numbers, and end as soon as you find the third occurrence of a number.","body":"Count the frequency of numbers, and end as soon as you find the third occurrence of a number."},{"owner":{"account_id":6466436,"reputation":1668,"user_id":5008193,"display_name":"Graffito"},"score":0,"creation_date":1679743669,"post_id":75840699,"comment_id":133777763,"body_markdown":"O(n) doesn&#39;t seam feasible because you must scroll the table and store the count for each number in some kind of dictionary where search and insertion can&#39;t be linear.","body":"O(n) doesn&#39;t seam feasible because you must scroll the table and store the count for each number in some kind of dictionary where search and insertion can&#39;t be linear."},{"owner":{"account_id":27473022,"reputation":1,"user_id":20961512,"display_name":"rana"},"score":0,"creation_date":1679744031,"post_id":75840699,"comment_id":133777803,"body_markdown":"@Graffito with  using  hash-map  it will be O(n) but i don&#39;t know the hashmap yet so i did it on O(nlog(n)) this is the code :  public static boolean countFreqSorted(int arr[])\n    {\n        int n = arr.length;\n        Arrays.sort(arr);\n\n        for(int i = 0 ; i &lt;= n-1 ; i++)\n        {\n            int count =1 ;\n            while (i&lt;n-1 &amp;&amp; arr[i]==arr[i+1])\n            {\n                count++;\n                i++;\n                if(count == 3)\n                    return true ;\n            }\n        }\n        return false;\n    }","body":"@Graffito with  using  hash-map  it will be O(n) but i don&#39;t know the hashmap yet so i did it on O(nlog(n)) this is the code :  public static boolean countFreqSorted(int arr[])     {         int n = arr.length;         Arrays.sort(arr);          for(int i = 0 ; i &lt;= n-1 ; i++)         {             int count =1 ;             while (i&lt;n-1 &amp;&amp; arr[i]==arr[i+1])             {                 count++;                 i++;                 if(count == 3)                     return true ;             }         }         return false;     }"}],"answers":[{"tags":[],"owner":{"account_id":7800091,"reputation":21,"user_id":5899859,"display_name":"Akash Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679760054,"creation_date":1679760054,"answer_id":75842887,"question_id":75840699,"body_markdown":"You can use a hash table to store the count of each element in the array to solve the problem with runtime O(n). Iterate through the array once, increasing the count of each element in the hash table. Then, iterate through the hash table, looking for any counts that equal 3. Return true if you find an element with count 3. Return false if you iterate through the entire hash table and don&#39;t find any elements with count 3.\r\n\r\n    public boolean ThreeEqualElements(int[] arr) {\r\n        Map&lt;Integer, Integer&gt; count = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            count.put(arr[i], count.getOrDefault(arr[i], 0) + 1);\r\n            if (count.get(arr[i]) == 3) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n","title":"Alternative algorithm whose runtime is better than this algorithm","body":"<p>You can use a hash table to store the count of each element in the array to solve the problem with runtime O(n). Iterate through the array once, increasing the count of each element in the hash table. Then, iterate through the hash table, looking for any counts that equal 3. Return true if you find an element with count 3. Return false if you iterate through the entire hash table and don't find any elements with count 3.</p>\n<pre><code>public boolean ThreeEqualElements(int[] arr) {\n    Map&lt;Integer, Integer&gt; count = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; arr.length; i++) {\n        count.put(arr[i], count.getOrDefault(arr[i], 0) + 1);\n        if (count.get(arr[i]) == 3) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":27473022,"reputation":1,"user_id":20961512,"display_name":"rana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679760054,"creation_date":1679735723,"question_id":75840699,"body_markdown":"I want an algorithm with run time O(n). The problem is, to know if an array of integers contains the same number 3 times.\r\n\r\nI tried this, but the runtime is O(n^3). This code is in Java.\r\n\r\n```java\r\npublic boolean ThreeEqualElements(int[] arr )\r\n{\r\n    int n = arr.length;\r\n    for(int i =0 ; i &lt;=n-1 ; i++)\r\n    {\r\n        for(int j=0 ; j &lt;= i-1 ; j++)\r\n        {\r\n            for(int k=0 ; k &lt;= j-1 ; j++)\r\n            {\r\n                if(arr[i]==arr[j]&amp;&amp; arr[j]==arr[k])\r\n                    return true ;\r\n            }\r\n        }\r\n    }\r\n    return  false ;\r\n}\r\n```","title":"Alternative algorithm whose runtime is better than this algorithm","body":"<p>I want an algorithm with run time O(n). The problem is, to know if an array of integers contains the same number 3 times.</p>\n<p>I tried this, but the runtime is O(n^3). This code is in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean ThreeEqualElements(int[] arr )\n{\n    int n = arr.length;\n    for(int i =0 ; i &lt;=n-1 ; i++)\n    {\n        for(int j=0 ; j &lt;= i-1 ; j++)\n        {\n            for(int k=0 ; k &lt;= j-1 ; j++)\n            {\n                if(arr[i]==arr[j]&amp;&amp; arr[j]==arr[k])\n                    return true ;\n            }\n        }\n    }\n    return  false ;\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679698663,"post_id":75838674,"comment_id":133773695,"body_markdown":"Consider using a JWindiw instead of a JPopuoMenu","body":"Consider using a JWindiw instead of a JPopuoMenu"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679699093,"post_id":75838674,"comment_id":133773751,"body_markdown":"popup.setFocusable(false); ?","body":"popup.setFocusable(false); ?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679808367,"post_id":75838674,"comment_id":133785190,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."}],"answers":[{"tags":[],"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679699167,"creation_date":1679698575,"answer_id":75838695,"question_id":75838674,"body_markdown":"You can try calling the requestFocusInWindow() function after the JPopMenu is updated.\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.List;\r\nimport java.awt.event.*;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.List;\r\n\r\npublic class SearchTextField extends JTextField {\r\n    private JPopupMenu searchResultPopup;\r\n    private SearchPOI searchPOI;\r\n\r\n    public SearchTextField(SearchPOI searchPOI) {\r\n        this.searchPOI = searchPOI;\r\n        searchResultPopup = new JPopupMenu();\r\n\r\n        this.addKeyListener(new KeyAdapter() {\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n                if (!isNavigationKey(e)) {\r\n                    updatePOIList();\r\n                }\r\n            }\r\n        });\r\n\r\n        searchResultPopup.addComponentListener(new ComponentAdapter() {\r\n            @Override\r\n            public void componentHidden(ComponentEvent e) {\r\n                SwingUtilities.invokeLater(() -&gt; requestFocusInWindow());\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean isNavigationKey(KeyEvent e) {\r\n        return e.getKeyCode() == KeyEvent.VK_UP || e.getKeyCode() == KeyEvent.VK_DOWN\r\n                || e.getKeyCode() == KeyEvent.VK_ENTER || e.getKeyCode() == KeyEvent.VK_ESCAPE;\r\n    }\r\n\r\nprivate void updatePOIList() {\r\n    String searchText = getText();\r\n    List&lt;PointOfInterest&gt; pois;\r\n    if (searchText.isEmpty()) {\r\n        pois = searchPOI.getAllPOIs();\r\n    } else {\r\n        pois = searchPOI.searchForPOI(searchText);\r\n    }\r\n\r\n    searchResultPopup.removeAll();\r\n    for (PointOfInterest poi : pois) {\r\n        JMenuItem menuItem = new JMenuItem(poi.getName());\r\n        menuItem.addActionListener(e -&gt; {\r\n            setText(poi.getName());\r\n            searchResultPopup.setVisible(false);\r\n        });\r\n        searchResultPopup.add(menuItem);\r\n    }\r\n    requestFocusInWindow();\r\n\r\n    if (!pois.isEmpty()) {\r\n        searchResultPopup.show(this, 0, this.getHeight());\r\n    } else {\r\n        searchResultPopup.setVisible(false);\r\n        requestFocusInWindow(); // request focus after hiding the popup\r\n    }\r\n}\r\n}\r\n```","title":"JTextField loses focus everytime JPopupMenu is updated","body":"<p>You can try calling the requestFocusInWindow() function after the JPopMenu is updated.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport java.awt.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.util.List;\nimport java.awt.event.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.util.List;\n\npublic class SearchTextField extends JTextField {\n    private JPopupMenu searchResultPopup;\n    private SearchPOI searchPOI;\n\n    public SearchTextField(SearchPOI searchPOI) {\n        this.searchPOI = searchPOI;\n        searchResultPopup = new JPopupMenu();\n\n        this.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyReleased(KeyEvent e) {\n                if (!isNavigationKey(e)) {\n                    updatePOIList();\n                }\n            }\n        });\n\n        searchResultPopup.addComponentListener(new ComponentAdapter() {\n            @Override\n            public void componentHidden(ComponentEvent e) {\n                SwingUtilities.invokeLater(() -&gt; requestFocusInWindow());\n            }\n        });\n    }\n\n    private boolean isNavigationKey(KeyEvent e) {\n        return e.getKeyCode() == KeyEvent.VK_UP || e.getKeyCode() == KeyEvent.VK_DOWN\n                || e.getKeyCode() == KeyEvent.VK_ENTER || e.getKeyCode() == KeyEvent.VK_ESCAPE;\n    }\n\nprivate void updatePOIList() {\n    String searchText = getText();\n    List&lt;PointOfInterest&gt; pois;\n    if (searchText.isEmpty()) {\n        pois = searchPOI.getAllPOIs();\n    } else {\n        pois = searchPOI.searchForPOI(searchText);\n    }\n\n    searchResultPopup.removeAll();\n    for (PointOfInterest poi : pois) {\n        JMenuItem menuItem = new JMenuItem(poi.getName());\n        menuItem.addActionListener(e -&gt; {\n            setText(poi.getName());\n            searchResultPopup.setVisible(false);\n        });\n        searchResultPopup.add(menuItem);\n    }\n    requestFocusInWindow();\n\n    if (!pois.isEmpty()) {\n        searchResultPopup.show(this, 0, this.getHeight());\n    } else {\n        searchResultPopup.setVisible(false);\n        requestFocusInWindow(); // request focus after hiding the popup\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679760001,"creation_date":1679760001,"answer_id":75842880,"question_id":75838674,"body_markdown":"I’m not sure exactly what behavior you’re trying to achieve, but based on what I can gather, I had success using an editable JComboBox:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Objects;\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JFrame;\r\n\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.DefaultComboBoxModel;\r\n\r\n    import javax.swing.text.JTextComponent;\r\n\r\n    import javax.swing.event.DocumentListener;\r\n    import javax.swing.event.DocumentEvent;\r\n\r\n    public class SearchField {\r\n        private static final String[] VALUES = {\r\n            &quot;Alpha&quot;, &quot;Beta&quot;, &quot;Gamma&quot;, &quot;Delta&quot;, &quot;Epsilon&quot;, &quot;Zeta&quot;, &quot;Eta&quot;, &quot;Theta&quot;,\r\n            &quot;Iota&quot;, &quot;Kappa&quot;, &quot;Lambda&quot;, &quot;Mu&quot;, &quot;Nu&quot;, &quot;Xi&quot;, &quot;Omicron&quot;, &quot;Pi&quot;, &quot;Rho&quot;,\r\n            &quot;Sigma&quot;, &quot;Tau&quot;, &quot;Upsilon&quot;, &quot;Phi&quot;, &quot;Chi&quot;, &quot;Psi&quot;, &quot;Omega&quot;\r\n        };\r\n\r\n        private final JComboBox&lt;String&gt; field;\r\n\r\n        private boolean updatingList;\r\n\r\n        public SearchField() {\r\n            field = new JComboBox&lt;&gt;(VALUES);\r\n            field.setEditable(true);\r\n            field.getEditor().setItem(&quot;&quot;);\r\n            field.addActionListener(e -&gt;\r\n                EventQueue.invokeLater(() -&gt; field.hidePopup()));\r\n\r\n            JTextComponent editor =\r\n                (JTextComponent) field.getEditor().getEditorComponent();\r\n            editor.getDocument().addDocumentListener(new DocumentListener() {\r\n                @Override\r\n                public void insertUpdate(DocumentEvent event) {\r\n                    EventQueue.invokeLater(() -&gt; restrictValues(field));\r\n                }\r\n\r\n                @Override\r\n                public void removeUpdate(DocumentEvent event) {\r\n                    EventQueue.invokeLater(() -&gt; restrictValues(field));\r\n                }\r\n\r\n                @Override\r\n                public void changedUpdate(DocumentEvent event) {\r\n                    EventQueue.invokeLater(() -&gt; restrictValues(field));\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        public JComponent component() {\r\n            return field;\r\n        }\r\n\r\n        private String[] readValues(String target) {\r\n            if (target == null || target.isEmpty()) {\r\n                return VALUES;\r\n            } else {\r\n                return Arrays.stream(VALUES)\r\n                    .filter(v -&gt; v.toLowerCase().contains(target))\r\n                    .toArray(String[]::new);\r\n            }\r\n        }\r\n\r\n        void restrictValues(JComboBox&lt;String&gt; field) {\r\n            if (updatingList) {\r\n                return;\r\n            }\r\n\r\n            String editorValue =\r\n                Objects.toString(field.getEditor().getItem(), &quot;&quot;).strip();\r\n\r\n            updatingList = true;\r\n\r\n            String target = editorValue.toLowerCase();\r\n            String[] newValues = readValues(target);\r\n\r\n            field.setModel(new DefaultComboBoxModel&lt;String&gt;(newValues));\r\n            field.getEditor().setItem(editorValue);\r\n            field.showPopup();\r\n\r\n            EventQueue.invokeLater(() -&gt; {\r\n                updatingList = false;\r\n            });\r\n        }\r\n\r\n        static void show() {\r\n            SearchField field = new SearchField();\r\n\r\n            JPanel panel = new JPanel(new BorderLayout());\r\n            panel.add(field.component());\r\n            panel.setBorder(BorderFactory.createEmptyBorder(24, 24, 24, 24));\r\n\r\n            JFrame frame = new JFrame(&quot;Search Field&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(panel);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; show());\r\n        }\r\n    }\r\n","title":"JTextField loses focus everytime JPopupMenu is updated","body":"<p>I’m not sure exactly what behavior you’re trying to achieve, but based on what I can gather, I had success using an editable JComboBox:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Objects;\n\nimport java.awt.BorderLayout;\nimport java.awt.EventQueue;\n\nimport javax.swing.JComboBox;\nimport javax.swing.JComponent;\nimport javax.swing.JPanel;\nimport javax.swing.JFrame;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.DefaultComboBoxModel;\n\nimport javax.swing.text.JTextComponent;\n\nimport javax.swing.event.DocumentListener;\nimport javax.swing.event.DocumentEvent;\n\npublic class SearchField {\n    private static final String[] VALUES = {\n        &quot;Alpha&quot;, &quot;Beta&quot;, &quot;Gamma&quot;, &quot;Delta&quot;, &quot;Epsilon&quot;, &quot;Zeta&quot;, &quot;Eta&quot;, &quot;Theta&quot;,\n        &quot;Iota&quot;, &quot;Kappa&quot;, &quot;Lambda&quot;, &quot;Mu&quot;, &quot;Nu&quot;, &quot;Xi&quot;, &quot;Omicron&quot;, &quot;Pi&quot;, &quot;Rho&quot;,\n        &quot;Sigma&quot;, &quot;Tau&quot;, &quot;Upsilon&quot;, &quot;Phi&quot;, &quot;Chi&quot;, &quot;Psi&quot;, &quot;Omega&quot;\n    };\n\n    private final JComboBox&lt;String&gt; field;\n\n    private boolean updatingList;\n\n    public SearchField() {\n        field = new JComboBox&lt;&gt;(VALUES);\n        field.setEditable(true);\n        field.getEditor().setItem(&quot;&quot;);\n        field.addActionListener(e -&gt;\n            EventQueue.invokeLater(() -&gt; field.hidePopup()));\n\n        JTextComponent editor =\n            (JTextComponent) field.getEditor().getEditorComponent();\n        editor.getDocument().addDocumentListener(new DocumentListener() {\n            @Override\n            public void insertUpdate(DocumentEvent event) {\n                EventQueue.invokeLater(() -&gt; restrictValues(field));\n            }\n\n            @Override\n            public void removeUpdate(DocumentEvent event) {\n                EventQueue.invokeLater(() -&gt; restrictValues(field));\n            }\n\n            @Override\n            public void changedUpdate(DocumentEvent event) {\n                EventQueue.invokeLater(() -&gt; restrictValues(field));\n            }\n\n        });\n    }\n\n    public JComponent component() {\n        return field;\n    }\n\n    private String[] readValues(String target) {\n        if (target == null || target.isEmpty()) {\n            return VALUES;\n        } else {\n            return Arrays.stream(VALUES)\n                .filter(v -&gt; v.toLowerCase().contains(target))\n                .toArray(String[]::new);\n        }\n    }\n\n    void restrictValues(JComboBox&lt;String&gt; field) {\n        if (updatingList) {\n            return;\n        }\n\n        String editorValue =\n            Objects.toString(field.getEditor().getItem(), &quot;&quot;).strip();\n\n        updatingList = true;\n\n        String target = editorValue.toLowerCase();\n        String[] newValues = readValues(target);\n\n        field.setModel(new DefaultComboBoxModel&lt;String&gt;(newValues));\n        field.getEditor().setItem(editorValue);\n        field.showPopup();\n\n        EventQueue.invokeLater(() -&gt; {\n            updatingList = false;\n        });\n    }\n\n    static void show() {\n        SearchField field = new SearchField();\n\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.add(field.component());\n        panel.setBorder(BorderFactory.createEmptyBorder(24, 24, 24, 24));\n\n        JFrame frame = new JFrame(&quot;Search Field&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(panel);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; show());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24976549,"reputation":1,"user_id":18839121,"display_name":"gilbertjefferson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1679760001,"creation_date":1679698356,"question_id":75838674,"body_markdown":"Whenever I enter a character in the searchbar, I have to manually click the search bar again to maintain focus.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.List;\r\nimport java.awt.event.*;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.List;\r\n\r\npublic class SearchTextField extends JTextField {\r\n    private JPopupMenu searchResultPopup;\r\n    private SearchPOI searchPOI;\r\n\r\n    public SearchTextField(SearchPOI searchPOI) {\r\n        this.searchPOI = searchPOI;\r\n        searchResultPopup = new JPopupMenu();\r\n\r\n        this.addKeyListener(new KeyAdapter() {\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n                if (!isNavigationKey(e)) {\r\n                    updatePOIList();\r\n                }\r\n            }\r\n        });\r\n\r\n        searchResultPopup.addComponentListener(new ComponentAdapter() {\r\n            @Override\r\n            public void componentHidden(ComponentEvent e) {\r\n                SwingUtilities.invokeLater(() -&gt; requestFocusInWindow());\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean isNavigationKey(KeyEvent e) {\r\n        return e.getKeyCode() == KeyEvent.VK_UP || e.getKeyCode() == KeyEvent.VK_DOWN\r\n                || e.getKeyCode() == KeyEvent.VK_ENTER || e.getKeyCode() == KeyEvent.VK_ESCAPE;\r\n    }\r\n\r\nprivate void updatePOIList() {\r\n    String searchText = getText();\r\n    List&lt;PointOfInterest&gt; pois;\r\n    if (searchText.isEmpty()) {\r\n        pois = searchPOI.getAllPOIs();\r\n    } else {\r\n        pois = searchPOI.searchForPOI(searchText);\r\n    }\r\n\r\n    searchResultPopup.removeAll();\r\n    for (PointOfInterest poi : pois) {\r\n        JMenuItem menuItem = new JMenuItem(poi.getName());\r\n        menuItem.addActionListener(e -&gt; {\r\n            setText(poi.getName());\r\n            searchResultPopup.setVisible(false);\r\n            requestFocusInWindow(); // request focus after selecting an item\r\n        });\r\n        searchResultPopup.add(menuItem);\r\n    }\r\n\r\n    if (!pois.isEmpty()) {\r\n        searchResultPopup.show(this, 0, this.getHeight());\r\n    } else {\r\n        searchResultPopup.setVisible(false);\r\n        requestFocusInWindow(); // request focus after hiding the popup\r\n    }\r\n}\r\n}\r\n```\r\n\r\n\r\nI tried using JCombobox but that didn&#39;t work and I also tried FocusListener. Whenever I try use requestFocus then the searchbar maintains focus but the popup menu doesn&#39;t update properly.","title":"JTextField loses focus everytime JPopupMenu is updated","body":"<p>Whenever I enter a character in the searchbar, I have to manually click the search bar again to maintain focus.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport java.awt.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.util.List;\nimport java.awt.event.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.util.List;\n\npublic class SearchTextField extends JTextField {\n    private JPopupMenu searchResultPopup;\n    private SearchPOI searchPOI;\n\n    public SearchTextField(SearchPOI searchPOI) {\n        this.searchPOI = searchPOI;\n        searchResultPopup = new JPopupMenu();\n\n        this.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyReleased(KeyEvent e) {\n                if (!isNavigationKey(e)) {\n                    updatePOIList();\n                }\n            }\n        });\n\n        searchResultPopup.addComponentListener(new ComponentAdapter() {\n            @Override\n            public void componentHidden(ComponentEvent e) {\n                SwingUtilities.invokeLater(() -&gt; requestFocusInWindow());\n            }\n        });\n    }\n\n    private boolean isNavigationKey(KeyEvent e) {\n        return e.getKeyCode() == KeyEvent.VK_UP || e.getKeyCode() == KeyEvent.VK_DOWN\n                || e.getKeyCode() == KeyEvent.VK_ENTER || e.getKeyCode() == KeyEvent.VK_ESCAPE;\n    }\n\nprivate void updatePOIList() {\n    String searchText = getText();\n    List&lt;PointOfInterest&gt; pois;\n    if (searchText.isEmpty()) {\n        pois = searchPOI.getAllPOIs();\n    } else {\n        pois = searchPOI.searchForPOI(searchText);\n    }\n\n    searchResultPopup.removeAll();\n    for (PointOfInterest poi : pois) {\n        JMenuItem menuItem = new JMenuItem(poi.getName());\n        menuItem.addActionListener(e -&gt; {\n            setText(poi.getName());\n            searchResultPopup.setVisible(false);\n            requestFocusInWindow(); // request focus after selecting an item\n        });\n        searchResultPopup.add(menuItem);\n    }\n\n    if (!pois.isEmpty()) {\n        searchResultPopup.show(this, 0, this.getHeight());\n    } else {\n        searchResultPopup.setVisible(false);\n        requestFocusInWindow(); // request focus after hiding the popup\n    }\n}\n}\n</code></pre>\n<p>I tried using JCombobox but that didn't work and I also tried FocusListener. Whenever I try use requestFocus then the searchbar maintains focus but the popup menu doesn't update properly.</p>\n"},{"tags":["java","spring-boot","arraylist","hashmap"],"owner":{"account_id":22777144,"reputation":1,"user_id":16933620,"display_name":"volcano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679752026,"answer_count":0,"score":0,"last_activity_date":1679759674,"creation_date":1679750830,"question_id":75842026,"body_markdown":"I&#39;m trying to fetch all the values from Map inside a Map \r\n\r\nDataType I&#39;m using:\r\nMap&lt;String, Map&lt;String, Object&gt;&gt; userDetails = new HashMap&lt;String, Map&lt;String, Object&gt;&gt;();\r\n\r\nSample Data:\r\n\r\n```\r\n{\r\n  &quot;user1&quot;: {\r\n    &quot;admin&quot;: {\r\n      &quot;department_name&quot;: &quot;Marketing&quot;,\r\n      &quot;first_name&quot;: &quot;Peter&quot;\r\n    },\r\n    &quot;editor&quot;: {\r\n      &quot;department_name&quot;: &quot;Sales&quot;,\r\n      &quot;first_name&quot;: &quot;John&quot;\r\n    }\r\n  },\r\n  &quot;user2&quot;: {\r\n    &quot;admin&quot;: {\r\n      &quot;department_name&quot;: &quot;Advertisement&quot;,\r\n      &quot;first_name&quot;: &quot;Emmanuel&quot;\r\n    },\r\n    &quot;editor&quot;: {\r\n      &quot;department_name&quot;: &quot;HR&quot;,\r\n      &quot;first_name&quot;: &quot;Anna&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m expecting to store all the values inside a List&lt;Map&lt;String, Object&gt;&gt;\r\n\r\n\r\n```\r\n[\r\n  {\r\n    &quot;department_name&quot;: &quot;Marketing&quot;,\r\n    &quot;first_name&quot;: &quot;Peter&quot;\r\n  },\r\n  {\r\n    &quot;department_name&quot;: &quot;Sales&quot;,\r\n    &quot;first_name&quot;: &quot;John&quot;\r\n  },\r\n  {\r\n    &quot;department_name&quot;: &quot;Advertisement&quot;,\r\n    &quot;first_name&quot;: &quot;Emmanuel&quot;\r\n  },\r\n  {\r\n    &quot;department_name&quot;: &quot;HR&quot;,\r\n    &quot;first_name&quot;: &quot;Anna&quot;\r\n  }\r\n]\r\n```\r\n\r\n","title":"How to get values from a Map of Map in JAVA","body":"<p>I'm trying to fetch all the values from Map inside a Map</p>\n<p>DataType I'm using:\nMap&lt;String, Map&lt;String, Object&gt;&gt; userDetails = new HashMap&lt;String, Map&lt;String, Object&gt;&gt;();</p>\n<p>Sample Data:</p>\n<pre><code>{\n  &quot;user1&quot;: {\n    &quot;admin&quot;: {\n      &quot;department_name&quot;: &quot;Marketing&quot;,\n      &quot;first_name&quot;: &quot;Peter&quot;\n    },\n    &quot;editor&quot;: {\n      &quot;department_name&quot;: &quot;Sales&quot;,\n      &quot;first_name&quot;: &quot;John&quot;\n    }\n  },\n  &quot;user2&quot;: {\n    &quot;admin&quot;: {\n      &quot;department_name&quot;: &quot;Advertisement&quot;,\n      &quot;first_name&quot;: &quot;Emmanuel&quot;\n    },\n    &quot;editor&quot;: {\n      &quot;department_name&quot;: &quot;HR&quot;,\n      &quot;first_name&quot;: &quot;Anna&quot;\n    }\n  }\n}\n</code></pre>\n<p>I'm expecting to store all the values inside a List&lt;Map&lt;String, Object&gt;&gt;</p>\n<pre><code>[\n  {\n    &quot;department_name&quot;: &quot;Marketing&quot;,\n    &quot;first_name&quot;: &quot;Peter&quot;\n  },\n  {\n    &quot;department_name&quot;: &quot;Sales&quot;,\n    &quot;first_name&quot;: &quot;John&quot;\n  },\n  {\n    &quot;department_name&quot;: &quot;Advertisement&quot;,\n    &quot;first_name&quot;: &quot;Emmanuel&quot;\n  },\n  {\n    &quot;department_name&quot;: &quot;HR&quot;,\n    &quot;first_name&quot;: &quot;Anna&quot;\n  }\n]\n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1679700168,"post_id":75838591,"comment_id":133773859,"body_markdown":"Unless you have absolutely no alternative, please do not use `Date` and `SimpleDateFormat`. Please use the more modern and more robust `java.time` classes. [Background info](https://stackoverflow.com/q/32437550/12567365). [More background info](https://www.baeldung.com/migrating-to-java-8-date-time-api).","body":"Unless you have absolutely no alternative, please do not use <code>Date</code> and <code>SimpleDateFormat</code>. Please use the more modern and more robust <code>java.time</code> classes. <a href=\"https://stackoverflow.com/q/32437550/12567365\">Background info</a>. <a href=\"https://www.baeldung.com/migrating-to-java-8-date-time-api\" rel=\"nofollow noreferrer\">More background info</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679721057,"post_id":75838591,"comment_id":133775536,"body_markdown":"@andrewJames 100 % agree. And while one sometimes has no alternative to getting a `Date` from a legacy API that one cannot upgrade, the OP certainly has a better alternative to `SimpleDateFormat`, a notorious troublemaker of a class. Convert the old-fashioned `Date` to a modern `Instant` using its `toInstant` method and perform further conversions from there.","body":"@andrewJames 100 % agree. And while one sometimes has no alternative to getting a <code>Date</code> from a legacy API that one cannot upgrade, the OP certainly has a better alternative to <code>SimpleDateFormat</code>, a notorious troublemaker of a class. Convert the old-fashioned <code>Date</code> to a modern <code>Instant</code> using its <code>toInstant</code> method and perform further conversions from there."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679721546,"post_id":75838591,"comment_id":133775573,"body_markdown":"I cannot reproduce. Your code runs fine for me and produces `2023-03-24T22:31:00+02:00`.  Please double-check whether you have in fact posted the code that produced the exception into your question. Better yet, create a [mre].","body":"I cannot reproduce. Your code runs fine for me and produces <code>2023-03-24T22:31:00+02:00</code>.  Please double-check whether you have in fact posted the code that produced the exception into your question. Better yet, create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679721838,"post_id":75838591,"comment_id":133775596,"body_markdown":"The easy and modern way to get your desired string from an old-fashioned `Date` object would be `currentTimeStampInUtc .toInstant() .atZone(ZoneId.systemDefault()) .format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)`. It gives the same result as your code (may also print the milliseconds if they are non-zero, which for most purposes would be an advantage).","body":"The easy and modern way to get your desired string from an old-fashioned <code>Date</code> object would be <code>currentTimeStampInUtc .toInstant() .atZone(ZoneId.systemDefault()) .format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)</code>. It gives the same result as your code (may also print the milliseconds if they are non-zero, which for most purposes would be an advantage)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679722086,"post_id":75838591,"comment_id":133775617,"body_markdown":"Does this answer your question? [Java : Cannot format given Object as a Date](https://stackoverflow.com/questions/10649782/java-cannot-format-given-object-as-a-date). [My answer there](https://stackoverflow.com/a/52405866/5772882) uses java.time as I recommend. Tip: paste your error message into your search engine.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10649782/java-cannot-format-given-object-as-a-date\">Java : Cannot format given Object as a Date</a>. <a href=\"https://stackoverflow.com/a/52405866/5772882\">My answer there</a> uses java.time as I recommend. Tip: paste your error message into your search engine."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679759664,"creation_date":1679704820,"answer_id":75839049,"question_id":75838591,"body_markdown":"Here is how you could do it. I recommend using the newer and more robust classes from the [java.time](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html) package.\r\n```\r\nString dateTime = &quot;Mar 24 22:31:00 EET 2023&quot;;\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMM dd HH:mm:ss z yyyy&quot;);\r\nZonedDateTime zdt = ZonedDateTime.parse(dateTime,dtf);\r\nSystem.out.println(zdt);\r\n```\r\nNow print the parsed local date time in its default format, per the [ISO 8601][1] standard.\r\n```\r\nSystem.out.println(zdt);\r\n```\r\nprints\r\n```\r\n2023-03-24T22:31+02:00[Europe/Bucharest]\r\n```\r\nNow format the output to force the appearance of seconds even when zero.\r\n```\r\nDateTimeFormatter odtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\nString output = zdt.format(odtf);\r\nSystem.out.println(output);\r\n```\r\nprints\r\n```\r\n2023-03-24T22:31:00+0200\r\n\r\n```\r\nThe only difference is the `00` seconds on the last output. Had the seconds been non-zero, the two outputs would have been the same.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"Converting date with timezone to string format","body":"<p>Here is how you could do it. I recommend using the newer and more robust classes from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.</p>\n<pre><code>String dateTime = &quot;Mar 24 22:31:00 EET 2023&quot;;\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMM dd HH:mm:ss z yyyy&quot;);\nZonedDateTime zdt = ZonedDateTime.parse(dateTime,dtf);\nSystem.out.println(zdt);\n</code></pre>\n<p>Now print the parsed local date time in its default format, per the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard.</p>\n<pre><code>System.out.println(zdt);\n</code></pre>\n<p>prints</p>\n<pre><code>2023-03-24T22:31+02:00[Europe/Bucharest]\n</code></pre>\n<p>Now format the output to force the appearance of seconds even when zero.</p>\n<pre><code>DateTimeFormatter odtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;);\nString output = zdt.format(odtf);\nSystem.out.println(output);\n</code></pre>\n<p>prints</p>\n<pre><code>2023-03-24T22:31:00+0200\n\n</code></pre>\n<p>The only difference is the <code>00</code> seconds on the last output. Had the seconds been non-zero, the two outputs would have been the same.</p>\n"}],"owner":{"account_id":23710186,"reputation":85,"user_id":17732139,"display_name":"Joel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679759664,"creation_date":1679697471,"question_id":75838591,"body_markdown":"I have this date object which when is printed to the console is &quot;Mar 24 22:31:00 EET 2023&quot;, now I want to convert this date to the following format : yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX what I have tried is the following:\r\n\r\n        Date currentTimeStampInUtc =//the utc date retrieved\r\n        final DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n        String currentTimeFormattedWithTimezone = format.format(currentTimeStampInUtc);\r\n\r\nbut I get an exception &quot;Cannot format given Object as a Date&quot;. Any suggestions how to forma the Date object to the given format?","title":"Converting date with timezone to string format","body":"<p>I have this date object which when is printed to the console is &quot;Mar 24 22:31:00 EET 2023&quot;, now I want to convert this date to the following format : yyyy-MM-dd'T'HH:mm:ssXXX what I have tried is the following:</p>\n<pre><code>    Date currentTimeStampInUtc =//the utc date retrieved\n    final DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;);\n    String currentTimeFormattedWithTimezone = format.format(currentTimeStampInUtc);\n</code></pre>\n<p>but I get an exception &quot;Cannot format given Object as a Date&quot;. Any suggestions how to forma the Date object to the given format?</p>\n"},{"tags":["java","azure","azure-keyvault","pfx"],"answers":[{"tags":[],"owner":{"account_id":23058397,"reputation":259,"user_id":17174122,"display_name":"Esta Nagy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679759020,"creation_date":1679759020,"answer_id":75842785,"question_id":75832393,"body_markdown":"The PEM/PFX is stored as a secret using the same name and version as the certificate. When you download the data, the PFX will have a blank password.","title":"Azure keyvault get certificate using java","body":"<p>The PEM/PFX is stored as a secret using the same name and version as the certificate. When you download the data, the PFX will have a blank password.</p>\n"}],"owner":{"account_id":10625553,"reputation":3067,"user_id":7825294,"accept_rate":73,"display_name":"Sunflame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679759020,"creation_date":1679653046,"question_id":75832393,"body_markdown":"I uploaded a certificate to the Azure KeyVault in pfx format, with a password and I want to use it in my java application. Here is how I download the certificate:\r\n\r\n        CertificateClient certificateClient = new CertificateClientBuilder()\r\n                .vaultUrl(&quot;&lt;kv-url&gt;&quot;)\r\n                .credential(new DefaultAzureCredentialBuilder()\r\n                        .authorityHost(&quot;https://login.microsoftonline.com/&quot;)\r\n                        .build())\r\n                .buildClient();\r\n        KeyVaultCertificateWithPolicy certificate = certificateClient\r\n                .getCertificate(&quot;&lt;cert-name&gt;&quot;);.\r\n\r\nI want to convert my certificate back to pfx, but it downloads only in CER format. \r\nIn the portal there are two possibilities:\r\n[![enter image description here][1]][1]\r\n\r\nIf I download in CER format then I get back the exact string if I would do the following in java:\r\n\r\n        String s = DatatypeConverter.printBase64Binary(certificate.getCer());\r\n        System.out.println(s); // this gives me back the same as download CER\r\n\r\nbut... I need the pfx format, which is available in the portal but I don&#39;t see any options in java.\r\n\r\nI also tried to convert the downloaded CER to PFX like this:\r\n\r\n        Base64.Decoder decoder = Base64.getDecoder();\r\n        byte[] decode = decoder.decode(s);\r\n\r\n        InputStream inputStream = new ByteArrayInputStream(decode);\r\n\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n            keyStore.load(inputStream,&quot;&lt;password&gt;&quot;.toCharArray());\r\n\r\n        } catch (CertificateException | KeyStoreException | IOException | NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\nbut then I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: java.io.IOException: DER input, Integer tag error\r\n    \tat main.Application.main(Application.java:57)\r\n    Caused by: java.io.IOException: DER input, Integer tag error\r\n    \tat sun.security.util.DerInputStream.getInteger(DerInputStream.java:195)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1948)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n    \tat main.Application.main(Application.java:54)\r\n\r\nCan you please help me either a way to download directly in pfx format from the KeyVault or to convert the CER to PFX? \r\n\r\n  [1]: https://i.stack.imgur.com/PrDo8.png","title":"Azure keyvault get certificate using java","body":"<p>I uploaded a certificate to the Azure KeyVault in pfx format, with a password and I want to use it in my java application. Here is how I download the certificate:</p>\n<pre><code>    CertificateClient certificateClient = new CertificateClientBuilder()\n            .vaultUrl(&quot;&lt;kv-url&gt;&quot;)\n            .credential(new DefaultAzureCredentialBuilder()\n                    .authorityHost(&quot;https://login.microsoftonline.com/&quot;)\n                    .build())\n            .buildClient();\n    KeyVaultCertificateWithPolicy certificate = certificateClient\n            .getCertificate(&quot;&lt;cert-name&gt;&quot;);.\n</code></pre>\n<p>I want to convert my certificate back to pfx, but it downloads only in CER format.\nIn the portal there are two possibilities:\n<a href=\"https://i.stack.imgur.com/PrDo8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PrDo8.png\" alt=\"enter image description here\" /></a></p>\n<p>If I download in CER format then I get back the exact string if I would do the following in java:</p>\n<pre><code>    String s = DatatypeConverter.printBase64Binary(certificate.getCer());\n    System.out.println(s); // this gives me back the same as download CER\n</code></pre>\n<p>but... I need the pfx format, which is available in the portal but I don't see any options in java.</p>\n<p>I also tried to convert the downloaded CER to PFX like this:</p>\n<pre><code>    Base64.Decoder decoder = Base64.getDecoder();\n    byte[] decode = decoder.decode(s);\n\n    InputStream inputStream = new ByteArrayInputStream(decode);\n\n    try {\n        KeyStore keyStore = KeyStore.getInstance(&quot;pkcs12&quot;);\n        keyStore.load(inputStream,&quot;&lt;password&gt;&quot;.toCharArray());\n\n    } catch (CertificateException | KeyStoreException | IOException | NoSuchAlgorithmException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>but then I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.io.IOException: DER input, Integer tag error\n    at main.Application.main(Application.java:57)\nCaused by: java.io.IOException: DER input, Integer tag error\n    at sun.security.util.DerInputStream.getInteger(DerInputStream.java:195)\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1948)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n    at main.Application.main(Application.java:54)\n</code></pre>\n<p>Can you please help me either a way to download directly in pfx format from the KeyVault or to convert the CER to PFX?</p>\n"},{"tags":["java","oracle","oracle-sqldeveloper"],"comments":[{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1532963646,"post_id":51595477,"comment_id":90160219,"body_markdown":"I don&#39;t know what version or what OS you&#39;re running, on, but try to find your system.x.y.z where x.y.z = your SQLDev version - this is where all of the application settings are stored on your machine, and rename it. if on windows, it&#39;ll be on AppData, Roaming Profiles, SQL Developer folder","body":"I don&#39;t know what version or what OS you&#39;re running, on, but try to find your system.x.y.z where x.y.z = your SQLDev version - this is where all of the application settings are stored on your machine, and rename it. if on windows, it&#39;ll be on AppData, Roaming Profiles, SQL Developer folder"}],"answers":[{"tags":[],"owner":{"account_id":14187270,"reputation":1,"user_id":10248876,"display_name":"James Sreekanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534761550,"creation_date":1534761550,"answer_id":51928961,"question_id":51595477,"body_markdown":"I got the same error while exporting the file in CSV format. I spent 2 days to for finding a solution for this but didn&#39;t find any useful resource online. So, I did the following to solve this.\r\n\r\n&gt; What Went Wrong is I have given the wrong Naming convention. Given &quot; : &quot; (colon) symbol while saving the file.\r\n&gt; So in order to resolve, go to the path where we usually save the export file in my case it is &quot;C:\\Users\\admin\\export.sql&quot; the path.\r\n&gt; From here delete the file which you have saved by giving &quot; : &quot; (colon).\r\n&gt; That&#39;s it solves the above exception and you export will work properly.\r\n\r\nHope this will be helpful.\r\n\r\n","title":"Oracle SQL Developer InvocationTargetException while trying to export data","body":"<p>I got the same error while exporting the file in CSV format. I spent 2 days to for finding a solution for this but didn't find any useful resource online. So, I did the following to solve this.</p>\n\n<blockquote>\n  <p>What Went Wrong is I have given the wrong Naming convention. Given \" : \" (colon) symbol while saving the file.\n  So in order to resolve, go to the path where we usually save the export file in my case it is \"C:\\Users\\admin\\export.sql\" the path.\n  From here delete the file which you have saved by giving \" : \" (colon).\n  That's it solves the above exception and you export will work properly.</p>\n</blockquote>\n\n<p>Hope this will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":2543653,"reputation":1780,"user_id":2208909,"display_name":"Feng Zhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566855320,"creation_date":1566855320,"answer_id":57665230,"question_id":51595477,"body_markdown":"to me this is a memory issue. I shutdown all other apps and restarted sql developer and the issue was gone. ","title":"Oracle SQL Developer InvocationTargetException while trying to export data","body":"<p>to me this is a memory issue. I shutdown all other apps and restarted sql developer and the issue was gone. </p>\n"},{"tags":[],"owner":{"account_id":11160604,"reputation":1,"user_id":11660988,"display_name":"yanan Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649256537,"creation_date":1649256537,"answer_id":71768934,"question_id":51595477,"body_markdown":"\r\nJaguars Member Posts: 11\r\nFeb 3, 2019 2:40AM edited Feb 3, 2019 2:40AM \r\nnevermind...Added below to SQL Developer installation&#39;s sqldeveloper.conf file:\r\n\r\nAddVMOption -Dide.user.dir=C:/SQLDev/.sqldeveloper\r\n\r\nWorks fine now.\r\n\r\nhttps://www.databaseadm.com/article/14124622/Encountering+error+%22URI+has+an+authority+component%22+on+certain+SQLDev+o…\r\n\r\nShare on Twitter\r\n","title":"Oracle SQL Developer InvocationTargetException while trying to export data","body":"<p>Jaguars Member Posts: 11\nFeb 3, 2019 2:40AM edited Feb 3, 2019 2:40AM\nnevermind...Added below to SQL Developer installation's sqldeveloper.conf file:</p>\n<p>AddVMOption -Dide.user.dir=C:/SQLDev/.sqldeveloper</p>\n<p>Works fine now.</p>\n<p><a href=\"https://www.databaseadm.com/article/14124622/Encountering+error+%22URI+has+an+authority+component%22+on+certain+SQLDev+o%E2%80%A6\" rel=\"nofollow noreferrer\">https://www.databaseadm.com/article/14124622/Encountering+error+%22URI+has+an+authority+component%22+on+certain+SQLDev+o…</a></p>\n<p>Share on Twitter</p>\n"},{"tags":[],"owner":{"account_id":28123374,"reputation":1,"user_id":21489231,"display_name":"Uttam singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679758999,"creation_date":1679758999,"answer_id":75842782,"question_id":51595477,"body_markdown":"Delete all the recent files you have downloaded (exported) even from recycle bin itself... It will work for sure !! I did that \r\n\r\nThis issue comes only when you download file with some wrong extention like DAT file etc... So delete all recent files","title":"Oracle SQL Developer InvocationTargetException while trying to export data","body":"<p>Delete all the recent files you have downloaded (exported) even from recycle bin itself... It will work for sure !! I did that</p>\n<p>This issue comes only when you download file with some wrong extention like DAT file etc... So delete all recent files</p>\n"}],"owner":{"account_id":11925161,"reputation":411,"user_id":8726657,"accept_rate":80,"display_name":"Trillian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1679758999,"creation_date":1532958494,"question_id":51595477,"body_markdown":"I used to export data easyly from the result of a query in Oracle SQL Developer. Since last week i get an error everytime i try to export the results. I didn&#39;t change any settings. The error i get is: \r\n\r\n \r\n\r\n&gt; java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n\tat oracle.ide.panels.MetaTraversable.newTraversable(MetaTraversable.java:315)\r\n\tat oracle.ide.wizard.Step.newTraversable(Step.java:171)\r\n\tat oracle.ide.wizard.FSMStateInfo.getTraversable(FSMStateInfo.java:99)\r\n\tat oracle.ide.wizard.FSMWizard._addPage(FSMWizard.java:580)\r\n\tat oracle.ide.wizard.FSMWizard._populatePages(FSMWizard.java:534)\r\n\tat oracle.ide.wizard.FSMWizard.&lt;init&gt;(FSMWizard.java:121)\r\n\tat oracle.dbtools.raptor.export.wizard.ExportWizMain.launchWizard(ExportWizMain.java:226)\r\n\tat oracle.dbtools.raptor.export.wizard.ExportWizMain.launchForGrid(ExportWizMain.java:204)\r\n\tat oracle.dbtools.raptor.dialogs.actions.TableExportAction.launchForGrid(TableExportAction.java:73)\r\n\tat oracle.dbtools.raptor.controls.grid.contextmenu.ExportGrid$1.actionPerformed(ExportGrid.java:165)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2346)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.AbstractButton.doClick(AbstractButton.java:376)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6525)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6290)\r\n\tat java.awt.Container.processEvent(Container.java:2234)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4881)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2292)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4703)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4898)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4533)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4462)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2278)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2750)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4703)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:729)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n\tat oracle.javatools.internal.ui.EventQueueWrapper._dispatchEvent(EventQueueWrapper.java:169)\r\n\tat oracle.javatools.internal.ui.EventQueueWrapper.dispatchEvent(EventQueueWrapper.java:151)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: java.lang.NullPointerException\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.setCurrentDirectory(URLFileChooser.java:495)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.setToFirstContextPathDirectory(URLFileChooser.java:1479)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.setCurrentDirectoryFromPathContext(URLFileChooser.java:1455)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.setDefaultPathContext(URLFileChooser.java:1521)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.&lt;init&gt;(URLFileChooser.java:129)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.&lt;init&gt;(URLFileChooser.java:113)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.&lt;init&gt;(URLFileChooser.java:109)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.&lt;init&gt;(URLFileChooser.java:105)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser$URLFileChooserPanel.&lt;init&gt;(URLFileChooser.java:819)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser$URLFileChooserPanel.&lt;init&gt;(URLFileChooser.java:877)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.createURLFileChooserPanel(URLFileChooser.java:782)\r\n\tat oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.initFilePanel(TargetOptionsPanel.java:237)\r\n\tat oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.&lt;init&gt;(TargetOptionsPanel.java:63)\r\n\tat oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.&lt;init&gt;(TargetOptionsPanel.java:55)\r\n\tat oracle.dbtools.raptor.export.wizard.ExportWizDestinstaionPanel.&lt;init&gt;(ExportWizDestinstaionPanel.java:97)\r\n\t... 54 more\r\njava.lang.NullPointerException\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.setCurrentDirectory(URLFileChooser.java:495)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.setToFirstContextPathDirectory(URLFileChooser.java:1479)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.setCurrentDirectoryFromPathContext(URLFileChooser.java:1455)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.setDefaultPathContext(URLFileChooser.java:1521)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.&lt;init&gt;(URLFileChooser.java:129)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.&lt;init&gt;(URLFileChooser.java:113)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.&lt;init&gt;(URLFileChooser.java:109)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.&lt;init&gt;(URLFileChooser.java:105)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser$URLFileChooserPanel.&lt;init&gt;(URLFileChooser.java:819)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser$URLFileChooserPanel.&lt;init&gt;(URLFileChooser.java:877)\r\n\tat oracle.dbtools.raptor.ui.URLFileChooser.createURLFileChooserPanel(URLFileChooser.java:782)\r\n\tat oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.initFilePanel(TargetOptionsPanel.java:237)\r\n\tat oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.&lt;init&gt;(TargetOptionsPanel.java:63)\r\n\tat oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.&lt;init&gt;(TargetOptionsPanel.java:55)\r\n\tat oracle.dbtools.raptor.export.wizard.ExportWizDestinstaionPanel.&lt;init&gt;(ExportWizDestinstaionPanel.java:97)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n\tat oracle.ide.panels.MetaTraversable.newTraversable(MetaTraversable.java:315)\r\n\tat oracle.ide.wizard.Step.newTraversable(Step.java:171)\r\n\tat oracle.ide.wizard.FSMStateInfo.getTraversable(FSMStateInfo.java:99)\r\n\tat oracle.ide.wizard.FSMWizard._addPage(FSMWizard.java:580)\r\n\tat oracle.ide.wizard.FSMWizard._populatePages(FSMWizard.java:534)\r\n\tat oracle.ide.wizard.FSMWizard.&lt;init&gt;(FSMWizard.java:121)\r\n\tat oracle.dbtools.raptor.export.wizard.ExportWizMain.launchWizard(ExportWizMain.java:226)\r\n\tat oracle.dbtools.raptor.export.wizard.ExportWizMain.launchForGrid(ExportWizMain.java:204)\r\n\tat oracle.dbtools.raptor.dialogs.actions.TableExportAction.launchForGrid(TableExportAction.java:73)\r\n\tat oracle.dbtools.raptor.controls.grid.contextmenu.ExportGrid$1.actionPerformed(ExportGrid.java:165)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2346)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.AbstractButton.doClick(AbstractButton.java:376)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6525)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6290)\r\n\tat java.awt.Container.processEvent(Container.java:2234)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4881)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2292)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4703)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4898)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4533)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4462)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2278)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2750)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4703)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:729)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n\tat oracle.javatools.internal.ui.EventQueueWrapper._dispatchEvent(EventQueueWrapper.java:169)\r\n\tat oracle.javatools.internal.ui.EventQueueWrapper.dispatchEvent(EventQueueWrapper.java:151)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n\r\nAnd under details i get the following Excetion-Stacktrace:\r\n\r\n&gt; oracle.ide.panels.TraversalException: Internal error in FSM: &#220;bergang nicht gefunden: &lt;null&gt;\r\n\tat oracle.ide.wizard.FSMWizard.handleFSMTransitionException(FSMWizard.java:1225)\r\n\tat oracle.ide.wizard.FSMWizard._canTraverseFSM(FSMWizard.java:805)\r\n\tat oracle.ide.wizard.FSMWizard._validateFSMState(FSMWizard.java:671)\r\n\tat oracle.ide.wizard.FSMWizard.selectPage(FSMWizard.java:453)\r\n\tat oracle.bali.ewt.wizard.WizardRoadMap$Listener$1.run(WizardRoadMap.java:1157)\r\n\tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:726)\r\n\tat oracle.javatools.internal.ui.EventQueueWrapper._dispatchEvent(EventQueueWrapper.java:169)\r\n\tat oracle.javatools.internal.ui.EventQueueWrapper.dispatchEvent(EventQueueWrapper.java:151)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:109)\r\n\tat java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:184)\r\n\tat java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:229)\r\n\tat java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:227)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:227)\r\n\tat java.awt.Dialog.show(Dialog.java:1084)\r\n\tat java.awt.Component.show(Component.java:1654)\r\n\tat java.awt.Component.setVisible(Component.java:1606)\r\n\tat java.awt.Window.setVisible(Window.java:1014)\r\n\tat java.awt.Dialog.setVisible(Dialog.java:1005)\r\n\tat oracle.bali.ewt.wizard.WizardDialog.runDialog(WizardDialog.java:382)\r\n\tat oracle.bali.ewt.wizard.WizardDialog.runDialog(WizardDialog.java:298)\r\n\tat oracle.ide.dialogs.WizardLauncher.runDialog(WizardLauncher.java:51)\r\n\tat oracle.dbtools.raptor.export.wizard.ExportWizMain.launchWizard(ExportWizMain.java:251)\r\n\tat oracle.dbtools.raptor.export.wizard.ExportWizMain.launchForGrid(ExportWizMain.java:204)\r\n\tat oracle.dbtools.raptor.dialogs.actions.TableExportAction.launchForGrid(TableExportAction.java:73)\r\n\tat oracle.dbtools.raptor.controls.grid.contextmenu.ExportGrid$1.actionPerformed(ExportGrid.java:165)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2346)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.AbstractButton.doClick(AbstractButton.java:376)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\r\n\tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6525)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6290)\r\n\tat java.awt.Container.processEvent(Container.java:2234)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4881)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2292)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4703)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4898)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4533)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4462)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2278)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2750)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4703)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:729)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n\tat oracle.javatools.internal.ui.EventQueueWrapper._dispatchEvent(EventQueueWrapper.java:169)\r\n\tat oracle.javatools.internal.ui.EventQueueWrapper.dispatchEvent(EventQueueWrapper.java:151)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n\r\nAny idea how to get this solved?","title":"Oracle SQL Developer InvocationTargetException while trying to export data","body":"<p>I used to export data easyly from the result of a query in Oracle SQL Developer. Since last week i get an error everytime i try to export the results. I didn't change any settings. The error i get is: </p>\n\n<blockquote>\n  <p>java.lang.reflect.InvocationTargetException\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n      at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n      at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n      at oracle.ide.panels.MetaTraversable.newTraversable(MetaTraversable.java:315)\n      at oracle.ide.wizard.Step.newTraversable(Step.java:171)\n      at oracle.ide.wizard.FSMStateInfo.getTraversable(FSMStateInfo.java:99)\n      at oracle.ide.wizard.FSMWizard._addPage(FSMWizard.java:580)\n      at oracle.ide.wizard.FSMWizard._populatePages(FSMWizard.java:534)\n      at oracle.ide.wizard.FSMWizard.(FSMWizard.java:121)\n      at oracle.dbtools.raptor.export.wizard.ExportWizMain.launchWizard(ExportWizMain.java:226)\n      at oracle.dbtools.raptor.export.wizard.ExportWizMain.launchForGrid(ExportWizMain.java:204)\n      at oracle.dbtools.raptor.dialogs.actions.TableExportAction.launchForGrid(TableExportAction.java:73)\n      at oracle.dbtools.raptor.controls.grid.contextmenu.ExportGrid$1.actionPerformed(ExportGrid.java:165)\n      at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n      at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2346)\n      at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n      at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n      at javax.swing.AbstractButton.doClick(AbstractButton.java:376)\n      at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\n      at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\n      at java.awt.Component.processMouseEvent(Component.java:6525)\n      at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n      at java.awt.Component.processEvent(Component.java:6290)\n      at java.awt.Container.processEvent(Container.java:2234)\n      at java.awt.Component.dispatchEventImpl(Component.java:4881)\n      at java.awt.Container.dispatchEventImpl(Container.java:2292)\n      at java.awt.Component.dispatchEvent(Component.java:4703)\n      at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4898)\n      at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4533)\n      at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4462)\n      at java.awt.Container.dispatchEventImpl(Container.java:2278)\n      at java.awt.Window.dispatchEventImpl(Window.java:2750)\n      at java.awt.Component.dispatchEvent(Component.java:4703)\n      at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n      at java.awt.EventQueue.access$500(EventQueue.java:97)\n      at java.awt.EventQueue$3.run(EventQueue.java:709)\n      at java.awt.EventQueue$3.run(EventQueue.java:703)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:86)\n      at java.awt.EventQueue$4.run(EventQueue.java:731)\n      at java.awt.EventQueue$4.run(EventQueue.java:729)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\n      at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n      at oracle.javatools.internal.ui.EventQueueWrapper._dispatchEvent(EventQueueWrapper.java:169)\n      at oracle.javatools.internal.ui.EventQueueWrapper.dispatchEvent(EventQueueWrapper.java:151)\n      at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n      at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n      at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n      at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n      at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n      at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n  Caused by: java.lang.NullPointerException\n      at oracle.dbtools.raptor.ui.URLFileChooser.setCurrentDirectory(URLFileChooser.java:495)\n      at oracle.dbtools.raptor.ui.URLFileChooser.setToFirstContextPathDirectory(URLFileChooser.java:1479)\n      at oracle.dbtools.raptor.ui.URLFileChooser.setCurrentDirectoryFromPathContext(URLFileChooser.java:1455)\n      at oracle.dbtools.raptor.ui.URLFileChooser.setDefaultPathContext(URLFileChooser.java:1521)\n      at oracle.dbtools.raptor.ui.URLFileChooser.(URLFileChooser.java:129)\n      at oracle.dbtools.raptor.ui.URLFileChooser.(URLFileChooser.java:113)\n      at oracle.dbtools.raptor.ui.URLFileChooser.(URLFileChooser.java:109)\n      at oracle.dbtools.raptor.ui.URLFileChooser.(URLFileChooser.java:105)\n      at oracle.dbtools.raptor.ui.URLFileChooser$URLFileChooserPanel.(URLFileChooser.java:819)\n      at oracle.dbtools.raptor.ui.URLFileChooser$URLFileChooserPanel.(URLFileChooser.java:877)\n      at oracle.dbtools.raptor.ui.URLFileChooser.createURLFileChooserPanel(URLFileChooser.java:782)\n      at oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.initFilePanel(TargetOptionsPanel.java:237)\n      at oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.(TargetOptionsPanel.java:63)\n      at oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.(TargetOptionsPanel.java:55)\n      at oracle.dbtools.raptor.export.wizard.ExportWizDestinstaionPanel.(ExportWizDestinstaionPanel.java:97)\n      ... 54 more\n  java.lang.NullPointerException\n      at oracle.dbtools.raptor.ui.URLFileChooser.setCurrentDirectory(URLFileChooser.java:495)\n      at oracle.dbtools.raptor.ui.URLFileChooser.setToFirstContextPathDirectory(URLFileChooser.java:1479)\n      at oracle.dbtools.raptor.ui.URLFileChooser.setCurrentDirectoryFromPathContext(URLFileChooser.java:1455)\n      at oracle.dbtools.raptor.ui.URLFileChooser.setDefaultPathContext(URLFileChooser.java:1521)\n      at oracle.dbtools.raptor.ui.URLFileChooser.(URLFileChooser.java:129)\n      at oracle.dbtools.raptor.ui.URLFileChooser.(URLFileChooser.java:113)\n      at oracle.dbtools.raptor.ui.URLFileChooser.(URLFileChooser.java:109)\n      at oracle.dbtools.raptor.ui.URLFileChooser.(URLFileChooser.java:105)\n      at oracle.dbtools.raptor.ui.URLFileChooser$URLFileChooserPanel.(URLFileChooser.java:819)\n      at oracle.dbtools.raptor.ui.URLFileChooser$URLFileChooserPanel.(URLFileChooser.java:877)\n      at oracle.dbtools.raptor.ui.URLFileChooser.createURLFileChooserPanel(URLFileChooser.java:782)\n      at oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.initFilePanel(TargetOptionsPanel.java:237)\n      at oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.(TargetOptionsPanel.java:63)\n      at oracle.dbtools.raptor.export.wizard.TargetOptionsPanel.(TargetOptionsPanel.java:55)\n      at oracle.dbtools.raptor.export.wizard.ExportWizDestinstaionPanel.(ExportWizDestinstaionPanel.java:97)\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n      at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n      at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n      at oracle.ide.panels.MetaTraversable.newTraversable(MetaTraversable.java:315)\n      at oracle.ide.wizard.Step.newTraversable(Step.java:171)\n      at oracle.ide.wizard.FSMStateInfo.getTraversable(FSMStateInfo.java:99)\n      at oracle.ide.wizard.FSMWizard._addPage(FSMWizard.java:580)\n      at oracle.ide.wizard.FSMWizard._populatePages(FSMWizard.java:534)\n      at oracle.ide.wizard.FSMWizard.(FSMWizard.java:121)\n      at oracle.dbtools.raptor.export.wizard.ExportWizMain.launchWizard(ExportWizMain.java:226)\n      at oracle.dbtools.raptor.export.wizard.ExportWizMain.launchForGrid(ExportWizMain.java:204)\n      at oracle.dbtools.raptor.dialogs.actions.TableExportAction.launchForGrid(TableExportAction.java:73)\n      at oracle.dbtools.raptor.controls.grid.contextmenu.ExportGrid$1.actionPerformed(ExportGrid.java:165)\n      at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n      at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2346)\n      at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n      at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n      at javax.swing.AbstractButton.doClick(AbstractButton.java:376)\n      at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\n      at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\n      at java.awt.Component.processMouseEvent(Component.java:6525)\n      at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n      at java.awt.Component.processEvent(Component.java:6290)\n      at java.awt.Container.processEvent(Container.java:2234)\n      at java.awt.Component.dispatchEventImpl(Component.java:4881)\n      at java.awt.Container.dispatchEventImpl(Container.java:2292)\n      at java.awt.Component.dispatchEvent(Component.java:4703)\n      at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4898)\n      at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4533)\n      at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4462)\n      at java.awt.Container.dispatchEventImpl(Container.java:2278)\n      at java.awt.Window.dispatchEventImpl(Window.java:2750)\n      at java.awt.Component.dispatchEvent(Component.java:4703)\n      at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n      at java.awt.EventQueue.access$500(EventQueue.java:97)\n      at java.awt.EventQueue$3.run(EventQueue.java:709)\n      at java.awt.EventQueue$3.run(EventQueue.java:703)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:86)\n      at java.awt.EventQueue$4.run(EventQueue.java:731)\n      at java.awt.EventQueue$4.run(EventQueue.java:729)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\n      at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n      at oracle.javatools.internal.ui.EventQueueWrapper._dispatchEvent(EventQueueWrapper.java:169)\n      at oracle.javatools.internal.ui.EventQueueWrapper.dispatchEvent(EventQueueWrapper.java:151)\n      at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n      at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n      at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n      at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n      at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n      at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)</p>\n</blockquote>\n\n<p>And under details i get the following Excetion-Stacktrace:</p>\n\n<blockquote>\n  <p>oracle.ide.panels.TraversalException: Internal error in FSM: Übergang nicht gefunden: \n      at oracle.ide.wizard.FSMWizard.handleFSMTransitionException(FSMWizard.java:1225)\n      at oracle.ide.wizard.FSMWizard._canTraverseFSM(FSMWizard.java:805)\n      at oracle.ide.wizard.FSMWizard._validateFSMState(FSMWizard.java:671)\n      at oracle.ide.wizard.FSMWizard.selectPage(FSMWizard.java:453)\n      at oracle.bali.ewt.wizard.WizardRoadMap$Listener$1.run(WizardRoadMap.java:1157)\n      at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\n      at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)\n      at java.awt.EventQueue.access$500(EventQueue.java:97)\n      at java.awt.EventQueue$3.run(EventQueue.java:709)\n      at java.awt.EventQueue$3.run(EventQueue.java:703)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\n      at java.awt.EventQueue.dispatchEvent(EventQueue.java:726)\n      at oracle.javatools.internal.ui.EventQueueWrapper._dispatchEvent(EventQueueWrapper.java:169)\n      at oracle.javatools.internal.ui.EventQueueWrapper.dispatchEvent(EventQueueWrapper.java:151)\n      at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n      at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n      at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:109)\n      at java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:184)\n      at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:229)\n      at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:227)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:227)\n      at java.awt.Dialog.show(Dialog.java:1084)\n      at java.awt.Component.show(Component.java:1654)\n      at java.awt.Component.setVisible(Component.java:1606)\n      at java.awt.Window.setVisible(Window.java:1014)\n      at java.awt.Dialog.setVisible(Dialog.java:1005)\n      at oracle.bali.ewt.wizard.WizardDialog.runDialog(WizardDialog.java:382)\n      at oracle.bali.ewt.wizard.WizardDialog.runDialog(WizardDialog.java:298)\n      at oracle.ide.dialogs.WizardLauncher.runDialog(WizardLauncher.java:51)\n      at oracle.dbtools.raptor.export.wizard.ExportWizMain.launchWizard(ExportWizMain.java:251)\n      at oracle.dbtools.raptor.export.wizard.ExportWizMain.launchForGrid(ExportWizMain.java:204)\n      at oracle.dbtools.raptor.dialogs.actions.TableExportAction.launchForGrid(TableExportAction.java:73)\n      at oracle.dbtools.raptor.controls.grid.contextmenu.ExportGrid$1.actionPerformed(ExportGrid.java:165)\n      at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n      at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2346)\n      at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n      at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n      at javax.swing.AbstractButton.doClick(AbstractButton.java:376)\n      at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\n      at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\n      at java.awt.Component.processMouseEvent(Component.java:6525)\n      at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n      at java.awt.Component.processEvent(Component.java:6290)\n      at java.awt.Container.processEvent(Container.java:2234)\n      at java.awt.Component.dispatchEventImpl(Component.java:4881)\n      at java.awt.Container.dispatchEventImpl(Container.java:2292)\n      at java.awt.Component.dispatchEvent(Component.java:4703)\n      at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4898)\n      at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4533)\n      at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4462)\n      at java.awt.Container.dispatchEventImpl(Container.java:2278)\n      at java.awt.Window.dispatchEventImpl(Window.java:2750)\n      at java.awt.Component.dispatchEvent(Component.java:4703)\n      at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n      at java.awt.EventQueue.access$500(EventQueue.java:97)\n      at java.awt.EventQueue$3.run(EventQueue.java:709)\n      at java.awt.EventQueue$3.run(EventQueue.java:703)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:86)\n      at java.awt.EventQueue$4.run(EventQueue.java:731)\n      at java.awt.EventQueue$4.run(EventQueue.java:729)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)\n      at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n      at oracle.javatools.internal.ui.EventQueueWrapper._dispatchEvent(EventQueueWrapper.java:169)\n      at oracle.javatools.internal.ui.EventQueueWrapper.dispatchEvent(EventQueueWrapper.java:151)\n      at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n      at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n      at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n      at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n      at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n      at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)</p>\n</blockquote>\n\n<p>Any idea how to get this solved?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","jpa"],"comments":[{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679645101,"post_id":75831156,"comment_id":133761460,"body_markdown":"Did you add componentscan and tried to scan all packages? if employee repo is entity than use entityscan and try again","body":"Did you add componentscan and tried to scan all packages? if employee repo is entity than use entityscan and try again"},{"owner":{"account_id":16523147,"reputation":47,"user_id":11938702,"display_name":"Surya Reddy"},"score":0,"creation_date":1679645731,"post_id":75831156,"comment_id":133761581,"body_markdown":"EmployeeRepo is not an Entity but a repo so do I need to use Component annotation on that interface and include ComponentScan annotation in my main class?","body":"EmployeeRepo is not an Entity but a repo so do I need to use Component annotation on that interface and include ComponentScan annotation in my main class?"},{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679646175,"post_id":75831156,"comment_id":133761688,"body_markdown":"try using @ComponentScan(basePackages = &quot;com.netsurfingzone&quot;) and mention the base package and also the class path correctly. Try somehthing like this @ComponentScan(\n    basePackageClasses = YourClass.class, \n    useDefaultFilters = false,\n    includeFilters = {\n        @ComponentScan.Filter(type = ASSIGNABLE_TYPE, value = YourClass.class)\n    })","body":"try using @ComponentScan(basePackages = &quot;com.netsurfingzone&quot;) and mention the base package and also the class path correctly. Try somehthing like this @ComponentScan(     basePackageClasses = YourClass.class,      useDefaultFilters = false,     includeFilters = {         @ComponentScan.Filter(type = ASSIGNABLE_TYPE, value = YourClass.class)     })"},{"owner":{"account_id":16523147,"reputation":47,"user_id":11938702,"display_name":"Surya Reddy"},"score":0,"creation_date":1679648339,"post_id":75831156,"comment_id":133762199,"body_markdown":"I am a real novice to this thing. Could You please be clear which class do I need to add in the place of &quot;Your class&quot;? and please confirm whether I need to place that ComponentScan annotation on main class or not? And should I place @Component class annotation on which I will refer in the place of &quot;YourClass&quot;?","body":"I am a real novice to this thing. Could You please be clear which class do I need to add in the place of &quot;Your class&quot;? and please confirm whether I need to place that ComponentScan annotation on main class or not? And should I place @Component class annotation on which I will refer in the place of &quot;YourClass&quot;?"},{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679648571,"post_id":75831156,"comment_id":133762246,"body_markdown":"use the repo class in yourclass and yes you have to add the componentscan in your main class. @ComponentScan(basePackages = &quot;com.example.springjpaoracle&quot;) like this. kindly refer this https://www.baeldung.com/spring-component-scanning","body":"use the repo class in yourclass and yes you have to add the componentscan in your main class. @ComponentScan(basePackages = &quot;com.example.springjpaoracle&quot;) like this. kindly refer this <a href=\"https://www.baeldung.com/spring-component-scanning\" rel=\"nofollow noreferrer\">baeldung.com/spring-component-scanning</a>"},{"owner":{"account_id":16523147,"reputation":47,"user_id":11938702,"display_name":"Surya Reddy"},"score":0,"creation_date":1679651803,"post_id":75831156,"comment_id":133763009,"body_markdown":"But, the repo I have implemented is an interface not a class Edit : EmployeeRepo is an interface","body":"But, the repo I have implemented is an interface not a class Edit : EmployeeRepo is an interface"},{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679652589,"post_id":75831156,"comment_id":133763196,"body_markdown":"its a bean so you have to","body":"its a bean so you have to"}],"answers":[{"tags":[],"owner":{"account_id":22311795,"reputation":26,"user_id":16535681,"display_name":"Sandeep Ray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679758716,"creation_date":1679755731,"answer_id":75842464,"question_id":75831156,"body_markdown":"    @Repository\r\nThe above annotation is missing. You can use this annotation on EmployeeRepo.java file just above declaring the interface.\r\n\r\nYou will also need to add `@ComponentScan(basePackages=&quot;com.example.springjpaoracle&quot;)` \r\nas Murali has suggested in SpringjpaOracleApplication right before declaring it as an annotation. \r\n\r\nHope this helps.","title":"Getting &quot;org.springframework.beans.factory.UnsatisfiedDependencyException while creating a project using Springboot+OracleDB+JPA","body":"<pre><code>@Repository\n</code></pre>\n<p>The above annotation is missing. You can use this annotation on EmployeeRepo.java file just above declaring the interface.</p>\n<p>You will also need to add <code>@ComponentScan(basePackages=&quot;com.example.springjpaoracle&quot;)</code>\nas Murali has suggested in SpringjpaOracleApplication right before declaring it as an annotation.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":16523147,"reputation":47,"user_id":11938702,"display_name":"Surya Reddy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75842464,"answer_count":1,"score":0,"last_activity_date":1679758716,"creation_date":1679644592,"question_id":75831156,"body_markdown":"I am trying to work on a POC in Spring Boot to implement CRUD operations on an Oracle DB using JPA repository.\r\n\r\nThe API calls on my controller are working well but when I try to inject JPA repository, the application failed to start with below exception. \r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error\r\n    creating bean with name &#39;employeeController&#39;: Unsatisfied dependency\r\n    expressed through field &#39;employeeRepo&#39;: Error creating bean with name\r\n    &#39;employeeRepo&#39; defined in com.example.springjpaoracle.repo.EmployeeRepo\r\n    defined in @EnableJpaRepositories declared on SpringjpaOracleApplication: \r\n    Not a managed type: class com.example.springjpaoracle.pojo.Employee\r\n\r\nPlease find the project structure and code below.\r\n\r\n[![Project Structure][1]][1]\r\n\r\nMain Class:\r\n\r\n```package com.example.springjpaoracle;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SpringjpaOracleApplication {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringjpaOracleApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nEmployee.class:\r\n\r\n```\r\npackage com.example.springjpaoracle.pojo;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name=&quot;employees&quot;)\r\npublic class Employee {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int id;\r\n\t@Column\r\n\tprivate String name;\r\n\t@Column\r\n\tprivate double salary;\r\n\t\r\n\t\r\n\tpublic Employee(String name, double salary) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.salary = salary;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic double getSalary() {\r\n\t\treturn salary;\r\n\t}\r\n\tpublic void setSalary(double salary) {\r\n\t\tthis.salary = salary;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Employee [id=&quot; + id + &quot;, name=&quot; + name + &quot;, salary=&quot; + salary + &quot;]&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nEmployeeController.java: (with dummy API call)\r\n\r\n```\r\npackage com.example.springjpaoracle.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.springjpaoracle.pojo.Employee;\r\nimport com.example.springjpaoracle.repo.EmployeeRepo;\r\n\r\n@RestController\r\npublic class EmployeeController {\r\n\t\r\n\t@Autowired\r\n\tEmployeeRepo employeeRepo;\r\n\t\r\n\t@PostMapping(&quot;/employee&quot;)\r\n\tpublic String postEmployee(@RequestBody Employee employee) {\r\n\t\tSystem.out.println(employee.getName());\r\n\t\tSystem.out.println(employee.getSalary());\r\n\t\treturn &quot;Employee Added Successfully &quot;+employee.toString();\r\n\t}\t\r\n}\r\n\r\n```\r\n\r\nEmployeeRepo.java:\r\n\r\n```\r\npackage com.example.springjpaoracle.repo;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.example.springjpaoracle.pojo.Employee;\r\n\r\npublic interface EmployeeRepo extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n```\r\napplication.properties:\r\n\r\n```\r\n#DB Config\r\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:orcl\r\nspring.datasource.username=suryamokka\r\nspring.datasource.password=surya1995\r\nspring.datasource.driver-class-oracle.jdbc.driver.OracleDriver\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9qix3.png","title":"Getting &quot;org.springframework.beans.factory.UnsatisfiedDependencyException while creating a project using Springboot+OracleDB+JPA","body":"<p>I am trying to work on a POC in Spring Boot to implement CRUD operations on an Oracle DB using JPA repository.</p>\n<p>The API calls on my controller are working well but when I try to inject JPA repository, the application failed to start with below exception.</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error\ncreating bean with name 'employeeController': Unsatisfied dependency\nexpressed through field 'employeeRepo': Error creating bean with name\n'employeeRepo' defined in com.example.springjpaoracle.repo.EmployeeRepo\ndefined in @EnableJpaRepositories declared on SpringjpaOracleApplication: \nNot a managed type: class com.example.springjpaoracle.pojo.Employee\n</code></pre>\n<p>Please find the project structure and code below.</p>\n<p><a href=\"https://i.stack.imgur.com/9qix3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9qix3.png\" alt=\"Project Structure\" /></a></p>\n<p>Main Class:</p>\n<pre><code>\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringjpaOracleApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(SpringjpaOracleApplication.class, args);\n    }\n}\n</code></pre>\n<p>Employee.class:</p>\n<pre><code>package com.example.springjpaoracle.pojo;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name=&quot;employees&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    @Column\n    private String name;\n    @Column\n    private double salary;\n    \n    \n    public Employee(String name, double salary) {\n        super();\n        this.name = name;\n        this.salary = salary;\n    }\n    public int getId() {\n        return id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public double getSalary() {\n        return salary;\n    }\n    public void setSalary(double salary) {\n        this.salary = salary;\n    }\n    @Override\n    public String toString() {\n        return &quot;Employee [id=&quot; + id + &quot;, name=&quot; + name + &quot;, salary=&quot; + salary + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>EmployeeController.java: (with dummy API call)</p>\n<pre><code>package com.example.springjpaoracle.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.springjpaoracle.pojo.Employee;\nimport com.example.springjpaoracle.repo.EmployeeRepo;\n\n@RestController\npublic class EmployeeController {\n    \n    @Autowired\n    EmployeeRepo employeeRepo;\n    \n    @PostMapping(&quot;/employee&quot;)\n    public String postEmployee(@RequestBody Employee employee) {\n        System.out.println(employee.getName());\n        System.out.println(employee.getSalary());\n        return &quot;Employee Added Successfully &quot;+employee.toString();\n    }   \n}\n\n</code></pre>\n<p>EmployeeRepo.java:</p>\n<pre><code>package com.example.springjpaoracle.repo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.example.springjpaoracle.pojo.Employee;\n\npublic interface EmployeeRepo extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>#DB Config\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:orcl\nspring.datasource.username=suryamokka\nspring.datasource.password=surya1995\nspring.datasource.driver-class-oracle.jdbc.driver.OracleDriver\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n"},{"tags":["java","kotlin","testing","groovy","spock"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1679737923,"post_id":75840627,"comment_id":133777126,"body_markdown":"How are you creating `reader` inside `Factory`? I think you&#39;re going to need to create a simple example people can run","body":"How are you creating <code>reader</code> inside <code>Factory</code>? I think you&#39;re going to need to create a simple example people can run"}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679749728,"creation_date":1679749728,"answer_id":75841909,"question_id":75840627,"body_markdown":"`GroovySpy` only works for Groovy code, not when called from Kotlin or Java.\r\nFurthermore, Spock can&#39;t mock final classes, which all of Kotlin classes are by default unless you `open` them. \r\n\r\nYou can work around the `final` restriction by using [spock-mockable][1], which can remove the `final` modifier for your test runtime, while keeping it in place for the compilation and in production.\r\n\r\n\r\n  [1]: https://github.com/joke/spock-mockable/","title":"GroovySpy of a kotlin class can not be carried to java during Spock test","body":"<p><code>GroovySpy</code> only works for Groovy code, not when called from Kotlin or Java.\nFurthermore, Spock can't mock final classes, which all of Kotlin classes are by default unless you <code>open</code> them.</p>\n<p>You can work around the <code>final</code> restriction by using <a href=\"https://github.com/joke/spock-mockable/\" rel=\"nofollow noreferrer\">spock-mockable</a>, which can remove the <code>final</code> modifier for your test runtime, while keeping it in place for the compilation and in production.</p>\n"}],"owner":{"account_id":28111106,"reputation":13,"user_id":21478852,"display_name":"abicuagb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75841909,"answer_count":1,"score":1,"last_activity_date":1679758340,"creation_date":1679734787,"question_id":75840627,"body_markdown":"I am using groovy and Spock for unit test. What I want is after the line &quot;reader.get(\\_ as Path, \\_ as String) \\&gt;\\&gt; fileA&quot;, I want to call reader.get() inside the Factory class and it still should return fileA. But it didn&#39;t and it just executed the real get() method.My test file is like this:\r\n\r\n```\r\ngiven:\r\ndef reader = GroovySpy(Reader)\r\ndef file = new File()\r\nreader.get() &gt;&gt; file //For example, fileA\r\n\r\nand:\r\ndef factory = new Factory(reader)\r\n\r\nwhen:\r\n...\r\n```\r\n\r\nIn here, the Reader class is a kotlin file like this:\r\n\r\n```\r\nclass Reader(\r\n    private val repoConfig: FactStoreRepoConfiguration = FactStoreRepoConfiguration()\r\n) {\r\n    fun get(): File {\r\n        //For example, by default it returns fileB\r\n    }\r\n}\r\n```\r\n\r\nbut inside the factory, which is a java file, when I tried this:\r\n\r\n```\r\npublic final class Factory implements StoreFactory {\r\n\r\n    private final Reader reader;\r\n\r\n    public Store create() {\r\n        System.out.println(reader.get()); //Expect to see fileA here, but see fileB\r\n        return new Store(reader);\r\n    }\r\n}\r\n```\r\n\r\nNo errors were given.It should just print the file (fileA) I defined in &quot;given&quot; step, but it didn&#39;t and it actually executed the get method inside the Reader class and print fileB.\r\n\r\nFor debug, I added this in the test file:\r\n\r\n```\r\ngiven:\r\ndef reader = GroovySpy(Reader)\r\ndef file = new File(path.toString())\r\nreader.get(_ as Path, _ as String) &gt;&gt; file //For example, fileA\r\n\r\nand:\r\ndef factory = new Factory(reader)\r\nprint(factory.reader.get()) //Added to test, returns fileA here\r\n\r\nwhen:\r\n...\r\n```\r\n\r\nIn the test, it print the file I set but still not work in when calling in the factory class. Is it because it is a kotlin class? Because I also mocked another java object and it still can be mocked in the factory class.","title":"GroovySpy of a kotlin class can not be carried to java during Spock test","body":"<p>I am using groovy and Spock for unit test. What I want is after the line &quot;reader.get(_ as Path, _ as String) &gt;&gt; fileA&quot;, I want to call reader.get() inside the Factory class and it still should return fileA. But it didn't and it just executed the real get() method.My test file is like this:</p>\n<pre><code>given:\ndef reader = GroovySpy(Reader)\ndef file = new File()\nreader.get() &gt;&gt; file //For example, fileA\n\nand:\ndef factory = new Factory(reader)\n\nwhen:\n...\n</code></pre>\n<p>In here, the Reader class is a kotlin file like this:</p>\n<pre><code>class Reader(\n    private val repoConfig: FactStoreRepoConfiguration = FactStoreRepoConfiguration()\n) {\n    fun get(): File {\n        //For example, by default it returns fileB\n    }\n}\n</code></pre>\n<p>but inside the factory, which is a java file, when I tried this:</p>\n<pre><code>public final class Factory implements StoreFactory {\n\n    private final Reader reader;\n\n    public Store create() {\n        System.out.println(reader.get()); //Expect to see fileA here, but see fileB\n        return new Store(reader);\n    }\n}\n</code></pre>\n<p>No errors were given.It should just print the file (fileA) I defined in &quot;given&quot; step, but it didn't and it actually executed the get method inside the Reader class and print fileB.</p>\n<p>For debug, I added this in the test file:</p>\n<pre><code>given:\ndef reader = GroovySpy(Reader)\ndef file = new File(path.toString())\nreader.get(_ as Path, _ as String) &gt;&gt; file //For example, fileA\n\nand:\ndef factory = new Factory(reader)\nprint(factory.reader.get()) //Added to test, returns fileA here\n\nwhen:\n...\n</code></pre>\n<p>In the test, it print the file I set but still not work in when calling in the factory class. Is it because it is a kotlin class? Because I also mocked another java object and it still can be mocked in the factory class.</p>\n"},{"tags":["java","casting","binary"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1679722606,"post_id":75839796,"comment_id":133775654,"body_markdown":"`2` isn&#39;t a valid binary digit. What are you actually trying to do?","body":"<code>2</code> isn&#39;t a valid binary digit. What are you actually trying to do?"},{"owner":{"account_id":27764711,"reputation":29,"user_id":21196290,"display_name":"Dhwani Patel"},"score":0,"creation_date":1679722972,"post_id":75839796,"comment_id":133775684,"body_markdown":"I want to convert a decimal number provided in the String format to binary.","body":"I want to convert a decimal number provided in the String format to binary."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1679723141,"post_id":75839796,"comment_id":133775696,"body_markdown":"Then you must parse it as decimal (base 10) and convert. I don&#39;t think there&#39;s builtin conversion in the JDK, you have to implement it yourself. Just to be sure, you want to read `2` and output `10`?","body":"Then you must parse it as decimal (base 10) and convert. I don&#39;t think there&#39;s builtin conversion in the JDK, you have to implement it yourself. Just to be sure, you want to read <code>2</code> and output <code>10</code>?"},{"owner":{"account_id":27764711,"reputation":29,"user_id":21196290,"display_name":"Dhwani Patel"},"score":0,"creation_date":1679723406,"post_id":75839796,"comment_id":133775708,"body_markdown":"@knittl yes!...","body":"@knittl yes!..."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1679724235,"post_id":75839796,"comment_id":133775766,"body_markdown":"You need to do it the other way around. You may use `input.nextInt()` to read the decimal number and then for example [`Integer.toBinaryString()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Integer.html#toBinaryString(int)) to convert it to binary-","body":"You need to do it the other way around. You may use <code>input.nextInt()</code> to read the decimal number and then for example <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Integer.html#toBinaryString(int)\" rel=\"nofollow noreferrer\"><code>Integer.toBinaryString()</code></a> to convert it to binary-"},{"owner":{"account_id":27764711,"reputation":29,"user_id":21196290,"display_name":"Dhwani Patel"},"score":0,"creation_date":1679724825,"post_id":75839796,"comment_id":133775814,"body_markdown":"@OleV.V. Thanks for the answer. It worked for me. First I converted the number in String format to integer and then used your solution to convert to binary.","body":"@OleV.V. Thanks for the answer. It worked for me. First I converted the number in String format to integer and then used your solution to convert to binary."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1679729693,"post_id":75839796,"comment_id":133776234,"body_markdown":"It’s a good exercise in distinguishing between *a concept* and its *representation in the UI*. Here the number is the concept. In the UI it’s represented either as a decimal number (on input) or a binary number (on output). Use an `int` for the concept of a number and forget whether it’s binary, decimal or something else, those are implementation details not relevant to the task at hand. And apply the proper conversions on input and output.","body":"It’s a good exercise in distinguishing between <i>a concept</i> and its <i>representation in the UI</i>. Here the number is the concept. In the UI it’s represented either as a decimal number (on input) or a binary number (on output). Use an <code>int</code> for the concept of a number and forget whether it’s binary, decimal or something else, those are implementation details not relevant to the task at hand. And apply the proper conversions on input and output."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679758333,"creation_date":1679724785,"answer_id":75839951,"question_id":75839796,"body_markdown":"As [commented by Ole V.V.][1], obtain an `int` from user:\r\n\r\n    Scanner scanner = new Scanner( System.in );\r\n    int input = scanner.nextInt() ;\r\n\r\nAnd [convert to binary string][2]. \r\n\r\n    String output = Integer.toBinaryString( input ) ;\r\n\r\nTo quote [another wise comment][3] by Ole V.V.:\r\n\r\n&gt; It’s a good exercise in distinguishing between *a concept* and *its representation in the UI*. Here the number is the concept. In the UI it’s represented either as a decimal number (on input) or a binary number (on output). Use an `int` for the concept of a number and forget whether it’s binary, decimal or something else, those are implementation details not relevant to the task at hand. And apply the proper conversions on input and output.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75839796/convert-decimal-number-provided-in-string-to-the-binary/75839951#comment133775766_75839796\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Integer.html#toBinaryString(int)\r\n  [3]: https://stackoverflow.com/questions/75839796/convert-decimal-number-provided-in-string-to-the-binary/75839951#comment133776234_75839796","title":"Convert decimal number provided in String to the binary","body":"<p>As <a href=\"https://stackoverflow.com/questions/75839796/convert-decimal-number-provided-in-string-to-the-binary/75839951#comment133775766_75839796\">commented by Ole V.V.</a>, obtain an <code>int</code> from user:</p>\n<pre><code>Scanner scanner = new Scanner( System.in );\nint input = scanner.nextInt() ;\n</code></pre>\n<p>And <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Integer.html#toBinaryString(int)\" rel=\"nofollow noreferrer\">convert to binary string</a>.</p>\n<pre><code>String output = Integer.toBinaryString( input ) ;\n</code></pre>\n<p>To quote <a href=\"https://stackoverflow.com/questions/75839796/convert-decimal-number-provided-in-string-to-the-binary/75839951#comment133776234_75839796\">another wise comment</a> by Ole V.V.:</p>\n<blockquote>\n<p>It’s a good exercise in distinguishing between <em>a concept</em> and <em>its representation in the UI</em>. Here the number is the concept. In the UI it’s represented either as a decimal number (on input) or a binary number (on output). Use an <code>int</code> for the concept of a number and forget whether it’s binary, decimal or something else, those are implementation details not relevant to the task at hand. And apply the proper conversions on input and output.</p>\n</blockquote>\n"}],"owner":{"account_id":27764711,"reputation":29,"user_id":21196290,"display_name":"Dhwani Patel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75839951,"answer_count":1,"score":2,"last_activity_date":1679758333,"creation_date":1679722371,"question_id":75839796,"body_markdown":"I want to convert a decimal number which is in the String format to the binary. For example I want to read `2` and output `10`.\r\n\r\nI tried :\r\n\r\n```\r\nScanner input = new Scanner(System.in);\r\nString dec;\r\ndec = input.next();\r\nint bin = Integer.parseInt(dec, 2);\r\nSystem.out.println(bin);\r\n```\r\n\r\nI got the following error for the input 2: \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;2&quot; under radix 2\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:665)\r\n\tat binarytest.BinaryTest.main(BinaryTest.java:23)\r\n```","title":"Convert decimal number provided in String to the binary","body":"<p>I want to convert a decimal number which is in the String format to the binary. For example I want to read <code>2</code> and output <code>10</code>.</p>\n<p>I tried :</p>\n<pre><code>Scanner input = new Scanner(System.in);\nString dec;\ndec = input.next();\nint bin = Integer.parseInt(dec, 2);\nSystem.out.println(bin);\n</code></pre>\n<p>I got the following error for the input 2:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;2&quot; under radix 2\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:665)\n    at binarytest.BinaryTest.main(BinaryTest.java:23)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":4,"creation_date":1655066554,"post_id":72595723,"comment_id":128236599,"body_markdown":"What&#39;s your test case? What do you get? What do you want to get?","body":"What&#39;s your test case? What do you get? What do you want to get?"}],"answers":[{"tags":[],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655066639,"creation_date":1655066639,"answer_id":72595752,"question_id":72595723,"body_markdown":"if you want to check if some string contains any other string, just use `contains()` method.\r\n\r\nIn your case that would be \r\n\r\n    return text1.contains(text2);\r\n\r\n\r\nPlus you should always write your code in defensive way. That means you should always make sure there will be no `NullPointerException` etc. So in your particular case if someone pass either null text1 or null text2, your program will crash. ","title":"Searching Algoritm","body":"<p>if you want to check if some string contains any other string, just use <code>contains()</code> method.</p>\n<p>In your case that would be</p>\n<pre><code>return text1.contains(text2);\n</code></pre>\n<p>Plus you should always write your code in defensive way. That means you should always make sure there will be no <code>NullPointerException</code> etc. So in your particular case if someone pass either null text1 or null text2, your program will crash.</p>\n"},{"tags":[],"owner":{"account_id":20423659,"reputation":11,"user_id":14984348,"display_name":"Ganesh Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655075196,"creation_date":1655075086,"answer_id":72596474,"question_id":72595723,"body_markdown":"Above you had NPE in line \r\n\r\n&gt; if (c1[h] != c2[j])\r\n\r\n I have modified your code slightly to get output as requirement.\r\n\r\n    static boolean findeText(String text1, String text2) {\r\n            if ((text1== null) ||(text2==null) || (text1.isEmpty()) || (text2.isEmpty())) {\r\n                System.out.println(&quot;Invalid input&quot;);\r\n                return false;\r\n            }\r\n            char c1[] = text1.toCharArray();\r\n            char c2[] = text2.toCharArray();\r\n            \r\n            for (int i = 0; i &lt;= c1.length - c2.length; i++) {\r\n                int count = 0;\r\n                for (int j = 0; j &lt; c2.length; j++) {\r\n                    if (c1[i + j] == c2[j]) {\r\n                        count = count + 1;\r\n                    }\r\n                    if (count == c2.length) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }","title":"Searching Algoritm","body":"<p>Above you had NPE in line</p>\n<blockquote>\n<p>if (c1[h] != c2[j])</p>\n</blockquote>\n<p>I have modified your code slightly to get output as requirement.</p>\n<pre><code>static boolean findeText(String text1, String text2) {\n        if ((text1== null) ||(text2==null) || (text1.isEmpty()) || (text2.isEmpty())) {\n            System.out.println(&quot;Invalid input&quot;);\n            return false;\n        }\n        char c1[] = text1.toCharArray();\n        char c2[] = text2.toCharArray();\n        \n        for (int i = 0; i &lt;= c1.length - c2.length; i++) {\n            int count = 0;\n            for (int j = 0; j &lt; c2.length; j++) {\n                if (c1[i + j] == c2[j]) {\n                    count = count + 1;\n                }\n                if (count == c2.length) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7800091,"reputation":21,"user_id":5899859,"display_name":"Akash Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679758211,"creation_date":1679758211,"answer_id":75842711,"question_id":72595723,"body_markdown":"The provided code has a few flaws that prevent it from correctly locating the second text within the first. Here are some suggestions for improvements:\r\n\r\n    static boolean findText(String text1, String text2) {\r\n    \r\n        char c1[] = text1.toCharArray();\r\n        char c2[] = text2.toCharArray();\r\n    \r\n        for (int i = 0; i &lt;= c1.length - c2.length; i++) {\r\n            boolean b = true;\r\n            for (int j = 0, h = i; j &lt; c2.length; j++, h++) {\r\n                if (c1[h] != c2[j]) {\r\n                    b = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (b) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n","title":"Searching Algoritm","body":"<p>The provided code has a few flaws that prevent it from correctly locating the second text within the first. Here are some suggestions for improvements:</p>\n<pre><code>static boolean findText(String text1, String text2) {\n\n    char c1[] = text1.toCharArray();\n    char c2[] = text2.toCharArray();\n\n    for (int i = 0; i &lt;= c1.length - c2.length; i++) {\n        boolean b = true;\n        for (int j = 0, h = i; j &lt; c2.length; j++, h++) {\n            if (c1[h] != c2[j]) {\n                b = false;\n                break;\n            }\n        }\n        if (b) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":25539564,"reputation":11,"user_id":19325913,"display_name":"mohammad amin jeddi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1679758211,"creation_date":1655066327,"question_id":72595723,"body_markdown":"I write this code but I don&#39;t know why doesn&#39;t work.\r\n\r\n    static boolean findeText(String text1, String text2) {\r\n\r\n        char c1[] = text1.toCharArray();\r\n        char c2[] = text2.toCharArray();\r\n        boolean b = false;\r\n        for (int i = 0; i &lt;= c1.length - c2.length; i++) {\r\n            for (int j = 0, h = i; j &lt;= c2.length; j++, h++) {\r\n                if (i == c2.length) {\r\n                    return true;\r\n                }\r\n                if (c1[h] != c2[j]) {\r\n                    b = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return b;\r\n    }\r\n\r\nI want find text 2 in text 1 and after that return true or false.","title":"Searching Algoritm","body":"<p>I write this code but I don't know why doesn't work.</p>\n<pre><code>static boolean findeText(String text1, String text2) {\n\n    char c1[] = text1.toCharArray();\n    char c2[] = text2.toCharArray();\n    boolean b = false;\n    for (int i = 0; i &lt;= c1.length - c2.length; i++) {\n        for (int j = 0, h = i; j &lt;= c2.length; j++, h++) {\n            if (i == c2.length) {\n                return true;\n            }\n            if (c1[h] != c2[j]) {\n                b = false;\n                break;\n            }\n        }\n    }\n    return b;\n}\n</code></pre>\n<p>I want find text 2 in text 1 and after that return true or false.</p>\n"},{"tags":["java","junit","mockito","apache-poi"],"owner":{"account_id":27938331,"reputation":1,"user_id":21334842,"display_name":"Mirko Scotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679757647,"creation_date":1679752251,"question_id":75842146,"body_markdown":"This is a very simple pom, declaring JUnit, Mockito and Apache POI:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;it.mirkoscotti.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;log4j-poi&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;log4j-poi&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\r\n\t\t&lt;maven-surefire-plugin.version&gt;3.0.0&lt;/maven-surefire-plugin.version&gt;\r\n\t\t&lt;junit-bom.version&gt;5.9.2&lt;/junit-bom.version&gt;\r\n\t\t&lt;mockito-bom.version&gt;5.1.1&lt;/mockito-bom.version&gt;\r\n\t\t&lt;poi-ooxml.version&gt;5.2.3&lt;/poi-ooxml.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${junit-bom.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mockito-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${mockito-bom.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${poi-ooxml.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;release&gt;${java.version}&lt;/release&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is a trivial class using POI:\r\n```\r\npackage it.mirkoscotti.log4j.poi;\r\n\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\npublic class Log4jPoi\r\n{\r\n\r\n\tpublic Log4jPoi(String path)\r\n\t{\r\n\t\ttry (var input = ClassLoader.getSystemResourceAsStream(path))\r\n\t\t{\r\n\t\t\tnew XSSFWorkbook(input);\r\n\t\t}\r\n\t\tcatch (Exception x)\r\n\t\t{\r\n\t\t\tthrow new IllegalArgumentException(x);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tnew Log4jPoi(&quot;it/mirkoscotti/log4j/poi/excel.xlsx&quot;);\r\n\t}\r\n}\r\n```\r\nAnd this is its unit test, perfectly working:\r\n```\r\npackage it.mirkoscotti.log4j.poi;\r\n\r\nimport java.nio.file.Files;\r\n\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\nclass Log4jPoiTest\r\n{\r\n\r\n\t@Test\r\n\tvoid newSetupResourceTest()\r\n\t{\r\n\t\ttry (var mock = MockitoAnnotations.openMocks(this))\r\n\t\t{\r\n\t\t\tnew Log4jPoi(&quot;path/to/an/excel.xlsx&quot;);\r\n\t\t}\r\n\t\tcatch (Exception x)\r\n\t\t{\r\n\t\t\tAssertions.fail(x);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nBut as soon as I add a static mock of java.nio.file.Files:\r\n```\r\nclass Log4jPoiTest\r\n{\r\n\r\n\t@Test\r\n\tvoid newSetupResourceTest()\r\n\t{\r\n\t\ttry (var mock = MockitoAnnotations.openMocks(this)\r\n\t\t     var filesMock = Mockito.mockStatic(Files.class))\r\n\t\t{\r\n\t\t\tnew Log4jPoi(&quot;path/to/an/excel.xlsx&quot;);\r\n\t\t}\r\n\t\tcatch (Exception x)\r\n\t\t{\r\n\t\t\tAssertions.fail(x);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nthe test crashes in this way:\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil\r\n\tat org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:78)\r\n\tat org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:61)\r\n\tat org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\r\n\tat it.mirkoscotti.log4j.poi.Log4jPoi.&lt;init&gt;(Log4jPoi.java:16)\r\n\tat it.mirkoscotti.log4j.poi.Log4jPoiTest.newSetupResourceTest(Log4jPoiTest.java:23)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\nPropertyUtils is referenced in the static block of LogManager, the Log4J component imported by Apache POI and referenced into the POIXMLDocumentPart, that is the superclass of XSSFWorkbook.\r\n\r\n\r\nHow is it possible that a simple mockStatic can break the test in such way. Is itan issue of Mockito? Or Apache POI? Or Log4J? Or mocking Files is not exactly a best practice?","title":"NoClassDefFoundError when testing a class using Apache POI","body":"<p>This is a very simple pom, declaring JUnit, Mockito and Apache POI:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;it.mirkoscotti.test&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-poi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;log4j-poi&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\n        &lt;maven-surefire-plugin.version&gt;3.0.0&lt;/maven-surefire-plugin.version&gt;\n        &lt;junit-bom.version&gt;5.9.2&lt;/junit-bom.version&gt;\n        &lt;mockito-bom.version&gt;5.1.1&lt;/mockito-bom.version&gt;\n        &lt;poi-ooxml.version&gt;5.2.3&lt;/poi-ooxml.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;${junit-bom.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                &lt;artifactId&gt;mockito-bom&lt;/artifactId&gt;\n                &lt;version&gt;${mockito-bom.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                &lt;version&gt;${poi-ooxml.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;release&gt;${java.version}&lt;/release&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is a trivial class using POI:</p>\n<pre><code>package it.mirkoscotti.log4j.poi;\n\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class Log4jPoi\n{\n\n    public Log4jPoi(String path)\n    {\n        try (var input = ClassLoader.getSystemResourceAsStream(path))\n        {\n            new XSSFWorkbook(input);\n        }\n        catch (Exception x)\n        {\n            throw new IllegalArgumentException(x);\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        new Log4jPoi(&quot;it/mirkoscotti/log4j/poi/excel.xlsx&quot;);\n    }\n}\n</code></pre>\n<p>And this is its unit test, perfectly working:</p>\n<pre><code>package it.mirkoscotti.log4j.poi;\n\nimport java.nio.file.Files;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\n\nclass Log4jPoiTest\n{\n\n    @Test\n    void newSetupResourceTest()\n    {\n        try (var mock = MockitoAnnotations.openMocks(this))\n        {\n            new Log4jPoi(&quot;path/to/an/excel.xlsx&quot;);\n        }\n        catch (Exception x)\n        {\n            Assertions.fail(x);\n        }\n    }\n}\n</code></pre>\n<p>But as soon as I add a static mock of java.nio.file.Files:</p>\n<pre><code>class Log4jPoiTest\n{\n\n    @Test\n    void newSetupResourceTest()\n    {\n        try (var mock = MockitoAnnotations.openMocks(this)\n             var filesMock = Mockito.mockStatic(Files.class))\n        {\n            new Log4jPoi(&quot;path/to/an/excel.xlsx&quot;);\n        }\n        catch (Exception x)\n        {\n            Assertions.fail(x);\n        }\n    }\n}\n</code></pre>\n<p>the test crashes in this way:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil\n    at org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:78)\n    at org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:61)\n    at org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\n    at it.mirkoscotti.log4j.poi.Log4jPoi.&lt;init&gt;(Log4jPoi.java:16)\n    at it.mirkoscotti.log4j.poi.Log4jPoiTest.newSetupResourceTest(Log4jPoiTest.java:23)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>PropertyUtils is referenced in the static block of LogManager, the Log4J component imported by Apache POI and referenced into the POIXMLDocumentPart, that is the superclass of XSSFWorkbook.</p>\n<p>How is it possible that a simple mockStatic can break the test in such way. Is itan issue of Mockito? Or Apache POI? Or Log4J? Or mocking Files is not exactly a best practice?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1679757272,"post_id":75842435,"comment_id":133779686,"body_markdown":"In future, please use a title that reflects the actual problem you&#39;re having.  Perhaps &#39;how to avoid printing results in some cases?&#39;. We can guess you can&#39;t find an answer, otherwise you wouldn&#39;t be asking here.","body":"In future, please use a title that reflects the actual problem you&#39;re having.  Perhaps &#39;how to avoid printing results in some cases?&#39;. We can guess you can&#39;t find an answer, otherwise you wouldn&#39;t be asking here."},{"owner":{"account_id":27641729,"reputation":1,"user_id":21098563,"display_name":"Tae-Kyu Lim"},"score":0,"creation_date":1679757631,"post_id":75842435,"comment_id":133779742,"body_markdown":"It was my first time so I didn&#39;t know. Thanks for letting me know.","body":"It was my first time so I didn&#39;t know. Thanks for letting me know."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1679761691,"post_id":75842435,"comment_id":133780389,"body_markdown":"No problem. The idea is that, if someone else has a similar problem in the future, your title might help them to find the existing solution.","body":"No problem. The idea is that, if someone else has a similar problem in the future, your title might help them to find the existing solution."}],"answers":[{"tags":[],"owner":{"account_id":17864260,"reputation":104,"user_id":12976979,"display_name":"xiaochuan fang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679757024,"creation_date":1679756647,"answer_id":75842558,"question_id":75842435,"body_markdown":"You can add a boolean flag set as false in the beginning. Set the flag as true when the n&gt;=0. And the end, if the flag is true, print the average.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class SumAverage2 {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;average program&quot;);\r\n        System.out.println(&quot;Enter multiple integers greater than or equal to 0.&quot;);\r\n        System.out.println(&quot;Enter a negative integer to finish the entry.&quot;);\r\n        \r\n        boolean end = false;\r\n        boolean flag = false;\r\n        int n;\r\n        int sum = 0;\r\n        int count = 0;\r\n        \r\n        while(!end) {\r\n            n = input.nextInt();\r\n            if (n&gt;=0) {\r\n                sum = sum + n;\r\n                count++;\r\n                flag = true;\r\n            }else\r\n                end = true;\r\n        }\r\n        \r\n        System.out.println(&quot;Number of integers greater than 0 entered  = &quot; + count);\r\n        if(flag){\r\n           double average ;\r\n           average = (double) sum / (double) count ;\r\n           System.out.println(&quot;sum of integers = &quot; + sum);\r\n           System.out.printf(&quot;average = %.2f&quot;, + average);\r\n        }\r\n        input.close();\r\n    }\r\n\r\n}\r\n```","title":"I can&#39;t find the answer I want for a particular question (java)","body":"<p>You can add a boolean flag set as false in the beginning. Set the flag as true when the n&gt;=0. And the end, if the flag is true, print the average.</p>\n<pre><code>import java.util.Scanner;\n\npublic class SumAverage2 {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;average program&quot;);\n        System.out.println(&quot;Enter multiple integers greater than or equal to 0.&quot;);\n        System.out.println(&quot;Enter a negative integer to finish the entry.&quot;);\n        \n        boolean end = false;\n        boolean flag = false;\n        int n;\n        int sum = 0;\n        int count = 0;\n        \n        while(!end) {\n            n = input.nextInt();\n            if (n&gt;=0) {\n                sum = sum + n;\n                count++;\n                flag = true;\n            }else\n                end = true;\n        }\n        \n        System.out.println(&quot;Number of integers greater than 0 entered  = &quot; + count);\n        if(flag){\n           double average ;\n           average = (double) sum / (double) count ;\n           System.out.println(&quot;sum of integers = &quot; + sum);\n           System.out.printf(&quot;average = %.2f&quot;, + average);\n        }\n        input.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1679756832,"creation_date":1679756832,"answer_id":75842583,"question_id":75842435,"body_markdown":"Your `count` is the number of numbers entered.\r\n\r\nWrap all the &#39;printing sum and average&#39; stuff in &#39;if count &gt; 0&#39;.\r\n\r\n\r\n    System.out.println(&quot;Number of integers greater than 0 entered  = &quot; + count);\r\n    if (count &gt; 0) {\r\n        double average = (double) sum / (double) count;\r\n        System.out.println(&quot;sum of integers = &quot; + sum);\r\n        System.out.printf(&quot;average = %.2f&quot;, + average);\r\n    }\r\n\r\n","title":"I can&#39;t find the answer I want for a particular question (java)","body":"<p>Your <code>count</code> is the number of numbers entered.</p>\n<p>Wrap all the 'printing sum and average' stuff in 'if count &gt; 0'.</p>\n<pre><code>System.out.println(&quot;Number of integers greater than 0 entered  = &quot; + count);\nif (count &gt; 0) {\n    double average = (double) sum / (double) count;\n    System.out.println(&quot;sum of integers = &quot; + sum);\n    System.out.printf(&quot;average = %.2f&quot;, + average);\n}\n</code></pre>\n"}],"owner":{"account_id":27641729,"reputation":1,"user_id":21098563,"display_name":"Tae-Kyu Lim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"closed_date":1679762210,"accepted_answer_id":75842583,"answer_count":2,"score":-7,"last_activity_date":1679757024,"creation_date":1679755345,"question_id":75842435,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class SumAverage2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;average program&quot;);\r\n    \t\tSystem.out.println(&quot;Enter multiple integers greater than or equal to 0.&quot;);\r\n    \t\tSystem.out.println(&quot;Enter a negative integer to finish the entry.&quot;);\r\n    \t\t\r\n    \t\tboolean end = false;\r\n    \t\tint n;\r\n    \t\tint sum = 0;\r\n    \t\tint count = 0;\r\n    \t\t\r\n    \t\twhile(!end) {\r\n    \t\t\tn = input.nextInt();\r\n    \t\t\tif (n&gt;=0) {\r\n    \t\t\t\tsum = sum + n;\r\n    \t\t\t\tcount++;\r\n    \t\t\t}else\r\n    \t\t\t\tend = true;\r\n    \t\t}\r\n    \t\t\r\n    \t\tdouble average ;\r\n    \t\taverage = (double) sum / (double) count ;\r\n    \t\tSystem.out.println(&quot;Number of integers greater than 0 entered  = &quot; + count);\r\n    \t\tSystem.out.println(&quot;sum of integers = &quot; + sum);\r\n    \t\tSystem.out.printf(&quot;average = %.2f&quot;, + average);\r\n    \t\t\r\n    \t\tinput.close();\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n\r\nI&#39;m trying to solve this problem, but the answer I want doesn&#39;t come out under certain conditions.\r\n\r\nIf I enter \r\n\r\n3  7  1  -1 \r\n\r\n**average program**\r\n\r\n**Enter multiple integers greater than or equal to 0.**\r\n\r\n**Enter a negative integer to finish the entry.**\r\n\r\n**Number of integers greater than 0 entered = 3**\r\n\r\n**sum of integers = 11**\r\n\r\n**average = 3.67**\r\n\r\n\r\n//\r\nI made a program that comes out with this answer.\r\n\r\nHowever, the condition &quot;Do not output the sum and average if the user inputs a negative integer from the beginning&quot; must be satisfied, but the code above does not work.\r\n\r\nIf I enter -10\r\n\r\n\r\n**average program**\r\n\r\n\r\n**Enter multiple integers greater than or equal to 0.**\r\n\r\n\r\n**Enter a negative integer to finish the entry.**\r\n\r\n\r\n**Number of integers greater than 0 entered = 0**\r\n\r\n\r\n**sum of integers = 0**\r\n**average = NaN**\r\n\r\n\r\n//\r\nThe answer comes as above.\r\n\r\nThe answer i want is\r\n//\r\n\r\n\r\n**average program**\r\n\r\n\r\n**Enter multiple integers greater than or equal to 0.**\r\n\r\n\r\n**Enter a negative integer to finish the entry.**\r\n\r\n\r\n**Number of integers greater than 0 entered = 0**\r\n//\r\n\r\n\r\nI&#39;ve only been learning to code for 2 weeks, so I&#39;m having a lot of difficulties. I&#39;d be very grateful if you guys could help me.\r\n\r\nWrong answer\r\npress -10\r\n//\r\n\r\n\r\n**average program**\r\n\r\n\r\n**Enter multiple integers greater than or equal to 0.**\r\n\r\n\r\n**Enter a negative integer to finish the entry.**\r\n\r\n\r\n**Number of integers greater than 0 entered = 0**\r\n\r\n\r\n**sum of integers = 0**\r\n\r\n\r\n**average = NaN**\r\n\r\nCorrect answer\r\npress -10\r\n//\r\n\r\n\r\n**average program**\r\n\r\n\r\n**Enter multiple integers greater than or equal to 0.**\r\n\r\n\r\n**Enter a negative integer to finish the entry.**\r\n\r\n\r\n**Number of integers greater than 0 entered = 0**\r\n\r\nI want to solve a problem that does not work under certain conditions.","title":"I can&#39;t find the answer I want for a particular question (java)","body":"<pre><code>import java.util.Scanner;\n\npublic class SumAverage2 {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;average program&quot;);\n        System.out.println(&quot;Enter multiple integers greater than or equal to 0.&quot;);\n        System.out.println(&quot;Enter a negative integer to finish the entry.&quot;);\n        \n        boolean end = false;\n        int n;\n        int sum = 0;\n        int count = 0;\n        \n        while(!end) {\n            n = input.nextInt();\n            if (n&gt;=0) {\n                sum = sum + n;\n                count++;\n            }else\n                end = true;\n        }\n        \n        double average ;\n        average = (double) sum / (double) count ;\n        System.out.println(&quot;Number of integers greater than 0 entered  = &quot; + count);\n        System.out.println(&quot;sum of integers = &quot; + sum);\n        System.out.printf(&quot;average = %.2f&quot;, + average);\n        \n        input.close();\n    }\n\n}\n</code></pre>\n<p>I'm trying to solve this problem, but the answer I want doesn't come out under certain conditions.</p>\n<p>If I enter</p>\n<p>3  7  1  -1</p>\n<p><strong>average program</strong></p>\n<p><strong>Enter multiple integers greater than or equal to 0.</strong></p>\n<p><strong>Enter a negative integer to finish the entry.</strong></p>\n<p><strong>Number of integers greater than 0 entered = 3</strong></p>\n<p><strong>sum of integers = 11</strong></p>\n<p><strong>average = 3.67</strong></p>\n<p>//\nI made a program that comes out with this answer.</p>\n<p>However, the condition &quot;Do not output the sum and average if the user inputs a negative integer from the beginning&quot; must be satisfied, but the code above does not work.</p>\n<p>If I enter -10</p>\n<p><strong>average program</strong></p>\n<p><strong>Enter multiple integers greater than or equal to 0.</strong></p>\n<p><strong>Enter a negative integer to finish the entry.</strong></p>\n<p><strong>Number of integers greater than 0 entered = 0</strong></p>\n<p><strong>sum of integers = 0</strong>\n<strong>average = NaN</strong></p>\n<p>//\nThe answer comes as above.</p>\n<p>The answer i want is\n//</p>\n<p><strong>average program</strong></p>\n<p><strong>Enter multiple integers greater than or equal to 0.</strong></p>\n<p><strong>Enter a negative integer to finish the entry.</strong></p>\n<p><strong>Number of integers greater than 0 entered = 0</strong>\n//</p>\n<p>I've only been learning to code for 2 weeks, so I'm having a lot of difficulties. I'd be very grateful if you guys could help me.</p>\n<p>Wrong answer\npress -10\n//</p>\n<p><strong>average program</strong></p>\n<p><strong>Enter multiple integers greater than or equal to 0.</strong></p>\n<p><strong>Enter a negative integer to finish the entry.</strong></p>\n<p><strong>Number of integers greater than 0 entered = 0</strong></p>\n<p><strong>sum of integers = 0</strong></p>\n<p><strong>average = NaN</strong></p>\n<p>Correct answer\npress -10\n//</p>\n<p><strong>average program</strong></p>\n<p><strong>Enter multiple integers greater than or equal to 0.</strong></p>\n<p><strong>Enter a negative integer to finish the entry.</strong></p>\n<p><strong>Number of integers greater than 0 entered = 0</strong></p>\n<p>I want to solve a problem that does not work under certain conditions.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1679767970,"post_id":75842573,"comment_id":133781337,"body_markdown":"Please post your build.gradle.","body":"Please post your build.gradle."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1680002651,"post_id":75842573,"comment_id":133818690,"body_markdown":"seems that gradle wanted to download proguard and it couldn&#39;t download it. Did you try again?","body":"seems that gradle wanted to download proguard and it couldn&#39;t download it. Did you try again?"}],"owner":{"account_id":28123071,"reputation":9,"user_id":21488989,"display_name":"Rajkumar Mathe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679756811,"creation_date":1679756811,"question_id":75842573,"body_markdown":"So i was compiling my minecraft mod when this error came in the cmd when i ran the command gradlew build .I have never seen this problem ever and even if I compile my mod usually , this error nver came.I have no idea about how this error came and whats the reason behind  it.The error is as follows\r\n\r\n\r\n```\r\n\r\n\r\n\r\nExecution failed for task &#39;:proguard&#39;.\r\n&gt; java.net.ConnectException: Connection timed out: connect\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:proguard&#39;.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\r\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\r\n        at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\r\n        at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:273)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:258)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\r\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\nCaused by: org.gradle.api.UncheckedIOException: java.net.ConnectException: Connection timed out: connect\r\n        at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:57)\r\n        at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:40)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:76)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\r\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:786)\r\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:753)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)\r\n        ... 31 more\r\nCaused by: java.net.ConnectException: Connection timed out: connect\r\n        at baritone.gradle.task.ProguardTask.downloadProguard(ProguardTask.java:98)\r\n        at baritone.gradle.task.ProguardTask.exec(ProguardTask.java:78)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n        ... 44 more\r\n```\r\n\r\nI was trying to compile my minecraft mod that i do casually every few weeks or so","title":"Proguard in minecraft mod compiling failed","body":"<p>So i was compiling my minecraft mod when this error came in the cmd when i ran the command gradlew build .I have never seen this problem ever and even if I compile my mod usually , this error nver came.I have no idea about how this error came and whats the reason behind  it.The error is as follows</p>\n<pre><code>\n\n\nExecution failed for task ':proguard'.\n&gt; java.net.ConnectException: Connection timed out: connect\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':proguard'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n        at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n        at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:273)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:258)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.UncheckedIOException: java.net.ConnectException: Connection timed out: connect\n        at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:57)\n        at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:40)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:76)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:786)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:753)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)\n        ... 31 more\nCaused by: java.net.ConnectException: Connection timed out: connect\n        at baritone.gradle.task.ProguardTask.downloadProguard(ProguardTask.java:98)\n        at baritone.gradle.task.ProguardTask.exec(ProguardTask.java:78)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        ... 44 more\n</code></pre>\n<p>I was trying to compile my minecraft mod that i do casually every few weeks or so</p>\n"},{"tags":["java","swing","colors","background","jtextpane"],"comments":[{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":0,"creation_date":1462956872,"post_id":1642725,"comment_id":61851451,"body_markdown":"Note that setting paragraph element attributes (correctly) with a certain background colour will affect only the characters of that paragraph. It won&#39;t affect the space to the right (or left) of the paragraph. However, a custom `Highlighter.HighlightPainter` could be supplied to the `JTextComponent`&#39;s `Highlighter` to be able to do that.","body":"Note that setting paragraph element attributes (correctly) with a certain background colour will affect only the characters of that paragraph. It won&#39;t affect the space to the right (or left) of the paragraph. However, a custom <code>Highlighter.HighlightPainter</code> could be supplied to the <code>JTextComponent</code>&#39;s <code>Highlighter</code> to be able to do that."}],"answers":[{"tags":[],"owner":{"account_id":18477,"reputation":1114,"user_id":42368,"accept_rate":100,"display_name":"Jaskirat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1256845270,"creation_date":1256831085,"answer_id":1644660,"question_id":1642725,"body_markdown":"**UPDATE:**\r\nI just found out about a class called Highlighter.I dont think you should be using the setbackground style.  Use the DefaultHighlighter class instead.\r\n\r\n\tHighlighter h = textPanel.getHighlighter();\r\n\th.addHighlight(1, 10, new DefaultHighlighter.DefaultHighlightPainter(\r\n\t\t\t\tColor.red));\r\n\r\nThe first two parameters of the addHighlight method are nothing but the starting index and ending index of the text you want to highlight. You can call this method multiple timesto highlight discontinuous lines of text. \r\n\r\nOLD ANSWER:\r\n\r\nI have no idea why the setParagraphAttributes method doesnt seem to work. But doing this seems to work.\r\n\r\n\t    doc.insertString(0, &quot;Hello World&quot;, textPanel.getStyle(&quot;Hightlight background&quot;));\r\n\r\nMaybe you can work a hack around this for now... \r\n","title":"Changing the background color of a paragraph in JTextPane (Java Swing)","body":"<p><strong>UPDATE:</strong>\nI just found out about a class called Highlighter.I dont think you should be using the setbackground style.  Use the DefaultHighlighter class instead.</p>\n\n<pre><code>Highlighter h = textPanel.getHighlighter();\nh.addHighlight(1, 10, new DefaultHighlighter.DefaultHighlightPainter(\n            Color.red));\n</code></pre>\n\n<p>The first two parameters of the addHighlight method are nothing but the starting index and ending index of the text you want to highlight. You can call this method multiple timesto highlight discontinuous lines of text. </p>\n\n<p>OLD ANSWER:</p>\n\n<p>I have no idea why the setParagraphAttributes method doesnt seem to work. But doing this seems to work.</p>\n\n<pre><code>    doc.insertString(0, \"Hello World\", textPanel.getStyle(\"Hightlight background\"));\n</code></pre>\n\n<p>Maybe you can work a hack around this for now... </p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1256831647,"creation_date":1256831647,"answer_id":1644719,"question_id":1642725,"body_markdown":"I use:\r\n\r\n    SimpleAttributeSet background = new SimpleAttributeSet();\r\n    StyleConstants.setBackground(background, Color.RED);\r\n\r\nThen you can change existing attributes using:\r\n\r\n    doc.setParagraphAttributes(0, doc.getLength(), background, false);\r\n\r\nOr add attributes with text:\r\n\r\n    doc.insertString(doc.getLength(), &quot;\\nEnd of text&quot;, background );\r\n\r\n\r\n","title":"Changing the background color of a paragraph in JTextPane (Java Swing)","body":"<p>I use:</p>\n\n<pre><code>SimpleAttributeSet background = new SimpleAttributeSet();\nStyleConstants.setBackground(background, Color.RED);\n</code></pre>\n\n<p>Then you can change existing attributes using:</p>\n\n<pre><code>doc.setParagraphAttributes(0, doc.getLength(), background, false);\n</code></pre>\n\n<p>Or add attributes with text:</p>\n\n<pre><code>doc.insertString(doc.getLength(), \"\\nEnd of text\", background );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7733723,"reputation":450,"user_id":5855946,"display_name":"Ganesh Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500291344,"creation_date":1500291344,"answer_id":45143245,"question_id":1642725,"body_markdown":"Easy way to change the background color of selected text or paragraph.\r\n\r\n      //choose color from JColorchooser\r\n      Color color = colorChooser.getColor();\r\n    \r\n      //starting position of selected Text\r\n      int start = textPane.getSelectedStart();\r\n\r\n      // end position of the selected Text\r\n      int end = textPane.getSelectionEnd();\r\n\r\n      // style document of text pane where we change the background of the text\r\n      StyledDocument style = textPane.getStyledDocument();\r\n\r\n      // this old attribute set of selected Text;\r\n      AttributeSet oldSet = style.getCharacterElement(end-1).getAttributes();\r\n\r\n      // style context for creating new attribute set.\r\n      StyleContext sc = StyleContext.getDefaultStyleContext();\r\n\r\n      // new attribute set with new background color\r\n      AttributeSet s = sc.addAttribute(oldSet, StyleConstants.Background, color);\r\n\r\n     // set the Attribute set in the selected text\r\n      style.setCharacterAttributes(start, end- start, s, true);","title":"Changing the background color of a paragraph in JTextPane (Java Swing)","body":"<p>Easy way to change the background color of selected text or paragraph.</p>\n\n<pre><code>  //choose color from JColorchooser\n  Color color = colorChooser.getColor();\n\n  //starting position of selected Text\n  int start = textPane.getSelectedStart();\n\n  // end position of the selected Text\n  int end = textPane.getSelectionEnd();\n\n  // style document of text pane where we change the background of the text\n  StyledDocument style = textPane.getStyledDocument();\n\n  // this old attribute set of selected Text;\n  AttributeSet oldSet = style.getCharacterElement(end-1).getAttributes();\n\n  // style context for creating new attribute set.\n  StyleContext sc = StyleContext.getDefaultStyleContext();\n\n  // new attribute set with new background color\n  AttributeSet s = sc.addAttribute(oldSet, StyleConstants.Background, color);\n\n // set the Attribute set in the selected text\n  style.setCharacterAttributes(start, end- start, s, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5209321,"reputation":116,"user_id":4166251,"display_name":"Stanimir Stamenkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679756112,"creation_date":1679756112,"answer_id":75842501,"question_id":1642725,"body_markdown":"If you want the background of the whole paragraph box to be painted you need a custom [`ViewFactory`](https://docs.oracle.com/javase/8/docs/api/javax/swing/text/EditorKit.html#getViewFactory--) (therefore a custom [`EditorKit`](https://docs.oracle.com/javase/8/docs/api/javax/swing/JEditorPane.html#setEditorKit-javax.swing.text.EditorKit-) providing it) that produces [`Box`](https://docs.oracle.com/javase/8/docs/api/javax/swing/text/BoxView.html)/[`Paragraph`](https://docs.oracle.com/javase/8/docs/api/javax/swing/text/ParagraphView.html) views knowing to paint their own background.\r\n\r\nWith `HTMLDocument`/`HTMLEditorKit` this is implemented by [`StyleSheet.getBoxPainter()`](https://docs.oracle.com/javase/8/docs/api/javax/swing/text/html/StyleSheet.html#getBoxPainter-javax.swing.text.AttributeSet-), for example.\r\n\r\nHere&#39;s my solution for `DefaultStyledDocument`/`StyledEditorKit`:\r\n\r\n```java\r\n//package ;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Rectangle;\r\nimport java.awt.Shape;\r\n\r\nimport javax.swing.text.AbstractDocument;\r\nimport javax.swing.text.AttributeSet;\r\nimport javax.swing.text.Element;\r\nimport javax.swing.text.Style;\r\nimport javax.swing.text.StyleConstants;\r\nimport javax.swing.text.StyledEditorKit;\r\nimport javax.swing.text.View;\r\nimport javax.swing.text.ViewFactory;\r\n\r\npublic class BoxBackgroundFactory implements ViewFactory {\r\n\r\n    private final ViewFactory viewFactory;\r\n\r\n    public BoxBackgroundFactory(ViewFactory viewFactory) {\r\n        this.viewFactory = viewFactory;\r\n    }\r\n\r\n    @Override\r\n    public View create(Element elem) {\r\n        String kind = elem.getName();\r\n        if (AbstractDocument.ParagraphElementName.equals(kind)) {\r\n            return new ParagraphView(elem);\r\n        } else if (AbstractDocument.SectionElementName.equals(kind)) {\r\n            return new BoxView(elem);\r\n        }\r\n        return viewFactory.create(elem);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public static StyledEditorKit newEditorKit() {\r\n        return new StyledEditorKit() {\r\n            private final BoxBackgroundFactory boxbgFactory =\r\n                    new BoxBackgroundFactory(super.getViewFactory());\r\n            @Override public ViewFactory getViewFactory() {\r\n                return boxbgFactory;\r\n            }\r\n        };\r\n    }\r\n\r\n    static void paintBackground(View view, Graphics g, Shape a) {\r\n        Color bg = null;\r\n        AttributeSet atts = view.getAttributes();\r\n        if (atts.isDefined(StyleConstants.Background)) {\r\n            bg = (Color) atts.getAttribute(StyleConstants.Background);\r\n        } else {\r\n            AttributeSet linked = atts.getResolveParent();\r\n            if (linked instanceof Style)\r\n                bg = (Color) linked.getAttribute(StyleConstants.Background);\r\n        }\r\n        if (bg == null) return;\r\n\r\n        Rectangle rect = (a instanceof Rectangle) ? (Rectangle) a : a.getBounds();\r\n        g.setColor(bg);\r\n        g.fillRect(rect.x, rect.y, rect.width, rect.height);\r\n    }\r\n\r\n\r\n    private static class BoxView extends javax.swing.text.BoxView {\r\n\r\n        BoxView(Element elem) {\r\n            super(elem, View.Y_AXIS);\r\n        }\r\n\r\n        @Override\r\n        public void paint(Graphics g, Shape a) {\r\n            paintBackground(this, g, a);\r\n            super.paint(g, a);\r\n        }\r\n\r\n    } // class BoxView\r\n\r\n\r\n    private static class ParagraphView extends javax.swing.text.ParagraphView {\r\n\r\n        ParagraphView(Element elem) {\r\n            super(elem);\r\n        }\r\n\r\n        @Override\r\n        public void paint(Graphics g, Shape a) {\r\n            paintBackground(this, g, a);\r\n            super.paint(g, a);\r\n        }\r\n\r\n    } // class ParagraphView\r\n\r\n\r\n} // class BoxBackgroundFactory\r\n```\r\n\r\nHere&#39;s a demo using it (with comparison to few of the other suggestions):\r\n\r\n```java\r\n//package ;\r\n\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextPane;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.text.BadLocationException;\r\nimport javax.swing.text.DefaultHighlighter;\r\nimport javax.swing.text.Style;\r\nimport javax.swing.text.StyleConstants;\r\nimport javax.swing.text.StyleContext;\r\nimport javax.swing.text.StyledDocument;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class BoxBackgroundDemo extends JFrame {\r\n\r\n    BoxBackgroundDemo() {\r\n        super(&quot;Box background demo&quot;);\r\n        super.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n\r\n        JTextPane editor = new JTextPane();\r\n        editor.setEditorKit(BoxBackgroundFactory.newEditorKit());\r\n\r\n        StyledDocument document = editor.getStyledDocument();\r\n        Style defaultStyle = document.getStyle(StyleContext.DEFAULT_STYLE);\r\n        StyleConstants.setSpaceAbove(defaultStyle, 5f);\r\n        StyleConstants.setSpaceBelow(defaultStyle, 5f);\r\n        Style highlight = document.addStyle(&quot;hilite&quot;, defaultStyle);\r\n        StyleConstants.setBackground(highlight, Color.RED);\r\n        StyleConstants.setForeground(highlight, Color.YELLOW);\r\n\r\n        String paragraph = &quot;The quick brown fox jumps over the lazy fox. 1234567890\\n&quot;;\r\n        try {\r\n            document.insertString(0, paragraph, null);\r\n            document.insertString(document.getLength(), paragraph, null);\r\n            document.setCharacterAttributes(paragraph.length() / 2,\r\n                    paragraph.length(), highlight, false);\r\n\r\n            // Two paragraphs background\r\n            document.insertString(document.getLength(), paragraph, null);\r\n            document.insertString(document.getLength(), paragraph, null);\r\n            document.setParagraphAttributes(paragraph.length() * 5 / 2,\r\n                    paragraph.length(), highlight, false);\r\n\r\n            document.insertString(document.getLength(), paragraph, null);\r\n            document.insertString(document.getLength(), paragraph, null);\r\n            editor.getHighlighter().addHighlight(\r\n                    paragraph.length() * 9 / 2, paragraph.length() * 11 / 2,\r\n                    new DefaultHighlighter.DefaultHighlightPainter(Color.RED));\r\n\r\n            // Single paragraph background\r\n            document.insertString(document.getLength(), paragraph, null);\r\n            document.setLogicalStyle(paragraph.length() * 6, highlight);\r\n\r\n        } catch (BadLocationException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        super.add(new JScrollPane(editor));\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            BoxBackgroundDemo window = new BoxBackgroundDemo();\r\n            window.pack();\r\n            window.setLocationRelativeTo(null);\r\n            window.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\n[![demo][1]][1]\r\n\r\nIn my opinion, a custom [`highlight`](https://docs.oracle.com/javase/8/docs/api/javax/swing/text/Highlighter.html#addHighlight-int-int-javax.swing.text.Highlighter.HighlightPainter-) painter implementation would be the least suitable approach for this purpose.\r\n\r\n[1]: https://i.stack.imgur.com/sPWHC.png","title":"Changing the background color of a paragraph in JTextPane (Java Swing)","body":"<p>If you want the background of the whole paragraph box to be painted you need a custom <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/EditorKit.html#getViewFactory--\" rel=\"nofollow noreferrer\"><code>ViewFactory</code></a> (therefore a custom <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JEditorPane.html#setEditorKit-javax.swing.text.EditorKit-\" rel=\"nofollow noreferrer\"><code>EditorKit</code></a> providing it) that produces <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/BoxView.html\" rel=\"nofollow noreferrer\"><code>Box</code></a>/<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/ParagraphView.html\" rel=\"nofollow noreferrer\"><code>Paragraph</code></a> views knowing to paint their own background.</p>\n<p>With <code>HTMLDocument</code>/<code>HTMLEditorKit</code> this is implemented by <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/html/StyleSheet.html#getBoxPainter-javax.swing.text.AttributeSet-\" rel=\"nofollow noreferrer\"><code>StyleSheet.getBoxPainter()</code></a>, for example.</p>\n<p>Here's my solution for <code>DefaultStyledDocument</code>/<code>StyledEditorKit</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//package ;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.awt.Shape;\n\nimport javax.swing.text.AbstractDocument;\nimport javax.swing.text.AttributeSet;\nimport javax.swing.text.Element;\nimport javax.swing.text.Style;\nimport javax.swing.text.StyleConstants;\nimport javax.swing.text.StyledEditorKit;\nimport javax.swing.text.View;\nimport javax.swing.text.ViewFactory;\n\npublic class BoxBackgroundFactory implements ViewFactory {\n\n    private final ViewFactory viewFactory;\n\n    public BoxBackgroundFactory(ViewFactory viewFactory) {\n        this.viewFactory = viewFactory;\n    }\n\n    @Override\n    public View create(Element elem) {\n        String kind = elem.getName();\n        if (AbstractDocument.ParagraphElementName.equals(kind)) {\n            return new ParagraphView(elem);\n        } else if (AbstractDocument.SectionElementName.equals(kind)) {\n            return new BoxView(elem);\n        }\n        return viewFactory.create(elem);\n    }\n\n    @SuppressWarnings(&quot;serial&quot;)\n    public static StyledEditorKit newEditorKit() {\n        return new StyledEditorKit() {\n            private final BoxBackgroundFactory boxbgFactory =\n                    new BoxBackgroundFactory(super.getViewFactory());\n            @Override public ViewFactory getViewFactory() {\n                return boxbgFactory;\n            }\n        };\n    }\n\n    static void paintBackground(View view, Graphics g, Shape a) {\n        Color bg = null;\n        AttributeSet atts = view.getAttributes();\n        if (atts.isDefined(StyleConstants.Background)) {\n            bg = (Color) atts.getAttribute(StyleConstants.Background);\n        } else {\n            AttributeSet linked = atts.getResolveParent();\n            if (linked instanceof Style)\n                bg = (Color) linked.getAttribute(StyleConstants.Background);\n        }\n        if (bg == null) return;\n\n        Rectangle rect = (a instanceof Rectangle) ? (Rectangle) a : a.getBounds();\n        g.setColor(bg);\n        g.fillRect(rect.x, rect.y, rect.width, rect.height);\n    }\n\n\n    private static class BoxView extends javax.swing.text.BoxView {\n\n        BoxView(Element elem) {\n            super(elem, View.Y_AXIS);\n        }\n\n        @Override\n        public void paint(Graphics g, Shape a) {\n            paintBackground(this, g, a);\n            super.paint(g, a);\n        }\n\n    } // class BoxView\n\n\n    private static class ParagraphView extends javax.swing.text.ParagraphView {\n\n        ParagraphView(Element elem) {\n            super(elem);\n        }\n\n        @Override\n        public void paint(Graphics g, Shape a) {\n            paintBackground(this, g, a);\n            super.paint(g, a);\n        }\n\n    } // class ParagraphView\n\n\n} // class BoxBackgroundFactory\n</code></pre>\n<p>Here's a demo using it (with comparison to few of the other suggestions):</p>\n<pre class=\"lang-java prettyprint-override\"><code>//package ;\n\nimport java.awt.Color;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextPane;\nimport javax.swing.SwingUtilities;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.DefaultHighlighter;\nimport javax.swing.text.Style;\nimport javax.swing.text.StyleConstants;\nimport javax.swing.text.StyleContext;\nimport javax.swing.text.StyledDocument;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class BoxBackgroundDemo extends JFrame {\n\n    BoxBackgroundDemo() {\n        super(&quot;Box background demo&quot;);\n        super.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n\n        JTextPane editor = new JTextPane();\n        editor.setEditorKit(BoxBackgroundFactory.newEditorKit());\n\n        StyledDocument document = editor.getStyledDocument();\n        Style defaultStyle = document.getStyle(StyleContext.DEFAULT_STYLE);\n        StyleConstants.setSpaceAbove(defaultStyle, 5f);\n        StyleConstants.setSpaceBelow(defaultStyle, 5f);\n        Style highlight = document.addStyle(&quot;hilite&quot;, defaultStyle);\n        StyleConstants.setBackground(highlight, Color.RED);\n        StyleConstants.setForeground(highlight, Color.YELLOW);\n\n        String paragraph = &quot;The quick brown fox jumps over the lazy fox. 1234567890\\n&quot;;\n        try {\n            document.insertString(0, paragraph, null);\n            document.insertString(document.getLength(), paragraph, null);\n            document.setCharacterAttributes(paragraph.length() / 2,\n                    paragraph.length(), highlight, false);\n\n            // Two paragraphs background\n            document.insertString(document.getLength(), paragraph, null);\n            document.insertString(document.getLength(), paragraph, null);\n            document.setParagraphAttributes(paragraph.length() * 5 / 2,\n                    paragraph.length(), highlight, false);\n\n            document.insertString(document.getLength(), paragraph, null);\n            document.insertString(document.getLength(), paragraph, null);\n            editor.getHighlighter().addHighlight(\n                    paragraph.length() * 9 / 2, paragraph.length() * 11 / 2,\n                    new DefaultHighlighter.DefaultHighlightPainter(Color.RED));\n\n            // Single paragraph background\n            document.insertString(document.getLength(), paragraph, null);\n            document.setLogicalStyle(paragraph.length() * 6, highlight);\n\n        } catch (BadLocationException e) {\n            e.printStackTrace();\n        }\n\n        super.add(new JScrollPane(editor));\n    }\n\n    public static void main(String[] args) throws Exception {\n        SwingUtilities.invokeLater(() -&gt; {\n            BoxBackgroundDemo window = new BoxBackgroundDemo();\n            window.pack();\n            window.setLocationRelativeTo(null);\n            window.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sPWHC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sPWHC.png\" alt=\"demo\" /></a></p>\n<p>In my opinion, a custom <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/Highlighter.html#addHighlight-int-int-javax.swing.text.Highlighter.HighlightPainter-\" rel=\"nofollow noreferrer\"><code>highlight</code></a> painter implementation would be the least suitable approach for this purpose.</p>\n"}],"owner":{"account_id":12615,"reputation":19234,"user_id":24949,"accept_rate":95,"display_name":"Sudar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6604,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1644660,"answer_count":4,"score":4,"last_activity_date":1679756112,"creation_date":1256811660,"question_id":1642725,"body_markdown":"Is it possible to change the background color of a paragraph in Java Swing? I tried to set it using the setParagraphAttributes method (code below) but doesn&#39;t seem to work.\r\n\r\n\t    StyledDocument doc = textPanel.getStyledDocument();\r\n\t    Style style = textPanel.addStyle(&quot;Hightlight background&quot;, null);\r\n\t    StyleConstants.setBackground(style, Color.red);\r\n\r\n\t    Style logicalStyle = textPanel.getLogicalStyle();\r\n\t    doc.setParagraphAttributes(textPanel.getSelectionStart(), 1, textPanel.getStyle(&quot;Hightlight background&quot;), true);\r\n\t    textPanel.setLogicalStyle(logicalStyle);\r\n\r\n","title":"Changing the background color of a paragraph in JTextPane (Java Swing)","body":"<p>Is it possible to change the background color of a paragraph in Java Swing? I tried to set it using the setParagraphAttributes method (code below) but doesn't seem to work.</p>\n\n<pre><code>    StyledDocument doc = textPanel.getStyledDocument();\n    Style style = textPanel.addStyle(\"Hightlight background\", null);\n    StyleConstants.setBackground(style, Color.red);\n\n    Style logicalStyle = textPanel.getLogicalStyle();\n    doc.setParagraphAttributes(textPanel.getSelectionStart(), 1, textPanel.getStyle(\"Hightlight background\"), true);\n    textPanel.setLogicalStyle(logicalStyle);\n</code></pre>\n"},{"tags":["java","tensorflow","keras","deep-learning","deeplearning4j"],"comments":[{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1679654358,"post_id":75831535,"comment_id":133763611,"body_markdown":"Could you print out the model summary summary? Normally we expect an NCHW image. Different frameworks will have different layouts. Keras uses NHWC by default. Edit: If there&#39;s a bug we&#39;re also happy to look at it over at https://github.com/deeplearning4j/deeplearning4j/issues - I highly doubt there is though. That workflow is fairly standard and has worked for many users for a while now.","body":"Could you print out the model summary summary? Normally we expect an NCHW image. Different frameworks will have different layouts. Keras uses NHWC by default. Edit: If there&#39;s a bug we&#39;re also happy to look at it over at <a href=\"https://github.com/deeplearning4j/deeplearning4j/issues\" rel=\"nofollow noreferrer\">github.com/deeplearning4j/deeplearning4j/issues</a> - I highly doubt there is though. That workflow is fairly standard and has worked for many users for a while now."},{"owner":{"account_id":11186662,"reputation":37,"user_id":13071619,"display_name":"Markus Bauer"},"score":0,"creation_date":1679655913,"post_id":75831535,"comment_id":133764019,"body_markdown":"Hi. Thanks - that helped me to find a solution... After adding\n\nfeatures = features.permute(0, 2, 3, 1);\n\nthe model works but instead of flagging 195 images it only flaggs 136. So there is still a issue....","body":"Hi. Thanks - that helped me to find a solution... After adding  features = features.permute(0, 2, 3, 1);  the model works but instead of flagging 195 images it only flaggs 136. So there is still a issue...."}],"answers":[{"tags":[],"owner":{"account_id":11186662,"reputation":37,"user_id":13071619,"display_name":"Markus Bauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679657267,"creation_date":1679657267,"answer_id":75833080,"question_id":75831535,"body_markdown":"So now I get at least 136 images of my test-set flagged. The Python version flags 195 images...\r\n\r\nSo I guess the normalisation is a problem. I train the model with:\r\n\r\n    train = ImageDataGenerator(rotation_range=5, horizontal_flip=True, vertical_flip=True, rescale=1/255)\r\n\r\nAnd I use \r\n\r\n    X *= 1/255\r\n\r\nbefore the prediction in the test script.\r\n\r\nIn Java I use\r\n\r\n    features = features.permute(0, 2, 3, 1);\r\n    DataNormalization scalar = new ImagePreProcessingScaler(0, 1);\r\n    scalar.transform(features);\r\n\r\nbut I am not sure if the normalisation is the issue or if I have srewed up the parameters for .permute()...\r\n\r\nAny suggestions?","title":"Java Deeplearning4j image in wrong shape","body":"<p>So now I get at least 136 images of my test-set flagged. The Python version flags 195 images...</p>\n<p>So I guess the normalisation is a problem. I train the model with:</p>\n<pre><code>train = ImageDataGenerator(rotation_range=5, horizontal_flip=True, vertical_flip=True, rescale=1/255)\n</code></pre>\n<p>And I use</p>\n<pre><code>X *= 1/255\n</code></pre>\n<p>before the prediction in the test script.</p>\n<p>In Java I use</p>\n<pre><code>features = features.permute(0, 2, 3, 1);\nDataNormalization scalar = new ImagePreProcessingScaler(0, 1);\nscalar.transform(features);\n</code></pre>\n<p>but I am not sure if the normalisation is the issue or if I have srewed up the parameters for .permute()...</p>\n<p>Any suggestions?</p>\n"},{"tags":[],"owner":{"account_id":11186662,"reputation":37,"user_id":13071619,"display_name":"Markus Bauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679659625,"creation_date":1679659625,"answer_id":75833463,"question_id":75831535,"body_markdown":"That&#39;s all how the model is trained:\r\n\r\n    import tensorflow as tf\r\n    from tensorflow.keras.preprocessing.image import ImageDataGenerator \r\n    from tensorflow.keras.preprocessing import image\r\n    from tensorflow.keras.applications import ResNet50V2\r\n    from tensorflow.keras.applications import MobileNetV2\r\n    \r\n    from tensorflow.keras.applications import ResNet152V2\r\n    \r\n    # GENERAL WIDTH AND HIGHT FOR THE IMAGES\r\n    WIDTH = 128\r\n    HEIGHT = 128\r\n    \r\n    train = ImageDataGenerator(rotation_range=5, horizontal_flip=True, vertical_flip=True, rescale=1/255) \r\n    valid = ImageDataGenerator(rescale=1/255)\r\n    \r\n    train_set = train.flow_from_directory(&#39;images_train/&#39;, target_size=(WIDTH,HEIGHT), batch_size=64, class_mode=&#39;categorical&#39;)\r\n    test_set  = valid.flow_from_directory(&#39;images_test/&#39;, target_size=(WIDTH,HEIGHT), batch_size=64, class_mode=&#39;categorical&#39;)\r\n    \r\n    resnet = ResNet50V2(include_top=False, weights=&#39;imagenet&#39;, input_shape=(WIDTH,HEIGHT,3))  \r\n        \r\n    for layer in resnet.layers:\r\n        layer.trainable = False\r\n    \r\n    x = tf.keras.layers.Flatten()(resnet.output)\r\n    x = tf.keras.layers.Dense(512, activation=&#39;relu&#39;)(x)\r\n    n_classes = len(train_set.class_indices)\r\n    predictions = tf.keras.layers.Dense(n_classes, activation=&#39;softmax&#39;)(x)\r\n    \r\n    model = tf.keras.Model(inputs=resnet.input, outputs=predictions)\r\n    model.compile(loss=&#39;categorical_crossentropy&#39;, optimizer=&quot;adam&quot;, metrics=[&#39;accuracy&#39;])\r\n    \r\n    hist = model.fit(train_set, epochs=20, validation_data=test_set)\r\n    \r\n    model.save(&#39;resnet50v2.h5&#39;)\r\n\r\nThat&#39;s the code how I test images in Python:\r\n\r\n    ctr = 0\r\n    for root, dirs, files in os.walk(base_path):\r\n        for name in files:\r\n            image_path = os.path.join(root, name)\r\n            \r\n            tmp = image_path.lower().split(&quot;.&quot;)\r\n            if tmp[-1] in [&quot;jpg&quot;, &quot;jpeg&quot;, &quot;png&quot;, &quot;bmp&quot;]:\r\n                orig_image = Image.open(image_path)\r\n                if orig_image.mode != &quot;RGB&quot;:\r\n                    orig_image = orig_image.convert(&quot;RGB&quot;)\r\n                    \r\n                image = orig_image.resize((128, 128))\r\n                \r\n                X = []\r\n                X.append(np.array(image.getdata()).reshape((128,128,3)))\r\n                X = np.array(X).astype(&#39;float64&#39;)\r\n                X *= 1/255\r\n    \r\n                # PREDICT AND WRITE REPORT\r\n                pred = model.predict(X)\r\n                pred = np.rint(pred).astype(&quot;int32&quot;)\r\n    \r\n                if(pred[0][1] != 1):\r\n                    ctr += 1\r\n                    print(f&quot;{ctr} :: {image_path} == {pred[0]}&quot;)\r\n\r\nAnd that&#39;s the code how I test images in Java:\r\n\r\n    int ctr = 0;\r\n    for (File f : listOfFiles) {\r\n        if (f.isFile()) {\r\n            ResizeImageTransform rit = new ResizeImageTransform(128, 128);\r\n            NativeImageLoader loader = new NativeImageLoader(128, 128, 3, rit);\r\n            INDArray features = null;\r\n            try{\r\n                features = loader.asMatrix(f); // GIVES ME A SHAPE OF 1, 3, 128, 128\r\n            } \r\n            catch(IOException ex){\r\n                continue;\r\n            }\r\n            features = features.permute(0, 2, 3, 1);\r\n            DataNormalization scalar = new ImagePreProcessingScaler(0, 1);\r\n            scalar.transform(features);\r\n    \r\n            INDArray[] prediction = model.output(features);\r\n    \r\n            // Get Class\r\n            double pred[] = prediction[0].toDoubleVector();\r\n            int predClass = 0;\r\n            for(int i = 0; i &lt; pred.length; i++){\r\n                predClass = pred[i] &gt; pred[predClass] ? i : predClass;\r\n            }\r\n    \r\n            if(predClass != 1){\r\n                ctr++;\r\n                System.out.println(f.getName());\r\n                System.out.println(ctr + &quot;) PORN FOUND :: &quot; + predClass);\r\n            }\r\n        }\r\n    }","title":"Java Deeplearning4j image in wrong shape","body":"<p>That's all how the model is trained:</p>\n<pre><code>import tensorflow as tf\nfrom tensorflow.keras.preprocessing.image import ImageDataGenerator \nfrom tensorflow.keras.preprocessing import image\nfrom tensorflow.keras.applications import ResNet50V2\nfrom tensorflow.keras.applications import MobileNetV2\n\nfrom tensorflow.keras.applications import ResNet152V2\n\n# GENERAL WIDTH AND HIGHT FOR THE IMAGES\nWIDTH = 128\nHEIGHT = 128\n\ntrain = ImageDataGenerator(rotation_range=5, horizontal_flip=True, vertical_flip=True, rescale=1/255) \nvalid = ImageDataGenerator(rescale=1/255)\n\ntrain_set = train.flow_from_directory('images_train/', target_size=(WIDTH,HEIGHT), batch_size=64, class_mode='categorical')\ntest_set  = valid.flow_from_directory('images_test/', target_size=(WIDTH,HEIGHT), batch_size=64, class_mode='categorical')\n\nresnet = ResNet50V2(include_top=False, weights='imagenet', input_shape=(WIDTH,HEIGHT,3))  \n    \nfor layer in resnet.layers:\n    layer.trainable = False\n\nx = tf.keras.layers.Flatten()(resnet.output)\nx = tf.keras.layers.Dense(512, activation='relu')(x)\nn_classes = len(train_set.class_indices)\npredictions = tf.keras.layers.Dense(n_classes, activation='softmax')(x)\n\nmodel = tf.keras.Model(inputs=resnet.input, outputs=predictions)\nmodel.compile(loss='categorical_crossentropy', optimizer=&quot;adam&quot;, metrics=['accuracy'])\n\nhist = model.fit(train_set, epochs=20, validation_data=test_set)\n\nmodel.save('resnet50v2.h5')\n</code></pre>\n<p>That's the code how I test images in Python:</p>\n<pre><code>ctr = 0\nfor root, dirs, files in os.walk(base_path):\n    for name in files:\n        image_path = os.path.join(root, name)\n        \n        tmp = image_path.lower().split(&quot;.&quot;)\n        if tmp[-1] in [&quot;jpg&quot;, &quot;jpeg&quot;, &quot;png&quot;, &quot;bmp&quot;]:\n            orig_image = Image.open(image_path)\n            if orig_image.mode != &quot;RGB&quot;:\n                orig_image = orig_image.convert(&quot;RGB&quot;)\n                \n            image = orig_image.resize((128, 128))\n            \n            X = []\n            X.append(np.array(image.getdata()).reshape((128,128,3)))\n            X = np.array(X).astype('float64')\n            X *= 1/255\n\n            # PREDICT AND WRITE REPORT\n            pred = model.predict(X)\n            pred = np.rint(pred).astype(&quot;int32&quot;)\n\n            if(pred[0][1] != 1):\n                ctr += 1\n                print(f&quot;{ctr} :: {image_path} == {pred[0]}&quot;)\n</code></pre>\n<p>And that's the code how I test images in Java:</p>\n<pre><code>int ctr = 0;\nfor (File f : listOfFiles) {\n    if (f.isFile()) {\n        ResizeImageTransform rit = new ResizeImageTransform(128, 128);\n        NativeImageLoader loader = new NativeImageLoader(128, 128, 3, rit);\n        INDArray features = null;\n        try{\n            features = loader.asMatrix(f); // GIVES ME A SHAPE OF 1, 3, 128, 128\n        } \n        catch(IOException ex){\n            continue;\n        }\n        features = features.permute(0, 2, 3, 1);\n        DataNormalization scalar = new ImagePreProcessingScaler(0, 1);\n        scalar.transform(features);\n\n        INDArray[] prediction = model.output(features);\n\n        // Get Class\n        double pred[] = prediction[0].toDoubleVector();\n        int predClass = 0;\n        for(int i = 0; i &lt; pred.length; i++){\n            predClass = pred[i] &gt; pred[predClass] ? i : predClass;\n        }\n\n        if(predClass != 1){\n            ctr++;\n            System.out.println(f.getName());\n            System.out.println(ctr + &quot;) PORN FOUND :: &quot; + predClass);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11186662,"reputation":37,"user_id":13071619,"display_name":"Markus Bauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679746688,"creation_date":1679667000,"answer_id":75834697,"question_id":75831535,"body_markdown":"Python \r\n\r\n    DSC_3767.jpg\r\n        A          B          C\r\n    [[[[0.9254902  0.88627451 0.87843137]\r\n       [0.9254902  0.88627451 0.87843137]\r\n       [0.9254902  0.88627451 0.87843137]\r\n       ...\r\n\r\nJava\r\n\r\n    DSC_3767.jpg\r\n            C          B          A\r\n    [[[[    0.8784,    0.8863,    0.9255], \r\n       [    0.8784,    0.8863,    0.9255], \r\n       [    0.8784,    0.8863,    0.9255],\r\n       ...\r\n\r\nAll I have to do is swap C and A and the model will work fine. I just don&#39;t get the way how.","title":"Java Deeplearning4j image in wrong shape","body":"<p>Python</p>\n<pre><code>DSC_3767.jpg\n    A          B          C\n[[[[0.9254902  0.88627451 0.87843137]\n   [0.9254902  0.88627451 0.87843137]\n   [0.9254902  0.88627451 0.87843137]\n   ...\n</code></pre>\n<p>Java</p>\n<pre><code>DSC_3767.jpg\n        C          B          A\n[[[[    0.8784,    0.8863,    0.9255], \n   [    0.8784,    0.8863,    0.9255], \n   [    0.8784,    0.8863,    0.9255],\n   ...\n</code></pre>\n<p>All I have to do is swap C and A and the model will work fine. I just don't get the way how.</p>\n"},{"tags":[],"owner":{"account_id":11186662,"reputation":37,"user_id":13071619,"display_name":"Markus Bauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679756061,"creation_date":1679756061,"answer_id":75842493,"question_id":75831535,"body_markdown":"I mean I can fix the issue with\r\n\r\n    for (int y = 0; y &lt; 128; y++) {\r\n        for (int x = 0; x &lt; 128; x++) {\r\n            double a = features.getDouble(0,y,x,0);\r\n            double b = features.getDouble(0,y,x,2);\r\n            features.putScalar(new int[] {0,y,x,0}, b);\r\n            features.putScalar(new int[] {0,y,x,2}, a);\r\n        }\r\n    }\r\n\r\n... but there must be a nicer / better solution.","title":"Java Deeplearning4j image in wrong shape","body":"<p>I mean I can fix the issue with</p>\n<pre><code>for (int y = 0; y &lt; 128; y++) {\n    for (int x = 0; x &lt; 128; x++) {\n        double a = features.getDouble(0,y,x,0);\n        double b = features.getDouble(0,y,x,2);\n        features.putScalar(new int[] {0,y,x,0}, b);\n        features.putScalar(new int[] {0,y,x,2}, a);\n    }\n}\n</code></pre>\n<p>... but there must be a nicer / better solution.</p>\n"}],"owner":{"account_id":11186662,"reputation":37,"user_id":13071619,"display_name":"Markus Bauer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1679756061,"creation_date":1679647329,"question_id":75831535,"body_markdown":"I have a small problem with Java and machine learning. I have trained a model with Keras and it works as expected when I use Python to predict images.\r\n\r\nThe shape on which the model is trained was [ width, height, RGB ].\r\n\r\nBut when I load an image in Java I got [ RGB, width, height] - so I try to use .reshape() to change the shape but I clearly mess there something up because all predictions are wrong afterwards:\r\n\r\n    ResizeImageTransform rit = new ResizeImageTransform(128, 128);\r\n    NativeImageLoader loader = new NativeImageLoader(128, 128, 3, rit);\r\n\r\n    INDArray features = loader.asMatrix(f); // GIVES ME A SHAPE OF 1, 3, 128, 128\r\n    features = features.reshape(1, 128, 128, 3); // GIVES ME THE SHAPE 1, 128, 128, 3 AS NEEDED\r\n    \r\n    INDArray[] prediction = model.output(features); // all predictions wrong\r\n\r\nI am no Java developer and I try to get alon with the documentation but here I clearly overlook something. Maybe someone here can give a tip what I am doing wrong...\r\n\r\n","title":"Java Deeplearning4j image in wrong shape","body":"<p>I have a small problem with Java and machine learning. I have trained a model with Keras and it works as expected when I use Python to predict images.</p>\n<p>The shape on which the model is trained was [ width, height, RGB ].</p>\n<p>But when I load an image in Java I got [ RGB, width, height] - so I try to use .reshape() to change the shape but I clearly mess there something up because all predictions are wrong afterwards:</p>\n<pre><code>ResizeImageTransform rit = new ResizeImageTransform(128, 128);\nNativeImageLoader loader = new NativeImageLoader(128, 128, 3, rit);\n\nINDArray features = loader.asMatrix(f); // GIVES ME A SHAPE OF 1, 3, 128, 128\nfeatures = features.reshape(1, 128, 128, 3); // GIVES ME THE SHAPE 1, 128, 128, 3 AS NEEDED\n\nINDArray[] prediction = model.output(features); // all predictions wrong\n</code></pre>\n<p>I am no Java developer and I try to get alon with the documentation but here I clearly overlook something. Maybe someone here can give a tip what I am doing wrong...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1679526741,"post_id":75817997,"comment_id":133740066,"body_markdown":"What happens when you run it?","body":"What happens when you run it?"},{"owner":{"account_id":25539243,"reputation":411,"user_id":19325656,"display_name":"rafaelHTML"},"score":0,"creation_date":1679527035,"post_id":75817997,"comment_id":133740101,"body_markdown":"When i press run, and save a picture I can see the console logs that i have in function but i don&#39;t see file or folder created. I&#39;ve searched for folder name in project folder and got no result.","body":"When i press run, and save a picture I can see the console logs that i have in function but i don&#39;t see file or folder created. I&#39;ve searched for folder name in project folder and got no result."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679527997,"post_id":75817997,"comment_id":133740217,"body_markdown":"Are you running the app as a user that has permission to create things in the &quot;/&quot; directory?  If not, the `directory.mkdir()` call will fail and return `false`.  If you were using `java.nio.file.Files` methods for this (instead of the legacy `File` class), you would get exceptions that tell you more about what is happening.","body":"Are you running the app as a user that has permission to create things in the &quot;/&quot; directory?  If not, the <code>directory.mkdir()</code> call will fail and return <code>false</code>.  If you were using <code>java.nio.file.Files</code> methods for this (instead of the legacy <code>File</code> class), you would get exceptions that tell you more about what is happening."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679528207,"post_id":75817997,"comment_id":133740241,"body_markdown":"Note: on a typical Linux / UNIX system, a normal user cannot create directories or files in &quot;/&quot;.  You need to be &quot;root&quot; to do it.","body":"Note: on a typical Linux / UNIX system, a normal user cannot create directories or files in &quot;/&quot;.  You need to be &quot;root&quot; to do it."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679528959,"post_id":75817997,"comment_id":133740326,"body_markdown":"I would use `if (directory.exists() || directory.mkdirs()) { // write here // }` - this way, you&#39;re guaranteed to know the directory exists (or not)","body":"I would use <code>if (directory.exists() || directory.mkdirs()) { &#47;&#47; write here &#47;&#47; }</code> - this way, you&#39;re guaranteed to know the directory exists (or not)"}],"answers":[{"tags":[],"owner":{"account_id":9610327,"reputation":613,"user_id":7134898,"display_name":"Juan Daniel Ornella"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679544232,"creation_date":1679544232,"answer_id":75819168,"question_id":75817997,"body_markdown":"Change this line:\r\n\r\n    String directoryName = &quot;outfiles&quot;; // remove the leading slash","title":"Save incoming file into folder and if it doesn&#39;t exist, create it","body":"<p>Change this line:</p>\n<pre><code>String directoryName = &quot;outfiles&quot;; // remove the leading slash\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25539243,"reputation":411,"user_id":19325656,"display_name":"rafaelHTML"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679754962,"creation_date":1679754962,"answer_id":75842398,"question_id":75817997,"body_markdown":"Okat, thanks to the comments I&#39;ve figured it out.\r\n\r\n\r\n```\r\nString fileName = in.readUTF();\r\nString directoryName = Path.of(&quot;&quot;).toAbsolutePath().toString() + &quot;\\\\server-recived&quot;;\r\n\r\nSystem.out.println(&quot;File: &quot; + fileName);\r\n\r\n// Get length of incoming file\r\nint length = in.readInt();\r\nSystem.out.println(&quot;Length: &quot; + length);\r\n\r\n// Get contents of file\r\nif (length &gt; 0)\r\n{\r\n    File directory = new File(directoryName);\r\n    if (! directory.exists()){\r\n        directory.mkdir();\r\n    }\r\n    // read the message\r\n    byte[] fileContent = new byte[length];\r\n    in.readFully(fileContent, 0, fileContent.length);\r\n\r\n    // Write bytes to file\r\n    File file_save = new File(directory, fileName);\r\n    FileOutputStream fos = new FileOutputStream(file_save);\r\n    fos.write(fileContent);\r\n\r\n    // Close file output\r\n    fos.close();\r\n}\r\n```","title":"Save incoming file into folder and if it doesn&#39;t exist, create it","body":"<p>Okat, thanks to the comments I've figured it out.</p>\n<pre><code>String fileName = in.readUTF();\nString directoryName = Path.of(&quot;&quot;).toAbsolutePath().toString() + &quot;\\\\server-recived&quot;;\n\nSystem.out.println(&quot;File: &quot; + fileName);\n\n// Get length of incoming file\nint length = in.readInt();\nSystem.out.println(&quot;Length: &quot; + length);\n\n// Get contents of file\nif (length &gt; 0)\n{\n    File directory = new File(directoryName);\n    if (! directory.exists()){\n        directory.mkdir();\n    }\n    // read the message\n    byte[] fileContent = new byte[length];\n    in.readFully(fileContent, 0, fileContent.length);\n\n    // Write bytes to file\n    File file_save = new File(directory, fileName);\n    FileOutputStream fos = new FileOutputStream(file_save);\n    fos.write(fileContent);\n\n    // Close file output\n    fos.close();\n}\n</code></pre>\n"}],"owner":{"account_id":25539243,"reputation":411,"user_id":19325656,"display_name":"rafaelHTML"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75842398,"answer_count":2,"score":0,"last_activity_date":1679755923,"creation_date":1679526471,"question_id":75817997,"body_markdown":"I&#39;m writing my first Java program and I&#39;m trying to implement saving/creating directory.\r\n\r\nI&#39;m good on the saving file part, not so on creating a new directory.\r\n\r\nThis is my attempt on saving file into directory and creating it, if it does not exists \r\n\r\n```java\r\nString fileName = in.readUTF();\r\nString directoryName = &quot;/outfiles/&quot;;\r\n\r\nint length = in.readInt();\r\nSystem.out.println(&quot;Length: &quot; + length);\r\n\r\nif (length &gt; 0)\r\n{\r\n    File directory = new File(directoryName);\r\n    if (! directory.exists()){\r\n        directory.mkdir();\r\n    }\r\n    \r\n    // read the message\r\n    byte[] fileContent = new byte[length];\r\n    in.readFully(fileContent, 0, fileContent.length);\r\n\r\n    File file_save = new File(directory, fileName);\r\n    FileOutputStream fos = new FileOutputStream(file_save);\r\n    fos.write(fileContent);\r\n\r\n    // Close file output\r\n    fos.close();\r\n}\r\n```\r\nThis is working code that saves file in location that .jar file itself is located \r\n\r\n```java\r\nString fileName = in.readUTF();\r\nSystem.out.println(&quot;File: &quot; + fileName);\r\n\r\nint length = in.readInt();\r\nSystem.out.println(&quot;Length: &quot; + length);\r\n\r\nif (length &gt; 0)\r\n{\r\n    // read the message\r\n    byte[] fileContent = new byte[length];\r\n    in.readFully(fileContent, 0, fileContent.length);\r\n\r\n    // Write bytes to file\r\n    FileOutputStream fos = new FileOutputStream(fileName);\r\n    fos.write(fileContent);\r\n\r\n    // Close file output\r\n    fos.close();\r\n}\r\n```\r\n\r\nHow can I make my code work?","title":"Save incoming file into folder and if it doesn&#39;t exist, create it","body":"<p>I'm writing my first Java program and I'm trying to implement saving/creating directory.</p>\n<p>I'm good on the saving file part, not so on creating a new directory.</p>\n<p>This is my attempt on saving file into directory and creating it, if it does not exists</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fileName = in.readUTF();\nString directoryName = &quot;/outfiles/&quot;;\n\nint length = in.readInt();\nSystem.out.println(&quot;Length: &quot; + length);\n\nif (length &gt; 0)\n{\n    File directory = new File(directoryName);\n    if (! directory.exists()){\n        directory.mkdir();\n    }\n    \n    // read the message\n    byte[] fileContent = new byte[length];\n    in.readFully(fileContent, 0, fileContent.length);\n\n    File file_save = new File(directory, fileName);\n    FileOutputStream fos = new FileOutputStream(file_save);\n    fos.write(fileContent);\n\n    // Close file output\n    fos.close();\n}\n</code></pre>\n<p>This is working code that saves file in location that .jar file itself is located</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fileName = in.readUTF();\nSystem.out.println(&quot;File: &quot; + fileName);\n\nint length = in.readInt();\nSystem.out.println(&quot;Length: &quot; + length);\n\nif (length &gt; 0)\n{\n    // read the message\n    byte[] fileContent = new byte[length];\n    in.readFully(fileContent, 0, fileContent.length);\n\n    // Write bytes to file\n    FileOutputStream fos = new FileOutputStream(fileName);\n    fos.write(fileContent);\n\n    // Close file output\n    fos.close();\n}\n</code></pre>\n<p>How can I make my code work?</p>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679755485,"post_id":75842420,"comment_id":133779421,"body_markdown":"Just like you call `getBytes()` on a string, you should convert the integers to bytes.  One way to do this would be to use a `DataOutputStream` which would allow you convert most any type to bytes.","body":"Just like you call <code>getBytes()</code> on a string, you should convert the integers to bytes.  One way to do this would be to use a <code>DataOutputStream</code> which would allow you convert most any type to bytes."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679758058,"post_id":75842420,"comment_id":133779829,"body_markdown":"I can think of two other ways: a) make it simple and turn the integers into string and b) `byteBuffer.putInt(n)` and then encrypt `byteBuffer.array()`","body":"I can think of two other ways: a) make it simple and turn the integers into string and b) <code>byteBuffer.putInt(n)</code> and then encrypt <code>byteBuffer.array()</code>"}],"owner":{"account_id":9587611,"reputation":1,"user_id":7119750,"display_name":"tech-engg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679755239,"creation_date":1679755239,"question_id":75842420,"body_markdown":"How can we make changes to support integer values in java?\r\n\r\nCurrent Encryption/Decryption at String values:\r\n\r\n    Cipher cipher = Cipher.getInstance(AES_ENCRYPTION_SCHEME);\r\n    cipher.init(Cipher.ENCRYPT_MODE, getSecretKeyAES(secret));\r\n    return Base64.encodeBase64String(cipher.doFinal(plaintext.getBytes(&quot;UTF-8&quot;)));\r\n\r\n    Cipher cipher = Cipher.getInstance(AES_ENCRYPTION_SCHEME);\r\n    cipher.init(Cipher.DECRYPT_MODE, getSecretKeyAES(secret));\r\n    return new String(cipher.doFinal(Base64.decodeBase64(ciphertext)));","title":"I have applied encryption on string values. But how can we implement on integer values?","body":"<p>How can we make changes to support integer values in java?</p>\n<p>Current Encryption/Decryption at String values:</p>\n<pre><code>Cipher cipher = Cipher.getInstance(AES_ENCRYPTION_SCHEME);\ncipher.init(Cipher.ENCRYPT_MODE, getSecretKeyAES(secret));\nreturn Base64.encodeBase64String(cipher.doFinal(plaintext.getBytes(&quot;UTF-8&quot;)));\n\nCipher cipher = Cipher.getInstance(AES_ENCRYPTION_SCHEME);\ncipher.init(Cipher.DECRYPT_MODE, getSecretKeyAES(secret));\nreturn new String(cipher.doFinal(Base64.decodeBase64(ciphertext)));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"score":0,"creation_date":1516191940,"post_id":48300987,"comment_id":83586664,"body_markdown":"&quot;That method should return List with parent and child relationships.&quot; I don&#39;t get what you mean. A combined list?","body":"&quot;That method should return List with parent and child relationships.&quot; I don&#39;t get what you mean. A combined list?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1516191946,"post_id":48300987,"comment_id":83586669,"body_markdown":"What have you tried so far? Maybe that would give us a glimpse into what you might mean by &quot;hierarchical list&quot;.","body":"What have you tried so far? Maybe that would give us a glimpse into what you might mean by &quot;hierarchical list&quot;."},{"owner":{"account_id":8645376,"reputation":588,"user_id":6472723,"accept_rate":0,"display_name":"swaroop pallapothu"},"score":0,"creation_date":1516193259,"post_id":48300987,"comment_id":83587484,"body_markdown":"@daniu, updated my question. I didn&#39;t try anything.","body":"@daniu, updated my question. I didn&#39;t try anything."},{"owner":{"account_id":8645376,"reputation":588,"user_id":6472723,"accept_rate":0,"display_name":"swaroop pallapothu"},"score":0,"creation_date":1516193281,"post_id":48300987,"comment_id":83587496,"body_markdown":"@hellzone , Updated my question please check.","body":"@hellzone , Updated my question please check."},{"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"score":0,"creation_date":1516194082,"post_id":48300987,"comment_id":83588048,"body_markdown":"I just don&#39;t get how do you know Hel-InnerChild1 and Hel-InnerChild2 are child of Hel-Child1 but not Hel-Child2?","body":"I just don&#39;t get how do you know Hel-InnerChild1 and Hel-InnerChild2 are child of Hel-Child1 but not Hel-Child2?"},{"owner":{"account_id":8645376,"reputation":588,"user_id":6472723,"accept_rate":0,"display_name":"swaroop pallapothu"},"score":0,"creation_date":1516194164,"post_id":48300987,"comment_id":83588105,"body_markdown":"@hellzone, Those are stored in database based on user preferences.","body":"@hellzone, Those are stored in database based on user preferences."},{"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"score":0,"creation_date":1516194289,"post_id":48300987,"comment_id":83588175,"body_markdown":"@swarooppallapothu I mean How can I know from your input?","body":"@swarooppallapothu I mean How can I know from your input?"},{"owner":{"account_id":8645376,"reputation":588,"user_id":6472723,"accept_rate":0,"display_name":"swaroop pallapothu"},"score":0,"creation_date":1516194943,"post_id":48300987,"comment_id":83588572,"body_markdown":"based on parentId attribute","body":"based on parentId attribute"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516192470,"creation_date":1516192470,"answer_id":48301290,"question_id":48300987,"body_markdown":"This class is hierarchical already.  \r\n\r\nIf you print the parent, then print the children recursively, you&#39;ll see a tree.\r\n\r\nWhat do you expect to happen?  \r\n\r\nIt&#39;s just a question of how you want to iterate over the tree: depth first or breadth first?\r\n\r\nYour question about going from a flat list to the tree is about parsing the flat list.  How do you distinguish parents from children in the flat list?  That should give you a hint on how to proceed.  \r\n\r\nYou&#39;ll need a factory class that takes a List of Customer, parses the List, and returns the root instance of Customer with its children in the appropriate tree structure.","title":"Build hierarchical list from flat list","body":"<p>This class is hierarchical already.  </p>\n\n<p>If you print the parent, then print the children recursively, you'll see a tree.</p>\n\n<p>What do you expect to happen?  </p>\n\n<p>It's just a question of how you want to iterate over the tree: depth first or breadth first?</p>\n\n<p>Your question about going from a flat list to the tree is about parsing the flat list.  How do you distinguish parents from children in the flat list?  That should give you a hint on how to proceed.  </p>\n\n<p>You'll need a factory class that takes a List of Customer, parses the List, and returns the root instance of Customer with its children in the appropriate tree structure.</p>\n"},{"tags":[],"owner":{"account_id":4692275,"reputation":2134,"user_id":3798111,"accept_rate":43,"display_name":"R. Karlus"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1516195304,"creation_date":1516193011,"answer_id":48301469,"question_id":48300987,"body_markdown":"If you just need to check who&#39;s the parent of each child, you just need to filter the list and set the child for each element. Something like this:\r\n\r\n    public List&lt;Customer&gt; getHierarchicalList(final List&lt;Customer&gt; originalList) {\r\n        final List&lt;Customer&gt; copyList = new ArrayList&lt;&gt;(originalList);\r\n    \r\n        copyList.forEach(element -&gt; {\r\n            originalList\r\n                    .stream()\r\n                    .filter(parent -&gt; parent.id == element.parentId)\r\n                    .findAny()\r\n                    .ifPresent(parent -&gt; {\r\n                        if (parent.childs == null) {\r\n                            parent.childs = new ArrayList&lt;&gt;();\r\n                        }\r\n                        parent.childs.add(element);\r\n                        originalList.remove(element);\r\n                    });\r\n        });\r\n        return originalList;\r\n    }","title":"Build hierarchical list from flat list","body":"<p>If you just need to check who's the parent of each child, you just need to filter the list and set the child for each element. Something like this:</p>\n\n<pre><code>public List&lt;Customer&gt; getHierarchicalList(final List&lt;Customer&gt; originalList) {\n    final List&lt;Customer&gt; copyList = new ArrayList&lt;&gt;(originalList);\n\n    copyList.forEach(element -&gt; {\n        originalList\n                .stream()\n                .filter(parent -&gt; parent.id == element.parentId)\n                .findAny()\n                .ifPresent(parent -&gt; {\n                    if (parent.childs == null) {\n                        parent.childs = new ArrayList&lt;&gt;();\n                    }\n                    parent.childs.add(element);\n                    originalList.remove(element);\n                });\n    });\n    return originalList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546489363,"creation_date":1545968728,"answer_id":53953442,"question_id":48300987,"body_markdown":"I want to extend Rhuan answer,\r\n\r\nby using Rhuan&#39;s code you will get all the node were laying on the root level, and only one which have the correct content and order, by removing the wrong content you will get better results:\r\n\r\n    public List&lt;Customer&gt; getHierarchicalList(final List&lt;Customer&gt; originalList) {\r\n        final List&lt;Customer&gt; copyList = new ArrayList&lt;&gt;(originalList);\r\n    \r\n        copyList.forEach(element -&gt; {\r\n            originalList\r\n                    .stream()\r\n                    .filter(parent -&gt; parent.id == element.parentId)\r\n                    .findAny()\r\n                    .ifPresent(parent -&gt; {\r\n                        if (parent.childs == null) {\r\n                            parent.childs = new ArrayList&lt;&gt;();\r\n                        }\r\n                        parent.childs.add(element);\r\n                        /* originalList.remove(element); don&#39;t remove the content before completing the recursive */\r\n                    });\r\n        });\r\n        originalList.subList(1, originalList.size()).clear();\r\n        return originalList;\r\n    }\r\n\r\nnote about the subList clear.","title":"Build hierarchical list from flat list","body":"<p>I want to extend Rhuan answer,</p>\n\n<p>by using Rhuan's code you will get all the node were laying on the root level, and only one which have the correct content and order, by removing the wrong content you will get better results:</p>\n\n<pre><code>public List&lt;Customer&gt; getHierarchicalList(final List&lt;Customer&gt; originalList) {\n    final List&lt;Customer&gt; copyList = new ArrayList&lt;&gt;(originalList);\n\n    copyList.forEach(element -&gt; {\n        originalList\n                .stream()\n                .filter(parent -&gt; parent.id == element.parentId)\n                .findAny()\n                .ifPresent(parent -&gt; {\n                    if (parent.childs == null) {\n                        parent.childs = new ArrayList&lt;&gt;();\n                    }\n                    parent.childs.add(element);\n                    /* originalList.remove(element); don't remove the content before completing the recursive */\n                });\n    });\n    originalList.subList(1, originalList.size()).clear();\n    return originalList;\n}\n</code></pre>\n\n<p>note about the subList clear.</p>\n"},{"tags":[],"owner":{"account_id":13087511,"reputation":11,"user_id":9456062,"display_name":"Julia Dobrovolska"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620395153,"creation_date":1620395153,"answer_id":67436160,"question_id":48300987,"body_markdown":"I also want to extend Rhuan answer.\r\n\r\nIf you have infinite loop as result of his code, you need to compare parent and element id, they shouldn&#39;t be equal `parent.id != element.id`. \r\n\r\nSo your code will be: \r\n\r\n    public List&lt;Customer&gt; getHierarchicalList(final List&lt;Customer&gt; originalList) {\r\n        final List&lt;Customer&gt; copyList = new ArrayList&lt;&gt;(originalList);\r\n    \r\n        copyList.forEach(element -&gt; {\r\n            originalList\r\n                    .stream()\r\n                    .filter(parent -&gt; parent.id == element.parentId &amp;&amp; parent.id != element.id)\r\n                    .findAny()\r\n                    .ifPresent(parent -&gt; {\r\n                        if (parent.childs == null) {\r\n                            parent.childs = new ArrayList&lt;&gt;();\r\n                        }\r\n                        parent.childs.add(element);\r\n                        originalList.remove(element);\r\n                    });\r\n        });\r\n        return originalList;\r\n    }\r\n\r\n","title":"Build hierarchical list from flat list","body":"<p>I also want to extend Rhuan answer.</p>\n<p>If you have infinite loop as result of his code, you need to compare parent and element id, they shouldn't be equal <code>parent.id != element.id</code>.</p>\n<p>So your code will be:</p>\n<pre><code>public List&lt;Customer&gt; getHierarchicalList(final List&lt;Customer&gt; originalList) {\n    final List&lt;Customer&gt; copyList = new ArrayList&lt;&gt;(originalList);\n\n    copyList.forEach(element -&gt; {\n        originalList\n                .stream()\n                .filter(parent -&gt; parent.id == element.parentId &amp;&amp; parent.id != element.id)\n                .findAny()\n                .ifPresent(parent -&gt; {\n                    if (parent.childs == null) {\n                        parent.childs = new ArrayList&lt;&gt;();\n                    }\n                    parent.childs.add(element);\n                    originalList.remove(element);\n                });\n    });\n    return originalList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679754837,"creation_date":1679754837,"answer_id":75842380,"question_id":48300987,"body_markdown":"I recently wrote this `Collector` for this exact purpose:\r\n\r\n```java\r\npublic static final &lt;K, E, R&gt; Collector&lt;R, ?, List&lt;E&gt;&gt; intoHierarchy(\r\n    Function&lt;? super R, ? extends K&gt; keyMapper,\r\n    Function&lt;? super R, ? extends K&gt; parentKeyMapper,\r\n    BiFunction&lt;? super R, ? super List&lt;E&gt;, ? extends E&gt; recordMapper\r\n) {\r\n    record Tuple3&lt;T1, T2, T3&gt;(T1 t1, T2 t2, T3 t3) {}\r\n    return Collectors.collectingAndThen(\r\n        Collectors.toMap(keyMapper, r -&gt; {\r\n            List&lt;E&gt; e = new ArrayList&lt;&gt;();\r\n            return new Tuple3&lt;R, C, E&gt;(r, e, recordMapper.apply(r, e));\r\n        }),\r\n        m -&gt; {\r\n            List&lt;E&gt; r = new ArrayList&lt;&gt;();\r\n \r\n            m.forEach((k, v) -&gt; {\r\n                K parent = parentKeyMapper.apply(v.t1());\r\n                E child = v.t3();\r\n \r\n                if (m.containsKey(parent))\r\n                    m.get(parent).t2().add(child);\r\n                else\r\n                    r.add(child);\r\n            });\r\n \r\n            return r;\r\n        }\r\n    );\r\n}\r\n```\r\n\r\nYou can now map your hierarchy as follows:\r\n\r\n```java\r\nList&lt;Customers&gt; hierarchy = customers\r\n    .stream()\r\n    .collect(intoHierarchy(\r\n        c -&gt; c.id,\r\n        c -&gt; c.parentId,\r\n        (c, l) -&gt; new Customer(c.id, c.name, c.parentId, l)\r\n    ));\r\n```\r\n\r\nOther solutions seem to be `O(N^2)`. This is `O(N)`","title":"Build hierarchical list from flat list","body":"<p>I recently wrote this <code>Collector</code> for this exact purpose:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final &lt;K, E, R&gt; Collector&lt;R, ?, List&lt;E&gt;&gt; intoHierarchy(\n    Function&lt;? super R, ? extends K&gt; keyMapper,\n    Function&lt;? super R, ? extends K&gt; parentKeyMapper,\n    BiFunction&lt;? super R, ? super List&lt;E&gt;, ? extends E&gt; recordMapper\n) {\n    record Tuple3&lt;T1, T2, T3&gt;(T1 t1, T2 t2, T3 t3) {}\n    return Collectors.collectingAndThen(\n        Collectors.toMap(keyMapper, r -&gt; {\n            List&lt;E&gt; e = new ArrayList&lt;&gt;();\n            return new Tuple3&lt;R, C, E&gt;(r, e, recordMapper.apply(r, e));\n        }),\n        m -&gt; {\n            List&lt;E&gt; r = new ArrayList&lt;&gt;();\n \n            m.forEach((k, v) -&gt; {\n                K parent = parentKeyMapper.apply(v.t1());\n                E child = v.t3();\n \n                if (m.containsKey(parent))\n                    m.get(parent).t2().add(child);\n                else\n                    r.add(child);\n            });\n \n            return r;\n        }\n    );\n}\n</code></pre>\n<p>You can now map your hierarchy as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customers&gt; hierarchy = customers\n    .stream()\n    .collect(intoHierarchy(\n        c -&gt; c.id,\n        c -&gt; c.parentId,\n        (c, l) -&gt; new Customer(c.id, c.name, c.parentId, l)\n    ));\n</code></pre>\n<p>Other solutions seem to be <code>O(N^2)</code>. This is <code>O(N)</code></p>\n"}],"owner":{"account_id":8645376,"reputation":588,"user_id":6472723,"accept_rate":0,"display_name":"swaroop pallapothu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5555,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1679754837,"creation_date":1516191499,"question_id":48300987,"body_markdown":"I have list which contains all parents and children represented by same type(class). I want to generate hierarchical list from the flat list.\r\n\r\nBelow is my Class Which represents both parents and children. Here I need to map children for parent based on **parentId**. Root level(No Parents) is start with parentId **0**.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    class Customers {\r\n    \r\n        private int id;\r\n        private String name;\r\n        private int parentId;\r\n        private List&lt;Customers&gt; childs;\r\n    \r\n        public Customers(int id, String name, int parentId) {\r\n            this(id, name, parentId, null);\r\n        }\r\n    \r\n        public Customers(int id, String name, int parentId, List&lt;Customers&gt; childs) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.parentId = parentId;\r\n            this.childs = childs;\r\n        }\r\n    \r\n    }\r\n    \r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            //Input List\r\n            Customers customer = new Customers(1, &quot;Hel&quot;, 0);\r\n            Customers customerChild1 = new Customers(2, &quot;Hel-Child1&quot;, 1);\r\n            Customers customerChild2 = new Customers(5, &quot;Hel-Child2&quot;, 1);\r\n            Customers customerInnerChild1 = new Customers(3, &quot;Hel-InnerChild1&quot;, 2);\r\n            Customers customerInnerChild2 = new Customers(4, &quot;Hel-InnerChild2&quot;, 2);\r\n    \r\n            List&lt;Customers&gt; customers = new ArrayList();\r\n            customers.add(customerInnerChild1);\r\n            customers.add(customerInnerChild2);\r\n            customers.add(customer);\r\n            customers.add(customerChild1);\r\n            customers.add(customerChild2);\r\n        }\r\n    \r\n        public static List&lt;Customers&gt; hierarchicalList(List&lt;Customers&gt; Customers) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nI will pass `List&lt;Customer&gt;` as an input to some method. That method should return `List&lt;Customer&gt;` with parent and child relationships.\r\n\r\nI need help to build parent and child relation in optimized way.\r\n\r\nInput:\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Hel&quot;,\r\n        &quot;parentId&quot;: 0\r\n      },\r\n      {\r\n        &quot;id&quot;: 5,\r\n        &quot;name&quot;: &quot;Hel-Child2&quot;,\r\n        &quot;parentId&quot;: 1\r\n      },\r\n      {\r\n        &quot;id&quot;: 4,\r\n        &quot;name&quot;: &quot;Hel-InnerChild2&quot;,\r\n        &quot;parentId&quot;: 2\r\n      },\r\n      {\r\n        &quot;id&quot;: 3,\r\n        &quot;name&quot;: &quot;Hel-InnerChild1&quot;,\r\n        &quot;parentId&quot;: 2\r\n      },\r\n      {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;Hel-Child1&quot;,\r\n        &quot;parentId&quot;: 1\r\n      }\r\n    ]\r\n\r\nExpecting Output:\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Hel&quot;,\r\n        &quot;parentId&quot;: 0,\r\n        &quot;childs&quot;: [\r\n          {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Hel-Child1&quot;,\r\n            &quot;parentId&quot;: 1,\r\n            &quot;childs&quot;: [\r\n              {\r\n                &quot;id&quot;: 3,\r\n                &quot;name&quot;: &quot;Hel-InnerChild1&quot;,\r\n                &quot;parentId&quot;: 2\r\n              }, {\r\n                &quot;id&quot;: 4,\r\n                &quot;name&quot;: &quot;Hel-InnerChild2&quot;,\r\n                &quot;parentId&quot;: 2\r\n              }\r\n            ]\r\n          }, {\r\n            &quot;id&quot;: 5,\r\n            &quot;name&quot;: &quot;Hel-Child2&quot;,\r\n            &quot;parentId&quot;: 1\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n**Note**: Input list is not sorted.","title":"Build hierarchical list from flat list","body":"<p>I have list which contains all parents and children represented by same type(class). I want to generate hierarchical list from the flat list.</p>\n\n<p>Below is my Class Which represents both parents and children. Here I need to map children for parent based on <strong>parentId</strong>. Root level(No Parents) is start with parentId <strong>0</strong>.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Customers {\n\n    private int id;\n    private String name;\n    private int parentId;\n    private List&lt;Customers&gt; childs;\n\n    public Customers(int id, String name, int parentId) {\n        this(id, name, parentId, null);\n    }\n\n    public Customers(int id, String name, int parentId, List&lt;Customers&gt; childs) {\n        this.id = id;\n        this.name = name;\n        this.parentId = parentId;\n        this.childs = childs;\n    }\n\n}\n\npublic class Application {\n\n    public static void main(String[] args) {\n        //Input List\n        Customers customer = new Customers(1, \"Hel\", 0);\n        Customers customerChild1 = new Customers(2, \"Hel-Child1\", 1);\n        Customers customerChild2 = new Customers(5, \"Hel-Child2\", 1);\n        Customers customerInnerChild1 = new Customers(3, \"Hel-InnerChild1\", 2);\n        Customers customerInnerChild2 = new Customers(4, \"Hel-InnerChild2\", 2);\n\n        List&lt;Customers&gt; customers = new ArrayList();\n        customers.add(customerInnerChild1);\n        customers.add(customerInnerChild2);\n        customers.add(customer);\n        customers.add(customerChild1);\n        customers.add(customerChild2);\n    }\n\n    public static List&lt;Customers&gt; hierarchicalList(List&lt;Customers&gt; Customers) {\n        return null;\n    }\n}\n</code></pre>\n\n<p>I will pass <code>List&lt;Customer&gt;</code> as an input to some method. That method should return <code>List&lt;Customer&gt;</code> with parent and child relationships.</p>\n\n<p>I need help to build parent and child relation in optimized way.</p>\n\n<p>Input:</p>\n\n<pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"Hel\",\n    \"parentId\": 0\n  },\n  {\n    \"id\": 5,\n    \"name\": \"Hel-Child2\",\n    \"parentId\": 1\n  },\n  {\n    \"id\": 4,\n    \"name\": \"Hel-InnerChild2\",\n    \"parentId\": 2\n  },\n  {\n    \"id\": 3,\n    \"name\": \"Hel-InnerChild1\",\n    \"parentId\": 2\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Hel-Child1\",\n    \"parentId\": 1\n  }\n]\n</code></pre>\n\n<p>Expecting Output:</p>\n\n<pre><code>[\n  {\n    \"id\": 1,\n    \"name\": \"Hel\",\n    \"parentId\": 0,\n    \"childs\": [\n      {\n        \"id\": 2,\n        \"name\": \"Hel-Child1\",\n        \"parentId\": 1,\n        \"childs\": [\n          {\n            \"id\": 3,\n            \"name\": \"Hel-InnerChild1\",\n            \"parentId\": 2\n          }, {\n            \"id\": 4,\n            \"name\": \"Hel-InnerChild2\",\n            \"parentId\": 2\n          }\n        ]\n      }, {\n        \"id\": 5,\n        \"name\": \"Hel-Child2\",\n        \"parentId\": 1\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p><strong>Note</strong>: Input list is not sorted.</p>\n"},{"tags":["java","git","eclipse","eclipse-plugin","git-lfs"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1596461682,"post_id":63228688,"comment_id":111810275,"body_markdown":"Did you installed _Java implementation of Git - optional LFS support_ (via _Help &gt; Install New Software..._ and working with [`http://download.eclipse.org/egit/updates`](http://download.eclipse.org/egit/updates))?","body":"Did you installed <i>Java implementation of Git - optional LFS support</i> (via <i>Help &gt; Install New Software...</i> and working with <a href=\"http://download.eclipse.org/egit/updates\" rel=\"nofollow noreferrer\"><code>http:&#47;&#47;download.eclipse.org&#47;egit&#47;updates</code></a>)?"},{"owner":{"account_id":224333,"reputation":21128,"user_id":484082,"accept_rate":78,"display_name":"Alfred"},"score":0,"creation_date":1596470111,"post_id":63228688,"comment_id":111814442,"body_markdown":"@howlger I installed it and not the button is active. Thanks, and if you can post this as answer, I will be able to accept it.","body":"@howlger I installed it and not the button is active. Thanks, and if you can post this as answer, I will be able to accept it."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679754813,"creation_date":1596470886,"answer_id":63232993,"question_id":63228688,"body_markdown":"You have to install [JGit][1]&#39;s LFS support:\r\n\r\nIn ***Help &gt; Install New Software...*** work with [**`https://download.eclipse.org/egit/updates`**][2] and install ***Java implementation of Git - optional LFS support***.\r\n\r\n\r\n  [1]: https://www.eclipse.org/jgit/\r\n  [2]: https://download.eclipse.org/egit/updates","title":"How to activate LFS Support button in Eclipse?","body":"<p>You have to install <a href=\"https://www.eclipse.org/jgit/\" rel=\"nofollow noreferrer\">JGit</a>'s LFS support:</p>\n<p>In <em><strong>Help &gt; Install New Software...</strong></em> work with <a href=\"https://download.eclipse.org/egit/updates\" rel=\"nofollow noreferrer\"><strong><code>https://download.eclipse.org/egit/updates</code></strong></a> and install <em><strong>Java implementation of Git - optional LFS support</strong></em>.</p>\n"}],"owner":{"account_id":224333,"reputation":21128,"user_id":484082,"accept_rate":78,"display_name":"Alfred"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2765,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63232993,"answer_count":1,"score":2,"last_activity_date":1679754813,"creation_date":1596454491,"question_id":63228688,"body_markdown":"I am running Eclipse 2019-06 (4.12.0) in my Windows 8.1 x64 PC. I have downloaded Git 2.28.0 portable package and included the location till `bin` in the `PATH` environment variable. When I type git in cmd, it is working fine. Also, I have downloaded git lfs package, and copied it to the same bin folder of Git. I initialized it and my global `.gitconfig` now looks like below;\r\n\r\n    [filter &quot;lfs&quot;]\r\n    \trequired = true\r\n    \tclean = git-lfs clean -- %f\r\n    \tsmudge = git-lfs smudge -- %f\r\n    \tprocess = git-lfs filter-process\r\n\r\nI have checked LFS support in my local repository, and found that its working fine. But, When I open eclipse and go to Git configuration (Window &gt; Preferences &gt; Team &gt; Git), it is showing that LFS is not enabled / active. Below is the screenshot;\r\n\r\n[![Git Config Window][1]][1]\r\n\r\nI would like to activate this feature. How can I do this? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KpPif.jpg","title":"How to activate LFS Support button in Eclipse?","body":"<p>I am running Eclipse 2019-06 (4.12.0) in my Windows 8.1 x64 PC. I have downloaded Git 2.28.0 portable package and included the location till <code>bin</code> in the <code>PATH</code> environment variable. When I type git in cmd, it is working fine. Also, I have downloaded git lfs package, and copied it to the same bin folder of Git. I initialized it and my global <code>.gitconfig</code> now looks like below;</p>\n<pre><code>[filter &quot;lfs&quot;]\n    required = true\n    clean = git-lfs clean -- %f\n    smudge = git-lfs smudge -- %f\n    process = git-lfs filter-process\n</code></pre>\n<p>I have checked LFS support in my local repository, and found that its working fine. But, When I open eclipse and go to Git configuration (Window &gt; Preferences &gt; Team &gt; Git), it is showing that LFS is not enabled / active. Below is the screenshot;</p>\n<p><a href=\"https://i.stack.imgur.com/KpPif.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KpPif.jpg\" alt=\"Git Config Window\" /></a></p>\n<p>I would like to activate this feature. How can I do this?</p>\n"},{"tags":["java","android","networkx"],"owner":{"account_id":25968257,"reputation":29,"user_id":19683909,"display_name":"Nimesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679754724,"creation_date":1679754724,"question_id":75842369,"body_markdown":"just like WIFI states how can I change the network state (cellular network) in android applications from android studio\r\n\r\nI want to turn on OR off the cellular network from my android application\r\n\r\nI am kind of new to android so I don&#39;t know how to do that?\r\n\r\nI have tried\r\n\r\n1- NetworkStatsManager \\[it won&#39;t work or I don&#39;t know how to use it\\] \r\n2- ConnectivityManager \\[it won&#39;t work or I don&#39;t know how to use it\\]","title":"how can i change network state (cellular network) in android applications from android studio","body":"<p>just like WIFI states how can I change the network state (cellular network) in android applications from android studio</p>\n<p>I want to turn on OR off the cellular network from my android application</p>\n<p>I am kind of new to android so I don't know how to do that?</p>\n<p>I have tried</p>\n<p>1- NetworkStatsManager [it won't work or I don't know how to use it]\n2- ConnectivityManager [it won't work or I don't know how to use it]</p>\n"},{"tags":["java","android","listview","android-listview","android-adapter"],"owner":{"account_id":28122709,"reputation":1,"user_id":21488689,"display_name":"Denis Stifler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679754535,"creation_date":1679754535,"question_id":75842352,"body_markdown":"What I want to do is that when editing any EditText in the ListView, the values in all EditTexts change.\r\nFor example, the user clicks on EditText2, enters the amount 100, the amount is multiplied by 10 and displayed immediately in all other EditTexts. I hope my idea is clear to you.\r\n\r\n**ListViewAdapter.class**\r\n\r\n```\r\npublic class ListViewAdapter extends BaseAdapter {\r\nprivate final List\\&lt;ConverterModel\\&gt; converterData;\r\nprivate final List\\&lt;LiveRatesModel\\&gt; liveRatesData;\r\nprivate final LayoutInflater layoutInflater;\r\nprivate boolean isFocusable = true;\r\nprivate ConverterFragment converterFragment = new ConverterFragment();\r\n\r\n    public ListViewAdapter(Context context, List&lt;ConverterModel&gt; ConverterData, List&lt;LiveRatesModel&gt; liveRatesData) {\r\n        this.converterData = ConverterData;\r\n        layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        this.liveRatesData = liveRatesData;\r\n    }\r\n    \r\n    @Override\r\n    public int getCount() {\r\n        return converterData.size();\r\n    }\r\n    \r\n    @Override\r\n    public Object getItem(int position) {\r\n        return converterData.get(position);\r\n    }\r\n    \r\n    @Override\r\n    public long getItemId(int position) {\r\n        return converterData.get(position).getId();\r\n    }\r\n    \r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        ViewHolder viewHolder;\r\n        if (convertView == null) {\r\n            convertView = layoutInflater.inflate(R.layout.converter_row, null, true);\r\n            viewHolder = new ViewHolder();\r\n            viewHolder.image = convertView.findViewById(R.id.konv_icon_kurs);\r\n            viewHolder.currencyCode = convertView.findViewById(R.id.currency_code);\r\n            viewHolder.currencyName = convertView.findViewById(R.id.name_currency);\r\n            viewHolder.amountEntered = convertView.findViewById(R.id.editTxtAmountEntered);\r\n            viewHolder.containerRow = convertView.findViewById(R.id.container_row);\r\n    \r\n    \r\n            ConverterModel converterData = this.converterData.get(position);\r\n    \r\n            viewHolder.image.setImageResource(converterData.getImage());\r\n            viewHolder.currencyCode.setText(converterData.getCurrencyCode());\r\n            viewHolder.currencyName.setText(converterData.getCurrencyName());\r\n            viewHolder.amountEntered.setText(converterData.getDefaultRate());\r\n    \r\n            viewHolder.amountEntered.setTag(converterData.getId());\r\n            convertView.setTag(viewHolder);\r\n        } else {\r\n            viewHolder = (ViewHolder) convertView.getTag();\r\n        }\r\n        return convertView;\r\n    }\r\n    \r\n    private static class ViewHolder {\r\n        ImageView image;\r\n        TextView currencyCode;\r\n        TextView currencyName;\r\n        EditText amountEntered;\r\n        ConstraintLayout containerRow;\r\n    }\r\n```\r\n\r\nI tried to multiply the amount entered in the onTextChanged event, but the amount changes only in one EditText.\r\n\r\n\r\n```\r\nviewHolder.amountEntered.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n                Log.d(&quot;beforeTextChanged&quot;, &quot;beforeTextChanged&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n            viewHolder.amountEntered.setText(&quot;&quot;);\r\n            int sum = Integer.parseInt(viewHolder.amountEntered.getText().toString()) * 100;\r\n            viewHolder.amountEntered.setText(sum);\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                Log.d(&quot;afterTextChanged&quot;, &quot;afterTextChanged&quot;);\r\n            }\r\n        });\r\n```\r\n\r\n\r\n","title":"Changing the value of one EditText in ListView changes other EditText values in ListView","body":"<p>What I want to do is that when editing any EditText in the ListView, the values in all EditTexts change.\nFor example, the user clicks on EditText2, enters the amount 100, the amount is multiplied by 10 and displayed immediately in all other EditTexts. I hope my idea is clear to you.</p>\n<p><strong>ListViewAdapter.class</strong></p>\n<pre><code>public class ListViewAdapter extends BaseAdapter {\nprivate final List\\&lt;ConverterModel\\&gt; converterData;\nprivate final List\\&lt;LiveRatesModel\\&gt; liveRatesData;\nprivate final LayoutInflater layoutInflater;\nprivate boolean isFocusable = true;\nprivate ConverterFragment converterFragment = new ConverterFragment();\n\n    public ListViewAdapter(Context context, List&lt;ConverterModel&gt; ConverterData, List&lt;LiveRatesModel&gt; liveRatesData) {\n        this.converterData = ConverterData;\n        layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        this.liveRatesData = liveRatesData;\n    }\n    \n    @Override\n    public int getCount() {\n        return converterData.size();\n    }\n    \n    @Override\n    public Object getItem(int position) {\n        return converterData.get(position);\n    }\n    \n    @Override\n    public long getItemId(int position) {\n        return converterData.get(position).getId();\n    }\n    \n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        ViewHolder viewHolder;\n        if (convertView == null) {\n            convertView = layoutInflater.inflate(R.layout.converter_row, null, true);\n            viewHolder = new ViewHolder();\n            viewHolder.image = convertView.findViewById(R.id.konv_icon_kurs);\n            viewHolder.currencyCode = convertView.findViewById(R.id.currency_code);\n            viewHolder.currencyName = convertView.findViewById(R.id.name_currency);\n            viewHolder.amountEntered = convertView.findViewById(R.id.editTxtAmountEntered);\n            viewHolder.containerRow = convertView.findViewById(R.id.container_row);\n    \n    \n            ConverterModel converterData = this.converterData.get(position);\n    \n            viewHolder.image.setImageResource(converterData.getImage());\n            viewHolder.currencyCode.setText(converterData.getCurrencyCode());\n            viewHolder.currencyName.setText(converterData.getCurrencyName());\n            viewHolder.amountEntered.setText(converterData.getDefaultRate());\n    \n            viewHolder.amountEntered.setTag(converterData.getId());\n            convertView.setTag(viewHolder);\n        } else {\n            viewHolder = (ViewHolder) convertView.getTag();\n        }\n        return convertView;\n    }\n    \n    private static class ViewHolder {\n        ImageView image;\n        TextView currencyCode;\n        TextView currencyName;\n        EditText amountEntered;\n        ConstraintLayout containerRow;\n    }\n</code></pre>\n<p>I tried to multiply the amount entered in the onTextChanged event, but the amount changes only in one EditText.</p>\n<pre><code>viewHolder.amountEntered.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n                Log.d(&quot;beforeTextChanged&quot;, &quot;beforeTextChanged&quot;);\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n            viewHolder.amountEntered.setText(&quot;&quot;);\n            int sum = Integer.parseInt(viewHolder.amountEntered.getText().toString()) * 100;\n            viewHolder.amountEntered.setText(sum);\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n                Log.d(&quot;afterTextChanged&quot;, &quot;afterTextChanged&quot;);\n            }\n        });\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","android-theme"],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679753902,"creation_date":1679697397,"question_id":75838585,"body_markdown":"The colours in my app won&#39;t change even after I have changed them in my app. I want to change the colour of how my actionbar looks in dark mode whenever users use this setting but the actionbar stays the same colour even after I change the colour. Does anyone know whats going on?\r\n\r\nThis is the code in my night\\theme.xml file:\r\n\r\n        &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;!-- Base application theme. --&gt;\r\n        &lt;style name=&quot;Theme.Testapp&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n            &lt;!-- Primary brand color. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;!-- Secondary brand color. --&gt;\r\n            &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n            &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;!-- Status bar color. --&gt;\r\n            &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\n\r\nCan someone explain why my colours in dark mode aren&#39;t changing? I hovered over the colour and it showed me a different colour in the code but in the app it doesn&#39;t change, whats going on???","title":"Colours in dark mode won&#39;t change in my app even after changing colours in android studio","body":"<p>The colours in my app won't change even after I have changed them in my app. I want to change the colour of how my actionbar looks in dark mode whenever users use this setting but the actionbar stays the same colour even after I change the colour. Does anyone know whats going on?</p>\n<p>This is the code in my night\\theme.xml file:</p>\n<pre><code>    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.Testapp&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Can someone explain why my colours in dark mode aren't changing? I hovered over the colour and it showed me a different colour in the code but in the app it doesn't change, whats going on???</p>\n"},{"tags":["java","firebase-realtime-database","firebaseui"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1679749584,"post_id":75840665,"comment_id":133778553,"body_markdown":"Have you added the proper import for `FirebaseRecyclerOptions`?","body":"Have you added the proper import for <code>FirebaseRecyclerOptions</code>?"},{"owner":{"account_id":24863527,"reputation":11,"user_id":18738942,"display_name":"Luigirazzo"},"score":0,"creation_date":1679751510,"post_id":75840665,"comment_id":133778802,"body_markdown":"yes i did the implementations :   implementation &#39;com.google.firebase:firebase-database:16.0.4&#39;\n    implementation &#39;com.firebaseui:firebase-ui-database:6.3.0&#39; and also did the import: import com.firebase.ui.database.FirebaseRecyclerOptions; and did the sync","body":"yes i did the implementations :   implementation &#39;com.google.firebase:firebase-database:16.0.4&#39;     implementation &#39;com.firebaseui:firebase-ui-database:6.3.0&#39; and also did the import: import com.firebase.ui.database.FirebaseRecyclerOptions; and did the sync"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679832534,"post_id":75840665,"comment_id":133787841,"body_markdown":"And after doing that, does it work?","body":"And after doing that, does it work?"}],"owner":{"account_id":24863527,"reputation":11,"user_id":18738942,"display_name":"Luigirazzo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679752325,"creation_date":1679735293,"question_id":75840665,"body_markdown":"Hey i am creating a Firebase video app but tis error always shows up:Cannot resolve symbol &#39;FirebaseRecyclerOptions&#39; also  by the import statement i get the error: Cannot resolve symbol &#39;firebase&#39;\r\nim am connected to firebase and also dit this in the buld.glradle :\r\n    implementation &#39;com.goog\r\n\r\nle.firebase:firebase-database:16.0.4&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-database:6.3.0&#39;\r\n\r\nHere is my source code:\r\np\r\n```\r\nackage com.example.coffecorner;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.WindowManager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\npublic class Videohome extends AppCompatActivity {\r\n    ViewPager2 viewpager2;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_videohome);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n        viewpager2=(ViewPager2)findViewById(R.id.vpager);\r\n\r\n        FirebaseRecyclerOptions&lt;videomodel&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;videomodel&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;videos&quot;), videomodel.class)\r\n                        .build();\r\n    }\r\n}\r\n```\r\n\r\nand her the gradle file \r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.coffecorner&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.coffecorner&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.1.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.4.1&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.4.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &quot;androidx.viewpager2:viewpager2:1.0.0&quot;\r\n    implementation &quot;com.google.android.material:material:1.2.0-alpha02&quot;\r\n    implementation &quot;com.makeramen:roundedimageview:2.3.0&quot;\r\n    implementation &quot;androidx.viewpager2:viewpager2:1.0.0&quot;\r\n    implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.viewpager2:viewpager2:1.0.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-database:16.0.4&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-database:6.3.0&#39;\r\n\r\n\r\n}\r\n```\r\nI read some stackoverflow questions before but they all set to make this implementations in the build.gradle but nothing helped but maybe some of you know a solution thanks (:","title":"Cannot resolve symbol &#39;FirebaseRecyclerOptions&#39; but already tried implementations","body":"<p>Hey i am creating a Firebase video app but tis error always shows up:Cannot resolve symbol 'FirebaseRecyclerOptions' also  by the import statement i get the error: Cannot resolve symbol 'firebase'\nim am connected to firebase and also dit this in the buld.glradle :\nimplementation 'com.goog</p>\n<p>le.firebase:firebase-database:16.0.4'\nimplementation 'com.firebaseui:firebase-ui-database:6.3.0'</p>\n<p>Here is my source code:\np</p>\n<pre><code>ackage com.example.coffecorner;\n\nimport android.os.Bundle;\nimport android.view.WindowManager;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.viewpager2.widget.ViewPager2;\n\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\nimport com.google.firebase.database.FirebaseDatabase;\npublic class Videohome extends AppCompatActivity {\n    ViewPager2 viewpager2;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_videohome);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        viewpager2=(ViewPager2)findViewById(R.id.vpager);\n\n        FirebaseRecyclerOptions&lt;videomodel&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;videomodel&gt;()\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;videos&quot;), videomodel.class)\n                        .build();\n    }\n}\n</code></pre>\n<p>and her the gradle file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.example.coffecorner'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.coffecorner&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.6.0'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    implementation 'androidx.navigation:navigation-fragment:2.4.1'\n    implementation 'androidx.navigation:navigation-ui:2.4.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation &quot;androidx.viewpager2:viewpager2:1.0.0&quot;\n    implementation &quot;com.google.android.material:material:1.2.0-alpha02&quot;\n    implementation &quot;com.makeramen:roundedimageview:2.3.0&quot;\n    implementation &quot;androidx.viewpager2:viewpager2:1.0.0&quot;\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.viewpager2:viewpager2:1.0.0'\n\n    implementation 'com.google.firebase:firebase-database:16.0.4'\n    implementation 'com.firebaseui:firebase-ui-database:6.3.0'\n\n\n}\n</code></pre>\n<p>I read some stackoverflow questions before but they all set to make this implementations in the build.gradle but nothing helped but maybe some of you know a solution thanks (:</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":331053,"reputation":1135,"user_id":655504,"accept_rate":100,"display_name":"Andreas Johansson"},"score":0,"creation_date":1302171935,"post_id":5579558,"comment_id":6348287,"body_markdown":"Does the CarService class belong to the package my.demo.service, and not just the folder?","body":"Does the CarService class belong to the package my.demo.service, and not just the folder?"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1302171979,"creation_date":1302171979,"answer_id":5579599,"question_id":5579558,"body_markdown":"You probably missed package declaration\r\n\r\n    package my.demo.service;\r\n    public class CarService {\r\n      ...\r\n    }","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>You probably missed package declaration</p>\n\n<pre><code>package my.demo.service;\npublic class CarService {\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219131,"reputation":37826,"user_id":475850,"accept_rate":62,"display_name":"Mellon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302186429,"creation_date":1302186429,"answer_id":5582694,"question_id":5579558,"body_markdown":" for some reason, my.demo.service has the same level as src/ in eclise project explorer view. After I move my.demo.service under src/, it is fine. Seems I should not create new package in &quot;Project Explorer&quot; view in Eclipse...\r\n\r\nBut thank you for your response:)","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>for some reason, my.demo.service has the same level as src/ in eclise project explorer view. After I move my.demo.service under src/, it is fine. Seems I should not create new package in \"Project Explorer\" view in Eclipse...</p>\n\n<p>But thank you for your response:)</p>\n"},{"tags":[],"owner":{"account_id":1886882,"reputation":2208,"user_id":1705922,"accept_rate":71,"display_name":"Bardelman"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1362731523,"creation_date":1362731523,"answer_id":15289700,"question_id":5579558,"body_markdown":"u just need go to Project ---&gt; clean\r\nSee http://philip.yurchuk.com/2008/12/03/eclipse-cannot-be-resolved-to-a-type-error/","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>u just need go to Project ---> clean\nSee <a href=\"http://philip.yurchuk.com/2008/12/03/eclipse-cannot-be-resolved-to-a-type-error/\">http://philip.yurchuk.com/2008/12/03/eclipse-cannot-be-resolved-to-a-type-error/</a></p>\n"},{"tags":[],"owner":{"account_id":4892957,"reputation":170,"user_id":3943499,"display_name":"RyeBread"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1425048374,"creation_date":1425048374,"answer_id":28767757,"question_id":5579558,"body_markdown":"I had my own instance of this error, and in my case none of the above solutions resolved the &quot;cannot be resolved to a type&quot; error by themselves, although they were necessary steps toward doing so. I found something silly that did though.\r\n\r\nThis seemed to be due a bug in Eclipse (Luna Service Release 1a (4.4.1) in my case). In the file where you&#39;re seeing the error, try saving after making and then undoing a trivial change (e.g. deleting one character and then typing it back in). For some reason this caused all my class references to resolve.","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>I had my own instance of this error, and in my case none of the above solutions resolved the \"cannot be resolved to a type\" error by themselves, although they were necessary steps toward doing so. I found something silly that did though.</p>\n\n<p>This seemed to be due a bug in Eclipse (Luna Service Release 1a (4.4.1) in my case). In the file where you're seeing the error, try saving after making and then undoing a trivial change (e.g. deleting one character and then typing it back in). For some reason this caused all my class references to resolve.</p>\n"},{"tags":[],"owner":{"account_id":4029137,"reputation":462,"user_id":3316015,"display_name":"traeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468575108,"creation_date":1468575108,"answer_id":38392654,"question_id":5579558,"body_markdown":"Maybe wrong path..?\r\nCheck your .classpath file.\r\n","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>Maybe wrong path..?\nCheck your .classpath file.</p>\n"},{"tags":[],"owner":{"account_id":93484,"reputation":2406,"user_id":255735,"accept_rate":70,"display_name":"SPRBRN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491926399,"creation_date":1491926399,"answer_id":43350941,"question_id":5579558,"body_markdown":"I had this problem while the other class (CarService) was still empty, no methods, nothing. When it had methods and variables, the error was gone. ","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>I had this problem while the other class (CarService) was still empty, no methods, nothing. When it had methods and variables, the error was gone. </p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508947036,"creation_date":1508947036,"answer_id":46937011,"question_id":5579558,"body_markdown":"In my case the missing type was referencing an import for java class in a dependent jar.  For some reason my project file was missing the javabuilder and therefore couldnt resolve the path to the import.\r\n\r\nWhy it was missing in the first place I don&#39;t know, but adding these lines in fixed the error.\r\n\r\n    &lt;buildCommand&gt;\r\n        \t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n        \t&lt;arguments&gt;\r\n        \t&lt;/arguments&gt;\r\n    &lt;/buildCommand&gt;","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>In my case the missing type was referencing an import for java class in a dependent jar.  For some reason my project file was missing the javabuilder and therefore couldnt resolve the path to the import.</p>\n\n<p>Why it was missing in the first place I don't know, but adding these lines in fixed the error.</p>\n\n<pre><code>&lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n&lt;/buildCommand&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2837512,"reputation":1872,"user_id":2437838,"display_name":"Ilker Cat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509364861,"creation_date":1509364861,"answer_id":47014764,"question_id":5579558,"body_markdown":"I had wrong package names:\r\n\r\n`main.java.hello` and `main.test.hello` rather than `com.blabla.hello`. \r\n\r\n1. I renamed my src-folder to `src/main/java` and created another src-folder `src/test/java`.\r\n2. I renamed my package within `src/main/java` to `com.blabla.hello`\r\n3. I created another package with the same name in `src/test/java`.","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>I had wrong package names:</p>\n\n<p><code>main.java.hello</code> and <code>main.test.hello</code> rather than <code>com.blabla.hello</code>. </p>\n\n<ol>\n<li>I renamed my src-folder to <code>src/main/java</code> and created another src-folder <code>src/test/java</code>.</li>\n<li>I renamed my package within <code>src/main/java</code> to <code>com.blabla.hello</code></li>\n<li>I created another package with the same name in <code>src/test/java</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21919935,"reputation":1,"user_id":16203306,"display_name":"Suhaail Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630207596,"creation_date":1630207596,"answer_id":68969612,"question_id":5579558,"body_markdown":"Verifying the package and classes location will help. Usually, classes that are being used should be in same package or you need to import them in referenced class.\r\n\r\nif that does not help then update build path and run clean is an option.","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>Verifying the package and classes location will help. Usually, classes that are being used should be in same package or you need to import them in referenced class.</p>\n<p>if that does not help then update build path and run clean is an option.</p>\n"},{"tags":[],"owner":{"account_id":16633277,"reputation":1,"user_id":13188870,"display_name":"Ann lopez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679751501,"creation_date":1679751501,"answer_id":75842073,"question_id":5579558,"body_markdown":"&gt; Project &gt; Clean \r\n\r\nthis one did it for me\r\n\r\n","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<blockquote>\n<p>Project &gt; Clean</p>\n</blockquote>\n<p>this one did it for me</p>\n"}],"owner":{"account_id":219131,"reputation":37826,"user_id":475850,"accept_rate":62,"display_name":"Mellon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201256,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":10,"score":12,"last_activity_date":1679751501,"creation_date":1302171771,"question_id":5579558,"body_markdown":"I am developing a **dynamic web project** (RESTful jersey) under **Eclipse** IDE.\r\n\r\nUnder *src/my/demo/service* folder I have **CarService.java** class\r\n\r\n    public class CarService {\r\n      ...\r\n    }\r\n\r\nUnder *src/my/demo/controller* folder I have **UserController.java** class\r\n\r\n    import my.demo.service.CarService;\r\n    \r\n    public class UserController{\r\n    \tprivate CarService carService; //ERROR: CarServcie cannot be resolved to a type\r\n    \t\r\n    }\r\n\r\nI do have imported the **CarService**, why eclipse give me the error &quot;**CarServcie cannot be resolved to a type**&quot; in my **UserController.java**?\r\n\r\n--------Edit------------------\r\n\r\nI found the cause: for some reason, *my.demo.service* has the same level as *src/* in eclise project explorer view. After I move *my.demo.service* under *src/*, it is fine. Seems I should not create new package in &quot;Project Explorer&quot; view in Eclipse.","title":"Why I got &quot; cannot be resolved to a type&quot; error?","body":"<p>I am developing a <strong>dynamic web project</strong> (RESTful jersey) under <strong>Eclipse</strong> IDE.</p>\n<p>Under <em>src/my/demo/service</em> folder I have <strong>CarService.java</strong> class</p>\n<pre><code>public class CarService {\n  ...\n}\n</code></pre>\n<p>Under <em>src/my/demo/controller</em> folder I have <strong>UserController.java</strong> class</p>\n<pre><code>import my.demo.service.CarService;\n\npublic class UserController{\n    private CarService carService; //ERROR: CarServcie cannot be resolved to a type\n    \n}\n</code></pre>\n<p>I do have imported the <strong>CarService</strong>, why eclipse give me the error &quot;<strong>CarServcie cannot be resolved to a type</strong>&quot; in my <strong>UserController.java</strong>?</p>\n<p>--------Edit------------------</p>\n<p>I found the cause: for some reason, <em>my.demo.service</em> has the same level as <em>src/</em> in eclise project explorer view. After I move <em>my.demo.service</em> under <em>src/</em>, it is fine. Seems I should not create new package in &quot;Project Explorer&quot; view in Eclipse.</p>\n"},{"tags":["java","spring","spring-mvc","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679750368,"creation_date":1679750368,"answer_id":75841978,"question_id":75841451,"body_markdown":"Don&#39;t use the Spring provided [`MethodArgumentNotValidException`][1]. It is in the `org.springframework.web.bind` package, this will bind your code to Spring and it binds it to web related classes. \r\n\r\nSo unless you don&#39;t mind binding to Spring and your class is only used in web related classes you could opt for its usage. \r\n\r\nHowever you are probably better of using an exception of your own which would convey what is wrong, like an `InsufficientFundsException` or reuse the general purpose `IllegalArgumentException`. But throwning stronger typed exceptions is probably the better way. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html","title":"Using MethodArgumentNotValidException for a comparison in Spring Boot?","body":"<p>Don't use the Spring provided <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html\" rel=\"nofollow noreferrer\"><code>MethodArgumentNotValidException</code></a>. It is in the <code>org.springframework.web.bind</code> package, this will bind your code to Spring and it binds it to web related classes.</p>\n<p>So unless you don't mind binding to Spring and your class is only used in web related classes you could opt for its usage.</p>\n<p>However you are probably better of using an exception of your own which would convey what is wrong, like an <code>InsufficientFundsException</code> or reuse the general purpose <code>IllegalArgumentException</code>. But throwning stronger typed exceptions is probably the better way.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75841978,"answer_count":1,"score":0,"last_activity_date":1679751081,"creation_date":1679744298,"question_id":75841451,"body_markdown":"I have the following comparison between 2 fields and if the comparison result is less than zero, I need to throw exception with a message like `&quot;Amount cannot be less than balance&quot;`.\r\n\r\nI think `MethodArgumentNotValidException` is a proper type for this scenario. However, `MethodArgumentNotValidException` does not take a message parameter:\r\n\r\n\r\n```\r\npublic void transfer(Request request) {\r\n\r\n    if(sender.getBalance().compareTo(account.getAmount()) &lt; 0)\r\n        throw new MethodArgumentNotValidException(MESSAGE);\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nSo, should I implement a custom error class as shown below? I have also a Global Exception Handler class and this kind of custom classes for `&quot;Element Not found&quot;` or `&quot;Element already exists&quot;`. \r\n\r\n```\r\npublic class CustomMethodArgumentNotValidException extends RuntimeException {\r\n\r\n    public MethodArgumentNotValidException() {\r\n        super();\r\n    }\r\n\r\n    public NoSuchElementFoundException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAnd then use add this custom exception to my Global Exception Handler? Or should I directly use it without any custom implementation as extra? \r\n\r\n&lt;br/&gt;\r\n\r\n**Update:**\r\n\r\n```\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @Override\r\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                                                                  HttpHeaders headers,\r\n                                                                  HttpStatusCode statusCode,\r\n                                                                  WebRequest request) {\r\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.UNPROCESSABLE_ENTITY.value(), VALIDATION_ERROR);\r\n        for (FieldError fieldError : ex.getBindingResult().getFieldErrors()) {\r\n            errorResponse.addValidationError(fieldError.getField(), fieldError.getDefaultMessage());\r\n        }\r\n        return ResponseEntity.unprocessableEntity().body(errorResponse);\r\n    }\r\n\r\n    @ExceptionHandler(NoSuchElementFoundException.class)\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public ResponseEntity&lt;Object&gt; handleNoSuchElementFoundException(NoSuchElementFoundException ex, WebRequest request) {\r\n        return buildErrorResponse(ex, HttpStatus.NOT_FOUND, request);\r\n    }\r\n\r\n    @ExceptionHandler(InsufficientFundsException.class)\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public ResponseEntity&lt;Object&gt; handleMethodArgumentInvalidException(InsufficientFundsException ex, WebRequest request) {\r\n        return buildErrorResponse(ex, HttpStatus.BAD_REQUEST, request);\r\n    }\r\n\r\n    @ExceptionHandler(AuthenticationException.class)\r\n    @ResponseStatus(HttpStatus.UNAUTHORIZED)\r\n    public ResponseEntity&lt;Object&gt; handleAuthenticationException(AuthenticationException ex, WebRequest request) {\r\n        return buildErrorResponse(ex, HttpStatus.UNAUTHORIZED, request);\r\n    }\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    public ResponseEntity&lt;Object&gt; handleAllUncaughtException(Exception ex, WebRequest request) {\r\n        return buildErrorResponse(ex, UNKNOWN_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, request);\r\n    }\r\n\r\n    private ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\r\n                                                      HttpStatusCode statusCode,\r\n                                                      WebRequest request) {\r\n        return buildErrorResponse(ex, ex.getMessage(), statusCode, request);\r\n    }\r\n\r\n    private ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\r\n                                                      String message,\r\n                                                      HttpStatusCode statusCode,\r\n                                                      WebRequest request) {\r\n        final ErrorResponse errorResponse = new ErrorResponse(statusCode.value(), message);\r\n        if (printStackTrace &amp;&amp; isTraceOn(request)) {\r\n            errorResponse.setStackTrace(ExceptionUtils.getStackTrace(ex));\r\n        }\r\n        return ResponseEntity.status(statusCode).body(errorResponse);\r\n    }\r\n\r\n    private boolean isTraceOn(WebRequest request) {\r\n        String[] value = request.getParameterValues(TRACE); // TRACE from app properties\r\n        return Objects.nonNull(value)\r\n                &amp;&amp; value.length &gt; 0\r\n                &amp;&amp; value[0].contentEquals(&quot;true&quot;);\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;Object&gt; handleExceptionInternal(\r\n            Exception ex,\r\n            Object body,\r\n            HttpHeaders headers,\r\n            HttpStatusCode statusCode,\r\n            WebRequest request) {\r\n\r\n        return buildErrorResponse(ex, statusCode, request);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class InsufficientFundsException extends RuntimeException {\r\n\r\n    public InsufficientFundsException() {\r\n        super();\r\n    }\r\n\r\n    public InsufficientFundsException(String message) {\r\n        super(message);\r\n    }\r\n\r\n    public InsufficientFundsException(String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n}\r\n```","title":"Using MethodArgumentNotValidException for a comparison in Spring Boot?","body":"<p>I have the following comparison between 2 fields and if the comparison result is less than zero, I need to throw exception with a message like <code>&quot;Amount cannot be less than balance&quot;</code>.</p>\n<p>I think <code>MethodArgumentNotValidException</code> is a proper type for this scenario. However, <code>MethodArgumentNotValidException</code> does not take a message parameter:</p>\n<pre><code>public void transfer(Request request) {\n\n    if(sender.getBalance().compareTo(account.getAmount()) &lt; 0)\n        throw new MethodArgumentNotValidException(MESSAGE);\n\n    // ...\n}\n</code></pre>\n<p>So, should I implement a custom error class as shown below? I have also a Global Exception Handler class and this kind of custom classes for <code>&quot;Element Not found&quot;</code> or <code>&quot;Element already exists&quot;</code>.</p>\n<pre><code>public class CustomMethodArgumentNotValidException extends RuntimeException {\n\n    public MethodArgumentNotValidException() {\n        super();\n    }\n\n    public NoSuchElementFoundException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>And then use add this custom exception to my Global Exception Handler? Or should I directly use it without any custom implementation as extra?</p>\n<br/>\n<p><strong>Update:</strong></p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @Override\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                                                                  HttpHeaders headers,\n                                                                  HttpStatusCode statusCode,\n                                                                  WebRequest request) {\n        ErrorResponse errorResponse = new ErrorResponse(HttpStatus.UNPROCESSABLE_ENTITY.value(), VALIDATION_ERROR);\n        for (FieldError fieldError : ex.getBindingResult().getFieldErrors()) {\n            errorResponse.addValidationError(fieldError.getField(), fieldError.getDefaultMessage());\n        }\n        return ResponseEntity.unprocessableEntity().body(errorResponse);\n    }\n\n    @ExceptionHandler(NoSuchElementFoundException.class)\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public ResponseEntity&lt;Object&gt; handleNoSuchElementFoundException(NoSuchElementFoundException ex, WebRequest request) {\n        return buildErrorResponse(ex, HttpStatus.NOT_FOUND, request);\n    }\n\n    @ExceptionHandler(InsufficientFundsException.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public ResponseEntity&lt;Object&gt; handleMethodArgumentInvalidException(InsufficientFundsException ex, WebRequest request) {\n        return buildErrorResponse(ex, HttpStatus.BAD_REQUEST, request);\n    }\n\n    @ExceptionHandler(AuthenticationException.class)\n    @ResponseStatus(HttpStatus.UNAUTHORIZED)\n    public ResponseEntity&lt;Object&gt; handleAuthenticationException(AuthenticationException ex, WebRequest request) {\n        return buildErrorResponse(ex, HttpStatus.UNAUTHORIZED, request);\n    }\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public ResponseEntity&lt;Object&gt; handleAllUncaughtException(Exception ex, WebRequest request) {\n        return buildErrorResponse(ex, UNKNOWN_ERROR, HttpStatus.INTERNAL_SERVER_ERROR, request);\n    }\n\n    private ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\n                                                      HttpStatusCode statusCode,\n                                                      WebRequest request) {\n        return buildErrorResponse(ex, ex.getMessage(), statusCode, request);\n    }\n\n    private ResponseEntity&lt;Object&gt; buildErrorResponse(Exception ex,\n                                                      String message,\n                                                      HttpStatusCode statusCode,\n                                                      WebRequest request) {\n        final ErrorResponse errorResponse = new ErrorResponse(statusCode.value(), message);\n        if (printStackTrace &amp;&amp; isTraceOn(request)) {\n            errorResponse.setStackTrace(ExceptionUtils.getStackTrace(ex));\n        }\n        return ResponseEntity.status(statusCode).body(errorResponse);\n    }\n\n    private boolean isTraceOn(WebRequest request) {\n        String[] value = request.getParameterValues(TRACE); // TRACE from app properties\n        return Objects.nonNull(value)\n                &amp;&amp; value.length &gt; 0\n                &amp;&amp; value[0].contentEquals(&quot;true&quot;);\n    }\n\n    @Override\n    public ResponseEntity&lt;Object&gt; handleExceptionInternal(\n            Exception ex,\n            Object body,\n            HttpHeaders headers,\n            HttpStatusCode statusCode,\n            WebRequest request) {\n\n        return buildErrorResponse(ex, statusCode, request);\n    }\n}\n</code></pre>\n<pre><code>public class InsufficientFundsException extends RuntimeException {\n\n    public InsufficientFundsException() {\n        super();\n    }\n\n    public InsufficientFundsException(String message) {\n        super(message);\n    }\n\n    public InsufficientFundsException(String message, Throwable cause) {\n        super(message, cause);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"owner":{"account_id":2477074,"reputation":25,"user_id":2157480,"display_name":"Rahul Arbat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679751043,"creation_date":1679751043,"question_id":75842040,"body_markdown":"I am trying to search the records from DB using criteriaBuilder.like .\r\n\r\nHere is the code :\r\ncriteriaBuilder.like(criteriaBuilder.lower(root.get(&quot;title&quot;)), &quot;%&quot; + title.toLowerCase() + &quot;%&quot;)\r\n\r\nissue is if provide title as &quot;Jordan 1 Mid Reverse Bred (2021) (GS)&quot;, then it is not fetching record but its working fine for &quot;Jordan 1 Mid&quot;\r\n\r\nseems weird . Please help with this.","title":"JPA criteriaBuilder.like is not working properly for Big strings","body":"<p>I am trying to search the records from DB using criteriaBuilder.like .</p>\n<p>Here is the code :\ncriteriaBuilder.like(criteriaBuilder.lower(root.get(&quot;title&quot;)), &quot;%&quot; + title.toLowerCase() + &quot;%&quot;)</p>\n<p>issue is if provide title as &quot;Jordan 1 Mid Reverse Bred (2021) (GS)&quot;, then it is not fetching record but its working fine for &quot;Jordan 1 Mid&quot;</p>\n<p>seems weird . Please help with this.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9445,"page":547,"page_size":100}
