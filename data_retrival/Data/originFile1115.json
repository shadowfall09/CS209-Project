{"items":[{"tags":["java","authorization","okhttp","bearer-token"],"comments":[{"owner":{"account_id":1436758,"reputation":889,"user_id":1357957,"accept_rate":63,"display_name":"androidneil"},"score":0,"creation_date":1676411825,"post_id":73332298,"comment_id":133131233,"body_markdown":"Hi, did you find a solution? I&#39;m facing a similar issue.","body":"Hi, did you find a solution? I&#39;m facing a similar issue."},{"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"score":0,"creation_date":1677061882,"post_id":73332298,"comment_id":133261614,"body_markdown":"@androidneil I personally opted for a different http client, because after inspecting the okhttpclient source code, it strips the authorization headers for some weird security reasons.","body":"@androidneil I personally opted for a different http client, because after inspecting the okhttpclient source code, it strips the authorization headers for some weird security reasons."}],"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660297945,"creation_date":1660297945,"question_id":73332298,"body_markdown":"I&#39;m using OkHttpClient in a Java service and I&#39;m trying to send a `get` request with an `Authorization` header.\r\n\r\nFor some reason, the below *fails* with response code `401` as if the token isn&#39;t sent within the headers.\r\n\r\n```\r\nOkHttpClient client = new OkHttpClient();\r\n\r\nRequest request = new Request.Builder();\r\n        .url(url)\r\n        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\r\n        .build();\r\n\r\nvar response = client.newCall(request).execute()\r\n\r\n```\r\n\r\nI also tried out using the `headers` builder param and passing a `Headers` object containing `Authorization` `Bearer some-token`, and also tried with `addHeader(&quot;Authorization&quot;, token)` but same happens.\r\n\r\nOkHttpClient version: 4.9.2\r\n\r\nWhat&#39;s wrong with the above code? Is OkHttpClient stripping off the Authorization header for some reason?","title":"OkHttpClient - Sending a get request with Bearer token fails due to auth","body":"<p>I'm using OkHttpClient in a Java service and I'm trying to send a <code>get</code> request with an <code>Authorization</code> header.</p>\n<p>For some reason, the below <em>fails</em> with response code <code>401</code> as if the token isn't sent within the headers.</p>\n<pre><code>OkHttpClient client = new OkHttpClient();\n\nRequest request = new Request.Builder();\n        .url(url)\n        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\n        .build();\n\nvar response = client.newCall(request).execute()\n\n</code></pre>\n<p>I also tried out using the <code>headers</code> builder param and passing a <code>Headers</code> object containing <code>Authorization</code> <code>Bearer some-token</code>, and also tried with <code>addHeader(&quot;Authorization&quot;, token)</code> but same happens.</p>\n<p>OkHttpClient version: 4.9.2</p>\n<p>What's wrong with the above code? Is OkHttpClient stripping off the Authorization header for some reason?</p>\n"},{"tags":["java","selenium","selenium-chromedriver","cucumber","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":10001672,"reputation":511,"user_id":7397403,"display_name":"ketanvj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660297374,"creation_date":1660297374,"answer_id":73332189,"question_id":73330974,"body_markdown":"@Maxwell Maragia you can try using global hooks @BeforeAll and @AfterAll. You can find the details here [https://cucumber.io/docs/cucumber/api/?lang=java][1]\r\n\r\n\r\n  [1]: https://cucumber.io/docs/cucumber/api/?lang=java","title":"Testing different scenarios using one browser instance in java, selenium, cucumber and JUnit runner","body":"<p>@Maxwell Maragia you can try using global hooks @BeforeAll and @AfterAll. You can find the details here <a href=\"https://cucumber.io/docs/cucumber/api/?lang=java\" rel=\"nofollow noreferrer\">https://cucumber.io/docs/cucumber/api/?lang=java</a></p>\n"}],"owner":{"account_id":8361750,"reputation":3,"user_id":6571570,"display_name":"Maxwell Maragia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73332189,"answer_count":1,"score":0,"last_activity_date":1660297374,"creation_date":1660291210,"question_id":73330974,"body_markdown":"There is an application am working on where the process of logging in takes far too long, am looking for a way of executing all scenarios and multiple features with one chrome driver instance.\r\nHere is my hooks code\r\n\r\n    \t@Before(order = 0)\r\n\tpublic void launchbrowser() {\r\n\t\treader = new ConfigFileReader();\r\n\t\tpro = reader.ConfigFile();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tBaseClass.setUp();\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t@After\r\n\tpublic void tearDown(Scenario scenario) {\r\n\t\tFile destPath;\r\n\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy_hh.mm.ss&quot;);\r\n\t\tDate curDate = new Date(); String strDate = sdf.format(curDate);\r\n\t\tFile screenshot_with_scenario_name = (((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE));\r\n\r\n\t\tif(scenario.isFailed())\r\n\t\t{\r\n\t\t\tdestPath=new File(&quot;./test-output/Screenshots/Failed/&quot; + scenario.getName()+ strDate + &quot;.png&quot;);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdestPath=new File(&quot;./test-output/Screenshots/Passed/&quot; + scenario.getName()+ strDate + &quot;.png&quot;);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tFileUtils.copyFile(screenshot_with_scenario_name,destPath);\r\n\t\t} catch (IOException e) { // TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tBaseClass.Closebrowser();\r\n\t}\r\n\r\n And here is Baseclass where driver is setup\r\n\r\n    public static void setUp() throws Exception {\r\n        WebDriverManager.chromedriver().setup();\r\n            driver = new ChromeDriver();\r\n            driver.manage().window().maximize();\r\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n            jse = (JavascriptExecutor) driver;\r\n    }\r\n\r\n    ","title":"Testing different scenarios using one browser instance in java, selenium, cucumber and JUnit runner","body":"<p>There is an application am working on where the process of logging in takes far too long, am looking for a way of executing all scenarios and multiple features with one chrome driver instance.\nHere is my hooks code</p>\n<pre><code>    @Before(order = 0)\npublic void launchbrowser() {\n    reader = new ConfigFileReader();\n    pro = reader.ConfigFile();\n    \n    try {\n        BaseClass.setUp();\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n\n@After\npublic void tearDown(Scenario scenario) {\n    File destPath;\n\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy_hh.mm.ss&quot;);\n    Date curDate = new Date(); String strDate = sdf.format(curDate);\n    File screenshot_with_scenario_name = (((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE));\n\n    if(scenario.isFailed())\n    {\n        destPath=new File(&quot;./test-output/Screenshots/Failed/&quot; + scenario.getName()+ strDate + &quot;.png&quot;);\n    }\n    else{\n        destPath=new File(&quot;./test-output/Screenshots/Passed/&quot; + scenario.getName()+ strDate + &quot;.png&quot;);\n    }\n\n    try {\n        FileUtils.copyFile(screenshot_with_scenario_name,destPath);\n    } catch (IOException e) { // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    BaseClass.Closebrowser();\n}\n</code></pre>\n<p>And here is Baseclass where driver is setup</p>\n<pre><code>public static void setUp() throws Exception {\n    WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n        jse = (JavascriptExecutor) driver;\n}\n</code></pre>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1660233452,"post_id":73323631,"comment_id":129489862,"body_markdown":"`49.3249999999999999990` rounds to `49.32`. The only way you can make it round to `49.33` in a single step is by rounding a different number, e.g. by adding something to it before rounding.","body":"<code>49.3249999999999999990</code> rounds to <code>49.32</code>. The only way you can make it round to <code>49.33</code> in a single step is by rounding a different number, e.g. by adding something to it before rounding."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":5,"creation_date":1660233581,"post_id":73323631,"comment_id":129489917,"body_markdown":"`RoundingMode.UP`? `RoundingMode.CEILING`?","body":"<code>RoundingMode.UP</code>? <code>RoundingMode.CEILING</code>?"},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":3,"creation_date":1660233747,"post_id":73323631,"comment_id":129489976,"body_markdown":"What is the actual rule here? There&#39;s a RoundingMode of &#39;UP&#39; and that will get you what you want in these cases. But what is your rule?","body":"What is the actual rule here? There&#39;s a RoundingMode of &#39;UP&#39; and that will get you what you want in these cases. But what is your rule?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1660233894,"post_id":73323631,"comment_id":129490027,"body_markdown":"If 49.324999 with scale 2 should become 49.33 `UP` would apply meaning even 49.32411 might yield 49.33 a kind of ceiling value away from 0 (negative numbers).","body":"If 49.324999 with scale 2 should become 49.33 <code>UP</code> would apply meaning even 49.32411 might yield 49.33 a kind of ceiling value away from 0 (negative numbers)."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":3,"creation_date":1660234073,"post_id":73323631,"comment_id":129490076,"body_markdown":"These are not `BigInteger` but `BigDecimal`.","body":"These are not <code>BigInteger</code> but <code>BigDecimal</code>."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1660235078,"post_id":73323631,"comment_id":129490416,"body_markdown":"@AndyTurner I am a bit confused as to why &quot;`49.3249999999999999990` rounds to `49.32`&quot;. Could you elaborate a bit? I would have expected `49.3249999999999999990` to round to `49.325` for three decimals and therefore to two `49.33` for two decimals. What am I missing?","body":"@AndyTurner I am a bit confused as to why &quot;<code>49.3249999999999999990</code> rounds to <code>49.32</code>&quot;. Could you elaborate a bit? I would have expected <code>49.3249999999999999990</code> to round to <code>49.325</code> for three decimals and therefore to two <code>49.33</code> for two decimals. What am I missing?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1660235279,"post_id":73323631,"comment_id":129490506,"body_markdown":"@Koenigsberg [run it and see](https://ideone.com/v9445F).","body":"@Koenigsberg <a href=\"https://ideone.com/v9445F\" rel=\"nofollow noreferrer\">run it and see</a>."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":1,"creation_date":1660235576,"post_id":73323631,"comment_id":129490625,"body_markdown":"@AndyTurner I think there is some fundamental misunderstanding with regard to rounding in my mind. Prior to posting I  got the same result on [WolframAlpha](https://www.wolframalpha.com/input?i=round+49.3249999999999999990+to+2+decimal+places), though I do not understand the reasoning behind it.","body":"@AndyTurner I think there is some fundamental misunderstanding with regard to rounding in my mind. Prior to posting I  got the same result on <a href=\"https://www.wolframalpha.com/input?i=round+49.3249999999999999990+to+2+decimal+places\" rel=\"nofollow noreferrer\">WolframAlpha</a>, though I do not understand the reasoning behind it."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1660235687,"post_id":73323631,"comment_id":129490665,"body_markdown":"@Koenigsberg it&#39;s closer to 49.32 than it is to 49.33.","body":"@Koenigsberg it&#39;s closer to 49.32 than it is to 49.33."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":1,"creation_date":1660236046,"post_id":73323631,"comment_id":129490828,"body_markdown":"@AndyTurner Ah, I see now. The half-threshold is simply not exceeded. I think both OP and me used the same erroneous way of thinking which is why they expected the same result for `prec1` and `prec2`. The way of thinking was to round the nines which shifts the overall value to `49.325`. This should then have resolved to `49.33`. I can see now why this is incorrect. This may solve OP&#39;s problem as well.","body":"@AndyTurner Ah, I see now. The half-threshold is simply not exceeded. I think both OP and me used the same erroneous way of thinking which is why they expected the same result for <code>prec1</code> and <code>prec2</code>. The way of thinking was to round the nines which shifts the overall value to <code>49.325</code>. This should then have resolved to <code>49.33</code>. I can see now why this is incorrect. This may solve OP&#39;s problem as well."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":2,"creation_date":1660236922,"post_id":73323631,"comment_id":129491139,"body_markdown":"0.49999999999990 is less than a half. Mathematically of course 0.499999... recurring **is** a half. But 0.49999999999990 is definitely &lt;0.5 and definitely rounds down on round half up rules.","body":"0.49999999999990 is less than a half. Mathematically of course 0.499999... recurring <b>is</b> a half. But 0.49999999999990 is definitely &lt;0.5 and definitely rounds down on round half up rules."}],"answers":[{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660296707,"creation_date":1660293106,"answer_id":73331355,"question_id":73323631,"body_markdown":"Try the following code. It is rounding half-up as expected as normally defined.\r\nThat is such that 0.49999999999999990&lt;0.5 so rounds down because it rounds down below 0.5 (a half).\r\n\r\nI believe the OP has misunderstood the rule and just needs to use the ordinary `HALF_UP` rounding mode.\r\n\r\n\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\t\r\n\t\tBigDecimal value=new BigDecimal(&quot;49.3249999999999999990&quot;);\r\n\t\tBigDecimal mark=new BigDecimal(&quot;49.325&quot;);//Values less than this round down!\r\n\t\tBigDecimal down=new BigDecimal(&quot;49.32&quot;);\r\n\t\tboolean expectDown;\r\n\t\t\r\n\t\tif(value.compareTo(mark)&lt;0){\r\n\t\t\tSystem.out.println(value + &quot; is less than &quot;+mark);\r\n\t\t\tSystem.out.println(&quot;So rounds down&quot;);\r\n\t\t\texpectDown=true;\r\n\t\t}else{\r\n\t\t\tSystem.out.println(value + &quot; is greater than or equal to &quot;+mark);\r\n\t\t\tSystem.out.println(&quot;So rounds up&quot;);\r\n\t\t\texpectDown=false;\r\n\t\t}\r\n\t\tBigDecimal result=value.setScale(2,RoundingMode.HALF_UP);\r\n\t\tSystem.out.println(&quot;Rounded to &quot;+result);\r\n\t\tif(result.equals(down)==expectDown){\r\n\t\t    System.out.println(&quot;As expected&quot;);\t\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;NOT As expected!!!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\nExpected Output:\r\n\r\n    49.3249999999999999990 is less than 49.325\r\n    So rounds down\r\n    Rounded to 49.32\r\n    As expected\r\n\r\n","title":"Java BigDecimal Rounding up to two decimal places","body":"<p>Try the following code. It is rounding half-up as expected as normally defined.\nThat is such that 0.49999999999999990&lt;0.5 so rounds down because it rounds down below 0.5 (a half).</p>\n<p>I believe the OP has misunderstood the rule and just needs to use the ordinary <code>HALF_UP</code> rounding mode.</p>\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n    \n    BigDecimal value=new BigDecimal(&quot;49.3249999999999999990&quot;);\n    BigDecimal mark=new BigDecimal(&quot;49.325&quot;);//Values less than this round down!\n    BigDecimal down=new BigDecimal(&quot;49.32&quot;);\n    boolean expectDown;\n    \n    if(value.compareTo(mark)&lt;0){\n        System.out.println(value + &quot; is less than &quot;+mark);\n        System.out.println(&quot;So rounds down&quot;);\n        expectDown=true;\n    }else{\n        System.out.println(value + &quot; is greater than or equal to &quot;+mark);\n        System.out.println(&quot;So rounds up&quot;);\n        expectDown=false;\n    }\n    BigDecimal result=value.setScale(2,RoundingMode.HALF_UP);\n    System.out.println(&quot;Rounded to &quot;+result);\n    if(result.equals(down)==expectDown){\n        System.out.println(&quot;As expected&quot;);  \n    }else{\n        System.out.println(&quot;NOT As expected!!!&quot;);\n    }\n}\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>49.3249999999999999990 is less than 49.325\nSo rounds down\nRounded to 49.32\nAs expected\n</code></pre>\n"}],"owner":{"account_id":7183667,"reputation":333,"user_id":5486546,"display_name":"Sameesh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1660296707,"creation_date":1660233246,"question_id":73323631,"body_markdown":"I am trying to round off BigDecimal in Java below is the code that I executed\r\n```\r\n   BigDecimal prec1 = new BigDecimal(&quot;49.3249999999999999990&quot;)\r\n                             .setScale( 2, RoundingMode.HALF_UP);\r\n   BigDecimal prec2 = new BigDecimal(&quot;49.3249999999999999990&quot;)\r\n                             .setScale( 3, RoundingMode.HALF_UP)\r\n                             .setScale(2, RoundingMode.HALF_UP);\r\n```\r\nSo the output are prec1 = 49.32 and prec2 = 49.33 for my use case I need always to round off to 49.33 so is there any other way to round off to 49.33 other than setting scale two times ? also I am using the HALF_UP for all the computations, I can&#39;t got for CEILING or UP, I have to follow the rule for half up (eg: round off to 1 if value is greater than or equal .5 ) So following this rule is there any way to achieve the mentioned result?","title":"Java BigDecimal Rounding up to two decimal places","body":"<p>I am trying to round off BigDecimal in Java below is the code that I executed</p>\n<pre><code>   BigDecimal prec1 = new BigDecimal(&quot;49.3249999999999999990&quot;)\n                             .setScale( 2, RoundingMode.HALF_UP);\n   BigDecimal prec2 = new BigDecimal(&quot;49.3249999999999999990&quot;)\n                             .setScale( 3, RoundingMode.HALF_UP)\n                             .setScale(2, RoundingMode.HALF_UP);\n</code></pre>\n<p>So the output are prec1 = 49.32 and prec2 = 49.33 for my use case I need always to round off to 49.33 so is there any other way to round off to 49.33 other than setting scale two times ? also I am using the HALF_UP for all the computations, I can't got for CEILING or UP, I have to follow the rule for half up (eg: round off to 1 if value is greater than or equal .5 ) So following this rule is there any way to achieve the mentioned result?</p>\n"},{"tags":["java","hibernate","jpa","join"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660296699,"creation_date":1660296699,"answer_id":73332046,"question_id":73331321,"body_markdown":"When you put it on `OneToMany` you get a uni-directional relationship.\r\n\r\nIn the second case, you missed the `mappedBy` attribute in the `OneToMany` annotation, and there you get, in fact, TWO relationships. \r\nThe `OneToMany` will be mapped to a separate relationship table.\r\n\r\nIf you&#39;d use the `mappedBy` attribute, you will have a bi-directional relationship.","title":"Hibernate / JPA difference in position of @JoinColumn in parent or child entity","body":"<p>When you put it on <code>OneToMany</code> you get a uni-directional relationship.</p>\n<p>In the second case, you missed the <code>mappedBy</code> attribute in the <code>OneToMany</code> annotation, and there you get, in fact, TWO relationships.\nThe <code>OneToMany</code> will be mapped to a separate relationship table.</p>\n<p>If you'd use the <code>mappedBy</code> attribute, you will have a bi-directional relationship.</p>\n"}],"owner":{"account_id":1206902,"reputation":423,"user_id":1176318,"accept_rate":69,"display_name":"KaySee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660296699,"creation_date":1660292951,"question_id":73331321,"body_markdown":"Was just trying to understand if there is a difference in functionality when placement of @joinColumn for JPA is in parent class vs when in child class\r\n\r\nAssuming the address table has a column ident_employee and foreign key constraint\r\n\r\n\r\n  \r\n\r\n    @Entity\r\n    @Embeddable\r\n    @Table(name = &quot;employee&quot;)  \r\n    public class Employee {\r\n            \r\n          @Id\r\n          @Column(&quot;ident_employee&quot;)\r\n          private long id;\r\n    \r\n          @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE}, orphanRemoval = true, fetch = FetchType.LAZY)\r\n          @JoinColumn(name = &quot;ident_employee&quot;, referencedColumnName = &quot;ident_employee&quot;)\r\n          private Address address;\r\n        \r\n        }\r\n    \r\n    @Entity\r\n\t@TableName(&quot;address&quot;)\r\n\tpublic class Address{\r\n\t\t\r\n\t\t@Id\r\n\t\t@Column(&quot;ident_address&quot;)\r\n\t\tprivate lond id;\r\n        \r\n\t\t@Columnn(&quot;address&quot;)\r\n\t\tprivate String street;\r\n        \r\n    }\r\n\r\nVs\r\n\r\n    @Entity\r\n    @Embeddable\r\n    @Table(name = &quot;employee&quot;)  \r\n    public class Employee {\r\n\r\n          @Id\r\n          @Column(&quot;ident_employee&quot;)\r\n          private long id;\r\n    \r\n          @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE}, orphanRemoval = true, fetch = FetchType.LAZY)\r\n          private Address address;\r\n        \r\n    }\r\n\r\n    @Entity\r\n\t@TableName(&quot;address&quot;)\r\n\tpublic class Address{\r\n\t\t\r\n\t\t@Id\r\n\t\t@Column(&quot;ident_address&quot;)\r\n\t\tprivate lond id;\r\n        \r\n        @JoinColumn(name = &quot;ident_employee&quot;)\r\n        private Employee employee\r\n        \r\n\t\t@Columnn(&quot;address&quot;)\r\n\t\tprivate String street;\r\n        \r\n    }\r\n","title":"Hibernate / JPA difference in position of @JoinColumn in parent or child entity","body":"<p>Was just trying to understand if there is a difference in functionality when placement of @joinColumn for JPA is in parent class vs when in child class</p>\n<p>Assuming the address table has a column ident_employee and foreign key constraint</p>\n<pre><code>@Entity\n@Embeddable\n@Table(name = &quot;employee&quot;)  \npublic class Employee {\n        \n      @Id\n      @Column(&quot;ident_employee&quot;)\n      private long id;\n\n      @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE}, orphanRemoval = true, fetch = FetchType.LAZY)\n      @JoinColumn(name = &quot;ident_employee&quot;, referencedColumnName = &quot;ident_employee&quot;)\n      private Address address;\n    \n    }\n\n@Entity\n@TableName(&quot;address&quot;)\npublic class Address{\n    \n    @Id\n    @Column(&quot;ident_address&quot;)\n    private lond id;\n    \n    @Columnn(&quot;address&quot;)\n    private String street;\n    \n}\n</code></pre>\n<p>Vs</p>\n<pre><code>@Entity\n@Embeddable\n@Table(name = &quot;employee&quot;)  \npublic class Employee {\n\n      @Id\n      @Column(&quot;ident_employee&quot;)\n      private long id;\n\n      @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE}, orphanRemoval = true, fetch = FetchType.LAZY)\n      private Address address;\n    \n}\n\n@Entity\n@TableName(&quot;address&quot;)\npublic class Address{\n    \n    @Id\n    @Column(&quot;ident_address&quot;)\n    private lond id;\n    \n    @JoinColumn(name = &quot;ident_employee&quot;)\n    private Employee employee\n    \n    @Columnn(&quot;address&quot;)\n    private String street;\n    \n}\n</code></pre>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":20689108,"reputation":17580,"user_id":15273968,"display_name":"the Hutt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660296350,"creation_date":1616645107,"answer_id":66792919,"question_id":66792612,"body_markdown":"Iterate over mines list and explode each mine recursively. Collect exploded count and pick maximum one. Something like this:\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tList&lt;Node&gt; list = new ArrayList&lt;Node&gt;();\r\n    \r\n    \t\tlist.add(new Node(2, 3, 3, 0));\r\n    \t\tlist.add(new Node(2, 3, 1, 1));\r\n    \t\tlist.add(new Node(0, 7, 5, 2));\r\n    \r\n    \t\tSystem.out.println(&quot;Deadliest node is: &quot; + findDeadliest(list).index);\r\n    \t}\r\n    \r\n    \tpublic static Node findDeadliest(List&lt;Node&gt; mines) {\r\n    \t\tNode result = mines.get(0);\r\n    \t\tfor(Node n : mines) {\r\n    \t\t\tList&lt;Node&gt; exploded = new ArrayList&lt;&gt;();\r\n    \t\t\texplode(n, mines, exploded);\r\n    \t\t\tn.triggeredCount = exploded.size();\r\n    \t\t\tresult = (n.triggeredCount &gt; result.triggeredCount) ? n : result; \r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic static void explode(Node mine, List&lt;Node&gt; mines, List&lt;Node&gt; exploded){\r\n    \t\tfor(Node target: mines) {\r\n    \t\t\tif(!exploded.contains(target)) {\r\n    \t\t\t\tif(isInside(mine, target)) {\r\n    \t\t\t\t\texploded.add(target);\r\n    \t\t\t\t\texplode(target, mines, exploded);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tstatic boolean isInside(Node s, Node t) {\r\n    \t\tdouble d = Math.pow(s.r,2) - ( Math.pow(s.x-t.x, 2) + Math.pow(s.y-t.y, 2));\r\n    \t\treturn d&gt;0;\r\n    \t}\r\n    }\r\n    \r\n    class Node {\r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn this.index;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif(obj instanceof Node) {\r\n    \t\t\treturn this.index == ((Node)obj).index;\r\n    \t\t} \r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tint x, y, r;\r\n    \tint index;\r\n    \tint triggeredCount;\r\n    \r\n    \tpublic Node(int x, int y, int r, int index) {\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t\tthis.r = r;\r\n    \t\tthis.index = index;\r\n    \t}\r\n    }\r\nOutput:\r\n\r\n    Deadliest node is: 2\r\n\r\nModify the code as per your needs. Do the null checks and error handling.","title":"Give a list of bomb, each mine has 3 numbers, x, y coordinates and explosion range. Find the initial mine that can eventually detonate the most mines","body":"<p>Iterate over mines list and explode each mine recursively. Collect exploded count and pick maximum one. Something like this:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) throws Exception {\n        List&lt;Node&gt; list = new ArrayList&lt;Node&gt;();\n\n        list.add(new Node(2, 3, 3, 0));\n        list.add(new Node(2, 3, 1, 1));\n        list.add(new Node(0, 7, 5, 2));\n\n        System.out.println(&quot;Deadliest node is: &quot; + findDeadliest(list).index);\n    }\n\n    public static Node findDeadliest(List&lt;Node&gt; mines) {\n        Node result = mines.get(0);\n        for(Node n : mines) {\n            List&lt;Node&gt; exploded = new ArrayList&lt;&gt;();\n            explode(n, mines, exploded);\n            n.triggeredCount = exploded.size();\n            result = (n.triggeredCount &gt; result.triggeredCount) ? n : result; \n        }\n        return result;\n    }\n\n    public static void explode(Node mine, List&lt;Node&gt; mines, List&lt;Node&gt; exploded){\n        for(Node target: mines) {\n            if(!exploded.contains(target)) {\n                if(isInside(mine, target)) {\n                    exploded.add(target);\n                    explode(target, mines, exploded);\n                }\n            }\n        }\n    }\n    static boolean isInside(Node s, Node t) {\n        double d = Math.pow(s.r,2) - ( Math.pow(s.x-t.x, 2) + Math.pow(s.y-t.y, 2));\n        return d&gt;0;\n    }\n}\n\nclass Node {\n    @Override\n    public int hashCode() {\n        return this.index;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if(obj instanceof Node) {\n            return this.index == ((Node)obj).index;\n        } \n        return false;\n    }\n\n    int x, y, r;\n    int index;\n    int triggeredCount;\n\n    public Node(int x, int y, int r, int index) {\n        this.x = x;\n        this.y = y;\n        this.r = r;\n        this.index = index;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Deadliest node is: 2\n</code></pre>\n<p>Modify the code as per your needs. Do the null checks and error handling.</p>\n"},{"tags":[],"owner":{"account_id":10053199,"reputation":119,"user_id":7432310,"display_name":"Ron Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634793298,"creation_date":1634793298,"answer_id":69656209,"question_id":66792612,"body_markdown":"There might be some improvements to search with memorization in this problem - we don&#39;t really need to search again if the detonated bombs have been calculated before.\r\n\r\n      memory = [-1] * N\r\n      visited = [False] * N\r\n      def count_explosion(source):\r\n        if memory[source] != -1:\r\n          return memory[source]\r\n        accu = 1\r\n        visited[source] = True\r\n        for k in range(N):\r\n          if source == k:\r\n            continue\r\n          if adjacent[source][k] and not visited[k]:\r\n            if memory[k] != -1:\r\n              accu += memory[k]\r\n            else:\r\n              accu += count_explosion(k)\r\n        memory[source] = accu\r\n        return accu\r\n\r\n      max_num = 1\r\n      for i in range(N):\r\n        max_num = max(max_num, count_explosion(i))\r\n      return max_num\r\n\r\n\r\nNote the adjacent is the matrix to store the directed graph, where we pre-process using the euclidean distance. We need a `visited` here as well to avoid cyclic cases.\r\n      ","title":"Give a list of bomb, each mine has 3 numbers, x, y coordinates and explosion range. Find the initial mine that can eventually detonate the most mines","body":"<p>There might be some improvements to search with memorization in this problem - we don't really need to search again if the detonated bombs have been calculated before.</p>\n<pre><code>  memory = [-1] * N\n  visited = [False] * N\n  def count_explosion(source):\n    if memory[source] != -1:\n      return memory[source]\n    accu = 1\n    visited[source] = True\n    for k in range(N):\n      if source == k:\n        continue\n      if adjacent[source][k] and not visited[k]:\n        if memory[k] != -1:\n          accu += memory[k]\n        else:\n          accu += count_explosion(k)\n    memory[source] = accu\n    return accu\n\n  max_num = 1\n  for i in range(N):\n    max_num = max(max_num, count_explosion(i))\n  return max_num\n</code></pre>\n<p>Note the adjacent is the matrix to store the directed graph, where we pre-process using the euclidean distance. We need a <code>visited</code> here as well to avoid cyclic cases.</p>\n"}],"owner":{"account_id":20596662,"reputation":25,"user_id":15118899,"display_name":"gandalf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":66792919,"answer_count":2,"score":1,"last_activity_date":1660296350,"creation_date":1616642719,"question_id":66792612,"body_markdown":"Give a list of mines, each mine contains 3 numbers, x, y coordinates and explosion range . Find the initial mine  that can eventually detonate the most mines and maximum number of mine it denotes. \r\n\r\nthe x, y coordinates can be negative numbers and all three numbers can be double.\r\n\r\nI coded a dfs solution but got incorrect result. Does it seem like an ok implementation . Any inputs will be helpful. \r\n\r\n```\r\nList&lt;Node&gt; list;\r\n    RadiusBlast(List&lt;Node&gt; list){\r\n        this.list = list;\r\n    }\r\n\r\n    static boolean isInside(int circle_x, int circle_y,\r\n                            int rad, int x, int y)\r\n    {\r\n        // Compare radius of circle with\r\n        // distance of its center from\r\n        // given point\r\n        //System.out.println(&quot;source:&quot;+ circle_x + &quot;,&quot; + circle_y);\r\n        if ((x - circle_x) * (x - circle_x) +\r\n                (y - circle_y) * (y - circle_y) &lt;= rad * rad) {\r\n\r\n            //System.out.println(&quot;isInside:&quot;+ x + &quot;,&quot; + y);\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n\r\n    public int dfs2(int i,Node node,boolean[] visited) {\r\n        //System.out.println(&quot;dfs&quot;);\r\n        visited[i] = true;\r\n        int res = 1;\r\n        for(Node newNode : list){\r\n            if(!visited[newNode.index]) {\r\n                if (isInside(node.x, node.y, node.r, newNode.x, newNode.y))\r\n                    res += dfs2(newNode.index,node,visited);\r\n            }\r\n\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    static class Node{\r\n        int x,y,r ;\r\n        int index;\r\n        boolean depthvisited;\r\n        //boolean visited;\r\n\r\n        public Node(int x, int y, int r,int index) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.r = r;\r\n            this.index = index;\r\n        }\r\n    }\r\n\r\n    // Driver Program to test above function\r\n    public static void main(String arg[])\r\n    {\r\n        //RadiusBlast r = new RadiusBlast();\r\n\r\n        int x = -1, y = 3;\r\n        x = 2 ; y = 3;\r\n        int x1 = 2 ; int y2 = 3 ;\r\n\r\n        int circle_x = 0, circle_y = 7, rad = 5;\r\n\r\n       if (isInside(circle_x, circle_y, rad, x, y))\r\n            System.out.println(&quot;Inside1 main&quot;);\r\n        else\r\n            System.out.println(&quot;Outside&quot;);\r\n\r\n        if (isInside(circle_x, circle_y, rad, x1, y2))\r\n            System.out.println(&quot;Inside2 main&quot;);\r\n        else\r\n            System.out.println(&quot;Outside &quot;);\r\n\r\n        //x1, y1, r1\r\n        // 2,3,3\r\n        // -1,3,2\r\n        // 3,2,5\r\n        List&lt;Node&gt; list = new ArrayList&lt;Node&gt;();\r\n\r\n        list.add(new Node(2,3,3,0));\r\n        list.add(new Node(2,3,1,1));\r\n        list.add(new Node(0,7,5,2));\r\n\r\n        boolean[] visited;\r\n\r\n        RadiusBlast r = new RadiusBlast(list);\r\n        int res =0 ;\r\n        for(int i =0; i &lt; list.size(); i++){\r\n               visited = new boolean[list.size()];\r\n               res = Math.max(res,r.dfs2(list.get(i).index,list.get(i),visited));\r\n               //System.out.println(&quot;res:&quot; + (res));\r\n        }\r\n        System.out.println(&quot;result:&quot; + (res - 1));\r\n\r\n    }\r\n\r\n```\r\n\r\n","title":"Give a list of bomb, each mine has 3 numbers, x, y coordinates and explosion range. Find the initial mine that can eventually detonate the most mines","body":"<p>Give a list of mines, each mine contains 3 numbers, x, y coordinates and explosion range . Find the initial mine  that can eventually detonate the most mines and maximum number of mine it denotes.</p>\n<p>the x, y coordinates can be negative numbers and all three numbers can be double.</p>\n<p>I coded a dfs solution but got incorrect result. Does it seem like an ok implementation . Any inputs will be helpful.</p>\n<pre><code>List&lt;Node&gt; list;\n    RadiusBlast(List&lt;Node&gt; list){\n        this.list = list;\n    }\n\n    static boolean isInside(int circle_x, int circle_y,\n                            int rad, int x, int y)\n    {\n        // Compare radius of circle with\n        // distance of its center from\n        // given point\n        //System.out.println(&quot;source:&quot;+ circle_x + &quot;,&quot; + circle_y);\n        if ((x - circle_x) * (x - circle_x) +\n                (y - circle_y) * (y - circle_y) &lt;= rad * rad) {\n\n            //System.out.println(&quot;isInside:&quot;+ x + &quot;,&quot; + y);\n            return true;\n        }\n        else\n            return false;\n    }\n\n\n    public int dfs2(int i,Node node,boolean[] visited) {\n        //System.out.println(&quot;dfs&quot;);\n        visited[i] = true;\n        int res = 1;\n        for(Node newNode : list){\n            if(!visited[newNode.index]) {\n                if (isInside(node.x, node.y, node.r, newNode.x, newNode.y))\n                    res += dfs2(newNode.index,node,visited);\n            }\n\n        }\n\n        return res;\n    }\n\n    static class Node{\n        int x,y,r ;\n        int index;\n        boolean depthvisited;\n        //boolean visited;\n\n        public Node(int x, int y, int r,int index) {\n            this.x = x;\n            this.y = y;\n            this.r = r;\n            this.index = index;\n        }\n    }\n\n    // Driver Program to test above function\n    public static void main(String arg[])\n    {\n        //RadiusBlast r = new RadiusBlast();\n\n        int x = -1, y = 3;\n        x = 2 ; y = 3;\n        int x1 = 2 ; int y2 = 3 ;\n\n        int circle_x = 0, circle_y = 7, rad = 5;\n\n       if (isInside(circle_x, circle_y, rad, x, y))\n            System.out.println(&quot;Inside1 main&quot;);\n        else\n            System.out.println(&quot;Outside&quot;);\n\n        if (isInside(circle_x, circle_y, rad, x1, y2))\n            System.out.println(&quot;Inside2 main&quot;);\n        else\n            System.out.println(&quot;Outside &quot;);\n\n        //x1, y1, r1\n        // 2,3,3\n        // -1,3,2\n        // 3,2,5\n        List&lt;Node&gt; list = new ArrayList&lt;Node&gt;();\n\n        list.add(new Node(2,3,3,0));\n        list.add(new Node(2,3,1,1));\n        list.add(new Node(0,7,5,2));\n\n        boolean[] visited;\n\n        RadiusBlast r = new RadiusBlast(list);\n        int res =0 ;\n        for(int i =0; i &lt; list.size(); i++){\n               visited = new boolean[list.size()];\n               res = Math.max(res,r.dfs2(list.get(i).index,list.get(i),visited));\n               //System.out.println(&quot;res:&quot; + (res));\n        }\n        System.out.println(&quot;result:&quot; + (res - 1));\n\n    }\n\n</code></pre>\n"},{"tags":["java","ubuntu","jmx"],"comments":[{"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"score":1,"creation_date":1395395527,"post_id":19220442,"comment_id":34328566,"body_markdown":"Same issue for me on Windows.","body":"Same issue for me on Windows."}],"answers":[{"tags":[],"owner":{"account_id":1181167,"reputation":2327,"user_id":1156067,"accept_rate":44,"display_name":"Elad Tabak"},"down_vote_count":1,"up_vote_count":70,"is_accepted":true,"score":69,"last_activity_date":1459196629,"creation_date":1381136150,"answer_id":19220583,"question_id":19220442,"body_markdown":"Make sure the user you are using to run the java process have access to the file (owner/read permissions).\r\n\r\nTry:\r\n\r\n    chmod 600 jmxremote.password\r\n\r\nPlus I suggest you&#39;ll make your own password file and run it with \r\n\r\n    -Dcom.sun.management.jmxremote.password.file=pwFilePath\r\n\r\nAll explained [here][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/management/agent.html","title":"JMX password read access issue","body":"<p>Make sure the user you are using to run the java process have access to the file (owner/read permissions).</p>\n\n<p>Try:</p>\n\n<pre><code>chmod 600 jmxremote.password\n</code></pre>\n\n<p>Plus I suggest you'll make your own password file and run it with </p>\n\n<pre><code>-Dcom.sun.management.jmxremote.password.file=pwFilePath\n</code></pre>\n\n<p>All explained <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/management/agent.html\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660296198,"creation_date":1660296198,"answer_id":73331953,"question_id":19220442,"body_markdown":"If you want to bypass authentication try to use below parameters.\r\n\r\n&gt;     -Dcom.sun.management.jmxremote\r\n&gt;     -Dcom.sun.management.jmxremote.authenticate=false\r\n&gt;     -Dcom.sun.management.jmxremote.port=port\r\n&gt;     -Dcom.sun.management.jmxremote.ssl=false","title":"JMX password read access issue","body":"<p>If you want to bypass authentication try to use below parameters.</p>\n<blockquote>\n<pre><code>-Dcom.sun.management.jmxremote\n-Dcom.sun.management.jmxremote.authenticate=false\n-Dcom.sun.management.jmxremote.port=port\n-Dcom.sun.management.jmxremote.ssl=false\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":2193631,"reputation":2706,"user_id":1939961,"accept_rate":85,"display_name":"Black Magic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60370,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":19220583,"answer_count":2,"score":41,"last_activity_date":1660296198,"creation_date":1381135695,"question_id":19220442,"body_markdown":"When I try to use JMX to monitor an application like this:\r\n\r\n    java -Dcom.sun.management.jmxremote.port=9999 \\\r\n         -Dcom.sun.management.jmxremote.authenticate=false \\\r\n         -Dcom.sun.management.jmxremote.ssl=false \\\r\n         JMX_tester\r\n\r\nit tells me:\r\n\r\n    Error: Password file read access must be restricted:\r\n           /usr/lib/jvm/java-7-oracle/jre/lib/management/jmxremote.password\r\n\r\nYet, when I use `chmod` to restrict the read access, it tells me:\r\n\r\n    Error: can&#39;t read password file\r\n\r\nAm I going insane or something? How can I fix this?\r\n\r\nThis is Ubuntu btw, with the latest oracle jdk \r\n\r\n","title":"JMX password read access issue","body":"<p>When I try to use JMX to monitor an application like this:</p>\n\n<pre><code>java -Dcom.sun.management.jmxremote.port=9999 \\\n     -Dcom.sun.management.jmxremote.authenticate=false \\\n     -Dcom.sun.management.jmxremote.ssl=false \\\n     JMX_tester\n</code></pre>\n\n<p>it tells me:</p>\n\n<pre><code>Error: Password file read access must be restricted:\n       /usr/lib/jvm/java-7-oracle/jre/lib/management/jmxremote.password\n</code></pre>\n\n<p>Yet, when I use <code>chmod</code> to restrict the read access, it tells me:</p>\n\n<pre><code>Error: can't read password file\n</code></pre>\n\n<p>Am I going insane or something? How can I fix this?</p>\n\n<p>This is Ubuntu btw, with the latest oracle jdk </p>\n"},{"tags":["java","eclipse","selenium-webdriver","cucumber-java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1629078059,"post_id":68796554,"comment_id":121583164,"body_markdown":"Which version of Java are you using? I think you&#39;ll need to update to a more recent version of Cucumber.","body":"Which version of Java are you using? I think you&#39;ll need to update to a more recent version of Cucumber."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1629078338,"post_id":68796554,"comment_id":121583208,"body_markdown":"&quot;java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3532ec19&quot; - It is a modules thing ...","body":"&quot;java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3532ec19&quot; - It is a modules thing ..."}],"owner":{"account_id":22475188,"reputation":1,"user_id":16675017,"display_name":"Kapil Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660296144,"creation_date":1629077301,"question_id":68796554,"body_markdown":"Using Eclipse with selenium and try to run my code with runner file with feature file but getting error as mentioned below, please advise.\r\nAdded below jar file: \r\njunit:4.12\r\nselenium-java: 3.141.59\r\ncucumber-java: 1.2.5\r\ncucumber-junit:1.2.5(test)\r\nextentreports: 4.0.9\r\ncucumber-extentsreport:3.1.1\r\n```java\r\njava.lang.ExceptionInInitializerError\r\n\tat cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\r\n\tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n\tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\r\n\tat cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\r\n\tat cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\r\n\tat cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\r\n\tat cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\r\n\tat cucumber.runtime.Runtime.runStep(Runtime.java:300)\r\n\tat cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\r\n\tat cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\r\n\tat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n\tat cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:102)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.api.junit.Cucumber.run(Cucumber.java:100)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:768)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\tat ✽.Given User is on login page(LoginLogout.feature:4)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3532ec19\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\r\n\tat cucumber.deps.com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\r\n\tat cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\r\n\tat cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\r\n\tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n\tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\r\n\tat cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\r\n\tat cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\r\n\tat cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\r\n\tat cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\r\n\tat cucumber.runtime.Runtime.runStep(Runtime.java:300)\r\n\tat cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\r\n\tat cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\r\n\tat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n\tat cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:102)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.api.junit.Cucumber.run(Cucumber.java:100)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:768)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\njava.lang.NoClassDefFoundError: Could not initialize class cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter\r\n\tat cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\r\n\tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n\tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\r\n\tat cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\r\n\tat cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\r\n\tat cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\r\n\tat cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\r\n\tat cucumber.runtime.Runtime.runStep(Runtime.java:300)\r\n\tat cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\r\n\tat cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\r\n\tat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n\tat cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:102)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.api.junit.Cucumber.run(Cucumber.java:100)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:768)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\tat ✽.Given User is on Signin page(LoginLogout.feature:14)\r\n```","title":"how to remove error &quot;java.lang.ExceptionInInitializerError&quot;, in eclipse with selenium web driver","body":"<p>Using Eclipse with selenium and try to run my code with runner file with feature file but getting error as mentioned below, please advise.\nAdded below jar file:\njunit:4.12\nselenium-java: 3.141.59\ncucumber-java: 1.2.5\ncucumber-junit:1.2.5(test)\nextentreports: 4.0.9\ncucumber-extentsreport:3.1.1</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.ExceptionInInitializerError\n    at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\n    at cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\n    at cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\n    at cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\n    at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\n    at cucumber.runtime.Runtime.runStep(Runtime.java:300)\n    at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\n    at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\n    at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\n    at cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:102)\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at cucumber.api.junit.Cucumber.run(Cucumber.java:100)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:768)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n    at ✽.Given User is on login page(LoginLogout.feature:4)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @3532ec19\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\n    at cucumber.deps.com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\n    at cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\n    at cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\n    at cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\n    at cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\n    at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\n    at cucumber.runtime.Runtime.runStep(Runtime.java:300)\n    at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\n    at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\n    at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\n    at cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:102)\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at cucumber.api.junit.Cucumber.run(Cucumber.java:100)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:768)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n\njava.lang.NoClassDefFoundError: Could not initialize class cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter\n    at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\n    at cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\n    at cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\n    at cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\n    at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\n    at cucumber.runtime.Runtime.runStep(Runtime.java:300)\n    at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\n    at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\n    at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\n    at cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:102)\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\n    at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\n    at cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at cucumber.api.junit.Cucumber.run(Cucumber.java:100)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:768)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n    at ✽.Given User is on Signin page(LoginLogout.feature:14)\n</code></pre>\n"},{"tags":["java","opencv","raspberry-pi3"],"answers":[{"tags":[],"owner":{"account_id":9698124,"reputation":124,"user_id":7193919,"display_name":"alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482475536,"creation_date":1482475536,"answer_id":41296486,"question_id":41295135,"body_markdown":"Did you try to install the complete opencv package with all development dependencies? \r\n\r\n    apt-get install libopencv-dev\r\n\r\n","title":"OpenCV w/ Rapsberry Pi: VideoCapture IP camera not working","body":"<p>Did you try to install the complete opencv package with all development dependencies? </p>\n\n<pre><code>apt-get install libopencv-dev\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8071872,"reputation":1,"user_id":6084371,"display_name":"superrm11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1482640073,"creation_date":1482640073,"answer_id":41318679,"question_id":41295135,"body_markdown":"Okay, I was able to figure out what was going on. Apparently, if you don&#39;t install the prerequisites FIRST, Cmake will take into account not having them, and will disable the feature completely. I was able to figure this out during the Cmake process, it stated it was &quot;looking&quot; for the libav libraries, and in turn did not find them. So, I decided to completely reinstall the OS, (probably didn&#39;t have to, but wanted to save space) and reinstall the prereq&#39;s first, then made sure the cmake compiler was happy before the make process. &lt;br&gt;I guess that&#39;s why they call them pre-requisites, huh?","title":"OpenCV w/ Rapsberry Pi: VideoCapture IP camera not working","body":"<p>Okay, I was able to figure out what was going on. Apparently, if you don't install the prerequisites FIRST, Cmake will take into account not having them, and will disable the feature completely. I was able to figure this out during the Cmake process, it stated it was \"looking\" for the libav libraries, and in turn did not find them. So, I decided to completely reinstall the OS, (probably didn't have to, but wanted to save space) and reinstall the prereq's first, then made sure the cmake compiler was happy before the make process. <br>I guess that's why they call them pre-requisites, huh?</p>\n"}],"owner":{"account_id":8071872,"reputation":1,"user_id":6084371,"display_name":"superrm11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41318679,"answer_count":2,"score":0,"last_activity_date":1660295795,"creation_date":1482466805,"question_id":41295135,"body_markdown":"I&#39;m working on a project that includes running opencv on the raspberry pi 3B in java. I&#39;ve followed the instructions on its website for installation in linux, and uploaded my code:\r\n\r\n    cap = new VideoCapture();\r\n\tcap.open(&quot;http://192.168.137.1:8000/video.mjpg&quot;);\r\n\tSystem.out.println(cap.isOpened());\r\nOn my Windows computer, it prints out true, but on the Pi, it prints out false. However, I *am* able to wget the .mjpg file,  and it downloads fine. Also, it works with my usb camera (`cap.open(0);`).\r\nI have found online that it could be ffmpeg, but I do have libav installed, so that should be fine. It worked on my Raspberry Pi model B, but not on my model 3 B. \r\n\r\nIs there a set of libraries I&#39;m missing?","title":"OpenCV w/ Rapsberry Pi: VideoCapture IP camera not working","body":"<p>I'm working on a project that includes running opencv on the raspberry pi 3B in java. I've followed the instructions on its website for installation in linux, and uploaded my code:</p>\n<pre><code>cap = new VideoCapture();\ncap.open(&quot;http://192.168.137.1:8000/video.mjpg&quot;);\nSystem.out.println(cap.isOpened());\n</code></pre>\n<p>On my Windows computer, it prints out true, but on the Pi, it prints out false. However, I <em>am</em> able to wget the .mjpg file,  and it downloads fine. Also, it works with my usb camera (<code>cap.open(0);</code>).\nI have found online that it could be ffmpeg, but I do have libav installed, so that should be fine. It worked on my Raspberry Pi model B, but not on my model 3 B.</p>\n<p>Is there a set of libraries I'm missing?</p>\n"},{"tags":["java","rest","rest-assured"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1660289331,"post_id":73330494,"comment_id":129501965,"body_markdown":"First off, I have never used this! \nI looked through the doc and I don&#39;t think you can get the query string from the Response object！","body":"First off, I have never used this!  I looked through the doc and I don&#39;t think you can get the query string from the Response object！"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1660289393,"post_id":73330494,"comment_id":129501986,"body_markdown":"Since the query string belongs to the request body, I think, if you want to get it, you should at least use the Request object.","body":"Since the query string belongs to the request body, I think, if you want to get it, you should at least use the Request object."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1660289505,"post_id":73330494,"comment_id":129502024,"body_markdown":"here the doc！https://www.javadoc.io/static/io.rest-assured/rest-assured/5.1.1/io/restassured/response/Response.html，I think you can take a closer look to see if there is a method that can help you implement the function.","body":"here the doc！<a href=\"https://www.javadoc.io/static/io.rest-assured/rest-assured/5.1.1/io/restassured/response/Response.html\" rel=\"nofollow noreferrer\">javadoc.io/static/io.rest-assured/rest-assured/5.1.1/io/&zwnj;&#8203;&hellip;</a>，I think you can take a closer look to see if there is a method that can help you implement the function."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660295360,"creation_date":1660295360,"answer_id":73331811,"question_id":73330494,"body_markdown":"You cannot get request just from response. It is not the way how RestAssured is designed. However normally you also cannot get a response without knowing what request is. So you could just:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    RequestSpecification requestSpecification = RestAssured\r\n            .with()\r\n            .baseUri(&quot;https://httpbin.org&quot;)\r\n            .queryParams(Map.of(&quot;a&quot;, 1, &quot;b&quot;, 2));\r\n    Response response = RestAssured.with().spec(requestSpecification).get(&quot;/get&quot;);\r\n    System.out.println(response.asString());\r\n    System.out.println(((QueryableRequestSpecification)requestSpecification).getQueryParams());\r\n}\r\n```\r\n\r\nwhich would result in\r\n\r\n```json\r\n{\r\n  &quot;args&quot;: {\r\n    &quot;a&quot;: &quot;1&quot;, \r\n    &quot;b&quot;: &quot;2&quot;\r\n  }, \r\n  &quot;headers&quot;: {\r\n    &quot;Accept&quot;: &quot;*/*&quot;, \r\n    &quot;Accept-Encoding&quot;: &quot;gzip,deflate&quot;, \r\n    &quot;Host&quot;: &quot;httpbin.org&quot;, \r\n    &quot;User-Agent&quot;: &quot;Apache-HttpClient/4.5.13 (Java/11.0.16)&quot;, \r\n    &quot;X-Amzn-Trace-Id&quot;: &quot;Root=1-62f61842-05465f9c198e631703c55c36&quot;\r\n  }, \r\n  &quot;origin&quot;: &quot;31.134.139.220&quot;, \r\n  &quot;url&quot;: &quot;https://httpbin.org/get?b=2&amp;a=1&quot;\r\n}\r\n\r\n{b=2, a=1}\r\n```","title":"How to get the values of query parameters in Rest assured","body":"<p>You cannot get request just from response. It is not the way how RestAssured is designed. However normally you also cannot get a response without knowing what request is. So you could just:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    RequestSpecification requestSpecification = RestAssured\n            .with()\n            .baseUri(&quot;https://httpbin.org&quot;)\n            .queryParams(Map.of(&quot;a&quot;, 1, &quot;b&quot;, 2));\n    Response response = RestAssured.with().spec(requestSpecification).get(&quot;/get&quot;);\n    System.out.println(response.asString());\n    System.out.println(((QueryableRequestSpecification)requestSpecification).getQueryParams());\n}\n</code></pre>\n<p>which would result in</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;args&quot;: {\n    &quot;a&quot;: &quot;1&quot;, \n    &quot;b&quot;: &quot;2&quot;\n  }, \n  &quot;headers&quot;: {\n    &quot;Accept&quot;: &quot;*/*&quot;, \n    &quot;Accept-Encoding&quot;: &quot;gzip,deflate&quot;, \n    &quot;Host&quot;: &quot;httpbin.org&quot;, \n    &quot;User-Agent&quot;: &quot;Apache-HttpClient/4.5.13 (Java/11.0.16)&quot;, \n    &quot;X-Amzn-Trace-Id&quot;: &quot;Root=1-62f61842-05465f9c198e631703c55c36&quot;\n  }, \n  &quot;origin&quot;: &quot;31.134.139.220&quot;, \n  &quot;url&quot;: &quot;https://httpbin.org/get?b=2&amp;a=1&quot;\n}\n\n{b=2, a=1}\n</code></pre>\n"}],"owner":{"account_id":25442663,"reputation":23,"user_id":19245271,"display_name":"suhel shaikh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660295709,"creation_date":1660288352,"question_id":73330494,"body_markdown":"Below is my code\r\n\r\n     RestAssured.baseURI = &quot;http://localhost:8090/api&quot;;\r\n     Response response1 = given().log().all()\r\n                        .when()\r\n                        .get(&quot;questions?exercise=C1&amp;answers=true&quot;)\r\n                        .then().log().all().extract().response();\r\n\r\nHow to get the values of query parameters **[exercise=C1&amp;answers=true]**?\r\nThe values I want is **C1** and **true**","title":"How to get the values of query parameters in Rest assured","body":"<p>Below is my code</p>\n<pre><code> RestAssured.baseURI = &quot;http://localhost:8090/api&quot;;\n Response response1 = given().log().all()\n                    .when()\n                    .get(&quot;questions?exercise=C1&amp;answers=true&quot;)\n                    .then().log().all().extract().response();\n</code></pre>\n<p>How to get the values of query parameters <strong>[exercise=C1&amp;answers=true]</strong>?\nThe values I want is <strong>C1</strong> and <strong>true</strong></p>\n"},{"tags":["java","filter","reactive-programming","spring-webflux","reactor-netty"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1565136900,"post_id":57385092,"comment_id":101254616,"body_markdown":"post the code you have tried and not &quot;something similar&quot;","body":"post the code you have tried and not &quot;something similar&quot;"},{"owner":{"account_id":4412565,"reputation":589,"user_id":3595026,"accept_rate":0,"display_name":"user3595026"},"score":0,"creation_date":1565138268,"post_id":57385092,"comment_id":101254874,"body_markdown":"@Thomas that is the exact code I’ve tried","body":"@Thomas that is the exact code I’ve tried"},{"owner":{"account_id":446870,"reputation":93,"user_id":840176,"display_name":"Haimke"},"score":0,"creation_date":1570376949,"post_id":57385092,"comment_id":102886415,"body_markdown":"@user3595026 - did you find solution for this? I have the same issue.","body":"@user3595026 - did you find solution for this? I have the same issue."},{"owner":{"account_id":4412565,"reputation":589,"user_id":3595026,"accept_rate":0,"display_name":"user3595026"},"score":0,"creation_date":1570465906,"post_id":57385092,"comment_id":102914020,"body_markdown":"@Haimke Not yet","body":"@Haimke Not yet"},{"owner":{"account_id":11686848,"reputation":396,"user_id":8556340,"display_name":"Roeniss"},"score":0,"creation_date":1627552138,"post_id":57385092,"comment_id":121188654,"body_markdown":"I&#39;m facing exacttly same issue. Solved it? @user3595026","body":"I&#39;m facing exacttly same issue. Solved it? @user3595026"}],"answers":[{"tags":[],"owner":{"account_id":26045281,"reputation":1,"user_id":19749401,"display_name":"user19749401"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660295658,"creation_date":1660294532,"answer_id":73331636,"question_id":57385092,"body_markdown":"    import org.json.JSONObject;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.reactive.function.server.HandlerFilterFunction;\r\n    import org.springframework.web.reactive.function.server.HandlerFunction;\r\n    import org.springframework.web.reactive.function.server.ServerRequest;\r\n    import org.springframework.web.reactive.function.server.ServerResponse;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    @Component\r\n    public class FundsAuthorizationFilter implements HandlerFilterFunction&lt;ServerResponse, ServerResponse&gt; {\r\n\r\n        @Override\r\n        public Mono&lt;ServerResponse&gt; filter(ServerRequest request, HandlerFunction&lt;ServerResponse&gt; handlerFunction) {\r\n            String block = request.bodyToMono(String.class).block();\r\n            JSONObject jsonObj = new JSONObject(block);\r\n            ServerRequest.Builder newRequestBuilder = ServerRequest.from(request);\r\n            newRequestBuilder.body(block);\r\n    \r\n            return handlerFunction.handle(newRequestBuilder.build());\r\n        }\r\n    \r\n    }\r\n\r\nI found a solution for this, that is clone the serverRequest and set the body to the new request","title":"Spring WebFlux: How to access Request Body in HandlerFilterFunction","body":"<pre><code>import org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.reactive.function.server.HandlerFilterFunction;\nimport org.springframework.web.reactive.function.server.HandlerFunction;\nimport org.springframework.web.reactive.function.server.ServerRequest;\nimport org.springframework.web.reactive.function.server.ServerResponse;\nimport reactor.core.publisher.Mono;\n\n@Component\npublic class FundsAuthorizationFilter implements HandlerFilterFunction&lt;ServerResponse, ServerResponse&gt; {\n\n    @Override\n    public Mono&lt;ServerResponse&gt; filter(ServerRequest request, HandlerFunction&lt;ServerResponse&gt; handlerFunction) {\n        String block = request.bodyToMono(String.class).block();\n        JSONObject jsonObj = new JSONObject(block);\n        ServerRequest.Builder newRequestBuilder = ServerRequest.from(request);\n        newRequestBuilder.body(block);\n\n        return handlerFunction.handle(newRequestBuilder.build());\n    }\n\n}\n</code></pre>\n<p>I found a solution for this, that is clone the serverRequest and set the body to the new request</p>\n"}],"owner":{"account_id":4412565,"reputation":589,"user_id":3595026,"accept_rate":0,"display_name":"user3595026"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2178,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1660295658,"creation_date":1565133057,"question_id":57385092,"body_markdown":"I&#39;m trying to access the request body from WebFlux&#39;s `HandlerFunctionFunction` but I am getting  `java.lang.IllegalStateException: Only one connection receive subscriber allowed.`. \r\n\r\nI want to do something similar to below code block\r\n\r\n\r\n```java\r\npublic class ExampleHandlerFilterFunction \r\n  implements HandlerFilterFunction&lt;ServerResponse, ServerResponse&gt; {\r\n  \r\n    @Override\r\n    public Mono&lt;ServerResponse&gt; filter(ServerRequest serverRequest,\r\n      HandlerFunction&lt;ServerResponse&gt; handlerFunction) {\r\n        if (serverRequest.pathVariable(&quot;name&quot;).equalsIgnoreCase(&quot;test&quot;)) {\r\n            return serverRequest.bodyToMono(Player.class)\r\n             .doOnNext(loggerService :: logAndDoSomethingElse)\r\n             .then(handlerFunction.handle(serverRequest);\r\n        }\r\n        return handlerFunction.handle(serverRequest);\r\n    }\r\n}\r\n```\r\n\r\nI tried `serverRequest.bodyToMono(Player.class).cache()` too, but did not work. \r\n\r\nUpdate: Adding handler and router functions\r\n\r\n**Handler Function**\r\n\r\n```java\r\n@Component\r\npublic class PlayerHandler {\r\n\r\n    @Autowired\r\n    private final playerRepository;\r\n\r\n    public PlayerHandler(PlayerRepository palyerRepository) {\r\n\r\n       this.palyerRepository = playerRepository;\r\n    }\r\n\r\n    public Mono&lt;ServerResponse&gt; savePlayer(ServerRequest request) {\r\n\r\n        Mono&lt;String&gt; id = request.bodyToMono(Player.class)\r\n        .map(playerRepository::save)\r\n        .map(Player::getId);\r\n\r\n        return ok().body(id, String.class);\r\n    }\r\n}\r\n```\r\n\r\n**Router function**\r\n```java\r\n\r\n@Bean\r\npublic RouterFunction&lt;ServerResponse&gt; route(PlayerHandler playerHandler) {\r\n    return RouterFunctions\r\n      .route(POST(&quot;/players/&quot;), playerHandler::save)\r\n      .filter(new ExampleHandlerFilterFunction());\r\n}\r\n```\r\n\r\n**Logger service**\r\n```java\r\n\r\npublic Mono&lt;Void&gt; T logAndDoSomethingElse(T t){\r\n    ---- auditing business logic----\r\n    return loggerRepository.save(asJsonb);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nCan someone help me? Thanks","title":"Spring WebFlux: How to access Request Body in HandlerFilterFunction","body":"<p>I'm trying to access the request body from WebFlux's <code>HandlerFunctionFunction</code> but I am getting  <code>java.lang.IllegalStateException: Only one connection receive subscriber allowed.</code>. </p>\n\n<p>I want to do something similar to below code block</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleHandlerFilterFunction \n  implements HandlerFilterFunction&lt;ServerResponse, ServerResponse&gt; {\n\n    @Override\n    public Mono&lt;ServerResponse&gt; filter(ServerRequest serverRequest,\n      HandlerFunction&lt;ServerResponse&gt; handlerFunction) {\n        if (serverRequest.pathVariable(\"name\").equalsIgnoreCase(\"test\")) {\n            return serverRequest.bodyToMono(Player.class)\n             .doOnNext(loggerService :: logAndDoSomethingElse)\n             .then(handlerFunction.handle(serverRequest);\n        }\n        return handlerFunction.handle(serverRequest);\n    }\n}\n</code></pre>\n\n<p>I tried <code>serverRequest.bodyToMono(Player.class).cache()</code> too, but did not work. </p>\n\n<p>Update: Adding handler and router functions</p>\n\n<p><strong>Handler Function</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class PlayerHandler {\n\n    @Autowired\n    private final playerRepository;\n\n    public PlayerHandler(PlayerRepository palyerRepository) {\n\n       this.palyerRepository = playerRepository;\n    }\n\n    public Mono&lt;ServerResponse&gt; savePlayer(ServerRequest request) {\n\n        Mono&lt;String&gt; id = request.bodyToMono(Player.class)\n        .map(playerRepository::save)\n        .map(Player::getId);\n\n        return ok().body(id, String.class);\n    }\n}\n</code></pre>\n\n<p><strong>Router function</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n@Bean\npublic RouterFunction&lt;ServerResponse&gt; route(PlayerHandler playerHandler) {\n    return RouterFunctions\n      .route(POST(\"/players/\"), playerHandler::save)\n      .filter(new ExampleHandlerFilterFunction());\n}\n</code></pre>\n\n<p><strong>Logger service</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\npublic Mono&lt;Void&gt; T logAndDoSomethingElse(T t){\n    ---- auditing business logic----\n    return loggerRepository.save(asJsonb);\n}\n\n</code></pre>\n\n<p>Can someone help me? Thanks</p>\n"},{"tags":["java","spring-boot","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1659984943,"post_id":73279186,"comment_id":129420895,"body_markdown":"If you are using mybatis-spring-boot, you should let it auto-scan Java mappers. See the [doc](https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/). Note that XML file should be in the same path as the corresponding Java mapper i.e. `src/main/resources/io/springcloud/mapper/FooMapper.xml`. Off-topic: you should not use `io.springcloud` package for your own project.","body":"If you are using mybatis-spring-boot, you should let it auto-scan Java mappers. See the <a href=\"https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/\" rel=\"nofollow noreferrer\">doc</a>. Note that XML file should be in the same path as the corresponding Java mapper i.e. <code>src&#47;main&#47;resources&#47;io&#47;springcloud&#47;mapper&#47;FooMapper.xml</code>. Off-topic: you should not use <code>io.springcloud</code> package for your own project."}],"answers":[{"tags":[],"owner":{"account_id":8540526,"reputation":1,"user_id":6400828,"display_name":"byron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660295201,"creation_date":1660008763,"answer_id":73285639,"question_id":73279186,"body_markdown":"Pls check whether the namespace of foo-mapper.xml is the value of FooMapper package name. See below screeshot:\r\n\r\nfoo-mapper.xml\r\n\r\n![1]\r\n\r\nFooMapper.java\r\n\r\n![2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yj51S.png\r\n  [2]: https://i.stack.imgur.com/Twl9O.png","title":"How to configure Spring-Boot MyBatis to look for XML mappers in class folder/directory?","body":"<p>Pls check whether the namespace of foo-mapper.xml is the value of FooMapper package name. See below screeshot:</p>\n<p>foo-mapper.xml</p>\n<p><img src=\"https://i.stack.imgur.com/Yj51S.png\" alt=\"1\" /></p>\n<p>FooMapper.java</p>\n<p><img src=\"https://i.stack.imgur.com/Twl9O.png\" alt=\"2\" /></p>\n"}],"owner":{"account_id":3489043,"reputation":601,"user_id":2919170,"accept_rate":0,"display_name":"RayCh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660295201,"creation_date":1659967528,"question_id":73279186,"body_markdown":"I have a large Spring + MyBatis app that I&#39;m trying to convert to a Spring-Boot + MyBatis AWS Lambda (+ layers) function. I&#39;m trying to do this in small steps based on https://www.springcloud.io/post/2022-03/springboot-mybatis-mysql/#gsc.tab=0.\r\n\r\nEssentially, I want to move the XML mappers to wherever the corresponding java mapper resides (same as in my original app, which, for whatever reason, works fine):\r\n\r\n[![Move XML mapper to where Java mapper resides][1]][1]\r\n\r\nHowever, I just can&#39;t seem to configure MyBatis to work when I move the XML mapper. I tried the following settings in the application.yml file but to no avail:\r\n\r\n    server:\r\n      port: 9090\r\n      \r\n    ...\r\n    \r\n    mybatis:\r\n      mapper-locations: classpath:mapper/**/*-mapper.xml                    # OK with mapper under .../resources/mapper\r\n    #  mapper-locations: classpath:**/*-mapper.xml                          # OK with mapper under .../resources/mapper\r\n    #  mapper-locations: classpath:**/*-mapper.xml                          # NOT OK with mapper under io/springcloud/.../mapper\r\n    #  mapper-locations: classpath:io/springcloud/mybatis/**/*-mapper.xml   # NOT OK with mapper under io/springcloud/.../mapper\r\n\r\nIf I move the XML mapper, it typically fails like this when I run mvn install:\r\n\r\n    ...\r\n    2022-08-08 14:57:30.673  INFO 13716 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@52f27fbd testClass = ApplicationTest, testInstance = io.springcloud.test.ApplicationTest@6f204a1a, testMethod = test@ApplicationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4c163e3 testClass = ApplicationTest, locations = &#39;{}&#39;, classes = &#39;{class io.springcloud.mybatis.Application}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b19b79, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@75f32542, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@27ae2fd0, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@15b204a1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@419c5f1a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4d49af10], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false, &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]; transaction manager [org.springframework.jdbc.support.JdbcTransactionManager@3d24420b]; rollback [false]\r\n    2022-08-08 14:57:31.742  INFO 13716 --- [           main] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@52f27fbd testClass = ApplicationTest, testInstance = io.springcloud.test.ApplicationTest@6f204a1a, testMethod = test@ApplicationTest, testException = org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): io.springcloud.mybatis.mapper.FooMapper.now, mergedContextConfiguration = [WebMergedContextConfiguration@4c163e3 testClass = ApplicationTest, locations = &#39;{}&#39;, classes = &#39;{class io.springcloud.mybatis.Application}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b19b79, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@75f32542, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@27ae2fd0, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@15b204a1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@419c5f1a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4d49af10], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false, &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]\r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 9.632 s &lt;&lt;&lt; FAILURE! - in io.springcloud.test.ApplicationTest\r\n    [ERROR] test  Time elapsed: 1.701 s  &lt;&lt;&lt; ERROR!\r\n    org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): io.springcloud.mybatis.mapper.FooMapper.now\r\n\t    at io.springcloud.test.ApplicationTest.test(ApplicationTest.java:35)\r\n    \r\n    2022-08-08 14:57:31.856  INFO 13716 --- [ionShutdownHook] io.undertow                              : stopping server: Undertow - 2.2.16.Final\r\n    2022-08-08 14:57:31.885  INFO 13716 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2022-08-08 14:57:31.922  INFO 13716 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [ERROR] Errors: \r\n    [ERROR]   ApplicationTest.test:35 &#187; Binding Invalid bound statement (not found): io.spri...\r\n    [INFO] \r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n    [INFO] \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    ...\r\n\r\n\r\nHelp would be much appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/1Rq3s.png","title":"How to configure Spring-Boot MyBatis to look for XML mappers in class folder/directory?","body":"<p>I have a large Spring + MyBatis app that I'm trying to convert to a Spring-Boot + MyBatis AWS Lambda (+ layers) function. I'm trying to do this in small steps based on <a href=\"https://www.springcloud.io/post/2022-03/springboot-mybatis-mysql/#gsc.tab=0\" rel=\"nofollow noreferrer\">https://www.springcloud.io/post/2022-03/springboot-mybatis-mysql/#gsc.tab=0</a>.</p>\n<p>Essentially, I want to move the XML mappers to wherever the corresponding java mapper resides (same as in my original app, which, for whatever reason, works fine):</p>\n<p><a href=\"https://i.stack.imgur.com/1Rq3s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Rq3s.png\" alt=\"Move XML mapper to where Java mapper resides\" /></a></p>\n<p>However, I just can't seem to configure MyBatis to work when I move the XML mapper. I tried the following settings in the application.yml file but to no avail:</p>\n<pre><code>server:\n  port: 9090\n  \n...\n\nmybatis:\n  mapper-locations: classpath:mapper/**/*-mapper.xml                    # OK with mapper under .../resources/mapper\n#  mapper-locations: classpath:**/*-mapper.xml                          # OK with mapper under .../resources/mapper\n#  mapper-locations: classpath:**/*-mapper.xml                          # NOT OK with mapper under io/springcloud/.../mapper\n#  mapper-locations: classpath:io/springcloud/mybatis/**/*-mapper.xml   # NOT OK with mapper under io/springcloud/.../mapper\n</code></pre>\n<p>If I move the XML mapper, it typically fails like this when I run mvn install:</p>\n<pre><code>...\n2022-08-08 14:57:30.673  INFO 13716 --- [           main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@52f27fbd testClass = ApplicationTest, testInstance = io.springcloud.test.ApplicationTest@6f204a1a, testMethod = test@ApplicationTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4c163e3 testClass = ApplicationTest, locations = '{}', classes = '{class io.springcloud.mybatis.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b19b79, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@75f32542, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@27ae2fd0, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@15b204a1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@419c5f1a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4d49af10], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]; transaction manager [org.springframework.jdbc.support.JdbcTransactionManager@3d24420b]; rollback [false]\n2022-08-08 14:57:31.742  INFO 13716 --- [           main] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@52f27fbd testClass = ApplicationTest, testInstance = io.springcloud.test.ApplicationTest@6f204a1a, testMethod = test@ApplicationTest, testException = org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): io.springcloud.mybatis.mapper.FooMapper.now, mergedContextConfiguration = [WebMergedContextConfiguration@4c163e3 testClass = ApplicationTest, locations = '{}', classes = '{class io.springcloud.mybatis.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6b19b79, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@75f32542, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@27ae2fd0, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@15b204a1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@419c5f1a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4d49af10], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 9.632 s &lt;&lt;&lt; FAILURE! - in io.springcloud.test.ApplicationTest\n[ERROR] test  Time elapsed: 1.701 s  &lt;&lt;&lt; ERROR!\norg.apache.ibatis.binding.BindingException: Invalid bound statement (not found): io.springcloud.mybatis.mapper.FooMapper.now\n    at io.springcloud.test.ApplicationTest.test(ApplicationTest.java:35)\n\n2022-08-08 14:57:31.856  INFO 13716 --- [ionShutdownHook] io.undertow                              : stopping server: Undertow - 2.2.16.Final\n2022-08-08 14:57:31.885  INFO 13716 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-08-08 14:57:31.922  INFO 13716 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   ApplicationTest.test:35 » Binding Invalid bound statement (not found): io.spri...\n[INFO] \n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n...\n</code></pre>\n<p>Help would be much appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1660294697,"post_id":73331591,"comment_id":129503767,"body_markdown":"it&#39;s not a child-class, just a called class. yes, and no. the way you are doing it right now, no. But, you can pass an instance of the calling class as parameter to the getClass1Attributes, and just call it as: new TestClass2().getClass1Attributes(this);","body":"it&#39;s not a child-class, just a called class. yes, and no. the way you are doing it right now, no. But, you can pass an instance of the calling class as parameter to the getClass1Attributes, and just call it as: new TestClass2().getClass1Attributes(this);"},{"owner":{"account_id":26044974,"reputation":1,"user_id":19749119,"display_name":"Jorge"},"score":0,"creation_date":1660296783,"post_id":73331591,"comment_id":129504440,"body_markdown":"Hello @Stultuske thanks for you reply. So if I understood correctly means that without pass the caller as a parameter wont be possible to access caller class data, correct ?","body":"Hello @Stultuske thanks for you reply. So if I understood correctly means that without pass the caller as a parameter wont be possible to access caller class data, correct ?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660297189,"post_id":73331591,"comment_id":129504577,"body_markdown":"you can only use data which exists in the scope you are in. so unless you have access to that specific instance of that class, you can&#39;t reach it&#39;s fields","body":"you can only use data which exists in the scope you are in. so unless you have access to that specific instance of that class, you can&#39;t reach it&#39;s fields"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1660297508,"post_id":73331591,"comment_id":129504691,"body_markdown":"Do you mind to mention about youe objectives? Do you want to create a hierarchical class with inheritance? What&#39;s purpose?","body":"Do you mind to mention about youe objectives? Do you want to create a hierarchical class with inheritance? What&#39;s purpose?"}],"owner":{"account_id":26044974,"reputation":1,"user_id":19749119,"display_name":"Jorge"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660294481,"creation_date":1660294301,"question_id":73331591,"body_markdown":"I would like to know if it is possible from a child class to get caller attributes. Follow a sample.\r\n\r\nTestClass1.class\r\n```\r\npackage test;\r\n\r\npublic class TestClass1 {\r\n\t\r\n\tprivate String myTestClass1Var = &quot;xxxxx&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew TestClass1().class2();\r\n\t}\r\n\t\r\n\tprivate void class2() {\r\n\t\tnew TestClass2().getClass1Attributes();\r\n\t}\r\n}\r\n````\r\n\r\nTestClass2.class\r\n```\r\npackage test;\r\n\r\npublic class TestClass2 {\r\n\r\n\tpublic void getClass1Attributes() {\r\n        //is something like this possible? \r\n\t\tgetCaller().myTestClass1Var\r\n\t}\r\n}\r\n```\r\nThanks","title":"Accessing caller class attribute","body":"<p>I would like to know if it is possible from a child class to get caller attributes. Follow a sample.</p>\n<p>TestClass1.class</p>\n<pre><code>package test;\n\npublic class TestClass1 {\n    \n    private String myTestClass1Var = &quot;xxxxx&quot;;\n\n    public static void main(String[] args) {\n        new TestClass1().class2();\n    }\n    \n    private void class2() {\n        new TestClass2().getClass1Attributes();\n    }\n}\n</code></pre>\n<p>TestClass2.class</p>\n<pre><code>package test;\n\npublic class TestClass2 {\n\n    public void getClass1Attributes() {\n        //is something like this possible? \n        getCaller().myTestClass1Var\n    }\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","postgresql","token","keycloak"],"comments":[{"owner":{"account_id":12058536,"reputation":474,"user_id":8818406,"display_name":"csbrogi"},"score":0,"creation_date":1659444691,"post_id":73206536,"comment_id":129292208,"body_markdown":"I had to restart keycloak to see the attribute inserted","body":"I had to restart keycloak to see the attribute inserted"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659453018,"post_id":73206536,"comment_id":129295839,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":7637322,"reputation":4139,"user_id":5790498,"display_name":"Abhijeet"},"score":0,"creation_date":1659538807,"post_id":73206536,"comment_id":129319283,"body_markdown":"which keycloak version are you using?","body":"which keycloak version are you using?"},{"owner":{"account_id":16970875,"reputation":1,"user_id":18089259,"display_name":"Eugene Ramazanov"},"score":0,"creation_date":1659554722,"post_id":73206536,"comment_id":129324664,"body_markdown":"I&#39;m using keycloak version 3.4.0 and have access to the keycloak Admin Console","body":"I&#39;m using keycloak version 3.4.0 and have access to the keycloak Admin Console"}],"owner":{"account_id":16970875,"reputation":1,"user_id":18089259,"display_name":"Eugene Ramazanov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660294469,"creation_date":1659438526,"question_id":73206536,"body_markdown":"Keycloak is associated with PostgreSQL. The keycloak.user_attribute table stores Keycloak user attributes. When adding an attribute to a specific user in the keycloak.user_attribute table in PosgreSQL, it does not appear in Keycloak. Tell me how to fix it. I&#39;m user Keycloak 3.4.0\r\n\r\n[Add attribute][1]\r\n\r\n[Does not appear in Keycloak][2]\r\n\r\n  [1]: https://i.stack.imgur.com/FpeZi.jpg\r\n  [2]: https://i.stack.imgur.com/rRNaa.jpg","title":"How to add user attributes to Keycloak token","body":"<p>Keycloak is associated with PostgreSQL. The keycloak.user_attribute table stores Keycloak user attributes. When adding an attribute to a specific user in the keycloak.user_attribute table in PosgreSQL, it does not appear in Keycloak. Tell me how to fix it. I'm user Keycloak 3.4.0</p>\n<p><a href=\"https://i.stack.imgur.com/FpeZi.jpg\" rel=\"nofollow noreferrer\">Add attribute</a></p>\n<p><a href=\"https://i.stack.imgur.com/rRNaa.jpg\" rel=\"nofollow noreferrer\">Does not appear in Keycloak</a></p>\n"},{"tags":["java","c","coredump"],"comments":[{"owner":{"account_id":13782912,"reputation":13,"user_id":9947621,"display_name":"kesy"},"score":0,"creation_date":1601817187,"post_id":64134676,"comment_id":113517308,"body_markdown":"Sorry, it should be &quot;can not get the exe file&quot; instead of &quot;can get the exe file&quot;.","body":"Sorry, it should be &quot;can not get the exe file&quot; instead of &quot;can get the exe file&quot;."}],"answers":[{"tags":[],"owner":{"account_id":172495,"reputation":1311,"user_id":400571,"accept_rate":67,"display_name":"Michal Drozd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601461357,"creation_date":1601460852,"answer_id":64135406,"question_id":64134676,"body_markdown":"Supposing you are in Windows then you can easily debug dumps with WinDbg. You can try WinDbg Preview - I am using this to debug Java core dumps.\r\nYou can download it here https://learn.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools\r\n\r\nThen just run `!analyze -v` as your first command and you get lot of useful information. I had 40G dumps so 5G should be fine.\r\nOf course you have to choose right thread, e.g. here is stack from my thread `java.exe!main`:\r\n\r\n\r\n[![Java core dump stack][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jn2ha.png","title":"Core dump happens in Java native method","body":"<p>Supposing you are in Windows then you can easily debug dumps with WinDbg. You can try WinDbg Preview - I am using this to debug Java core dumps.\nYou can download it here <a href=\"https://learn.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools</a></p>\n<p>Then just run <code>!analyze -v</code> as your first command and you get lot of useful information. I had 40G dumps so 5G should be fine.\nOf course you have to choose right thread, e.g. here is stack from my thread <code>java.exe!main</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/jn2ha.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jn2ha.png\" alt=\"Java core dump stack\" /></a></p>\n"}],"owner":{"account_id":13782912,"reputation":13,"user_id":9947621,"display_name":"kesy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660294056,"creation_date":1601458198,"question_id":64134676,"body_markdown":"My project is a spring boot project and run in K8s pod. An error encountered and this is header of the log file:\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f116f6b1be1, pid=516, tid=0x00007f10795ef700\r\n#\r\n# JRE version: OpenJDK Runtime Environment (8.0_121-b13) (build 1.8.0_121-8u121-b13-0ubuntu1.16.04.2-b13)\r\n# Java VM: OpenJDK 64-Bit Server VM \r\n# Problematic frame:\r\n# C  [libc.so.6+0x95bd3]  strchrnul+0x23\r\n#\r\n# Core dump written. Default location: /projects/core.dump\r\n```\r\nThen I try to get the file core.dump, its size is **5G**. And my project invoke the C native method through .so file, which doesn&#39;t include method `main` , so I cann&#39;t compile to get the `.exe` or `.out`. I don&#39;t know how to analyze the dump file after trying these method：\r\n```\r\ngdb [exe file] [core file](can get the exe file)\r\ngdb java core.dump\r\njmap -dump:format=b,file=./2842.hprof $JAVA_HOME/bin/java core.dump\r\n```\r\nHow can I analyze the core.dump the locate the problem?","title":"Core dump happens in Java native method","body":"<p>My project is a spring boot project and run in K8s pod. An error encountered and this is header of the log file:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f116f6b1be1, pid=516, tid=0x00007f10795ef700\n#\n# JRE version: OpenJDK Runtime Environment (8.0_121-b13) (build 1.8.0_121-8u121-b13-0ubuntu1.16.04.2-b13)\n# Java VM: OpenJDK 64-Bit Server VM \n# Problematic frame:\n# C  [libc.so.6+0x95bd3]  strchrnul+0x23\n#\n# Core dump written. Default location: /projects/core.dump\n</code></pre>\n<p>Then I try to get the file core.dump, its size is <strong>5G</strong>. And my project invoke the C native method through .so file, which doesn't include method <code>main</code> , so I cann't compile to get the <code>.exe</code> or <code>.out</code>. I don't know how to analyze the dump file after trying these method：</p>\n<pre><code>gdb [exe file] [core file](can get the exe file)\ngdb java core.dump\njmap -dump:format=b,file=./2842.hprof $JAVA_HOME/bin/java core.dump\n</code></pre>\n<p>How can I analyze the core.dump the locate the problem?</p>\n"},{"tags":["java","swing","joptionpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1660243656,"post_id":73324781,"comment_id":129493096,"body_markdown":"**Don&#39;t override paint().**. Painting methods are for custom painting only. You are NOT doing custom painting. This can cause multiple components to be created and added to the panel every time Swing decides the components needs to be repainted. Your components should be created and added to the panel in the constructor of your class and a `GridLayout` should be used to position the components in a grid","body":"<b>Don&#39;t override paint().</b>. Painting methods are for custom painting only. You are NOT doing custom painting. This can cause multiple components to be created and added to the panel every time Swing decides the components needs to be repainted. Your components should be created and added to the panel in the constructor of your class and a <code>GridLayout</code> should be used to position the components in a grid"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1660243813,"post_id":73324781,"comment_id":129493149,"body_markdown":"There is no need for a KeyListener. You can configure the `JFormattedTextField` to use a `MaskFormatter` to only accept numeric digits and you can then use the `setValidCharacters(...)` method to limit the digits from 1-0.","body":"There is no need for a KeyListener. You can configure the <code>JFormattedTextField</code> to use a <code>MaskFormatter</code> to only accept numeric digits and you can then use the <code>setValidCharacters(...)</code> method to limit the digits from 1-0."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660293245,"creation_date":1660293245,"answer_id":73331387,"question_id":73324781,"body_markdown":"**TL;DR**  \r\nYour problem is that you are adding another `KeyListener` to each `JFormattedTextField` every time method `paint` is called and each listener is executed. So if...\r\n&gt; the JOptionPane pops up three times\r\n\r\nthen it means that method `paint` was called three times which caused three listeners to be added to each `JFormattedTextField`.\r\n\r\n--------------------------------------------\r\nOther general notes regarding your code:\r\n\r\nClass `SudokuWindow`:  \r\n1. *Swing* application classes, such as your `SudokuWindow`, don&#39;t need to extend `JFrame`. In any case you create a new `JFrame` in method `createSudokoWindow()` (of class `SudokuWindow`) so really no need for class `SudokuWindow` to extend `JFrame`.\r\n2. `mainPanel.add(sB,BorderLayout.WEST);` Because you explicitly set the [layout](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) of `mainPanel` to `FlowLayout`, the `BorderLayout` constraints are ignored. If you want to use `BorderLayout` constraints then you need to set the layout manager for `mainPanel` to `BorderLayout`.\r\n3. `frame.setPreferredSize(` Better you should not use `mainPanel` at all and instead use the content pane of the [JFrame](https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html) &amp;ndash; whose default layout manager is `BorderLayout` &amp;ndash; and set the preferred size of the `SudokuBoard` and add it to `BorderLayout.CENTER`.\r\n\r\nClass `SudokuBoard`:  \r\n1. Set its layout manager to `GridLayout` and set its preferred size. Then you don&#39;t have to worry about explicitly setting sizes for each `JFormattedTextField`.\r\n2. If you are going to override a painting method, then it almost always should be [paintComponent](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) and not `paint`. However you don&#39;t need to override any painting method since you should create the `JFormattedTextField`s in the constructor and set the background colors also in the constructor rather than in method `paint`.\r\n3. As mentioned by @camickr in his [comment](https://stackoverflow.com/questions/73324781/joptionpane-behaving-weird-with-keylistener#comment129493149_73324781), you don&#39;t need a [KeyListener](https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html) if you are using [JFormattedTextField](https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html).\r\n\r\nConsider the following (which is my alternative solution):  \r\n(Notes and explanations after the code.)\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Font;\r\nimport java.awt.GridLayout;\r\nimport java.text.ParseException;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.Box;\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFormattedTextField;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.LookAndFeel;\r\nimport javax.swing.UIDefaults;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.text.MaskFormatter;\r\n\r\npublic class SudokuPuzzle {\r\n    private static final int  COLS = 9;\r\n    private static final int  ROWS = 9;\r\n    private static final Color[][]  BACKGROUNDS;\r\n\r\n    static {\r\n        LookAndFeel laf = UIManager.getLookAndFeel();\r\n        UIDefaults dflts = laf.getDefaults();\r\n        Color dflt = (Color) dflts.get(&quot;TextField.background&quot;);\r\n        Color mgnt = Color.magenta;\r\n        BACKGROUNDS = new Color[][] {{mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\r\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\r\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\r\n                                     {dflt, dflt, dflt, mgnt, mgnt, mgnt, dflt, dflt, dflt},\r\n                                     {dflt, dflt, dflt, mgnt, mgnt, mgnt, dflt, dflt, dflt},\r\n                                     {dflt, dflt, dflt, mgnt, mgnt, mgnt, dflt, dflt, dflt},\r\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\r\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\r\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt}};\r\n    }\r\n\r\n    private void buildAndDisplayGui() throws ParseException {\r\n        JFrame frame = new JFrame(&quot;Sudoku!&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createBoard(), BorderLayout.CENTER);\r\n        frame.add(createButtonsPanel(), BorderLayout.LINE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createBoard() throws ParseException {\r\n        JPanel board = new JPanel(new GridLayout(0, 9));\r\n        board.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n        for (int row = 0; row &lt; ROWS; row++) {\r\n            for (int col = 0; col &lt; COLS; col++) {\r\n                board.add(createSquare(row, col));\r\n            }\r\n        }\r\n        return board;\r\n    }\r\n\r\n    private JPanel createButtonsPanel() {\r\n        JPanel buttonsPanel = new JPanel();\r\n        buttonsPanel.setBorder(BorderFactory.createEmptyBorder(0, 0, 0, 20));\r\n        BoxLayout layout = new BoxLayout(buttonsPanel, BoxLayout.PAGE_AXIS);\r\n        buttonsPanel.setLayout(layout);\r\n        buttonsPanel.add(Box.createVerticalGlue());\r\n        JButton button1 = new JButton(&quot;Import solvable setup&quot;);\r\n        buttonsPanel.add(button1);\r\n        buttonsPanel.add(Box.createRigidArea(new Dimension(0, 5)));\r\n        JButton button2 = new JButton(&quot;Find solution&quot;);\r\n        button2.setMaximumSize(button1.getMaximumSize());\r\n        buttonsPanel.add(button2);\r\n        buttonsPanel.add(Box.createRigidArea(new Dimension(0, 5)));\r\n        JTextField t1 = new JTextField(&quot;0&quot;);\r\n        t1.setMaximumSize(button1.getMaximumSize());\r\n        buttonsPanel.add(t1);\r\n        buttonsPanel.add(Box.createVerticalGlue());\r\n        return buttonsPanel;\r\n    }\r\n\r\n    private JFormattedTextField createSquare(int row, int col) throws ParseException {\r\n        MaskFormatter formatter = new MaskFormatter(&quot;#&quot;);\r\n        formatter.setValidCharacters(&quot;123456789&quot;);\r\n        JFormattedTextField ftf = new JFormattedTextField(formatter);\r\n        ftf.setColumns(2);\r\n        ftf.setHorizontalAlignment(JTextField.CENTER);\r\n        ftf.setFont(new Font(&quot;TimesRoman&quot;,Font.PLAIN,26));\r\n        ftf.setBackground(BACKGROUNDS[row][col]);\r\n        return ftf;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SudokuPuzzle puzzle = new SudokuPuzzle();\r\n        EventQueue.invokeLater(() -&gt; {\r\n            try {\r\n                puzzle.buildAndDisplayGui();\r\n            }\r\n            catch (ParseException xParse) {\r\n                xParse.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n1. I don&#39;t see a need for a `SudokuBoard` class that extends `JPanel` since there is no need to override any of `JPanel` class methods.\r\n2. Since the valid characters are 1 - 9, I can&#39;t set the text of each `JFormattedTextField` to 0 (zero), hence the `JFormattedTextField`s are initially all empty.\r\n3. Default behavior of `JFormatedTextField`, when entering an invalid value, is to beep. If you want to display a `JOptionPane` instead then I think you will need to write your own formatter and use that instead of `MaskFormatter`. I felt it was too much work for me so I just left the default behavior.\r\n\r\nHere is how it looks:\r\n\r\n[![screen capture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hVQch.png","title":"JOptionPane behaving weird with KeyListener","body":"<p><strong>TL;DR</strong><br />\nYour problem is that you are adding another <code>KeyListener</code> to each <code>JFormattedTextField</code> every time method <code>paint</code> is called and each listener is executed. So if...</p>\n<blockquote>\n<p>the JOptionPane pops up three times</p>\n</blockquote>\n<p>then it means that method <code>paint</code> was called three times which caused three listeners to be added to each <code>JFormattedTextField</code>.</p>\n<hr />\n<p>Other general notes regarding your code:</p>\n<p>Class <code>SudokuWindow</code>:</p>\n<ol>\n<li><em>Swing</em> application classes, such as your <code>SudokuWindow</code>, don't need to extend <code>JFrame</code>. In any case you create a new <code>JFrame</code> in method <code>createSudokoWindow()</code> (of class <code>SudokuWindow</code>) so really no need for class <code>SudokuWindow</code> to extend <code>JFrame</code>.</li>\n<li><code>mainPanel.add(sB,BorderLayout.WEST);</code> Because you explicitly set the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout</a> of <code>mainPanel</code> to <code>FlowLayout</code>, the <code>BorderLayout</code> constraints are ignored. If you want to use <code>BorderLayout</code> constraints then you need to set the layout manager for <code>mainPanel</code> to <code>BorderLayout</code>.</li>\n<li><code>frame.setPreferredSize(</code> Better you should not use <code>mainPanel</code> at all and instead use the content pane of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">JFrame</a> – whose default layout manager is <code>BorderLayout</code> – and set the preferred size of the <code>SudokuBoard</code> and add it to <code>BorderLayout.CENTER</code>.</li>\n</ol>\n<p>Class <code>SudokuBoard</code>:</p>\n<ol>\n<li>Set its layout manager to <code>GridLayout</code> and set its preferred size. Then you don't have to worry about explicitly setting sizes for each <code>JFormattedTextField</code>.</li>\n<li>If you are going to override a painting method, then it almost always should be <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">paintComponent</a> and not <code>paint</code>. However you don't need to override any painting method since you should create the <code>JFormattedTextField</code>s in the constructor and set the background colors also in the constructor rather than in method <code>paint</code>.</li>\n<li>As mentioned by @camickr in his <a href=\"https://stackoverflow.com/questions/73324781/joptionpane-behaving-weird-with-keylistener#comment129493149_73324781\">comment</a>, you don't need a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html\" rel=\"nofollow noreferrer\">KeyListener</a> if you are using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\">JFormattedTextField</a>.</li>\n</ol>\n<p>Consider the following (which is my alternative solution):<br />\n(Notes and explanations after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport java.text.ParseException;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.Box;\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.LookAndFeel;\nimport javax.swing.UIDefaults;\nimport javax.swing.UIManager;\nimport javax.swing.text.MaskFormatter;\n\npublic class SudokuPuzzle {\n    private static final int  COLS = 9;\n    private static final int  ROWS = 9;\n    private static final Color[][]  BACKGROUNDS;\n\n    static {\n        LookAndFeel laf = UIManager.getLookAndFeel();\n        UIDefaults dflts = laf.getDefaults();\n        Color dflt = (Color) dflts.get(&quot;TextField.background&quot;);\n        Color mgnt = Color.magenta;\n        BACKGROUNDS = new Color[][] {{mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\n                                     {dflt, dflt, dflt, mgnt, mgnt, mgnt, dflt, dflt, dflt},\n                                     {dflt, dflt, dflt, mgnt, mgnt, mgnt, dflt, dflt, dflt},\n                                     {dflt, dflt, dflt, mgnt, mgnt, mgnt, dflt, dflt, dflt},\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt},\n                                     {mgnt, mgnt, mgnt, dflt, dflt, dflt, mgnt, mgnt, mgnt}};\n    }\n\n    private void buildAndDisplayGui() throws ParseException {\n        JFrame frame = new JFrame(&quot;Sudoku!&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createBoard(), BorderLayout.CENTER);\n        frame.add(createButtonsPanel(), BorderLayout.LINE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createBoard() throws ParseException {\n        JPanel board = new JPanel(new GridLayout(0, 9));\n        board.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n        for (int row = 0; row &lt; ROWS; row++) {\n            for (int col = 0; col &lt; COLS; col++) {\n                board.add(createSquare(row, col));\n            }\n        }\n        return board;\n    }\n\n    private JPanel createButtonsPanel() {\n        JPanel buttonsPanel = new JPanel();\n        buttonsPanel.setBorder(BorderFactory.createEmptyBorder(0, 0, 0, 20));\n        BoxLayout layout = new BoxLayout(buttonsPanel, BoxLayout.PAGE_AXIS);\n        buttonsPanel.setLayout(layout);\n        buttonsPanel.add(Box.createVerticalGlue());\n        JButton button1 = new JButton(&quot;Import solvable setup&quot;);\n        buttonsPanel.add(button1);\n        buttonsPanel.add(Box.createRigidArea(new Dimension(0, 5)));\n        JButton button2 = new JButton(&quot;Find solution&quot;);\n        button2.setMaximumSize(button1.getMaximumSize());\n        buttonsPanel.add(button2);\n        buttonsPanel.add(Box.createRigidArea(new Dimension(0, 5)));\n        JTextField t1 = new JTextField(&quot;0&quot;);\n        t1.setMaximumSize(button1.getMaximumSize());\n        buttonsPanel.add(t1);\n        buttonsPanel.add(Box.createVerticalGlue());\n        return buttonsPanel;\n    }\n\n    private JFormattedTextField createSquare(int row, int col) throws ParseException {\n        MaskFormatter formatter = new MaskFormatter(&quot;#&quot;);\n        formatter.setValidCharacters(&quot;123456789&quot;);\n        JFormattedTextField ftf = new JFormattedTextField(formatter);\n        ftf.setColumns(2);\n        ftf.setHorizontalAlignment(JTextField.CENTER);\n        ftf.setFont(new Font(&quot;TimesRoman&quot;,Font.PLAIN,26));\n        ftf.setBackground(BACKGROUNDS[row][col]);\n        return ftf;\n    }\n\n    public static void main(String[] args) {\n        SudokuPuzzle puzzle = new SudokuPuzzle();\n        EventQueue.invokeLater(() -&gt; {\n            try {\n                puzzle.buildAndDisplayGui();\n            }\n            catch (ParseException xParse) {\n                xParse.printStackTrace();\n            }\n        });\n    }\n}\n</code></pre>\n<ol>\n<li>I don't see a need for a <code>SudokuBoard</code> class that extends <code>JPanel</code> since there is no need to override any of <code>JPanel</code> class methods.</li>\n<li>Since the valid characters are 1 - 9, I can't set the text of each <code>JFormattedTextField</code> to 0 (zero), hence the <code>JFormattedTextField</code>s are initially all empty.</li>\n<li>Default behavior of <code>JFormatedTextField</code>, when entering an invalid value, is to beep. If you want to display a <code>JOptionPane</code> instead then I think you will need to write your own formatter and use that instead of <code>MaskFormatter</code>. I felt it was too much work for me so I just left the default behavior.</li>\n</ol>\n<p>Here is how it looks:</p>\n<p><a href=\"https://i.stack.imgur.com/hVQch.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVQch.png\" alt=\"screen capture\" /></a></p>\n"}],"owner":{"account_id":19203093,"reputation":17,"user_id":14030610,"display_name":"Aedrha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73331387,"answer_count":1,"score":0,"last_activity_date":1660293245,"creation_date":1660239195,"question_id":73324781,"body_markdown":"I am currently working on a Sudoku solver with a GUI. Neither is finished, but the GUI is partly operational.\r\nHowever I have encountered something weird. The code follows below:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class SudokuWindow extends JFrame {\r\n\tpublic SudokuWindow() {\r\n\t\tSwingUtilities.invokeLater(()-&gt;createSudokoWindow());\r\n\t}\r\n\t\r\n\tprivate void createSudokoWindow() {\r\n\t\tJFrame frame = new JFrame(&quot;Sudoku!&quot;);\r\n\t\tint height = 600;\r\n\t\tint width = 1000;\r\n\t\tframe.setPreferredSize(new Dimension(width,height));\r\n\t\tJPanel mainPanel = new JPanel();\r\n\t\tmainPanel.setLayout(new FlowLayout());\r\n\t\tSudokuBoard sB= new SudokuBoard(width/2,width/2,9,9);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tJButton button1 = new JButton(&quot;Import solvabel setup&quot;);\r\n\t\tJButton button2 = new JButton(&quot;Find solution&quot;);\r\n\t\tJTextField t1=new JTextField(&quot;0&quot;);  \r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\r\n\t\tpanel.add(button1);\r\n\t\tpanel.add(button2);\r\n\t\tpanel.add(t1);\r\n\t\tmainPanel.add(sB,BorderLayout.WEST);\r\n\t\tmainPanel.add(panel, BorderLayout.EAST);\r\n\t\tframe.add(mainPanel);\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tnew SudokuWindow();\r\n\t}\r\n}\r\n\r\n```\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Insets;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport javax.swing.JFormattedTextField;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\n\r\npublic class SudokuBoard extends JPanel {\r\n\t  int width, height, rows, cols;\r\n\t  JFormattedTextField[][] txtM = new JFormattedTextField[9][9];\r\n\t  \r\n\t  SudokuBoard(int w, int h, int r, int c) {\r\n\t\t    setSize(width = w, height = h);\r\n\t\t    this.setPreferredSize(new Dimension(w,h));\r\n\t\t    for(int i = 0; i &lt; r; i++) {\r\n\t\t    \tfor(int j = 0; j &lt; c; j++) {\r\n\t\t    \t\ttxtM[i][j] = new JFormattedTextField();\r\n\t\t    \t}\r\n\t\t    }\r\n\t\t    rows = r;\r\n\t\t    cols = c;\r\n\t  }\r\n\t  \r\n\t  public void paint(Graphics g) {\r\n\t\t    width = getSize().width;\r\n\t\t    height = getSize().height;\r\n\t\t    \r\n\t\t    int rowHt = height / rows;\r\n\t\t    int colWt = width / cols;\r\n\t\t    JFormattedTextField t;\r\n\t\t    \r\n\t\t    for (int i = 0; i &lt; rows; i++) {\r\n\t\t    \tfor(int j = 0; j &lt; cols; j++) {\r\n\t\t    \t\tt = txtM[i][j];\r\n\t\t    \t\tt.setText(&quot;0&quot;);\r\n\t\t    \t\tt.setSize(rowHt,colWt);\r\n\t\t    \t\tt.setMargin(new Insets(0,18,0,0));\r\n\t\t    \t\tt.setFont(new Font(&quot;TimesRoman&quot;,Font.PLAIN,26));\r\n\t\t    \t\tt.setLocation(i*colWt, j*rowHt);\r\n\t\t    \t\tt.addKeyListener(keyListener);\r\n\t\t\t    \tif((((j+1) % 9 == 1 || (j+1) % 9 == 2 || (j+1) % 9 == 3) &amp;&amp; ((i+1) % 9 == 1 || (i+1) % 9 == 2 || (i+1) % 9 == 3))){\r\n\t\t\t    \t\tt.setBackground(Color.MAGENTA);\r\n\t\t\t    \t} else if(((j+1) % 9 == 7 || (j+1) % 9 == 8 || (j+1) % 9 == 0) &amp;&amp; ((i+1) % 9 == 1 || (i+1) % 9 == 2 || (i+1) % 9 == 3)){\r\n\t\t\t    \t\tt.setBackground(Color.MAGENTA);\r\n\t\t\t    \t} else if(((j+1) % 9 == 7 || (j+1) % 9 == 8 || (j+1) % 9 == 0) &amp;&amp; ((i+1) % 9 == 7 || (i+1) % 9 == 8 || (i+1) % 9 == 0)){\r\n\t\t\t    \t\tt.setBackground(Color.MAGENTA);\r\n\t\t\t    \t} else if(((j+1) % 9 == 1 || (j+1) % 9 == 2 || (j+1) % 9 == 3) &amp;&amp; ((i+1) % 9 == 7 || (i+1) % 9 == 8 || (i+1) % 9 == 0)){\r\n\t\t\t    \t\tt.setBackground(Color.MAGENTA);\r\n\t\t\t    \t} else if(((j+1) % 9 == 4 || (j+1) % 9 == 5 || (j+1) % 9 == 6) &amp;&amp; ((i+1) % 9 == 4 || (i+1) % 9 == 5 || (i+1) % 9 == 6)){\r\n\t\t\t    \t\tt.setBackground(Color.MAGENTA);\r\n\t\t\t    \t}\r\n\t\t\t    \tadd(t);\r\n\t\t    \t}\r\n\t\t    }\r\n\t\t}\r\n\t  \t\r\n\t\tKeyListener keyListener = new KeyListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void keyPressed(KeyEvent e) {}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\t\tif(Character.isLetter(e.getKeyChar()) || ((Character) e.getKeyChar()).equals(&#39;0&#39;)){\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Invalid input!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased(KeyEvent e) {}\r\n\t\t};\r\n}\r\n\r\n```\r\nThe code works as intended so far except for one thing. When the KeyListener finds a Letter or a 0, the JOptionPane pops up three times. This is kind of annoying, and I don&#39;t understand why it does that.\r\n\r\nAlso I am trying to reach the JFormattedTextFields so I can reset them after a Invalid input but can&#39;t reach them through the KeyListener. Is there some nice way to do this?\r\n\r\nIf anyone could help me figure this out I would greatly appreciate it!\r\n\r\nThank you!","title":"JOptionPane behaving weird with KeyListener","body":"<p>I am currently working on a Sudoku solver with a GUI. Neither is finished, but the GUI is partly operational.\nHowever I have encountered something weird. The code follows below:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class SudokuWindow extends JFrame {\n    public SudokuWindow() {\n        SwingUtilities.invokeLater(()-&gt;createSudokoWindow());\n    }\n    \n    private void createSudokoWindow() {\n        JFrame frame = new JFrame(&quot;Sudoku!&quot;);\n        int height = 600;\n        int width = 1000;\n        frame.setPreferredSize(new Dimension(width,height));\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new FlowLayout());\n        SudokuBoard sB= new SudokuBoard(width/2,width/2,9,9);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JButton button1 = new JButton(&quot;Import solvabel setup&quot;);\n        JButton button2 = new JButton(&quot;Find solution&quot;);\n        JTextField t1=new JTextField(&quot;0&quot;);  \n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\n        panel.add(button1);\n        panel.add(button2);\n        panel.add(t1);\n        mainPanel.add(sB,BorderLayout.WEST);\n        mainPanel.add(panel, BorderLayout.EAST);\n        frame.add(mainPanel);\n        frame.pack();\n        frame.setVisible(true);\n    }\n    \n    public static void main(String[] args) {\n        new SudokuWindow();\n    }\n}\n\n</code></pre>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Insets;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\n\npublic class SudokuBoard extends JPanel {\n      int width, height, rows, cols;\n      JFormattedTextField[][] txtM = new JFormattedTextField[9][9];\n      \n      SudokuBoard(int w, int h, int r, int c) {\n            setSize(width = w, height = h);\n            this.setPreferredSize(new Dimension(w,h));\n            for(int i = 0; i &lt; r; i++) {\n                for(int j = 0; j &lt; c; j++) {\n                    txtM[i][j] = new JFormattedTextField();\n                }\n            }\n            rows = r;\n            cols = c;\n      }\n      \n      public void paint(Graphics g) {\n            width = getSize().width;\n            height = getSize().height;\n            \n            int rowHt = height / rows;\n            int colWt = width / cols;\n            JFormattedTextField t;\n            \n            for (int i = 0; i &lt; rows; i++) {\n                for(int j = 0; j &lt; cols; j++) {\n                    t = txtM[i][j];\n                    t.setText(&quot;0&quot;);\n                    t.setSize(rowHt,colWt);\n                    t.setMargin(new Insets(0,18,0,0));\n                    t.setFont(new Font(&quot;TimesRoman&quot;,Font.PLAIN,26));\n                    t.setLocation(i*colWt, j*rowHt);\n                    t.addKeyListener(keyListener);\n                    if((((j+1) % 9 == 1 || (j+1) % 9 == 2 || (j+1) % 9 == 3) &amp;&amp; ((i+1) % 9 == 1 || (i+1) % 9 == 2 || (i+1) % 9 == 3))){\n                        t.setBackground(Color.MAGENTA);\n                    } else if(((j+1) % 9 == 7 || (j+1) % 9 == 8 || (j+1) % 9 == 0) &amp;&amp; ((i+1) % 9 == 1 || (i+1) % 9 == 2 || (i+1) % 9 == 3)){\n                        t.setBackground(Color.MAGENTA);\n                    } else if(((j+1) % 9 == 7 || (j+1) % 9 == 8 || (j+1) % 9 == 0) &amp;&amp; ((i+1) % 9 == 7 || (i+1) % 9 == 8 || (i+1) % 9 == 0)){\n                        t.setBackground(Color.MAGENTA);\n                    } else if(((j+1) % 9 == 1 || (j+1) % 9 == 2 || (j+1) % 9 == 3) &amp;&amp; ((i+1) % 9 == 7 || (i+1) % 9 == 8 || (i+1) % 9 == 0)){\n                        t.setBackground(Color.MAGENTA);\n                    } else if(((j+1) % 9 == 4 || (j+1) % 9 == 5 || (j+1) % 9 == 6) &amp;&amp; ((i+1) % 9 == 4 || (i+1) % 9 == 5 || (i+1) % 9 == 6)){\n                        t.setBackground(Color.MAGENTA);\n                    }\n                    add(t);\n                }\n            }\n        }\n        \n        KeyListener keyListener = new KeyListener() {\n            @Override\n            public void keyPressed(KeyEvent e) {}\n\n            @Override\n            public void keyTyped(KeyEvent e) {\n                if(Character.isLetter(e.getKeyChar()) || ((Character) e.getKeyChar()).equals('0')){\n                    JOptionPane.showMessageDialog(null, &quot;Invalid input!&quot;);\n                }\n                \n            }\n            \n            @Override\n            public void keyReleased(KeyEvent e) {}\n        };\n}\n\n</code></pre>\n<p>The code works as intended so far except for one thing. When the KeyListener finds a Letter or a 0, the JOptionPane pops up three times. This is kind of annoying, and I don't understand why it does that.</p>\n<p>Also I am trying to reach the JFormattedTextFields so I can reset them after a Invalid input but can't reach them through the KeyListener. Is there some nice way to do this?</p>\n<p>If anyone could help me figure this out I would greatly appreciate it!</p>\n<p>Thank you!</p>\n"},{"tags":["java","amazon-dynamodb","vert.x"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1644442952,"post_id":71056952,"comment_id":125611597,"body_markdown":"`tableNames.join()` blocks the thread until the operation completes. It should instead allow the `CompletableFuture` to propagate to the caller. If you include more context code, I can write a more complete answer","body":"<code>tableNames.join()</code> blocks the thread until the operation completes. It should instead allow the <code>CompletableFuture</code> to propagate to the caller. If you include more context code, I can write a more complete answer"},{"owner":{"account_id":157648,"reputation":385,"user_id":1949775,"accept_rate":50,"display_name":"Gerrit"},"score":0,"creation_date":1644482545,"post_id":71056952,"comment_id":125620081,"body_markdown":"If the request times out resolving the Future take more time than you alwed for your request to take... dynamoDb is pretty slow so I guess you need a better query or process the stuff in the backend not inside the scope of one request if it takes several seconds to finish.","body":"If the request times out resolving the Future take more time than you alwed for your request to take... dynamoDb is pretty slow so I guess you need a better query or process the stuff in the backend not inside the scope of one request if it takes several seconds to finish."}],"answers":[{"tags":[],"owner":{"account_id":3115430,"reputation":3,"user_id":2853119,"display_name":"Mario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660293226,"creation_date":1660293226,"answer_id":73331380,"question_id":71056952,"body_markdown":"As Tim stated in the comment, `tablesName.join()` blocks the thread, you should let the `CompletableFuture` handle async.\r\n\r\nTry this:\r\n```\r\nprivate Future&lt;ListTablesResponse&gt; listTables() {\r\n        Promise&lt;ListTablesResponse&gt; promise = Promise.promise();\r\n        CompletableFuture&lt;ListTablesResponse&gt; response = client.listTables();\r\n\r\n        response.handleAsync((result, error) -&gt; {\r\n            if (error == null) {\r\n                promise.complete(result);\r\n            } else {\r\n                promise.fail(error);\r\n            }\r\n            return null;\r\n        });\r\n\r\n        return promise.future();\r\n    }\r\n\r\n```\r\n\r\nthen in your vertx request handler:\r\n\r\n```\r\nthis.listTables()\r\n        .onSuccess(listTablesResponse -&gt; {...})\r\n        .onFailure(throwable -&gt; {...});\r\n\r\n```\r\n","title":"Thread blocked when calling dynamoDB in vert.x app","body":"<p>As Tim stated in the comment, <code>tablesName.join()</code> blocks the thread, you should let the <code>CompletableFuture</code> handle async.</p>\n<p>Try this:</p>\n<pre><code>private Future&lt;ListTablesResponse&gt; listTables() {\n        Promise&lt;ListTablesResponse&gt; promise = Promise.promise();\n        CompletableFuture&lt;ListTablesResponse&gt; response = client.listTables();\n\n        response.handleAsync((result, error) -&gt; {\n            if (error == null) {\n                promise.complete(result);\n            } else {\n                promise.fail(error);\n            }\n            return null;\n        });\n\n        return promise.future();\n    }\n\n</code></pre>\n<p>then in your vertx request handler:</p>\n<pre><code>this.listTables()\n        .onSuccess(listTablesResponse -&gt; {...})\n        .onFailure(throwable -&gt; {...});\n\n</code></pre>\n"}],"owner":{"account_id":15690701,"reputation":563,"user_id":11321900,"display_name":"Nane Petrosyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660293226,"creation_date":1644442074,"question_id":71056952,"body_markdown":"I am using vert.x and I am trying to list my DynamoDB tables. Here is how I build the DynamoDB client.\r\n\r\n```\r\nprivate static DynamoDbAsyncClient buildDynamoDBAsyncClient(final Vertx vertx) {\r\n        return VertxSdkClient.withVertx(DynamoDbAsyncClient.builder(), vertx.getOrCreateContext())\r\n                .build();\r\n    }\r\n```\r\n\r\nAnd here is the request I make\r\n\r\n```\r\nCompletableFuture&lt;ListTablesResponse&gt; response = client.listTables(ListTablesRequest.builder()\r\n                .build());\r\n\r\n        // Map the response to another CompletableFuture containing just the table names\r\n        CompletableFuture&lt;List&lt;String&gt;&gt; tableNames = response.thenApply(ListTablesResponse::tableNames);\r\n\r\n        // When future is complete (either successfully or in error) handle the response\r\n        tableNames.whenComplete((tables, err) -&gt; {\r\n                if (tables != null) {\r\n                    tables.forEach(System.out::println);\r\n                } else {\r\n                    // Handle error\r\n                    err.printStackTrace();\r\n                }\r\n          \r\n                client.close();\r\n        });\r\n        tableNames.join();\r\n```\r\n\r\nI get warnings of blocked threads and then a request timeout. What am I doing wrong? Thank you in advance.","title":"Thread blocked when calling dynamoDB in vert.x app","body":"<p>I am using vert.x and I am trying to list my DynamoDB tables. Here is how I build the DynamoDB client.</p>\n<pre><code>private static DynamoDbAsyncClient buildDynamoDBAsyncClient(final Vertx vertx) {\n        return VertxSdkClient.withVertx(DynamoDbAsyncClient.builder(), vertx.getOrCreateContext())\n                .build();\n    }\n</code></pre>\n<p>And here is the request I make</p>\n<pre><code>CompletableFuture&lt;ListTablesResponse&gt; response = client.listTables(ListTablesRequest.builder()\n                .build());\n\n        // Map the response to another CompletableFuture containing just the table names\n        CompletableFuture&lt;List&lt;String&gt;&gt; tableNames = response.thenApply(ListTablesResponse::tableNames);\n\n        // When future is complete (either successfully or in error) handle the response\n        tableNames.whenComplete((tables, err) -&gt; {\n                if (tables != null) {\n                    tables.forEach(System.out::println);\n                } else {\n                    // Handle error\n                    err.printStackTrace();\n                }\n          \n                client.close();\n        });\n        tableNames.join();\n</code></pre>\n<p>I get warnings of blocked threads and then a request timeout. What am I doing wrong? Thank you in advance.</p>\n"},{"tags":["java","spring-boot","heroku","deployment"],"comments":[{"owner":{"account_id":11266715,"reputation":2288,"user_id":8263299,"accept_rate":50,"display_name":"benjamin c"},"score":0,"creation_date":1537707622,"post_id":52466138,"comment_id":91874269,"body_markdown":"is there any exception ? whats the error ?","body":"is there any exception ? whats the error ?"}],"answers":[{"tags":[],"owner":{"account_id":1763573,"reputation":6131,"user_id":1610005,"display_name":"kj007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537707987,"creation_date":1537707987,"answer_id":52466360,"question_id":52466138,"body_markdown":"Can you move data folder directly under resources as static resources path might be conflict here and use below should work.\r\n\r\n    File file = new File(classLoader.getResource(&quot;data/data.json&quot;).getFile());","title":"How to read a static file on deployment on Spring Boot","body":"<p>Can you move data folder directly under resources as static resources path might be conflict here and use below should work.</p>\n\n<pre><code>File file = new File(classLoader.getResource(\"data/data.json\").getFile());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11266715,"reputation":2288,"user_id":8263299,"accept_rate":50,"display_name":"benjamin c"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1537765773,"creation_date":1537716654,"answer_id":52467606,"question_id":52466138,"body_markdown":"Since `data.json` is moved inside JAR which is deployed on heroku, try using `getResourceAsStream(path)` instead `getResource()`. pseudocode could be,\r\n\r\n    Gson gson = new Gson();\r\n    ClassLoader classLoader = getClass().getClassLoader();\r\n    InputStream in = classLoader.getResourceAsStream(&quot;static/data/data.json&quot;);\r\n    JsonReader reader = new JsonReader(new InputStreamReader(in));\r\n    List&lt;Category&gt; allCategories = gson.fromJson(reader, new TypeToken&lt;List&lt;Category&gt;&gt;(){}.getType());","title":"How to read a static file on deployment on Spring Boot","body":"<p>Since <code>data.json</code> is moved inside JAR which is deployed on heroku, try using <code>getResourceAsStream(path)</code> instead <code>getResource()</code>. pseudocode could be,</p>\n\n<pre><code>Gson gson = new Gson();\nClassLoader classLoader = getClass().getClassLoader();\nInputStream in = classLoader.getResourceAsStream(\"static/data/data.json\");\nJsonReader reader = new JsonReader(new InputStreamReader(in));\nList&lt;Category&gt; allCategories = gson.fromJson(reader, new TypeToken&lt;List&lt;Category&gt;&gt;(){}.getType());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6697270,"reputation":373,"user_id":5164940,"display_name":"Sonal Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660293039,"creation_date":1660214883,"answer_id":73319376,"question_id":52466138,"body_markdown":"If it&#39;s a spring project, files present in resources folder gets copied to `target/classes` folder on mvn build. So to use it, do following: \r\n\r\n```\r\nimport org.springframework.util.ResourceUtils;\r\n\r\nResourceUtils.getURL(&quot;classpath:static/data/data.json&quot;)\r\n```","title":"How to read a static file on deployment on Spring Boot","body":"<p>If it's a spring project, files present in resources folder gets copied to <code>target/classes</code> folder on mvn build. So to use it, do following:</p>\n<pre><code>import org.springframework.util.ResourceUtils;\n\nResourceUtils.getURL(&quot;classpath:static/data/data.json&quot;)\n</code></pre>\n"}],"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52467606,"answer_count":3,"score":0,"last_activity_date":1660293039,"creation_date":1537706012,"question_id":52466138,"body_markdown":"I want to be able to deploy my spring boot application onlne on heroku. My app loads data from a static .json file which is located on my resources folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo far I&#39;ve tried this code but it doesn&#39;t work. For some reason I can&#39;t read the data from the json file.\r\n        \r\n        public List&lt;Category&gt; getAllCategories() throws FileNotFoundException\r\n        {\r\n           Gson gson = new Gson();\r\n           ClassLoader classLoader = getClass().getClassLoader();\r\n           File file = new File(classLoader.getResource(&quot;static/data/data.json&quot;).getFile());\r\n           JsonReader reader = new JsonReader(new FileReader(file.getPath()));\r\n           List&lt;Category&gt; allCategories = gson.fromJson(reader, new TypeToken&lt;List&lt;Category&gt;&gt;(){}.getType());\r\n\r\n           return allCategories;\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1J8J4.jpg","title":"How to read a static file on deployment on Spring Boot","body":"<p>I want to be able to deploy my spring boot application onlne on heroku. My app loads data from a static .json file which is located on my resources folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1J8J4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1J8J4.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>So far I've tried this code but it doesn't work. For some reason I can't read the data from the json file.</p>\n\n<pre><code>    public List&lt;Category&gt; getAllCategories() throws FileNotFoundException\n    {\n       Gson gson = new Gson();\n       ClassLoader classLoader = getClass().getClassLoader();\n       File file = new File(classLoader.getResource(\"static/data/data.json\").getFile());\n       JsonReader reader = new JsonReader(new FileReader(file.getPath()));\n       List&lt;Category&gt; allCategories = gson.fromJson(reader, new TypeToken&lt;List&lt;Category&gt;&gt;(){}.getType());\n\n       return allCategories;\n    }\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":3,"creation_date":1660286764,"post_id":73330189,"comment_id":129501174,"body_markdown":"You can&#39;t really remove them from a stream, but you can decide to ignore them… See your own answer for some ideas ;-)","body":"You can&#39;t really remove them from a stream, but you can decide to ignore them… See your own answer for some ideas ;-)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1660286892,"post_id":73330189,"comment_id":129501214,"body_markdown":"@deHaar - `filter` is *really* removing the nulls from the `Stream`.  (It is not removing them from the *source* of the `Stream`, but you can&#39;t do that anyway.)","body":"@deHaar - <code>filter</code> is <i>really</i> removing the nulls from the <code>Stream</code>.  (It is not removing them from the <i>source</i> of the <code>Stream</code>, but you can&#39;t do that anyway.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1660287306,"post_id":73330189,"comment_id":129501350,"body_markdown":"If you want evidence, see https://stackoverflow.com/questions/72819470.   And https://stackoverflow.com/questions/63991118.  And I could probably find more.  The point is that this is a succinct question, where the others that I can find all require the reader to disentangle a bunch of context.","body":"If you want evidence, see <a href=\"https://stackoverflow.com/questions/72819470\">stackoverflow.com/questions/72819470</a>.   And <a href=\"https://stackoverflow.com/questions/63991118\">stackoverflow.com/questions/63991118</a>.  And I could probably find more.  The point is that this is a succinct question, where the others that I can find all require the reader to disentangle a bunch of context."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1660289045,"post_id":73330189,"comment_id":129501886,"body_markdown":"@StephenC OK, you are right, one can remove/ignore/filter values from the stream. The source stays untouched, that&#39;s what my first comment was supposed to say but used inappropriate terminology.","body":"@StephenC OK, you are right, one can remove/ignore/filter values from the stream. The source stays untouched, that&#39;s what my first comment was supposed to say but used inappropriate terminology."}],"answers":[{"tags":[],"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1660286660,"creation_date":1660286660,"answer_id":73330190,"question_id":73330189,"body_markdown":"Here&#39;s a few ways I can think of:\r\n\r\n`stream.filter(x -&gt; x != null).`\r\n\r\n`stream.filter(Objects::nonNull)`","title":"How do you remove &quot;null&quot; values from a Java Stream","body":"<p>Here's a few ways I can think of:</p>\n<p><code>stream.filter(x -&gt; x != null).</code></p>\n<p><code>stream.filter(Objects::nonNull)</code></p>\n"}],"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6484,"favorite_count":0,"down_vote_count":5,"up_vote_count":7,"closed_date":1660287418,"answer_count":1,"score":2,"last_activity_date":1660292988,"creation_date":1660286660,"question_id":73330189,"body_markdown":"Let&#39;s say I have a Java Stream that contains `null` values.\r\n\r\nHow do you remove them ?","title":"How do you remove &quot;null&quot; values from a Java Stream","body":"<p>Let's say I have a Java Stream that contains <code>null</code> values.</p>\n<p>How do you remove them ?</p>\n"},{"tags":["java","apache-commons"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":4,"creation_date":1498105204,"post_id":44689951,"comment_id":76363648,"body_markdown":"Have you looked at the contents of the files? Is there probably just an error message in it?","body":"Have you looked at the contents of the files? Is there probably just an error message in it?"},{"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"score":0,"creation_date":1498105521,"post_id":44689951,"comment_id":76363749,"body_markdown":"@Henry. You are correct. I missed it. There is an error message asking me to log in. The downloaded content is the HTML page with the error message.","body":"@Henry. You are correct. I missed it. There is an error message asking me to log in. The downloaded content is the HTML page with the error message."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1498107274,"post_id":44689951,"comment_id":76364261,"body_markdown":"You can answer your own question, put your last edit into an answer instead so that the question is no longer open.","body":"You can answer your own question, put your last edit into an answer instead so that the question is no longer open."},{"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"score":0,"creation_date":1498108653,"post_id":44689951,"comment_id":76364720,"body_markdown":"Thanks. I will do.","body":"Thanks. I will do."}],"answers":[{"tags":[],"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660292651,"creation_date":1498109991,"answer_id":44690987,"question_id":44689951,"body_markdown":"I am able to resolve the issue with the following changes:\r\n\r\n    HttpURLConnection conn = (HttpURLConnection) new URL(sourceURL).openConnection();\r\n    \t\tString userpass = userName + &quot;:&quot; + password;\r\n    \t\tString basicAuth = &quot;Basic &quot; + new String(new Base64().encode(userpass.getBytes()));\r\n    \t\tconn.setRequestProperty (&quot;Authorization&quot;, basicAuth);\r\n    \t\tconn.setRequestMethod(&quot;GET&quot;);\r\n    \t\tconn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \t\tif (conn.getResponseCode() != 200) {\r\n    \t\t\tthrow new RuntimeException(&quot;Failed : HTTP error code : &quot;\r\n    \t\t\t\t\t+ conn.getResponseCode());\r\n    \t\t}\r\n    \t    String fileName = sourceURL.substring(sourceURL.lastIndexOf(&#39;/&#39;) + 1, sourceURL.length());\r\n    \t    Path targetPath = new File(targetDirectory + File.separator + fileName).toPath();\r\n    \t    Files.copy(conn.getInputStream(), targetPath, StandardCopyOption.REPLACE_EXISTING);","title":"Files are corrupted after downloading","body":"<p>I am able to resolve the issue with the following changes:</p>\n<pre><code>HttpURLConnection conn = (HttpURLConnection) new URL(sourceURL).openConnection();\n        String userpass = userName + &quot;:&quot; + password;\n        String basicAuth = &quot;Basic &quot; + new String(new Base64().encode(userpass.getBytes()));\n        conn.setRequestProperty (&quot;Authorization&quot;, basicAuth);\n        conn.setRequestMethod(&quot;GET&quot;);\n        conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        if (conn.getResponseCode() != 200) {\n            throw new RuntimeException(&quot;Failed : HTTP error code : &quot;\n                    + conn.getResponseCode());\n        }\n        String fileName = sourceURL.substring(sourceURL.lastIndexOf('/') + 1, sourceURL.length());\n        Path targetPath = new File(targetDirectory + File.separator + fileName).toPath();\n        Files.copy(conn.getInputStream(), targetPath, StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n"}],"owner":{"account_id":2339515,"reputation":3576,"user_id":2051126,"accept_rate":71,"display_name":"Somnath Musib"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44690987,"answer_count":1,"score":1,"last_activity_date":1660292651,"creation_date":1498104383,"question_id":44689951,"body_markdown":"I am working on a Java utility which can download the attachments from Jira user stories. I am using Jira Rest API to get the attachment information and using the URLs, I am trying to download the attachments.\r\n\r\nIn my program, I am using `Apache commons-io` library for downloading the files. However once files are downloaded I could see files are corrupted.\r\n\r\nCode snippet:\r\n\r\n    URL url = new URL(sourceURL);\r\n    String fileName = sourceURL.substring(sourceURL.lastIndexOf(&#39;/&#39;) + 1, sourceURL.length());\r\n    File targetPath = new File(targetDirectory + File.separator + fileName);\r\n    FileUtils.copyURLToFile(url, targetPath);\r\n\r\nSite from which I am downloading requires authentication. So along with the above I have added the authentication information:\r\n\r\n    Authenticator.setDefault(new CustomAuthenticator(jiraUserName, jiraPassword));\r\n\r\n    public class CustomAuthenticator extends Authenticator { \r\n    \t\tprivate String username = null;  \r\n            private String password = null;\r\n        \r\n\t\tpublic CustomAuthenticator(String jiraUserName, String jiraPassword) {\r\n\t\t\tthis.username = jiraUserName;  \r\n\t\t\tthis.password = jiraPassword;\r\n\t\t}\r\n\t    protected PasswordAuthentication getPasswordAuthentication() {  \r\n\t    \treturn new PasswordAuthentication(username, password.toCharArray());  \r\n\t    }\r\n\t}\r\n\r\nAfter adding the authentication information also, I am getting the same result. I am downloading multiple types of attachment (An attachment could be pdf, xlsx, png or jpg files)\r\n\r\nObservations:\r\n\r\n 1. All downloaded files are of same size (23 KB)\r\n 2. With the same URL, from browser I can download the files successfully\r\n\r\nWhat I am missing here?","title":"Files are corrupted after downloading","body":"<p>I am working on a Java utility which can download the attachments from Jira user stories. I am using Jira Rest API to get the attachment information and using the URLs, I am trying to download the attachments.</p>\n\n<p>In my program, I am using <code>Apache commons-io</code> library for downloading the files. However once files are downloaded I could see files are corrupted.</p>\n\n<p>Code snippet:</p>\n\n<pre><code>URL url = new URL(sourceURL);\nString fileName = sourceURL.substring(sourceURL.lastIndexOf('/') + 1, sourceURL.length());\nFile targetPath = new File(targetDirectory + File.separator + fileName);\nFileUtils.copyURLToFile(url, targetPath);\n</code></pre>\n\n<p>Site from which I am downloading requires authentication. So along with the above I have added the authentication information:</p>\n\n<pre><code>Authenticator.setDefault(new CustomAuthenticator(jiraUserName, jiraPassword));\n\npublic class CustomAuthenticator extends Authenticator { \n        private String username = null;  \n        private String password = null;\n\n    public CustomAuthenticator(String jiraUserName, String jiraPassword) {\n        this.username = jiraUserName;  \n        this.password = jiraPassword;\n    }\n    protected PasswordAuthentication getPasswordAuthentication() {  \n        return new PasswordAuthentication(username, password.toCharArray());  \n    }\n}\n</code></pre>\n\n<p>After adding the authentication information also, I am getting the same result. I am downloading multiple types of attachment (An attachment could be pdf, xlsx, png or jpg files)</p>\n\n<p>Observations:</p>\n\n<ol>\n<li>All downloaded files are of same size (23 KB)</li>\n<li>With the same URL, from browser I can download the files successfully</li>\n</ol>\n\n<p>What I am missing here?</p>\n"},{"tags":["java","plsql"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1660226947,"post_id":73321856,"comment_id":129487170,"body_markdown":"Just [create a BLOB](https://stackoverflow.com/questions/55004306/what-is-the-best-way-in-jdbc-to-insert-blob-into-oracle). And don&#39;t forget to change the return type of method `Send` to `Blob`. I also suggest that you try to adhere to [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) as it usually makes it easier for people to understand your code.","body":"Just <a href=\"https://stackoverflow.com/questions/55004306/what-is-the-best-way-in-jdbc-to-insert-blob-into-oracle\">create a BLOB</a>. And don&#39;t forget to change the return type of method <code>Send</code> to <code>Blob</code>. I also suggest that you try to adhere to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a> as it usually makes it easier for people to understand your code."},{"owner":{"account_id":17703511,"reputation":27,"user_id":12852669,"display_name":"Barry Brierley"},"score":0,"creation_date":1660228574,"post_id":73321856,"comment_id":129487858,"body_markdown":"Thank you for taking the time to read and attempt to answer my question.\nI can create a BLOB like this, but how to I return it?\n\n&#39;&#39;&#39;\nint i = bos.toByteArray().length;\n                byte[] array = new byte[i];\n                array = bos.toByteArray();\n                \n                Blob desBlob = con.createBlob();\n                desBlob.setBytes(1, array);\n&#39;&#39;&#39;","body":"Thank you for taking the time to read and attempt to answer my question. I can create a BLOB like this, but how to I return it?  &#39;&#39;&#39; int i = bos.toByteArray().length;                 byte[] array = new byte[i];                 array = bos.toByteArray();                                  Blob desBlob = con.createBlob();                 desBlob.setBytes(1, array); &#39;&#39;&#39;"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1660239906,"post_id":73321856,"comment_id":129492050,"body_markdown":"_how to return it_ Um, `return desBlob;` ?","body":"<i>how to return it</i> Um, <code>return desBlob;</code> ?"},{"owner":{"account_id":17703511,"reputation":27,"user_id":12852669,"display_name":"Barry Brierley"},"score":0,"creation_date":1660242872,"post_id":73321856,"comment_id":129492888,"body_markdown":"I wouldn&#39;t have asked if it were a case of changing that one line. I&#39;ve found another way which is to write the blob to a table. Would have been simpler to pass back the blob, but hey,,,,","body":"I wouldn&#39;t have asked if it were a case of changing that one line. I&#39;ve found another way which is to write the blob to a table. Would have been simpler to pass back the blob, but hey,,,,"}],"answers":[{"tags":[],"owner":{"account_id":17703511,"reputation":27,"user_id":12852669,"display_name":"Barry Brierley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660292562,"creation_date":1660292562,"answer_id":73331243,"question_id":73321856,"body_markdown":"So I made a workaround by saving it to a table.\r\n\r\n\r\n\r\nIt probably looks horrible to a Java programmer but seems to work.\r\n\r\n\r\n```\r\n//Save the message to \r\n           ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n           ByteArrayInputStream bis = null;\r\n           //memory = new MemoryStream ();\r\n           try  {\r\n                msg.writeTo(bos);\r\n                int i = bos.toByteArray().length;\r\n                byte[] array = new byte[i];\r\n                array = bos.toByteArray();\r\n                \r\n                //insertIntoProducts(desBlob);\r\n                Connection conn = DriverManager.getConnection(&quot;jdbc:default:connection:&quot;);\r\n                Blob desBlob = conn.createBlob();\r\n                desBlob.setBytes(1, array);\r\n                //PreparedStatement ps2 = conn.prepareStatement(&quot;insert into mytable values (hextoraw(?))&quot;);\r\n                PreparedStatement ps2 = conn.prepareStatement(&quot;insert into barry_testtable(blobcolumn) values (?)&quot;);\r\n                ps2.setBytes(1,array);\r\n                try{\r\n                int rowsAffected = ps2.executeUpdate();\r\n                System.out.println(rowsAffected); //1\r\n                } catch (SQLException e) {\r\n                    System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                \r\n           }catch(Exception exp){\r\n               exp.printStackTrace();}\r\n```","title":"Returning a blob from Java to calling PL/SQL function","body":"<p>So I made a workaround by saving it to a table.</p>\n<p>It probably looks horrible to a Java programmer but seems to work.</p>\n<pre><code>//Save the message to \n           ByteArrayOutputStream bos = new ByteArrayOutputStream();\n           ByteArrayInputStream bis = null;\n           //memory = new MemoryStream ();\n           try  {\n                msg.writeTo(bos);\n                int i = bos.toByteArray().length;\n                byte[] array = new byte[i];\n                array = bos.toByteArray();\n                \n                //insertIntoProducts(desBlob);\n                Connection conn = DriverManager.getConnection(&quot;jdbc:default:connection:&quot;);\n                Blob desBlob = conn.createBlob();\n                desBlob.setBytes(1, array);\n                //PreparedStatement ps2 = conn.prepareStatement(&quot;insert into mytable values (hextoraw(?))&quot;);\n                PreparedStatement ps2 = conn.prepareStatement(&quot;insert into barry_testtable(blobcolumn) values (?)&quot;);\n                ps2.setBytes(1,array);\n                try{\n                int rowsAffected = ps2.executeUpdate();\n                System.out.println(rowsAffected); //1\n                } catch (SQLException e) {\n                    System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                \n           }catch(Exception exp){\n               exp.printStackTrace();}\n</code></pre>\n"}],"owner":{"account_id":17703511,"reputation":27,"user_id":12852669,"display_name":"Barry Brierley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660292562,"creation_date":1660225795,"question_id":73321856,"body_markdown":"Oracle 19C.\r\n\r\nThis should hopefully be a simple syntax question for somebody. I am in unfamiliar Java territory as I am using javax.mail to create an email.\r\n\r\nThe Java code that I am using is straight out of the Oracle help so I assume it&#39;s all OK. But what I would like to do is, instead of returning the error number from the Java code, to return the whole message so that I can save it as a blob. Below is the beginning of the code. leaving out all of the bits that create the email message, then continuing with the code that I have (unsuccessfully) inserted to save the message. I think I need a couple of lines of code to replace &quot;return ErrorStatus;&quot;\r\n\r\n```\r\nCREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;BarrySendMail&quot; AS\r\n import java.util.*;\r\n import java.io.*;\r\n import java.sql.*;\r\n import javax.mail.*;\r\n import javax.mail.internet.*;\r\n import javax.activation.*;\r\n  \r\n  \r\n public class BarrySendMail {\r\n  // Sender, Recipient, CCRecipient, and BccRecipient are comma-separated\r\n  // lists of addresses. Body can span multiple CR/LF-separated lines.\r\n  // Attachments is a ///-separated list of file names.\r\n  public static int Send(String SMTPServer,\r\n       String Sender,\r\n       String Recipient,\r\n       String CcRecipient,\r\n       String BccRecipient,\r\n       String Subject,\r\n       String Body,\r\n       String ErrorMessage[],\r\n       String Attachments) {\r\n  // Error status;\r\n  int ErrorStatus = 0;\r\n   \r\n  //Connection\r\n  Connection con = null;\r\n\r\n  // Create some properties and get the default Session;\r\n  Properties props = System.getProperties();\r\n  props.put(&quot;blahblah&quot;, SMTPServer);\r\n  Session session = Session.getDefaultInstance(props, null);\r\n  session.setDebug(true);\r\n  try {\r\n   // Create a message.\r\n   MimeMessage msg = new MimeMessage(session);\r\n```\r\netc...then continues...\r\n```\r\n//Save the message to a binary object **This is my attempy**\r\n   ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n   ByteArrayInputStream bis = null;\r\n   try{\r\n    msg.writeTo(bos);\r\n    }catch(Exception exp){\r\n    exp.printStackTrace();}\r\n// Send the message;\r\n   Transport.send(msg);\r\n  \r\n \r\n  } catch (MessagingException MsgException) {\r\n   ErrorMessage[0] = MsgException.toString();\r\n   Exception TheException = null;\r\n   if ((TheException = MsgException.getNextException()) != null)\r\n    ErrorMessage[0] = ErrorMessage[0] + &quot;\\n&quot; + TheException.toString();\r\n    ErrorStatus = 1;\r\n  }\r\n   \r\n  //return new ByteArrayInputStream(bos.toByteArray());\r\n   return ErrorStatus; //***Instead, I would like to return bos;\r\n   \r\n  //return ErrorStatus;\r\n  } // End Send Class\r\n } // End of public class BarrySendMail\r\n```\r\n\r\nThis is in turn called by a function:\r\n\r\n \r\n\r\n```FUNCTION JSendMail(SMTPServerName IN STRING,\r\n           Sender IN STRING,\r\n           Recipient IN STRING,\r\n           CcRecipient IN STRING,\r\n           BccRecipient IN STRING,\r\n           Subject IN STRING,\r\n           Body IN STRING,\r\n           ErrorMessage OUT STRING,\r\n           Attachments IN STRING) RETURN blob IS\r\n  LANGUAGE JAVA\r\n  NAME &#39;BarrySendMail.Send(java.lang.String,\r\n            java.lang.String,\r\n            java.lang.String,\r\n            java.lang.String,\r\n            java.lang.String,\r\n            java.lang.String,\r\n            java.lang.String,\r\n            java.lang.String[],\r\n            java.lang.String) return java.sql.Blob&#39;;\r\n```\r\n\r\n\r\nEssentially I&#39;m asking how to return &quot;msg.writeTo(bos);&quot; as a blob to my calling function.\r\n\r\n\r\n\r\nThanks in advance,\r\n\r\nBarry","title":"Returning a blob from Java to calling PL/SQL function","body":"<p>Oracle 19C.</p>\n<p>This should hopefully be a simple syntax question for somebody. I am in unfamiliar Java territory as I am using javax.mail to create an email.</p>\n<p>The Java code that I am using is straight out of the Oracle help so I assume it's all OK. But what I would like to do is, instead of returning the error number from the Java code, to return the whole message so that I can save it as a blob. Below is the beginning of the code. leaving out all of the bits that create the email message, then continuing with the code that I have (unsuccessfully) inserted to save the message. I think I need a couple of lines of code to replace &quot;return ErrorStatus;&quot;</p>\n<pre><code>CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;BarrySendMail&quot; AS\n import java.util.*;\n import java.io.*;\n import java.sql.*;\n import javax.mail.*;\n import javax.mail.internet.*;\n import javax.activation.*;\n  \n  \n public class BarrySendMail {\n  // Sender, Recipient, CCRecipient, and BccRecipient are comma-separated\n  // lists of addresses. Body can span multiple CR/LF-separated lines.\n  // Attachments is a ///-separated list of file names.\n  public static int Send(String SMTPServer,\n       String Sender,\n       String Recipient,\n       String CcRecipient,\n       String BccRecipient,\n       String Subject,\n       String Body,\n       String ErrorMessage[],\n       String Attachments) {\n  // Error status;\n  int ErrorStatus = 0;\n   \n  //Connection\n  Connection con = null;\n\n  // Create some properties and get the default Session;\n  Properties props = System.getProperties();\n  props.put(&quot;blahblah&quot;, SMTPServer);\n  Session session = Session.getDefaultInstance(props, null);\n  session.setDebug(true);\n  try {\n   // Create a message.\n   MimeMessage msg = new MimeMessage(session);\n</code></pre>\n<p>etc...then continues...</p>\n<pre><code>//Save the message to a binary object **This is my attempy**\n   ByteArrayOutputStream bos = new ByteArrayOutputStream();\n   ByteArrayInputStream bis = null;\n   try{\n    msg.writeTo(bos);\n    }catch(Exception exp){\n    exp.printStackTrace();}\n// Send the message;\n   Transport.send(msg);\n  \n \n  } catch (MessagingException MsgException) {\n   ErrorMessage[0] = MsgException.toString();\n   Exception TheException = null;\n   if ((TheException = MsgException.getNextException()) != null)\n    ErrorMessage[0] = ErrorMessage[0] + &quot;\\n&quot; + TheException.toString();\n    ErrorStatus = 1;\n  }\n   \n  //return new ByteArrayInputStream(bos.toByteArray());\n   return ErrorStatus; //***Instead, I would like to return bos;\n   \n  //return ErrorStatus;\n  } // End Send Class\n } // End of public class BarrySendMail\n</code></pre>\n<p>This is in turn called by a function:</p>\n<pre><code>           Sender IN STRING,\n           Recipient IN STRING,\n           CcRecipient IN STRING,\n           BccRecipient IN STRING,\n           Subject IN STRING,\n           Body IN STRING,\n           ErrorMessage OUT STRING,\n           Attachments IN STRING) RETURN blob IS\n  LANGUAGE JAVA\n  NAME 'BarrySendMail.Send(java.lang.String,\n            java.lang.String,\n            java.lang.String,\n            java.lang.String,\n            java.lang.String,\n            java.lang.String,\n            java.lang.String,\n            java.lang.String[],\n            java.lang.String) return java.sql.Blob';\n</code></pre>\n<p>Essentially I'm asking how to return &quot;msg.writeTo(bos);&quot; as a blob to my calling function.</p>\n<p>Thanks in advance,</p>\n<p>Barry</p>\n"},{"tags":["java","angular","spring-boot","jhipster"],"comments":[{"owner":{"account_id":1020929,"reputation":3574,"user_id":1031296,"display_name":"vicpermir"},"score":1,"creation_date":1660227320,"post_id":73321669,"comment_id":129487330,"body_markdown":"JHipster issue [#10663](https://github.com/jhipster/generator-jhipster/issues/10663)","body":"JHipster issue <a href=\"https://github.com/jhipster/generator-jhipster/issues/10663\" rel=\"nofollow noreferrer\">#10663</a>"}],"owner":{"account_id":25818105,"reputation":71,"user_id":19557714,"display_name":"Cape_LeadWort"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1660292531,"creation_date":1660225069,"question_id":73321669,"body_markdown":"I am trying to upgrade my app.\r\nWhen I type this cmd: `npx jhipster upgrade`.  \r\nI have this question:  \r\n&gt;? Unify blueprints configurations? (Y/n)\r\n\r\nso I don&#39;t know how to answer it.  \r\nWhat does it mean to unify blueprints configurations?","title":"Jhipster : what is the meaning of &quot;Unify blueprints configurations&quot;?","body":"<p>I am trying to upgrade my app.\nWhen I type this cmd: <code>npx jhipster upgrade</code>.<br />\nI have this question:</p>\n<blockquote>\n<p>? Unify blueprints configurations? (Y/n)</p>\n</blockquote>\n<p>so I don't know how to answer it.<br />\nWhat does it mean to unify blueprints configurations?</p>\n"},{"tags":["java","json","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660292439,"creation_date":1660292439,"answer_id":73331221,"question_id":73330961,"body_markdown":"try a custom deserializer\r\n\r\n    public class ComplianceAttributeValueDeserializer extends StdDeserializer&lt;ComplianceAttributeValue&gt; { \r\n    \r\n        public ComplianceAttributeValueDeserializer() { \r\n            this(null); \r\n        } \r\n    \r\n        public ComplianceAttributeValueDeserializer(Class&lt;?&gt; vc) { \r\n            super(vc); \r\n        }\r\n    \r\n        @Override\r\n        public ComplianceAttributeValue deserialize(JsonParser jp, DeserializationContext ctxt) \r\n          throws IOException, JsonProcessingException {\r\n            JsonNode node = jp.getCodec().readTree(jp);\r\n    \r\n            // detect value type and create object, e.g. for string type\r\n            \r\n            return new ComplianceAttributeStringValue(...);\r\n        }\r\n    }\r\n\r\nalso use `ComplianceAttributeValue` as base class and derived classes for all known types like `ComplianceAttributeStringValue` or use generics\r\n\r\n    @JsonDeserialize(using = ComplianceAttributeValueDeserializer.class)\r\n    public class ComplianceAttributeValue {\r\n    ...\r\n    }\r\n\r\nhttps://www.baeldung.com/jackson-deserialization","title":"Parsing JSON to Java having multiple data types for the same field","body":"<p>try a custom deserializer</p>\n<pre><code>public class ComplianceAttributeValueDeserializer extends StdDeserializer&lt;ComplianceAttributeValue&gt; { \n\n    public ComplianceAttributeValueDeserializer() { \n        this(null); \n    } \n\n    public ComplianceAttributeValueDeserializer(Class&lt;?&gt; vc) { \n        super(vc); \n    }\n\n    @Override\n    public ComplianceAttributeValue deserialize(JsonParser jp, DeserializationContext ctxt) \n      throws IOException, JsonProcessingException {\n        JsonNode node = jp.getCodec().readTree(jp);\n\n        // detect value type and create object, e.g. for string type\n        \n        return new ComplianceAttributeStringValue(...);\n    }\n}\n</code></pre>\n<p>also use <code>ComplianceAttributeValue</code> as base class and derived classes for all known types like <code>ComplianceAttributeStringValue</code> or use generics</p>\n<pre><code>@JsonDeserialize(using = ComplianceAttributeValueDeserializer.class)\npublic class ComplianceAttributeValue {\n...\n}\n</code></pre>\n<p><a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-deserialization</a></p>\n"}],"owner":{"account_id":4308682,"reputation":12623,"user_id":3520404,"display_name":"saran3h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660292439,"creation_date":1660291165,"question_id":73330961,"body_markdown":"I have been given the below JSON:\r\n\r\n```\r\n{\r\n  &quot;dataBlock&quot;: [\r\n    {\r\n      &quot;headingName&quot;: {\r\n        &quot;name&quot;: &quot;Operational Information&quot;,\r\n        &quot;position&quot;: &quot;1&quot;,\r\n        &quot;attributes&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;Brand&quot;,\r\n            &quot;position&quot;: &quot;1&quot;,\r\n            &quot;value&quot;: [\r\n              &quot;A&quot;,\r\n              &quot;B&quot;\r\n            ]\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;Data Model Id&quot;,\r\n            &quot;position&quot;: &quot;2&quot;,\r\n            &quot;value&quot;: &quot;000001&quot;\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      &quot;headingName&quot;: {\r\n        &quot;name&quot;: &quot;CRA&quot;,\r\n        &quot;position&quot;: &quot;6&quot;,\r\n        &quot;attributes&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;Company&quot;,\r\n            &quot;position&quot;: &quot;1&quot;,\r\n            &quot;value&quot;: &quot;private_limited_company&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;Address&quot;,\r\n            &quot;position&quot;: &quot;3&quot;,\r\n            &quot;value&quot;: {\r\n              &quot;line1&quot;: &quot;AAA&quot;,\r\n              &quot;line2&quot;: &quot;BBB&quot;,\r\n              &quot;line3&quot;: &quot;CCC&quot;,\r\n              &quot;line4&quot;: &quot;DDD&quot;,\r\n              &quot;postalCode&quot;: &quot;AB XYZ&quot;,\r\n              &quot;countryCode&quot;: &quot;GBR&quot;\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI need to convert it to Java. One thing you may notice is that &quot;value&quot; field of every &quot;attribute&quot; may be of type String. Object, Array or even a nested &quot;attribute&quot;. How do I handle this case?\r\n\r\nThis is what I attempted:\r\n\r\n**MyService.java:**\r\n\r\n```\r\n@Slf4j\r\n@Service\r\npublic class MyService {\r\n\tpublic MyResponse getCustomerDetails() {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\ttry {\r\n\t\t\tFile file = getFile(&quot;classpath:data.json&quot;);\r\n\t\t\tif (file.exists()) {\r\n\t\t\t\treturn mapper.readValue(file, MyResponse.class);\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.error(e.getMessage());\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class MyResponse {\r\n\tprivate List&lt;DataBlock&gt; dataBlocks;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class DataBlock {\r\n\t@JsonProperty(&quot;headingName&quot;)\r\n\tprivate ComplianceSection section;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class ComplianceSection {\r\n\tprivate String name;\r\n\tprivate String position;\r\n\tprivate List&lt;ComplianceAttribute&gt; attributes;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class ComplianceAttribute {\r\n\tprivate String name;\r\n\tprivate String position;\r\n//\tprivate ComplianceAttributeValue value; ???\r\n}\r\n```\r\n\r\nNot sure how can I map the value as it&#39;s structurally different for each attribute node.","title":"Parsing JSON to Java having multiple data types for the same field","body":"<p>I have been given the below JSON:</p>\n<pre><code>{\n  &quot;dataBlock&quot;: [\n    {\n      &quot;headingName&quot;: {\n        &quot;name&quot;: &quot;Operational Information&quot;,\n        &quot;position&quot;: &quot;1&quot;,\n        &quot;attributes&quot;: [\n          {\n            &quot;name&quot;: &quot;Brand&quot;,\n            &quot;position&quot;: &quot;1&quot;,\n            &quot;value&quot;: [\n              &quot;A&quot;,\n              &quot;B&quot;\n            ]\n          },\n          {\n            &quot;name&quot;: &quot;Data Model Id&quot;,\n            &quot;position&quot;: &quot;2&quot;,\n            &quot;value&quot;: &quot;000001&quot;\n          }\n        ]\n      }\n    },\n    {\n      &quot;headingName&quot;: {\n        &quot;name&quot;: &quot;CRA&quot;,\n        &quot;position&quot;: &quot;6&quot;,\n        &quot;attributes&quot;: [\n          {\n            &quot;name&quot;: &quot;Company&quot;,\n            &quot;position&quot;: &quot;1&quot;,\n            &quot;value&quot;: &quot;private_limited_company&quot;\n          },\n          {\n            &quot;name&quot;: &quot;Address&quot;,\n            &quot;position&quot;: &quot;3&quot;,\n            &quot;value&quot;: {\n              &quot;line1&quot;: &quot;AAA&quot;,\n              &quot;line2&quot;: &quot;BBB&quot;,\n              &quot;line3&quot;: &quot;CCC&quot;,\n              &quot;line4&quot;: &quot;DDD&quot;,\n              &quot;postalCode&quot;: &quot;AB XYZ&quot;,\n              &quot;countryCode&quot;: &quot;GBR&quot;\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>I need to convert it to Java. One thing you may notice is that &quot;value&quot; field of every &quot;attribute&quot; may be of type String. Object, Array or even a nested &quot;attribute&quot;. How do I handle this case?</p>\n<p>This is what I attempted:</p>\n<p><strong>MyService.java:</strong></p>\n<pre><code>@Slf4j\n@Service\npublic class MyService {\n    public MyResponse getCustomerDetails() {\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            File file = getFile(&quot;classpath:data.json&quot;);\n            if (file.exists()) {\n                return mapper.readValue(file, MyResponse.class);\n            }\n        } catch (IOException e) {\n            log.error(e.getMessage());\n        }\n        return null;\n    }\n}\n</code></pre>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class MyResponse {\n    private List&lt;DataBlock&gt; dataBlocks;\n}\n</code></pre>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DataBlock {\n    @JsonProperty(&quot;headingName&quot;)\n    private ComplianceSection section;\n}\n</code></pre>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ComplianceSection {\n    private String name;\n    private String position;\n    private List&lt;ComplianceAttribute&gt; attributes;\n}\n</code></pre>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ComplianceAttribute {\n    private String name;\n    private String position;\n//  private ComplianceAttributeValue value; ???\n}\n</code></pre>\n<p>Not sure how can I map the value as it's structurally different for each attribute node.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1444384765,"post_id":33035213,"comment_id":53891829,"body_markdown":"You are comparing Strings with `==` at `if(r.getRoomID()==roomID)`. If you change it to `if (r.getRoomID().equals(roomID))` then it does work.","body":"You are comparing Strings with <code>==</code> at <code>if(r.getRoomID()==roomID)</code>. If you change it to <code>if (r.getRoomID().equals(roomID))</code> then it does work."},{"owner":{"account_id":6480251,"reputation":192,"user_id":5017518,"accept_rate":68,"display_name":"beginner"},"score":0,"creation_date":1444385133,"post_id":33035213,"comment_id":53892067,"body_markdown":"Hello @Kevin Esche, thank you for your reply, the code works now after use your suggestion. Thank you very much.","body":"Hello @Kevin Esche, thank you for your reply, the code works now after use your suggestion. Thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444384888,"creation_date":1444384888,"answer_id":33035343,"question_id":33035213,"body_markdown":"    public static Room getRoom(String roomID){\r\n\r\n    for(Room r:roomDB.getRoom()){\r\n\r\n        if(r.getRoomID().equals(roomID)){ //Old : r.getRoomID()==roomID\r\n\r\n            return r;\r\n\r\n        }\r\n\r\n    }\r\n    return null;\r\n\r\n    }\r\n\r\nFor comparison string always use equals.","title":"Room Booking Program","body":"<pre><code>public static Room getRoom(String roomID){\n\nfor(Room r:roomDB.getRoom()){\n\n    if(r.getRoomID().equals(roomID)){ //Old : r.getRoomID()==roomID\n\n        return r;\n\n    }\n\n}\nreturn null;\n\n}\n</code></pre>\n\n<p>For comparison string always use equals.</p>\n"},{"tags":[],"owner":{"account_id":3580653,"reputation":408,"user_id":2988942,"accept_rate":62,"display_name":"Phantomazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444385227,"creation_date":1444385227,"answer_id":33035453,"question_id":33035213,"body_markdown":"By the looks of it your issue is arising at the moment you are comparing Strings with the &quot;==&quot; operator. This is not possible, as the &quot;==&quot; operator tries to identify if the two objects are equal, not their respective values. You can get a better and full explanation of how String comparison works here: https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\r\n\r\nAs a quick and proper fix of your issue just use:\r\n\r\n    if(r.getRoomID().equals(roomID))\r\n    { \r\n        return r;\r\n    }","title":"Room Booking Program","body":"<p>By the looks of it your issue is arising at the moment you are comparing Strings with the \"==\" operator. This is not possible, as the \"==\" operator tries to identify if the two objects are equal, not their respective values. You can get a better and full explanation of how String comparison works here: <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a></p>\n\n<p>As a quick and proper fix of your issue just use:</p>\n\n<pre><code>if(r.getRoomID().equals(roomID))\n{ \n    return r;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1306560,"reputation":6829,"user_id":1255453,"accept_rate":68,"display_name":"Husman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444385334,"creation_date":1444385334,"answer_id":33035490,"question_id":33035213,"body_markdown":"I would also suggest you compare strings in the same case (in 2 places in Booking.java):\r\n\r\n    if (roomID.equalsIgnoreCase(&quot;x&quot;))\r\n\r\nand also\r\n\r\n    if (r.getRoomID().equalsIgnoreCase(roomID))\r\n\r\nhope that helps.\r\n\r\n","title":"Room Booking Program","body":"<p>I would also suggest you compare strings in the same case (in 2 places in Booking.java):</p>\n\n<pre><code>if (roomID.equalsIgnoreCase(\"x\"))\n</code></pre>\n\n<p>and also</p>\n\n<pre><code>if (r.getRoomID().equalsIgnoreCase(roomID))\n</code></pre>\n\n<p>hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":4964280,"reputation":4147,"user_id":3994197,"accept_rate":38,"display_name":"Vishal Gajera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1449763000,"creation_date":1444385747,"answer_id":33035640,"question_id":33035213,"body_markdown":"This is Perfect Answer, See this just copy it and run below code, please remove modify to your package/class name accordingly as you wish,\r\n\r\nForget to set true after room Allocated, if Room seems to be free then allocate and marked it as a BOOKED-&gt;true.\r\n\r\n    package roombooking;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    class Room \r\n    {\r\n    \tprivate String roomID  = null;\r\n    \tprivate boolean booked = false;\r\n    \r\n    \tRoom(String roomID)\r\n    \t{\r\n    \t\tthis.roomID = roomID;\r\n    \t}\r\n    \r\n    \tString getRoomID()\r\n    \t{\r\n    \t\treturn roomID;\r\n    \t}\r\n    \r\n    \tvoid cancel()\r\n    \t{\r\n    \t\tbooked = false;\r\n    \t}\r\n    \r\n    \r\n    \tboolean isBooked()\r\n    \t{\r\n    \t\treturn booked;\r\n    \t}\r\n    \r\n    \tpublic void setBooked(boolean booked) {\r\n    \t\tthis.booked = booked;\r\n    \t}\r\n    \r\n    \r\n    }\r\n    \r\n    class RoomDB \r\n    {\r\n    \tprivate ArrayList&lt;Room&gt; room;\r\n    \tprivate String[] roomID = {&quot;Room1&quot;,&quot;Room2&quot;};\r\n    \r\n    \tRoomDB(){\r\n    \r\n    \t\troom = new ArrayList&lt;Room&gt;();                     \r\n    \t\tfor(int i=0;i&lt;roomID.length;i++)\r\n    \t\t{\r\n    \t\t\taddRoom(new Room(roomID[i]));\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic void addRoom(Room addRoom){\r\n    \t\troom.add(addRoom);\r\n    \t}\r\n    \r\n    \tpublic ArrayList&lt;Room&gt; getRoom(){\r\n    \t\treturn room;\r\n    \t}\r\n    }\r\n    \r\n    public class Booking {\r\n    \r\n    \tstatic RoomDB roomDB = new RoomDB();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString roomID;      \r\n    \t\tRoom room;  \r\n    \t\tScanner inputID = new Scanner(System.in);\r\n    \r\n    \t\twhile(true){\r\n    \r\n    \t\t\tSystem.out.println(&quot;Please choose the room you want to book \\n&quot;+getRoomList(roomDB));\r\n    \r\n    \t\t\twhile(true){\r\n    \t\t\t\tSystem.out.println(&quot;Enter your Room no. : (Enter x for quite ) : &quot;);\r\n    \t\t\t\troomID = inputID.nextLine();\r\n    \t\t\t\tSystem.out.println(&quot;X : &quot; + roomID.equals(&quot;x&quot;));\r\n    \t\t\t\tif(roomID.equals(&quot;x&quot;)){\r\n    \t\t\t\t\tSystem.out.println(&quot;Break&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif(getRoom(roomID) == null){\r\n    \r\n    \t\t\t\t\tSystem.out.println(&quot;The room ID is incorrect, please enter again or enter x to quit&quot;);\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\telse{\r\n    \r\n    \t\t\t\t\troom = getRoom(roomID);\r\n    \r\n    \t\t\t\t\tif(!room.isBooked()){\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Book successfully&quot;);\r\n    \t\t\t\t\t\troom.setBooked(true);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse{\r\n    \t\t\t\t\t\tSystem.out.println(&quot;please enter the room ID again or enter x to quit&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static String getRoomList(RoomDB roomDB)\r\n    \t{\r\n    \r\n    \t\tString roomList = &quot;&quot;;\r\n    \t\tfor(Room r:roomDB.getRoom())\r\n    \t\t{\r\n    \r\n    \t\t\tif(!r.isBooked())\r\n    \t\t\t{\r\n    \t\t\t\troomList = roomList+r.getRoomID()+&quot; is free&quot;+&quot;   &quot;;\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\troomList = roomList+r.getRoomID()+&quot; has been booked &quot;;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\treturn roomList;\r\n    \t}\r\n    \r\n    \r\n    \tpublic static Room getRoom(String roomID){\r\n    \r\n    \t\tfor(Room r:roomDB.getRoom()){\r\n    \r\n    \t\t\tif(r.getRoomID().equals(roomID)){\r\n    \t\t\t\tSystem.out.println(&quot;r.getRoomID : &quot; + r.getRoomID() + &quot;  AND user.roomID :&quot; + roomID);\r\n    \t\t\t\treturn r;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\treturn null;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**EDITED :** \r\n\r\nHere, \r\n\r\n    if(!room.isBooked()){\r\n    System.out.println(&quot;Book successfully&quot;);\r\n    room.setBooked(true); // this line does, booked room, after booked once it won&#39;t assign to any one else.\r\n    break;\r\n\r\n}","title":"Room Booking Program","body":"<p>This is Perfect Answer, See this just copy it and run below code, please remove modify to your package/class name accordingly as you wish,</p>\n\n<p>Forget to set true after room Allocated, if Room seems to be free then allocate and marked it as a BOOKED->true.</p>\n\n<pre><code>package roombooking;\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\nclass Room \n{\n    private String roomID  = null;\n    private boolean booked = false;\n\n    Room(String roomID)\n    {\n        this.roomID = roomID;\n    }\n\n    String getRoomID()\n    {\n        return roomID;\n    }\n\n    void cancel()\n    {\n        booked = false;\n    }\n\n\n    boolean isBooked()\n    {\n        return booked;\n    }\n\n    public void setBooked(boolean booked) {\n        this.booked = booked;\n    }\n\n\n}\n\nclass RoomDB \n{\n    private ArrayList&lt;Room&gt; room;\n    private String[] roomID = {\"Room1\",\"Room2\"};\n\n    RoomDB(){\n\n        room = new ArrayList&lt;Room&gt;();                     \n        for(int i=0;i&lt;roomID.length;i++)\n        {\n            addRoom(new Room(roomID[i]));\n        }\n\n    }\n\n    public void addRoom(Room addRoom){\n        room.add(addRoom);\n    }\n\n    public ArrayList&lt;Room&gt; getRoom(){\n        return room;\n    }\n}\n\npublic class Booking {\n\n    static RoomDB roomDB = new RoomDB();\n\n    public static void main(String[] args) {\n        String roomID;      \n        Room room;  \n        Scanner inputID = new Scanner(System.in);\n\n        while(true){\n\n            System.out.println(\"Please choose the room you want to book \\n\"+getRoomList(roomDB));\n\n            while(true){\n                System.out.println(\"Enter your Room no. : (Enter x for quite ) : \");\n                roomID = inputID.nextLine();\n                System.out.println(\"X : \" + roomID.equals(\"x\"));\n                if(roomID.equals(\"x\")){\n                    System.out.println(\"Break\");\n                    break;\n                }\n\n                if(getRoom(roomID) == null){\n\n                    System.out.println(\"The room ID is incorrect, please enter again or enter x to quit\");\n\n                }\n                else{\n\n                    room = getRoom(roomID);\n\n                    if(!room.isBooked()){\n                        System.out.println(\"Book successfully\");\n                        room.setBooked(true);\n                        break;\n                    }\n                    else{\n                        System.out.println(\"please enter the room ID again or enter x to quit\");\n                    }\n\n                }\n\n            }\n\n        }\n\n    }\n\n    public static String getRoomList(RoomDB roomDB)\n    {\n\n        String roomList = \"\";\n        for(Room r:roomDB.getRoom())\n        {\n\n            if(!r.isBooked())\n            {\n                roomList = roomList+r.getRoomID()+\" is free\"+\"   \";\n            }\n            else\n            {\n                roomList = roomList+r.getRoomID()+\" has been booked \";\n            }\n\n        }\n        return roomList;\n    }\n\n\n    public static Room getRoom(String roomID){\n\n        for(Room r:roomDB.getRoom()){\n\n            if(r.getRoomID().equals(roomID)){\n                System.out.println(\"r.getRoomID : \" + r.getRoomID() + \"  AND user.roomID :\" + roomID);\n                return r;\n            }\n\n        }\n        return null;\n\n    }\n\n}\n</code></pre>\n\n<p><strong>EDITED :</strong> </p>\n\n<p>Here, </p>\n\n<pre><code>if(!room.isBooked()){\nSystem.out.println(\"Book successfully\");\nroom.setBooked(true); // this line does, booked room, after booked once it won't assign to any one else.\nbreak;\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":6480251,"reputation":192,"user_id":5017518,"accept_rate":68,"display_name":"beginner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33035640,"answer_count":4,"score":1,"last_activity_date":1660292330,"creation_date":1444384500,"question_id":33035213,"body_markdown":"I am new to Java and I try to write a simple room booking program. \r\n\r\nHere is my plan:\r\n\r\nThere will be a class called Booking. It will ask the user to enter room ID to book a room and the user can press x to terminate the program.\r\n\r\nI would like to have another class called RoomDB. I will use arraylist to store the room ID.\r\n\r\nI guess I also need constructor, so I have another class called Room.\r\n\r\nMy idea is when the program run, it will display the available room ID for user to choose. If the user enters the incorrect room ID, the program will show the error message and ask the user to enter again.\r\n\r\nIf the user enters a correct room ID and the room ID is available, it will display a success message to the user.\r\n\r\nIf the user enters a correct room ID and the room ID is already booked, it will ask the user to enter again.\r\n\r\nThat&#39;s all for the idea and I begin to write the code.\r\n\r\nHere is my code for the three classes\r\n\r\nBooking.java\r\n\r\n    package test;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Booking \r\n    {\r\n\tstatic RoomDB roomDB = new RoomDB();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString roomID;\t\t\r\n\t\tRoom room;\t\r\n\t\tScanner inputID = new Scanner(System.in);\r\n\t\r\n\t\t\twhile(true){\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please choose the room you want to book \\n&quot;+getRoomList(roomDB));\r\n\r\n\t\t\t\twhile(true){\r\n\t\t\t\t\troomID = inputID.nextLine();\r\n\t\t\t\t\tif(roomID.equals (&quot;x&quot;)){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(getRoom(roomID) == null){\r\n\r\n\t\t\t\t\t\tSystem.out.println(&quot;The room ID is incorrect, please enter again or enter x to quit&quot;);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\r\n\t\t\t\t\t\troom = getRoom(roomID);\r\n\r\n\t\t\t\t\t\tif(!room.isBooked()){\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Book successfully&quot;);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;please enter the room ID again or enter x to quit&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\tpublic static String getRoomList(RoomDB roomDB)\r\n\t{\r\n\r\n\t\tString roomList = &quot;&quot;;\r\n\t\tfor(Room r:roomDB.getRoom())\r\n\t\t{\r\n\r\n\t\t\tif(!r.isBooked())\r\n\t\t\t{\r\n\t\t\t\troomList = roomList+r.getRoomID()+&quot; is free&quot;+&quot;   &quot;;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\troomList = roomList+r.getRoomID()+&quot; has been booked &quot;;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn roomList;\r\n\t}\r\n\r\n\r\n\tpublic static Room getRoom(String roomID){\r\n\r\n\t\tfor(Room r:roomDB.getRoom()){\r\n\r\n\t\t\tif(r.getRoomID()==roomID){\r\n\r\n\t\t\t\treturn r;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn null;\r\n\r\n\t}\r\n    }\r\n\r\nRoomDB.java\r\n\r\n    package test;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class RoomDB \r\n    {\r\n\tprivate ArrayList&lt;Room&gt; room;\r\n\tprivate String[] roomID = {&quot;Room1&quot;,&quot;Room2&quot;};\r\n\r\n\tRoomDB(){\r\n\r\n\t\troom = new ArrayList&lt;Room&gt;();                     \r\n\t\tfor(int i=0;i&lt;roomID.length;i++)\r\n\t\t{\r\n\t\t\taddRoom(new Room(roomID[i]));\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic void addRoom(Room addRoom){\r\n\t\troom.add(addRoom);\r\n\t}\r\n\r\n\tpublic ArrayList&lt;Room&gt; getRoom(){\r\n\t\treturn room;\r\n\t}\r\n    }\r\n\r\nRoom.java\r\n\r\n    package test;\r\n\r\n    public class Room \r\n    {\r\n\tprivate String roomID  = null;\r\n\tprivate boolean booked = false;\r\n\r\n\tRoom(String roomID)\r\n\t{\r\n\t\tthis.roomID = roomID;\r\n\t}\r\n\r\n\tString getRoomID()\r\n\t{\r\n\t\treturn roomID;\r\n\t}\r\n\r\n\tvoid cancel()\r\n\t{\r\n\t\tbooked = false;\r\n\t}\r\n\r\n\r\n\tboolean isBooked()\r\n\t{\r\n\t\treturn booked;\r\n\t}\r\n\r\n    }\r\n\r\nI checked there is no syntax error, but the program cannot run appropriately.\r\n\r\nThe problem is the program keep asking the user to enter the room ID even the room ID is correct. For example, the user enter Room1, the program still keep asking for the input.\r\n\r\nI wonder to know which class cause the problem.\r\n\r\nI should be grateful if someone can give advice on this issue please. ","title":"Room Booking Program","body":"<p>I am new to Java and I try to write a simple room booking program. </p>\n\n<p>Here is my plan:</p>\n\n<p>There will be a class called Booking. It will ask the user to enter room ID to book a room and the user can press x to terminate the program.</p>\n\n<p>I would like to have another class called RoomDB. I will use arraylist to store the room ID.</p>\n\n<p>I guess I also need constructor, so I have another class called Room.</p>\n\n<p>My idea is when the program run, it will display the available room ID for user to choose. If the user enters the incorrect room ID, the program will show the error message and ask the user to enter again.</p>\n\n<p>If the user enters a correct room ID and the room ID is available, it will display a success message to the user.</p>\n\n<p>If the user enters a correct room ID and the room ID is already booked, it will ask the user to enter again.</p>\n\n<p>That's all for the idea and I begin to write the code.</p>\n\n<p>Here is my code for the three classes</p>\n\n<p>Booking.java</p>\n\n<pre><code>package test;\n\nimport java.util.Scanner;\n\npublic class Booking \n{\nstatic RoomDB roomDB = new RoomDB();\n\npublic static void main(String[] args) {\n    String roomID;      \n    Room room;  \n    Scanner inputID = new Scanner(System.in);\n\n        while(true){\n\n            System.out.println(\"Please choose the room you want to book \\n\"+getRoomList(roomDB));\n\n            while(true){\n                roomID = inputID.nextLine();\n                if(roomID.equals (\"x\")){\n                    break;\n                }\n\n                if(getRoom(roomID) == null){\n\n                    System.out.println(\"The room ID is incorrect, please enter again or enter x to quit\");\n\n                }\n                else{\n\n                    room = getRoom(roomID);\n\n                    if(!room.isBooked()){\n                        System.out.println(\"Book successfully\");\n                        break;\n                    }\n                    else{\n                        System.out.println(\"please enter the room ID again or enter x to quit\");\n                    }\n                }\n\n            }\n\n        }\n\n    }\n\npublic static String getRoomList(RoomDB roomDB)\n{\n\n    String roomList = \"\";\n    for(Room r:roomDB.getRoom())\n    {\n\n        if(!r.isBooked())\n        {\n            roomList = roomList+r.getRoomID()+\" is free\"+\"   \";\n        }\n        else\n        {\n            roomList = roomList+r.getRoomID()+\" has been booked \";\n        }\n\n    }\n    return roomList;\n}\n\n\npublic static Room getRoom(String roomID){\n\n    for(Room r:roomDB.getRoom()){\n\n        if(r.getRoomID()==roomID){\n\n            return r;\n\n        }\n\n    }\n    return null;\n\n}\n}\n</code></pre>\n\n<p>RoomDB.java</p>\n\n<pre><code>package test;\n\nimport java.util.ArrayList;\n\npublic class RoomDB \n{\nprivate ArrayList&lt;Room&gt; room;\nprivate String[] roomID = {\"Room1\",\"Room2\"};\n\nRoomDB(){\n\n    room = new ArrayList&lt;Room&gt;();                     \n    for(int i=0;i&lt;roomID.length;i++)\n    {\n        addRoom(new Room(roomID[i]));\n    }\n\n}\n\npublic void addRoom(Room addRoom){\n    room.add(addRoom);\n}\n\npublic ArrayList&lt;Room&gt; getRoom(){\n    return room;\n}\n}\n</code></pre>\n\n<p>Room.java</p>\n\n<pre><code>package test;\n\npublic class Room \n{\nprivate String roomID  = null;\nprivate boolean booked = false;\n\nRoom(String roomID)\n{\n    this.roomID = roomID;\n}\n\nString getRoomID()\n{\n    return roomID;\n}\n\nvoid cancel()\n{\n    booked = false;\n}\n\n\nboolean isBooked()\n{\n    return booked;\n}\n\n}\n</code></pre>\n\n<p>I checked there is no syntax error, but the program cannot run appropriately.</p>\n\n<p>The problem is the program keep asking the user to enter the room ID even the room ID is correct. For example, the user enter Room1, the program still keep asking for the input.</p>\n\n<p>I wonder to know which class cause the problem.</p>\n\n<p>I should be grateful if someone can give advice on this issue please. </p>\n"},{"tags":["java","android","android-studio","android-layout","android-fragmentactivity"],"comments":[{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1660259800,"post_id":73327444,"comment_id":129497058,"body_markdown":"Why not use an `xml` file and put your class `MyView` there ?","body":"Why not use an <code>xml</code> file and put your class <code>MyView</code> there ?"}],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660292294,"creation_date":1660292294,"answer_id":73331189,"question_id":73327444,"body_markdown":"You can create MainActivity2, and in AndroidManifest, change\r\n```\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n```\r\nfrom MainActivity to MainActivity2.\r\n\r\nAnd in MainActivity2, using Intent to navigate to MainActivity","title":"open MainActivity using another activity java class","body":"<p>You can create MainActivity2, and in AndroidManifest, change</p>\n<pre><code>            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n</code></pre>\n<p>from MainActivity to MainActivity2.</p>\n<p>And in MainActivity2, using Intent to navigate to MainActivity</p>\n"}],"owner":{"account_id":25104695,"reputation":13,"user_id":18954998,"display_name":"Tiyus98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73331189,"answer_count":1,"score":0,"last_activity_date":1660292294,"creation_date":1660256510,"question_id":73327444,"body_markdown":"I have made a simple canvas. but I want to make a new activity java class and open this activity using that activity java class. I have not used any layout files to make this class. \r\nI want to know how can i make new activity before starting this and I won&#39;t open this java activity class using that. I have some idea using intent we can open them. but I haven&#39;t any clear idea. \r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ArrayList&lt;Double&gt; values;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(new MyView(this));\r\n        }\r\n    \r\n        public class MyView extends View{\r\n            public MyView(Context context){\r\n                super(context);\r\n            }\r\n    \r\n            @Override\r\n            protected void onDraw(Canvas canvas) {\r\n                \r\n                //Build Canvas\r\n                super.onDraw(canvas);\r\n                //Give the size\r\n                int x = getWidth();\r\n                int y = getHeight();\r\n                int radius = 500;\r\n    \r\n                Paint paint = new Paint();\r\n                paint.setStyle(Paint.Style.FILL);\r\n                paint.setColor(Color.WHITE);\r\n                canvas.drawPaint(paint);\r\n    \r\n                // Add Values to ArrayList\r\n                values = new ArrayList&lt;&gt;();\r\n                values.add(20.1);\r\n                values.add(21.9);\r\n                values.add(21.3);\r\n                values.add(21.4);\r\n                values.add(20.5);\r\n                values.add(21.6);\r\n                values.add(21.7);\r\n    \r\n                //Generate Mean\r\n                double sum = 0.0;\r\n                for (double n : values){\r\n                    sum+= n;\r\n                }\r\n    \r\n                try {\r\n                    double mean = sum/values.size();\r\n    \r\n                    //Set Colors on Values\r\n                    if (mean &lt;=50.0){\r\n                        paint.setColor(Color.parseColor(&quot;#001a1a&quot;));\r\n                        canvas.drawCircle(x/2,y/2,radius,paint);\r\n                        //Status show Toast\r\n                        Toast toast = Toast.makeText(MainActivity.this, &quot;Wrong Input&quot;, Toast.LENGTH_LONG);\r\n                        toast.getView().setBackgroundColor(Color.parseColor(&quot;#001a1a&quot;));\r\n                        toast.show();\r\n                        Toast toast2 = Toast.makeText(MainActivity.this, &quot;Please check about Values&quot;, Toast.LENGTH_LONG);\r\n                        toast2.getView().setBackgroundColor(Color.parseColor(&quot;#001a1a&quot;));\r\n                        toast2.show();\r\n                    }\r\n                    else if (mean &lt;=80.0){\r\n                        paint.setColor(Color.parseColor(&quot;#87CEEB&quot;));\r\n                        canvas.drawCircle(x/2,y/2,radius,paint);\r\n                        //Status show Toast\r\n                        Toast toast = Toast.makeText(MainActivity.this, &quot;Hart rate is Low&quot;, Toast.LENGTH_LONG);\r\n                        toast.getView().setBackgroundColor(Color.parseColor(&quot;#87CEEB&quot;));\r\n                        toast.show();\r\n                    }\r\n                    else if(mean &lt;=100.0){\r\n                        paint.setColor(Color.parseColor(&quot;#B2BEB5&quot;));\r\n                        canvas.drawCircle(x/2,y/2,radius,paint);\r\n                        //Status show Toast\r\n                        Toast toast = Toast.makeText(MainActivity.this, &quot;Hart rate is Normal&quot;, Toast.LENGTH_LONG);\r\n                        toast.getView().setBackgroundColor(Color.parseColor(&quot;#B2BEB5&quot;));\r\n                        toast.show();\r\n                    }\r\n                    else if(mean&lt;=140.0){\r\n                        paint.setColor(Color.parseColor(&quot;#CD5C5C&quot;));\r\n                        canvas.drawCircle(x/2,y/2,radius,paint);\r\n                        //Status show Toast\r\n                        Toast toast = Toast.makeText(MainActivity.this, &quot;Hart rate is Very High&quot;, Toast.LENGTH_LONG);\r\n                        toast.getView().setBackgroundColor(Color.parseColor(&quot;#CD5C5C&quot;));\r\n                        toast.show();\r\n    \r\n                    }else{\r\n                        paint.setColor(Color.parseColor(&quot;#001a1a&quot;));\r\n                        canvas.drawCircle(x/2,y/2,radius,paint);\r\n    \r\n                        Toast toast = Toast.makeText(MainActivity.this, &quot;Wrong Input&quot;, Toast.LENGTH_LONG);\r\n                        toast.getView().setBackgroundColor(Color.parseColor(&quot;#001a1a&quot;));\r\n                        toast.show();\r\n                        Toast toast2 = Toast.makeText(MainActivity.this, &quot;Please check about Values&quot;, Toast.LENGTH_LONG);\r\n                        toast2.getView().setBackgroundColor(Color.parseColor(&quot;#001a1a&quot;));\r\n                        toast2.show();\r\n    \r\n                    }\r\n                }catch (Exception e){\r\n                    Toast.makeText(MainActivity.this, &quot;Please check Values&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n    \r\n            }\r\n        }\r\n    }","title":"open MainActivity using another activity java class","body":"<p>I have made a simple canvas. but I want to make a new activity java class and open this activity using that activity java class. I have not used any layout files to make this class.\nI want to know how can i make new activity before starting this and I won't open this java activity class using that. I have some idea using intent we can open them. but I haven't any clear idea.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ArrayList&lt;Double&gt; values;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(new MyView(this));\n    }\n\n    public class MyView extends View{\n        public MyView(Context context){\n            super(context);\n        }\n\n        @Override\n        protected void onDraw(Canvas canvas) {\n            \n            //Build Canvas\n            super.onDraw(canvas);\n            //Give the size\n            int x = getWidth();\n            int y = getHeight();\n            int radius = 500;\n\n            Paint paint = new Paint();\n            paint.setStyle(Paint.Style.FILL);\n            paint.setColor(Color.WHITE);\n            canvas.drawPaint(paint);\n\n            // Add Values to ArrayList\n            values = new ArrayList&lt;&gt;();\n            values.add(20.1);\n            values.add(21.9);\n            values.add(21.3);\n            values.add(21.4);\n            values.add(20.5);\n            values.add(21.6);\n            values.add(21.7);\n\n            //Generate Mean\n            double sum = 0.0;\n            for (double n : values){\n                sum+= n;\n            }\n\n            try {\n                double mean = sum/values.size();\n\n                //Set Colors on Values\n                if (mean &lt;=50.0){\n                    paint.setColor(Color.parseColor(&quot;#001a1a&quot;));\n                    canvas.drawCircle(x/2,y/2,radius,paint);\n                    //Status show Toast\n                    Toast toast = Toast.makeText(MainActivity.this, &quot;Wrong Input&quot;, Toast.LENGTH_LONG);\n                    toast.getView().setBackgroundColor(Color.parseColor(&quot;#001a1a&quot;));\n                    toast.show();\n                    Toast toast2 = Toast.makeText(MainActivity.this, &quot;Please check about Values&quot;, Toast.LENGTH_LONG);\n                    toast2.getView().setBackgroundColor(Color.parseColor(&quot;#001a1a&quot;));\n                    toast2.show();\n                }\n                else if (mean &lt;=80.0){\n                    paint.setColor(Color.parseColor(&quot;#87CEEB&quot;));\n                    canvas.drawCircle(x/2,y/2,radius,paint);\n                    //Status show Toast\n                    Toast toast = Toast.makeText(MainActivity.this, &quot;Hart rate is Low&quot;, Toast.LENGTH_LONG);\n                    toast.getView().setBackgroundColor(Color.parseColor(&quot;#87CEEB&quot;));\n                    toast.show();\n                }\n                else if(mean &lt;=100.0){\n                    paint.setColor(Color.parseColor(&quot;#B2BEB5&quot;));\n                    canvas.drawCircle(x/2,y/2,radius,paint);\n                    //Status show Toast\n                    Toast toast = Toast.makeText(MainActivity.this, &quot;Hart rate is Normal&quot;, Toast.LENGTH_LONG);\n                    toast.getView().setBackgroundColor(Color.parseColor(&quot;#B2BEB5&quot;));\n                    toast.show();\n                }\n                else if(mean&lt;=140.0){\n                    paint.setColor(Color.parseColor(&quot;#CD5C5C&quot;));\n                    canvas.drawCircle(x/2,y/2,radius,paint);\n                    //Status show Toast\n                    Toast toast = Toast.makeText(MainActivity.this, &quot;Hart rate is Very High&quot;, Toast.LENGTH_LONG);\n                    toast.getView().setBackgroundColor(Color.parseColor(&quot;#CD5C5C&quot;));\n                    toast.show();\n\n                }else{\n                    paint.setColor(Color.parseColor(&quot;#001a1a&quot;));\n                    canvas.drawCircle(x/2,y/2,radius,paint);\n\n                    Toast toast = Toast.makeText(MainActivity.this, &quot;Wrong Input&quot;, Toast.LENGTH_LONG);\n                    toast.getView().setBackgroundColor(Color.parseColor(&quot;#001a1a&quot;));\n                    toast.show();\n                    Toast toast2 = Toast.makeText(MainActivity.this, &quot;Please check about Values&quot;, Toast.LENGTH_LONG);\n                    toast2.getView().setBackgroundColor(Color.parseColor(&quot;#001a1a&quot;));\n                    toast2.show();\n\n                }\n            }catch (Exception e){\n                Toast.makeText(MainActivity.this, &quot;Please check Values&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1660243538,"post_id":73325294,"comment_id":129493059,"body_markdown":"As for showing something one time there are two cases :- \n1 - Show only once on the current device he is logged in \nA - This is fairly simple you could use as simple as Shared prefs and a Boolean Flag in local storage. ( SQLLite is also a possibility depends on you )\n2 - Show only once irrespective on which device user logs in.\nA - Since you are using firebase i am assuming user is authenticated and record is stored on Firebase instead of saving the flag in Shared Prefs store it against user record on Firebase and proceed from there.","body":"As for showing something one time there are two cases :-  1 - Show only once on the current device he is logged in  A - This is fairly simple you could use as simple as Shared prefs and a Boolean Flag in local storage. ( SQLLite is also a possibility depends on you ) 2 - Show only once irrespective on which device user logs in. A - Since you are using firebase i am assuming user is authenticated and record is stored on Firebase instead of saving the flag in Shared Prefs store it against user record on Firebase and proceed from there."}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660243261,"creation_date":1660243261,"answer_id":73325474,"question_id":73325294,"body_markdown":"Make the page that only appears one-time -&gt; store a value in the shared preferences &quot;isInfoShownToUser -&gt; false&quot; then do a check when the app starts to check if this value is false or true. If it is false show the &quot;take the info&quot; page .. then turn the value to false in the shared preferences. \r\n\r\nHow do I make the app automatically send data -&gt; Use a Workmanager implementation to send data to the server (Firebase) at a particular time ..\r\nOr use a implementation like the first one which uploads the data to the server just once everyday\r\n\r\n\r\n","title":"So am building an app and it has this feature that i dont know exactly how to go about it","body":"<p>Make the page that only appears one-time -&gt; store a value in the shared preferences &quot;isInfoShownToUser -&gt; false&quot; then do a check when the app starts to check if this value is false or true. If it is false show the &quot;take the info&quot; page .. then turn the value to false in the shared preferences.</p>\n<p>How do I make the app automatically send data -&gt; Use a Workmanager implementation to send data to the server (Firebase) at a particular time ..\nOr use a implementation like the first one which uploads the data to the server just once everyday</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660292171,"creation_date":1660292171,"answer_id":73331165,"question_id":73325294,"body_markdown":"While @Narendra_Nath&#39;s answer might work, please note that is not a bulletproof solution. Why? Because a SharedPreferences doesn&#39;t persist across app uninstalls. This means that your user can install and uninstall the app and see the page as much as they want. So if you indeed want a user to see a screen only once, then you should consider storing that data in a database. Please note that SQLite isn&#39;t also a solution because when a user uninstalls the app, everything that is stored locally is wiped out. So what&#39;s the solution?\r\n\r\nThe best way to solve this would be to store the data in the cloud, either in [Cloud Firestore][1] or in the [Realtime Database][2]. So you can set a boolean variable and always check against it.\r\n\r\nIf you however intend to implement [Firebase Authentication][3], then another solution would be to display the screen [when your users are authenticated for the first time][4]. So even if they will try to sign in on another device, install and uninstall the app, they won&#39;t be able to see the screen again.\r\n\r\nRegarding the second problem, you should consider using [Cloud Function for Firebase][5]. It&#39;s the most elegant solution. If you want to somehow schedule an operation, then you should consider using [Cloud Scheduler][6], as explained in my answer in the following post:\r\n\r\n* https://stackoverflow.com/questions/54767485/where-should-i-put-a-code-which-take-a-long-time-to-calculate/54767571#54767571\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore\r\n  [2]: https://firebase.google.com/docs/database\r\n  [3]: https://firebase.google.com/docs/auth\r\n  [4]: https://stackoverflow.com/questions/52275076/how-can-i-detect-if-user-first-time-in-firebase/52276118\r\n  [5]: https://firebase.google.com/docs/functions\r\n  [6]: https://stackoverflow.com/questions/54767485/is-it-not-possible-to-have-a-code-in-the-background-who-will-be-called-every-24h/54767571#54767571","title":"So am building an app and it has this feature that i dont know exactly how to go about it","body":"<p>While @Narendra_Nath's answer might work, please note that is not a bulletproof solution. Why? Because a SharedPreferences doesn't persist across app uninstalls. This means that your user can install and uninstall the app and see the page as much as they want. So if you indeed want a user to see a screen only once, then you should consider storing that data in a database. Please note that SQLite isn't also a solution because when a user uninstalls the app, everything that is stored locally is wiped out. So what's the solution?</p>\n<p>The best way to solve this would be to store the data in the cloud, either in <a href=\"https://firebase.google.com/docs/firestore\" rel=\"nofollow noreferrer\">Cloud Firestore</a> or in the <a href=\"https://firebase.google.com/docs/database\" rel=\"nofollow noreferrer\">Realtime Database</a>. So you can set a boolean variable and always check against it.</p>\n<p>If you however intend to implement <a href=\"https://firebase.google.com/docs/auth\" rel=\"nofollow noreferrer\">Firebase Authentication</a>, then another solution would be to display the screen <a href=\"https://stackoverflow.com/questions/52275076/how-can-i-detect-if-user-first-time-in-firebase/52276118\">when your users are authenticated for the first time</a>. So even if they will try to sign in on another device, install and uninstall the app, they won't be able to see the screen again.</p>\n<p>Regarding the second problem, you should consider using <a href=\"https://firebase.google.com/docs/functions\" rel=\"nofollow noreferrer\">Cloud Function for Firebase</a>. It's the most elegant solution. If you want to somehow schedule an operation, then you should consider using <a href=\"https://stackoverflow.com/questions/54767485/is-it-not-possible-to-have-a-code-in-the-background-who-will-be-called-every-24h/54767571#54767571\">Cloud Scheduler</a>, as explained in my answer in the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/54767485/where-should-i-put-a-code-which-take-a-long-time-to-calculate/54767571#54767571\">Is it not possible to have a code in the background who will be called every 24h?</a></li>\n</ul>\n"}],"owner":{"display_name":"user19595313"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73331165,"answer_count":2,"score":1,"last_activity_date":1660292224,"creation_date":1660242275,"question_id":73325294,"body_markdown":"I hope this makes a bit sense, basically, I have this feature in my app for tracking calories which consists of having this page that only appears the first time you use the feature and it asks you to add personal details (so it can make the right calculations), after that you get faced with a simple page that tracks your nutrition with a button for the user to insert the meals he has eaten, this page has to save the inserted data (via firebase) and then restart from 0 each and every day.\r\nmy first problem is I don&#39;t know how I make the page that only appears one time to save personal data(to be more precise I don&#39;t know how to make only appears the first time). and the second problem is how do I make the app automatically sends the given data at the end of each day?\r\n[interface in normal state][1][, interface when adding the meals][2]\r\n\r\nhopefully, this 2 images will help you get a better grasp of what am trying to explain\r\n\r\n**don&#39;t worry am not looking for someone to straight up solve it all for me, I just need some orientation about what type of things/functions I need to do to solve these 2 problems**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rnj1N.png\r\n  [2]: https://i.stack.imgur.com/QDdSQ.png","title":"So am building an app and it has this feature that i dont know exactly how to go about it","body":"<p>I hope this makes a bit sense, basically, I have this feature in my app for tracking calories which consists of having this page that only appears the first time you use the feature and it asks you to add personal details (so it can make the right calculations), after that you get faced with a simple page that tracks your nutrition with a button for the user to insert the meals he has eaten, this page has to save the inserted data (via firebase) and then restart from 0 each and every day.\nmy first problem is I don't know how I make the page that only appears one time to save personal data(to be more precise I don't know how to make only appears the first time). and the second problem is how do I make the app automatically sends the given data at the end of each day?\n<a href=\"https://i.stack.imgur.com/rnj1N.png\" rel=\"nofollow noreferrer\">interface in normal state</a><a href=\"https://i.stack.imgur.com/QDdSQ.png\" rel=\"nofollow noreferrer\">, interface when adding the meals</a></p>\n<p>hopefully, this 2 images will help you get a better grasp of what am trying to explain</p>\n<p><strong>don't worry am not looking for someone to straight up solve it all for me, I just need some orientation about what type of things/functions I need to do to solve these 2 problems</strong></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1660223752,"post_id":73321163,"comment_id":129485694,"body_markdown":"Your last code snippet looks very close to the expected result. Is the only problem the unwanted line break before `.perform` or also the missing (unusual) line break before `;`?","body":"Your last code snippet looks very close to the expected result. Is the only problem the unwanted line break before <code>.perform</code> or also the missing (unusual) line break before <code>;</code>?"},{"owner":{"account_id":10413937,"reputation":21,"user_id":7678594,"display_name":"dani_bs"},"score":0,"creation_date":1660231858,"post_id":73321163,"comment_id":129489206,"body_markdown":"I know, but I don&#39;t want that line break. It might be nice here,  but awful to see somewhere else ... ;-)","body":"I know, but I don&#39;t want that line break. It might be nice here,  but awful to see somewhere else ... ;-)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1660285027,"post_id":73321163,"comment_id":129500705,"body_markdown":"Okay, but what about the `;`? Does IntelliJ put it really on a separate line (which looks a bit strange to me). And if yes, do you want this also in Eclipse or is your question only about how to avoid the line break before `.perform`?","body":"Okay, but what about the <code>;</code>? Does IntelliJ put it really on a separate line (which looks a bit strange to me). And if yes, do you want this also in Eclipse or is your question only about how to avoid the line break before <code>.perform</code>?"},{"owner":{"account_id":10413937,"reputation":21,"user_id":7678594,"display_name":"dani_bs"},"score":0,"creation_date":1660292224,"post_id":73321163,"comment_id":129502938,"body_markdown":"What I want is to avoid line break before `.perform`, I do not care about `;`.\nI found that with my current configuration (code n. 2), if I manually add a line break before `.perform` I automatically get code n.3. So I can decide where and when apply it. :-)\n\nThanks for the support!","body":"What I want is to avoid line break before <code>.perform</code>, I do not care about <code>;</code>. I found that with my current configuration (code n. 2), if I manually add a line break before <code>.perform</code> I automatically get code n.3. So I can decide where and when apply it. :-)  Thanks for the support!"}],"owner":{"account_id":10413937,"reputation":21,"user_id":7678594,"display_name":"dani_bs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660292021,"creation_date":1660223098,"question_id":73321163,"body_markdown":"I&#39;m using Eclipse 2022-06 and I&#39;m trying to format a piece of code like IntelliJ does.\r\n\r\nThis is **what I would like**:\r\n\r\n```java\r\n// 1\r\n@Test\r\nvoid create() throws Exception {\r\n   mockMvc.perform( post( &quot;/api/v1/create&quot; )\r\n               .accept( MediaType.APPLICATION_JSON )\r\n               .content( &quot;{ }&quot; )\r\n               .contentType( MediaType.APPLICATION_JSON ) )\r\n         .andDo( print() )\r\n         .andExpect( content().contentType( MediaType.APPLICATION_JSON ) )\r\n         ;\r\n}\r\n```\r\n\r\nBut that is what I get :-(\r\n\r\n```java\r\n// 2\r\n@Test\r\nvoid create() throws Exception {\r\n   mockMvc.perform( post( &quot;/api/v1/create&quot; )\r\n         .accept( MediaType.APPLICATION_JSON )\r\n         .content( &quot;{ }&quot; )\r\n         .contentType( MediaType.APPLICATION_JSON ) )\r\n         .andDo( print() )\r\n         .andExpect( content().contentType( MediaType.APPLICATION_JSON ) );\r\n}\r\n```\r\n\r\nor \r\n\r\n```java\r\n// 3\r\n@Test\r\nvoid create() throws Exception {\r\n   mockMvc\r\n         .perform( post( &quot;/api/v1/create&quot; )\r\n               .accept( MediaType.APPLICATION_JSON )\r\n               .content( &quot;{ }&quot; )\r\n               .contentType( MediaType.APPLICATION_JSON ) )\r\n         .andDo( print() )\r\n         .andExpect( content().contentType( MediaType.APPLICATION_JSON ) );\r\n}\r\n```\r\n\r\nI tried every combinations of that option without find solution:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAny suggestions?\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dRMVc.png","title":"How to format Java code di Eclipse like IntelliJ","body":"<p>I'm using Eclipse 2022-06 and I'm trying to format a piece of code like IntelliJ does.</p>\n<p>This is <strong>what I would like</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// 1\n@Test\nvoid create() throws Exception {\n   mockMvc.perform( post( &quot;/api/v1/create&quot; )\n               .accept( MediaType.APPLICATION_JSON )\n               .content( &quot;{ }&quot; )\n               .contentType( MediaType.APPLICATION_JSON ) )\n         .andDo( print() )\n         .andExpect( content().contentType( MediaType.APPLICATION_JSON ) )\n         ;\n}\n</code></pre>\n<p>But that is what I get :-(</p>\n<pre class=\"lang-java prettyprint-override\"><code>// 2\n@Test\nvoid create() throws Exception {\n   mockMvc.perform( post( &quot;/api/v1/create&quot; )\n         .accept( MediaType.APPLICATION_JSON )\n         .content( &quot;{ }&quot; )\n         .contentType( MediaType.APPLICATION_JSON ) )\n         .andDo( print() )\n         .andExpect( content().contentType( MediaType.APPLICATION_JSON ) );\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>// 3\n@Test\nvoid create() throws Exception {\n   mockMvc\n         .perform( post( &quot;/api/v1/create&quot; )\n               .accept( MediaType.APPLICATION_JSON )\n               .content( &quot;{ }&quot; )\n               .contentType( MediaType.APPLICATION_JSON ) )\n         .andDo( print() )\n         .andExpect( content().contentType( MediaType.APPLICATION_JSON ) );\n}\n</code></pre>\n<p>I tried every combinations of that option without find solution:</p>\n<p><a href=\"https://i.stack.imgur.com/dRMVc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dRMVc.png\" alt=\"enter image description here\" /></a></p>\n<p>Any suggestions?\nThanks.</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":0,"creation_date":1660249798,"post_id":73326340,"comment_id":129494862,"body_markdown":"Can you share the value of `insertSQL`?","body":"Can you share the value of <code>insertSQL</code>?"},{"owner":{"account_id":1769596,"reputation":1500,"user_id":1614700,"accept_rate":72,"display_name":"Vannian"},"score":0,"creation_date":1660250006,"post_id":73326340,"comment_id":129494913,"body_markdown":"private final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) VALUES (&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;) &quot;;","body":"private final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) VALUES (&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;&zwnj;&#8203;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;&zwnj;&#8203;,&#39;?&#39;,&#39;?&#39;) &quot;;"},{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":2,"creation_date":1660250304,"post_id":73326340,"comment_id":129494983,"body_markdown":"Can you try remove the `&#39;` before and after `?`?","body":"Can you try remove the <code>&#39;</code> before and after <code>?</code>?"},{"owner":{"account_id":1769596,"reputation":1500,"user_id":1614700,"accept_rate":72,"display_name":"Vannian"},"score":0,"creation_date":1660250530,"post_id":73326340,"comment_id":129495048,"body_markdown":"You are correct. the problem was `?` Thank you so much","body":"You are correct. the problem was <code>?</code> Thank you so much"}],"answers":[{"tags":[],"owner":{"account_id":1769596,"reputation":1500,"user_id":1614700,"accept_rate":72,"display_name":"Vannian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660291956,"creation_date":1660250624,"answer_id":73326697,"question_id":73326340,"body_markdown":"The answer to this question is that we do not need `&#39;` around `?` in insert sql.\r\n\r\nThis is wrong:\r\n\r\n    private final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) VALUES (&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;) &quot;;\r\n\r\ncorrect one is:\r\n\r\n    private final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) &quot;;\r\n\r\n\r\n","title":"Getting ArrayIndexOutOfBoundsException when trying to insert an entry with PreparedStatement in sqlite","body":"<p>The answer to this question is that we do not need <code>'</code> around <code>?</code> in insert sql.</p>\n<p>This is wrong:</p>\n<pre><code>private final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) VALUES ('?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?') &quot;;\n</code></pre>\n<p>correct one is:</p>\n<pre><code>private final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) &quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660250679,"creation_date":1660250679,"answer_id":73326711,"question_id":73326340,"body_markdown":"Prepared statement escaped the parameters:\r\n```java\r\nprivate final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) &quot;\r\n  + &quot;VALUES (&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;)&quot;;\r\n```\r\n\r\nIt needed to be replaced with:\r\n```java\r\nprivate final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) &quot;\r\n  + &quot;VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)&quot;;\r\n```","title":"Getting ArrayIndexOutOfBoundsException when trying to insert an entry with PreparedStatement in sqlite","body":"<p>Prepared statement escaped the parameters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) &quot;\n  + &quot;VALUES ('?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?')&quot;;\n</code></pre>\n<p>It needed to be replaced with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) &quot;\n  + &quot;VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)&quot;;\n</code></pre>\n"}],"owner":{"account_id":1769596,"reputation":1500,"user_id":1614700,"accept_rate":72,"display_name":"Vannian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1660291956,"creation_date":1660248184,"question_id":73326340,"body_markdown":"I am getting `java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 0` whenever I tried to insert an element in the database.\r\n\r\nThis is my code:\r\n\r\n    private final String createTable = &quot;CREATE TABLE demo2 ( id INTEGER PRIMARY KEY AUTOINCREMENT, contract_nr INTEGER UNIQUE, name VARCHAR(30),surname VARCHAR(30), address VARCHAR(50), tel VARCHAR(15), date_of_birth DATE, license_nr VARCHAR(30), nationality VARCHAR(10), driver1 VARCHAR(30), driver2 VARCHAR(30), pickup_date DATE, drop_date DATE, renting_days int, pickup_time VARCHAR(10), drop_time VARCHAR(10), price double, included_km double, effected_km double, mail VARCHAR(30), type VARCHAR(10), valid bool, created_by VARCHAR(30))&quot;;\r\n\r\n    private final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) VALUES (&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;,&#39;?&#39;) &quot;;\r\n\r\n\tpublic void createNewDatabase() {\r\n\t\tString currentDirPDFpath = System.getProperty(&quot;user.dir&quot;)+&quot;/db/test.db&quot;;\r\n    \t\r\n        String url = &quot;jdbc:sqlite:&quot;+ currentDirPDFpath;\r\n\r\n        try (Connection conn = DriverManager.getConnection(url)) {\r\n            if (conn != null) {\r\n                DatabaseMetaData meta = conn.getMetaData();\r\n                System.out.println(&quot;A new database has been created.&quot;);\r\n                \r\n                Statement stmt = null;\r\n                \r\n                  stmt = conn.createStatement();\r\n                  \r\n                  stmt.executeUpdate(createTable);    \r\n                  stmt.close();    \r\n                  conn.close();\r\n               \r\n                \r\n            }\r\n\r\n        } catch (SQLException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n\t}\r\n\r\n\tpublic void insertContract(Contract c) {\r\n\t\ttry {\r\n\t\t\tConnection conn = Connect.connect();\r\n\t\t\tif (conn != null) {\r\n\t\t\t\tPreparedStatement pstmt = conn.prepareStatement(insertSQL, Statement.RETURN_GENERATED_KEYS);\r\n\t\t\t\tpstmt.setInt(1, c.getContractNr());\r\n\t\t\t\tpstmt.setString(2, c.getName());\r\n\t\t\t\tpstmt.setString(3, c.getSurname());\r\n\t\t\t\tpstmt.setString(4, c.getAddress());\r\n\t\t\t\tpstmt.setString(5, c.getTel());\r\n\t\t\t\tpstmt.setDate(6, Date.valueOf(c.getDateOfBirth()) );\r\n\t\t\t\tpstmt.setString(7, c.getLicenseNr());\r\n\t\t\t\tpstmt.setString(8, c.getNationality());\r\n\t\t\t\tpstmt.setString(9, c.getDriver1());\r\n\t\t\t\tpstmt.setString(10, c.getDriver2());\r\n\t\t\t\tpstmt.setDate(11, Date.valueOf(c.getPickupDate()));\r\n\t\t\t\tpstmt.setDate(12, Date.valueOf(c.getDropDate()));\r\n\t\t\t\tpstmt.setDouble(13, c.getRentingDays());\r\n\t\t\t\tpstmt.setString(14, c.getPickupTime());\r\n\t\t\t\tpstmt.setString(15, c.getDropTime());\r\n\t\t\t\tpstmt.setDouble(16, c.getPrice());\r\n\t\t\t\tpstmt.setDouble(17, c.getIncludedKM());\r\n\t\t\t\tpstmt.setDouble(18, c.getDrivenKM());\r\n\t\t\t\tpstmt.setString(19, c.getMail());\r\n\t\t\t\tpstmt.setString(20, c.getTypeVeichle().toString());\r\n\t\t\t\tpstmt.setBoolean(22, c.getValid());\r\n\t\t\t\tpstmt.setString(23, c.getCreatedBy());\r\n\r\n\t\t\t\tpstmt.executeUpdate();\r\n\r\n\t\t\t} \r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nWhen executing the line `pstmt.setInt(1, c.getContractNr());` I got this execption. Going through the code I saw that:\r\n\r\n    protected void batch(int pos, Object value) throws SQLException {\r\n        checkOpen();\r\n        if (batch == null) {\r\n            batch = new Object[paramCount];\r\n        }\r\n        batch[batchPos + pos - 1] = value;\r\n    }\r\n\r\nin this method batch is an empty array.\r\nAny suggestion where I am getting wrong?\r\n\r\nStactrace:\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0\r\n    \tat org.sqlite.core.CorePreparedStatement.batch(CorePreparedStatement.java:106)\r\n    \tat org.sqlite.jdbc3.JDBC3PreparedStatement.setInt(JDBC3PreparedStatement.java:323)\r\n    \tat utils.DBManager.insertContract(DBManager.java:86)\r\n    \tat VNoleggioMain.generateTableTab(VNoleggioMain.java:135)\r\n    \tat VNoleggioMain.initialize(VNoleggioMain.java:101)\r\n    \tat VNoleggioMain.&lt;init&gt;(VNoleggioMain.java:70)\r\n    \tat VNoleggioMain$1.run(VNoleggioMain.java:57)\r\n    \tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)","title":"Getting ArrayIndexOutOfBoundsException when trying to insert an entry with PreparedStatement in sqlite","body":"<p>I am getting <code>java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 0</code> whenever I tried to insert an element in the database.</p>\n<p>This is my code:</p>\n<pre><code>private final String createTable = &quot;CREATE TABLE demo2 ( id INTEGER PRIMARY KEY AUTOINCREMENT, contract_nr INTEGER UNIQUE, name VARCHAR(30),surname VARCHAR(30), address VARCHAR(50), tel VARCHAR(15), date_of_birth DATE, license_nr VARCHAR(30), nationality VARCHAR(10), driver1 VARCHAR(30), driver2 VARCHAR(30), pickup_date DATE, drop_date DATE, renting_days int, pickup_time VARCHAR(10), drop_time VARCHAR(10), price double, included_km double, effected_km double, mail VARCHAR(30), type VARCHAR(10), valid bool, created_by VARCHAR(30))&quot;;\n\nprivate final String insertSQL = &quot;INSERT INTO demo2 (contract_nr, name, surname, address, tel, date_of_birth, license_nr, nationality, driver1, driver2, pickup_date, drop_date, renting_days, pickup_time, drop_time, price, included_km, effected_km, mail, type, valid, created_by) VALUES ('?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?') &quot;;\n\npublic void createNewDatabase() {\n    String currentDirPDFpath = System.getProperty(&quot;user.dir&quot;)+&quot;/db/test.db&quot;;\n    \n    String url = &quot;jdbc:sqlite:&quot;+ currentDirPDFpath;\n\n    try (Connection conn = DriverManager.getConnection(url)) {\n        if (conn != null) {\n            DatabaseMetaData meta = conn.getMetaData();\n            System.out.println(&quot;A new database has been created.&quot;);\n            \n            Statement stmt = null;\n            \n              stmt = conn.createStatement();\n              \n              stmt.executeUpdate(createTable);    \n              stmt.close();    \n              conn.close();\n           \n            \n        }\n\n    } catch (SQLException e) {\n        System.out.println(e.getMessage());\n    }\n}\n\npublic void insertContract(Contract c) {\n    try {\n        Connection conn = Connect.connect();\n        if (conn != null) {\n            PreparedStatement pstmt = conn.prepareStatement(insertSQL, Statement.RETURN_GENERATED_KEYS);\n            pstmt.setInt(1, c.getContractNr());\n            pstmt.setString(2, c.getName());\n            pstmt.setString(3, c.getSurname());\n            pstmt.setString(4, c.getAddress());\n            pstmt.setString(5, c.getTel());\n            pstmt.setDate(6, Date.valueOf(c.getDateOfBirth()) );\n            pstmt.setString(7, c.getLicenseNr());\n            pstmt.setString(8, c.getNationality());\n            pstmt.setString(9, c.getDriver1());\n            pstmt.setString(10, c.getDriver2());\n            pstmt.setDate(11, Date.valueOf(c.getPickupDate()));\n            pstmt.setDate(12, Date.valueOf(c.getDropDate()));\n            pstmt.setDouble(13, c.getRentingDays());\n            pstmt.setString(14, c.getPickupTime());\n            pstmt.setString(15, c.getDropTime());\n            pstmt.setDouble(16, c.getPrice());\n            pstmt.setDouble(17, c.getIncludedKM());\n            pstmt.setDouble(18, c.getDrivenKM());\n            pstmt.setString(19, c.getMail());\n            pstmt.setString(20, c.getTypeVeichle().toString());\n            pstmt.setBoolean(22, c.getValid());\n            pstmt.setString(23, c.getCreatedBy());\n\n            pstmt.executeUpdate();\n\n        } \n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>When executing the line <code>pstmt.setInt(1, c.getContractNr());</code> I got this execption. Going through the code I saw that:</p>\n<pre><code>protected void batch(int pos, Object value) throws SQLException {\n    checkOpen();\n    if (batch == null) {\n        batch = new Object[paramCount];\n    }\n    batch[batchPos + pos - 1] = value;\n}\n</code></pre>\n<p>in this method batch is an empty array.\nAny suggestion where I am getting wrong?</p>\n<p>Stactrace:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 0\n    at org.sqlite.core.CorePreparedStatement.batch(CorePreparedStatement.java:106)\n    at org.sqlite.jdbc3.JDBC3PreparedStatement.setInt(JDBC3PreparedStatement.java:323)\n    at utils.DBManager.insertContract(DBManager.java:86)\n    at VNoleggioMain.generateTableTab(VNoleggioMain.java:135)\n    at VNoleggioMain.initialize(VNoleggioMain.java:101)\n    at VNoleggioMain.&lt;init&gt;(VNoleggioMain.java:70)\n    at VNoleggioMain$1.run(VNoleggioMain.java:57)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n"},{"tags":["java","apache-kafka","cassandra","spark-streaming","spark-cassandra-connector"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1527060478,"post_id":50481252,"comment_id":87977519,"body_markdown":"just call `.toDF` on RDD? You can save to Cassandra from RDD as well","body":"just call <code>.toDF</code> on RDD? You can save to Cassandra from RDD as well"},{"owner":{"account_id":6454399,"reputation":91,"user_id":5000328,"display_name":"Madhusudhan"},"score":0,"creation_date":1527070807,"post_id":50481252,"comment_id":87984482,"body_markdown":"Thanks for the response. It would be great help if you can provide any example code for reference.","body":"Thanks for the response. It would be great help if you can provide any example code for reference."},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1527070927,"post_id":50481252,"comment_id":87984548,"body_markdown":"Please show your code that doesn&#39;t work","body":"Please show your code that doesn&#39;t work"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1527071240,"post_id":50481252,"comment_id":87984751,"body_markdown":"And also versions of Spark, Spark-Cassandra connector, etc.","body":"And also versions of Spark, Spark-Cassandra connector, etc."},{"owner":{"account_id":6454399,"reputation":91,"user_id":5000328,"display_name":"Madhusudhan"},"score":0,"creation_date":1527071602,"post_id":50481252,"comment_id":87984978,"body_markdown":"I am using Spark version 2.1.0 and spark-cassandra-connector_2.10-1.6.0.jar","body":"I am using Spark version 2.1.0 and spark-cassandra-connector_2.10-1.6.0.jar"},{"owner":{"account_id":6454399,"reputation":91,"user_id":5000328,"display_name":"Madhusudhan"},"score":0,"creation_date":1527072289,"post_id":50481252,"comment_id":87985442,"body_markdown":"I have added code snippet which I am using","body":"I have added code snippet which I am using"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1527074072,"post_id":50481252,"comment_id":87986590,"body_markdown":"Did you try to use connector 2.0.7?","body":"Did you try to use connector 2.0.7?"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1527089871,"post_id":50481252,"comment_id":87997688,"body_markdown":"I don&#39;t see any attempts to convert into DataFrame... Source code is incomplete - please refer Cassandra Spark connector documentation for examples on how to use with Spark Streaming","body":"I don&#39;t see any attempts to convert into DataFrame... Source code is incomplete - please refer Cassandra Spark connector documentation for examples on how to use with Spark Streaming"}],"owner":{"account_id":6454399,"reputation":91,"user_id":5000328,"display_name":"Madhusudhan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660291931,"creation_date":1527056991,"question_id":50481252,"body_markdown":"I am storing data into Kafka using schema registry and avro serialization. Now I have to consume this messages from Kafka and store it in 2 places. One is parquet file and other one is Cassandra database. After lot of search I found that to perform above two tasks we need to convert streaming rdd&#39;s to data frame. However I am not able get java implementation for the same. \r\nCan you please suggest on this.\r\n\r\nSample code:\r\n\r\n    JavaPairReceiverInputDstream&lt;String, GenericRecord&gt; = KafkaUtils.createStream(jssc, String.class,\r\n        GenericRecord.class, KafkavroDecoder.class,\r\n        KafkavroDecoder.class, Kafkaesque,topicMap);\r\n    \r\n    JavaDStream&lt;GenericRecord&gt; msg= Kafka.map(\r\n    new Function&lt;Tuple2&lt;String, GenericRecord&gt;, GenericRecord&gt;(){\r\n    public GenericRecord call(Tuple2&lt;String, GenericRecord&gt; Tuple2) {\r\n          return tuple2._2();\r\n       }\r\n    });\r\n    \r\n    msg.print(); // output looks like :: Id=1 name= man\r\n\r\nI want store above data in Cassandra table.\r\n","title":"Spark streaming with kafka avro serialization","body":"<p>I am storing data into Kafka using schema registry and avro serialization. Now I have to consume this messages from Kafka and store it in 2 places. One is parquet file and other one is Cassandra database. After lot of search I found that to perform above two tasks we need to convert streaming rdd's to data frame. However I am not able get java implementation for the same.\nCan you please suggest on this.</p>\n<p>Sample code:</p>\n<pre><code>JavaPairReceiverInputDstream&lt;String, GenericRecord&gt; = KafkaUtils.createStream(jssc, String.class,\n    GenericRecord.class, KafkavroDecoder.class,\n    KafkavroDecoder.class, Kafkaesque,topicMap);\n\nJavaDStream&lt;GenericRecord&gt; msg= Kafka.map(\nnew Function&lt;Tuple2&lt;String, GenericRecord&gt;, GenericRecord&gt;(){\npublic GenericRecord call(Tuple2&lt;String, GenericRecord&gt; Tuple2) {\n      return tuple2._2();\n   }\n});\n\nmsg.print(); // output looks like :: Id=1 name= man\n</code></pre>\n<p>I want store above data in Cassandra table.</p>\n"},{"tags":["java","android","opencv"],"comments":[{"owner":{"account_id":1901194,"reputation":8771,"user_id":1717036,"accept_rate":74,"display_name":"Qadir Hussain"},"score":0,"creation_date":1434615177,"post_id":30909441,"comment_id":49857445,"body_markdown":"have a look at this. https://github.com/jhansireddy/AndroidScannerDemo\nlink updated","body":"have a look at this. <a href=\"https://github.com/jhansireddy/AndroidScannerDemo\" rel=\"nofollow noreferrer\">github.com/jhansireddy/AndroidScannerDemo</a> link updated"},{"owner":{"account_id":3031419,"reputation":4125,"user_id":2570350,"accept_rate":68,"display_name":"jean d&#39;arme"},"score":0,"creation_date":1458773756,"post_id":30909441,"comment_id":60015460,"body_markdown":"@QadirHussain but does it have automatic edge detection?","body":"@QadirHussain but does it have automatic edge detection?"},{"owner":{"account_id":1901194,"reputation":8771,"user_id":1717036,"accept_rate":74,"display_name":"Qadir Hussain"},"score":1,"creation_date":1458795727,"post_id":30909441,"comment_id":60021293,"body_markdown":"@jean d&#39;arme I don&#39;t think so it has automatic edge detection.","body":"@jean d&#39;arme I don&#39;t think so it has automatic edge detection."},{"owner":{"account_id":2710453,"reputation":1317,"user_id":2339034,"accept_rate":67,"display_name":"PowerMan2015"},"score":0,"creation_date":1458803963,"post_id":30909441,"comment_id":60023721,"body_markdown":"I implemented this and it does have edge detection. You have to us open CV in your project","body":"I implemented this and it does have edge detection. You have to us open CV in your project"},{"owner":{"account_id":3031419,"reputation":4125,"user_id":2570350,"accept_rate":68,"display_name":"jean d&#39;arme"},"score":0,"creation_date":1458845180,"post_id":30909441,"comment_id":60048942,"body_markdown":"@PowerMan2015 well, I reviewed documentation, but it&#39;s quite hard to read. Any suggestions where should I start? And will I have to dive into C++?","body":"@PowerMan2015 well, I reviewed documentation, but it&#39;s quite hard to read. Any suggestions where should I start? And will I have to dive into C++?"},{"owner":{"account_id":2710453,"reputation":1317,"user_id":2339034,"accept_rate":67,"display_name":"PowerMan2015"},"score":0,"creation_date":1458850099,"post_id":30909441,"comment_id":60051638,"body_markdown":"From what I remember it was a pain. No additional programming required. Look at adding opencv to the project and then add the scanner. There is a version fir android. Then simply pass the intent to the scanner","body":"From what I remember it was a pain. No additional programming required. Look at adding opencv to the project and then add the scanner. There is a version fir android. Then simply pass the intent to the scanner"},{"owner":{"account_id":5775558,"reputation":1303,"user_id":5648521,"accept_rate":25,"display_name":"Suman"},"score":0,"creation_date":1476423942,"post_id":30909441,"comment_id":67347936,"body_markdown":"@QadirHussain,i use this library which one you mentioned but i get a issues to upload application playstore ,showing libpng issues .how to solve this?","body":"@QadirHussain,i use this library which one you mentioned but i get a issues to upload application playstore ,showing libpng issues .how to solve this?"}],"owner":{"account_id":2710453,"reputation":1317,"user_id":2339034,"accept_rate":67,"display_name":"PowerMan2015"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15951,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":0,"score":10,"last_activity_date":1660291784,"creation_date":1434613688,"question_id":30909441,"body_markdown":"I am in the process of trying to develop a document scanner within an application of mine. As an example of what I want to achieve you can take a look at the Google document t scanner built into the Google drive app.\r\n\r\nThis allows\r\n\r\n 1. Detect edges\r\n 2. Manipulate into perspective \r\n 3. Display top down view of document\r\n\r\nI have been looking at a number of 3rd party api to see if this can be achieved but they seem more focused on OCR. Which is not a priority of mine.\r\n\r\nI have however stumbled across this [document scanner][1]\r\n\r\nWhere it makes a document scanner using java open cv. Within the comments someone asked about the possibility of porting this to an android application. Apparently this is possible.\r\n\r\nI have researched importing the open cv library within my IDE (android studio). This is also possible.\r\n\r\nAs I have not done this before I would be grateful if someone could help me identify any potential issues or alternative implementations which would help me achieve my goal.\r\n\r\nI am eager to develop this myself with relying on 3rd parties where possible\r\n\r\n\r\n\r\n\r\n  [1]: http://www.pyimagesearch.com/2014/09/01/build-kick-ass-mobile-document-scanner-just-5-minutes/","title":"Android document scanner using opencv","body":"<p>I am in the process of trying to develop a document scanner within an application of mine. As an example of what I want to achieve you can take a look at the Google document t scanner built into the Google drive app.</p>\n\n<p>This allows</p>\n\n<ol>\n<li>Detect edges</li>\n<li>Manipulate into perspective </li>\n<li>Display top down view of document</li>\n</ol>\n\n<p>I have been looking at a number of 3rd party api to see if this can be achieved but they seem more focused on OCR. Which is not a priority of mine.</p>\n\n<p>I have however stumbled across this <a href=\"http://www.pyimagesearch.com/2014/09/01/build-kick-ass-mobile-document-scanner-just-5-minutes/\">document scanner</a></p>\n\n<p>Where it makes a document scanner using java open cv. Within the comments someone asked about the possibility of porting this to an android application. Apparently this is possible.</p>\n\n<p>I have researched importing the open cv library within my IDE (android studio). This is also possible.</p>\n\n<p>As I have not done this before I would be grateful if someone could help me identify any potential issues or alternative implementations which would help me achieve my goal.</p>\n\n<p>I am eager to develop this myself with relying on 3rd parties where possible</p>\n"},{"tags":["java","android","opencv","video"],"comments":[{"owner":{"account_id":1951584,"reputation":1049,"user_id":1755546,"accept_rate":52,"display_name":"user1755546"},"score":0,"creation_date":1383631247,"post_id":18727199,"comment_id":29405397,"body_markdown":"good style - to lay out a mistake with tabs Markers Eclipse IDE&#39;s","body":"good style - to lay out a mistake with tabs Markers Eclipse IDE&#39;s"}],"answers":[{"tags":[],"owner":{"account_id":2583119,"reputation":305,"user_id":2239368,"accept_rate":75,"display_name":"oscargc"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1417710559,"creation_date":1378843908,"answer_id":18727924,"question_id":18727199,"body_markdown":"If someone have this problem, do this:\r\n\r\nIn OpenCV **project.properties** change  `target=android-11` (or in some cases 14) to `target=android-17`.\r\n\r\n**Edit:** For the newer `OpenCV-2.4.10-android-sdk` you will need to change it to `target=android-20`.\r\n","title":"OpenCV+Eclipse+Android: Error org.opencv.video Video.java","body":"<p>If someone have this problem, do this:</p>\n\n<p>In OpenCV <strong>project.properties</strong> change  <code>target=android-11</code> (or in some cases 14) to <code>target=android-17</code>.</p>\n\n<p><strong>Edit:</strong> For the newer <code>OpenCV-2.4.10-android-sdk</code> you will need to change it to <code>target=android-20</code>.</p>\n"},{"tags":[],"owner":{"account_id":3536533,"reputation":11,"user_id":2954692,"display_name":"Manuel Loaiza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383615839,"creation_date":1383615839,"answer_id":19780608,"question_id":18727199,"body_markdown":"In each OpenCV project.properties we need to set Android -&gt; Project Build Target -&gt; in my case I use check the toggle Android 4.1.2. but you can choose this android version. Doing that all projects compiled well.","title":"OpenCV+Eclipse+Android: Error org.opencv.video Video.java","body":"<p>In each OpenCV project.properties we need to set Android -> Project Build Target -> in my case I use check the toggle Android 4.1.2. but you can choose this android version. Doing that all projects compiled well.</p>\n"}],"owner":{"account_id":2583119,"reputation":305,"user_id":2239368,"accept_rate":75,"display_name":"oscargc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":18727924,"answer_count":2,"score":5,"last_activity_date":1660291725,"creation_date":1378840935,"question_id":18727199,"body_markdown":"I have been installing OpenCV ([this is the tutorial][1]), I read the tutorial but this error appeared (error in Video.java (PHOTO)). I have installed the last version.\r\nI don&#39;t understand. Anybody can help me and explain me what happened?\r\nthanks\r\n\r\n\r\n![ERROR][2]\r\n![ERROR2][3]\r\n\r\n\r\n  [1]: http://docs.opencv.org/doc/tutorials/introduction/android_binary_package/android_binary_package.html\r\n  [2]: http://i.stack.imgur.com/Rh816.png\r\n  [3]: http://i.stack.imgur.com/GJ7YB.png","title":"OpenCV+Eclipse+Android: Error org.opencv.video Video.java","body":"<p>I have been installing OpenCV (<a href=\"http://docs.opencv.org/doc/tutorials/introduction/android_binary_package/android_binary_package.html\" rel=\"nofollow noreferrer\">this is the tutorial</a>), I read the tutorial but this error appeared (error in Video.java (PHOTO)). I have installed the last version.\nI don't understand. Anybody can help me and explain me what happened?\nthanks</p>\n\n<p><img src=\"https://i.stack.imgur.com/Rh816.png\" alt=\"ERROR\">\n<img src=\"https://i.stack.imgur.com/GJ7YB.png\" alt=\"ERROR2\"></p>\n"},{"tags":["java","android","eclipse","opencv"],"answers":[{"tags":[],"owner":{"account_id":3428198,"reputation":2311,"user_id":3690456,"display_name":"A-Droid Tech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417617923,"creation_date":1417617923,"answer_id":27274544,"question_id":27274419,"body_markdown":"I think you have not installed the appropriate Android SDK platforms: 9 and 11 are referenced in the error message. [This documentation][1] describes how to set Android SDK properly with downloading more components.\r\n\r\nHowever it is not necessary to download all the missing SDKs. You can modify the required target to your already installed one (at least target 8) in project.properties file of e.g. 15-puzzle&#39;s directory.\r\n\r\n\r\n  [1]: http://docs.opencv.org/doc/tutorials/introduction/android_binary_package/android_dev_intro.html#development-in-java","title":"opencv4android : build path is incomplete","body":"<p>I think you have not installed the appropriate Android SDK platforms: 9 and 11 are referenced in the error message. <a href=\"http://docs.opencv.org/doc/tutorials/introduction/android_binary_package/android_dev_intro.html#development-in-java\" rel=\"nofollow\">This documentation</a> describes how to set Android SDK properly with downloading more components.</p>\n\n<p>However it is not necessary to download all the missing SDKs. You can modify the required target to your already installed one (at least target 8) in project.properties file of e.g. 15-puzzle's directory.</p>\n"},{"tags":[],"owner":{"account_id":1802382,"reputation":21,"user_id":1640378,"display_name":"user1640378"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1417855129,"creation_date":1417855129,"answer_id":27329852,"question_id":27274419,"body_markdown":"It seems that the problem was originating from my lack of experience in using native code in an application. what happened was, when importing and setting up the library project, eclipse automatically changed to C/C++ perspective. in which it wouldn&#39;t compile the application. as soon as I found out and change the perspective everything worked properly. as simple as that!","title":"opencv4android : build path is incomplete","body":"<p>It seems that the problem was originating from my lack of experience in using native code in an application. what happened was, when importing and setting up the library project, eclipse automatically changed to C/C++ perspective. in which it wouldn't compile the application. as soon as I found out and change the perspective everything worked properly. as simple as that!</p>\n"}],"owner":{"account_id":1802382,"reputation":21,"user_id":1640378,"display_name":"user1640378"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27329852,"answer_count":2,"score":0,"last_activity_date":1660291715,"creation_date":1417617554,"question_id":27274419,"body_markdown":"I am trying to compile opencv4android library 2.4.10 on my mac using eclipse, to get to run samples. after going through a lot of trouble, I have been successful with compiling native code. But after that I get this error:\r\n    \r\n   The project was not built since its build path is incomplete. Cannot find the class file for        java.lang.Object. Fix the build path then try building this project\tOpenCV Library - 2.4.10\t\tUnknown\tJava Problem.\r\n\r\nI have tried to manually add JRE by going to &quot;project properties -&gt; java build path -&gt; libraries&quot; and edit the problematic library(unable to get system library for the project). But each time I try to edit that the only option I have is opencv library 2.4.10 - the same as project itself and I can&#39;t replace that with proper JRE.\r\n\r\nAny idea how can I fix this?","title":"opencv4android : build path is incomplete","body":"<p>I am trying to compile opencv4android library 2.4.10 on my mac using eclipse, to get to run samples. after going through a lot of trouble, I have been successful with compiling native code. But after that I get this error:</p>\n\n<p>The project was not built since its build path is incomplete. Cannot find the class file for        java.lang.Object. Fix the build path then try building this project  OpenCV Library - 2.4.10     Unknown Java Problem.</p>\n\n<p>I have tried to manually add JRE by going to \"project properties -> java build path -> libraries\" and edit the problematic library(unable to get system library for the project). But each time I try to edit that the only option I have is opencv library 2.4.10 - the same as project itself and I can't replace that with proper JRE.</p>\n\n<p>Any idea how can I fix this?</p>\n"},{"tags":["java","android","opencv"],"comments":[{"owner":{"account_id":2346717,"reputation":39339,"user_id":2056772,"display_name":"berak"},"score":0,"creation_date":1416949722,"post_id":27136037,"comment_id":42771614,"body_markdown":"atm, opencv cannot read any kind of video on android, neither from file, nor from ip (it would need some c/c++ backend , like ffmpeg for this)","body":"atm, opencv cannot read any kind of video on android, neither from file, nor from ip (it would need some c/c++ backend , like ffmpeg for this)"},{"owner":{"account_id":4165194,"reputation":67,"user_id":3414297,"display_name":"LavG"},"score":0,"creation_date":1416950063,"post_id":27136037,"comment_id":42771784,"body_markdown":"@berak Hello thank you for answering! Oh okay it&#39;s so sad to hear that. I have one last thing to ask to you if that&#39;s okay. Is it possible to manipulate IP camera stream on android using other libraries? Thank you so much.","body":"@berak Hello thank you for answering! Oh okay it&#39;s so sad to hear that. I have one last thing to ask to you if that&#39;s okay. Is it possible to manipulate IP camera stream on android using other libraries? Thank you so much."},{"owner":{"account_id":4165194,"reputation":67,"user_id":3414297,"display_name":"LavG"},"score":0,"creation_date":1416950115,"post_id":27136037,"comment_id":42771805,"body_markdown":"@berak what I meant is that for motion detection, counter, etc.","body":"@berak what I meant is that for motion detection, counter, etc."},{"owner":{"account_id":2346717,"reputation":39339,"user_id":2056772,"display_name":"berak"},"score":0,"creation_date":1416950171,"post_id":27136037,"comment_id":42771826,"body_markdown":"sorry, no expert on this here. i just noticed the painful absence, same as you.","body":"sorry, no expert on this here. i just noticed the painful absence, same as you."},{"owner":{"account_id":7052590,"reputation":499,"user_id":5401140,"accept_rate":17,"display_name":"Mehtab Ahmed"},"score":0,"creation_date":1493036904,"post_id":27136037,"comment_id":74225415,"body_markdown":"I am also looking for the same thing but still has no luck :(","body":"I am also looking for the same thing but still has no luck :("},{"owner":{"account_id":7465996,"reputation":1866,"user_id":5675550,"accept_rate":77,"display_name":"viper"},"score":0,"creation_date":1627546951,"post_id":27136037,"comment_id":121186478,"body_markdown":"Any updates on this feature?","body":"Any updates on this feature?"}],"owner":{"account_id":4165194,"reputation":67,"user_id":3414297,"display_name":"LavG"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1660291707,"creation_date":1416947161,"question_id":27136037,"body_markdown":"I have searched for many hours but not found the answer to my problem. I have successfully stream an IP camera to android with rtsp connection but it is without the use of opencv library. Is it possible to stream IP camera on android with the help of opencv? I mean in the opencv, it uses the android built in camera but what I wanted is that to use the IP camera instead of the built in one. And on the opencv for android samples, it uses JavaCameraView (XML) and the way to access is using CameraBridgeViewBase. Is there a way to set it based on the IP of the IP camera? I have seen some examples using VideoCapture but on swing only. I&#39;m confused on how to integrate VideoCapture on to CameraBridgeViewBase. I&#39;m sorry I&#39;m so noob. Please can someone help me.","title":"Android opencv stream IP Camera","body":"<p>I have searched for many hours but not found the answer to my problem. I have successfully stream an IP camera to android with rtsp connection but it is without the use of opencv library. Is it possible to stream IP camera on android with the help of opencv? I mean in the opencv, it uses the android built in camera but what I wanted is that to use the IP camera instead of the built in one. And on the opencv for android samples, it uses JavaCameraView (XML) and the way to access is using CameraBridgeViewBase. Is there a way to set it based on the IP of the IP camera? I have seen some examples using VideoCapture but on swing only. I'm confused on how to integrate VideoCapture on to CameraBridgeViewBase. I'm sorry I'm so noob. Please can someone help me.</p>\n"},{"tags":["java","apache-spark","parallel-processing","cassandra","spark-cassandra-connector"],"comments":[{"owner":{"account_id":8311175,"reputation":365,"user_id":6246219,"display_name":"anand babu"},"score":0,"creation_date":1555954422,"post_id":55648561,"comment_id":98265982,"body_markdown":"@jaimin03 can you post your answer again?","body":"@jaimin03 can you post your answer again?"}],"owner":{"account_id":8311175,"reputation":365,"user_id":6246219,"display_name":"anand babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660291669,"creation_date":1555061378,"question_id":55648561,"body_markdown":"I have streaming RDD and applied java POJO on it, now have inputRDD&lt;Class&gt;, this contains id,.. other details. I want groupby/filterby id then each rdd should save in their own DB. I have tried and code working with for loop, but if this need to happen in spark parallel processing. any help appreciated.\r\n   \r\n\r\n     messages.transform(this::getClass).foreachRDD(inputRDD -&gt; {\r\n        List&lt;String&gt; idList = inputRDD.map(ClassObject::getEmpid).distinct().collect();\r\n        for (String id : idList){\r\n        String EmpName = EmpCache.getEmpNameFor(id).toLowerCase();    \r\n        inputRDD.filter(f -&gt; f.getEmpid().equals(id));\r\n    \r\n        javaFunctions(inputRDD).writerBuilder(in_EmpName , tableName, mapToRow(agg)).saveToCassandra();\r\n        }\r\n    }","title":"How can I parallelize a for loop that saves rdd into cassandra in spark with java?","body":"<p>I have streaming RDD and applied java POJO on it, now have inputRDD, this contains id,.. other details. I want groupby/filterby id then each rdd should save in their own DB. I have tried and code working with for loop, but if this need to happen in spark parallel processing. any help appreciated.</p>\n\n<pre><code> messages.transform(this::getClass).foreachRDD(inputRDD -&gt; {\n    List&lt;String&gt; idList = inputRDD.map(ClassObject::getEmpid).distinct().collect();\n    for (String id : idList){\n    String EmpName = EmpCache.getEmpNameFor(id).toLowerCase();    \n    inputRDD.filter(f -&gt; f.getEmpid().equals(id));\n\n    javaFunctions(inputRDD).writerBuilder(in_EmpName , tableName, mapToRow(agg)).saveToCassandra();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","opencv","image-processing"],"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1414450478,"post_id":26404564,"comment_id":41810690,"body_markdown":"I&#39;m not sure I understand the question: Do you mean you wish to allow the user to drag and resize the hair image? And why do you use &quot;OpenCV4Android &quot; for this? Isn&#39;t it for bitmap manipulations?","body":"I&#39;m not sure I understand the question: Do you mean you wish to allow the user to drag and resize the hair image? And why do you use &quot;OpenCV4Android &quot; for this? Isn&#39;t it for bitmap manipulations?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1414451249,"post_id":26404564,"comment_id":41810951,"body_markdown":"Anyway, here are a few links that might help, in case that&#39;s what you need: http://stackoverflow.com/questions/14736318/resize-move-image-in-android-for-api-11 , http://www.vogella.com/tutorials/AndroidDragAndDrop/article.html , http://stackoverflow.com/q/14800037/878126","body":"Anyway, here are a few links that might help, in case that&#39;s what you need: <a href=\"http://stackoverflow.com/questions/14736318/resize-move-image-in-android-for-api-11\" title=\"resize move image in android for api 11\">stackoverflow.com/questions/14736318/&hellip;</a> , <a href=\"http://www.vogella.com/tutorials/AndroidDragAndDrop/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/AndroidDragAndDrop/article.html</a> , <a href=\"http://stackoverflow.com/q/14800037/878126\">stackoverflow.com/q/14800037/878126</a>"}],"answers":[{"tags":[],"owner":{"account_id":1678710,"reputation":10707,"user_id":1543541,"accept_rate":84,"display_name":"Vikalp Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1416653117,"creation_date":1416201954,"answer_id":26966092,"question_id":26404564,"body_markdown":"After going through lots of Image Processing Libraries, every one has warpping and morphing effects but none of them having effects on touch points. As many of them suggested you can achieve such things using OpenCV4Android or OpenGL but none of them is my cup of tea.\r\n\r\nSo In the end implemented Warpping effect with NDK in C.\r\n\r\nHere&#39;s algorithm which applied to Bitmap Pixels on touch points.\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;math.h&gt;\r\n    #include &lt;malloc.h&gt;\r\n    #include &lt;android/log.h&gt;\r\n    #define LOG_TAG &quot;System.out&quot;\r\n    #define LOGD(...) __android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, __VA_ARGS__)\r\n    #define LOGI(...) __android_log_print(ANDROID_LOG_INFO, LOG_TAG, __VA_ARGS__)\r\n    \r\n    int *colorRed;\r\n    int *colorGreen;\r\n    int *colorBlue;\r\n    int *colorsP; //&#207;&#241;&#203;&#216;&#214;&#181;\r\n    \r\n    int *colorAlpha;\r\n    int _width, _height;\r\n    jintArray imagecolors;\r\n    \r\n    //&#178;&#233;&#213;&#210;&#177;&#237;\r\n    static long SinXDivX_Table_8[(2 &lt;&lt; 8) + 1];\r\n    double MySin(double x) {\r\n    \tdouble absx;\r\n    \tabsx = x;\r\n    \tif (x &lt; 0)\r\n    \t\tabsx = -x;\r\n    \r\n\r\n\r\nWarpView which does the warpping effect on Touch Points:\r\n\r\n    public class WarpView extends View {\r\n    \tstatic {\r\n    \t\tSystem.loadLibrary(&quot;Hello&quot;);\r\n    \t}\r\n    \r\n    \tpublic native int[] warpPhotoFromC(int[] image, int height, int width,\r\n    \t\t\tdouble max_dist, double orig_x, double orig_y, double cur_x,\r\n    \t\t\tdouble cur_y);\r\n    \r\n    \tprivate static String TAG = WarpView.class.getSimpleName();\r\n    \r\n    \tprivate Bitmap mBmp;\r\n    \tprivate int[] image;\r\n    \tprivate int first = 0;\r\n    \tprivate int[] colorR;\r\n    \tprivate int[] colorG;\r\n    \tprivate int[] colorB;\r\n    \tprivate Bitmap newBmp;\r\n    \tprivate boolean fg = true;\r\n    \tprivate Context context;\r\n    \r\n    \tprivate static final int DEFAULT_PAINT_FLAGS = Paint.FILTER_BITMAP_FLAG\r\n    \t\t\t| Paint.DITHER_FLAG;\r\n    \tstatic Paint mPaint = new Paint(DEFAULT_PAINT_FLAGS);\r\n    \r\n    \tpublic static int HWPPQ = 110;\r\n    \tpublic static int MMQFJ = 120;\r\n    \r\n    \tprivate int MODE = MMQFJ;\r\n    \r\n    \t// SA VIKALP\r\n    //\tpublic ArrayList&lt;WarpViewUndo&gt; mArrayListWarpViewUndo;\r\n    \t\r\n    \tstatic GestureDetector mGestures;\r\n    \tstatic ScaleGestureDetector mScaleGesture;\r\n    \r\n    \tprivate Matrix mMatrix = new Matrix();\r\n    \tprivate Matrix mInverse = new Matrix();\r\n    \r\n    \tprivate float lastFocusX;\r\n    \tprivate float lastFocusY;\r\n    \r\n    \tprivate boolean mIsMove = false;\r\n    \r\n    \t// EA VIKALP\r\n    \tpublic WarpView(Context context) {\r\n    \t\tsuper(context);\r\n    \t}\r\n    \r\n    \tpublic WarpView(Context context, AttributeSet attrs) {\r\n    \t\tsuper(context, attrs);\r\n    \t\tthis.context = context;\r\n    \t\tdest = new RectF(0, 0, 0, 0);\r\n    \r\n    \t\t// SA VIKALP\r\n    //\t\tmArrayListWarpViewUndo = new ArrayList&lt;WarpViewUndo&gt;();\r\n    \t\tmScaleGesture = new ScaleGestureDetector(getContext(),\r\n    \t\t\t\tnew ScaleListener());\r\n    \t\tmGestures = new GestureDetector(getContext(), new GestureListener());\r\n    \r\n    \t\tmMatrix.setTranslate(5, 5);\r\n    \t\tmMatrix.invert(mInverse);\r\n    \t\t// EA VIKALP\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onDraw(Canvas canvas) {\r\n    \t\t// super.onDraw(canvas);\r\n    \t\tif (fg) {\r\n    \t\t\tint viewWidht = getWidth();\r\n    \t\t\tint viewHeight = getHeight();\r\n    \t\t\tfloat scale1 = (float) width / (float) viewWidht;\r\n    \t\t\tfloat scale2 = (float) height / (float) viewHeight;\r\n    \t\t\tscale = scale1 &gt; scale2 ? scale1 : scale2;\r\n    \t\t\tint xoffset = (viewWidht - (int) (width / scale)) / 2;\r\n    \t\t\tint yoffset = (viewHeight - (int) (height / scale)) / 2;\r\n    \t\t\tdest.set(xoffset, yoffset, (int) (width / scale) + xoffset,\r\n    \t\t\t\t\t(int) (height / scale) + yoffset);// = new RectF(xoffset,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// yoffset, (int)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// (width/scale)+xoffset,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// (int)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// (height/scale)+yoffset);\r\n    \t\t\t// SA VIKALP\r\n    \t\t\tcanvas.drawColor(0x000000);\r\n    \t\t\tcanvas.concat(mMatrix);\r\n    \t\t\t// canvas.drawColor(Color.TRANSPARENT);\r\n    \t\t\t// canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\r\n    \t\t\t// EA VIKALP\r\n    \t\t\tcanvas.drawBitmap(mBmp, null, dest, mPaint);\r\n    \r\n    \t\t} else {\r\n    \t\t\t// SA VIKALP\r\n    \t\t\tcanvas.drawColor(0x000000);\r\n    \t\t\tcanvas.concat(mMatrix);\r\n    \t\t\t// canvas.drawColor(Color.TRANSPARENT);\r\n    \t\t\t// canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\r\n    \t\t\t// EA VIKALP\r\n    \t\t\tcanvas.drawBitmap(newBmp, null, dest, mPaint);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate double orig_x, orig_y;\r\n    \tprivate double mou_dx, mou_dy;\r\n    \tprivate double max_dist, max_dist_sq;\r\n    \tprivate int width;\r\n    \tprivate int height;\r\n    \tprivate int count = 0;\r\n    \tprivate double mou_dx_norm;\r\n    \tprivate double mou_dy_norm;\r\n    \r\n    \tprivate float scale;\r\n    \tprivate RectF dest;\r\n    \tprivate double move_x, move_y;\r\n    \tprivate int dist = (int) getResources().getDimension(R.dimen.max_dist);\r\n    \tprivate int line_height = (int) getResources().getDimension(\r\n    \t\t\tR.dimen.warp_line);\r\n    \r\n    \t@Override\r\n    \tpublic boolean onTouchEvent(MotionEvent event) {\r\n    \t\t// SA VIKALP\r\n    \t\tmScaleGesture.onTouchEvent(event);\r\n    \t\tmGestures.onTouchEvent(event);\r\n    \t\t// EA VIKALP\r\n    \r\n    \t\tswitch (event.getAction()) {\r\n    \t\tcase MotionEvent.ACTION_DOWN:\r\n    \t\t\torig_x = event.getX();\r\n    \t\t\torig_y = event.getY();\r\n    \t\t\torig_x = (orig_x - dest.left) * scale;\r\n    \t\t\torig_y = (orig_y - dest.top) * scale;\r\n    \r\n    \t\t\tbreak;\r\n    \t\tcase MotionEvent.ACTION_MOVE:\r\n    \t\t\tif (!mIsMove) { // SA VIKALP ADDED LINE\r\n    \t\t\t\tmax_dist = dist * scale;// Math.hypot(mou_dx, mou_dy);\r\n    \t\t\t\tif (event.getAction() != 1) {\r\n    \r\n    \t\t\t\t\t\r\n    \t\t\t\t\t// int m = event.getHistorySize();\r\n    \r\n    \t\t\t\t\tmove_x = event.getX();\r\n    \t\t\t\t\tmove_y = event.getY();\r\n    \r\n    \t\t\t\t\tmove_x = (move_x - dest.left) * scale;\r\n    \t\t\t\t\tmove_y = (move_y - dest.top) * scale;\r\n    \r\n    \t\t\t\t\t// if(m &gt; 0){\r\n    \t\t\t\t\t// int i2 = m + -1;\r\n    \t\t\t\t\t// orig_x = (event.getHistoricalX(i2) - dest.left)*scale;\r\n    \t\t\t\t\t// orig_y = (event.getHistoricalY(i2) - dest.top)*scale;\r\n    \t\t\t\t\t// }\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (move_x &gt;= 0 &amp;&amp; move_y &gt;= 0) {\r\n    \t\t\t\t\t\t\twarpPhotoFromC(image, height, width, max_dist, orig_x,\r\n    \t\t\t\t\t\t\t\t\torig_y, move_x, move_y);\r\n    \t\t\t\t\t\tfirst++;\r\n    \r\n    \t\t\t\t\t\tnewBmp.setPixels(image, 0, width, 0, 0, width, height);\r\n    \t\t\t\t\t\tfg = false;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\torig_x = move_x;\r\n    \t\t\t\torig_y = move_y;\r\n    \r\n    \t\t\t} \r\n    \t\t\tbreak;\r\n    \t\tcase MotionEvent.ACTION_UP:\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\tinvalidate();\r\n    \t\treturn true;\r\n    \t}\r\n    \t// SA VIKALP\r\n    //\tpublic void applyWarpUndo(Bitmap bmp) {\r\n    //\t\tsetWarpBitmap(bmp);\r\n    //\t\tLog.i(TAG, &quot;Size : &quot;\r\n    //\t\t\t\t+ mArrayListWarpViewUndo.size()\r\n    //\t\t\t\t+ &quot; last size :&quot;\r\n    //\t\t\t\t+ mArrayListWarpViewUndo.get(mArrayListWarpViewUndo.size() - 1)\r\n    //\t\t\t\t\t\t.getSize() + 1);\r\n    //\t\t\r\n    //\t\tfor (int i = 0; i &lt; mArrayListWarpViewUndo.size() - (mArrayListWarpViewUndo.get(mArrayListWarpViewUndo.size() - 1).getSize()+1); i++) {\r\n    //\t\t\tif (mArrayListWarpViewUndo.get(i).getMove_x() &gt;= 0 &amp;&amp; mArrayListWarpViewUndo.get(i).getMove_y() &gt;= 0) {\r\n    //\t\t\t\twarpPhotoFromC(mArrayListWarpViewUndo.get(i).getImage(),\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getHeight(),\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getWidth(),\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getMax_dist(),\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getOrig_x(),\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getOrig_y(),\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getMove_x(),\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getMove_y());\r\n    //\r\n    //\t\t\t\tnewBmp.setPixels(mArrayListWarpViewUndo.get(i).getImage(), 0,\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getWidth(), 0, 0,\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getWidth(),\r\n    //\t\t\t\t\t\tmArrayListWarpViewUndo.get(i).getHeight());\r\n    //\t\t\t\tfg = false;\r\n    //\t\t\t}\r\n    //\t\t}\r\n    ////\t\tLog.i(TAG, &quot;Step Size &quot;+mArrayListWarpViewUndo.size()-1);\r\n    //\t\tmArrayListWarpViewUndo.remove(mArrayListWarpViewUndo.size()-2);\r\n    //\t\tinvalidate();\r\n    //\t}\r\n    \tpublic class ScaleListener implements OnScaleGestureListener {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onScale(ScaleGestureDetector detector) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\tMatrix transformationMatrix = new Matrix();\r\n    \t\t\tfloat focusX = detector.getFocusX();\r\n    \t\t\tfloat focusY = detector.getFocusY();\r\n    \r\n    \t\t\t// Zoom focus is where the fingers are centered,\r\n    \t\t\ttransformationMatrix.postTranslate(-focusX, -focusY);\r\n    \r\n    \t\t\ttransformationMatrix.postScale(detector.getScaleFactor(),\r\n    \t\t\t\t\tdetector.getScaleFactor());\r\n    \r\n    \t\t\t/*\r\n    \t\t\t * Adding focus shift to allow for scrolling with two pointers down.\r\n    \t\t\t * Remove it to skip this functionality. This could be done in fewer\r\n    \t\t\t * lines, but for clarity I do it this way here\r\n    \t\t\t */\r\n    \t\t\t// Edited after comment by chochim\r\n    \t\t\tfloat focusShiftX = focusX - lastFocusX;\r\n    \t\t\tfloat focusShiftY = focusY - lastFocusY;\r\n    \t\t\ttransformationMatrix.postTranslate(focusX + focusShiftX, focusY\r\n    \t\t\t\t\t+ focusShiftY);\r\n    \t\t\tmMatrix.postConcat(transformationMatrix);\r\n    \t\t\tlastFocusX = focusX;\r\n    \t\t\tlastFocusY = focusY;\r\n    \t\t\tinvalidate();\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onScaleBegin(ScaleGestureDetector detector) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\tlastFocusX = detector.getFocusX();\r\n    \t\t\tlastFocusY = detector.getFocusY();\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onScaleEnd(ScaleGestureDetector detector) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic class GestureListener implements OnGestureListener,\r\n    \t\t\tOnDoubleTapListener {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onDoubleTap(MotionEvent arg0) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onDoubleTapEvent(MotionEvent arg0) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onSingleTapConfirmed(MotionEvent arg0) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onDown(MotionEvent e) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,\r\n    \t\t\t\tfloat velocityY) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onLongPress(MotionEvent e) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onScroll(MotionEvent e1, MotionEvent e2,\r\n    \t\t\t\tfloat distanceX, float distanceY) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\tif (mIsMove) {\r\n    \t\t\t\tmMatrix.postTranslate(-distanceX, -distanceY);\r\n    \t\t\t\tinvalidate();\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onShowPress(MotionEvent e) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onSingleTapUp(MotionEvent e) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void setMove(boolean isMove) {\r\n    \t\tmIsMove = isMove;\r\n    \t}\r\n    \r\n    \t// EA VIKALP\r\n    \r\n    \tpublic void setWarpBitmap(Bitmap bmp) {\r\n    \t\tfg = true;// &#233;‡�&#231;&#189;&#174;&#230;&#160;‡&#229;&#191;—\r\n    \t\tfirst = 0;\r\n    \t\tmBmp = bmp;\r\n    \t\twidth = bmp.getWidth();\r\n    \t\theight = bmp.getHeight();\r\n    \t\t// &#230;–&#176;&#229;&#187;&#186;&#239;&#191;&#189;?&#239;&#191;&#189;&#239;&#191;&#189;Bitmap\r\n    \t\t// SU VIKALP\r\n    \t\t// newBmp = Bitmap.createBitmap(width, height,\r\n    \t\t// Bitmap.Config.RGB_565);\r\n    \t\tnewBmp = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n    \t\t// EU VIKALP\r\n    \t\timage = new int[width * height];\r\n    \r\n    \t\tmBmp.getPixels(image, 0, width, 0, 0, width, height);\r\n    \t\tnewBmp.setPixels(image, 0, width, 0, 0, width, height);\r\n    \t\t// super.setImageBitmap(mBmp);\r\n    \t}\r\n    \r\n    \tpublic void setMode(int mode) {\r\n    \t\tthis.MODE = mode;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &#232;&#191;�?&#229;›ž&#229;&#164;„&#231;�†&#229;&#165;&#189;&#231;š„&#229;›&#190;&#231;‰‡\r\n    \t * \r\n    \t * @return\r\n    \t */\r\n    \tpublic Bitmap getWrapBitmap() {\r\n    \t\treturn newBmp;\r\n    \t}\r\n    \t\r\n    \tpublic void changeBitmapContrastBrightness() {\r\n    \t\tfloat contrast, brightness;\r\n    \t\tRandom generator = new Random();\r\n    \t\tcontrast = generator.nextFloat();\r\n    \t\tbrightness = contrast;\r\n    \r\n    \t\t// Log.i(TAG, &quot;changeBitmapContrastBrightness &quot; + contrast);\r\n    \r\n    \t\tColorMatrix cm = new ColorMatrix(new float[] { \r\n    \t\t\t\t0.501f, 0, 0, 0,0,// red\r\n    \t\t\t\t0, 0, 0, 0, brightness,// green\r\n    \t\t\t\t0, 0, 0.501f, 0, brightness,// blue\r\n    \t\t\t\t0, 0, 0, 1, 0 // alpha\r\n    \t\t\t\t});\r\n    \t\tmPaint.setColorFilter(new ColorMatrixColorFilter(cm));\r\n    \t\tinvalidate();\r\n    \t}\r\n    }\r\n\r\n","title":"How to give Fluid effect / resize bitmap wrt touch events using opencv4android","body":"<p>After going through lots of Image Processing Libraries, every one has warpping and morphing effects but none of them having effects on touch points. As many of them suggested you can achieve such things using OpenCV4Android or OpenGL but none of them is my cup of tea.</p>\n\n<p>So In the end implemented Warpping effect with NDK in C.</p>\n\n<p>Here's algorithm which applied to Bitmap Pixels on touch points.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;jni.h&gt;\n#include &lt;math.h&gt;\n#include &lt;malloc.h&gt;\n#include &lt;android/log.h&gt;\n#define LOG_TAG \"System.out\"\n#define LOGD(...) __android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, __VA_ARGS__)\n#define LOGI(...) __android_log_print(ANDROID_LOG_INFO, LOG_TAG, __VA_ARGS__)\n\nint *colorRed;\nint *colorGreen;\nint *colorBlue;\nint *colorsP; //ÏñËØÖµ\n\nint *colorAlpha;\nint _width, _height;\njintArray imagecolors;\n\n//²éÕÒ±í\nstatic long SinXDivX_Table_8[(2 &lt;&lt; 8) + 1];\ndouble MySin(double x) {\n    double absx;\n    absx = x;\n    if (x &lt; 0)\n        absx = -x;\n</code></pre>\n\n<p>WarpView which does the warpping effect on Touch Points:</p>\n\n<pre><code>public class WarpView extends View {\n    static {\n        System.loadLibrary(\"Hello\");\n    }\n\n    public native int[] warpPhotoFromC(int[] image, int height, int width,\n            double max_dist, double orig_x, double orig_y, double cur_x,\n            double cur_y);\n\n    private static String TAG = WarpView.class.getSimpleName();\n\n    private Bitmap mBmp;\n    private int[] image;\n    private int first = 0;\n    private int[] colorR;\n    private int[] colorG;\n    private int[] colorB;\n    private Bitmap newBmp;\n    private boolean fg = true;\n    private Context context;\n\n    private static final int DEFAULT_PAINT_FLAGS = Paint.FILTER_BITMAP_FLAG\n            | Paint.DITHER_FLAG;\n    static Paint mPaint = new Paint(DEFAULT_PAINT_FLAGS);\n\n    public static int HWPPQ = 110;\n    public static int MMQFJ = 120;\n\n    private int MODE = MMQFJ;\n\n    // SA VIKALP\n//  public ArrayList&lt;WarpViewUndo&gt; mArrayListWarpViewUndo;\n\n    static GestureDetector mGestures;\n    static ScaleGestureDetector mScaleGesture;\n\n    private Matrix mMatrix = new Matrix();\n    private Matrix mInverse = new Matrix();\n\n    private float lastFocusX;\n    private float lastFocusY;\n\n    private boolean mIsMove = false;\n\n    // EA VIKALP\n    public WarpView(Context context) {\n        super(context);\n    }\n\n    public WarpView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        this.context = context;\n        dest = new RectF(0, 0, 0, 0);\n\n        // SA VIKALP\n//      mArrayListWarpViewUndo = new ArrayList&lt;WarpViewUndo&gt;();\n        mScaleGesture = new ScaleGestureDetector(getContext(),\n                new ScaleListener());\n        mGestures = new GestureDetector(getContext(), new GestureListener());\n\n        mMatrix.setTranslate(5, 5);\n        mMatrix.invert(mInverse);\n        // EA VIKALP\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        // super.onDraw(canvas);\n        if (fg) {\n            int viewWidht = getWidth();\n            int viewHeight = getHeight();\n            float scale1 = (float) width / (float) viewWidht;\n            float scale2 = (float) height / (float) viewHeight;\n            scale = scale1 &gt; scale2 ? scale1 : scale2;\n            int xoffset = (viewWidht - (int) (width / scale)) / 2;\n            int yoffset = (viewHeight - (int) (height / scale)) / 2;\n            dest.set(xoffset, yoffset, (int) (width / scale) + xoffset,\n                    (int) (height / scale) + yoffset);// = new RectF(xoffset,\n                                                        // yoffset, (int)\n                                                        // (width/scale)+xoffset,\n                                                        // (int)\n                                                        // (height/scale)+yoffset);\n            // SA VIKALP\n            canvas.drawColor(0x000000);\n            canvas.concat(mMatrix);\n            // canvas.drawColor(Color.TRANSPARENT);\n            // canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\n            // EA VIKALP\n            canvas.drawBitmap(mBmp, null, dest, mPaint);\n\n        } else {\n            // SA VIKALP\n            canvas.drawColor(0x000000);\n            canvas.concat(mMatrix);\n            // canvas.drawColor(Color.TRANSPARENT);\n            // canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR);\n            // EA VIKALP\n            canvas.drawBitmap(newBmp, null, dest, mPaint);\n        }\n    }\n\n    private double orig_x, orig_y;\n    private double mou_dx, mou_dy;\n    private double max_dist, max_dist_sq;\n    private int width;\n    private int height;\n    private int count = 0;\n    private double mou_dx_norm;\n    private double mou_dy_norm;\n\n    private float scale;\n    private RectF dest;\n    private double move_x, move_y;\n    private int dist = (int) getResources().getDimension(R.dimen.max_dist);\n    private int line_height = (int) getResources().getDimension(\n            R.dimen.warp_line);\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        // SA VIKALP\n        mScaleGesture.onTouchEvent(event);\n        mGestures.onTouchEvent(event);\n        // EA VIKALP\n\n        switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            orig_x = event.getX();\n            orig_y = event.getY();\n            orig_x = (orig_x - dest.left) * scale;\n            orig_y = (orig_y - dest.top) * scale;\n\n            break;\n        case MotionEvent.ACTION_MOVE:\n            if (!mIsMove) { // SA VIKALP ADDED LINE\n                max_dist = dist * scale;// Math.hypot(mou_dx, mou_dy);\n                if (event.getAction() != 1) {\n\n\n                    // int m = event.getHistorySize();\n\n                    move_x = event.getX();\n                    move_y = event.getY();\n\n                    move_x = (move_x - dest.left) * scale;\n                    move_y = (move_y - dest.top) * scale;\n\n                    // if(m &gt; 0){\n                    // int i2 = m + -1;\n                    // orig_x = (event.getHistoricalX(i2) - dest.left)*scale;\n                    // orig_y = (event.getHistoricalY(i2) - dest.top)*scale;\n                    // }\n\n                    if (move_x &gt;= 0 &amp;&amp; move_y &gt;= 0) {\n                            warpPhotoFromC(image, height, width, max_dist, orig_x,\n                                    orig_y, move_x, move_y);\n                        first++;\n\n                        newBmp.setPixels(image, 0, width, 0, 0, width, height);\n                        fg = false;\n                    }\n                }\n                orig_x = move_x;\n                orig_y = move_y;\n\n            } \n            break;\n        case MotionEvent.ACTION_UP:\n            break;\n        }\n        invalidate();\n        return true;\n    }\n    // SA VIKALP\n//  public void applyWarpUndo(Bitmap bmp) {\n//      setWarpBitmap(bmp);\n//      Log.i(TAG, \"Size : \"\n//              + mArrayListWarpViewUndo.size()\n//              + \" last size :\"\n//              + mArrayListWarpViewUndo.get(mArrayListWarpViewUndo.size() - 1)\n//                      .getSize() + 1);\n//      \n//      for (int i = 0; i &lt; mArrayListWarpViewUndo.size() - (mArrayListWarpViewUndo.get(mArrayListWarpViewUndo.size() - 1).getSize()+1); i++) {\n//          if (mArrayListWarpViewUndo.get(i).getMove_x() &gt;= 0 &amp;&amp; mArrayListWarpViewUndo.get(i).getMove_y() &gt;= 0) {\n//              warpPhotoFromC(mArrayListWarpViewUndo.get(i).getImage(),\n//                      mArrayListWarpViewUndo.get(i).getHeight(),\n//                      mArrayListWarpViewUndo.get(i).getWidth(),\n//                      mArrayListWarpViewUndo.get(i).getMax_dist(),\n//                      mArrayListWarpViewUndo.get(i).getOrig_x(),\n//                      mArrayListWarpViewUndo.get(i).getOrig_y(),\n//                      mArrayListWarpViewUndo.get(i).getMove_x(),\n//                      mArrayListWarpViewUndo.get(i).getMove_y());\n//\n//              newBmp.setPixels(mArrayListWarpViewUndo.get(i).getImage(), 0,\n//                      mArrayListWarpViewUndo.get(i).getWidth(), 0, 0,\n//                      mArrayListWarpViewUndo.get(i).getWidth(),\n//                      mArrayListWarpViewUndo.get(i).getHeight());\n//              fg = false;\n//          }\n//      }\n////        Log.i(TAG, \"Step Size \"+mArrayListWarpViewUndo.size()-1);\n//      mArrayListWarpViewUndo.remove(mArrayListWarpViewUndo.size()-2);\n//      invalidate();\n//  }\n    public class ScaleListener implements OnScaleGestureListener {\n\n        @Override\n        public boolean onScale(ScaleGestureDetector detector) {\n            // TODO Auto-generated method stub\n            Matrix transformationMatrix = new Matrix();\n            float focusX = detector.getFocusX();\n            float focusY = detector.getFocusY();\n\n            // Zoom focus is where the fingers are centered,\n            transformationMatrix.postTranslate(-focusX, -focusY);\n\n            transformationMatrix.postScale(detector.getScaleFactor(),\n                    detector.getScaleFactor());\n\n            /*\n             * Adding focus shift to allow for scrolling with two pointers down.\n             * Remove it to skip this functionality. This could be done in fewer\n             * lines, but for clarity I do it this way here\n             */\n            // Edited after comment by chochim\n            float focusShiftX = focusX - lastFocusX;\n            float focusShiftY = focusY - lastFocusY;\n            transformationMatrix.postTranslate(focusX + focusShiftX, focusY\n                    + focusShiftY);\n            mMatrix.postConcat(transformationMatrix);\n            lastFocusX = focusX;\n            lastFocusY = focusY;\n            invalidate();\n            return true;\n        }\n\n        @Override\n        public boolean onScaleBegin(ScaleGestureDetector detector) {\n            // TODO Auto-generated method stub\n            lastFocusX = detector.getFocusX();\n            lastFocusY = detector.getFocusY();\n            return true;\n        }\n\n        @Override\n        public void onScaleEnd(ScaleGestureDetector detector) {\n            // TODO Auto-generated method stub\n\n        }\n    }\n\n    public class GestureListener implements OnGestureListener,\n            OnDoubleTapListener {\n\n        @Override\n        public boolean onDoubleTap(MotionEvent arg0) {\n            // TODO Auto-generated method stub\n            return false;\n        }\n\n        @Override\n        public boolean onDoubleTapEvent(MotionEvent arg0) {\n            // TODO Auto-generated method stub\n            return false;\n        }\n\n        @Override\n        public boolean onSingleTapConfirmed(MotionEvent arg0) {\n            // TODO Auto-generated method stub\n            return false;\n        }\n\n        @Override\n        public boolean onDown(MotionEvent e) {\n            // TODO Auto-generated method stub\n            return false;\n        }\n\n        @Override\n        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,\n                float velocityY) {\n            // TODO Auto-generated method stub\n            return false;\n        }\n\n        @Override\n        public void onLongPress(MotionEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public boolean onScroll(MotionEvent e1, MotionEvent e2,\n                float distanceX, float distanceY) {\n            // TODO Auto-generated method stub\n            if (mIsMove) {\n                mMatrix.postTranslate(-distanceX, -distanceY);\n                invalidate();\n            }\n            return true;\n        }\n\n        @Override\n        public void onShowPress(MotionEvent e) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public boolean onSingleTapUp(MotionEvent e) {\n            // TODO Auto-generated method stub\n            return false;\n        }\n    }\n\n    public void setMove(boolean isMove) {\n        mIsMove = isMove;\n    }\n\n    // EA VIKALP\n\n    public void setWarpBitmap(Bitmap bmp) {\n        fg = true;// é‡�ç½®æ ‡å¿—\n        first = 0;\n        mBmp = bmp;\n        width = bmp.getWidth();\n        height = bmp.getHeight();\n        // æ–°å»ºï¿½?ï¿½ï¿½Bitmap\n        // SU VIKALP\n        // newBmp = Bitmap.createBitmap(width, height,\n        // Bitmap.Config.RGB_565);\n        newBmp = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n        // EU VIKALP\n        image = new int[width * height];\n\n        mBmp.getPixels(image, 0, width, 0, 0, width, height);\n        newBmp.setPixels(image, 0, width, 0, 0, width, height);\n        // super.setImageBitmap(mBmp);\n    }\n\n    public void setMode(int mode) {\n        this.MODE = mode;\n    }\n\n    /**\n     * è¿�?å›žå¤„ç�†å¥½çš„å›¾ç‰‡\n     * \n     * @return\n     */\n    public Bitmap getWrapBitmap() {\n        return newBmp;\n    }\n\n    public void changeBitmapContrastBrightness() {\n        float contrast, brightness;\n        Random generator = new Random();\n        contrast = generator.nextFloat();\n        brightness = contrast;\n\n        // Log.i(TAG, \"changeBitmapContrastBrightness \" + contrast);\n\n        ColorMatrix cm = new ColorMatrix(new float[] { \n                0.501f, 0, 0, 0,0,// red\n                0, 0, 0, 0, brightness,// green\n                0, 0, 0.501f, 0, brightness,// blue\n                0, 0, 0, 1, 0 // alpha\n                });\n        mPaint.setColorFilter(new ColorMatrixColorFilter(cm));\n        invalidate();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1678710,"reputation":10707,"user_id":1543541,"accept_rate":84,"display_name":"Vikalp Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26966092,"answer_count":1,"score":1,"last_activity_date":1660291627,"creation_date":1413462753,"question_id":26404564,"body_markdown":"I&#39;m newbie with OpenCV4Android and Android NDK \n\n**Trying to achieve**\n\nStretch the image with respect to Touch Points on Image.(Putting Hair on Face and stretching it accordingly using touch events Like _&#39;Virtual Make Over Application&#39;_)\n\n**Issues: While using Java**\n\nImplemented warp function on Touch Events by getting Matrix from Bitmap and recomputing them onTouchEvents. But the Image get distorted and whole Matrix gets upside down.\n\n_How can use OpenCV4Android to achieve goal like these?_\n\n### _Tried to get Mat from Bitmap and Resize the Image. But didn&#39;t got any idea How I&#39;m going to proceed further with these?_ ###\n\nAny enlightenment on these would be very helpful.\n\n![enter image description here][1]\n\n  [1]: http://i.stack.imgur.com/KH52A.png","title":"How to give Fluid effect / resize bitmap wrt touch events using opencv4android","body":"<p>I'm newbie with OpenCV4Android and Android NDK</p>\n<p><strong>Trying to achieve</strong></p>\n<p>Stretch the image with respect to Touch Points on Image.(Putting Hair on Face and stretching it accordingly using touch events Like <em>'Virtual Make Over Application'</em>)</p>\n<p><strong>Issues: While using Java</strong></p>\n<p>Implemented warp function on Touch Events by getting Matrix from Bitmap and recomputing them onTouchEvents. But the Image get distorted and whole Matrix gets upside down.</p>\n<p><em>How can use OpenCV4Android to achieve goal like these?</em></p>\n<h3><em>Tried to get Mat from Bitmap and Resize the Image. But didn't got any idea How I'm going to proceed further with these?</em></h3>\n<p>Any enlightenment on these would be very helpful.</p>\n<p><img src=\"https://i.stack.imgur.com/KH52A.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","opencv","android-ndk"],"comments":[{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":1,"creation_date":1420312233,"post_id":27754468,"comment_id":43927755,"body_markdown":"See http://www.sco.com/developers/gabi/2000-07-17/ch4.eheader.html: `e_machine=40` means `EM_ARM`.","body":"See <a href=\"http://www.sco.com/developers/gabi/2000-07-17/ch4.eheader.html\" rel=\"nofollow noreferrer\">sco.com/developers/gabi/2000-07-17/ch4.eheader.html</a>: <code>e_machine=40</code> means <code>EM_ARM</code>."}],"answers":[{"tags":[],"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1425377503,"creation_date":1420300473,"answer_id":27756631,"question_id":27754468,"body_markdown":"Your tablet is based on Intel Atom CPU. You must build your **native_module** for `APP_ABI=x86`. Note that you also need the compatible version of OpenCV.\r\n\r\n**Update:** in this particular case, the app was built for both x86 and ARM. But the app installer chose the wrong subfolder, maybe because the filenames listed in `libs/x86` and `libs/armeabi` *[did not exactly match](https://stackoverflow.com/questions/27754468/running-android-native-code-is-causing-java-lang-unsatisfiedlinkerror/27756631?noredirect=1#comment45694537_27756631)*. The reliable and efficient approach for apps that have non-trivial native component is to [upload separate APKs to PlayStore](https://stackoverflow.com/a/20029256/192373).","title":"Running android native code is causing java.lang.UnsatisfiedLinkError","body":"<p>Your tablet is based on Intel Atom CPU. You must build your <strong>native_module</strong> for <code>APP_ABI=x86</code>. Note that you also need the compatible version of OpenCV.</p>\n\n<p><strong>Update:</strong> in this particular case, the app was built for both x86 and ARM. But the app installer chose the wrong subfolder, maybe because the filenames listed in <code>libs/x86</code> and <code>libs/armeabi</code> <em><a href=\"https://stackoverflow.com/questions/27754468/running-android-native-code-is-causing-java-lang-unsatisfiedlinkerror/27756631?noredirect=1#comment45694537_27756631\">did not exactly match</a></em>. The reliable and efficient approach for apps that have non-trivial native component is to <a href=\"https://stackoverflow.com/a/20029256/192373\">upload separate APKs to PlayStore</a>.</p>\n"},{"tags":[],"owner":{"account_id":5542975,"reputation":3760,"user_id":4398784,"display_name":"Geraldo Neto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452238654,"creation_date":1452238654,"answer_id":34671749,"question_id":27754468,"body_markdown":"I have an Asus Zenfone 5 (which uses the x86 ABI) and I was having the same problem.\r\nApparently the problem was with the **OpenCV 2.x** versions. \r\nStart using the OpenCV 3.x version and the problem is going to be solved.\r\n\r\nThe **OpenCV 3.x** version has more **ABI** options, such as:\r\n\r\n    arm64v8a\r\n    arm\r\n    armv7a\r\n    mips\r\n    mips64\r\n    x86\r\n    x86-64\r\n\r\n\r\nYou can find the **3.x** version [here][1].\r\n\r\n*Hope it helped!*\r\n\r\n\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/opencvlibrary/files/opencv-android/","title":"Running android native code is causing java.lang.UnsatisfiedLinkError","body":"<p>I have an Asus Zenfone 5 (which uses the x86 ABI) and I was having the same problem.\nApparently the problem was with the <strong>OpenCV 2.x</strong> versions. \nStart using the OpenCV 3.x version and the problem is going to be solved.</p>\n\n<p>The <strong>OpenCV 3.x</strong> version has more <strong>ABI</strong> options, such as:</p>\n\n<pre><code>arm64v8a\narm\narmv7a\nmips\nmips64\nx86\nx86-64\n</code></pre>\n\n<p>You can find the <strong>3.x</strong> version <a href=\"http://sourceforge.net/projects/opencvlibrary/files/opencv-android/\" rel=\"nofollow\">here</a>.</p>\n\n<p><em>Hope it helped!</em></p>\n"}],"owner":{"account_id":4623096,"reputation":354,"user_id":3747610,"accept_rate":46,"display_name":"mark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8211,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27756631,"answer_count":2,"score":4,"last_activity_date":1660291471,"creation_date":1420285548,"question_id":27754468,"body_markdown":"I have an android app with native code where I use openCV library. When running the app in phone everything is working well but when I try to run it on tablet(Lenovo yoga 2 pro) I am encountering this error:\r\n\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): FATAL EXCEPTION: main\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): Process: &lt;appname&gt;, PID: 25632\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): java.lang.UnsatisfiedLinkError: dlopen failed: &quot;/data/app-lib/&lt;appname&gt;/libnative_module.so&quot; has unexpected e_machine: 40\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat java.lang.Runtime.loadLibrary(Runtime.java:364)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat java.lang.System.loadLibrary(System.java:526)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat &lt;appname&gt;.SplashActivity$1.onManagerConnected(SplashActivity.java:35)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat org.opencv.android.AsyncServiceHelper$1.onServiceConnected(AsyncServiceHelper.java:318)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1127)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1144)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat android.os.Handler.handleCallback(Handler.java:733)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat android.os.Looper.loop(Looper.java:149)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat android.app.ActivityThread.main(ActivityThread.java:5283)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat java.lang.reflect.Method.invoke(Method.java:515)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:825)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:641)\r\n    01-03 11:53:13.007: E/AndroidRuntime(25632): \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\nthis is on the line 45 in SplashActivity:\r\n\r\n    System.loadLibrary(&quot;native_module&quot;);\r\n\r\nCan someone help me to solve this error? or What am I doing wrong?","title":"Running android native code is causing java.lang.UnsatisfiedLinkError","body":"<p>I have an android app with native code where I use openCV library. When running the app in phone everything is working well but when I try to run it on tablet(Lenovo yoga 2 pro) I am encountering this error:</p>\n\n<pre><code>01-03 11:53:13.007: E/AndroidRuntime(25632): FATAL EXCEPTION: main\n01-03 11:53:13.007: E/AndroidRuntime(25632): Process: &lt;appname&gt;, PID: 25632\n01-03 11:53:13.007: E/AndroidRuntime(25632): java.lang.UnsatisfiedLinkError: dlopen failed: \"/data/app-lib/&lt;appname&gt;/libnative_module.so\" has unexpected e_machine: 40\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at java.lang.Runtime.loadLibrary(Runtime.java:364)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at java.lang.System.loadLibrary(System.java:526)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at &lt;appname&gt;.SplashActivity$1.onManagerConnected(SplashActivity.java:35)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at org.opencv.android.AsyncServiceHelper$1.onServiceConnected(AsyncServiceHelper.java:318)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1127)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1144)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at android.os.Handler.handleCallback(Handler.java:733)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at android.os.Handler.dispatchMessage(Handler.java:95)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at android.os.Looper.loop(Looper.java:149)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at android.app.ActivityThread.main(ActivityThread.java:5283)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at java.lang.reflect.Method.invokeNative(Native Method)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at java.lang.reflect.Method.invoke(Method.java:515)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:825)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:641)\n01-03 11:53:13.007: E/AndroidRuntime(25632):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>this is on the line 45 in SplashActivity:</p>\n\n<pre><code>System.loadLibrary(\"native_module\");\n</code></pre>\n\n<p>Can someone help me to solve this error? or What am I doing wrong?</p>\n"},{"tags":["java","android","opencv","java-native-interface"],"comments":[{"owner":{"account_id":1211703,"reputation":10951,"user_id":1180117,"accept_rate":57,"display_name":"kiranpradeep"},"score":0,"creation_date":1421303284,"post_id":27949852,"comment_id":44309856,"body_markdown":"can u try this http://stackoverflow.com/a/27356635/1180117 ? It is simpler.","body":"can u try this <a href=\"http://stackoverflow.com/a/27356635/1180117\">stackoverflow.com/a/27356635/1180117</a> ? It is simpler."},{"owner":{"account_id":5384031,"reputation":368,"user_id":4288523,"display_name":"ArthurT"},"score":0,"creation_date":1421337049,"post_id":27949852,"comment_id":44327454,"body_markdown":"This worked for me, thank you very much! Still not sure about what I did wrong but now it gets there. Remark that I followed the video that user G3M indicated as well (added the ndk.dir location to the local.properties)","body":"This worked for me, thank you very much! Still not sure about what I did wrong but now it gets there. Remark that I followed the video that user G3M indicated as well (added the ndk.dir location to the local.properties)"},{"owner":{"account_id":1211703,"reputation":10951,"user_id":1180117,"accept_rate":57,"display_name":"kiranpradeep"},"score":0,"creation_date":1421337267,"post_id":27949852,"comment_id":44327605,"body_markdown":"Didn&#39;t it work with out ndk.dir location in local properties ? I never needed it.","body":"Didn&#39;t it work with out ndk.dir location in local properties ? I never needed it."},{"owner":{"account_id":5384031,"reputation":368,"user_id":4288523,"display_name":"ArthurT"},"score":0,"creation_date":1421337821,"post_id":27949852,"comment_id":44328013,"body_markdown":"I haven&#39;t tried yet without it, but I guess it would be fine as well if it works for you. Thanks again","body":"I haven&#39;t tried yet without it, but I guess it would be fine as well if it works for you. Thanks again"}],"answers":[{"tags":[],"owner":{"account_id":3280120,"reputation":13508,"user_id":2760919,"display_name":"bonnyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421261726,"creation_date":1421261726,"answer_id":27950405,"question_id":27949852,"body_markdown":"Are you **loading the OpenCV library in a JAVA static statemen**t? If not, put this somewhere in your activity:\r\n\r\n    static { \r\n       System.loadLibrary(&quot;opencv_java&quot;); //the name of the .so file, without the &#39;lib&#39; prefix\r\n    }","title":"findLibrary returned null with OpenCV4Android in Android Studio","body":"<p>Are you <strong>loading the OpenCV library in a JAVA static statemen</strong>t? If not, put this somewhere in your activity:</p>\n\n<pre><code>static { \n   System.loadLibrary(\"opencv_java\"); //the name of the .so file, without the 'lib' prefix\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3852048,"reputation":1023,"user_id":3191961,"accept_rate":53,"display_name":"G3M"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1421272421,"creation_date":1421272421,"answer_id":27953147,"question_id":27949852,"body_markdown":"You need to include NDK support on Android studio by making some changes to your local.properties file and your Build.gradle. Here is a video showing in detail how to build NDK application on Android Studio\r\nhttps://www.youtube.com/watch?v=0fEtrekNcOo","title":"findLibrary returned null with OpenCV4Android in Android Studio","body":"<p>You need to include NDK support on Android studio by making some changes to your local.properties file and your Build.gradle. Here is a video showing in detail how to build NDK application on Android Studio\n<a href=\"https://www.youtube.com/watch?v=0fEtrekNcOo\" rel=\"nofollow\">https://www.youtube.com/watch?v=0fEtrekNcOo</a></p>\n"},{"tags":[],"owner":{"account_id":1211703,"reputation":10951,"user_id":1180117,"accept_rate":57,"display_name":"kiranpradeep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1421337420,"creation_date":1421337420,"answer_id":27967555,"question_id":27949852,"body_markdown":"The below steps for using Android OpenCV sdk in Android Studio. \r\n\r\n 1. **Download** latest OpenCV sdk for Android from [OpenCV.org][1]  and decompress the zip file.\r\n 2. **Import OpenCV to Android Studio**, From *File -&gt; Import Module*, choose *sdk/java* folder in the unzipped opencv archive.  \r\n 3. **Update build.gradle** under imported OpenCV module to update 4 fields to match your project build.gradle a) compileSdkVersion b) buildToolsVersion c) minSdkVersion and 4) targetSdkVersion.  \r\n 4. **Add module dependency** by *Application -&gt; Module Settings*, and select the *Dependencies* tab. Click *+* icon at bottom, choose *Module Dependency* and select the imported OpenCV module.  \r\n 5. **Copy *libs*** folder under *sdk/native* to Android Studio under *app/src/main*.  \r\n 6. In Android Studio, **rename the copied *libs* directory to *jniLibs*** and we are done.\r\n\r\nStep (6) is since Android studio expects native libs in `app/src/main/jniLibs` instead of older `libs` folder. For those new to Android OpenCV, don&#39;t miss below steps  \r\n\r\n - include `static{ System.loadLibrary(&quot;opencv_java&quot;); }`\r\n - For step(5), if you ignore any platform libs like x86, make sure your device/emulator is not on that platform.\r\n","title":"findLibrary returned null with OpenCV4Android in Android Studio","body":"<p>The below steps for using Android OpenCV sdk in Android Studio. </p>\n\n<ol>\n<li><strong>Download</strong> latest OpenCV sdk for Android from [OpenCV.org][1]  and decompress the zip file.</li>\n<li><strong>Import OpenCV to Android Studio</strong>, From <em>File -> Import Module</em>, choose <em>sdk/java</em> folder in the unzipped opencv archive.  </li>\n<li><strong>Update build.gradle</strong> under imported OpenCV module to update 4 fields to match your project build.gradle a) compileSdkVersion b) buildToolsVersion c) minSdkVersion and 4) targetSdkVersion.  </li>\n<li><strong>Add module dependency</strong> by <em>Application -> Module Settings</em>, and select the <em>Dependencies</em> tab. Click <em>+</em> icon at bottom, choose <em>Module Dependency</em> and select the imported OpenCV module.  </li>\n<li><strong>Copy <em>libs</em></strong> folder under <em>sdk/native</em> to Android Studio under <em>app/src/main</em>.  </li>\n<li>In Android Studio, <strong>rename the copied <em>libs</em> directory to <em>jniLibs</em></strong> and we are done.</li>\n</ol>\n\n<p>Step (6) is since Android studio expects native libs in <code>app/src/main/jniLibs</code> instead of older <code>libs</code> folder. For those new to Android OpenCV, don't miss below steps  </p>\n\n<ul>\n<li>include <code>static{ System.loadLibrary(\"opencv_java\"); }</code></li>\n<li>For step(5), if you ignore any platform libs like x86, make sure your device/emulator is not on that platform.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5384031,"reputation":368,"user_id":4288523,"display_name":"ArthurT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421337634,"creation_date":1421337634,"answer_id":27967632,"question_id":27949852,"body_markdown":"Thanks everyone for the help, now I got it sorted out!\r\n\r\nActually what I did is to follow the instruction from G3M&#39;s video at [https://www.youtube.com/watch?v=0fEtrekNcOo][1] to add ndk capability to my project, i.e. adding the following line to my app&#39;s local.properties:\r\n\r\n    ndk.dir=D\\:\\\\AndroidSDK\\\\ndk\r\n\r\nThen, following Kiran&#39;s advice, I went through the steps from [this setup instruction][2]\r\n\r\nIn the end, I was able to make the static call suggested by bonnyz to get the &quot;opencv_java&quot; library:\r\n\r\n    static { \r\n        System.loadLibrary(&quot;opencv_java&quot;); //the name of the .so file, without the &#39;lib&#39; prefix\r\n    }\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=0fEtrekNcOo\r\n  [2]: https://stackoverflow.com/questions/17767557/how-to-use-opencv-in-android-studio-using-gradle-build-tool/27356635#27356635","title":"findLibrary returned null with OpenCV4Android in Android Studio","body":"<p>Thanks everyone for the help, now I got it sorted out!</p>\n\n<p>Actually what I did is to follow the instruction from G3M's video at <a href=\"https://www.youtube.com/watch?v=0fEtrekNcOo\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=0fEtrekNcOo</a> to add ndk capability to my project, i.e. adding the following line to my app's local.properties:</p>\n\n<pre><code>ndk.dir=D\\:\\\\AndroidSDK\\\\ndk\n</code></pre>\n\n<p>Then, following Kiran's advice, I went through the steps from <a href=\"https://stackoverflow.com/questions/17767557/how-to-use-opencv-in-android-studio-using-gradle-build-tool/27356635#27356635\">this setup instruction</a></p>\n\n<p>In the end, I was able to make the static call suggested by bonnyz to get the \"opencv_java\" library:</p>\n\n<pre><code>static { \n    System.loadLibrary(\"opencv_java\"); //the name of the .so file, without the 'lib' prefix\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3684632,"reputation":443,"user_id":3068659,"accept_rate":0,"display_name":"user3068659"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461654298,"creation_date":1461654298,"answer_id":36857613,"question_id":27949852,"body_markdown":"after my long research I fixed it with the code given below:\r\n\r\n    sourceSets.main {\r\n        jni.srcDirs = []\r\n        jniLibs.srcDir &#39;src/main/libs&#39;\r\n    }","title":"findLibrary returned null with OpenCV4Android in Android Studio","body":"<p>after my long research I fixed it with the code given below:</p>\n\n<pre><code>sourceSets.main {\n    jni.srcDirs = []\n    jniLibs.srcDir 'src/main/libs'\n}\n</code></pre>\n"}],"owner":{"account_id":5384031,"reputation":368,"user_id":4288523,"display_name":"ArthurT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1702,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":27967555,"answer_count":5,"score":-1,"last_activity_date":1660291451,"creation_date":1421259706,"question_id":27949852,"body_markdown":"I want to use OpenCV for the Android app I am currently working on, written in Java.\r\n\r\nTo setup OpenCV, I followed exactly the steps explained on [this page][1] as well as on [this one][2] (tried both solutions without success). When I then let my project rebuild it works, but when I let my code run, it fails when trying to do the following:\r\n\r\n    fdetector = FeatureDetector.create(FeatureDetector.SURF);\r\n\r\nThe error I get is `java.lang.UnsatisfiedLinkError: Native method not found: org.opencv.features2d.FeatureDetector.create_0:(I)J`, kind of the same as in [the aforementioned question page][1]. I tried all solutions proposed on this page but none of them worked for me.\r\n\r\nI do have installed JNI, so I guess this is not the problem. Or m\r\nMy setup is the following:\r\n\r\n    -app\r\n        |-libs (with my other app libraries, including javacv.jar)\r\n        |-src\r\n             |-main\r\n                   |-java (with my code)\r\n                   |-res\r\n                   |-jniLibs (with the .so files from the OpenCV&#39;s sdk\\native\\libs\\x86)\r\n             |-build.gradle\r\n    -libs\r\n         |-opencv\r\n                 |-build\r\n                 |-jniLibs (with the same .so files as I was not sure where to put them)\r\n                 |-res\r\n                 |-src\r\n                 |-build.gradle\r\n\r\nMy app&#39;s build.gradle contains the following dependencies:\r\n\r\n    dependencies {\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.java&#39;])\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.so&#39;])\r\n    compile &#39;com.android.support:appcompat-v7:21.0.2&#39;\r\n    compile project(&#39;:libs:opencv&#39;)\r\n    }\r\n\r\nAnd the opencv&#39;s build.gradle contains the following sourceSets:\r\n\r\n    sourceSets {\r\n    main {\r\n      manifest.srcFile &#39;AndroidManifest.xml&#39;\r\n      java.srcDirs = [&#39;src&#39;]\r\n      resources.srcDirs = [&#39;src&#39;]\r\n      res.srcDirs = [&#39;res&#39;]\r\n      aidl.srcDirs = [&#39;src&#39;]\r\n      jniLibs.srcDirs = [&#39;jniLibs&#39;]\r\n    }\r\n    }\r\n\r\nMy settings.gradle contains an `include &#39;:libs:opencv&#39;`\r\n\r\nI really cannot see where I did something wrong, can anyone help me with this?\r\n\r\n  [1]: https://stackoverflow.com/questions/17767557/how-to-use-opencv-in-android-studio-using-gradle-build-tool/22427267#22427267\r\n  [2]: http://answers.opencv.org/question/14546/how-to-work-with-opencv4android-in-android-studio/","title":"findLibrary returned null with OpenCV4Android in Android Studio","body":"<p>I want to use OpenCV for the Android app I am currently working on, written in Java.</p>\n\n<p>To setup OpenCV, I followed exactly the steps explained on <a href=\"https://stackoverflow.com/questions/17767557/how-to-use-opencv-in-android-studio-using-gradle-build-tool/22427267#22427267\">this page</a> as well as on <a href=\"http://answers.opencv.org/question/14546/how-to-work-with-opencv4android-in-android-studio/\" rel=\"nofollow noreferrer\">this one</a> (tried both solutions without success). When I then let my project rebuild it works, but when I let my code run, it fails when trying to do the following:</p>\n\n<pre><code>fdetector = FeatureDetector.create(FeatureDetector.SURF);\n</code></pre>\n\n<p>The error I get is <code>java.lang.UnsatisfiedLinkError: Native method not found: org.opencv.features2d.FeatureDetector.create_0:(I)J</code>, kind of the same as in <a href=\"https://stackoverflow.com/questions/17767557/how-to-use-opencv-in-android-studio-using-gradle-build-tool/22427267#22427267\">the aforementioned question page</a>. I tried all solutions proposed on this page but none of them worked for me.</p>\n\n<p>I do have installed JNI, so I guess this is not the problem. Or m\nMy setup is the following:</p>\n\n<pre><code>-app\n    |-libs (with my other app libraries, including javacv.jar)\n    |-src\n         |-main\n               |-java (with my code)\n               |-res\n               |-jniLibs (with the .so files from the OpenCV's sdk\\native\\libs\\x86)\n         |-build.gradle\n-libs\n     |-opencv\n             |-build\n             |-jniLibs (with the same .so files as I was not sure where to put them)\n             |-res\n             |-src\n             |-build.gradle\n</code></pre>\n\n<p>My app's build.gradle contains the following dependencies:</p>\n\n<pre><code>dependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ncompile fileTree(dir: 'libs', include: ['*.java'])\ncompile fileTree(dir: 'libs', include: ['*.so'])\ncompile 'com.android.support:appcompat-v7:21.0.2'\ncompile project(':libs:opencv')\n}\n</code></pre>\n\n<p>And the opencv's build.gradle contains the following sourceSets:</p>\n\n<pre><code>sourceSets {\nmain {\n  manifest.srcFile 'AndroidManifest.xml'\n  java.srcDirs = ['src']\n  resources.srcDirs = ['src']\n  res.srcDirs = ['res']\n  aidl.srcDirs = ['src']\n  jniLibs.srcDirs = ['jniLibs']\n}\n}\n</code></pre>\n\n<p>My settings.gradle contains an <code>include ':libs:opencv'</code></p>\n\n<p>I really cannot see where I did something wrong, can anyone help me with this?</p>\n"},{"tags":["java","android","eclipse","opencv"],"answers":[{"tags":[],"owner":{"account_id":5704467,"reputation":139,"user_id":4508494,"accept_rate":80,"display_name":"El M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422567354,"creation_date":1422567354,"answer_id":28225065,"question_id":28224501,"body_markdown":"Set the minimum required API to 11, and leave the target as 21. If it does not work properly, set the minimum to 9 and try again.\r\n\r\nThis is just a configuration to be sure your app will be working on old devices.","title":"Hello Android OpenCV","body":"<p>Set the minimum required API to 11, and leave the target as 21. If it does not work properly, set the minimum to 9 and try again.</p>\n\n<p>This is just a configuration to be sure your app will be working on old devices.</p>\n"}],"owner":{"account_id":4706217,"reputation":1321,"user_id":3808269,"display_name":"user3808269"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660291397,"creation_date":1422565202,"question_id":28224501,"body_markdown":"I went through this tutorial:http://docs.opencv.org/doc/tutorials/introduction/android_binary_package/dev_with_OCV_on_Android.html#hello-opencv-sample and it did not go so well. :/ \r\n\r\nI found the steps confusing and a few spelling errors. Anyway, for instance step 2, &quot;*Set name, target, package and minSDKVersion accordingly. The minimal SDK version for build with OpenCV4Android SDK is 11. Minimal device API Level (for application manifest) is 8*&quot;.\r\n\r\nI am left wondering what to enter exactly. When I look through the *AndroidManifest.xml* for the *OpenCV Tutorial 1 - Camera Preview Manifest* I see that the minSDKVersion is set as ` &lt;uses-sdk android:minSdkVersion=&quot;9&quot; /&gt;`. This seems to contradict step 2. What am I missing here stackoverflow? \r\n\r\nFigure 1 below shows the screen that is causing me my first problems with the &#39;hello world&#39; OpenCV/Android program. \r\n\r\n![enter image description here][1]\r\n\r\nDoes anyone know of or want to help me create a better hello world android/opencv example? \r\n\r\nRegards,\r\n\r\nuser3870315\r\n \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vpbYO.png","title":"Hello Android OpenCV","body":"<p>I went through this tutorial:<a href=\"http://docs.opencv.org/doc/tutorials/introduction/android_binary_package/dev_with_OCV_on_Android.html#hello-opencv-sample\" rel=\"nofollow noreferrer\">http://docs.opencv.org/doc/tutorials/introduction/android_binary_package/dev_with_OCV_on_Android.html#hello-opencv-sample</a> and it did not go so well. :/ </p>\n\n<p>I found the steps confusing and a few spelling errors. Anyway, for instance step 2, \"<em>Set name, target, package and minSDKVersion accordingly. The minimal SDK version for build with OpenCV4Android SDK is 11. Minimal device API Level (for application manifest) is 8</em>\".</p>\n\n<p>I am left wondering what to enter exactly. When I look through the <em>AndroidManifest.xml</em> for the <em>OpenCV Tutorial 1 - Camera Preview Manifest</em> I see that the minSDKVersion is set as <code>&lt;uses-sdk android:minSdkVersion=\"9\" /&gt;</code>. This seems to contradict step 2. What am I missing here stackoverflow? </p>\n\n<p>Figure 1 below shows the screen that is causing me my first problems with the 'hello world' OpenCV/Android program. </p>\n\n<p><img src=\"https://i.stack.imgur.com/vpbYO.png\" alt=\"enter image description here\"></p>\n\n<p>Does anyone know of or want to help me create a better hello world android/opencv example? </p>\n\n<p>Regards,</p>\n\n<p>user3870315</p>\n"},{"tags":["java","spring-boot","serialization","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660282787,"creation_date":1660282787,"answer_id":73329668,"question_id":73328749,"body_markdown":"I believe, you have to configure your producer configuration some thing like as following, because **ADTOSerializer** is the one implementing the **Serializer**\r\n\r\n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, ADTOSerializer.class);\r\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ADTOSerializer.class);","title":"Kafka serialize a java object with a list of object/LocalDateTime into byte[]","body":"<p>I believe, you have to configure your producer configuration some thing like as following, because <strong>ADTOSerializer</strong> is the one implementing the <strong>Serializer</strong></p>\n<pre><code>props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, ADTOSerializer.class);\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ADTOSerializer.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660291250,"creation_date":1660291250,"answer_id":73330981,"question_id":73328749,"body_markdown":"I figured it out. I needed to annotate the LocalDateTimeField with \r\n```\r\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n```\r\n","title":"Kafka serialize a java object with a list of object/LocalDateTime into byte[]","body":"<p>I figured it out. I needed to annotate the LocalDateTimeField with</p>\n<pre><code>    @JsonSerialize(using = LocalDateTimeSerializer.class)\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n</code></pre>\n"}],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73330981,"answer_count":2,"score":0,"last_activity_date":1660291250,"creation_date":1660272314,"question_id":73328749,"body_markdown":"I&#39;ve just started learning Kafka and have ran into some troubles when trying to send an object using kafka template. The custom serializers online all seems to use ```objectMapper.writeValueAsBytes();``` to serialize a java object into byte[]. \r\n\r\nThe classes look something like this\r\n```\r\nClass ADTO{\r\n/*some attributes*/\r\nList[] BDTO bDTOs;\r\nLocalDateTime localDate;\r\n}\r\n\r\nClass BDTO{\r\n/*some attributes*/\r\n}\r\n```\r\nand the custom serializer look something like this\r\n```\r\npublic class ADTOSerializer implements Serializer&lt;ADTO&gt; {\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @Override\r\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n    }\r\n\r\n    @Override\r\n    public byte[] serialize(String s, ADTO aDTO) {\r\n        try {\r\n            if (aDTO == null){\r\n                return null;\r\n            }\r\n            return objectMapper.writeValueAsBytes(aDTO);\r\n        } catch (Exception e) {\r\n            throw new SerializationException(&quot;Error when serializing RecipeDTO to byte[]&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n    }\r\n}\r\n```\r\nThe object is sent through the commandLineRunner below\r\n```\r\n\t@Bean\r\n\tCommandLineRunner commandLineRunner(KafkaTemplate&lt;String, ADTO&gt; kefkaTemplate){\r\n\t\treturn args -&gt; {\r\n\t\t\tADTO aDTO = new ADTO(\r\n                /*attributes*/\r\n\t\t\t);\r\n\t\t\tkefkaTemplate.send(&quot;topic&quot;, aDTO);\r\n\t\t};\r\n\t}\r\n```\r\nHowever, this always threw an exception (&quot;Failed to execute CommandLineRunner... Caused by SerializationException: Error when serializing RecipeDTO to byte[]&quot;). \r\n\r\nI&#39;m assuming that&#39;s caused by either the list of BDTO or the LocalDateTime attribute that exits in ADTO. Possibly both. Do I need to write a serializer for both of them in order for this to work? some pseudo code would be much appreciated.\r\n\r\n----------------------------------\r\nSome more contexts:\r\nthis is the producer config\r\n```\r\n    public Map&lt;String, Object&gt; producerConfig(){\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, ADTOSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ADTOSerializer.class);\r\n        return props;\r\n    }\r\n```\r\n\r\ntopic\r\n```\r\n@Configuration\r\npublic class KafkaTopicConfiguration {\r\n\r\n    @Bean\r\n    public NewTopic customTopic(){\r\n        return TopicBuilder.name(&quot;topic&quot;).build();\r\n    }\r\n}\r\n```\r\nand this is the Kafka listener\r\n```\r\n@Component\r\npublic class KafkaListeners {\r\n    @KafkaListener(\r\n        topics = &quot;topic&quot;,\r\n        groupId = &quot;groupID&quot;\r\n    )\r\n    void listener(ADTO aDTO){\r\n    }\r\n}\r\n```","title":"Kafka serialize a java object with a list of object/LocalDateTime into byte[]","body":"<p>I've just started learning Kafka and have ran into some troubles when trying to send an object using kafka template. The custom serializers online all seems to use <code>objectMapper.writeValueAsBytes();</code> to serialize a java object into byte[].</p>\n<p>The classes look something like this</p>\n<pre><code>Class ADTO{\n/*some attributes*/\nList[] BDTO bDTOs;\nLocalDateTime localDate;\n}\n\nClass BDTO{\n/*some attributes*/\n}\n</code></pre>\n<p>and the custom serializer look something like this</p>\n<pre><code>public class ADTOSerializer implements Serializer&lt;ADTO&gt; {\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n    }\n\n    @Override\n    public byte[] serialize(String s, ADTO aDTO) {\n        try {\n            if (aDTO == null){\n                return null;\n            }\n            return objectMapper.writeValueAsBytes(aDTO);\n        } catch (Exception e) {\n            throw new SerializationException(&quot;Error when serializing RecipeDTO to byte[]&quot;);\n        }\n    }\n\n    @Override\n    public void close() {\n    }\n}\n</code></pre>\n<p>The object is sent through the commandLineRunner below</p>\n<pre><code>    @Bean\n    CommandLineRunner commandLineRunner(KafkaTemplate&lt;String, ADTO&gt; kefkaTemplate){\n        return args -&gt; {\n            ADTO aDTO = new ADTO(\n                /*attributes*/\n            );\n            kefkaTemplate.send(&quot;topic&quot;, aDTO);\n        };\n    }\n</code></pre>\n<p>However, this always threw an exception (&quot;Failed to execute CommandLineRunner... Caused by SerializationException: Error when serializing RecipeDTO to byte[]&quot;).</p>\n<p>I'm assuming that's caused by either the list of BDTO or the LocalDateTime attribute that exits in ADTO. Possibly both. Do I need to write a serializer for both of them in order for this to work? some pseudo code would be much appreciated.</p>\n<hr />\n<p>Some more contexts:\nthis is the producer config</p>\n<pre><code>    public Map&lt;String, Object&gt; producerConfig(){\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, ADTOSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ADTOSerializer.class);\n        return props;\n    }\n</code></pre>\n<p>topic</p>\n<pre><code>@Configuration\npublic class KafkaTopicConfiguration {\n\n    @Bean\n    public NewTopic customTopic(){\n        return TopicBuilder.name(&quot;topic&quot;).build();\n    }\n}\n</code></pre>\n<p>and this is the Kafka listener</p>\n<pre><code>@Component\npublic class KafkaListeners {\n    @KafkaListener(\n        topics = &quot;topic&quot;,\n        groupId = &quot;groupID&quot;\n    )\n    void listener(ADTO aDTO){\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","cassandra","maven-3","spark-cassandra-connector"],"comments":[{"owner":{"account_id":5336470,"reputation":144,"user_id":4255253,"display_name":"Tanimak"},"score":0,"creation_date":1592976014,"post_id":62547107,"comment_id":110613663,"body_markdown":"This dependency resolves fine for me. It is located in the maven central repo. https://mvnrepository.com/artifact/com.datastax.spark/spark-cassandra-connector_2.11/2.4.3. So that you don&#39;t need to specify repositories. Have you tried re-importing maven dependencies? What is the IDE you are using?","body":"This dependency resolves fine for me. It is located in the maven central repo. <a href=\"https://mvnrepository.com/artifact/com.datastax.spark/spark-cassandra-connector_2.11/2.4.3\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.datastax.spark/&hellip;</a>. So that you don&#39;t need to specify repositories. Have you tried re-importing maven dependencies? What is the IDE you are using?"},{"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"score":0,"creation_date":1592976554,"post_id":62547107,"comment_id":110613830,"body_markdown":"Try `mvn clean install -U` and try fetching all the dependencies from maven central repo which are available there .","body":"Try <code>mvn clean install -U</code> and try fetching all the dependencies from maven central repo which are available there ."},{"owner":{"account_id":9496665,"reputation":113,"user_id":7059424,"display_name":"Pookly"},"score":0,"creation_date":1592977696,"post_id":62547107,"comment_id":110614202,"body_markdown":"@Tanimak idea 2019.3","body":"@Tanimak idea 2019.3"},{"owner":{"account_id":5336470,"reputation":144,"user_id":4255253,"display_name":"Tanimak"},"score":1,"creation_date":1592978716,"post_id":62547107,"comment_id":110614567,"body_markdown":"You can also try right click on pom.xml -&gt; Maven -&gt; Generate Sources and Update folders.","body":"You can also try right click on pom.xml -&gt; Maven -&gt; Generate Sources and Update folders."},{"owner":{"account_id":9496665,"reputation":113,"user_id":7059424,"display_name":"Pookly"},"score":0,"creation_date":1592979434,"post_id":62547107,"comment_id":110614837,"body_markdown":"@Tanimak yes,i try it,but updating very slow.","body":"@Tanimak yes,i try it,but updating very slow."},{"owner":{"account_id":5336470,"reputation":144,"user_id":4255253,"display_name":"Tanimak"},"score":0,"creation_date":1592979637,"post_id":62547107,"comment_id":110614924,"body_markdown":"@Pookly once downloaded to your local maven repo, you will be able to use it as other artifacts.","body":"@Pookly once downloaded to your local maven repo, you will be able to use it as other artifacts."},{"owner":{"account_id":9496665,"reputation":113,"user_id":7059424,"display_name":"Pookly"},"score":0,"creation_date":1592980081,"post_id":62547107,"comment_id":110615108,"body_markdown":"@Tanimak ok,thanks for your help","body":"@Tanimak ok,thanks for your help"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1592984549,"post_id":62547107,"comment_id":110617188,"body_markdown":"I would recommend to switch to SCC 2.5.0 - it&#39;s newer &amp; has much more functionality &amp; optimizations","body":"I would recommend to switch to SCC 2.5.0 - it&#39;s newer &amp; has much more functionality &amp; optimizations"},{"owner":{"account_id":9496665,"reputation":113,"user_id":7059424,"display_name":"Pookly"},"score":0,"creation_date":1592987708,"post_id":62547107,"comment_id":110618746,"body_markdown":"@AlexOtt yes,I try to it,but it not Compatibili Cassandra Java Driver 3.x","body":"@AlexOtt yes,I try to it,but it not Compatibili Cassandra Java Driver 3.x"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1592988768,"post_id":62547107,"comment_id":110619282,"body_markdown":"that&#39;s true... but do you really need to use driver from Spark application?","body":"that&#39;s true... but do you really need to use driver from Spark application?"}],"owner":{"account_id":9496665,"reputation":113,"user_id":7059424,"display_name":"Pookly"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660290839,"creation_date":1592969086,"question_id":62547107,"body_markdown":"Version: maven 3.6.3\r\n\r\nI try to put this dependency into pom.xml,but it not auto download\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-cassandra-connector_2.11&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nso i use command line:\r\n\r\n    mvn dependency:get -DremoteRepositories=http://repo1.maven.org/maven2 -DgroupId=com.datastax.spark -DartifactId=spark-cassandra-connector_2.11 -Dversion=2.4.3 -Dtransitive=false\r\n\r\nbut it give me couldn&#39;t download artifact error log :\r\n\r\n&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.8:get (default-cli) on project standalone-pom: Couldn&#39;t download artifact: Could not transfer artifact com.datastax.spark:spark-cassandra-connector_2.11:jar:2.4.3\r\n\r\n1. Do I need to upgrade remoteRepositories?\r\n\r\n2. Why are some commonly used packages automatically downloaded quickly ? such as guava,commons-lang.\r\nSome new versions are always problematic to rely on for download,Is it no cache in \r\nrepository?\r\n\r\nHow can I download the dependency? Thanks","title":"How can I download Infrequently used dependencies in maven?","body":"<p>Version: maven 3.6.3</p>\n<p>I try to put this dependency into pom.xml,but it not auto download</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-cassandra-connector_2.11&lt;/artifactId&gt;\n        &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>so i use command line:</p>\n<pre><code>mvn dependency:get -DremoteRepositories=http://repo1.maven.org/maven2 -DgroupId=com.datastax.spark -DartifactId=spark-cassandra-connector_2.11 -Dversion=2.4.3 -Dtransitive=false\n</code></pre>\n<p>but it give me couldn't download artifact error log :</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.8:get (default-cli) on project standalone-pom: Couldn't download artifact: Could not transfer artifact com.datastax.spark:spark-cassandra-connector_2.11:jar:2.4.3</p>\n</blockquote>\n<ol>\n<li><p>Do I need to upgrade remoteRepositories?</p>\n</li>\n<li><p>Why are some commonly used packages automatically downloaded quickly ? such as guava,commons-lang.\nSome new versions are always problematic to rely on for download,Is it no cache in\nrepository?</p>\n</li>\n</ol>\n<p>How can I download the dependency? Thanks</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","cassandra","spark-cassandra-connector"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":1,"creation_date":1594451855,"post_id":62837218,"comment_id":111136174,"body_markdown":"why you need to do `as` again if you already did it when loading the data. Also, the issue could come from the use of the incorrect type in `.as` inside `.select` -&gt; the field is most probably has `timestamp` type, and you need to use `java.sql.Timestamp` or `java.sql.Date` for it...","body":"why you need to do <code>as</code> again if you already did it when loading the data. Also, the issue could come from the use of the incorrect type in <code>.as</code> inside <code>.select</code> -&gt; the field is most probably has <code>timestamp</code> type, and you need to use <code>java.sql.Timestamp</code> or <code>java.sql.Date</code> for it..."},{"owner":{"account_id":5100014,"reputation":307,"user_id":4089900,"display_name":"Ankur Gogate"},"score":0,"creation_date":1594895727,"post_id":62837218,"comment_id":111289901,"body_markdown":"Hi @AlexOtt yes you are right i was doing trial and error on the code. java.sql.timestamp is the answer i was looking for. i used joda timestamp but that was not working. Thanks for help","body":"Hi @AlexOtt yes you are right i was doing trial and error on the code. java.sql.timestamp is the answer i was looking for. i used joda timestamp but that was not working. Thanks for help"}],"answers":[{"tags":[],"owner":{"account_id":5100014,"reputation":307,"user_id":4089900,"display_name":"Ankur Gogate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595108849,"creation_date":1595108849,"answer_id":62974127,"question_id":62837218,"body_markdown":"```\r\njava.sql.Timestamp\r\n``` \r\nThis for using formats which contains time part in it \r\n\r\n```\r\njava.sql.Date\r\n```\r\nThis for just the dates ","title":"Spark Cassandra connector with Java for read","body":"<pre><code>java.sql.Timestamp\n</code></pre>\n<p>This for using formats which contains time part in it</p>\n<pre><code>java.sql.Date\n</code></pre>\n<p>This for just the dates</p>\n"}],"owner":{"account_id":5100014,"reputation":307,"user_id":4089900,"display_name":"Ankur Gogate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660290569,"creation_date":1594393816,"question_id":62837218,"body_markdown":"Requirement :- \r\n       I have persisted data in cassandra and on hourly basis i need to calculate some score based on updates happening to records.I see data coming correctly by using the show() method on dataset \r\n\r\nBelow code to read data :- \r\n```\r\nDataset&lt;DealFeedSchema&gt; dealFeedSchemaDataset = session.read()\r\n     .format(Constants.SPARK_CASSANDRA_SOURCE_PATH)\r\n     .option(Constants.KEY_SPACE, Constants.CASSANDRA_KEY_SPACE)\r\n     .option(Constants.TABLE, Constants.CASSANDRA_DEAL_TABLE_SPACE)\r\n     .option(Constants.DATE_FORMAT, &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n     .schema(DealFeedSchema.getDealFeedSchema())\r\n     .load()\r\n     .as(Encoders.bean(DealFeedSchema.class));\r\ndealFeedSchemaDataset.show();\r\n```\r\n\r\noutput of show is below:\r\n\r\n```\r\n+-------+----------+-------------+--------------------+-----------+------------+----------+------------------------+---------------+-----------+-------------------+-------------------+----------+------------+-------------------+----------------+-------------------+-------------+----------+--------------------+----------+-------------------------+---------------+----------------+---------------+--------------+--------------+-----+\r\n|deal_id| deal_name|deal_category|           deal_tags|growth_tags|deal_tag_ids|deal_price|deal_discount_percentage|deal_group_size|deal_active|    deal_start_time|        deal_expiry|product_id|product_name|product_description|product_category|product_category_id|product_price|hero_image|      product_images| video_url|video_thumbnail_image_url|deal_like_count|deal_share_count|deal_view_count|deal_buy_count|weighted_score|boost|\r\n+-------+----------+-------------+--------------------+-----------+------------+----------+------------------------+---------------+-----------+-------------------+-------------------+----------+------------+-------------------+----------------+-------------------+-------------+----------+--------------------+----------+-------------------------+---------------+----------------+---------------+--------------+--------------+-----+\r\n|      4|7h12349961|          mqw|[under999, under3...|         []|          []|    4969.0|                    null|       95166551|          1|2020-07-08 14:48:57|2020-07-18 14:48:57|4725457233|  kao62ggnm7|         32h64e356z|      jnnh29zr1f|               null|       6651.0|86kk7s34yr|[dSt4P79, i4WXOHb...|d6tag27924|               4j1l36lp17|           null|            null|           null|          null|          null| null|\r\n\r\n```\r\nSo here&#39;s weired thing that happens when i use map/foreach on **dealFeedSchemaDataset** the data seems not correct i get the column value of **deal_start_time** as current system time something like below, not sure how this gets changed.\r\n\r\neven below line gives same issue:\r\n\r\n```\r\ndealFeedSchemaDataset.select(\r\n      functions.col(&quot;deal_start_time&quot;)).as(Encoders.bean(DateTime.class))\r\n.collectAsList().forEach(schema -&gt; System.out.println(schema));\r\n```\r\n\r\n```\r\n2020-07-10T20:21:47.895+05:30\r\n```\r\ncan someone help me with what am i doing wrong?\r\n","title":"Spark Cassandra connector with Java for read","body":"<p>Requirement :-\nI have persisted data in cassandra and on hourly basis i need to calculate some score based on updates happening to records.I see data coming correctly by using the show() method on dataset</p>\n<p>Below code to read data :-</p>\n<pre><code>Dataset&lt;DealFeedSchema&gt; dealFeedSchemaDataset = session.read()\n     .format(Constants.SPARK_CASSANDRA_SOURCE_PATH)\n     .option(Constants.KEY_SPACE, Constants.CASSANDRA_KEY_SPACE)\n     .option(Constants.TABLE, Constants.CASSANDRA_DEAL_TABLE_SPACE)\n     .option(Constants.DATE_FORMAT, &quot;yyyy-MM-dd HH:mm:ss&quot;)\n     .schema(DealFeedSchema.getDealFeedSchema())\n     .load()\n     .as(Encoders.bean(DealFeedSchema.class));\ndealFeedSchemaDataset.show();\n</code></pre>\n<p>output of show is below:</p>\n<pre><code>+-------+----------+-------------+--------------------+-----------+------------+----------+------------------------+---------------+-----------+-------------------+-------------------+----------+------------+-------------------+----------------+-------------------+-------------+----------+--------------------+----------+-------------------------+---------------+----------------+---------------+--------------+--------------+-----+\n|deal_id| deal_name|deal_category|           deal_tags|growth_tags|deal_tag_ids|deal_price|deal_discount_percentage|deal_group_size|deal_active|    deal_start_time|        deal_expiry|product_id|product_name|product_description|product_category|product_category_id|product_price|hero_image|      product_images| video_url|video_thumbnail_image_url|deal_like_count|deal_share_count|deal_view_count|deal_buy_count|weighted_score|boost|\n+-------+----------+-------------+--------------------+-----------+------------+----------+------------------------+---------------+-----------+-------------------+-------------------+----------+------------+-------------------+----------------+-------------------+-------------+----------+--------------------+----------+-------------------------+---------------+----------------+---------------+--------------+--------------+-----+\n|      4|7h12349961|          mqw|[under999, under3...|         []|          []|    4969.0|                    null|       95166551|          1|2020-07-08 14:48:57|2020-07-18 14:48:57|4725457233|  kao62ggnm7|         32h64e356z|      jnnh29zr1f|               null|       6651.0|86kk7s34yr|[dSt4P79, i4WXOHb...|d6tag27924|               4j1l36lp17|           null|            null|           null|          null|          null| null|\n\n</code></pre>\n<p>So here's weired thing that happens when i use map/foreach on <strong>dealFeedSchemaDataset</strong> the data seems not correct i get the column value of <strong>deal_start_time</strong> as current system time something like below, not sure how this gets changed.</p>\n<p>even below line gives same issue:</p>\n<pre><code>dealFeedSchemaDataset.select(\n      functions.col(&quot;deal_start_time&quot;)).as(Encoders.bean(DateTime.class))\n.collectAsList().forEach(schema -&gt; System.out.println(schema));\n</code></pre>\n<pre><code>2020-07-10T20:21:47.895+05:30\n</code></pre>\n<p>can someone help me with what am i doing wrong?</p>\n"},{"tags":["java","kubernetes","out-of-memory","kubernetes-pod"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1660170999,"post_id":73313356,"comment_id":129472935,"body_markdown":"See https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html Look at the -XX:OnOutOfMemoryError option","body":"See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/specs/man/java.html</a> Look at the -XX:OnOutOfMemoryError option"},{"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1660172924,"post_id":73313356,"comment_id":129473288,"body_markdown":"@tgdavies thanks, I had a look but I was unable to use that options because the pod was restarter before I could do anything.","body":"@tgdavies thanks, I had a look but I was unable to use that options because the pod was restarter before I could do anything."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1660174067,"post_id":73313356,"comment_id":129473531,"body_markdown":"Probably not an OOM exception then. Maybe the JVM is trying to allocate more memory than the pod has available? Try running with a small er heap size.","body":"Probably not an OOM exception then. Maybe the JVM is trying to allocate more memory than the pod has available? Try running with a small er heap size."}],"answers":[{"tags":[],"owner":{"account_id":13239570,"reputation":4485,"user_id":9560594,"display_name":"Hussein Awala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660290135,"creation_date":1660172005,"answer_id":73313536,"question_id":73313356,"body_markdown":"There is some solutions to do that:\r\n- you can mount a volume to your application, and configure `log4j` to write the log to a file in the volume, so the log will be persistent\r\n- the best solution is using a log collector (fluentd, logstash) to save the log in Elastic Search or a S3 file, or using a managed service like AWS cloudWatch, datadog, ...\r\n\r\nTo solve the problem of OOM, you can add a big request memory to your application (2-4G), then you can watch the memory usage by using `top` command or a tool to monitor your cluster (ex prometheus):\r\n```yaml\r\napiVersion: v1\r\nkind: Pod\r\nmetadata:\r\n  name: ...\r\nspec:\r\n  containers:\r\n  - name: ...\r\n    image: ...\r\n    resources:\r\n      requests:\r\n        memory: &quot;2G&quot;\r\n```","title":"Kubernetes Java pod - handling unexpected Error (Exit Code: 137)","body":"<p>There is some solutions to do that:</p>\n<ul>\n<li>you can mount a volume to your application, and configure <code>log4j</code> to write the log to a file in the volume, so the log will be persistent</li>\n<li>the best solution is using a log collector (fluentd, logstash) to save the log in Elastic Search or a S3 file, or using a managed service like AWS cloudWatch, datadog, ...</li>\n</ul>\n<p>To solve the problem of OOM, you can add a big request memory to your application (2-4G), then you can watch the memory usage by using <code>top</code> command or a tool to monitor your cluster (ex prometheus):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: ...\nspec:\n  containers:\n  - name: ...\n    image: ...\n    resources:\n      requests:\n        memory: &quot;2G&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3989434,"reputation":55891,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660200193,"creation_date":1660200193,"answer_id":73316328,"question_id":73313356,"body_markdown":"I found the below two ways to investigate the `out of memory error` in the Kubernetes. Either it would be best if you had a logging solution that will keep the logs or you can use `--previous` run to read the logs, which I generally use for debugging until it is the `same` pod that is in `crashloop`.\r\n\r\n**Write thread to stdout of the pod**\r\n\r\nYou can take advantage of the `lifecycle` hook, and take a `thread dump` and write to stdout, so you will be able to see at `k logs -f pod_name -c container_name --previous`\r\n```\r\n          lifecycle:\r\n            preStop:\r\n              exec:\r\n                command: [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;jcmd 1 Thread.print &gt; /proc/1/fd/1&quot;]          \r\n\r\n```\r\n[pod-lifecycle][1]\r\n\r\nThis will also help if you write dumb logs to Datadog or Elasticsearch.\r\n\r\n**Writing to volume**\r\n\r\nyou will need to update the `java` command or `env` and deployment chart.\r\n\r\n```\r\n      serviceAccountName: {{ include &quot;helm-chart.fullname&quot; . }}\r\n      volumes:\r\n        - name: heap-dumps\r\n          emptyDir: {}\r\n      containers:\r\n        - name: java-container\r\n          volumeMounts:\r\n          - name: heap-dumps\r\n            mountPath: /dumps\r\n```\r\n\r\nadd this env\r\n\r\n```\r\nENV JAVA_OPTS=&quot;-XX:+CrashOnOutOfMemoryError  -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/dumps/oom.bin -Djava.io.tmpdir=/tmp&quot;\r\n\r\n``` \r\nyou will be able to see what&#39;s going on in the JVM.\r\n\r\n\r\nSome more config regarding JVM in the container that can help you to utlizie the advance option of the JVM running inside container.\r\n\r\n```\r\n-XX:InitialRAMPercentage=50.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=85.0\r\n```\r\n\r\n&gt;he JVM has been modified to be aware that **it is running in a Docker container** and will extract container specific configuration information instead of querying the operating system.\r\n\r\n[jvm-in-a-container][2]\r\n\r\n[best-practices-java-memory-arguments-for-containers][3]\r\n\r\n\r\n  [1]: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/\r\n  [2]: https://www.merikan.com/2019/04/jvm-in-a-container/#java-10\r\n  [3]: https://community.oracle.com/tech/developers/discussion/4478818/best-practices-java-memory-arguments-for-containers","title":"Kubernetes Java pod - handling unexpected Error (Exit Code: 137)","body":"<p>I found the below two ways to investigate the <code>out of memory error</code> in the Kubernetes. Either it would be best if you had a logging solution that will keep the logs or you can use <code>--previous</code> run to read the logs, which I generally use for debugging until it is the <code>same</code> pod that is in <code>crashloop</code>.</p>\n<p><strong>Write thread to stdout of the pod</strong></p>\n<p>You can take advantage of the <code>lifecycle</code> hook, and take a <code>thread dump</code> and write to stdout, so you will be able to see at <code>k logs -f pod_name -c container_name --previous</code></p>\n<pre><code>          lifecycle:\n            preStop:\n              exec:\n                command: [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;jcmd 1 Thread.print &gt; /proc/1/fd/1&quot;]          \n\n</code></pre>\n<p><a href=\"https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/\" rel=\"nofollow noreferrer\">pod-lifecycle</a></p>\n<p>This will also help if you write dumb logs to Datadog or Elasticsearch.</p>\n<p><strong>Writing to volume</strong></p>\n<p>you will need to update the <code>java</code> command or <code>env</code> and deployment chart.</p>\n<pre><code>      serviceAccountName: {{ include &quot;helm-chart.fullname&quot; . }}\n      volumes:\n        - name: heap-dumps\n          emptyDir: {}\n      containers:\n        - name: java-container\n          volumeMounts:\n          - name: heap-dumps\n            mountPath: /dumps\n</code></pre>\n<p>add this env</p>\n<pre><code>ENV JAVA_OPTS=&quot;-XX:+CrashOnOutOfMemoryError  -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/dumps/oom.bin -Djava.io.tmpdir=/tmp&quot;\n\n</code></pre>\n<p>you will be able to see what's going on in the JVM.</p>\n<p>Some more config regarding JVM in the container that can help you to utlizie the advance option of the JVM running inside container.</p>\n<pre><code>-XX:InitialRAMPercentage=50.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=85.0\n</code></pre>\n<blockquote>\n<p>he JVM has been modified to be aware that <strong>it is running in a Docker container</strong> and will extract container specific configuration information instead of querying the operating system.</p>\n</blockquote>\n<p><a href=\"https://www.merikan.com/2019/04/jvm-in-a-container/#java-10\" rel=\"nofollow noreferrer\">jvm-in-a-container</a></p>\n<p><a href=\"https://community.oracle.com/tech/developers/discussion/4478818/best-practices-java-memory-arguments-for-containers\" rel=\"nofollow noreferrer\">best-practices-java-memory-arguments-for-containers</a></p>\n"}],"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660290135,"creation_date":1660170192,"question_id":73313356,"body_markdown":"I have Java pod that after few days is restarted.\r\n\r\nLooking at `kubectl describe pod ...` there is just the following:\r\n\r\n    Last State:     Terminated\r\n      Reason:       Error\r\n      Exit Code:    137\r\n\r\nThis message, in my experience, usually means that I have an OutOfMemoryError somewhere but looking at the log I don&#39;t see anything useful.\r\n\r\nIs there a way to execute a script (or save few files) just before the inevitable restart? \r\nSomething that could help me to identify the problem.\r\n\r\nFor example: in case the restart was caused by an OutOfMemoryError, would be wonderful if I could save the memory dump or the garbage collection logs.","title":"Kubernetes Java pod - handling unexpected Error (Exit Code: 137)","body":"<p>I have Java pod that after few days is restarted.</p>\n<p>Looking at <code>kubectl describe pod ...</code> there is just the following:</p>\n<pre><code>Last State:     Terminated\n  Reason:       Error\n  Exit Code:    137\n</code></pre>\n<p>This message, in my experience, usually means that I have an OutOfMemoryError somewhere but looking at the log I don't see anything useful.</p>\n<p>Is there a way to execute a script (or save few files) just before the inevitable restart?\nSomething that could help me to identify the problem.</p>\n<p>For example: in case the restart was caused by an OutOfMemoryError, would be wonderful if I could save the memory dump or the garbage collection logs.</p>\n"},{"tags":["java","eclipse","metadata","iot","kura"],"answers":[{"tags":[],"owner":{"account_id":8739377,"reputation":1189,"user_id":6536887,"display_name":"balun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648908192,"creation_date":1648908192,"answer_id":71718211,"question_id":71708014,"body_markdown":"Just share my understanding of Kura, FYI. \r\n\r\nAs we know, Kura is based on OSGi framework and provides some extra features like MQTT integration and friendly user interfaces, etc. \r\n\r\nSo, at its core, Kura shall be agnostic to user component&#39;s implementation, the interfaces like `ComponentConfiguration` and `ConfigurationService` are only helping Kura to compose user interfaces, but not designed to understand the configuration details. \r\n\r\nIn my opinion, Kura **will not** provide such APIs to describe the details of components&#39; configuration, **but** you can write a component to read from your target components via above-mentioned interfaces and try to understand according to some beforehand knowledge.","title":"Retrieve metadata of Kura components/drivers","body":"<p>Just share my understanding of Kura, FYI.</p>\n<p>As we know, Kura is based on OSGi framework and provides some extra features like MQTT integration and friendly user interfaces, etc.</p>\n<p>So, at its core, Kura shall be agnostic to user component's implementation, the interfaces like <code>ComponentConfiguration</code> and <code>ConfigurationService</code> are only helping Kura to compose user interfaces, but not designed to understand the configuration details.</p>\n<p>In my opinion, Kura <strong>will not</strong> provide such APIs to describe the details of components' configuration, <strong>but</strong> you can write a component to read from your target components via above-mentioned interfaces and try to understand according to some beforehand knowledge.</p>\n"},{"tags":[],"owner":{"account_id":19880578,"reputation":119,"user_id":14564685,"display_name":"marcellorinaldo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656437546,"creation_date":1656437546,"answer_id":72790874,"question_id":71708014,"body_markdown":"If you implement an OSGi bundle that implements the `ConfigurableComponent` interface, then all the metatype data will be passed as a `Map&lt;String, Object&gt;` to the activation and updating hook methods. You can then extract the inserted value by specifying the key of the searched property.\r\n\r\nIn the [Kura documentation](http://eclipse.github.io/kura/dev/configurable_component.html) you can find some examples.","title":"Retrieve metadata of Kura components/drivers","body":"<p>If you implement an OSGi bundle that implements the <code>ConfigurableComponent</code> interface, then all the metatype data will be passed as a <code>Map&lt;String, Object&gt;</code> to the activation and updating hook methods. You can then extract the inserted value by specifying the key of the searched property.</p>\n<p>In the <a href=\"http://eclipse.github.io/kura/dev/configurable_component.html\" rel=\"nofollow noreferrer\">Kura documentation</a> you can find some examples.</p>\n"},{"tags":[],"owner":{"account_id":8183882,"reputation":489,"user_id":6160227,"display_name":"pinty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660289336,"creation_date":1660289336,"answer_id":73330653,"question_id":71708014,"body_markdown":"Actually, there are three ways to obtain what you need in Kura 5.1.1:\r\n- API REST: there is a set of REST requests to [manage the configuration](https://eclipse.github.io/kura/ref/conf-v2.html) in Kura. Specifically you could use [getConfigurableComponentsConfigurations](https://eclipse.github.io/kura/ref/conf-v2.html#getconfigurablecomponentsconfigurations). It returns the configuration and the definition. Remember you need the `rest.configuration` permission assigned to the user you use.\r\n- Programmatically: when you are developing something to run in Kura framework, you can use the ConfigurationService you&#39;ve already explored. With the method [getComponentConfigurations](https://download.eclipse.org/kura/docs/api/4.0.0/apidocs/org/eclipse/kura/configuration/ConfigurationService.html#getComponentConfigurations--) you retrieve all the configurations and their definitions (OCD).\r\n- MQTT API: Kura provides an [MQTT API](https://eclipse.github.io/kura/ref/mqtt-namespace.html) to interact with an IoT Platform (preferably [Eclipse Kapua](https://www.eclipse.org/kapua/)) and through this API you can request the configuration with not only the data but also the definition of the configuration. It is intended to be used by a third party platform to provide a full configuration interface. Specifically, the request you need is [Read all configurations](https://eclipse.github.io/kura/ref/mqtt-namespace.html#read-all-configurations).","title":"Retrieve metadata of Kura components/drivers","body":"<p>Actually, there are three ways to obtain what you need in Kura 5.1.1:</p>\n<ul>\n<li>API REST: there is a set of REST requests to <a href=\"https://eclipse.github.io/kura/ref/conf-v2.html\" rel=\"nofollow noreferrer\">manage the configuration</a> in Kura. Specifically you could use <a href=\"https://eclipse.github.io/kura/ref/conf-v2.html#getconfigurablecomponentsconfigurations\" rel=\"nofollow noreferrer\">getConfigurableComponentsConfigurations</a>. It returns the configuration and the definition. Remember you need the <code>rest.configuration</code> permission assigned to the user you use.</li>\n<li>Programmatically: when you are developing something to run in Kura framework, you can use the ConfigurationService you've already explored. With the method <a href=\"https://download.eclipse.org/kura/docs/api/4.0.0/apidocs/org/eclipse/kura/configuration/ConfigurationService.html#getComponentConfigurations--\" rel=\"nofollow noreferrer\">getComponentConfigurations</a> you retrieve all the configurations and their definitions (OCD).</li>\n<li>MQTT API: Kura provides an <a href=\"https://eclipse.github.io/kura/ref/mqtt-namespace.html\" rel=\"nofollow noreferrer\">MQTT API</a> to interact with an IoT Platform (preferably <a href=\"https://www.eclipse.org/kapua/\" rel=\"nofollow noreferrer\">Eclipse Kapua</a>) and through this API you can request the configuration with not only the data but also the definition of the configuration. It is intended to be used by a third party platform to provide a full configuration interface. Specifically, the request you need is <a href=\"https://eclipse.github.io/kura/ref/mqtt-namespace.html#read-all-configurations\" rel=\"nofollow noreferrer\">Read all configurations</a>.</li>\n</ul>\n"}],"owner":{"account_id":13951861,"reputation":45,"user_id":10075219,"display_name":"spike32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1660289336,"creation_date":1648821134,"question_id":71708014,"body_markdown":"I need a way to retrieve Kura compontents metadata. For instance, when you add a new component from the Kura web interface, you are prompted with a data form which has different fields according to the component you&#39;ve added. Some of these fields are required and some are not, some of them require a value in a specific range and some are up to the user, etc. I would like to know if there is a Kura API that could give such data, like information about the data a component needs and what type of data. I was giving a look at the classes [`ComponentConfiguration`][1] and [`ConfigurationService`][2] but I didn&#39;t find anything useful. Is there a way to retrieve and get such data?\r\n\r\n\r\n  [1]: https://download.eclipse.org/kura/docs/api/4.0.0/apidocs/org/eclipse/kura/configuration/ComponentConfiguration.html\r\n  [2]: https://download.eclipse.org/kura/docs/api/4.0.0/apidocs/org/eclipse/kura/configuration/ConfigurationService.html","title":"Retrieve metadata of Kura components/drivers","body":"<p>I need a way to retrieve Kura compontents metadata. For instance, when you add a new component from the Kura web interface, you are prompted with a data form which has different fields according to the component you've added. Some of these fields are required and some are not, some of them require a value in a specific range and some are up to the user, etc. I would like to know if there is a Kura API that could give such data, like information about the data a component needs and what type of data. I was giving a look at the classes <a href=\"https://download.eclipse.org/kura/docs/api/4.0.0/apidocs/org/eclipse/kura/configuration/ComponentConfiguration.html\" rel=\"nofollow noreferrer\"><code>ComponentConfiguration</code></a> and <a href=\"https://download.eclipse.org/kura/docs/api/4.0.0/apidocs/org/eclipse/kura/configuration/ConfigurationService.html\" rel=\"nofollow noreferrer\"><code>ConfigurationService</code></a> but I didn't find anything useful. Is there a way to retrieve and get such data?</p>\n"},{"tags":["java","android","android-fragments","nullpointerexception"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1660286364,"post_id":73330090,"comment_id":129501065,"body_markdown":"How are you calling `setBottomNavigationVisibility`? add the code . and please remove all these images from question they do not relate to the question .","body":"How are you calling <code>setBottomNavigationVisibility</code>? add the code . and please remove all these images from question they do not relate to the question ."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1660286689,"post_id":73330090,"comment_id":129501146,"body_markdown":"please check inside oncreateview of the fragment I am calling it please check on the line     ((MainActivity) requireActivity()).setBottomNavigationVisibility(View.GONE);","body":"please check inside oncreateview of the fragment I am calling it please check on the line     ((MainActivity) requireActivity()).setBottomNavigationVisibility(View.GONE);"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1660288155,"post_id":73330090,"comment_id":129501615,"body_markdown":"Something does not add up here cause `bottomNavigationView` seems to be null .. Are you sure this is the only call you are making to `setBottomNavigationVisibility`? you are not calling `new MainActivity()` Somewhere right ?","body":"Something does not add up here cause <code>bottomNavigationView</code> seems to be null .. Are you sure this is the only call you are making to <code>setBottomNavigationVisibility</code>? you are not calling <code>new MainActivity()</code> Somewhere right ?"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1660288468,"post_id":73330090,"comment_id":129501709,"body_markdown":"yes thiss is the only call i am making here","body":"yes thiss is the only call i am making here"}],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660289162,"creation_date":1660286718,"answer_id":73330201,"question_id":73330090,"body_markdown":"in fragment you want hide bottom bar, just call this line in *onViewCreated*\r\n```\r\ngetActivity().findViewById(R.id.activity_main_bottom_navigation_view).setVisibility(View.GONE);\r\n```\r\n\r\nand when you leave fragment, call this line in *onDestroy* or *onStop* to visible bottom nav for another fragment:\r\n```\r\ngetActivity().findViewById(R.id.activity_main_bottom_navigation_view).setVisibility(View.VISIBLE)\r\n```","title":"How can i access the find view by id of bottom nav outside on create in android","body":"<p>in fragment you want hide bottom bar, just call this line in <em>onViewCreated</em></p>\n<pre><code>getActivity().findViewById(R.id.activity_main_bottom_navigation_view).setVisibility(View.GONE);\n</code></pre>\n<p>and when you leave fragment, call this line in <em>onDestroy</em> or <em>onStop</em> to visible bottom nav for another fragment:</p>\n<pre><code>getActivity().findViewById(R.id.activity_main_bottom_navigation_view).setVisibility(View.VISIBLE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6635887,"reputation":1123,"user_id":5123074,"accept_rate":36,"display_name":"Александр Волошиновский"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660286719,"creation_date":1660286719,"answer_id":73330202,"question_id":73330090,"body_markdown":"do something like this, define interface\r\n\r\n    interface DashboardActivityDelegate {\r\n        void hideBottomBar();\r\n        void showBottomBar();\r\n    }\r\n your activity must implement this interface\r\n\r\nand in your fragment in which you want to hide bottom nav view do this:\r\ndeclare global variable\r\n\r\n    private DashboardActivityDelegate dashboardActivityDelegate;\r\n    \r\n    @Override\r\n    public void onAttach(Context context) {\r\n          super.onAttach(context);\r\n          if (context instanceof DashboardActivityDelegate) {\r\n             dashboardActivityDelegate = (DashboardActivityDelegate)context;\r\n          }\r\n    \r\n       }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n          if (dashboardActivityDelegate != null) {\r\n             dashboardActivityDelegate.hideBottomBar();\r\n          }\r\n       }\r\n   \r\n    @Override\r\n    public void onDestroy() {\r\n          super.onDestroy();\r\n          if (dashboardActivityDelegate != null) {\r\n             dashboardActivityDelegate.showBottomBar();\r\n          }\r\n    \r\n       }","title":"How can i access the find view by id of bottom nav outside on create in android","body":"<p>do something like this, define interface</p>\n<pre><code>interface DashboardActivityDelegate {\n    void hideBottomBar();\n    void showBottomBar();\n}\n</code></pre>\n<p>your activity must implement this interface</p>\n<p>and in your fragment in which you want to hide bottom nav view do this:\ndeclare global variable</p>\n<pre><code>private DashboardActivityDelegate dashboardActivityDelegate;\n\n@Override\npublic void onAttach(Context context) {\n      super.onAttach(context);\n      if (context instanceof DashboardActivityDelegate) {\n         dashboardActivityDelegate = (DashboardActivityDelegate)context;\n      }\n\n   }\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      if (dashboardActivityDelegate != null) {\n         dashboardActivityDelegate.hideBottomBar();\n      }\n   }\n\n@Override\npublic void onDestroy() {\n      super.onDestroy();\n      if (dashboardActivityDelegate != null) {\n         dashboardActivityDelegate.showBottomBar();\n      }\n\n   }\n</code></pre>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1660289162,"creation_date":1660286022,"question_id":73330090,"body_markdown":"I am working on an application where I am using bottom navigation on Home where i have three fragments on the second fragment called **Post Ad** I have a button called **enter fragment zone** through that i enter into another fragment now when I enter inside another fragment now I don&#39;t want there to show the bottom navigation so to hide it I am using a method inside my main activity called **&quot;setBottomNavigationVisibility&quot;** where I am writing code to set the visibility of bottom nav. but the problem is that it is throwing the null pointer exception in the mainactivty&#39;s method saying that \r\n\r\n**&quot;void com.google.android.material.bottomnavigation.BottomNavigationView.setVisibility(int)&#39; on a null object reference&quot;** on the method&#39;s line where i am setting the visibility\r\n\r\n**code of MainActivity**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    NavController navController;\r\n    BottomNavigationView bottomNavigationView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        navController = Navigation.findNavController(this, R.id.fragmentContainerView);\r\n        bottomNavigationView = findViewById(R.id.activity_main_bottom_navigation_view);\r\n        NavigationUI.setupWithNavController(bottomNavigationView, navController);\r\n\r\n    }\r\n\r\n    public void setBottomNavigationVisibility(int visibility) {\r\n\r\n        bottomNavigationView.setVisibility(visibility);\r\n\r\n    }}\r\n\r\nOn the above method when i am trying to setting the visibility on the line         **bottomNavigationView.setVisibility(visibility);** that&#39;s where it is thrwoing the exception\r\n\r\n     @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        binding = FragmentSecondBinding.inflate(inflater, container, false);\r\n\r\n        // Inflate the layout for this fragment\r\n        View view =  binding.getRoot();\r\n\r\n        viewModel = new ViewModelProvider(requireActivity()).get(PageViewModel.class);\r\n\r\n        ((MainActivity) requireActivity()).setBottomNavigationVisibility(View.GONE);\r\n\r\n        binding.toolbar.setNavigationOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               Navigation.findNavController(view).navigate(R.id.action_secondFragment2_to_postad);\r\n            }\r\n        });\r\n\r\nNo Please guide me how can i solve this error. \r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BmQVF.png\r\n  [2]: https://i.stack.imgur.com/aXcNQ.png\r\n  [3]: https://i.stack.imgur.com/gZriX.png","title":"How can i access the find view by id of bottom nav outside on create in android","body":"<p>I am working on an application where I am using bottom navigation on Home where i have three fragments on the second fragment called <strong>Post Ad</strong> I have a button called <strong>enter fragment zone</strong> through that i enter into another fragment now when I enter inside another fragment now I don't want there to show the bottom navigation so to hide it I am using a method inside my main activity called <strong>&quot;setBottomNavigationVisibility&quot;</strong> where I am writing code to set the visibility of bottom nav. but the problem is that it is throwing the null pointer exception in the mainactivty's method saying that</p>\n<p><strong>&quot;void com.google.android.material.bottomnavigation.BottomNavigationView.setVisibility(int)' on a null object reference&quot;</strong> on the method's line where i am setting the visibility</p>\n<p><strong>code of MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nNavController navController;\nBottomNavigationView bottomNavigationView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    navController = Navigation.findNavController(this, R.id.fragmentContainerView);\n    bottomNavigationView = findViewById(R.id.activity_main_bottom_navigation_view);\n    NavigationUI.setupWithNavController(bottomNavigationView, navController);\n\n}\n\npublic void setBottomNavigationVisibility(int visibility) {\n\n    bottomNavigationView.setVisibility(visibility);\n\n}}\n</code></pre>\n<p>On the above method when i am trying to setting the visibility on the line         <strong>bottomNavigationView.setVisibility(visibility);</strong> that's where it is thrwoing the exception</p>\n<pre><code> @Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n    binding = FragmentSecondBinding.inflate(inflater, container, false);\n\n    // Inflate the layout for this fragment\n    View view =  binding.getRoot();\n\n    viewModel = new ViewModelProvider(requireActivity()).get(PageViewModel.class);\n\n    ((MainActivity) requireActivity()).setBottomNavigationVisibility(View.GONE);\n\n    binding.toolbar.setNavigationOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n           Navigation.findNavController(view).navigate(R.id.action_secondFragment2_to_postad);\n        }\n    });\n</code></pre>\n<p>No Please guide me how can i solve this error.</p>\n"},{"tags":["java","hashmap","java-8","java-stream"],"comments":[{"owner":{"account_id":2436112,"reputation":5684,"user_id":2125973,"accept_rate":38,"display_name":"Thusitha Thilina Dayaratne"},"score":1,"creation_date":1475581776,"post_id":39851350,"comment_id":66990814,"body_markdown":"Why your inner map&#39;s key is string? Can you provide a sample map?","body":"Why your inner map&#39;s key is string? Can you provide a sample map?"},{"owner":{"account_id":5734810,"reputation":1155,"user_id":4529317,"accept_rate":68,"display_name":"Fab"},"score":0,"creation_date":1475582358,"post_id":39851350,"comment_id":66991179,"body_markdown":"I&#39;d like to use STREAM API because I&#39;m newbie and I need to understand better it.","body":"I&#39;d like to use STREAM API because I&#39;m newbie and I need to understand better it."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1475583630,"post_id":39851350,"comment_id":66992060,"body_markdown":"What did you tried? Show us your code.","body":"What did you tried? Show us your code."},{"owner":{"account_id":5734810,"reputation":1155,"user_id":4529317,"accept_rate":68,"display_name":"Fab"},"score":0,"creation_date":1475586655,"post_id":39851350,"comment_id":66994244,"body_markdown":"@talex Regarding Stream API, I haven&#39;t written any code yet. In the old code, I iterated over the hash map, performing the sum operation key-by-key. Now, my goal is to achieve the same result by using Stream, rather than writing all the code by hand","body":"@talex Regarding Stream API, I haven&#39;t written any code yet. In the old code, I iterated over the hash map, performing the sum operation key-by-key. Now, my goal is to achieve the same result by using Stream, rather than writing all the code by hand"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1475589040,"post_id":39851350,"comment_id":66995980,"body_markdown":"@Fab Why don&#39;t you try yourself? You never learn anything if you will use code that was written for you by someone else.","body":"@Fab Why don&#39;t you try yourself? You never learn anything if you will use code that was written for you by someone else."},{"owner":{"account_id":5734810,"reputation":1155,"user_id":4529317,"accept_rate":68,"display_name":"Fab"},"score":0,"creation_date":1475594575,"post_id":39851350,"comment_id":67000146,"body_markdown":"@talex You&#39;re right. But sometimes, a good example is the best way to learn anything","body":"@talex You&#39;re right. But sometimes, a good example is the best way to learn anything"}],"answers":[{"tags":[],"owner":{"account_id":4875051,"reputation":4665,"user_id":3930424,"accept_rate":78,"display_name":"GROX13"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1660288924,"creation_date":1475582875,"answer_id":39851906,"question_id":39851350,"body_markdown":"This should be a good example:\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal Map&lt;Integer, Map&lt;String, Double&gt;&gt; tmp = new HashMap&lt;&gt;();\r\n    \t\ttmp.put(1, new HashMap&lt;String, Double&gt;() {{\r\n    \t\t\tput(&quot;1&quot;, 3.45);\r\n    \t\t\tput(&quot;2&quot;, 1.23);\r\n    \t\t\tput(&quot;3&quot;, 0.98);\r\n    \t\t}});\r\n    \t\ttmp.put(2, new HashMap&lt;String, Double&gt;() {{\r\n    \t\t\tput(&quot;1&quot;, 1.00);\r\n    \t\t\tput(&quot;2&quot;, 2.00);\r\n    \t\t\tput(&quot;3&quot;, 3.00);\r\n    \t\t}});\r\n    \r\n    \t\tSystem.out.println(tmp.entrySet().stream()\r\n    \t\t\t\t.collect(\r\n                        Collectors.toMap(Map.Entry::getKey, \r\n                        data -&gt; \r\n                            data.getValue()\r\n                                .values().stream()\r\n                                .mapToDouble(Number::doubleValue).sum())));\r\n    \t}\r\n    \r\n    }\r\n\r\noutput will be `{1=5.66, 2=6.0}` and all this does is takes entry set of map, gets a stream of it and collects to new map sums of inner map values. ","title":"Reducing Map by using Java 8 Stream API","body":"<p>This should be a good example:</p>\n<pre><code>public class Main {\n\n    public static void main(final String[] args) {\n        final Map&lt;Integer, Map&lt;String, Double&gt;&gt; tmp = new HashMap&lt;&gt;();\n        tmp.put(1, new HashMap&lt;String, Double&gt;() {{\n            put(&quot;1&quot;, 3.45);\n            put(&quot;2&quot;, 1.23);\n            put(&quot;3&quot;, 0.98);\n        }});\n        tmp.put(2, new HashMap&lt;String, Double&gt;() {{\n            put(&quot;1&quot;, 1.00);\n            put(&quot;2&quot;, 2.00);\n            put(&quot;3&quot;, 3.00);\n        }});\n\n        System.out.println(tmp.entrySet().stream()\n                .collect(\n                    Collectors.toMap(Map.Entry::getKey, \n                    data -&gt; \n                        data.getValue()\n                            .values().stream()\n                            .mapToDouble(Number::doubleValue).sum())));\n    }\n\n}\n</code></pre>\n<p>output will be <code>{1=5.66, 2=6.0}</code> and all this does is takes entry set of map, gets a stream of it and collects to new map sums of inner map values.</p>\n"},{"tags":[],"owner":{"account_id":9322191,"reputation":771,"user_id":6920612,"display_name":"iamorozov"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1475745518,"creation_date":1475583780,"answer_id":39852251,"question_id":39851350,"body_markdown":"It will work for you\r\n\r\n        Map&lt;Integer, Double&gt; collect = START.entrySet()\r\n            .stream()\r\n            .collect(\r\n                Collectors.toMap(\r\n                    Map.Entry::getKey, \r\n                    e -&gt; e.getValue()\r\n                          .values()\r\n                          .stream()\r\n                          .reduce(0d, (a, b) -&gt; a + b)\r\n                    )\r\n            );","title":"Reducing Map by using Java 8 Stream API","body":"<p>It will work for you</p>\n\n<pre><code>    Map&lt;Integer, Double&gt; collect = START.entrySet()\n        .stream()\n        .collect(\n            Collectors.toMap(\n                Map.Entry::getKey, \n                e -&gt; e.getValue()\n                      .values()\n                      .stream()\n                      .reduce(0d, (a, b) -&gt; a + b)\n                )\n        );\n</code></pre>\n"}],"owner":{"account_id":5734810,"reputation":1155,"user_id":4529317,"accept_rate":68,"display_name":"Fab"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33639,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":39852251,"answer_count":2,"score":15,"last_activity_date":1660288924,"creation_date":1475581219,"question_id":39851350,"body_markdown":"I have a Map in the following form:\r\n\r\n    Map&lt;Integer, Map&lt;String,Double&gt;&gt; START\r\n\r\nLet INNER be the inner map, i.e. \r\n\r\n    Map&lt;String,Double&gt;\r\n\r\nFor example, I&#39;d like to reduce START map in a new one\r\n\r\n    Map&lt;Integer, Double&gt; END\r\n\r\nwhich have the same keys, but different values.\r\nIn particular, for each key, I want the new Double value be the SUM of values in the INNER map for the corresponding key.\r\n\r\nHow could I achieve this by using JAVA 8&#39;s STREAM API?\r\n\r\nThanks everyone. \r\n\r\n\r\nEDIT: A sample map is\r\n\r\n    ------------------------------\r\n    |      |  2016-10-02   3.45   |\r\n    | ID1  |  2016-10-03   1.23   |\r\n    |      |  2016-10-04   0.98   |\r\n    ------------------------------\r\n    |      |  2016-10-02   1.00   |\r\n    | ID2  |  2016-10-03   2.00   |\r\n    |      |  2016-10-04   3.00   |\r\n    ------------------------------\r\n\r\ne I&#39;d like a new map like the following one:\r\n\r\n    --------------------------------\r\n    |      |                       |\r\n    | ID1  |  SUM(3.45,1.23,0.98)  |\r\n    |      |                       |\r\n    --------------------------------\r\n    |      |                       |\r\n    | ID2  |  SUM(1.00,2.00,3.00)  |\r\n    |      |                       |\r\n    --------------------------------","title":"Reducing Map by using Java 8 Stream API","body":"<p>I have a Map in the following form:</p>\n\n<pre><code>Map&lt;Integer, Map&lt;String,Double&gt;&gt; START\n</code></pre>\n\n<p>Let INNER be the inner map, i.e. </p>\n\n<pre><code>Map&lt;String,Double&gt;\n</code></pre>\n\n<p>For example, I'd like to reduce START map in a new one</p>\n\n<pre><code>Map&lt;Integer, Double&gt; END\n</code></pre>\n\n<p>which have the same keys, but different values.\nIn particular, for each key, I want the new Double value be the SUM of values in the INNER map for the corresponding key.</p>\n\n<p>How could I achieve this by using JAVA 8's STREAM API?</p>\n\n<p>Thanks everyone. </p>\n\n<p>EDIT: A sample map is</p>\n\n<pre><code>------------------------------\n|      |  2016-10-02   3.45   |\n| ID1  |  2016-10-03   1.23   |\n|      |  2016-10-04   0.98   |\n------------------------------\n|      |  2016-10-02   1.00   |\n| ID2  |  2016-10-03   2.00   |\n|      |  2016-10-04   3.00   |\n------------------------------\n</code></pre>\n\n<p>e I'd like a new map like the following one:</p>\n\n<pre><code>--------------------------------\n|      |                       |\n| ID1  |  SUM(3.45,1.23,0.98)  |\n|      |                       |\n--------------------------------\n|      |                       |\n| ID2  |  SUM(1.00,2.00,3.00)  |\n|      |                       |\n--------------------------------\n</code></pre>\n"},{"tags":["java","eclipse","maven","tomcat","spring-boot"],"comments":[{"owner":{"account_id":7363499,"reputation":27092,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1457344943,"post_id":35840639,"comment_id":59347533,"body_markdown":"the `^` character after war in the path seems suspicious in `...0.0.1-SNAPSHOT.war^/WEB-INF....`","body":"the <code>^</code> character after war in the path seems suspicious in <code>...0.0.1-SNAPSHOT.war^&#47;WEB-INF....</code>"},{"owner":{"account_id":7990444,"reputation":53,"user_id":6028462,"display_name":"Eidechse 94"},"score":0,"creation_date":1457345063,"post_id":35840639,"comment_id":59347606,"body_markdown":"@A.DiMatteo Yes. I think this is the Issue, but I don&#39;t know why this happens or how to fix it.","body":"@A.DiMatteo Yes. I think this is the Issue, but I don&#39;t know why this happens or how to fix it."},{"owner":{"account_id":7363499,"reputation":27092,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1457345814,"post_id":35840639,"comment_id":59348050,"body_markdown":"first naif thing I would try: via eclipse, crtl+h &gt; File Search and scan your project for that character if ever in any conf file there was a typo or unwanted character","body":"first naif thing I would try: via eclipse, crtl+h &gt; File Search and scan your project for that character if ever in any conf file there was a typo or unwanted character"},{"owner":{"account_id":7990444,"reputation":53,"user_id":6028462,"display_name":"Eidechse 94"},"score":0,"creation_date":1457346296,"post_id":35840639,"comment_id":59348412,"body_markdown":"@A.DiMatteo The search returns 0 results. So no, there isn&#39;t any Conf-File with this char","body":"@A.DiMatteo The search returns 0 results. So no, there isn&#39;t any Conf-File with this char"}],"answers":[{"tags":[],"owner":{"account_id":7990444,"reputation":53,"user_id":6028462,"display_name":"Eidechse 94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1457425048,"creation_date":1457425048,"answer_id":35862245,"question_id":35840639,"body_markdown":"Okay, I fixed it. Shame on me for that.\r\n\r\nI only had to update my Maven...","title":"Illegal character in opaque part when Packing a war","body":"<p>Okay, I fixed it. Shame on me for that.</p>\n\n<p>I only had to update my Maven...</p>\n"},{"tags":[],"owner":{"account_id":22147063,"reputation":11,"user_id":16396140,"display_name":"Shaolin Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660288803,"creation_date":1660288803,"answer_id":73330567,"question_id":35840639,"body_markdown":"I got the error as well, the key is to look at that message and count the characters to reach the index, which in your case is 135 (You&#39;d left that out of your post but I see it in the log).\r\n\r\nThe 135th character of &quot;jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml&quot; is &quot;^&quot; (right inbetween &quot;SNAPSHOT.war&quot; and &quot;/WEB-INF&quot;)\r\n\r\nIn my case, the illegal character was a space in a file path.\r\n\r\n","title":"Illegal character in opaque part when Packing a war","body":"<p>I got the error as well, the key is to look at that message and count the characters to reach the index, which in your case is 135 (You'd left that out of your post but I see it in the log).</p>\n<p>The 135th character of &quot;jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml&quot; is &quot;^&quot; (right inbetween &quot;SNAPSHOT.war&quot; and &quot;/WEB-INF&quot;)</p>\n<p>In my case, the illegal character was a space in a file path.</p>\n"}],"owner":{"account_id":7990444,"reputation":53,"user_id":6028462,"display_name":"Eidechse 94"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35862245,"answer_count":2,"score":1,"last_activity_date":1660288803,"creation_date":1457344520,"question_id":35840639,"body_markdown":"I am trying to build an Spring Boot-Application with JSF andd an embedded Tomcat.\r\n\r\nI would like to get an .war-File. In Eclipse the Application is running fine but if I start the .war I get following Error:\r\n\r\n&lt;!-- begin snippet: js hide: true --&gt;\r\n\r\n    java.lang.RuntimeException: com.sun.faces.config.ConfigurationException: java.util.concurrent.ExecutionException: javax.faces.FacesException: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5\r\n    .1.jar!/META-INF/faces-config.xml\r\n            at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:292)\r\n            at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4726)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5162)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)\r\n            at java.util.concurrent.FutureTask.run(Unknown Source)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            at java.lang.Thread.run(Unknown Source)\r\n    Caused by: com.sun.faces.config.ConfigurationException: java.util.concurrent.ExecutionException: javax.faces.FacesException: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/\r\n    faces-config.xml\r\n            at com.sun.faces.config.ConfigManager.getConfigDocuments(ConfigManager.java:764)\r\n            at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:353)\r\n            at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:227)\r\n            ... 9 common frames omitted\r\n    Caused by: java.util.concurrent.ExecutionException: javax.faces.FacesException: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml\r\n            at java.util.concurrent.FutureTask.report(Unknown Source)\r\n            at java.util.concurrent.FutureTask.get(Unknown Source)\r\n            at com.sun.faces.config.ConfigManager.getConfigDocuments(ConfigManager.java:751)\r\n            ... 11 common frames omitted\r\n    Caused by: javax.faces.FacesException: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml\r\n            at com.sun.faces.config.configprovider.MetaInfFacesConfigResourceProvider.getResources(MetaInfFacesConfigResourceProvider.java:137)\r\n            at com.sun.faces.config.ConfigManager$URITask.call(ConfigManager.java:1362)\r\n            at com.sun.faces.config.ConfigManager$URITask.call(ConfigManager.java:1331)\r\n            at java.util.concurrent.FutureTask.run(Unknown Source)\r\n            at com.sun.faces.config.ConfigManager.getConfigDocuments(ConfigManager.java:742)\r\n            ... 11 common frames omitted\r\n    Caused by: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml\r\n            at com.sun.faces.config.configprovider.MetaInfFacesConfigResourceProvider.loadURLs(MetaInfFacesConfigResourceProvider.java:185)\r\n            at com.sun.faces.config.configprovider.MetaInfFacesConfigResourceProvider.getResources(MetaInfFacesConfigResourceProvider.java:110)\r\n            ... 15 common frames omitted\r\n    Caused by: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml\r\n            at java.net.URI$Parser.fail(Unknown Source)\r\n            at java.net.URI$Parser.checkChars(Unknown Source)\r\n            at java.net.URI$Parser.parse(Unknown Source)\r\n            at java.net.URI.&lt;init&gt;(Unknown Source)\r\n            at com.sun.faces.config.configprovider.MetaInfFacesConfigResourceProvider.loadURLs(MetaInfFacesConfigResourceProvider.java:164)\r\n            ... 16 common frames omitted\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy **POM.xml**\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;de.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;OrgTool&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n    \t\t&lt;java.version&gt;1.7&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    \t&lt;/properties&gt;\r\n\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.2.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;all-themes&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.faces&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;com.springsource.oracle.jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;10.2.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mindrot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.3m&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.16.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.6-rc1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;19.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHow can I solve this Issue?","title":"Illegal character in opaque part when Packing a war","body":"<p>I am trying to build an Spring Boot-Application with JSF andd an embedded Tomcat.</p>\n\n<p>I would like to get an .war-File. In Eclipse the Application is running fine but if I start the .war I get following Error:</p>\n\n<pre><code>java.lang.RuntimeException: com.sun.faces.config.ConfigurationException: java.util.concurrent.ExecutionException: javax.faces.FacesException: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5\n.1.jar!/META-INF/faces-config.xml\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:292)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4726)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5162)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)\n        at java.util.concurrent.FutureTask.run(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: com.sun.faces.config.ConfigurationException: java.util.concurrent.ExecutionException: javax.faces.FacesException: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/\nfaces-config.xml\n        at com.sun.faces.config.ConfigManager.getConfigDocuments(ConfigManager.java:764)\n        at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:353)\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:227)\n        ... 9 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: javax.faces.FacesException: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml\n        at java.util.concurrent.FutureTask.report(Unknown Source)\n        at java.util.concurrent.FutureTask.get(Unknown Source)\n        at com.sun.faces.config.ConfigManager.getConfigDocuments(ConfigManager.java:751)\n        ... 11 common frames omitted\nCaused by: javax.faces.FacesException: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml\n        at com.sun.faces.config.configprovider.MetaInfFacesConfigResourceProvider.getResources(MetaInfFacesConfigResourceProvider.java:137)\n        at com.sun.faces.config.ConfigManager$URITask.call(ConfigManager.java:1362)\n        at com.sun.faces.config.ConfigManager$URITask.call(ConfigManager.java:1331)\n        at java.util.concurrent.FutureTask.run(Unknown Source)\n        at com.sun.faces.config.ConfigManager.getConfigDocuments(ConfigManager.java:742)\n        ... 11 common frames omitted\nCaused by: java.io.IOException: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml\n        at com.sun.faces.config.configprovider.MetaInfFacesConfigResourceProvider.loadURLs(MetaInfFacesConfigResourceProvider.java:185)\n        at com.sun.faces.config.configprovider.MetaInfFacesConfigResourceProvider.getResources(MetaInfFacesConfigResourceProvider.java:110)\n        ... 15 common frames omitted\nCaused by: java.net.URISyntaxException: Illegal character in opaque part at index 135: jar:war:file:/D:/Eigene%20Dokumente/Projekte/Abschlussprojekt/workspace/OrgTool-Sommerfest/target/OrgTool-Sommerfest-0.0.1-SNAPSHOT.war^/WEB-INF/lib/primefaces-5.1.jar!/META-INF/faces-config.xml\n        at java.net.URI$Parser.fail(Unknown Source)\n        at java.net.URI$Parser.checkChars(Unknown Source)\n        at java.net.URI$Parser.parse(Unknown Source)\n        at java.net.URI.&lt;init&gt;(Unknown Source)\n        at com.sun.faces.config.configprovider.MetaInfFacesConfigResourceProvider.loadURLs(MetaInfFacesConfigResourceProvider.java:164)\n        ... 16 common frames omitted\n</code></pre>\n\n<p>My <strong>POM.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;de.example&lt;/groupId&gt;\n    &lt;artifactId&gt;OrgTool&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;java.version&gt;1.7&lt;/java.version&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;\n            &lt;artifactId&gt;all-themes&lt;/artifactId&gt;\n            &lt;version&gt;1.0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.faces&lt;/artifactId&gt;\n            &lt;version&gt;2.2.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;com.springsource.oracle.jdbc&lt;/artifactId&gt;\n            &lt;version&gt;10.2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\n            &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\n            &lt;version&gt;0.3m&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.6-rc1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>How can I solve this Issue?</p>\n"},{"tags":["java","android","react-native","kotlin","nativescript"],"answers":[{"tags":[],"owner":{"account_id":17123789,"reputation":74,"user_id":12391467,"display_name":"Ilja Tomilovych"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1594653680,"creation_date":1594653680,"answer_id":62878994,"question_id":62878883,"body_markdown":"     File file = new File(URI.create(&quot;your uri&quot;).getPath());\r\n     if (file.exists()) {\r\n      //Do something`enter code here`\r\n     }\r\n\r\nAlso you need the permission: \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;","title":"how to check whether file exists or not using content uri","body":"<pre><code> File file = new File(URI.create(&quot;your uri&quot;).getPath());\n if (file.exists()) {\n  //Do something`enter code here`\n }\n</code></pre>\n<p>Also you need the permission:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660288758,"creation_date":1594707221,"answer_id":62889070,"question_id":62878883,"body_markdown":"**Method 1 :-**\r\nOk, Since Android team decided to deprecate `getExternalStorageDirectory` for security reason. Lot of things are not properly addressed by them. \r\n\r\nfor the question I don&#39;t find any proper answer. Anyhow here is a workaround by using deprecated method.\r\n\r\n```\r\n        var uri = Uri.parse(&quot;content://com.mi.android.globalFileexplorer.myprovider/external_files/KannadaGeeta/11CHAPTER10.mp3&quot;)\r\n        var vidPath = uri.path\r\n        vidPath = vidPath?.replace(&quot;external_files&quot;,Environment.getExternalStorageDirectory().toString())\r\n        val file = File(vidPath)\r\n\r\n        if (file.exists()) {\r\n            println(&quot;log yes $file&quot;)\r\n        } else {\r\n            println(&quot;log no $file&quot;)\r\n        }\r\n```\r\n\r\nThis will work fine, but using this is left to you because of deprecated method.\r\n\r\n**Method 2 :-**\r\none more way is to use `ACTION_OPEN_DOCUMENT`\r\nthen in `onActivityResult` it must add\r\n```\r\nval contentResolver = applicationContext.contentResolver\r\nval takeFlags: Int = Intent.FLAG_GRANT_READ_URI_PERMISSION or       \r\n                     Intent.FLAG_GRANT_WRITE_URI_PERMISSION\r\ncontentResolver.takePersistableUriPermission(selectedVideoUri!!, takeFlags)\r\n```\r\n\r\nThen, finally with the `content uri` which is not expired, one can check for file existance.\r\n\r\n```\r\nDocumentFile.fromSingleUri(Uri.parse(contentUriStringfromdatabase)).exists()\r\n```\r\n","title":"how to check whether file exists or not using content uri","body":"<p><strong>Method 1 :-</strong>\nOk, Since Android team decided to deprecate <code>getExternalStorageDirectory</code> for security reason. Lot of things are not properly addressed by them.</p>\n<p>for the question I don't find any proper answer. Anyhow here is a workaround by using deprecated method.</p>\n<pre><code>        var uri = Uri.parse(&quot;content://com.mi.android.globalFileexplorer.myprovider/external_files/KannadaGeeta/11CHAPTER10.mp3&quot;)\n        var vidPath = uri.path\n        vidPath = vidPath?.replace(&quot;external_files&quot;,Environment.getExternalStorageDirectory().toString())\n        val file = File(vidPath)\n\n        if (file.exists()) {\n            println(&quot;log yes $file&quot;)\n        } else {\n            println(&quot;log no $file&quot;)\n        }\n</code></pre>\n<p>This will work fine, but using this is left to you because of deprecated method.</p>\n<p><strong>Method 2 :-</strong>\none more way is to use <code>ACTION_OPEN_DOCUMENT</code>\nthen in <code>onActivityResult</code> it must add</p>\n<pre><code>val contentResolver = applicationContext.contentResolver\nval takeFlags: Int = Intent.FLAG_GRANT_READ_URI_PERMISSION or       \n                     Intent.FLAG_GRANT_WRITE_URI_PERMISSION\ncontentResolver.takePersistableUriPermission(selectedVideoUri!!, takeFlags)\n</code></pre>\n<p>Then, finally with the <code>content uri</code> which is not expired, one can check for file existance.</p>\n<pre><code>DocumentFile.fromSingleUri(Uri.parse(contentUriStringfromdatabase)).exists()\n</code></pre>\n"}],"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2296,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62889070,"answer_count":2,"score":3,"last_activity_date":1660288758,"creation_date":1594653372,"question_id":62878883,"body_markdown":"I have a content uri of an audio file, which I got it from chooser intent.\r\n```\r\ncontent://com.mi.android.globalFileexplorer.myprovider/external_files/KannadaGeeta/11CHAPTER10.mp3\r\n```\r\nI just saved the above uri on database.\r\n\r\nNow, when user opens my app again. I need to inform him whether the last mp3 file which he selected exists or not. If exists then only I must allow him to continue else I need to inform to download the file again.\r\n\r\nbut I stuck here completely, I&#39;m not getting how to check a file exist or not with its content uri.\r\n\r\nKindly, help me to solve my issue.","title":"how to check whether file exists or not using content uri","body":"<p>I have a content uri of an audio file, which I got it from chooser intent.</p>\n<pre><code>content://com.mi.android.globalFileexplorer.myprovider/external_files/KannadaGeeta/11CHAPTER10.mp3\n</code></pre>\n<p>I just saved the above uri on database.</p>\n<p>Now, when user opens my app again. I need to inform him whether the last mp3 file which he selected exists or not. If exists then only I must allow him to continue else I need to inform to download the file again.</p>\n<p>but I stuck here completely, I'm not getting how to check a file exist or not with its content uri.</p>\n<p>Kindly, help me to solve my issue.</p>\n"},{"tags":["java","string","parameters","velocity"],"comments":[{"owner":{"account_id":476149,"reputation":9136,"user_id":886906,"accept_rate":87,"display_name":"Haradzieniec"},"score":0,"creation_date":1421076496,"post_id":27905136,"comment_id":44209963,"body_markdown":"@Bathsheba Sorry, tried \\$ and \\\\$ and $$. Doesn&#39;t work.","body":"@Bathsheba Sorry, tried \\$ and \\\\$ and $$. Doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":155231,"reputation":5278,"user_id":371737,"accept_rate":88,"display_name":"Crembo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1421077205,"creation_date":1421077205,"answer_id":27905609,"question_id":27905136,"body_markdown":"You can use `#[[ .. ]]#` to escape strings in Velocity. I think in your case the preceding $ may be conflicting with what goes after them. Try the following:\r\n\r\n    &lt;a id=&quot;superurl_${getItemid()}&quot; href=&quot;#[[http://example.com$param1=345&amp;$param2=abf&amp;param3=]]#${par3}&quot;&gt;link1&lt;/a&gt;\r\n\r\n\r\nAlso, make sure you actually pass a variable called &quot;par3&quot;. (This is more likely to be the reason why it&#39;s not parsed?)","title":"escaping dollar sign in velocity","body":"<p>You can use <code>#[[ .. ]]#</code> to escape strings in Velocity. I think in your case the preceding $ may be conflicting with what goes after them. Try the following:</p>\n\n<pre><code>&lt;a id=\"superurl_${getItemid()}\" href=\"#[[http://example.com$param1=345&amp;$param2=abf&amp;param3=]]#${par3}\"&gt;link1&lt;/a&gt;\n</code></pre>\n\n<p>Also, make sure you actually pass a variable called \"par3\". (This is more likely to be the reason why it's not parsed?)</p>\n"},{"tags":[],"owner":{"account_id":3138894,"reputation":3547,"user_id":2654773,"accept_rate":96,"display_name":"eztam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421077934,"creation_date":1421077934,"answer_id":27905837,"question_id":27905136,"body_markdown":"You could set a variable for the dollar sign like this\r\n\r\n    #set ( $d = &quot;$&quot;)\r\n    &lt;a id=&quot;superurl_${d}{getItemid()}&quot; href=&quot;http://example.com?$param1=345&amp;$param2=abf&amp;param3=${par3}&quot;&gt;link1&lt;/a&gt;","title":"escaping dollar sign in velocity","body":"<p>You could set a variable for the dollar sign like this</p>\n\n<pre><code>#set ( $d = \"$\")\n&lt;a id=\"superurl_${d}{getItemid()}\" href=\"http://example.com?$param1=345&amp;$param2=abf&amp;param3=${par3}\"&gt;link1&lt;/a&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660288178,"creation_date":1660288178,"answer_id":73330456,"question_id":27905136,"body_markdown":"This answer does not apply for the OP&#39;s specific example, but in general dollar signs only need to be escaped when they are followed by a (upper or lower case) letter. A dollar sign that is followed by any other character already stands for itself and does not require escaping. If there is some flexibility in the template, another simple solution is to insert a non-letter character (space, comma, underscore, ...) after the dollar sign.","title":"escaping dollar sign in velocity","body":"<p>This answer does not apply for the OP's specific example, but in general dollar signs only need to be escaped when they are followed by a (upper or lower case) letter. A dollar sign that is followed by any other character already stands for itself and does not require escaping. If there is some flexibility in the template, another simple solution is to insert a non-letter character (space, comma, underscore, ...) after the dollar sign.</p>\n"}],"owner":{"account_id":476149,"reputation":9136,"user_id":886906,"accept_rate":87,"display_name":"Haradzieniec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3131,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":27905609,"answer_count":3,"score":6,"last_activity_date":1660288178,"creation_date":1421075602,"question_id":27905136,"body_markdown":"I have such a string in the velocity template file:\r\n\r\n    &lt;a id=&quot;superurl_${getItemid()}&quot; href=&quot;http://example.com?$param1=345&amp;$param2=abf&amp;param3=${par3}&quot;&gt;link1&lt;/a&gt;\r\n\r\nThat renders as\r\n\r\n    &lt;a id=&quot;superurl_1288&quot; href=&quot;http://example.com?$param1=345&amp;$param2=abf&amp;param3=${par3}&quot;&gt;link1&lt;/a&gt;\r\n\r\nHowever, it should be rendered as\r\n\r\n    &lt;a id=&quot;superurl_1288&quot; href=&quot;http://example.com?$param1=345&amp;$param2=abf&amp;param3=zzz&quot;&gt;link1&lt;/a&gt;\r\n\r\nHow to modify the source so that `${par3}` rendered by its value and is not treated as a part of the string?\r\n\r\n","title":"escaping dollar sign in velocity","body":"<p>I have such a string in the velocity template file:</p>\n\n<pre><code>&lt;a id=\"superurl_${getItemid()}\" href=\"http://example.com?$param1=345&amp;$param2=abf&amp;param3=${par3}\"&gt;link1&lt;/a&gt;\n</code></pre>\n\n<p>That renders as</p>\n\n<pre><code>&lt;a id=\"superurl_1288\" href=\"http://example.com?$param1=345&amp;$param2=abf&amp;param3=${par3}\"&gt;link1&lt;/a&gt;\n</code></pre>\n\n<p>However, it should be rendered as</p>\n\n<pre><code>&lt;a id=\"superurl_1288\" href=\"http://example.com?$param1=345&amp;$param2=abf&amp;param3=zzz\"&gt;link1&lt;/a&gt;\n</code></pre>\n\n<p>How to modify the source so that <code>${par3}</code> rendered by its value and is not treated as a part of the string?</p>\n"},{"tags":["java","android","kotlin","retrofit","multipart"],"answers":[{"tags":[],"owner":{"account_id":24185627,"reputation":157,"user_id":18145581,"display_name":"Anubis94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660288155,"creation_date":1660288155,"answer_id":73330449,"question_id":73329357,"body_markdown":"Change request parameter **f_sign** To **f_sign[]** when you sending/passing a file through your **API**. Im using like that. You can try!.\r\n\r\n```\r\nprivate MultipartBody.Part prepareFilePart(File file) {\r\n   RequestBody requestFile = RequestBody.create(file, MediaType.parse(&quot;multipart/form-data&quot;));\r\n   return MultipartBody.Part.createFormData(&quot;f_sign[]&quot;, file.getName(), requestFile);\r\n}\r\n```","title":"How to send json type data and file at MultiPart in Kotlin?","body":"<p>Change request parameter <strong>f_sign</strong> To <strong>f_sign[]</strong> when you sending/passing a file through your <strong>API</strong>. Im using like that. You can try!.</p>\n<pre><code>private MultipartBody.Part prepareFilePart(File file) {\n   RequestBody requestFile = RequestBody.create(file, MediaType.parse(&quot;multipart/form-data&quot;));\n   return MultipartBody.Part.createFormData(&quot;f_sign[]&quot;, file.getName(), requestFile);\n}\n</code></pre>\n"}],"owner":{"account_id":19973021,"reputation":21,"user_id":14638048,"display_name":"jyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660288155,"creation_date":1660279520,"question_id":73329357,"body_markdown":"I want to send data and files to an API server. But I get an error message saying &#39;The browser (or proxy) sent a request that this server could not understand.&quot;\r\n\r\n\r\nThis is Api\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd this is file code\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nit&#39;s my interface\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4JMS6.jpg\r\n  [2]: https://i.stack.imgur.com/6yFY4.jpg\r\n  [3]: https://i.stack.imgur.com/Y9rQI.png\r\n  [4]: https://i.stack.imgur.com/hU5l0.png\r\n  [5]: https://i.stack.imgur.com/sPo1p.png\r\n  [6]: https://i.stack.imgur.com/0p5mL.png","title":"How to send json type data and file at MultiPart in Kotlin?","body":"<p>I want to send data and files to an API server. But I get an error message saying 'The browser (or proxy) sent a request that this server could not understand.&quot;</p>\n<p>This is Api</p>\n<p><a href=\"https://i.stack.imgur.com/4JMS6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4JMS6.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6yFY4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6yFY4.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And this is file code</p>\n<p><a href=\"https://i.stack.imgur.com/Y9rQI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y9rQI.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hU5l0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hU5l0.png\" alt=\"enter image description here\" /></a></p>\n<p>it's my interface</p>\n<p><a href=\"https://i.stack.imgur.com/sPo1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sPo1p.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0p5mL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0p5mL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1660287447,"post_id":73330248,"comment_id":129501399,"body_markdown":"Try this instead `DatabaseHelper databaseHelper = new DatabaseHelper(getApplicationContext());`!","body":"Try this instead <code>DatabaseHelper databaseHelper = new DatabaseHelper(getApplicationContext());</code>!"},{"owner":{"account_id":25454226,"reputation":3,"user_id":19255140,"display_name":"Mojahidul Islam Emon"},"score":0,"creation_date":1660287744,"post_id":73330248,"comment_id":129501498,"body_markdown":"That doesn&#39;t work either","body":"That doesn&#39;t work either"}],"answers":[{"tags":[],"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660287752,"creation_date":1660287752,"answer_id":73330372,"question_id":73330248,"body_markdown":"The problem is in this line\r\n```\r\nList&lt;userFeedBackModel&gt; viewAll = new databaseHelper.getAll();\r\n```\r\nJust delete the new and you good to go\r\n```\r\nList&lt;userFeedBackModel&gt; viewAll = databaseHelper.getAll();\r\n```","title":"Created a rawQuery method in DatabseHelper but can&#39;t reffrence that in MainActivity, WHY?","body":"<p>The problem is in this line</p>\n<pre><code>List&lt;userFeedBackModel&gt; viewAll = new databaseHelper.getAll();\n</code></pre>\n<p>Just delete the new and you good to go</p>\n<pre><code>List&lt;userFeedBackModel&gt; viewAll = databaseHelper.getAll();\n</code></pre>\n"}],"owner":{"account_id":25454226,"reputation":3,"user_id":19255140,"display_name":"Mojahidul Islam Emon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73330372,"answer_count":1,"score":0,"last_activity_date":1660287752,"creation_date":1660286987,"question_id":73330248,"body_markdown":"I have created a method to do rawQuery which returns a List. But it seems it can&#39;t be referenced in\r\nfeedBackAct. Can anyone Help me?\r\n\r\nThis is my method in DatabaseHelper Class:\r\n```java\r\npublic List&lt;userFeedBackModel&gt; getAll(){\r\n        List&lt;userFeedBackModel&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        String doQuery = &quot;SELECT * FROM &quot; + FEEDBACKS_TABLE;\r\n\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n         Cursor cursor = db.rawQuery(doQuery, null);\r\n         if (cursor.moveToFirst()){\r\n             do {\r\n                //loop through the cursor to create an object for each report\r\n                 int userId = cursor.getInt(0);\r\n                 int roll = cursor.getInt(1);\r\n                 String name = cursor.getString(2);\r\n                 String tech = cursor.getString(3);\r\n                 String contact = cursor.getString(4);\r\n                 String description = cursor.getString(5);\r\n                 userFeedBackModel userFeedBack = new userFeedBackModel(userId,roll,name,tech,contact,description);\r\n\r\n                 list.add(userFeedBack);\r\n             }\r\n             while (cursor.moveToNext());\r\n         }\r\n         else {\r\n             //do nothing\r\n         }\r\n         cursor.close();\r\n         db.close();\r\n         return list;\r\n     }\r\n```\r\n\r\nthis is the code where I am trying to access the ```getAll()``` method but it says Can&#39;t resolve this method\r\n```java\r\nbtnViewList.setOnClickListener(v -&gt;{\r\n            DatabaseHelper databaseHelper = new DatabaseHelper(feedBackAct.this);\r\n            List&lt;userFeedBackModel&gt; viewAll = new databaseHelper.getAll();\r\n\r\n            Toast.makeText(feedBackAct.this, viewAll.toString(), toastLength).show();\r\n        });\r\n```","title":"Created a rawQuery method in DatabseHelper but can&#39;t reffrence that in MainActivity, WHY?","body":"<p>I have created a method to do rawQuery which returns a List. But it seems it can't be referenced in\nfeedBackAct. Can anyone Help me?</p>\n<p>This is my method in DatabaseHelper Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;userFeedBackModel&gt; getAll(){\n        List&lt;userFeedBackModel&gt; list = new ArrayList&lt;&gt;();\n\n        String doQuery = &quot;SELECT * FROM &quot; + FEEDBACKS_TABLE;\n\n        SQLiteDatabase db = this.getReadableDatabase();\n\n         Cursor cursor = db.rawQuery(doQuery, null);\n         if (cursor.moveToFirst()){\n             do {\n                //loop through the cursor to create an object for each report\n                 int userId = cursor.getInt(0);\n                 int roll = cursor.getInt(1);\n                 String name = cursor.getString(2);\n                 String tech = cursor.getString(3);\n                 String contact = cursor.getString(4);\n                 String description = cursor.getString(5);\n                 userFeedBackModel userFeedBack = new userFeedBackModel(userId,roll,name,tech,contact,description);\n\n                 list.add(userFeedBack);\n             }\n             while (cursor.moveToNext());\n         }\n         else {\n             //do nothing\n         }\n         cursor.close();\n         db.close();\n         return list;\n     }\n</code></pre>\n<p>this is the code where I am trying to access the <code>getAll()</code> method but it says Can't resolve this method</p>\n<pre class=\"lang-java prettyprint-override\"><code>btnViewList.setOnClickListener(v -&gt;{\n            DatabaseHelper databaseHelper = new DatabaseHelper(feedBackAct.this);\n            List&lt;userFeedBackModel&gt; viewAll = new databaseHelper.getAll();\n\n            Toast.makeText(feedBackAct.this, viewAll.toString(), toastLength).show();\n        });\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":1320820,"reputation":1707,"user_id":1266697,"display_name":"Jeje Doudou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660034836,"creation_date":1660033119,"answer_id":73288597,"question_id":73287841,"body_markdown":"First, you&#39;ll have to copy that file to the app directory, reading the file using Storage Access Framework.\r\n\r\nThen, still using SAF, you&#39;ll have to ask the user for delete the original one.\r\n\r\nFor both steps, Android now needs you to ask the user for accessing public directories, specifying if you read the file (the user will have to select the file manually) and delete it.\r\n\r\nTo ask the user for Document read, you&#39;ll have to use the following :\r\n\r\n    val selectFileRequest = registerForActivityResult(OpenDocument()) {\r\n          result: Uri? -&gt; \r\n                //Your code to copy the file here, the provided Uri is the selected file&#39;s\r\n\r\n                //Then you can delete the file with the following:\r\n                if(result != null)\r\n                {\r\n                    //DocumentFile.fromSingleUri(this, result)?.delete()\r\n                                  //or\r\n                    //DocumentsContract.deleteDocument(getContentResolver(), result);\r\n                }\r\n    }\r\n\r\nDon&#39;t forget to add the needed permissions in your Manifest:\r\n    \r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n    android:maxSdkVersion=&quot;28&quot;/&gt;\r\n\r\nIn the end, just call the following in your code:\r\n\r\n    selectFileRequest.launch(\r\n            arrayOf(\r\n                //Any Mime type you want to target, like the followings :\r\n                &quot;application/pdf&quot;,\r\n                &quot;image/*&quot;,\r\n                &quot;text/*&quot;\r\n            )\r\n        )\r\n\r\n","title":"How to move files from internal storage to app directory?","body":"<p>First, you'll have to copy that file to the app directory, reading the file using Storage Access Framework.</p>\n<p>Then, still using SAF, you'll have to ask the user for delete the original one.</p>\n<p>For both steps, Android now needs you to ask the user for accessing public directories, specifying if you read the file (the user will have to select the file manually) and delete it.</p>\n<p>To ask the user for Document read, you'll have to use the following :</p>\n<pre><code>val selectFileRequest = registerForActivityResult(OpenDocument()) {\n      result: Uri? -&gt; \n            //Your code to copy the file here, the provided Uri is the selected file's\n\n            //Then you can delete the file with the following:\n            if(result != null)\n            {\n                //DocumentFile.fromSingleUri(this, result)?.delete()\n                              //or\n                //DocumentsContract.deleteDocument(getContentResolver(), result);\n            }\n}\n</code></pre>\n<p>Don't forget to add the needed permissions in your Manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\nandroid:maxSdkVersion=&quot;28&quot;/&gt;\n</code></pre>\n<p>In the end, just call the following in your code:</p>\n<pre><code>selectFileRequest.launch(\n        arrayOf(\n            //Any Mime type you want to target, like the followings :\n            &quot;application/pdf&quot;,\n            &quot;image/*&quot;,\n            &quot;text/*&quot;\n        )\n    )\n</code></pre>\n"}],"owner":{"account_id":22608731,"reputation":423,"user_id":16789265,"display_name":"Hammad Zafar Bawara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73288597,"answer_count":1,"score":0,"last_activity_date":1660287641,"creation_date":1660029398,"question_id":73287841,"body_markdown":"I am making a app that store files get files from `Internal Storage` and lock those files in app directory `/data/data/[package_name]/videos/`.\r\n\r\nI try to move files files through this method but it is not working for me.\r\n\r\n```\r\nsource.renameTo(new File(&quot;data/data/&quot; + this.getPackageName() + &quot;/files/videos/&quot; + video_title));\r\n````\r\n\r\n**TRIED BEFORE**\r\n\r\n - I tried this\r\n```source.renameTo(new File(&quot;/storage/emulated/0/&quot; + this.getPackageName() + video_title));```. This worked and move file from `soure` to `/storage/emulated/0/`.\r\n - I also checked this directory exisits.\r\n[![Directory photo][1]][1]\r\n\r\n**PROBLEM**\r\n - Problem is file is not moving from `storage` to `app directory`.\r\n\r\n\r\nThis is the actual function I am using to move file.\r\n\r\n```\r\nprivate boolean moveFile(File source, File destination) {\r\n        boolean isDirectoryMade = false;\r\n        \r\n        // creates directory if not exists\r\n        if (!destination.getParentFile().isDirectory()){\r\n            File parent = destination.getParentFile();\r\n            isDirectoryMade = parent.mkdirs();\r\n        }\r\n        \r\n        // rename or move file.\r\n        boolean isFileRenamed = source.renameTo(destination);\r\n\r\n        return isDirectoryMade &amp;&amp; isFileRenamed;\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xN65q.png","title":"How to move files from internal storage to app directory?","body":"<p>I am making a app that store files get files from <code>Internal Storage</code> and lock those files in app directory <code>/data/data/[package_name]/videos/</code>.</p>\n<p>I try to move files files through this method but it is not working for me.</p>\n<pre><code>source.renameTo(new File(&quot;data/data/&quot; + this.getPackageName() + &quot;/files/videos/&quot; + video_title));\n</code></pre>\n<p><strong>TRIED BEFORE</strong></p>\n<ul>\n<li>I tried this\n<code>source.renameTo(new File(&quot;/storage/emulated/0/&quot; + this.getPackageName() + video_title));</code>. This worked and move file from <code>soure</code> to <code>/storage/emulated/0/</code>.</li>\n<li>I also checked this directory exisits.\n<a href=\"https://i.stack.imgur.com/xN65q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xN65q.png\" alt=\"Directory photo\" /></a></li>\n</ul>\n<p><strong>PROBLEM</strong></p>\n<ul>\n<li>Problem is file is not moving from <code>storage</code> to <code>app directory</code>.</li>\n</ul>\n<p>This is the actual function I am using to move file.</p>\n<pre><code>private boolean moveFile(File source, File destination) {\n        boolean isDirectoryMade = false;\n        \n        // creates directory if not exists\n        if (!destination.getParentFile().isDirectory()){\n            File parent = destination.getParentFile();\n            isDirectoryMade = parent.mkdirs();\n        }\n        \n        // rename or move file.\n        boolean isFileRenamed = source.renameTo(destination);\n\n        return isDirectoryMade &amp;&amp; isFileRenamed;\n    }\n</code></pre>\n"},{"tags":["java","spring","initialization"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1583197255,"creation_date":1583193461,"answer_id":60498267,"question_id":60497894,"body_markdown":"You should relocate the code to an event listening method, and mark the method with `@Async`.\r\n\r\nMake sure the Async functionality is correctly set up. See: [How To Do @Async in Spring][1].\r\n\r\nYou should make the method be triggered when the Spring framework fires the [`ApplicationReadyEvent`][2].\r\n\r\n```\r\n@Component\r\npublic class InitBean {\r\n\tprivate final static Logger LOGGER = LoggerFactory.getLogger(InitBean.class);\r\n\r\n\t@Async\r\n\t@EventListener\r\n\tpublic void onApplicationReady(ApplicationReadyEvent event) throws Exception {\r\n\t\tLOGGER.info(&quot;BEGIN: onApplicationReady&quot;);\r\n\t\tTimeUnit.SECONDS.sleep(5);\r\n\t\tLOGGER.info(&quot;END: onApplicationReady&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n*Warning:* By doing this, other methods may be called before/during the invocation of this method. If the method does any kind of initialization needed by those other methods, you need to handle that, e.g. using a [`CountDownLatch`][3].\r\n\r\n---\r\n\r\n**UPDATE**\r\n\r\nIf you need for the application to delay the completion of the startup sequence until all asynchronous methods have completed, I think you need to handle it yourself.\r\n\r\nCreate interface `AsyncInitializingBean` with same method as [`InitializingBean`][4], then create a `@Component` named `AsyncBeanInitializer` auto-wiring a `AsyncInitializingBean[]` (or `List`), then have it execute all the methods using an `ExecutorService` on `ContextRefreshedEvent`.\r\n\r\n```\r\n@Component\r\npublic class InitBean implements AsyncInitializingBean { // &lt;== Change interface (only change needed)\r\n\r\n\tprivate final static Logger LOGGER = LoggerFactory.getLogger(InitBean.class);\r\n\r\n\t@Override\r\n\tpublic void afterPropertiesSet() throws Exception {\r\n\t\tLOGGER.info(&quot;BEGIN: InitBean&quot;);\r\n\t\tTimeUnit.SECONDS.sleep(5);\r\n\t\tLOGGER.info(&quot;END: InitBean&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic interface AsyncInitializingBean {\r\n\tvoid afterPropertiesSet() throws Exception;\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class AsyncBeanInitializer {\r\n\tprivate final static Logger LOGGER = LoggerFactory.getLogger(AsyncBeanInitializer.class);\r\n\r\n\t@Autowired(required = false)\r\n\tprivate AsyncInitializingBean[] beans;\r\n\r\n\t@EventListener\r\n\tpublic void onContextRefreshed(@SuppressWarnings(&quot;unused&quot;) ContextRefreshedEvent event) throws Exception {\r\n\t\tif (this.beans == null || this.beans.length == 0)\r\n\t\t\treturn;\r\n\t\tExecutorService executorService = Executors.newWorkStealingPool();\r\n\t\ttry {\r\n\t\t\tAtomicInteger failed = new AtomicInteger();\r\n\t\t\tfor (AsyncInitializingBean bean : beans) {\r\n\t\t\t\texecutorService.submit(() -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tbean.afterPropertiesSet();\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\tfailed.incrementAndGet();\r\n\t\t\t\t\t\tLOGGER.error(&quot;Async afterPropertiesSet() method failed: &quot; + e, e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\texecutorService.shutdown();\r\n\t\t\texecutorService.awaitTermination(60, TimeUnit.MINUTES);\r\n\t\t\tif (failed.get() != 0)\r\n\t\t\t\tthrow new RuntimeException(failed.get() + &quot; Async afterPropertiesSet() methods failed. See log for details.&quot;);\r\n\t\t} finally {\r\n\t\t\texecutorService.shutdownNow();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-async\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/event/ApplicationReadyEvent.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InitializingBean.html","title":"Executing Spring Initializing Beans in Parallel","body":"<p>You should relocate the code to an event listening method, and mark the method with <code>@Async</code>.</p>\n\n<p>Make sure the Async functionality is correctly set up. See: <a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">How To Do @Async in Spring</a>.</p>\n\n<p>You should make the method be triggered when the Spring framework fires the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/event/ApplicationReadyEvent.html\" rel=\"nofollow noreferrer\"><code>ApplicationReadyEvent</code></a>.</p>\n\n<pre><code>@Component\npublic class InitBean {\n    private final static Logger LOGGER = LoggerFactory.getLogger(InitBean.class);\n\n    @Async\n    @EventListener\n    public void onApplicationReady(ApplicationReadyEvent event) throws Exception {\n        LOGGER.info(\"BEGIN: onApplicationReady\");\n        TimeUnit.SECONDS.sleep(5);\n        LOGGER.info(\"END: onApplicationReady\");\n    }\n}\n</code></pre>\n\n<p><em>Warning:</em> By doing this, other methods may be called before/during the invocation of this method. If the method does any kind of initialization needed by those other methods, you need to handle that, e.g. using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\"><code>CountDownLatch</code></a>.</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you need for the application to delay the completion of the startup sequence until all asynchronous methods have completed, I think you need to handle it yourself.</p>\n\n<p>Create interface <code>AsyncInitializingBean</code> with same method as <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InitializingBean.html\" rel=\"nofollow noreferrer\"><code>InitializingBean</code></a>, then create a <code>@Component</code> named <code>AsyncBeanInitializer</code> auto-wiring a <code>AsyncInitializingBean[]</code> (or <code>List</code>), then have it execute all the methods using an <code>ExecutorService</code> on <code>ContextRefreshedEvent</code>.</p>\n\n<pre><code>@Component\npublic class InitBean implements AsyncInitializingBean { // &lt;== Change interface (only change needed)\n\n    private final static Logger LOGGER = LoggerFactory.getLogger(InitBean.class);\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        LOGGER.info(\"BEGIN: InitBean\");\n        TimeUnit.SECONDS.sleep(5);\n        LOGGER.info(\"END: InitBean\");\n    }\n}\n</code></pre>\n\n<pre><code>public interface AsyncInitializingBean {\n    void afterPropertiesSet() throws Exception;\n}\n</code></pre>\n\n<pre><code>@Component\npublic class AsyncBeanInitializer {\n    private final static Logger LOGGER = LoggerFactory.getLogger(AsyncBeanInitializer.class);\n\n    @Autowired(required = false)\n    private AsyncInitializingBean[] beans;\n\n    @EventListener\n    public void onContextRefreshed(@SuppressWarnings(\"unused\") ContextRefreshedEvent event) throws Exception {\n        if (this.beans == null || this.beans.length == 0)\n            return;\n        ExecutorService executorService = Executors.newWorkStealingPool();\n        try {\n            AtomicInteger failed = new AtomicInteger();\n            for (AsyncInitializingBean bean : beans) {\n                executorService.submit(() -&gt; {\n                    try {\n                        bean.afterPropertiesSet();\n                    } catch (Exception e) {\n                        failed.incrementAndGet();\n                        LOGGER.error(\"Async afterPropertiesSet() method failed: \" + e, e);\n                    }\n                });\n            }\n            executorService.shutdown();\n            executorService.awaitTermination(60, TimeUnit.MINUTES);\n            if (failed.get() != 0)\n                throw new RuntimeException(failed.get() + \" Async afterPropertiesSet() methods failed. See log for details.\");\n        } finally {\n            executorService.shutdownNow();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12497341,"reputation":339,"user_id":9096874,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2704,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60498267,"answer_count":1,"score":2,"last_activity_date":1660286916,"creation_date":1583190424,"question_id":60497894,"body_markdown":"I have multiple Spring `InitializingBean` classes, which I&#39;d like them to all run `afterPropertiesSet()` in parallel. When I run a small example, however, they are being executed synchronously. Is there any way to execute them in parallel?\r\n\r\nBelow is an example initializing bean which can be used to test out what I&#39;m referring to. When creating multiple classes like this (i.e. `InitBeanOne`, `InitBeanTwo`, ...), the logs show that they are being run synchronously.\r\n\r\nOne idea which I had in mind was to have a single initializing bean asynchronously initialize the desired classes. This is a last resort option, though, as I&#39;d like to take advantage of the initializing beans for each class individually, and not have other dependent classes.\r\n\r\n```java\r\n@Component\r\npublic class InitBean implements InitializingBean {\r\n\r\n    private final static Logger LOGGER = LoggerFactory.getLogger(InitBean.class);\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        LOGGER.info(&quot;BEGIN: InitBean&quot;);\r\n        TimeUnit.SECONDS.sleep(5);\r\n        LOGGER.info(&quot;END: InitBean&quot;);\r\n    }\r\n}\r\n```","title":"Executing Spring Initializing Beans in Parallel","body":"<p>I have multiple Spring <code>InitializingBean</code> classes, which I'd like them to all run <code>afterPropertiesSet()</code> in parallel. When I run a small example, however, they are being executed synchronously. Is there any way to execute them in parallel?</p>\n\n<p>Below is an example initializing bean which can be used to test out what I'm referring to. When creating multiple classes like this (i.e. <code>InitBeanOne</code>, <code>InitBeanTwo</code>, ...), the logs show that they are being run synchronously.</p>\n\n<p>One idea which I had in mind was to have a single initializing bean asynchronously initialize the desired classes. This is a last resort option, though, as I'd like to take advantage of the initializing beans for each class individually, and not have other dependent classes.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class InitBean implements InitializingBean {\n\n    private final static Logger LOGGER = LoggerFactory.getLogger(InitBean.class);\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        LOGGER.info(\"BEGIN: InitBean\");\n        TimeUnit.SECONDS.sleep(5);\n        LOGGER.info(\"END: InitBean\");\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1599475202,"post_id":63774795,"comment_id":112776860,"body_markdown":"I&#39;m guessing, but it sound like you have used a docker container with an OpenJDK JRE-only installation in it.","body":"I&#39;m guessing, but it sound like you have used a docker container with an OpenJDK JRE-only installation in it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1599475554,"post_id":63774795,"comment_id":112777020,"body_markdown":"But if you can run `javac`, then the problem could be that arthas needs you to set JAVA_HOME correctly.","body":"But if you can run <code>javac</code>, then the problem could be that arthas needs you to set JAVA_HOME correctly."},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1599477798,"post_id":63774795,"comment_id":112777993,"body_markdown":"I  still not understand what should I do to make it work.@StephenC","body":"I  still not understand what should I do to make it work.@StephenC"}],"answers":[{"tags":[],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599749273,"creation_date":1599749273,"answer_id":63832247,"question_id":63774795,"body_markdown":"change the base image to `openjdk:8`.\r\n\r\n\r\n\r\n\r\n    FROM openjdk:8\r\n\r\n\r\nworks.","title":"Can not find tools.jar under java home when using arthas in openjdk","body":"<p>change the base image to <code>openjdk:8</code>.</p>\n<pre><code>FROM openjdk:8\n</code></pre>\n<p>works.</p>\n"},{"tags":[],"owner":{"account_id":14396250,"reputation":412,"user_id":10399467,"display_name":"qingmu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660286706,"creation_date":1660286706,"answer_id":73330198,"question_id":63774795,"body_markdown":"I thought about this question，Maybe there are two solutions besides switching the base image of docker file：\r\n* The JVM of the target process is the JRE of openjdk, not JDK. There is no tools.jar. You can manually specify the path of tools.jar when starting Arthas\r\n\r\n  `java -jar arthas-boot.jar -Dtools.jar=./tools.jar`\r\n\r\n* Reinstall JDK and set JAVA_HOME is new with tools JDK directory of jar.\r\n\r\n* Change the base image to openjdk:8. just like your solution.\r\n\r\n","title":"Can not find tools.jar under java home when using arthas in openjdk","body":"<p>I thought about this question，Maybe there are two solutions besides switching the base image of docker file：</p>\n<ul>\n<li><p>The JVM of the target process is the JRE of openjdk, not JDK. There is no tools.jar. You can manually specify the path of tools.jar when starting Arthas</p>\n<p><code>java -jar arthas-boot.jar -Dtools.jar=./tools.jar</code></p>\n</li>\n<li><p>Reinstall JDK and set JAVA_HOME is new with tools JDK directory of jar.</p>\n</li>\n<li><p>Change the base image to openjdk:8. just like your solution.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73330198,"answer_count":2,"score":0,"last_activity_date":1660286706,"creation_date":1599470681,"question_id":63774795,"body_markdown":"I am using arthas 3.3.6 in kubernetes docker container with openjdk8, when I start arthas, it shows:\r\n\r\n\r\n\r\n    /opt/arthas # java -jar arthas-boot.jar 1\r\n    [INFO] arthas-boot version: 3.3.6\r\n    [INFO] arthas home: /opt/arthas\r\n    [INFO] Try to attach process 1\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Can not find tools.jar under java home: /usr/lib/jvm/java-1.8-openjdk/jre, please try to start arthas-boot with full path java. Such as /opt/jdk/bin/java -jar arthas-boot.jar\r\n            at com.taobao.arthas.boot.ProcessUtils.findJavaHome(ProcessUtils.java:222)\r\n            at com.taobao.arthas.boot.ProcessUtils.startArthasCore(ProcessUtils.java:233)\r\n            at com.taobao.arthas.boot.Bootstrap.main(Bootstrap.java:515)\r\n\r\n\r\nthen I download the oracle JDK and throw this error:\r\n\r\n  \r\n\r\n      /opt/arthas # /opt/jdk1.8.0_211/bin/java -jar arthas-boot.jar\r\n    sh: /opt/jdk1.8.0_211/bin/java: not found\r\n\r\n\r\n\r\nI am searching from internet and tell me the OracleJDK C lib is imcompatible with alpine.someone copy the tools.jar into docker container still not fix this problem. so what should I do to make arthas works?\r\n\r\n\r\n\r\n","title":"Can not find tools.jar under java home when using arthas in openjdk","body":"<p>I am using arthas 3.3.6 in kubernetes docker container with openjdk8, when I start arthas, it shows:</p>\n<pre><code>/opt/arthas # java -jar arthas-boot.jar 1\n[INFO] arthas-boot version: 3.3.6\n[INFO] arthas home: /opt/arthas\n[INFO] Try to attach process 1\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Can not find tools.jar under java home: /usr/lib/jvm/java-1.8-openjdk/jre, please try to start arthas-boot with full path java. Such as /opt/jdk/bin/java -jar arthas-boot.jar\n        at com.taobao.arthas.boot.ProcessUtils.findJavaHome(ProcessUtils.java:222)\n        at com.taobao.arthas.boot.ProcessUtils.startArthasCore(ProcessUtils.java:233)\n        at com.taobao.arthas.boot.Bootstrap.main(Bootstrap.java:515)\n</code></pre>\n<p>then I download the oracle JDK and throw this error:</p>\n<pre><code>  /opt/arthas # /opt/jdk1.8.0_211/bin/java -jar arthas-boot.jar\nsh: /opt/jdk1.8.0_211/bin/java: not found\n</code></pre>\n<p>I am searching from internet and tell me the OracleJDK C lib is imcompatible with alpine.someone copy the tools.jar into docker container still not fix this problem. so what should I do to make arthas works?</p>\n"},{"tags":["java","telegram","telegram-bot"],"comments":[{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1660286996,"post_id":73330186,"comment_id":129501252,"body_markdown":"[how-to-get-user-id-of-a-phone-number-in-telegram](https://stackoverflow.com/questions/41686463/how-to-get-user-id-of-a-phone-number-in-telegram)","body":"<a href=\"https://stackoverflow.com/questions/41686463/how-to-get-user-id-of-a-phone-number-in-telegram\">how-to-get-user-id-of-a-phone-number-in-telegram</a>"},{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1660287031,"post_id":73330186,"comment_id":129501263,"body_markdown":"[can-i-get-a-phone-number-by-user-id-via-telegram-bot-api](https://stackoverflow.com/questions/33035709/can-i-get-a-phone-number-by-user-id-via-telegram-bot-api)","body":"<a href=\"https://stackoverflow.com/questions/33035709/can-i-get-a-phone-number-by-user-id-via-telegram-bot-api\">can-i-get-a-phone-number-by-user-id-via-telegram-bot-api</a>"},{"owner":{"account_id":24057157,"reputation":3,"user_id":18034839,"display_name":"Abdumajid Abdullatipov"},"score":0,"creation_date":1660287415,"post_id":73330186,"comment_id":129501387,"body_markdown":"I was asking if this method can be bypassed.\nSo he can&#39;t send another person&#39;s contact. The article above does not say anything like that","body":"I was asking if this method can be bypassed. So he can&#39;t send another person&#39;s contact. The article above does not say anything like that"},{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1660287763,"post_id":73330186,"comment_id":129501506,"body_markdown":"I thought others links would help you. However, are you asking if the bot would return the exact user&#39;s phone number or by mistake would send a different number? If so, then for sure you will always get the correct number unless there is a bug from the telegram API side!!","body":"I thought others links would help you. However, are you asking if the bot would return the exact user&#39;s phone number or by mistake would send a different number? If so, then for sure you will always get the correct number unless there is a bug from the telegram API side!!"},{"owner":{"account_id":24057157,"reputation":3,"user_id":18034839,"display_name":"Abdumajid Abdullatipov"},"score":0,"creation_date":1660288895,"post_id":73330186,"comment_id":129501849,"body_markdown":"Thank you.\nyes, that&#39;s what I was saying\nDo you have proof of this anywhere?\nFor example in the documentation","body":"Thank you. yes, that&#39;s what I was saying Do you have proof of this anywhere? For example in the documentation"},{"owner":{"account_id":24057157,"reputation":3,"user_id":18034839,"display_name":"Abdumajid Abdullatipov"},"score":0,"creation_date":1660544300,"post_id":73330186,"comment_id":129549199,"body_markdown":"https://security.stackexchange.com/questions/178401/is-telegram-bot-phone-number-sharing-feature-a-sufficient-way-to-authenticate-a\n\nsee this article","body":"<a href=\"https://security.stackexchange.com/questions/178401/is-telegram-bot-phone-number-sharing-feature-a-sufficient-way-to-authenticate-a\" title=\"is telegram bot phone number sharing feature a sufficient way to authenticate a\">security.stackexchange.com/questions/178401/&hellip;</a>  see this article"}],"owner":{"account_id":24057157,"reputation":3,"user_id":18034839,"display_name":"Abdumajid Abdullatipov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660286651,"creation_date":1660286651,"question_id":73330186,"body_markdown":"    KeyboardRow row = new KeyboardRow();\r\n        row.add(KeyboardButton.builder()\r\n                .text(&quot;contact&quot;)\r\n                .requestContact(true)\r\n                .build());\r\nI want to get the user&#39;s phone number in this way. Is this safe to use? . For example, can&#39;t send another person to the contact.","title":"Is share phone number sure in telegram bot?","body":"<pre><code>KeyboardRow row = new KeyboardRow();\n    row.add(KeyboardButton.builder()\n            .text(&quot;contact&quot;)\n            .requestContact(true)\n            .build());\n</code></pre>\n<p>I want to get the user's phone number in this way. Is this safe to use? . For example, can't send another person to the contact.</p>\n"},{"tags":["java","file","environment-variables"],"comments":[{"owner":{"account_id":350538,"reputation":26874,"user_id":688653,"accept_rate":100,"display_name":"zw324"},"score":1,"creation_date":1369064307,"post_id":16653037,"comment_id":23954123,"body_markdown":"Shouldn&#39;t the OP be using System.getenv?","body":"Shouldn&#39;t the OP be using System.getenv?"},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":1,"creation_date":1369064314,"post_id":16653037,"comment_id":23954129,"body_markdown":"I would like to know if exists a way to use enviroments variables in Files without replacing it manually!","body":"I would like to know if exists a way to use enviroments variables in Files without replacing it manually!"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1369064665,"post_id":16653037,"comment_id":23954335,"body_markdown":"@fge: `System.getProperty()` won&#39;t return an environment variable value.","body":"@fge: <code>System.getProperty()</code> won&#39;t return an environment variable value."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1369065713,"post_id":16653037,"comment_id":23954967,"body_markdown":"@JBNizet Oops, yep, I mixed with `.getenv()`","body":"@JBNizet Oops, yep, I mixed with <code>.getenv()</code>"}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1369064414,"creation_date":1369064414,"answer_id":16653113,"question_id":16653037,"body_markdown":"Syntax that allows getting value of environment variable using `%` sign is a feature of windows shell. In java you should use `System.getenv(&quot;SYSTEM_ROOT&quot;)` instead, so your line should look like: `new File(System.getenv(&quot;SYSTEM_ROOT&quot;) + &quot;/file.txt&quot;)` or even better `new File(new File(System.getenv(&quot;SYSTEM_ROOT&quot;), &quot;file.txt&quot;)`","title":"new File() with environment variables in Java","body":"<p>Syntax that allows getting value of environment variable using <code>%</code> sign is a feature of windows shell. In java you should use <code>System.getenv(\"SYSTEM_ROOT\")</code> instead, so your line should look like: <code>new File(System.getenv(\"SYSTEM_ROOT\") + \"/file.txt\")</code> or even better <code>new File(new File(System.getenv(\"SYSTEM_ROOT\"), \"file.txt\")</code></p>\n"},{"tags":[],"owner":{"account_id":2324244,"reputation":2341,"user_id":2072528,"display_name":"Kalaschni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660286587,"creation_date":1411478676,"answer_id":25996323,"question_id":16653037,"body_markdown":"I know this Question is a little bit old, but no Answer yet.\r\n\r\nIn another Question about environment variables there is a simliar Problem and they have a sample code for regex:  \r\n[System Variable Regex][1]\r\n\r\nThis code replaces all system vars that are in the format ${ENV_VAR}.\r\n\r\nHope that helps,  \r\nKalasch\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4752940/2072528","title":"new File() with environment variables in Java","body":"<p>I know this Question is a little bit old, but no Answer yet.</p>\n<p>In another Question about environment variables there is a simliar Problem and they have a sample code for regex:<br />\n<a href=\"https://stackoverflow.com/a/4752940/2072528\">System Variable Regex</a></p>\n<p>This code replaces all system vars that are in the format ${ENV_VAR}.</p>\n<p>Hope that helps,<br />\nKalasch</p>\n"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3379,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25996323,"answer_count":2,"score":4,"last_activity_date":1660286587,"creation_date":1369064134,"question_id":16653037,"body_markdown":"How to get a File java object from its path string with environments vars?\r\nFor example:\r\n\r\n    new File(&quot;%SYSTEM_ROOT%/file.txt&quot;)\r\n\r\nor\r\n\r\n    new File(&quot;${SYSTEM_ROOT}/file.txt&quot;)","title":"new File() with environment variables in Java","body":"<p>How to get a File java object from its path string with environments vars?\nFor example:</p>\n\n<pre><code>new File(\"%SYSTEM_ROOT%/file.txt\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>new File(\"${SYSTEM_ROOT}/file.txt\")\n</code></pre>\n"},{"tags":["java","spring-data-rest"],"comments":[{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":1,"creation_date":1463206770,"post_id":37220737,"comment_id":61976814,"body_markdown":"In other words, you want to open a transaction on a POST, closing it after a PATCH - which might never come? Sorry, but trying to make transactions cover multiple HTTP request somehow does not seem like a very good idea... But that&#39;s just a personal guess.","body":"In other words, you want to open a transaction on a POST, closing it after a PATCH - which might never come? Sorry, but trying to make transactions cover multiple HTTP request somehow does not seem like a very good idea... But that&#39;s just a personal guess."}],"answers":[{"tags":[],"owner":{"account_id":8369347,"reputation":738,"user_id":6284935,"display_name":"Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463238554,"creation_date":1463238554,"answer_id":37228288,"question_id":37220737,"body_markdown":"The who point of REST is to have isolated units of work.  If you are wanting to keep transactions open across calls it&#39;s probably a sign you need to adjust your RESTful strategy.\r\n\r\nHave a look at: [Transaction strategy for microservices][1]\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/290917/what-is-the-most-accepted-transaction-strategy-for-microservices","title":"Transaction Management in Spring Data REST","body":"<p>The who point of REST is to have isolated units of work.  If you are wanting to keep transactions open across calls it's probably a sign you need to adjust your RESTful strategy.</p>\n\n<p>Have a look at: <a href=\"https://softwareengineering.stackexchange.com/questions/290917/what-is-the-most-accepted-transaction-strategy-for-microservices\">Transaction strategy for microservices</a></p>\n"},{"tags":[],"owner":{"account_id":7007911,"reputation":11784,"user_id":5371736,"accept_rate":56,"display_name":"Mathias Dpunkt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1463413145,"creation_date":1463413145,"answer_id":37257782,"question_id":37220737,"body_markdown":"In spring data rest every repository action runs within a transaction. Even the event handlers are not running inside the repository transaction. And of course different actions on the REST API do run in separate transactions.\r\n\r\nHere is an interesting question on this topic:\r\nhttps://stackoverflow.com/questions/25717127/handle-spring-data-rest-application-events-within-the-transaction\r\n\r\nIf you want to have creation and association in one transaction then the only way to achieve this with your current entity mapping is to create a custom controller that does just that. \r\n\r\nAn alternative mapping strategy would be to treat the associated entity as a containment - so the associated entity does not have an exported repository and is maintained within the parent.\r\n\r\n","title":"Transaction Management in Spring Data REST","body":"<p>In spring data rest every repository action runs within a transaction. Even the event handlers are not running inside the repository transaction. And of course different actions on the REST API do run in separate transactions.</p>\n\n<p>Here is an interesting question on this topic:\n<a href=\"https://stackoverflow.com/questions/25717127/handle-spring-data-rest-application-events-within-the-transaction\">Handle spring-data-rest application events within the transaction</a></p>\n\n<p>If you want to have creation and association in one transaction then the only way to achieve this with your current entity mapping is to create a custom controller that does just that. </p>\n\n<p>An alternative mapping strategy would be to treat the associated entity as a containment - so the associated entity does not have an exported repository and is maintained within the parent.</p>\n"},{"tags":[],"owner":{"account_id":212451,"reputation":5409,"user_id":465274,"accept_rate":84,"display_name":"Laures"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660286537,"creation_date":1660286537,"answer_id":73330168,"question_id":37220737,"body_markdown":"I found this question when researching the transaction behavior of data-rest. \r\n\r\nI needed control over the transaction behavior of the default controllers, especially during serialization of relationships, so i could mark transactions as read-only and route them to read-replicas of our database.\r\n\r\nBy default every call to a repository has its own transaction and database access during events or resource-assembly is managed by hibernate directly, outside of these transactions. There is no intended way for users to control transactions.\r\n\r\nSpring does however provide methods to do that using aop-interceptors. These interceptors use a property source do decide weather or not a method requires a transaction. Springs own Transactional-Annotation is nothing more than one of these property-sources.\r\n\r\nThe following Configuration creates an advisor for the default rest-controllers that creates customized transactions for some Methods:\r\n\r\n````\r\n\r\n@Configuration\r\n@ConditionalOnClass(name = {\r\n    &quot;org.springframework.data.rest.webmvc.RepositoryEntityController&quot;,\r\n    &quot;org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController&quot;,\r\n    &quot;org.springframework.data.rest.webmvc.RepositorySearchController&quot;\r\n})\r\npublic class RepositoryRestControllerTransactionConfiguration {\r\n\r\n    /**\r\n     * A custom Transaction Advisor that starts customized transactions based on what data-rest controller method is called\r\n     *\r\n     * @param transactionManager\r\n     * @return\r\n     */\r\n    @Bean\r\n    public BeanFactoryTransactionAttributeSourceAdvisor transactionAdvisor(\r\n        TransactionManager transactionManager) {\r\n\r\n        //Specify transaction management methods and attribute values required for transaction control\r\n        MethodMapTransactionAttributeSource source = new MethodMapTransactionAttributeSource();\r\n        Map&lt;String, TransactionAttribute&gt; methodMap = new HashMap&lt;&gt;();\r\n\r\n        // methods are identified by their FQDN, simple placeholders using * are possible\r\n        // methods that should only require reads\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.get*&quot;, createTransactionRule(true));\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource&quot;, createTransactionRule(true));\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.follow*&quot;, createTransactionRule(true));\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositorySearchController.execute*&quot;, createTransactionRule(true));\r\n\r\n        // methods that will require write\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.put*&quot;, createTransactionRule(false));\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.patch*&quot;, createTransactionRule(false));\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.delete*&quot;, createTransactionRule(false));\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.post*&quot;, createTransactionRule(false));\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.delete*&quot;, createTransactionRule(false));\r\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.create*&quot;, createTransactionRule(false));\r\n\r\n        source.setMethodMap(methodMap);\r\n        source.afterPropertiesSet();\r\n\r\n        // Generate an AOP Advisor that controls transactions\r\n        // Advice for transaction control (TransactionInteceptor)\r\n        BeanFactoryTransactionAttributeSourceAdvisor advisor = new BeanFactoryTransactionAttributeSourceAdvisor();\r\n        advisor.setTransactionAttributeSource(source);\r\n        advisor.setAdvice(new TransactionInterceptor(transactionManager, source));\r\n        return advisor;\r\n    }\r\n\r\n    private RuleBasedTransactionAttribute createTransactionRule(boolean readOnly) {\r\n        RuleBasedTransactionAttribute rule = new RuleBasedTransactionAttribute();\r\n\r\n        rule.setReadOnly(readOnly);\r\n\r\n        return rule;\r\n    }\r\n}\r\n````\r\n\r\n","title":"Transaction Management in Spring Data REST","body":"<p>I found this question when researching the transaction behavior of data-rest.</p>\n<p>I needed control over the transaction behavior of the default controllers, especially during serialization of relationships, so i could mark transactions as read-only and route them to read-replicas of our database.</p>\n<p>By default every call to a repository has its own transaction and database access during events or resource-assembly is managed by hibernate directly, outside of these transactions. There is no intended way for users to control transactions.</p>\n<p>Spring does however provide methods to do that using aop-interceptors. These interceptors use a property source do decide weather or not a method requires a transaction. Springs own Transactional-Annotation is nothing more than one of these property-sources.</p>\n<p>The following Configuration creates an advisor for the default rest-controllers that creates customized transactions for some Methods:</p>\n<pre><code>\n@Configuration\n@ConditionalOnClass(name = {\n    &quot;org.springframework.data.rest.webmvc.RepositoryEntityController&quot;,\n    &quot;org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController&quot;,\n    &quot;org.springframework.data.rest.webmvc.RepositorySearchController&quot;\n})\npublic class RepositoryRestControllerTransactionConfiguration {\n\n    /**\n     * A custom Transaction Advisor that starts customized transactions based on what data-rest controller method is called\n     *\n     * @param transactionManager\n     * @return\n     */\n    @Bean\n    public BeanFactoryTransactionAttributeSourceAdvisor transactionAdvisor(\n        TransactionManager transactionManager) {\n\n        //Specify transaction management methods and attribute values required for transaction control\n        MethodMapTransactionAttributeSource source = new MethodMapTransactionAttributeSource();\n        Map&lt;String, TransactionAttribute&gt; methodMap = new HashMap&lt;&gt;();\n\n        // methods are identified by their FQDN, simple placeholders using * are possible\n        // methods that should only require reads\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.get*&quot;, createTransactionRule(true));\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource&quot;, createTransactionRule(true));\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.follow*&quot;, createTransactionRule(true));\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositorySearchController.execute*&quot;, createTransactionRule(true));\n\n        // methods that will require write\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.put*&quot;, createTransactionRule(false));\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.patch*&quot;, createTransactionRule(false));\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.delete*&quot;, createTransactionRule(false));\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryEntityController.post*&quot;, createTransactionRule(false));\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.delete*&quot;, createTransactionRule(false));\n        methodMap.put(&quot;org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.create*&quot;, createTransactionRule(false));\n\n        source.setMethodMap(methodMap);\n        source.afterPropertiesSet();\n\n        // Generate an AOP Advisor that controls transactions\n        // Advice for transaction control (TransactionInteceptor)\n        BeanFactoryTransactionAttributeSourceAdvisor advisor = new BeanFactoryTransactionAttributeSourceAdvisor();\n        advisor.setTransactionAttributeSource(source);\n        advisor.setAdvice(new TransactionInterceptor(transactionManager, source));\n        return advisor;\n    }\n\n    private RuleBasedTransactionAttribute createTransactionRule(boolean readOnly) {\n        RuleBasedTransactionAttribute rule = new RuleBasedTransactionAttribute();\n\n        rule.setReadOnly(readOnly);\n\n        return rule;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1833427,"reputation":59,"user_id":1664288,"accept_rate":0,"display_name":"Bharath Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4850,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1660286537,"creation_date":1463181796,"question_id":37220737,"body_markdown":"Do we have any in-built transaction management when using Spring Data REST or it has to be manually maintained/handled from the calling application/service.\r\n\r\nSay, I have two calls(first POST(for creation) and PATCH(update/insert association resource using uri-lists)) which I want to be considered as a transaction.\r\n\r\n\r\n\r\n\r\nThanks\r\nBharath","title":"Transaction Management in Spring Data REST","body":"<p>Do we have any in-built transaction management when using Spring Data REST or it has to be manually maintained/handled from the calling application/service.</p>\n\n<p>Say, I have two calls(first POST(for creation) and PATCH(update/insert association resource using uri-lists)) which I want to be considered as a transaction.</p>\n\n<p>Thanks\nBharath</p>\n"},{"tags":["java","read.csv"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1660245822,"post_id":73325143,"comment_id":129493729,"body_markdown":"Think about how you would extract the information manually. Then write the code to implement it. Then run your code and check the result. If it is not what you want, think harder. Then adjust your code. Then run your code, etc.","body":"Think about how you would extract the information manually. Then write the code to implement it. Then run your code and check the result. If it is not what you want, think harder. Then adjust your code. Then run your code, etc."},{"owner":{"account_id":1929456,"reputation":601,"user_id":1739193,"display_name":"btafarelo"},"score":0,"creation_date":1660246257,"post_id":73325143,"comment_id":129493849,"body_markdown":"Are you concerned about transfer those files to the app host, read it and extract this field? Do you want to optimize the process or you don&#39;t know how to achieve it in anyway?","body":"Are you concerned about transfer those files to the app host, read it and extract this field? Do you want to optimize the process or you don&#39;t know how to achieve it in anyway?"},{"owner":{"account_id":15406215,"reputation":67,"user_id":11114300,"display_name":"Raghu K"},"score":0,"creation_date":1660256722,"post_id":73325143,"comment_id":129496503,"body_markdown":"@btafarelo I have copied the file to the remote server using hdfs dfs -get command. Next I have to read this file","body":"@btafarelo I have copied the file to the remote server using hdfs dfs -get command. Next I have to read this file"}],"answers":[{"tags":[],"owner":{"account_id":1929456,"reputation":601,"user_id":1739193,"display_name":"btafarelo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660286109,"creation_date":1660286109,"answer_id":73330104,"question_id":73325143,"body_markdown":"This method read your text file in reverse mode, printing only the field required.\r\n\r\nIt counts the field delimiters | and get the bytes between the forth and fifth delimiters.\r\n\r\n**Result**\r\n\r\n&gt; 3000000000\r\n\r\n**Source**\r\n\r\n    package com.github.btafarelo;\r\n\r\n    import java.io.File;\r\n    import java.io.RandomAccessFile;\r\n    \r\n    public class TailFile {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            File file = new File(&quot;/home/btafarelo/tail.txt&quot;);\r\n    \r\n            RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;r&quot;);\r\n    \r\n            long fileLength = file.length() - 1;\r\n    \r\n            randomAccessFile.seek(fileLength);\r\n    \r\n            int delimiters = 0;\r\n    \r\n            char c;\r\n    \r\n            StringBuilder data = new StringBuilder();\r\n    \r\n            for(long pointer = fileLength; pointer &gt;= 0; pointer--){\r\n                randomAccessFile.seek(pointer);\r\n    \r\n                c = (char)randomAccessFile.read();\r\n    \r\n                if (c == &#39;|&#39;) {\r\n                    delimiters++;\r\n                    continue;\r\n                }\r\n    \r\n                if (delimiters == 4)\r\n                    data.append(c);\r\n                else if (delimiters == 5)\r\n                    break;\r\n            }\r\n    \r\n            System.out.println(data.toString());\r\n    \r\n            randomAccessFile.close();\r\n        }\r\n    }\r\n\r\n","title":"How to validate the tail part of a csv file in a remote server using Java","body":"<p>This method read your text file in reverse mode, printing only the field required.</p>\n<p>It counts the field delimiters | and get the bytes between the forth and fifth delimiters.</p>\n<p><strong>Result</strong></p>\n<blockquote>\n<p>3000000000</p>\n</blockquote>\n<p><strong>Source</strong></p>\n<pre><code>package com.github.btafarelo;\n\nimport java.io.File;\nimport java.io.RandomAccessFile;\n\npublic class TailFile {\n\n    public static void main(String[] args) throws Exception {\n\n        File file = new File(&quot;/home/btafarelo/tail.txt&quot;);\n\n        RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;r&quot;);\n\n        long fileLength = file.length() - 1;\n\n        randomAccessFile.seek(fileLength);\n\n        int delimiters = 0;\n\n        char c;\n\n        StringBuilder data = new StringBuilder();\n\n        for(long pointer = fileLength; pointer &gt;= 0; pointer--){\n            randomAccessFile.seek(pointer);\n\n            c = (char)randomAccessFile.read();\n\n            if (c == '|') {\n                delimiters++;\n                continue;\n            }\n\n            if (delimiters == 4)\n                data.append(c);\n            else if (delimiters == 5)\n                break;\n        }\n\n        System.out.println(data.toString());\n\n        randomAccessFile.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15406215,"reputation":67,"user_id":11114300,"display_name":"Raghu K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73330104,"answer_count":1,"score":0,"last_activity_date":1660286109,"creation_date":1660241415,"question_id":73325143,"body_markdown":"Below are the contents of the CSV file which is generated in hdfs(after running a spark job) then moved to a remote server. \r\n\r\nH1|EDHSADB2|2022-08-11 11:10:23|||\r\nH2|RMT_ACC_NM|RMT_ACC_SRT_CD|PDD_TYP_CD|PDD_IGT_VL|REC_LOD_TS\r\nDL|08510968|771103|FPFQP     |{&quot;insights&quot;:[{&quot;ACC_NM&quot;:&quot;00000000&quot;,&quot;BNC_CD&quot;:&quot;772900&quot;,&quot;BNM&quot;:&quot;LAND SERVICES&quot;,&quot;TRN_REF_TX&quot;:&quot;5404633777075358&quot;,&quot;PMT_AMT&quot;:33.0,&quot;LST_PMT_DT&quot;:&quot;2022-08-05&quot;,&quot;AGG_PMT_AMT&quot;:67.18,&quot;PMT_CNT&quot;:3},\r\n\r\n{&quot;ACC_NM&quot;:&quot;00213765&quot;,&quot;BNC_CD&quot;:&quot;802045&quot;,&quot;BNM&quot;:&quot;AQUA MASTERCARD&quot;,&quot;TRN_REF_TX&quot;:&quot;5404633753077758&quot;,&quot;LST_PMT_AMT&quot;:56.78,&quot;LST_PMT_DT&quot;:&quot;2022-08-06&quot;,&quot;AGG_PMT_AMT&quot;:272.16,&quot;PMT_CNT&quot;:6},\r\n\r\n{&quot;ACC_NM&quot;:&quot;00213765&quot;,&quot;BNC_CD&quot;:&quot;802045&quot;,&quot;BNM&quot;:&quot;AFIX CARD SERVICES&quot;,&quot;TRN_REF_TX&quot;:&quot;5434298992481650&quot;,&quot;LST_PMT_AMT&quot;:56.78,&quot;LST_PMT_DT&quot;:&quot;2022-08-06&quot;,&quot;AGG_PMT_AMT&quot;:272.16,&quot;PMT_CNT&quot;:6}]}|\r\nT1|0000000003||||\r\n\r\n**How can I extract the Tail information which is 0000000003 above and validate with expected data using Java**.","title":"How to validate the tail part of a csv file in a remote server using Java","body":"<p>Below are the contents of the CSV file which is generated in hdfs(after running a spark job) then moved to a remote server.</p>\n<p>H1|EDHSADB2|2022-08-11 11:10:23|||\nH2|RMT_ACC_NM|RMT_ACC_SRT_CD|PDD_TYP_CD|PDD_IGT_VL|REC_LOD_TS\nDL|08510968|771103|FPFQP     |{&quot;insights&quot;:[{&quot;ACC_NM&quot;:&quot;00000000&quot;,&quot;BNC_CD&quot;:&quot;772900&quot;,&quot;BNM&quot;:&quot;LAND SERVICES&quot;,&quot;TRN_REF_TX&quot;:&quot;5404633777075358&quot;,&quot;PMT_AMT&quot;:33.0,&quot;LST_PMT_DT&quot;:&quot;2022-08-05&quot;,&quot;AGG_PMT_AMT&quot;:67.18,&quot;PMT_CNT&quot;:3},</p>\n<p>{&quot;ACC_NM&quot;:&quot;00213765&quot;,&quot;BNC_CD&quot;:&quot;802045&quot;,&quot;BNM&quot;:&quot;AQUA MASTERCARD&quot;,&quot;TRN_REF_TX&quot;:&quot;5404633753077758&quot;,&quot;LST_PMT_AMT&quot;:56.78,&quot;LST_PMT_DT&quot;:&quot;2022-08-06&quot;,&quot;AGG_PMT_AMT&quot;:272.16,&quot;PMT_CNT&quot;:6},</p>\n<p>{&quot;ACC_NM&quot;:&quot;00213765&quot;,&quot;BNC_CD&quot;:&quot;802045&quot;,&quot;BNM&quot;:&quot;AFIX CARD SERVICES&quot;,&quot;TRN_REF_TX&quot;:&quot;5434298992481650&quot;,&quot;LST_PMT_AMT&quot;:56.78,&quot;LST_PMT_DT&quot;:&quot;2022-08-06&quot;,&quot;AGG_PMT_AMT&quot;:272.16,&quot;PMT_CNT&quot;:6}]}|\nT1|0000000003||||</p>\n<p><strong>How can I extract the Tail information which is 0000000003 above and validate with expected data using Java</strong>.</p>\n"},{"tags":["java","android","arduino","android-bluetooth","esp32"],"answers":[{"tags":[],"owner":{"account_id":18173300,"reputation":338,"user_id":13222541,"display_name":"fbiego"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660285825,"creation_date":1660285825,"answer_id":73330055,"question_id":72533376,"body_markdown":"Your ESP32 code is Bluetooth Low Energy while your Android code is Bluetooth Classic. \r\nYou have to implement BLE in your android code\r\nhttps://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview","title":"Reading values from Arduino IDE in Android Studio(java) ? There is no mistake as I can see but ıt doesn&#39;t work","body":"<p>Your ESP32 code is Bluetooth Low Energy while your Android code is Bluetooth Classic.\nYou have to implement BLE in your android code\n<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview</a></p>\n"}],"owner":{"account_id":18668519,"reputation":23,"user_id":13607910,"display_name":"Kamil Şahin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660285825,"creation_date":1654613577,"question_id":72533376,"body_markdown":"Have a healthy day. As I mentioned in title, I want to read values from Arduino IDE (ESP32) . I ınstall nRF Connect mobile app because ı want to check if ı&#39;m getting value correctly or not . I got true value.Then I write an android studio code as a beginner and from tutorials ofc. It&#39;s pairing devices and then if its name ESP32, ı wanna communicate it with arduiono but ı m getting empty array.After watching tutorials and reading stackoverflow posts ı ve decided to ask for help here. I will be glad if you help me. Thanks.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uCUi3.jpg\r\n\r\n    \r\n    \r\n        import android.Manifest;\r\n    import android.annotation.SuppressLint;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothServerSocket;\r\n    import android.bluetooth.BluetoothSocket;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.location.LocationManager;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.os.Looper;\r\n    import android.os.Message;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.activity.result.ActivityResultLauncher;\r\n    import androidx.activity.result.contract.ActivityResultContracts;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.UUID;\r\n    \r\n    import pl.bclogic.pulsator4droid.library.PulsatorLayout;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        BluetoothAdapter myBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        ArrayAdapter&lt;String&gt; arrayAdapter;\r\n        ArrayList&lt;String&gt; stringArrayList = new ArrayList&lt;String&gt;();\r\n        private boolean alreadyExecuted = false;\r\n        private boolean alreadyExecuted2=false;\r\n        BluetoothSocket mmSocket;\r\n        BluetoothServerSocket mmServerSocket;\r\n        BluetoothDevice mmDevice;\r\n        OutputStream mmOutputStream;\r\n        InputStream mmInputStream;\r\n        Thread workerThread;\r\n        TextView myLabel;\r\n    \r\n    \r\n    \r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        private void connectAndTransferDataBT(BluetoothDevice mmDevice)  throws IOException{\r\n    \r\n            BluetoothSocket tmp = null;\r\n            InputStream tmpIn = null;\r\n            OutputStream tmpOut = null;\r\n            Handler handler = new Handler();\r\n            UUID uuid = UUID.fromString(&quot;4fafc201-1fb5-459e-8fcc-c5c9c331914b&quot;);\r\n    \r\n    \r\n            try {\r\n                tmp  = mmDevice.createRfcommSocketToServiceRecord(uuid);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            mmSocket = tmp;\r\n            try {\r\n                mmSocket.connect();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n    \r\n                tmpIn = mmSocket.getInputStream();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n    \r\n                tmpOut = mmSocket.getOutputStream();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            mmInputStream = tmpIn;\r\n            mmOutputStream = tmpOut;\r\n    \r\n            byte [] mmBuffer = new byte[1024];\r\n            int numBytes; // bytes returned from read()\r\n    \r\n            assert mmInputStream != null;\r\n            numBytes = mmInputStream.read(mmBuffer);\r\n    \r\n    \r\n        };\r\n        private void getLocationPermission()\r\n        {\r\n            ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\r\n                    registerForActivityResult(new ActivityResultContracts\r\n                                    .RequestMultiplePermissions(), result -&gt; {\r\n                                Boolean fineLocationGranted = result.getOrDefault(\r\n                                        Manifest.permission.ACCESS_FINE_LOCATION, false);\r\n                                Boolean coarseLocationGranted = result.getOrDefault(\r\n                                        Manifest.permission.ACCESS_COARSE_LOCATION,false);\r\n                                if (fineLocationGranted != null &amp;&amp; fineLocationGranted) {\r\n                                } else if (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)\r\n                                {\r\n                                } else \r\n                                {\r\n                                }\r\n                            }\r\n                    );\r\n            locationPermissionRequest.launch(new String[] {\r\n                    Manifest.permission.ACCESS_FINE_LOCATION,\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION\r\n            });\r\n        }\r\n        public void statusCheck() {\r\n            final LocationManager manager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n    \r\n            if (!manager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\r\n                buildAlertMessageNoGps();\r\n            }\r\n        }\r\n        private void buildAlertMessageNoGps() {\r\n    \r\n            if(!alreadyExecuted) {\r\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setMessage(&quot;Your GPS seems to be disabled, do you want to enable it?&quot;)\r\n                        .setCancelable(false)\r\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(final DialogInterface dialog, final int id) {\r\n                                startActivity(new Intent(android.provider.Settings.ACTION_LOCATION_SOURCE_SETTINGS));\r\n                            }\r\n                        })\r\n                        .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(final DialogInterface dialog, final int id) {\r\n                                Toast.makeText(MainActivity.this, &quot;You have to enable your GPS for using Bluetooth!&quot;, Toast.LENGTH_SHORT).show();\r\n                                dialog.cancel();\r\n    \r\n                            }\r\n                        });\r\n                final AlertDialog alert = builder.create();\r\n                alert.show();\r\n                alreadyExecuted = true;\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            myBluetoothAdapter =BluetoothAdapter.getDefaultAdapter();\r\n            Button scanningBtn = findViewById(R.id.scanningBtn);\r\n            ListView listView = findViewById(R.id.listView);\r\n            LocationManager lm = (LocationManager)getApplicationContext().getSystemService(Context.LOCATION_SERVICE);\r\n            boolean gps_enabled = false;\r\n            boolean network_enabled = false;\r\n            PulsatorLayout pulsator = findViewById(R.id.pulsator);\r\n            TextView myLabel = findViewById(R.id.myLabel);\r\n    \r\n    \r\n    \r\n            if(myBluetoothAdapter == null) \r\n            {\r\n                Toast.makeText(this, &quot;Bluetooth Is Not Available on this Device!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else\r\n            {\r\n                if(!myBluetoothAdapter.isEnabled()) \r\n                {\r\n                    //later\r\n                }\r\n                else\r\n                {\r\n                    if(myBluetoothAdapter.isEnabled() &amp;&amp; !myBluetoothAdapter.isDiscovering())\r\n                    {\r\n                        Intent intent = new Intent ( BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\r\n                        startActivityForResult(intent,1);\r\n    \r\n    \r\n                        statusCheck();\r\n                        try {\r\n                            gps_enabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);\r\n                        }\r\n                        catch(Exception ex) {}\r\n    \r\n                        try {\r\n                            network_enabled = lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\r\n                        }\r\n                        catch(Exception ex) {}\r\n                        if(!gps_enabled) {\r\n                            buildAlertMessageNoGps();\r\n                        }\r\n                        getLocationPermission();\r\n    \r\n                        BroadcastReceiver myReceiver = new BroadcastReceiver() {\r\n                            @SuppressLint(&quot;MissingPermission&quot;)\r\n                            @Override\r\n                            public void onReceive(Context context, Intent intent) {\r\n                                String action = intent.getAction();\r\n                                if(BluetoothDevice.ACTION_FOUND.equals(action))\r\n                                {\r\n                                    BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n    \r\n                                    if(!stringArrayList.contains(&quot;Device : &quot;+device.getName())) {\r\n                                        stringArrayList.add(&quot;Device : &quot; + device.getName());\r\n                                        if(!alreadyExecuted2)\r\n                                        {if (device.getName().equals(&quot;ESP32&quot;)) {\r\n                                            mmDevice = device;\r\n                                            alreadyExecuted2=true;\r\n                                        }}\r\n    \r\n                                        arrayAdapter.notifyDataSetChanged();\r\n                                    }\r\n                                }\r\n                            }\r\n                        };\r\n    \r\n    \r\n    \r\n                        scanningBtn.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                //scanningBtn.setEnabled(false);\r\n                                pulsator.start();\r\n                                myBluetoothAdapter.startDiscovery();\r\n                                if(mmDevice!=null)\r\n                                {\r\n                                    try {\r\n                                        connectAndTransferDataBT(mmDevice);\r\n    \r\n                                    } catch (IOException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                }\r\n    \r\n                            }\r\n                        });\r\n    \r\n                        IntentFilter intentFilter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n                        registerReceiver(myReceiver,intentFilter);\r\n    \r\n    \r\n    \r\n    \r\n                        arrayAdapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_list_item_1,stringArrayList);\r\n                        listView.setAdapter(arrayAdapter);\r\n                        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                            @Override\r\n                            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                                String s = listView.getItemAtPosition(position).toString();\r\n                                Toast.makeText(getApplicationContext(),s,Toast.LENGTH_LONG).show();\r\n                                try {\r\n                                    Thread.sleep(1000);\r\n                                } catch (InterruptedException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                                //startActivity(new Intent(MainActivity.this,MainScreenActivity.class));\r\n                            }\r\n    \r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nxml code\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;ScrollView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/imageView3&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;140dp&quot;\r\n                        android:layout_marginTop=&quot;25dp&quot;\r\n                         /&gt;\r\n    \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/scanningBtn&quot;\r\n                        android:layout_width=&quot;140dp&quot;\r\n                        android:layout_height=&quot;50dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginTop=&quot;25dp&quot;\r\n                        android:layout_marginBottom=&quot;17dp&quot;\r\n                        android:text=&quot;SCAN&quot; /&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/myLabel&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;TextView&quot; /&gt;\r\n    \r\n                    &lt;pl.bclogic.pulsator4droid.library.PulsatorLayout\r\n                        android:id=&quot;@+id/pulsator&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;150dp&quot;\r\n                        app:pulse_count=&quot;4&quot;\r\n                        app:pulse_duration=&quot;3000&quot;\r\n                        app:pulse_interpolator=&quot;Accelerate&quot;\r\n                        android:layout_marginBottom=&quot;17dp&quot;\r\n                        app:pulse_repeat=&quot;0&quot;\r\n                        app:pulse_startFromScratch=&quot;false&quot; /&gt;\r\n    \r\n                    &lt;ListView\r\n                        android:id=&quot;@+id/listView&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;530dp&quot;\r\n                        android:background=&quot;@color/white&quot;\r\n                        android:cacheColorHint=&quot;#FBF8F8&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/ScrollView&gt;\r\n    \r\n        &lt;/LinearLayout&gt;&lt;![CDATA[\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        /&gt;\r\n    \r\n    \r\n    ]]&gt;\r\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\nand arduino code from examples BLE_notify\r\n\r\n        /*\r\n        Video: https://www.youtube.com/watch?v=oCMOYS71NIU\r\n        Based on Neil Kolban example for IDF: https://github.com/nkolban/esp32- \r\n        snippets/blob/master/cpp_utils/tests/BLE%20Tests/SampleNotify.cpp\r\n        Ported to Arduino ESP32 by Evandro Copercini\r\n        updated by chegewara\r\n    \r\n        Create a BLE server that, once we receive a connection, will send periodic \r\n        notifications.\r\n        The service advertises itself as: 4fafc201-1fb5-459e-8fcc-c5c9c331914b\r\n        And has a characteristic of: beb5483e-36e1-4688-b7f5-ea07361b26a8\r\n    \r\n        The design of creating the BLE server is:\r\n        1. Create a BLE Server\r\n        2. Create a BLE Service\r\n        3. Create a BLE Characteristic on the Service\r\n        4. Create a BLE Descriptor on the characteristic\r\n        5. Start the service.\r\n        6. Start advertising.\r\n    \r\n        A connect hander associated with the server starts a background task that performs \r\n        notification\r\n        every couple of seconds.\r\n        */\r\n        #include &lt;BLEDevice.h&gt;\r\n        #include &lt;BLEServer.h&gt;\r\n        #include &lt;BLEUtils.h&gt;\r\n        #include &lt;BLE2902.h&gt;\r\n    \r\n        BLEServer* pServer = NULL;\r\n        BLECharacteristic* pCharacteristic = NULL;\r\n        bool deviceConnected = false;\r\n        bool oldDeviceConnected = false;\r\n        uint32_t value = 0;\r\n    \r\n        // See the following for generating UUIDs:\r\n        // https://www.uuidgenerator.net/\r\n    \r\n        #define SERVICE_UUID        &quot;4fafc201-1fb5-459e-8fcc-c5c9c331914b&quot;\r\n        #define CHARACTERISTIC_UUID &quot;beb5483e-36e1-4688-b7f5-ea07361b26a8&quot;\r\n    \r\n    \r\n        class MyServerCallbacks: public BLEServerCallbacks {\r\n        void onConnect(BLEServer* pServer) {\r\n          deviceConnected = true;\r\n        };\r\n    \r\n        void onDisconnect(BLEServer* pServer) {\r\n          deviceConnected = false;\r\n        }\r\n        };\r\n    \r\n    \r\n    \r\n      void setup() {\r\n      Serial.begin(115200);\r\n    \r\n      // Create the BLE Device\r\n      BLEDevice::init(&quot;ESP32&quot;);\r\n    \r\n      // Create the BLE Server\r\n      pServer = BLEDevice::createServer();\r\n      pServer-&gt;setCallbacks(new MyServerCallbacks());\r\n    \r\n      // Create the BLE Service\r\n      BLEService *pService = pServer-&gt;createService(SERVICE_UUID);\r\n    \r\n      // Create a BLE Characteristic\r\n      pCharacteristic = pService-&gt;createCharacteristic(\r\n                          CHARACTERISTIC_UUID,\r\n                          BLECharacteristic::PROPERTY_READ   |\r\n                          BLECharacteristic::PROPERTY_WRITE  |\r\n                          BLECharacteristic::PROPERTY_NOTIFY |\r\n                          BLECharacteristic::PROPERTY_INDICATE\r\n                        );\r\n    \r\n       // https://www.bluetooth.com/specifications/gatt/viewer? \r\n       attributeXmlFile=org.bluetooth.descriptor.gatt.client_characteristic_configuration.xml\r\n       // Create a BLE Descriptor\r\n       pCharacteristic-&gt;addDescriptor(new BLE2902());\r\n    \r\n       // Start the service\r\n       pService-&gt;start();\r\n    \r\n       // Start advertising\r\n       BLEAdvertising *pAdvertising = BLEDevice::getAdvertising();\r\n       pAdvertising-&gt;addServiceUUID(SERVICE_UUID);\r\n       pAdvertising-&gt;setScanResponse(false);\r\n       pAdvertising-&gt;setMinPreferred(0x0);  // set value to 0x00 to not advertise this parameter\r\n       BLEDevice::startAdvertising();\r\n       Serial.println(&quot;Waiting a client connection to notify...&quot;);\r\n       }\r\n    \r\n       void loop() {\r\n        \r\n        if (deviceConnected) {\r\n            \r\n            float temp = 25.5;\r\n            char send[8];\r\n            dtostrf(temp,2,1,send);\r\n          \r\n            pCharacteristic-&gt;setValue((uint8_t*)&amp;send, 4);\r\n            pCharacteristic-&gt;notify();\r\n            value++;\r\n            delay(1000); // bluetooth stack will go into congestion, if too many packets are \r\n        sent, in 6 hours test i was able to go as low as 3ms\r\n        }\r\n        // disconnecting\r\n        if (!deviceConnected &amp;&amp; oldDeviceConnected) {\r\n            delay(500); // give the bluetooth stack the chance to get things ready\r\n            pServer-&gt;startAdvertising(); // restart advertising\r\n            Serial.println(&quot;start advertising&quot;);\r\n            oldDeviceConnected = deviceConnected;\r\n         }\r\n         // connecting\r\n         if (deviceConnected &amp;&amp; !oldDeviceConnected) {\r\n            // do stuff here on connecting\r\n            oldDeviceConnected = deviceConnected;\r\n         }\r\n         }\r\n\r\n\r\n\r\n","title":"Reading values from Arduino IDE in Android Studio(java) ? There is no mistake as I can see but ıt doesn&#39;t work","body":"<p>Have a healthy day. As I mentioned in title, I want to read values from Arduino IDE (ESP32) . I ınstall nRF Connect mobile app because ı want to check if ı'm getting value correctly or not . I got true value.Then I write an android studio code as a beginner and from tutorials ofc. It's pairing devices and then if its name ESP32, ı wanna communicate it with arduiono but ı m getting empty array.After watching tutorials and reading stackoverflow posts ı ve decided to ask for help here. I will be glad if you help me. Thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/uCUi3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uCUi3.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>    import android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothServerSocket;\nimport android.bluetooth.BluetoothSocket;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.location.LocationManager;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.os.Message;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.UUID;\n\nimport pl.bclogic.pulsator4droid.library.PulsatorLayout;\n\npublic class MainActivity extends AppCompatActivity {\n\n    BluetoothAdapter myBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    ArrayAdapter&lt;String&gt; arrayAdapter;\n    ArrayList&lt;String&gt; stringArrayList = new ArrayList&lt;String&gt;();\n    private boolean alreadyExecuted = false;\n    private boolean alreadyExecuted2=false;\n    BluetoothSocket mmSocket;\n    BluetoothServerSocket mmServerSocket;\n    BluetoothDevice mmDevice;\n    OutputStream mmOutputStream;\n    InputStream mmInputStream;\n    Thread workerThread;\n    TextView myLabel;\n\n\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void connectAndTransferDataBT(BluetoothDevice mmDevice)  throws IOException{\n\n        BluetoothSocket tmp = null;\n        InputStream tmpIn = null;\n        OutputStream tmpOut = null;\n        Handler handler = new Handler();\n        UUID uuid = UUID.fromString(&quot;4fafc201-1fb5-459e-8fcc-c5c9c331914b&quot;);\n\n\n        try {\n            tmp  = mmDevice.createRfcommSocketToServiceRecord(uuid);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        mmSocket = tmp;\n        try {\n            mmSocket.connect();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n\n            tmpIn = mmSocket.getInputStream();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n\n            tmpOut = mmSocket.getOutputStream();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        mmInputStream = tmpIn;\n        mmOutputStream = tmpOut;\n\n        byte [] mmBuffer = new byte[1024];\n        int numBytes; // bytes returned from read()\n\n        assert mmInputStream != null;\n        numBytes = mmInputStream.read(mmBuffer);\n\n\n    };\n    private void getLocationPermission()\n    {\n        ActivityResultLauncher&lt;String[]&gt; locationPermissionRequest =\n                registerForActivityResult(new ActivityResultContracts\n                                .RequestMultiplePermissions(), result -&gt; {\n                            Boolean fineLocationGranted = result.getOrDefault(\n                                    Manifest.permission.ACCESS_FINE_LOCATION, false);\n                            Boolean coarseLocationGranted = result.getOrDefault(\n                                    Manifest.permission.ACCESS_COARSE_LOCATION,false);\n                            if (fineLocationGranted != null &amp;&amp; fineLocationGranted) {\n                            } else if (coarseLocationGranted != null &amp;&amp; coarseLocationGranted)\n                            {\n                            } else \n                            {\n                            }\n                        }\n                );\n        locationPermissionRequest.launch(new String[] {\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION\n        });\n    }\n    public void statusCheck() {\n        final LocationManager manager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n\n        if (!manager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n            buildAlertMessageNoGps();\n        }\n    }\n    private void buildAlertMessageNoGps() {\n\n        if(!alreadyExecuted) {\n            final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setMessage(&quot;Your GPS seems to be disabled, do you want to enable it?&quot;)\n                    .setCancelable(false)\n                    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                        public void onClick(final DialogInterface dialog, final int id) {\n                            startActivity(new Intent(android.provider.Settings.ACTION_LOCATION_SOURCE_SETTINGS));\n                        }\n                    })\n                    .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                        public void onClick(final DialogInterface dialog, final int id) {\n                            Toast.makeText(MainActivity.this, &quot;You have to enable your GPS for using Bluetooth!&quot;, Toast.LENGTH_SHORT).show();\n                            dialog.cancel();\n\n                        }\n                    });\n            final AlertDialog alert = builder.create();\n            alert.show();\n            alreadyExecuted = true;\n\n        }\n\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        myBluetoothAdapter =BluetoothAdapter.getDefaultAdapter();\n        Button scanningBtn = findViewById(R.id.scanningBtn);\n        ListView listView = findViewById(R.id.listView);\n        LocationManager lm = (LocationManager)getApplicationContext().getSystemService(Context.LOCATION_SERVICE);\n        boolean gps_enabled = false;\n        boolean network_enabled = false;\n        PulsatorLayout pulsator = findViewById(R.id.pulsator);\n        TextView myLabel = findViewById(R.id.myLabel);\n\n\n\n        if(myBluetoothAdapter == null) \n        {\n            Toast.makeText(this, &quot;Bluetooth Is Not Available on this Device!&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else\n        {\n            if(!myBluetoothAdapter.isEnabled()) \n            {\n                //later\n            }\n            else\n            {\n                if(myBluetoothAdapter.isEnabled() &amp;&amp; !myBluetoothAdapter.isDiscovering())\n                {\n                    Intent intent = new Intent ( BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\n                    startActivityForResult(intent,1);\n\n\n                    statusCheck();\n                    try {\n                        gps_enabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);\n                    }\n                    catch(Exception ex) {}\n\n                    try {\n                        network_enabled = lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\n                    }\n                    catch(Exception ex) {}\n                    if(!gps_enabled) {\n                        buildAlertMessageNoGps();\n                    }\n                    getLocationPermission();\n\n                    BroadcastReceiver myReceiver = new BroadcastReceiver() {\n                        @SuppressLint(&quot;MissingPermission&quot;)\n                        @Override\n                        public void onReceive(Context context, Intent intent) {\n                            String action = intent.getAction();\n                            if(BluetoothDevice.ACTION_FOUND.equals(action))\n                            {\n                                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n\n                                if(!stringArrayList.contains(&quot;Device : &quot;+device.getName())) {\n                                    stringArrayList.add(&quot;Device : &quot; + device.getName());\n                                    if(!alreadyExecuted2)\n                                    {if (device.getName().equals(&quot;ESP32&quot;)) {\n                                        mmDevice = device;\n                                        alreadyExecuted2=true;\n                                    }}\n\n                                    arrayAdapter.notifyDataSetChanged();\n                                }\n                            }\n                        }\n                    };\n\n\n\n                    scanningBtn.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            //scanningBtn.setEnabled(false);\n                            pulsator.start();\n                            myBluetoothAdapter.startDiscovery();\n                            if(mmDevice!=null)\n                            {\n                                try {\n                                    connectAndTransferDataBT(mmDevice);\n\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n\n                        }\n                    });\n\n                    IntentFilter intentFilter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n                    registerReceiver(myReceiver,intentFilter);\n\n\n\n\n                    arrayAdapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_list_item_1,stringArrayList);\n                    listView.setAdapter(arrayAdapter);\n                    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n                        @Override\n                        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                            String s = listView.getItemAtPosition(position).toString();\n                            Toast.makeText(getApplicationContext(),s,Toast.LENGTH_LONG).show();\n                            try {\n                                Thread.sleep(1000);\n                            } catch (InterruptedException e) {\n                                e.printStackTrace();\n                            }\n                            //startActivity(new Intent(MainActivity.this,MainScreenActivity.class));\n                        }\n\n                    });\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>xml code</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.appcompat.widget.LinearLayoutCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;ScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot; &gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView3&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;140dp&quot;\n                    android:layout_marginTop=&quot;25dp&quot;\n                     /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/scanningBtn&quot;\n                    android:layout_width=&quot;140dp&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginTop=&quot;25dp&quot;\n                    android:layout_marginBottom=&quot;17dp&quot;\n                    android:text=&quot;SCAN&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/myLabel&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;TextView&quot; /&gt;\n\n                &lt;pl.bclogic.pulsator4droid.library.PulsatorLayout\n                    android:id=&quot;@+id/pulsator&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;150dp&quot;\n                    app:pulse_count=&quot;4&quot;\n                    app:pulse_duration=&quot;3000&quot;\n                    app:pulse_interpolator=&quot;Accelerate&quot;\n                    android:layout_marginBottom=&quot;17dp&quot;\n                    app:pulse_repeat=&quot;0&quot;\n                    app:pulse_startFromScratch=&quot;false&quot; /&gt;\n\n                &lt;ListView\n                    android:id=&quot;@+id/listView&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;530dp&quot;\n                    android:background=&quot;@color/white&quot;\n                    android:cacheColorHint=&quot;#FBF8F8&quot; /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/ScrollView&gt;\n\n    &lt;/LinearLayout&gt;&lt;![CDATA[\n\n\n\n\n\n\n    /&gt;\n\n\n]]&gt;\n&lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n</code></pre>\n<p>and arduino code from examples BLE_notify</p>\n<pre><code>    /*\n    Video: https://www.youtube.com/watch?v=oCMOYS71NIU\n    Based on Neil Kolban example for IDF: https://github.com/nkolban/esp32- \n    snippets/blob/master/cpp_utils/tests/BLE%20Tests/SampleNotify.cpp\n    Ported to Arduino ESP32 by Evandro Copercini\n    updated by chegewara\n\n    Create a BLE server that, once we receive a connection, will send periodic \n    notifications.\n    The service advertises itself as: 4fafc201-1fb5-459e-8fcc-c5c9c331914b\n    And has a characteristic of: beb5483e-36e1-4688-b7f5-ea07361b26a8\n\n    The design of creating the BLE server is:\n    1. Create a BLE Server\n    2. Create a BLE Service\n    3. Create a BLE Characteristic on the Service\n    4. Create a BLE Descriptor on the characteristic\n    5. Start the service.\n    6. Start advertising.\n\n    A connect hander associated with the server starts a background task that performs \n    notification\n    every couple of seconds.\n    */\n    #include &lt;BLEDevice.h&gt;\n    #include &lt;BLEServer.h&gt;\n    #include &lt;BLEUtils.h&gt;\n    #include &lt;BLE2902.h&gt;\n\n    BLEServer* pServer = NULL;\n    BLECharacteristic* pCharacteristic = NULL;\n    bool deviceConnected = false;\n    bool oldDeviceConnected = false;\n    uint32_t value = 0;\n\n    // See the following for generating UUIDs:\n    // https://www.uuidgenerator.net/\n\n    #define SERVICE_UUID        &quot;4fafc201-1fb5-459e-8fcc-c5c9c331914b&quot;\n    #define CHARACTERISTIC_UUID &quot;beb5483e-36e1-4688-b7f5-ea07361b26a8&quot;\n\n\n    class MyServerCallbacks: public BLEServerCallbacks {\n    void onConnect(BLEServer* pServer) {\n      deviceConnected = true;\n    };\n\n    void onDisconnect(BLEServer* pServer) {\n      deviceConnected = false;\n    }\n    };\n\n\n\n  void setup() {\n  Serial.begin(115200);\n\n  // Create the BLE Device\n  BLEDevice::init(&quot;ESP32&quot;);\n\n  // Create the BLE Server\n  pServer = BLEDevice::createServer();\n  pServer-&gt;setCallbacks(new MyServerCallbacks());\n\n  // Create the BLE Service\n  BLEService *pService = pServer-&gt;createService(SERVICE_UUID);\n\n  // Create a BLE Characteristic\n  pCharacteristic = pService-&gt;createCharacteristic(\n                      CHARACTERISTIC_UUID,\n                      BLECharacteristic::PROPERTY_READ   |\n                      BLECharacteristic::PROPERTY_WRITE  |\n                      BLECharacteristic::PROPERTY_NOTIFY |\n                      BLECharacteristic::PROPERTY_INDICATE\n                    );\n\n   // https://www.bluetooth.com/specifications/gatt/viewer? \n   attributeXmlFile=org.bluetooth.descriptor.gatt.client_characteristic_configuration.xml\n   // Create a BLE Descriptor\n   pCharacteristic-&gt;addDescriptor(new BLE2902());\n\n   // Start the service\n   pService-&gt;start();\n\n   // Start advertising\n   BLEAdvertising *pAdvertising = BLEDevice::getAdvertising();\n   pAdvertising-&gt;addServiceUUID(SERVICE_UUID);\n   pAdvertising-&gt;setScanResponse(false);\n   pAdvertising-&gt;setMinPreferred(0x0);  // set value to 0x00 to not advertise this parameter\n   BLEDevice::startAdvertising();\n   Serial.println(&quot;Waiting a client connection to notify...&quot;);\n   }\n\n   void loop() {\n    \n    if (deviceConnected) {\n        \n        float temp = 25.5;\n        char send[8];\n        dtostrf(temp,2,1,send);\n      \n        pCharacteristic-&gt;setValue((uint8_t*)&amp;send, 4);\n        pCharacteristic-&gt;notify();\n        value++;\n        delay(1000); // bluetooth stack will go into congestion, if too many packets are \n    sent, in 6 hours test i was able to go as low as 3ms\n    }\n    // disconnecting\n    if (!deviceConnected &amp;&amp; oldDeviceConnected) {\n        delay(500); // give the bluetooth stack the chance to get things ready\n        pServer-&gt;startAdvertising(); // restart advertising\n        Serial.println(&quot;start advertising&quot;);\n        oldDeviceConnected = deviceConnected;\n     }\n     // connecting\n     if (deviceConnected &amp;&amp; !oldDeviceConnected) {\n        // do stuff here on connecting\n        oldDeviceConnected = deviceConnected;\n     }\n     }\n</code></pre>\n"},{"tags":["java","mysql","json"],"comments":[{"owner":{"account_id":517669,"reputation":186,"user_id":6204676,"display_name":"SanF"},"score":0,"creation_date":1463060374,"post_id":37188086,"comment_id":61909889,"body_markdown":"A few questions: is the column a varchar or a blob? are you trying to store a binary or a base64 representation of the emoji? Can you provide the piece of code when you call Hibernate? and maybe a data sample?","body":"A few questions: is the column a varchar or a blob? are you trying to store a binary or a base64 representation of the emoji? Can you provide the piece of code when you call Hibernate? and maybe a data sample?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1463064092,"post_id":37188086,"comment_id":61913112,"body_markdown":"You also need to tell the MySQL driver to use Unicode unfortunately. In the connection string, google it. A box could also be a font without that emoji character.","body":"You also need to tell the MySQL driver to use Unicode unfortunately. In the connection string, google it. A box could also be a font without that emoji character."},{"owner":{"account_id":8429334,"reputation":71,"user_id":6325615,"display_name":"user6325615"},"score":0,"creation_date":1463123853,"post_id":37188086,"comment_id":61938823,"body_markdown":"yes the column is text type and storing string data only , i m using simple jdbc insert @sanF","body":"yes the column is text type and storing string data only , i m using simple jdbc insert @sanF"},{"owner":{"account_id":517669,"reputation":186,"user_id":6204676,"display_name":"SanF"},"score":0,"creation_date":1463147073,"post_id":37188086,"comment_id":61954430,"body_markdown":"Did you change the collate of the column as well? I saw other similar posts where they solved it changing the collate to `utf8mb4_general_ci`. Maybe that works.","body":"Did you change the collate of the column as well? I saw other similar posts where they solved it changing the collate to <code>utf8mb4_general_ci</code>. Maybe that works."},{"owner":{"account_id":8429334,"reputation":71,"user_id":6325615,"display_name":"user6325615"},"score":0,"creation_date":1463638844,"post_id":37188086,"comment_id":62150704,"body_markdown":"yes i have changed the collate of table and the columns as well still i am getting logs like this \n11:48:44,027 ERROR SqlExceptionHelper:146 - Incorrect string value: &#39;\\xF0\\x9F\\x91\\x8D\\xF0\\x9F...&#39; for column &#39;comment&#39; \nand getting [?][?][?] instead of emojis \n@SanF","body":"yes i have changed the collate of table and the columns as well still i am getting logs like this  11:48:44,027 ERROR SqlExceptionHelper:146 - Incorrect string value: &#39;\\xF0\\x9F\\x91\\x8D\\xF0\\x9F...&#39; for column &#39;comment&#39;  and getting [?][?][?] instead of emojis  @SanF"},{"owner":{"account_id":8429334,"reputation":71,"user_id":6325615,"display_name":"user6325615"},"score":0,"creation_date":1463639155,"post_id":37188086,"comment_id":62150822,"body_markdown":"i have changed hibernate now instead of JDBC and  did changes in configuration \nsetProperty(&quot;hibernate.connection.CharSet&quot;,&quot;utf8mb4&quot;);\n\t\t\t\tsetProperty(&quot;hibernate.connection.characterEncoding&quot;,&quot;utf8&quot;);\n\t\t\t\tsetProperty(&quot;hibernate.connection.useUnicode&quot;,&quot;true&quot;);\n\nnone of the solution is working...","body":"i have changed hibernate now instead of JDBC and  did changes in configuration  setProperty(&quot;hibernate.connection.CharSet&quot;,&quot;utf8mb4&quot;); \t\t\t\tsetProperty(&quot;hibernate.connection.characterEncoding&quot;,&quot;ut&zwnj;&#8203;f8&quot;); \t\t\t\tsetProperty(&quot;hibernate.connection.useUnicode&quot;,&quot;true&quot;);  none of the solution is working..."}],"answers":[{"tags":[],"owner":{"account_id":3991176,"reputation":3576,"user_id":3290062,"display_name":"ΔO &#39;delta zero&#39;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592921274,"creation_date":1592921274,"answer_id":62536679,"question_id":37188086,"body_markdown":"I believe you need to use `utf8mb4` encoding instead of `utf8` (synonym for `utf8mb3`) both as the storage encoding (server side) and all the connections&#39; encoding (clients&#39; side).","title":"Storing emoji&#39;s in MySQL getting incorrect String value error","body":"<p>I believe you need to use <code>utf8mb4</code> encoding instead of <code>utf8</code> (synonym for <code>utf8mb3</code>) both as the storage encoding (server side) and all the connections' encoding (clients' side).</p>\n"},{"tags":[],"owner":{"account_id":9548569,"reputation":926,"user_id":7093519,"display_name":"Nyi Nyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606636284,"creation_date":1606636284,"answer_id":65058043,"question_id":37188086,"body_markdown":"THIS WORK FOR ME!\r\n\r\nChange your character set of your table to `utf8mb4` and collation to `utf8mb4_unicode_ci`. Lastly, change data type of your column you want to store emoji to `blob` or `longblob`.\r\n","title":"Storing emoji&#39;s in MySQL getting incorrect String value error","body":"<p>THIS WORK FOR ME!</p>\n<p>Change your character set of your table to <code>utf8mb4</code> and collation to <code>utf8mb4_unicode_ci</code>. Lastly, change data type of your column you want to store emoji to <code>blob</code> or <code>longblob</code>.</p>\n"},{"tags":[],"owner":{"account_id":18222621,"reputation":191,"user_id":14177243,"display_name":"Avnish Jayaswal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1645166911,"creation_date":1645153300,"answer_id":71167928,"question_id":37188086,"body_markdown":"Please, follow these steps. \r\n\r\n1) Database: Change Database default collation as utf8mb4.\r\n\r\n2) Table: Change table collation as CHARACTER SET utf8mb4 COLLATE utf8mb4_bin.\r\n\r\nHow to alter Table\r\n```\r\nALTER TABLE Table CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_bin\r\n```\r\nSQLCopy\r\n\r\n3) Set utf8mb4 in database connection:\r\n\r\n```\r\n  $database_connection = new mysqli($server, $user, $password, $database);\r\n \r\n  $database_connection-&gt;set_charset(&#39;utf8mb4&#39;);\r\n\r\n```\r\n","title":"Storing emoji&#39;s in MySQL getting incorrect String value error","body":"<p>Please, follow these steps.</p>\n<ol>\n<li><p>Database: Change Database default collation as utf8mb4.</p>\n</li>\n<li><p>Table: Change table collation as CHARACTER SET utf8mb4 COLLATE utf8mb4_bin.</p>\n</li>\n</ol>\n<p>How to alter Table</p>\n<pre><code>ALTER TABLE Table CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_bin\n</code></pre>\n<p>SQLCopy</p>\n<ol start=\"3\">\n<li>Set utf8mb4 in database connection:</li>\n</ol>\n<pre><code>  $database_connection = new mysqli($server, $user, $password, $database);\n \n  $database_connection-&gt;set_charset('utf8mb4');\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660285776,"creation_date":1660285776,"answer_id":73330044,"question_id":37188086,"body_markdown":"If you are facing a similar issue in java and don&#39;t have the flexibility to change the charset and collate encoding of the database or that&#39;s not working for you, then this answer is for you.\r\n\r\nyou can use the [Emoji Java][1] library to achieve the same. You can convert into alias before saving/updating into database and convert back to unicode post save/update/load from database. The main benefit is readability of the text even after the encoding because this library only alias the emoji&#39;s rather than whole string.\r\n\r\n\r\n  [1]: https://github.com/vdurmont/emoji-java","title":"Storing emoji&#39;s in MySQL getting incorrect String value error","body":"<p>If you are facing a similar issue in java and don't have the flexibility to change the charset and collate encoding of the database or that's not working for you, then this answer is for you.</p>\n<p>you can use the <a href=\"https://github.com/vdurmont/emoji-java\" rel=\"nofollow noreferrer\">Emoji Java</a> library to achieve the same. You can convert into alias before saving/updating into database and convert back to unicode post save/update/load from database. The main benefit is readability of the text even after the encoding because this library only alias the emoji's rather than whole string.</p>\n"}],"owner":{"account_id":8429334,"reputation":71,"user_id":6325615,"display_name":"user6325615"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6990,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1660285776,"creation_date":1463058924,"question_id":37188086,"body_markdown":"I am storing data which contains emoji&#39;s the data is coming in the json form so when I retrieve it comes like \r\n\r\n&gt; **&quot;Giggs&#39;ern har v&#230;rt &#229; koset seg igjen(square bracket) Dette er en fillesak&quot;**\r\n\r\nwhen I store it into MySQL I got this error: \r\n\r\n&gt; 2016-05-0213:12:45.582 [ERROR] pool-1-thread-1 org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Incorrect string\r\n&gt; value: `&#39;\\xF0\\x9F\\x98\\x8A\\x0A&lt;...&#39;` for column `&#39;comment&#39;` at row 1\r\n\r\nI have changed the \r\nMySQL database encoding to `utf8mb4` but it did not solve the problem.","title":"Storing emoji&#39;s in MySQL getting incorrect String value error","body":"<p>I am storing data which contains emoji's the data is coming in the json form so when I retrieve it comes like </p>\n\n<blockquote>\n  <p><strong>\"Giggs'ern har vært å koset seg igjen(square bracket) Dette er en fillesak\"</strong></p>\n</blockquote>\n\n<p>when I store it into MySQL I got this error: </p>\n\n<blockquote>\n  <p>2016-05-0213:12:45.582 [ERROR] pool-1-thread-1 org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Incorrect string\n  value: <code>'\\xF0\\x9F\\x98\\x8A\\x0A&lt;...'</code> for column <code>'comment'</code> at row 1</p>\n</blockquote>\n\n<p>I have changed the \nMySQL database encoding to <code>utf8mb4</code> but it did not solve the problem.</p>\n"},{"tags":["java","maven","module","compilation","dependencies"],"comments":[{"owner":{"account_id":5145435,"reputation":4720,"user_id":4121573,"accept_rate":100,"display_name":"Adonis"},"score":0,"creation_date":1491330641,"post_id":43214715,"comment_id":73501533,"body_markdown":"Could you print the debug output (containing the error) with the `X` switch","body":"Could you print the debug output (containing the error) with the <code>X</code> switch"},{"owner":{"account_id":3602914,"reputation":690,"user_id":3005856,"display_name":"cristianorbs"},"score":0,"creation_date":1491331727,"post_id":43214715,"comment_id":73502145,"body_markdown":"I can&#39;t paste the whole output because of some names that the company doesn&#39;t allow me to make public. I&#39;m editing the question with the error that is gives. When I run with the -X I see the jar that I need in the classpath, the Java and Maven version are alright and it goes as expected since the compilation error","body":"I can&#39;t paste the whole output because of some names that the company doesn&#39;t allow me to make public. I&#39;m editing the question with the error that is gives. When I run with the -X I see the jar that I need in the classpath, the Java and Maven version are alright and it goes as expected since the compilation error"},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":1,"creation_date":1491336377,"post_id":43214715,"comment_id":73504673,"body_markdown":"FWIW, it should be possible to upgrade both Java and Maven for builds and use old Java for runtime. You just need to ensure that the Java source and target are configured to 1.6 in your POMs, You can do this manually via configuring individual plugins (Compiler, Surefire, etc.) or by using Toolchains. If you&#39;re concerned about new Java stuff sneaking in, use the animal-sniffer plugin and/or maven-enforcer to break the build if newer classes are used.","body":"FWIW, it should be possible to upgrade both Java and Maven for builds and use old Java for runtime. You just need to ensure that the Java source and target are configured to 1.6 in your POMs, You can do this manually via configuring individual plugins (Compiler, Surefire, etc.) or by using Toolchains. If you&#39;re concerned about new Java stuff sneaking in, use the animal-sniffer plugin and/or maven-enforcer to break the build if newer classes are used."},{"owner":{"account_id":1002869,"reputation":391,"user_id":1017333,"accept_rate":78,"display_name":"bitsmcgee77"},"score":0,"creation_date":1491948314,"post_id":43214715,"comment_id":73776978,"body_markdown":"Did you ever figure this out? I&#39;m having a similar project with a parent project with two children, child A depends on child B, and child A can&#39;t see child B&#39;s classes/packages.","body":"Did you ever figure this out? I&#39;m having a similar project with a parent project with two children, child A depends on child B, and child A can&#39;t see child B&#39;s classes/packages."},{"owner":{"account_id":3602914,"reputation":690,"user_id":3005856,"display_name":"cristianorbs"},"score":0,"creation_date":1491999598,"post_id":43214715,"comment_id":73800419,"body_markdown":"@bitsmcgee77 I couldn&#39;t figure it out yet. So I&#39;m using the (very bad) approach that I mentioned on update 2. It compiles and packages, but I got a dependency on Eclipse.","body":"@bitsmcgee77 I couldn&#39;t figure it out yet. So I&#39;m using the (very bad) approach that I mentioned on update 2. It compiles and packages, but I got a dependency on Eclipse."},{"owner":{"account_id":1002869,"reputation":391,"user_id":1017333,"accept_rate":78,"display_name":"bitsmcgee77"},"score":0,"creation_date":1492019908,"post_id":43214715,"comment_id":73815189,"body_markdown":"@cristianorbs I resolved my problem, maybe it helps you: http://stackoverflow.com/questions/43358016/spring-boot-maven-plugin-breaks-sibling-module-dependency","body":"@cristianorbs I resolved my problem, maybe it helps you: <a href=\"http://stackoverflow.com/questions/43358016/spring-boot-maven-plugin-breaks-sibling-module-dependency\" title=\"spring boot maven plugin breaks sibling module dependency\">stackoverflow.com/questions/43358016/&hellip;</a>"},{"owner":{"account_id":3602914,"reputation":690,"user_id":3005856,"display_name":"cristianorbs"},"score":0,"creation_date":1492699173,"post_id":43214715,"comment_id":74098727,"body_markdown":"@bitsmcgee77 I finally figured out the problem. Posted it as answer. Hope it fixes your problem as well. Just noticed your problem was different. Nevermind","body":"@bitsmcgee77 I finally figured out the problem. Posted it as answer. Hope it fixes your problem as well. Just noticed your problem was different. Nevermind"}],"answers":[{"tags":[],"owner":{"account_id":3602914,"reputation":690,"user_id":3005856,"display_name":"cristianorbs"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1492699122,"creation_date":1492699122,"answer_id":43522659,"question_id":43214715,"body_markdown":"Since I was running out of options, I followed what was suggested by @user944849 and **updated** Maven to version 3.3.9 and my JDK to 1.8.0_60, but kept source and target on the compiler configuration of the POM pointing to 1.6.\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;        \r\n      &lt;configuration&gt;\r\n         &lt;source&gt;1.6&lt;/source&gt;\r\n\t     &lt;target&gt;1.6&lt;/target&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter that, module 3 began to compile, but modules 4 and 5 broke due to dependencies on some JRockit libs. To fix that, I ended up updating the deprecated code and the project finally fully compiled.\r\n\r\nSo I believe there was a problem on the Maven version I was using. Somehow it seems to get lost when 2 projects depended on the same lib and one of them depended on the other. I haven&#39;t tested other versions, but the 3.3.9 works fine for these cases.","title":"Maven compilation error: package does not exist","body":"<p>Since I was running out of options, I followed what was suggested by @user944849 and <strong>updated</strong> Maven to version 3.3.9 and my JDK to 1.8.0_60, but kept source and target on the compiler configuration of the POM pointing to 1.6.</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;        \n  &lt;configuration&gt;\n     &lt;source&gt;1.6&lt;/source&gt;\n     &lt;target&gt;1.6&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After that, module 3 began to compile, but modules 4 and 5 broke due to dependencies on some JRockit libs. To fix that, I ended up updating the deprecated code and the project finally fully compiled.</p>\n\n<p>So I believe there was a problem on the Maven version I was using. Somehow it seems to get lost when 2 projects depended on the same lib and one of them depended on the other. I haven't tested other versions, but the 3.3.9 works fine for these cases.</p>\n"},{"tags":[],"owner":{"account_id":24008264,"reputation":21,"user_id":17992188,"display_name":"Bhakti Khot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660285696,"creation_date":1660285696,"answer_id":73330035,"question_id":43214715,"body_markdown":"I had the same issue, i build the project with clean install\r\nand selected : resolve workspace artifacts and the project build successfully.","title":"Maven compilation error: package does not exist","body":"<p>I had the same issue, i build the project with clean install\nand selected : resolve workspace artifacts and the project build successfully.</p>\n"}],"owner":{"account_id":3602914,"reputation":690,"user_id":3005856,"display_name":"cristianorbs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27589,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":43522659,"answer_count":2,"score":9,"last_activity_date":1660285696,"creation_date":1491329788,"question_id":43214715,"body_markdown":"I&#39;m trying to add maven support to an existing enterprise project. It is a multi-module project, and the first 2 modules compile and package without problems, but I&#39;m facing the Compilation Error I try to use the same dependency in more than one module.\r\nMy structure is:\r\n\r\n    &gt; + parent\r\n    &gt;    - pom.xml\r\n    &gt;    - module-1\r\n    &gt;    -   pom.xml\r\n    &gt;    - module-2  (Depends on module-1)\r\n    &gt;    -   pom.xml\r\n    &gt;    - module-3\r\n    &gt;    -   pom.xml (Depends on both modules 1 and 2)\r\n\r\nI&#39;m with the project opened on Eclipse and it shows no errors. When I run `mvn clean install` from the parent, it succesfully installs both module 1 and 2, but fails on module 3 saying that `package xxx.yyy does not exist` and `Cannot find symbol XXXYYY`. The package xxx.yyy and the symbol XXXYYY are inside a jar that is listed on the dependencies of both modules 2 and 3.\r\n\r\nSince both modules depende on same jar, I tried to add the dependency only on module 2 and I believe that module 3 should be seeing it because of transitive dependencies, but it couldn&#39;t see the package. So I tried to add the dependency to both module 2 and 3 poms and the problem persisted.\r\n\r\nI&#39;ve already checked/tried these:\r\n\r\n - The requested jar is listed in my dependecies. I&#39;ve ran the following command and after that I can see the required .jar file on the list of dependencies: `mvn dependency:copy-dependencies`\r\n - As I said above, I tried to put in my classpath through the transitive dependency and referencing it directly on my pom and both solutions didn&#39;t work\r\n - I tried to delete my whole repository and download everything again and also didn&#39;t work\r\n\r\nThe only particularity of my project is that module 3 depends on module 2 and depends on a lib that module 2 also depends.\r\n\r\nBelow I&#39;m pasting the poms from both module 2 and 3. I&#39;ve changed some names, because of company policy.\r\n\r\n**Module-2**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; ... &gt;  \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n    \t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;artifactId&gt;Module2&lt;/artifactId&gt;    \r\n      &lt;dependencies&gt;\r\n      \r\n    \t  &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;Module1&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t  &lt;/dependency&gt;\t  \t\t\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;SharedArtifact&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t &lt;/dependency&gt;\r\n\r\n        ...\r\n\r\n**Module-3**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; ... &gt;  \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n    \t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;artifactId&gt;Module3&lt;/artifactId&gt;    \r\n      &lt;dependencies&gt;\r\n      \r\n    \t  &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;Module2&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t  &lt;/dependency&gt;\t  \t\t\r\n    \r\n    \t&lt;!--&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;SharedArtifact&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t &lt;/dependency&gt;--&gt;\r\n\r\n        ...\r\n\r\n\r\nAnd the package that can&#39;t be seen is inside the &#39;SharedArtifact&#39;. When I remove the dependency from Module2, it doesn&#39;t gives the `package does not exist` error from the &#39;SharedArtifact&#39; package. But then it gives the `package does not exist` from the Module2 jar. \r\n\r\nIt looks like that somehow the dependencies are getting lost since the Module3 depends on them both.\r\n\r\nI&#39;m using **Java 1.6.0_29** and **Maven 3.0.5**. And I can&#39;t upgrade to Java 7, because the project needs Java 6. And can&#39;t upgrade Maven, cause upgraded Maven only works with java 7 and higher.\r\n\r\n***Update 1:***\r\n\r\nThe error given when I compile is the following:\r\n\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] \\Users\\usuario\\Documents\\workspaces\\myworkspace\\qa\\Module3\\src\\com\\company\\sharedartifact\\package\\SomeClass.java:[8,55] \r\n    package com.company.sharedartifact.package  does not exist\r\n    [ERROR] \\Users\\usuario\\Documents\\workspaces\\myworkspace\\qa\\Module3\\src\\com\\company\\sharedartifact\\package\\SomeClass.java:[9,55] \r\n    package com.company.sharedartifact.package does not exist\r\n    [ERROR] \\Users\\usuario\\Documents\\workspaces\\myworkspace\\qa\\Module3\\src\\com\\company\\sharedartifact\\package\\SomeClass.java:[17,85] \r\n    cannot find symbol\r\n    symbol  : class SomeOtherClass\r\n\r\n\r\nI can&#39;t paste the whole -X log because of company policy, but if some part is necessary, I can change some names.\r\n\r\n***Update 2:***\r\n\r\nToday I just figured out that if a run `mvn clean install`, it fails to compile. But if I run `mvn clean`, then (in Eclipse) I run `Maven Update project` and then `mvn install, it compiles!\r\n\r\nSince I found this, I&#39;ve already referred to [this question][1] and I believe that something is wrong with my classpath. As I&#39;m working with a Weblogic Portal application, I need to keep some Shared Libraries (those that are needed both by project and runtime) on Eclipse. Possibly some library is being forgotten on my pom. The weird thing is that the package that the compilation claims that doesn&#39;t exist, DOES exist.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15532534/maven-why-after-mvn-clean-i-need-to-execute-maven-update-project-before-m","title":"Maven compilation error: package does not exist","body":"<p>I'm trying to add maven support to an existing enterprise project. It is a multi-module project, and the first 2 modules compile and package without problems, but I'm facing the Compilation Error I try to use the same dependency in more than one module.\nMy structure is:</p>\n\n<pre><code>&gt; + parent\n&gt;    - pom.xml\n&gt;    - module-1\n&gt;    -   pom.xml\n&gt;    - module-2  (Depends on module-1)\n&gt;    -   pom.xml\n&gt;    - module-3\n&gt;    -   pom.xml (Depends on both modules 1 and 2)\n</code></pre>\n\n<p>I'm with the project opened on Eclipse and it shows no errors. When I run <code>mvn clean install</code> from the parent, it succesfully installs both module 1 and 2, but fails on module 3 saying that <code>package xxx.yyy does not exist</code> and <code>Cannot find symbol XXXYYY</code>. The package xxx.yyy and the symbol XXXYYY are inside a jar that is listed on the dependencies of both modules 2 and 3.</p>\n\n<p>Since both modules depende on same jar, I tried to add the dependency only on module 2 and I believe that module 3 should be seeing it because of transitive dependencies, but it couldn't see the package. So I tried to add the dependency to both module 2 and 3 poms and the problem persisted.</p>\n\n<p>I've already checked/tried these:</p>\n\n<ul>\n<li>The requested jar is listed in my dependecies. I've ran the following command and after that I can see the required .jar file on the list of dependencies: <code>mvn dependency:copy-dependencies</code></li>\n<li>As I said above, I tried to put in my classpath through the transitive dependency and referencing it directly on my pom and both solutions didn't work</li>\n<li>I tried to delete my whole repository and download everything again and also didn't work</li>\n</ul>\n\n<p>The only particularity of my project is that module 3 depends on module 2 and depends on a lib that module 2 also depends.</p>\n\n<p>Below I'm pasting the poms from both module 2 and 3. I've changed some names, because of company policy.</p>\n\n<p><strong>Module-2</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" ... &gt;  \n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;Module2&lt;/artifactId&gt;    \n  &lt;dependencies&gt;\n\n      &lt;dependency&gt;\n          &lt;groupId&gt;com.company&lt;/groupId&gt;\n          &lt;artifactId&gt;Module1&lt;/artifactId&gt;\n          &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;/dependency&gt;         \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.company&lt;/groupId&gt;\n        &lt;artifactId&gt;SharedArtifact&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n     &lt;/dependency&gt;\n\n    ...\n</code></pre>\n\n<p><strong>Module-3</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" ... &gt;  \n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;Module3&lt;/artifactId&gt;    \n  &lt;dependencies&gt;\n\n      &lt;dependency&gt;\n          &lt;groupId&gt;com.company&lt;/groupId&gt;\n          &lt;artifactId&gt;Module2&lt;/artifactId&gt;\n          &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;/dependency&gt;         \n\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;com.company&lt;/groupId&gt;\n        &lt;artifactId&gt;SharedArtifact&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n     &lt;/dependency&gt;--&gt;\n\n    ...\n</code></pre>\n\n<p>And the package that can't be seen is inside the 'SharedArtifact'. When I remove the dependency from Module2, it doesn't gives the <code>package does not exist</code> error from the 'SharedArtifact' package. But then it gives the <code>package does not exist</code> from the Module2 jar. </p>\n\n<p>It looks like that somehow the dependencies are getting lost since the Module3 depends on them both.</p>\n\n<p>I'm using <strong>Java 1.6.0_29</strong> and <strong>Maven 3.0.5</strong>. And I can't upgrade to Java 7, because the project needs Java 6. And can't upgrade Maven, cause upgraded Maven only works with java 7 and higher.</p>\n\n<p><strong><em>Update 1:</em></strong></p>\n\n<p>The error given when I compile is the following:</p>\n\n<pre><code>[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] \\Users\\usuario\\Documents\\workspaces\\myworkspace\\qa\\Module3\\src\\com\\company\\sharedartifact\\package\\SomeClass.java:[8,55] \npackage com.company.sharedartifact.package  does not exist\n[ERROR] \\Users\\usuario\\Documents\\workspaces\\myworkspace\\qa\\Module3\\src\\com\\company\\sharedartifact\\package\\SomeClass.java:[9,55] \npackage com.company.sharedartifact.package does not exist\n[ERROR] \\Users\\usuario\\Documents\\workspaces\\myworkspace\\qa\\Module3\\src\\com\\company\\sharedartifact\\package\\SomeClass.java:[17,85] \ncannot find symbol\nsymbol  : class SomeOtherClass\n</code></pre>\n\n<p>I can't paste the whole -X log because of company policy, but if some part is necessary, I can change some names.</p>\n\n<p><strong><em>Update 2:</em></strong></p>\n\n<p>Today I just figured out that if a run <code>mvn clean install</code>, it fails to compile. But if I run <code>mvn clean</code>, then (in Eclipse) I run <code>Maven Update project</code> and then `mvn install, it compiles!</p>\n\n<p>Since I found this, I've already referred to <a href=\"https://stackoverflow.com/questions/15532534/maven-why-after-mvn-clean-i-need-to-execute-maven-update-project-before-m\">this question</a> and I believe that something is wrong with my classpath. As I'm working with a Weblogic Portal application, I need to keep some Shared Libraries (those that are needed both by project and runtime) on Eclipse. Possibly some library is being forgotten on my pom. The weird thing is that the package that the compilation claims that doesn't exist, DOES exist.</p>\n"},{"tags":["java","string","types","reference","rename"],"comments":[{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":8,"creation_date":1342052956,"post_id":11443506,"comment_id":15100685,"body_markdown":"this is a terrible idea.","body":"this is a terrible idea."},{"owner":{"account_id":212481,"reputation":4165,"user_id":465323,"accept_rate":94,"display_name":"Z&#233;ychin"},"score":2,"creation_date":1342052973,"post_id":11443506,"comment_id":15100690,"body_markdown":"This is not recommended.","body":"This is not recommended."},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1342053017,"post_id":11443506,"comment_id":15100704,"body_markdown":"I would wager that it&#39;s not possible (short of hacking the IDE/compiler).  And even it were, it&#39;s a really silly idea.","body":"I would wager that it&#39;s not possible (short of hacking the IDE/compiler).  And even it were, it&#39;s a really silly idea."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1342053956,"post_id":11443506,"comment_id":15100880,"body_markdown":"It guarantees that no one else will ever want to work on your code.  Would you have written &quot;String&quot; in C#?  If not, why change just for Java?   Write in the idiom the language demands or go back to C#.","body":"It guarantees that no one else will ever want to work on your code.  Would you have written &quot;String&quot; in C#?  If not, why change just for Java?   Write in the idiom the language demands or go back to C#."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1342055361,"post_id":11443506,"comment_id":15101103,"body_markdown":"Just write String. Or you could write a pre-processor and run all your source code through that. Call it Java#. You could change more of the language. In fact, you could write a compiler and change the entire language, and call it Scala, or Clojure, or Groovy. If you want to target the JVM and you don&#39;t want to write Java, there are other languages that run on the JVM. But if you want to write in Java, then write in Java.","body":"Just write String. Or you could write a pre-processor and run all your source code through that. Call it Java#. You could change more of the language. In fact, you could write a compiler and change the entire language, and call it Scala, or Clojure, or Groovy. If you want to target the JVM and you don&#39;t want to write Java, there are other languages that run on the JVM. But if you want to write in Java, then write in Java."},{"owner":{"account_id":175043,"reputation":7315,"user_id":404760,"accept_rate":90,"display_name":"Shawn"},"score":0,"creation_date":1342055924,"post_id":11443506,"comment_id":15101203,"body_markdown":"excellent trollbait Maxwell -- Very Funny","body":"excellent trollbait Maxwell -- Very Funny"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1342056399,"post_id":11443506,"comment_id":15101287,"body_markdown":"@OliCharlesworth - you&#39;d have to hack parts of the core JVM and SE class libraries as well ...","body":"@OliCharlesworth - you&#39;d have to hack parts of the core JVM and SE class libraries as well ..."}],"answers":[{"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1439577498,"creation_date":1342053026,"answer_id":11443512,"question_id":11443506,"body_markdown":"Don&#39;t. Just use String. You&#39;ll get used to it. ","title":"How do I rename a java type? (String to string)","body":"<p>Don't. Just use String. You'll get used to it. </p>\n"},{"tags":[],"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342053094,"creation_date":1342053094,"answer_id":11443520,"question_id":11443506,"body_markdown":"Even if it were not a bad idea, I don&#39;t think this is possible. There are no typedefs in java, so you cannot alias a class. In addition String is a final class and thus cannot be extended -- meaning you can&#39;t extend String and call it string.","title":"How do I rename a java type? (String to string)","body":"<p>Even if it were not a bad idea, I don't think this is possible. There are no typedefs in java, so you cannot alias a class. In addition String is a final class and thus cannot be extended -- meaning you can't extend String and call it string.</p>\n"},{"tags":[],"owner":{"account_id":208690,"reputation":15548,"user_id":459338,"accept_rate":100,"display_name":"Ruel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342053452,"creation_date":1342053133,"answer_id":11443529,"question_id":11443506,"body_markdown":"`String` is a &lt;strike&gt;wrapper&lt;/strike&gt; proper first-class Class in Java, and there&#39;s no primitive data-type of string in java, unlike in C#. \r\n\r\nCoding conventions in Java states that classes need to start with an uppercase letter. So, no you can&#39;t rename it.","title":"How do I rename a java type? (String to string)","body":"<p><code>String</code> is a <strike>wrapper</strike> proper first-class Class in Java, and there's no primitive data-type of string in java, unlike in C#. </p>\n\n<p>Coding conventions in Java states that classes need to start with an uppercase letter. So, no you can't rename it.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660285421,"creation_date":1342053929,"answer_id":11443626,"question_id":11443506,"body_markdown":"&gt; How do I rename a Java type? (`String` to `string`)\r\n\r\nThis is not possible:\r\n\r\n- Java does not allow you to rename or alias types.  Each (class) type has one and only one FQN (i.e. fully qualified name).  Any type with a different FQN is a different type.\r\n\r\n- The `String` type is declared as `final` so you couldn&#39;t even create a convenience subclass.  (And even if it did, it wouldn&#39;t help because you can&#39;t change the rest of the system libraries to use your class.)\r\n\r\n- Changing system libraries while theoretically possible is a REALLY, REALLY BAD IDEA, because it would break compatibility with everything under the sun, starting with your Java toolchain and IDE.\r\n\r\n- Changing the name of `String` would be particularly difficult because of the cross-dependencies between this class, generated code and the JVM internals.  In particular, there are some really scary relationships between this class and the JVM bootstrap process.\r\n\r\n- And even if it was technically feasible to do this, it would STILL be a bad idea ... from the perspective of code maintainability.  Think of the next guy who would have to read and modify your mongrel &quot;Java looking like C#&quot; codebase.\r\n\r\n&gt; I&#39;m really used to using &quot;string&quot; instead of &quot;String&quot; in C#.\r\n\r\nYou just need to learn to use `String` ... like the millions of other C# programmers who have learned Java.","title":"How do I rename a java type? (String to string)","body":"<blockquote>\n<p>How do I rename a Java type? (<code>String</code> to <code>string</code>)</p>\n</blockquote>\n<p>This is not possible:</p>\n<ul>\n<li><p>Java does not allow you to rename or alias types.  Each (class) type has one and only one FQN (i.e. fully qualified name).  Any type with a different FQN is a different type.</p>\n</li>\n<li><p>The <code>String</code> type is declared as <code>final</code> so you couldn't even create a convenience subclass.  (And even if it did, it wouldn't help because you can't change the rest of the system libraries to use your class.)</p>\n</li>\n<li><p>Changing system libraries while theoretically possible is a REALLY, REALLY BAD IDEA, because it would break compatibility with everything under the sun, starting with your Java toolchain and IDE.</p>\n</li>\n<li><p>Changing the name of <code>String</code> would be particularly difficult because of the cross-dependencies between this class, generated code and the JVM internals.  In particular, there are some really scary relationships between this class and the JVM bootstrap process.</p>\n</li>\n<li><p>And even if it was technically feasible to do this, it would STILL be a bad idea ... from the perspective of code maintainability.  Think of the next guy who would have to read and modify your mongrel &quot;Java looking like C#&quot; codebase.</p>\n</li>\n</ul>\n<blockquote>\n<p>I'm really used to using &quot;string&quot; instead of &quot;String&quot; in C#.</p>\n</blockquote>\n<p>You just need to learn to use <code>String</code> ... like the millions of other C# programmers who have learned Java.</p>\n"},{"tags":[],"owner":{"account_id":175043,"reputation":7315,"user_id":404760,"accept_rate":90,"display_name":"Shawn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1342055450,"creation_date":1342055450,"answer_id":11443773,"question_id":11443506,"body_markdown":"For lulz only\r\n\r\n\r\n    public final class string {\r\n    \tprivate final String string;\r\n    \tpublic string(String string){\r\n    \t\tthis.string = string;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString(){\r\n    \t\treturn string;\r\n    \t}\r\n    \t\r\n        //usage\r\n    \tpublic static void main(String args[]){\r\n    \t   string myString = new string(&quot;Hello World&quot;);\r\n    \t   System.out.println(myString);\r\n    \t}\r\n    }\r\n\r\n","title":"How do I rename a java type? (String to string)","body":"<p>For lulz only</p>\n\n<pre><code>public final class string {\n    private final String string;\n    public string(String string){\n        this.string = string;\n    }\n    @Override\n    public String toString(){\n        return string;\n    }\n\n    //usage\n    public static void main(String args[]){\n       string myString = new string(\"Hello World\");\n       System.out.println(myString);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1648295,"reputation":49,"user_id":1519375,"display_name":"Maxwell Richardson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2753,"favorite_count":0,"down_vote_count":7,"up_vote_count":4,"closed_date":1342060609,"answer_count":5,"score":-3,"last_activity_date":1660285421,"creation_date":1342052907,"question_id":11443506,"body_markdown":"I&#39;m really used to using &quot;string&quot; instead of &quot;String&quot; in C#. I was wondering what I can do to be able to do this in Java.\r\n\r\nI&#39;m using Eclipse&#39;s Java EE IDE if that matters.","title":"How do I rename a java type? (String to string)","body":"<p>I'm really used to using \"string\" instead of \"String\" in C#. I was wondering what I can do to be able to do this in Java.</p>\n\n<p>I'm using Eclipse's Java EE IDE if that matters.</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":0,"creation_date":1305463324,"post_id":6008395,"comment_id":6942476,"body_markdown":"If opencsv uses the `\\\\` as escape character, you might need to enter `\\\\\\\\` in your file. If you cannot, can you set a different escape character in open csv?","body":"If opencsv uses the <code>\\` as escape character, you might need to enter </code>\\\\\\` in your file. If you cannot, can you set a different escape character in open csv?"}],"answers":[{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1605626506,"creation_date":1305464122,"answer_id":6008493,"question_id":6008395,"body_markdown":"CSVReader also has a [parser builder][1] via which you can set the escape character to use. If you use that and set the escape character to something you don&#39;t use you will get the backslash character in your input.\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/apidocs/com/opencsv/CSVParserBuilder.html","title":"opencsv in java ignores backslash in a field value","body":"<p>CSVReader also has a <a href=\"http://opencsv.sourceforge.net/apidocs/com/opencsv/CSVParserBuilder.html\" rel=\"nofollow noreferrer\">parser builder</a> via which you can set the escape character to use. If you use that and set the escape character to something you don't use you will get the backslash character in your input.</p>\n"},{"tags":[],"owner":{"account_id":1117568,"reputation":336,"user_id":1106573,"display_name":"JMM"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1357926363,"creation_date":1324322835,"answer_id":8566387,"question_id":6008395,"body_markdown":"I had the same problem and couldn&#39;t find another character I could guarantee wouldn&#39;t show up in my csv file.  According to a post on sourceforge though, you can use the explicit constructor with a &#39;\\0&#39; to indicate that you don&#39;t want any escape character.  \r\n\r\nhttp://sourceforge.net/tracker/?func=detail&amp;aid=2983890&amp;group_id=148905&amp;atid=773542\r\n\r\n    CSVParser parser = new CSVParser(CSVParser.DEFAULT_SEPARATOR, CSVParser.DEFAULT_QUOTE_CHARACTER, &#39;\\0&#39;, CSVParser.DEFAULT_STRICT_QUOTES);\r\n\r\n\r\nI did a bit of cursory testing, and this seems to work just fine, at least backslashes certainly make it through.  ","title":"opencsv in java ignores backslash in a field value","body":"<p>I had the same problem and couldn't find another character I could guarantee wouldn't show up in my csv file.  According to a post on sourceforge though, you can use the explicit constructor with a '\\0' to indicate that you don't want any escape character.  </p>\n\n<p><a href=\"http://sourceforge.net/tracker/?func=detail&amp;aid=2983890&amp;group_id=148905&amp;atid=773542\" rel=\"noreferrer\">http://sourceforge.net/tracker/?func=detail&amp;aid=2983890&amp;group_id=148905&amp;atid=773542</a></p>\n\n<pre><code>CSVParser parser = new CSVParser(CSVParser.DEFAULT_SEPARATOR, CSVParser.DEFAULT_QUOTE_CHARACTER, '\\0', CSVParser.DEFAULT_STRICT_QUOTES);\n</code></pre>\n\n<p>I did a bit of cursory testing, and this seems to work just fine, at least backslashes certainly make it through.  </p>\n"},{"tags":[],"owner":{"account_id":1022685,"reputation":1563,"user_id":1032640,"accept_rate":71,"display_name":"Wael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538295584,"creation_date":1460560576,"answer_id":36602806,"question_id":6008395,"body_markdown":"In addition to @JMM &#39;s answer, you have to use this created CSVParser in the constructor of the CSVReader. The only available constructor is:\r\n\r\n    public CSVReader(Reader reader, int line, CSVParser csvParser)\r\nYou can set the line to 0 so that it will not skip anything","title":"opencsv in java ignores backslash in a field value","body":"<p>In addition to @JMM 's answer, you have to use this created CSVParser in the constructor of the CSVReader. The only available constructor is:</p>\n\n<pre><code>public CSVReader(Reader reader, int line, CSVParser csvParser)\n</code></pre>\n\n<p>You can set the line to 0 so that it will not skip anything</p>\n"},{"tags":[],"owner":{"account_id":520600,"reputation":2248,"user_id":1569108,"accept_rate":92,"display_name":"Mihai Danila"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605759181,"creation_date":1564759700,"answer_id":57329495,"question_id":6008395,"body_markdown":"Note: I think the solution in this answer is better than the three alternatives in that it configures a compliant reader in a coarse-grained manner, by relying on the RFC. The other answers go into the details of configuring an escape character. While that works, it seems more like a white-box solution.\r\n\r\nBy default, OpenCSV&#39;s reader does not comply with the writer. The reader is not RFC-compliant. Don&#39;t ask me why that is, as I find it as troubling and perplexing as you.\r\n\r\nThe solution is for you to configure your CSVReader with an RFC-compliant parser:\r\n\r\n    RFC4180Parser rfc4180Parser = new RFC4180ParserBuilder().build();\r\n    CSVReaderBuilder csvReaderBuilder =\r\n      new CSVReaderBuilder(new StringReader(writer.toString()))\r\n          .withCSVParser(rfc4180Parser);\r\n    reader = csvReaderBuilder.build();\r\n\r\n[Here is the source page for the above.][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/properly-handling-backslashes-using-opencsv\r\n","title":"opencsv in java ignores backslash in a field value","body":"<p>Note: I think the solution in this answer is better than the three alternatives in that it configures a compliant reader in a coarse-grained manner, by relying on the RFC. The other answers go into the details of configuring an escape character. While that works, it seems more like a white-box solution.</p>\n<p>By default, OpenCSV's reader does not comply with the writer. The reader is not RFC-compliant. Don't ask me why that is, as I find it as troubling and perplexing as you.</p>\n<p>The solution is for you to configure your CSVReader with an RFC-compliant parser:</p>\n<pre><code>RFC4180Parser rfc4180Parser = new RFC4180ParserBuilder().build();\nCSVReaderBuilder csvReaderBuilder =\n  new CSVReaderBuilder(new StringReader(writer.toString()))\n      .withCSVParser(rfc4180Parser);\nreader = csvReaderBuilder.build();\n</code></pre>\n<p><a href=\"https://dzone.com/articles/properly-handling-backslashes-using-opencsv\" rel=\"nofollow noreferrer\">Here is the source page for the above.</a></p>\n"},{"tags":[],"owner":{"account_id":21661454,"reputation":70,"user_id":15980534,"display_name":"Mark Zhao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660285366,"creation_date":1660285366,"answer_id":73329983,"question_id":6008395,"body_markdown":"My opencsv version is 5.4, the following code works fine.\r\n```java\r\nCSVParser csvParser = new CSVParserBuilder().withSeparator(&#39;,&#39;).withEscapeChar(&#39;\\0&#39;).build();\r\n```\r\n","title":"opencsv in java ignores backslash in a field value","body":"<p>My opencsv version is 5.4, the following code works fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CSVParser csvParser = new CSVParserBuilder().withSeparator(',').withEscapeChar('\\0').build();\n</code></pre>\n"}],"owner":{"account_id":391442,"reputation":187,"user_id":752112,"accept_rate":75,"display_name":"ahaneo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12316,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":6008493,"answer_count":5,"score":16,"last_activity_date":1660285366,"creation_date":1305462867,"question_id":6008395,"body_markdown":"I am reading a csv file using opencsv.\r\n\r\nI am ignoring the first line of; the csv file is tab separated with some values enclosed in double quotes.\r\n\r\nThe problem occurs when I read the values of a column that has the &#39;\\&#39; character, this is stripped out of the value.\r\n\r\n    reader = new CSVReader(new FileReader(exchFileObj),&#39;\\t&#39;,&#39;&quot;&#39;,1);\r\nFor example in original file:\r\n\r\n    address = 12\\91buenosaires   \r\nIt becomes as:\r\n\r\n    address = 1291buenosiares\r\nIn the string array that *csvreader* generates. How do I modify it to be able to read the &#39;\\&#39; character also?","title":"opencsv in java ignores backslash in a field value","body":"<p>I am reading a csv file using opencsv.</p>\n\n<p>I am ignoring the first line of; the csv file is tab separated with some values enclosed in double quotes.</p>\n\n<p>The problem occurs when I read the values of a column that has the '\\' character, this is stripped out of the value.</p>\n\n<pre><code>reader = new CSVReader(new FileReader(exchFileObj),'\\t','\"',1);\n</code></pre>\n\n<p>For example in original file:</p>\n\n<pre><code>address = 12\\91buenosaires   \n</code></pre>\n\n<p>It becomes as:</p>\n\n<pre><code>address = 1291buenosiares\n</code></pre>\n\n<p>In the string array that <em>csvreader</em> generates. How do I modify it to be able to read the '\\' character also?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636638997,"creation_date":1636638997,"answer_id":69929502,"question_id":69928802,"body_markdown":"To get the value of the &quot;deleted&quot; fields that exists inside that Map object, please use the following lines of code:\r\n\r\n```\r\nFirebaseFirestore db = FirebaseFirestore.getInstance();\r\nCollectionReference candidatesRef = db.collection(&quot;Candidates&quot;);\r\nDocumentReference emailRef = candidatesRef.document(&quot;ravalera...@umak.edu.ph&quot;);\r\n//                                                   ^ add entire address ^\r\nemailRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            DocumentSnapshot document = task.getResult();\r\n            if (document.exists()) {\r\n                Map&lt;String, Boolean&gt; map = (Map&lt;String, Boolean&gt;) document.get(&quot;PADc...ayU2&quot;);\r\n//                                                                             ^ add entire ID\r\n                boolean deleted = map.get(&quot;deleted&quot;);\r\n                Log.d(TAG, &quot;deleted: &quot; + deleted);\r\n            } else {\r\n                Log.d(TAG, &quot;No such document&quot;);\r\n            }\r\n        } else {\r\n            Log.d(TAG, &quot;get failed with &quot;, task.getException());\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nThe result in the logcat will be:\r\n\r\n    deleted: true","title":"How to retrieve a value from a sub-field of a map field in a document in Firestore DB?","body":"<p>To get the value of the &quot;deleted&quot; fields that exists inside that Map object, please use the following lines of code:</p>\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\nCollectionReference candidatesRef = db.collection(&quot;Candidates&quot;);\nDocumentReference emailRef = candidatesRef.document(&quot;ravalera...@umak.edu.ph&quot;);\n//                                                   ^ add entire address ^\nemailRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            DocumentSnapshot document = task.getResult();\n            if (document.exists()) {\n                Map&lt;String, Boolean&gt; map = (Map&lt;String, Boolean&gt;) document.get(&quot;PADc...ayU2&quot;);\n//                                                                             ^ add entire ID\n                boolean deleted = map.get(&quot;deleted&quot;);\n                Log.d(TAG, &quot;deleted: &quot; + deleted);\n            } else {\n                Log.d(TAG, &quot;No such document&quot;);\n            }\n        } else {\n            Log.d(TAG, &quot;get failed with &quot;, task.getException());\n        }\n    }\n});\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>deleted: true\n</code></pre>\n"}],"owner":{"account_id":21660400,"reputation":79,"user_id":15979590,"display_name":"HeroreH29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69929502,"answer_count":1,"score":0,"last_activity_date":1660285031,"creation_date":1636635969,"question_id":69928802,"body_markdown":"I am planning to use the value of a sub-field of a map field in my document for other purposes but it seems that I cannot retrieve it. I have found an answer here on this website but the solution code to get the value is too much for me. I can use the solution code to get the value but if there is the simplest way to get it, kindly drop the answer here.\r\n\r\nThis is the screenshot of Firestore DB where I need to get is the Boolean value of **deleted** inside a map field with the UID as field name:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/JTJ8P.png","title":"How to retrieve a value from a sub-field of a map field in a document in Firestore DB?","body":"<p>I am planning to use the value of a sub-field of a map field in my document for other purposes but it seems that I cannot retrieve it. I have found an answer here on this website but the solution code to get the value is too much for me. I can use the solution code to get the value but if there is the simplest way to get it, kindly drop the answer here.</p>\n<p>This is the screenshot of Firestore DB where I need to get is the Boolean value of <strong>deleted</strong> inside a map field with the UID as field name:</p>\n<p><a href=\"https://i.stack.imgur.com/JTJ8P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JTJ8P.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","maven-dependency"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":1,"creation_date":1478589905,"post_id":40481145,"comment_id":68206256,"body_markdown":"are we talking about manually checking or programmatically checking for minimum JDK version?","body":"are we talking about manually checking or programmatically checking for minimum JDK version?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1478596970,"post_id":40481145,"comment_id":68210130,"body_markdown":"The best solution is to check the dependencies you use via [animal-sniffer-maven-plugin](http://www.mojohaus.org/animal-sniffer/animal-sniffer-maven-plugin/) and will fail your build if you use different. \nApart from that I would suggest to upgrade to Java 7 or 8...","body":"The best solution is to check the dependencies you use via <a href=\"http://www.mojohaus.org/animal-sniffer/animal-sniffer-maven-plugin/\" rel=\"nofollow noreferrer\">animal-sniffer-maven-plugin</a> and will fail your build if you use different.  Apart from that I would suggest to upgrade to Java 7 or 8..."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1478590209,"creation_date":1478590209,"answer_id":40481271,"question_id":40481145,"body_markdown":"You can check the major/minor version of the class files. If the JAR was built with Maven you can check the version of the JDK used to build it in the `META-INF/MANIFEST.MF` file which is most likely the minimum version.\r\n\r\nA way to check without downloading the JAR is to check the POM on maven central e.g.\r\n\r\nhttp://search.maven.org/#artifactdetails%7Cnet.openhft%7Cchronicle-queue%7C4.5.15%7Cbundle\r\n\r\nneeds 1.8\r\n\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgument&gt;-Xlint:deprecation&lt;/compilerArgument&gt;\r\n                    &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nSomething to consider, if Oracle with all it&#39;s resources doesn&#39;t support Java 7 for free, should you?  ","title":"How to find the minimum JDK version of a specific version of maven dependency?","body":"<p>You can check the major/minor version of the class files. If the JAR was built with Maven you can check the version of the JDK used to build it in the <code>META-INF/MANIFEST.MF</code> file which is most likely the minimum version.</p>\n\n<p>A way to check without downloading the JAR is to check the POM on maven central e.g.</p>\n\n<p><a href=\"http://search.maven.org/#artifactdetails%7Cnet.openhft%7Cchronicle-queue%7C4.5.15%7Cbundle\" rel=\"noreferrer\">http://search.maven.org/#artifactdetails%7Cnet.openhft%7Cchronicle-queue%7C4.5.15%7Cbundle</a></p>\n\n<p>needs 1.8</p>\n\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;compilerArgument&gt;-Xlint:deprecation&lt;/compilerArgument&gt;\n                &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Something to consider, if Oracle with all it's resources doesn't support Java 7 for free, should you?  </p>\n"},{"tags":[],"owner":{"account_id":3246471,"reputation":2113,"user_id":2737885,"accept_rate":61,"display_name":"Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478591174,"creation_date":1478591174,"answer_id":40481503,"question_id":40481145,"body_markdown":"Most of the times you can do like this\r\n\r\n     &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;{java.sourceversion}&lt;/source&gt;\r\n                    &lt;target&gt;{java.targetversion}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\nthis should be enough.","title":"How to find the minimum JDK version of a specific version of maven dependency?","body":"<p>Most of the times you can do like this</p>\n\n<pre><code> &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;{java.sourceversion}&lt;/source&gt;\n                &lt;target&gt;{java.targetversion}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>this should be enough.</p>\n"},{"tags":[],"owner":{"account_id":6044098,"reputation":420,"user_id":6875099,"accept_rate":82,"display_name":"zer_ik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660284494,"creation_date":1660284494,"answer_id":73329849,"question_id":40481145,"body_markdown":"It seems that the only one hundred percent solution is to check minimum required JDK version for `.class` files inside `jar`. Check this [question](https://stackoverflow.com/questions/3313532/what-version-of-javac-built-my-jar).","title":"How to find the minimum JDK version of a specific version of maven dependency?","body":"<p>It seems that the only one hundred percent solution is to check minimum required JDK version for <code>.class</code> files inside <code>jar</code>. Check this <a href=\"https://stackoverflow.com/questions/3313532/what-version-of-javac-built-my-jar\">question</a>.</p>\n"}],"owner":{"account_id":9603346,"reputation":2038,"user_id":7130077,"accept_rate":100,"display_name":"Germinate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6579,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"accepted_answer_id":40481271,"answer_count":3,"score":16,"last_activity_date":1660284494,"creation_date":1478589756,"question_id":40481145,"body_markdown":"Now I use the JDK1.5 to develop the program, so I have to guarantee the maven dependencies I want to use are compatible with the JDK 1.5 . Sometimes, latest version needs jdk higher than 1.5 but older version may fit. \r\nBut how to find the minimum JDK version of a specific version of maven dependency?\r\nI have tried mvnrepository.com but can not find the jdk requirement. Some project home page only show the jdk requirement of latest version.\r\nAnyone can help me? Thank you!","title":"How to find the minimum JDK version of a specific version of maven dependency?","body":"<p>Now I use the JDK1.5 to develop the program, so I have to guarantee the maven dependencies I want to use are compatible with the JDK 1.5 . Sometimes, latest version needs jdk higher than 1.5 but older version may fit. \nBut how to find the minimum JDK version of a specific version of maven dependency?\nI have tried mvnrepository.com but can not find the jdk requirement. Some project home page only show the jdk requirement of latest version.\nAnyone can help me? Thank you!</p>\n"},{"tags":["java","lambda","integer","double"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1610126092,"post_id":65633337,"comment_id":116042662,"body_markdown":"can you show us the full code please","body":"can you show us the full code please"}],"answers":[{"tags":[],"owner":{"account_id":20399566,"reputation":306,"user_id":14965614,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610126406,"creation_date":1610126406,"answer_id":65633516,"question_id":65633337,"body_markdown":"This Expression\r\n&gt; (i1,i2) -&gt; (double) i1 - (double) i2\r\nreturn a double.\r\nA Comparator must return an integer. \r\nA solution may be \r\n(i1,i2) -&gt; (int)Math.signum(i1 -i2)\r\nfor example\r\n        List&lt;Double&gt; l=List.of(3.4,9.3,5.54);\r\n        l.sort((i1,i2) -&gt; (int)Math.signum(i1 -i2));\r\n\r\nNotice that\r\n(i1,i2) -&gt; (int)(i1 -i2)\r\ndoes not work because small number are rounded to zero.\r\n","title":"Lambda expression with Double Comparator","body":"<p>This Expression</p>\n<blockquote>\n<p>(i1,i2) -&gt; (double) i1 - (double) i2\nreturn a double.\nA Comparator must return an integer.\nA solution may be\n(i1,i2) -&gt; (int)Math.signum(i1 -i2)\nfor example\nList l=List.of(3.4,9.3,5.54);\nl.sort((i1,i2) -&gt; (int)Math.signum(i1 -i2));</p>\n</blockquote>\n<p>Notice that\n(i1,i2) -&gt; (int)(i1 -i2)\ndoes not work because small number are rounded to zero.</p>\n"},{"tags":[],"owner":{"account_id":17619742,"reputation":718,"user_id":12785994,"display_name":"javadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610872248,"creation_date":1610872248,"answer_id":65758630,"question_id":65633337,"body_markdown":"Do you understand the meaning of a comparator?\r\nThe main issue here (for numbers, like double or int), is sorting two elements (i1,i2) according to the compare function you decide.\r\nOnce you will return an integer positive value (common convention is returning &quot;1&quot;), it means the first object (i1) is larger. Once you will return a negative value (convention is &quot;-1&quot;), it meand the second object (i2) is larger. Once you return &quot;0&quot;, it means that i1 and i2 are equals.\r\nNow implement your sorting functionality in the comparator&#39;s compare function.\r\n\r\nI guess that something like:\r\n\r\n    (i1,i2) -&gt; return i1 &gt; i2 ? 1 : i1 &lt; i2 ? -1 : 0\r\n\r\nshould do the job.","title":"Lambda expression with Double Comparator","body":"<p>Do you understand the meaning of a comparator?\nThe main issue here (for numbers, like double or int), is sorting two elements (i1,i2) according to the compare function you decide.\nOnce you will return an integer positive value (common convention is returning &quot;1&quot;), it means the first object (i1) is larger. Once you will return a negative value (convention is &quot;-1&quot;), it meand the second object (i2) is larger. Once you return &quot;0&quot;, it means that i1 and i2 are equals.\nNow implement your sorting functionality in the comparator's compare function.</p>\n<p>I guess that something like:</p>\n<pre><code>(i1,i2) -&gt; return i1 &gt; i2 ? 1 : i1 &lt; i2 ? -1 : 0\n</code></pre>\n<p>should do the job.</p>\n"}],"owner":{"account_id":18535489,"reputation":5,"user_id":13505268,"display_name":"Louisa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":875,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1660283851,"creation_date":1610125654,"question_id":65633337,"body_markdown":"How can I convert this expression:`(i1,i2) -&gt; (int) i1 - (int) i2`\r\nfrom int to double values.\r\n\r\nI tried this:`(i1,i2) -&gt; (double) i1 - (double) i2`, it&#39;s wrong.\r\n\r\nPlease help. Thanks.","title":"Lambda expression with Double Comparator","body":"<p>How can I convert this expression:<code>(i1,i2) -&gt; (int) i1 - (int) i2</code>\nfrom int to double values.</p>\n<p>I tried this:<code>(i1,i2) -&gt; (double) i1 - (double) i2</code>, it's wrong.</p>\n<p>Please help. Thanks.</p>\n"},{"tags":["java","spring","spring-mvc","jaxb","spring-bean"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1660287330,"post_id":73329657,"comment_id":129501356,"body_markdown":"put that xml file in classpath!\nApplicationContext context = new ClassPathXmlApplicationContext(&quot;xxx.xml&quot;);. then use context.getBean(&quot;beanname&quot;, classname.class); to get that bean;","body":"put that xml file in classpath! ApplicationContext context = new ClassPathXmlApplicationContext(&quot;xxx.xml&quot;);. then use context.getBean(&quot;beanname&quot;, classname.class); to get that bean;"},{"owner":{"account_id":16487083,"reputation":31,"user_id":11912148,"display_name":"prajwal shetty"},"score":0,"creation_date":1660302069,"post_id":73329657,"comment_id":129506263,"body_markdown":"i need to read all the properties that are present in the xmls for ex : base-packages in component-scan, resource in import. not only beans.","body":"i need to read all the properties that are present in the xmls for ex : base-packages in component-scan, resource in import. not only beans."}],"owner":{"account_id":16487083,"reputation":31,"user_id":11912148,"display_name":"prajwal shetty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660282693,"creation_date":1660282693,"question_id":73329657,"body_markdown":"Need to convert the spring bean xml file to java pojo object.\r\nis there any library which parses spring bean file ?\r\n\r\n\r\n\r\nspring bean xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n            &lt;beans \r\n            \t   xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n                   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n                       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n                       http://www.springframework.org/schema/context\r\n                       http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\r\n            \t\t   \r\n            \t\r\n            \t &lt;import resource= &quot;resource1&quot; /&gt;\r\n            \t \r\n            \t &lt;import resource= &quot;resource2&quot; /&gt;\r\n            \t \r\n            \t &lt;context:annotation-config /&gt;\r\n            \t             \r\n                 &lt;context:component-scan base-package=&quot;org.example1, org.example2&quot;/&gt;\r\n            \t  \r\n            &lt;/beans&gt;","title":"How to read spring bean xml configuration file and convert to java pojo object","body":"<p>Need to convert the spring bean xml file to java pojo object.\nis there any library which parses spring bean file ?</p>\n<p>spring bean xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n        &lt;beans \n               xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n               xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n               xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \n                   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n                   http://www.springframework.org/schema/context\n                   http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\n                   \n            \n             &lt;import resource= &quot;resource1&quot; /&gt;\n             \n             &lt;import resource= &quot;resource2&quot; /&gt;\n             \n             &lt;context:annotation-config /&gt;\n                         \n             &lt;context:component-scan base-package=&quot;org.example1, org.example2&quot;/&gt;\n              \n        &lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","postgresql","spring-data-jpa","criteria","hibernate-criteria"],"owner":{"account_id":1959592,"reputation":46,"user_id":1761631,"display_name":"Harsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660282411,"creation_date":1651393634,"question_id":72075130,"body_markdown":"I want to create predicate that read and compare email, so I can filter out result using Criteria API in Java.\r\n\r\nFor that I used below code but didn&#39;t work.\r\nError: Caused by: org.postgresql.util.PSQLException: ERROR: set-returning functions are not allowed in WHERE\r\n\r\n    Expression&lt;String[]&gt; expressions = criteriaBuilder.function(&quot;jsonb_array_elements&quot;,\r\n                                    String[].class, entity.&lt;String&gt;get(column_name)\r\n                            );\r\n                            Expression&lt;?&gt;[] expressions1 = {expressions, criteriaBuilder.literal(&quot;characteristic&quot;), criteriaBuilder.literal(&quot;email&quot;)};\r\n                            toPredicate(entity, searchText.toLowerCase(), expressions1);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t\r\n    public Predicate toPredicate(Root&lt;TeamMember&gt; root, String value, Expression&lt;?&gt;[] args) {\r\n            Expression&lt;String&gt; function = criteriaBuilder.function(&quot;jsonb_extract_path_text&quot;,\r\n                    String.class, args\r\n            );\r\n            return criteriaBuilder.like(\r\n                    function,\r\n                    &quot;%&quot; + value + &quot;%&quot;\r\n            );\r\n        }\r\n\r\n\r\nMy JSOB object looks like below:\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: &quot;1234&quot;,\r\n        &quot;validFor&quot;: {\r\n          &quot;endDateTime&quot;: null,\r\n          &quot;startDateTime&quot;: &quot;2018-08-12T06:54:31.610218300Z&quot;\r\n        },\r\n        &quot;preferred&quot;: true,    \r\n        &quot;characteristic&quot;: {\r\n          &quot;email&quot;: &quot;abcd@gmail.com&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;id&quot;: &quot;5678&quot;,\r\n        &quot;validFor&quot;: {\r\n          &quot;endDateTime&quot;: null,\r\n          &quot;startDateTime&quot;: &quot;2019-09-15T06:54:31.610218300Z&quot;\r\n        },\r\n        &quot;preferred&quot;: true,    \r\n        &quot;characteristic&quot;: {\r\n          &quot;email&quot;: &quot;xyz@gmail.com&quot;\r\n        }\r\n      }\r\n    ]","title":"Is there any way to search within postgres JSONB array column using Criteria API?","body":"<p>I want to create predicate that read and compare email, so I can filter out result using Criteria API in Java.</p>\n<p>For that I used below code but didn't work.\nError: Caused by: org.postgresql.util.PSQLException: ERROR: set-returning functions are not allowed in WHERE</p>\n<pre><code>Expression&lt;String[]&gt; expressions = criteriaBuilder.function(&quot;jsonb_array_elements&quot;,\n                                String[].class, entity.&lt;String&gt;get(column_name)\n                        );\n                        Expression&lt;?&gt;[] expressions1 = {expressions, criteriaBuilder.literal(&quot;characteristic&quot;), criteriaBuilder.literal(&quot;email&quot;)};\n                        toPredicate(entity, searchText.toLowerCase(), expressions1);\n                        \n                        \npublic Predicate toPredicate(Root&lt;TeamMember&gt; root, String value, Expression&lt;?&gt;[] args) {\n        Expression&lt;String&gt; function = criteriaBuilder.function(&quot;jsonb_extract_path_text&quot;,\n                String.class, args\n        );\n        return criteriaBuilder.like(\n                function,\n                &quot;%&quot; + value + &quot;%&quot;\n        );\n    }\n</code></pre>\n<p>My JSOB object looks like below:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: &quot;1234&quot;,\n    &quot;validFor&quot;: {\n      &quot;endDateTime&quot;: null,\n      &quot;startDateTime&quot;: &quot;2018-08-12T06:54:31.610218300Z&quot;\n    },\n    &quot;preferred&quot;: true,    \n    &quot;characteristic&quot;: {\n      &quot;email&quot;: &quot;abcd@gmail.com&quot;\n    }\n  },\n  {\n    &quot;id&quot;: &quot;5678&quot;,\n    &quot;validFor&quot;: {\n      &quot;endDateTime&quot;: null,\n      &quot;startDateTime&quot;: &quot;2019-09-15T06:54:31.610218300Z&quot;\n    },\n    &quot;preferred&quot;: true,    \n    &quot;characteristic&quot;: {\n      &quot;email&quot;: &quot;xyz@gmail.com&quot;\n    }\n  }\n]\n</code></pre>\n"},{"tags":["java","reactive-programming"],"comments":[{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":0,"creation_date":1660279039,"post_id":73329248,"comment_id":129499668,"body_markdown":"Can you please format your code and question please? Also please provide some examples of what you want to accomplish exactly","body":"Can you please format your code and question please? Also please provide some examples of what you want to accomplish exactly"}],"answers":[{"tags":[],"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660282142,"creation_date":1660282142,"answer_id":73329607,"question_id":73329248,"body_markdown":"There is actually no way to simply convert. U should read something about project reactor and reactive programming. When u are operating on mono you have to use predicates cuz u will work on asynchronus streams it means that if you want to convert an Mono to simple java Pojo you have to block the reactive stream and it would look something like that:\r\n```java\r\n// reactive stream\r\nMono&lt;OffsetDateTime&gt; decisionDateMono = decisionService.getBySubId(currentItem.getId(), currentItem.getTenantId()); \r\n\r\n//blocked stream - bad practice\r\nOffsetDateTime decisionDate = decisionDateMono.block();\r\n```\r\n\r\nHere is an example how your code should looks using reactive streams (its one of many solutions)\r\n```java\r\npublic static void main(String[] args) {\r\n        Flux.fromIterable(hits) //creating iterable reactive streams (Mono is a single stream - works same as flux but has always 0 or 1 value)\r\n            .flatMap(currentItem -&gt; withSettedDecisionDate(currentItem))\r\n            .doOnNext(currentItem -&gt; System.out.println(&quot;Item: &quot; + currentItem + &quot; decision date: &quot; + currentItem.getDecisionDate()))\r\n            .doOnNext(currentItem -&gt; doSomething(currentItem))\r\n            .subscribe();\r\n    }\r\n\r\n    private Mono&lt;SubDTO&gt; withSettedDecisionDate(SubDTO dto) {\r\n        return decisionService.getBySubId(dto.getId(), dto.getTenantId())\r\n                              .map(decisionDate -&gt; {\r\n                                  dto.setDecisionDate(decisionDate);\r\n                                  return dto;\r\n                              });\r\n    }\r\n```","title":"Return object from mono java stream","body":"<p>There is actually no way to simply convert. U should read something about project reactor and reactive programming. When u are operating on mono you have to use predicates cuz u will work on asynchronus streams it means that if you want to convert an Mono to simple java Pojo you have to block the reactive stream and it would look something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// reactive stream\nMono&lt;OffsetDateTime&gt; decisionDateMono = decisionService.getBySubId(currentItem.getId(), currentItem.getTenantId()); \n\n//blocked stream - bad practice\nOffsetDateTime decisionDate = decisionDateMono.block();\n</code></pre>\n<p>Here is an example how your code should looks using reactive streams (its one of many solutions)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        Flux.fromIterable(hits) //creating iterable reactive streams (Mono is a single stream - works same as flux but has always 0 or 1 value)\n            .flatMap(currentItem -&gt; withSettedDecisionDate(currentItem))\n            .doOnNext(currentItem -&gt; System.out.println(&quot;Item: &quot; + currentItem + &quot; decision date: &quot; + currentItem.getDecisionDate()))\n            .doOnNext(currentItem -&gt; doSomething(currentItem))\n            .subscribe();\n    }\n\n    private Mono&lt;SubDTO&gt; withSettedDecisionDate(SubDTO dto) {\n        return decisionService.getBySubId(dto.getId(), dto.getTenantId())\n                              .map(decisionDate -&gt; {\n                                  dto.setDecisionDate(decisionDate);\n                                  return dto;\n                              });\n    }\n</code></pre>\n"}],"owner":{"account_id":1941911,"reputation":751,"user_id":2183545,"accept_rate":65,"display_name":"shanky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73329607,"answer_count":1,"score":1,"last_activity_date":1660282142,"creation_date":1660278331,"question_id":73329248,"body_markdown":"I have a list of SubDTO class and for each SubDTO class I want to get the datetimeoffset and set decision date, however the function from `decisionService.getBySubId` returns mono object, I dont know how to convert mono to datetimeoffset?\r\n\r\n    List&lt;SubDTO&gt; hits = [Subto1, subto2]  \r\n\r\n    public class SubDTO{\r\n          private UUID Id;\r\n          private OffsetDateTime decisionDate;  \r\n    }\r\n\r\n \r\n\r\n     hits.forEach(currentItem-&gt; currentItem.setDecisionDate(\r\n         decisionService.getBySubId(currentItem.getId(), currentItem.getTenantId())\r\n         //error on below line because it returns mono&lt;datetimeoffset&gt; but setter expects datetimeoffset rather mono                                \r\n        .map(decisionDto -&gt; decisionDto.getDecisionDate()) \r\n      );","title":"Return object from mono java stream","body":"<p>I have a list of SubDTO class and for each SubDTO class I want to get the datetimeoffset and set decision date, however the function from <code>decisionService.getBySubId</code> returns mono object, I dont know how to convert mono to datetimeoffset?</p>\n<pre><code>List&lt;SubDTO&gt; hits = [Subto1, subto2]  \n\npublic class SubDTO{\n      private UUID Id;\n      private OffsetDateTime decisionDate;  \n}\n\n\n\n hits.forEach(currentItem-&gt; currentItem.setDecisionDate(\n     decisionService.getBySubId(currentItem.getId(), currentItem.getTenantId())\n     //error on below line because it returns mono&lt;datetimeoffset&gt; but setter expects datetimeoffset rather mono                                \n    .map(decisionDto -&gt; decisionDto.getDecisionDate()) \n  );\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660282022,"creation_date":1660282022,"answer_id":73329594,"question_id":73324678,"body_markdown":"`TRUNCATE` is not part of HQL, therefore you cannot use it with `entityManager.createQuery`.\r\n\r\nYou can run the query as a native SQL query:\r\n```\r\nentityManager.createNativeQuery(&quot;TRUNCATE demo_table CASCADE&quot;).executeUpdate();\r\n```\r\n","title":"Is there a way to truncate or delete a table and associated foreign keys in hibernate PostgreSQL","body":"<p><code>TRUNCATE</code> is not part of HQL, therefore you cannot use it with <code>entityManager.createQuery</code>.</p>\n<p>You can run the query as a native SQL query:</p>\n<pre><code>entityManager.createNativeQuery(&quot;TRUNCATE demo_table CASCADE&quot;).executeUpdate();\n</code></pre>\n"}],"owner":{"account_id":25318030,"reputation":25,"user_id":19139804,"display_name":"matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660282022,"creation_date":1660238623,"question_id":73324678,"body_markdown":"`TRUNCATE demo_table CASCADE` query works in SQL client, but it doesn&#39;t seem to work in hibernate PostgreSQL dialect. I am not sure why that is, so I truncate a table in hibernate using: `DELETE FROM table_name` and it works fine.\r\n\r\n \r\n\r\n    public demoManager deleteTable() {\r\n        entityManager = crud.begin();\r\n        entityManager.createQuery(&quot;delete from demo_table&quot;).executeUpdate();\r\n        entityManager.getTransaction().commit();\r\n        return this;\r\n      }\r\n\r\nNow, the problem is that it only works fine in hibernate if the table&#39;s primary key is not a foreign key in another table. If its primary key exists is a foreign key in another table, the test fails and an error is thrown:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;demo_table&quot; violates foreign key constraint &quot;hui6ys16oiwt19pfkw0fxfaovea&quot; on table &quot;demo_table_two&quot;\r\n\r\nAdding `CASCADE` resolved the primary/foreign key issue in the SQL client, so I tried doing the same in hibernate:\r\n\r\n`TRUNCATE demo_table CASCADE` but got a compilation error: `TRUNCATE unexpected`\r\n\r\nI also tried this: `DELETE FROM demo_table CASCADE` but `CASCADE` is not recognised at runtime.\r\n\r\nHow do I truncate or delete a table in hibernate PostgreSQL dialect and delete any associated foreign key as part of the process?\r\n","title":"Is there a way to truncate or delete a table and associated foreign keys in hibernate PostgreSQL","body":"<p><code>TRUNCATE demo_table CASCADE</code> query works in SQL client, but it doesn't seem to work in hibernate PostgreSQL dialect. I am not sure why that is, so I truncate a table in hibernate using: <code>DELETE FROM table_name</code> and it works fine.</p>\n<pre><code>public demoManager deleteTable() {\n    entityManager = crud.begin();\n    entityManager.createQuery(&quot;delete from demo_table&quot;).executeUpdate();\n    entityManager.getTransaction().commit();\n    return this;\n  }\n</code></pre>\n<p>Now, the problem is that it only works fine in hibernate if the table's primary key is not a foreign key in another table. If its primary key exists is a foreign key in another table, the test fails and an error is thrown:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;demo_table&quot; violates foreign key constraint &quot;hui6ys16oiwt19pfkw0fxfaovea&quot; on table &quot;demo_table_two&quot;\n</code></pre>\n<p>Adding <code>CASCADE</code> resolved the primary/foreign key issue in the SQL client, so I tried doing the same in hibernate:</p>\n<p><code>TRUNCATE demo_table CASCADE</code> but got a compilation error: <code>TRUNCATE unexpected</code></p>\n<p>I also tried this: <code>DELETE FROM demo_table CASCADE</code> but <code>CASCADE</code> is not recognised at runtime.</p>\n<p>How do I truncate or delete a table in hibernate PostgreSQL dialect and delete any associated foreign key as part of the process?</p>\n"},{"tags":["java","cookies","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593551019,"creation_date":1593551019,"answer_id":62666100,"question_id":62627388,"body_markdown":"Define your controller&#39;s method signature with a `ServerWebExchange` parameter like so:\r\n\r\n    public Mono&lt;String&gt; cookieSetter(ServerWebExchange exchange)\r\n\r\n...you can then use `exchange.getResponse().addCookie()` anywhere in the reactive chain. (I&#39;d do that as a dedicated side-effect however rather than bundling it in a single map call.) So you could do something like:\r\n\r\n    return response.body(\r\n            Mono.just(101)\r\n                    .flatMap(i -&gt;\r\n                            userRepository\r\n                                    .findById(i)\r\n                                    .doOnNext(user -&gt; {\r\n                                        exchange.getResponse().addCookie(ResponseCookie.from(&quot;time&quot;, user.getLastLoginTime())\r\n                                                .httpOnly(true)\r\n                                                .build());\r\n                                    })\r\n                                    .map(User::getEmail)\r\n                    )\r\n            , String.class);","title":"Webflux how to set cookie from inside stream","body":"<p>Define your controller's method signature with a <code>ServerWebExchange</code> parameter like so:</p>\n<pre><code>public Mono&lt;String&gt; cookieSetter(ServerWebExchange exchange)\n</code></pre>\n<p>...you can then use <code>exchange.getResponse().addCookie()</code> anywhere in the reactive chain. (I'd do that as a dedicated side-effect however rather than bundling it in a single map call.) So you could do something like:</p>\n<pre><code>return response.body(\n        Mono.just(101)\n                .flatMap(i -&gt;\n                        userRepository\n                                .findById(i)\n                                .doOnNext(user -&gt; {\n                                    exchange.getResponse().addCookie(ResponseCookie.from(&quot;time&quot;, user.getLastLoginTime())\n                                            .httpOnly(true)\n                                            .build());\n                                })\n                                .map(User::getEmail)\n                )\n        , String.class);\n</code></pre>\n"}],"owner":{"account_id":18924610,"reputation":210,"user_id":13808010,"display_name":"Muhammad Ilyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1660281834,"creation_date":1593373026,"question_id":62627388,"body_markdown":"I would like to know how could I set cookie from ServerResponse body.\r\n\r\nI found few solutions but these are saving cookie from outside body function like this.\r\n\r\n```\r\nServerResponse.BodyBuilder response = ServerResponse.ok();\r\nresponse.cookie(ResponseCookie.from(&quot;mycookie&quot;, &quot;myVal&quot;).build());\r\nreturn response.body(Mono.just(&quot;Welcome&quot;), String.class);\r\n```\r\n\r\nThis saves cookie and this solution is fine if we do not have dynamic cookie value.\r\nNow I would like to write the cookie value which is coming from db.\r\n\r\nlike this.\r\n\r\n```\r\nreturn response.body(\r\n                Mono.just(101)\r\n                        .flatMap(i -&gt;\r\n                            userRepository\r\n                                    .findById(i)\r\n                                    .map(user -&gt; {\r\n                                        Long time = user.getLastLoginTime();\r\n                                        // set time as cookie,\r\n                                        // I would like to save cookie from here\r\n                                        return user.getEmail();\r\n                                    })\r\n                        )\r\n                , String.class);\r\n```\r\n\r\nSo how can i save cookie from inside map function and since i am returning stream, webflux will auto subscribe it until then my stream is not executed.","title":"Webflux how to set cookie from inside stream","body":"<p>I would like to know how could I set cookie from ServerResponse body.</p>\n<p>I found few solutions but these are saving cookie from outside body function like this.</p>\n<pre><code>ServerResponse.BodyBuilder response = ServerResponse.ok();\nresponse.cookie(ResponseCookie.from(&quot;mycookie&quot;, &quot;myVal&quot;).build());\nreturn response.body(Mono.just(&quot;Welcome&quot;), String.class);\n</code></pre>\n<p>This saves cookie and this solution is fine if we do not have dynamic cookie value.\nNow I would like to write the cookie value which is coming from db.</p>\n<p>like this.</p>\n<pre><code>return response.body(\n                Mono.just(101)\n                        .flatMap(i -&gt;\n                            userRepository\n                                    .findById(i)\n                                    .map(user -&gt; {\n                                        Long time = user.getLastLoginTime();\n                                        // set time as cookie,\n                                        // I would like to save cookie from here\n                                        return user.getEmail();\n                                    })\n                        )\n                , String.class);\n</code></pre>\n<p>So how can i save cookie from inside map function and since i am returning stream, webflux will auto subscribe it until then my stream is not executed.</p>\n"},{"tags":["java","intellij-idea","javac"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1633033963,"post_id":69398341,"comment_id":122661506,"body_markdown":"Please share the project files (.idea directory + *.iml files zipped).","body":"Please share the project files (.idea directory + *.iml files zipped)."},{"owner":{"account_id":20563830,"reputation":3,"user_id":15093711,"display_name":"ADEX"},"score":0,"creation_date":1633084714,"post_id":69398341,"comment_id":122671844,"body_markdown":"I have added them now.","body":"I have added them now."},{"owner":{"account_id":3884753,"reputation":10795,"user_id":3216427,"display_name":"joanis"},"score":0,"creation_date":1633094797,"post_id":69398341,"comment_id":122675939,"body_markdown":"@ADEX I don&#39;t see an edit with the project files.","body":"@ADEX I don&#39;t see an edit with the project files."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633101969,"creation_date":1633101969,"answer_id":69408381,"question_id":69398341,"body_markdown":"`.idea/misc.xml` has incorrect language level specified for some reason (`JDK_X`):\r\n\r\n```\r\n&lt;component name=&quot;ProjectRootManager&quot; version=&quot;2&quot; languageLevel=&quot;JDK_X&quot; default=&quot;true&quot; project-jdk-name=&quot;16&quot; project-jdk-type=&quot;JavaSDK&quot;&gt;\r\n```\r\n\r\nClose the project, change `languageLevel` to `16` and see if it helps.\r\n\r\nThere was a [related bug reported](https://youtrack.jetbrains.com/issue/IDEA-240068), but it should be fixed in IntelliJ IDEA 2020.2 and later versions. Probably a regression.","title":"IntelliJ 2021.2.2 gives error &#39;java: error: invalid source release: 18&#39; when compiling program","body":"<p><code>.idea/misc.xml</code> has incorrect language level specified for some reason (<code>JDK_X</code>):</p>\n<pre><code>&lt;component name=&quot;ProjectRootManager&quot; version=&quot;2&quot; languageLevel=&quot;JDK_X&quot; default=&quot;true&quot; project-jdk-name=&quot;16&quot; project-jdk-type=&quot;JavaSDK&quot;&gt;\n</code></pre>\n<p>Close the project, change <code>languageLevel</code> to <code>16</code> and see if it helps.</p>\n<p>There was a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-240068\" rel=\"nofollow noreferrer\">related bug reported</a>, but it should be fixed in IntelliJ IDEA 2020.2 and later versions. Probably a regression.</p>\n"},{"tags":[],"owner":{"account_id":189205,"reputation":393,"user_id":428399,"accept_rate":83,"display_name":"Jakub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660281307,"creation_date":1660281307,"answer_id":73329521,"question_id":69398341,"body_markdown":"In my case it was the `build.gradle` file which at line \r\n`sourceCompatibility = &#39;18` had 18. I changed it to 11 and now I can build the project.","title":"IntelliJ 2021.2.2 gives error &#39;java: error: invalid source release: 18&#39; when compiling program","body":"<p>In my case it was the <code>build.gradle</code> file which at line\n<code>sourceCompatibility = '18</code> had 18. I changed it to 11 and now I can build the project.</p>\n"}],"owner":{"account_id":20563830,"reputation":3,"user_id":15093711,"display_name":"ADEX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69408381,"answer_count":2,"score":0,"last_activity_date":1660281307,"creation_date":1633032751,"question_id":69398341,"body_markdown":"I&#39;ve looked trough many answers here on so but haven&#39;t found anything helpful. I am using java version 16.0.1 My program doesn&#39;t use maven or gradle. The program worked fine until I updated my ij earlier today.\r\n\r\nFull error:\r\n```\r\n    Executing pre-compile tasks...\r\n    Loading Ant configuration...\r\n    Running Ant tasks...\r\n    Running &#39;before&#39; tasks\r\n    Checking sources\r\n    Parsing java... [Adexo]\r\n    java: error: invalid source release: 18\r\n    Checking dependencies... [Adexo]\r\n    Dependency analysis found 0 affected files\r\n    Errors occurred while compiling module &#39;Adexo&#39;\r\n    javac 11 was used to compile java sources\r\n    Finished, saving caches...\r\n    Module &#39;Adexo&#39; was fully rebuilt due to project configuration/dependencies changes\r\n    Compilation failed: errors: 1; warnings: 0\r\n    Executing post-compile tasks...\r\n    Loading Ant configuration...\r\n    Running Ant tasks...\r\n    Synchronizing output directories...\r\n\r\n    30.9.2021 22:34 - Build completed with 1 error and 0 warnings in 3 sec, 279 ms\r\n```\r\n\r\n![Project][1]\r\n![Modules][2]\r\n![Java Compiler][3]\r\n\r\nHere are the files from .idea and the .iml file: https://1drv.ms/u/s!AoGu278qdPOWgm-D3ns61-gqA4Ts?e=OWg0NB\r\n\r\nPlease tell if you need any more information (:\r\n\r\n  [1]: https://i.stack.imgur.com/Iz7HR.png\r\n  [2]: https://i.stack.imgur.com/KEDLQ.png\r\n  [3]: https://i.stack.imgur.com/vD1ms.png\r\n","title":"IntelliJ 2021.2.2 gives error &#39;java: error: invalid source release: 18&#39; when compiling program","body":"<p>I've looked trough many answers here on so but haven't found anything helpful. I am using java version 16.0.1 My program doesn't use maven or gradle. The program worked fine until I updated my ij earlier today.</p>\n<p>Full error:</p>\n<pre><code>    Executing pre-compile tasks...\n    Loading Ant configuration...\n    Running Ant tasks...\n    Running 'before' tasks\n    Checking sources\n    Parsing java... [Adexo]\n    java: error: invalid source release: 18\n    Checking dependencies... [Adexo]\n    Dependency analysis found 0 affected files\n    Errors occurred while compiling module 'Adexo'\n    javac 11 was used to compile java sources\n    Finished, saving caches...\n    Module 'Adexo' was fully rebuilt due to project configuration/dependencies changes\n    Compilation failed: errors: 1; warnings: 0\n    Executing post-compile tasks...\n    Loading Ant configuration...\n    Running Ant tasks...\n    Synchronizing output directories...\n\n    30.9.2021 22:34 - Build completed with 1 error and 0 warnings in 3 sec, 279 ms\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Iz7HR.png\" alt=\"Project\" />\n<img src=\"https://i.stack.imgur.com/KEDLQ.png\" alt=\"Modules\" />\n<img src=\"https://i.stack.imgur.com/vD1ms.png\" alt=\"Java Compiler\" /></p>\n<p>Here are the files from .idea and the .iml file: <a href=\"https://1drv.ms/u/s!AoGu278qdPOWgm-D3ns61-gqA4Ts?e=OWg0NB\" rel=\"nofollow noreferrer\">https://1drv.ms/u/s!AoGu278qdPOWgm-D3ns61-gqA4Ts?e=OWg0NB</a></p>\n<p>Please tell if you need any more information (:</p>\n"},{"tags":["java","sockets","frameworks","protocols","netty"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660281019,"creation_date":1660281019,"answer_id":73329494,"question_id":73329318,"body_markdown":"It seems you already picked netty, at least as tag. With that framework you do not do socket programming yourself. Go through the documentation and learn to focus on event handlers: What should happen when a message is received via the network?\r\n\r\nConsider such messages simply to be events, just like a mouse click or keyboard input.","title":"Need An Idea Of How To Setup This TCP/UDP Framework","body":"<p>It seems you already picked netty, at least as tag. With that framework you do not do socket programming yourself. Go through the documentation and learn to focus on event handlers: What should happen when a message is received via the network?</p>\n<p>Consider such messages simply to be events, just like a mouse click or keyboard input.</p>\n"}],"owner":{"account_id":26043687,"reputation":1,"user_id":19748001,"display_name":"iceblizzard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1660493674,"accepted_answer_id":73329494,"answer_count":1,"score":-1,"last_activity_date":1660281019,"creation_date":1660279036,"question_id":73329318,"body_markdown":"I am asking this as I am attempting to create a game library and I am kind of new to Socket programming and I was wondering if it is best that I use netty or plain old Socket.io for this. And when attempting this I just need an idea of how I should go about mixing TCP/UDP together within my framework for this section of what I am working on. ","title":"Need An Idea Of How To Setup This TCP/UDP Framework","body":"<p>I am asking this as I am attempting to create a game library and I am kind of new to Socket programming and I was wondering if it is best that I use netty or plain old Socket.io for this. And when attempting this I just need an idea of how I should go about mixing TCP/UDP together within my framework for this section of what I am working on.</p>\n"},{"tags":["java","spring-boot","jpa","specifications"],"answers":[{"tags":[],"owner":{"account_id":25512300,"reputation":26,"user_id":19303714,"display_name":"Hassan Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660280596,"creation_date":1660280596,"answer_id":73329450,"question_id":71904939,"body_markdown":"You can do the following:\r\n\r\n    public class AppSpecification&lt;T&gt; implements Specification&lt;T&gt;{\r\n\r\n    private SearchCriteria criteria;\r\n\r\n    public AppSpecification(SearchCriteria searchCriteria) {\r\n        this.criteria = searchCriteria;\r\n    }\r\n\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n        if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\r\n\r\n            return builder.greaterThanOrEqualTo(\r\n                    root.&lt;T&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n\r\n        }\r\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\r\n            return builder.lessThanOrEqualTo(\r\n                    root.&lt;T&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n        }\r\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\r\n            if (root.get(criteria.getKey()).getJavaType() == String.class) {\r\n                return builder.like(\r\n                        root.&lt;T&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\r\n            } else {\r\n                return builder.equal(root.get(criteria.getKey()), criteria.getValue());\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nthen you can initiate the class as follows:\r\n\r\n    var brandSpecification = new AppSpecification&lt;Brand&gt;(searchCriteria);\r\n\r\n","title":"Jpa Specification Generic type class","body":"<p>You can do the following:</p>\n<pre><code>public class AppSpecification&lt;T&gt; implements Specification&lt;T&gt;{\n\nprivate SearchCriteria criteria;\n\npublic AppSpecification(SearchCriteria searchCriteria) {\n    this.criteria = searchCriteria;\n}\n\n@Override\npublic Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n    if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\n\n        return builder.greaterThanOrEqualTo(\n                root.&lt;T&gt; get(criteria.getKey()), criteria.getValue().toString());\n\n    }\n    else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\n        return builder.lessThanOrEqualTo(\n                root.&lt;T&gt; get(criteria.getKey()), criteria.getValue().toString());\n    }\n    else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\n        if (root.get(criteria.getKey()).getJavaType() == String.class) {\n            return builder.like(\n                    root.&lt;T&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\n        } else {\n            return builder.equal(root.get(criteria.getKey()), criteria.getValue());\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>then you can initiate the class as follows:</p>\n<pre><code>var brandSpecification = new AppSpecification&lt;Brand&gt;(searchCriteria);\n</code></pre>\n"}],"owner":{"account_id":24767236,"reputation":3,"user_id":18651015,"display_name":"Luis Fer Salmeron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73329450,"answer_count":1,"score":0,"last_activity_date":1660280596,"creation_date":1650224763,"question_id":71904939,"body_markdown":"I&#39;m currently building a advance search for a project using Specifications and Criteria Builder, I have multiple entities that I would like to create a generic class Specification builder. My question, is it possible to do it? \r\n\r\nEntity example \r\n\r\n    @Entity\r\n    @Table(name = &quot;marcas&quot;)\r\n    public class Brand implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        @Column(name = &quot;nombre&quot;)\r\n        private String name;\r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;tipo_marca&quot;)\r\n        private Brandtype brandtype;\r\n        @Column(name = &quot;fecha_creacion&quot;)\r\n        private LocalDateTime creationDate;\r\n        @Column(name = &quot;fecha_actalizacion&quot;)\r\n        private LocalDateTime updateDate;\r\n    \r\n        @OneToMany(\r\n                mappedBy = &quot;brand&quot;,\r\n                fetch = FetchType.LAZY\r\n        )\r\n        private Set&lt;Bike&gt; bikes;\r\n    \r\n        @OneToMany(\r\n                mappedBy = &quot;brand&quot;,\r\n                fetch = FetchType.LAZY\r\n        )\r\n        private Set&lt;Model&gt; models;\r\n    \r\n        @OneToMany(\r\n                mappedBy = &quot;brand&quot;,\r\n                fetch = FetchType.LAZY\r\n        )\r\n        private Set&lt;Accesorie&gt; accesories;\r\n    \r\n        public Brand() {\r\n        }\r\n    \r\n        public Brand(Integer id, String name, Brandtype brandtype) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.brandtype = brandtype;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public Brandtype getBrandtype() {\r\n            return brandtype;\r\n        }\r\n    \r\n        public void setBrandtype(Brandtype brandtype) {\r\n            this.brandtype = brandtype;\r\n        }\r\n    \r\n        public Set&lt;Bike&gt; getBikes() {\r\n            return bikes;\r\n        }\r\n    \r\n        public void setBikes(Set&lt;Bike&gt; bikes) {\r\n            this.bikes = bikes;\r\n        }\r\n    \r\n        public Set&lt;Model&gt; getModels() {\r\n            return models;\r\n        }\r\n    \r\n        public void setModels(Set&lt;Model&gt; models) {\r\n            this.models = models;\r\n        }\r\n    \r\n        public Set&lt;Accesorie&gt; getAccesories() {\r\n            return accesories;\r\n        }\r\n    \r\n        public void setAccesories(Set&lt;Accesorie&gt; accesories) {\r\n            this.accesories = accesories;\r\n        }\r\n    \r\n        public LocalDateTime getCreationDate() {\r\n            return creationDate;\r\n        }\r\n    \r\n        public void setCreationDate(LocalDateTime creationDate) {\r\n            this.creationDate = creationDate;\r\n        }\r\n    \r\n        public LocalDateTime getUpdateDate() {\r\n            return updateDate;\r\n        }\r\n    \r\n        public void setUpdateDate(LocalDateTime updateDate) {\r\n            this.updateDate = updateDate;\r\n        }\r\n    \r\n        @PrePersist\r\n        public void beforeCreate(){\r\n            this.creationDate = LocalDateTime.now();\r\n        }\r\n    \r\n        @PreUpdate\r\n        public void beforeUpdate(){\r\n            this.updateDate = LocalDateTime.now();\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Brand{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, brandtype=&quot; + brandtype+\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Brand brand = (Brand) o;\r\n            return id.equals(brand.id) &amp;&amp; name.equals(brand.name);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id, name);\r\n        }\r\n    }\r\n\r\n\r\nReposotory example\r\n\r\n    @Repository\r\n    public interface BrandRepository extends PagingAndSortingRepository &lt;Brand, Integer&gt;, JpaSpecificationExecutor&lt;Brand&gt; {\r\n    \r\n    }\r\n\r\nSearch Criteria class:\r\n\r\n    public class SearchCriteria {\r\n        private String key;\r\n        private String operation;\r\n        private Object value;\r\n    \r\n        public SearchCriteria() {\r\n        }\r\n    \r\n        public SearchCriteria(String key, String operation, Object value) {\r\n            this.key = key;\r\n            this.operation = operation;\r\n            this.value = value;\r\n        }\r\n    \r\n        public String getKey() {\r\n            return key;\r\n        }\r\n    \r\n        public void setKey(String key) {\r\n            this.key = key;\r\n        }\r\n    \r\n        public String getOperation() {\r\n            return operation;\r\n        }\r\n    \r\n        public void setOperation(String operation) {\r\n            this.operation = operation;\r\n        }\r\n    \r\n        public Object getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(Object value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n\r\nAnd this is the class Specification:\r\n\r\n    public class BrandSpecification implements Specification&lt;Brand&gt;{\r\n    \r\n        private SearchCriteria criteria;\r\n    \r\n        public BrandSpecification(SearchCriteria searchCriteria) {\r\n            this.criteria = searchCriteria;\r\n        }\r\n    \r\n        @Override\r\n        public Predicate toPredicate(Root&lt;Brand&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n            if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\r\n                \r\n                return builder.greaterThanOrEqualTo(\r\n                        root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n    \r\n            }\r\n            else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\r\n                return builder.lessThanOrEqualTo(\r\n                        root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n            }\r\n            else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\r\n                if (root.get(criteria.getKey()).getJavaType() == String.class) {\r\n                    return builder.like(\r\n                            root.&lt;String&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\r\n                } else {\r\n                    return builder.equal(root.get(criteria.getKey()), criteria.getValue());\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public SearchCriteria getCriteria() {\r\n            return criteria;\r\n        }\r\n    \r\n        public void setCriteria(SearchCriteria criteria) {\r\n            this.criteria = criteria;\r\n        }\r\n    }\r\n\r\nI want to convert to generic so I can re use the code and dont need to rewrite it multiple times, can I have something like: `public class GenericSpecification implements Specification&lt;E&gt;{}`\r\n","title":"Jpa Specification Generic type class","body":"<p>I'm currently building a advance search for a project using Specifications and Criteria Builder, I have multiple entities that I would like to create a generic class Specification builder. My question, is it possible to do it?</p>\n<p>Entity example</p>\n<pre><code>@Entity\n@Table(name = &quot;marcas&quot;)\npublic class Brand implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @Column(name = &quot;nombre&quot;)\n    private String name;\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;tipo_marca&quot;)\n    private Brandtype brandtype;\n    @Column(name = &quot;fecha_creacion&quot;)\n    private LocalDateTime creationDate;\n    @Column(name = &quot;fecha_actalizacion&quot;)\n    private LocalDateTime updateDate;\n\n    @OneToMany(\n            mappedBy = &quot;brand&quot;,\n            fetch = FetchType.LAZY\n    )\n    private Set&lt;Bike&gt; bikes;\n\n    @OneToMany(\n            mappedBy = &quot;brand&quot;,\n            fetch = FetchType.LAZY\n    )\n    private Set&lt;Model&gt; models;\n\n    @OneToMany(\n            mappedBy = &quot;brand&quot;,\n            fetch = FetchType.LAZY\n    )\n    private Set&lt;Accesorie&gt; accesories;\n\n    public Brand() {\n    }\n\n    public Brand(Integer id, String name, Brandtype brandtype) {\n        this.id = id;\n        this.name = name;\n        this.brandtype = brandtype;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Brandtype getBrandtype() {\n        return brandtype;\n    }\n\n    public void setBrandtype(Brandtype brandtype) {\n        this.brandtype = brandtype;\n    }\n\n    public Set&lt;Bike&gt; getBikes() {\n        return bikes;\n    }\n\n    public void setBikes(Set&lt;Bike&gt; bikes) {\n        this.bikes = bikes;\n    }\n\n    public Set&lt;Model&gt; getModels() {\n        return models;\n    }\n\n    public void setModels(Set&lt;Model&gt; models) {\n        this.models = models;\n    }\n\n    public Set&lt;Accesorie&gt; getAccesories() {\n        return accesories;\n    }\n\n    public void setAccesories(Set&lt;Accesorie&gt; accesories) {\n        this.accesories = accesories;\n    }\n\n    public LocalDateTime getCreationDate() {\n        return creationDate;\n    }\n\n    public void setCreationDate(LocalDateTime creationDate) {\n        this.creationDate = creationDate;\n    }\n\n    public LocalDateTime getUpdateDate() {\n        return updateDate;\n    }\n\n    public void setUpdateDate(LocalDateTime updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    @PrePersist\n    public void beforeCreate(){\n        this.creationDate = LocalDateTime.now();\n    }\n\n    @PreUpdate\n    public void beforeUpdate(){\n        this.updateDate = LocalDateTime.now();\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Brand{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, brandtype=&quot; + brandtype+\n                '}';\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Brand brand = (Brand) o;\n        return id.equals(brand.id) &amp;&amp; name.equals(brand.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name);\n    }\n}\n</code></pre>\n<p>Reposotory example</p>\n<pre><code>@Repository\npublic interface BrandRepository extends PagingAndSortingRepository &lt;Brand, Integer&gt;, JpaSpecificationExecutor&lt;Brand&gt; {\n\n}\n</code></pre>\n<p>Search Criteria class:</p>\n<pre><code>public class SearchCriteria {\n    private String key;\n    private String operation;\n    private Object value;\n\n    public SearchCriteria() {\n    }\n\n    public SearchCriteria(String key, String operation, Object value) {\n        this.key = key;\n        this.operation = operation;\n        this.value = value;\n    }\n\n    public String getKey() {\n        return key;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public String getOperation() {\n        return operation;\n    }\n\n    public void setOperation(String operation) {\n        this.operation = operation;\n    }\n\n    public Object getValue() {\n        return value;\n    }\n\n    public void setValue(Object value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>And this is the class Specification:</p>\n<pre><code>public class BrandSpecification implements Specification&lt;Brand&gt;{\n\n    private SearchCriteria criteria;\n\n    public BrandSpecification(SearchCriteria searchCriteria) {\n        this.criteria = searchCriteria;\n    }\n\n    @Override\n    public Predicate toPredicate(Root&lt;Brand&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n        if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\n            \n            return builder.greaterThanOrEqualTo(\n                    root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\n\n        }\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\n            return builder.lessThanOrEqualTo(\n                    root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\n        }\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\n            if (root.get(criteria.getKey()).getJavaType() == String.class) {\n                return builder.like(\n                        root.&lt;String&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\n            } else {\n                return builder.equal(root.get(criteria.getKey()), criteria.getValue());\n            }\n        }\n        return null;\n    }\n\n    public SearchCriteria getCriteria() {\n        return criteria;\n    }\n\n    public void setCriteria(SearchCriteria criteria) {\n        this.criteria = criteria;\n    }\n}\n</code></pre>\n<p>I want to convert to generic so I can re use the code and dont need to rewrite it multiple times, can I have something like: <code>public class GenericSpecification implements Specification&lt;E&gt;{}</code></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10024511,"reputation":1639,"user_id":7413066,"display_name":"Ali Asjad"},"score":0,"creation_date":1660280022,"post_id":73329352,"comment_id":129499814,"body_markdown":"Because you are not calling `getAddress ()` when the save button of dialog is pressed.","body":"Because you are not calling <code>getAddress ()</code> when the save button of dialog is pressed."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1660287575,"post_id":73329352,"comment_id":129501443,"body_markdown":"In the `onSuccess` callback, you should build &amp; add the `Address` object &amp; then add it via the `mAddressList.add(addresses);`.","body":"In the <code>onSuccess</code> callback, you should build &amp; add the <code>Address</code> object &amp; then add it via the <code>mAddressList.add(addresses);</code>."}],"owner":{"account_id":22006918,"reputation":1,"user_id":16277732,"display_name":"Vektor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660280445,"creation_date":1660279446,"question_id":73329352,"body_markdown":"The thing is that when I add the data that I entered using the AlertDialog and the data can be added to the database, however the recyclerview did not refresh. But I have added the notifyDataSetChanged and it still doesn&#39;t work. I don&#39;t have much experience in coding. I hope you could help me out! Thank you so much. Following is the code:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_manage_address);\r\n\r\n        fStore = FirebaseFirestore.getInstance();\r\n        fAuth = FirebaseAuth.getInstance();\r\n        userId = fAuth.getCurrentUser().getUid();\r\n\r\n        fab = findViewById(R.id.addressfab);\r\n\r\n        recyclerView = findViewById(R.id.manageAddressRV);\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        linearLayoutManager.setReverseLayout(true);\r\n        // use this setting to improve performance if you know that changes in content do not change the layout size of the RecyclerView\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(linearLayoutManager);\r\n\r\n        mAddressList = new ArrayList&lt;&gt;();\r\n        mAdapterAddress  = new AdapterAddress(mAddressList, ManageAddress.this);\r\n        recyclerView.setAdapter(mAdapterAddress);\r\n\r\n        getAddress();\r\n\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                addAddress();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void getAddress(){\r\n        fStore.collection(&quot;Users&quot;).document(userId).collection(&quot;Address&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                mAddressList.clear();\r\n\r\n                for (int i=0; i&lt;queryDocumentSnapshots.size();i++){\r\n                    DocumentSnapshot documentSnapshot = queryDocumentSnapshots.getDocuments().get(i);\r\n\r\n                    if(documentSnapshot.exists()) {\r\n\r\n                        String id = documentSnapshot.getId();\r\n                        String address = documentSnapshot.getString(&quot;Address&quot;);\r\n\r\n                        Address  addresses = new Address (id, address);\r\n\r\n                        mAddressList.add(addresses);\r\n                    }\r\n                }\r\n\r\n                mAdapterAddress.notifyDataSetChanged();\r\n\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void addAddress(){\r\n        AlertDialog.Builder myDialog = new AlertDialog.Builder(this);\r\n        LayoutInflater inflater = LayoutInflater.from(this);\r\n        View myView = inflater.inflate(R.layout.address_input_layout, null);\r\n        myDialog.setView(myView);\r\n\r\n        final  AlertDialog dialog = myDialog.create();\r\n        dialog.setCancelable(false);\r\n\r\n        final EditText userAddress = myView.findViewById(R.id.userAddress);\r\n\r\n        final Button cancel = myView.findViewById(R.id.cancel);\r\n        final  Button save = myView.findViewById(R.id.save);\r\n\r\n        save.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String UserAddress = userAddress.getText().toString();\r\n\r\n                if(UserAddress.isEmpty()){\r\n                    userAddress.setError(&quot;Address is Required&quot;);\r\n                    userAddress.requestFocus();\r\n                    return;\r\n                }\r\n                else {\r\n                    Map&lt;String, Object&gt; AddAddress = new HashMap&lt;&gt;();\r\n\r\n                    AddAddress.put(&quot;Address&quot;,userAddress.getText().toString());\r\n\r\n                    fStore.collection(&quot;Users&quot;).document(userId).collection(&quot;Address&quot;)\r\n                            .add(AddAddress)\r\n                            .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                                @Override\r\n                                public void onSuccess(DocumentReference documentReference) {\r\n                                    Toast.makeText(ManageAddress.this,&quot;Address has been added successfully!&quot;, Toast.LENGTH_LONG).show();\r\n                                }\r\n                            })\r\n                            .addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                }\r\n                            });\r\n                }\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n        cancel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n        dialog.show();\r\n    }","title":"RecyclerView Items are not refreshing","body":"<p>The thing is that when I add the data that I entered using the AlertDialog and the data can be added to the database, however the recyclerview did not refresh. But I have added the notifyDataSetChanged and it still doesn't work. I don't have much experience in coding. I hope you could help me out! Thank you so much. Following is the code:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_manage_address);\n\n    fStore = FirebaseFirestore.getInstance();\n    fAuth = FirebaseAuth.getInstance();\n    userId = fAuth.getCurrentUser().getUid();\n\n    fab = findViewById(R.id.addressfab);\n\n    recyclerView = findViewById(R.id.manageAddressRV);\n    LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n    linearLayoutManager.setStackFromEnd(true);\n    linearLayoutManager.setReverseLayout(true);\n    // use this setting to improve performance if you know that changes in content do not change the layout size of the RecyclerView\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(linearLayoutManager);\n\n    mAddressList = new ArrayList&lt;&gt;();\n    mAdapterAddress  = new AdapterAddress(mAddressList, ManageAddress.this);\n    recyclerView.setAdapter(mAdapterAddress);\n\n    getAddress();\n\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            addAddress();\n        }\n    });\n}\n\nprivate void getAddress(){\n    fStore.collection(&quot;Users&quot;).document(userId).collection(&quot;Address&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n            mAddressList.clear();\n\n            for (int i=0; i&lt;queryDocumentSnapshots.size();i++){\n                DocumentSnapshot documentSnapshot = queryDocumentSnapshots.getDocuments().get(i);\n\n                if(documentSnapshot.exists()) {\n\n                    String id = documentSnapshot.getId();\n                    String address = documentSnapshot.getString(&quot;Address&quot;);\n\n                    Address  addresses = new Address (id, address);\n\n                    mAddressList.add(addresses);\n                }\n            }\n\n            mAdapterAddress.notifyDataSetChanged();\n\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n\n        }\n    });\n}\n\n\nprivate void addAddress(){\n    AlertDialog.Builder myDialog = new AlertDialog.Builder(this);\n    LayoutInflater inflater = LayoutInflater.from(this);\n    View myView = inflater.inflate(R.layout.address_input_layout, null);\n    myDialog.setView(myView);\n\n    final  AlertDialog dialog = myDialog.create();\n    dialog.setCancelable(false);\n\n    final EditText userAddress = myView.findViewById(R.id.userAddress);\n\n    final Button cancel = myView.findViewById(R.id.cancel);\n    final  Button save = myView.findViewById(R.id.save);\n\n    save.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            String UserAddress = userAddress.getText().toString();\n\n            if(UserAddress.isEmpty()){\n                userAddress.setError(&quot;Address is Required&quot;);\n                userAddress.requestFocus();\n                return;\n            }\n            else {\n                Map&lt;String, Object&gt; AddAddress = new HashMap&lt;&gt;();\n\n                AddAddress.put(&quot;Address&quot;,userAddress.getText().toString());\n\n                fStore.collection(&quot;Users&quot;).document(userId).collection(&quot;Address&quot;)\n                        .add(AddAddress)\n                        .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                            @Override\n                            public void onSuccess(DocumentReference documentReference) {\n                                Toast.makeText(ManageAddress.this,&quot;Address has been added successfully!&quot;, Toast.LENGTH_LONG).show();\n                            }\n                        })\n                        .addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                            }\n                        });\n            }\n            dialog.dismiss();\n        }\n    });\n    cancel.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            dialog.dismiss();\n        }\n    });\n    dialog.show();\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","java-8","mockito"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660279760,"creation_date":1660279760,"answer_id":73329371,"question_id":73325227,"body_markdown":"Usage of Stream API is awful. The following code:\r\n\r\n```java\r\n    List&lt;User&gt; pmUsers = ldapUsers.stream()\r\n            .filter(personDTO -&gt; userRepository.getUserByUserId(personDTO.getUserId()).isPresent())\r\n            .map(PersonDTO::getUserId)\r\n            .map(userRepository::getUserByUserId)\r\n            .map(Optional::get)\r\n            .collect(Collectors.toList());\r\n\r\n    List&lt;String&gt; idsToBeDeleted = pmUsers.stream().map(User::get_id).collect(Collectors.toList());\r\n```\r\n\r\ncould be replaced by:\r\n\r\n```java\r\nList&lt;String&gt; idsToBeDeleted = ldapUsers.stream()\r\n        .map(PersonDTO::getUserId)\r\n        .map(userRepository::getUserByUserId)\r\n        .flatMap(Optional::stream)\r\n        .map(User::get_id)\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nHowever, that won&#39;t help much, cause your case is actually demonstrating the situation when attempt to write unit test reveals broken API. Basically, method `#removeUsers` instead of being `void` must return information about which users have been deleted and which haven&#39;t and why, after refactoring `#removeUsers` you will able to pass there any input and check the output.","title":"How to write unit test cases or mock for this type of method or is my custom method removeUsers not good enough for unit tests?","body":"<p>Usage of Stream API is awful. The following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;User&gt; pmUsers = ldapUsers.stream()\n            .filter(personDTO -&gt; userRepository.getUserByUserId(personDTO.getUserId()).isPresent())\n            .map(PersonDTO::getUserId)\n            .map(userRepository::getUserByUserId)\n            .map(Optional::get)\n            .collect(Collectors.toList());\n\n    List&lt;String&gt; idsToBeDeleted = pmUsers.stream().map(User::get_id).collect(Collectors.toList());\n</code></pre>\n<p>could be replaced by:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; idsToBeDeleted = ldapUsers.stream()\n        .map(PersonDTO::getUserId)\n        .map(userRepository::getUserByUserId)\n        .flatMap(Optional::stream)\n        .map(User::get_id)\n        .collect(Collectors.toList());\n</code></pre>\n<p>However, that won't help much, cause your case is actually demonstrating the situation when attempt to write unit test reveals broken API. Basically, method <code>#removeUsers</code> instead of being <code>void</code> must return information about which users have been deleted and which haven't and why, after refactoring <code>#removeUsers</code> you will able to pass there any input and check the output.</p>\n"}],"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1660279760,"creation_date":1660241879,"question_id":73325227,"body_markdown":"I am totally new to java 8 and unit tests. I am confused how do we write unit test cases scenario for this method RemoveUsers().\r\nThis is my class \r\n\r\n  \r\n\r\n  \r\n    \r\n    @Slf4j\r\n    @Service\r\n    public class LdapService {\r\n        private final UserRepository userRepository;\r\n        private final MessageResolver messageResolver;\r\n    \r\n        @Autowired\r\n        public LdapService(UserRepository userRepository, MessageResolver messageResolver) {\r\n            this.userRepository = userRepository;\r\n            this.messageResolver = messageResolver;\r\n        }\r\n    \r\n          public void removeUsers(List&lt;PersonDTO&gt; ldapUsers) {\r\n\r\n        List&lt;User&gt; pmUsers = ldapUsers.stream()\r\n                .filter(personDTO -&gt; userRepository.getUserByUserId(personDTO.getUserId()).isPresent())\r\n                .map(PersonDTO::getUserId)\r\n                .map(userRepository::getUserByUserId)\r\n                .map(Optional::get)\r\n                .collect(Collectors.toList());\r\n\r\n        List&lt;String&gt; idsToBeDeleted = pmUsers.stream().map(User::get_id).collect(Collectors.toList());\r\n\r\n        idsToBeDeleted.forEach(id -&gt; {\r\n            try {\r\n                userRepository.deleteUser(id);\r\n            } catch (DbApiException | RestApiException | IOException e) {\r\n                log.error(messageResolver.message(MessageKeyEnum.ERROR_WHILE_DELETING_DATA));\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n       \r\n    \r\n   \r\n\r\n\r\nI  tried to do below, but i am unable to figure it out how and I am sure the below unit test what i wrote needs modification. Could anyone help me out here?\r\n\r\n\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass Test {\r\n\r\n    @InjectMocks\r\n    private LdapService ldapService;\r\n\r\n    @Mock\r\n    private UserRepository userRepository;\r\n\r\n    @Test\r\n    void expectSuccesOnRemoveUsers() throws IOException {\r\n        List&lt;PersonDTO&gt; personDTOList = Arrays.asList(\r\n                PersonDTO.builder().dn(&quot;CN=abk_tch,OU=Users,OU=Bangalore,DC=apac,DC=dell,DC=com&quot;).userId(&quot;admin&quot;).build());\r\n        String userId = &quot;admin&quot;;\r\n        UserUpdate userMock = UserUpdateMock.mockLdapUserWithDefaultValues().build();\r\n        when(userRepository.getUserByUserId(userId)).thenReturn(Optional.of(userMock));\r\n        ldapUserService.removeUsers(personDTOList);\r\n        verify(userRepository,times(1)).deleteUser(userId);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nSome object structure are mentioned below\r\n\r\ngetUserByUserId(id) returns Optional users\r\n\r\ndeleteUser(id) is void method receiving id\r\n\r\nand personDto is as below\r\n\r\npublic class PersonDTO {\r\n\r\n    private String userId;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String dn;\r\n}","title":"How to write unit test cases or mock for this type of method or is my custom method removeUsers not good enough for unit tests?","body":"<p>I am totally new to java 8 and unit tests. I am confused how do we write unit test cases scenario for this method RemoveUsers().\nThis is my class</p>\n<pre><code>@Slf4j\n@Service\npublic class LdapService {\n    private final UserRepository userRepository;\n    private final MessageResolver messageResolver;\n\n    @Autowired\n    public LdapService(UserRepository userRepository, MessageResolver messageResolver) {\n        this.userRepository = userRepository;\n        this.messageResolver = messageResolver;\n    }\n\n      public void removeUsers(List&lt;PersonDTO&gt; ldapUsers) {\n\n    List&lt;User&gt; pmUsers = ldapUsers.stream()\n            .filter(personDTO -&gt; userRepository.getUserByUserId(personDTO.getUserId()).isPresent())\n            .map(PersonDTO::getUserId)\n            .map(userRepository::getUserByUserId)\n            .map(Optional::get)\n            .collect(Collectors.toList());\n\n    List&lt;String&gt; idsToBeDeleted = pmUsers.stream().map(User::get_id).collect(Collectors.toList());\n\n    idsToBeDeleted.forEach(id -&gt; {\n        try {\n            userRepository.deleteUser(id);\n        } catch (DbApiException | RestApiException | IOException e) {\n            log.error(messageResolver.message(MessageKeyEnum.ERROR_WHILE_DELETING_DATA));\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>I  tried to do below, but i am unable to figure it out how and I am sure the below unit test what i wrote needs modification. Could anyone help me out here?</p>\n<p>@ExtendWith(MockitoExtension.class)\nclass Test {</p>\n<pre><code>@InjectMocks\nprivate LdapService ldapService;\n\n@Mock\nprivate UserRepository userRepository;\n\n@Test\nvoid expectSuccesOnRemoveUsers() throws IOException {\n    List&lt;PersonDTO&gt; personDTOList = Arrays.asList(\n            PersonDTO.builder().dn(&quot;CN=abk_tch,OU=Users,OU=Bangalore,DC=apac,DC=dell,DC=com&quot;).userId(&quot;admin&quot;).build());\n    String userId = &quot;admin&quot;;\n    UserUpdate userMock = UserUpdateMock.mockLdapUserWithDefaultValues().build();\n    when(userRepository.getUserByUserId(userId)).thenReturn(Optional.of(userMock));\n    ldapUserService.removeUsers(personDTOList);\n    verify(userRepository,times(1)).deleteUser(userId);\n}\n</code></pre>\n<p>}</p>\n<p>Some object structure are mentioned below</p>\n<p>getUserByUserId(id) returns Optional users</p>\n<p>deleteUser(id) is void method receiving id</p>\n<p>and personDto is as below</p>\n<p>public class PersonDTO {</p>\n<pre><code>private String userId;\nprivate String firstName;\nprivate String lastName;\nprivate String email;\nprivate String dn;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","multithreading","locking","semaphore"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1642695756,"post_id":70789755,"comment_id":125145381,"body_markdown":"We&#39;d need sample code to be sure what you are asking, but taking a guess I&#39;d say locks should be declared final, which is better.  If not final then definitely volatile.  The locks themselves synchronize their internal state, so you don&#39;t have to worry about method calls being visible (read about it on the Java doc pages).","body":"We&#39;d need sample code to be sure what you are asking, but taking a guess I&#39;d say locks should be declared final, which is better.  If not final then definitely volatile.  The locks themselves synchronize their internal state, so you don&#39;t have to worry about method calls being visible (read about it on the Java doc pages)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643490824,"post_id":70789755,"comment_id":125355667,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642745652,"creation_date":1642745652,"answer_id":70797127,"question_id":70789755,"body_markdown":"Typically you want to make the lock final because once the lock instance is set, you don&#39;t want to change it.\r\n\r\nBut for discussion&#39;s sake, if you don&#39;t want to make it final, it is in most cases fine if the lock is NOT volatile. What typically happens is that one thread creates some data-structure holding the lock and using safe publication, the object is shared with other threads. Due to this safe-publication, the other threads will see a properly initialized lock.\r\n\r\nSafe-publication can be done in various ways like passing the object to the constructor of a thread, using a synchronized block, or using a volatile.","title":"Does one need to declare java synchronization mechanisms (locks, ,semaphores etc) as volatile?","body":"<p>Typically you want to make the lock final because once the lock instance is set, you don't want to change it.</p>\n<p>But for discussion's sake, if you don't want to make it final, it is in most cases fine if the lock is NOT volatile. What typically happens is that one thread creates some data-structure holding the lock and using safe publication, the object is shared with other threads. Due to this safe-publication, the other threads will see a properly initialized lock.</p>\n<p>Safe-publication can be done in various ways like passing the object to the constructor of a thread, using a synchronized block, or using a volatile.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660279134,"creation_date":1660279134,"answer_id":73329329,"question_id":70789755,"body_markdown":"I think this question fundamentally misses the point of how locks, semaphores, etc work.\r\n\r\nThe specific question asks whether using &quot;volatile&quot; is necessary.\r\nMaybe take a read through the Java Tutorial section [Atomic Access](https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html) –\r\nthere&#39;s some discussion about &quot;volatile&quot; and how to use it, with a primary point being that it&#39;s about things _changing_.\r\n\r\nHere&#39;s a statement to consider using a [Semaphore](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html) – `Semaphore s = new Semaphore(1)` – along with a few points:\r\n* an object is created: `new Semaphore(1)`\r\n* a reference is declared: `Semaphore s`\r\n* the reference is associated with the object: `s` points to new object\r\n\r\nTo make use of the &quot;volatile&quot; keyword, you would\r\ndesignate the reference – `s` – to be volatile (not the object) like this:\r\n```\r\nvolatile Semaphore s = new Semaphore(1);\r\n```\r\nWhy do that? That could be useful if you later allocated a new Semaphore altogether, like: `s = new Semaphore(5)`, and you had concurrency concerns about\r\nall threads seeing the newly allocated `Semaphore(5)` (instead of `Semaphore(1)` which was allocated earlier).\r\n\r\nBut why do _that_? Why change a shared object at runtime?\r\nThe scenarios in which such a thing would happen seem completely unrealistic. The scenario would be: there are threads with a\r\nshared synchronization mechanism (such as a Semaphore), and they&#39;re actively running,\r\nactively using the semaphore to coordinate execution...\r\nthen somehow, for some reason, the underlying coordination component (the semaphore) changes mid-runtime (?).\r\n\r\nI cannot imagine any scenarios where\r\nsuch a circumstance would arise, other than just flat out doing synchronization incorrectly.\r\n\r\nAll of this to say: no, do not use &quot;volatile&quot;. Instead, use `final`.\r\n","title":"Does one need to declare java synchronization mechanisms (locks, ,semaphores etc) as volatile?","body":"<p>I think this question fundamentally misses the point of how locks, semaphores, etc work.</p>\n<p>The specific question asks whether using &quot;volatile&quot; is necessary.\nMaybe take a read through the Java Tutorial section <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">Atomic Access</a> –\nthere's some discussion about &quot;volatile&quot; and how to use it, with a primary point being that it's about things <em>changing</em>.</p>\n<p>Here's a statement to consider using a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\">Semaphore</a> – <code>Semaphore s = new Semaphore(1)</code> – along with a few points:</p>\n<ul>\n<li>an object is created: <code>new Semaphore(1)</code></li>\n<li>a reference is declared: <code>Semaphore s</code></li>\n<li>the reference is associated with the object: <code>s</code> points to new object</li>\n</ul>\n<p>To make use of the &quot;volatile&quot; keyword, you would\ndesignate the reference – <code>s</code> – to be volatile (not the object) like this:</p>\n<pre><code>volatile Semaphore s = new Semaphore(1);\n</code></pre>\n<p>Why do that? That could be useful if you later allocated a new Semaphore altogether, like: <code>s = new Semaphore(5)</code>, and you had concurrency concerns about\nall threads seeing the newly allocated <code>Semaphore(5)</code> (instead of <code>Semaphore(1)</code> which was allocated earlier).</p>\n<p>But why do <em>that</em>? Why change a shared object at runtime?\nThe scenarios in which such a thing would happen seem completely unrealistic. The scenario would be: there are threads with a\nshared synchronization mechanism (such as a Semaphore), and they're actively running,\nactively using the semaphore to coordinate execution...\nthen somehow, for some reason, the underlying coordination component (the semaphore) changes mid-runtime (?).</p>\n<p>I cannot imagine any scenarios where\nsuch a circumstance would arise, other than just flat out doing synchronization incorrectly.</p>\n<p>All of this to say: no, do not use &quot;volatile&quot;. Instead, use <code>final</code>.</p>\n"}],"owner":{"account_id":10358788,"reputation":11,"user_id":7639872,"display_name":"Gaurav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660279134,"creation_date":1642695621,"question_id":70789755,"body_markdown":"If a lock/semaphore is being used by multiple threads for synchronization, does one need to declare it as volatile? Are the member variables of locks/semaphores itself guaranteed to reflect the latest state for all threads (similar to volatile variables)? ","title":"Does one need to declare java synchronization mechanisms (locks, ,semaphores etc) as volatile?","body":"<p>If a lock/semaphore is being used by multiple threads for synchronization, does one need to declare it as volatile? Are the member variables of locks/semaphores itself guaranteed to reflect the latest state for all threads (similar to volatile variables)?</p>\n"},{"tags":["java","android","android-studio","menu"],"answers":[{"tags":[],"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660278573,"creation_date":1660278573,"answer_id":73329273,"question_id":73328978,"body_markdown":"It is called Navigation Drawer, you can follow tutorial in this link to learn how to create it:\r\nhttps://guides.codepath.com/android/Fragment-Navigation-Drawer\r\n","title":"Advanced menu in Java with Android Studio","body":"<p>It is called Navigation Drawer, you can follow tutorial in this link to learn how to create it:\n<a href=\"https://guides.codepath.com/android/Fragment-Navigation-Drawer\" rel=\"nofollow noreferrer\">https://guides.codepath.com/android/Fragment-Navigation-Drawer</a></p>\n"}],"owner":{"account_id":25778474,"reputation":11,"user_id":19524413,"display_name":"F.chamani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660278573,"creation_date":1660275125,"question_id":73328978,"body_markdown":"I designed a menu using Java language and now I want each menu item to go to the desired page when clicked.\r\nAnd one more thing is that I want to have a light and dark mode in my menu, how do I do it?\r\nBut I don&#39;t know, can you please introduce me the pages that have this training[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q4oKB.jpg\r\n\r\n\r\n\r\n\r\nI have made the menu but I don&#39;t know how to add day and night mode\r\nand opening each menu item in a separate page","title":"Advanced menu in Java with Android Studio","body":"<p>I designed a menu using Java language and now I want each menu item to go to the desired page when clicked.\nAnd one more thing is that I want to have a light and dark mode in my menu, how do I do it?\nBut I don't know, can you please introduce me the pages that have this training<a href=\"https://i.stack.imgur.com/q4oKB.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have made the menu but I don't know how to add day and night mode\nand opening each menu item in a separate page</p>\n"},{"tags":["java","generics","reflection","collections"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1660270077,"post_id":73328558,"comment_id":129498497,"body_markdown":"`x = new LinkedHashSet( existingSet )` will create a new set with all the members of the existing set.  I&#39;m having trouble understanding what your code above actually does.","body":"<code>x = new LinkedHashSet( existingSet )</code> will create a new set with all the members of the existing set.  I&#39;m having trouble understanding what your code above actually does."},{"owner":{"account_id":25708523,"reputation":11,"user_id":19467443,"display_name":"Kevin Paul"},"score":0,"creation_date":1660270380,"post_id":73328558,"comment_id":129498540,"body_markdown":"I mean that I will not specify what the Set is. The specific type of set is passed with a parameter Class&lt;? extends Set&gt; cls, which means I have to create a new set with reflection.","body":"I mean that I will not specify what the Set is. The specific type of set is passed with a parameter Class&lt;? extends Set&gt; cls, which means I have to create a new set with reflection."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1660271440,"post_id":73328558,"comment_id":129498681,"body_markdown":"It would probably be easier and cleaner to pass a `Supplier&lt;Set&lt;String&gt;&gt;`","body":"It would probably be easier and cleaner to pass a <code>Supplier&lt;Set&lt;String&gt;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660277009,"creation_date":1660277009,"answer_id":73329135,"question_id":73328558,"body_markdown":"The warning is unavoidable. Isolate it in a helper method and toss the appropriate `@SuppressWarnings` at it. Or, refactor how this thing works. In general, the generics of `Class&lt;?&gt;` are weird and don&#39;t work well; if you try to write code that relies on the generics part to make it work, it&#39;s likely to result in many situations where you can&#39;t avoid these warnings, and the API is suboptimal.&lt;sup&gt;1&lt;/sup&gt;\r\n\r\nOne tricky way to do what you&#39;re trying to do here in a one-size-fits-all way is so-called Super Type Tokens. You can search the web for this concept, because for what you&#39;re specifically doing here, STTs are overkill. What you are looking for, is a _supplier_.\r\n\r\nYou want the caller not to pass you the type of a set. No. You want the caller to pass you a piece of code that, if executed, creates the set.\r\n\r\nWhile we&#39;re at it, let&#39;s get rid of the array, you&#39;re shifting the elements through that array for absolutely no sensible reason.\r\n\r\n```\r\npublic &lt;S extends Set&lt;String&gt;&gt; S decodeStringSet(String key, @Nullable Set&lt;String&gt; defaultValue, Supplier&lt;S&gt; setMaker) {\r\n    Set&lt;String&gt; result = sp.getStringSet(key, defaultValue);\r\n    if(result == null) return defaultValue;\r\n\r\n    S a = setMaker.get();\r\n    a.addAll(result);\r\n    return a;\r\n}\r\n```\r\n\r\nThis code can be used as follows:\r\n\r\n```\r\nLinkedHashSet&lt;String&gt; mySet = decodeStringSet(&quot;myKey&quot;, null, LinkedHashSet::new);\r\n```\r\n\r\nPerhaps you&#39;re unfamiliar with this syntax. `new LinkedHashSet()` will, when you run that code, create a LinkedHashSet. In contrast, `LinkedHashSet::new` will, when you run that code, produce an object that can be asked to create a LinkedHashSet, by invoking its `get()` method. One does the act right this very moment. The other wraps &#39;do the act&#39; into a little machine. You can hand the machine to other code, or press the button on the machine to make it do the act, and you can press the button as often as you feel like.\r\n\r\n\r\n\r\n-----\r\n\r\n[1] Need some more explanations as to why relying on the generics of `j.l.Class` is awkward and not a good idea?\r\n\r\nA class object simply __cannot__, itself, represent generics, whereas generics can represent generics. That is: `List&lt;List&lt;String&gt;&gt;` is perfectly fine. However, `Class&lt;List&lt;String&gt;&gt;` does not make sense. You can write it, (j.l.Class does not have hardcoded rules to keep sanity alive in the langspec), but it doesn&#39;t represent anything: There&#39;s just one class object that represents the type `j.u.List`. This one object cannot therefore represent the generics; you can&#39;t have one class object representing `List&lt;String&gt;` and another representing `List&lt;Integer&gt;`. Less important, but still annoying - there are things class objects can represent that generics cannot. `int.class` is types as `Class&lt;Integer&gt;` but this isn&#39;t quite right.\r\n\r\nHence, in your example, the compiler consider `Class&lt;? extends Set&gt;` as problematic; it&#39;s got a raw type _inside_ the generics. However, it is technically correct, in that it is not possible to represent e.g. a `Set&lt;T&gt;`, merely &#39;a Set, whose generics are unknown, given that j.l.Class objects cannot represent them&#39;.\r\n\r\nLastly, classes basically only produce (the P in PECS - which explains what the difference is between `&lt;Number&gt;`, `&lt;? extends Number&gt;`, and `&lt;? super Number&gt;`); it is mentally difficult to fathom the difference between `Class&lt;? extends String&gt;` and `Class&lt;String&gt;`, because it&#39;s an irrelevant difference, given that j.l.Class only produces. And yet, often you really do need to write `Class&lt;? extends String&gt;` because if you don&#39;t, the compiler refuses to compile your code for imaginary, irrelevant reasons. That&#39;s because, again, j.l.Class is not hardcoded in the lang spec: The compiler does not _know_ that there is no effective distinction between `Class&lt;T&gt;` and `Class&lt;? extends T&gt;`, and java does not have a way to mark off a given generics param as forced Produces-only or some such.\r\n\r\n","title":"How to specify the generic type of a collection?","body":"<p>The warning is unavoidable. Isolate it in a helper method and toss the appropriate <code>@SuppressWarnings</code> at it. Or, refactor how this thing works. In general, the generics of <code>Class&lt;?&gt;</code> are weird and don't work well; if you try to write code that relies on the generics part to make it work, it's likely to result in many situations where you can't avoid these warnings, and the API is suboptimal.<sup>1</sup></p>\n<p>One tricky way to do what you're trying to do here in a one-size-fits-all way is so-called Super Type Tokens. You can search the web for this concept, because for what you're specifically doing here, STTs are overkill. What you are looking for, is a <em>supplier</em>.</p>\n<p>You want the caller not to pass you the type of a set. No. You want the caller to pass you a piece of code that, if executed, creates the set.</p>\n<p>While we're at it, let's get rid of the array, you're shifting the elements through that array for absolutely no sensible reason.</p>\n<pre><code>public &lt;S extends Set&lt;String&gt;&gt; S decodeStringSet(String key, @Nullable Set&lt;String&gt; defaultValue, Supplier&lt;S&gt; setMaker) {\n    Set&lt;String&gt; result = sp.getStringSet(key, defaultValue);\n    if(result == null) return defaultValue;\n\n    S a = setMaker.get();\n    a.addAll(result);\n    return a;\n}\n</code></pre>\n<p>This code can be used as follows:</p>\n<pre><code>LinkedHashSet&lt;String&gt; mySet = decodeStringSet(&quot;myKey&quot;, null, LinkedHashSet::new);\n</code></pre>\n<p>Perhaps you're unfamiliar with this syntax. <code>new LinkedHashSet()</code> will, when you run that code, create a LinkedHashSet. In contrast, <code>LinkedHashSet::new</code> will, when you run that code, produce an object that can be asked to create a LinkedHashSet, by invoking its <code>get()</code> method. One does the act right this very moment. The other wraps 'do the act' into a little machine. You can hand the machine to other code, or press the button on the machine to make it do the act, and you can press the button as often as you feel like.</p>\n<hr />\n<p>[1] Need some more explanations as to why relying on the generics of <code>j.l.Class</code> is awkward and not a good idea?</p>\n<p>A class object simply <strong>cannot</strong>, itself, represent generics, whereas generics can represent generics. That is: <code>List&lt;List&lt;String&gt;&gt;</code> is perfectly fine. However, <code>Class&lt;List&lt;String&gt;&gt;</code> does not make sense. You can write it, (j.l.Class does not have hardcoded rules to keep sanity alive in the langspec), but it doesn't represent anything: There's just one class object that represents the type <code>j.u.List</code>. This one object cannot therefore represent the generics; you can't have one class object representing <code>List&lt;String&gt;</code> and another representing <code>List&lt;Integer&gt;</code>. Less important, but still annoying - there are things class objects can represent that generics cannot. <code>int.class</code> is types as <code>Class&lt;Integer&gt;</code> but this isn't quite right.</p>\n<p>Hence, in your example, the compiler consider <code>Class&lt;? extends Set&gt;</code> as problematic; it's got a raw type <em>inside</em> the generics. However, it is technically correct, in that it is not possible to represent e.g. a <code>Set&lt;T&gt;</code>, merely 'a Set, whose generics are unknown, given that j.l.Class objects cannot represent them'.</p>\n<p>Lastly, classes basically only produce (the P in PECS - which explains what the difference is between <code>&lt;Number&gt;</code>, <code>&lt;? extends Number&gt;</code>, and <code>&lt;? super Number&gt;</code>); it is mentally difficult to fathom the difference between <code>Class&lt;? extends String&gt;</code> and <code>Class&lt;String&gt;</code>, because it's an irrelevant difference, given that j.l.Class only produces. And yet, often you really do need to write <code>Class&lt;? extends String&gt;</code> because if you don't, the compiler refuses to compile your code for imaginary, irrelevant reasons. That's because, again, j.l.Class is not hardcoded in the lang spec: The compiler does not <em>know</em> that there is no effective distinction between <code>Class&lt;T&gt;</code> and <code>Class&lt;? extends T&gt;</code>, and java does not have a way to mark off a given generics param as forced Produces-only or some such.</p>\n"}],"owner":{"account_id":25708523,"reputation":11,"user_id":19467443,"display_name":"Kevin Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660278181,"creation_date":1660269902,"question_id":73328558,"body_markdown":"I want to define a function which can convert a kind of Set&lt;String&gt; to another, like convert HashSet&lt;String&gt; to LinkedHashSet&lt;String&gt;. Here is the function declaration. The sp is sharedpreferences.\r\n\r\n    public Set&lt;String&gt; decodeStringSet(String key, @Nullable Set&lt;String&gt; defaultValue, Class&lt;? extends Set&gt; cls){\r\n        Set&lt;String&gt; result = sp.getStringSet(key, defaultValue);\r\n        if(result == null){\r\n            return defaultValue;\r\n        }\r\n        else {\r\n            String[] array = result.toArray(new String[0]);\r\n            Set&lt;String&gt; a;\r\n            try {\r\n                a = cls.newInstance();\r\n            } catch (IllegalAccessException | InstantiationException var7) {\r\n                return defaultValue;\r\n            }\r\n\r\n            a.addAll(Arrays.asList(array));\r\n            return a;\r\n        }\r\n    }\r\n\r\nHowever, the compiler remind me that &quot;Unchecked assignment: &#39;? extends java.util.Set&#39; to &#39;java.util.Set&lt;java.lang.String&gt;&#39;&quot; on &quot;a = cls.newInstance();&quot;. I don&#39;t know how to change cls to cls&lt;java.lang.String&gt;.","title":"How to specify the generic type of a collection?","body":"<p>I want to define a function which can convert a kind of Set to another, like convert HashSet to LinkedHashSet. Here is the function declaration. The sp is sharedpreferences.</p>\n<pre><code>public Set&lt;String&gt; decodeStringSet(String key, @Nullable Set&lt;String&gt; defaultValue, Class&lt;? extends Set&gt; cls){\n    Set&lt;String&gt; result = sp.getStringSet(key, defaultValue);\n    if(result == null){\n        return defaultValue;\n    }\n    else {\n        String[] array = result.toArray(new String[0]);\n        Set&lt;String&gt; a;\n        try {\n            a = cls.newInstance();\n        } catch (IllegalAccessException | InstantiationException var7) {\n            return defaultValue;\n        }\n\n        a.addAll(Arrays.asList(array));\n        return a;\n    }\n}\n</code></pre>\n<p>However, the compiler remind me that &quot;Unchecked assignment: '? extends java.util.Set' to 'java.util.Set&lt;java.lang.String&gt;'&quot; on &quot;a = cls.newInstance();&quot;. I don't know how to change cls to cls&lt;java.lang.String&gt;.</p>\n"},{"tags":["java","android","androidpdfviewer"],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660278058,"creation_date":1660278058,"answer_id":73329230,"question_id":73325786,"body_markdown":"This&#39;s my suggestion\r\n\r\nI don&#39;t know if library have a method you want, but when you open pdfFile, you can check it or do another things in onError , it look like this:\r\n\r\n```\r\n    pdfView.fromUri(fileUri)...\r\n           .onError{\r\n               //you can finish or send a message here\r\n           }\r\n```","title":"How to check if no PDF is displayed in an implementation of &#39;com.github.barteksc:android-pdf-viewer:3.2.0-beta.1&#39; Java library","body":"<p>This's my suggestion</p>\n<p>I don't know if library have a method you want, but when you open pdfFile, you can check it or do another things in onError , it look like this:</p>\n<pre><code>    pdfView.fromUri(fileUri)...\n           .onError{\n               //you can finish or send a message here\n           }\n</code></pre>\n"}],"owner":{"account_id":9677198,"reputation":552,"user_id":7180288,"display_name":"AlessandroF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660278058,"creation_date":1660245078,"question_id":73325786,"body_markdown":"I am using [this PDF Library][1] in my application at the latest version.\r\n\r\nI have a `PDFView` object declared in this way:\r\n\r\n    PDFView pdfView = (PDFView) findViewById(R.id.pdfView);\r\nAnd I would like to check whether if it is currently displaying/containing a PDF.\r\n\r\nI did this:\r\n\r\n    if(pdfView.getPageCount() == 0){\r\n       ...\r\n    }\r\n\r\nwhich works, but I&#39;d like something like [this line][2] in the library&#39;s source code. Sadly we cannot access `pdfFile` from outside, nor is given to us something like `isEmpty()` or `isNull()`.\r\n\r\nIs there a way to see if the inner pdf is null or not? Thank you.\r\n\r\n\r\n  [1]: https://github.com/barteksc/AndroidPdfViewer\r\n  [2]: https://github.com/barteksc/AndroidPdfViewer/blob/d243b39377f19c3eae41e227067da254ebbf731b/android-pdf-viewer/src/main/java/com/github/barteksc/pdfviewer/PDFView.java#L289","title":"How to check if no PDF is displayed in an implementation of &#39;com.github.barteksc:android-pdf-viewer:3.2.0-beta.1&#39; Java library","body":"<p>I am using <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">this PDF Library</a> in my application at the latest version.</p>\n<p>I have a <code>PDFView</code> object declared in this way:</p>\n<pre><code>PDFView pdfView = (PDFView) findViewById(R.id.pdfView);\n</code></pre>\n<p>And I would like to check whether if it is currently displaying/containing a PDF.</p>\n<p>I did this:</p>\n<pre><code>if(pdfView.getPageCount() == 0){\n   ...\n}\n</code></pre>\n<p>which works, but I'd like something like <a href=\"https://github.com/barteksc/AndroidPdfViewer/blob/d243b39377f19c3eae41e227067da254ebbf731b/android-pdf-viewer/src/main/java/com/github/barteksc/pdfviewer/PDFView.java#L289\" rel=\"nofollow noreferrer\">this line</a> in the library's source code. Sadly we cannot access <code>pdfFile</code> from outside, nor is given to us something like <code>isEmpty()</code> or <code>isNull()</code>.</p>\n<p>Is there a way to see if the inner pdf is null or not? Thank you.</p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":22905554,"reputation":673,"user_id":17043683,"display_name":"MMZK1526"},"score":0,"creation_date":1660277908,"post_id":73329189,"comment_id":129499512,"body_markdown":"Compare the insert function. You return the new node but did not assign it to anything, while they update the class instance itself.","body":"Compare the insert function. You return the new node but did not assign it to anything, while they update the class instance itself."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1660280736,"post_id":73329189,"comment_id":129499920,"body_markdown":"Hint:  make the root of Bst private and make the Node class private.  They would help you move closer to the same solution.  You will need to capture the changed tree which you currently not doing.  So, no matter what changes are made to the tree, the tree is not updated.","body":"Hint:  make the root of Bst private and make the Node class private.  They would help you move closer to the same solution.  You will need to capture the changed tree which you currently not doing.  So, no matter what changes are made to the tree, the tree is not updated."}],"owner":{"account_id":26043501,"reputation":1,"user_id":19747840,"display_name":"Ajam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660277812,"creation_date":1660277675,"question_id":73329189,"body_markdown":"**This is my code for BST insertion and inoder transversal.**\r\nI have written this code for binary search tree insertion and inoder transversal.\r\nCode get executed and return to idle.\r\n\r\n\r\n    class Bst {\r\n    \tNode Root;\r\n    \tBst(){\r\n    \t\tthis.Root = null;\r\n    \t}\r\n    \tstatic class Node{\r\n    \t\tint data;\r\n    \t\tNode left,right;\r\n    \t\tNode(int data){\r\n    \t\t\tthis.data = data;\r\n    \t\t\tthis.left = null;\r\n    \t\t\tthis.right = null;\r\n    \t\t}\r\n    \t}\r\n    \tNode Binsert(Node root, int a){\r\n    \t\tif(root == null){\r\n    \t\t\troot = new Node(a);\r\n    \t\t\treturn root;\r\n    \t\t}\r\n    \t\telse if(root.data &gt;= a){\r\n    \t\t\troot.left = Binsert(root.left, a);\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\troot.right = Binsert(root.right, a);\r\n    \t\t}\r\n    \t\treturn root;\r\n    \t}\r\n    \tvoid Inoder(Node root){\r\n    \t\tif (root != null) {\r\n    \t\t\tInoder(root.left);\r\n    \t\t\tSystem.out.println(root.data);\r\n    \t\t\tInoder(root.right);\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBst b = new Bst();\r\n    \t\tb.Binsert(b.Root, 6);\r\n    \t\tb.Binsert(b.Root, 3);\r\n    \t\tb.Binsert(b.Root, 5);\r\n    \t\tb.Binsert(b.Root, 7);\r\n    \t\tb.Binsert(b.Root, 1);\r\n    \t\tb.Binsert(b.Root, 2);\r\n    \t\tb.Binsert(b.Root, 4);\r\n    \t\tb.Binsert(b.Root, 8);\r\n    \t\tb.Binsert(b.Root, 9);\r\n    \t\tb.Inoder(b.Root);\r\n    \t}\r\n    }\r\n\r\n**This code I found online what&#39;s the different why my code not printing anything.**\r\nBut this code which i found online work fine but why that so.\r\n\r\n    public class Main {\r\n    \r\n        public class Node {\r\n            public int data;\r\n            public Node left;\r\n            public Node right;\r\n    \r\n            public Node(int data) {\r\n                this.data = data;\r\n                this.left = null;\r\n                this.right = null;\r\n            }\r\n    \r\n        }\r\n        public Node root;\r\n    \r\n        public Main() {\r\n            this.root = null;\r\n        }\r\n        \r\n        public void insert(int newData) {\r\n            this.root = insert(root, newData);\r\n        }\r\n    \r\n        public Node insert(Node root, int newData) {\r\n            if (root == null) {\r\n                root = new Node(newData);\r\n                return root;\r\n            }\r\n            else if (root.data &gt;= newData) {\r\n                root.left = insert(root.left, newData);\r\n            } else {\r\n                root.right = insert(root.right, newData);\r\n            }\r\n            return root;\r\n        }\r\n    \r\n        public void inorder() {\r\n            Inorder(root);\r\n        }\r\n    \r\n        public void Inorder(Node root) {\r\n            if (root == null) {\r\n                return;\r\n            }\r\n            Inorder(root.left);\r\n            System.out.print(root.data + &quot; &quot;);\r\n            Inorder(root.right);\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n            Main bst = new Main();\r\n            bst.insert(2);\r\n            bst.insert(4);\r\n            bst.insert(1);\r\n            bst.insert(3);\r\n            bst.insert(5);\r\n            bst.inorder();\r\n        }\r\n        \r\n    }\r\n","title":"BST insertion and Indore traversal doesn&#39;t print anything what is wrong with it","body":"<p><strong>This is my code for BST insertion and inoder transversal.</strong>\nI have written this code for binary search tree insertion and inoder transversal.\nCode get executed and return to idle.</p>\n<pre><code>class Bst {\n    Node Root;\n    Bst(){\n        this.Root = null;\n    }\n    static class Node{\n        int data;\n        Node left,right;\n        Node(int data){\n            this.data = data;\n            this.left = null;\n            this.right = null;\n        }\n    }\n    Node Binsert(Node root, int a){\n        if(root == null){\n            root = new Node(a);\n            return root;\n        }\n        else if(root.data &gt;= a){\n            root.left = Binsert(root.left, a);\n        }\n        else{\n            root.right = Binsert(root.right, a);\n        }\n        return root;\n    }\n    void Inoder(Node root){\n        if (root != null) {\n            Inoder(root.left);\n            System.out.println(root.data);\n            Inoder(root.right);\n        }\n    }\n    public static void main(String[] args) {\n        Bst b = new Bst();\n        b.Binsert(b.Root, 6);\n        b.Binsert(b.Root, 3);\n        b.Binsert(b.Root, 5);\n        b.Binsert(b.Root, 7);\n        b.Binsert(b.Root, 1);\n        b.Binsert(b.Root, 2);\n        b.Binsert(b.Root, 4);\n        b.Binsert(b.Root, 8);\n        b.Binsert(b.Root, 9);\n        b.Inoder(b.Root);\n    }\n}\n</code></pre>\n<p><strong>This code I found online what's the different why my code not printing anything.</strong>\nBut this code which i found online work fine but why that so.</p>\n<pre><code>public class Main {\n\n    public class Node {\n        public int data;\n        public Node left;\n        public Node right;\n\n        public Node(int data) {\n            this.data = data;\n            this.left = null;\n            this.right = null;\n        }\n\n    }\n    public Node root;\n\n    public Main() {\n        this.root = null;\n    }\n    \n    public void insert(int newData) {\n        this.root = insert(root, newData);\n    }\n\n    public Node insert(Node root, int newData) {\n        if (root == null) {\n            root = new Node(newData);\n            return root;\n        }\n        else if (root.data &gt;= newData) {\n            root.left = insert(root.left, newData);\n        } else {\n            root.right = insert(root.right, newData);\n        }\n        return root;\n    }\n\n    public void inorder() {\n        Inorder(root);\n    }\n\n    public void Inorder(Node root) {\n        if (root == null) {\n            return;\n        }\n        Inorder(root.left);\n        System.out.print(root.data + &quot; &quot;);\n        Inorder(root.right);\n\n    }\n    public static void main(String[] args) {\n        Main bst = new Main();\n        bst.insert(2);\n        bst.insert(4);\n        bst.insert(1);\n        bst.insert(3);\n        bst.insert(5);\n        bst.inorder();\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","database","jdbi"],"comments":[{"owner":{"account_id":7600,"reputation":6724,"user_id":13253,"accept_rate":100,"display_name":"qualidafial"},"score":0,"creation_date":1476218492,"post_id":39654931,"comment_id":67251487,"body_markdown":"Can you qualify what you mean by &quot;multiple databases?&quot; Is this multiple schemas on the same server? Or distinct servers?","body":"Can you qualify what you mean by &quot;multiple databases?&quot; Is this multiple schemas on the same server? Or distinct servers?"},{"owner":{"account_id":115990,"reputation":5884,"user_id":304330,"accept_rate":56,"display_name":"Big Rich"},"score":0,"creation_date":1570182910,"post_id":39654931,"comment_id":102841347,"body_markdown":"[Apache Drill](https://drill.apache.org) can do just that, allowing for SQL joins across differing data (e.g. a CSV file paired with a remote SQL database, within the same query). \n\nDrill is really targeted at distributed &#39;Big-Data&#39; multi-machine clustering, but can also be run in &#39;embedded-mode&#39; from the Cli of a single machine, it&#39;s written in Java but it doesn&#39;t appear to lend itself too well to be embedded in a singular application (it&#39;s more a client-to-drill-server model).","body":"<a href=\"https://drill.apache.org\" rel=\"nofollow noreferrer\">Apache Drill</a> can do just that, allowing for SQL joins across differing data (e.g. a CSV file paired with a remote SQL database, within the same query).   Drill is really targeted at distributed &#39;Big-Data&#39; multi-machine clustering, but can also be run in &#39;embedded-mode&#39; from the Cli of a single machine, it&#39;s written in Java but it doesn&#39;t appear to lend itself too well to be embedded in a singular application (it&#39;s more a client-to-drill-server model)."}],"answers":[{"tags":[],"owner":{"account_id":7600,"reputation":6724,"user_id":13253,"accept_rate":100,"display_name":"qualidafial"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1488561800,"creation_date":1488561800,"answer_id":42584983,"question_id":39654931,"body_markdown":"Each DBI instance is tied to a single `java.sql.DataSource`, which I&#39;ve only seen connect to a single database. So the answer to your question is, probably not.\r\n\r\nYou _can_ however construct a DBI per database, query them separately, and join the result on your application server.\r\n\r\nDepending on your use case (I&#39;m assuming reporting?), it might be more appropriate to look into a data warehouse solution, and set up an ETL (extract, transform, and load) for each of your separate database to feed into the warehouse. Then you can produce reports from the warehouse without impacting performance of the other systems.","title":"can multiple database connection be build using jdbi","body":"<p>Each DBI instance is tied to a single <code>java.sql.DataSource</code>, which I've only seen connect to a single database. So the answer to your question is, probably not.</p>\n\n<p>You <em>can</em> however construct a DBI per database, query them separately, and join the result on your application server.</p>\n\n<p>Depending on your use case (I'm assuming reporting?), it might be more appropriate to look into a data warehouse solution, and set up an ETL (extract, transform, and load) for each of your separate database to feed into the warehouse. Then you can produce reports from the warehouse without impacting performance of the other systems.</p>\n"},{"tags":[],"owner":{"account_id":26043623,"reputation":1,"user_id":19747943,"display_name":"shravan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660277795,"creation_date":1660277795,"answer_id":73329203,"question_id":39654931,"body_markdown":"I&#39;m trying to inject two DBIs for two mysql data sources but I keep getting the below error:\r\n\r\nA binding to org.skife.jdbi.v2.DBI was already configured at com.mmt.clm.ClmModule.provideDBI().\r\n  at com.mmt.clm.ClmModule.provideMmtDBI\r\n\r\nIs there any way to inject multiple DBIs for multiple data sources\r\n","title":"can multiple database connection be build using jdbi","body":"<p>I'm trying to inject two DBIs for two mysql data sources but I keep getting the below error:</p>\n<p>A binding to org.skife.jdbi.v2.DBI was already configured at com.mmt.clm.ClmModule.provideDBI().\nat com.mmt.clm.ClmModule.provideMmtDBI</p>\n<p>Is there any way to inject multiple DBIs for multiple data sources</p>\n"}],"owner":{"account_id":5143265,"reputation":45,"user_id":4119918,"display_name":"Ramandeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42584983,"answer_count":2,"score":3,"last_activity_date":1660277795,"creation_date":1474615239,"question_id":39654931,"body_markdown":"My requirement is too fetch data by joining tables from multiple databases. \r\n\r\nIs their any way to setup connection with multiple databases using jbdi ","title":"can multiple database connection be build using jdbi","body":"<p>My requirement is too fetch data by joining tables from multiple databases. </p>\n\n<p>Is their any way to setup connection with multiple databases using jbdi </p>\n"},{"tags":["java","collections","hashmap","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1660241285,"post_id":73325076,"comment_id":129492471,"body_markdown":"Using a `Map` is not overkill for this problem; it&#39;s what you&#39;re going to need to do.","body":"Using a <code>Map</code> is not overkill for this problem; it&#39;s what you&#39;re going to need to do."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660242668,"creation_date":1660242668,"answer_id":73325372,"question_id":73325076,"body_markdown":"The simplest way to accomplish this is likely\r\n\r\n```\r\nList&lt;StringInteger&gt; combined = test.stream()\r\n  .collect(\r\n     Collectors.groupingBy(\r\n        StringInteger::getKey,\r\n        Collectors.summingInt(StringInteger::getValue)))\r\n  .entrySet()\r\n  .stream()\r\n  .map(entry -&gt; new StringInteger(entry.getKey(), entry.getValue()))\r\n  .toList();\r\n```","title":"What&#39;s the most efficient way to combine objects in a List?","body":"<p>The simplest way to accomplish this is likely</p>\n<pre><code>List&lt;StringInteger&gt; combined = test.stream()\n  .collect(\n     Collectors.groupingBy(\n        StringInteger::getKey,\n        Collectors.summingInt(StringInteger::getValue)))\n  .entrySet()\n  .stream()\n  .map(entry -&gt; new StringInteger(entry.getKey(), entry.getValue()))\n  .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660259982,"creation_date":1660242676,"answer_id":73325374,"question_id":73325076,"body_markdown":"As @LouisWasserman said in [the comment][1], `HashMap` is the right tool for this task.\r\n\r\nTo translate the whole code into a stream, you can use the built-in *collector* [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)) in conjunction with [`summingInt`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#summarizingInt(java.util.function.ToIntFunction)) as the downstream collector grouping.\r\n\r\n```\r\nresult = test.stream()\r\n    .collect(Collectors.groupingBy(   // creates an intermediate map Map&lt;String, Integer&gt;\r\n        StringInteger::getKey,                         // mapping a key\r\n        Collectors.summingInt(StringInteger::getValue) // generating a value\r\n    ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; new StringInteger(entry.getKey(), entry.getValue()))\r\n    .toList();\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73325076/whats-the-most-efficient-way-to-combine-objects-in-a-list#comment129492471_73325076","title":"What&#39;s the most efficient way to combine objects in a List?","body":"<p>As @LouisWasserman said in <a href=\"https://stackoverflow.com/questions/73325076/whats-the-most-efficient-way-to-combine-objects-in-a-list#comment129492471_73325076\">the comment</a>, <code>HashMap</code> is the right tool for this task.</p>\n<p>To translate the whole code into a stream, you can use the built-in <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#summarizingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\"><code>summingInt</code></a> as the downstream collector grouping.</p>\n<pre><code>result = test.stream()\n    .collect(Collectors.groupingBy(   // creates an intermediate map Map&lt;String, Integer&gt;\n        StringInteger::getKey,                         // mapping a key\n        Collectors.summingInt(StringInteger::getValue) // generating a value\n    ))\n    .entrySet().stream()\n    .map(entry -&gt; new StringInteger(entry.getKey(), entry.getValue()))\n    .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660277619,"creation_date":1660260241,"answer_id":73327805,"question_id":73325076,"body_markdown":"Here is a full example with code based on the code seen in two good Answers [by Ivanchenko][1] and [by Wasserman][2].\r\n\r\nHere, we use a [record][3] in Java 16+ to define your `StringInt` class. \r\n\r\nThe name `StringInt` is used rather than `StringInteger`, to stress that we have a primitive `int` as the member field type rather than `Integer` class as the type.\r\n\r\nI should think a `Map &lt; String , Integer &gt;` would suffice for your goal.\r\n\r\n```java\r\nrecord StringInt( String string , int integer ) { }\r\n\r\nList &lt; StringInt &gt; inputs =\r\n        List.of(\r\n                new StringInt( &quot;a&quot; , 1 ) ,\r\n                new StringInt( &quot;b&quot; , 1 ) ,\r\n                new StringInt( &quot;a&quot; , 3 ) ,\r\n                new StringInt( &quot;c&quot; , 1 ) ,\r\n                new StringInt( &quot;a&quot; , 1 ) ,\r\n                new StringInt( &quot;c&quot; , - 1 )\r\n        );\r\n\r\nMap &lt; String, Integer &gt; results =\r\n        inputs\r\n                .stream()\r\n                .collect(\r\n                        Collectors.groupingBy(\r\n                                StringInt :: string ,                          // Key\r\n                                Collectors.summingInt( StringInt :: integer )  // Value\r\n                        ) );\r\n```\r\n\r\n&gt;results = {a=5, b=1, c=0}\r\n\r\nOr, if you insist on instantiating `StringInt` objects as the result:\r\n\r\n```java\r\nrecord StringInt( String string , int integer ) { }\r\n\r\nList &lt; StringInt &gt; inputs =\r\n        List.of(\r\n                new StringInt( &quot;a&quot; , 1 ) ,\r\n                new StringInt( &quot;b&quot; , 1 ) ,\r\n                new StringInt( &quot;a&quot; , 3 ) ,\r\n                new StringInt( &quot;c&quot; , 1 ) ,\r\n                new StringInt( &quot;a&quot; , 1 ) ,\r\n                new StringInt( &quot;c&quot; , - 1 )\r\n        );\r\n\r\nList &lt; StringInt &gt; results =\r\n        inputs\r\n                .stream()\r\n                .collect(\r\n                        Collectors.groupingBy(\r\n                                StringInt :: string ,                          // Key\r\n                                Collectors.summingInt( StringInt :: integer )  // Value\r\n                        ) )\r\n                .entrySet()                                                    // Returns a Set &lt; Entry &lt; String , Integer &gt; &gt;\r\n                .stream()\r\n                .map( \r\n                    entry -&gt; new StringInt( entry.getKey() , entry.getValue() ) \r\n                )\r\n                .toList();\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73325374/642706\r\n  [2]: https://stackoverflow.com/a/73325372/642706\r\n  [3]: https://openjdk.org/jeps/395","title":"What&#39;s the most efficient way to combine objects in a List?","body":"<p>Here is a full example with code based on the code seen in two good Answers <a href=\"https://stackoverflow.com/a/73325374/642706\">by Ivanchenko</a> and <a href=\"https://stackoverflow.com/a/73325372/642706\">by Wasserman</a>.</p>\n<p>Here, we use a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> in Java 16+ to define your <code>StringInt</code> class.</p>\n<p>The name <code>StringInt</code> is used rather than <code>StringInteger</code>, to stress that we have a primitive <code>int</code> as the member field type rather than <code>Integer</code> class as the type.</p>\n<p>I should think a <code>Map &lt; String , Integer &gt;</code> would suffice for your goal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record StringInt( String string , int integer ) { }\n\nList &lt; StringInt &gt; inputs =\n        List.of(\n                new StringInt( &quot;a&quot; , 1 ) ,\n                new StringInt( &quot;b&quot; , 1 ) ,\n                new StringInt( &quot;a&quot; , 3 ) ,\n                new StringInt( &quot;c&quot; , 1 ) ,\n                new StringInt( &quot;a&quot; , 1 ) ,\n                new StringInt( &quot;c&quot; , - 1 )\n        );\n\nMap &lt; String, Integer &gt; results =\n        inputs\n                .stream()\n                .collect(\n                        Collectors.groupingBy(\n                                StringInt :: string ,                          // Key\n                                Collectors.summingInt( StringInt :: integer )  // Value\n                        ) );\n</code></pre>\n<blockquote>\n<p>results = {a=5, b=1, c=0}</p>\n</blockquote>\n<p>Or, if you insist on instantiating <code>StringInt</code> objects as the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record StringInt( String string , int integer ) { }\n\nList &lt; StringInt &gt; inputs =\n        List.of(\n                new StringInt( &quot;a&quot; , 1 ) ,\n                new StringInt( &quot;b&quot; , 1 ) ,\n                new StringInt( &quot;a&quot; , 3 ) ,\n                new StringInt( &quot;c&quot; , 1 ) ,\n                new StringInt( &quot;a&quot; , 1 ) ,\n                new StringInt( &quot;c&quot; , - 1 )\n        );\n\nList &lt; StringInt &gt; results =\n        inputs\n                .stream()\n                .collect(\n                        Collectors.groupingBy(\n                                StringInt :: string ,                          // Key\n                                Collectors.summingInt( StringInt :: integer )  // Value\n                        ) )\n                .entrySet()                                                    // Returns a Set &lt; Entry &lt; String , Integer &gt; &gt;\n                .stream()\n                .map( \n                    entry -&gt; new StringInt( entry.getKey() , entry.getValue() ) \n                )\n                .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660260727,"creation_date":1660260727,"answer_id":73327852,"question_id":73325076,"body_markdown":"&gt; Here&#39;s my clumsy solution. It works, but I believe that it can be done more simple than that.\r\n\r\nJust to show you, you can do the adding up in the map more neatly, without using streams:\r\n\r\n```\r\nfor (StringInteger stringInteger : test) {\r\n    map.merge(stringInteger.getKey(), stringInteger.getValue(), Integer::sum);\r\n}\r\n```","title":"What&#39;s the most efficient way to combine objects in a List?","body":"<blockquote>\n<p>Here's my clumsy solution. It works, but I believe that it can be done more simple than that.</p>\n</blockquote>\n<p>Just to show you, you can do the adding up in the map more neatly, without using streams:</p>\n<pre><code>for (StringInteger stringInteger : test) {\n    map.merge(stringInteger.getKey(), stringInteger.getValue(), Integer::sum);\n}\n</code></pre>\n"}],"owner":{"account_id":3978169,"reputation":79,"user_id":3280842,"accept_rate":17,"display_name":"user3280842"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73325374,"answer_count":4,"score":4,"last_activity_date":1660277619,"creation_date":1660240996,"question_id":73325076,"body_markdown":"Let&#39;s say I have the following list.\r\n  \r\n    List&lt;StringInteger&gt; test = new ArrayList&lt;&gt;(); //StringInteger is just a pojo with String and int\r\n    test.add(new StringInteger(&quot;a&quot;, 1));\r\n    test.add(new StringInteger(&quot;b&quot;, 1));\r\n    test.add(new StringInteger(&quot;a&quot;, 3));\r\n    test.add(new StringInteger(&quot;c&quot;, 1));\r\n    test.add(new StringInteger(&quot;a&quot;, 1));\r\n    test.add(new StringInteger(&quot;c&quot;, -1));\r\n\r\n    System.out.println(test); // [{ a : 1 }, { b : 1 }, { a : 3 }, { c : 1 }, { a : 1 }, { c : -1 }]\r\n\r\nI need to write a method that would unite items by String key and add integers. So that the result list would be `[{ a : 5 }, { b : 1 }, { c : 0 }]`\r\n\r\nI could do it using `HashMap`, but if I go that way - I&#39;ll have to create a `Map`, then use enhanced `for`-loop with `if(containsKey(...))` and then convert it back to List. It just seems like an overkill.\r\n\r\nIs there a more elegant solution? I thought that `flatMap` from Stream API should do the thing, but I cannot figure out how.\r\n\r\nHere&#39;s my clumsy solution. It works, but I believe that it can be done more simple than that.\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for (StringInteger stringInteger : test) {\r\n        if (map.containsKey(stringInteger.getKey())) {\r\n            int previousValue = map.get(stringInteger.getKey());\r\n            map.put(stringInteger.getKey(), previousValue + stringInteger.getValue());\r\n        } else {\r\n            map.put(stringInteger.getKey(), stringInteger.getValue());\r\n        }\r\n    }\r\n\r\n    List&lt;StringInteger&gt; result = map.entrySet()\r\n        .stream()\r\n        .map(stringIntegerEntry -&gt; new StringInteger(stringIntegerEntry.getKey(), stringIntegerEntry.getValue()))\r\n        .collect(Collectors.toList());\r\n\r\n    System.out.println(result); // [{ a : 5 }, { b : 1 }, { c : 0 }]\r\n","title":"What&#39;s the most efficient way to combine objects in a List?","body":"<p>Let's say I have the following list.</p>\n<pre><code>List&lt;StringInteger&gt; test = new ArrayList&lt;&gt;(); //StringInteger is just a pojo with String and int\ntest.add(new StringInteger(&quot;a&quot;, 1));\ntest.add(new StringInteger(&quot;b&quot;, 1));\ntest.add(new StringInteger(&quot;a&quot;, 3));\ntest.add(new StringInteger(&quot;c&quot;, 1));\ntest.add(new StringInteger(&quot;a&quot;, 1));\ntest.add(new StringInteger(&quot;c&quot;, -1));\n\nSystem.out.println(test); // [{ a : 1 }, { b : 1 }, { a : 3 }, { c : 1 }, { a : 1 }, { c : -1 }]\n</code></pre>\n<p>I need to write a method that would unite items by String key and add integers. So that the result list would be <code>[{ a : 5 }, { b : 1 }, { c : 0 }]</code></p>\n<p>I could do it using <code>HashMap</code>, but if I go that way - I'll have to create a <code>Map</code>, then use enhanced <code>for</code>-loop with <code>if(containsKey(...))</code> and then convert it back to List. It just seems like an overkill.</p>\n<p>Is there a more elegant solution? I thought that <code>flatMap</code> from Stream API should do the thing, but I cannot figure out how.</p>\n<p>Here's my clumsy solution. It works, but I believe that it can be done more simple than that.</p>\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nfor (StringInteger stringInteger : test) {\n    if (map.containsKey(stringInteger.getKey())) {\n        int previousValue = map.get(stringInteger.getKey());\n        map.put(stringInteger.getKey(), previousValue + stringInteger.getValue());\n    } else {\n        map.put(stringInteger.getKey(), stringInteger.getValue());\n    }\n}\n\nList&lt;StringInteger&gt; result = map.entrySet()\n    .stream()\n    .map(stringIntegerEntry -&gt; new StringInteger(stringIntegerEntry.getKey(), stringIntegerEntry.getValue()))\n    .collect(Collectors.toList());\n\nSystem.out.println(result); // [{ a : 5 }, { b : 1 }, { c : 0 }]\n</code></pre>\n"},{"tags":["java","multithreading","concurrenthashmap"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1642784002,"post_id":70804807,"comment_id":125172174,"body_markdown":"Please show a [mcve] showing how you update and read the map currently.","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing how you update and read the map currently."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":1,"creation_date":1642794894,"post_id":70804807,"comment_id":125175678,"body_markdown":"The @Ryan answer is a good way to achieve what you want.  Note that you implement a class that does not, necessarily extend Map.  The new class must proxy all Map methods that you wish to use (putAll, clear, etc.).","body":"The @Ryan answer is a good way to achieve what you want.  Note that you implement a class that does not, necessarily extend Map.  The new class must proxy all Map methods that you wish to use (putAll, clear, etc.)."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1660276485,"creation_date":1642794472,"answer_id":70806905,"question_id":70804807,"body_markdown":"I&#39;ve never had good results with ConcurrentHashMap.  When I need thread safety, I usally do something like this:\r\n\r\n```\r\npublic class Cache&lt;K, V&gt; {\r\n    private Map&lt;K, V&gt; cache = new HashMap&lt;&gt;();\r\n\r\n    public V get(K key) {\r\n        synchronized (cache) {\r\n            return cache.get(key);\r\n        }\r\n    }\r\n\r\n    public void put(K key, V value) {\r\n        synchronized (cache) {\r\n            cache.put(key, value);\r\n        }\r\n    }\r\n}\r\n```","title":"Using a thread safe static mutable Map of Map in Java","body":"<p>I've never had good results with ConcurrentHashMap.  When I need thread safety, I usally do something like this:</p>\n<pre><code>public class Cache&lt;K, V&gt; {\n    private Map&lt;K, V&gt; cache = new HashMap&lt;&gt;();\n\n    public V get(K key) {\n        synchronized (cache) {\n            return cache.get(key);\n        }\n    }\n\n    public void put(K key, V value) {\n        synchronized (cache) {\n            cache.put(key, value);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642795043,"creation_date":1642795043,"answer_id":70807004,"question_id":70804807,"body_markdown":"The @Ryan answer is essentially correct.\r\n\r\nRemember that you must proxy every `Map` method that you wish to use\r\nand you must synchronize to the `cashe` element within every proxied method.\r\n\r\nFor example:\r\n```Java\r\npublic void clear()\r\n{\r\n  synchronized(cache)\r\n  {\r\n    cache.clear();\r\n  }\r\n}\r\n```","title":"Using a thread safe static mutable Map of Map in Java","body":"<p>The @Ryan answer is essentially correct.</p>\n<p>Remember that you must proxy every <code>Map</code> method that you wish to use\nand you must synchronize to the <code>cashe</code> element within every proxied method.</p>\n<p>For example:</p>\n<pre><code>public void clear()\n{\n  synchronized(cache)\n  {\n    cache.clear();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642808824,"creation_date":1642803459,"answer_id":70808213,"question_id":70804807,"body_markdown":"&gt; Even though I am using ConcurrentHashMap, I see that if main thread is adding element in the myCache, and when the same is accessed in other thread even at later time, it does not have the latest data in the myCache object.\r\n\r\n`ConcurrentHashMap` is running in a large number of applications around the world at this instance.  If your fairly typical use case didn&#39;t work appropriately, many critical systems would be failing.\r\n\r\nSomething is going on but chances are high that it is nothing to do with `ConcurrentHashMap`.  So here are some questions for you to help you debug your code:\r\n\r\n- Are you sure that the cache lookup happens _after_ the cache put?  `ConcurrentHashMap` doesn&#39;t save you from race conditions in your code.\r\n- Any chance this is a problem with the `hashcode()` or `equals()` functions of the key object?  By default the `hashcode()` and `equals()` methods are for the object _instance_ and not the object value.  See the [consistency requirements][1].\r\n- Any chance that the cache lookup happens _after_ a cache remove or a timeout of the cache value?  Is there cache cleanup logic?\r\n- Do you have logic that does 2 operations on the `ConcurrentHashMap`.  For example testing for existence of a cache entry and then making another call to put the value?  You should be using `putIfAbsent(...)` or the other atomic calls if so.\r\n\r\nIf you edit your post and show a _small_ sample of your code with the key object, the real source of the issue may be revealed.\r\n\r\n  [1]: https://www.baeldung.com/java-equals-hashcode-contracts#:~:text=internal%20consistency%3A%20the%20value%20of,may%20have%20the%20same%20hashCode","title":"Using a thread safe static mutable Map of Map in Java","body":"<blockquote>\n<p>Even though I am using ConcurrentHashMap, I see that if main thread is adding element in the myCache, and when the same is accessed in other thread even at later time, it does not have the latest data in the myCache object.</p>\n</blockquote>\n<p><code>ConcurrentHashMap</code> is running in a large number of applications around the world at this instance.  If your fairly typical use case didn't work appropriately, many critical systems would be failing.</p>\n<p>Something is going on but chances are high that it is nothing to do with <code>ConcurrentHashMap</code>.  So here are some questions for you to help you debug your code:</p>\n<ul>\n<li>Are you sure that the cache lookup happens <em>after</em> the cache put?  <code>ConcurrentHashMap</code> doesn't save you from race conditions in your code.</li>\n<li>Any chance this is a problem with the <code>hashcode()</code> or <code>equals()</code> functions of the key object?  By default the <code>hashcode()</code> and <code>equals()</code> methods are for the object <em>instance</em> and not the object value.  See the <a href=\"https://www.baeldung.com/java-equals-hashcode-contracts#:%7E:text=internal%20consistency%3A%20the%20value%20of,may%20have%20the%20same%20hashCode\" rel=\"nofollow noreferrer\">consistency requirements</a>.</li>\n<li>Any chance that the cache lookup happens <em>after</em> a cache remove or a timeout of the cache value?  Is there cache cleanup logic?</li>\n<li>Do you have logic that does 2 operations on the <code>ConcurrentHashMap</code>.  For example testing for existence of a cache entry and then making another call to put the value?  You should be using <code>putIfAbsent(...)</code> or the other atomic calls if so.</li>\n</ul>\n<p>If you edit your post and show a <em>small</em> sample of your code with the key object, the real source of the issue may be revealed.</p>\n"}],"owner":{"account_id":7849130,"reputation":59,"user_id":5933141,"display_name":"Arti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70807004,"answer_count":3,"score":0,"last_activity_date":1660276485,"creation_date":1642783867,"question_id":70804807,"body_markdown":"I need to add a static thread safe HashMap. I have something like this -\r\n```\r\nprivate static Map&lt;String, ConcurrentHashMap&lt;Integer, ClassA&gt;&gt; myCache =\r\n      new ConcurrentHashMap&lt;String, ConcurrentHashMap&lt;Integer, ClassA&gt;&gt;();\r\n```\r\nEven though I am using **ConcurrentHashMap**, I see that if main thread is adding element in the myCache, and when the same is accessed in other thread even at later time, it does not have the latest data in the myCache object. For e.g \r\n\r\nThread 1: Adds entry to the map \r\n`myCache = {a1={1=com.x.y.z.ClassA@3ec8b657}}`\r\n\r\nThread 2: Access the same key `a1`. But it does not see the data added by Thread 1. Rather it sees empty value for this key ` myCache = {a1={}}`\r\nAs a result, data is getting corrupted. Entries added for the `a1` key in Thread 1 are not visible in Thread 2. \r\n\r\nThanks in advance for any pointers on how can I update this map in thread safe manner.","title":"Using a thread safe static mutable Map of Map in Java","body":"<p>I need to add a static thread safe HashMap. I have something like this -</p>\n<pre><code>private static Map&lt;String, ConcurrentHashMap&lt;Integer, ClassA&gt;&gt; myCache =\n      new ConcurrentHashMap&lt;String, ConcurrentHashMap&lt;Integer, ClassA&gt;&gt;();\n</code></pre>\n<p>Even though I am using <strong>ConcurrentHashMap</strong>, I see that if main thread is adding element in the myCache, and when the same is accessed in other thread even at later time, it does not have the latest data in the myCache object. For e.g</p>\n<p>Thread 1: Adds entry to the map\n<code>myCache = {a1={1=com.x.y.z.ClassA@3ec8b657}}</code></p>\n<p>Thread 2: Access the same key <code>a1</code>. But it does not see the data added by Thread 1. Rather it sees empty value for this key <code> myCache = {a1={}}</code>\nAs a result, data is getting corrupted. Entries added for the <code>a1</code> key in Thread 1 are not visible in Thread 2.</p>\n<p>Thanks in advance for any pointers on how can I update this map in thread safe manner.</p>\n"},{"tags":["java","multithreading","wait","synchronized","notify"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1643116447,"post_id":70849126,"comment_id":125249641,"body_markdown":"Guessing that both threads end up waiting - try adding a logging statement before each `wait()` and in other parts of the code to determine what&#39;s going on.","body":"Guessing that both threads end up waiting - try adding a logging statement before each <code>wait()</code> and in other parts of the code to determine what&#39;s going on."}],"owner":{"account_id":19605679,"reputation":111,"user_id":14349424,"display_name":"Buba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660275765,"creation_date":1643115871,"question_id":70849126,"body_markdown":"\r\nI have a mail service in which there are two entities: the **message** and **the sender**. \r\nFirst of all, I set up a connection to my mail and am trying to pull out information about SMS. Separately in the senders table, separately their messages. To do this, I try to use a common Service object, and I share tasks. task one is to write the sender to the table. Task number two is to save messages from this addressee .In a separate table. Therefore, the first thread does task 1, the second task 2. But everything does not happen as I expect. The first thread works out - the second and the threads hang , and then nothing happens. Help me figure it out\r\n\r\n```\r\n@Component\r\npublic class Service {\r\n\r\n    @Autowired\r\n    private SenderRepository senderRepository;\r\n    @Autowired\r\n    private MsgRepository msgRepository;\r\n    @Autowired\r\n    private MessageConfig messageConfig;\r\n    @Autowired\r\n    private SenderMapping senderMapping;\r\n    @Autowired\r\n    private MsgMappingUtils msgMappingUtils;\r\n\r\n\r\n    private boolean records = false; // флаг записи в базу\r\n    private Address senderAddress; // адрес отправителя\r\n    private Integer senderId; // id сохранненого отправителя\r\n  //  private ArrayList&lt;Message&gt; groupMessages = new ArrayList&lt;&gt;(); // хранит письма принадлежащие отправителю\r\n\r\n    public synchronized void saveMessageRepos() throws Exception {\r\n\r\n       // Message[] messages = saveSenderRepos(); // перед сохранением сообщений в бд - записываем информацию об отправителях\r\n        // далее -&gt; записываем содержимое сообщений\r\n        if (records == false) {\r\n            wait();\r\n        }\r\n\r\n        else {\r\n            Enum&lt;Folder.currentFolder&gt; currentFolder = Folder.currentFolder.INBOX;\r\n            Flags seen = new Flags(Flags.Flag.SEEN); // флаг прочитанности\r\n            boolean stateFlag = false; // в текущем случае unseen\r\n\r\n            Message[] messages = messageConfig.getMessage(currentFolder, seen, stateFlag,senderAddress);\r\n\r\n            for (Message message : messages) {\r\n                // достаем из базы отправителя, ищем сообщения которые он отправил\r\n                Msg mes = msgMappingUtils.mapDtoToEntity(message,senderId);\r\n                    msgRepository.save(mes);\r\n\r\n            }\r\n            senderAddress = null; // очищаем строку\r\n            records = false;\r\n        }\r\n        notify();\r\n    }\r\n\r\n    public synchronized void saveSenderRepos() throws MessagingException, InterruptedException {\r\n\r\n        if (records == true) wait();\r\n\r\n        else {\r\n            Enum&lt;Folder.currentFolder&gt; currentFolder = Folder.currentFolder.INBOX;\r\n            Flags seen = new Flags(Flags.Flag.SEEN); // флаг прочитанности\r\n            boolean stateFlag = false; // в текущем случае unseen\r\n            HashSet&lt;Address&gt; uniquePersonAddress = messageConfig.getMessage(currentFolder, seen, stateFlag);\r\n            // получаем массив уникальных отправителей\r\n            for (Iterator &lt;Address&gt; iterator = uniquePersonAddress.iterator(); iterator.hasNext();) {\r\n                // очередной отравитель не записан\r\n                Address address = iterator.next();\r\n                Sender sender = senderMapping.mapDtoToEntity(address); // создаем сущность отправителя\r\n                senderRepository.save(sender);\r\n                iterator.remove();\r\n                records = true; // отправитель записан\r\n                senderId = senderRepository.findlastIdSender();\r\n                // получили id сохраненного\r\n                // пользователя\r\n                senderAddress = address;\r\n                break;\r\n            }\r\n            notify();\r\n        }\r\n\r\n        }\r\n\r\n\r\n}\r\n```\r\n```\r\nimport com.axsoft.mail.services.Service;\r\n\r\npublic class TwoTask implements Runnable {\r\n    // задача записи сообщений отправителей, которые находятся в БД\r\n\r\n        Service service;\r\n        public TwoTask(Service service){\r\n            this.service = service;\r\n        }\r\n\r\n        public TwoTask() {\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                service.saveMessageRepos();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n```\r\n```\r\npackage com.axsoft.mail.services.tasks;\r\n\r\nimport com.axsoft.mail.services.Service;\r\nimport jakarta.mail.MessagingException;\r\n\r\npublic class OneTask implements Runnable { // задача записи отправителей в БД\r\n\r\n    Service service;\r\n    public OneTask(Service service){\r\n        this.service = service;\r\n    }\r\n\r\n    public OneTask() {\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            service.saveSenderRepos();\r\n        } catch (MessagingException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@SpringBootApplication\r\npublic class MailApplication implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n    Service emailService;\r\n\tprivate Object OneTask;\r\n\r\n\r\n\tpublic static void main(String[] args) throws MessagingException {\r\n\t\tSpringApplication.run(MailApplication.class, args);\r\n\r\n}\r\n```\r\n\r\n```\r\n@Override\r\n\tpublic void run(String... args) throws Exception {  // выполнение кода при старте\r\n\t\t//emailService.saveMessageRepos();\r\n\r\n\t\tOneTask oneTask = new OneTask(emailService);\r\n\t\tTwoTask twoTask = new TwoTask(emailService);\r\n\r\n\t\tnew Thread(oneTask).start(); // поток который сохраняет в БД отправителей\r\n\t\tnew Thread(twoTask).start(); // поток который записывает соответствующие сообщения отправителя в БД,\r\n\t\t// как только  отправитель записан в базу\r\n\r\n\r\n\t}\r\n}\r\n```\r\n","title":"How to synchronize java streams","body":"<p>I have a mail service in which there are two entities: the <strong>message</strong> and <strong>the sender</strong>.\nFirst of all, I set up a connection to my mail and am trying to pull out information about SMS. Separately in the senders table, separately their messages. To do this, I try to use a common Service object, and I share tasks. task one is to write the sender to the table. Task number two is to save messages from this addressee .In a separate table. Therefore, the first thread does task 1, the second task 2. But everything does not happen as I expect. The first thread works out - the second and the threads hang , and then nothing happens. Help me figure it out</p>\n<pre><code>@Component\npublic class Service {\n\n    @Autowired\n    private SenderRepository senderRepository;\n    @Autowired\n    private MsgRepository msgRepository;\n    @Autowired\n    private MessageConfig messageConfig;\n    @Autowired\n    private SenderMapping senderMapping;\n    @Autowired\n    private MsgMappingUtils msgMappingUtils;\n\n\n    private boolean records = false; // флаг записи в базу\n    private Address senderAddress; // адрес отправителя\n    private Integer senderId; // id сохранненого отправителя\n  //  private ArrayList&lt;Message&gt; groupMessages = new ArrayList&lt;&gt;(); // хранит письма принадлежащие отправителю\n\n    public synchronized void saveMessageRepos() throws Exception {\n\n       // Message[] messages = saveSenderRepos(); // перед сохранением сообщений в бд - записываем информацию об отправителях\n        // далее -&gt; записываем содержимое сообщений\n        if (records == false) {\n            wait();\n        }\n\n        else {\n            Enum&lt;Folder.currentFolder&gt; currentFolder = Folder.currentFolder.INBOX;\n            Flags seen = new Flags(Flags.Flag.SEEN); // флаг прочитанности\n            boolean stateFlag = false; // в текущем случае unseen\n\n            Message[] messages = messageConfig.getMessage(currentFolder, seen, stateFlag,senderAddress);\n\n            for (Message message : messages) {\n                // достаем из базы отправителя, ищем сообщения которые он отправил\n                Msg mes = msgMappingUtils.mapDtoToEntity(message,senderId);\n                    msgRepository.save(mes);\n\n            }\n            senderAddress = null; // очищаем строку\n            records = false;\n        }\n        notify();\n    }\n\n    public synchronized void saveSenderRepos() throws MessagingException, InterruptedException {\n\n        if (records == true) wait();\n\n        else {\n            Enum&lt;Folder.currentFolder&gt; currentFolder = Folder.currentFolder.INBOX;\n            Flags seen = new Flags(Flags.Flag.SEEN); // флаг прочитанности\n            boolean stateFlag = false; // в текущем случае unseen\n            HashSet&lt;Address&gt; uniquePersonAddress = messageConfig.getMessage(currentFolder, seen, stateFlag);\n            // получаем массив уникальных отправителей\n            for (Iterator &lt;Address&gt; iterator = uniquePersonAddress.iterator(); iterator.hasNext();) {\n                // очередной отравитель не записан\n                Address address = iterator.next();\n                Sender sender = senderMapping.mapDtoToEntity(address); // создаем сущность отправителя\n                senderRepository.save(sender);\n                iterator.remove();\n                records = true; // отправитель записан\n                senderId = senderRepository.findlastIdSender();\n                // получили id сохраненного\n                // пользователя\n                senderAddress = address;\n                break;\n            }\n            notify();\n        }\n\n        }\n\n\n}\n</code></pre>\n<pre><code>import com.axsoft.mail.services.Service;\n\npublic class TwoTask implements Runnable {\n    // задача записи сообщений отправителей, которые находятся в БД\n\n        Service service;\n        public TwoTask(Service service){\n            this.service = service;\n        }\n\n        public TwoTask() {\n        }\n\n        @Override\n        public void run() {\n            try {\n                service.saveMessageRepos();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        }\n\n    }\n</code></pre>\n<pre><code>package com.axsoft.mail.services.tasks;\n\nimport com.axsoft.mail.services.Service;\nimport jakarta.mail.MessagingException;\n\npublic class OneTask implements Runnable { // задача записи отправителей в БД\n\n    Service service;\n    public OneTask(Service service){\n        this.service = service;\n    }\n\n    public OneTask() {\n    }\n\n    @Override\n    public void run() {\n        try {\n            service.saveSenderRepos();\n        } catch (MessagingException | InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<pre><code>@SpringBootApplication\npublic class MailApplication implements CommandLineRunner {\n\n    @Autowired\n    Service emailService;\n    private Object OneTask;\n\n\n    public static void main(String[] args) throws MessagingException {\n        SpringApplication.run(MailApplication.class, args);\n\n}\n</code></pre>\n<pre><code>@Override\n    public void run(String... args) throws Exception {  // выполнение кода при старте\n        //emailService.saveMessageRepos();\n\n        OneTask oneTask = new OneTask(emailService);\n        TwoTask twoTask = new TwoTask(emailService);\n\n        new Thread(oneTask).start(); // поток который сохраняет в БД отправителей\n        new Thread(twoTask).start(); // поток который записывает соответствующие сообщения отправителя в БД,\n        // как только  отправитель записан в базу\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","executorservice","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643197626,"creation_date":1643154425,"answer_id":70857129,"question_id":70847612,"body_markdown":"**HashMap is not a thread safe data structure.**\r\n\r\nWhen using concurrent, consider that the threads must obtain, hold and relinquish locks on a variable.\r\n\r\nThis is done at field level -not content.\r\n\r\nOn short ... The hasmap is locked for access  y a specific thread. Not some random entry.\r\n","title":"Multithreading in a hashmap entry loop - Executor service (Java)","body":"<p><strong>HashMap is not a thread safe data structure.</strong></p>\n<p>When using concurrent, consider that the threads must obtain, hold and relinquish locks on a variable.</p>\n<p>This is done at field level -not content.</p>\n<p>On short ... The hasmap is locked for access  y a specific thread. Not some random entry.</p>\n"}],"owner":{"account_id":7492047,"reputation":13,"user_id":5693391,"display_name":"Programmer Master"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660275549,"creation_date":1643109007,"question_id":70847612,"body_markdown":"I have a map (`HashMap&lt;String, Map&lt;String,String&gt; mapTest`) in which I have a loop that does several operations.\r\n\r\n\r\n```\r\nHashMap&lt;String, Map&lt;String, String&gt; mapTest = new HashMap&lt;&gt;();\r\nArrayList&lt;Object&gt; testFinals = new ArrayList&lt;&gt;();\r\n\r\nfor (Map.Entry&lt;String, Map&lt;String, String&gt;&gt; entry : mapTest.entrySet()) {\r\n\r\n    // in here I do a lot of things, like another for loops, if&#39;s, etc.\r\n\r\n    //the final juice to get from here is that in each time the loop is executed I have this:\r\n\r\n    List&lt;Object&gt; resultExp = methodXYZ(String, String, String);\r\n\r\n    testFinals.addAll(resultExp);\r\n}\r\n```\r\n\r\n**- In here, I have to wait before I proceed, since I need the full testFinals filled to advance.**\r\n\r\nNow, what I need to do is:\r\n\r\n1 - This mapTest can have like 400 rows to iterate from.\r\n\r\n**I want to schedule like 4 threads, and assign like 100 rows of that FOR cycle to thread 1, the next 100 rows of the mapTest to thread 2, and so on.**\r\n\r\nAlready tryed a few solutions, like this one:\r\n\r\n    ExecutorService taskExecutor = Executors.newFixedThreadPool(4);\r\n    \r\n    while(...) {\r\n    \r\n      taskExecutor.execute(new MyTask());\r\n    \r\n    }\r\n    \r\n    taskExecutor.shutdown();\r\n    \r\n    try {\r\n    \r\n      taskExecutor.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\r\n    \r\n    } catch (InterruptedException e) {\r\n    \r\n      ...\r\n    \r\n    }\r\n\r\nbut I can&#39;t adapt this correctly or a similar working solution to what I have now, with that map iteration.\r\n\r\n","title":"Multithreading in a hashmap entry loop - Executor service (Java)","body":"<p>I have a map (<code>HashMap&lt;String, Map&lt;String,String&gt; mapTest</code>) in which I have a loop that does several operations.</p>\n<pre><code>HashMap&lt;String, Map&lt;String, String&gt; mapTest = new HashMap&lt;&gt;();\nArrayList&lt;Object&gt; testFinals = new ArrayList&lt;&gt;();\n\nfor (Map.Entry&lt;String, Map&lt;String, String&gt;&gt; entry : mapTest.entrySet()) {\n\n    // in here I do a lot of things, like another for loops, if's, etc.\n\n    //the final juice to get from here is that in each time the loop is executed I have this:\n\n    List&lt;Object&gt; resultExp = methodXYZ(String, String, String);\n\n    testFinals.addAll(resultExp);\n}\n</code></pre>\n<p><strong>- In here, I have to wait before I proceed, since I need the full testFinals filled to advance.</strong></p>\n<p>Now, what I need to do is:</p>\n<p>1 - This mapTest can have like 400 rows to iterate from.</p>\n<p><strong>I want to schedule like 4 threads, and assign like 100 rows of that FOR cycle to thread 1, the next 100 rows of the mapTest to thread 2, and so on.</strong></p>\n<p>Already tryed a few solutions, like this one:</p>\n<pre><code>ExecutorService taskExecutor = Executors.newFixedThreadPool(4);\n\nwhile(...) {\n\n  taskExecutor.execute(new MyTask());\n\n}\n\ntaskExecutor.shutdown();\n\ntry {\n\n  taskExecutor.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\n\n} catch (InterruptedException e) {\n\n  ...\n\n}\n</code></pre>\n<p>but I can't adapt this correctly or a similar working solution to what I have now, with that map iteration.</p>\n"},{"tags":["python","java","pyspark","jupyter-notebook"],"answers":[{"tags":[],"owner":{"account_id":100116,"reputation":14357,"user_id":270043,"accept_rate":60,"display_name":"Rayne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660275542,"creation_date":1660275542,"answer_id":73329017,"question_id":73317370,"body_markdown":"I found out what the problem was. \r\n\r\nBased on the error message `java.net.UnknownHostException: abc: abc: Name or service not known`, I suspected Java did not recognize my server hostname `abc`. So I added it to `/etc/hosts` under the loopback IP `127.0.0.1`, and now I can run pyspark.","title":"Unable to run PySpark in Jupyter Notebook - Linux","body":"<p>I found out what the problem was.</p>\n<p>Based on the error message <code>java.net.UnknownHostException: abc: abc: Name or service not known</code>, I suspected Java did not recognize my server hostname <code>abc</code>. So I added it to <code>/etc/hosts</code> under the loopback IP <code>127.0.0.1</code>, and now I can run pyspark.</p>\n"}],"owner":{"account_id":100116,"reputation":14357,"user_id":270043,"accept_rate":60,"display_name":"Rayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73329017,"answer_count":1,"score":0,"last_activity_date":1660275542,"creation_date":1660205576,"question_id":73317370,"body_markdown":"I&#39;m trying to run PySpark on my Jupyter Notebook locally on a server not connected to the internet. I installed PySpark and Java using the following:\r\n\r\n    conda install pyspark-3.3.0-pyhd8ed1ab_0.tar.bz2\r\n    conda install openjdk-8.0.332-h166bdaf_0.tar.bz2\r\n\r\nWhen I do a `!java -version` in my notebook, I get\r\n\r\n    openjdk version &quot;1.8.0_332&quot;\r\n    OpenJDK Runtime Environment (Zulu 8.62.0.19-CA-linux64) (build 1.8.0_332-b09)\r\n    OpenJDK 64-Bit Server VM (Zulu 8.62.0.19-CA-linux64) (build 25.332-b09, mixed mode)\r\n\r\nWhen I run `!which java`, I get\r\n\r\n    /root/anaconda3/bin/java\r\n\r\nMy code is as follows.\r\n\r\n    import os\r\n    os.environ[&#39;SPARK_HOME&#39;] = &quot;/root/anaconda3/pkgs/pyspark-3.3.0-pyhd8ed1ab_0/site_packages/pyspark&quot;\r\n    os.environ[&#39;JAVA_HOME&#39;] = &quot;/root/anaconda3&quot;\r\n    os.environ[&#39;PYSPARK_SUBMIT_ARGS&#39;] = &quot;--master local[2] pyspark-shell&quot;\r\n    \r\n    from pyspark import SparkConf, SparkContext\r\n    conf = SparkConf().set(&#39;spark.driver.host&#39;,&#39;127.0.0.1&#39;)\r\n    sc = SparkContext(master=&#39;local&#39;, appName=&#39;Test&#39;, conf=conf)\r\n\r\nThe error I got was (a snippet of it because I&#39;m manually typing it here):\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at org.apache.spark.deploy.SparkSubmitArguments.$anonfun$loadEnvironmentArguments$3(SparkSubmitArguments.scala:157)\r\n        ...\r\n    Caused by: java.net.UnknownHostException: abc: abc: Name or service not known\r\n    ...\r\n    Caused by: java.net.UnknownHostException: abc: Name or service not known\r\n    ...\r\n\r\n    Runtime Error: Java gateway process exited before sending its port number\r\n\r\n&quot;abc&quot; is my server&#39;s hostname. What am I missing here?","title":"Unable to run PySpark in Jupyter Notebook - Linux","body":"<p>I'm trying to run PySpark on my Jupyter Notebook locally on a server not connected to the internet. I installed PySpark and Java using the following:</p>\n<pre><code>conda install pyspark-3.3.0-pyhd8ed1ab_0.tar.bz2\nconda install openjdk-8.0.332-h166bdaf_0.tar.bz2\n</code></pre>\n<p>When I do a <code>!java -version</code> in my notebook, I get</p>\n<pre><code>openjdk version &quot;1.8.0_332&quot;\nOpenJDK Runtime Environment (Zulu 8.62.0.19-CA-linux64) (build 1.8.0_332-b09)\nOpenJDK 64-Bit Server VM (Zulu 8.62.0.19-CA-linux64) (build 25.332-b09, mixed mode)\n</code></pre>\n<p>When I run <code>!which java</code>, I get</p>\n<pre><code>/root/anaconda3/bin/java\n</code></pre>\n<p>My code is as follows.</p>\n<pre><code>import os\nos.environ['SPARK_HOME'] = &quot;/root/anaconda3/pkgs/pyspark-3.3.0-pyhd8ed1ab_0/site_packages/pyspark&quot;\nos.environ['JAVA_HOME'] = &quot;/root/anaconda3&quot;\nos.environ['PYSPARK_SUBMIT_ARGS'] = &quot;--master local[2] pyspark-shell&quot;\n\nfrom pyspark import SparkConf, SparkContext\nconf = SparkConf().set('spark.driver.host','127.0.0.1')\nsc = SparkContext(master='local', appName='Test', conf=conf)\n</code></pre>\n<p>The error I got was (a snippet of it because I'm manually typing it here):</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at org.apache.spark.deploy.SparkSubmitArguments.$anonfun$loadEnvironmentArguments$3(SparkSubmitArguments.scala:157)\n    ...\nCaused by: java.net.UnknownHostException: abc: abc: Name or service not known\n...\nCaused by: java.net.UnknownHostException: abc: Name or service not known\n...\n\nRuntime Error: Java gateway process exited before sending its port number\n</code></pre>\n<p>&quot;abc&quot; is my server's hostname. What am I missing here?</p>\n"},{"tags":["java","sql","arrays","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660273348,"creation_date":1660273348,"answer_id":73328842,"question_id":73328793,"body_markdown":"`Array` is a low-level class that you shouldn&#39;t interact with.\r\n\r\nUse `List&lt;String&gt;` instead.","title":"How to use java.sql.Array with Spring","body":"<p><code>Array</code> is a low-level class that you shouldn't interact with.</p>\n<p>Use <code>List&lt;String&gt;</code> instead.</p>\n"}],"owner":{"account_id":6995662,"reputation":99,"user_id":5363431,"accept_rate":56,"display_name":"Khari Thompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660273369,"creation_date":1660272808,"question_id":73328793,"body_markdown":"I&#39;m trying to make a Spring application and I&#39;ve hit a snag.\r\n\r\nHere&#39;s my model class:\r\n```\r\n@Entity\r\n@Component\r\npublic class Theater {\r\n\t\r\n\t@Id\r\n\tprivate int theaterId;\r\n\tprivate Array theaterNumbers;\r\n\tprivate String theaterLoc;\r\n\t\r\n\tpublic Theater(Array theaterNumbers, String theaterLoc) {\r\n\t\tsuper();\r\n\t\tthis.theaterNumbers = theaterNumbers;\r\n\t\tthis.theaterLoc = theaterLoc;\r\n\t}\r\n\r\n\tpublic int getTheaterId() {\r\n\t\treturn theaterId;\r\n\t}\r\n\r\n\tpublic void setTheaterId(int theaterId) {\r\n\t\tthis.theaterId = theaterId;\r\n\t}\r\n\r\n\t\r\n\tpublic Array getTheaterNumbers() {\r\n\t\treturn theaterNumbers;\r\n\t}\r\n\r\n\tpublic void setTheaterNumbers(Array theaterNumbers) {\r\n\t\tthis.theaterNumbers = theaterNumbers;\r\n\t}\r\n\r\n\tpublic String getTheaterLoc() {\r\n\t\treturn theaterLoc;\r\n\t}\r\n\r\n\tpublic void setTheaterLoc(String theaterLoc) {\r\n\t\tthis.theaterLoc = theaterLoc;\r\n\t}\r\n```\r\n\r\nThis is the error I&#39;m receiving:\r\n\r\n```\r\norg.hibernate.MappingException: Could not determine type for: java.sql.Array, at table: theater, for columns: [org.hibernate.mapping.Column(theater_numbers)]\r\n```\r\n\r\nI&#39;m not sure where to start. I&#39;ve looked around and haven&#39;t found anyone with a similar problem. I&#39;m using Array because I have an array in my postgres db. java.sql.Array to be precise.\r\n\r\nAny help would be appreciated!","title":"How to use java.sql.Array with Spring","body":"<p>I'm trying to make a Spring application and I've hit a snag.</p>\n<p>Here's my model class:</p>\n<pre><code>@Entity\n@Component\npublic class Theater {\n    \n    @Id\n    private int theaterId;\n    private Array theaterNumbers;\n    private String theaterLoc;\n    \n    public Theater(Array theaterNumbers, String theaterLoc) {\n        super();\n        this.theaterNumbers = theaterNumbers;\n        this.theaterLoc = theaterLoc;\n    }\n\n    public int getTheaterId() {\n        return theaterId;\n    }\n\n    public void setTheaterId(int theaterId) {\n        this.theaterId = theaterId;\n    }\n\n    \n    public Array getTheaterNumbers() {\n        return theaterNumbers;\n    }\n\n    public void setTheaterNumbers(Array theaterNumbers) {\n        this.theaterNumbers = theaterNumbers;\n    }\n\n    public String getTheaterLoc() {\n        return theaterLoc;\n    }\n\n    public void setTheaterLoc(String theaterLoc) {\n        this.theaterLoc = theaterLoc;\n    }\n</code></pre>\n<p>This is the error I'm receiving:</p>\n<pre><code>org.hibernate.MappingException: Could not determine type for: java.sql.Array, at table: theater, for columns: [org.hibernate.mapping.Column(theater_numbers)]\n</code></pre>\n<p>I'm not sure where to start. I've looked around and haven't found anyone with a similar problem. I'm using Array because I have an array in my postgres db. java.sql.Array to be precise.</p>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","spring","hibernate","jpa","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660272883,"creation_date":1660272883,"answer_id":73328802,"question_id":73326116,"body_markdown":"After a hard day&#39;s work, I managed to solve my problem.\r\n\r\nIt had nothing to do with the Multitenancy implementation itself.\r\n\r\nIt was necessary for me to add @Transactional in the controller and it worked.","title":"Mult Tenant per Schema - not calling getConnection()","body":"<p>After a hard day's work, I managed to solve my problem.</p>\n<p>It had nothing to do with the Multitenancy implementation itself.</p>\n<p>It was necessary for me to add @Transactional in the controller and it worked.</p>\n"}],"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660272883,"creation_date":1660246810,"question_id":73326116,"body_markdown":"I&#39;m implementing mult-tenancy per schema in my application and I&#39;m having trouble switching the schema.\r\n\r\nI&#39;ll put the flow step by step:\r\n\r\n1 - I make the request to the API, passing X-TENANT-ID in the header\r\n\r\n``` \r\npackage br.com.braxxy.brxm.server.multtenant.hibernate;\r\n\r\nimport java.util.Optional;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.web.servlet.HandlerInterceptor;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic class TenantInterceptor implements HandlerInterceptor {\r\n\r\n\t@Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception {\r\n\t\tlog.info(&quot;TENANT: &quot; + request.getHeader(&quot;X-TENANT-ID&quot;));\r\n\r\n\t\tOptional.ofNullable(request.getHeader(&quot;X-TENANT-ID&quot;)).map(String::toUpperCase)\r\n\t\t\t\t.ifPresent(Tenant::setIdentificador);\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n2 - The resolveCurrentTenantIdentifier method of the CurrentTenantIdentifierResolver interface is overridden and returns the data I passed in the X-TENANT-ID.\r\n\r\n```\r\npackage br.com.braxxy.brxm.server.multtenant.hibernate;\r\n\r\nimport org.hibernate.context.spi.CurrentTenantIdentifierResolver;\r\n\r\npublic class SchemaCurrentTenantIdentifierResolver implements CurrentTenantIdentifierResolver {\r\n\r\n    @Override\r\n    public String resolveCurrentTenantIdentifier() {\r\n    \tSystem.out.println(&quot;resolveCurrentTenantIdentifier : &quot; + Tenant.getIdentificador());\r\n    \t\r\n        return Tenant.getIdentificador();\r\n    }\r\n\r\n    @Override\r\n    public boolean validateExistingCurrentSessions() {\r\n    \tSystem.out.println(&quot;validateExistingCurrentSessions : &quot; + Tenant.getIdentificador());\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n\r\n3 - This is the step I&#39;m having trouble with. In theory, hibernate should call the getConnection method passing the tenant, but this method is not called when I make the request and consequently does not change the schema.\r\n\r\n```\r\npackage br.com.braxxy.brxm.server.multtenant.hibernate;\r\n\r\nimport org.hibernate.HibernateException;\r\nimport org.hibernate.engine.config.spi.ConfigurationService;\r\nimport org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl;\r\nimport org.hibernate.engine.jdbc.connections.spi.ConnectionProvider;\r\nimport org.hibernate.engine.jdbc.connections.spi.MultiTenantConnectionProvider;\r\nimport org.hibernate.service.spi.ServiceRegistryAwareService;\r\nimport org.hibernate.service.spi.ServiceRegistryImplementor;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.util.Map;\r\n\r\npublic class SchemaMultiTenantConnectionProvider implements\r\n        MultiTenantConnectionProvider, ServiceRegistryAwareService {\r\n\r\n    /**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate ConnectionProvider connectionProvider = null;\r\n    \r\n\r\n    @Override\r\n    public Connection getAnyConnection() throws SQLException {\r\n        return connectionProvider.getConnection();\r\n    }\r\n\r\n    @Override\r\n    public void releaseAnyConnection(Connection connection) throws SQLException {\r\n        connectionProvider.closeConnection(connection);\r\n    }\r\n\r\n    @Override\r\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\r\n        Connection connection = getAnyConnection();\r\n        System.out.println(&quot;getConnection :&quot; + tenantIdentifier);\r\n        try {\r\n        \tconnection.createStatement().execute(&quot;SET SCHEMA &#39;&quot; + tenantIdentifier + &quot;&#39;&quot;);\r\n        } catch (SQLException e) {\r\n            throw new HibernateException(&quot;Could not change to schema &quot; + tenantIdentifier + &quot;.&quot;, e);\r\n        }\r\n\r\n        return connection;\r\n    }\r\n\r\n    @Override\r\n    public void releaseConnection(String tenantIdentifier, Connection connection) throws SQLException {\r\n        releaseAnyConnection(connection);\r\n    }\r\n\r\n    @Override\r\n    public boolean supportsAggressiveRelease() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isUnwrappableAs(Class unwrapType) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; T unwrap(Class&lt;T&gt; unwrapType) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void injectServices(ServiceRegistryImplementor serviceRegistry) {\r\n    \t\r\n        Map&lt;String, String&gt; settings = serviceRegistry\r\n                .getService(ConfigurationService.class)\r\n                .getSettings();\r\n\r\n        connectionProvider = new DriverManagerConnectionProviderImpl();\r\n        ((DriverManagerConnectionProviderImpl) connectionProvider)\r\n                .injectServices(serviceRegistry);\r\n        ((DriverManagerConnectionProviderImpl) connectionProvider)\r\n                .configure(settings);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;ve tried to do it in several ways, but I always fall into the same problem. Does anyone know how to solve?\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;\r\n\tversion=&quot;2.2&quot;&gt;\r\n\t&lt;persistence-unit name=&quot;brxTenant&quot;&gt;\r\n\t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.provider&quot; value=&quot;org.hibernate.ejb.HibernatePersistence&quot; /&gt;\r\n\t\t\t\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/postgres&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;braxxy&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot; /&gt;\r\n\t\t\t\r\n\t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n\r\n\t\t\t&lt;property name=&quot;hibernate.multiTenancy&quot; value=&quot;SCHEMA&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.multi_tenant_connection_provider&quot; value=&quot;br.com.braxxy.brxm.server.multtenant.hibernate.SchemaMultiTenantConnectionProvider&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.tenant_identifier_resolver&quot; value=&quot;br.com.braxxy.brxm.server.multtenant.hibernate.SchemaCurrentTenantIdentifierResolver&quot;/&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot; /&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\n```\r\n\r\n\r\n","title":"Mult Tenant per Schema - not calling getConnection()","body":"<p>I'm implementing mult-tenancy per schema in my application and I'm having trouble switching the schema.</p>\n<p>I'll put the flow step by step:</p>\n<p>1 - I make the request to the API, passing X-TENANT-ID in the header</p>\n<pre><code>package br.com.braxxy.brxm.server.multtenant.hibernate;\n\nimport java.util.Optional;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.web.servlet.HandlerInterceptor;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class TenantInterceptor implements HandlerInterceptor {\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n        log.info(&quot;TENANT: &quot; + request.getHeader(&quot;X-TENANT-ID&quot;));\n\n        Optional.ofNullable(request.getHeader(&quot;X-TENANT-ID&quot;)).map(String::toUpperCase)\n                .ifPresent(Tenant::setIdentificador);\n        return true;\n    }\n\n}\n\n</code></pre>\n<p>2 - The resolveCurrentTenantIdentifier method of the CurrentTenantIdentifierResolver interface is overridden and returns the data I passed in the X-TENANT-ID.</p>\n<pre><code>package br.com.braxxy.brxm.server.multtenant.hibernate;\n\nimport org.hibernate.context.spi.CurrentTenantIdentifierResolver;\n\npublic class SchemaCurrentTenantIdentifierResolver implements CurrentTenantIdentifierResolver {\n\n    @Override\n    public String resolveCurrentTenantIdentifier() {\n        System.out.println(&quot;resolveCurrentTenantIdentifier : &quot; + Tenant.getIdentificador());\n        \n        return Tenant.getIdentificador();\n    }\n\n    @Override\n    public boolean validateExistingCurrentSessions() {\n        System.out.println(&quot;validateExistingCurrentSessions : &quot; + Tenant.getIdentificador());\n        return false;\n    }\n}\n\n</code></pre>\n<p>3 - This is the step I'm having trouble with. In theory, hibernate should call the getConnection method passing the tenant, but this method is not called when I make the request and consequently does not change the schema.</p>\n<pre><code>package br.com.braxxy.brxm.server.multtenant.hibernate;\n\nimport org.hibernate.HibernateException;\nimport org.hibernate.engine.config.spi.ConfigurationService;\nimport org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl;\nimport org.hibernate.engine.jdbc.connections.spi.ConnectionProvider;\nimport org.hibernate.engine.jdbc.connections.spi.MultiTenantConnectionProvider;\nimport org.hibernate.service.spi.ServiceRegistryAwareService;\nimport org.hibernate.service.spi.ServiceRegistryImplementor;\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.util.Map;\n\npublic class SchemaMultiTenantConnectionProvider implements\n        MultiTenantConnectionProvider, ServiceRegistryAwareService {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private ConnectionProvider connectionProvider = null;\n    \n\n    @Override\n    public Connection getAnyConnection() throws SQLException {\n        return connectionProvider.getConnection();\n    }\n\n    @Override\n    public void releaseAnyConnection(Connection connection) throws SQLException {\n        connectionProvider.closeConnection(connection);\n    }\n\n    @Override\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\n        Connection connection = getAnyConnection();\n        System.out.println(&quot;getConnection :&quot; + tenantIdentifier);\n        try {\n            connection.createStatement().execute(&quot;SET SCHEMA '&quot; + tenantIdentifier + &quot;'&quot;);\n        } catch (SQLException e) {\n            throw new HibernateException(&quot;Could not change to schema &quot; + tenantIdentifier + &quot;.&quot;, e);\n        }\n\n        return connection;\n    }\n\n    @Override\n    public void releaseConnection(String tenantIdentifier, Connection connection) throws SQLException {\n        releaseAnyConnection(connection);\n    }\n\n    @Override\n    public boolean supportsAggressiveRelease() {\n        return false;\n    }\n\n    @Override\n    public boolean isUnwrappableAs(Class unwrapType) {\n        return false;\n    }\n\n    @Override\n    public &lt;T&gt; T unwrap(Class&lt;T&gt; unwrapType) {\n        return null;\n    }\n\n    @Override\n    public void injectServices(ServiceRegistryImplementor serviceRegistry) {\n        \n        Map&lt;String, String&gt; settings = serviceRegistry\n                .getService(ConfigurationService.class)\n                .getSettings();\n\n        connectionProvider = new DriverManagerConnectionProviderImpl();\n        ((DriverManagerConnectionProviderImpl) connectionProvider)\n                .injectServices(serviceRegistry);\n        ((DriverManagerConnectionProviderImpl) connectionProvider)\n                .configure(settings);\n    }\n}\n\n</code></pre>\n<p>I've tried to do it in several ways, but I always fall into the same problem. Does anyone know how to solve?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;\n    version=&quot;2.2&quot;&gt;\n    &lt;persistence-unit name=&quot;brxTenant&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.provider&quot; value=&quot;org.hibernate.ejb.HibernatePersistence&quot; /&gt;\n            \n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/postgres&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;braxxy&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot; /&gt;\n            \n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n\n            &lt;property name=&quot;hibernate.multiTenancy&quot; value=&quot;SCHEMA&quot; /&gt;\n            &lt;property name=&quot;hibernate.multi_tenant_connection_provider&quot; value=&quot;br.com.braxxy.brxm.server.multtenant.hibernate.SchemaMultiTenantConnectionProvider&quot;/&gt;\n            &lt;property name=&quot;hibernate.tenant_identifier_resolver&quot; value=&quot;br.com.braxxy.brxm.server.multtenant.hibernate.SchemaCurrentTenantIdentifierResolver&quot;/&gt;\n                \n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","graphql"],"answers":[{"tags":[],"owner":{"account_id":21721587,"reputation":91,"user_id":16031709,"display_name":"Doğukan &#214;zdemir"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660269805,"creation_date":1660269805,"answer_id":73328552,"question_id":73326579,"body_markdown":"Alright, by digging into `spring-graphql` sample codes\r\n\r\nI have found a solution.\r\n\r\nIt was as simple as changing this:\r\n\r\n    @GraphQlTest(PlayerController.class)\r\n    @Import(PlayerRepository.class)\r\n    class PlayerControllerIntTest {\r\n\r\nto this:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureGraphQlTester\r\n    public class PlayerControllerIntTest {\r\n\r\nHope it helps!\r\n\r\nReference:[https://github.com/spring-projects/spring-graphql/blob/main/samples/webmvc-http/src/test/java/io/spring/sample/graphql/repository/ArtifactRepositoriesTests.java][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-graphql/blob/main/samples/webmvc-http/src/test/java/io/spring/sample/graphql/repository/ArtifactRepositoriesTests.java","title":"GraphQLTester with SpringBoot Failed to instantiate xxx specified class is an interface","body":"<p>Alright, by digging into <code>spring-graphql</code> sample codes</p>\n<p>I have found a solution.</p>\n<p>It was as simple as changing this:</p>\n<pre><code>@GraphQlTest(PlayerController.class)\n@Import(PlayerRepository.class)\nclass PlayerControllerIntTest {\n</code></pre>\n<p>to this:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureGraphQlTester\npublic class PlayerControllerIntTest {\n</code></pre>\n<p>Hope it helps!</p>\n<p>Reference:<a href=\"https://github.com/spring-projects/spring-graphql/blob/main/samples/webmvc-http/src/test/java/io/spring/sample/graphql/repository/ArtifactRepositoriesTests.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-graphql/blob/main/samples/webmvc-http/src/test/java/io/spring/sample/graphql/repository/ArtifactRepositoriesTests.java</a></p>\n"}],"owner":{"account_id":21721587,"reputation":91,"user_id":16031709,"display_name":"Doğukan &#214;zdemir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1141,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73328552,"answer_count":1,"score":6,"last_activity_date":1660269805,"creation_date":1660249827,"question_id":73326579,"body_markdown":"**PlayerController.java:**\r\n\r\n    @Controller\r\n    public class PlayerController {\r\n    \r\n    \r\n        private final int MAXIMUM_CAPACITY = 12;\r\n        @Autowired\r\n        private final PlayerRepository playerRepository;\r\n    \r\n    \r\n        public PlayerController(PlayerRepository repository){\r\n            this.playerRepository = repository;\r\n    \r\n        }\r\n    \r\n        @QueryMapping\r\n        List&lt;Player&gt; getAllPlayers(){\r\n            List&lt;Player&gt; ps = new ArrayList&lt;&gt;();\r\n            playerRepository.findAll().forEach(ps::add);\r\n            return ps;\r\n        }\r\n    \r\n        @QueryMapping\r\n        Optional&lt;Player&gt; playerById(@Argument Long id){\r\n            return playerRepository.findById(id);\r\n    \r\n        }\r\n    \r\n        @MutationMapping\r\n        Object AddPlayer(@Argument PlayerInput player){\r\n    \r\n            if(playerRepository.count() &gt;= MAXIMUM_CAPACITY)\r\n                return new PlayerFailedPayload(&quot;maximum number of players reached (&quot; + MAXIMUM_CAPACITY + &quot;)! Please delete players before adding more.&quot; );\r\n    \r\n            if(!PlayerPosition.isValidPosition(player.position()))\r\n                return new PlayerFailedPayload(&quot;Invalid Player Position, The valid positions are: {&#39;PG&#39;,&#39;SG&#39;,&#39;SF&#39;,&#39;PF&#39;,&#39;C&#39;}&quot;);\r\n    \r\n            if(player.name().isEmpty() || player.surname().isEmpty())\r\n                return new PlayerFailedPayload(&quot;Name or surname cannot be empty&quot;);\r\n    \r\n    \r\n            Player p = new Player(player.name(),player.surname(),player.position());\r\n            return new PlayerSuccessPayload(&quot;A new player was added successfully.&quot; , playerRepository.save(p));\r\n        }\r\n    \r\n        @MutationMapping\r\n        Object DeletePlayer(@Argument Long id) {\r\n            Optional&lt;Player&gt; player = playerRepository.findById(id);\r\n    \r\n            if(player.isEmpty())\r\n                return new PlayerFailedPayload(&quot;player with id &quot; + id + &quot; does not exist!&quot;);\r\n            playerRepository.deleteById(id);\r\n            return new PlayerSuccessPayload(&quot;Player with id &quot; + id + &quot; was deleted successfully&quot;,player.get());\r\n    \r\n    \r\n        }\r\n    \r\n        record PlayerInput(String name, String surname, String position){}\r\n        record PlayerSuccessPayload(String message,Player player){}\r\n        record PlayerFailedPayload(String error){}\r\n    }\r\n\r\n\r\n**PlayerRepository.java**\r\n\r\n\r\n\r\n    @Repository\r\n    public interface PlayerRepository extends CrudRepository&lt;Player,Long&gt; {\r\n    \r\n    \r\n    }\r\n\r\n**schema.graphqls:**\r\n\r\n    union PlayerPayload = PlayerSuccessPayload | PlayerFailedPayload\r\n    \r\n    type PlayerFailedPayload {\r\n        error: String!\r\n    }\r\n    \r\n    type PlayerSuccessPayload {\r\n        message: String!\r\n        player : Player!\r\n    }\r\n    \r\n    type Query {\r\n        getAllPlayers: [Player]\r\n        playerById(id: ID!): Player!\r\n    }\r\n    \r\n    type Mutation{\r\n        AddPlayer(player: PlayerInput): PlayerPayload!\r\n        DeletePlayer(id : ID!): PlayerPayload!\r\n    }\r\n    \r\n    input PlayerInput {\r\n        name: String!\r\n        surname: String!\r\n        position: String!\r\n    }\r\n    \r\n    type Player {\r\n        id: ID!\r\n        name: String!\r\n        surname: String!\r\n        position: String!\r\n    }\r\n\r\n\r\n**PlayerControllerIntTest.java**\r\n\r\n    @GraphQlTest(PlayerController.class)\r\n    @Import(PlayerRepository.class)\r\n    class PlayerControllerIntTest {\r\n    \r\n    \r\n        @Autowired\r\n        GraphQlTester graphQlTester;\r\n    \r\n        @Test\r\n        void testGetAllPlayersShouldReturnAllPlayers() {\r\n            // language=GraphQL\r\n            String document = &quot;&quot;&quot;\r\n            query {\r\n                getAllPlayers {\r\n                    id\r\n                    name\r\n                    surname\r\n                    position         \r\n                }\r\n            }    \r\n            &quot;&quot;&quot;;\r\n    \r\n            graphQlTester.document(document)\r\n                    .execute()\r\n                    .path(&quot;getAllPlayers&quot;)\r\n                    .entityList(Player.class)\r\n                    .hasSize(3);\r\n        }\r\n    }\r\n\r\nI am trying to write simple Unit test to get all of the players.\r\nHowever no matter how much I researched I haven&#39;t been able to find a solution\r\nI am getting this error:\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;playerController&#39; defined in file [E:\\Documents\\Github\\Java\\basketball\\basketball\\target\\classes\\com\\example\\basketball\\controller\\PlayerController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.example.basketball.repository.PlayerRepository&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.basketball.repository.PlayerRepository]: Specified class is an interface\r\n\r\n**Things I have tried:**\r\n\r\n    @EnableAutoConfiguration\r\n    @ContextConfiguration(classes = {PlayerRepository.class})\r\n\r\nI added these annotations at the top of the `PlayerControllerIntTest`\r\nThen I get a different error saying:\r\n\r\n    java.lang.IllegalArgumentException: Unrecognized Type: org.springframework.core.ResolvableType$EmptyType@5333f08f\r\n\r\nThis is how my project structure looks like:\r\n[structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SzJ3k.png\r\n\r\n\r\nAny help?","title":"GraphQLTester with SpringBoot Failed to instantiate xxx specified class is an interface","body":"<p><strong>PlayerController.java:</strong></p>\n<pre><code>@Controller\npublic class PlayerController {\n\n\n    private final int MAXIMUM_CAPACITY = 12;\n    @Autowired\n    private final PlayerRepository playerRepository;\n\n\n    public PlayerController(PlayerRepository repository){\n        this.playerRepository = repository;\n\n    }\n\n    @QueryMapping\n    List&lt;Player&gt; getAllPlayers(){\n        List&lt;Player&gt; ps = new ArrayList&lt;&gt;();\n        playerRepository.findAll().forEach(ps::add);\n        return ps;\n    }\n\n    @QueryMapping\n    Optional&lt;Player&gt; playerById(@Argument Long id){\n        return playerRepository.findById(id);\n\n    }\n\n    @MutationMapping\n    Object AddPlayer(@Argument PlayerInput player){\n\n        if(playerRepository.count() &gt;= MAXIMUM_CAPACITY)\n            return new PlayerFailedPayload(&quot;maximum number of players reached (&quot; + MAXIMUM_CAPACITY + &quot;)! Please delete players before adding more.&quot; );\n\n        if(!PlayerPosition.isValidPosition(player.position()))\n            return new PlayerFailedPayload(&quot;Invalid Player Position, The valid positions are: {'PG','SG','SF','PF','C'}&quot;);\n\n        if(player.name().isEmpty() || player.surname().isEmpty())\n            return new PlayerFailedPayload(&quot;Name or surname cannot be empty&quot;);\n\n\n        Player p = new Player(player.name(),player.surname(),player.position());\n        return new PlayerSuccessPayload(&quot;A new player was added successfully.&quot; , playerRepository.save(p));\n    }\n\n    @MutationMapping\n    Object DeletePlayer(@Argument Long id) {\n        Optional&lt;Player&gt; player = playerRepository.findById(id);\n\n        if(player.isEmpty())\n            return new PlayerFailedPayload(&quot;player with id &quot; + id + &quot; does not exist!&quot;);\n        playerRepository.deleteById(id);\n        return new PlayerSuccessPayload(&quot;Player with id &quot; + id + &quot; was deleted successfully&quot;,player.get());\n\n\n    }\n\n    record PlayerInput(String name, String surname, String position){}\n    record PlayerSuccessPayload(String message,Player player){}\n    record PlayerFailedPayload(String error){}\n}\n</code></pre>\n<p><strong>PlayerRepository.java</strong></p>\n<pre><code>@Repository\npublic interface PlayerRepository extends CrudRepository&lt;Player,Long&gt; {\n\n\n}\n</code></pre>\n<p><strong>schema.graphqls:</strong></p>\n<pre><code>union PlayerPayload = PlayerSuccessPayload | PlayerFailedPayload\n\ntype PlayerFailedPayload {\n    error: String!\n}\n\ntype PlayerSuccessPayload {\n    message: String!\n    player : Player!\n}\n\ntype Query {\n    getAllPlayers: [Player]\n    playerById(id: ID!): Player!\n}\n\ntype Mutation{\n    AddPlayer(player: PlayerInput): PlayerPayload!\n    DeletePlayer(id : ID!): PlayerPayload!\n}\n\ninput PlayerInput {\n    name: String!\n    surname: String!\n    position: String!\n}\n\ntype Player {\n    id: ID!\n    name: String!\n    surname: String!\n    position: String!\n}\n</code></pre>\n<p><strong>PlayerControllerIntTest.java</strong></p>\n<pre><code>@GraphQlTest(PlayerController.class)\n@Import(PlayerRepository.class)\nclass PlayerControllerIntTest {\n\n\n    @Autowired\n    GraphQlTester graphQlTester;\n\n    @Test\n    void testGetAllPlayersShouldReturnAllPlayers() {\n        // language=GraphQL\n        String document = &quot;&quot;&quot;\n        query {\n            getAllPlayers {\n                id\n                name\n                surname\n                position         \n            }\n        }    \n        &quot;&quot;&quot;;\n\n        graphQlTester.document(document)\n                .execute()\n                .path(&quot;getAllPlayers&quot;)\n                .entityList(Player.class)\n                .hasSize(3);\n    }\n}\n</code></pre>\n<p>I am trying to write simple Unit test to get all of the players.\nHowever no matter how much I researched I haven't been able to find a solution\nI am getting this error:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerController' defined in file [E:\\Documents\\Github\\Java\\basketball\\basketball\\target\\classes\\com\\example\\basketball\\controller\\PlayerController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.example.basketball.repository.PlayerRepository': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.basketball.repository.PlayerRepository]: Specified class is an interface\n</code></pre>\n<p><strong>Things I have tried:</strong></p>\n<pre><code>@EnableAutoConfiguration\n@ContextConfiguration(classes = {PlayerRepository.class})\n</code></pre>\n<p>I added these annotations at the top of the <code>PlayerControllerIntTest</code>\nThen I get a different error saying:</p>\n<pre><code>java.lang.IllegalArgumentException: Unrecognized Type: org.springframework.core.ResolvableType$EmptyType@5333f08f\n</code></pre>\n<p>This is how my project structure looks like:\n<a href=\"https://i.stack.imgur.com/SzJ3k.png\" rel=\"noreferrer\">structure</a></p>\n<p>Any help?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1660264149,"post_id":73328105,"comment_id":129497720,"body_markdown":"What&#39;s your thought process? How did you come up with this and where do you think the problem might be? What edge cases have you considered, and do you handle them correctly? In an interview it&#39;s important not just to come up with some code but to explain your thinking and your debugging process, so let&#39;s practice that now.","body":"What&#39;s your thought process? How did you come up with this and where do you think the problem might be? What edge cases have you considered, and do you handle them correctly? In an interview it&#39;s important not just to come up with some code but to explain your thinking and your debugging process, so let&#39;s practice that now."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660268749,"creation_date":1660268749,"answer_id":73328472,"question_id":73328105,"body_markdown":"Various issues with this code.\r\n\r\nLet&#39;s say as input, you have `44477`. Your code will toss all of these digits into the `mod1` bucket. It then takes the first 3 elements from that bucket (`444`) and treats them as usable digits.\r\n\r\nThe 77 remains unused. And therein lies your error; it&#39;s better to take 774 instead of 444.\r\n\r\n__First problem__: Sort the `mod1` and `mod2` buckets, highest numbers first, _before_ fetching digits out.\r\n\r\nSecond problem: You have forced the output to be an `int`, however, in java, ints are defined as taking exactly 32-bits worth of storage, meaning, they can only represent all numbers between and including `[-2^31, +2^31-1]`. `int` has defined behaviour if you attempt to exceed this: The numbers &#39;wrap around&#39;. You can observe this in action:\r\n\r\n```\r\nint x = Integer.MAX_VALUE; // constant representing 2^31 -1\r\nSystem.out.println(x);\r\nx = x + 1;\r\nSystem.out.println(x);\r\n```\r\n\r\nIf you run that, you&#39;ll see the second print statement actually prints a very large negative number (in fact, the &#39;biggest&#39; negative number: -2^31), because the `+1` operation caused the int to wrap around (the technical term is &quot;overflow&quot;). I don&#39;t know how the problem works, but assuming that the input digit list can contain more than 9 digits, that&#39;s a problem - `int` is not big enough. There is no reason to mess with int here. Don&#39;t convert back to int _at all_. Just print the digits in your `usable` arraylist one by one without spaces. If you have a list containing `[9, 9, 7, 4, 1]`, then print each element individually using `System.out.print`, which would produce the output `99741` which is what you want. And it won&#39;t ever use `int` which is risky, what with the overflow issue.\r\n\r\nIf the problem description explicitly requires you to return an `int` value, then this isn&#39;t a problem, I guess. However, that means the problem is broken as written if the input can contain more than 9 digits. (because e.g. 3333333333 - that&#39;s ten threes, __does not fit in an `int`__, and therefore cannot possibly by returned by this function no matter what you do, at least, until you change what it returns. `long` gets you a few more digits, but to support any length, you have to return a `String`, or just send it to the file or standard out or wherever the answer is supposed to go straight from the function.\r\n\r\nThere may be more issues than these 2, of course.\r\n","title":"Google foobar biggest number % 3","body":"<p>Various issues with this code.</p>\n<p>Let's say as input, you have <code>44477</code>. Your code will toss all of these digits into the <code>mod1</code> bucket. It then takes the first 3 elements from that bucket (<code>444</code>) and treats them as usable digits.</p>\n<p>The 77 remains unused. And therein lies your error; it's better to take 774 instead of 444.</p>\n<p><strong>First problem</strong>: Sort the <code>mod1</code> and <code>mod2</code> buckets, highest numbers first, <em>before</em> fetching digits out.</p>\n<p>Second problem: You have forced the output to be an <code>int</code>, however, in java, ints are defined as taking exactly 32-bits worth of storage, meaning, they can only represent all numbers between and including <code>[-2^31, +2^31-1]</code>. <code>int</code> has defined behaviour if you attempt to exceed this: The numbers 'wrap around'. You can observe this in action:</p>\n<pre><code>int x = Integer.MAX_VALUE; // constant representing 2^31 -1\nSystem.out.println(x);\nx = x + 1;\nSystem.out.println(x);\n</code></pre>\n<p>If you run that, you'll see the second print statement actually prints a very large negative number (in fact, the 'biggest' negative number: -2^31), because the <code>+1</code> operation caused the int to wrap around (the technical term is &quot;overflow&quot;). I don't know how the problem works, but assuming that the input digit list can contain more than 9 digits, that's a problem - <code>int</code> is not big enough. There is no reason to mess with int here. Don't convert back to int <em>at all</em>. Just print the digits in your <code>usable</code> arraylist one by one without spaces. If you have a list containing <code>[9, 9, 7, 4, 1]</code>, then print each element individually using <code>System.out.print</code>, which would produce the output <code>99741</code> which is what you want. And it won't ever use <code>int</code> which is risky, what with the overflow issue.</p>\n<p>If the problem description explicitly requires you to return an <code>int</code> value, then this isn't a problem, I guess. However, that means the problem is broken as written if the input can contain more than 9 digits. (because e.g. 3333333333 - that's ten threes, <strong>does not fit in an <code>int</code></strong>, and therefore cannot possibly by returned by this function no matter what you do, at least, until you change what it returns. <code>long</code> gets you a few more digits, but to support any length, you have to return a <code>String</code>, or just send it to the file or standard out or wherever the answer is supposed to go straight from the function.</p>\n<p>There may be more issues than these 2, of course.</p>\n"}],"owner":{"account_id":24572470,"reputation":13,"user_id":18478684,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73328472,"answer_count":1,"score":0,"last_activity_date":1660268749,"creation_date":1660263900,"question_id":73328105,"body_markdown":"Google gave me a challenge to:\r\n\r\n&gt; You have L, a list containing some digits (0 to 9). Write a function\r\n&gt; solution(L) which finds the largest number that can be made from some\r\n&gt; or all of these digits and is divisible by 3. If it is not possible to\r\n&gt; make such a number, return 0 as the solution. L will contain anywhere\r\n&gt; from 1 to 9 digits. The same digit may appear multiple times in the\r\n&gt; list, but each element in the list may only be used once.\r\n\r\nso I came up with the following code:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n\r\n    public class Solution {\r\n        public static int solution(int[] l ) {\r\n            ArrayList&lt;Integer&gt; usable = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; mod1 = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; mod2 = new ArrayList&lt;&gt;();\r\n            // sort given numbers by mod 3\r\n            for (int i:l){\r\n                if (i % 3 == 0) usable.add(i);\r\n                else if (i % 3 == 1) mod1.add(i);\r\n                else mod2.add(i);\r\n            }\r\n            // add groups of 3 numbers that mod 3\r\n            while (mod1.size() &gt;= 3){\r\n                for (int i = 0; i &lt; 3; i++) usable.add(mod1.remove(0));\r\n            }\r\n            while (mod2.size() &gt;= 3){\r\n                for (int i = 0; i &lt; 3; i++) usable.add(mod2.remove(0));\r\n            }\r\n            // mod1 + mod2 == mod3\r\n            while (mod1.size() != 0 &amp;&amp; mod2.size() !=0){\r\n                usable.add(mod1.remove(0));\r\n                usable.add(mod2.remove(0));\r\n            }\r\n            // if no usable elements i.e. {2,8}\r\n            if (usable.size() == 0) return 0;\r\n            // sort usable elements\r\n            Collections.sort(usable);\r\n            Collections.reverse(usable);\r\n            // convert arr into a number\r\n            int ans = 0;\r\n            for (int i: usable) {\r\n                ans = ans*10 + i;\r\n            }\r\n            return ans;\r\n        }\r\n    } \r\nThis is working for most of Googles tests but it&#39;s failing the 4th test. Can someone tell me where my code goes wrong?\r\n","title":"Google foobar biggest number % 3","body":"<p>Google gave me a challenge to:</p>\n<blockquote>\n<p>You have L, a list containing some digits (0 to 9). Write a function\nsolution(L) which finds the largest number that can be made from some\nor all of these digits and is divisible by 3. If it is not possible to\nmake such a number, return 0 as the solution. L will contain anywhere\nfrom 1 to 9 digits. The same digit may appear multiple times in the\nlist, but each element in the list may only be used once.</p>\n</blockquote>\n<p>so I came up with the following code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Solution {\n    public static int solution(int[] l ) {\n        ArrayList&lt;Integer&gt; usable = new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; mod1 = new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; mod2 = new ArrayList&lt;&gt;();\n        // sort given numbers by mod 3\n        for (int i:l){\n            if (i % 3 == 0) usable.add(i);\n            else if (i % 3 == 1) mod1.add(i);\n            else mod2.add(i);\n        }\n        // add groups of 3 numbers that mod 3\n        while (mod1.size() &gt;= 3){\n            for (int i = 0; i &lt; 3; i++) usable.add(mod1.remove(0));\n        }\n        while (mod2.size() &gt;= 3){\n            for (int i = 0; i &lt; 3; i++) usable.add(mod2.remove(0));\n        }\n        // mod1 + mod2 == mod3\n        while (mod1.size() != 0 &amp;&amp; mod2.size() !=0){\n            usable.add(mod1.remove(0));\n            usable.add(mod2.remove(0));\n        }\n        // if no usable elements i.e. {2,8}\n        if (usable.size() == 0) return 0;\n        // sort usable elements\n        Collections.sort(usable);\n        Collections.reverse(usable);\n        // convert arr into a number\n        int ans = 0;\n        for (int i: usable) {\n            ans = ans*10 + i;\n        }\n        return ans;\n    }\n} \n</code></pre>\n<p>This is working for most of Googles tests but it's failing the 4th test. Can someone tell me where my code goes wrong?</p>\n"},{"tags":["java","maven","unit-testing","junit","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1603537826,"post_id":64512603,"comment_id":114072543,"body_markdown":"I don’t know if it makes a difference but Jupiter version and platform version do not fit together. Platform should be 1.7.0.","body":"I don’t know if it makes a difference but Jupiter version and platform version do not fit together. Platform should be 1.7.0."},{"owner":{"account_id":13335896,"reputation":398,"user_id":9625776,"display_name":"softwareUser"},"score":0,"creation_date":1603538845,"post_id":64512603,"comment_id":114072734,"body_markdown":"@johanneslink now no test is executed","body":"@johanneslink now no test is executed"}],"answers":[{"tags":[],"owner":{"account_id":13335896,"reputation":398,"user_id":9625776,"display_name":"softwareUser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1603544474,"creation_date":1603544474,"answer_id":64513569,"question_id":64512603,"body_markdown":"With the following pom.xml configuration everythings works just fine.\r\n\r\n    &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;jersey.version&gt;2.25.1&lt;/jersey.version&gt;\r\n        &lt;junit.jupiter.version&gt;5.7.0&lt;/junit.jupiter.version&gt;\r\n        &lt;junit.platform.version&gt;1.7.0&lt;/junit.platform.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.platform.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.jpa.modelgen.processor&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- if you are using Jersey client specific features without the server side \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.25.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;7.0&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven does not run @ParameterizedTest in JUnit5","body":"<p>With the following pom.xml configuration everythings works just fine.</p>\n<pre><code>&lt;properties&gt;\n    &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;jersey.version&gt;2.25.1&lt;/jersey.version&gt;\n    &lt;junit.jupiter.version&gt;5.7.0&lt;/junit.jupiter.version&gt;\n    &lt;junit.platform.version&gt;1.7.0&lt;/junit.platform.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n        &lt;version&gt;${junit.platform.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;5.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.jpa.modelgen.processor&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- if you are using Jersey client specific features without the server side \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;2.25.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    --&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;compilerArguments&gt;\n                    &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                &lt;/compilerArguments&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n    &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                        &lt;silent&gt;true&lt;/silent&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;javax&lt;/groupId&gt;\n                                &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                &lt;version&gt;7.0&lt;/version&gt;\n                                &lt;type&gt;jar&lt;/type&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2807479,"reputation":171,"user_id":2414424,"display_name":"Ivan  Veselovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660268651,"creation_date":1660268651,"answer_id":73328464,"question_id":64512603,"body_markdown":"Please upgrade maven-surefire-plugin to one of the latest versions, e.g \r\n\r\n       &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n","title":"Maven does not run @ParameterizedTest in JUnit5","body":"<p>Please upgrade maven-surefire-plugin to one of the latest versions, e.g</p>\n<pre><code>   &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":13335896,"reputation":398,"user_id":9625776,"display_name":"softwareUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2283,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64513569,"answer_count":2,"score":4,"last_activity_date":1660268651,"creation_date":1603537051,"question_id":64512603,"body_markdown":"I wrote the following test in a Maven project which is annotated with @ParameterizedTest\r\n\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;&quot;, &quot;test&quot;})\r\n    public void whenCreateCitation_thenCitationShouldNotBeNull(String s) {\r\n        Citation citationLoaded = quotesLoaderBean.createCitation(s);\r\n\r\n        assertNotNull(&quot;Citation should not be null&quot;, citationLoaded);\r\n    }\r\n\r\nThe test result shows that only the tests that are annotated with @Test where executed in this test class. I tried a few changes in the pom.xml but nothing really worked. Here is the relevant part of the the pom file:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.easymock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;easymock&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.jpa.modelgen.processor&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- if you are using Jersey client specific features without the server side \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.25.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThis is the test result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0BhhZ.png\r\n\r\nAs you can see the test is not executed.","title":"Maven does not run @ParameterizedTest in JUnit5","body":"<p>I wrote the following test in a Maven project which is annotated with @ParameterizedTest</p>\n<pre><code>@ParameterizedTest\n@ValueSource(strings = {&quot;&quot;, &quot;test&quot;})\npublic void whenCreateCitation_thenCitationShouldNotBeNull(String s) {\n    Citation citationLoaded = quotesLoaderBean.createCitation(s);\n\n    assertNotNull(&quot;Citation should not be null&quot;, citationLoaded);\n}\n</code></pre>\n<p>The test result shows that only the tests that are annotated with @Test where executed in this test class. I tried a few changes in the pom.xml but nothing really worked. Here is the relevant part of the the pom file:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.easymock&lt;/groupId&gt;\n        &lt;artifactId&gt;easymock&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.jpa.modelgen.processor&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- if you are using Jersey client specific features without the server side \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;2.25.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;5.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>This is the test result:</p>\n<p><a href=\"https://i.stack.imgur.com/0BhhZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0BhhZ.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the test is not executed.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660262935,"creation_date":1660252607,"answer_id":73326967,"question_id":73326895,"body_markdown":"AnimationTimer is **not multithreaded** and the `handle()` method runs on the **JavaFX application thread**, so I guess if you put an infinite loop or a blocking call inside `handle()`, it freezes the application. Answering your question, unless you have some behaviour that executes on other threads, it&#39;ll work fine.\r\n\r\nHere&#39;s a related thread: https://stackoverflow.com/questions/33068953/is-animationtimer-running-in-its-own-thread","title":"JavaFX AnimationTimer and Events","body":"<p>AnimationTimer is <strong>not multithreaded</strong> and the <code>handle()</code> method runs on the <strong>JavaFX application thread</strong>, so I guess if you put an infinite loop or a blocking call inside <code>handle()</code>, it freezes the application. Answering your question, unless you have some behaviour that executes on other threads, it'll work fine.</p>\n<p>Here's a related thread: <a href=\"https://stackoverflow.com/questions/33068953/is-animationtimer-running-in-its-own-thread\">Is AnimationTimer running in its own thread?</a></p>\n"},{"tags":[],"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660253134,"creation_date":1660253134,"answer_id":73327044,"question_id":73326895,"body_markdown":"You can add the events to a queue and process that queue first in your animation timer. This should avoid anytime of concurrency or race condition issues you may be concerned about without hurting anything if they do not actually exist. \r\n\r\n    animator = new AnimationTimer(){\r\n      @Override\r\n      public void handle(long now) {\r\n        //Process\r\n        Game.processEvents();\r\n        // Update\r\n        Game.simulationStep();\r\n        // Render\r\n        Game.render();\r\n        }\r\n      }\r\n    };\r\n    animator.start();","title":"JavaFX AnimationTimer and Events","body":"<p>You can add the events to a queue and process that queue first in your animation timer. This should avoid anytime of concurrency or race condition issues you may be concerned about without hurting anything if they do not actually exist.</p>\n<pre><code>animator = new AnimationTimer(){\n  @Override\n  public void handle(long now) {\n    //Process\n    Game.processEvents();\n    // Update\n    Game.simulationStep();\n    // Render\n    Game.render();\n    }\n  }\n};\nanimator.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1660266749,"creation_date":1660254226,"answer_id":73327169,"question_id":73326895,"body_markdown":"The answer depends not on the code you provide but on your other code. \r\n\r\nIf the code is responding to events originating in the JavaFX framework (like a button press), then you don&#39;t need to worry, because those events are also on the JavaFX thread, the same as the animation timer. \r\n\r\nYou only need to worry if the event originates on a different thread outside of JavaFX.  For example, an incoming chat message from a network chat client, or an AI loop that you are running on your own thread. \r\n\r\nAlso, you shouldn&#39;t use property listeners and bindings that might change values on another thread.  For example, don&#39;t modify from another thread an observable list that is used to back a list view.  The internal implementation of the observer and binding features assumes that the properties and listeners are all used on a single thread.  Again, that is only something to worry about if your code is actually multi-threaded.\r\n\r\nIf you do really have multi-threaded code with events originating from other threads, use [JavaFX concurrency][1], e.g. [`Task`][2] and/or [`Platform.runLater`][3].  Possibly in conjunction with a queue as in [Seph&#39;s answer](https://stackoverflow.com/a/73327044/1155209) as demonstrated (somewhat), by this [multi-threaded JavaFX logging framework using a queue](https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu).  However, usually a separate queue is not required, because `Platform.runLater` will add runnables to a built-in queue that JavaFX maintains for stuff to be run on the JavaFX thread later.\r\n\r\nFor your specific concern:\r\n\r\n&gt; I have a List of GameObjects which can be manipulated by the event (removing GameObjects by button click) but also by the logic in simulationStep. It could be problematic, if the event removes GameObjects from that List, while simulationStep() is doing something with the Objects in the List.\r\n\r\nNo.  It will not be problematic.  Everything is running on a single thread, the GameObjects *cannot* be removed by button click while `simulationStep()` is running, because the click handler and the simulationStep cannot be running at the same time.\r\n\r\nA good summary of different options for executing periodic events and when and when not to involve multiple threads, plus how to handle them if they are used, is in Slaw&#39;s answer to:\r\n\r\n * https://stackoverflow.com/questions/9966136/javafx-periodic-background-task\r\n\r\nI advise reading the [JavaFX architecture overview sections on the Glass Windowing Toolkit, Threads, and Pulse][4] (twice). The document explains how the JavaFX system works with respect to threading, event processing, and pulse handling (the AnimationTimer handle method is triggered by a pulse).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\r\n  [2]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/concurrent/Task.html\r\n  [3]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\r\n  [4]: https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm#A1107438","title":"JavaFX AnimationTimer and Events","body":"<p>The answer depends not on the code you provide but on your other code.</p>\n<p>If the code is responding to events originating in the JavaFX framework (like a button press), then you don't need to worry, because those events are also on the JavaFX thread, the same as the animation timer.</p>\n<p>You only need to worry if the event originates on a different thread outside of JavaFX.  For example, an incoming chat message from a network chat client, or an AI loop that you are running on your own thread.</p>\n<p>Also, you shouldn't use property listeners and bindings that might change values on another thread.  For example, don't modify from another thread an observable list that is used to back a list view.  The internal implementation of the observer and binding features assumes that the properties and listeners are all used on a single thread.  Again, that is only something to worry about if your code is actually multi-threaded.</p>\n<p>If you do really have multi-threaded code with events originating from other threads, use <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\" rel=\"noreferrer\">JavaFX concurrency</a>, e.g. <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/concurrent/Task.html\" rel=\"noreferrer\"><code>Task</code></a> and/or <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"noreferrer\"><code>Platform.runLater</code></a>.  Possibly in conjunction with a queue as in <a href=\"https://stackoverflow.com/a/73327044/1155209\">Seph's answer</a> as demonstrated (somewhat), by this <a href=\"https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu\">multi-threaded JavaFX logging framework using a queue</a>.  However, usually a separate queue is not required, because <code>Platform.runLater</code> will add runnables to a built-in queue that JavaFX maintains for stuff to be run on the JavaFX thread later.</p>\n<p>For your specific concern:</p>\n<blockquote>\n<p>I have a List of GameObjects which can be manipulated by the event (removing GameObjects by button click) but also by the logic in simulationStep. It could be problematic, if the event removes GameObjects from that List, while simulationStep() is doing something with the Objects in the List.</p>\n</blockquote>\n<p>No.  It will not be problematic.  Everything is running on a single thread, the GameObjects <em>cannot</em> be removed by button click while <code>simulationStep()</code> is running, because the click handler and the simulationStep cannot be running at the same time.</p>\n<p>A good summary of different options for executing periodic events and when and when not to involve multiple threads, plus how to handle them if they are used, is in Slaw's answer to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9966136/javafx-periodic-background-task\">JavaFX periodic background task</a></li>\n</ul>\n<p>I advise reading the <a href=\"https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm#A1107438\" rel=\"noreferrer\">JavaFX architecture overview sections on the Glass Windowing Toolkit, Threads, and Pulse</a> (twice). The document explains how the JavaFX system works with respect to threading, event processing, and pulse handling (the AnimationTimer handle method is triggered by a pulse).</p>\n"}],"owner":{"account_id":25480234,"reputation":73,"user_id":19276721,"display_name":"ILikeTrains"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73327169,"answer_count":3,"score":1,"last_activity_date":1660266749,"creation_date":1660251991,"question_id":73326895,"body_markdown":"I have an AnimationTimer, that I use as an infinite loop like this:\r\n```\r\nanimator = new AnimationTimer(){\r\n  @Override\r\n  public void handle(long now) {\r\n    // Update\r\n    Game.simulationStep();\r\n    // Render\r\n    Game.render();\r\n    }\r\n  }\r\n};\r\nanimator.start();\r\n```\r\n\r\nThe handle function is called 60 times a second, updates a small Game and renders some views in a scenegraph.\r\n\r\nWhat I&#180;m asking myself is, if when I have Events like a button click, will the code of the event be executed after a loop iteration is done?\r\nOr is it multithreaded?\r\n\r\nThe thing is, I have a List of GameObjects which can be manipulated by the event (removing GameObjects by button click) but also by the logic in simulationStep. \r\nIt could be problematic, if the event removes GameObjects from that List, while simulationStep() is doing something with the Objects in the List.","title":"JavaFX AnimationTimer and Events","body":"<p>I have an AnimationTimer, that I use as an infinite loop like this:</p>\n<pre><code>animator = new AnimationTimer(){\n  @Override\n  public void handle(long now) {\n    // Update\n    Game.simulationStep();\n    // Render\n    Game.render();\n    }\n  }\n};\nanimator.start();\n</code></pre>\n<p>The handle function is called 60 times a second, updates a small Game and renders some views in a scenegraph.</p>\n<p>What I´m asking myself is, if when I have Events like a button click, will the code of the event be executed after a loop iteration is done?\nOr is it multithreaded?</p>\n<p>The thing is, I have a List of GameObjects which can be manipulated by the event (removing GameObjects by button click) but also by the logic in simulationStep.\nIt could be problematic, if the event removes GameObjects from that List, while simulationStep() is doing something with the Objects in the List.</p>\n"},{"tags":["java","javafx","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660256431,"creation_date":1660256431,"answer_id":73327432,"question_id":73327312,"body_markdown":"You need to attach the style sheet to the fxml element for it to be applied to the FXML viewed in the SceneBuilder design view.\r\n\r\nThere is a stylesheet field in the SceneBuilder property sheet view (it is actually in the image from your question).  Select the root element and click the + symbol to select the CSS style sheet to apply.  The style sheet will be applied to the root and all child elements. \r\n\r\nOr you can use `Preview | Scene Style Sheets | Add Style Sheet...` to apply style sheets when you use the preview view. \r\n\r\nYou don&#39;t need to (and probably should not) set the style attribute in Scene Builder if you have a CSS file. The styles will be applied from the CSS files according to their selectors. Instead sets ids and style classes in scene builder and attach the stylesheet.  \r\n\r\nYour id is `base`, so if the id of the node is set to `base`, the selector will find it. I prefer working with style classes rather than ids but ids will work too. \r\n\r\nYou are referencing the image directly by name without relative path usage. So, as long as the image is in the same location as the fxml file and the style sheet is correctly applied as outlined above, the image defined in CSS should display in SceneBuilder.\r\n\r\nI think that SceneBuilder automatically monitors the file system for changes, so if you change the FXML or CSS file externally, it will automatically reload them (notifying you of some, but not all, errors that may occur on reload).\r\n\r\nIf things still aren&#39;t working, see the [Eden guide on where to put resources][1] in JavaFX apps and try following their recommended approach (you might already be doing that, so locating the image might not be your issue). \r\n\r\n  [1]: https://edencoding.com/where-to-put-resource-files-in-javafx/","title":"JavaFX: Can not set -fx-background-image from SceneBuilder","body":"<p>You need to attach the style sheet to the fxml element for it to be applied to the FXML viewed in the SceneBuilder design view.</p>\n<p>There is a stylesheet field in the SceneBuilder property sheet view (it is actually in the image from your question).  Select the root element and click the + symbol to select the CSS style sheet to apply.  The style sheet will be applied to the root and all child elements.</p>\n<p>Or you can use <code>Preview | Scene Style Sheets | Add Style Sheet...</code> to apply style sheets when you use the preview view.</p>\n<p>You don't need to (and probably should not) set the style attribute in Scene Builder if you have a CSS file. The styles will be applied from the CSS files according to their selectors. Instead sets ids and style classes in scene builder and attach the stylesheet.</p>\n<p>Your id is <code>base</code>, so if the id of the node is set to <code>base</code>, the selector will find it. I prefer working with style classes rather than ids but ids will work too.</p>\n<p>You are referencing the image directly by name without relative path usage. So, as long as the image is in the same location as the fxml file and the style sheet is correctly applied as outlined above, the image defined in CSS should display in SceneBuilder.</p>\n<p>I think that SceneBuilder automatically monitors the file system for changes, so if you change the FXML or CSS file externally, it will automatically reload them (notifying you of some, but not all, errors that may occur on reload).</p>\n<p>If things still aren't working, see the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">Eden guide on where to put resources</a> in JavaFX apps and try following their recommended approach (you might already be doing that, so locating the image might not be your issue).</p>\n"}],"owner":{"display_name":"user19745791"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73327432,"answer_count":1,"score":1,"last_activity_date":1660266679,"creation_date":1660255393,"question_id":73327312,"body_markdown":"Could someone explain why I can&#39;t load image from field -fx-background-image inside SceneBuilder? \r\n\r\nImages for reference:\r\n- SceneBuilder [![SceneBuilder][1]][1]\r\n- [application][2]\r\n\r\nI&#39;ve found out that I can do that from a .css file, for example:\r\n\r\n    #base {\r\n      -fx-background-image: url(&quot;background.jpg&quot;);\r\n      -fx-background-size: 100% 100%;\r\n      -fx-background-position: center center;\r\n    }\r\n\r\nBut that doesn&#39;t update from inside SceneBuilder, while I would like it too.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ysG2U.png\r\n  [2]: https://i.stack.imgur.com/ugtgo.png","title":"JavaFX: Can not set -fx-background-image from SceneBuilder","body":"<p>Could someone explain why I can't load image from field -fx-background-image inside SceneBuilder?</p>\n<p>Images for reference:</p>\n<ul>\n<li>SceneBuilder <a href=\"https://i.stack.imgur.com/ysG2U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ysG2U.png\" alt=\"SceneBuilder\" /></a></li>\n<li><a href=\"https://i.stack.imgur.com/ugtgo.png\" rel=\"nofollow noreferrer\">application</a></li>\n</ul>\n<p>I've found out that I can do that from a .css file, for example:</p>\n<pre><code>#base {\n  -fx-background-image: url(&quot;background.jpg&quot;);\n  -fx-background-size: 100% 100%;\n  -fx-background-position: center center;\n}\n</code></pre>\n<p>But that doesn't update from inside SceneBuilder, while I would like it too.</p>\n"},{"tags":["java","scala","apache-spark","apache-spark-dataset"],"comments":[{"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"score":0,"creation_date":1660265662,"post_id":73328095,"comment_id":129497922,"body_markdown":"This works just fine (both with timestamps and dates), are you sure the error is not occurring somewhere else? Can you post the rest of the code possibly?","body":"This works just fine (both with timestamps and dates), are you sure the error is not occurring somewhere else? Can you post the rest of the code possibly?"},{"owner":{"account_id":25746692,"reputation":11,"user_id":19499802,"display_name":"Juan Daniel Cortez Rojas"},"score":0,"creation_date":1660576684,"post_id":73328095,"comment_id":129559203,"body_markdown":"I&#39;m sure, I put shows for datasets in all the flow of the program and the sequence function throws the exception. I put that range of dates manually in database to force the exception to ocurre. Befor that instruccion its just the recolection of the data.","body":"I&#39;m sure, I put shows for datasets in all the flow of the program and the sequence function throws the exception. I put that range of dates manually in database to force the exception to ocurre. Befor that instruccion its just the recolection of the data."},{"owner":{"account_id":7765943,"reputation":3388,"user_id":5877122,"accept_rate":68,"display_name":"Benjamin"},"score":0,"creation_date":1664994917,"post_id":73328095,"comment_id":130598013,"body_markdown":"Any update on this @JuanDanielCortezRojas? I may have the same issue","body":"Any update on this @JuanDanielCortezRojas? I may have the same issue"}],"owner":{"account_id":25746692,"reputation":11,"user_id":19499802,"display_name":"Juan Daniel Cortez Rojas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660263773,"creation_date":1660263773,"question_id":73328095,"body_markdown":"good afternoon. I find myself working with scala functions for datasets, in particular with a sequence between two dates with an interval of one day, the dates are in the format &quot;yyyy-MM-dd 00:00:000&quot;, this with an interval of one day.\r\n\r\n\t\t\r\n\r\n    Dataset&lt;Row&gt; currentLetters = currentLettersDataset\r\n    \t\t\t\t.withColumn(&quot;range_dates&quot;,\r\n    \t\t\t\t\t\tfunctions.sequence(functions.col(&quot;start_date&quot;), functions.col(&quot;end_date&quot;)));\r\n\r\nThe problem is that for certain dates I am getting a java.lang.ArrayIndexOutOfBoundsException when applying said sequence\r\n\r\nThe dataset I&#39;m currently working is this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd the exception is \r\n\r\n     java.lang.ArrayIndexOutOfBoundsException: 135\r\n    \tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n    \tat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n    \tat org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:755)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:345)\r\n    \tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:898)\r\n    \tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:898)\r\n    \tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\r\n    \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\nI can see the relation of the index with the days between the dates, but i don&#39;t know how to solve it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VD4oa.png","title":"java.lang.ArrayIndexOutOfBoundsException in scala spark function in dataset","body":"<p>good afternoon. I find myself working with scala functions for datasets, in particular with a sequence between two dates with an interval of one day, the dates are in the format &quot;yyyy-MM-dd 00:00:000&quot;, this with an interval of one day.</p>\n<pre><code>Dataset&lt;Row&gt; currentLetters = currentLettersDataset\n                .withColumn(&quot;range_dates&quot;,\n                        functions.sequence(functions.col(&quot;start_date&quot;), functions.col(&quot;end_date&quot;)));\n</code></pre>\n<p>The problem is that for certain dates I am getting a java.lang.ArrayIndexOutOfBoundsException when applying said sequence</p>\n<p>The dataset I'm currently working is this</p>\n<p><a href=\"https://i.stack.imgur.com/VD4oa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VD4oa.png\" alt=\"enter image description here\" /></a></p>\n<p>And the exception is</p>\n<pre><code> java.lang.ArrayIndexOutOfBoundsException: 135\n    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n    at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n    at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:755)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:345)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:898)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:898)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:131)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I can see the relation of the index with the days between the dates, but i don't know how to solve it.</p>\n"},{"tags":["java","list","spring-boot","gradle","compiler-errors"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1598120276,"post_id":63534298,"comment_id":112356791,"body_markdown":"It fails because you set the sourceCompatibility to 1.8...","body":"It fails because you set the sourceCompatibility to 1.8..."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1598086418,"creation_date":1598086418,"answer_id":63534321,"question_id":63534298,"body_markdown":"`List.of` isn&#39;t a Java 9 feature, it&#39;s a method that was added in JDK 9. If you&#39;re using JDK 8, it just doesn&#39;t contain this method, and thus can&#39;t compile against it. \r\n\r\nIn short - use a newer JDK (and set the compatibility levels to 9 while you&#39;re at it, so you don&#39;t create a mix of valid Java 8 program that can only work with a newer JDK).","title":"List.of gives error: cannot find symbol error","body":"<p><code>List.of</code> isn't a Java 9 feature, it's a method that was added in JDK 9. If you're using JDK 8, it just doesn't contain this method, and thus can't compile against it.</p>\n<p>In short - use a newer JDK (and set the compatibility levels to 9 while you're at it, so you don't create a mix of valid Java 8 program that can only work with a newer JDK).</p>\n"},{"tags":[],"owner":{"account_id":18853981,"reputation":787,"user_id":13752421,"display_name":"Daly"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660263670,"creation_date":1660263670,"answer_id":73328087,"question_id":63534298,"body_markdown":"A quick fix is to replace `List.of` with `Arrays.asList` which is in JDK 8.\r\n\r\nNote these methods are not quite identical, `List.of` returns an immutable list whereas `Arrays.asList` returns a mutable list. There are a few other differences listed here:\r\n\r\n https://stackoverflow.com/questions/46579074/what-is-the-difference-between-list-of-and-arrays-aslist","title":"List.of gives error: cannot find symbol error","body":"<p>A quick fix is to replace <code>List.of</code> with <code>Arrays.asList</code> which is in JDK 8.</p>\n<p>Note these methods are not quite identical, <code>List.of</code> returns an immutable list whereas <code>Arrays.asList</code> returns a mutable list. There are a few other differences listed here:</p>\n<p><a href=\"https://stackoverflow.com/questions/46579074/what-is-the-difference-between-list-of-and-arrays-aslist\">What is the difference between List.of and Arrays.asList?</a></p>\n"}],"owner":{"account_id":6097915,"reputation":1388,"user_id":4758148,"accept_rate":31,"display_name":"hafiz ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10218,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":63534321,"answer_count":2,"score":10,"last_activity_date":1660263670,"creation_date":1598086260,"question_id":63534298,"body_markdown":"I am using springboot with gradle and I am trying to execute below code in the controller.\r\n\r\n    \r\n    List&lt;String&gt; planets\r\n        = List.of(&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;,\r\n        &quot;Jupiter&quot;, &quot;Saturn&quot;, &quot;Uranus&quot;, &quot;Neptune&quot;);\r\n\r\nOn compiling I get the following error\r\n\r\n&gt; error: cannot find symbol\r\n&gt;         = List.of(&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;,\r\n&gt;               ^   symbol:   method of(String,String,String,String,String,String,String,String)  \r\n&gt; location: interface List\r\n\r\nmy gradle file has \r\n\r\n&gt; sourceCompatibility = &#39;1.8&#39;\r\n\r\n\r\nI do understand that its a java 9 feature but unsure why would it fail on compile ","title":"List.of gives error: cannot find symbol error","body":"<p>I am using springboot with gradle and I am trying to execute below code in the controller.</p>\n<pre><code>List&lt;String&gt; planets\n    = List.of(&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;,\n    &quot;Jupiter&quot;, &quot;Saturn&quot;, &quot;Uranus&quot;, &quot;Neptune&quot;);\n</code></pre>\n<p>On compiling I get the following error</p>\n<blockquote>\n<p>error: cannot find symbol\n= List.of(&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;,\n^   symbol:   method of(String,String,String,String,String,String,String,String)<br />\nlocation: interface List</p>\n</blockquote>\n<p>my gradle file has</p>\n<blockquote>\n<p>sourceCompatibility = '1.8'</p>\n</blockquote>\n<p>I do understand that its a java 9 feature but unsure why would it fail on compile</p>\n"},{"tags":["java","singleton","scheduler"],"answers":[{"tags":[],"owner":{"account_id":26025698,"reputation":1,"user_id":19732646,"display_name":"JavaTryouts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660262833,"creation_date":1660156206,"answer_id":73311103,"question_id":73301932,"body_markdown":"Thats wasnt a singleton blocking problem, all i needed to do was the increasing of taskScheduling pool size, by default size = 1. Resolved by adding parameter **spring.task.scheduling.pool.size=2** to application.properties","title":"How avoid blocking singleton service by 2 schedulers beans","body":"<p>Thats wasnt a singleton blocking problem, all i needed to do was the increasing of taskScheduling pool size, by default size = 1. Resolved by adding parameter <strong>spring.task.scheduling.pool.size=2</strong> to application.properties</p>\n"}],"owner":{"account_id":26025698,"reputation":1,"user_id":19732646,"display_name":"JavaTryouts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660262833,"creation_date":1660114739,"question_id":73301932,"body_markdown":"having 2 schedulers, both of them using 1 service.\r\nI want to use them at the same time, but shedulers block each other. How can i avoid this blocking? \r\n\r\nSchedulerA works with queue in main thread, SchedulerB works with queue in ThreadPool, and i need to wait for ending of this work, before run taskB again\r\n\r\n**Scheduler A:**\r\n\r\n    @Service \r\n    public class SchedulerA {\r\n    \r\n        private SomeService service;\r\n    \r\n        @Scheduled(fixedDelay = 2 * 60 * 1000)\r\n        public void taskA() {\r\n            service.methodA();\r\n        }\r\n    }\r\n\r\n**Scheduler B:**\r\n\r\n    @Service\r\n    public class SchedulerB {\r\n    \r\n        private SomeService service;\r\n    \r\n        @Scheduled(fixedDelay = 2 * 60 * 1000, initialDelay = 1 * 1000)\r\n        public void taskA() {\r\n            List&lt;Future&lt;?&gt;&gt; futures = service.methodB();\r\n            //waiting of ending of all tasks\r\n            for (Future&lt;?&gt; future : futures) {\r\n                try {\r\n                    future.get();\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Error while awaiting tasks termination&quot;, e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**SomeService for both Schedulers:**\r\n\r\n    @Service\r\n    public class SomeService {\r\n    \r\n        SomeRepository repository;\r\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n        public void methodA() {\r\n            List&lt;Task&gt; tasks = repository.findAllByStatus(&quot;readyForTaskA&quot;);\r\n            tasks.forEach(task -&gt; runTaskA(task));\r\n        }\r\n    \r\n        public List&lt;Future&lt;?&gt;&gt; methodB() {\r\n            List&lt;Task&gt; tasks = repository.findAllByStatus(&quot;readyForTaskB&quot;);\r\n            return tasks.stream()\r\n                    .map(task -&gt; executorService.submit(() -&gt;  runTaskB(task)))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        private void runTaskA(Task task){\r\n            //do something\r\n        }\r\n    \r\n        private void runTaskB(Task task) {\r\n            //do something\r\n        }\r\n    }\r\n\r\n\r\n","title":"How avoid blocking singleton service by 2 schedulers beans","body":"<p>having 2 schedulers, both of them using 1 service.\nI want to use them at the same time, but shedulers block each other. How can i avoid this blocking?</p>\n<p>SchedulerA works with queue in main thread, SchedulerB works with queue in ThreadPool, and i need to wait for ending of this work, before run taskB again</p>\n<p><strong>Scheduler A:</strong></p>\n<pre><code>@Service \npublic class SchedulerA {\n\n    private SomeService service;\n\n    @Scheduled(fixedDelay = 2 * 60 * 1000)\n    public void taskA() {\n        service.methodA();\n    }\n}\n</code></pre>\n<p><strong>Scheduler B:</strong></p>\n<pre><code>@Service\npublic class SchedulerB {\n\n    private SomeService service;\n\n    @Scheduled(fixedDelay = 2 * 60 * 1000, initialDelay = 1 * 1000)\n    public void taskA() {\n        List&lt;Future&lt;?&gt;&gt; futures = service.methodB();\n        //waiting of ending of all tasks\n        for (Future&lt;?&gt; future : futures) {\n            try {\n                future.get();\n            } catch (Exception e) {\n                log.error(&quot;Error while awaiting tasks termination&quot;, e);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>SomeService for both Schedulers:</strong></p>\n<pre><code>@Service\npublic class SomeService {\n\n    SomeRepository repository;\n    ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n    public void methodA() {\n        List&lt;Task&gt; tasks = repository.findAllByStatus(&quot;readyForTaskA&quot;);\n        tasks.forEach(task -&gt; runTaskA(task));\n    }\n\n    public List&lt;Future&lt;?&gt;&gt; methodB() {\n        List&lt;Task&gt; tasks = repository.findAllByStatus(&quot;readyForTaskB&quot;);\n        return tasks.stream()\n                .map(task -&gt; executorService.submit(() -&gt;  runTaskB(task)))\n                .collect(Collectors.toList());\n    }\n\n    private void runTaskA(Task task){\n        //do something\n    }\n\n    private void runTaskB(Task task) {\n        //do something\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1660289721,"post_id":73325605,"comment_id":129502095,"body_markdown":"Write some tests and compare the output of both implementations. If both pass your tests and create the same output, take which one you like more. If one fails a test or outputs differ, start debugging.","body":"Write some tests and compare the output of both implementations. If both pass your tests and create the same output, take which one you like more. If one fails a test or outputs differ, start debugging."}],"answers":[{"tags":[],"owner":{"account_id":100225,"reputation":43187,"user_id":270287,"accept_rate":89,"display_name":"IVlad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660262819,"creation_date":1660262337,"answer_id":73327985,"question_id":73325605,"body_markdown":"I think most of it comes down to personal preference.\r\n\r\n&gt;why here we have count[input[i].charAt(d) + 1] ++; rather than count[input[i].charAt(d)] ++; ?\r\n\r\nTheir `count[x+1]` means, after the second inner loop, `how many times character x and any character prior to it appear`. For example, we might have the initial counts:\r\n\r\n    count[0] = 0\r\n    count[1] = 2\r\n    count[2] = 3\r\n \r\nThen after the second for loop we will have:\r\n\r\n    count[0] = 0\r\n    count[1] = 2\r\n    count[2] = 5\r\n\r\nThis means that character 0 takes the positions between `count[0]` and `count[1]`, character 1 takes the positions between `count[1]` and `count[2]` and in general, character x takes the positions between `count[x]` and `count[x+1]` This allows them to do this:\r\n\r\n    for(int i=0; i&lt;n; i++) {\r\n        aux[count[input[i].charAt(d)]++] = input[i];\r\n    }\r\n\r\nWhich is a nice one liner that ties everything together neatly IMO, because `count[x]` changes to mean `at what position should we next place character x in our sorted array`.\r\n\r\nYour implementation works just as well and can also be turned into a one liner:\r\n\r\n     for (int i = len - 1; i &gt;= 0; i--) {\r\n         arrSorted[--count[arr[i].charAt(d)]] = arr[i];\r\n     }\r\n\r\nIf you think it&#39;s simpler then you can use it, I don&#39;t see any downsides (assuming you&#39;ve tested it well enough). It&#39;s a pretty complex algorithm and once you understand one way of doing it, you tend to stick with it. This is just the implementation that stuck I guess. Simplicity is highly subjective here, personally I think your version is just as complex. ","title":"Why don&#39;t we redistribute inversely in this implementation of Radix sort of strings","body":"<p>I think most of it comes down to personal preference.</p>\n<blockquote>\n<p>why here we have count[input[i].charAt(d) + 1] ++; rather than count[input[i].charAt(d)] ++; ?</p>\n</blockquote>\n<p>Their <code>count[x+1]</code> means, after the second inner loop, <code>how many times character x and any character prior to it appear</code>. For example, we might have the initial counts:</p>\n<pre><code>count[0] = 0\ncount[1] = 2\ncount[2] = 3\n</code></pre>\n<p>Then after the second for loop we will have:</p>\n<pre><code>count[0] = 0\ncount[1] = 2\ncount[2] = 5\n</code></pre>\n<p>This means that character 0 takes the positions between <code>count[0]</code> and <code>count[1]</code>, character 1 takes the positions between <code>count[1]</code> and <code>count[2]</code> and in general, character x takes the positions between <code>count[x]</code> and <code>count[x+1]</code> This allows them to do this:</p>\n<pre><code>for(int i=0; i&lt;n; i++) {\n    aux[count[input[i].charAt(d)]++] = input[i];\n}\n</code></pre>\n<p>Which is a nice one liner that ties everything together neatly IMO, because <code>count[x]</code> changes to mean <code>at what position should we next place character x in our sorted array</code>.</p>\n<p>Your implementation works just as well and can also be turned into a one liner:</p>\n<pre><code> for (int i = len - 1; i &gt;= 0; i--) {\n     arrSorted[--count[arr[i].charAt(d)]] = arr[i];\n }\n</code></pre>\n<p>If you think it's simpler then you can use it, I don't see any downsides (assuming you've tested it well enough). It's a pretty complex algorithm and once you understand one way of doing it, you tend to stick with it. This is just the implementation that stuck I guess. Simplicity is highly subjective here, personally I think your version is just as complex.</p>\n"}],"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1660262819,"creation_date":1660244002,"question_id":73325605,"body_markdown":"I found this implementation of radix sort LSD for strings :\r\n\r\n\tpublic static void sort(String[] input, int w) {\r\n\t\tString[] aux = new String[input.length];\r\n\t\t//ascii chars\r\n\t\tint R = 256;\r\n\t\tint n = input.length;\r\n\t\t\r\n\t\tfor(int d = w-1; d &gt;= 0; d--) {\r\n\t\t\t\r\n\t\t\tint[] count = new int[R+1];\r\n\t\t\t//update the frequency at i+1 index\r\n\t\t\tfor(int i=0; i&lt;n; i++) {\r\n\t\t\t\tcount[input[i].charAt(d) + 1] ++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//transform the frequency into indices\r\n\t\t\tfor(int r=0; r&lt; R; r++) {\r\n\t\t\t\tcount[r+1] += count[r];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//redistribute\r\n\t\t\tfor(int i=0; i&lt;n; i++) {\r\n\t\t\t\taux[count[input[i].charAt(d)]++] = input[i];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor(int i=0; i&lt;n; i++) {\r\n\t\t\t\tinput[i] = aux[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nBut I don&#39;t understand two things :\r\n\r\n1. why here we have `count[input[i].charAt(d) + 1] ++;` rather than `count[input[i].charAt(d)] ++;` ?\r\n\r\n2. why we don&#39;t redistribute the characters inversely ? I think it&#39;s way simpler (my implementation) :\r\n\r\n        public static void sort(String[] arr, int lenStr) {\r\n        int R = 256;\r\n        int len = arr.length;\r\n        String[] arrSorted = new String[len];\r\n    \r\n        for (int d = lenStr - 1; d &gt;= 0; d--) {\r\n            // frequency count of each character\r\n            int[] count = new int[R + 1];\r\n            for (int i = 0; i &lt; len; i++) {\r\n                count[arr[i].charAt(d)]++;\r\n            }\r\n            for (int i = 1; i &lt; count.length; i++) {\r\n                count[i] += count[i - 1];\r\n            }\r\n            for (int i = len - 1; i &gt;= 0; i--) {\r\n                count[arr[i].charAt(d)]--;\r\n                arrSorted[count[arr[i].charAt(d)]] = arr[i];\r\n            }\r\n            for (int i = 0; i &lt; len; i++) {\r\n                arr[i] = arrSorted[i];\r\n            }\r\n        }\r\n    }","title":"Why don&#39;t we redistribute inversely in this implementation of Radix sort of strings","body":"<p>I found this implementation of radix sort LSD for strings :</p>\n<pre><code>public static void sort(String[] input, int w) {\n    String[] aux = new String[input.length];\n    //ascii chars\n    int R = 256;\n    int n = input.length;\n    \n    for(int d = w-1; d &gt;= 0; d--) {\n        \n        int[] count = new int[R+1];\n        //update the frequency at i+1 index\n        for(int i=0; i&lt;n; i++) {\n            count[input[i].charAt(d) + 1] ++;\n        }\n        \n        //transform the frequency into indices\n        for(int r=0; r&lt; R; r++) {\n            count[r+1] += count[r];\n        }\n        \n        //redistribute\n        for(int i=0; i&lt;n; i++) {\n            aux[count[input[i].charAt(d)]++] = input[i];\n        }\n        \n        for(int i=0; i&lt;n; i++) {\n            input[i] = aux[i];\n        }\n    }\n}\n</code></pre>\n<p>But I don't understand two things :</p>\n<ol>\n<li><p>why here we have <code>count[input[i].charAt(d) + 1] ++;</code> rather than <code>count[input[i].charAt(d)] ++;</code> ?</p>\n</li>\n<li><p>why we don't redistribute the characters inversely ? I think it's way simpler (my implementation) :</p>\n<pre><code> public static void sort(String[] arr, int lenStr) {\n int R = 256;\n int len = arr.length;\n String[] arrSorted = new String[len];\n\n for (int d = lenStr - 1; d &gt;= 0; d--) {\n     // frequency count of each character\n     int[] count = new int[R + 1];\n     for (int i = 0; i &lt; len; i++) {\n         count[arr[i].charAt(d)]++;\n     }\n     for (int i = 1; i &lt; count.length; i++) {\n         count[i] += count[i - 1];\n     }\n     for (int i = len - 1; i &gt;= 0; i--) {\n         count[arr[i].charAt(d)]--;\n         arrSorted[count[arr[i].charAt(d)]] = arr[i];\n     }\n     for (int i = 0; i &lt; len; i++) {\n         arr[i] = arrSorted[i];\n     }\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n"},{"tags":["java","enums","volatile","lazy-initialization"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1660187624,"post_id":73314846,"comment_id":129475369,"body_markdown":"Can you use concurrent hashset instead entirely?","body":"Can you use concurrent hashset instead entirely?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1660187667,"post_id":73314846,"comment_id":129475378,"body_markdown":"Your code is not strictly thread-safe.  Two threads could in principle both assign to values_.  Perhaps that does not matter in this case, but the tool can&#39;t know that.","body":"Your code is not strictly thread-safe.  Two threads could in principle both assign to values_.  Perhaps that does not matter in this case, but the tool can&#39;t know that."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1660188052,"post_id":73314846,"comment_id":129475452,"body_markdown":"By the way… Do you know that: All the constants of an enum class can be obtained by calling the implicit `public static T[] values()` method of that class. (from the [Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html)) You seem to be recreating that built-in functionality.","body":"By the way… Do you know that: All the constants of an enum class can be obtained by calling the implicit <code>public static T[] values()</code> method of that class. (from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">Javadoc</a>) You seem to be recreating that built-in functionality."},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1660188073,"post_id":73314846,"comment_id":129475455,"body_markdown":"@accessviolation So that I can put `@SuppressWarnings({&quot;java:S3077&quot;})` safely?","body":"@accessviolation So that I can put <code>@SuppressWarnings({&quot;java:S3077&quot;})</code> safely?"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1660188172,"post_id":73314846,"comment_id":129475461,"body_markdown":"@BasilBourque Yes I know that `values()` makes arrays everytime on requests.","body":"@BasilBourque Yes I know that <code>values()</code> makes arrays everytime on requests."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1660188479,"post_id":73314846,"comment_id":129475515,"body_markdown":"@JinKwon - depends on your organization&#39;s standards as to what you should do.  As B. Bourque observes, why are you doing this anyway?","body":"@JinKwon - depends on your organization&#39;s standards as to what you should do.  As B. Bourque observes, why are you doing this anyway?"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1660189196,"post_id":73314846,"comment_id":129475606,"body_markdown":"@accessviolation As commented, I want to avoid `values()` which creates an array everytime. Thanks.","body":"@accessviolation As commented, I want to avoid <code>values()</code> which creates an array everytime. Thanks."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":5,"creation_date":1660189256,"post_id":73314846,"comment_id":129475615,"body_markdown":"@JinKwon JVMs are pretty good at eliminating this array alloc, for what its worth.","body":"@JinKwon JVMs are pretty good at eliminating this array alloc, for what its worth."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1660232437,"post_id":73314846,"comment_id":129489436,"body_markdown":"You&#39;re down the rabbit hole of premature optimization.  I suspect the laziness adds no value here.  If you need to cache (that&#39;s not obvious either), statically initialize (`static final Set&lt;MyEnum&gt; values = ...`) the field to the unmodifiable collection.","body":"You&#39;re down the rabbit hole of premature optimization.  I suspect the laziness adds no value here.  If you need to cache (that&#39;s not obvious either), statically initialize (<code>static final Set&lt;MyEnum&gt; values = ...</code>) the field to the unmodifiable collection."},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1660270140,"post_id":73314846,"comment_id":129498507,"body_markdown":"@BrianGoetz Thanks. &gt; &quot;Why, sometimes I&#39;ve believed as many as six impossible things before breakfast.&quot;","body":"@BrianGoetz Thanks. &gt; &quot;Why, sometimes I&#39;ve believed as many as six impossible things before breakfast.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1660261246,"creation_date":1660189461,"answer_id":73315039,"question_id":73314846,"body_markdown":"# `Set.of ( MyEnum.values() )`\r\n\r\nSeems much simpler to just statically feed an array from `Enum#values()` into the [`Set.of`][1] method to create an unmodifiable set.  \r\n\r\nSee this [code run live at Ideone.com][2].\r\n\r\n    enum Animal {\r\n        DOG, CAT, BIRD ;\r\n\r\n        public static final Set &lt; Animal &gt; values = Set.of ( Animal.values() ) ;  // A cached set of all enum objects.\r\n    }\r\n\r\nBeing `static` means this code runs when the class loads. So thread-safe. No need for `volatile`.\r\n\r\nBeing `final` means the reference variable cannot be changed to point to another set. The original set assigned will be the only set during the run of your app. \r\n\r\nBeing an [unmodifiable set][3], you can offer access directly to that static field rather than through a method. \r\n\r\nThe `Set.of` method is free to return an object of a concrete class of its choosing. Current or future implementations of Java may choose to use a class such as `EnumSet` for efficiency. The implementation of Java 12 utilized at Ideone.com uses the class `java.util.ImmutableCollections.SetN`, not that we really care.\r\n\r\nUsage: \r\n\r\n    Set &lt; Animal &gt; values = Animal.values ; \r\n\r\n&gt; [DOG, BIRD, CAT]\r\n\r\nYou said:\r\n\r\n&gt; lazy initialization\r\n\r\nNo need to be lazy, to delay initialization, for such a trivial amount of work as making a `Set` from the `Enum.values()` array. \r\n\r\n----------\r\n\r\n\r\nBut I do not recommend this. \r\n\r\nYour intention to cache this set seems to fall into the trap of [premature optimization][4]. See [this Comment](https://stackoverflow.com/questions/73314846/can-i-use-volatile-on-a-collection/73315039#comment129489436_73314846) by [Brian Goetz][5].\r\n\r\nProgrammers are notoriously poor at intuiting bottlenecks. And modern JVMs are some of the most highly optimized software ever built. \r\n\r\nI suggest just letting the client programmer call the usual `Enum#values()`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#of(E...)\r\n  [2]: https://ideone.com/70m1iS\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#unmodifiable\r\n  [4]: https://stackify.com/premature-optimization-evil/\r\n  [5]: https://www.linkedin.com/in/briangoetz","title":"Can I use volatile on a collection?","body":"<h1><code>Set.of ( MyEnum.values() )</code></h1>\n<p>Seems much simpler to just statically feed an array from <code>Enum#values()</code> into the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#of(E...)\" rel=\"nofollow noreferrer\"><code>Set.of</code></a> method to create an unmodifiable set.</p>\n<p>See this <a href=\"https://ideone.com/70m1iS\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<pre><code>enum Animal {\n    DOG, CAT, BIRD ;\n\n    public static final Set &lt; Animal &gt; values = Set.of ( Animal.values() ) ;  // A cached set of all enum objects.\n}\n</code></pre>\n<p>Being <code>static</code> means this code runs when the class loads. So thread-safe. No need for <code>volatile</code>.</p>\n<p>Being <code>final</code> means the reference variable cannot be changed to point to another set. The original set assigned will be the only set during the run of your app.</p>\n<p>Being an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable set</a>, you can offer access directly to that static field rather than through a method.</p>\n<p>The <code>Set.of</code> method is free to return an object of a concrete class of its choosing. Current or future implementations of Java may choose to use a class such as <code>EnumSet</code> for efficiency. The implementation of Java 12 utilized at Ideone.com uses the class <code>java.util.ImmutableCollections.SetN</code>, not that we really care.</p>\n<p>Usage:</p>\n<pre><code>Set &lt; Animal &gt; values = Animal.values ; \n</code></pre>\n<blockquote>\n<p>[DOG, BIRD, CAT]</p>\n</blockquote>\n<p>You said:</p>\n<blockquote>\n<p>lazy initialization</p>\n</blockquote>\n<p>No need to be lazy, to delay initialization, for such a trivial amount of work as making a <code>Set</code> from the <code>Enum.values()</code> array.</p>\n<hr />\n<p>But I do not recommend this.</p>\n<p>Your intention to cache this set seems to fall into the trap of <a href=\"https://stackify.com/premature-optimization-evil/\" rel=\"nofollow noreferrer\">premature optimization</a>. See <a href=\"https://stackoverflow.com/questions/73314846/can-i-use-volatile-on-a-collection/73315039#comment129489436_73314846\">this Comment</a> by <a href=\"https://www.linkedin.com/in/briangoetz\" rel=\"nofollow noreferrer\">Brian Goetz</a>.</p>\n<p>Programmers are notoriously poor at intuiting bottlenecks. And modern JVMs are some of the most highly optimized software ever built.</p>\n<p>I suggest just letting the client programmer call the usual <code>Enum#values()</code>.</p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73315039,"answer_count":1,"score":0,"last_activity_date":1660261246,"creation_date":1660187465,"question_id":73314846,"body_markdown":"I have an enum and I think I can cache the result of `values()`.\r\n\r\n```java\r\nenum MyEnum {\r\n\r\n    SOME;\r\n\r\n    private static volatile Set&lt;MyEnum&gt; values_;\r\n\r\n    public static Set&lt;MyEnum&gt; values_() {\r\n        Set&lt;MyEnum&gt; result = values_;\r\n        if (result == null) {\r\n            values_ = result = Collections.unmodifiableSet(EnumSet.allOf(MyEnum.class));\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nI tried the lazy initialization which permits duplicate initializations.\r\n\r\nAnd the sonalint complains on `volatile Set&lt;MyEnum&gt;` part.\r\n\r\n&gt; SonaLint: Use thread-safe type; adding &quot;volatile&quot; is not enough to make this field thread-safe.\r\n\r\nhttps://rules.sonarsource.com/java/RSPEC-3077\r\n\r\nIs there any problem with my code?","title":"Can I use volatile on a collection?","body":"<p>I have an enum and I think I can cache the result of <code>values()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum MyEnum {\n\n    SOME;\n\n    private static volatile Set&lt;MyEnum&gt; values_;\n\n    public static Set&lt;MyEnum&gt; values_() {\n        Set&lt;MyEnum&gt; result = values_;\n        if (result == null) {\n            values_ = result = Collections.unmodifiableSet(EnumSet.allOf(MyEnum.class));\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>I tried the lazy initialization which permits duplicate initializations.</p>\n<p>And the sonalint complains on <code>volatile Set&lt;MyEnum&gt;</code> part.</p>\n<blockquote>\n<p>SonaLint: Use thread-safe type; adding &quot;volatile&quot; is not enough to make this field thread-safe.</p>\n</blockquote>\n<p><a href=\"https://rules.sonarsource.com/java/RSPEC-3077\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-3077</a></p>\n<p>Is there any problem with my code?</p>\n"},{"tags":["java","intellij-idea","code-coverage"],"answers":[{"tags":[],"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"down_vote_count":1,"up_vote_count":245,"is_accepted":false,"score":244,"last_activity_date":1536833811,"creation_date":1438212354,"answer_id":31712814,"question_id":31712361,"body_markdown":"just close the coverage window with &quot;x&quot; button:\r\n\r\n[![closing window][1]][1]\r\n\r\n*update*: for the recent IntelliJ IDEA 2018.2.x, you can hide coverage by clicking left-hand side coverage bar (the colored one, close to line numbers) and then `Hide coverage` link:\r\n\r\n[![closing window in IDEA 2018.2.x][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SwyKT.gif\r\n  [2]: https://i.stack.imgur.com/sW22A.gif","title":"Clear code coverage information in IntelliJ","body":"<p>just close the coverage window with \"x\" button:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SwyKT.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SwyKT.gif\" alt=\"closing window\"></a></p>\n\n<p><em>update</em>: for the recent IntelliJ IDEA 2018.2.x, you can hide coverage by clicking left-hand side coverage bar (the colored one, close to line numbers) and then <code>Hide coverage</code> link:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sW22A.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sW22A.gif\" alt=\"closing window in IDEA 2018.2.x\"></a></p>\n"},{"tags":[],"owner":{"account_id":5001588,"reputation":171,"user_id":4020445,"display_name":"Kunal"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1498202097,"creation_date":1462892175,"answer_id":37142154,"question_id":31712361,"body_markdown":"Go to View &gt; Tool Windows &gt; Coverage \r\n\r\nClick on the small icon button Delete Coverage Database \r\n\r\n![Clean coverage database][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ilMDF.png","title":"Clear code coverage information in IntelliJ","body":"<p>Go to View > Tool Windows > Coverage </p>\n\n<p>Click on the small icon button Delete Coverage Database </p>\n\n<p><img src=\"https://i.stack.imgur.com/ilMDF.png\" alt=\"Clean coverage database\"></p>\n"},{"tags":[],"owner":{"account_id":7971710,"reputation":11005,"user_id":6016149,"display_name":"Md Ayub Ali Sarker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487878545,"creation_date":1487878545,"answer_id":42424636,"question_id":31712361,"body_markdown":"To view/close code coverage results\r\n =&gt; Run the desired class with coverage, select suite to show, and open class in the editor.\r\n =&gt; On the main menu, choose Analyze | Show/remove Code Coverage Data.\r\n\r\n\r\n\r\n  \r\n","title":"Clear code coverage information in IntelliJ","body":"<p>To view/close code coverage results\n => Run the desired class with coverage, select suite to show, and open class in the editor.\n => On the main menu, choose Analyze | Show/remove Code Coverage Data.</p>\n"},{"tags":[],"owner":{"account_id":3994351,"reputation":1529,"user_id":3292315,"display_name":"Abhilash Reddy"},"down_vote_count":0,"up_vote_count":123,"is_accepted":false,"score":123,"last_activity_date":1527693697,"creation_date":1503080165,"answer_id":45762746,"question_id":31712361,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nYou can just Right Click on your Project,\r\n\r\n**Goto `Analyze -&gt; Hide Coverage data`**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KlFN1.png","title":"Clear code coverage information in IntelliJ","body":"<p><a href=\"https://i.stack.imgur.com/KlFN1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KlFN1.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can just Right Click on your Project,</p>\n\n<p><strong>Goto <code>Analyze -&gt; Hide Coverage data</code></strong></p>\n"},{"tags":[],"owner":{"account_id":5574791,"reputation":933,"user_id":4418555,"display_name":"HouFeng"},"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1551080038,"creation_date":1551080038,"answer_id":54861434,"question_id":31712361,"body_markdown":"1. double **shift**;  \r\n2. input **hide**;  \r\n3. choose **Hide Coverage data**;  \r\n4. Over.","title":"Clear code coverage information in IntelliJ","body":"<ol>\n<li>double <strong>shift</strong>;  </li>\n<li>input <strong>hide</strong>;  </li>\n<li>choose <strong>Hide Coverage data</strong>;  </li>\n<li>Over.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18759980,"reputation":241,"user_id":13679137,"display_name":"Partha Sarma"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1591266189,"creation_date":1591266189,"answer_id":62192338,"question_id":31712361,"body_markdown":"After the newer update, it seems the &quot;Hide Coverage&quot; option is removed from the &quot;Analyze&quot; section. You can find the &quot;Hide Coverage&quot; option in the &quot;Run&quot; menu","title":"Clear code coverage information in IntelliJ","body":"<p>After the newer update, it seems the \"Hide Coverage\" option is removed from the \"Analyze\" section. You can find the \"Hide Coverage\" option in the \"Run\" menu</p>\n"},{"tags":[],"owner":{"account_id":4464079,"reputation":1794,"user_id":3632172,"accept_rate":86,"display_name":"parse"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660260553,"creation_date":1660260553,"answer_id":73327833,"question_id":31712361,"body_markdown":"**2022 Update:** now it&#39;s moved to `Run -&gt; Show Coverage Data`\r\n\r\nYou can select which you want to show or hide.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/CaaNA.png&quot; width=&quot;400&quot; /&gt;\r\n\r\n------\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/FSA6p.png&quot; width=&quot;400&quot; /&gt;\r\n\r\n","title":"Clear code coverage information in IntelliJ","body":"<p><strong>2022 Update:</strong> now it's moved to <code>Run -&gt; Show Coverage Data</code></p>\n<p>You can select which you want to show or hide.</p>\n<img src=\"https://i.stack.imgur.com/CaaNA.png\" width=\"400\" />\n<hr />\n<img src=\"https://i.stack.imgur.com/FSA6p.png\" width=\"400\" />\n"}],"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49346,"favorite_count":0,"down_vote_count":0,"up_vote_count":143,"answer_count":7,"score":143,"last_activity_date":1660260553,"creation_date":1438209560,"question_id":31712361,"body_markdown":"I have configured IntelliJ to paint the background of any line that has been executed at runtime to green when running in Coverage mode.\r\n\r\nAt times, I would like to just make all the files in the project revert back to their old and typical background colors, i.e, to remove all the coverage information. \r\n\r\nIs that possible? How?\r\n","title":"Clear code coverage information in IntelliJ","body":"<p>I have configured IntelliJ to paint the background of any line that has been executed at runtime to green when running in Coverage mode.</p>\n<p>At times, I would like to just make all the files in the project revert back to their old and typical background colors, i.e, to remove all the coverage information.</p>\n<p>Is that possible? How?</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":1202607,"reputation":1770,"user_id":1172945,"accept_rate":74,"display_name":"Tugrul"},"score":0,"creation_date":1645998764,"post_id":71096396,"comment_id":126010307,"body_markdown":"You can disable concurrent runs.","body":"You can disable concurrent runs."},{"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"score":0,"creation_date":1646251600,"post_id":71096396,"comment_id":126079826,"body_markdown":"@Tugrul But what if another user tries at the same time?","body":"@Tugrul But what if another user tries at the same time?"},{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":0,"creation_date":1660275718,"post_id":71096396,"comment_id":129499232,"body_markdown":"Have a look at ShedLock https://www.baeldung.com/shedlock-spring it&#39;s got pre-built ways of preventing multiple executions. I&#39;ve not used it with Spring Batch, but have used it with Spring Boot, works perfectly.","body":"Have a look at ShedLock <a href=\"https://www.baeldung.com/shedlock-spring\" rel=\"nofollow noreferrer\">baeldung.com/shedlock-spring</a> it&#39;s got pre-built ways of preventing multiple executions. I&#39;ve not used it with Spring Batch, but have used it with Spring Boot, works perfectly."},{"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"score":0,"creation_date":1660299494,"post_id":71096396,"comment_id":129505415,"body_markdown":"I haven&#39;t tried this. But will try. Thank you for the suggestion.","body":"I haven&#39;t tried this. But will try. Thank you for the suggestion."}],"answers":[{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1660260462,"creation_date":1660260462,"answer_id":73327821,"question_id":71096396,"body_markdown":"You can create a JobExecutionListener that stops the current job execution if another one is already running and configure your job with that listener...\r\n\r\n    public class SingleExecutionJobListener implements JobExecutionListener {\r\n    \r\n        private static String MATCH_ALL_PATTERN = &quot;.*&quot;;\r\n    \r\n        @Autowired\r\n        private JobExplorer jobExplorer;\r\n    \r\n        @Autowired\r\n        private JobRegistry jobRegistry;\r\n    \r\n        private String jobNamePattern = MATCH_ALL_PATTERN;\r\n    \r\n        @Override\r\n        public void beforeJob(JobExecution jobExecution) {\r\n            Collection&lt;String&gt; jobNames = jobRegistry.getJobNames();\r\n            for (String jobName : jobNames) {\r\n                if (jobName.matches(StringUtils.defaultIfBlank(jobNamePattern, MATCH_ALL_PATTERN))) {\r\n                    Set&lt;JobExecution&gt; jobExecutions = jobExplorer.findRunningJobExecutions(jobName);\r\n                    if (CollectionUtils.isNotEmpty(jobExecutions)) {\r\n                        for (JobExecution execution : jobExecutions) {\r\n                            if (execution.getJobInstance().getId().compareTo(jobExecution.getJobInstance().getId()) != 0) {\r\n                                jobExecution.stop();\r\n                                throw new IllegalStateException(jobName + &quot; instance &quot; + execution.getJobInstance().getId()\r\n                                    + &quot; is currently running. Please restart this job when &quot; + jobName + &quot; has finished.&quot;);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void afterJob(JobExecution jobExecution) {}\r\n    \r\n        public String getJobNamePattern() {\r\n            return jobNamePattern;\r\n        }\r\n    \r\n        public void setJobNamePattern(String jobNamePattern) {\r\n            this.jobNamePattern = jobNamePattern;\r\n        }\r\n    \r\n    }","title":"how to avoid starting duplicate spring batch jobs?","body":"<p>You can create a JobExecutionListener that stops the current job execution if another one is already running and configure your job with that listener...</p>\n<pre><code>public class SingleExecutionJobListener implements JobExecutionListener {\n\n    private static String MATCH_ALL_PATTERN = &quot;.*&quot;;\n\n    @Autowired\n    private JobExplorer jobExplorer;\n\n    @Autowired\n    private JobRegistry jobRegistry;\n\n    private String jobNamePattern = MATCH_ALL_PATTERN;\n\n    @Override\n    public void beforeJob(JobExecution jobExecution) {\n        Collection&lt;String&gt; jobNames = jobRegistry.getJobNames();\n        for (String jobName : jobNames) {\n            if (jobName.matches(StringUtils.defaultIfBlank(jobNamePattern, MATCH_ALL_PATTERN))) {\n                Set&lt;JobExecution&gt; jobExecutions = jobExplorer.findRunningJobExecutions(jobName);\n                if (CollectionUtils.isNotEmpty(jobExecutions)) {\n                    for (JobExecution execution : jobExecutions) {\n                        if (execution.getJobInstance().getId().compareTo(jobExecution.getJobInstance().getId()) != 0) {\n                            jobExecution.stop();\n                            throw new IllegalStateException(jobName + &quot; instance &quot; + execution.getJobInstance().getId()\n                                + &quot; is currently running. Please restart this job when &quot; + jobName + &quot; has finished.&quot;);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    @Override\n    public void afterJob(JobExecution jobExecution) {}\n\n    public String getJobNamePattern() {\n        return jobNamePattern;\n    }\n\n    public void setJobNamePattern(String jobNamePattern) {\n        this.jobNamePattern = jobNamePattern;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73327821,"answer_count":1,"score":1,"last_activity_date":1660260462,"creation_date":1644704885,"question_id":71096396,"body_markdown":"I have a spring batch process which does data reading from the database and writing to file. Basically, the scenario is, that the user can send a request and the job will start and execute the process. But the issue is if the user sends the request 5 times there will be 5 different spring jobs started and running. But those are duplicates. So is there a way that we can avoid or block creating duplicate spring jobs?","title":"how to avoid starting duplicate spring batch jobs?","body":"<p>I have a spring batch process which does data reading from the database and writing to file. Basically, the scenario is, that the user can send a request and the job will start and execute the process. But the issue is if the user sends the request 5 times there will be 5 different spring jobs started and running. But those are duplicates. So is there a way that we can avoid or block creating duplicate spring jobs?</p>\n"},{"tags":["java","byte","inputstream"],"owner":{"account_id":380750,"reputation":35396,"user_id":734984,"accept_rate":88,"display_name":"Renato Dinhani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159567,"favorite_count":0,"down_vote_count":7,"up_vote_count":81,"closed_date":1660259780,"answer_count":0,"score":74,"last_activity_date":1660259821,"creation_date":1332881242,"question_id":9897458,"body_markdown":"Is there a way to convert an array of bytes (`byte[]`) to InputStream in Java? I looked at some methods in [Apache Commons IO][1], but I found nothing.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/\r\n\r\n\r\n\r\n","title":"How can I convert byte[] to InputStream?","body":"<p>Is there a way to convert an array of bytes (<code>byte[]</code>) to InputStream in Java? I looked at some methods in <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons IO</a>, but I found nothing.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8877,"page":1115,"page_size":100}
