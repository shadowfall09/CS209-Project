{"items":[{"tags":["java","spring","hibernate","jpa","dozer"],"comments":[{"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"score":1,"creation_date":1400396009,"post_id":23719237,"comment_id":36455274,"body_markdown":"You can use resultTransformer which can convert from alias to bean (DTO) properties. Take look at http://stackoverflow.com/questions/19628759/java-hibernate-criteria-setresulttransformertransformers-aliastobeanstudentm","body":"You can use resultTransformer which can convert from alias to bean (DTO) properties. Take look at <a href=\"http://stackoverflow.com/questions/19628759/java-hibernate-criteria-setresulttransformertransformers-aliastobeanstudentm\" title=\"java hibernate criteria setresulttransformertransformers aliastobeanstudentm\">stackoverflow.com/questions/19628759/&hellip;</a>"},{"owner":{"account_id":114177,"reputation":9845,"user_id":300359,"accept_rate":64,"display_name":"Thai Tran"},"score":0,"creation_date":1400396848,"post_id":23719237,"comment_id":36455427,"body_markdown":"@Shailendra: it works. Thank. Please make your comment as the answer :)","body":"@Shailendra: it works. Thank. Please make your comment as the answer :)"},{"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"score":0,"creation_date":1400398255,"post_id":23719237,"comment_id":36455726,"body_markdown":"glad it helped ! I have added this as an answer !","body":"glad it helped ! I have added this as an answer !"}],"answers":[{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1400398228,"creation_date":1400398228,"answer_id":23719578,"question_id":23719237,"body_markdown":"You can use [ResultTransformer][1] which can convert from alias to bean (DTO) properties. For usage you can refer to the Hibernate docs [here][2] at section 13.1.5\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/transform/ResultTransformer.html\r\n  [2]: http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html_single/","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>You can use <a href=\"http://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/transform/ResultTransformer.html\" rel=\"noreferrer\">ResultTransformer</a> which can convert from alias to bean (DTO) properties. For usage you can refer to the Hibernate docs <a href=\"http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html_single/\" rel=\"noreferrer\">here</a> at section 13.1.5</p>\n"},{"tags":[],"owner":{"account_id":4204119,"reputation":825,"user_id":3443508,"display_name":"Sumit Sundriyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458143662,"creation_date":1457563618,"answer_id":35904222,"question_id":23719237,"body_markdown":"Following is the complete example of how addresses are group together based on street name using Projection.\r\n\r\n    Criteria criteria = getCurrentSession().createCriteria(Address.class);\r\n    // adding condition\r\n    criteria.add(Restrictions.eq(&quot;zip&quot;, &quot;12345&quot;));\r\n    // adding projection\r\n    criteria.setProjection(Projections.projectionList()\r\n    .add(Projections.groupProperty(&quot;streetName&quot;), &quot;streetName&quot;)\r\n    .add(Projections.count(&quot;apartment&quot;), &quot;count&quot;));\r\n    // set transformer\r\n    criteria.setResultTransformer(new AliasToBeanResultTransformer(SomeDTO.class));\r\n    \r\n    List&lt;SomeDTO&gt; someDTOs = criteria.list();\r\n\r\n&gt; someDTOs list will contain number of result group by streetName. Each SomeDTO object contain street name and number of apartment in that street.\r\n\r\nSomeDTO.java\r\n\r\n    public class SomeDTO{\r\n\r\n    private String streetName;\r\n    private Long count;\r\n\r\n    public void setStreetName(String streetName){\r\n        this.streetName=streetName;\r\n    }\r\n    public String getStreetName(){\r\n        return this.streetName;\r\n    }\r\n    public Long getCount() {\r\n        return count;\r\n    }\r\n    public void setCount(Long count) {\r\n        this.count = count;\r\n    }\r\n    }","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>Following is the complete example of how addresses are group together based on street name using Projection.</p>\n\n<pre><code>Criteria criteria = getCurrentSession().createCriteria(Address.class);\n// adding condition\ncriteria.add(Restrictions.eq(\"zip\", \"12345\"));\n// adding projection\ncriteria.setProjection(Projections.projectionList()\n.add(Projections.groupProperty(\"streetName\"), \"streetName\")\n.add(Projections.count(\"apartment\"), \"count\"));\n// set transformer\ncriteria.setResultTransformer(new AliasToBeanResultTransformer(SomeDTO.class));\n\nList&lt;SomeDTO&gt; someDTOs = criteria.list();\n</code></pre>\n\n<blockquote>\n  <p>someDTOs list will contain number of result group by streetName. Each SomeDTO object contain street name and number of apartment in that street.</p>\n</blockquote>\n\n<p>SomeDTO.java</p>\n\n<pre><code>public class SomeDTO{\n\nprivate String streetName;\nprivate Long count;\n\npublic void setStreetName(String streetName){\n    this.streetName=streetName;\n}\npublic String getStreetName(){\n    return this.streetName;\n}\npublic Long getCount() {\n    return count;\n}\npublic void setCount(Long count) {\n    this.count = count;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1678710283,"creation_date":1503996810,"answer_id":45934668,"question_id":23719237,"body_markdown":"You have so many options for mapping your projection to a DTO result set:\r\n\r\nDTO projections using Tuple and JPQL\r\n------------------------------------\r\n\r\n\tList&lt;Tuple&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\r\n\t\tselect\r\n\t\t    p.id as id,\r\n\t\t    p.title as title\r\n\t\tfrom Post p\r\n\t\twhere p.createdOn &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;, Tuple.class)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of(2016, 1, 1, 0, 0, 0)\r\n\t\t\t.toInstant(ZoneOffset.UTC )))\r\n\t.getResultList();\r\n\r\n\tassertFalse(postDTOs.isEmpty());\r\n\t \r\n\tTuple postDTO = postDTOs.get(0);\r\n\tassertEquals( \r\n\t\t1L, \r\n\t\tpostDTO.get(&quot;id&quot;) \r\n\t);\r\n\r\nDTO projections using a Constructor Expression and JPQL\r\n----------------------------------------------------------\r\n\r\n\tList&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\r\n\t\tselect new com.vladmihalcea.book.hpjp.hibernate.query.dto.projection.jpa.PostDTO(\r\n\t\t    p.id,\r\n\t\t    p.title\r\n\t\t)\r\n\t\tfrom Post p\r\n\t\twhere p.createdOn &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;, PostDTO.class)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\r\n\t\t\t.toInstant( ZoneOffset.UTC ) ))\r\n\t.getResultList();\r\n\r\n&gt; You can also omit the DTO package name from the JPA constructor expression, and reference the DTO by its simple Java class name (e.g., [`PostDTO`]( https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/)). \r\n&gt; \r\n&gt;     List&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\r\n&gt;         select new PostDTO(\r\n&gt;             p.id,\r\n&gt;             p.title\r\n&gt;         )\r\n&gt;         from Post p\r\n&gt;         where p.createdOn &gt; :fromTimestamp\r\n          &quot;&quot;&quot;, PostDTO.class)\r\n&gt;     .setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n&gt;     \tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\r\n&gt;     \t\t.toInstant( ZoneOffset.UTC ) ))\r\n&gt;     .getResultList();\r\n&gt;\r\n\r\nDTO projections using Tuple and native SQL queries\r\n--------------------------------------------------\r\n\r\nThis one is available from Hibernate 5.2.11 so yet one more reason to upgrade.\r\n\r\n\tList&lt;Tuple&gt; postDTOs = entityManager.createNativeQuery(&quot;&quot;&quot;\r\n\t\tSELECT\r\n\t\t       p.id AS id,\r\n\t\t       p.title AS title\r\n\t\tFROM Post p\r\n\t\tWHERE p.created_on &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;, Tuple.class)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\r\n\t\t\t.toInstant( ZoneOffset.UTC ) ))\r\n\t.getResultList();\r\n\r\nDTO projections using a ConstructorResult\r\n-----------------------------------------\r\n\r\nIf we use the same `PostDTO` class type introduced previously, we have to provide the following `@SqlResultSetMapping`:\r\n\r\n\t@NamedNativeQuery(\r\n\t\tname = &quot;PostDTO&quot;,\r\n\t\tquery = &quot;&quot;&quot;\r\n\t\t\tSELECT\r\n\t\t\t       p.id AS id,\r\n\t\t\t       p.title AS title\r\n\t\t\tFROM Post p\r\n\t\t\tWHERE p.created_on &gt; :fromTimestamp\r\n\t\t\t&quot;&quot;&quot;,\r\n\t\tresultSetMapping = &quot;PostDTO&quot;\r\n\t)\r\n\t@SqlResultSetMapping(\r\n\t\tname = &quot;PostDTO&quot;,\r\n\t\tclasses = @ConstructorResult(\r\n\t\t\ttargetClass = PostDTO.class,\r\n\t\t\tcolumns = {\r\n\t\t\t\t@ColumnResult(name = &quot;id&quot;),\r\n\t\t\t\t@ColumnResult(name = &quot;title&quot;)\r\n\t\t\t}\r\n\t\t)\r\n\t)\r\n\r\nNow, the SQL projection named native query is executed as follows:\r\n\r\n\tList&lt;PostDTO&gt; postDTOs = entityManager.createNamedQuery(&quot;PostDTO&quot;)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\r\n\t\t\t.toInstant( ZoneOffset.UTC ) ))\r\n\t.getResultList();\r\n\r\nDTO projections using ResultTransformer and JPQL\r\n------------------------------------------------\r\n\r\nThis time, your DTO requires to have the setters for the properties you need Hibernate to populate from the underlying JDBC `ResultSet`.\r\n\r\nThe DTO projection looks as follows:\r\n\r\n\tList&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\r\n\t\tselect\r\n\t\t       p.id as id,\r\n\t\t       p.title as title\r\n\t\tfrom Post p\r\n\t\twhere p.createdOn &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 ).toInstant( ZoneOffset.UTC ) ))\r\n\t.unwrap( org.hibernate.query.Query.class )\r\n\t.setResultTransformer( Transformers.aliasToBean( PostDTO.class ) )\r\n\t.getResultList();\r\n\r\nDTO projections using ResultTransformer and a Native SQL query\r\n--------------------------------------------------------------\r\n\r\n\tList postDTOs = entityManager.createNativeQuery(&quot;&quot;&quot;\r\n\t\tselect\r\n\t\t       p.id as \\&quot;id\\&quot;,\r\n\t\t       p.title as \\&quot;title\\&quot;\r\n\t\tfrom Post p\r\n\t\twhere p.created_on &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 ).toInstant( ZoneOffset.UTC ) ))\r\n\t.unwrap( org.hibernate.query.NativeQuery.class )\r\n\t.setResultTransformer( Transformers.aliasToBean( PostDTO.class ) )\r\n\t.getResultList();\r\n","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>You have so many options for mapping your projection to a DTO result set:</p>\n<h2>DTO projections using Tuple and JPQL</h2>\n<pre><code>List&lt;Tuple&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\n    select\n        p.id as id,\n        p.title as title\n    from Post p\n    where p.createdOn &gt; :fromTimestamp\n    &quot;&quot;&quot;, Tuple.class)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of(2016, 1, 1, 0, 0, 0)\n        .toInstant(ZoneOffset.UTC )))\n.getResultList();\n\nassertFalse(postDTOs.isEmpty());\n \nTuple postDTO = postDTOs.get(0);\nassertEquals( \n    1L, \n    postDTO.get(&quot;id&quot;) \n);\n</code></pre>\n<h2>DTO projections using a Constructor Expression and JPQL</h2>\n<pre><code>List&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\n    select new com.vladmihalcea.book.hpjp.hibernate.query.dto.projection.jpa.PostDTO(\n        p.id,\n        p.title\n    )\n    from Post p\n    where p.createdOn &gt; :fromTimestamp\n    &quot;&quot;&quot;, PostDTO.class)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\n        .toInstant( ZoneOffset.UTC ) ))\n.getResultList();\n</code></pre>\n<blockquote>\n<p>You can also omit the DTO package name from the JPA constructor expression, and reference the DTO by its simple Java class name (e.g., <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/\" rel=\"noreferrer\"><code>PostDTO</code></a>).</p>\n<pre><code>List&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\n    select new PostDTO(\n        p.id,\n        p.title\n    )\n    from Post p\n    where p.createdOn &gt; :fromTimestamp\n</code></pre>\n</blockquote>\n<pre><code>      &quot;&quot;&quot;, PostDTO.class)\n</code></pre>\n<blockquote>\n<pre><code>.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n  LocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\n      .toInstant( ZoneOffset.UTC ) ))\n.getResultList();\n</code></pre>\n</blockquote>\n<h2>DTO projections using Tuple and native SQL queries</h2>\n<p>This one is available from Hibernate 5.2.11 so yet one more reason to upgrade.</p>\n<pre><code>List&lt;Tuple&gt; postDTOs = entityManager.createNativeQuery(&quot;&quot;&quot;\n    SELECT\n           p.id AS id,\n           p.title AS title\n    FROM Post p\n    WHERE p.created_on &gt; :fromTimestamp\n    &quot;&quot;&quot;, Tuple.class)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\n        .toInstant( ZoneOffset.UTC ) ))\n.getResultList();\n</code></pre>\n<h2>DTO projections using a ConstructorResult</h2>\n<p>If we use the same <code>PostDTO</code> class type introduced previously, we have to provide the following <code>@SqlResultSetMapping</code>:</p>\n<pre><code>@NamedNativeQuery(\n    name = &quot;PostDTO&quot;,\n    query = &quot;&quot;&quot;\n        SELECT\n               p.id AS id,\n               p.title AS title\n        FROM Post p\n        WHERE p.created_on &gt; :fromTimestamp\n        &quot;&quot;&quot;,\n    resultSetMapping = &quot;PostDTO&quot;\n)\n@SqlResultSetMapping(\n    name = &quot;PostDTO&quot;,\n    classes = @ConstructorResult(\n        targetClass = PostDTO.class,\n        columns = {\n            @ColumnResult(name = &quot;id&quot;),\n            @ColumnResult(name = &quot;title&quot;)\n        }\n    )\n)\n</code></pre>\n<p>Now, the SQL projection named native query is executed as follows:</p>\n<pre><code>List&lt;PostDTO&gt; postDTOs = entityManager.createNamedQuery(&quot;PostDTO&quot;)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\n        .toInstant( ZoneOffset.UTC ) ))\n.getResultList();\n</code></pre>\n<h2>DTO projections using ResultTransformer and JPQL</h2>\n<p>This time, your DTO requires to have the setters for the properties you need Hibernate to populate from the underlying JDBC <code>ResultSet</code>.</p>\n<p>The DTO projection looks as follows:</p>\n<pre><code>List&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\n    select\n           p.id as id,\n           p.title as title\n    from Post p\n    where p.createdOn &gt; :fromTimestamp\n    &quot;&quot;&quot;)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 ).toInstant( ZoneOffset.UTC ) ))\n.unwrap( org.hibernate.query.Query.class )\n.setResultTransformer( Transformers.aliasToBean( PostDTO.class ) )\n.getResultList();\n</code></pre>\n<h2>DTO projections using ResultTransformer and a Native SQL query</h2>\n<pre><code>List postDTOs = entityManager.createNativeQuery(&quot;&quot;&quot;\n    select\n           p.id as \\&quot;id\\&quot;,\n           p.title as \\&quot;title\\&quot;\n    from Post p\n    where p.created_on &gt; :fromTimestamp\n    &quot;&quot;&quot;)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 ).toInstant( ZoneOffset.UTC ) ))\n.unwrap( org.hibernate.query.NativeQuery.class )\n.setResultTransformer( Transformers.aliasToBean( PostDTO.class ) )\n.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543485348,"creation_date":1543485348,"answer_id":53536214,"question_id":23719237,"body_markdown":"That&#39;s exactly the use case for which [Blaze-Persistence Entity Views][1] has been created for!\r\n\r\nYour DTO looks like\r\n\r\n    @EntityView(Category.class)\r\n    interface DQCategoryDTO  {\r\n      String getTitle();\r\n      @Mapping(&quot;SIZE(sentences)&quot;)\r\n      int getCount();\r\n    }\r\n\r\nand if you use Spring Data, you can use it in a repository like\r\n\r\n    interface CategoryRepository extends Repository&lt;Category, Long&gt; {\r\n      List&lt;DQCategoryDTO&gt; findAll(Pageable pageable);\r\n    }\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>That's exactly the use case for which <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a> has been created for!</p>\n\n<p>Your DTO looks like</p>\n\n<pre><code>@EntityView(Category.class)\ninterface DQCategoryDTO  {\n  String getTitle();\n  @Mapping(\"SIZE(sentences)\")\n  int getCount();\n}\n</code></pre>\n\n<p>and if you use Spring Data, you can use it in a repository like</p>\n\n<pre><code>interface CategoryRepository extends Repository&lt;Category, Long&gt; {\n  List&lt;DQCategoryDTO&gt; findAll(Pageable pageable);\n}\n</code></pre>\n"}],"owner":{"account_id":114177,"reputation":9845,"user_id":300359,"accept_rate":64,"display_name":"Thai Tran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56653,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":23719578,"answer_count":4,"score":27,"last_activity_date":1678710283,"creation_date":1400394831,"question_id":23719237,"body_markdown":"In my DAO layer, I have a Find function like this\r\n\r\n    public List&lt;?&gt; findCategoryWithSentenceNumber(int offset, int maxRec) {\r\n      Criteria crit = getSession().createCriteria(Category.class, &quot;cate&quot;);\r\n        crit.createAlias(&quot;cate.sentences&quot;, &quot;sent&quot;);\r\n      \t\r\n        crit.setProjection(Projections.projectionList().\r\n        add(Projections.property(&quot;title&quot;), &quot;title&quot;).\r\n        add(Projections.count(&quot;sent.id&quot;), &quot;numberOfSentence&quot;).\r\n        add(Projections.groupProperty(&quot;title&quot;))\r\n      );\r\n      \t\r\n      crit.setFirstResult(offset);\r\n      crit.setMaxResults(maxRec);\r\n      \t\r\n      return crit.list();\r\n    }\r\n\r\nSo, in order to read the data, I have to use a Loop (with `Iterator`) \r\n\r\n    List&lt;?&gt; result = categoryDAO.findCategoryWithSentenceNumber(0, 10);\r\n    // List&lt;DQCategoryDTO&gt; dtoList = new ArrayList&lt;&gt;(); \r\n          \t\r\n    for (Iterator&lt;?&gt; it = result.iterator(); it.hasNext(); ) {\r\n      Object[] myResult = (Object[]) it.next();\r\n              \r\n      String  title = (String) myResult[0];\r\n      Long count = (Long) myResult[1];\r\n              \r\n\r\n      assertEquals(&quot;test&quot;, title); \r\n      assertEquals(1, count.intValue()); \r\n      \r\n      // dQCategoryDTO = new DQCategoryDTO();\r\n      // dQCategoryDTO.setTitle(title);\r\n      // dQCategoryDTO.setNumberOfSentence(count);\r\n      // dtoList.add(dQCategoryDTO);\r\n\r\n    }\r\n\r\nMy question is: is there any api, framework to easily convert the `List&lt;?&gt; result` in to a list of `DTO` object (say, DQCategoryDTO) without using any loop, iterator and calling setter/getter to fill the value? ","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>In my DAO layer, I have a Find function like this</p>\n\n<pre><code>public List&lt;?&gt; findCategoryWithSentenceNumber(int offset, int maxRec) {\n  Criteria crit = getSession().createCriteria(Category.class, \"cate\");\n    crit.createAlias(\"cate.sentences\", \"sent\");\n\n    crit.setProjection(Projections.projectionList().\n    add(Projections.property(\"title\"), \"title\").\n    add(Projections.count(\"sent.id\"), \"numberOfSentence\").\n    add(Projections.groupProperty(\"title\"))\n  );\n\n  crit.setFirstResult(offset);\n  crit.setMaxResults(maxRec);\n\n  return crit.list();\n}\n</code></pre>\n\n<p>So, in order to read the data, I have to use a Loop (with <code>Iterator</code>) </p>\n\n<pre><code>List&lt;?&gt; result = categoryDAO.findCategoryWithSentenceNumber(0, 10);\n// List&lt;DQCategoryDTO&gt; dtoList = new ArrayList&lt;&gt;(); \n\nfor (Iterator&lt;?&gt; it = result.iterator(); it.hasNext(); ) {\n  Object[] myResult = (Object[]) it.next();\n\n  String  title = (String) myResult[0];\n  Long count = (Long) myResult[1];\n\n\n  assertEquals(\"test\", title); \n  assertEquals(1, count.intValue()); \n\n  // dQCategoryDTO = new DQCategoryDTO();\n  // dQCategoryDTO.setTitle(title);\n  // dQCategoryDTO.setNumberOfSentence(count);\n  // dtoList.add(dQCategoryDTO);\n\n}\n</code></pre>\n\n<p>My question is: is there any api, framework to easily convert the <code>List&lt;?&gt; result</code> in to a list of <code>DTO</code> object (say, DQCategoryDTO) without using any loop, iterator and calling setter/getter to fill the value? </p>\n"},{"tags":["java","xml","user-interface"],"comments":[{"owner":{"account_id":24915840,"reputation":3,"user_id":18784796,"display_name":"Remag Minecraft"},"score":0,"creation_date":1676492552,"post_id":75465060,"comment_id":133150071,"body_markdown":"the code might be a little weird because i used chatGPT for it as i don&#39;t know general java","body":"the code might be a little weird because i used chatGPT for it as i don&#39;t know general java"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676496937,"post_id":75465060,"comment_id":133151179,"body_markdown":"Not sure what you are asking. You hard-coded a file-path. Instead you want to present to the user a file-picker dialog in Swing?","body":"Not sure what you are asking. You hard-coded a file-path. Instead you want to present to the user a file-picker dialog in Swing?"},{"owner":{"account_id":24915840,"reputation":3,"user_id":18784796,"display_name":"Remag Minecraft"},"score":0,"creation_date":1676536446,"post_id":75465060,"comment_id":133157519,"body_markdown":"yes i just want a way of letting the user define the path, it doesn&#39;t have to be in a gui as long as the path isn&#39;t hard-coded","body":"yes i just want a way of letting the user define the path, it doesn&#39;t have to be in a gui as long as the path isn&#39;t hard-coded"}],"answers":[{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678709508,"creation_date":1678709508,"answer_id":75721709,"question_id":75465060,"body_markdown":"            import org.w3c.dom.Document;\r\n            import org.w3c.dom.Element;\r\n            \r\n            import javax.swing.*;\r\n            import javax.swing.filechooser.FileNameExtensionFilter;\r\n            import javax.xml.parsers.DocumentBuilder;\r\n            import javax.xml.parsers.DocumentBuilderFactory;\r\n            import javax.xml.transform.OutputKeys;\r\n            import javax.xml.transform.Transformer;\r\n            import javax.xml.transform.TransformerFactory;\r\n            import javax.xml.transform.dom.DOMSource;\r\n            import javax.xml.transform.stream.StreamResult;\r\n            import java.awt.*;\r\n            import java.io.File;\r\n            \r\n            public class XMLFileReader {\r\n            \r\n                    public void buildGui() {\r\n                        JPanel contentPanel = new JPanel();\r\n                        try {\r\n                            // Open file chooser dialog\r\n                            JFileChooser fileChooser = new JFileChooser();\r\n                            fileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\r\n                            //File filter\r\n                            FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;XML files&quot;, &quot;xml&quot;);\r\n                            fileChooser.setFileFilter(filter);\r\n            \r\n            \r\n                            int result = fileChooser.showOpenDialog(contentPanel);\r\n                            if (result != JFileChooser.APPROVE_OPTION) {\r\n                                JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry&quot;);\r\n                                return;\r\n                            }\r\n                            File selectedFile = fileChooser.getSelectedFile();\r\n            \r\n                            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n                            DocumentBuilder db = dbf.newDocumentBuilder();\r\n                            Document doc = db.parse(selectedFile);\r\n                            Element root = doc.getDocumentElement();\r\n            \r\n            \r\n                            JPanel heightPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n                            heightPanel.add(new JLabel(&quot;Rows of tiles to add (height)&quot;));\r\n                            heightPanel.add(new JTextField(10));\r\n            \r\n                            JPanel widthPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n                            widthPanel.add(new JLabel(&quot;Rows of tiles to add (width)&quot;));\r\n                            widthPanel.add(new JTextField(10));\r\n            \r\n                            JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n                            JButton setSizeButton = new JButton(&quot;Set Size&quot;);\r\n            \r\n                            JFrame frame = new JFrame(&quot;Map Size Editor&quot;);\r\n                            setSizeButton.addActionListener(e -&gt; transformResult (heightPanel, widthPanel, root, doc, selectedFile, frame, contentPanel));\r\n                            buttonPanel.add(setSizeButton);\r\n                            contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\r\n                            contentPanel.add(heightPanel);\r\n                            contentPanel.add(widthPanel);\r\n                            contentPanel.add(buttonPanel);\r\n            \r\n                            frame.setContentPane(contentPanel);\r\n                            frame.setMinimumSize(new Dimension(400, 200));\r\n                            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                            frame.pack();\r\n                            frame.setVisible(true);\r\n                        } catch (Exception ex) {\r\n                            JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry :&quot; + ex.getMessage());\r\n                        }\r\n                    }\r\n            \r\n                    private void transformResult(JPanel heightPanel, JPanel widthPanel, Element root, Document doc, File selectedFile, JFrame frame, JPanel contentPanel) {\r\n            \r\n                        try {\r\n                            System.out.println(&quot;you entered &quot; + ((JTextField) heightPanel.getComponent(1)).getText());\r\n                            float height = Float.parseFloat(root.getAttribute(&quot;height&quot;)) + (Integer.parseInt(((JTextField) heightPanel.getComponent(1)).getText()) * 256);\r\n                            float width = Float.parseFloat(root.getAttribute(&quot;width&quot;)) + (Integer.parseInt(((JTextField) widthPanel.getComponent(1)).getText()) * 256);\r\n                            System.out.println(&quot;height was: &quot; + root.getAttribute(&quot;height&quot;));\r\n                            root.setAttribute(&quot;height&quot;, String.valueOf(height));\r\n                            System.out.println(&quot;height is: &quot; + root.getAttribute(&quot;height&quot;));\r\n            \r\n                            System.out.println(&quot;width was: &quot; + root.getAttribute(&quot;width&quot;));\r\n                            root.setAttribute(&quot;width&quot;, String.valueOf(width));\r\n                            System.out.println(&quot;width is: &quot; + root.getAttribute(&quot;width&quot;));\r\n            \r\n            \r\n                            TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n                            Transformer transformer = transformerFactory.newTransformer();\r\n                            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                            DOMSource source = new DOMSource(doc);\r\n                            StreamResult result2 = new StreamResult(selectedFile);\r\n                            transformer.transform(source, result2);\r\n                            JOptionPane.showMessageDialog(frame, &quot;Changes were successful.&quot;);\r\n            \r\n                        } catch (Exception ex) {\r\n                            JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry :&quot; + ex.getMessage());\r\n                        }\r\n            \r\n                    }\r\n            }","title":"Letting the user define a file path for an XML file to be edited","body":"<pre><code>        import org.w3c.dom.Document;\n        import org.w3c.dom.Element;\n        \n        import javax.swing.*;\n        import javax.swing.filechooser.FileNameExtensionFilter;\n        import javax.xml.parsers.DocumentBuilder;\n        import javax.xml.parsers.DocumentBuilderFactory;\n        import javax.xml.transform.OutputKeys;\n        import javax.xml.transform.Transformer;\n        import javax.xml.transform.TransformerFactory;\n        import javax.xml.transform.dom.DOMSource;\n        import javax.xml.transform.stream.StreamResult;\n        import java.awt.*;\n        import java.io.File;\n        \n        public class XMLFileReader {\n        \n                public void buildGui() {\n                    JPanel contentPanel = new JPanel();\n                    try {\n                        // Open file chooser dialog\n                        JFileChooser fileChooser = new JFileChooser();\n                        fileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\n                        //File filter\n                        FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;XML files&quot;, &quot;xml&quot;);\n                        fileChooser.setFileFilter(filter);\n        \n        \n                        int result = fileChooser.showOpenDialog(contentPanel);\n                        if (result != JFileChooser.APPROVE_OPTION) {\n                            JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry&quot;);\n                            return;\n                        }\n                        File selectedFile = fileChooser.getSelectedFile();\n        \n                        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n                        DocumentBuilder db = dbf.newDocumentBuilder();\n                        Document doc = db.parse(selectedFile);\n                        Element root = doc.getDocumentElement();\n        \n        \n                        JPanel heightPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n                        heightPanel.add(new JLabel(&quot;Rows of tiles to add (height)&quot;));\n                        heightPanel.add(new JTextField(10));\n        \n                        JPanel widthPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n                        widthPanel.add(new JLabel(&quot;Rows of tiles to add (width)&quot;));\n                        widthPanel.add(new JTextField(10));\n        \n                        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n                        JButton setSizeButton = new JButton(&quot;Set Size&quot;);\n        \n                        JFrame frame = new JFrame(&quot;Map Size Editor&quot;);\n                        setSizeButton.addActionListener(e -&gt; transformResult (heightPanel, widthPanel, root, doc, selectedFile, frame, contentPanel));\n                        buttonPanel.add(setSizeButton);\n                        contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\n                        contentPanel.add(heightPanel);\n                        contentPanel.add(widthPanel);\n                        contentPanel.add(buttonPanel);\n        \n                        frame.setContentPane(contentPanel);\n                        frame.setMinimumSize(new Dimension(400, 200));\n                        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                        frame.pack();\n                        frame.setVisible(true);\n                    } catch (Exception ex) {\n                        JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry :&quot; + ex.getMessage());\n                    }\n                }\n        \n                private void transformResult(JPanel heightPanel, JPanel widthPanel, Element root, Document doc, File selectedFile, JFrame frame, JPanel contentPanel) {\n        \n                    try {\n                        System.out.println(&quot;you entered &quot; + ((JTextField) heightPanel.getComponent(1)).getText());\n                        float height = Float.parseFloat(root.getAttribute(&quot;height&quot;)) + (Integer.parseInt(((JTextField) heightPanel.getComponent(1)).getText()) * 256);\n                        float width = Float.parseFloat(root.getAttribute(&quot;width&quot;)) + (Integer.parseInt(((JTextField) widthPanel.getComponent(1)).getText()) * 256);\n                        System.out.println(&quot;height was: &quot; + root.getAttribute(&quot;height&quot;));\n                        root.setAttribute(&quot;height&quot;, String.valueOf(height));\n                        System.out.println(&quot;height is: &quot; + root.getAttribute(&quot;height&quot;));\n        \n                        System.out.println(&quot;width was: &quot; + root.getAttribute(&quot;width&quot;));\n                        root.setAttribute(&quot;width&quot;, String.valueOf(width));\n                        System.out.println(&quot;width is: &quot; + root.getAttribute(&quot;width&quot;));\n        \n        \n                        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n                        Transformer transformer = transformerFactory.newTransformer();\n                        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n                        DOMSource source = new DOMSource(doc);\n                        StreamResult result2 = new StreamResult(selectedFile);\n                        transformer.transform(source, result2);\n                        JOptionPane.showMessageDialog(frame, &quot;Changes were successful.&quot;);\n        \n                    } catch (Exception ex) {\n                        JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry :&quot; + ex.getMessage());\n                    }\n        \n                }\n        }\n</code></pre>\n"}],"owner":{"account_id":24915840,"reputation":3,"user_id":18784796,"display_name":"Remag Minecraft"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75721709,"answer_count":1,"score":-2,"last_activity_date":1678709508,"creation_date":1676492266,"question_id":75465060,"body_markdown":"recently i&#39;ve been converting a python script i made to edit XML files that are used as levels in a game, to java and i&#39;ve found a problem.\r\ni want to let the user set the path for the XML file to edit as there are many that they may want to edit but the way my code works i can&#39;t figure out how to do that\r\n\r\ni have put my full code below\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport java.awt.*;\r\nimport java.io.File;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\n\r\npublic class mapEdit {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            String filePath = &quot;B:/SteamLibrary/steamapps/common/Tasty Planet/assets/levels/bacteria.xml&quot;;\r\n            File file = new File(filePath);\r\n\r\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder db = dbf.newDocumentBuilder();\r\n            Document doc = db.parse(file);\r\n            Element root = doc.getDocumentElement();\r\n\r\n            JFrame frame = new JFrame(&quot;Map Size Editor&quot;);\r\n\r\n            JPanel heightPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n            heightPanel.add(new JLabel(&quot;Rows of tiles to add (height)&quot;));\r\n            heightPanel.add(new JTextField(10));\r\n\r\n            JPanel widthPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n            widthPanel.add(new JLabel(&quot;Rows of tiles to add (width)&quot;));\r\n            widthPanel.add(new JTextField(10));\r\n\r\n            JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n            JButton setSizeButton = new JButton(&quot;Set Size&quot;);\r\n\r\n\r\n            setSizeButton.addActionListener(e -&gt; {\r\n                System.out.println(&quot;you entered &quot; + ((JTextField) heightPanel.getComponent(1)).getText());\r\n                float height = Float.parseFloat(root.getAttribute(&quot;height&quot;))\r\n                        + (Integer.parseInt(((JTextField) heightPanel.getComponent(1)).getText()) * 256);\r\n                float width = Float.parseFloat(root.getAttribute(&quot;width&quot;))\r\n                        + (Integer.parseInt(((JTextField) widthPanel.getComponent(1)).getText()) * 256);\r\n                System.out.println(&quot;height was: &quot; + root.getAttribute(&quot;height&quot;));\r\n                root.setAttribute(&quot;height&quot;, String.valueOf(height));\r\n                System.out.println(&quot;height is: &quot; + root.getAttribute(&quot;height&quot;));\r\n\r\n                System.out.println(&quot;width was: &quot; + root.getAttribute(&quot;width&quot;));\r\n                root.setAttribute(&quot;width&quot;, String.valueOf(width));\r\n                System.out.println(&quot;width is: &quot; + root.getAttribute(&quot;width&quot;));\r\n\r\n                try {\r\n                    TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n                    Transformer transformer = transformerFactory.newTransformer();\r\n                    transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                    DOMSource source = new DOMSource(doc);\r\n                    StreamResult result = new StreamResult(file);\r\n                    transformer.transform(source, result);\r\n                    JOptionPane.showMessageDialog(frame, &quot;Changes were successful.&quot;);\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            });\r\n            buttonPanel.add(setSizeButton);\r\n\r\n            JPanel contentPanel = new JPanel();\r\n            contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\r\n            contentPanel.add(heightPanel);\r\n            contentPanel.add(widthPanel);\r\n            contentPanel.add(buttonPanel);\r\n\r\n            frame.setContentPane(contentPanel);\r\n            frame.setMinimumSize(new Dimension(400, 200));\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\ni have tried adding a button and text input to the GUI and using that to set the `filePath` variable but that didn&#39;t work ","title":"Letting the user define a file path for an XML file to be edited","body":"<p>recently i've been converting a python script i made to edit XML files that are used as levels in a game, to java and i've found a problem.\ni want to let the user set the path for the XML file to edit as there are many that they may want to edit but the way my code works i can't figure out how to do that</p>\n<p>i have put my full code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport java.awt.*;\nimport java.io.File;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\npublic class mapEdit {\n\n    public static void main(String[] args) {\n        try {\n            String filePath = &quot;B:/SteamLibrary/steamapps/common/Tasty Planet/assets/levels/bacteria.xml&quot;;\n            File file = new File(filePath);\n\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n            DocumentBuilder db = dbf.newDocumentBuilder();\n            Document doc = db.parse(file);\n            Element root = doc.getDocumentElement();\n\n            JFrame frame = new JFrame(&quot;Map Size Editor&quot;);\n\n            JPanel heightPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n            heightPanel.add(new JLabel(&quot;Rows of tiles to add (height)&quot;));\n            heightPanel.add(new JTextField(10));\n\n            JPanel widthPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n            widthPanel.add(new JLabel(&quot;Rows of tiles to add (width)&quot;));\n            widthPanel.add(new JTextField(10));\n\n            JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n            JButton setSizeButton = new JButton(&quot;Set Size&quot;);\n\n\n            setSizeButton.addActionListener(e -&gt; {\n                System.out.println(&quot;you entered &quot; + ((JTextField) heightPanel.getComponent(1)).getText());\n                float height = Float.parseFloat(root.getAttribute(&quot;height&quot;))\n                        + (Integer.parseInt(((JTextField) heightPanel.getComponent(1)).getText()) * 256);\n                float width = Float.parseFloat(root.getAttribute(&quot;width&quot;))\n                        + (Integer.parseInt(((JTextField) widthPanel.getComponent(1)).getText()) * 256);\n                System.out.println(&quot;height was: &quot; + root.getAttribute(&quot;height&quot;));\n                root.setAttribute(&quot;height&quot;, String.valueOf(height));\n                System.out.println(&quot;height is: &quot; + root.getAttribute(&quot;height&quot;));\n\n                System.out.println(&quot;width was: &quot; + root.getAttribute(&quot;width&quot;));\n                root.setAttribute(&quot;width&quot;, String.valueOf(width));\n                System.out.println(&quot;width is: &quot; + root.getAttribute(&quot;width&quot;));\n\n                try {\n                    TransformerFactory transformerFactory = TransformerFactory.newInstance();\n                    Transformer transformer = transformerFactory.newTransformer();\n                    transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n                    DOMSource source = new DOMSource(doc);\n                    StreamResult result = new StreamResult(file);\n                    transformer.transform(source, result);\n                    JOptionPane.showMessageDialog(frame, &quot;Changes were successful.&quot;);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            });\n            buttonPanel.add(setSizeButton);\n\n            JPanel contentPanel = new JPanel();\n            contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\n            contentPanel.add(heightPanel);\n            contentPanel.add(widthPanel);\n            contentPanel.add(buttonPanel);\n\n            frame.setContentPane(contentPanel);\n            frame.setMinimumSize(new Dimension(400, 200));\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.pack();\n            frame.setVisible(true);\n\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>i have tried adding a button and text input to the GUI and using that to set the <code>filePath</code> variable but that didn't work</p>\n"},{"tags":["java","jboss","java-17"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678712352,"post_id":75720126,"comment_id":133581113,"body_markdown":"As best as I can see when JBoss EAP 6.1 was released in 2013 Java 8 didn&#39;t even exist, let alone 9, 11 or 17. Java 9 introduced a *major* change to class loading (with the module system) and later released further restricted legacy options. Since EAP is a application server and application servers tend to do &quot;funny things with classloading&quot; it&#39;s in the class of applications most likely to not be compatible with newer Java versions without major changes. My strong suspicion: there&#39;s no way in heck that you&#39;re going to run that ancient EAP version on Java 17.","body":"As best as I can see when JBoss EAP 6.1 was released in 2013 Java 8 didn&#39;t even exist, let alone 9, 11 or 17. Java 9 introduced a <i>major</i> change to class loading (with the module system) and later released further restricted legacy options. Since EAP is a application server and application servers tend to do &quot;funny things with classloading&quot; it&#39;s in the class of applications most likely to not be compatible with newer Java versions without major changes. My strong suspicion: there&#39;s no way in heck that you&#39;re going to run that ancient EAP version on Java 17."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678713220,"post_id":75720126,"comment_id":133581377,"body_markdown":"Also: [this page](https://access.redhat.com/articles/111663) (and [the same for EAP 7](https://access.redhat.com/articles/2026253)).","body":"Also: <a href=\"https://access.redhat.com/articles/111663\" rel=\"nofollow noreferrer\">this page</a> (and <a href=\"https://access.redhat.com/articles/2026253\" rel=\"nofollow noreferrer\">the same for EAP 7</a>)."}],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678709075,"creation_date":1678709075,"answer_id":75721640,"question_id":75720126,"body_markdown":"Given that this is a really old EAP version that came from before Java 9 you&#39;d need to change the scripts a lot to be able to run it on a newer Java version","title":"Java 17 on jboss EAP 6.1","body":"<p>Given that this is a really old EAP version that came from before Java 9 you'd need to change the scripts a lot to be able to run it on a newer Java version</p>\n"}],"owner":{"account_id":28004451,"reputation":1,"user_id":21388098,"display_name":"Simone Traversi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678709075,"creation_date":1678700208,"question_id":75720126,"body_markdown":"I&#39;m trying to start my jboss EAP 6.1 installation with Java 17, but I receive this error:\r\n```none\r\n===============================================================================\r\n\r\n  JBoss Bootstrap Environment\r\n\r\n  JBOSS_HOME: C:\\Sviluppo\\jboss-eap-6.1_prova17\r\n\r\n  JAVA: C:\\Program Files\\Java\\jdk-17.0.5\\bin\\java\r\n\r\n  JAVA_OPTS: -XX:+TieredCompilation -XX:+UseCompressedOops -Dprogram.name=standalone.bat  -Dexo.jcr.session.tracking.active=false -Xms512m -Xmx2g --add-opens java.xml/com.sun.org.apache.xerces.internal.jaxp=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.security=ALL-UNNAMED -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Duser.language=en -Duser.region=US -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Dgatein.assets.version=4.0.7 -Djava.util.Arrays.useLegacyMergeSort=true -Dorg.jboss.resolver.warning=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djboss.server.default.config=standalone-exo.xml -Dorg.jboss.as.logging.per-deployment=false\r\n\r\n===============================================================================\r\n\r\nException in thread &quot;main&quot; javax.xml.stream.FactoryConfigurationError: Provider __redirected.__XMLInputFactory could not be instantiated: java.lang.reflect.InvocationTargetException\r\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:201)\r\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:148)\r\n        at java.xml/javax.xml.stream.FactoryFinder.find(FactoryFinder.java:261)\r\n        at java.xml/javax.xml.stream.FactoryFinder.find(FactoryFinder.java:223)\r\n        at java.xml/javax.xml.stream.XMLInputFactory.newInstance(XMLInputFactory.java:166)\r\n        at org.jboss.modules.ModuleXmlParser.&lt;clinit&gt;(ModuleXmlParser.java:278)\r\n        at org.jboss.modules.LocalModuleFinder$1.run(LocalModuleFinder.java:144)\r\n        at org.jboss.modules.LocalModuleFinder$1.run(LocalModuleFinder.java:138)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n        at org.jboss.modules.LocalModuleFinder.findModule(LocalModuleFinder.java:138)\r\n        at org.jboss.modules.ModuleLoader.findModule(ModuleLoader.java:389)\r\n        at org.jboss.modules.ModuleLoader.loadModuleLocal(ModuleLoader.java:293)\r\n        at org.jboss.modules.ModuleLoader.preloadModule(ModuleLoader.java:240)\r\n        at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:222)\r\n        at __redirected.__RedirectedUtils.loadProvider(__RedirectedUtils.java:76)\r\n        at __redirected.__RedirectedUtils.loadProvider(__RedirectedUtils.java:70)\r\n        at __redirected.__DocumentBuilderFactory.changeDefaultFactory(__DocumentBuilderFactory.java:77)\r\n        at __redirected.__JAXPRedirected.changeAll(__JAXPRedirected.java:43)\r\n        at org.jboss.modules.Main.main(Main.java:334)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:190)\r\n        ... 18 more\r\nCaused by: java.lang.IllegalAccessError: class __redirected.__XMLInputFactory cannot access class com.sun.xml.internal.stream.XMLInputFactoryImpl (in module java.xml) because module java.xml does not export com.sun.xml.internal.stream to unnamed module @5d22bbb7\r\n        at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at __redirected.__XMLInputFactory.&lt;init&gt;(__XMLInputFactory.java:112)\r\n        ... 24 more\r\n```\r\n\r\nI&#39;ve tried to use this solution, but it doesn&#39;t work:\r\nhttps://stackoverflow.com/questions/70129530/is-it-possible-to-run-wildfly-10-on-new-jdk17\r\n","title":"Java 17 on jboss EAP 6.1","body":"<p>I'm trying to start my jboss EAP 6.1 installation with Java 17, but I receive this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>===============================================================================\n\n  JBoss Bootstrap Environment\n\n  JBOSS_HOME: C:\\Sviluppo\\jboss-eap-6.1_prova17\n\n  JAVA: C:\\Program Files\\Java\\jdk-17.0.5\\bin\\java\n\n  JAVA_OPTS: -XX:+TieredCompilation -XX:+UseCompressedOops -Dprogram.name=standalone.bat  -Dexo.jcr.session.tracking.active=false -Xms512m -Xmx2g --add-opens java.xml/com.sun.org.apache.xerces.internal.jaxp=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.security=ALL-UNNAMED -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Duser.language=en -Duser.region=US -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Dgatein.assets.version=4.0.7 -Djava.util.Arrays.useLegacyMergeSort=true -Dorg.jboss.resolver.warning=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djboss.server.default.config=standalone-exo.xml -Dorg.jboss.as.logging.per-deployment=false\n\n===============================================================================\n\nException in thread &quot;main&quot; javax.xml.stream.FactoryConfigurationError: Provider __redirected.__XMLInputFactory could not be instantiated: java.lang.reflect.InvocationTargetException\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:201)\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:148)\n        at java.xml/javax.xml.stream.FactoryFinder.find(FactoryFinder.java:261)\n        at java.xml/javax.xml.stream.FactoryFinder.find(FactoryFinder.java:223)\n        at java.xml/javax.xml.stream.XMLInputFactory.newInstance(XMLInputFactory.java:166)\n        at org.jboss.modules.ModuleXmlParser.&lt;clinit&gt;(ModuleXmlParser.java:278)\n        at org.jboss.modules.LocalModuleFinder$1.run(LocalModuleFinder.java:144)\n        at org.jboss.modules.LocalModuleFinder$1.run(LocalModuleFinder.java:138)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n        at org.jboss.modules.LocalModuleFinder.findModule(LocalModuleFinder.java:138)\n        at org.jboss.modules.ModuleLoader.findModule(ModuleLoader.java:389)\n        at org.jboss.modules.ModuleLoader.loadModuleLocal(ModuleLoader.java:293)\n        at org.jboss.modules.ModuleLoader.preloadModule(ModuleLoader.java:240)\n        at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:222)\n        at __redirected.__RedirectedUtils.loadProvider(__RedirectedUtils.java:76)\n        at __redirected.__RedirectedUtils.loadProvider(__RedirectedUtils.java:70)\n        at __redirected.__DocumentBuilderFactory.changeDefaultFactory(__DocumentBuilderFactory.java:77)\n        at __redirected.__JAXPRedirected.changeAll(__JAXPRedirected.java:43)\n        at org.jboss.modules.Main.main(Main.java:334)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:190)\n        ... 18 more\nCaused by: java.lang.IllegalAccessError: class __redirected.__XMLInputFactory cannot access class com.sun.xml.internal.stream.XMLInputFactoryImpl (in module java.xml) because module java.xml does not export com.sun.xml.internal.stream to unnamed module @5d22bbb7\n        at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\n        at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at __redirected.__XMLInputFactory.&lt;init&gt;(__XMLInputFactory.java:112)\n        ... 24 more\n</code></pre>\n<p>I've tried to use this solution, but it doesn't work:\n<a href=\"https://stackoverflow.com/questions/70129530/is-it-possible-to-run-wildfly-10-on-new-jdk17\">Is it possible to run Wildfly 10 on new jdk17</a></p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","junit"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1514997901,"post_id":48078044,"comment_id":83137460,"body_markdown":"Try to mock `@MockBean private UserController userController;` instead of `@MockBean private UserService userService;`","body":"Try to mock <code>@MockBean private UserController userController;</code> instead of <code>@MockBean private UserService userService;</code>"},{"owner":{"account_id":5721512,"reputation":531,"user_id":5758587,"accept_rate":67,"display_name":"dabadie"},"score":0,"creation_date":1514998479,"post_id":48078044,"comment_id":83137790,"body_markdown":"@Patrick thanks for your response, but how does that solve my problem? UserController is the class I&#39;m trying to test.","body":"@Patrick thanks for your response, but how does that solve my problem? UserController is the class I&#39;m trying to test."},{"owner":{"account_id":5721512,"reputation":531,"user_id":5758587,"accept_rate":67,"display_name":"dabadie"},"score":2,"creation_date":1514999932,"post_id":48078044,"comment_id":83138561,"body_markdown":"But if I&#39;m mocking the class I want to test I&#39;m not testing my class &#39; functionality. The point is to test the functionality of my web layer and therefore I need to mock my service, see here: https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4","body":"But if I&#39;m mocking the class I want to test I&#39;m not testing my class &#39; functionality. The point is to test the functionality of my web layer and therefore I need to mock my service, see here: <a href=\"https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4\" rel=\"nofollow noreferrer\">spring.io/blog/2016/08/30/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5721512,"reputation":531,"user_id":5758587,"accept_rate":67,"display_name":"dabadie"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1515311620,"creation_date":1515077813,"answer_id":48097887,"question_id":48078044,"body_markdown":"I found the reason I was having this problem.\r\nFrom spring docs `@SpringBootApplication`:\r\n&gt; Indicates a configuration class that declares one or more @Bean methods and also triggers auto-configuration and component scanning. This is a convenience annotation that is equivalent to declaring @Configuration, @EnableAutoConfiguration and @ComponentScan.\r\n\r\nHowever, this is the full declaration of the `@SpringBootApplication` annotation:\r\n\r\n    @Target(value=TYPE)\r\n    @Retention(value=RUNTIME)\r\n    @Documented\r\n    @Inherited\r\n    @SpringBootConfiguration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(excludeFilters={@ComponentScan.Filter(type=CUSTOM,classes=TypeExcludeFilter.class),})\r\n    public @interface SpringBootApplication\r\n\r\nWhen I added the `@ComponentScan` annotation directly in my application class I did not specify the default excludedFilters and that is why the behavior was different. After adding the excludeFilter I was able to solve my issue.","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>I found the reason I was having this problem.\nFrom spring docs <code>@SpringBootApplication</code>:</p>\n\n<blockquote>\n  <p>Indicates a configuration class that declares one or more @Bean methods and also triggers auto-configuration and component scanning. This is a convenience annotation that is equivalent to declaring @Configuration, @EnableAutoConfiguration and @ComponentScan.</p>\n</blockquote>\n\n<p>However, this is the full declaration of the <code>@SpringBootApplication</code> annotation:</p>\n\n<pre><code>@Target(value=TYPE)\n@Retention(value=RUNTIME)\n@Documented\n@Inherited\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(excludeFilters={@ComponentScan.Filter(type=CUSTOM,classes=TypeExcludeFilter.class),})\npublic @interface SpringBootApplication\n</code></pre>\n\n<p>When I added the <code>@ComponentScan</code> annotation directly in my application class I did not specify the default excludedFilters and that is why the behavior was different. After adding the excludeFilter I was able to solve my issue.</p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1542722802,"creation_date":1542722802,"answer_id":53394808,"question_id":48078044,"body_markdown":"I could only solve it by using `@AutoConfigureMockMvc` in combination with `@SpringBootTest` instead of `@WebMvcTest`\r\n\r\n       @RunWith(SpringRunner.class)\r\n       @ComponentScan(basePackages = {&quot;com.mypackage&quot;})\r\n       @SpringBootTest\r\n       @AutoConfigureMockMvc\r\n       public class MyClass{}\r\n\r\nSomehow every other combination with `@WebMvcTest` I&#180;ve tried did result in the same error","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>I could only solve it by using <code>@AutoConfigureMockMvc</code> in combination with <code>@SpringBootTest</code> instead of <code>@WebMvcTest</code></p>\n\n<pre><code>   @RunWith(SpringRunner.class)\n   @ComponentScan(basePackages = {\"com.mypackage\"})\n   @SpringBootTest\n   @AutoConfigureMockMvc\n   public class MyClass{}\n</code></pre>\n\n<p>Somehow every other combination with <code>@WebMvcTest</code> Ive tried did result in the same error</p>\n"},{"tags":[],"owner":{"account_id":25808885,"reputation":1,"user_id":20035141,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668014173,"creation_date":1668014173,"answer_id":74378849,"question_id":48078044,"body_markdown":"Solution that worked for me. After the @WebMvcTestannotation, you need to add the name of the class under test in brackets.\r\n*For example: @WebMvcTest(FacultyController.class)*\r\n\r\n    @WebMvcTest(FacultyController.class)\r\n    class FacultyControllerTests {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @MockBean\r\n    private FacultyRepository facultyRepository;\r\n\r\n    @SpyBean\r\n    private FacultyService facultyService;\r\n\r\n    @InjectMocks\r\n    private FacultyController facultyController;\r\n    \r\n    @Test\r\n    void testFaculty() throws Exception {\r\n    }\r\n    \r\n    }","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>Solution that worked for me. After the @WebMvcTestannotation, you need to add the name of the class under test in brackets.\n<em>For example: @WebMvcTest(FacultyController.class)</em></p>\n<pre><code>@WebMvcTest(FacultyController.class)\nclass FacultyControllerTests {\n\n@Autowired\nprivate MockMvc mockMvc;\n@MockBean\nprivate FacultyRepository facultyRepository;\n\n@SpyBean\nprivate FacultyService facultyService;\n\n@InjectMocks\nprivate FacultyController facultyController;\n\n@Test\nvoid testFaculty() throws Exception {\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27450446,"reputation":1,"user_id":20942771,"display_name":"xiangcheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672988198,"creation_date":1672988198,"answer_id":75027868,"question_id":48078044,"body_markdown":"**How to solve**\r\n\r\nJust need to put all of the classes you missed in @WebMvcTest. \r\n\r\n**example**\r\n\r\nFor example, an error msg said &quot;&#39;UserDao&#39; that could not be found&quot;. You just need to put UserDao.class in @WebMvcTest. \r\neg. @WebMvcTest({the class you want to test.class, UserDao.class})\r\n\r\n**another method**\r\n\r\nOf course, you can also use @ComponentScan to scan all of the classes that you need as well.","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p><strong>How to solve</strong></p>\n<p>Just need to put all of the classes you missed in @WebMvcTest.</p>\n<p><strong>example</strong></p>\n<p>For example, an error msg said &quot;'UserDao' that could not be found&quot;. You just need to put UserDao.class in @WebMvcTest.\neg. @WebMvcTest({the class you want to test.class, UserDao.class})</p>\n<p><strong>another method</strong></p>\n<p>Of course, you can also use @ComponentScan to scan all of the classes that you need as well.</p>\n"},{"tags":[],"owner":{"account_id":22908132,"reputation":31,"user_id":17045864,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678709041,"creation_date":1678709041,"answer_id":75721633,"question_id":48078044,"body_markdown":"    @SpringBootTest(classes = {ClassToTest.class})\r\n    @ExtendWith(SpringExtension.class)\r\n    @AutoConfigureMockMvc\r\nCombination of these annotations worked for me.\r\n\r\nI was facing this same issue while controller mock mvc testing in spring boot, JUnit5, Mockito. \r\n","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<pre><code>@SpringBootTest(classes = {ClassToTest.class})\n@ExtendWith(SpringExtension.class)\n@AutoConfigureMockMvc\n</code></pre>\n<p>Combination of these annotations worked for me.</p>\n<p>I was facing this same issue while controller mock mvc testing in spring boot, JUnit5, Mockito.</p>\n"}],"owner":{"account_id":5721512,"reputation":531,"user_id":5758587,"accept_rate":67,"display_name":"dabadie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20009,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":48097887,"answer_count":5,"score":16,"last_activity_date":1678709041,"creation_date":1514984881,"question_id":48078044,"body_markdown":"I&#39;m having trouble getting my tests annotated with `@WebMvcTest` to work. I have also configured spring-cloud-config-server and spring-cloud-starter, and all Test classes with this annotation seem to fail. I have the following controller test:\r\n\r\n**Code:**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(controllers = UserController.class)\r\n    @ActiveProfiles({&quot;dev&quot;, &quot;native&quot;})\r\n    public class UserControllerTest {\r\n\r\n        @MockBean\r\n        private UserService userService;\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n\r\n        @Test\r\n        public void changePassword() throws Exception {\r\n            given(userService.changePassword(any(), any(), any())).willReturn(true);\r\n            MvcResult result = mockMvc.perform(post(/user/changePassword)\r\n                    .param(&quot;old&quot;, &quot;Pa$$W0rd&quot;)\r\n                    .param(&quot;new, &quot;NewPa$$W0rd&quot;))\r\n                    .andExpect(status().isOk()).andReturn();\r\n            assertThat(result).isNotNull();\r\n        assertThat(result.getResponse().getContentAsString()).isEqualTo(&quot;true&quot;);\r\n        }\r\n    }\r\n\r\n**The relevant controller:**\r\n\r\n    @RestController\r\n    @RequestMapping(/user)\r\n    @Log4j2\r\n    public class UserController {\r\n    \r\n        private UserService userService;\r\n    \r\n        public UserController(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n    \r\n        @Timed\r\n        @PostMapping(value = /changePassword)\r\n        public ResponseEntity changePassword(@RequestParam(&quot;old&quot;) String oldPassword,\r\n                                             @RequestParam(&quot;new&quot;) String newPassword) throws Exception {\r\n            String username = SecurityUtil.getCurrentLogin();\r\n            Boolean result = userService.changePassword(username, oldPassword, newPassword);\r\n            return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nIt is worth mentioning that as a result of my spring-cloud configurations I also had to update the META-INF/spring.factories file and update my main ServerApplication class with the following annotations:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @SpringBootConfiguration\r\n    @ComponentScan(excludeFilters = {@ComponentScan.Filter(type= FilterType.ASSIGNABLE_TYPE, value=AppPropertiesConfiguration.class)})\r\n    @ServletComponentScan\r\n    @EnableConfigServer\r\n    @EnableRetry\r\n    @Log4j2\r\n    public class ServerApplication {\r\n    ...\r\n    ...\r\n    }\r\n\r\n**After running my tests I get the following error:**\r\n\r\n        java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;reportAdapterController&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\adapter\\controller\\reports\\ReportAdapterController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;uploadReportController&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\web\\controller\\reports\\UploadReportController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;reportService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;managerService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    \t... 25 more\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;uploadReportController&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\web\\controller\\reports\\UploadReportController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;reportService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;managerService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \t... 43 more\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;reportService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;managerService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \t... 57 more\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;managerService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \t... 71 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1531)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1276)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \t... 85 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:299)\r\n    \t... 99 more\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:687)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1207)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:284)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\r\n    \t... 107 more\r\n\r\n**Conclusion:**\r\nAfter a lot of searching I came to the conclusion that it probably has to be something with the fact that `@WebMvcTest` has problems with classes configured as `@Configuration` or `@EnableConfig` server but everything I have tried hasn&#39;t helped me solve this issue.","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>I'm having trouble getting my tests annotated with <code>@WebMvcTest</code> to work. I have also configured spring-cloud-config-server and spring-cloud-starter, and all Test classes with this annotation seem to fail. I have the following controller test:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(controllers = UserController.class)\n@ActiveProfiles({\"dev\", \"native\"})\npublic class UserControllerTest {\n\n    @MockBean\n    private UserService userService;\n    @Autowired\n    private MockMvc mockMvc;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Test\n    public void changePassword() throws Exception {\n        given(userService.changePassword(any(), any(), any())).willReturn(true);\n        MvcResult result = mockMvc.perform(post(/user/changePassword)\n                .param(\"old\", \"Pa$$W0rd\")\n                .param(\"new, \"NewPa$$W0rd\"))\n                .andExpect(status().isOk()).andReturn();\n        assertThat(result).isNotNull();\n    assertThat(result.getResponse().getContentAsString()).isEqualTo(\"true\");\n    }\n}\n</code></pre>\n\n<p><strong>The relevant controller:</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(/user)\n@Log4j2\npublic class UserController {\n\n    private UserService userService;\n\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Timed\n    @PostMapping(value = /changePassword)\n    public ResponseEntity changePassword(@RequestParam(\"old\") String oldPassword,\n                                         @RequestParam(\"new\") String newPassword) throws Exception {\n        String username = SecurityUtil.getCurrentLogin();\n        Boolean result = userService.changePassword(username, oldPassword, newPassword);\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>It is worth mentioning that as a result of my spring-cloud configurations I also had to update the META-INF/spring.factories file and update my main ServerApplication class with the following annotations:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@SpringBootConfiguration\n@ComponentScan(excludeFilters = {@ComponentScan.Filter(type= FilterType.ASSIGNABLE_TYPE, value=AppPropertiesConfiguration.class)})\n@ServletComponentScan\n@EnableConfigServer\n@EnableRetry\n@Log4j2\npublic class ServerApplication {\n...\n...\n}\n</code></pre>\n\n<p><strong>After running my tests I get the following error:</strong></p>\n\n<pre><code>    java.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportAdapterController' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\adapter\\controller\\reports\\ReportAdapterController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'uploadReportController' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\web\\controller\\reports\\UploadReportController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'managerService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    ... 25 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'uploadReportController' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\web\\controller\\reports\\UploadReportController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'managerService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    ... 43 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'managerService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    ... 57 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'managerService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    ... 71 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1531)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1276)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    ... 85 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:299)\n    ... 99 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:687)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1207)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:284)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\n    ... 107 more\n</code></pre>\n\n<p><strong>Conclusion:</strong>\nAfter a lot of searching I came to the conclusion that it probably has to be something with the fact that <code>@WebMvcTest</code> has problems with classes configured as <code>@Configuration</code> or <code>@EnableConfig</code> server but everything I have tried hasn't helped me solve this issue.</p>\n"},{"tags":["java","jackson","classloader","anonymous-class"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678709238,"post_id":75721627,"comment_id":133580157,"body_markdown":"Unless you have thousands of these, it won&#39;t make big difference. But why are you creating several anonymous classes if you can just create a `class TypeReferenceImpl&lt;T&gt; extends TypeReference&lt;T&gt;` and then use that everywhere? Or is there a need for multiple subclasses?","body":"Unless you have thousands of these, it won&#39;t make big difference. But why are you creating several anonymous classes if you can just create a <code>class TypeReferenceImpl&lt;T&gt; extends TypeReference&lt;T&gt;</code> and then use that everywhere? Or is there a need for multiple subclasses?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678780348,"post_id":75721627,"comment_id":133595108,"body_markdown":"@f1sh thats obviously a type token intended to capture the generic type. Hence, it must be a reifiable type to fulfill the purpose. A `TypeReferenceImpl&lt;T&gt;` does not work. A shared `class MyDtoTypeReference extends TypeReference&lt;MyDto&gt;` on the other hand, would do.","body":"@f1sh thats obviously a type token intended to capture the generic type. Hence, it must be a reifiable type to fulfill the purpose. A <code>TypeReferenceImpl&lt;T&gt;</code> does not work. A shared <code>class MyDtoTypeReference extends TypeReference&lt;MyDto&gt;</code> on the other hand, would do."}],"owner":{"account_id":17860522,"reputation":1,"user_id":12974146,"display_name":"Andrii Yampolskyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678708995,"creation_date":1678708995,"question_id":75721627,"body_markdown":"I&#39;m working on a project where we have to deal with a number of JSON entities and an SDK to make calls for that JSONs. To map JSON to DTO we use the Jackson library and TypeReference class.\r\n\r\nLet&#39;s say there is a Repository do deal with a certain type of JSONs and there are methods that use `new TypeReference` under that hood. \r\n\r\n\r\n```\r\nclass Repository {\r\n   a() {\r\n      new TypeReference&lt;MyDto&gt; {}\r\n   }\r\n\r\n   b() {\r\n      new TypeReference&lt;MyDto&gt; {}\r\n   }\r\n\r\n}\r\n```\r\n\r\nIt would create next classes after build:\r\n```\r\nRepository$1.class\r\nRepository$2.class\r\n```\r\n\r\n\r\n\r\nBasically, I have 2 global questions :\r\n1) Would the number of declarations of the same TypeReference affect somehow my project? Because there would be generated .class files for each declaration. Would it affect a classloader? \r\n\r\n2) Would you suggest any best practices to deal with TypeReference? Should I put them into a dedicated util class? Should it be a singleton instance of TypeReference or it doesn&#39;t make any sense to have it as a singleton?\r\n\r\nMove to util class to prevent over-creating of .class files.","title":"Number of the same anonymous class(TypeReference) declarations","body":"<p>I'm working on a project where we have to deal with a number of JSON entities and an SDK to make calls for that JSONs. To map JSON to DTO we use the Jackson library and TypeReference class.</p>\n<p>Let's say there is a Repository do deal with a certain type of JSONs and there are methods that use <code>new TypeReference</code> under that hood.</p>\n<pre><code>class Repository {\n   a() {\n      new TypeReference&lt;MyDto&gt; {}\n   }\n\n   b() {\n      new TypeReference&lt;MyDto&gt; {}\n   }\n\n}\n</code></pre>\n<p>It would create next classes after build:</p>\n<pre><code>Repository$1.class\nRepository$2.class\n</code></pre>\n<p>Basically, I have 2 global questions :</p>\n<ol>\n<li><p>Would the number of declarations of the same TypeReference affect somehow my project? Because there would be generated .class files for each declaration. Would it affect a classloader?</p>\n</li>\n<li><p>Would you suggest any best practices to deal with TypeReference? Should I put them into a dedicated util class? Should it be a singleton instance of TypeReference or it doesn't make any sense to have it as a singleton?</p>\n</li>\n</ol>\n<p>Move to util class to prevent over-creating of .class files.</p>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":99449,"reputation":9368,"user_id":268619,"accept_rate":86,"display_name":"Matthew Gilliard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1299265535,"creation_date":1299254228,"answer_id":5196130,"question_id":5196113,"body_markdown":"Not with the `java.util` collections classes, but with any particular collection you could extend it, and override the `.add()` or `.put()` to your own ends.  Something like this would work for a List:\r\n\r\n    public final boolean add(E e) {\r\n        if (this.size() == MAX_SIZE){\r\n            throw new IllegalStateException(&quot;List is already at maximum size of &quot; + MAX_SIZE);\r\n        }\r\n        super.add(e);\r\n    }\r\n\r\n  JavaDoc says [`IllegalStateExeption` is correct][1] &quot;if the element cannot be added at this time due to insertion restrictions&quot;.\r\n\r\n*Edit:*  As *Stas Kurilin* points out below, you&#39;d have to be careful to override all the methods which could add something to the collection though, such as `.addAll()`.\r\n\r\n*Edit 2:* As *Palo Ebermann* points out below, the correct response when an element is not added is to throw an exception.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Collection.html#add(E) ","title":"Any way to set max size of a collection?","body":"<p>Not with the <code>java.util</code> collections classes, but with any particular collection you could extend it, and override the <code>.add()</code> or <code>.put()</code> to your own ends.  Something like this would work for a List:</p>\n\n<pre><code>public final boolean add(E e) {\n    if (this.size() == MAX_SIZE){\n        throw new IllegalStateException(\"List is already at maximum size of \" + MAX_SIZE);\n    }\n    super.add(e);\n}\n</code></pre>\n\n<p>JavaDoc says <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collection.html#add%28E%29\" rel=\"nofollow\"><code>IllegalStateExeption</code> is correct</a> \"if the element cannot be added at this time due to insertion restrictions\".</p>\n\n<p><em>Edit:</em>  As <em>Stas Kurilin</em> points out below, you'd have to be careful to override all the methods which could add something to the collection though, such as <code>.addAll()</code>.</p>\n\n<p><em>Edit 2:</em> As <em>Palo Ebermann</em> points out below, the correct response when an element is not added is to throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299254231,"creation_date":1299254231,"answer_id":5196133,"question_id":5196113,"body_markdown":"you can set the initial capacity of some collections.  I dont *think* you can set the max size.\r\n\r\nYou can build that logic into your domain classes (business logic) to enforce max size. Or you could create a subclass....","title":"Any way to set max size of a collection?","body":"<p>you can set the initial capacity of some collections.  I dont <em>think</em> you can set the max size.</p>\n\n<p>You can build that logic into your domain classes (business logic) to enforce max size. Or you could create a subclass....</p>\n"},{"tags":[],"owner":{"account_id":242394,"reputation":4585,"user_id":513872,"accept_rate":70,"display_name":"Mike Yockey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299254433,"creation_date":1299254433,"answer_id":5196175,"question_id":5196113,"body_markdown":"You would have to implement your own Collection. Furthermore, Your notion of max size isn&#39;t completely defined. For instance, do you wish to prevent new items from being added? Drop off the oldest item? The newest item? Max size is an attribute, not a behavior. You need to define the behavior part if you were to implement this.","title":"Any way to set max size of a collection?","body":"<p>You would have to implement your own Collection. Furthermore, Your notion of max size isn't completely defined. For instance, do you wish to prevent new items from being added? Drop off the oldest item? The newest item? Max size is an attribute, not a behavior. You need to define the behavior part if you were to implement this.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299254458,"creation_date":1299254458,"answer_id":5196181,"question_id":5196113,"body_markdown":"Most general-purpose collections in the standard library DO NOT have a hard capacity - just a minimum initial allocation. The only exception I Can think off the top of my head is `LinkedBlockingQueue`. Other libraries have other bounded collections, like an `LRUCache`.\r\n\r\nIt should be fairly straightforward to create your own wrapper, if that is useful to you.\r\n\r\n","title":"Any way to set max size of a collection?","body":"<p>Most general-purpose collections in the standard library DO NOT have a hard capacity - just a minimum initial allocation. The only exception I Can think off the top of my head is <code>LinkedBlockingQueue</code>. Other libraries have other bounded collections, like an <code>LRUCache</code>.</p>\n\n<p>It should be fairly straightforward to create your own wrapper, if that is useful to you.</p>\n"},{"tags":[],"owner":{"account_id":39930,"reputation":25721,"user_id":115432,"display_name":"Kathy Van Stone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299254482,"creation_date":1299254482,"answer_id":5196187,"question_id":5196113,"body_markdown":"If you mean &quot;is there a method on the Collection interface (or standard implementations of it) where you can set the size the answer is no. Can you write (or extend) a class to have a maximum size than you certainly can.","title":"Any way to set max size of a collection?","body":"<p>If you mean \"is there a method on the Collection interface (or standard implementations of it) where you can set the size the answer is no. Can you write (or extend) a class to have a maximum size than you certainly can.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1299258712,"creation_date":1299254582,"answer_id":5196214,"question_id":5196113,"body_markdown":"You can do this:\r\n\r\n    List&lt;X&gt; list = Arrays.asList(new X[desiredSize]);\r\n    // where X is any Object type (including arrays and enums,\r\n    // but excluding primitives)\r\n\r\nThe resulting list is modifiable, but not resizable (i.e. [`add(e)`][1] and [`remove(e)`][2] don&#39;t work, but [`set(index, e)`][3] does).\r\n\r\n**Reference:**\r\n\r\n - [`Arrays.asList(T ...)`][4]\r\n\r\n\r\n----------\r\n\r\nOr: using [Guava][5], here&#39;s a static method that decorates an existing List with a maximum size\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; setMaxSize(\r\n        final List&lt;T&gt; input, final int maxSize){\r\n\r\n        return new ForwardingList&lt;T&gt;(){\r\n\r\n            @Override\r\n            public boolean addAll(Collection&lt;? extends T&gt; collection){\r\n                return standardAddAll(collection);\r\n            }\r\n            \r\n            @Override\r\n            public boolean addAll(int index, Collection&lt;? extends T&gt; elements){\r\n                return standardAddAll(index, elements);\r\n            }\r\n            \r\n            public boolean add(T e) {\r\n                checkMaxSize();\r\n                return delegate().add(e);\r\n            }\r\n            \r\n            @Override\r\n            public void add(final int index, final T e){\r\n                checkMaxSize();\r\n                delegate().add(index, e);\r\n            }\r\n\r\n            private void checkMaxSize(){\r\n                if(size() &gt;= maxSize){\r\n                    throw new UnsupportedOperationException(&quot;Maximum Size &quot;\r\n                        + maxSize + &quot; reached&quot;);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            protected List&lt;T&gt; delegate(){\r\n                return input;\r\n            }\r\n        };\r\n    }\r\n\r\nSince ForwardingXxx classes exist for all standard collection types, you can write yourself similar decorators for other collections as well.\r\n\r\nObviously this will only work if your client code uses the decorated collection. If you change the underlying collection you are screwed (just like the Collections.unmodifiableXXX methods)\r\n\r\n**Reference:**\r\n\r\n - [`ForwardingList`][6]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#remove%28E%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#set%28int%2C%20E%29\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\r\n  [5]: http://guava-libraries.googlecode.com/\r\n  [6]: http://guava-libraries.googlecode.com/svn/tags/release08/javadoc/com/google/common/collect/ForwardingList.html","title":"Any way to set max size of a collection?","body":"<p>You can do this:</p>\n\n<pre><code>List&lt;X&gt; list = Arrays.asList(new X[desiredSize]);\n// where X is any Object type (including arrays and enums,\n// but excluding primitives)\n</code></pre>\n\n<p>The resulting list is modifiable, but not resizable (i.e. <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29\" rel=\"noreferrer\"><code>add(e)</code></a> and <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#remove%28E%29\" rel=\"noreferrer\"><code>remove(e)</code></a> don't work, but <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#set%28int%2C%20E%29\" rel=\"noreferrer\"><code>set(index, e)</code></a> does).</p>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"noreferrer\"><code>Arrays.asList(T ...)</code></a></li>\n</ul>\n\n<hr>\n\n<p>Or: using <a href=\"http://guava-libraries.googlecode.com/\" rel=\"noreferrer\">Guava</a>, here's a static method that decorates an existing List with a maximum size</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; setMaxSize(\n    final List&lt;T&gt; input, final int maxSize){\n\n    return new ForwardingList&lt;T&gt;(){\n\n        @Override\n        public boolean addAll(Collection&lt;? extends T&gt; collection){\n            return standardAddAll(collection);\n        }\n\n        @Override\n        public boolean addAll(int index, Collection&lt;? extends T&gt; elements){\n            return standardAddAll(index, elements);\n        }\n\n        public boolean add(T e) {\n            checkMaxSize();\n            return delegate().add(e);\n        }\n\n        @Override\n        public void add(final int index, final T e){\n            checkMaxSize();\n            delegate().add(index, e);\n        }\n\n        private void checkMaxSize(){\n            if(size() &gt;= maxSize){\n                throw new UnsupportedOperationException(\"Maximum Size \"\n                    + maxSize + \" reached\");\n            }\n        }\n\n        @Override\n        protected List&lt;T&gt; delegate(){\n            return input;\n        }\n    };\n}\n</code></pre>\n\n<p>Since ForwardingXxx classes exist for all standard collection types, you can write yourself similar decorators for other collections as well.</p>\n\n<p>Obviously this will only work if your client code uses the decorated collection. If you change the underlying collection you are screwed (just like the Collections.unmodifiableXXX methods)</p>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://guava-libraries.googlecode.com/svn/tags/release08/javadoc/com/google/common/collect/ForwardingList.html\" rel=\"noreferrer\"><code>ForwardingList</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499940153,"creation_date":1299256208,"answer_id":5196549,"question_id":5196113,"body_markdown":"`ArrayBlockingQueue` and `LinkedBlockingQueue` both support a maximum size. `LinkedHashMap` supports eviction of the oldest or least-recently-used items when reaching a maximum size. \r\n\r\nWhat do you want it to do when the maximum size is reached?","title":"Any way to set max size of a collection?","body":"<p><code>ArrayBlockingQueue</code> and <code>LinkedBlockingQueue</code> both support a maximum size. <code>LinkedHashMap</code> supports eviction of the oldest or least-recently-used items when reaching a maximum size. </p>\n\n<p>What do you want it to do when the maximum size is reached?</p>\n"},{"tags":[],"owner":{"account_id":772416,"reputation":111,"user_id":808081,"display_name":"Wahid"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1318339527,"creation_date":1318339527,"answer_id":7726747,"question_id":5196113,"body_markdown":"**Maybe** I had a comparable case, as I wanted to &quot;resize&quot; a collection of objects, which I retrieved through two steps: \n\n- First step retrieved Collection of N determined items through sql query (ROWNUM did the job).\n\n- Second step validating the result collection to get finally another collection with undetermined size (may be &lt; or = the size of all sql-retrieved elements).\n\nSo in turn to get again a collection of exactly N determined objects from this &quot;CollectionOfValidatedObjects&quot;, I did the following:\n\n&gt;     public Collection&lt;Object&gt; determineSomeElements(int maxSize){    \n&gt; \n&gt; \n&gt;          Collection&lt;Object&gt; returnValues = new ArrayList&lt;Object&gt;();\n&gt; \n&gt;           // the initial collection with all retrieved validated elements\n&gt;          Collection&lt;Object&gt; myValidatedCollection = getValidatedCollection();\n&gt;\n&gt;          Iterator&lt;Object&gt; it = myValidatedCollection.iterator();\n&gt; \n&gt;          \n&gt;          // iterate and add a condition with the passed size\n&gt;          while(it.hasNext() &amp;&amp; returnValues.size() &lt; maxSize) {\n&gt;\n&gt;                returnValues.add(it.next); }    \n&gt;\n&gt;          }\n&gt;  }","title":"Any way to set max size of a collection?","body":"<p><strong>Maybe</strong> I had a comparable case, as I wanted to &quot;resize&quot; a collection of objects, which I retrieved through two steps:</p>\n<ul>\n<li><p>First step retrieved Collection of N determined items through sql query (ROWNUM did the job).</p>\n</li>\n<li><p>Second step validating the result collection to get finally another collection with undetermined size (may be &lt; or = the size of all sql-retrieved elements).</p>\n</li>\n</ul>\n<p>So in turn to get again a collection of exactly N determined objects from this &quot;CollectionOfValidatedObjects&quot;, I did the following:</p>\n<blockquote>\n<pre><code>public Collection&lt;Object&gt; determineSomeElements(int maxSize){    \n\n\n     Collection&lt;Object&gt; returnValues = new ArrayList&lt;Object&gt;();\n\n      // the initial collection with all retrieved validated elements\n     Collection&lt;Object&gt; myValidatedCollection = getValidatedCollection();\n\n     Iterator&lt;Object&gt; it = myValidatedCollection.iterator();\n\n     \n     // iterate and add a condition with the passed size\n     while(it.hasNext() &amp;&amp; returnValues.size() &lt; maxSize) {\n\n           returnValues.add(it.next); }    \n\n     }\n</code></pre>\n<p>}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446074517,"creation_date":1446074517,"answer_id":33403310,"question_id":5196113,"body_markdown":"Super easy to create your own class that extends the Collection. I just did this for my own situation, extending HashSet:\r\n\r\n    import java.util.HashSet;\r\n       \r\n    public class LimitedHashSet&lt;E&gt; extends HashSet&lt;E&gt; {\r\n        private static final long serialVersionUID = -23456691722L;\r\n        private final int limit;\r\n           \r\n        public LimitedHashSet(int limit) {\r\n            this.limit = limit;\r\n        }\r\n           \r\n        @Override\r\n        public boolean add(E object) {\r\n            if (this.size() &gt; limit) return false;\r\n            return super.add(object);\r\n        }\r\n       \r\n    } ","title":"Any way to set max size of a collection?","body":"<p>Super easy to create your own class that extends the Collection. I just did this for my own situation, extending HashSet:</p>\n\n<pre><code>import java.util.HashSet;\n\npublic class LimitedHashSet&lt;E&gt; extends HashSet&lt;E&gt; {\n    private static final long serialVersionUID = -23456691722L;\n    private final int limit;\n\n    public LimitedHashSet(int limit) {\n        this.limit = limit;\n    }\n\n    @Override\n    public boolean add(E object) {\n        if (this.size() &gt; limit) return false;\n        return super.add(object);\n    }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482978724,"creation_date":1482978724,"answer_id":41372378,"question_id":5196113,"body_markdown":"Here is my own code for an ArrayList with a maximum size, build from Matthew Gilliard&#39;s answer. It overrides all three constructors from ArrayList&lt;E&gt;, and also overrides `.AddAll()`.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    \r\n    public class MaxedArrayList&lt;E&gt; extends ArrayList&lt;E&gt; {\r\n        final int MAXSIZE;\r\n    \r\n        public MaxedArrayList(int initialCapacity, final int MAXSIZE) {\r\n            super(initialCapacity);\r\n            this.MAXSIZE = MAXSIZE;\r\n        }\r\n    \r\n        public MaxedArrayList(final int MAXSIZE) {\r\n            super();\r\n            this.MAXSIZE = MAXSIZE;\r\n        }\r\n    \r\n        public MaxedArrayList(Collection&lt;? extends E&gt; c, final int MAXSIZE) {\r\n            super(c);\r\n            this.MAXSIZE = MAXSIZE;\r\n            sizeCheck();\r\n        }\r\n    \r\n        private boolean sizeCheck() {\r\n            //returns true if operation is legal.\r\n            return (size() &lt;= MAXSIZE);\r\n        }\r\n    \r\n        private boolean sizeCheck(int deltaElements) {\r\n            if (deltaElements &lt; 0) throw new IllegalArgumentException();\r\n            //returns true if operation is legal.\r\n            return (size() + deltaElements &lt;= MAXSIZE);\r\n        }\r\n    \r\n        @Override\r\n        public void add(int index, E element) throws IllegalStateException {\r\n            if (!sizeCheck()) throw throwException();\r\n            super.add(index, element);\r\n        }\r\n    \r\n        @Override\r\n        public boolean addAll(Collection&lt;? extends E&gt; c) throws IllegalStateException {\r\n            if (!sizeCheck(c.size())) throw throwException();\r\n            return (super.addAll(c));\r\n        }\r\n    \r\n        private IllegalStateException throwException() {\r\n            return new IllegalStateException(&quot;Request is over MaxArrayList max size. Elements not added.&quot;);\r\n        }\r\n    }","title":"Any way to set max size of a collection?","body":"<p>Here is my own code for an ArrayList with a maximum size, build from Matthew Gilliard's answer. It overrides all three constructors from ArrayList, and also overrides <code>.AddAll()</code>.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\n\npublic class MaxedArrayList&lt;E&gt; extends ArrayList&lt;E&gt; {\n    final int MAXSIZE;\n\n    public MaxedArrayList(int initialCapacity, final int MAXSIZE) {\n        super(initialCapacity);\n        this.MAXSIZE = MAXSIZE;\n    }\n\n    public MaxedArrayList(final int MAXSIZE) {\n        super();\n        this.MAXSIZE = MAXSIZE;\n    }\n\n    public MaxedArrayList(Collection&lt;? extends E&gt; c, final int MAXSIZE) {\n        super(c);\n        this.MAXSIZE = MAXSIZE;\n        sizeCheck();\n    }\n\n    private boolean sizeCheck() {\n        //returns true if operation is legal.\n        return (size() &lt;= MAXSIZE);\n    }\n\n    private boolean sizeCheck(int deltaElements) {\n        if (deltaElements &lt; 0) throw new IllegalArgumentException();\n        //returns true if operation is legal.\n        return (size() + deltaElements &lt;= MAXSIZE);\n    }\n\n    @Override\n    public void add(int index, E element) throws IllegalStateException {\n        if (!sizeCheck()) throw throwException();\n        super.add(index, element);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends E&gt; c) throws IllegalStateException {\n        if (!sizeCheck(c.size())) throw throwException();\n        return (super.addAll(c));\n    }\n\n    private IllegalStateException throwException() {\n        return new IllegalStateException(\"Request is over MaxArrayList max size. Elements not added.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35077,"reputation":28118,"user_id":99256,"accept_rate":89,"display_name":"MartyIX"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499941106,"creation_date":1499941106,"answer_id":45077775,"question_id":5196113,"body_markdown":"If you don&#39;t mind an external library, you can Guava&#39;s [EvictingQueue&lt;E&gt;][1].\r\n\r\n[Example][2] by `srigalamilitan`:\r\n\r\n    Queue&lt;String&gt; evictingQueue= EvictingQueue.create(10);\r\n    String message=&quot;This Is Evicting Queue &quot;;\r\n\r\n    for (int i = 1; i &lt;= 15; i++) {\r\n        evictingQueue.add(message + i);\r\n        System.out.println(&quot;EvictingQueue size: &quot; + evictingQueue.size());\r\n    }\r\n    \r\n    System.out.println(&quot;Poll Queue Evicting&quot;);\r\n    while(!evictingQueue.isEmpty()){\r\n        println(evictingQueue.poll());\r\n    }\r\n\r\nprints:\r\n\r\n    This Is Evicting Queue 6\r\n    This Is Evicting Queue 7\r\n    This Is Evicting Queue 8\r\n    This Is Evicting Queue 9\r\n    This Is Evicting Queue 10\r\n    This Is Evicting Queue 11\r\n    This Is Evicting Queue 12\r\n    This Is Evicting Queue 13\r\n    This Is Evicting Queue 14\r\n    This Is Evicting Queue 15\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/EvictingQueue.html\r\n  [2]: http://putracode.com/example-evictingqueue-google-guava/","title":"Any way to set max size of a collection?","body":"<p>If you don't mind an external library, you can Guava's <a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/EvictingQueue.html\" rel=\"nofollow noreferrer\">EvictingQueue</a>.</p>\n\n<p><a href=\"http://putracode.com/example-evictingqueue-google-guava/\" rel=\"nofollow noreferrer\">Example</a> by <code>srigalamilitan</code>:</p>\n\n<pre><code>Queue&lt;String&gt; evictingQueue= EvictingQueue.create(10);\nString message=\"This Is Evicting Queue \";\n\nfor (int i = 1; i &lt;= 15; i++) {\n    evictingQueue.add(message + i);\n    System.out.println(\"EvictingQueue size: \" + evictingQueue.size());\n}\n\nSystem.out.println(\"Poll Queue Evicting\");\nwhile(!evictingQueue.isEmpty()){\n    println(evictingQueue.poll());\n}\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>This Is Evicting Queue 6\nThis Is Evicting Queue 7\nThis Is Evicting Queue 8\nThis Is Evicting Queue 9\nThis Is Evicting Queue 10\nThis Is Evicting Queue 11\nThis Is Evicting Queue 12\nThis Is Evicting Queue 13\nThis Is Evicting Queue 14\nThis Is Evicting Queue 15\n</code></pre>\n"}],"owner":{"account_id":141485,"reputation":7515,"user_id":739927,"accept_rate":88,"display_name":"Jarek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58417,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":5196214,"answer_count":11,"score":28,"last_activity_date":1678708847,"creation_date":1299254137,"question_id":5196113,"body_markdown":"Is there any way to set a maximum size of a [Collection](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html) in Java?","title":"Any way to set max size of a collection?","body":"<p>Is there any way to set a maximum size of a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\">Collection</a> in Java?</p>\n"},{"tags":["java","sqlite","mybatis","sqlitejdbc"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":2,"creation_date":1618258597,"post_id":67063043,"comment_id":118543590,"body_markdown":"You may need to commit the session by calling `session.commit();` before closing it.","body":"You may need to commit the session by calling <code>session.commit();</code> before closing it."},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1618264701,"post_id":67063043,"comment_id":118545542,"body_markdown":"@ave great! that was it!","body":"@ave great! that was it!"}],"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678708723,"creation_date":1618248738,"question_id":67063043,"body_markdown":"I am trying to create a new database and new table using Mybatis and SQLite. I found from previous answers ([1][1], [2][2], [3][3]) that Mybatis does support using CREATE and ALTER statements, by marking them as &quot;UPDATE&quot; within Mybatis mapper syntax. However, those questions/answers were using Mapper XML whereas I&#39;m using annotations, and also none were using SQLite.\r\n\r\nSQLite creates a new database as soon as you open a new connection to it, so it doesn&#39;t matter if the DB exists before or not. A new database is created with a size of zero bytes, which is fine (SQLite treats a 0 byte file as an empty database). But after the table creation I would expect the database size to be non-zero as it stores the table structure for that table. After running my code which I think should create the table (I&#39;m checking my syntax against [this answer][4]), the database size still reads as 0 bytes, which says to me that the table has not actually been created. What am I doing wrong?\r\n\r\nMy Java code to test this scenario:\r\n\r\n```java\r\npublic class Example {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString userHomePath = System.getProperty(&quot;user.home&quot;);\r\n\t\tFile exampleDb = new File(userHomePath, &quot;example.sqlite3&quot;);\r\n\t\tString jdbcConnectionString = &quot;jdbc:sqlite:&quot; + exampleDb.getAbsolutePath();\r\n\t\tDataSource dataSource = new PooledDataSource(&quot;org.sqlite.JDBC&quot;, jdbcConnectionString, null, null);\r\n\t\tEnvironment environment = new Environment(&quot;Main&quot;, new JdbcTransactionFactory(), dataSource);\r\n\t\tConfiguration configuration = new Configuration(environment);\r\n\t\tconfiguration.addMapper(GenericMapper.class);\r\n\t\tSqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();\r\n\t\tSqlSessionFactory sessionFactory = builder.build(configuration);\r\n\t\ttry (SqlSession session = sessionFactory.openSession()) {\r\n\t\t\tGenericMapper genericMapper = session.getMapper(GenericMapper.class);\r\n\t\t\tgenericMapper.createExampleTableIfMissing();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy mapper:\r\n\r\n```java\r\npublic interface GenericMapper {\r\n\t@Update(&quot;CREATE TABLE IF NOT EXISTS extbl (id INTEGER PRIMARY KEY AUTOINCREMENT)&quot;)\r\n\tvoid createExampleTableIfMissing();\r\n}\r\n```\r\n\r\nChecking the file after this code has run:\r\n\r\n```none\r\nC:\\Users\\me&gt;dir example.sqlite3\r\n Volume in drive C is Windows\r\n Volume Serial Number is D4DE-B46A\r\n\r\n Directory of C:\\Users\\me\r\n\r\n12/04/2021  18:14                 0 example.sqlite3\r\n               1 File(s)              0 bytes\r\n               0 Dir(s)  27,326,779,392 bytes free\r\n\r\nC:\\Users\\me&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/46355690/is-it-possible-to-use-mybatis-to-issue-ddl\r\n  [2]: https://stackoverflow.com/questions/18786560/does-mybatis-support-ddl/18849402#18849402\r\n  [3]: https://stackoverflow.com/questions/32270897/creating-a-table-programmatically-using-mybatis-and-mysql\r\n  [4]: https://stackoverflow.com/a/4098026/191761","title":"How can I create a table using Mybatis and SQLite?","body":"<p>I am trying to create a new database and new table using Mybatis and SQLite. I found from previous answers (<a href=\"https://stackoverflow.com/questions/46355690/is-it-possible-to-use-mybatis-to-issue-ddl\">1</a>, <a href=\"https://stackoverflow.com/questions/18786560/does-mybatis-support-ddl/18849402#18849402\">2</a>, <a href=\"https://stackoverflow.com/questions/32270897/creating-a-table-programmatically-using-mybatis-and-mysql\">3</a>) that Mybatis does support using CREATE and ALTER statements, by marking them as &quot;UPDATE&quot; within Mybatis mapper syntax. However, those questions/answers were using Mapper XML whereas I'm using annotations, and also none were using SQLite.</p>\n<p>SQLite creates a new database as soon as you open a new connection to it, so it doesn't matter if the DB exists before or not. A new database is created with a size of zero bytes, which is fine (SQLite treats a 0 byte file as an empty database). But after the table creation I would expect the database size to be non-zero as it stores the table structure for that table. After running my code which I think should create the table (I'm checking my syntax against <a href=\"https://stackoverflow.com/a/4098026/191761\">this answer</a>), the database size still reads as 0 bytes, which says to me that the table has not actually been created. What am I doing wrong?</p>\n<p>My Java code to test this scenario:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    public static void main(String[] args) {\n        String userHomePath = System.getProperty(&quot;user.home&quot;);\n        File exampleDb = new File(userHomePath, &quot;example.sqlite3&quot;);\n        String jdbcConnectionString = &quot;jdbc:sqlite:&quot; + exampleDb.getAbsolutePath();\n        DataSource dataSource = new PooledDataSource(&quot;org.sqlite.JDBC&quot;, jdbcConnectionString, null, null);\n        Environment environment = new Environment(&quot;Main&quot;, new JdbcTransactionFactory(), dataSource);\n        Configuration configuration = new Configuration(environment);\n        configuration.addMapper(GenericMapper.class);\n        SqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();\n        SqlSessionFactory sessionFactory = builder.build(configuration);\n        try (SqlSession session = sessionFactory.openSession()) {\n            GenericMapper genericMapper = session.getMapper(GenericMapper.class);\n            genericMapper.createExampleTableIfMissing();\n        }\n    }\n\n}\n</code></pre>\n<p>My mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface GenericMapper {\n    @Update(&quot;CREATE TABLE IF NOT EXISTS extbl (id INTEGER PRIMARY KEY AUTOINCREMENT)&quot;)\n    void createExampleTableIfMissing();\n}\n</code></pre>\n<p>Checking the file after this code has run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\me&gt;dir example.sqlite3\n Volume in drive C is Windows\n Volume Serial Number is D4DE-B46A\n\n Directory of C:\\Users\\me\n\n12/04/2021  18:14                 0 example.sqlite3\n               1 File(s)              0 bytes\n               0 Dir(s)  27,326,779,392 bytes free\n\nC:\\Users\\me&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":10908524,"reputation":108,"user_id":8018614,"display_name":"Badhusha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678708716,"creation_date":1678708716,"question_id":75721576,"body_markdown":"I have 2 entities with OneToMany and ManyToOne association as shown below.\r\nAnd I do have separate DTOs for both entities and used ModelMapper to map those dtos to entities and vice-versa.\r\n\r\n**Employee.java**\r\n\r\n     pubic class Employee{\r\n\r\n      @Id\r\n      private String Id;\r\n\r\n      @OneToMany(mappedBy=&quot;employee&quot;,cascade = CascadeType.ALL,orphanRemoval = true,)\r\n      private List&lt;Phone&gt; phones;\r\n\r\n     }\r\n\r\n\r\n**Phone.java**\r\n\r\n    pubic class Phone {\r\n\r\n     @Id\r\n     private String Id;\r\n\r\n     @ManyToOne\r\n     @JoinColumn(name=&quot;employee&quot;)\r\n     private Employee employee; \r\n\r\n    }\r\n\r\n\r\n**EmployeeService.java**\r\n\r\n    public class EmployeeService {\r\n\r\n     @Autowired\r\n     private ModelMapper modelMapper;\r\n\r\n     @Autowired\r\n     private EmployeeRepo emprepo;\r\n\r\n     public void addEmployee(EmployeeDto employeedto){\r\n      Employee emp = modelMapper.map(employeedto,Employee.class);\r\n      emprepo.save(emp);\r\n      \r\n     }\r\n\r\n    }\r\n\r\nThe invocation of **addEmployee** is saving the employee details in the Employee Table correct, but the Phone Table is having null value for all the fields except the primarykey column. \r\n\r\nPlease correct me what I am doing wrong.","title":"Spring Data JPA : OneToMany association saves null values","body":"<p>I have 2 entities with OneToMany and ManyToOne association as shown below.\nAnd I do have separate DTOs for both entities and used ModelMapper to map those dtos to entities and vice-versa.</p>\n<p><strong>Employee.java</strong></p>\n<pre><code> pubic class Employee{\n\n  @Id\n  private String Id;\n\n  @OneToMany(mappedBy=&quot;employee&quot;,cascade = CascadeType.ALL,orphanRemoval = true,)\n  private List&lt;Phone&gt; phones;\n\n }\n</code></pre>\n<p><strong>Phone.java</strong></p>\n<pre><code>pubic class Phone {\n\n @Id\n private String Id;\n\n @ManyToOne\n @JoinColumn(name=&quot;employee&quot;)\n private Employee employee; \n\n}\n</code></pre>\n<p><strong>EmployeeService.java</strong></p>\n<pre><code>public class EmployeeService {\n\n @Autowired\n private ModelMapper modelMapper;\n\n @Autowired\n private EmployeeRepo emprepo;\n\n public void addEmployee(EmployeeDto employeedto){\n  Employee emp = modelMapper.map(employeedto,Employee.class);\n  emprepo.save(emp);\n  \n }\n\n}\n</code></pre>\n<p>The invocation of <strong>addEmployee</strong> is saving the employee details in the Employee Table correct, but the Phone Table is having null value for all the fields except the primarykey column.</p>\n<p>Please correct me what I am doing wrong.</p>\n"},{"tags":["java","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"score":0,"creation_date":1615188572,"post_id":66525085,"comment_id":117603962,"body_markdown":"Do you need to remove /myapp/ path?","body":"Do you need to remove /myapp/ path?"},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1615188684,"post_id":66525085,"comment_id":117604009,"body_markdown":"no, /myapp is my base url/ context path it should be there, but I need /rest URL for all rest request in common.","body":"no, /myapp is my base url/ context path it should be there, but I need /rest URL for all rest request in common."}],"answers":[{"tags":[],"owner":{"account_id":9628035,"reputation":830,"user_id":7147006,"accept_rate":100,"display_name":"KevKosDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615237239,"creation_date":1615237239,"answer_id":66537132,"question_id":66525085,"body_markdown":"Try to annotate your resource classes with `@Path(&quot;/&quot;)` and set `quarkus.resteasy.path=/rest`.\r\nThis should result in your described behaviour.\r\n\r\n`quarkus.rest.path` can be removed.","title":"How to set base url and common rest URL from property file in Quarkus?","body":"<p>Try to annotate your resource classes with <code>@Path(&quot;/&quot;)</code> and set <code>quarkus.resteasy.path=/rest</code>.\nThis should result in your described behaviour.</p>\n<p><code>quarkus.rest.path</code> can be removed.</p>\n"},{"tags":[],"owner":{"account_id":19383629,"reputation":118,"user_id":14174293,"display_name":"jwwallin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678708484,"creation_date":1678708484,"answer_id":75721542,"question_id":66525085,"body_markdown":"This question is very old, but in case someone stumbles on this, according to [this post on the Quarkus blog](https://quarkus.io/blog/path-resolution-in-quarkus/) the following should produce the required result:\r\n```properties\r\nquarkus.resteasy.path=rest/*\r\nquarkus.http.root-path=/myapp\r\n```","title":"How to set base url and common rest URL from property file in Quarkus?","body":"<p>This question is very old, but in case someone stumbles on this, according to <a href=\"https://quarkus.io/blog/path-resolution-in-quarkus/\" rel=\"nofollow noreferrer\">this post on the Quarkus blog</a> the following should produce the required result:</p>\n<pre><code>quarkus.resteasy.path=rest/*\nquarkus.http.root-path=/myapp\n</code></pre>\n"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678708484,"creation_date":1615183988,"question_id":66525085,"body_markdown":"I am working on Quarkus application and what I want to do is to set the global path from application.properties file for all rest rest, my application is working but while calling rest request it is giving not found 404.\r\n\r\n    @ApplicationScoped\r\n    public class ABC {\r\n          @POST\r\n\t      @javax.ws.rs.Path(&quot;/callit&quot;)\r\n\t      public Uni&lt;Response&gt; deleteNoti()\r\n\t\t  {\r\n               //whatever logic\r\n           }\r\n    }\r\n\r\n     @ApplicationScoped\r\n    public class PAR {\r\n          @POST\r\n\t      @javax.ws.rs.Path(&quot;/callitPar&quot;)\r\n\t      public Uni&lt;Response&gt; addNoti()\r\n\t\t  {\r\n               //whatever logic\r\n           }\r\n    }\r\n\r\n\r\nAnd in application.properties file I am configuring below properties:\r\n\r\n    quarkus.resteasy.path=/rest/*\r\n    quarkus.rest.path=/rest/*\r\n    quarkus.http.root-path=/myapp\r\n\r\nbut when I am calling rest request from front-end it is not working, my rest request should be as below:\r\n\r\n    http://localhost:8080/myapp/rest/callit\r\n    http://localhost:8080/myapp/rest/callitPar\r\n\r\nWhat I want is every rest request should start with &quot;/rest/*&quot; and my application base URL should be &quot;/myapp&quot;, Let me know how can we achieve it?\r\n\r\n","title":"How to set base url and common rest URL from property file in Quarkus?","body":"<p>I am working on Quarkus application and what I want to do is to set the global path from application.properties file for all rest rest, my application is working but while calling rest request it is giving not found 404.</p>\n<pre><code>@ApplicationScoped\npublic class ABC {\n      @POST\n      @javax.ws.rs.Path(&quot;/callit&quot;)\n      public Uni&lt;Response&gt; deleteNoti()\n      {\n           //whatever logic\n       }\n}\n\n @ApplicationScoped\npublic class PAR {\n      @POST\n      @javax.ws.rs.Path(&quot;/callitPar&quot;)\n      public Uni&lt;Response&gt; addNoti()\n      {\n           //whatever logic\n       }\n}\n</code></pre>\n<p>And in application.properties file I am configuring below properties:</p>\n<pre><code>quarkus.resteasy.path=/rest/*\nquarkus.rest.path=/rest/*\nquarkus.http.root-path=/myapp\n</code></pre>\n<p>but when I am calling rest request from front-end it is not working, my rest request should be as below:</p>\n<pre><code>http://localhost:8080/myapp/rest/callit\nhttp://localhost:8080/myapp/rest/callitPar\n</code></pre>\n<p>What I want is every rest request should start with &quot;/rest/*&quot; and my application base URL should be &quot;/myapp&quot;, Let me know how can we achieve it?</p>\n"},{"tags":["java","intellij-idea","keyboard-shortcuts"],"answers":[{"tags":[],"owner":{"account_id":309230,"reputation":1914,"user_id":621567,"accept_rate":85,"display_name":"Theresa Forster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462701231,"creation_date":1462697189,"answer_id":37097952,"question_id":37097919,"body_markdown":"Not to my knowledge, \r\n\r\nWhy would you just want to see the code in a popup? The signature yes, if you hover over the method it will show you the parameter types but if you are looking at body code then Ctrl-Click to jump to the code. Then you can CTRL-ALT Left Arrow to return to the original location\r\n","title":"showing in popup window method implementation in intellij","body":"<p>Not to my knowledge, </p>\n\n<p>Why would you just want to see the code in a popup? The signature yes, if you hover over the method it will show you the parameter types but if you are looking at body code then Ctrl-Click to jump to the code. Then you can CTRL-ALT Left Arrow to return to the original location</p>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1678708293,"creation_date":1462697339,"answer_id":37097969,"question_id":37097919,"body_markdown":"The feature is called **Quick Definition Lookup** (*Main menu* &gt; *View* &gt; *Tool Windows* in the keymap settings). The default combination is &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;I&lt;/kbd&gt; (or &lt;kbd&gt;&lt;/kbd&gt;+&lt;kbd&gt;Y&lt;/kbd&gt; for Mac).\r\n\r\n[![Preferences -&gt; Keymap window][1]][1]\r\n\r\nIt appears like\r\n\r\n[![Preview of the popup][2]][2]\r\n\r\nAny editing actions in the popup window lead to jumping into the file where the code is defined.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u031E.png\r\n  [2]: https://i.stack.imgur.com/ahU57.png","title":"showing in popup window method implementation in intellij","body":"<p>The feature is called <strong>Quick Definition Lookup</strong> (<em>Main menu</em> &gt; <em>View</em> &gt; <em>Tool Windows</em> in the keymap settings). The default combination is <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>I</kbd> (or <kbd></kbd>+<kbd>Y</kbd> for Mac).</p>\n<p><a href=\"https://i.stack.imgur.com/u031E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u031E.png\" alt=\"Preferences -&gt; Keymap window\" /></a></p>\n<p>It appears like</p>\n<p><a href=\"https://i.stack.imgur.com/ahU57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ahU57.png\" alt=\"Preview of the popup\" /></a></p>\n<p>Any editing actions in the popup window lead to jumping into the file where the code is defined.</p>\n"}],"owner":{"account_id":4107477,"reputation":2096,"user_id":5411628,"accept_rate":33,"display_name":"nadavgam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4513,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":37097969,"answer_count":2,"score":19,"last_activity_date":1678708293,"creation_date":1462696982,"question_id":37097919,"body_markdown":"I&#39;m using **Intellij 2016.1** and I was wondering if there&#39;s a shortcut to see the method body in a popup window , instead of **jumping** to source code like &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Left Mouse Button&lt;/kbd&gt; does .\r\n","title":"showing in popup window method implementation in intellij","body":"<p>I'm using <strong>Intellij 2016.1</strong> and I was wondering if there's a shortcut to see the method body in a popup window , instead of <strong>jumping</strong> to source code like <kbd>Ctrl</kbd> + <kbd>Left Mouse Button</kbd> does .</p>\n"},{"tags":["java","slf4j"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1678708709,"post_id":75721499,"comment_id":133580006,"body_markdown":"The `com.sun` prefix and the `.internal.` package name fragement strongly suggest that this is an internally shaded copy of slf4j that is used somewhere for internal purposes. If your IDE keeps suggesting it, I suggest you put the whole `com.sun.org.slf4j` subtree as an exclusion from suggestions. You probably don&#39;t find any documentation for it because it&#39;s not meant to be used by anyone other than the piece of software that produced it.","body":"The <code>com.sun</code> prefix and the <code>.internal.</code> package name fragement strongly suggest that this is an internally shaded copy of slf4j that is used somewhere for internal purposes. If your IDE keeps suggesting it, I suggest you put the whole <code>com.sun.org.slf4j</code> subtree as an exclusion from suggestions. You probably don&#39;t find any documentation for it because it&#39;s not meant to be used by anyone other than the piece of software that produced it."}],"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678708211,"creation_date":1678708211,"question_id":75721499,"body_markdown":"Making some tries with slf4j, my IDE automatically imports com.sun.org.slf4j.internal.Logger, but in the only documentation I am able to find in the Internet is about org.slf4j.Logger.\r\nAll the tries I have done work with org.slf4j.Logger, so I am asking what is the difference between the 2 and what should be the correct one to use.\r\nThanks","title":"what is the differenct between org.slf4j.Logger and com.sun.org.slf4j.internal.Logger?","body":"<p>Making some tries with slf4j, my IDE automatically imports com.sun.org.slf4j.internal.Logger, but in the only documentation I am able to find in the Internet is about org.slf4j.Logger.\nAll the tries I have done work with org.slf4j.Logger, so I am asking what is the difference between the 2 and what should be the correct one to use.\nThanks</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":2993263,"reputation":4536,"user_id":2540376,"display_name":"Milo S"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1651220622,"creation_date":1467411819,"answer_id":38154541,"question_id":37865871,"body_markdown":"This spec does what you want\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;employees&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;f_name&quot;: &quot;employees[&amp;1].firstName&quot;,\r\n          &quot;l_name&quot;: &quot;employees[&amp;1].lastName&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nThe key thing is you need to use a **`&quot;*&quot;`** to loop thru all the elements of the **`employees`** array, then when you recurse / match down to **`f_name`** and **`l_name`**, you need to reference the index array using **`[&amp;1]`**, which means look up the tree two levels, zero then one, and use that as an index array in the output.\r\n\r\n","title":"How do I transform an array using Jolt?","body":"<p>This spec does what you want</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;employees&quot;: {\n        &quot;*&quot;: {\n          &quot;f_name&quot;: &quot;employees[&amp;1].firstName&quot;,\n          &quot;l_name&quot;: &quot;employees[&amp;1].lastName&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>The key thing is you need to use a <strong><code>&quot;*&quot;</code></strong> to loop thru all the elements of the <strong><code>employees</code></strong> array, then when you recurse / match down to <strong><code>f_name</code></strong> and <strong><code>l_name</code></strong>, you need to reference the index array using <strong><code>[&amp;1]</code></strong>, which means look up the tree two levels, zero then one, and use that as an index array in the output.</p>\n"},{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678708141,"creation_date":1678708141,"answer_id":75721485,"question_id":37865871,"body_markdown":"One option would be generating new keys by copying the existing ones through use of a **modify** transformation, and the get rid of the originals by using **remove** transformation spec such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;employees&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;firstName&quot;: &quot;@1,f_name&quot;,\r\n          &quot;lastName&quot;: &quot;@1,l_name&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;remove&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*_name&quot;: &quot;&quot; // common key identifier\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is \r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sOBMi.jpg","title":"How do I transform an array using Jolt?","body":"<p>One option would be generating new keys by copying the existing ones through use of a <strong>modify</strong> transformation, and the get rid of the originals by using <strong>remove</strong> transformation spec such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;employees&quot;: {\n        &quot;*&quot;: {\n          &quot;firstName&quot;: &quot;@1,f_name&quot;,\n          &quot;lastName&quot;: &quot;@1,l_name&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*_name&quot;: &quot;&quot; // common key identifier\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/sOBMi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sOBMi.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":356150,"reputation":1634,"user_id":695486,"accept_rate":66,"display_name":"wxkevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18765,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":38154541,"answer_count":2,"score":12,"last_activity_date":1678708141,"creation_date":1466098503,"question_id":37865871,"body_markdown":"I am getting a null value for my transformed object when trying to convert something like this:\r\n```json\r\n{   \r\n  &quot;employees&quot;: [\r\n    { &quot;f_name&quot; : &quot;tom&quot;, &quot;l_name&quot; : &quot;smith&quot; },\r\n    { &quot;f_name&quot; : &quot;don&quot;, &quot;l_name&quot; : &quot;jones&quot; }\r\n  ]\r\n}\r\n```\r\nto this:\r\n```json\r\n{\r\n  &quot;employees&quot;: [\r\n    { &quot;firstName&quot; : &quot;tom&quot;, &quot;lastName&quot; : &quot;smith&quot; },\r\n    { &quot;firstName&quot; : &quot;don&quot;, &quot;lastName&quot; : &quot;jones&quot; }\r\n  ]\r\n}\r\n```\r\n   \r\nThis is the spec I am using:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot; : &quot;shift&quot;,\r\n    &quot;spec&quot; : {\r\n      &quot;employees&quot; : {\r\n        &quot;f_name&quot; : &quot;firstName&quot;,\r\n        &quot;l_name&quot; : &quot;lastName&quot;\r\n      }\r\n   }\r\n ]\r\n```\r\nThis is the code I am using:\r\n\r\n    List&lt;Object&gt; chainrSpecJSON = JsonUtils.classpathToList(&quot;path/spec.json&quot;);\r\n    Chainr chainr = Chainr.fromSpec(chainrSpecJSON);\r\n    Object inputJSON = JsonUtils.classpathToObject(&quot;path/input.json&quot;);\r\n\r\n    Object transformed = chainr.transform(inputJSON);\r\n    System.out.println(transformed);\r\n\r\n  \r\nI was able to successfully transform the following input with the same spec and code as above:\r\n```json\r\n{   \r\n  &quot;employees&quot;: \r\n    { &quot;firstName&quot; : &quot;tom&quot;, &quot;lastName&quot; : &quot;smith&quot; }\r\n}\r\n```\r\nSo what do I need to do to transform an array of employee objects?\r\n\r\n\r\n","title":"How do I transform an array using Jolt?","body":"<p>I am getting a null value for my transformed object when trying to convert something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{   \n  &quot;employees&quot;: [\n    { &quot;f_name&quot; : &quot;tom&quot;, &quot;l_name&quot; : &quot;smith&quot; },\n    { &quot;f_name&quot; : &quot;don&quot;, &quot;l_name&quot; : &quot;jones&quot; }\n  ]\n}\n</code></pre>\n<p>to this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;employees&quot;: [\n    { &quot;firstName&quot; : &quot;tom&quot;, &quot;lastName&quot; : &quot;smith&quot; },\n    { &quot;firstName&quot; : &quot;don&quot;, &quot;lastName&quot; : &quot;jones&quot; }\n  ]\n}\n</code></pre>\n<p>This is the spec I am using:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot; : &quot;shift&quot;,\n    &quot;spec&quot; : {\n      &quot;employees&quot; : {\n        &quot;f_name&quot; : &quot;firstName&quot;,\n        &quot;l_name&quot; : &quot;lastName&quot;\n      }\n   }\n ]\n</code></pre>\n<p>This is the code I am using:</p>\n<pre><code>List&lt;Object&gt; chainrSpecJSON = JsonUtils.classpathToList(&quot;path/spec.json&quot;);\nChainr chainr = Chainr.fromSpec(chainrSpecJSON);\nObject inputJSON = JsonUtils.classpathToObject(&quot;path/input.json&quot;);\n\nObject transformed = chainr.transform(inputJSON);\nSystem.out.println(transformed);\n</code></pre>\n<p>I was able to successfully transform the following input with the same spec and code as above:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{   \n  &quot;employees&quot;: \n    { &quot;firstName&quot; : &quot;tom&quot;, &quot;lastName&quot; : &quot;smith&quot; }\n}\n</code></pre>\n<p>So what do I need to do to transform an array of employee objects?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1626060,"reputation":852,"user_id":1501605,"accept_rate":100,"display_name":"Halacs"},"score":2,"creation_date":1678637346,"post_id":75714424,"comment_id":133568105,"body_markdown":"Are you sure you have only one instance of WelcomeController ? BTW, stage should be private as well instead of public and if you need to reach it outside of your WelcomeController class then create a proper method.","body":"Are you sure you have only one instance of WelcomeController ? BTW, stage should be private as well instead of public and if you need to reach it outside of your WelcomeController class then create a proper method."},{"owner":{"account_id":13631121,"reputation":9,"user_id":9833168,"display_name":"Yusuf"},"score":0,"creation_date":1678637612,"post_id":75714424,"comment_id":133568163,"body_markdown":"Oh, the stage property was initally private - i had no intention of making it public from the start, but i think it is part of what i had changed unknowingly while trying to figure out the cause of the NullPointerException","body":"Oh, the stage property was initally private - i had no intention of making it public from the start, but i think it is part of what i had changed unknowingly while trying to figure out the cause of the NullPointerException"},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1678637830,"post_id":75714424,"comment_id":133568196,"body_markdown":"If your code throws a `NullPointerException`, you should take a close look at the message. Since Java 14 Oracle enhanced the NPE to show more detailed information about the cause. If this does not help, you should definitely add the NPE to your question.","body":"If your code throws a <code>NullPointerException</code>, you should take a close look at the message. Since Java 14 Oracle enhanced the NPE to show more detailed information about the cause. If this does not help, you should definitely add the NPE to your question."},{"owner":{"account_id":13631121,"reputation":9,"user_id":9833168,"display_name":"Yusuf"},"score":0,"creation_date":1678637845,"post_id":75714424,"comment_id":133568200,"body_markdown":"Also, i was able to call the two switch methods without issues, but the quit_frame() would throw the NullPointerException","body":"Also, i was able to call the two switch methods without issues, but the quit_frame() would throw the NullPointerException"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1678638229,"post_id":75714424,"comment_id":133568259,"body_markdown":"Please create and post a [mre]. Since you have multiple FXML files, you would need to post all the FXML files as well as all the controllers: so please make the smallest example that shows the problem before posting it here.","body":"Please create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Since you have multiple FXML files, you would need to post all the FXML files as well as all the controllers: so please make the smallest example that shows the problem before posting it here."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1678638384,"post_id":75714424,"comment_id":133568283,"body_markdown":"That said, what is wrong with injecting the root node from the FXML, and then just doing `root.getScene().getWindow().hide()`?","body":"That said, what is wrong with injecting the root node from the FXML, and then just doing <code>root.getScene().getWindow().hide()</code>?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1678639285,"post_id":75714424,"comment_id":133568417,"body_markdown":"when writing the [mcve] please fix the java naming violations (no underscores)","body":"when writing the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please fix the java naming violations (no underscores)"},{"owner":{"account_id":13631121,"reputation":9,"user_id":9833168,"display_name":"Yusuf"},"score":0,"creation_date":1678640718,"post_id":75714424,"comment_id":133568682,"body_markdown":"my question has been updated to include a minimal reproducible example - which include just 4 files - the main, controller and the 2 fxml views","body":"my question has been updated to include a minimal reproducible example - which include just 4 files - the main, controller and the 2 fxml views"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1678641102,"post_id":75714424,"comment_id":133568757,"body_markdown":"good - but you forgot to fix the naming violation","body":"good - but you forgot to fix the naming violation"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678708054,"creation_date":1678642091,"answer_id":75715019,"question_id":75714424,"body_markdown":"The instance variable `stage` is only initialized in each controller when you call either `switchToWelcome` or `switchToRegister`. But in both cases, you then immediately replace the current view with one loaded from an FXML file, which will create a new controller. The `stage` variable will not have been initialized in that new controller instance. Consequently, any time `quitApp()` is invoked, `stage` is null on the instance on which it is invoked.\r\n\r\nIt is a bad idea to use the same controller class for controllers created for different FXML files, because it leads directly to the kind of confusion that is causing this error. Each FXML file should have its own controller class.\r\n\r\nTo get a reference to the current window, it&#39;s much cleaner to just get it from a node displayed in that window, which can be injected into the controller in the usual way. \r\n\r\nSo for example you can do\r\n\r\n    @FXML\r\n    private Parent root ;\r\n\r\nand then\r\n\r\n    @FXML\r\n    private void quitApp() {\r\n        root.getScene().getWindow().hide();\r\n    }\r\n\r\nwhich will close the current window. If you literally want to close the entire application (not just close the current window, which may or may not exit the application), you can of course do `Platform.exit()` instead.\r\n\r\nHere is a version of your application using this approach.\r\n\r\nNote the addition of the `fx:id` to the root elements of the FMXL.\r\n\r\nWelcomeView.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;AnchorPane fx:id=&quot;root&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;309.0&quot; prefWidth=&quot;543.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField fx:id=&quot;txtEmail&quot; layoutX=&quot;241.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;TextField fx:id=&quot;txtPword&quot; layoutX=&quot;241.0&quot; layoutY=&quot;192.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnLogin&quot; layoutX=&quot;426.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\r\n          &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;182.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;23.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Button fx:id=&quot;btnRegister&quot; layoutX=&quot;138.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToRegister&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnQuit&quot; layoutX=&quot;45.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quitApp&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nWelcomeController.java:\r\n\r\n    package com.ajaxict.edhub;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.stage.Stage;\r\n    import java.io.IOException;\r\n    \r\n    public class WelcomeController {\r\n    \r\n        @FXML\r\n        private Parent root;\r\n    \r\n    \r\n        public void switchToWelcome() throws IOException {\r\n            Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\r\n            this.root.getScene().setRoot(newRoot);\r\n        }\r\n    \r\n        public void switchToRegister() throws IOException {\r\n            Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;registerView.fxml&quot;));\r\n            this.root.getScene().setRoot(newRoot);\r\n        }\r\n    \r\n    \r\n        public void quitApp() {\r\n            this.root.getScene().getWindow().hide();\r\n        }\r\n    \r\n    }\r\n\r\n(I don&#39;t really understand why your &quot;Welcome&quot; screen has &quot;switch to welcome&quot; functionality, but I left it in.)\r\n\r\nregisterView.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.ComboBox?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.PasswordField?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;AnchorPane fx:id=&quot;root&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;487.0&quot; prefWidth=&quot;564.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.RegisterController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField fx:id=&quot;txtEmail&quot; layoutX=&quot;248.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnLogin&quot; layoutX=&quot;142.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToWelcome&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\r\n          &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Lastname&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Label layoutX=&quot;50.0&quot; layoutY=&quot;338.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;33.0&quot; layoutY=&quot;19.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Button fx:id=&quot;btnRegister&quot; layoutX=&quot;433.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnQuit&quot; layoutX=&quot;50.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quitApp&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\r\n          &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;292.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Gender&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;ComboBox layoutX=&quot;247.0&quot; layoutY=&quot;297.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;TextField fx:id=&quot;txtEmail1&quot; layoutX=&quot;248.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;TextField fx:id=&quot;txtEmail2&quot; layoutX=&quot;251.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;55.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Firstname&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;PasswordField layoutX=&quot;245.0&quot; layoutY=&quot;343.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nRegisterController.java:\r\n\r\n    package com.ajaxict.edhub;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.stage.Stage;\r\n    import java.io.IOException;\r\n    \r\n    public class RegisterController {\r\n    \r\n        @FXML\r\n        private Parent root;\r\n    \r\n    \r\n        public void switchToWelcome() throws IOException {\r\n            Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\r\n            this.root.getScene().setRoot(newRoot);\r\n        }\r\n    \r\n        \r\n    \r\n    \r\n        public void quitApp () {\r\n            this.root.getScene().getWindow().hide();\r\n        }\r\n    \r\n    }\r\n\r\nYou can obviously remove the duplicated code in the controllers by using delegation or inheritance.","title":"Unexpected NullPointerException()","body":"<p>The instance variable <code>stage</code> is only initialized in each controller when you call either <code>switchToWelcome</code> or <code>switchToRegister</code>. But in both cases, you then immediately replace the current view with one loaded from an FXML file, which will create a new controller. The <code>stage</code> variable will not have been initialized in that new controller instance. Consequently, any time <code>quitApp()</code> is invoked, <code>stage</code> is null on the instance on which it is invoked.</p>\n<p>It is a bad idea to use the same controller class for controllers created for different FXML files, because it leads directly to the kind of confusion that is causing this error. Each FXML file should have its own controller class.</p>\n<p>To get a reference to the current window, it's much cleaner to just get it from a node displayed in that window, which can be injected into the controller in the usual way.</p>\n<p>So for example you can do</p>\n<pre><code>@FXML\nprivate Parent root ;\n</code></pre>\n<p>and then</p>\n<pre><code>@FXML\nprivate void quitApp() {\n    root.getScene().getWindow().hide();\n}\n</code></pre>\n<p>which will close the current window. If you literally want to close the entire application (not just close the current window, which may or may not exit the application), you can of course do <code>Platform.exit()</code> instead.</p>\n<p>Here is a version of your application using this approach.</p>\n<p>Note the addition of the <code>fx:id</code> to the root elements of the FMXL.</p>\n<p>WelcomeView.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane fx:id=&quot;root&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;309.0&quot; prefWidth=&quot;543.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;txtEmail&quot; layoutX=&quot;241.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;txtPword&quot; layoutX=&quot;241.0&quot; layoutY=&quot;192.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Button fx:id=&quot;btnLogin&quot; layoutX=&quot;426.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;182.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;23.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;btnRegister&quot; layoutX=&quot;138.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToRegister&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\n      &lt;Button fx:id=&quot;btnQuit&quot; layoutX=&quot;45.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quitApp&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>WelcomeController.java:</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class WelcomeController {\n\n    @FXML\n    private Parent root;\n\n\n    public void switchToWelcome() throws IOException {\n        Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\n        this.root.getScene().setRoot(newRoot);\n    }\n\n    public void switchToRegister() throws IOException {\n        Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;registerView.fxml&quot;));\n        this.root.getScene().setRoot(newRoot);\n    }\n\n\n    public void quitApp() {\n        this.root.getScene().getWindow().hide();\n    }\n\n}\n</code></pre>\n<p>(I don't really understand why your &quot;Welcome&quot; screen has &quot;switch to welcome&quot; functionality, but I left it in.)</p>\n<p>registerView.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane fx:id=&quot;root&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;487.0&quot; prefWidth=&quot;564.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.RegisterController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;txtEmail&quot; layoutX=&quot;248.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Button fx:id=&quot;btnLogin&quot; layoutX=&quot;142.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToWelcome&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Lastname&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;50.0&quot; layoutY=&quot;338.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;33.0&quot; layoutY=&quot;19.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;btnRegister&quot; layoutX=&quot;433.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\n      &lt;Button fx:id=&quot;btnQuit&quot; layoutX=&quot;50.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quitApp&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;292.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Gender&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;ComboBox layoutX=&quot;247.0&quot; layoutY=&quot;297.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;txtEmail1&quot; layoutX=&quot;248.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;TextField fx:id=&quot;txtEmail2&quot; layoutX=&quot;251.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Label layoutX=&quot;55.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Firstname&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;PasswordField layoutX=&quot;245.0&quot; layoutY=&quot;343.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>RegisterController.java:</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class RegisterController {\n\n    @FXML\n    private Parent root;\n\n\n    public void switchToWelcome() throws IOException {\n        Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\n        this.root.getScene().setRoot(newRoot);\n    }\n\n    \n\n\n    public void quitApp () {\n        this.root.getScene().getWindow().hide();\n    }\n\n}\n</code></pre>\n<p>You can obviously remove the duplicated code in the controllers by using delegation or inheritance.</p>\n"}],"owner":{"account_id":13631121,"reputation":9,"user_id":9833168,"display_name":"Yusuf"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678708054,"creation_date":1678637049,"question_id":75714424,"body_markdown":"just getting familiar with java - i am confused a bit here, i had a simple controller with the following code \r\n\r\n\r\n```\r\npackage com.ajaxict.edhub;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class WelcomeController {\r\n\r\n    public Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n\r\n    public void switchToWelcome(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;welcome_view.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public void switchToRegister(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;register_view.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setTitle(&quot;EdHub - Register&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    public void quit_frame (ActionEvent event) {\r\n    // stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n      stage.close(); \r\n    }\r\n\r\n}\r\n```\r\n\r\nFrom the code above i believe the stage property is initialised whenever i call the switchToWelcome() or switchToRegister() method - so that if i later call the quit_frame() method there won&#39;t be any issue since this stage property is very accessible through out this class. but i still get a NullPointerException each time i try to call the quit_frame() method\r\n\r\ni added the now commented line in the quit_frame() method is re-initialise the stage before calling close() method upon it and things work fine. but i feel i don&#39;t need this line, since the stage is already initialised with the switchToRegister() i called initially.\r\n\r\nHere is the last parts of the bulk error message\r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.stage.Stage.close()&quot; because &quot;this.stage&quot; is null\r\n\tat com.ajaxict.edhub/com.ajaxict.edhub.WelcomeController.quit_app(WelcomeController.java:45)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 53 more\r\n\r\ni tried to re-initialise the stage property again within the quit_frame() method, and it works but i don&#39;t think will be the best idea\r\n\r\n------------------------   --------------------------  --------\r\n\r\n\r\n\r\nA Reproducible Example below: WelcomeMain.java\r\n```\r\npackage com.ajaxict.edhub;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n\r\npublic class WelcomeMain extends Application {\r\n\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(WelcomeMain.class.getResource(&quot;welcomeView.fxml&quot;));\r\n    //  Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nmy welcomeView.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;309.0&quot; prefWidth=&quot;543.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TextField fx:id=&quot;txt_email&quot; layoutX=&quot;241.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;TextField fx:id=&quot;txt_pword&quot; layoutX=&quot;241.0&quot; layoutY=&quot;192.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;Button fx:id=&quot;btn_login&quot; layoutX=&quot;426.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\r\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;182.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;23.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Button fx:id=&quot;btn_register&quot; layoutX=&quot;138.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToRegister&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\r\n      &lt;Button fx:id=&quot;btn_quit&quot; layoutX=&quot;45.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quit_app&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\nmy registerView.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.PasswordField?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;487.0&quot; prefWidth=&quot;564.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TextField fx:id=&quot;txt_email&quot; layoutX=&quot;248.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;Button fx:id=&quot;btn_login&quot; layoutX=&quot;142.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToWelcome&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\r\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Lastname&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;50.0&quot; layoutY=&quot;338.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;33.0&quot; layoutY=&quot;19.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Button fx:id=&quot;btn_register&quot; layoutX=&quot;433.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\r\n      &lt;Button fx:id=&quot;btn_quit&quot; layoutX=&quot;50.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quit_app&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\r\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;292.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Gender&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;ComboBox layoutX=&quot;247.0&quot; layoutY=&quot;297.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;TextField fx:id=&quot;txt_email1&quot; layoutX=&quot;248.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;TextField fx:id=&quot;txt_email2&quot; layoutX=&quot;251.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;55.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Firstname&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;PasswordField layoutX=&quot;245.0&quot; layoutY=&quot;343.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\nmy welcomeController.java\r\n```\r\npackage com.ajaxict.edhub;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n\r\npublic class WelcomeController {\r\n\r\n    public Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n\r\n\r\n    public void switchToWelcome(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public void switchToRegister(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;registerView.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setTitle(&quot;EdHub - Register&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    public void quit_app (ActionEvent event) {\r\n//   stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        this.stage.close();\r\n    }\r\n\r\n}\r\n```","title":"Unexpected NullPointerException()","body":"<p>just getting familiar with java - i am confused a bit here, i had a simple controller with the following code</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class WelcomeController {\n\n    public Stage stage;\n    private Scene scene;\n    private Parent root;\n\n    public void switchToWelcome(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;welcome_view.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public void switchToRegister(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;register_view.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setTitle(&quot;EdHub - Register&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n\n    public void quit_frame (ActionEvent event) {\n    // stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n      stage.close(); \n    }\n\n}\n</code></pre>\n<p>From the code above i believe the stage property is initialised whenever i call the switchToWelcome() or switchToRegister() method - so that if i later call the quit_frame() method there won't be any issue since this stage property is very accessible through out this class. but i still get a NullPointerException each time i try to call the quit_frame() method</p>\n<p>i added the now commented line in the quit_frame() method is re-initialise the stage before calling close() method upon it and things work fine. but i feel i don't need this line, since the stage is already initialised with the switchToRegister() i called initially.</p>\n<p>Here is the last parts of the bulk error message</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.stage.Stage.close()&quot; because &quot;this.stage&quot; is null\nat com.ajaxict.edhub/com.ajaxict.edhub.WelcomeController.quit_app(WelcomeController.java:45)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n... 53 more\n</code></pre>\n<p>i tried to re-initialise the stage property again within the quit_frame() method, and it works but i don't think will be the best idea</p>\n<hr />\n<p>A Reproducible Example below: WelcomeMain.java</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class WelcomeMain extends Application {\n\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(WelcomeMain.class.getResource(&quot;welcomeView.fxml&quot;));\n    //  Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\n        stage.setScene(scene);\n        stage.show();\n\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>my welcomeView.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;309.0&quot; prefWidth=&quot;543.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;txt_email&quot; layoutX=&quot;241.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;txt_pword&quot; layoutX=&quot;241.0&quot; layoutY=&quot;192.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Button fx:id=&quot;btn_login&quot; layoutX=&quot;426.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;182.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;23.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;btn_register&quot; layoutX=&quot;138.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToRegister&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\n      &lt;Button fx:id=&quot;btn_quit&quot; layoutX=&quot;45.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quit_app&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>my registerView.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;487.0&quot; prefWidth=&quot;564.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;txt_email&quot; layoutX=&quot;248.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Button fx:id=&quot;btn_login&quot; layoutX=&quot;142.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToWelcome&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Lastname&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;50.0&quot; layoutY=&quot;338.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;33.0&quot; layoutY=&quot;19.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;btn_register&quot; layoutX=&quot;433.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\n      &lt;Button fx:id=&quot;btn_quit&quot; layoutX=&quot;50.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quit_app&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;292.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Gender&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;ComboBox layoutX=&quot;247.0&quot; layoutY=&quot;297.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;txt_email1&quot; layoutX=&quot;248.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;TextField fx:id=&quot;txt_email2&quot; layoutX=&quot;251.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Label layoutX=&quot;55.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Firstname&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;PasswordField layoutX=&quot;245.0&quot; layoutY=&quot;343.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>my welcomeController.java</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class WelcomeController {\n\n    public Stage stage;\n    private Scene scene;\n    private Parent root;\n\n\n    public void switchToWelcome(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public void switchToRegister(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;registerView.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setTitle(&quot;EdHub - Register&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n\n    public void quit_app (ActionEvent event) {\n//   stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        this.stage.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678704592,"post_id":75720841,"comment_id":133578886,"body_markdown":"I don&#39;t think you can use this in Android.","body":"I don&#39;t think you can use this in Android."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678704677,"post_id":75720841,"comment_id":133578915,"body_markdown":"If I&#39;m right (but to be clear, I don&#39;t write Android programs, so I could be wrong), the solution is don&#39;t write a private method in an interface.","body":"If I&#39;m right (but to be clear, I don&#39;t write Android programs, so I could be wrong), the solution is don&#39;t write a private method in an interface."},{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":0,"creation_date":1678707457,"post_id":75720841,"comment_id":133579656,"body_markdown":"Update your JDK to 11, currently, JDK 11 is suggested by google for Android Development.","body":"Update your JDK to 11, currently, JDK 11 is suggested by google for Android Development."}],"answers":[{"tags":[],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678706687,"creation_date":1678706687,"answer_id":75721235,"question_id":75720841,"body_markdown":"For more than 25 years everything was done without private interface methods. So maybe instead of \r\n\r\n    public abstract interface GNewsEndpoints {\r\n\r\nYou want\r\n\r\n    public abstract class GNewsEndpoints {\r\n\r\nThat&#39;s how it has always been done. If you are sure you want to use interface private methods (which is a quite new Java feature) you can change this in app/build.gradle (X is the Java version):\r\n\r\n    sourceCompatibility JavaVersion.VERSION_1_X\r\n    targetCompatibility JavaVersion.VERSION_1_X\r\n\r\nto:\r\n\r\n    sourceCompatibility JavaVersion.VERSION_1_9\r\n    targetCompatibility JavaVersion.VERSION_1_9\r\n\r\nUnfortunately I cannot say if you need to set `minSdk` to a minimum version supporting Java 9. It might happen that your app crashes if you try to use Java 9 features on old Android devices.\r\n\r\nYou can even use `VERSION_1_10` to get Java 10 features.","title":"Android studio error: use -source 9 or higher to enable private interface methods","body":"<p>For more than 25 years everything was done without private interface methods. So maybe instead of</p>\n<pre><code>public abstract interface GNewsEndpoints {\n</code></pre>\n<p>You want</p>\n<pre><code>public abstract class GNewsEndpoints {\n</code></pre>\n<p>That's how it has always been done. If you are sure you want to use interface private methods (which is a quite new Java feature) you can change this in app/build.gradle (X is the Java version):</p>\n<pre><code>sourceCompatibility JavaVersion.VERSION_1_X\ntargetCompatibility JavaVersion.VERSION_1_X\n</code></pre>\n<p>to:</p>\n<pre><code>sourceCompatibility JavaVersion.VERSION_1_9\ntargetCompatibility JavaVersion.VERSION_1_9\n</code></pre>\n<p>Unfortunately I cannot say if you need to set <code>minSdk</code> to a minimum version supporting Java 9. It might happen that your app crashes if you try to use Java 9 features on old Android devices.</p>\n<p>You can even use <code>VERSION_1_10</code> to get Java 10 features.</p>\n"}],"owner":{"account_id":1767835,"reputation":351,"user_id":1710073,"accept_rate":93,"display_name":"user1613245"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75721235,"answer_count":1,"score":0,"last_activity_date":1678707655,"creation_date":1678704450,"question_id":75720841,"body_markdown":"I have this code in Android Studio for one of my app:\r\n\r\n    public abstract interface GNewsEndpoints {\r\n        \r\n        private default java.lang.String getGNewsToken() {\r\n            return null;\r\n        }\r\n        \r\n    }\r\n\r\nI am using Android Studio in MAC OS\r\n\r\nI get this error when building the project:\r\n\r\n    error: private interface methods are not supported in -source 8\r\n        private default java.lang.String getGNewsToken() {\r\n                                                      ^\r\n      (use -source 9 or higher to enable private interface methods)\r\n\r\nCan anyone please suggest what needs to be done in order to fix it?\r\n","title":"Android studio error: use -source 9 or higher to enable private interface methods","body":"<p>I have this code in Android Studio for one of my app:</p>\n<pre><code>public abstract interface GNewsEndpoints {\n    \n    private default java.lang.String getGNewsToken() {\n        return null;\n    }\n    \n}\n</code></pre>\n<p>I am using Android Studio in MAC OS</p>\n<p>I get this error when building the project:</p>\n<pre><code>error: private interface methods are not supported in -source 8\n    private default java.lang.String getGNewsToken() {\n                                                  ^\n  (use -source 9 or higher to enable private interface methods)\n</code></pre>\n<p>Can anyone please suggest what needs to be done in order to fix it?</p>\n"},{"tags":["java","spring","mailjet"],"owner":{"account_id":28004857,"reputation":1,"user_id":21388432,"display_name":"Kakou Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678707508,"creation_date":1678704269,"question_id":75720808,"body_markdown":"I&#39;m using mailJetAPI v4.1.0\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;com.mailjet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mailjet-client&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n```\r\nMailjetClient client;\r\n        MailjetRequest request;\r\n        MailjetResponse response;\r\n        client = new MailjetClient(&quot;API_PUBLIC&quot;, &quot;API_SECRET&quot;, new ClientOptions(&quot;v3.1&quot;));\r\n        request = new MailjetRequest(Emailv31.resource)\r\n            .property(Emailv31.MESSAGES, new JSONArray()\r\n                .put(new JSONObject()\r\n                    .put(Emailv31.Message.FROM, new JSONObject()\r\n                        .put(&quot;Email&quot;, &quot;sender@gmail.com&quot;)\r\n                        .put(&quot;Name&quot;, &quot;Mailjet Pilot&quot;))\r\n                    .put(Emailv31.Message.TO, new JSONArray()\r\n                        .put(new JSONObject()\r\n                            .put(&quot;Email&quot;, &quot;receiver@gmail.com&quot;)\r\n                            .put(&quot;Name&quot;, &quot;passenger 1&quot;)))\r\n                    .put(Emailv31.Message.SUBJECT, &quot;Your email flight plan!&quot;)\r\n                    .put(Emailv31.Message.TEXTPART, &quot;Dear passenger 1, welcome to Mailjet! May the delivery force be with you!&quot;)\r\n                    .put(Emailv31.Message.HTMLPART, &quot;&lt;h3&gt;Dear passenger 1, welcome to &lt;a href=\\&quot;https://www.mailjet.com/\\&quot;&gt;Mailjet&lt;/a&gt;!&lt;/h3&gt;&lt;br /&gt;May the delivery force be with you!&quot;)));\r\n        response = client.post(request);\r\n```\r\n\r\nin the response, it returns the messageId that is used to identify the message in mailJet, not the one sent to recipient.                                                                                                                        And thank you!\r\n\r\nWhat the response returns :\r\n\r\n```\r\n&quot;MessageID&quot;:1152921521282767905\r\n```\r\n\r\nWhat I&#39;m expecting is this :\r\n\r\n```\r\n28c0Zc44.BAAAA-HEI1gAAAAAAAAAAAV62_8AAAAAp70AAAAAACHIeQBkYuwH@mailjet.com\r\n```","title":"Is there a way to retrieve the messageId sent by the mail provider to the recepient using mailJet API","body":"<p>I'm using mailJetAPI v4.1.0</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.mailjet&lt;/groupId&gt;\n            &lt;artifactId&gt;mailjet-client&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>MailjetClient client;\n        MailjetRequest request;\n        MailjetResponse response;\n        client = new MailjetClient(&quot;API_PUBLIC&quot;, &quot;API_SECRET&quot;, new ClientOptions(&quot;v3.1&quot;));\n        request = new MailjetRequest(Emailv31.resource)\n            .property(Emailv31.MESSAGES, new JSONArray()\n                .put(new JSONObject()\n                    .put(Emailv31.Message.FROM, new JSONObject()\n                        .put(&quot;Email&quot;, &quot;sender@gmail.com&quot;)\n                        .put(&quot;Name&quot;, &quot;Mailjet Pilot&quot;))\n                    .put(Emailv31.Message.TO, new JSONArray()\n                        .put(new JSONObject()\n                            .put(&quot;Email&quot;, &quot;receiver@gmail.com&quot;)\n                            .put(&quot;Name&quot;, &quot;passenger 1&quot;)))\n                    .put(Emailv31.Message.SUBJECT, &quot;Your email flight plan!&quot;)\n                    .put(Emailv31.Message.TEXTPART, &quot;Dear passenger 1, welcome to Mailjet! May the delivery force be with you!&quot;)\n                    .put(Emailv31.Message.HTMLPART, &quot;&lt;h3&gt;Dear passenger 1, welcome to &lt;a href=\\&quot;https://www.mailjet.com/\\&quot;&gt;Mailjet&lt;/a&gt;!&lt;/h3&gt;&lt;br /&gt;May the delivery force be with you!&quot;)));\n        response = client.post(request);\n</code></pre>\n<p>in the response, it returns the messageId that is used to identify the message in mailJet, not the one sent to recipient.                                                                                                                        And thank you!</p>\n<p>What the response returns :</p>\n<pre><code>&quot;MessageID&quot;:1152921521282767905\n</code></pre>\n<p>What I'm expecting is this :</p>\n<pre><code>28c0Zc44.BAAAA-HEI1gAAAAAAAAAAAV62_8AAAAAp70AAAAAACHIeQBkYuwH@mailjet.com\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1678531430,"post_id":75703576,"comment_id":133553097,"body_markdown":"please enable spring security `DEBUG` logs and post them here so that we actually see what is going on.","body":"please enable spring security <code>DEBUG</code> logs and post them here so that we actually see what is going on."},{"owner":{"account_id":8884847,"reputation":69,"user_id":6633429,"accept_rate":29,"display_name":"Rohit"},"score":0,"creation_date":1678707211,"post_id":75703576,"comment_id":133579602,"body_markdown":"@Toerktumlare sorry for being late to reply. I enabled debug and edited my question.","body":"@Toerktumlare sorry for being late to reply. I enabled debug and edited my question."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1678711853,"post_id":75703576,"comment_id":133580964,"body_markdown":"This is not the spring security debug logs, please look up on how to enable spring security debug logs. Also a large portion of the logs are missing, the startup logs etc.","body":"This is not the spring security debug logs, please look up on how to enable spring security debug logs. Also a large portion of the logs are missing, the startup logs etc."},{"owner":{"account_id":11147381,"reputation":61,"user_id":8181663,"display_name":"Hasanka Sapumal"},"score":0,"creation_date":1682449174,"post_id":75703576,"comment_id":134216761,"body_markdown":"@Rohit facing the same issue here. were you able to solve this by your own?","body":"@Rohit facing the same issue here. were you able to solve this by your own?"},{"owner":{"account_id":8884847,"reputation":69,"user_id":6633429,"accept_rate":29,"display_name":"Rohit"},"score":0,"creation_date":1682550247,"post_id":75703576,"comment_id":134235733,"body_markdown":"@HasankaSapumal play with request matcher for a while and you would get idea whats wrong. And dont forget to allow access to your JavaScript, css, html or jsp resources.","body":"@HasankaSapumal play with request matcher for a while and you would get idea whats wrong. And dont forget to allow access to your JavaScript, css, html or jsp resources."},{"owner":{"account_id":11147381,"reputation":61,"user_id":8181663,"display_name":"Hasanka Sapumal"},"score":1,"creation_date":1682577171,"post_id":75703576,"comment_id":134238429,"body_markdown":"@rohith turned out spring 6 security needs .dispatcherTypeMatchers(DispatcherType.FORWARD).permitAll() to be added in our config","body":"@rohith turned out spring 6 security needs .dispatcherTypeMatchers(DispatcherType.FORWARD).permitAll() to be added in our config"}],"owner":{"account_id":8884847,"reputation":69,"user_id":6633429,"accept_rate":29,"display_name":"Rohit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678707137,"creation_date":1678521669,"question_id":75703576,"body_markdown":"I just began to learn spring security without using spring boot. I am trying to render my own custom login page. Controller method with requestmapping &quot;/login&quot; has been called several times but spring is not rendering login.jsp page.\r\n\r\nThis is my root configuration classes : \r\n\r\n```\r\n@Configuration\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\n@EnableJpaRepositories(&quot;com.example.repository&quot;)\r\n@Import(SecurityConfiguration.class)\r\npublic class AppConfig {\r\n\t\r\n\t@Autowired\r\n\tprivate Environment environment;\r\n\t\r\n\t@Bean\r\n\tpublic DataSource getDataSource() {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(environment.getProperty(&quot;jdbc.driverClassName&quot;));\r\n\t\tdataSource.setUrl(environment.getProperty(&quot;jdbc.url&quot;));\r\n\t\tdataSource.setUsername(environment.getProperty(&quot;jdbc.username&quot;));\r\n\t\tdataSource.setPassword(environment.getProperty(&quot;jdbc.password&quot;));\r\n\t\treturn dataSource;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\t\t\r\n\t\tLocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\r\n\t\tentityManagerFactory.setDataSource(getDataSource());\r\n\t\tentityManagerFactory.setPackagesToScan(&quot;com.example.model&quot;);\r\n\t\t\r\n\t\tJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tentityManagerFactory.setJpaVendorAdapter(vendorAdapter);\r\n\t\tentityManagerFactory.setJpaProperties(additionalProperties());\r\n\t\t\r\n\t\treturn entityManagerFactory;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PlatformTransactionManager getTransactionManager() {\r\n\t\tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t\ttransactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n\t\treturn transactionManager;\r\n\t}\r\n\t\r\n\tpublic Properties additionalProperties() {\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n\t\tproperties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL8Dialect&quot;);\r\n\t\tproperties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n\t\treturn properties;\r\n\t}\r\n\r\n\t@Bean(name = &quot;mvcHandlerMappingIntrospector&quot;) \r\n\tpublic HandlerMappingIntrospector mvcHandlerMappingIntrospector() { \r\n\t\treturn new HandlerMappingIntrospector(); \r\n\t}\r\n}\r\n```\r\nThis one is dispatcher context configuration class :\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(basePackages = { &quot;com.example.controller&quot;})\r\npublic class DispatcherServletConfig {\r\n\t\r\n\t@Bean\r\n\tpublic ViewResolver viewResolver() {\r\n\t\tInternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n\t\tviewResolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n\t\tviewResolver.setSuffix(&quot;.jsp&quot;);\r\n\t\treturn viewResolver;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd here is my security configuration class :\r\n\r\n```\r\n@EnableWebSecurity\r\n@ComponentScan(&quot;com.example.service&quot;)\r\npublic class SecurityConfiguration{\r\n\t\r\n\t@Resource\r\n\tprivate UserDetailsService userDetailsService;\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\tauthenticationProvider.setUserDetailsService(userDetailsService);\r\n\t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn authenticationProvider;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\r\n\t\tAuthenticationManagerBuilder builder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\t\tbuilder.authenticationProvider(authenticationProvider());\r\n\t\treturn builder.build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.authorizeHttpRequests()\r\n\t\t\t.requestMatchers(&quot;/&quot;).authenticated()\r\n\t\t\t.and()\r\n\t\t\t.formLogin()\r\n\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t.permitAll();\r\n\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n\r\n```\r\nWebApplicationInitializer is :\r\n\r\n```\r\npublic class MyWebAppInitializer implements WebApplicationInitializer {\r\n  \r\n  \r\n  @Override \r\n  public void onStartup(ServletContext container) throws ServletException {\r\n  \r\n\t  //Declaring root context \r\n\t  AnnotationConfigWebApplicationContext rootContext = new AnnotationConfigWebApplicationContext();\r\n\t  rootContext.register(AppConfig.class);\r\n\t  \r\n\t  //Manage the life cycle of root application context \r\n\t  container.addListener(new ContextLoaderListener(rootContext));\r\n\t  \r\n\t  //Creating dispatcher servlet&#39;s application context\r\n\t  AnnotationConfigWebApplicationContext dispatcherContext = new AnnotationConfigWebApplicationContext();\r\n\t  dispatcherContext.register(DispatcherServletConfig.class);\r\n\t  \r\n\t  \r\n\t  //Register and Map dispatcher servlet \r\n\t  ServletRegistration.Dynamic\r\n\t  dispatcherServlet = container.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(dispatcherContext)); \r\n\t  dispatcherServlet.addMapping(&quot;/&quot;);\r\n\t  dispatcherServlet.setLoadOnStartup(1);\r\n\t  \r\n\t  \r\n  }\r\n  \r\n}\r\n\r\n```\r\nand controller class is :\r\n```\r\n@Controller\r\npublic class LoginController {\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String indexPage() {\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n\t\tSystem.out.println(&quot;have been called&quot;);\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n}\r\n```\r\nWhile trying to access the url i got the following error on browser\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZJz5g.png\r\n\r\nI enabled the security debug and result is as follows (printed out more than 20 times on console). \r\n\r\n```\r\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\r\n\r\n\r\nSecurity filter chain: [\r\n  DisableEncodeUrlFilter\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextHolderFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  UsernamePasswordAuthenticationFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  ExceptionTranslationFilter\r\n  AuthorizationFilter\r\n]\r\n\r\n\r\n************************************************************\r\n\r\n\r\n2023-03-13T20:24:01.020+09:00  INFO 13976 --- [nio-8080-exec-5] Spring Security Debugger                 : \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/login&#39;:\r\n\r\norg.apache.catalina.connector.RequestFacade@4ff9b4c7\r\n\r\nservletPath:/login\r\npathInfo:null\r\nheaders: \r\nhost: localhost:8080\r\nconnection: keep-alive\r\ncache-control: max-age=0\r\nupgrade-insecure-requests: 1\r\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.69\r\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\r\nsec-fetch-site: none\r\nsec-fetch-mode: navigate\r\nsec-fetch-user: ?1\r\nsec-fetch-dest: document\r\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;110&quot;, &quot;Not A(Brand&quot;;v=&quot;24&quot;, &quot;Microsoft Edge&quot;;v=&quot;110&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\naccept-encoding: gzip, deflate, br\r\naccept-language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7\r\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\r\n\r\n\r\nSecurity filter chain: [\r\n  DisableEncodeUrlFilter\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextHolderFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  UsernamePasswordAuthenticationFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  ExceptionTranslationFilter\r\n  AuthorizationFilter\r\n]\r\n\r\n\r\n************************************************************\r\n\r\n\r\n2023-03-13T20:24:01.029+09:00  INFO 13976 --- [nio-8080-exec-6] Spring Security Debugger                 : \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/login&#39;:\r\n\r\norg.apache.catalina.connector.RequestFacade@388d5e7e\r\n\r\nservletPath:/login\r\npathInfo:null\r\nheaders: \r\nhost: localhost:8080\r\nconnection: keep-alive\r\ncache-control: max-age=0\r\nupgrade-insecure-requests: 1\r\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.69\r\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\r\nsec-fetch-site: none\r\nsec-fetch-mode: navigate\r\nsec-fetch-user: ?1\r\nsec-fetch-dest: document\r\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;110&quot;, &quot;Not A(Brand&quot;;v=&quot;24&quot;, &quot;Microsoft Edge&quot;;v=&quot;110&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\naccept-encoding: gzip, deflate, br\r\naccept-language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7\r\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\r\n\r\n\r\nSecurity filter chain: [\r\n  DisableEncodeUrlFilter\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextHolderFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  UsernamePasswordAuthenticationFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  ExceptionTranslationFilter\r\n  AuthorizationFilter\r\n]\r\n```","title":"Spring security is not rendering custom login page","body":"<p>I just began to learn spring security without using spring boot. I am trying to render my own custom login page. Controller method with requestmapping &quot;/login&quot; has been called several times but spring is not rendering login.jsp page.</p>\n<p>This is my root configuration classes :</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application.properties&quot;)\n@EnableJpaRepositories(&quot;com.example.repository&quot;)\n@Import(SecurityConfiguration.class)\npublic class AppConfig {\n    \n    @Autowired\n    private Environment environment;\n    \n    @Bean\n    public DataSource getDataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(environment.getProperty(&quot;jdbc.driverClassName&quot;));\n        dataSource.setUrl(environment.getProperty(&quot;jdbc.url&quot;));\n        dataSource.setUsername(environment.getProperty(&quot;jdbc.username&quot;));\n        dataSource.setPassword(environment.getProperty(&quot;jdbc.password&quot;));\n        return dataSource;\n    }\n    \n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        \n        LocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactory.setDataSource(getDataSource());\n        entityManagerFactory.setPackagesToScan(&quot;com.example.model&quot;);\n        \n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        entityManagerFactory.setJpaVendorAdapter(vendorAdapter);\n        entityManagerFactory.setJpaProperties(additionalProperties());\n        \n        return entityManagerFactory;\n    }\n    \n    @Bean\n    public PlatformTransactionManager getTransactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n        return transactionManager;\n    }\n    \n    public Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL8Dialect&quot;);\n        properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\n        return properties;\n    }\n\n    @Bean(name = &quot;mvcHandlerMappingIntrospector&quot;) \n    public HandlerMappingIntrospector mvcHandlerMappingIntrospector() { \n        return new HandlerMappingIntrospector(); \n    }\n}\n</code></pre>\n<p>This one is dispatcher context configuration class :</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = { &quot;com.example.controller&quot;})\npublic class DispatcherServletConfig {\n    \n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setPrefix(&quot;/WEB-INF/view/&quot;);\n        viewResolver.setSuffix(&quot;.jsp&quot;);\n        return viewResolver;\n    }\n\n}\n</code></pre>\n<p>And here is my security configuration class :</p>\n<pre><code>@EnableWebSecurity\n@ComponentScan(&quot;com.example.service&quot;)\npublic class SecurityConfiguration{\n    \n    @Resource\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder builder = http.getSharedObject(AuthenticationManagerBuilder.class);\n        builder.authenticationProvider(authenticationProvider());\n        return builder.build();\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/&quot;).authenticated()\n            .and()\n            .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .permitAll();\n\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>WebApplicationInitializer is :</p>\n<pre><code>public class MyWebAppInitializer implements WebApplicationInitializer {\n  \n  \n  @Override \n  public void onStartup(ServletContext container) throws ServletException {\n  \n      //Declaring root context \n      AnnotationConfigWebApplicationContext rootContext = new AnnotationConfigWebApplicationContext();\n      rootContext.register(AppConfig.class);\n      \n      //Manage the life cycle of root application context \n      container.addListener(new ContextLoaderListener(rootContext));\n      \n      //Creating dispatcher servlet's application context\n      AnnotationConfigWebApplicationContext dispatcherContext = new AnnotationConfigWebApplicationContext();\n      dispatcherContext.register(DispatcherServletConfig.class);\n      \n      \n      //Register and Map dispatcher servlet \n      ServletRegistration.Dynamic\n      dispatcherServlet = container.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(dispatcherContext)); \n      dispatcherServlet.addMapping(&quot;/&quot;);\n      dispatcherServlet.setLoadOnStartup(1);\n      \n      \n  }\n  \n}\n\n</code></pre>\n<p>and controller class is :</p>\n<pre><code>@Controller\npublic class LoginController {\n    \n    @GetMapping(&quot;/&quot;)\n    public String indexPage() {\n        return &quot;index&quot;;\n    }\n    \n    @GetMapping(&quot;/login&quot;)\n    public String login() {\n        System.out.println(&quot;have been called&quot;);\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>While trying to access the url i got the following error on browser\n<a href=\"https://i.stack.imgur.com/ZJz5g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZJz5g.png\" alt=\"enter image description here\" /></a></p>\n<p>I enabled the security debug and result is as follows (printed out more than 20 times on console).</p>\n<pre><code>cookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\n\n\nSecurity filter chain: [\n  DisableEncodeUrlFilter\n  WebAsyncManagerIntegrationFilter\n  SecurityContextHolderFilter\n  HeaderWriterFilter\n  LogoutFilter\n  UsernamePasswordAuthenticationFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  ExceptionTranslationFilter\n  AuthorizationFilter\n]\n\n\n************************************************************\n\n\n2023-03-13T20:24:01.020+09:00  INFO 13976 --- [nio-8080-exec-5] Spring Security Debugger                 : \n\n************************************************************\n\nRequest received for GET '/login':\n\norg.apache.catalina.connector.RequestFacade@4ff9b4c7\n\nservletPath:/login\npathInfo:null\nheaders: \nhost: localhost:8080\nconnection: keep-alive\ncache-control: max-age=0\nupgrade-insecure-requests: 1\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.69\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\nsec-fetch-site: none\nsec-fetch-mode: navigate\nsec-fetch-user: ?1\nsec-fetch-dest: document\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;110&quot;, &quot;Not A(Brand&quot;;v=&quot;24&quot;, &quot;Microsoft Edge&quot;;v=&quot;110&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\naccept-encoding: gzip, deflate, br\naccept-language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\n\n\nSecurity filter chain: [\n  DisableEncodeUrlFilter\n  WebAsyncManagerIntegrationFilter\n  SecurityContextHolderFilter\n  HeaderWriterFilter\n  LogoutFilter\n  UsernamePasswordAuthenticationFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  ExceptionTranslationFilter\n  AuthorizationFilter\n]\n\n\n************************************************************\n\n\n2023-03-13T20:24:01.029+09:00  INFO 13976 --- [nio-8080-exec-6] Spring Security Debugger                 : \n\n************************************************************\n\nRequest received for GET '/login':\n\norg.apache.catalina.connector.RequestFacade@388d5e7e\n\nservletPath:/login\npathInfo:null\nheaders: \nhost: localhost:8080\nconnection: keep-alive\ncache-control: max-age=0\nupgrade-insecure-requests: 1\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.69\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\nsec-fetch-site: none\nsec-fetch-mode: navigate\nsec-fetch-user: ?1\nsec-fetch-dest: document\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;110&quot;, &quot;Not A(Brand&quot;;v=&quot;24&quot;, &quot;Microsoft Edge&quot;;v=&quot;110&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\naccept-encoding: gzip, deflate, br\naccept-language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\n\n\nSecurity filter chain: [\n  DisableEncodeUrlFilter\n  WebAsyncManagerIntegrationFilter\n  SecurityContextHolderFilter\n  HeaderWriterFilter\n  LogoutFilter\n  UsernamePasswordAuthenticationFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  ExceptionTranslationFilter\n  AuthorizationFilter\n]\n</code></pre>\n"},{"tags":["java","autoboxing"],"owner":{"account_id":28005232,"reputation":9,"user_id":21388756,"display_name":"Elias El hachem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678707193,"answer_count":0,"score":0,"last_activity_date":1678706938,"creation_date":1678706938,"question_id":75721282,"body_markdown":"```\r\nByte b = 10; // Valid\r\nLong l = 10; // Invalid\r\n```\r\n\r\n\r\nWhy is it valid in first case but invalid in second case?\r\n\r\nBest regards","title":"Wrapper classes autoboxing assignments","body":"<pre><code>Byte b = 10; // Valid\nLong l = 10; // Invalid\n</code></pre>\n<p>Why is it valid in first case but invalid in second case?</p>\n<p>Best regards</p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":16237389,"reputation":5,"user_id":11724567,"display_name":"VADE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678706882,"creation_date":1678705251,"question_id":75720982,"body_markdown":"i keep getting this error only whilst trying to store the `Map` from `ItemDegradationManager` in a seperate table, using JPA. I have checked everywhere and there aren&#39;t two sessions open.\r\n\r\nI have another Collection of type List&lt;&gt; which does perfectly fine, this is however a instance member of &#39;Player&#39; itself.\r\n\r\n&gt; org.hibernate.HibernateException: Illegal attempt to associate a\r\n&gt; collection with two open sessions: Collection : &lt;unknown&gt;\r\n\r\n```\r\n@jakarta.persistence.Entity\r\n@Table(name = &quot;players&quot;)\r\npublic class Player extends Agent {\r\n    @Embedded\r\n    @Column(name = &quot;degradable_items&quot;)\r\n    private final ItemDegradationManager itemDegradationManager = new ItemDegradationManager(this);\r\n}\r\n```\r\n\r\n```\r\n@Embeddable\r\npublic class ItemDegradationManager {\r\n\r\n    private static final boolean ENABLED = true;\r\n\r\n    @Transient\r\n    private Player player;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;degradation_levels&quot;, joinColumns = @JoinColumn(name = &quot;player_id&quot;))\r\n    @MapKeyColumn(name = &quot;item_id&quot;)\r\n    @Column(name = &quot;degradation_level&quot;)\r\n    @LazyCollection(LazyCollectionOption.EXTRA)\r\n    private Map&lt;Integer, Integer&gt; degradationLevels = new HashMap&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n public static void hibernateSaving(Player player) {\r\n\r\n        Configuration configuration = new Configuration().configure(new File(&quot;src/main/resources/hibernate.cfg.xml&quot;));\r\n\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n\r\n        if(session.contains(player)) {\r\n            session.merge(player);\r\n        } else {\r\n            session.persist(player);\r\n        }\r\n\r\n\r\n        transaction.commit();\r\n        session.flush();\r\n        session.close();\r\n    }\r\n```","title":"org.hibernate.HibernateException: Illegal attempt to associate a collection with two open sessions: Collection : &lt;unknown&gt;, with one open session","body":"<p>i keep getting this error only whilst trying to store the <code>Map</code> from <code>ItemDegradationManager</code> in a seperate table, using JPA. I have checked everywhere and there aren't two sessions open.</p>\n<p>I have another Collection of type List&lt;&gt; which does perfectly fine, this is however a instance member of 'Player' itself.</p>\n<blockquote>\n<p>org.hibernate.HibernateException: Illegal attempt to associate a\ncollection with two open sessions: Collection : </p>\n</blockquote>\n<pre><code>@jakarta.persistence.Entity\n@Table(name = &quot;players&quot;)\npublic class Player extends Agent {\n    @Embedded\n    @Column(name = &quot;degradable_items&quot;)\n    private final ItemDegradationManager itemDegradationManager = new ItemDegradationManager(this);\n}\n</code></pre>\n<pre><code>@Embeddable\npublic class ItemDegradationManager {\n\n    private static final boolean ENABLED = true;\n\n    @Transient\n    private Player player;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;degradation_levels&quot;, joinColumns = @JoinColumn(name = &quot;player_id&quot;))\n    @MapKeyColumn(name = &quot;item_id&quot;)\n    @Column(name = &quot;degradation_level&quot;)\n    @LazyCollection(LazyCollectionOption.EXTRA)\n    private Map&lt;Integer, Integer&gt; degradationLevels = new HashMap&lt;&gt;();\n}\n</code></pre>\n<pre><code> public static void hibernateSaving(Player player) {\n\n        Configuration configuration = new Configuration().configure(new File(&quot;src/main/resources/hibernate.cfg.xml&quot;));\n\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n\n        if(session.contains(player)) {\n            session.merge(player);\n        } else {\n            session.persist(player);\n        }\n\n\n        transaction.commit();\n        session.flush();\n        session.close();\n    }\n</code></pre>\n"},{"tags":["java","maven","pdf","netbeans","icepdf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678566300,"post_id":75707679,"comment_id":133559916,"body_markdown":"&quot;_Once I clean and build it and move the application to a folder on my drive, I get this error_&quot; - Does that JAR file contain the dependent classes for ICE PDF (a &quot;fat&quot; JAR)? If not then you have to ensure those dependent JARs are on the classpath when you run your app - otherwise you will get this `NoClassDefFoundError` problem. Just running `java -cp YourApp.jar com.rasweeny.recipes.Recipes` is not sufficient.","body":"&quot;<i>Once I clean and build it and move the application to a folder on my drive, I get this error</i>&quot; - Does that JAR file contain the dependent classes for ICE PDF (a &quot;fat&quot; JAR)? If not then you have to ensure those dependent JARs are on the classpath when you run your app - otherwise you will get this <code>NoClassDefFoundError</code> problem. Just running <code>java -cp YourApp.jar com.rasweeny.recipes.Recipes</code> is not sufficient."},{"owner":{"account_id":197560,"reputation":171,"user_id":441711,"display_name":"pcorless"},"score":0,"creation_date":1678676289,"post_id":75707679,"comment_id":133573903,"body_markdown":"As mentioned above you&#39;ll need the core, viewer and font jars on your classpath.  Might also recommend the encryption and the image handling jars for a better experience with the library.","body":"As mentioned above you&#39;ll need the core, viewer and font jars on your classpath.  Might also recommend the encryption and the image handling jars for a better experience with the library."},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1678706819,"post_id":75707679,"comment_id":133579504,"body_markdown":"I have added the full output.","body":"I have added the full output."},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1678706924,"post_id":75707679,"comment_id":133579534,"body_markdown":"I am opening a pdf to view and print. I am not editing anything.","body":"I am opening a pdf to view and print. I am not editing anything."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678711065,"post_id":75707679,"comment_id":133580724,"body_markdown":"What do you mean by &quot;_launch it from my hard drive_&quot;? Can you clarify?","body":"What do you mean by &quot;<i>launch it from my hard drive</i>&quot;? Can you clarify?"},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1678722580,"post_id":75707679,"comment_id":133584597,"body_markdown":"In the terminal  : java -jar Recipes-1.0-SNAPSHOT.jar","body":"In the terminal  : java -jar Recipes-1.0-SNAPSHOT.jar"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678723107,"post_id":75707679,"comment_id":133584740,"body_markdown":"That brings us back to my first comment. You have to tell Java where those other JARs are, by placing them on the Java classpath (assuming the Recipes JAR is not a &quot;fat&quot; JAR). One way: create a new `lib` directory in the same location where the Recipes JAR is. Add the other JAR files into that directory and then tell Java about it: `java -cp Recipes-1.0-SNAPSHOT.jar:lib/* com.rasweeny.recipes.Recipes`.","body":"That brings us back to my first comment. You have to tell Java where those other JARs are, by placing them on the Java classpath (assuming the Recipes JAR is not a &quot;fat&quot; JAR). One way: create a new <code>lib</code> directory in the same location where the Recipes JAR is. Add the other JAR files into that directory and then tell Java about it: <code>java -cp Recipes-1.0-SNAPSHOT.jar:lib&#47;* com.rasweeny.recipes.Recipes</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678723109,"post_id":75707679,"comment_id":133584741,"body_markdown":"Or, run the application [using Maven](https://stackoverflow.com/q/15869784/12567365).","body":"Or, run the application <a href=\"https://stackoverflow.com/q/15869784/12567365\">using Maven</a>."},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1678736135,"post_id":75707679,"comment_id":133588286,"body_markdown":"Thank you James. It is the first time using Maven. I usually use Ant. I didn&#39;t realize it is so involved. Looks like I have some reading to do.","body":"Thank you James. It is the first time using Maven. I usually use Ant. I didn&#39;t realize it is so involved. Looks like I have some reading to do."}],"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678706787,"creation_date":1678556931,"question_id":75707679,"body_markdown":"Here is my pomfile.xml:\r\n\r\n\r\n&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project\r\n&gt; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n&gt; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n&gt; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n&gt; http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n&gt;     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&gt;     &lt;groupId&gt;com.rasweeny&lt;/groupId&gt;\r\n&gt;     &lt;artifactId&gt;Recipes&lt;/artifactId&gt;\r\n&gt;     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n&gt;     &lt;packaging&gt;jar&lt;/packaging&gt;\r\n&gt;     \r\n&gt;     &lt;properties&gt;\r\n&gt;         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&gt;         &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n&gt;         &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n&gt;         &lt;exec.mainClass&gt;com.rasweeny.recipes.Recipes&lt;/exec.mainClass&gt;\r\n&gt;     &lt;/properties&gt;\r\n&gt;  \r\n&gt;     &lt;dependencies&gt;\r\n&gt;  \r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;com.github.pcorless.icepdf&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;icepdf-core&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;7.0.1&lt;/version&gt;\r\n&gt;             &lt;type&gt;jar&lt;/type&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;com.github.pcorless.icepdf&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;icepdf-viewer&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;7.0.1&lt;/version&gt;\r\n&gt;             &lt;type&gt;jar&lt;/type&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;     &lt;/dependencies&gt;\r\n&gt;     \r\n&gt;     &lt;reporting&gt;\r\n&gt;         &lt;plugins&gt;\r\n&gt;             &lt;plugin&gt;\r\n&gt;                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;                 &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n&gt;                 &lt;configuration&gt;\r\n&gt;                     &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\r\n&gt;                 &lt;/configuration&gt;\r\n&gt;             &lt;/plugin&gt;\r\n&gt;         &lt;/plugins&gt;\r\n&gt;     &lt;/reporting&gt;\r\n&gt;     \r\n&gt;     &lt;build&gt;  \r\n&gt;  \r\n&gt;         &lt;plugins&gt;  \r\n&gt;             &lt;plugin&gt;  \r\n&gt;                 &lt;!-- Build an executable JAR --&gt;  \r\n&gt;                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \r\n&gt;                 &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;  \r\n&gt;                 &lt;version&gt;3.1.0&lt;/version&gt;  \r\n&gt;                 &lt;configuration&gt;  \r\n&gt;                     &lt;archive&gt;  \r\n&gt;                         &lt;manifest&gt;  \r\n&gt;                             &lt;mainClass&gt;com.rasweeny.recipes.Launcher&lt;/mainClass&gt;  \r\n&gt;                         &lt;/manifest&gt;  \r\n&gt;                     &lt;/archive&gt;  \r\n&gt;                 &lt;/configuration&gt;  \r\n&gt;             &lt;/plugin&gt;  \r\n&gt;         &lt;/plugins&gt;  \r\n&gt;         \r\n&gt;         &lt;resources&gt;\r\n&gt;             &lt;resource&gt;\r\n&gt;                 &lt;directory&gt;[Users/rasweeny/jarfiles/icepdf-7.0.1/]&lt;/directory&gt;\r\n&gt;                 &lt;includes&gt;\r\n&gt;                     &lt;include&gt;[icepdf-core-7.0.1.jar]&lt;/include&gt;\r\n&gt;                     &lt;include&gt;[icepdf-viewer-7.0.1.jar]&lt;/include&gt;\r\n&gt;                     &lt;include&gt;[fontbox-2.0.27.jar]&lt;/include&gt;\r\n&gt; \r\n&gt;                     &lt;include&gt;[resource file #n]&lt;/include&gt;\r\n&gt;                 &lt;/includes&gt;\r\n&gt;             &lt;/resource&gt;\r\n&gt; \r\n&gt;         &lt;/resources&gt;\r\n&gt;     &lt;/build&gt;  \r\n&gt;      &lt;/project&gt;\r\n\r\nThe imports :\r\n\r\n&gt;   import org.icepdf.ri.common.ComponentKeyBinding; import\r\n&gt;   org.icepdf.ri.common.SwingController; import\r\n&gt;   org.icepdf.ri.common.SwingViewBuilder;\r\n\r\nHere is my code :\r\n\r\n\r\n&gt;      if (exten.equals(&quot;pdf&quot;)) {\r\n&gt;       String filePath = file;\r\n&gt;       SwingController controller = new SwingController();\r\n&gt;       SwingViewBuilder factory = new SwingViewBuilder(controller);\r\n&gt;       SPanel viewerComponentPanel = (SPanel) factory.buildViewerPanel();\r\n&gt;       ComponentKeyBinding.install(controller, viewerComponentPanel);\r\n&gt; \r\n&gt;       controller.getDocumentViewController().setAnnotationCallback(\r\n&gt;               new org.icepdf.ri.common.MyAnnotationCallback(\r\n&gt;                       controller.getDocumentViewController()));\r\n&gt; \r\n&gt;       // Create a JFrame to display the panel in\r\n&gt;       JFrame window = new JFrame(fileName);\r\n&gt;       Dimension pdfSize = new Dimension(640,800);\r\n&gt;       window.setMinimumSize(pdfSize);\r\n&gt;       window.setMaximumSize(pdfSize);\r\n&gt;       window.setPreferredSize(pdfSize);\r\n&gt;       window.add(viewerComponentPanel);\r\n&gt;       window.pack();\r\n&gt;       window.setLocation((Toolkit.getDefaultToolkit().getScreenSize().width)\r\n&gt; / 2 - 600 / 2,\r\n&gt;             (Toolkit.getDefaultToolkit().getScreenSize().height) / 2 - 800 / 2);\r\n&gt;       window.setVisible(true);\r\n&gt; \r\n&gt;      controller.openDocument(filePath);\r\n\r\n\r\nIf I run it in netbeans everything works fine. Once I clean and build it and move the application to a folder on my drive. I get this error.\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/icepdf/ri/common/views/Controller \tat\r\n&gt; com.rasweeny.recipes.Recipes.lambda$setupGUI$0(Recipes.java:142) \tat\r\n&gt; java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n&gt; \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721) \tat\r\n&gt; java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715) \r\n&gt; .....\r\n\r\n\r\nLine 142 is : window.pack();\r\nI have added icepdf as a dependency to the app in the local repository.\r\n\r\nI am using Mac OSX 10.15.7 Catalina, JDK 17, Netbeans 16, and Maven 4.0.0.\r\n\r\nWhat am I missing?\r\nThanks,\r\nRich\r\n\r\nSorry here is the full output:\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/icepdf/ri/common/views/Controller \tat\r\n&gt; com.rasweeny.recipes.Recipes.lambda$setupGUI$0(Recipes.java:142) \tat\r\n&gt; java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n&gt; \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721) \tat\r\n&gt; java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715) \tat\r\n&gt; java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n&gt; \tat\r\n&gt; java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; org.icepdf.ri.common.views.Controller \tat\r\n&gt; java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n&gt; \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n&gt; \t... 14 more rasweeny:recipes rasweeny$\r\n\r\n\r\nLike I said it works fine launching from Netbeans but I get this error when trying to launch it from my hardd rive.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Icepdf to view pdf files from an application. After clean and build it does not see imported files","body":"<p>Here is my pomfile.xml:</p>\n<blockquote>\n xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n<a href=\"http://maven.apache.org/xsd/maven-4.0.0.xsd%22%3E\" rel=\"nofollow noreferrer\">http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</a>\n4.0.0\ncom.rasweeny\nRecipes\n1.0-SNAPSHOT\njar</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;exec.mainClass&gt;com.rasweeny.recipes.Recipes&lt;/exec.mainClass&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.pcorless.icepdf&lt;/groupId&gt;\n        &lt;artifactId&gt;icepdf-core&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.pcorless.icepdf&lt;/groupId&gt;\n        &lt;artifactId&gt;icepdf-viewer&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n\n&lt;build&gt;  \n\n    &lt;plugins&gt;  \n        &lt;plugin&gt;  \n            &lt;!-- Build an executable JAR --&gt;  \n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;  \n            &lt;version&gt;3.1.0&lt;/version&gt;  \n            &lt;configuration&gt;  \n                &lt;archive&gt;  \n                    &lt;manifest&gt;  \n                        &lt;mainClass&gt;com.rasweeny.recipes.Launcher&lt;/mainClass&gt;  \n                    &lt;/manifest&gt;  \n                &lt;/archive&gt;  \n            &lt;/configuration&gt;  \n        &lt;/plugin&gt;  \n    &lt;/plugins&gt;  \n    \n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;[Users/rasweeny/jarfiles/icepdf-7.0.1/]&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;[icepdf-core-7.0.1.jar]&lt;/include&gt;\n                &lt;include&gt;[icepdf-viewer-7.0.1.jar]&lt;/include&gt;\n                &lt;include&gt;[fontbox-2.0.27.jar]&lt;/include&gt;\n\n                &lt;include&gt;[resource file #n]&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n\n    &lt;/resources&gt;\n&lt;/build&gt;  \n &lt;/project&gt;\n</code></pre>\n</blockquote>\n<p>The imports :</p>\n<blockquote>\n<p>import org.icepdf.ri.common.ComponentKeyBinding; import\norg.icepdf.ri.common.SwingController; import\norg.icepdf.ri.common.SwingViewBuilder;</p>\n</blockquote>\n<p>Here is my code :</p>\n<blockquote>\n<pre><code> if (exten.equals(&quot;pdf&quot;)) {\n  String filePath = file;\n  SwingController controller = new SwingController();\n  SwingViewBuilder factory = new SwingViewBuilder(controller);\n  SPanel viewerComponentPanel = (SPanel) factory.buildViewerPanel();\n  ComponentKeyBinding.install(controller, viewerComponentPanel);\n\n  controller.getDocumentViewController().setAnnotationCallback(\n          new org.icepdf.ri.common.MyAnnotationCallback(\n                  controller.getDocumentViewController()));\n\n  // Create a JFrame to display the panel in\n  JFrame window = new JFrame(fileName);\n  Dimension pdfSize = new Dimension(640,800);\n  window.setMinimumSize(pdfSize);\n  window.setMaximumSize(pdfSize);\n  window.setPreferredSize(pdfSize);\n  window.add(viewerComponentPanel);\n  window.pack();\n  window.setLocation((Toolkit.getDefaultToolkit().getScreenSize().width)\n</code></pre>\n<p>/ 2 - 600 / 2,\n(Toolkit.getDefaultToolkit().getScreenSize().height) / 2 - 800 / 2);\nwindow.setVisible(true);</p>\n<pre><code> controller.openDocument(filePath);\n</code></pre>\n</blockquote>\n<p>If I run it in netbeans everything works fine. Once I clean and build it and move the application to a folder on my drive. I get this error.</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError:\norg/icepdf/ri/common/views/Controller     at\ncom.rasweeny.recipes.Recipes.lambda$setupGUI$0(Recipes.java:142)  at\njava.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\nat\njava.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)  at\njava.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n.....</p>\n</blockquote>\n<p>Line 142 is : window.pack();\nI have added icepdf as a dependency to the app in the local repository.</p>\n<p>I am using Mac OSX 10.15.7 Catalina, JDK 17, Netbeans 16, and Maven 4.0.0.</p>\n<p>What am I missing?\nThanks,\nRich</p>\n<p>Sorry here is the full output:</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError:\norg/icepdf/ri/common/views/Controller     at\ncom.rasweeny.recipes.Recipes.lambda$setupGUI$0(Recipes.java:142)  at\njava.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\nat\njava.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)  at\njava.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)   at\njava.base/java.security.AccessController.doPrivileged(AccessController.java:391)\nat\njava.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat\njava.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\nat\njava.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat\njava.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.ClassNotFoundException:\norg.icepdf.ri.common.views.Controller     at\njava.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\nat\njava.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 14 more rasweeny:recipes rasweeny$</p>\n</blockquote>\n<p>Like I said it works fine launching from Netbeans but I get this error when trying to launch it from my hardd rive.</p>\n"},{"tags":["java","regex","spring"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1661961942,"post_id":73557888,"comment_id":129897658,"body_markdown":"What do you mean &quot;generate this or that&quot;. Do you randomly want to generate both formats? If not, pick one and fake only that. I&#39;m not clear on what your problem actually is. Please isolate the code that isn&#39;t working and provide an [MCVE] and an explanation of what your code is doing wrong and what you&#39;d like it to do.","body":"What do you mean &quot;generate this or that&quot;. Do you randomly want to generate both formats? If not, pick one and fake only that. I&#39;m not clear on what your problem actually is. Please isolate the code that isn&#39;t working and provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and an explanation of what your code is doing wrong and what you&#39;d like it to do."},{"owner":{"display_name":"user6850907"},"score":0,"creation_date":1661962526,"post_id":73557888,"comment_id":129897875,"body_markdown":"I want to generate for example in this code a phone number following 0022378953023.","body":"I want to generate for example in this code a phone number following 0022378953023."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1662045766,"post_id":73557888,"comment_id":129920560,"body_markdown":"The problem (from a quick glance at the `Faker` source code) appears to be that it generates the phone numbers in the format `###-###-####` (or others), such that you are retrieving strings with the dashes included. If you are simply trying to generate the number without slashes, there&#39;s no need at all for the `Faker` library - you can simply use random number generation to generate a number between `0` and `99999999`, using `String#format` to ensure leading zeroes are included for your output.","body":"The problem (from a quick glance at the <code>Faker</code> source code) appears to be that it generates the phone numbers in the format <code>###-###-####</code> (or others), such that you are retrieving strings with the dashes included. If you are simply trying to generate the number without slashes, there&#39;s no need at all for the <code>Faker</code> library - you can simply use random number generation to generate a number between <code>0</code> and <code>99999999</code>, using <code>String#format</code> to ensure leading zeroes are included for your output."}],"answers":[{"tags":[],"owner":{"account_id":26096448,"reputation":13,"user_id":19792519,"display_name":"TecBiio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664779455,"creation_date":1664779336,"answer_id":73931927,"question_id":73557888,"body_markdown":"The regEx you can use to check the match is :\r\n```^00223[0-9]{8}$|^\\+223[0-9]{8}$|^[0-9]{8}$```\r\n\r\nWith this regEx, you have 3 alternatives matches :\r\n- ```^00223[0-9]{8}$```\r\n- ```^\\+223[0-9]{8}$```\r\n- ```^[0-9]{8}$```  \r\n  \r\n```^``` is used to check that you had the next pattern (00223 or +223) at the beginning of the number  \r\n```\\``` is used to not interpret the next character (the ```+```)   \r\n```[0-9]``` is used to check any digit  \r\n```{8}``` is used to check that there are exactly 8 times the previous pattern (```[0-9]```, so 8 digits)  \r\n```$``` is used to check that you have no characters after the previous pattern (nothing after the 8th digit)  \r\nAnd ```|``` is used to have multiple alternatives","title":"How to generate a phone number with eight digits and country code 00223 or +223 with java Faker Library?","body":"<p>The regEx you can use to check the match is :\n<code>^00223[0-9]{8}$|^\\+223[0-9]{8}$|^[0-9]{8}$</code></p>\n<p>With this regEx, you have 3 alternatives matches :</p>\n<ul>\n<li><code>^00223[0-9]{8}$</code></li>\n<li><code>^\\+223[0-9]{8}$</code></li>\n<li><code>^[0-9]{8}$</code></li>\n</ul>\n<p><code>^</code> is used to check that you had the next pattern (00223 or +223) at the beginning of the number<br />\n<code>\\</code> is used to not interpret the next character (the <code>+</code>)<br />\n<code>[0-9]</code> is used to check any digit<br />\n<code>{8}</code> is used to check that there are exactly 8 times the previous pattern (<code>[0-9]</code>, so 8 digits)<br />\n<code>$</code> is used to check that you have no characters after the previous pattern (nothing after the 8th digit)<br />\nAnd <code>|</code> is used to have multiple alternatives</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678706284,"creation_date":1678706284,"answer_id":75721166,"question_id":73557888,"body_markdown":"```java\r\nString phoneNumberExpected = faker.numerify(&quot;89#########&quot;);\r\n```\r\n","title":"How to generate a phone number with eight digits and country code 00223 or +223 with java Faker Library?","body":"<pre class=\"lang-java prettyprint-override\"><code>String phoneNumberExpected = faker.numerify(&quot;89#########&quot;);\n</code></pre>\n"}],"owner":{"display_name":"user6850907"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678706284,"creation_date":1661957888,"question_id":73557888,"body_markdown":" I want to use the Faker java library to generate phone numbers with 00223 or +223 followed by eight digits.The current behavior is that the format of the generated phone number does not match the regexes (^(\\+223|00223)(\\d){8}$)|(^\\d{8}$) and would like generate for example 0022378953023 or +22378953023 or 78953023.\r\n    \r\nThis the method I invoke to generate a random phone number: \r\n    \r\n        private final Faker faker = new Faker(Locale.FRANCE);\r\n        private PhoneNumber randomPhoneNumber() {\r\n    \r\n    \t\treturn new PhoneNumber(&quot;00223&quot;+faker.phoneNumber().phoneNumber().substring(0, 8));\r\n    \t}\r\n    \r\nThe phone Number class is: \r\n    \r\n        public class PhoneNumber {\r\n    \r\n    \t@NotBlank\r\n    \tprivate String phoneNumber;\r\n    \r\n    \tprivate static final Pattern VALIDATION_PATTERN = Pattern.compile(&quot;(^(\\+223|00223)(\\d){8}$)|(^\\d{8}$)&quot;);\r\n    \r\n    \tpublic PhoneNumber(String phString) {\r\n    \t\tAssert.hasText(phString, &quot;PhoneNumber cannot be blank.&quot;);\r\n    \t\tAssert.isTrue(VALIDATION_PATTERN.asPredicate().test(phString), &quot;PhoneNumber does not have proper format.&quot;);\r\n    \t\tthis.phoneNumber = phString;\r\n    \t}\r\n    \r\n    \tpublic String asString() {\r\n    \r\n    \t\treturn phoneNumber;\r\n    \t}\r\n    \r\n    }\r\n    \r\n   Thanks very much in advance.","title":"How to generate a phone number with eight digits and country code 00223 or +223 with java Faker Library?","body":"<p>I want to use the Faker java library to generate phone numbers with 00223 or +223 followed by eight digits.The current behavior is that the format of the generated phone number does not match the regexes (^(+223|00223)(\\d){8}$)|(^\\d{8}$) and would like generate for example 0022378953023 or +22378953023 or 78953023.</p>\n<p>This the method I invoke to generate a random phone number:</p>\n<pre><code>    private final Faker faker = new Faker(Locale.FRANCE);\n    private PhoneNumber randomPhoneNumber() {\n\n        return new PhoneNumber(&quot;00223&quot;+faker.phoneNumber().phoneNumber().substring(0, 8));\n    }\n</code></pre>\n<p>The phone Number class is:</p>\n<pre><code>    public class PhoneNumber {\n\n    @NotBlank\n    private String phoneNumber;\n\n    private static final Pattern VALIDATION_PATTERN = Pattern.compile(&quot;(^(\\+223|00223)(\\d){8}$)|(^\\d{8}$)&quot;);\n\n    public PhoneNumber(String phString) {\n        Assert.hasText(phString, &quot;PhoneNumber cannot be blank.&quot;);\n        Assert.isTrue(VALIDATION_PATTERN.asPredicate().test(phString), &quot;PhoneNumber does not have proper format.&quot;);\n        this.phoneNumber = phString;\n    }\n\n    public String asString() {\n\n        return phoneNumber;\n    }\n\n}\n</code></pre>\n<p>Thanks very much in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1678701704,"post_id":75720045,"comment_id":133578005,"body_markdown":"You didn&#39;t state the problem you&#39;re facing. Reading from a file and substring operations are trivial matters, and there are thousands of tutorials for both. What have you tried so far?","body":"You didn&#39;t state the problem you&#39;re facing. Reading from a file and substring operations are trivial matters, and there are thousands of tutorials for both. What have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678701369,"creation_date":1678701369,"answer_id":75720312,"question_id":75720045,"body_markdown":"Read the file in to list of strings.\r\nFor each row (entry in the list of strings) check if this row (the string) is to be changed. If it is then replace the old value in this string with new value with `String.replace(oldValue, newValue)`.\r\nRewrite the whole file based on your now modified list of strings.\r\n\r\nThis assumes that the file is small enough to be read into memory and that no two processes or threads accesses the file at the same time. Otherwise you will have race conditions and you would have to implement some kind of locking.","title":"Replace a specific field (in a specific postion) by a value from DB","body":"<p>Read the file in to list of strings.\nFor each row (entry in the list of strings) check if this row (the string) is to be changed. If it is then replace the old value in this string with new value with <code>String.replace(oldValue, newValue)</code>.\nRewrite the whole file based on your now modified list of strings.</p>\n<p>This assumes that the file is small enough to be read into memory and that no two processes or threads accesses the file at the same time. Otherwise you will have race conditions and you would have to implement some kind of locking.</p>\n"}],"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1678706029,"creation_date":1678699783,"question_id":75720045,"body_markdown":"Here is my use case , \r\nI&#39;m reading m`y input file`  `file.in` as an `object` then converting it as a `String`\r\n\r\n    0000001HL26110650059147    TEST- TEST                                                                                                               \r\n    0000002HL34110FON202212217835294783529                       20221221123000                 650059147                                                                                                                                \r\n    0000003HL34120FON20221221783529BLE50000395     13626142                                                                         \r\n    0000004HL34120FON20221221783529BLE50000395     13626143                                                                         \r\n   \r\nHere is my positions  (0-7 : it&#39;s a `sequence` ) , (11-14 : it&#39;s my `section`)   and the important one is (47-67 :  it&#39;s the `Oldvalue` that i want to change in one condition if `section` is `equals` to `120`)       \r\n\r\nFor that ,i have to take the  `Oldvalue` from postion `47-67` and check in database using simple query \r\n\r\n    select NewValue from myTable where Oldvalue = &#39;Oldvalue&#39;\r\n\r\n\r\nThen put the `NewValue `   in the place of the  `Oldvalue`    in my `String`\r\n\r\nSo my `output` would be : \r\n\r\n\r\n    0000001HL26110650059147    TEST- TEST                                                                                                               \r\n    0000002HL34110FON202212217835294783529                       20221221123000                 650059147                                                                                                                                \r\n    0000003HL34120FON20221221783529BLE50000395     NewValue1  \r\n    0000004HL34120FON20221221783529BLE50000395     NewValue2 \r\nNote that the other `sections` will remain `unchanged` just the section equals `120` and there is multiple lines where   section equals `120`\r\n\r\nAny idea how to do this please     \r\n\r\nHere is my attemp but could not continue to find solution , \r\n\r\n     try {\r\n            File file = new File(&quot;C:/Users/20230309.in&quot;);\r\n            Scanner scanner = new Scanner(file);\r\n            List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n            while (scanner.hasNextLine()) {\r\n                String line = scanner.nextLine();\r\n                lines.add(line);\r\n            }\r\n            scanner.close();\r\n            System.out.println(lines);\r\n               \r\n    for (String element : lines) {\r\n\r\n\r\n     if (element.length()&gt;11 &amp;&amp; &quot;120&quot;.equals(element.trim().substring(11, 14))) \r\n    {\r\n     String oldValue = element.substring(47, 67);  \r\n\r\n    }\r\n    }       \r\n        \r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File not found.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        \r\n  \r\n\r\n       ","title":"Replace a specific field (in a specific postion) by a value from DB","body":"<p>Here is my use case ,\nI'm reading m<code>y input file</code>  <code>file.in</code> as an <code>object</code> then converting it as a <code>String</code></p>\n<pre><code>0000001HL26110650059147    TEST- TEST                                                                                                               \n0000002HL34110FON202212217835294783529                       20221221123000                 650059147                                                                                                                                \n0000003HL34120FON20221221783529BLE50000395     13626142                                                                         \n0000004HL34120FON20221221783529BLE50000395     13626143                                                                         \n</code></pre>\n<p>Here is my positions  (0-7 : it's a <code>sequence</code> ) , (11-14 : it's my <code>section</code>)   and the important one is (47-67 :  it's the <code>Oldvalue</code> that i want to change in one condition if <code>section</code> is <code>equals</code> to <code>120</code>)</p>\n<p>For that ,i have to take the  <code>Oldvalue</code> from postion <code>47-67</code> and check in database using simple query</p>\n<pre><code>select NewValue from myTable where Oldvalue = 'Oldvalue'\n</code></pre>\n<p>Then put the <code>NewValue </code>   in the place of the  <code>Oldvalue</code>    in my <code>String</code></p>\n<p>So my <code>output</code> would be :</p>\n<pre><code>0000001HL26110650059147    TEST- TEST                                                                                                               \n0000002HL34110FON202212217835294783529                       20221221123000                 650059147                                                                                                                                \n0000003HL34120FON20221221783529BLE50000395     NewValue1  \n0000004HL34120FON20221221783529BLE50000395     NewValue2 \n</code></pre>\n<p>Note that the other <code>sections</code> will remain <code>unchanged</code> just the section equals <code>120</code> and there is multiple lines where   section equals <code>120</code></p>\n<p>Any idea how to do this please</p>\n<p>Here is my attemp but could not continue to find solution ,</p>\n<pre><code> try {\n        File file = new File(&quot;C:/Users/20230309.in&quot;);\n        Scanner scanner = new Scanner(file);\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n        while (scanner.hasNextLine()) {\n            String line = scanner.nextLine();\n            lines.add(line);\n        }\n        scanner.close();\n        System.out.println(lines);\n           \nfor (String element : lines) {\n\n\n if (element.length()&gt;11 &amp;&amp; &quot;120&quot;.equals(element.trim().substring(11, 14))) \n{\n String oldValue = element.substring(47, 67);  \n\n}\n}       \n    \n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;File not found.&quot;);\n        e.printStackTrace();\n    }\n    \n\n\n   \n</code></pre>\n"},{"tags":["java","sql","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":10308421,"reputation":21,"user_id":7604974,"display_name":"Mahmoud alfayoumi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678706009,"creation_date":1678706009,"answer_id":75721117,"question_id":75263501,"body_markdown":"It seems you need to build a filter method to take the values input and then construct them as SQL select statement in a dynamic way\r\nsuppose that the values that comes from user input is a Map object like this:\r\n\r\n        Map&lt;String, String&gt; searchTerms = new HashMap&lt;&gt;();\r\n        searchTerms.put(&quot;IDS&quot;, &quot;101G&quot;);\r\n        searchTerms.put(&quot;IDS&quot;, &quot;14F&quot;);\r\n        searchTerms.put(&quot;IDS&quot;, &quot;701G&quot;);\r\nThen you can generate the SQL query using buildSelectQuery method bellow:  \r\n \r\n    public String buildSelectQuery(Map&lt;String, String&gt; searchTerms, String tableName) {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;SELECT * FROM &quot;).append(tableName).append(&quot; WHERE &quot;);\r\n\r\n        for (Map.Entry&lt;String, String&gt; entry : searchTerms.entrySet()) {\r\n            String column = entry.getKey();\r\n            String value = entry.getValue();\r\n            sb.append(column).append(&quot; LIKE &#39;%&quot;).append(value).append(&quot;%&#39; AND &quot;);\r\n        }\r\n\r\n        sb.delete(sb.length() - 5, sb.length()); // Remove the trailing &quot; AND &quot;\r\n\r\n        return sb.toString();\r\n    }\r\nFinally, you can generate the SQL select query by calling the mentioned method:\r\n\r\n        MyQueryBuilder qb = new MyQueryBuilder();\r\n        String query = qb.buildSelectQuery(searchTerms, &quot;test.new_table&quot;);\r\n\r\n        System.out.println(query);\r\n\r\n ","title":"JdbcTemplate Reading a table with a list of filter values (with AND and LIKE )and returning a list of string","body":"<p>It seems you need to build a filter method to take the values input and then construct them as SQL select statement in a dynamic way\nsuppose that the values that comes from user input is a Map object like this:</p>\n<pre><code>    Map&lt;String, String&gt; searchTerms = new HashMap&lt;&gt;();\n    searchTerms.put(&quot;IDS&quot;, &quot;101G&quot;);\n    searchTerms.put(&quot;IDS&quot;, &quot;14F&quot;);\n    searchTerms.put(&quot;IDS&quot;, &quot;701G&quot;);\n</code></pre>\n<p>Then you can generate the SQL query using buildSelectQuery method bellow:</p>\n<pre><code>public String buildSelectQuery(Map&lt;String, String&gt; searchTerms, String tableName) {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;SELECT * FROM &quot;).append(tableName).append(&quot; WHERE &quot;);\n\n    for (Map.Entry&lt;String, String&gt; entry : searchTerms.entrySet()) {\n        String column = entry.getKey();\n        String value = entry.getValue();\n        sb.append(column).append(&quot; LIKE '%&quot;).append(value).append(&quot;%' AND &quot;);\n    }\n\n    sb.delete(sb.length() - 5, sb.length()); // Remove the trailing &quot; AND &quot;\n\n    return sb.toString();\n}\n</code></pre>\n<p>Finally, you can generate the SQL select query by calling the mentioned method:</p>\n<pre><code>    MyQueryBuilder qb = new MyQueryBuilder();\n    String query = qb.buildSelectQuery(searchTerms, &quot;test.new_table&quot;);\n\n    System.out.println(query);\n</code></pre>\n"}],"owner":{"account_id":17575474,"reputation":19,"user_id":12750330,"display_name":"ju09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678706009,"creation_date":1674854663,"question_id":75263501,"body_markdown":"How should I go about creating a Java method that can perform this operation?\r\n\r\n``` SQL\r\n\r\n\t\tSELECT * FROM test.new_table\r\n\t\tWHERE IDS LIKE &quot;%101G%&quot;\r\n\t\tAND IDS LIKE &quot;%14F%&quot;\r\n        AND IDS LIKE &quot;%701G%&quot;\r\n```\r\n\r\nI realized that my current code is OR operation rather than AND\r\n\r\n``` java\t\r\npublic List&lt;String&gt; readFileNamesBy(String tableName, String categoryName, List&lt;String&gt; filterValues) {\r\n\t\tString sql = &quot;select * from &quot; + tableName + &quot; where &quot;+ categoryName + &quot; like ?&quot;;\r\n\t\tJdbcTemplate jt = new JdbcTemplate(dataSource);\r\n\r\n\r\n\t\tfinal List&lt;String&gt; fileNames = new ArrayList&lt;String&gt;();\r\n\t\tfor (String filterValue : filterValues){\r\n\t\t\tjt.query(sql,\r\n\t\t\t\t\tnew Object[] { filterValue },\r\n\t\t\t\t\tnew RowCallbackHandler() {\r\n\t\t\t\t\t\tpublic void processRow(ResultSet rs) throws SQLException {\r\n\t\t\t\t\t\t\tfileNames.add(rs.getString(&quot;FILE_NAME&quot;));\r\n\t\t\t\t\t\t}});\r\n\t\t}\r\n\t\treturn fileNames;\r\n\t}\r\n\r\n```\r\n\r\nNote that ```List &lt;String&gt; filterValues``` could vary in length... so that&#39;s why I decided to go with a for loop here.\r\n\r\nBtw Idk if it matters but I&#39;m using Java 8 (since that&#39;s what this whole program is written) and I can&#39;t really do anything about it..\r\n\r\nAnd here is my implementation of the method (fyi)\r\n\r\n```java\r\n        List &lt;String&gt; filterValues = Arrays.asList(&quot;%101G%&quot;, &quot;%14F%&quot;);\r\n        List &lt;String&gt; hi = dbUtil.readFileNamesBy(&quot;test.new_table&quot;,&quot;IDS&quot;, filterValues);\r\n```","title":"JdbcTemplate Reading a table with a list of filter values (with AND and LIKE )and returning a list of string","body":"<p>How should I go about creating a Java method that can perform this operation?</p>\n<pre><code>\n        SELECT * FROM test.new_table\n        WHERE IDS LIKE &quot;%101G%&quot;\n        AND IDS LIKE &quot;%14F%&quot;\n        AND IDS LIKE &quot;%701G%&quot;\n</code></pre>\n<p>I realized that my current code is OR operation rather than AND</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; readFileNamesBy(String tableName, String categoryName, List&lt;String&gt; filterValues) {\n        String sql = &quot;select * from &quot; + tableName + &quot; where &quot;+ categoryName + &quot; like ?&quot;;\n        JdbcTemplate jt = new JdbcTemplate(dataSource);\n\n\n        final List&lt;String&gt; fileNames = new ArrayList&lt;String&gt;();\n        for (String filterValue : filterValues){\n            jt.query(sql,\n                    new Object[] { filterValue },\n                    new RowCallbackHandler() {\n                        public void processRow(ResultSet rs) throws SQLException {\n                            fileNames.add(rs.getString(&quot;FILE_NAME&quot;));\n                        }});\n        }\n        return fileNames;\n    }\n\n</code></pre>\n<p>Note that <code>List &lt;String&gt; filterValues</code> could vary in length... so that's why I decided to go with a for loop here.</p>\n<p>Btw Idk if it matters but I'm using Java 8 (since that's what this whole program is written) and I can't really do anything about it..</p>\n<p>And here is my implementation of the method (fyi)</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List &lt;String&gt; filterValues = Arrays.asList(&quot;%101G%&quot;, &quot;%14F%&quot;);\n        List &lt;String&gt; hi = dbUtil.readFileNamesBy(&quot;test.new_table&quot;,&quot;IDS&quot;, filterValues);\n</code></pre>\n"},{"tags":["java","java-stream","java-17"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678705966,"creation_date":1678658459,"answer_id":75716639,"question_id":75716563,"body_markdown":"Here is one way. I am using a record to simulate cards as as simple integer.\r\n\r\n- First stream the number of players via `IntStream`.\r\n- then create a `subList` taking the proper number of cards for each player.\r\n- the above is `mapped` to place each new &quot;hand&quot; on the stream.\r\n- then return each `hand` in list of lists.\r\n```\r\nrecord Card(int a) {\r\n}\r\n\r\nInteger numberOfPlayers = 3;\r\nInteger numberOfCardsPerPlayer = 5;\r\nList&lt;Card&gt; cards = IntStream.range(0, numberOfPlayer*numberOfCardsPerPlayer).mapToObj(i -&gt; new Card(i))\r\n        .toList();\r\n\r\n List&lt;List&lt;Card&gt;&gt; hands = IntStream.range(0, numberOfPlayers)\r\n                .&lt;List&lt;Card&gt;&gt;mapToObj(player -&gt; new ArrayList&lt;&gt;(\r\n                        cards.subList(player * numberOfCardsPerPlayer,\r\n                                (player + 1) * numberOfCardsPerPlayer)))\r\n                .toList();\r\n\r\nhands.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n[Card[a=0], Card[a=1], Card[a=2], Card[a=3], Card[a=4]]\r\n[Card[a=5], Card[a=6], Card[a=7], Card[a=8], Card[a=9]]\r\n[Card[a=10], Card[a=11], Card[a=12], Card[a=13], Card[a=14]]\r\n```\r\nThe reason I add the `subList` as an argument to `ArrayList` is because a subList provided a view of the original list.  So if you alter a subList, you change the original list.   Creating a new `ArrayList` makes the `sublist` independent.","title":"Java 8 Split a stream into multiple streams of the same size (deck of cards)","body":"<p>Here is one way. I am using a record to simulate cards as as simple integer.</p>\n<ul>\n<li>First stream the number of players via <code>IntStream</code>.</li>\n<li>then create a <code>subList</code> taking the proper number of cards for each player.</li>\n<li>the above is <code>mapped</code> to place each new &quot;hand&quot; on the stream.</li>\n<li>then return each <code>hand</code> in list of lists.</li>\n</ul>\n<pre><code>record Card(int a) {\n}\n\nInteger numberOfPlayers = 3;\nInteger numberOfCardsPerPlayer = 5;\nList&lt;Card&gt; cards = IntStream.range(0, numberOfPlayer*numberOfCardsPerPlayer).mapToObj(i -&gt; new Card(i))\n        .toList();\n\n List&lt;List&lt;Card&gt;&gt; hands = IntStream.range(0, numberOfPlayers)\n                .&lt;List&lt;Card&gt;&gt;mapToObj(player -&gt; new ArrayList&lt;&gt;(\n                        cards.subList(player * numberOfCardsPerPlayer,\n                                (player + 1) * numberOfCardsPerPlayer)))\n                .toList();\n\nhands.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>[Card[a=0], Card[a=1], Card[a=2], Card[a=3], Card[a=4]]\n[Card[a=5], Card[a=6], Card[a=7], Card[a=8], Card[a=9]]\n[Card[a=10], Card[a=11], Card[a=12], Card[a=13], Card[a=14]]\n</code></pre>\n<p>The reason I add the <code>subList</code> as an argument to <code>ArrayList</code> is because a subList provided a view of the original list.  So if you alter a subList, you change the original list.   Creating a new <code>ArrayList</code> makes the <code>sublist</code> independent.</p>\n"}],"owner":{"account_id":12170165,"reputation":3,"user_id":8885122,"display_name":"hubert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75716639,"answer_count":1,"score":0,"last_activity_date":1678705966,"creation_date":1678657488,"question_id":75716563,"body_markdown":"I&#39;m using JavaSE-17\r\n\r\nA - I have 3 things :\r\n\r\n(1) A list of n cards, say:\r\n\r\n```\r\nList&lt;Card&gt; cards;                      // where Card is a Record\r\nInterger numberOfCards = cards.size(); // Usually cards.size() == 52\r\n```\r\n\r\n(2) A number of players, say: \r\n\r\n```\r\nInteger numberOfPlayers;\r\n```\r\n\r\n(3) A number of cards to deal to each player, say:\r\n\r\n```\r\nInteger numberOfCardsPerPlayer;\r\n```\r\n\r\nAssuming :\r\n- Each player receive the same number of card (`numberOfCardsPerPlayer`).\r\n- `numberOfCardsPerPlayer * numberOfPlayers &lt;= numberOfCards`\r\n\r\nB - I want to get a list containing `numberOfPlayers` lists of cards where each list of cards contains exactly `numberOfCardsPerPlayer` cards.\r\n\r\nFor example, if I have a deck of 52 cards, 3 players and 5 cards per player, I should get a list of 3 lists of cards with each list of cards contains 5 cards.\r\n\r\nC - Question\r\n\r\nIs there a way of doing it without the `AtomicInteger` and without calling `stream` two times? (and without using loops or external librairies).\r\n\r\n\r\nD - The code below works but feels strange (using `AtomicInteger` feels like cheating because I try to avoid mutability and I&#39;m not sure calling `stream` two times is good practice)\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class DeckOfCards {\r\n\tpublic enum Suit {CLUB, DIAMOND, HEART, SPADE}\r\n\tpublic enum Value {TWO, THREE, FOUR, FIVE, SIX, SEVEN}\r\n\r\n\tpublic record Card(Suit suit,  Value value) {}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger numberOfPlayers = 3;\r\n\t\tInteger numberOfCardsPerPlayer = 2;\r\n\t\tList&lt;Card&gt; cards = new ArrayList&lt;Card&gt;(\r\n\t\t\t\tArrays.asList(new Card(Suit.CLUB, Value.TWO),\r\n\t\t\t\t\t\tnew Card(Suit.DIAMOND, Value.SIX),\r\n\t\t\t\t\t\tnew Card(Suit.HEART, Value.FOUR),\r\n\t\t\t\t\t\tnew Card(Suit.SPADE, Value.SEVEN),\r\n\t\t\t\t\t\tnew Card(Suit.HEART, Value.FIVE),\r\n\t\t\t\t\t\tnew Card(Suit.CLUB, Value.FOUR),\r\n\t\t\t\t\t\tnew Card(Suit.SPADE, Value.THREE)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t);\r\n\r\n\t\tAtomicInteger counter = new AtomicInteger();\r\n\t\tList&lt;List&lt;Card&gt;&gt; result = \r\n\t\t\t\tcards.stream()\r\n\t\t\t\t.limit(numberOfCardsPerPlayer * numberOfPlayers)\r\n\t\t\t\t.collect(Collectors.groupingBy(x -&gt; counter.getAndIncrement() / numberOfCardsPerPlayer))\r\n\t\t\t\t.values()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\tSystem.out.println(result);\r\n\t\t// Prints :\r\n\t\t// [\r\n\t\t//   [Card[suit=CLUB, value=TWO], Card[suit=DIAMOND, value=SIX]]\r\n\t\t// , [Card[suit=HEART, value=FOUR], Card[suit=SPADE, value=SEVEN]]\r\n\t\t// , [Card[suit=HEART, value=FIVE], Card[suit=CLUB, value=FOUR]]\r\n\t\t// ]\r\n\r\n\t}\r\n}\r\n```","title":"Java 8 Split a stream into multiple streams of the same size (deck of cards)","body":"<p>I'm using JavaSE-17</p>\n<p>A - I have 3 things :</p>\n<p>(1) A list of n cards, say:</p>\n<pre><code>List&lt;Card&gt; cards;                      // where Card is a Record\nInterger numberOfCards = cards.size(); // Usually cards.size() == 52\n</code></pre>\n<p>(2) A number of players, say:</p>\n<pre><code>Integer numberOfPlayers;\n</code></pre>\n<p>(3) A number of cards to deal to each player, say:</p>\n<pre><code>Integer numberOfCardsPerPlayer;\n</code></pre>\n<p>Assuming :</p>\n<ul>\n<li>Each player receive the same number of card (<code>numberOfCardsPerPlayer</code>).</li>\n<li><code>numberOfCardsPerPlayer * numberOfPlayers &lt;= numberOfCards</code></li>\n</ul>\n<p>B - I want to get a list containing <code>numberOfPlayers</code> lists of cards where each list of cards contains exactly <code>numberOfCardsPerPlayer</code> cards.</p>\n<p>For example, if I have a deck of 52 cards, 3 players and 5 cards per player, I should get a list of 3 lists of cards with each list of cards contains 5 cards.</p>\n<p>C - Question</p>\n<p>Is there a way of doing it without the <code>AtomicInteger</code> and without calling <code>stream</code> two times? (and without using loops or external librairies).</p>\n<p>D - The code below works but feels strange (using <code>AtomicInteger</code> feels like cheating because I try to avoid mutability and I'm not sure calling <code>stream</code> two times is good practice)</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.Collectors;\n\npublic class DeckOfCards {\n    public enum Suit {CLUB, DIAMOND, HEART, SPADE}\n    public enum Value {TWO, THREE, FOUR, FIVE, SIX, SEVEN}\n\n    public record Card(Suit suit,  Value value) {}\n\n    public static void main(String[] args) {\n        Integer numberOfPlayers = 3;\n        Integer numberOfCardsPerPlayer = 2;\n        List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;(\n                Arrays.asList(new Card(Suit.CLUB, Value.TWO),\n                        new Card(Suit.DIAMOND, Value.SIX),\n                        new Card(Suit.HEART, Value.FOUR),\n                        new Card(Suit.SPADE, Value.SEVEN),\n                        new Card(Suit.HEART, Value.FIVE),\n                        new Card(Suit.CLUB, Value.FOUR),\n                        new Card(Suit.SPADE, Value.THREE)\n                        )\n                );\n\n        AtomicInteger counter = new AtomicInteger();\n        List&lt;List&lt;Card&gt;&gt; result = \n                cards.stream()\n                .limit(numberOfCardsPerPlayer * numberOfPlayers)\n                .collect(Collectors.groupingBy(x -&gt; counter.getAndIncrement() / numberOfCardsPerPlayer))\n                .values()\n                .stream()\n                .collect(Collectors.toList());\n        \n        System.out.println(result);\n        // Prints :\n        // [\n        //   [Card[suit=CLUB, value=TWO], Card[suit=DIAMOND, value=SIX]]\n        // , [Card[suit=HEART, value=FOUR], Card[suit=SPADE, value=SEVEN]]\n        // , [Card[suit=HEART, value=FIVE], Card[suit=CLUB, value=FOUR]]\n        // ]\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jdbc","jdbctemplate"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1678361064,"post_id":75682816,"comment_id":133519145,"body_markdown":"does this help? https://stackoverflow.com/questions/51739841/how-to-disable-spring-hibernate-hazelcast-joint-cache","body":"does this help? <a href=\"https://stackoverflow.com/questions/51739841/how-to-disable-spring-hibernate-hazelcast-joint-cache\" title=\"how to disable spring hibernate hazelcast joint cache\">stackoverflow.com/questions/51739841/&hellip;</a>"},{"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"score":0,"creation_date":1678363382,"post_id":75682816,"comment_id":133519774,"body_markdown":"@JAsgarov no. I don&#39;t use second level cache. As I know it is disable by default. But thank you!","body":"@JAsgarov no. I don&#39;t use second level cache. As I know it is disable by default. But thank you!"},{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":1,"creation_date":1678364133,"post_id":75682816,"comment_id":133520010,"body_markdown":"will this help? https://stackoverflow.com/questions/7933617/getting-old-data-with-jpa","body":"will this help? <a href=\"https://stackoverflow.com/questions/7933617/getting-old-data-with-jpa\" title=\"getting old data with jpa\">stackoverflow.com/questions/7933617/getting-old-data-with-jp&zwnj;&#8203;a</a>"},{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":1,"creation_date":1678368253,"post_id":75682816,"comment_id":133521299,"body_markdown":"Could you try clearing the entityManager before calling findById to see what happens: entityManager.clear();","body":"Could you try clearing the entityManager before calling findById to see what happens: entityManager.clear();"},{"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"score":0,"creation_date":1678372431,"post_id":75682816,"comment_id":133522675,"body_markdown":"@JavaLearner1, Meac Bannout thank you! Now it&#39;s work. But could you give me a complete explanation? As I understand Hibernate has first level cache or PersistenceContext which save all entities in one session. I had it in one state, then another micoservice changes the row in DB, but I still got the the same entity. \nentityManager.clear() - clear this context and everything is fine. But as I understand in my case: Spring JDBC works with DB directly?\nAnd as I use Spring data through CrudRepository I needed to add &quot;EntityManager entityManager&quot;. Is it a good way? Or I can use some annotation?","body":"@JavaLearner1, Meac Bannout thank you! Now it&#39;s work. But could you give me a complete explanation? As I understand Hibernate has first level cache or PersistenceContext which save all entities in one session. I had it in one state, then another micoservice changes the row in DB, but I still got the the same entity.  entityManager.clear() - clear this context and everything is fine. But as I understand in my case: Spring JDBC works with DB directly? And as I use Spring data through CrudRepository I needed to add &quot;EntityManager entityManager&quot;. Is it a good way? Or I can use some annotation?"}],"answers":[{"tags":[],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678705310,"creation_date":1678705310,"answer_id":75720992,"question_id":75682816,"body_markdown":"As guys in comments said: I need to write:\r\n\r\n    entityManager.clear()","title":"Spring data and spring JDBC return a different value","body":"<p>As guys in comments said: I need to write:</p>\n<pre><code>entityManager.clear()\n</code></pre>\n"}],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678705310,"creation_date":1678355072,"question_id":75682816,"body_markdown":"everyone! I have a problem. I use Spring Data in my project with some microservices.\r\nOne of them changes a row in DB. Then in my microservice I check that row. The main problem is that findById() method of Spring Data return old, not changed value. \r\nI put a breakpoin, my eyes see one value in DB, but repository give me another one.\r\nAfter some experiments I decided to try to write this query throught Spring JBDC. And now - everything is okay. \r\nThis is Spring Data query:\r\n\r\n    Optional&lt;MessageLog&gt; byId = messageLogRepository.findById(id);\r\n\r\nThis is Spring JDBC: \r\n\r\n    public MessageLog findByIdJdbc(String id) {\r\n        SqlParameterSource sqlParameterSource = new MapSqlParameterSource(&quot;id&quot;, id);\r\n        String findByIdSQL = &quot;SELECT * from MESSAGESLOG where ID = :id&quot;;\r\n        return namedParameterJdbcTemplate.queryForObject(findByIdSQL, sqlParameterSource, rowMapper);\r\n        }\r\n\r\nCould you, please, give me an explanation or an article? I think that the problem can be in cache. But did not find an answer.","title":"Spring data and spring JDBC return a different value","body":"<p>everyone! I have a problem. I use Spring Data in my project with some microservices.\nOne of them changes a row in DB. Then in my microservice I check that row. The main problem is that findById() method of Spring Data return old, not changed value.\nI put a breakpoin, my eyes see one value in DB, but repository give me another one.\nAfter some experiments I decided to try to write this query throught Spring JBDC. And now - everything is okay.\nThis is Spring Data query:</p>\n<pre><code>Optional&lt;MessageLog&gt; byId = messageLogRepository.findById(id);\n</code></pre>\n<p>This is Spring JDBC:</p>\n<pre><code>public MessageLog findByIdJdbc(String id) {\n    SqlParameterSource sqlParameterSource = new MapSqlParameterSource(&quot;id&quot;, id);\n    String findByIdSQL = &quot;SELECT * from MESSAGESLOG where ID = :id&quot;;\n    return namedParameterJdbcTemplate.queryForObject(findByIdSQL, sqlParameterSource, rowMapper);\n    }\n</code></pre>\n<p>Could you, please, give me an explanation or an article? I think that the problem can be in cache. But did not find an answer.</p>\n"},{"tags":["java","apache-kafka","jakarta-ee","jboss"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678756880,"post_id":75720973,"comment_id":133591870,"body_markdown":"Does this help http://www.mastertheboss.com/jboss-frameworks/apache-kafka/getting-started-with-apache-kafka-and-wildfly/?","body":"Does this help <a href=\"http://www.mastertheboss.com/jboss-frameworks/apache-kafka/getting-started-with-apache-kafka-and-wildfly/\" rel=\"nofollow noreferrer\">mastertheboss.com/jboss-frameworks/apache-kafka/&hellip;</a>?"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1679072409,"post_id":75720973,"comment_id":133661284,"body_markdown":"Take a look at [Quarkus](https://quarkus.io)","body":"Take a look at <a href=\"https://quarkus.io\" rel=\"nofollow noreferrer\">Quarkus</a>"}],"owner":{"account_id":1854123,"reputation":79,"user_id":1680071,"display_name":"EbrahimFarahmand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678705168,"creation_date":1678705168,"question_id":75720973,"body_markdown":"I want to use Kafka service with Jakarta ee technology and Jboss/Wildfly server application to manage large volume of messages. Can anyone suggest a sample code for this? Or a document that explains this in detail","title":"Sample Kafka code in J2ee and Jboss/Wildfly Application Server","body":"<p>I want to use Kafka service with Jakarta ee technology and Jboss/Wildfly server application to manage large volume of messages. Can anyone suggest a sample code for this? Or a document that explains this in detail</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678694897,"post_id":75718758,"comment_id":133576287,"body_markdown":"what is the @RequestMapping of the controller? how does the request you are sending look like? is there any error in logs?","body":"what is the @RequestMapping of the controller? how does the request you are sending look like? is there any error in logs?"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1678697442,"post_id":75718758,"comment_id":133576848,"body_markdown":"Here is sample request sent : {  \n   &quot;searchString&quot;:&quot;some search str&quot;,\n   &quot;type&quot; : &quot;VALUE5&quot;,\n   &quot;description&quot;: &quot;some description&quot; \n}   , The problematic field is TYPE . Did not found errors in log .","body":"Here is sample request sent : {      &quot;searchString&quot;:&quot;some search str&quot;,    &quot;type&quot; : &quot;VALUE5&quot;,    &quot;description&quot;: &quot;some description&quot;  }   , The problematic field is TYPE . Did not found errors in log ."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678697891,"post_id":75718758,"comment_id":133576960,"body_markdown":"can you update the question and share the whole `MyRequestDTO` and `BaseDTO` ? probably it is a json deserializing issue","body":"can you update the question and share the whole <code>MyRequestDTO</code> and <code>BaseDTO</code> ? probably it is a json deserializing issue"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1678698546,"post_id":75718758,"comment_id":133577149,"body_markdown":"May be helpful: [https://stackoverflow.com/a/64576320/10231374](https://stackoverflow.com/a/64576320/10231374)","body":"May be helpful: <a href=\"https://stackoverflow.com/a/64576320/10231374\">https://stackoverflow.com/a/64576320/10231374</a>"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1678698904,"post_id":75718758,"comment_id":133577229,"body_markdown":"EmanuelTrandafir , birca123 - Thanks - I succeeded to catch the exception - it is HttpMessageNotReadableException with &quot;JSON parse error..&quot;.","body":"EmanuelTrandafir , birca123 - Thanks - I succeeded to catch the exception - it is HttpMessageNotReadableException with &quot;JSON parse error..&quot;."}],"answers":[{"tags":[],"owner":{"account_id":27808952,"reputation":111,"user_id":21336006,"display_name":"Tonny Liu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678704844,"creation_date":1678704844,"answer_id":75720916,"question_id":75718758,"body_markdown":"This may be a parameter parsing error: JSON parse error.\r\n\r\nfixed:\r\n\r\n    @ExceptionHandler({HttpMessageNotReadableException.class})","title":"Spring : Exception handler does not catch exception for wrong enum value","body":"<p>This may be a parameter parsing error: JSON parse error.</p>\n<p>fixed:</p>\n<pre><code>@ExceptionHandler({HttpMessageNotReadableException.class})\n</code></pre>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678704844,"creation_date":1678690286,"question_id":75718758,"body_markdown":"When calling myPOstMethod of RESTful app , I got error &quot;400 bad request&quot; with no response body\r\n\r\nThe method definition is \r\n\r\n    @PostMapping()\r\n    public MyResponseDTO myPostMethod(\r\n                @Parameter(description = &quot;Paramdescription&quot;)\r\n                @PathVariable String tokenParam,\r\n                @RequestBody MyRequestDTO requestBody\r\n        ) \r\n    \t{\t\r\n            //fill response ...\r\n    \t\treturn new MyResponseDTO(datafilled);\r\n        } \r\n\r\nMyRequestDTO has field definied as following \r\n\r\n    public class MyRequestDTO extends BaseDTO {\r\n    \r\n        ......\r\n    \r\n        @Override\r\n        public ExpType getExpType() {\r\n            return super.getExpType();\r\n        }\r\n        \r\n    }\r\n    \r\n    public enum ExpType {\r\n        VALUE1,\r\n        VALUE2,\r\n        VALUE3\r\n    }\r\n\r\nThe error occurs when request value which is NOT contain in the Enum (for example VALUE5 ) \r\n\r\nI am using \r\n\r\n    @ControllerAdvice\r\n    public class GlobalControllerExceptionHandler extends ResponseEntityExceptionHandler \r\n\r\nAs proposed [here][1] I am using GlobalControllerExceptionHandler annotated with @ControllerAdvice\r\n\r\nWith method to catch all exceptions defined as following \r\n\r\n    @ExceptionHandler(Exception.class)\r\n    @ResponseBody\r\n    ResponseEntity&lt;Object&gt; handleGeneralException(HttpServletRequest request, Exception ex) {\r\n    \t.....\r\n    } \r\n\r\nBut seems that this method does not called\r\n\r\nWhat should be correct handler definition for such case ? \r\nThanks in advance \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41292788/spring-rest-handling-empty-request-body-400-bad-request?rq=1","title":"Spring : Exception handler does not catch exception for wrong enum value","body":"<p>When calling myPOstMethod of RESTful app , I got error &quot;400 bad request&quot; with no response body</p>\n<p>The method definition is</p>\n<pre><code>@PostMapping()\npublic MyResponseDTO myPostMethod(\n            @Parameter(description = &quot;Paramdescription&quot;)\n            @PathVariable String tokenParam,\n            @RequestBody MyRequestDTO requestBody\n    ) \n    {   \n        //fill response ...\n        return new MyResponseDTO(datafilled);\n    } \n</code></pre>\n<p>MyRequestDTO has field definied as following</p>\n<pre><code>public class MyRequestDTO extends BaseDTO {\n\n    ......\n\n    @Override\n    public ExpType getExpType() {\n        return super.getExpType();\n    }\n    \n}\n\npublic enum ExpType {\n    VALUE1,\n    VALUE2,\n    VALUE3\n}\n</code></pre>\n<p>The error occurs when request value which is NOT contain in the Enum (for example VALUE5 )</p>\n<p>I am using</p>\n<pre><code>@ControllerAdvice\npublic class GlobalControllerExceptionHandler extends ResponseEntityExceptionHandler \n</code></pre>\n<p>As proposed <a href=\"https://stackoverflow.com/questions/41292788/spring-rest-handling-empty-request-body-400-bad-request?rq=1\">here</a> I am using GlobalControllerExceptionHandler annotated with @ControllerAdvice</p>\n<p>With method to catch all exceptions defined as following</p>\n<pre><code>@ExceptionHandler(Exception.class)\n@ResponseBody\nResponseEntity&lt;Object&gt; handleGeneralException(HttpServletRequest request, Exception ex) {\n    .....\n} \n</code></pre>\n<p>But seems that this method does not called</p>\n<p>What should be correct handler definition for such case ?\nThanks in advance</p>\n"},{"tags":["java","griddb"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1678706840,"post_id":75720885,"comment_id":133579516,"body_markdown":"Im not familiar with griddb, so heres my general 2c thoughts.  All the griddb classes (including RowKey) will be in their jar file - have you downloaded that ?   Also using javac would mean youre having to download that and its dependencies - have you tried maven (as described https://griddb.net/en/blog/using-maven-to-develop-griddb-applications/ ) ?","body":"Im not familiar with griddb, so heres my general 2c thoughts.  All the griddb classes (including RowKey) will be in their jar file - have you downloaded that ?   Also using javac would mean youre having to download that and its dependencies - have you tried maven (as described <a href=\"https://griddb.net/en/blog/using-maven-to-develop-griddb-applications/\" rel=\"nofollow noreferrer\">griddb.net/en/blog/using-maven-to-develop-griddb-application&zwnj;&#8203;s</a> ) ?"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1678714657,"post_id":75720885,"comment_id":133581848,"body_markdown":"Check your CLASSPATH, if you have included required Jar files, from command-lie you could also use the -cp option.","body":"Check your CLASSPATH, if you have included required Jar files, from command-lie you could also use the -cp option."}],"owner":{"account_id":27489496,"reputation":31,"user_id":20975146,"display_name":"JillT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678704667,"creation_date":1678704667,"question_id":75720885,"body_markdown":"I&#39;m trying to write a test Java program to access data in GridDB, similar to the example in the GridDB documentation here: https://docs.griddb.net/latest/gettingstarted/java/#simulate-iot-data-with-java.\r\n\r\nBefore putting any actual action into the program, I tried to compile it to make sure the compilation will work. At this stage, my code looks like this:\r\n```\r\nimport com.toshiba.mwcloud.gs.Collection;\r\nimport com.toshiba.mwcloud.gs.GSException;\r\nimport com.toshiba.mwcloud.gs.GridStore;\r\nimport com.toshiba.mwcloud.gs.GridStoreFactory;\r\nimport com.toshiba.mwcloud.gs.Query;\r\nimport com.toshiba.mwcloud.gs.RowKey;\r\nimport com.toshiba.mwcloud.gs.RowSet;\r\nimport java.util.*;\r\npublic class GriddbTest\r\n{\r\nstatic class test1\r\n{\r\n@Rowkey String account;\r\nString name;\r\nString address;\r\n}\r\npublic static void main (String[] args)\r\n{\r\nProperties props = new Properties();\r\nprops.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\r\nprops.setProperty(&quot;notificationPort&quot;, &quot;31999&quot;);\r\nprops.setProperty(&quot;clusterName&quot;, &quot;defaultCluster&quot;);\r\nprops.setProperty(&quot;user&quot;, &quot;admin&quot;);\r\nprops.setProperty(&quot;password&quot;, &quot;admin&quot;);\r\nGridStore store = GridStoreFactory.getInstance().getGridStore(props);\r\n}\r\n}\r\n```\r\nI included the @RowKey directive as per the sample program. However, when I compile it, I get the following error:\r\n\r\n\r\n```\r\ngsadm@Ubuntu:~$ javac GriddbTest.java\r\nGriddbTest.java:13: error: cannot find symbol\r\n@Rowkey String account;\r\n ^\r\n  symbol:   class Rowkey\r\n  location: class test1\r\n1 error\r\n\r\n```\r\n\r\n\r\nSo it&#39;s not recognizing the @Rowkey directive.\r\n\r\nIs there something I need to have first set up in my environment in order for this directive to work?\r\n\r\nThanks a lot\r\n\r\nI&#39;ve tried going through the documentation to see if I have missed out any steps when installing and setting up environment variables, but can&#39;t find anything relevant ","title":"Compiler error when using Java with GridDB","body":"<p>I'm trying to write a test Java program to access data in GridDB, similar to the example in the GridDB documentation here: <a href=\"https://docs.griddb.net/latest/gettingstarted/java/#simulate-iot-data-with-java\" rel=\"nofollow noreferrer\">https://docs.griddb.net/latest/gettingstarted/java/#simulate-iot-data-with-java</a>.</p>\n<p>Before putting any actual action into the program, I tried to compile it to make sure the compilation will work. At this stage, my code looks like this:</p>\n<pre><code>import com.toshiba.mwcloud.gs.Collection;\nimport com.toshiba.mwcloud.gs.GSException;\nimport com.toshiba.mwcloud.gs.GridStore;\nimport com.toshiba.mwcloud.gs.GridStoreFactory;\nimport com.toshiba.mwcloud.gs.Query;\nimport com.toshiba.mwcloud.gs.RowKey;\nimport com.toshiba.mwcloud.gs.RowSet;\nimport java.util.*;\npublic class GriddbTest\n{\nstatic class test1\n{\n@Rowkey String account;\nString name;\nString address;\n}\npublic static void main (String[] args)\n{\nProperties props = new Properties();\nprops.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\nprops.setProperty(&quot;notificationPort&quot;, &quot;31999&quot;);\nprops.setProperty(&quot;clusterName&quot;, &quot;defaultCluster&quot;);\nprops.setProperty(&quot;user&quot;, &quot;admin&quot;);\nprops.setProperty(&quot;password&quot;, &quot;admin&quot;);\nGridStore store = GridStoreFactory.getInstance().getGridStore(props);\n}\n}\n</code></pre>\n<p>I included the @RowKey directive as per the sample program. However, when I compile it, I get the following error:</p>\n<pre><code>gsadm@Ubuntu:~$ javac GriddbTest.java\nGriddbTest.java:13: error: cannot find symbol\n@Rowkey String account;\n ^\n  symbol:   class Rowkey\n  location: class test1\n1 error\n\n</code></pre>\n<p>So it's not recognizing the @Rowkey directive.</p>\n<p>Is there something I need to have first set up in my environment in order for this directive to work?</p>\n<p>Thanks a lot</p>\n<p>I've tried going through the documentation to see if I have missed out any steps when installing and setting up environment variables, but can't find anything relevant</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1609952139,"creation_date":1540310555,"answer_id":52953405,"question_id":52953145,"body_markdown":"You have to use a query that is defined via a combination of `orderBy()` and `limit()`, as follows:\r\n\r\n    CollectionReference collectionRef = db.collection(&quot;collection&quot;);\r\n    Query query = collectionRef.orderBy(&quot;amount&quot;, descending: true).limit(1);\r\n\r\nSee the docs here https://firebase.google.com/docs/firestore/query-data/queries and here https://firebase.google.com/docs/firestore/query-data/order-limit-data","title":"Maximum value from Firebase Firestore collection","body":"<p>You have to use a query that is defined via a combination of <code>orderBy()</code> and <code>limit()</code>, as follows:</p>\n<pre><code>CollectionReference collectionRef = db.collection(&quot;collection&quot;);\nQuery query = collectionRef.orderBy(&quot;amount&quot;, descending: true).limit(1);\n</code></pre>\n<p>See the docs here <a href=\"https://firebase.google.com/docs/firestore/query-data/queries\" rel=\"noreferrer\">https://firebase.google.com/docs/firestore/query-data/queries</a> and here <a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data\" rel=\"noreferrer\">https://firebase.google.com/docs/firestore/query-data/order-limit-data</a></p>\n"},{"tags":[],"owner":{"account_id":10928209,"reputation":51,"user_id":8032275,"display_name":"excitedWithin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608251783,"creation_date":1608251783,"answer_id":65350282,"question_id":52953145,"body_markdown":"In Kotlin, you can do it like this:\r\n\r\n    db.collection(&quot;collection&quot;)\r\n       .orderBy(&quot;amount&quot;, Direction.DESCENDING).limit(1)\r\n       .get()\r\n       .addOnSuccessListener { documents -&gt;\r\n               //your code, print the highest amount   \r\n       }                \r\n       .addOnFailureListener { exception -&gt;\r\n               Toast.makeText(this, exception.toString(), Toast.LENGTH_LONG).show()\r\n               Log.i(&quot;YourActivity&quot;,exception.toString())\r\n        }\r\n\r\nThen, run your project and trigger the above call to the database. You will see a toast with a firebase exception message. Go to your Logcat, filter it with YourActivity class name, and you will see there a link to Firebase, in order to confirm this new index that you are creating. Wait for it&#39;s building a few minutes, and when it&#39;s status is enabled, run your project again. \r\n","title":"Maximum value from Firebase Firestore collection","body":"<p>In Kotlin, you can do it like this:</p>\n<pre><code>db.collection(&quot;collection&quot;)\n   .orderBy(&quot;amount&quot;, Direction.DESCENDING).limit(1)\n   .get()\n   .addOnSuccessListener { documents -&gt;\n           //your code, print the highest amount   \n   }                \n   .addOnFailureListener { exception -&gt;\n           Toast.makeText(this, exception.toString(), Toast.LENGTH_LONG).show()\n           Log.i(&quot;YourActivity&quot;,exception.toString())\n    }\n</code></pre>\n<p>Then, run your project and trigger the above call to the database. You will see a toast with a firebase exception message. Go to your Logcat, filter it with YourActivity class name, and you will see there a link to Firebase, in order to confirm this new index that you are creating. Wait for it's building a few minutes, and when it's status is enabled, run your project again.</p>\n"},{"tags":[],"owner":{"account_id":9110911,"reputation":105,"user_id":6779695,"display_name":"Sunday David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635426227,"creation_date":1635391674,"answer_id":69747933,"question_id":52953145,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    const maxRef = await db.collection(&#39;collection&#39;).orderBy(&#39;amount&#39;, &#39;desc&#39;).limit(1).get();\r\nconst dataRef = maxRef.docs? maxRef.docs[0] : null;\r\nconsole.log(dataRef.data())\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [reference][1]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/order-limit-data#order_and_limit_data","title":"Maximum value from Firebase Firestore collection","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>const maxRef = await db.collection('collection').orderBy('amount', 'desc').limit(1).get();\nconst dataRef = maxRef.docs? maxRef.docs[0] : null;\nconsole.log(dataRef.data())</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data#order_and_limit_data\" rel=\"nofollow noreferrer\">reference</a></p>\n"}],"owner":{"account_id":5795277,"reputation":443,"user_id":4571266,"display_name":"Etornam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11099,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":52953405,"answer_count":3,"score":12,"last_activity_date":1678704246,"creation_date":1540309759,"question_id":52953145,"body_markdown":"    collection\r\n            *\r\n            Random_Id1\r\n                    *amount:100\r\n                    *name:John\r\n            Random_Id2\r\n                    *amount:150\r\n                    *name:Matt\r\n            Random_Id3\r\n                    *amount:65\r\n                    *name:Alice\r\n\r\nI have  a firestore collection that has different documents under it. these documents have data within them(name,age,amount, etc.). is there a way i can return the highest or Maximum **amount** in the collection? I&#39;m implementing this in java(android).\r\n**In the case of the above structure, the Maximum will be 150**.\r\nThank you in advance\r\n\r\n","title":"Maximum value from Firebase Firestore collection","body":"<pre><code>collection\n        *\n        Random_Id1\n                *amount:100\n                *name:John\n        Random_Id2\n                *amount:150\n                *name:Matt\n        Random_Id3\n                *amount:65\n                *name:Alice\n</code></pre>\n\n<p>I have  a firestore collection that has different documents under it. these documents have data within them(name,age,amount, etc.). is there a way i can return the highest or Maximum <strong>amount</strong> in the collection? I'm implementing this in java(android).\n<strong>In the case of the above structure, the Maximum will be 150</strong>.\nThank you in advance</p>\n"},{"tags":["java","active-directory","kerberos","windows-7-x64","windows-server-2012"],"comments":[{"owner":{"account_id":7465244,"reputation":804,"user_id":5675083,"accept_rate":67,"display_name":"FlyingSheep"},"score":0,"creation_date":1582722633,"post_id":42998255,"comment_id":106874456,"body_markdown":"I see a type: should not aes256-cts-hmac-shal-96 be aes256-cts-hmac-sha1-96?","body":"I see a type: should not aes256-cts-hmac-shal-96 be aes256-cts-hmac-sha1-96?"}],"answers":[{"tags":[],"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1490442458,"creation_date":1490393149,"answer_id":43009903,"question_id":42998255,"body_markdown":"I&#39;ve seen this before.  Try this.  Copy the keytab into the C:\\Program Files\\Java\\jdk1.8.0_121\\bin directory and try again with the simpler command shown below from within that directory.  You don&#39;t need to append the Kerberos realm to the SPN since you have the realm defined already in krb5.conf, so I removed it.  &lt;br&gt;\r\n \r\n\r\n    kinit -k -t tomcat_ad.keytab HTTP/dev26.devdevelopment.com\r\n\r\nIf it still doesn&#39;t work, be sure you really do have the unlimited strength JCE jar files inside the &lt;JAVA Home&gt;\\lib\\security directory.  Although you said you did, a Java JRE upgrade can overwrite them.\r\n\r\nEDIT:  On the *Account tab* of the AD user account ***devtcadmin***, ensure the box &quot;*This account supports Kerberos AES 256 bit encryption*&quot; is checked.  \r\n\r\nIf it still doesn&#39;t work, then on the Windows 7 machine, in C:\\Windows\\krb5.conf, comment out the four below lines as shown.  They are not required, as Kerberos is going to use the highest possible encrytpion types anyway, and in Windows 7/2008 and above, TCP is used by default so you do not need to set the UDP preference limit.\r\n\r\n    #default_tkt_enctypes=aes256-cts-hmac-shal-96\r\n    #default_tgs_enctypes=aes256-cts-hmac-shal-96\r\n    #permitted_enctypes=aes256-cts-hmac-shal-96\r\n    #udp_preference_limit=1\r\n\r\nTake a quick glance at my TechNet article for further reference on this: [Kerberos Keytabs  Explained][1] \r\n\r\n\r\n  [1]: https://social.technet.microsoft.com/wiki/contents/articles/36470.kerberos-keytabs-explained.aspx","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>I've seen this before.  Try this.  Copy the keytab into the C:\\Program Files\\Java\\jdk1.8.0_121\\bin directory and try again with the simpler command shown below from within that directory.  You don't need to append the Kerberos realm to the SPN since you have the realm defined already in krb5.conf, so I removed it.  <br></p>\n\n<pre><code>kinit -k -t tomcat_ad.keytab HTTP/dev26.devdevelopment.com\n</code></pre>\n\n<p>If it still doesn't work, be sure you really do have the unlimited strength JCE jar files inside the \\lib\\security directory.  Although you said you did, a Java JRE upgrade can overwrite them.</p>\n\n<p>EDIT:  On the <em>Account tab</em> of the AD user account <strong><em>devtcadmin</em></strong>, ensure the box \"<em>This account supports Kerberos AES 256 bit encryption</em>\" is checked.  </p>\n\n<p>If it still doesn't work, then on the Windows 7 machine, in C:\\Windows\\krb5.conf, comment out the four below lines as shown.  They are not required, as Kerberos is going to use the highest possible encrytpion types anyway, and in Windows 7/2008 and above, TCP is used by default so you do not need to set the UDP preference limit.</p>\n\n<pre><code>#default_tkt_enctypes=aes256-cts-hmac-shal-96\n#default_tgs_enctypes=aes256-cts-hmac-shal-96\n#permitted_enctypes=aes256-cts-hmac-shal-96\n#udp_preference_limit=1\n</code></pre>\n\n<p>Take a quick glance at my TechNet article for further reference on this: <a href=\"https://social.technet.microsoft.com/wiki/contents/articles/36470.kerberos-keytabs-explained.aspx\" rel=\"noreferrer\">Kerberos Keytabs  Explained</a> </p>\n"},{"tags":[],"owner":{"account_id":8950025,"reputation":124,"user_id":6676334,"display_name":"Gerhard Poul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508696265,"creation_date":1508696265,"answer_id":46877600,"question_id":42998255,"body_markdown":"I saw a similar issue when trying to use the JDK&#39;s Kerberos support from a Windows Server 2012R2 as a client with a Linux server that was still using a &#39;legacy&#39; keytab. The error I was seeing was:\r\n\r\n    KrbException: no supported default etypes for default_tkt_enctypes\r\n\r\nTo fix this interoperability issue I looked at the OpenJDK source and found a setting in EType.java called `allow_weak_crypto`:\r\n\r\n[![OpenJDK9 EType.java][1]][1]\r\n\r\nAdding this setting to my krb5.conf solved the issue for me:\r\n\r\n    [libdefaults]\r\n           allow_weak_crypto = true\r\n\r\n  [1]: https://i.stack.imgur.com/CgDZC.png","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>I saw a similar issue when trying to use the JDK's Kerberos support from a Windows Server 2012R2 as a client with a Linux server that was still using a 'legacy' keytab. The error I was seeing was:</p>\n\n<pre><code>KrbException: no supported default etypes for default_tkt_enctypes\n</code></pre>\n\n<p>To fix this interoperability issue I looked at the OpenJDK source and found a setting in EType.java called <code>allow_weak_crypto</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CgDZC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CgDZC.png\" alt=\"OpenJDK9 EType.java\"></a></p>\n\n<p>Adding this setting to my krb5.conf solved the issue for me:</p>\n\n<pre><code>[libdefaults]\n       allow_weak_crypto = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19943605,"reputation":1,"user_id":14614835,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605034863,"creation_date":1605034863,"answer_id":64775116,"question_id":42998255,"body_markdown":"This is an old post, but it looks like one issue is the use of &#39;l&#39; versus &#39;1&#39; in the encryption types -- i.e. instead of &quot;aes256-cts-hmac-shal-96&quot; should have &quot;aes256-cts-hmac-sha1-96&quot;","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>This is an old post, but it looks like one issue is the use of 'l' versus '1' in the encryption types -- i.e. instead of &quot;aes256-cts-hmac-shal-96&quot; should have &quot;aes256-cts-hmac-sha1-96&quot;</p>\n"},{"tags":[],"owner":{"account_id":13161401,"reputation":333,"user_id":9506781,"display_name":"Oskarro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678703981,"creation_date":1678703981,"answer_id":75720757,"question_id":42998255,"body_markdown":"I suggest you update the list of supported algorithms in **krb5.ini** file:\r\n\r\n    default_tgs_enctypes = aes256-cts aes128-cts arcfour-hmac-md5 des-cbc-md5 des-cbc-crc\r\n    default_tkt_enctypes = aes256-cts aes128-cts arcfour-hmac-md5 des-cbc-md5 des-cbc-crc\r\n\r\n ","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>I suggest you update the list of supported algorithms in <strong>krb5.ini</strong> file:</p>\n<pre><code>default_tgs_enctypes = aes256-cts aes128-cts arcfour-hmac-md5 des-cbc-md5 des-cbc-crc\ndefault_tkt_enctypes = aes256-cts aes128-cts arcfour-hmac-md5 des-cbc-md5 des-cbc-crc\n</code></pre>\n"}],"owner":{"account_id":1275152,"reputation":599,"user_id":1230580,"accept_rate":35,"display_name":"Shiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17582,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":43009903,"answer_count":4,"score":7,"last_activity_date":1678703981,"creation_date":1490354571,"question_id":42998255,"body_markdown":"Following are my environment details:-\r\n\r\n**KDC Server** : Windows Server 2012\r\n\r\n**Target machine** : Windows 7\r\n\r\n**JDK Version** : Oracle 1.8.0_121 (64 bit)\r\n\r\nI&#39;m getting the following exception on running the Java&#39;s **kinit** command the on Windows 7 machine :-\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -k -t &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab&quot; HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    Exception: krb_error 0 no supported default etypes for default_tkt_enctypes No error\r\n    KrbException: no supported default etypes for default_tkt_enctypes\r\n            at sun.security.krb5.Config.defaultEtype(Config.java:844)\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:249)\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:262)\r\n            at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\r\n            at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\r\n            at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\r\n            at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\r\n            at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\r\n\r\nCommand output in debug mode:-\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -J-Dsun.security.krb5.debug=true -k -t &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomca\r\n    t_ad.keytab&quot; HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt;KinitOptions cache name is C:\\Users\\devtcadmin\\krb5cc_devtcadmin\r\n    Principal is HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; Kinit using keytab\r\n    &gt;&gt;&gt; Kinit keytab file name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\r\n    Java config name: null\r\n    LSA: Found Ticket\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found PrincipalName\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found DerValue\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found EncryptionKey\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found TicketFlags\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found KerberosTime\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found String\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found DerValue constructor\r\n    LSA: Found Ticket constructor\r\n    LSA: Found PrincipalName constructor\r\n    LSA: Found EncryptionKey constructor\r\n    LSA: Found TicketFlags constructor\r\n    LSA: Found KerberosTime constructor\r\n    LSA: Finished OnLoad processing\r\n    Native config name: C:\\Windows\\krb5.ini\r\n    Loaded from native config\r\n    &gt;&gt;&gt; Kinit realm name is DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; Creating KrbAsReq\r\n    &gt;&gt;&gt; KrbKdcReq local addresses for dev26 are:\r\n    \r\n            dev26/192.168.1.229\r\n    IPv4 address\r\n    \r\n            dev26/fe80:0:0:0:78ae:388f:4f63:3717%11\r\n    IPv6 address\r\n    &gt;&gt;&gt; KdcAccessibility: reset\r\n    &gt;&gt;&gt; KeyTabInputStream, readName(): DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; KeyTabInputStream, readName(): HTTP\r\n    &gt;&gt;&gt; KeyTabInputStream, readName(): dev26.devdevelopment.com\r\n    &gt;&gt;&gt; KeyTab: load() entry length: 99; type: 18\r\n    Looking for keys for: HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    Added key: 18version: 3\r\n    Exception: krb_error 0 no supported default etypes for default_tkt_enctypes No error\r\n    KrbException: no supported default etypes for default_tkt_enctypes\r\n            at sun.security.krb5.Config.defaultEtype(Config.java:844)\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:249)\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:262)\r\n            at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\r\n            at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\r\n            at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\r\n            at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\r\n            at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\r\n\r\nFollowing is the output of the **ktpass** command on the KDC server (Windows Server 2012) to generate the `tomcat_ad.keytab` file :-\r\n\r\n    C:\\Users\\Administrator&gt;ktpass /out C:\\tomcat_ad.keytab /mapuser devtcadmin@DEVDEVELOPMENT.COM /princ HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM /pass ****** /crypto AES256-SHA1 ptype KRB5_NT_PRINCIPAL\r\n    \tTargeting domain controller: dev.devdevelopment.com\r\n    \tUsing legacy password setting method\r\n    \tSuccessfully mapped HTTP/dev26.devdevelopment.com to devtcadmin.\r\n    \tKey created.\r\n    \tOutput keytab to C:\\tomcat_ad.keytab:\r\n    \tKeytab version: 0x502\r\n    \tkeysize 99 HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM ptype 1 (KRB5_NT_PRINCIPAL) vno 3 etype 0x12 (AES256-SHA1) keylength 32 (0xf20788d7c6f99c385fc91b53c7d9ef55591d314e5340ca1fb9acac1b178c8861)\r\n\r\nFollowing is the content of the **krb5.ini** file that is at **C:\\Windows** in Windows 7 machine :-\r\n\r\n    [libdefaults]\r\n    default_realm=DEVDEVELOPMENT.COM\r\n    default_keytab_name=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab&quot;\r\n    default_tkt_enctypes=aes256-cts-hmac-shal-96\r\n    default_tgs_enctypes=aes256-cts-hmac-shal-96\r\n    permitted_enctypes=aes256-cts-hmac-shal-96\r\n    udp_preference_limit=1\r\n    forwardable=true\r\n    \r\n    [realms]\r\n    DEVDEVELOPMENT.COM={\r\n    \tkdc=dev.devdevelopment.com:88\r\n    }\r\n    \r\n    [domain_realm]\r\n    devdevelopment.com=DEVDEVELOPMENT.COM\r\n    .devdevelopment.com=DEVDEVELOPMENT.COM\r\n\r\nFollowing is the output of Java&#39;s **ktab** command on Windows 7 machine :-\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;ktab -l -e -t -k &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab&quot;\r\n    Keytab name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\r\n    KVNO Timestamp      Principal\r\n    ---- -------------- ---------------------------------------------------------------------------------------\r\n       3 1/1/70 5:30 AM HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM (18:AES256 CTS mode with HMAC SHA1-96)\r\n\r\nI have also updated the **JCE** jar files under **C:\\Program Files\\Java\\jre1.8.0_121\\lib\\security** and **C:\\Program Files\\Java\\jdk1.8.0_121\\jre\\lib\\security** folders.\r\n\r\nWhat should be done to overcome this exception?\r\n\r\n**EDIT 1** (continued from my 3rd comment) :-\r\n\r\nFollowing is the output of the first **knit** command with the **tomcat_ad.keytab** file in the **C:\\Program Files\\Java\\jre1.8.0_121\\bin** folder:-\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -k -t tomcat_ad.keytab HTTP/dev26.devdevelopment.com\r\n    New ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin\r\n\r\nAnd, following is the output of the **kinit** command with the **tomcat_ad.keytab** file in the **C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab** folder and after appending the **C:\\Program Files\\Java\\jdk1.8.0_121\\bin;** in the `path` environment variable:-\r\n\r\n    C:\\Users\\devtcadmin&gt;kinit -k -t &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab&quot; HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    New ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin\r\n\r\nBUT the **kinit** command in the debug mode this time gives out the following exception :-\r\n\r\n    C:\\Users\\devtcadmin&gt;kinit -J-Dsun.security.krb5.debug=true -k -t &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\tomcat_ad.keytab&quot; HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt;KinitOptions cache name is C:\\Users\\devtcadmin\\krb5cc_devtcadmin\r\n    Principal is HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; Kinit using keytab\r\n    &gt;&gt;&gt; Kinit keytab file name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\tomcat_ad.keytab\r\n    Java config name: null\r\n    LSA: Found Ticket\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found PrincipalName\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found DerValue\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found EncryptionKey\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found TicketFlags\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found KerberosTime\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found String\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found DerValue constructor\r\n    LSA: Found Ticket constructor\r\n    LSA: Found PrincipalName constructor\r\n    LSA: Found EncryptionKey constructor\r\n    LSA: Found TicketFlags constructor\r\n    LSA: Found KerberosTime constructor\r\n    LSA: Finished OnLoad processing\r\n    Native config name: C:\\Windows\\krb5.ini\r\n    Loaded from native config\r\n    &gt;&gt;&gt; Kinit realm name is DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; Creating KrbAsReq\r\n    &gt;&gt;&gt; KrbKdcReq local addresses for dev26 are:\r\n    \r\n            dev26/192.168.1.229\r\n    IPv4 address\r\n    \r\n            dev26/fe80:0:0:0:78ae:388f:4f63:3717%11\r\n    IPv6 address\r\n    &gt;&gt;&gt; KdcAccessibility: reset\r\n    Looking for keys for: HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    Using builtin default etypes for default_tkt_enctypes\r\n    default etypes for default_tkt_enctypes: 18 17 16 23.\r\n    Exception: krb_error 0 Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type:  No error\r\n    KrbException: Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type:\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:280)\r\n            at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\r\n            at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\r\n            at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\r\n            at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\r\n            at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\r\n\r\nWhy do the above commands work after commenting those lines in the **C:\\Windows\\krb5.ini** file? And why the **kinit** command in the debug mode output the above exception?","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>Following are my environment details:-</p>\n\n<p><strong>KDC Server</strong> : Windows Server 2012</p>\n\n<p><strong>Target machine</strong> : Windows 7</p>\n\n<p><strong>JDK Version</strong> : Oracle 1.8.0_121 (64 bit)</p>\n\n<p>I'm getting the following exception on running the Java's <strong>kinit</strong> command the on Windows 7 machine :-</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -k -t \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\" HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\nException: krb_error 0 no supported default etypes for default_tkt_enctypes No error\nKrbException: no supported default etypes for default_tkt_enctypes\n        at sun.security.krb5.Config.defaultEtype(Config.java:844)\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:249)\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:262)\n        at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\n        at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\n        at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\n        at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\n        at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\n</code></pre>\n\n<p>Command output in debug mode:-</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -J-Dsun.security.krb5.debug=true -k -t \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomca\nt_ad.keytab\" HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\n&gt;&gt;&gt;KinitOptions cache name is C:\\Users\\devtcadmin\\krb5cc_devtcadmin\nPrincipal is HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\n&gt;&gt;&gt; Kinit using keytab\n&gt;&gt;&gt; Kinit keytab file name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\nJava config name: null\nLSA: Found Ticket\nLSA: Made NewWeakGlobalRef\nLSA: Found PrincipalName\nLSA: Made NewWeakGlobalRef\nLSA: Found DerValue\nLSA: Made NewWeakGlobalRef\nLSA: Found EncryptionKey\nLSA: Made NewWeakGlobalRef\nLSA: Found TicketFlags\nLSA: Made NewWeakGlobalRef\nLSA: Found KerberosTime\nLSA: Made NewWeakGlobalRef\nLSA: Found String\nLSA: Made NewWeakGlobalRef\nLSA: Found DerValue constructor\nLSA: Found Ticket constructor\nLSA: Found PrincipalName constructor\nLSA: Found EncryptionKey constructor\nLSA: Found TicketFlags constructor\nLSA: Found KerberosTime constructor\nLSA: Finished OnLoad processing\nNative config name: C:\\Windows\\krb5.ini\nLoaded from native config\n&gt;&gt;&gt; Kinit realm name is DEVDEVELOPMENT.COM\n&gt;&gt;&gt; Creating KrbAsReq\n&gt;&gt;&gt; KrbKdcReq local addresses for dev26 are:\n\n        dev26/192.168.1.229\nIPv4 address\n\n        dev26/fe80:0:0:0:78ae:388f:4f63:3717%11\nIPv6 address\n&gt;&gt;&gt; KdcAccessibility: reset\n&gt;&gt;&gt; KeyTabInputStream, readName(): DEVDEVELOPMENT.COM\n&gt;&gt;&gt; KeyTabInputStream, readName(): HTTP\n&gt;&gt;&gt; KeyTabInputStream, readName(): dev26.devdevelopment.com\n&gt;&gt;&gt; KeyTab: load() entry length: 99; type: 18\nLooking for keys for: HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\nAdded key: 18version: 3\nException: krb_error 0 no supported default etypes for default_tkt_enctypes No error\nKrbException: no supported default etypes for default_tkt_enctypes\n        at sun.security.krb5.Config.defaultEtype(Config.java:844)\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:249)\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:262)\n        at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\n        at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\n        at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\n        at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\n        at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\n</code></pre>\n\n<p>Following is the output of the <strong>ktpass</strong> command on the KDC server (Windows Server 2012) to generate the <code>tomcat_ad.keytab</code> file :-</p>\n\n<pre><code>C:\\Users\\Administrator&gt;ktpass /out C:\\tomcat_ad.keytab /mapuser devtcadmin@DEVDEVELOPMENT.COM /princ HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM /pass ****** /crypto AES256-SHA1 ptype KRB5_NT_PRINCIPAL\n    Targeting domain controller: dev.devdevelopment.com\n    Using legacy password setting method\n    Successfully mapped HTTP/dev26.devdevelopment.com to devtcadmin.\n    Key created.\n    Output keytab to C:\\tomcat_ad.keytab:\n    Keytab version: 0x502\n    keysize 99 HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM ptype 1 (KRB5_NT_PRINCIPAL) vno 3 etype 0x12 (AES256-SHA1) keylength 32 (0xf20788d7c6f99c385fc91b53c7d9ef55591d314e5340ca1fb9acac1b178c8861)\n</code></pre>\n\n<p>Following is the content of the <strong>krb5.ini</strong> file that is at <strong>C:\\Windows</strong> in Windows 7 machine :-</p>\n\n<pre><code>[libdefaults]\ndefault_realm=DEVDEVELOPMENT.COM\ndefault_keytab_name=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\"\ndefault_tkt_enctypes=aes256-cts-hmac-shal-96\ndefault_tgs_enctypes=aes256-cts-hmac-shal-96\npermitted_enctypes=aes256-cts-hmac-shal-96\nudp_preference_limit=1\nforwardable=true\n\n[realms]\nDEVDEVELOPMENT.COM={\n    kdc=dev.devdevelopment.com:88\n}\n\n[domain_realm]\ndevdevelopment.com=DEVDEVELOPMENT.COM\n.devdevelopment.com=DEVDEVELOPMENT.COM\n</code></pre>\n\n<p>Following is the output of Java's <strong>ktab</strong> command on Windows 7 machine :-</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;ktab -l -e -t -k \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\"\nKeytab name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\nKVNO Timestamp      Principal\n---- -------------- ---------------------------------------------------------------------------------------\n   3 1/1/70 5:30 AM HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM (18:AES256 CTS mode with HMAC SHA1-96)\n</code></pre>\n\n<p>I have also updated the <strong>JCE</strong> jar files under <strong>C:\\Program Files\\Java\\jre1.8.0_121\\lib\\security</strong> and <strong>C:\\Program Files\\Java\\jdk1.8.0_121\\jre\\lib\\security</strong> folders.</p>\n\n<p>What should be done to overcome this exception?</p>\n\n<p><strong>EDIT 1</strong> (continued from my 3rd comment) :-</p>\n\n<p>Following is the output of the first <strong>knit</strong> command with the <strong>tomcat_ad.keytab</strong> file in the <strong>C:\\Program Files\\Java\\jre1.8.0_121\\bin</strong> folder:-</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -k -t tomcat_ad.keytab HTTP/dev26.devdevelopment.com\nNew ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin\n</code></pre>\n\n<p>And, following is the output of the <strong>kinit</strong> command with the <strong>tomcat_ad.keytab</strong> file in the <strong>C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab</strong> folder and after appending the <strong>C:\\Program Files\\Java\\jdk1.8.0_121\\bin;</strong> in the <code>path</code> environment variable:-</p>\n\n<pre><code>C:\\Users\\devtcadmin&gt;kinit -k -t \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\" HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\nNew ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin\n</code></pre>\n\n<p>BUT the <strong>kinit</strong> command in the debug mode this time gives out the following exception :-</p>\n\n<pre><code>C:\\Users\\devtcadmin&gt;kinit -J-Dsun.security.krb5.debug=true -k -t \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\tomcat_ad.keytab\" HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\n&gt;&gt;&gt;KinitOptions cache name is C:\\Users\\devtcadmin\\krb5cc_devtcadmin\nPrincipal is HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\n&gt;&gt;&gt; Kinit using keytab\n&gt;&gt;&gt; Kinit keytab file name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\tomcat_ad.keytab\nJava config name: null\nLSA: Found Ticket\nLSA: Made NewWeakGlobalRef\nLSA: Found PrincipalName\nLSA: Made NewWeakGlobalRef\nLSA: Found DerValue\nLSA: Made NewWeakGlobalRef\nLSA: Found EncryptionKey\nLSA: Made NewWeakGlobalRef\nLSA: Found TicketFlags\nLSA: Made NewWeakGlobalRef\nLSA: Found KerberosTime\nLSA: Made NewWeakGlobalRef\nLSA: Found String\nLSA: Made NewWeakGlobalRef\nLSA: Found DerValue constructor\nLSA: Found Ticket constructor\nLSA: Found PrincipalName constructor\nLSA: Found EncryptionKey constructor\nLSA: Found TicketFlags constructor\nLSA: Found KerberosTime constructor\nLSA: Finished OnLoad processing\nNative config name: C:\\Windows\\krb5.ini\nLoaded from native config\n&gt;&gt;&gt; Kinit realm name is DEVDEVELOPMENT.COM\n&gt;&gt;&gt; Creating KrbAsReq\n&gt;&gt;&gt; KrbKdcReq local addresses for dev26 are:\n\n        dev26/192.168.1.229\nIPv4 address\n\n        dev26/fe80:0:0:0:78ae:388f:4f63:3717%11\nIPv6 address\n&gt;&gt;&gt; KdcAccessibility: reset\nLooking for keys for: HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\nUsing builtin default etypes for default_tkt_enctypes\ndefault etypes for default_tkt_enctypes: 18 17 16 23.\nException: krb_error 0 Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type:  No error\nKrbException: Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type:\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:280)\n        at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\n        at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\n        at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\n        at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\n        at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\n</code></pre>\n\n<p>Why do the above commands work after commenting those lines in the <strong>C:\\Windows\\krb5.ini</strong> file? And why the <strong>kinit</strong> command in the debug mode output the above exception?</p>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1678703453,"post_id":75720641,"comment_id":133578540,"body_markdown":"Perhaps remove the space after function `YamlToJson = function(name)`","body":"Perhaps remove the space after function <code>YamlToJson = function(name)</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678703456,"post_id":75720641,"comment_id":133578541,"body_markdown":"this seems to be an issue with your javascript syntax, I don&#39;t see a direct relation to java","body":"this seems to be an issue with your javascript syntax, I don&#39;t see a direct relation to java"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1678703537,"post_id":75720641,"comment_id":133578560,"body_markdown":"@Stultuske more likely a problem with the ScriptEngineManager parser so yes JAVA","body":"@Stultuske more likely a problem with the ScriptEngineManager parser so yes JAVA"},{"owner":{"account_id":9249213,"reputation":22744,"user_id":6870228,"display_name":"Keith"},"score":2,"creation_date":1678703692,"post_id":75720641,"comment_id":133578608,"body_markdown":"`var fs = require(&#39;fs&#39;),`  looks like your trying to run `node.js` code, does ScriptEngineManager (nashorn) support this?","body":"<code>var fs = require(&#39;fs&#39;),</code>  looks like your trying to run <code>node.js</code> code, does ScriptEngineManager (nashorn) support this?"},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1678703786,"post_id":75720641,"comment_id":133578633,"body_markdown":"Usually Java evaluates JavaScripts in a browser sandbox, thus has no access to the file system by default. I think the problem is there, try removing any dependency to `fs`, then try convert your code to ES5, and see if in a way or another you get an output","body":"Usually Java evaluates JavaScripts in a browser sandbox, thus has no access to the file system by default. I think the problem is there, try removing any dependency to <code>fs</code>, then try convert your code to ES5, and see if in a way or another you get an output"},{"owner":{"account_id":15022689,"reputation":525,"user_id":10843655,"display_name":"novarx"},"score":0,"creation_date":1678719682,"post_id":75720641,"comment_id":133583601,"body_markdown":"Maybe an line-ending issue?","body":"Maybe an line-ending issue?"},{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1678723038,"post_id":75720641,"comment_id":133584721,"body_markdown":"Maybe it&#39;s caused by the arrow function","body":"Maybe it&#39;s caused by the arrow function"}],"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678703971,"creation_date":1678703311,"question_id":75720641,"body_markdown":"I am triying to call java script functon from java code but i am getting error as \r\n\r\n    Expected : but found .\r\n          fs.writeFileSync(\r\n            ^ in &lt;eval&gt; at line number 24 at column number 9\r\n\r\n**Java script function**\r\n\r\n    var YamlToJson = function (name) {\r\n    var fs = require(&#39;fs&#39;),\r\n    \t  Converter = require(&#39;openapi-to-postmanv2&#39;),\r\n    \t  openapiData = fs.readFileSync(&#39;./output.json&#39;, { encoding: &#39;UTF8&#39; })\r\n    \tConverter.convert(\r\n    \t  { type: &#39;json&#39;, data: openapiData },\r\n    \t  {},\r\n    \t  (err, conversionResult) =&gt; \r\n    \t  {\r\n    \t    if (!conversionResult.result) {\r\n    \t      console.log(&#39;Could not convert&#39;, conversionResult.reason)\r\n    \t    } else {\r\n    \t      fs.writeFileSync(\r\n    \t        &#39;outputfile1.json&#39;,\r\n    \t        JSON.stringify(conversionResult.output[0].data),\r\n    \t      )\r\n    \t      console.log(&#39;The collection object is: &#39;, conversionResult.output[0].data)\r\n    \t    }\r\n    \t  },\r\n    \t)\r\n    }\r\n\r\n\r\n**Java Code**\r\n\r\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\r\n    \t\ttry {\r\n    \t\t  engine.eval(new FileReader(&quot;D:/CodeFactory/TestCases/GenerateTetsCases/src/main/java/com/GenerateTetsCases/GenerateTetsCases/YamlToJson.js&quot;));\r\n    \t\t  Invocable invocable = (Invocable) engine;\r\n    \t\t  Object result;\r\n    \t\t   invocable.invokeFunction(&quot;myFunction&quot;, &quot;value&quot;);\r\n    \t\t \r\n    \t\t  } catch (FileNotFoundException | NoSuchMethodException | ScriptException e) {\r\n    \t\t    e.printStackTrace();\r\n    \t}\r\n","title":"Expected : but found . while calling JavaScript function from java","body":"<p>I am triying to call java script functon from java code but i am getting error as</p>\n<pre><code>Expected : but found .\n      fs.writeFileSync(\n        ^ in &lt;eval&gt; at line number 24 at column number 9\n</code></pre>\n<p><strong>Java script function</strong></p>\n<pre><code>var YamlToJson = function (name) {\nvar fs = require('fs'),\n      Converter = require('openapi-to-postmanv2'),\n      openapiData = fs.readFileSync('./output.json', { encoding: 'UTF8' })\n    Converter.convert(\n      { type: 'json', data: openapiData },\n      {},\n      (err, conversionResult) =&gt; \n      {\n        if (!conversionResult.result) {\n          console.log('Could not convert', conversionResult.reason)\n        } else {\n          fs.writeFileSync(\n            'outputfile1.json',\n            JSON.stringify(conversionResult.output[0].data),\n          )\n          console.log('The collection object is: ', conversionResult.output[0].data)\n        }\n      },\n    )\n}\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\n        try {\n          engine.eval(new FileReader(&quot;D:/CodeFactory/TestCases/GenerateTetsCases/src/main/java/com/GenerateTetsCases/GenerateTetsCases/YamlToJson.js&quot;));\n          Invocable invocable = (Invocable) engine;\n          Object result;\n           invocable.invokeFunction(&quot;myFunction&quot;, &quot;value&quot;);\n         \n          } catch (FileNotFoundException | NoSuchMethodException | ScriptException e) {\n            e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","android","xml"],"owner":{"account_id":28004878,"reputation":1,"user_id":21388453,"display_name":"Rocco Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678703730,"creation_date":1678703730,"question_id":75720706,"body_markdown":"```\r\n try {\r\n            XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\r\n            factory.setNamespaceAware(true);\r\n            XmlPullParser xpp = factory.newPullParser();\r\n            \r\n\r\n            xpp.setInput( new StringReader( xmlResponse ) ); // pass input whatever xml you have\r\n            int eventType = xpp.nextToken();\r\n            String tag = &quot;&quot;;\r\n            while (eventType != XmlPullParser.END_DOCUMENT) {\r\n                if(eventType == XmlPullParser.START_DOCUMENT) {\r\n                    Log.d(TAG,&quot;Start document&quot;);\r\n                } else if(eventType == XmlPullParser.START_TAG) {\r\n//                    Log.d(TAG,&quot;Start tag &quot;+xpp.getName());\r\n                    tag = xpp.getName();\r\n                } else if(eventType == XmlPullParser.END_TAG) {\r\n//\r\n                } else if(eventType == XmlPullParser.TEXT) {\r\n                    switch (tag) {\r\n                        case &quot;AnswerStatus&quot;:\r\n                            Log.d(TAG, &quot;parseXml: &quot;+xpp.getText());\r\n                            response.answerStatus = xpp.getText();\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    Log.d(TAG,&quot;Text &quot;+xpp.getText()); // here you get the text from xml\r\n                }\r\n                eventType = xpp.next();\r\n            }\r\n            Log.d(TAG,&quot;End document&quot;);\r\n//            generateQRCode(value);\r\n\r\n        } catch (XmlPullParserException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nI am trying to save the value of element &lt;AnswerStatus&gt;OK&lt;/AnswerStatus&gt; to my object response. However, the text event is being triggered twice and at the end when I check the response.answerStatus I always get \\n. How to get rid of the \\n? thanks\r\n\r\n\r\nI&#39;ve been searching for days. I am expecting the value OK to be stored in the response.answerStatus.","title":"XMLPullparser return end-of-line in element text event","body":"<pre><code> try {\n            XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\n            factory.setNamespaceAware(true);\n            XmlPullParser xpp = factory.newPullParser();\n            \n\n            xpp.setInput( new StringReader( xmlResponse ) ); // pass input whatever xml you have\n            int eventType = xpp.nextToken();\n            String tag = &quot;&quot;;\n            while (eventType != XmlPullParser.END_DOCUMENT) {\n                if(eventType == XmlPullParser.START_DOCUMENT) {\n                    Log.d(TAG,&quot;Start document&quot;);\n                } else if(eventType == XmlPullParser.START_TAG) {\n//                    Log.d(TAG,&quot;Start tag &quot;+xpp.getName());\n                    tag = xpp.getName();\n                } else if(eventType == XmlPullParser.END_TAG) {\n//\n                } else if(eventType == XmlPullParser.TEXT) {\n                    switch (tag) {\n                        case &quot;AnswerStatus&quot;:\n                            Log.d(TAG, &quot;parseXml: &quot;+xpp.getText());\n                            response.answerStatus = xpp.getText();\n                            break;\n                        default:\n                            break;\n                    }\n                    Log.d(TAG,&quot;Text &quot;+xpp.getText()); // here you get the text from xml\n                }\n                eventType = xpp.next();\n            }\n            Log.d(TAG,&quot;End document&quot;);\n//            generateQRCode(value);\n\n        } catch (XmlPullParserException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I am trying to save the value of element OK to my object response. However, the text event is being triggered twice and at the end when I check the response.answerStatus I always get \\n. How to get rid of the \\n? thanks</p>\n<p>I've been searching for days. I am expecting the value OK to be stored in the response.answerStatus.</p>\n"},{"tags":["java","bash","maven","terminal"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677384177,"post_id":75569911,"comment_id":133326132,"body_markdown":"(1) In Ubuntu, the configuration file I usually modify is `~/.bashrc` (2)  What operating system do you use? (3) Have you considered using SDKMAN? After installing SDKMAN, you can install JDK, Maven, Gradle through SDKMAN.","body":"(1) In Ubuntu, the configuration file I usually modify is <code>~&#47;.bashrc</code> (2)  What operating system do you use? (3) Have you considered using SDKMAN? After installing SDKMAN, you can install JDK, Maven, Gradle through SDKMAN."},{"owner":{"account_id":15102016,"reputation":311,"user_id":10898724,"display_name":"Dan_Maff"},"score":4,"creation_date":1677385079,"post_id":75569911,"comment_id":133326189,"body_markdown":"Did you change your macOS default shell to `bash`? It normally uses zsh as far as I know.\nIf you didn&#39;t change to bash, you should configure zsh instead.","body":"Did you change your macOS default shell to <code>bash</code>? It normally uses zsh as far as I know. If you didn&#39;t change to bash, you should configure zsh instead."}],"answers":[{"tags":[],"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678703423,"creation_date":1678703423,"answer_id":75720660,"question_id":75569911,"body_markdown":"according to [this][1], you can add a permanent path to `$PATH` using this command (on MacOS):\r\n\r\n    sudo -s &#39;echo &quot;/Users/Bohan/apache-maven-3.9.0&quot; &gt; /etc/paths.d/mvn&#39;\r\n\r\nand according [this][2], you can set any environment variable globally using this command:\r\n\r\n    sudo launchctl setenv M2_HOME &quot;/Users/Bohan/apache-maven-3.9.0&quot;\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22465332/setting-path-environment-variable-in-osx-permanently\r\n  [2]: https://developer.apple.com/forums/thread/672650","title":"Terminal not using newest bash_profile configuration","body":"<p>according to <a href=\"https://stackoverflow.com/questions/22465332/setting-path-environment-variable-in-osx-permanently\">this</a>, you can add a permanent path to <code>$PATH</code> using this command (on MacOS):</p>\n<pre><code>sudo -s 'echo &quot;/Users/Bohan/apache-maven-3.9.0&quot; &gt; /etc/paths.d/mvn'\n</code></pre>\n<p>and according <a href=\"https://developer.apple.com/forums/thread/672650\" rel=\"nofollow noreferrer\">this</a>, you can set any environment variable globally using this command:</p>\n<pre><code>sudo launchctl setenv M2_HOME &quot;/Users/Bohan/apache-maven-3.9.0&quot;\n</code></pre>\n"}],"owner":{"account_id":24877651,"reputation":106,"user_id":18751272,"display_name":"acrastt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678703423,"creation_date":1677383501,"question_id":75569911,"body_markdown":"I was trying to set up the `mvn` command, I downloaded maven on the official Apache website and wrote `export M2_HOME=&quot;/Users/Bohan/apache-maven-3.9.0&quot; PATH=&quot;${M2_HOME}/bin:${PATH}&quot; export PATH` in the bash_profile. Then I tried command `mvn -version` to see if it works, it doesn&#39;t and shows `Command not found &#39;mvn&#39;`. I searched and it says i need to type `source .bash_profile` to update the commands, then it works. Then I found out I have to type `source .bash_profile` every time I use a maven command.\r\n\r\nI was expecting that once I configure the bash_profile and update the commands, it will work afterwards. It doesn&#39;t in fact I need to update the commands every time I use it. I tried restarting my computer. Closing terminal and reopening it which both didn&#39;t work. Same thing resulted, I need to update the commands every time. All answers were appreciated.\r\n\r\nEdit: I was using MacOS, and i am not using Ubuntu(I will look into Ubuntu and SDKMAN.)\r\n\r\nEdit 2: Thanks to Dan_Maff for pointing out I should change my bash_profile to bash. It was fixed but I&#39;m curious why does it work?\r\n\r\nEdit 3: Now I&#39;m using it in IntelliJ Idea and it seems like the same problem... ","title":"Terminal not using newest bash_profile configuration","body":"<p>I was trying to set up the <code>mvn</code> command, I downloaded maven on the official Apache website and wrote <code>export M2_HOME=&quot;/Users/Bohan/apache-maven-3.9.0&quot; PATH=&quot;${M2_HOME}/bin:${PATH}&quot; export PATH</code> in the bash_profile. Then I tried command <code>mvn -version</code> to see if it works, it doesn't and shows <code>Command not found 'mvn'</code>. I searched and it says i need to type <code>source .bash_profile</code> to update the commands, then it works. Then I found out I have to type <code>source .bash_profile</code> every time I use a maven command.</p>\n<p>I was expecting that once I configure the bash_profile and update the commands, it will work afterwards. It doesn't in fact I need to update the commands every time I use it. I tried restarting my computer. Closing terminal and reopening it which both didn't work. Same thing resulted, I need to update the commands every time. All answers were appreciated.</p>\n<p>Edit: I was using MacOS, and i am not using Ubuntu(I will look into Ubuntu and SDKMAN.)</p>\n<p>Edit 2: Thanks to Dan_Maff for pointing out I should change my bash_profile to bash. It was fixed but I'm curious why does it work?</p>\n<p>Edit 3: Now I'm using it in IntelliJ Idea and it seems like the same problem...</p>\n"},{"tags":["java","android","web-services","soap","android-ksoap2"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1678527890,"post_id":75651265,"comment_id":133552636,"body_markdown":"There is an extra space in `oasis- 200401`.","body":"There is an extra space in <code>oasis- 200401</code>."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678703420,"creation_date":1678633988,"answer_id":75714109,"question_id":75651265,"body_markdown":"You can authenticate a Web Service call in two ways:\r\n\r\n - On one hand, you can authenticate your Web Service call at the message level, as in your code, including the necessary WS-Security related headers.\r\n - On the other, a Web Service call can be authenticated at the transport level, normally using the HTTP/S transport protocol and `Authorization` headers.\r\n\r\nBoth authentication mechanisms are in fact complementary, and the use of one of another depends on the Web Service provider.\r\n\r\nIn my opinion, the provider of your Web Service expects authentication at the transport level at least and, when you send the SOAP request without the necessary headers, it is returning a `401` HTML page, which is causing the error you are describing:\r\n\r\n```\r\nexpected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@2:44 in java.io.InputStreamReader@54570a0)\r\n```\r\n\r\nAccording to [this related SO question](https://stackoverflow.com/questions/5177939/basic-http-authentication-using-ksoap-for-android), you can provide the necessary headers with something like this:\r\n\r\n```java\r\nSoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n\r\n// add header to envelope: probably you can get rid of it\r\n// when using HTTP transport authentication\r\n// envelope.headerOut = getHeaderElement();\r\n\r\nSystem.out.println(&quot;HeaderValue &quot; + Arrays.toString(envelope.headerOut));\r\n\r\nenvelope.dotNet = false;\r\nenvelope.bodyOut = request;\r\nenvelope.setOutputSoapObject(request);\r\nHttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\r\nSystem.out.println(&quot;BodyOut &quot; + envelope.bodyOut.toString());\r\n\r\nandroidHttpTransport.debug = true;\r\n\r\n// Note the inclusion of the required headers\r\nList&lt;HeaderProperty&gt; headerList = new ArrayList&lt;HeaderProperty&gt;();\r\nheaderList.add(new HeaderProperty(\r\n        &quot;Authorization&quot;,\r\n        &quot;Basic &quot; + org.kobjects.base64.Base64.encode((USER_NAME + &quot;:&quot; + PASSWORD).getBytes())\r\n        // Or, using android.util.Base64\r\n        // &quot;Basic &quot; + Base64.encodeToString((USER_NAME + &quot;:&quot; + PASSWORD).getBytes(), Base64.DEFAULT)\r\n));\r\n\r\nandroidHttpTransport.call(SOAP_ACTION, envelope, headerList);\r\n\r\nSoapPrimitive response = (SoapPrimitive)envelope.getResponse();\r\nSystem.out.println(&quot;ResponseMessage&quot; +  response.toString());\r\nresponseMsg = String.valueOf(response);\r\nSystem.out.println(&quot;ResponseMessage&quot; +  response.toString());\r\n```","title":"SOAP webservice call with header not working","body":"<p>You can authenticate a Web Service call in two ways:</p>\n<ul>\n<li>On one hand, you can authenticate your Web Service call at the message level, as in your code, including the necessary WS-Security related headers.</li>\n<li>On the other, a Web Service call can be authenticated at the transport level, normally using the HTTP/S transport protocol and <code>Authorization</code> headers.</li>\n</ul>\n<p>Both authentication mechanisms are in fact complementary, and the use of one of another depends on the Web Service provider.</p>\n<p>In my opinion, the provider of your Web Service expects authentication at the transport level at least and, when you send the SOAP request without the necessary headers, it is returning a <code>401</code> HTML page, which is causing the error you are describing:</p>\n<pre><code>expected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@2:44 in java.io.InputStreamReader@54570a0)\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/questions/5177939/basic-http-authentication-using-ksoap-for-android\">this related SO question</a>, you can provide the necessary headers with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n\n// add header to envelope: probably you can get rid of it\n// when using HTTP transport authentication\n// envelope.headerOut = getHeaderElement();\n\nSystem.out.println(&quot;HeaderValue &quot; + Arrays.toString(envelope.headerOut));\n\nenvelope.dotNet = false;\nenvelope.bodyOut = request;\nenvelope.setOutputSoapObject(request);\nHttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\nSystem.out.println(&quot;BodyOut &quot; + envelope.bodyOut.toString());\n\nandroidHttpTransport.debug = true;\n\n// Note the inclusion of the required headers\nList&lt;HeaderProperty&gt; headerList = new ArrayList&lt;HeaderProperty&gt;();\nheaderList.add(new HeaderProperty(\n        &quot;Authorization&quot;,\n        &quot;Basic &quot; + org.kobjects.base64.Base64.encode((USER_NAME + &quot;:&quot; + PASSWORD).getBytes())\n        // Or, using android.util.Base64\n        // &quot;Basic &quot; + Base64.encodeToString((USER_NAME + &quot;:&quot; + PASSWORD).getBytes(), Base64.DEFAULT)\n));\n\nandroidHttpTransport.call(SOAP_ACTION, envelope, headerList);\n\nSoapPrimitive response = (SoapPrimitive)envelope.getResponse();\nSystem.out.println(&quot;ResponseMessage&quot; +  response.toString());\nresponseMsg = String.valueOf(response);\nSystem.out.println(&quot;ResponseMessage&quot; +  response.toString());\n</code></pre>\n"}],"owner":{"account_id":21332522,"reputation":41,"user_id":15704156,"display_name":"M.Jamous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678703420,"creation_date":1678108182,"question_id":75651265,"body_markdown":"I&#39;m trying to call a SOAP webservice with credentials username and password, but it&#39;s giving an error, I tried in different ways but it&#39;s the same output, it&#39;s giving this error:\r\n\r\n//error\r\n\r\n```\r\nexpected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@2:44 in java.io.InputStreamReader@54570a0)\r\n```\r\n\r\nNo response is returned.\r\n\r\n//variables\r\n\r\n    private static final String NAMESPACE = &quot;http://tempuri.org/&quot;;\r\n    private static final String METHOD_NAME = &quot;method&quot;;\r\n    private static final String SOAP_ACTION = NAMESPACE + METHOD_NAME;\r\n    private static final String URL = &quot;https://example.com/and/service.asmx&quot;;\r\n    private static final String USER_NAME = &quot;username&quot;;\r\n    private static final String PASSWORD = &quot;password&quot;;\r\n\r\n```\r\n//calling web service\r\n```\r\n\r\n```\r\n SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\r\n PropertyInfo deviceIdPI = new PropertyInfo();\r\n        deviceIdPI.setName(&quot;device_id&quot;);\r\n        deviceIdPI.setValue(deviceId);\r\n        deviceIdPI.setType(String.class);\r\n        request.addProperty(deviceIdPI);\r\n```\r\n\r\n```\r\n  SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n\r\n        // add header to envelope\r\n        envelope.headerOut = getHeaderElement();\r\n\r\n        System.out.println(&quot;HeaderValue &quot; + Arrays.toString(envelope.headerOut));\r\n\r\n        envelope.dotNet = false;\r\n        envelope.bodyOut = request;\r\n        envelope.setOutputSoapObject(request);\r\n        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\r\n        System.out.println(&quot;BodyOut &quot; + envelope.bodyOut.toString());\r\n\r\n        androidHttpTransport.debug = true;\r\n        androidHttpTransport.call(SOAP_ACTION, envelope);\r\n\r\n        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();\r\n        System.out.println(&quot;ResponseMessage&quot; +  response.toString());\r\n        responseMsg = String.valueOf(response);\r\n        System.out.println(&quot;ResponseMessage&quot; +  response.toString());\r\n```\r\n\r\n```\r\n public static Element[] getHeaderElement() {\r\n        // create header\r\n        Element[] header = new Element[1];\r\n        header[0] = new Element().createElement(&quot;http://docs.oasis-open.org/wss/2004/01/oasis- 200401-wss-wssecurity-secext-1.0.xsd&quot;,&quot;Security&quot;);\r\n        header[0].setAttribute(null, &quot;mustUnderstand&quot;,&quot;1&quot;);\r\n\r\n        //username\r\n        Element username = new Element().createElement(null, USER_NAME);\r\n        username.addChild(Node.IGNORABLE_WHITESPACE,&quot;CBROWN&quot;);\r\n        header[0].addChild(Node.ELEMENT, username);\r\n\r\n        //password\r\n        Element pass = new Element().createElement(null,PASSWORD);\r\n        pass.setAttribute(null, &quot;Type&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;);\r\n//        pass.addChild(Node.TEXT, PASSWORD);\r\n        username.addChild(Node.ELEMENT, pass);\r\n\r\n        return header;\r\n    }\r\n}\r\n```","title":"SOAP webservice call with header not working","body":"<p>I'm trying to call a SOAP webservice with credentials username and password, but it's giving an error, I tried in different ways but it's the same output, it's giving this error:</p>\n<p>//error</p>\n<pre><code>expected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@2:44 in java.io.InputStreamReader@54570a0)\n</code></pre>\n<p>No response is returned.</p>\n<p>//variables</p>\n<pre><code>private static final String NAMESPACE = &quot;http://tempuri.org/&quot;;\nprivate static final String METHOD_NAME = &quot;method&quot;;\nprivate static final String SOAP_ACTION = NAMESPACE + METHOD_NAME;\nprivate static final String URL = &quot;https://example.com/and/service.asmx&quot;;\nprivate static final String USER_NAME = &quot;username&quot;;\nprivate static final String PASSWORD = &quot;password&quot;;\n</code></pre>\n<pre><code>//calling web service\n</code></pre>\n<pre><code> SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\n PropertyInfo deviceIdPI = new PropertyInfo();\n        deviceIdPI.setName(&quot;device_id&quot;);\n        deviceIdPI.setValue(deviceId);\n        deviceIdPI.setType(String.class);\n        request.addProperty(deviceIdPI);\n</code></pre>\n<pre><code>  SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n\n        // add header to envelope\n        envelope.headerOut = getHeaderElement();\n\n        System.out.println(&quot;HeaderValue &quot; + Arrays.toString(envelope.headerOut));\n\n        envelope.dotNet = false;\n        envelope.bodyOut = request;\n        envelope.setOutputSoapObject(request);\n        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\n        System.out.println(&quot;BodyOut &quot; + envelope.bodyOut.toString());\n\n        androidHttpTransport.debug = true;\n        androidHttpTransport.call(SOAP_ACTION, envelope);\n\n        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();\n        System.out.println(&quot;ResponseMessage&quot; +  response.toString());\n        responseMsg = String.valueOf(response);\n        System.out.println(&quot;ResponseMessage&quot; +  response.toString());\n</code></pre>\n<pre><code> public static Element[] getHeaderElement() {\n        // create header\n        Element[] header = new Element[1];\n        header[0] = new Element().createElement(&quot;http://docs.oasis-open.org/wss/2004/01/oasis- 200401-wss-wssecurity-secext-1.0.xsd&quot;,&quot;Security&quot;);\n        header[0].setAttribute(null, &quot;mustUnderstand&quot;,&quot;1&quot;);\n\n        //username\n        Element username = new Element().createElement(null, USER_NAME);\n        username.addChild(Node.IGNORABLE_WHITESPACE,&quot;CBROWN&quot;);\n        header[0].addChild(Node.ELEMENT, username);\n\n        //password\n        Element pass = new Element().createElement(null,PASSWORD);\n        pass.setAttribute(null, &quot;Type&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;);\n//        pass.addChild(Node.TEXT, PASSWORD);\n        username.addChild(Node.ELEMENT, pass);\n\n        return header;\n    }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers"],"answers":[{"tags":[],"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1515658709,"creation_date":1515658709,"answer_id":48202516,"question_id":48201347,"body_markdown":"Essentially, `map&lt;...&gt;` is identical to:\r\n\r\n    repeated TypedPair ...\r\n\r\nwith\r\n\r\n    message TypedPair {\r\n        KeyType key = 1;\r\n        ValueType value = 2;\r\n    }\r\n\r\nSo `repeated map&lt;...&gt;` would be `repeated repeated TypedPair` which doesn&#39;t make sense.\r\n\r\nInstead, define a type that *has* a map, and use that:\r\n\r\n    message HazMap {\r\n        map&lt;...&gt; map = 1;\r\n    }\r\n    ...\r\n    repeated HazMap maps = 1;\r\n\r\nCould this be implicit? Perhaps - but it isn&#39;t right now.","title":"Protobuf3 why repeated map is not allowed?","body":"<p>Essentially, <code>map&lt;...&gt;</code> is identical to:</p>\n\n<pre><code>repeated TypedPair ...\n</code></pre>\n\n<p>with</p>\n\n<pre><code>message TypedPair {\n    KeyType key = 1;\n    ValueType value = 2;\n}\n</code></pre>\n\n<p>So <code>repeated map&lt;...&gt;</code> would be <code>repeated repeated TypedPair</code> which doesn't make sense.</p>\n\n<p>Instead, define a type that <em>has</em> a map, and use that:</p>\n\n<pre><code>message HazMap {\n    map&lt;...&gt; map = 1;\n}\n...\nrepeated HazMap maps = 1;\n</code></pre>\n\n<p>Could this be implicit? Perhaps - but it isn't right now.</p>\n"},{"tags":[],"owner":{"account_id":19619673,"reputation":11,"user_id":14360404,"display_name":""},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678703002,"creation_date":1678703002,"answer_id":75720585,"question_id":48201347,"body_markdown":"you can use `google.protobuf.ListValue`.\r\n\r\n    import &quot;google/protobuf/struct.proto&quot; // important\r\n\r\n    message Example {\r\n      google.protobuf.ListValue map_list = 1 [json_name=&quot;map_list&quot;];\r\n    }\r\nin golang, you can initialize by this way.\r\n\r\n    structpb &quot;google.golang.org/protobuf/types/known/structpb&quot;\r\n    \r\n    newStruct, _ := structpb.NewStruct(map[string]interface{}{\r\n\t\t&quot;key1&quot;: &quot;value1&quot;,\r\n\t\t&quot;key2&quot;: &quot;value2&quot;,\r\n\t})\r\n    newStruct2, _ := structpb.NewStruct(map[string]interface{}{\r\n\t\t&quot;key3&quot;: &quot;value3&quot;,\r\n\t\t&quot;key4&quot;: &quot;value4&quot;,\r\n\t})\r\n    ...\r\n    MapList: &amp;structpb.ListValue{\r\n\t\t\tValues: []*structpb.Value{\r\n\t\t\t\tstructpb.NewStructValue(newStruct),\r\n\t\t\t\tstructpb.NewStructValue(newStruct2),\r\n\t\t\t},\r\n\t\t},\r\n    ...\r\n\r\njson like this\r\n\r\n    &quot;map_list&quot;: [\r\n        {\r\n            &quot;key1&quot;: &quot;value1&quot;,\r\n            &quot;key2&quot;: &quot;value2&quot;\r\n        },\r\n        {\r\n            &quot;key3&quot;: &quot;value3&quot;,\r\n            &quot;key4&quot;: &quot;value4&quot;\r\n        }\r\n    ],\r\n\r\n[see here for detail][1]\r\n\r\n  [1]: https://github.com/ethresearch/sharding-p2p-poc/pull/37","title":"Protobuf3 why repeated map is not allowed?","body":"<p>you can use <code>google.protobuf.ListValue</code>.</p>\n<pre><code>import &quot;google/protobuf/struct.proto&quot; // important\n\nmessage Example {\n  google.protobuf.ListValue map_list = 1 [json_name=&quot;map_list&quot;];\n}\n</code></pre>\n<p>in golang, you can initialize by this way.</p>\n<pre><code>structpb &quot;google.golang.org/protobuf/types/known/structpb&quot;\n\nnewStruct, _ := structpb.NewStruct(map[string]interface{}{\n    &quot;key1&quot;: &quot;value1&quot;,\n    &quot;key2&quot;: &quot;value2&quot;,\n})\nnewStruct2, _ := structpb.NewStruct(map[string]interface{}{\n    &quot;key3&quot;: &quot;value3&quot;,\n    &quot;key4&quot;: &quot;value4&quot;,\n})\n...\nMapList: &amp;structpb.ListValue{\n        Values: []*structpb.Value{\n            structpb.NewStructValue(newStruct),\n            structpb.NewStructValue(newStruct2),\n        },\n    },\n...\n</code></pre>\n<p>json like this</p>\n<pre><code>&quot;map_list&quot;: [\n    {\n        &quot;key1&quot;: &quot;value1&quot;,\n        &quot;key2&quot;: &quot;value2&quot;\n    },\n    {\n        &quot;key3&quot;: &quot;value3&quot;,\n        &quot;key4&quot;: &quot;value4&quot;\n    }\n],\n</code></pre>\n<p><a href=\"https://github.com/ethresearch/sharding-p2p-poc/pull/37\" rel=\"nofollow noreferrer\">see here for detail</a></p>\n"}],"owner":{"account_id":2133381,"reputation":277,"user_id":1893668,"accept_rate":73,"display_name":"AnthonyC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3873,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48202516,"answer_count":2,"score":3,"last_activity_date":1678703002,"creation_date":1515653737,"question_id":48201347,"body_markdown":"I am using Protobuf3 and I need to create a list of map.\r\nI thought I can use `repeated map&lt;string, string&gt;` but seems like I cannot.\r\n\r\nWhat should I use instead?\r\n\r\nthanks","title":"Protobuf3 why repeated map is not allowed?","body":"<p>I am using Protobuf3 and I need to create a list of map.\nI thought I can use <code>repeated map&lt;string, string&gt;</code> but seems like I cannot.</p>\n\n<p>What should I use instead?</p>\n\n<p>thanks</p>\n"},{"tags":["java","spring-boot","configuration","annotations"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":4,"creation_date":1562052893,"post_id":56847376,"comment_id":100245662,"body_markdown":"The `@Size` annotation is just an annotation. If you use a valdiator that makes use of these kind of annotations, then the annotation has an effect; otherwise nothing happens. Are you using a validator? If so, show the code. If not, that&#39;s the reason nothing happens.","body":"The <code>@Size</code> annotation is just an annotation. If you use a valdiator that makes use of these kind of annotations, then the annotation has an effect; otherwise nothing happens. Are you using a validator? If so, show the code. If not, that&#39;s the reason nothing happens."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1562053635,"post_id":56847376,"comment_id":100246026,"body_markdown":"Even if validation works, it does not what you think. The [`@Size` annotation](https://docs.oracle.com/javaee/7/api/javax/validation/constraints/package-summary.html) is for constraining the size of character sequences and collections. For constraining numbers, you should use `@Min` and `@Max`.","body":"Even if validation works, it does not what you think. The <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/package-summary.html\" rel=\"nofollow noreferrer\"><code>@Size</code> annotation</a> is for constraining the size of character sequences and collections. For constraining numbers, you should use <code>@Min</code> and <code>@Max</code>."},{"owner":{"account_id":15819504,"reputation":149,"user_id":11414182,"display_name":"Vahe Karapetyan"},"score":0,"creation_date":1562054236,"post_id":56847376,"comment_id":100246311,"body_markdown":"Initially it was `@Max`, that didn&#39;t work as well.","body":"Initially it was <code>@Max</code>, that didn&#39;t work as well."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1562055112,"post_id":56847376,"comment_id":100246719,"body_markdown":"You should add `@Valid` or `@Validated` to your `@RequestBody` annotated method argument. If you don&#39;t then validation will not be triggered.","body":"You should add <code>@Valid</code> or <code>@Validated</code> to your <code>@RequestBody</code> annotated method argument. If you don&#39;t then validation will not be triggered."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1650573771,"creation_date":1562054614,"answer_id":56847924,"question_id":56847376,"body_markdown":"As mentioned in the comments, you should be using `@Max(9000)` as `@Size` should only be used for arrays, Strings, collections and maps.\r\n\r\n\r\n```java\r\npublic class Configuration {\r\n    @Max(9000)\r\n    private Integer maxIterations;\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nAdditionally, you should use the `@Valid` annotation within your controller so that the bean validator knows that there are constraints within the `Configuration` class, for example:\r\n\r\n```java\r\n@PostMapping\r\n@ResponseStatus(HttpStatus.CREATED)\r\npublic String doSomething(@Valid @RequestBody Configuration configuration) {\r\n    // ...\r\n}\r\n```\r\n\r\nThis only works if you have a proper implementation of the **Java Validation API** on your classpath. This can be done by adding the following dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n```\r\n\r\nBefore Spring boot 2.3, this was automatically included within the `spring-boot-starter-web` dependency, but now you have to manually include the dependency.","title":"@Size annotation doesn&#39;t seem to work for my class","body":"<p>As mentioned in the comments, you should be using <code>@Max(9000)</code> as <code>@Size</code> should only be used for arrays, Strings, collections and maps.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Configuration {\n    @Max(9000)\n    private Integer maxIterations;\n\n    // ...\n}\n</code></pre>\n<p>Additionally, you should use the <code>@Valid</code> annotation within your controller so that the bean validator knows that there are constraints within the <code>Configuration</code> class, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic String doSomething(@Valid @RequestBody Configuration configuration) {\n    // ...\n}\n</code></pre>\n<p>This only works if you have a proper implementation of the <strong>Java Validation API</strong> on your classpath. This can be done by adding the following dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>Before Spring boot 2.3, this was automatically included within the <code>spring-boot-starter-web</code> dependency, but now you have to manually include the dependency.</p>\n"},{"tags":[],"owner":{"account_id":3186446,"reputation":472,"user_id":4527472,"accept_rate":0,"display_name":"BHARAT GUPTA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678702800,"creation_date":1678702800,"answer_id":75720554,"question_id":56847376,"body_markdown":"Below dependency works for me: \r\n\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nEarlier i was using below dependency which causing some unkown issues for validations     \t\t\r\n\r\n     &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"@Size annotation doesn&#39;t seem to work for my class","body":"<p>Below dependency works for me:</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Earlier i was using below dependency which causing some unkown issues for validations</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15819504,"reputation":149,"user_id":11414182,"display_name":"Vahe Karapetyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10165,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1678702800,"creation_date":1562052485,"question_id":56847376,"body_markdown":"I have a Spring Boot Controller with an endpoint that accepts the following Configuration class (as json). The class has the param `maxIterations` and has a `@Size` annotation set to `9000`.\r\n\r\n    ...\r\n    import javax.validation.constraints.Max;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    public class Configuration {\r\n        // Max iterations\r\n        @Size(max = 9000)\r\n        private Integer maxIterations;\r\n    \r\n        ...\r\n    }\r\n\r\nThe problem is that when making the `POST` call to that endpoint with the following `json` it does not return an error or warning stating the the `maxIterations` parameter is higher than `9000`.\r\n\r\n    {\r\n      &quot;maxIterations&quot;: 15000\r\n    }\r\n\r\n\r\nThis is my controller:\r\n\r\n    @PostMapping()\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public String doSomething(@RequestBody Configuration configuration) {\r\n        ...\r\n    }\r\n\r\n\r\nWhat can be the issue?","title":"@Size annotation doesn&#39;t seem to work for my class","body":"<p>I have a Spring Boot Controller with an endpoint that accepts the following Configuration class (as json). The class has the param <code>maxIterations</code> and has a <code>@Size</code> annotation set to <code>9000</code>.</p>\n\n<pre><code>...\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Size;\n\npublic class Configuration {\n    // Max iterations\n    @Size(max = 9000)\n    private Integer maxIterations;\n\n    ...\n}\n</code></pre>\n\n<p>The problem is that when making the <code>POST</code> call to that endpoint with the following <code>json</code> it does not return an error or warning stating the the <code>maxIterations</code> parameter is higher than <code>9000</code>.</p>\n\n<pre><code>{\n  \"maxIterations\": 15000\n}\n</code></pre>\n\n<p>This is my controller:</p>\n\n<pre><code>@PostMapping()\n@ResponseStatus(HttpStatus.CREATED)\npublic String doSomething(@RequestBody Configuration configuration) {\n    ...\n}\n</code></pre>\n\n<p>What can be the issue?</p>\n"},{"tags":["java","spring-boot","soap","cxf","policies"],"owner":{"account_id":1567539,"reputation":161,"user_id":1455990,"display_name":"thomre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678702774,"creation_date":1678702097,"question_id":75720426,"body_markdown":"I need to write a mock-implementation for a third party product that offers a Soap-Webservice.\r\n\r\nThe WSDL-file is provided and I can&#39;t change it. It contains various policies, including WS-addressing- and WS-security-policies.\r\nThe client for this service is implemented by another team. I have access to the client source code but not the third party service source code.\r\nThe client, the third party service and my implementation all use the same WSDL-file: https://www.xoev.de/sixcms/media.php/13/XTA2Version3.zip\r\n\r\nBoth other developers (client and third party service) say they use Apache CXF and did not add any configuration/customization/implementation regarding Soap-Headers. I traced the response of the third party product and all required headers are present.\r\n \r\nI use cxf-spring-boot-starter-jaxws and cxf-codegen-plugin.\r\n \r\nThe CXF documentation states:\r\n&quot;In CXF 2.2, if the cxf-rt-ws-policy and cxf-rt-ws-security modules are available on the classpath, the WS-SecurityPolicy stuff is automatically enabled. Since the entire security runtime is policy driven, the only requirement is that the policy engine and security policies be available.&quot;\r\nhttps://cxf.apache.org/docs/ws-securitypolicy.html\r\n \r\nI added both cxf-rt-ws-security and cxf-rt-ws-policy as direct maven dependencies to make sure they are available.\r\n \r\nMy code neither sends the required signature confirmation nor the WS-addressing headers in the response.\r\nI tried the following combinations without luck:\r\n- CXF 3.5.5, Spring Boot 2.6.4, Java 11\r\n- CXF 4.0.0, Spring Boot 3.0.3, Java 17\r\n \r\nI can mitigate the WS-addressing error by manually adding the header, but that does not work for the signature confirmation and should not be necessary.\r\n \r\nThe client errors are:\r\n\r\n- for the missing addressing header:\r\n&gt; javax.xml.ws.soap.SOAPFaultException: A required header representing a\r\n&gt; Message Addressing Property is not present\r\n&gt;                         at org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:195)\r\n&gt; ~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\r\n&gt;                         at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\r\n&gt; ~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\r\n\r\n- for the missing wsse-header:\r\n&gt; javax.xml.ws.soap.SOAPFaultException: These policy alternatives can\r\n&gt; not be satisfied:\r\n&gt;             {http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702}Wss11:\r\n&gt; Signature Confirmation policy validation failed\r\n&gt;                         at org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:195)\r\n&gt; ~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\r\n&gt;                         at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\r\n&gt; ~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\r\n\r\n \r\nSo the client enforces the policies but my server implementation does not automatically provide the required headers as described in the documentation and as seems to be working in the third party implementation. \r\n\r\nWhat am I missing?","title":"Apache CXF service not adding required headers specified by existing policies in WSDL-file","body":"<p>I need to write a mock-implementation for a third party product that offers a Soap-Webservice.</p>\n<p>The WSDL-file is provided and I can't change it. It contains various policies, including WS-addressing- and WS-security-policies.\nThe client for this service is implemented by another team. I have access to the client source code but not the third party service source code.\nThe client, the third party service and my implementation all use the same WSDL-file: <a href=\"https://www.xoev.de/sixcms/media.php/13/XTA2Version3.zip\" rel=\"nofollow noreferrer\">https://www.xoev.de/sixcms/media.php/13/XTA2Version3.zip</a></p>\n<p>Both other developers (client and third party service) say they use Apache CXF and did not add any configuration/customization/implementation regarding Soap-Headers. I traced the response of the third party product and all required headers are present.</p>\n<p>I use cxf-spring-boot-starter-jaxws and cxf-codegen-plugin.</p>\n<p>The CXF documentation states:\n&quot;In CXF 2.2, if the cxf-rt-ws-policy and cxf-rt-ws-security modules are available on the classpath, the WS-SecurityPolicy stuff is automatically enabled. Since the entire security runtime is policy driven, the only requirement is that the policy engine and security policies be available.&quot;\n<a href=\"https://cxf.apache.org/docs/ws-securitypolicy.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/ws-securitypolicy.html</a></p>\n<p>I added both cxf-rt-ws-security and cxf-rt-ws-policy as direct maven dependencies to make sure they are available.</p>\n<p>My code neither sends the required signature confirmation nor the WS-addressing headers in the response.\nI tried the following combinations without luck:</p>\n<ul>\n<li>CXF 3.5.5, Spring Boot 2.6.4, Java 11</li>\n<li>CXF 4.0.0, Spring Boot 3.0.3, Java 17</li>\n</ul>\n<p>I can mitigate the WS-addressing error by manually adding the header, but that does not work for the signature confirmation and should not be necessary.</p>\n<p>The client errors are:</p>\n<ul>\n<li>for the missing addressing header:</li>\n</ul>\n<blockquote>\n<p>javax.xml.ws.soap.SOAPFaultException: A required header representing a\nMessage Addressing Property is not present\nat org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:195)\n~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\nat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\n~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]</p>\n</blockquote>\n<ul>\n<li>for the missing wsse-header:</li>\n</ul>\n<blockquote>\n<p>javax.xml.ws.soap.SOAPFaultException: These policy alternatives can\nnot be satisfied:\n{http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702}Wss11:\nSignature Confirmation policy validation failed\nat org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:195)\n~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\nat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\n~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]</p>\n</blockquote>\n<p>So the client enforces the policies but my server implementation does not automatically provide the required headers as described in the documentation and as seems to be working in the third party implementation.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1678458354,"post_id":75697124,"comment_id":133541532,"body_markdown":"How is the project managing dependencies? Maven? Gradle? Something else? Show whatever is used to declare dependencies (eg, if Maven, show the pom file).","body":"How is the project managing dependencies? Maven? Gradle? Something else? Show whatever is used to declare dependencies (eg, if Maven, show the pom file)."},{"owner":{"account_id":7447319,"reputation":80,"user_id":5663090,"display_name":"Dallon Xu"},"score":0,"creation_date":1678465052,"post_id":75697124,"comment_id":133543530,"body_markdown":"@E-Riz I just dowloaded the jar `aspose-cells-23.3.jar`, and add it to the buid path.","body":"@E-Riz I just dowloaded the jar <code>aspose-cells-23.3.jar</code>, and add it to the buid path."}],"answers":[{"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678702603,"creation_date":1678702603,"answer_id":75720523,"question_id":75697124,"body_markdown":"It seems an issue with Eclipse to show hint for grammar check. We think the issue is caused by the fact that there are some classes with same name with their package. Such structure is obviously allowed by Java itself but not for Eclipse.\r\n\r\nAs it does not affect the execution of Java application so you may continue to use it without any issue. But, since it might cause a little confusion/inconvenience for some users, so we have decided to change the mechanism of generating the Jar a bit to avoid such kind of issue or situation. This enhancement will be incorporated in our next (upcoming) release/version: Aspose.Cells for Java v23.4.\r\n\r\nHope, this helps a bit. \r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose.  ","title":"Eclipse shows error &#39;The type cannot be resolved&#39; in code lines but runs OK","body":"<p>It seems an issue with Eclipse to show hint for grammar check. We think the issue is caused by the fact that there are some classes with same name with their package. Such structure is obviously allowed by Java itself but not for Eclipse.</p>\n<p>As it does not affect the execution of Java application so you may continue to use it without any issue. But, since it might cause a little confusion/inconvenience for some users, so we have decided to change the mechanism of generating the Jar a bit to avoid such kind of issue or situation. This enhancement will be incorporated in our next (upcoming) release/version: Aspose.Cells for Java v23.4.</p>\n<p>Hope, this helps a bit.</p>\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"}],"owner":{"account_id":7447319,"reputation":80,"user_id":5663090,"display_name":"Dallon Xu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678702603,"creation_date":1678457234,"question_id":75697124,"body_markdown":"I have the following code, in Eclipse IDE, it shows `The type com.aspose.cells.b.a.d cannot be resolved. It is indirectly referenced from required type com.aspose.cells.Workbook` error in code lines, but there is no compile error and it runs OK.\r\n\r\nAlso, there is no any error in IntilliJIdea IDE.\r\n[![eclipse error][1]][1]\r\n\r\nCode:\r\n\r\n```java\r\nimport com.aspose.cells.*;\r\n\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tSystem.out.println(CellsHelper.getVersion());\r\n\t\t\r\n\t\tPdfSaveOptions pdfSaveOptions = new PdfSaveOptions();\r\n\t\t\r\n\t\t\r\n\t\tWorkbook wb = new Workbook();\r\n\t\twb.getWorksheets().get(0).getCells().get(&quot;A1&quot;).putValue(&quot;test&quot;);\r\n\t\t\r\n\t\twb.save(&quot;test_Java.pdf&quot;);\r\n\t\t\r\n\t\twb.save(&quot;testWithOptions_Java.pdf&quot;, pdfSaveOptions);\r\n\t}\r\n\r\n}\r\n``` \r\n\r\nPlease note, [`aspose-cells-23.3.jar`](https://releases.aspose.com/java/repo/com/aspose/aspose-cells/23.3/aspose-cells-23.3.jar) is needed for the above code.\r\nMaybe there is something wrong in the used jar. However, I want to know why the error is dispalyed in Eclipse, but the code runs OK? Which item in the jar causes the error? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TQxOP.png","title":"Eclipse shows error &#39;The type cannot be resolved&#39; in code lines but runs OK","body":"<p>I have the following code, in Eclipse IDE, it shows <code>The type com.aspose.cells.b.a.d cannot be resolved. It is indirectly referenced from required type com.aspose.cells.Workbook</code> error in code lines, but there is no compile error and it runs OK.</p>\n<p>Also, there is no any error in IntilliJIdea IDE.\n<a href=\"https://i.stack.imgur.com/TQxOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TQxOP.png\" alt=\"eclipse error\" /></a></p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.aspose.cells.*;\n\npublic class Test {\n\n    public static void main(String[] args) throws Exception {\n        \n        System.out.println(CellsHelper.getVersion());\n        \n        PdfSaveOptions pdfSaveOptions = new PdfSaveOptions();\n        \n        \n        Workbook wb = new Workbook();\n        wb.getWorksheets().get(0).getCells().get(&quot;A1&quot;).putValue(&quot;test&quot;);\n        \n        wb.save(&quot;test_Java.pdf&quot;);\n        \n        wb.save(&quot;testWithOptions_Java.pdf&quot;, pdfSaveOptions);\n    }\n\n}\n</code></pre>\n<p>Please note, <a href=\"https://releases.aspose.com/java/repo/com/aspose/aspose-cells/23.3/aspose-cells-23.3.jar\" rel=\"nofollow noreferrer\"><code>aspose-cells-23.3.jar</code></a> is needed for the above code.\nMaybe there is something wrong in the used jar. However, I want to know why the error is dispalyed in Eclipse, but the code runs OK? Which item in the jar causes the error?</p>\n"},{"tags":["java","json","cqengine"],"owner":{"account_id":20577598,"reputation":91,"user_id":15104413,"display_name":"Akhil Ranjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678702376,"creation_date":1678702376,"question_id":75720484,"body_markdown":"When the member object passed on to the getGenericType() method in AttributeSourceGenerator.java corresponds to &#39;public org.json.JSONArray&#39;, then the following exception is thrown :-\r\n\r\n    java.lang.IllegalStateException: Failed to create attribute for member: public org.json.JSONArray com.Mypackage.Myclass.jsonArrayfieldName\r\n    \tat com.googlecode.cqengine.codegen.AttributeBytecodeGenerator.createAttributes(AttributeBytecodeGenerator.java:141)\r\n    \tat com.googlecode.cqengine.codegen.AttributeBytecodeGenerator.createAttributes(AttributeBytecodeGenerator.java:54)\r\n    \tat myAppMethod(MyCustomClass.java:102)\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\r\n    \tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n    \tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.lang.ClassCastException: class java.lang.Class cannot be cast to class java.lang.reflect.ParameterizedType (java.lang.Class and java.lang.reflect.ParameterizedType are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat com.googlecode.cqengine.codegen.AttributeSourceGenerator.getGenericType(AttributeSourceGenerator.java:379)\r\n    \tat com.googlecode.cqengine.codegen.AttributeBytecodeGenerator.createAttributes(AttributeBytecodeGenerator.java:109)\r\n    \t... 54 more\r\n\r\nIn the workflow, the getGenericType() on the JSONArray member (type casted to &#39;Field&#39;) is called, which returns an instance of java.lang.Class. When an attempt to type cast this instance to ParameterizedType is made, the ClassCastException is thrown :-\r\n\r\n    static ParameterizedType getGenericType(Member member) {\r\n        if (member instanceof Field) {\r\n            return (ParameterizedType)((Field) member).getGenericType();\r\n        }\r\n        else if (member instanceof Method) {\r\n            return (ParameterizedType)((Method) member).getGenericReturnType();\r\n        }\r\n        else throw new IllegalStateException(&quot;Unsupported member type: &quot; + member);\r\n    }\r\n\r\nThis error/exception is breaking an important functionality in our application. I would like to understand more about the above code. In my opinion, the above code would throw an error everytime a JSONArray member is used. Is it a known incompatibility between cqengine and JSONArray, and is there a workaround for it? Please let me know if I&#39;m missing something.\r\n","title":"CQengine incompatibility with JSONArray : java.lang.IllegalStateException thrown for JSONArray in AttributeBytecodeGenerator.java","body":"<p>When the member object passed on to the getGenericType() method in AttributeSourceGenerator.java corresponds to 'public org.json.JSONArray', then the following exception is thrown :-</p>\n<pre><code>java.lang.IllegalStateException: Failed to create attribute for member: public org.json.JSONArray com.Mypackage.Myclass.jsonArrayfieldName\n    at com.googlecode.cqengine.codegen.AttributeBytecodeGenerator.createAttributes(AttributeBytecodeGenerator.java:141)\n    at com.googlecode.cqengine.codegen.AttributeBytecodeGenerator.createAttributes(AttributeBytecodeGenerator.java:54)\n    at myAppMethod(MyCustomClass.java:102)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ClassCastException: class java.lang.Class cannot be cast to class java.lang.reflect.ParameterizedType (java.lang.Class and java.lang.reflect.ParameterizedType are in module java.base of loader 'bootstrap')\n    at com.googlecode.cqengine.codegen.AttributeSourceGenerator.getGenericType(AttributeSourceGenerator.java:379)\n    at com.googlecode.cqengine.codegen.AttributeBytecodeGenerator.createAttributes(AttributeBytecodeGenerator.java:109)\n    ... 54 more\n</code></pre>\n<p>In the workflow, the getGenericType() on the JSONArray member (type casted to 'Field') is called, which returns an instance of java.lang.Class. When an attempt to type cast this instance to ParameterizedType is made, the ClassCastException is thrown :-</p>\n<pre><code>static ParameterizedType getGenericType(Member member) {\n    if (member instanceof Field) {\n        return (ParameterizedType)((Field) member).getGenericType();\n    }\n    else if (member instanceof Method) {\n        return (ParameterizedType)((Method) member).getGenericReturnType();\n    }\n    else throw new IllegalStateException(&quot;Unsupported member type: &quot; + member);\n}\n</code></pre>\n<p>This error/exception is breaking an important functionality in our application. I would like to understand more about the above code. In my opinion, the above code would throw an error everytime a JSONArray member is used. Is it a known incompatibility between cqengine and JSONArray, and is there a workaround for it? Please let me know if I'm missing something.</p>\n"},{"tags":["java","json","deserialization","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":26262923,"reputation":447,"user_id":19933941,"display_name":"llesha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678702341,"creation_date":1678696749,"answer_id":75719567,"question_id":75718632,"body_markdown":"Here is an algorithm and an implementation.\r\n\r\n## Algorithm ##\r\n\r\n1. Get all keys that correspond to a Map value (not to a String), put them in `objectMap`.\r\n2. Fill `rootKeys` with keys from `objectMap`. These would be top-level keys in the resulting map.\r\n3. Recursively traverse `objectMap` maps, replace non-empty string values (e.g. in `&quot;valueC&quot;: key3&quot;`, `&quot;key3&quot;` gets replaced). If a key is replaced, remove it from `rootKeys`.\r\n4. Serialize `rootKeys` (with corresponding values).\r\n\r\n## Implementation ##\r\nConstraint: input json should be a list.\r\n\r\n```java\r\nimport com.google.gson.Gson;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\nclass RecursiveJsonFlattener {\r\n    private final Map&lt;String, Map&lt;String, Object&gt;&gt; objectMap = new HashMap&lt;&gt;();\r\n    private final Set&lt;String&gt; rootKeys = new HashSet&lt;&gt;();\r\n    private final Object[] jsonData;\r\n    private final Gson serializer = new Gson();\r\n\r\n    public RecursiveJsonFlattener(String jsonData) {\r\n        this.jsonData = serializer.fromJson(jsonData, Object[].class);\r\n    }\r\n\r\n    public String getFlattened() {\r\n        for (var obj : jsonData) {\r\n            if (obj instanceof Map) {\r\n                addToKeys((Map&lt;String, Object&gt;) obj);\r\n            }\r\n        }\r\n        rootKeys.addAll(objectMap.keySet());\r\n\r\n        for (var map : objectMap.values()) {\r\n            substituteStringValues(map);\r\n        }\r\n\r\n        var resultingMap = rootKeys.stream().collect(Collectors.toMap(key -&gt; key, objectMap::get));\r\n        return serializer.toJson(resultingMap);\r\n    }\r\n\r\n    private void addToKeys(Map&lt;String, Object&gt; map) {\r\n        for (var entry : map.entrySet()) {\r\n            if (!(entry.getValue() instanceof String)) {\r\n                objectMap.put(entry.getKey(), (Map&lt;String, Object&gt;) entry.getValue());\r\n                addToKeys((Map&lt;String, Object&gt;) entry.getValue());\r\n            }\r\n        }\r\n    }\r\n\r\n    private void substituteStringValues(Map&lt;String, Object&gt; map) {\r\n        for (var entry : map.entrySet()) {\r\n            var value = entry.getValue();\r\n            if (value instanceof String &amp;&amp; !value.equals(&quot;&quot;)) {\r\n                map.put(entry.getKey(), objectMap.get(value));\r\n                rootKeys.remove(value);\r\n            } else if (entry.getValue() instanceof Map) {\r\n                substituteStringValues((Map&lt;String, Object&gt;) value);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nUsage:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String jsonString = &quot;[{\\&quot;key1\\&quot;: {\\&quot;valueA\\&quot;: \\&quot;\\&quot;, \\&quot;valueB\\&quot;: \\&quot;\\&quot;}},\\n&quot; +\r\n                &quot;{\\&quot;key2\\&quot;: {\\&quot;valueC\\&quot;: \\&quot;key3\\&quot;}},\\n&quot; +\r\n                &quot;{\\&quot;key3\\&quot;: {\\&quot;valueD\\&quot;: \\&quot;\\&quot;, \\&quot;valueE\\&quot;: \\&quot;\\&quot;}}]&quot;;\r\n        System.out.println(new RecursiveJsonFlattener(jsonString).getFlattened());\r\n        // prints {&quot;key1&quot;:{&quot;valueA&quot;:&quot;&quot;,&quot;valueB&quot;:&quot;&quot;},&quot;key2&quot;:{&quot;valueC&quot;:{&quot;valueD&quot;:&quot;&quot;,&quot;valueE&quot;:&quot;&quot;}}}\r\n    }\r\n}\r\n```\r\n\r\nI use Gson library, add dependency via Gradle: `implementation &#39;com.google.code.gson:gson:2.10.1&#39;` or via Maven:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Get nested json with a list of unflattened jsons?","body":"<p>Here is an algorithm and an implementation.</p>\n<h2>Algorithm</h2>\n<ol>\n<li>Get all keys that correspond to a Map value (not to a String), put them in <code>objectMap</code>.</li>\n<li>Fill <code>rootKeys</code> with keys from <code>objectMap</code>. These would be top-level keys in the resulting map.</li>\n<li>Recursively traverse <code>objectMap</code> maps, replace non-empty string values (e.g. in <code>&quot;valueC&quot;: key3&quot;</code>, <code>&quot;key3&quot;</code> gets replaced). If a key is replaced, remove it from <code>rootKeys</code>.</li>\n<li>Serialize <code>rootKeys</code> (with corresponding values).</li>\n</ol>\n<h2>Implementation</h2>\n<p>Constraint: input json should be a list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.Gson;\n\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\nclass RecursiveJsonFlattener {\n    private final Map&lt;String, Map&lt;String, Object&gt;&gt; objectMap = new HashMap&lt;&gt;();\n    private final Set&lt;String&gt; rootKeys = new HashSet&lt;&gt;();\n    private final Object[] jsonData;\n    private final Gson serializer = new Gson();\n\n    public RecursiveJsonFlattener(String jsonData) {\n        this.jsonData = serializer.fromJson(jsonData, Object[].class);\n    }\n\n    public String getFlattened() {\n        for (var obj : jsonData) {\n            if (obj instanceof Map) {\n                addToKeys((Map&lt;String, Object&gt;) obj);\n            }\n        }\n        rootKeys.addAll(objectMap.keySet());\n\n        for (var map : objectMap.values()) {\n            substituteStringValues(map);\n        }\n\n        var resultingMap = rootKeys.stream().collect(Collectors.toMap(key -&gt; key, objectMap::get));\n        return serializer.toJson(resultingMap);\n    }\n\n    private void addToKeys(Map&lt;String, Object&gt; map) {\n        for (var entry : map.entrySet()) {\n            if (!(entry.getValue() instanceof String)) {\n                objectMap.put(entry.getKey(), (Map&lt;String, Object&gt;) entry.getValue());\n                addToKeys((Map&lt;String, Object&gt;) entry.getValue());\n            }\n        }\n    }\n\n    private void substituteStringValues(Map&lt;String, Object&gt; map) {\n        for (var entry : map.entrySet()) {\n            var value = entry.getValue();\n            if (value instanceof String &amp;&amp; !value.equals(&quot;&quot;)) {\n                map.put(entry.getKey(), objectMap.get(value));\n                rootKeys.remove(value);\n            } else if (entry.getValue() instanceof Map) {\n                substituteStringValues((Map&lt;String, Object&gt;) value);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String jsonString = &quot;[{\\&quot;key1\\&quot;: {\\&quot;valueA\\&quot;: \\&quot;\\&quot;, \\&quot;valueB\\&quot;: \\&quot;\\&quot;}},\\n&quot; +\n                &quot;{\\&quot;key2\\&quot;: {\\&quot;valueC\\&quot;: \\&quot;key3\\&quot;}},\\n&quot; +\n                &quot;{\\&quot;key3\\&quot;: {\\&quot;valueD\\&quot;: \\&quot;\\&quot;, \\&quot;valueE\\&quot;: \\&quot;\\&quot;}}]&quot;;\n        System.out.println(new RecursiveJsonFlattener(jsonString).getFlattened());\n        // prints {&quot;key1&quot;:{&quot;valueA&quot;:&quot;&quot;,&quot;valueB&quot;:&quot;&quot;},&quot;key2&quot;:{&quot;valueC&quot;:{&quot;valueD&quot;:&quot;&quot;,&quot;valueE&quot;:&quot;&quot;}}}\n    }\n}\n</code></pre>\n<p>I use Gson library, add dependency via Gradle: <code>implementation 'com.google.code.gson:gson:2.10.1'</code> or via Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27030385,"reputation":13,"user_id":20586850,"display_name":"electronyoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75719567,"answer_count":1,"score":1,"last_activity_date":1678702341,"creation_date":1678689156,"question_id":75718632,"body_markdown":"Test case 1:\r\n\r\ninput\r\n\r\n```\r\n[{&quot;key1&quot;: {&quot;valueA&quot;: &quot;&quot;, &quot;valueB&quot;: &quot;&quot;}},\r\n{&quot;key2&quot;: {&quot;valueC&quot;: &quot;key3&quot;}},\r\n{&quot;key3&quot;: {&quot;valueD&quot;: &quot;&quot;, &quot;valueE&quot;: &quot;&quot;}}]\r\n```\r\n\r\noutput\r\n\r\n```\r\n[{&quot;key1&quot;: {&quot;valueA&quot;: &quot;&quot;, &quot;valueB&quot;: &quot;&quot;}},\r\n{&quot;key2&quot;: {&quot;valueC&quot;: {&quot;valueD&quot;: &quot;&quot;, &quot;valueE&quot;: &quot;&quot;}}]\r\n```\r\n\r\nTest case 2:\r\n\r\ninput\r\n\r\n```\r\n[{&quot;key1&quot;: {&quot;valueA&quot;: &quot;key2&quot;}},\r\n{&quot;key2&quot;: {&quot;valueB&quot;: &quot;key3&quot;}},\r\n{&quot;key3&quot;: {&quot;valueC&quot;: &quot;&quot;, &quot;valueD&quot;: &quot;&quot;}}]\r\n```\r\n\r\noutput\r\n\r\n```\r\n[{&quot;key1&quot;: {&quot;valueA&quot;: {&quot;valueB&quot;: {&quot;valueC&quot;: &quot;&quot;, &quot;valueD&quot;: &quot;&quot;}}}}]\r\n```\r\n\r\nConstraints\r\n\r\n- All values should either be an empty string or an object.\r\n\r\n- Depth 1 json object(`{&quot;key1&quot;: ...}`, `{&quot;key2&quot;: ...}`, ...) should have only one key-value element.\r\n\r\n- The task can take recursively, which means traverse should not be limited to certain level.\r\n\r\nI&#39;m struggling with this problem for a week... Please help me to solve it or name java library so that I can take a look at the source code.","title":"Get nested json with a list of unflattened jsons?","body":"<p>Test case 1:</p>\n<p>input</p>\n<pre><code>[{&quot;key1&quot;: {&quot;valueA&quot;: &quot;&quot;, &quot;valueB&quot;: &quot;&quot;}},\n{&quot;key2&quot;: {&quot;valueC&quot;: &quot;key3&quot;}},\n{&quot;key3&quot;: {&quot;valueD&quot;: &quot;&quot;, &quot;valueE&quot;: &quot;&quot;}}]\n</code></pre>\n<p>output</p>\n<pre><code>[{&quot;key1&quot;: {&quot;valueA&quot;: &quot;&quot;, &quot;valueB&quot;: &quot;&quot;}},\n{&quot;key2&quot;: {&quot;valueC&quot;: {&quot;valueD&quot;: &quot;&quot;, &quot;valueE&quot;: &quot;&quot;}}]\n</code></pre>\n<p>Test case 2:</p>\n<p>input</p>\n<pre><code>[{&quot;key1&quot;: {&quot;valueA&quot;: &quot;key2&quot;}},\n{&quot;key2&quot;: {&quot;valueB&quot;: &quot;key3&quot;}},\n{&quot;key3&quot;: {&quot;valueC&quot;: &quot;&quot;, &quot;valueD&quot;: &quot;&quot;}}]\n</code></pre>\n<p>output</p>\n<pre><code>[{&quot;key1&quot;: {&quot;valueA&quot;: {&quot;valueB&quot;: {&quot;valueC&quot;: &quot;&quot;, &quot;valueD&quot;: &quot;&quot;}}}}]\n</code></pre>\n<p>Constraints</p>\n<ul>\n<li><p>All values should either be an empty string or an object.</p>\n</li>\n<li><p>Depth 1 json object(<code>{&quot;key1&quot;: ...}</code>, <code>{&quot;key2&quot;: ...}</code>, ...) should have only one key-value element.</p>\n</li>\n<li><p>The task can take recursively, which means traverse should not be limited to certain level.</p>\n</li>\n</ul>\n<p>I'm struggling with this problem for a week... Please help me to solve it or name java library so that I can take a look at the source code.</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery"],"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1678833559,"post_id":75720449,"comment_id":133609753,"body_markdown":"Can you also use `Python` sdk instead of Java ? It simpler to load Json and Dict to `BigQuery`.","body":"Can you also use <code>Python</code> sdk instead of Java ? It simpler to load Json and Dict to <code>BigQuery</code>."},{"owner":{"account_id":20264040,"reputation":1,"user_id":14861715,"display_name":"dominosski"},"score":0,"creation_date":1678958916,"post_id":75720449,"comment_id":133634809,"body_markdown":"Unfortunately not. The entire project is based on java.","body":"Unfortunately not. The entire project is based on java."}],"owner":{"account_id":20264040,"reputation":1,"user_id":14861715,"display_name":"dominosski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678702200,"creation_date":1678702200,"question_id":75720449,"body_markdown":"I want to send data from local JSON file stored on my PC. I also want to use &quot;WRITE_APPEND&quot; option to append new data to existing one. How can I do that using Java libraries? Previously I used insertAll() method to stream all of the data at once to the BigQuery but I want to use the other way to do it with &quot;WRITE_APPEND&quot; option.\r\n\r\nI tried to work with LoadJobConfiguration but I was getting error &quot;Source URI must be a Google Cloud Storage location: output.json&quot;. I wanted to use local JSON file.","title":"Can I send data to Bigquery using local Json file?","body":"<p>I want to send data from local JSON file stored on my PC. I also want to use &quot;WRITE_APPEND&quot; option to append new data to existing one. How can I do that using Java libraries? Previously I used insertAll() method to stream all of the data at once to the BigQuery but I want to use the other way to do it with &quot;WRITE_APPEND&quot; option.</p>\n<p>I tried to work with LoadJobConfiguration but I was getting error &quot;Source URI must be a Google Cloud Storage location: output.json&quot;. I wanted to use local JSON file.</p>\n"},{"tags":["java","jdeveloper","oracle-adf"],"answers":[{"tags":[],"owner":{"account_id":143058,"reputation":523,"user_id":351139,"accept_rate":69,"display_name":"Himz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319395794,"creation_date":1319395794,"answer_id":7868336,"question_id":7796860,"body_markdown":"As for the task , make an object of the View Object(VO)(assumig you using BC layer) and then set the bind variable by using setNamedWhereClause() function and execute the query. \r\n\r\nAs you said you have session scope bean, you can create an intialization function to be called before the query is executed and set the params there. \r\n\r\nI hope this solves the problem. \r\n\r\nThanks\r\n","title":"ADF visualizations: Retrieve current managed bean","body":"<p>As for the task , make an object of the View Object(VO)(assumig you using BC layer) and then set the bind variable by using setNamedWhereClause() function and execute the query. </p>\n\n<p>As you said you have session scope bean, you can create an intialization function to be called before the query is executed and set the params there. </p>\n\n<p>I hope this solves the problem. </p>\n\n<p>Thanks</p>\n"}],"owner":{"account_id":24810,"reputation":44144,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678702080,"creation_date":1318869823,"question_id":7796860,"body_markdown":"I&#39;m building a small ADF application using data visualizations and ran into a problem.\r\n\r\nI have a session scoped managed bean, named `map_action`, which is used to pass data from a `&lt;dvt:map&gt;` to a sql query inside a DataControl by its property `country`.\r\n\r\nThis query uses a bind variable named `location` in its `where` clause. And the bind variable takes its value from a Groovy expression:\r\n\r\n`adf.context.sessionScope.map_action.country`\r\n\r\nThis has one problem. Even though the value of `map_action.country` changes, the bind variable always uses the first value. \r\n\r\nIs there any way to make `location` take the value of `map_action.country`?  It looks like it is reading a cached value.\r\n\r\nPerhaps the Groovy expression is not correct. Is there any way to message the current `map_action` instance?\r\n","title":"ADF visualizations: Retrieve current managed bean","body":"<p>I'm building a small ADF application using data visualizations and ran into a problem.</p>\n<p>I have a session scoped managed bean, named <code>map_action</code>, which is used to pass data from a <code>&lt;dvt:map&gt;</code> to a sql query inside a DataControl by its property <code>country</code>.</p>\n<p>This query uses a bind variable named <code>location</code> in its <code>where</code> clause. And the bind variable takes its value from a Groovy expression:</p>\n<p><code>adf.context.sessionScope.map_action.country</code></p>\n<p>This has one problem. Even though the value of <code>map_action.country</code> changes, the bind variable always uses the first value.</p>\n<p>Is there any way to make <code>location</code> take the value of <code>map_action.country</code>?  It looks like it is reading a cached value.</p>\n<p>Perhaps the Groovy expression is not correct. Is there any way to message the current <code>map_action</code> instance?</p>\n"},{"tags":["java","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":1488071,"reputation":5336,"user_id":1395863,"accept_rate":95,"display_name":"Farvardin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678701905,"creation_date":1678701905,"answer_id":75720396,"question_id":75720112,"body_markdown":"Just create a wrapping class like:\r\n\r\n```\r\nclass SearchOutput {\r\n    private Order order;\r\n    private Courier courier;\r\n\r\n    public SearchOutput(Order order, Courier courier) {\r\n        this.order = order;\r\n        this.courier = courier;\r\n    }\r\n    \r\n    //getters and setters\r\n}\r\n````\r\nAnd then use it as the return type:\r\n```\r\n@GetMapping(&quot;/search/{id}&quot;)\r\nfunction ResponseBody&lt;SearchOutput&gt; search(@PathVariable String id){\r\n    courier = xyzListReturning;\r\n    Order = xyzObjectReturning;\r\n        \r\n    return ResponseEntity.ok(new SearchOutput(order, courier));\r\n}","title":"multiple response as a single api through springboot","body":"<p>Just create a wrapping class like:</p>\n<pre><code>class SearchOutput {\n    private Order order;\n    private Courier courier;\n\n    public SearchOutput(Order order, Courier courier) {\n        this.order = order;\n        this.courier = courier;\n    }\n    \n    //getters and setters\n}\n</code></pre>\n<p>And then use it as the return type:</p>\n<pre><code>@GetMapping(&quot;/search/{id}&quot;)\nfunction ResponseBody&lt;SearchOutput&gt; search(@PathVariable String id){\n    courier = xyzListReturning;\n    Order = xyzObjectReturning;\n        \n    return ResponseEntity.ok(new SearchOutput(order, courier));\n}\n</code></pre>\n"}],"owner":{"account_id":27782365,"reputation":41,"user_id":21210488,"display_name":"AasthaChaudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678701905,"creation_date":1678700125,"question_id":75720112,"body_markdown":"I am having a GET mapping function with the link &#39;/search/{id}&#39;.I am fetching a list of couriers (List) as well as OrderRelatedInfo (Object). Is it possible to return both pieces of info through a single GET request?\r\nExample:\r\n\r\n```\r\n@GetMapping(&quot;/search/{id}&quot;)\r\nfunction ? search(@PathVariable String id){\r\ncourier = xyzListReturning;\r\nOrder = xyzObjectReturning;\r\nreturn ?\r\n}\r\n```\r\n\r\n\r\nWhat do I have to write at the place of &#39;? &#39; Is it possible to send the courier and Order as one response?\r\n","title":"multiple response as a single api through springboot","body":"<p>I am having a GET mapping function with the link '/search/{id}'.I am fetching a list of couriers (List) as well as OrderRelatedInfo (Object). Is it possible to return both pieces of info through a single GET request?\nExample:</p>\n<pre><code>@GetMapping(&quot;/search/{id}&quot;)\nfunction ? search(@PathVariable String id){\ncourier = xyzListReturning;\nOrder = xyzObjectReturning;\nreturn ?\n}\n</code></pre>\n<p>What do I have to write at the place of '? ' Is it possible to send the courier and Order as one response?</p>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1678211012,"post_id":75665224,"comment_id":133488024,"body_markdown":"You should show the code that creates and persists the 2 entities for a new user.","body":"You should show the code that creates and persists the 2 entities for a new user."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1678256760,"post_id":75665224,"comment_id":133495764,"body_markdown":"You are doing a parent-child relationship but you&#39;re missing to set `UserInfoEntity#user` value to relate the entities","body":"You are doing a parent-child relationship but you&#39;re missing to set <code>UserInfoEntity#user</code> value to relate the entities"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678701383,"creation_date":1678701383,"answer_id":75720317,"question_id":75665224,"body_markdown":"Are you sure that `UserEntity#userInfos` is not null when you call `service.persist()`? Also, did you make sure that `UserInfoEntity#user` points back to the `UserEntity`?\r\n\r\n\r\nI don&#39;t know how your real data model looks like, but you can split an entity into two tables as well if you want, by using `@SecondaryTable`:\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\n@SecondaryTable(name = &quot;user_info&quot;\r\npublic class UserEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    @Column(table = &quot;user_info&quot;)\r\n    private String moreInfo;\r\n}\r\n```","title":"Hibernate - Create UserInfo entry automatically when a new User is added","body":"<p>Are you sure that <code>UserEntity#userInfos</code> is not null when you call <code>service.persist()</code>? Also, did you make sure that <code>UserInfoEntity#user</code> points back to the <code>UserEntity</code>?</p>\n<p>I don't know how your real data model looks like, but you can split an entity into two tables as well if you want, by using <code>@SecondaryTable</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;users&quot;)\n@SecondaryTable(name = &quot;user_info&quot;\npublic class UserEntity {\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    @Column(table = &quot;user_info&quot;)\n    private String moreInfo;\n}\n</code></pre>\n"}],"owner":{"account_id":24380741,"reputation":25,"user_id":18312340,"display_name":"Armure"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678701383,"creation_date":1678209465,"question_id":75665224,"body_markdown":"I use Hibernate for my postgres database and I need it to create a new line into the &quot;User_Info&quot; table each time a new User is added.\r\n\r\nI have two entities :\r\n\r\n**User**\r\n```java\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\npublic class UserEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n    private UserInfoEntity infos;\r\n}\r\n```\r\n\r\n**UserInfo**\r\n```java\r\n@Entity\r\n@Table(name=&quot;user_info&quot;)\r\npublic class UserInfoEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @MapsId\r\n    @OneToOne\r\n    @JoinColumn (name = &quot;user_id&quot;, referencedColumnName  = &quot;id&quot;)\r\n    private UserEntity user;\r\n}\r\n```\r\n\r\nSo here I am creating a OneToOne relationship between the two entities.\r\nThe Id of UserInfoEntity should be the same as the UserEntity.\r\n\r\nI don&#39;t really understand why it won&#39;t work as I&#39;ve set cascade to CascadeType.ALL in UserEntity. But as you could imagine no lines are inserted when I create a new user.\r\n\r\nI really want this relationship, and I really want them to both share the same Id as they are deeply linked together.\r\n\r\nI tried to put a constructor in UserEntity like that :\r\n```java\r\npublic User(){\r\n    this.infos = new UserInfoEntity();\r\n}\r\n``` \r\nBut it had no effect.\r\n\r\nI use a simple Controller using Quarkus to persist the data \r\n```java\r\n    @POST\r\n    @ReactiveTransactional\r\n    public Uni&lt;Response&gt; createUser(UserEntity user) {\r\n        if (user == null) {\r\n            throw new WebApplicationException(&quot;user was invalidly set on request.&quot;, 422);\r\n        }\r\n        LOGGER.info(&quot;creating user: &quot; + user.getName());\r\n        return service.persist(user)\r\n                .map(persistedUser -&gt; Response\r\n                        .created(URI.create(&quot;/users/&quot; + user.id))\r\n                        .entity(persistedUser)\r\n                        .build())\r\n                .onFailure().recoverWithItem(Response.status(Status.BAD_REQUEST).build());\r\n    }\r\n```\r\n\r\nI don&#39;t want to create the entry &quot;manually&quot; each times as I am pretty sure it is possible to do it with annotations like that.\r\n\r\nWhat could I do so that each time a new User is inserted, a UserInfo is also created ?\r\nI also want OrphanRemoval so no UserInfo should remain if the User is not in the database anymore.\r\n\r\nI&#39;m pretty new to Hibernate so let me know if there&#39;s anything weird in my code and what would be more appropriate in my case.\r\n\r\nThank you.","title":"Hibernate - Create UserInfo entry automatically when a new User is added","body":"<p>I use Hibernate for my postgres database and I need it to create a new line into the &quot;User_Info&quot; table each time a new User is added.</p>\n<p>I have two entities :</p>\n<p><strong>User</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;users&quot;)\npublic class UserEntity {\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\n    private UserInfoEntity infos;\n}\n</code></pre>\n<p><strong>UserInfo</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;user_info&quot;)\npublic class UserInfoEntity {\n    @Id\n    private Long id;\n\n    @MapsId\n    @OneToOne\n    @JoinColumn (name = &quot;user_id&quot;, referencedColumnName  = &quot;id&quot;)\n    private UserEntity user;\n}\n</code></pre>\n<p>So here I am creating a OneToOne relationship between the two entities.\nThe Id of UserInfoEntity should be the same as the UserEntity.</p>\n<p>I don't really understand why it won't work as I've set cascade to CascadeType.ALL in UserEntity. But as you could imagine no lines are inserted when I create a new user.</p>\n<p>I really want this relationship, and I really want them to both share the same Id as they are deeply linked together.</p>\n<p>I tried to put a constructor in UserEntity like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public User(){\n    this.infos = new UserInfoEntity();\n}\n</code></pre>\n<p>But it had no effect.</p>\n<p>I use a simple Controller using Quarkus to persist the data</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @POST\n    @ReactiveTransactional\n    public Uni&lt;Response&gt; createUser(UserEntity user) {\n        if (user == null) {\n            throw new WebApplicationException(&quot;user was invalidly set on request.&quot;, 422);\n        }\n        LOGGER.info(&quot;creating user: &quot; + user.getName());\n        return service.persist(user)\n                .map(persistedUser -&gt; Response\n                        .created(URI.create(&quot;/users/&quot; + user.id))\n                        .entity(persistedUser)\n                        .build())\n                .onFailure().recoverWithItem(Response.status(Status.BAD_REQUEST).build());\n    }\n</code></pre>\n<p>I don't want to create the entry &quot;manually&quot; each times as I am pretty sure it is possible to do it with annotations like that.</p>\n<p>What could I do so that each time a new User is inserted, a UserInfo is also created ?\nI also want OrphanRemoval so no UserInfo should remain if the User is not in the database anymore.</p>\n<p>I'm pretty new to Hibernate so let me know if there's anything weird in my code and what would be more appropriate in my case.</p>\n<p>Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1399968633,"post_id":23625887,"comment_id":36275219,"body_markdown":"There are no generic methods in your example. You mean `public`? And no, this is not how we use `extends` in Java. Read more [here](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html).","body":"There are no generic methods in your example. You mean <code>public</code>? And no, this is not how we use <code>extends</code> in Java. Read more <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":10,"creation_date":1399968668,"post_id":23625887,"comment_id":36275245,"body_markdown":"Extending it would logically mean - &quot;Every Student is a Math&quot;. Is this what you want?","body":"Extending it would logically mean - &quot;Every Student is a Math&quot;. Is this what you want?"},{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":0,"creation_date":1399968676,"post_id":23625887,"comment_id":36275250,"body_markdown":"Why `Student` has to extend `Math` ? There&#39;s no point for me. :)","body":"Why <code>Student</code> has to extend <code>Math</code> ? There&#39;s no point for me. :)"},{"owner":{"account_id":341092,"reputation":2140,"user_id":3075037,"display_name":"Jakub H"},"score":0,"creation_date":1399968698,"post_id":23625887,"comment_id":36275266,"body_markdown":"it&#39;s not a generic method, btw class name should start from upper-case letter by convention in Java","body":"it&#39;s not a generic method, btw class name should start from upper-case letter by convention in Java"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1399968729,"post_id":23625887,"comment_id":36275282,"body_markdown":"IMO the methods should be static. I don&#39;t see the point of creating a new Math object for calling add.","body":"IMO the methods should be static. I don&#39;t see the point of creating a new Math object for calling add."},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":2,"creation_date":1399968735,"post_id":23625887,"comment_id":36275284,"body_markdown":"This is too basic a question. Read an introductory Java book.","body":"This is too basic a question. Read an introductory Java book."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1399968997,"post_id":23625887,"comment_id":36275424,"body_markdown":"@ZouZou - Spot on. add/subtract etc should be utility methods.","body":"@ZouZou - Spot on. add/subtract etc should be utility methods."},{"owner":{"account_id":1561027,"reputation":5773,"user_id":1450890,"accept_rate":100,"display_name":"Rook"},"score":2,"creation_date":1399969925,"post_id":23625887,"comment_id":36275944,"body_markdown":"You should be aware that &quot;generic&quot; has a specific technical meaning in many programming languages, including Java. It does not mean what you think it means here ;)","body":"You should be aware that &quot;generic&quot; has a specific technical meaning in many programming languages, including Java. It does not mean what you think it means here ;)"}],"answers":[{"tags":[],"owner":{"account_id":272779,"reputation":5565,"user_id":564045,"accept_rate":78,"display_name":"PDStat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1399968742,"creation_date":1399968742,"answer_id":23625942,"question_id":23625887,"body_markdown":"It would make more sense to have that add function as static then you could do `Math.add(1,1)` for example inside your Student class.","title":"Correct use of &#39;extend&#39; class in java","body":"<p>It would make more sense to have that add function as static then you could do <code>Math.add(1,1)</code> for example inside your Student class.</p>\n"},{"tags":[],"owner":{"account_id":3376638,"reputation":544,"user_id":2834652,"accept_rate":100,"display_name":"Leo Pflug"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1678700862,"creation_date":1399968780,"answer_id":23625949,"question_id":23625887,"body_markdown":"The best thing with &quot;helper-methods&quot; like this is probably to use them in a static way, as long as it&#39;s a trivial task like this. Also your class name should start with a capital letter.\r\n\r\nLike this:\r\n\r\n    public class Math\r\n    {\r\n    \r\n        public static double add(int a, int b)\r\n        {\r\n        //code\r\n        }\r\n    \r\n    }\r\n\r\nand access it like this:\r\n\r\n    Math.add(1,2);\r\n\r\n**NOTE:**\r\nThis is only a suggestion what OP should use, for an answer to the correct use of &#39;extend&#39; see [this answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/23626047/2834652","title":"Correct use of &#39;extend&#39; class in java","body":"<p>The best thing with &quot;helper-methods&quot; like this is probably to use them in a static way, as long as it's a trivial task like this. Also your class name should start with a capital letter.</p>\n<p>Like this:</p>\n<pre><code>public class Math\n{\n\n    public static double add(int a, int b)\n    {\n    //code\n    }\n\n}\n</code></pre>\n<p>and access it like this:</p>\n<pre><code>Math.add(1,2);\n</code></pre>\n<p><strong>NOTE:</strong>\nThis is only a suggestion what OP should use, for an answer to the correct use of 'extend' see <a href=\"https://stackoverflow.com/a/23626047/2834652\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":1488071,"reputation":5336,"user_id":1395863,"accept_rate":95,"display_name":"Farvardin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1678701020,"creation_date":1399969150,"answer_id":23626047,"question_id":23625887,"body_markdown":"In OO design using Inheritance for code-reuse is an anti-pattern and bad-practice. Only use Inheritance when a `IS_A` relation exists. so could you say `students is a math`? If no, there is no reason to use inheritance. if your reused-method is so common, then you should put it in an Utility Class.\r\n\r\nsee [Composition over inheritance][1] and [Helper class][2] for more...\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Composition_over_inheritance\r\n  [2]: https://en.wikipedia.org/wiki/Helper_class","title":"Correct use of &#39;extend&#39; class in java","body":"<p>In OO design using Inheritance for code-reuse is an anti-pattern and bad-practice. Only use Inheritance when a <code>IS_A</code> relation exists. so could you say <code>students is a math</code>? If no, there is no reason to use inheritance. if your reused-method is so common, then you should put it in an Utility Class.</p>\n<p>see <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">Composition over inheritance</a> and <a href=\"https://en.wikipedia.org/wiki/Helper_class\" rel=\"nofollow noreferrer\">Helper class</a> for more...</p>\n"},{"tags":[],"owner":{"account_id":2766699,"reputation":6030,"user_id":2382246,"accept_rate":100,"display_name":"blalasaadri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399970716,"creation_date":1399970716,"answer_id":23626548,"question_id":23625887,"body_markdown":"It makes little sense to have `Student` extend `Math` as a student is not a math-Object. A student is a person, so you could have a `Person` class and then have `Student extends Person`.\r\n\r\nIf you want two methods to have an `add` method that is somehow similar what you *could*  do is to create an interface `Addable` which declares that there is such an `add` method. It may look something like this:\r\n\r\n    public interface Addable&lt;S, T, U&gt; {\r\n        S add(T a, U b);\r\n    }\r\n\r\nand\r\n\r\n    public class Student implements Addable&lt;Student, Student, Integer&gt; {\r\n        private int age;\r\n\r\n        Student(int age) {\r\n            this.age = age;\r\n        }\r\n\r\n        public Student add(Student a, Integer b) {\r\n            return new Student(a.age + b);\r\n        }\r\n\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    public class Math implements Addable&lt;Double, Integer, Integer&gt; {\r\n        public Double add(Integer a, Integer b) {\r\n            return Double.valueOf(a + b);\r\n        }\r\n    }\r\n\r\n**HOWEVER** *this is just to explain how inheritance works*; making an `add` method like that makes little sense as some of the other answers already have pointed out. Make something like this (a function that is independent of an actual instance of an object) a `static` method instead.","title":"Correct use of &#39;extend&#39; class in java","body":"<p>It makes little sense to have <code>Student</code> extend <code>Math</code> as a student is not a math-Object. A student is a person, so you could have a <code>Person</code> class and then have <code>Student extends Person</code>.</p>\n\n<p>If you want two methods to have an <code>add</code> method that is somehow similar what you <em>could</em>  do is to create an interface <code>Addable</code> which declares that there is such an <code>add</code> method. It may look something like this:</p>\n\n<pre><code>public interface Addable&lt;S, T, U&gt; {\n    S add(T a, U b);\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class Student implements Addable&lt;Student, Student, Integer&gt; {\n    private int age;\n\n    Student(int age) {\n        this.age = age;\n    }\n\n    public Student add(Student a, Integer b) {\n        return new Student(a.age + b);\n    }\n\n    public int getAge() {\n        return age;\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class Math implements Addable&lt;Double, Integer, Integer&gt; {\n    public Double add(Integer a, Integer b) {\n        return Double.valueOf(a + b);\n    }\n}\n</code></pre>\n\n<p><strong>HOWEVER</strong> <em>this is just to explain how inheritance works</em>; making an <code>add</code> method like that makes little sense as some of the other answers already have pointed out. Make something like this (a function that is independent of an actual instance of an object) a <code>static</code> method instead.</p>\n"}],"owner":{"account_id":414855,"reputation":2868,"user_id":789320,"accept_rate":61,"display_name":"Rory Lester"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":23625949,"answer_count":4,"score":1,"last_activity_date":1678701020,"creation_date":1399968554,"question_id":23625887,"body_markdown":"Assuming that i have a Math class with generic functions e.g. \r\n\r\n    public class math {\r\n    \r\n      public double add(int a, int b){\r\n        //code\r\n      }\r\n    \r\n    }\r\n\r\nAnd i have a class &#39;`students`&#39; that wants to use the above &#39;`add`&#39; method. Do i extend student with math class? or create an instance of it ? e.g. \r\n\r\n    math a = new math(); \r\n    a.add \r\n\r\n\r\n","title":"Correct use of &#39;extend&#39; class in java","body":"<p>Assuming that i have a Math class with generic functions e.g. </p>\n\n<pre><code>public class math {\n\n  public double add(int a, int b){\n    //code\n  }\n\n}\n</code></pre>\n\n<p>And i have a class '<code>students</code>' that wants to use the above '<code>add</code>' method. Do i extend student with math class? or create an instance of it ? e.g. </p>\n\n<pre><code>math a = new math(); \na.add \n</code></pre>\n"},{"tags":["java","ethereum","digital-signature","private-key"],"answers":[{"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678701005,"creation_date":1678701005,"answer_id":75720252,"question_id":75720064,"body_markdown":"you can find more here https://blog.web3labs.com/web3development/how-to-sign-messages-with-web3j\r\n\r\nbut here is a simple example of signing a message in java\r\n\r\n    import org.web3j.crypto.Credentials;\r\n    import org.web3j.crypto.Sign;\r\n    import org.web3j.utils.Numeric;\r\n    \r\n    public class SignMessageExample {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String privateKey = &quot;0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef&quot;;\r\n            Credentials credentials = Credentials.create(privateKey);\r\n    \r\n            String message = &quot;Hello, world!&quot;;\r\n            byte[] messageBytes = message.getBytes();\r\n            Sign.SignatureData signature = Sign.signMessage(messageBytes, credentials.getEcKeyPair());\r\n    \r\n            String r = Numeric.toHexString(signature.getR());\r\n            String s = Numeric.toHexString(signature.getS());\r\n            String v = Numeric.toHexString(signature.getV());\r\n    \r\n            System.out.println(&quot;Signature: r=&quot; + r + &quot; s=&quot; + s + &quot; v=&quot; + v);\r\n        }\r\n    }\r\n\r\n","title":"Sign a message with Ethereum private key on Java","body":"<p>you can find more here <a href=\"https://blog.web3labs.com/web3development/how-to-sign-messages-with-web3j\" rel=\"nofollow noreferrer\">https://blog.web3labs.com/web3development/how-to-sign-messages-with-web3j</a></p>\n<p>but here is a simple example of signing a message in java</p>\n<pre><code>import org.web3j.crypto.Credentials;\nimport org.web3j.crypto.Sign;\nimport org.web3j.utils.Numeric;\n\npublic class SignMessageExample {\n\n    public static void main(String[] args) {\n\n        String privateKey = &quot;0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef&quot;;\n        Credentials credentials = Credentials.create(privateKey);\n\n        String message = &quot;Hello, world!&quot;;\n        byte[] messageBytes = message.getBytes();\n        Sign.SignatureData signature = Sign.signMessage(messageBytes, credentials.getEcKeyPair());\n\n        String r = Numeric.toHexString(signature.getR());\n        String s = Numeric.toHexString(signature.getS());\n        String v = Numeric.toHexString(signature.getV());\n\n        System.out.println(&quot;Signature: r=&quot; + r + &quot; s=&quot; + s + &quot; v=&quot; + v);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12122030,"reputation":7,"user_id":21388040,"display_name":"Slava Brall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1678776361,"answer_count":1,"score":-2,"last_activity_date":1678701005,"creation_date":1678699879,"question_id":75720064,"body_markdown":"I need to sign a message with a blockchain private key using Java. \r\n\r\nSomething like\r\nconst signature = await ethersSigner.signMessage(message);\r\non JavaScript. \r\n\r\nThanks a lot\r\n\r\nDon&#39;t find this method in web3j\r\n","title":"Sign a message with Ethereum private key on Java","body":"<p>I need to sign a message with a blockchain private key using Java.</p>\n<p>Something like\nconst signature = await ethersSigner.signMessage(message);\non JavaScript.</p>\n<p>Thanks a lot</p>\n<p>Don't find this method in web3j</p>\n"},{"tags":["java","eclipse","tomcat","application-shutdown"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1678712485,"post_id":75720213,"comment_id":133581155,"body_markdown":"Instead of eclipse try using tomcat directly from a command line and check the behaviour when you terminate Tomcat either with Ctl+c or shutdown.bat/sh. Far as I recollect, Tomcat calls the destry() method of servlets during context destroyed event","body":"Instead of eclipse try using tomcat directly from a command line and check the behaviour when you terminate Tomcat either with Ctl+c or shutdown.bat/sh. Far as I recollect, Tomcat calls the destry() method of servlets during context destroyed event"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1680197090,"post_id":75720213,"comment_id":133861410,"body_markdown":"Which `destroy` method are you talking about? How do you know it&#39;s not being called?","body":"Which <code>destroy</code> method are you talking about? How do you know it&#39;s not being called?"}],"owner":{"account_id":3730765,"reputation":1823,"user_id":3103244,"accept_rate":53,"display_name":"AnR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678700755,"creation_date":1678700755,"question_id":75720213,"body_markdown":"When I terminate my Java Application in Eclipse, it doesn&#39;t trigger the destroy() function but the application gets terminated.\r\n\r\nWhere and how can I capture Tomcat&#39;s shutdown (or Terminate button in Eclipse) in Java so that I could run the cleaning operations like closing threads etc.\r\n","title":"How to Trap Tomcat&#39;s Terminate in Java Application","body":"<p>When I terminate my Java Application in Eclipse, it doesn't trigger the destroy() function but the application gets terminated.</p>\n<p>Where and how can I capture Tomcat's shutdown (or Terminate button in Eclipse) in Java so that I could run the cleaning operations like closing threads etc.</p>\n"},{"tags":["java","hibernate","sorting","spring-data-jpa","pagination"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678700632,"creation_date":1678700632,"answer_id":75720187,"question_id":75664448,"body_markdown":"It is possible, but you will need to use window functions for this purpose. With Hibernate 6 you can simply use the following:\r\n\r\n    select p \r\n    from Parent p \r\n    join fetch p.children c \r\n    order by min(c.age) over(partition by p.id)","title":"How to sort correctly by nested field in Spring JPA Hibernate using Pagination and Sorting?","body":"<p>It is possible, but you will need to use window functions for this purpose. With Hibernate 6 you can simply use the following:</p>\n<pre><code>select p \nfrom Parent p \njoin fetch p.children c \norder by min(c.age) over(partition by p.id)\n</code></pre>\n"}],"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75720187,"answer_count":1,"score":0,"last_activity_date":1678700632,"creation_date":1678205447,"question_id":75664448,"body_markdown":"I have the following entities (short versions):\r\n\r\n    @Entity\r\n    class Parent {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@OneToMany(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;parentId&quot;)\r\n    \t@OnDelete(action = OnDeleteAction.CASCADE)\r\n    \t@Builder.Default\r\n    \t@ToString.Exclude\r\n    \tprivate List&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    @Entity\r\n    class Child {\r\n    \r\n      \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(nullable = false)\r\n    \tprivate Long parentId;\r\n    \r\n        @Column(nullable = false)\r\n        private String age;\r\n    }\r\n\r\nI&#39;m using Specification Builder. \r\nNote, there are many other fields in the child class, and sorting works for all of them accept for the field which I named &quot;age&quot;, for this purpose.\r\n\r\nWhen I try to sort the Parents based on the child&#39;s field age, I&#39;m not getting the correct result in case when one Parent have children that are not the same age.\r\n\r\nFor example: \r\n\r\n    Parent1 = [\r\n    Child{\r\n       age: 12\r\n    }\r\n    Child{\r\n       age: 12\r\n    }\r\n    Child{\r\n       age: 12\r\n    }\r\n    \r\n    ],\r\n    Parent2 = [\r\n    Child{\r\n       age: 5\r\n    }\r\n    Child{\r\n       age: 5\r\n    }\r\n    Child{\r\n       age: 5\r\n    {\r\n    ],\r\n    Parent3 = [\r\n    Child{\r\n       age: 20\r\n    }\r\n    Child{\r\n       age: 20\r\n    }\r\n    Child{\r\n       age: 10\r\n    {\r\n    ]\r\n\r\nThe result after sorting is parent2, parent1, parent3, even though parent3 has one child with age of 10.\r\nI would like to get: parent2, parent3, parent1.\r\n\r\nI&#39;m wondering is that even possible? I mean the parent3 has 3 children - 2 children has age of 20, and only one age of 10 and I would like for the parent3 to appear before the parent1 because of that. But I can not get it to work.\r\n\r\nI thought the issue might be because the age is actually a String, but I have tried with adding the additional field:\r\n\r\n\t@Formula(value = &quot;ABS(age)&quot;)\r\n\tprivate Integer age;\r\n\r\nBut the same result.\r\n\r\nDoes anyone have any ideas?","title":"How to sort correctly by nested field in Spring JPA Hibernate using Pagination and Sorting?","body":"<p>I have the following entities (short versions):</p>\n<pre><code>@Entity\nclass Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;parentId&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @Builder.Default\n    @ToString.Exclude\n    private List&lt;Child&gt; children = new ArrayList&lt;&gt;();\n}\n\n@Entity\nclass Child {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(nullable = false)\n    private Long parentId;\n\n    @Column(nullable = false)\n    private String age;\n}\n</code></pre>\n<p>I'm using Specification Builder.\nNote, there are many other fields in the child class, and sorting works for all of them accept for the field which I named &quot;age&quot;, for this purpose.</p>\n<p>When I try to sort the Parents based on the child's field age, I'm not getting the correct result in case when one Parent have children that are not the same age.</p>\n<p>For example:</p>\n<pre><code>Parent1 = [\nChild{\n   age: 12\n}\nChild{\n   age: 12\n}\nChild{\n   age: 12\n}\n\n],\nParent2 = [\nChild{\n   age: 5\n}\nChild{\n   age: 5\n}\nChild{\n   age: 5\n{\n],\nParent3 = [\nChild{\n   age: 20\n}\nChild{\n   age: 20\n}\nChild{\n   age: 10\n{\n]\n</code></pre>\n<p>The result after sorting is parent2, parent1, parent3, even though parent3 has one child with age of 10.\nI would like to get: parent2, parent3, parent1.</p>\n<p>I'm wondering is that even possible? I mean the parent3 has 3 children - 2 children has age of 20, and only one age of 10 and I would like for the parent3 to appear before the parent1 because of that. But I can not get it to work.</p>\n<p>I thought the issue might be because the age is actually a String, but I have tried with adding the additional field:</p>\n<pre><code>@Formula(value = &quot;ABS(age)&quot;)\nprivate Integer age;\n</code></pre>\n<p>But the same result.</p>\n<p>Does anyone have any ideas?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678700088,"post_id":75720028,"comment_id":133577601,"body_markdown":"The second answer [here](https://stackoverflow.com/questions/16758346/how-pause-and-then-resume-a-thread) might help","body":"The second answer <a href=\"https://stackoverflow.com/questions/16758346/how-pause-and-then-resume-a-thread\">here</a> might help"},{"owner":{"account_id":2708451,"reputation":674,"user_id":2337522,"display_name":"Sky"},"score":1,"creation_date":1678701060,"post_id":75720028,"comment_id":133577821,"body_markdown":"Can you add some more context? Did you try to solve this with threads (e.g., handling these events in separate threads)? How does your Java code receive these events?","body":"Can you add some more context? Did you try to solve this with threads (e.g., handling these events in separate threads)? How does your Java code receive these events?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1678703741,"post_id":75720028,"comment_id":133578622,"body_markdown":"*Must* the event processing halt the main program? If not, there are trivial solutions.","body":"<i>Must</i> the event processing halt the main program? If not, there are trivial solutions."}],"owner":{"account_id":531328,"reputation":1086,"user_id":2122950,"accept_rate":100,"display_name":"Homewrecker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678700034,"creation_date":1678699670,"question_id":75720028,"body_markdown":"My Java code is minding its own business, doing what I told it to do but at some moment in time, something can happen (an event). When this event occurs, I want my normal Java workflow to PAUSE, and execute code that can only be executed when the event occurs. When the &quot;PAUSE code&quot; is executed and the event has been dealt with, I want the normal Java workflow to resume. So my code should resume doing what it was doing.\r\n\r\nIs this possible in Java, and if so, how can I achieve this?\r\n\r\nI tried using a try/catch, but when you are inside the catch, you lose the context of the execution flow, so it&#39;s not possible to go back to the code in the try-clause.","title":"When something happens, pause the execution flow, do something and resume the execution flow","body":"<p>My Java code is minding its own business, doing what I told it to do but at some moment in time, something can happen (an event). When this event occurs, I want my normal Java workflow to PAUSE, and execute code that can only be executed when the event occurs. When the &quot;PAUSE code&quot; is executed and the event has been dealt with, I want the normal Java workflow to resume. So my code should resume doing what it was doing.</p>\n<p>Is this possible in Java, and if so, how can I achieve this?</p>\n<p>I tried using a try/catch, but when you are inside the catch, you lose the context of the execution flow, so it's not possible to go back to the code in the try-clause.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":17178352,"reputation":153,"user_id":12907709,"display_name":"BANTYC"},"score":0,"creation_date":1678200090,"post_id":75663296,"comment_id":133484456,"body_markdown":"UPD: changing bulk save to ```factions.forEach(factionRepository::save);``` made saving longer but there are at least all entries present. However I still have no idea why bulk save works this way","body":"UPD: changing bulk save to <code>factions.forEach(factionRepository::save);</code> made saving longer but there are at least all entries present. However I still have no idea why bulk save works this way"},{"owner":{"account_id":17178352,"reputation":153,"user_id":12907709,"display_name":"BANTYC"},"score":0,"creation_date":1678346863,"post_id":75663296,"comment_id":133515367,"body_markdown":"This way stopped working today. Now storing 49208/77832","body":"This way stopped working today. Now storing 49208/77832"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1678386641,"post_id":75663296,"comment_id":133527133,"body_markdown":"Try changing `peek(faction -&gt;{XXX})` to \n`map(faction -&gt; {XXX; return faction;})`","body":"Try changing <code>peek(faction -&gt;{XXX})</code> to  <code>map(faction -&gt; {XXX; return faction;})</code>"},{"owner":{"account_id":17178352,"reputation":153,"user_id":12907709,"display_name":"BANTYC"},"score":0,"creation_date":1678390630,"post_id":75663296,"comment_id":133528092,"body_markdown":"@Bohemian, already changed to that way and no result","body":"@Bohemian, already changed to that way and no result"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1678693835,"post_id":75663296,"comment_id":133576044,"body_markdown":"I see that the list is converted into a set. Could it be that by removing duplicates, the set gets shorter that the list?","body":"I see that the list is converted into a set. Could it be that by removing duplicates, the set gets shorter that the list?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678392263,"creation_date":1678392263,"answer_id":75689524,"question_id":75663296,"body_markdown":"The faction.name values contain duplicates. The name column is unique so only the unique names remain. Test it by doing the following immediately before the save.\r\n\r\n    var uniqueFactionByName = factions.stream()\r\n                                         .map(faction -&gt; faction.name)\r\n                                         .collect(Collectors.toSet())\r\n    System.out.println(uniqueFactionByName.size());","title":"Spring Data loses some entries on inserting","body":"<p>The faction.name values contain duplicates. The name column is unique so only the unique names remain. Test it by doing the following immediately before the save.</p>\n<pre><code>var uniqueFactionByName = factions.stream()\n                                     .map(faction -&gt; faction.name)\n                                     .collect(Collectors.toSet())\nSystem.out.println(uniqueFactionByName.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678699974,"creation_date":1678691579,"answer_id":75718918,"question_id":75663296,"body_markdown":"&gt; changing bulk save to `factions.forEach(factionRepository::save);` made saving longer but there are at least all entries present. However I still have no idea why bulk save works this way\r\n\r\nThis works because your business method is not annotated with `@Transactional` and thus you now save each `Faction` object in a separate transaction. See the code of `SimpleJpaRepository` encapsulating the basic functionality for Spring Data&#39;s `JpaRepository`:\r\n```java\r\n//one transaction for all items\r\n@Transactional\r\npublic &lt;S extends T&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\r\n    Assert.notNull(entities, &quot;Entities must not be null!&quot;);\r\n    List&lt;S&gt; result = new ArrayList();\r\n    Iterator var3 = entities.iterator();\r\n\r\n    while(var3.hasNext()) {\r\n        S entity = var3.next();\r\n        result.add(this.save(entity));\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n//a separate transaction for each item\r\n@Transactional\r\npublic &lt;S extends T&gt; S save(S entity) {\r\n    Assert.notNull(entity, &quot;Entity must not be null.&quot;);\r\n    if (this.entityInformation.isNew(entity)) {\r\n        this.em.persist(entity);\r\n        return entity;\r\n    } else {\r\n        return this.em.merge(entity);\r\n    }\r\n}\r\n```\r\nAs you see `JpaRepository.saveAll()` just calls `JpaRepository.save()` in a loop, so the logic is the same but the only difference is about having 1 transaction instead of n.\r\n\r\nNow, why some of the items are lost. The cause is `@GeneratedValue(strategy = GenerationType.IDENTITY)` which is not supported by PostgreSQL, see https://vladmihalcea.com/hibernate-identity-sequence-and-table-sequence-generator/.\r\n\r\nWith `GenerationType.IDENTITY` you insert a row into your table without ID and your DBMS assigns it automatically, so you have no control over it. If DBMS for some reason detects two rows as duplicated within one and the same transaction it might squash them into one and I suspect this is what happens in this case.\r\n\r\nI suggest you to use sequence for primary key generation, this would solve your problem. If sequence cannot be applied in your case then try to split entire collection of saved `Faction` objects into smaller chunks, e.g. of size 500, something like:\r\n```java\r\nLists.partition(factions, 500)\r\n  .stream()\r\n  .map(factionRepository::saveAll)\r\n  .flatMap(List::stream)\r\n  .map(factionMapper::toDto)\r\n  .toList();\r\n```\r\nYou&#39;ll still have `n/500` transactions instead of 1, but this could help. The correct solution, however, is to use sequence.","title":"Spring Data loses some entries on inserting","body":"<blockquote>\n<p>changing bulk save to <code>factions.forEach(factionRepository::save);</code> made saving longer but there are at least all entries present. However I still have no idea why bulk save works this way</p>\n</blockquote>\n<p>This works because your business method is not annotated with <code>@Transactional</code> and thus you now save each <code>Faction</code> object in a separate transaction. See the code of <code>SimpleJpaRepository</code> encapsulating the basic functionality for Spring Data's <code>JpaRepository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//one transaction for all items\n@Transactional\npublic &lt;S extends T&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\n    Assert.notNull(entities, &quot;Entities must not be null!&quot;);\n    List&lt;S&gt; result = new ArrayList();\n    Iterator var3 = entities.iterator();\n\n    while(var3.hasNext()) {\n        S entity = var3.next();\n        result.add(this.save(entity));\n    }\n\n    return result;\n}\n\n//a separate transaction for each item\n@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n    Assert.notNull(entity, &quot;Entity must not be null.&quot;);\n    if (this.entityInformation.isNew(entity)) {\n        this.em.persist(entity);\n        return entity;\n    } else {\n        return this.em.merge(entity);\n    }\n}\n</code></pre>\n<p>As you see <code>JpaRepository.saveAll()</code> just calls <code>JpaRepository.save()</code> in a loop, so the logic is the same but the only difference is about having 1 transaction instead of n.</p>\n<p>Now, why some of the items are lost. The cause is <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> which is not supported by PostgreSQL, see <a href=\"https://vladmihalcea.com/hibernate-identity-sequence-and-table-sequence-generator/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-identity-sequence-and-table-sequence-generator/</a>.</p>\n<p>With <code>GenerationType.IDENTITY</code> you insert a row into your table without ID and your DBMS assigns it automatically, so you have no control over it. If DBMS for some reason detects two rows as duplicated within one and the same transaction it might squash them into one and I suspect this is what happens in this case.</p>\n<p>I suggest you to use sequence for primary key generation, this would solve your problem. If sequence cannot be applied in your case then try to split entire collection of saved <code>Faction</code> objects into smaller chunks, e.g. of size 500, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Lists.partition(factions, 500)\n  .stream()\n  .map(factionRepository::saveAll)\n  .flatMap(List::stream)\n  .map(factionMapper::toDto)\n  .toList();\n</code></pre>\n<p>You'll still have <code>n/500</code> transactions instead of 1, but this could help. The correct solution, however, is to use sequence.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1678696362,"creation_date":1678696362,"answer_id":75719520,"question_id":75663296,"body_markdown":"I guess you didn&#39;t implement `FactionRepository.saveAll` yourself but rely on the Spring Data default? Spring Data doesn&#39;t know if `save` should map to `persist` or `merge`, so it tries to understand what to do by looking at the entity e.g. if the entity has a PK set, it will assume `merge`. I don&#39;t know if the version you are using has some other strategies to determine this, but I think that could be the source of your problem.\r\n\r\nAre you certain that the objects do not contain a value for the id attribute i.e. `factions.stream().noneMatch(f -&gt; f.getId() != null)`?\r\n\r\nWith all that DTO transformation code though, it&#39;s hard to see what&#39;s going on. I also guess that you just posted an excerpt and not the actual code? So there are further possibly mismatches which makes it hard for us to help you, as the bug could lie somewhere in the code you are not showing.\r\n\r\nEither way, I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Faction.class)\r\n    @CreatableEntityView\r\n    public interface FactionDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        void setName(String name);\r\n        Boolean getIsPlayerFaction();\r\n        void setIsPlayerFaction(Boolean isPlayerFaction);\r\n        GovernmentDto getGovernment();\r\n        void setGovernment(GovernmentDto government);\r\n        AllegianceDto getAllegiance();\r\n        void setAllegiance(AllegianceDto allegiance);\r\n\r\n        @EntityView(Allegiance.class)\r\n        @CreatableEntityView\r\n        interface AllegianceDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n            void setName(String name);\r\n        }\r\n\r\n        @EntityView(Government.class)\r\n        @CreatableEntityView\r\n        interface GovernmentDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n            void setName(String name);\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`FactionDto a = entityViewManager.find(entityManager, FactionDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;FactionDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\nSaving is also supported and as simple as defining and using this method in a repository:\r\n    \r\n    void saveAll(List&lt;FactionDto&gt; dtos);\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Spring Data loses some entries on inserting","body":"<p>I guess you didn't implement <code>FactionRepository.saveAll</code> yourself but rely on the Spring Data default? Spring Data doesn't know if <code>save</code> should map to <code>persist</code> or <code>merge</code>, so it tries to understand what to do by looking at the entity e.g. if the entity has a PK set, it will assume <code>merge</code>. I don't know if the version you are using has some other strategies to determine this, but I think that could be the source of your problem.</p>\n<p>Are you certain that the objects do not contain a value for the id attribute i.e. <code>factions.stream().noneMatch(f -&gt; f.getId() != null)</code>?</p>\n<p>With all that DTO transformation code though, it's hard to see what's going on. I also guess that you just posted an excerpt and not the actual code? So there are further possibly mismatches which makes it hard for us to help you, as the bug could lie somewhere in the code you are not showing.</p>\n<p>Either way, I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Faction.class)\n@CreatableEntityView\npublic interface FactionDto {\n    @IdMapping\n    Long getId();\n    String getName();\n    void setName(String name);\n    Boolean getIsPlayerFaction();\n    void setIsPlayerFaction(Boolean isPlayerFaction);\n    GovernmentDto getGovernment();\n    void setGovernment(GovernmentDto government);\n    AllegianceDto getAllegiance();\n    void setAllegiance(AllegianceDto allegiance);\n\n    @EntityView(Allegiance.class)\n    @CreatableEntityView\n    interface AllegianceDto {\n        @IdMapping\n        Long getId();\n        String getName();\n        void setName(String name);\n    }\n\n    @EntityView(Government.class)\n    @CreatableEntityView\n    interface GovernmentDto {\n        @IdMapping\n        Long getId();\n        String getName();\n        void setName(String name);\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>FactionDto a = entityViewManager.find(entityManager, FactionDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;FactionDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n<p>Saving is also supported and as simple as defining and using this method in a repository:</p>\n<pre><code>void saveAll(List&lt;FactionDto&gt; dtos);\n</code></pre>\n"}],"owner":{"account_id":17178352,"reputation":153,"user_id":12907709,"display_name":"BANTYC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75718918,"answer_count":3,"score":2,"last_activity_date":1678699974,"creation_date":1678199501,"question_id":75663296,"body_markdown":"when I&#39;m trying to save big list of entities (77832 elements) in PostgreSQL. But after performing &quot;saveAll&quot; method there are only 49207 entries in table (table was empty before adding items). According to debugger list size doesn&#39;t change. During saving data there are no errors in application and database log.\r\n\r\nHere is entity classes:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;faction&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Faction {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;, unique = true, nullable = false)\r\n    private String name;\r\n\r\n    @ManyToOne(cascade = CascadeType.MERGE, optional = false)\r\n    @JoinColumn(name = &quot;allegiance_id&quot;, nullable = false)\r\n    private Allegiance allegiance;\r\n\r\n    @ManyToOne(cascade = CascadeType.MERGE, optional = false)\r\n    @JoinColumn(name = &quot;government_id&quot;, nullable = false)\r\n    private Government government;\r\n\r\n    @Column(name = &quot;is_player_faction&quot;, nullable = false)\r\n    private Boolean isPlayerFaction;\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;allegiance&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Allegiance {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;, unique = true, nullable = false)\r\n    private String name;\r\n}\r\n```\r\n\r\nAnd method which implements saving data logic:\r\n\r\n```\r\npublic List&lt;FactionDto&gt; saveFactions(List&lt;FactionDto&gt; factionDtos) {\r\n        var factions = factionDtos.stream()\r\n                                  .map(factionMapper::toEntity)\r\n                                  .toList();\r\n\r\n        var governments = factionDtos.stream()\r\n                                     .map(FactionDto::getGovernment)\r\n                                     .collect(Collectors.toSet())\r\n                                     .stream()\r\n                                     .map(item -&gt; new Government(null, item.getName()))\r\n                                     .collect(Collectors.toSet());\r\n        Map&lt;String, Government&gt; governmentMap = governmentRepository\r\n                .saveAll(governments)\r\n                .stream()\r\n                .collect(Collectors.toMap(Government::getName, item -&gt; item));\r\n\r\n        var allegiances = factionDtos.stream()\r\n                                     .map(FactionDto::getAllegiance)\r\n                                     .collect(Collectors.toSet())\r\n                                     .stream()\r\n                                     .map(item -&gt; new Allegiance(null, item.getName()))\r\n                                     .collect(Collectors.toSet());\r\n        Map&lt;String, Allegiance&gt; allegianceMap = allegianceRepository\r\n                .saveAll(allegiances)\r\n                .stream()\r\n                .collect(Collectors.toMap(Allegiance::getName, allegiance -&gt; allegiance));\r\n\r\n        factions = factions.stream()\r\n                           .peek(faction -&gt; {\r\n                               var allegiance = allegianceMap.get(faction.getAllegiance().getName());\r\n                               faction.setAllegiance(allegiance);\r\n                               var government = governmentMap.get(faction.getGovernment().getName());\r\n                               faction.setGovernment(government);\r\n                           })\r\n                           .collect(Collectors.toList());\r\n\r\n\r\n        return factionRepository.saveAll(factions).stream()\r\n                                .map(factionMapper::toDto)\r\n                                .toList();\r\n    }\r\n```\r\n\r\nDebugger shows there are exactly 77832 elements in collection passed for saving. There are no duplicates\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cE6Em.png\r\n\r\nIn my opinion there are should be same number of entries created or at least error message if there are conflicts","title":"Spring Data loses some entries on inserting","body":"<p>when I'm trying to save big list of entities (77832 elements) in PostgreSQL. But after performing &quot;saveAll&quot; method there are only 49207 entries in table (table was empty before adding items). According to debugger list size doesn't change. During saving data there are no errors in application and database log.</p>\n<p>Here is entity classes:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;faction&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Faction {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;, unique = true, nullable = false)\n    private String name;\n\n    @ManyToOne(cascade = CascadeType.MERGE, optional = false)\n    @JoinColumn(name = &quot;allegiance_id&quot;, nullable = false)\n    private Allegiance allegiance;\n\n    @ManyToOne(cascade = CascadeType.MERGE, optional = false)\n    @JoinColumn(name = &quot;government_id&quot;, nullable = false)\n    private Government government;\n\n    @Column(name = &quot;is_player_faction&quot;, nullable = false)\n    private Boolean isPlayerFaction;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;allegiance&quot;)\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Allegiance {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;, unique = true, nullable = false)\n    private String name;\n}\n</code></pre>\n<p>And method which implements saving data logic:</p>\n<pre><code>public List&lt;FactionDto&gt; saveFactions(List&lt;FactionDto&gt; factionDtos) {\n        var factions = factionDtos.stream()\n                                  .map(factionMapper::toEntity)\n                                  .toList();\n\n        var governments = factionDtos.stream()\n                                     .map(FactionDto::getGovernment)\n                                     .collect(Collectors.toSet())\n                                     .stream()\n                                     .map(item -&gt; new Government(null, item.getName()))\n                                     .collect(Collectors.toSet());\n        Map&lt;String, Government&gt; governmentMap = governmentRepository\n                .saveAll(governments)\n                .stream()\n                .collect(Collectors.toMap(Government::getName, item -&gt; item));\n\n        var allegiances = factionDtos.stream()\n                                     .map(FactionDto::getAllegiance)\n                                     .collect(Collectors.toSet())\n                                     .stream()\n                                     .map(item -&gt; new Allegiance(null, item.getName()))\n                                     .collect(Collectors.toSet());\n        Map&lt;String, Allegiance&gt; allegianceMap = allegianceRepository\n                .saveAll(allegiances)\n                .stream()\n                .collect(Collectors.toMap(Allegiance::getName, allegiance -&gt; allegiance));\n\n        factions = factions.stream()\n                           .peek(faction -&gt; {\n                               var allegiance = allegianceMap.get(faction.getAllegiance().getName());\n                               faction.setAllegiance(allegiance);\n                               var government = governmentMap.get(faction.getGovernment().getName());\n                               faction.setGovernment(government);\n                           })\n                           .collect(Collectors.toList());\n\n\n        return factionRepository.saveAll(factions).stream()\n                                .map(factionMapper::toDto)\n                                .toList();\n    }\n</code></pre>\n<p>Debugger shows there are exactly 77832 elements in collection passed for saving. There are no duplicates</p>\n<p><a href=\"https://i.stack.imgur.com/cE6Em.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cE6Em.png\" alt=\"enter image description here\" /></a></p>\n<p>In my opinion there are should be same number of entries created or at least error message if there are conflicts</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1565563923,"post_id":57453154,"comment_id":101382723,"body_markdown":"This is caused by the content of the certificate, not by how you added it into the keystore.","body":"This is caused by the content of the certificate, not by how you added it into the keystore."},{"owner":{"account_id":13605593,"reputation":1128,"user_id":9814870,"display_name":"ashok"},"score":0,"creation_date":1565593313,"post_id":57453154,"comment_id":101387487,"body_markdown":"Yeah  I understand, but I wanted the certificate to be added as a keystore and truststore can you please explainhow to do that","body":"Yeah  I understand, but I wanted the certificate to be added as a keystore and truststore can you please explainhow to do that"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1565599514,"post_id":57453154,"comment_id":101389622,"body_markdown":"You&#39;ve done it, as far as I can see. What makes you think you haven&#39;t?","body":"You&#39;ve done it, as far as I can see. What makes you think you haven&#39;t?"}],"answers":[{"tags":[],"owner":{"account_id":13605593,"reputation":1128,"user_id":9814870,"display_name":"ashok"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1660036551,"creation_date":1565598150,"answer_id":57457773,"question_id":57453154,"body_markdown":"I solved the above problem by directly importing the .crt file to java keystore:\r\n\r\n**For importing into java keystore**\r\n\r\n    keytool -trustcacerts -keystore &quot;/jdk/jre/lib/security/cacerts&quot; -storepass changeit -importcert -alias testalias -file &quot;/opt/ssl/test.crt&quot;\r\n\r\nBy using above command the server certificate will be validated and connection will be achieved but if you want to create new keystore and import .crt to it means use the below command it will create the keystore of type .jks.\r\n\r\n\r\n**For creating keystore  and import .crt**\r\n\r\n    keytool -import -alias testalias -file test.crt -keypass keypass -keystore test.jks -storepass test@123\r\n\r\nhere \r\n\r\n    keystore password : test@123\r\n    keypass : keypass\r\n\r\nAs some code will validate and if you are using wss/https it will ask for keystore/truststore configuration then you can use above configuration mentioned in step2(creating keystore  and import .crt). Otherwise step1 (importing into java keystore) is enough.\r\n","title":"how to add .crt file to keystore and trust store","body":"<p>I solved the above problem by directly importing the .crt file to java keystore:</p>\n<p><strong>For importing into java keystore</strong></p>\n<pre><code>keytool -trustcacerts -keystore &quot;/jdk/jre/lib/security/cacerts&quot; -storepass changeit -importcert -alias testalias -file &quot;/opt/ssl/test.crt&quot;\n</code></pre>\n<p>By using above command the server certificate will be validated and connection will be achieved but if you want to create new keystore and import .crt to it means use the below command it will create the keystore of type .jks.</p>\n<p><strong>For creating keystore  and import .crt</strong></p>\n<pre><code>keytool -import -alias testalias -file test.crt -keypass keypass -keystore test.jks -storepass test@123\n</code></pre>\n<p>here</p>\n<pre><code>keystore password : test@123\nkeypass : keypass\n</code></pre>\n<p>As some code will validate and if you are using wss/https it will ask for keystore/truststore configuration then you can use above configuration mentioned in step2(creating keystore  and import .crt). Otherwise step1 (importing into java keystore) is enough.</p>\n"},{"tags":[],"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678699926,"creation_date":1678699926,"answer_id":75720072,"question_id":57453154,"body_markdown":"Like another one way is create .p12 keystore and change it to jks\r\n\r\n    openssl pkcs12 -export -in tls.crt -inkey tls.key \\\r\n    -out keystore.p12 -name my_cert\r\n\r\nthis command create keystore.p12\r\n\r\nchange p12 to jsk like this\r\n\r\n    keytool -importkeystore \\\r\n    -deststorepass 111111&#160;-destkeypass 111111&#160;-destkeystore keystore.jks \\\r\n    -srckeystore keystore.p12 -srcstoretype PKCS12 -srcstorepass 111111 \\\r\n    -alias my_cert\r\n\r\nthen we can add new cers in jks\r\n\r\n    keytool -importcert -file chain.pem -keystore keystore.jks -alias root\r\n\r\n","title":"how to add .crt file to keystore and trust store","body":"<p>Like another one way is create .p12 keystore and change it to jks</p>\n<pre><code>openssl pkcs12 -export -in tls.crt -inkey tls.key \\\n-out keystore.p12 -name my_cert\n</code></pre>\n<p>this command create keystore.p12</p>\n<p>change p12 to jsk like this</p>\n<pre><code>keytool -importkeystore \\\n-deststorepass 111111-destkeypass 111111-destkeystore keystore.jks \\\n-srckeystore keystore.p12 -srcstoretype PKCS12 -srcstorepass 111111 \\\n-alias my_cert\n</code></pre>\n<p>then we can add new cers in jks</p>\n<pre><code>keytool -importcert -file chain.pem -keystore keystore.jks -alias root\n</code></pre>\n"}],"owner":{"account_id":13605593,"reputation":1128,"user_id":9814870,"display_name":"ashok"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69123,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":57457773,"answer_count":2,"score":13,"last_activity_date":1678699926,"creation_date":1565553349,"question_id":57453154,"body_markdown":"I am having a .crt file and I wanted to import to keystore and truststore using java(first create keystore and truststore then import). \r\n\r\nBelow is the code that I am using:\r\n\r\n    import org.glassfish.tyrus.client.ClientManager;\r\n    import org.glassfish.tyrus.client.ClientProperties;\r\n    import org.glassfish.tyrus.client.SslContextConfigurator;\r\n    import org.glassfish.tyrus.client.SslEngineConfigurator;\r\n    \r\n    @ClientEndpoint\r\n    public class test {\r\n    \t\r\n    \tprivate static CountDownLatch latch;\r\n    \t\r\n    \tprivate Logger logger = Logger.getLogger(this.getClass().getName());\r\n    \t \r\n        @OnOpen\r\n        public void onOpen(Session session) {\r\n            logger.info(&quot;Connected ... &quot; + session.getId());\r\n            try {\r\n                session.getBasicRemote().sendText(&quot;start&quot;);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n     \r\n        @OnMessage\r\n        public String onMessage(String message, Session session) {\r\n            BufferedReader bufferRead = new BufferedReader(new InputStreamReader(System.in));\r\n            try {\r\n                logger.info(&quot;Received ....&quot; + message);\r\n                String userInput = bufferRead.readLine();\r\n                return userInput;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n     \r\n        @OnClose\r\n        public void onClose(Session session, CloseReason closeReason) {\r\n            logger.info(String.format(&quot;Session %s close because of %s&quot;, session.getId(), closeReason));\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            latch = new CountDownLatch(1);\r\n            ClientManager client = ClientManager.createClient();\r\n            \r\n            try {\r\n                client.connectToServer(test.class, new URI(&quot;wss://x.x.x.x:8085&quot;));\r\n                latch.await();\r\n     \r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nI am using tyrus websocket client so, I need to add the following property:\r\n\r\n        final ClientManager client = ClientManager.createClient();\r\n        System.getProperties().put(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n        System.getProperties().put(SSLContextConfigurator.KEY_STORE_FILE, &quot;...&quot;);\r\n        System.getProperties().put(SSLContextConfigurator.TRUST_STORE_FILE, &quot;...&quot;);\r\n        System.getProperties().put(SSLContextConfigurator.KEY_STORE_PASSWORD, &quot;...&quot;);\r\n        System.getProperties().put(SSLContextConfigurator.TRUST_STORE_PASSWORD, &quot;...&quot;);\r\n        final SSLContextConfigurator defaultConfig = new SSLContextConfigurator();\r\n        \r\n        defaultConfig.retrieve(System.getProperties());\r\n            // or setup SSLContextConfigurator using its API.\r\n        \r\n        SSLEngineConfigurator sslEngineConfigurator =\r\n            new SSLEngineConfigurator(defaultConfig, true, false, false);\r\n        client.getProperties().put(ClientProperties.SSL_ENGINE_CONFIGURATOR,\r\n            sslEngineConfigurator);\r\n        client.connectToServer(... , ClientEndpointConfig.Builder.create().build(),\r\n            new URI(&quot;wss://localhost:8181/sample-echo/echo&quot;));\r\n        }\r\nSo, how can I create keystore and truststore and import .crt into it.","title":"how to add .crt file to keystore and trust store","body":"<p>I am having a .crt file and I wanted to import to keystore and truststore using java(first create keystore and truststore then import). </p>\n\n<p>Below is the code that I am using:</p>\n\n<pre><code>import org.glassfish.tyrus.client.ClientManager;\nimport org.glassfish.tyrus.client.ClientProperties;\nimport org.glassfish.tyrus.client.SslContextConfigurator;\nimport org.glassfish.tyrus.client.SslEngineConfigurator;\n\n@ClientEndpoint\npublic class test {\n\n    private static CountDownLatch latch;\n\n    private Logger logger = Logger.getLogger(this.getClass().getName());\n\n    @OnOpen\n    public void onOpen(Session session) {\n        logger.info(\"Connected ... \" + session.getId());\n        try {\n            session.getBasicRemote().sendText(\"start\");\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @OnMessage\n    public String onMessage(String message, Session session) {\n        BufferedReader bufferRead = new BufferedReader(new InputStreamReader(System.in));\n        try {\n            logger.info(\"Received ....\" + message);\n            String userInput = bufferRead.readLine();\n            return userInput;\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @OnClose\n    public void onClose(Session session, CloseReason closeReason) {\n        logger.info(String.format(\"Session %s close because of %s\", session.getId(), closeReason));\n    }\n\n    public static void main(String[] args) {\n        latch = new CountDownLatch(1);\n        ClientManager client = ClientManager.createClient();\n\n        try {\n            client.connectToServer(test.class, new URI(\"wss://x.x.x.x:8085\"));\n            latch.await();\n\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<p>I am using tyrus websocket client so, I need to add the following property:</p>\n\n<pre><code>    final ClientManager client = ClientManager.createClient();\n    System.getProperties().put(\"javax.net.debug\", \"all\");\n    System.getProperties().put(SSLContextConfigurator.KEY_STORE_FILE, \"...\");\n    System.getProperties().put(SSLContextConfigurator.TRUST_STORE_FILE, \"...\");\n    System.getProperties().put(SSLContextConfigurator.KEY_STORE_PASSWORD, \"...\");\n    System.getProperties().put(SSLContextConfigurator.TRUST_STORE_PASSWORD, \"...\");\n    final SSLContextConfigurator defaultConfig = new SSLContextConfigurator();\n\n    defaultConfig.retrieve(System.getProperties());\n        // or setup SSLContextConfigurator using its API.\n\n    SSLEngineConfigurator sslEngineConfigurator =\n        new SSLEngineConfigurator(defaultConfig, true, false, false);\n    client.getProperties().put(ClientProperties.SSL_ENGINE_CONFIGURATOR,\n        sslEngineConfigurator);\n    client.connectToServer(... , ClientEndpointConfig.Builder.create().build(),\n        new URI(\"wss://localhost:8181/sample-echo/echo\"));\n    }\n</code></pre>\n\n<p>So, how can I create keystore and truststore and import .crt into it.</p>\n"},{"tags":["java","android","ionic-framework","altbeacon"],"answers":[{"tags":[],"owner":{"account_id":1574065,"reputation":64130,"user_id":1461050,"accept_rate":89,"display_name":"davidgyoung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678699722,"creation_date":1678699722,"answer_id":75720034,"question_id":75717791,"body_markdown":"Adding the Parsing class causes problems -- on Android you cannot just create a new Activity instance whenever you want without registering it with the operating system.  Try something like this:\r\n\r\n```\r\npublic class MainActivity extends BridgeActivity implements MonitorNotifer {\r\n    BeaconManager beaconManager;\r\n    Identifier uuidb =Identifier.parse(&quot;sumthing&quot;);\r\n    int major=sumthing;\r\n    int minor=sumthing;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        beaconManager = BeaconManager.getInstanceForApplication(this);\r\n        beaconManager.getBeaconParsers().add(new BeaconParser().setBeaconLayout(&quot;m:2-3=0215,i:4-19,i:20-21,i:22-23,p:24-24&quot;));\r\n        Region region = new Region(&quot;beaconTest&quot;,uuidb, Identifier.fromInt(major), Identifier.fromInt(minor));\r\n        beaconManager.startMonitoringBeacons(region);\r\n        beaconManager.addMonitorNotifer(this);\r\n    }\r\n    @Override\r\n    public void didEnterRegion(Region arg0) {\r\n        Log.d(TAG, &quot;did enter region.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void didExitRegion(Region region) {\r\n        Log.d(TAG, &quot;did exit region.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void didDetermineStateForRegion(int state, Region region) {\r\n        Log.d(TAG, &quot;did determine state for region: &quot;+state);\r\n    }\r\n}\r\n```\r\n\r\nBe sure that this MainAcitity is properly registered with your app so it is used by Ionic.  If the activity is not activated, none of this code will execute.\r\n\r\nThe code above shows simpler [Autobind APIs in the Android Beacon Library](https://altbeacon.github.io/android-beacon-library/autobind.html) that do not require calls to `bind(this)`.  These APIs are supported on Android Beacon Library 2.19+.  Make sure you have that library version or higher -- if you are using an older Ionic or Cordova plugin that uses an older Android Beacon Library this might not work.","title":"Is this a correct way to override beacon parse?","body":"<p>Adding the Parsing class causes problems -- on Android you cannot just create a new Activity instance whenever you want without registering it with the operating system.  Try something like this:</p>\n<pre><code>public class MainActivity extends BridgeActivity implements MonitorNotifer {\n    BeaconManager beaconManager;\n    Identifier uuidb =Identifier.parse(&quot;sumthing&quot;);\n    int major=sumthing;\n    int minor=sumthing;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        beaconManager = BeaconManager.getInstanceForApplication(this);\n        beaconManager.getBeaconParsers().add(new BeaconParser().setBeaconLayout(&quot;m:2-3=0215,i:4-19,i:20-21,i:22-23,p:24-24&quot;));\n        Region region = new Region(&quot;beaconTest&quot;,uuidb, Identifier.fromInt(major), Identifier.fromInt(minor));\n        beaconManager.startMonitoringBeacons(region);\n        beaconManager.addMonitorNotifer(this);\n    }\n    @Override\n    public void didEnterRegion(Region arg0) {\n        Log.d(TAG, &quot;did enter region.&quot;);\n    }\n\n    @Override\n    public void didExitRegion(Region region) {\n        Log.d(TAG, &quot;did exit region.&quot;);\n    }\n\n    @Override\n    public void didDetermineStateForRegion(int state, Region region) {\n        Log.d(TAG, &quot;did determine state for region: &quot;+state);\n    }\n}\n</code></pre>\n<p>Be sure that this MainAcitity is properly registered with your app so it is used by Ionic.  If the activity is not activated, none of this code will execute.</p>\n<p>The code above shows simpler <a href=\"https://altbeacon.github.io/android-beacon-library/autobind.html\" rel=\"nofollow noreferrer\">Autobind APIs in the Android Beacon Library</a> that do not require calls to <code>bind(this)</code>.  These APIs are supported on Android Beacon Library 2.19+.  Make sure you have that library version or higher -- if you are using an older Ionic or Cordova plugin that uses an older Android Beacon Library this might not work.</p>\n"}],"owner":{"account_id":27945358,"reputation":3,"user_id":21340476,"display_name":"caja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75720034,"answer_count":1,"score":0,"last_activity_date":1678699722,"creation_date":1678677412,"question_id":75717791,"body_markdown":"Im trying to develop a simple app to detect beacon using capacitor integrated ionic framework and to run it into android platform. I have done all the delegates at homepage.ts and permissions as usual (from official docs and github examples). Now all is left is set new beacon parse to ibeacon (default is altbeacon). When i run the app, it crashed.\r\n\r\nThis is what i have tried so far (heads up im not good with Java)\r\nThis is from my MainActivity.java file calling parsing file\r\n\r\n```\r\nimport android.os.RemoteException;\r\n\r\npublic class MainActivity extends BridgeActivity {\r\n    private Parsing myParsing;\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        Parsing myParsing = new Parsing();\r\n        myParsing.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n\r\n```\r\nand this is my Parsing.java file\r\n\r\n```\r\npackage io.ionic.starter;\r\n\r\nimport com.getcapacitor.BridgeActivity;\r\nimport org.altbeacon.beacon.Beacon;\r\nimport org.altbeacon.beacon.BeaconConsumer;\r\nimport org.altbeacon.beacon.RangeNotifier;\r\nimport org.altbeacon.beacon.Region;\r\nimport org.altbeacon.beacon.BeaconManager;\r\nimport org.altbeacon.beacon.BeaconParser;\r\nimport org.altbeacon.beacon.Identifier;\r\n\r\n\r\nimport java.util.Collection;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.os.RemoteException;\r\n//m:2-3=0215,i:4-19,i:20-21,i:22-23,p:24-24 ibeacon\r\n\r\npublic class Parsing extends BridgeActivity implements BeaconConsumer{\r\n\r\n    protected static final String TAG = &quot;RangingActivity&quot;;\r\n    BeaconManager beaconManager;\r\n    Identifier uuidb =Identifier.parse(&quot;sumthing&quot;);\r\n    int major=sumthing;\r\n    int minor=sumthing;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        beaconManager = BeaconManager.getInstanceForApplication(this);\r\n        beaconManager.getBeaconParsers().add(new BeaconParser().setBeaconLayout(&quot;m:2-3=0215,i:4-19,i:20-21,i:22-23,p:24-24&quot;));\r\n        beaconManager.bind(this);    \r\n    }\r\n\r\n    @Override\r\n    public void onBeaconServiceConnect() {\r\n        Region region = new Region(&quot;beaconTest&quot;,uuidb, Identifier.fromInt(major), Identifier.fromInt(minor));\r\n        try {\r\n            beaconManager.startMonitoringBeaconsInRegion(region);\r\n        } catch (RemoteException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nwhen run the app crash and shows that\r\n Your activity is not yet attached to the Application instance. You can&#39;t request ViewModel before onCreate call.\r\n\r\nif i only do the parsing in main activity, it will throw something about cannot override abstract method. \r\n\r\nAny help is highly appreciated\r\n\r\nand oh here is the ionic info\r\n\r\n```\r\n\r\nIonic:\r\n\r\n   Ionic CLI                     : 6.20.8 (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\@ionic\\cli)\r\n   Ionic Framework               : @ionic/angular 6.5.6\r\n   @angular-devkit/build-angular : 15.2.0\r\n   @angular-devkit/schematics    : 15.2.0\r\n   @angular/cli                  : 15.2.0\r\n   @ionic/angular-toolkit        : 6.1.0\r\n\r\nCapacitor:\r\n\r\n   Capacitor CLI      : 4.7.0\r\n   @capacitor/android : 4.7.0\r\n   @capacitor/core    : 4.7.0\r\n   @capacitor/ios     : not installed\r\n\r\nUtility:\r\n\r\n   cordova-res : 0.15.4\r\n   native-run  : 1.7.1\r\n\r\nSystem:\r\n\r\n   NodeJS : v18.14.0 (C:\\Program Files\\nodejs\\node.exe)\r\n   npm    : 6.14.13\r\n   OS     : Windows 10\r\n```\r\n","title":"Is this a correct way to override beacon parse?","body":"<p>Im trying to develop a simple app to detect beacon using capacitor integrated ionic framework and to run it into android platform. I have done all the delegates at homepage.ts and permissions as usual (from official docs and github examples). Now all is left is set new beacon parse to ibeacon (default is altbeacon). When i run the app, it crashed.</p>\n<p>This is what i have tried so far (heads up im not good with Java)\nThis is from my MainActivity.java file calling parsing file</p>\n<pre><code>import android.os.RemoteException;\n\npublic class MainActivity extends BridgeActivity {\n    private Parsing myParsing;\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Parsing myParsing = new Parsing();\n        myParsing.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n\n</code></pre>\n<p>and this is my Parsing.java file</p>\n<pre><code>package io.ionic.starter;\n\nimport com.getcapacitor.BridgeActivity;\nimport org.altbeacon.beacon.Beacon;\nimport org.altbeacon.beacon.BeaconConsumer;\nimport org.altbeacon.beacon.RangeNotifier;\nimport org.altbeacon.beacon.Region;\nimport org.altbeacon.beacon.BeaconManager;\nimport org.altbeacon.beacon.BeaconParser;\nimport org.altbeacon.beacon.Identifier;\n\n\nimport java.util.Collection;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.os.RemoteException;\n//m:2-3=0215,i:4-19,i:20-21,i:22-23,p:24-24 ibeacon\n\npublic class Parsing extends BridgeActivity implements BeaconConsumer{\n\n    protected static final String TAG = &quot;RangingActivity&quot;;\n    BeaconManager beaconManager;\n    Identifier uuidb =Identifier.parse(&quot;sumthing&quot;);\n    int major=sumthing;\n    int minor=sumthing;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        beaconManager = BeaconManager.getInstanceForApplication(this);\n        beaconManager.getBeaconParsers().add(new BeaconParser().setBeaconLayout(&quot;m:2-3=0215,i:4-19,i:20-21,i:22-23,p:24-24&quot;));\n        beaconManager.bind(this);    \n    }\n\n    @Override\n    public void onBeaconServiceConnect() {\n        Region region = new Region(&quot;beaconTest&quot;,uuidb, Identifier.fromInt(major), Identifier.fromInt(minor));\n        try {\n            beaconManager.startMonitoringBeaconsInRegion(region);\n        } catch (RemoteException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\n</code></pre>\n<p>when run the app crash and shows that\nYour activity is not yet attached to the Application instance. You can't request ViewModel before onCreate call.</p>\n<p>if i only do the parsing in main activity, it will throw something about cannot override abstract method.</p>\n<p>Any help is highly appreciated</p>\n<p>and oh here is the ionic info</p>\n<pre><code>\nIonic:\n\n   Ionic CLI                     : 6.20.8 (C:\\Users\\User\\AppData\\Roaming\\npm\\node_modules\\@ionic\\cli)\n   Ionic Framework               : @ionic/angular 6.5.6\n   @angular-devkit/build-angular : 15.2.0\n   @angular-devkit/schematics    : 15.2.0\n   @angular/cli                  : 15.2.0\n   @ionic/angular-toolkit        : 6.1.0\n\nCapacitor:\n\n   Capacitor CLI      : 4.7.0\n   @capacitor/android : 4.7.0\n   @capacitor/core    : 4.7.0\n   @capacitor/ios     : not installed\n\nUtility:\n\n   cordova-res : 0.15.4\n   native-run  : 1.7.1\n\nSystem:\n\n   NodeJS : v18.14.0 (C:\\Program Files\\nodejs\\node.exe)\n   npm    : 6.14.13\n   OS     : Windows 10\n</code></pre>\n"},{"tags":["java","android","api","kotlin","retrofit"],"owner":{"account_id":13671832,"reputation":1,"user_id":9864322,"display_name":"M.Saad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678699620,"creation_date":1678699338,"question_id":75719963,"body_markdown":"I have a perfectly working app but after changing the targetSdkVersion to 32 when I run the app on a simulator or even a physical device the API calls are not working, the behavior is similar to when a device is not connected to the internet. But the same app when installed via the signed production app works just fine and there seem to be no issues in API calling whatsoever. \r\n\r\nThe only piece of code I am adding while in debug mode is the following \r\n\r\n\r\n```\r\nif (Utilities.isDebug()) {\r\n            val logging: HttpLoggingInterceptor = HttpLoggingInterceptor()\r\n            logging.level = HttpLoggingInterceptor.Level.BODY\r\n            OKHTTP_BUILDER.addInterceptor(logging)\r\n            OKHTTP_BUILDER.addInterceptor(NetLoggingInterceptor())\r\n        }\r\n```\r\n\r\nHowever, even if I remove this piece of code nothing changes.\r\n\r\nThis is the complete retrofit builder code \r\n\r\n\r\n```\r\n\r\n    fun requestBuilder(): Retrofit {\r\n        val API_BASE_URL: String = getApiURL()\r\n        val RETROFIT_BUILDER: Retrofit.Builder\r\n        val OKHTTP_BUILDER: OkHttpClient.Builder = OkHttpClient.Builder()\r\n\r\n        // Define the interceptor, add authentication headers\r\n        val interceptor: Interceptor = object : Interceptor {\r\n            @Throws(IOException::class)\r\n            override fun intercept(chain: Interceptor.Chain): Response {\r\n                if (!Utilities.checkForInternetConnection(context, TAG)) {\r\n                    throw NoConnectivityException()\r\n                }\r\n                val newRequest = chain.request().newBuilder()\r\n                    .addHeader(RequestParameters.AUTHORIZATION, Utilities.getUserToken(context))\r\n                    .addHeader(RequestParameters.CONTENT_TYPE, &quot;application/json&quot;)\r\n                    .addHeader(RequestParameters.ACCEPT, &quot;application/json&quot;).build()\r\n                return chain.proceed(newRequest)\r\n            }\r\n        }\r\n\r\n\r\n        // Add the interceptor to OkHttpClient\r\n        OKHTTP_BUILDER.connectTimeout(180, TimeUnit.SECONDS)\r\n        OKHTTP_BUILDER.readTimeout(240, TimeUnit.SECONDS)\r\n        OKHTTP_BUILDER.writeTimeout(240, TimeUnit.SECONDS)\r\n        OKHTTP_BUILDER.interceptors().add(interceptor)\r\n\r\n        // Add chuck interceptor\r\n        OKHTTP_BUILDER.addInterceptor(ChuckerInterceptor(context))\r\n\r\n        if (Utilities.isDebug()) {\r\n            val logging: HttpLoggingInterceptor = HttpLoggingInterceptor()\r\n            logging.level = HttpLoggingInterceptor.Level.BODY\r\n            OKHTTP_BUILDER.addInterceptor(logging)\r\n            OKHTTP_BUILDER.addInterceptor(NetLoggingInterceptor())\r\n        }\r\n\r\n        // Follow Redirects\r\n        OKHTTP_BUILDER.followRedirects(true).followSslRedirects(true)\r\n\r\n        // Custom Integer Gson Adapter\r\n        val gson = GsonBuilder().registerTypeAdapter(Integer::class.java, IntegerGsonTypeAdapter()).create()\r\n\r\n        // Set the custom client when building adapter\r\n        RETROFIT_BUILDER = Retrofit.Builder()\r\n            .baseUrl(API_BASE_URL)\r\n            .addConverterFactory(GsonConverterFactory.create(gson))\r\n            .addConverterFactory(ScalarsConverterFactory.create())\r\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\r\n            .client(OKHTTP_BUILDER.build())\r\n\r\n        return RETROFIT_BUILDER.build()\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nImportant to note that when I run the app on a lower android version such as android 10 then API calls are all fine. \r\n","title":"API calls not working in debug mode in android 13 after increasing the targetSdkVersion to 32","body":"<p>I have a perfectly working app but after changing the targetSdkVersion to 32 when I run the app on a simulator or even a physical device the API calls are not working, the behavior is similar to when a device is not connected to the internet. But the same app when installed via the signed production app works just fine and there seem to be no issues in API calling whatsoever.</p>\n<p>The only piece of code I am adding while in debug mode is the following</p>\n<pre><code>if (Utilities.isDebug()) {\n            val logging: HttpLoggingInterceptor = HttpLoggingInterceptor()\n            logging.level = HttpLoggingInterceptor.Level.BODY\n            OKHTTP_BUILDER.addInterceptor(logging)\n            OKHTTP_BUILDER.addInterceptor(NetLoggingInterceptor())\n        }\n</code></pre>\n<p>However, even if I remove this piece of code nothing changes.</p>\n<p>This is the complete retrofit builder code</p>\n<pre><code>\n    fun requestBuilder(): Retrofit {\n        val API_BASE_URL: String = getApiURL()\n        val RETROFIT_BUILDER: Retrofit.Builder\n        val OKHTTP_BUILDER: OkHttpClient.Builder = OkHttpClient.Builder()\n\n        // Define the interceptor, add authentication headers\n        val interceptor: Interceptor = object : Interceptor {\n            @Throws(IOException::class)\n            override fun intercept(chain: Interceptor.Chain): Response {\n                if (!Utilities.checkForInternetConnection(context, TAG)) {\n                    throw NoConnectivityException()\n                }\n                val newRequest = chain.request().newBuilder()\n                    .addHeader(RequestParameters.AUTHORIZATION, Utilities.getUserToken(context))\n                    .addHeader(RequestParameters.CONTENT_TYPE, &quot;application/json&quot;)\n                    .addHeader(RequestParameters.ACCEPT, &quot;application/json&quot;).build()\n                return chain.proceed(newRequest)\n            }\n        }\n\n\n        // Add the interceptor to OkHttpClient\n        OKHTTP_BUILDER.connectTimeout(180, TimeUnit.SECONDS)\n        OKHTTP_BUILDER.readTimeout(240, TimeUnit.SECONDS)\n        OKHTTP_BUILDER.writeTimeout(240, TimeUnit.SECONDS)\n        OKHTTP_BUILDER.interceptors().add(interceptor)\n\n        // Add chuck interceptor\n        OKHTTP_BUILDER.addInterceptor(ChuckerInterceptor(context))\n\n        if (Utilities.isDebug()) {\n            val logging: HttpLoggingInterceptor = HttpLoggingInterceptor()\n            logging.level = HttpLoggingInterceptor.Level.BODY\n            OKHTTP_BUILDER.addInterceptor(logging)\n            OKHTTP_BUILDER.addInterceptor(NetLoggingInterceptor())\n        }\n\n        // Follow Redirects\n        OKHTTP_BUILDER.followRedirects(true).followSslRedirects(true)\n\n        // Custom Integer Gson Adapter\n        val gson = GsonBuilder().registerTypeAdapter(Integer::class.java, IntegerGsonTypeAdapter()).create()\n\n        // Set the custom client when building adapter\n        RETROFIT_BUILDER = Retrofit.Builder()\n            .baseUrl(API_BASE_URL)\n            .addConverterFactory(GsonConverterFactory.create(gson))\n            .addConverterFactory(ScalarsConverterFactory.create())\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .client(OKHTTP_BUILDER.build())\n\n        return RETROFIT_BUILDER.build()\n    }\n\n</code></pre>\n<p>Important to note that when I run the app on a lower android version such as android 10 then API calls are all fine.</p>\n"},{"tags":["javascript","java","angularjs","spring-boot","intellij-13"],"comments":[{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":1,"creation_date":1678699200,"post_id":75719883,"comment_id":133577322,"body_markdown":"Could you please tell the error you get on angular side?","body":"Could you please tell the error you get on angular side?"},{"owner":{"account_id":26142456,"reputation":45,"user_id":19831635,"display_name":"Malik Zohaib Mustafa"},"score":0,"creation_date":1678702192,"post_id":75719883,"comment_id":133578155,"body_markdown":"Basically My Spring boot app is sending post request but cant find path /registeration.  and gives error POST request to the server&#39;s /registration endpoint  not found\nPOST http://localhost:63343/registration 404 (Not Found)\n\n@ RestController\npublic class UserController {\n\n\tUserService userService;\n\t\n\t\n@ RequestMapping(value = &quot;/registration&quot;, method = RequestMethod.POST)\n\tpublic User register(@ Validated(Create.class) @ RequestBody User user) {\n\t\t//user.setPassword(new BCryptPasswordEncoder().encode(user.getPassword()));\t\t\n\t\treturn userService.createUser(user);\n\t}\n}","body":"Basically My Spring boot app is sending post request but cant find path /registeration.  and gives error POST request to the server&#39;s /registration endpoint  not found POST <a href=\"http://localhost:63343/registration\" rel=\"nofollow noreferrer\">localhost:63343/registration</a> 404 (Not Found)  @ RestController public class UserController {  \tUserService userService; \t \t @ RequestMapping(value = &quot;/registration&quot;, method = RequestMethod.POST) \tpublic User register(@ Validated(Create.class) @ RequestBody User user) { \t\t//user.setPassword(new BCryptPasswordEncoder().encode(user.getPassword()));\t\t \t\treturn userService.createUser(user); \t} }"}],"owner":{"account_id":26142456,"reputation":45,"user_id":19831635,"display_name":"Malik Zohaib Mustafa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678699425,"creation_date":1678698920,"question_id":75719883,"body_markdown":"I have a web app for travel and tour. The front end is in Angular JS, HTML 5 for front end and Spring boot, MySQL for backend. The backend server is running. The app loads webpage but on Register form when I enter details. and click Register I get an alrt message of fail.Because the Login.js is tyring to send a POST Request. \r\n\r\nBelow is the Login.js code. The issue is that on clicking the register button I get the following error on console. \r\nangular.min.js:103 POST http://localhost:63343/registration 404 (Not Found)\r\n\r\n```\r\n//Controller for login and signup corresponds to Login.html\r\n\r\ntravelApp.controller(&quot;loginController&quot;,[&quot;$scope&quot;,&quot;$http&quot;,&quot;$location&quot;,&quot;$cookieStore&quot;,&quot;$route&quot;,&quot;baseService&quot;,function($scope,$http,$location,$cookieStore,$route,baseService){\r\n\t$scope.loginDetails = {email:&quot;&quot;,password:&quot;&quot;};\r\n\t$scope.loginFlag = true;\r\n\t$scope.registerDetails = {email:&quot;&quot;,password:&quot;&quot;,firstName:&quot;&quot;,lastName:&quot;&quot;,userName:&quot;&quot;};\r\n\t $scope.pwCheck=function(){\r\n\t        if($scope.registerDetails.password!=$scope.registerDetails.confirmpassword){\r\n\t            $scope.registerForm.$invalid=true;\r\n\t            $scope.pwMatch=true;\r\n\t        }\r\n\t    };\r\n\t\r\n\t\r\n\t//Function used to check user credentials\r\n\t$scope.login = function(){\r\n\t\t\r\n\t\tvar request = {\r\n\t\t\t\tmethod : &#39;POST&#39;,\r\n\t\t\t\turl : &#39;/login&#39;,\r\n\t\t\t\theaders : {\r\n\t\t\t\t\t&#39;Content-Type&#39; : &#39;application/json&#39;\r\n\t\t\t\t},\r\n\t\t\t\tdata : $scope.loginDetails\r\n\t\t\t}\r\n\t\t$http(request).then(\r\n\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t$scope.$parent.$$childHead.buttonEnable = false;\r\n\t\t\t\t\t//$scope.apply();\r\n\t\t\t\t\tbaseService.setUserName(response.data.userName);\r\n\t\t\t\t\t$cookieStore.put(&#39;userId&#39;,response.data.id);\r\n\t\t\t\t\t//$cookieStore.put(&#39;Email&#39;,response.data.);\r\n\t\t\t\t\t$location.path(&quot;/dashboard&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tfunction(response){\r\n\t\t\t\t\talert(&quot;Invalid UserName or Password&quot;);\r\n\t\t\t\t});\r\n\t\t\r\n\t}\r\n\t//Function used to register\r\n\t$scope.register = function(){\r\n\t\t\r\n\t\t$scope.registerDetails.userName = $scope.registerDetails.firstName+&quot; &quot;+ $scope.registerDetails.lastName;\r\n\t\tvar request = {\r\n\t\t\t\tmethod : &#39;POST&#39;,\r\n\t\t\t\turl : &#39;/registration&#39;,\r\n\t\t\t\theaders : {\r\n\t\t\t\t\t&#39;Content-Type&#39; : &#39;application/json&#39;\r\n\t\t\t\t},\r\n\t\t\t\tdata : $scope.registerDetails\r\n\t\t\t}\r\n\t\t$http(request).then(\r\n\t\t\t\tfunction(response) {\r\n\t\t\t\t\t$route.reload();\r\n\t\t\t\t\talert(&quot;Registration is successful&quot;);\r\n\t\t\t\t\t$location.path(&quot;/login&quot;);\r\n\t\t\t\t\t$route.reload();\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tfunction(response){\r\n\t\t\t\t\talert(&quot;fails&quot;);\r\n\t\t\t\t});\r\n\t}\r\n\t\r\n}]);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI just have a zip file which I loaded in IntelliJ and  IntelliJ was smart enough to install dependencies but the AngularJS framework isnt working properly from angular.min.js because it gives error on POST request from /registration","title":"Angular CLI for springboot app in IntelliJ","body":"<p>I have a web app for travel and tour. The front end is in Angular JS, HTML 5 for front end and Spring boot, MySQL for backend. The backend server is running. The app loads webpage but on Register form when I enter details. and click Register I get an alrt message of fail.Because the Login.js is tyring to send a POST Request.</p>\n<p>Below is the Login.js code. The issue is that on clicking the register button I get the following error on console.\nangular.min.js:103 POST http://localhost:63343/registration 404 (Not Found)</p>\n<pre><code>//Controller for login and signup corresponds to Login.html\n\ntravelApp.controller(&quot;loginController&quot;,[&quot;$scope&quot;,&quot;$http&quot;,&quot;$location&quot;,&quot;$cookieStore&quot;,&quot;$route&quot;,&quot;baseService&quot;,function($scope,$http,$location,$cookieStore,$route,baseService){\n    $scope.loginDetails = {email:&quot;&quot;,password:&quot;&quot;};\n    $scope.loginFlag = true;\n    $scope.registerDetails = {email:&quot;&quot;,password:&quot;&quot;,firstName:&quot;&quot;,lastName:&quot;&quot;,userName:&quot;&quot;};\n     $scope.pwCheck=function(){\n            if($scope.registerDetails.password!=$scope.registerDetails.confirmpassword){\n                $scope.registerForm.$invalid=true;\n                $scope.pwMatch=true;\n            }\n        };\n    \n    \n    //Function used to check user credentials\n    $scope.login = function(){\n        \n        var request = {\n                method : 'POST',\n                url : '/login',\n                headers : {\n                    'Content-Type' : 'application/json'\n                },\n                data : $scope.loginDetails\n            }\n        $http(request).then(\n                function(response) {\n                    \n                    $scope.$parent.$$childHead.buttonEnable = false;\n                    //$scope.apply();\n                    baseService.setUserName(response.data.userName);\n                    $cookieStore.put('userId',response.data.id);\n                    //$cookieStore.put('Email',response.data.);\n                    $location.path(&quot;/dashboard&quot;);\n                    \n                },\n                function(response){\n                    alert(&quot;Invalid UserName or Password&quot;);\n                });\n        \n    }\n    //Function used to register\n    $scope.register = function(){\n        \n        $scope.registerDetails.userName = $scope.registerDetails.firstName+&quot; &quot;+ $scope.registerDetails.lastName;\n        var request = {\n                method : 'POST',\n                url : '/registration',\n                headers : {\n                    'Content-Type' : 'application/json'\n                },\n                data : $scope.registerDetails\n            }\n        $http(request).then(\n                function(response) {\n                    $route.reload();\n                    alert(&quot;Registration is successful&quot;);\n                    $location.path(&quot;/login&quot;);\n                    $route.reload();\n                    \n                },\n                function(response){\n                    alert(&quot;fails&quot;);\n                });\n    }\n    \n}]);\n</code></pre>\n<p>I just have a zip file which I loaded in IntelliJ and  IntelliJ was smart enough to install dependencies but the AngularJS framework isnt working properly from angular.min.js because it gives error on POST request from /registration</p>\n"},{"tags":["java","swing","layout-manager"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678698944,"creation_date":1584531319,"answer_id":60738696,"question_id":60736077,"body_markdown":"There were a number of errors in the code, but it mostly came down to confusion about the content pane (which the code was adding to another panel).\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMany changes were made to this code, examine it closely:\r\n\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Fenetre {\r\n    \r\n        private PanelAccueil panelAccueil;\r\n    \r\n        public void fenetreGraphique() {\r\n            //D&#233;finit une nouvelle fen&#234;tre pour le GUI\r\n            JFrame fenetre = new JFrame(&quot;MyFrame&quot;);\r\n            fenetre.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            fenetre.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n            fenetre.setLocationRelativeTo(null);\r\n    \r\n            //D&#233;finit les panels qui vont pouvoir s&#39;afficher dans la fen&#234;tre\r\n            JPanel contentPane = new JPanel();\r\n    \r\n            //Ajout des diff&#233;rents panels cr&#233;&#233;s\r\n            panelAccueil = new PanelAccueil(contentPane);\r\n            //contentPane.add(panelAccueil.panelAccueil);\r\n    \r\n            //Affichage de la fen&#234;tre\r\n            fenetre.setContentPane(panelAccueil.panelAccueil);\r\n            fenetre.pack();\r\n            fenetre.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Fenetre()::fenetreGraphique);\r\n        }\r\n    }\r\n    \r\n    class PanelAccueil {\r\n        \r\n        JPanel panelAccueil;\r\n    \r\n        public PanelAccueil(JPanel panel) {\r\n            panelAccueil = panel;\r\n            panelAccueil.setBackground(new Color(51, 51, 51));\r\n            panelAccueil.setLayout(new BorderLayout());\r\n    \r\n            //Premier panel pour le bandeau en haut\r\n            JLabel messageAccueil = new JLabel(&quot;My Personal App&quot;, SwingConstants.CENTER);\r\n            messageAccueil.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n            messageAccueil.setForeground(new Color(255, 255, 255));\r\n            messageAccueil.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 36));\r\n    \r\n            //Ajout des boutons du menu\r\n            JPanel boutons = new JPanel();\r\n            boutons.setBackground(Color.red);\r\n            boutons.setBackground(new Color(51, 51, 51));\r\n            boutons.setLayout(new GridBagLayout());\r\n    \r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n            gbc.weightx = 1.0;\r\n            gbc.weighty = 1.0;\r\n            gbc.anchor = GridBagConstraints.CENTER;\r\n            gbc.insets = new Insets(20,20,20,20);\r\n    \r\n            Insets buttonInsets = new Insets(10,100,10,100);\r\n            for (int ii=0; ii&lt;6; ii++) {\r\n                JButton b = new JButton(&quot;Button &quot; + (ii+1));\r\n                b.setFont(b.getFont().deriveFont(30f));\r\n                b.setMargin(buttonInsets);\r\n                gbc.gridy = ii;\r\n                boutons.add(b, gbc);\r\n            }\r\n    \r\n            //Dernier panel pour la signature en bas &#224; droite\r\n            JLabel signature = new JLabel(&quot;Developed by me&quot;, SwingConstants.RIGHT);\r\n            signature.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n            signature.setForeground(new Color(255, 255, 255));\r\n            signature.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 15));\r\n    \r\n            panelAccueil.add(messageAccueil, BorderLayout.NORTH);\r\n            panelAccueil.add(boutons, BorderLayout.CENTER);\r\n            panelAccueil.add(signature, BorderLayout.SOUTH);\r\n        }\r\n    }\r\n\r\n  [2]: https://i.stack.imgur.com/SRhfV.png","title":"GridBagLayout in a BorderLayout problem : no display in BorderLayout.CENTER","body":"<p>There were a number of errors in the code, but it mostly came down to confusion about the content pane (which the code was adding to another panel).</p>\n<p><a href=\"https://i.stack.imgur.com/SRhfV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SRhfV.png\" alt=\"enter image description here\" /></a></p>\n<p>Many changes were made to this code, examine it closely:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Fenetre {\n\n    private PanelAccueil panelAccueil;\n\n    public void fenetreGraphique() {\n        //Dfinit une nouvelle fentre pour le GUI\n        JFrame fenetre = new JFrame(&quot;MyFrame&quot;);\n        fenetre.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        fenetre.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        fenetre.setLocationRelativeTo(null);\n\n        //Dfinit les panels qui vont pouvoir s'afficher dans la fentre\n        JPanel contentPane = new JPanel();\n\n        //Ajout des diffrents panels crs\n        panelAccueil = new PanelAccueil(contentPane);\n        //contentPane.add(panelAccueil.panelAccueil);\n\n        //Affichage de la fentre\n        fenetre.setContentPane(panelAccueil.panelAccueil);\n        fenetre.pack();\n        fenetre.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Fenetre()::fenetreGraphique);\n    }\n}\n\nclass PanelAccueil {\n    \n    JPanel panelAccueil;\n\n    public PanelAccueil(JPanel panel) {\n        panelAccueil = panel;\n        panelAccueil.setBackground(new Color(51, 51, 51));\n        panelAccueil.setLayout(new BorderLayout());\n\n        //Premier panel pour le bandeau en haut\n        JLabel messageAccueil = new JLabel(&quot;My Personal App&quot;, SwingConstants.CENTER);\n        messageAccueil.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        messageAccueil.setForeground(new Color(255, 255, 255));\n        messageAccueil.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 36));\n\n        //Ajout des boutons du menu\n        JPanel boutons = new JPanel();\n        boutons.setBackground(Color.red);\n        boutons.setBackground(new Color(51, 51, 51));\n        boutons.setLayout(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.weightx = 1.0;\n        gbc.weighty = 1.0;\n        gbc.anchor = GridBagConstraints.CENTER;\n        gbc.insets = new Insets(20,20,20,20);\n\n        Insets buttonInsets = new Insets(10,100,10,100);\n        for (int ii=0; ii&lt;6; ii++) {\n            JButton b = new JButton(&quot;Button &quot; + (ii+1));\n            b.setFont(b.getFont().deriveFont(30f));\n            b.setMargin(buttonInsets);\n            gbc.gridy = ii;\n            boutons.add(b, gbc);\n        }\n\n        //Dernier panel pour la signature en bas  droite\n        JLabel signature = new JLabel(&quot;Developed by me&quot;, SwingConstants.RIGHT);\n        signature.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        signature.setForeground(new Color(255, 255, 255));\n        signature.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 15));\n\n        panelAccueil.add(messageAccueil, BorderLayout.NORTH);\n        panelAccueil.add(boutons, BorderLayout.CENTER);\n        panelAccueil.add(signature, BorderLayout.SOUTH);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17998668,"reputation":25,"user_id":13081065,"display_name":"Antoine Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60738696,"answer_count":1,"score":2,"last_activity_date":1678698944,"creation_date":1584521176,"question_id":60736077,"body_markdown":"I&#39;m trying to add a GridBagLayout in the center of a BorderLayout, but when I add it to the center, it doesn&#39;t appear.\r\nDespite this, it appears correctly if I place it in another position in the BorderLayout.\r\nI tried to place another Component in the center of the BorderLayout, but nothing appear.\r\n\r\nI want to create multiple panels to display them in my JFrame.\r\nI&#39;m trying to add these panels while I&#39;m building them with the instance attribute in my JFrame.\r\n\r\nHere is an example of what I want to get\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n    public class Fenetre\r\n    {\r\n\r\n      private JPanel contentPane;\r\n      private PanelAccueil panelAccueil;\r\n\r\n      public void fenetreGraphique()\r\n      {\r\n          //D&#233;finit une nouvelle fen&#234;tre pour le GUI\r\n          JFrame fenetre = new JFrame(&quot;MyFrame&quot;);\r\n          fenetre.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n          fenetre.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n          fenetre.setLocationRelativeTo(null);\r\n\r\n          //D&#233;finit les panels qui vont pouvoir s&#39;afficher dans la fen&#234;tre\r\n          contentPane = new JPanel();\r\n\r\n          //Ajout des diff&#233;rents panels cr&#233;&#233;s\r\n          panelAccueil = new PanelAccueil(contentPane);\r\n          contentPane.add(panelAccueil);\r\n\r\n          //Affichage de la fen&#234;tre\r\n          fenetre.setContentPane(contentPane);\r\n          fenetre.pack();\r\n          fenetre.setVisible(true);\r\n      }\r\n\r\n      public static void main(String[] args)\r\n      {\r\n        SwingUtilities.invokeLater(new Runnable()\r\n        {\r\n            public void run()\r\n            {\r\n                new Fenetre().fenetreGraphique();\r\n            }\r\n        });\r\n      }\r\n    }\r\n\r\n    class PanelAccueil extends JPanel\r\n    {\r\n        private JPanel panelAccueil;\r\n        private JLabel messageAccueil;\r\n        private JLabel signature;\r\n        private JButton button1;\r\n        private JButton button2;\r\n\r\n        public PanelAccueil(JPanel panel){\r\n\r\n            panelAccueil = panel;\r\n            panelAccueil.setBackground(new Color(51,51,51));\r\n            panelAccueil.setLayout( new BorderLayout() );\r\n\r\n            //Premier panel pour le bandeau en haut\r\n            messageAccueil = new JLabel(&quot;My Personal App&quot;, SwingConstants.CENTER);\r\n            messageAccueil.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n            messageAccueil.setForeground( new Color(255,255,255) );\r\n            messageAccueil.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 36));\r\n\r\n            //Ajout des boutons du menu\r\n            JPanel boutons = new JPanel();\r\n            boutons.setBackground( new Color(51,51,51) );\r\n            boutons.setLayout(new GridBagLayout());\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n            gbc.weightx = 1.0;\r\n            gbc.weighty = 1.0;\r\n            gbc.anchor = GridBagConstraints.CENTER;\r\n\r\n            button1 = new JButton(&quot;Button1&quot;);\r\n            button1.setPreferredSize( new Dimension(300, 60) );\r\n            boutons.add(button1, gbc);\r\n\r\n            gbc.gridy = 1;\r\n            button2 = new JButton(&quot;Button2&quot;);\r\n            button2.setPreferredSize( new Dimension(300, 60) );\r\n            boutons.add(button2, gbc);\r\n\r\n\r\n            //Dernier panel pour la signature en bas &#224; droite\r\n            signature = new JLabel(&quot;Developed by me&quot;, SwingConstants.RIGHT);\r\n            signature.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n            signature.setForeground( new Color(255,255,255) );\r\n            signature.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 15));\r\n\r\n            panelAccueil.add(messageAccueil, BorderLayout.NORTH);\r\n            panelAccueil.add(boutons, BorderLayout.CENTER);\r\n            panelAccueil.add(signature, BorderLayout.SOUTH);\r\n      }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/umFM0.png","title":"GridBagLayout in a BorderLayout problem : no display in BorderLayout.CENTER","body":"<p>I'm trying to add a GridBagLayout in the center of a BorderLayout, but when I add it to the center, it doesn't appear.\nDespite this, it appears correctly if I place it in another position in the BorderLayout.\nI tried to place another Component in the center of the BorderLayout, but nothing appear.</p>\n<p>I want to create multiple panels to display them in my JFrame.\nI'm trying to add these panels while I'm building them with the instance attribute in my JFrame.</p>\n<p>Here is an example of what I want to get\n<a href=\"https://i.stack.imgur.com/umFM0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/umFM0.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Fenetre\n{\n\n  private JPanel contentPane;\n  private PanelAccueil panelAccueil;\n\n  public void fenetreGraphique()\n  {\n      //Dfinit une nouvelle fentre pour le GUI\n      JFrame fenetre = new JFrame(&quot;MyFrame&quot;);\n      fenetre.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n      fenetre.setExtendedState(JFrame.MAXIMIZED_BOTH);\n      fenetre.setLocationRelativeTo(null);\n\n      //Dfinit les panels qui vont pouvoir s'afficher dans la fentre\n      contentPane = new JPanel();\n\n      //Ajout des diffrents panels crs\n      panelAccueil = new PanelAccueil(contentPane);\n      contentPane.add(panelAccueil);\n\n      //Affichage de la fentre\n      fenetre.setContentPane(contentPane);\n      fenetre.pack();\n      fenetre.setVisible(true);\n  }\n\n  public static void main(String[] args)\n  {\n    SwingUtilities.invokeLater(new Runnable()\n    {\n        public void run()\n        {\n            new Fenetre().fenetreGraphique();\n        }\n    });\n  }\n}\n\nclass PanelAccueil extends JPanel\n{\n    private JPanel panelAccueil;\n    private JLabel messageAccueil;\n    private JLabel signature;\n    private JButton button1;\n    private JButton button2;\n\n    public PanelAccueil(JPanel panel){\n\n        panelAccueil = panel;\n        panelAccueil.setBackground(new Color(51,51,51));\n        panelAccueil.setLayout( new BorderLayout() );\n\n        //Premier panel pour le bandeau en haut\n        messageAccueil = new JLabel(&quot;My Personal App&quot;, SwingConstants.CENTER);\n        messageAccueil.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        messageAccueil.setForeground( new Color(255,255,255) );\n        messageAccueil.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 36));\n\n        //Ajout des boutons du menu\n        JPanel boutons = new JPanel();\n        boutons.setBackground( new Color(51,51,51) );\n        boutons.setLayout(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.weightx = 1.0;\n        gbc.weighty = 1.0;\n        gbc.anchor = GridBagConstraints.CENTER;\n\n        button1 = new JButton(&quot;Button1&quot;);\n        button1.setPreferredSize( new Dimension(300, 60) );\n        boutons.add(button1, gbc);\n\n        gbc.gridy = 1;\n        button2 = new JButton(&quot;Button2&quot;);\n        button2.setPreferredSize( new Dimension(300, 60) );\n        boutons.add(button2, gbc);\n\n\n        //Dernier panel pour la signature en bas  droite\n        signature = new JLabel(&quot;Developed by me&quot;, SwingConstants.RIGHT);\n        signature.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        signature.setForeground( new Color(255,255,255) );\n        signature.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 15));\n\n        panelAccueil.add(messageAccueil, BorderLayout.NORTH);\n        panelAccueil.add(boutons, BorderLayout.CENTER);\n        panelAccueil.add(signature, BorderLayout.SOUTH);\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","plugins","netbeans"],"comments":[{"owner":{"account_id":4884969,"reputation":1652,"user_id":3937699,"accept_rate":100,"display_name":"Klatschen"},"score":0,"creation_date":1678698049,"post_id":75719329,"comment_id":133577004,"body_markdown":"Please provide more informations. Did you try anything from here? https://stackoverflow.com/questions/21579247/plugin-org-apache-maven-pluginsmaven-compiler-plugin-or-one-of-its-dependencies","body":"Please provide more informations. Did you try anything from here? <a href=\"https://stackoverflow.com/questions/21579247/plugin-org-apache-maven-pluginsmaven-compiler-plugin-or-one-of-its-dependencies\" title=\"plugin org apache maven pluginsmaven compiler plugin or one of its dependencies\">stackoverflow.com/questions/21579247/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23225212,"reputation":629,"user_id":17316835,"display_name":"HKBN-ITDS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678698939,"creation_date":1678698939,"answer_id":75719887,"question_id":75719329,"body_markdown":"I think you should download maven first([Maven Download Link][1]), and then configure the basic settings of maven.For specific configuration, Please refer to [Maven Best Practices][2].\r\n\r\n\r\n  [1]: https://maven.apache.org/download.cgi\r\n  [2]: https://netbeans.apache.org/wiki/MavenBestPractices.html","title":"Plugin org.apache.maven.plugins:maven-archetype-plugin:3.2.1 or one of its dependencies could not be resolved:","body":"<p>I think you should download maven first(<a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">Maven Download Link</a>), and then configure the basic settings of maven.For specific configuration, Please refer to <a href=\"https://netbeans.apache.org/wiki/MavenBestPractices.html\" rel=\"nofollow noreferrer\">Maven Best Practices</a>.</p>\n"}],"owner":{"account_id":28003895,"reputation":1,"user_id":21387624,"display_name":"Gyani Kumari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678698939,"creation_date":1678694878,"question_id":75719329,"body_markdown":"Not able to create a maven web application in netbeans\r\n\r\nHow to resolve it. Why this error is showing","title":"Plugin org.apache.maven.plugins:maven-archetype-plugin:3.2.1 or one of its dependencies could not be resolved:","body":"<p>Not able to create a maven web application in netbeans</p>\n<p>How to resolve it. Why this error is showing</p>\n"},{"tags":["java","threadpool","quartz-scheduler"],"comments":[{"owner":{"account_id":1109118,"reputation":511,"user_id":1099911,"display_name":"gYanI"},"score":0,"creation_date":1360070255,"post_id":14707703,"comment_id":20571174,"body_markdown":"what is the location of your quartz.properties i am using quartz 2.0 and get in log  Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 20 threads.\nUsing job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.\n\n[Feb 5 18:42:40 2013] [INFO ] [org.quartz.impl.StdSchedulerFactory]: Quartz scheduler &#39;DefaultQuartzScheduler&#39; initialized from default resource file in Quartz package: &#39;quartz.properties&#39;","body":"what is the location of your quartz.properties i am using quartz 2.0 and get in log  Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.   NOT STARTED.   Currently in standby mode.   Number of jobs executed: 0   Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 20 threads. Using job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.  [Feb 5 18:42:40 2013] [INFO ] [org.quartz.impl.StdSchedulerFactory]: Quartz scheduler &#39;DefaultQuartzScheduler&#39; initialized from default resource file in Quartz package: &#39;quartz.properties&#39;"},{"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"score":0,"creation_date":1360071004,"post_id":14707703,"comment_id":20571601,"body_markdown":"I tried different locations, currently I changed the quartz.properties which locates in quartz-2.1.1 folder itself. I mean, I extracted the jar file(after I got disappointed enough :) and I changed the quartz.properties that already existed in quartz-2.1.1\\org\\quartz folder. however the log shows: [main] INFO org.quartz.impl.StdSchedulerFactory - Quartz scheduler &#39;QuartzScheduler&#39; initialized from an externally provided properties instance. wish I can make my console like yours (20 threads)","body":"I tried different locations, currently I changed the quartz.properties which locates in quartz-2.1.1 folder itself. I mean, I extracted the jar file(after I got disappointed enough :) and I changed the quartz.properties that already existed in quartz-2.1.1\\org\\quartz folder. however the log shows: [main] INFO org.quartz.impl.StdSchedulerFactory - Quartz scheduler &#39;QuartzScheduler&#39; initialized from an externally provided properties instance. wish I can make my console like yours (20 threads)"},{"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"score":0,"creation_date":1360071290,"post_id":14707703,"comment_id":20571783,"body_markdown":"Oh now I think my properties file is not read at all, because the name of scheduler in the file is DefaultQuartzScheduler however QuartzScheduler is printed in console.","body":"Oh now I think my properties file is not read at all, because the name of scheduler in the file is DefaultQuartzScheduler however QuartzScheduler is printed in console."},{"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"score":0,"creation_date":1360416327,"post_id":14707703,"comment_id":20707884,"body_markdown":"oops, I found the problem, actually the code was overriding the properties file config by creating an instance of Properties class in the code. so the answer is this line:    sf = new StdSchedulerFactory(&quot;conf/quartz.properties&quot;);","body":"oops, I found the problem, actually the code was overriding the properties file config by creating an instance of Properties class in the code. so the answer is this line:    sf = new StdSchedulerFactory(&quot;conf/quartz.properties&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1370236190,"creation_date":1370235515,"answer_id":16890239,"question_id":14707703,"body_markdown":"oops, I found the problem, actually the code was overriding the properties file config by creating an instance of Properties class **in the code**. so the answer is this line:\r\n\r\n `sf = new StdSchedulerFactory(&quot;conf/quartz.properties&quot;);`","title":"How to make sure quartz.properties is being used?","body":"<p>oops, I found the problem, actually the code was overriding the properties file config by creating an instance of Properties class <strong>in the code</strong>. so the answer is this line:</p>\n\n<p><code>sf = new StdSchedulerFactory(\"conf/quartz.properties\");</code></p>\n"},{"tags":[],"owner":{"account_id":416931,"reputation":2463,"user_id":792632,"accept_rate":86,"display_name":"dominik"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1458575510,"creation_date":1458575510,"answer_id":36135728,"question_id":14707703,"body_markdown":"For those who are using Spring + Quartz and `quartz.properties` file is not working (i.e. gets ignored while starting the application):\r\n\r\nQuartz Scheduler (`org.quartz.Scheduler`) instantiated by Spring Factory Bean (`org.springframework.scheduling.quartz.SchedulerFactoryBean`) won&#39;t read `quartz.properties` file from the classpath by default as it&#39;s said in Quartz docs - you need to set the reference manually:\r\n\r\n[in case of Java config]:\r\n\r\n    @Bean\r\n\tpublic SchedulerFactoryBean schedulerFactoryBean() {\r\n        SchedulerFactoryBean schedulerFactoryBean = new SchedulerFactoryBean();\r\n        schedulerFactoryBean.setConfigLocation(new ClassPathResource(&quot;quartz.properties&quot;));\r\n        // ...\r\n    }\r\n\r\n[in case of XML config]:\r\n\r\n    &lt;bean class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:quartz.properties&quot; /&gt;\r\n        // ...\r\n    &lt;/bean&gt;","title":"How to make sure quartz.properties is being used?","body":"<p>For those who are using Spring + Quartz and <code>quartz.properties</code> file is not working (i.e. gets ignored while starting the application):</p>\n\n<p>Quartz Scheduler (<code>org.quartz.Scheduler</code>) instantiated by Spring Factory Bean (<code>org.springframework.scheduling.quartz.SchedulerFactoryBean</code>) won't read <code>quartz.properties</code> file from the classpath by default as it's said in Quartz docs - you need to set the reference manually:</p>\n\n<p>[in case of Java config]:</p>\n\n<pre><code>@Bean\npublic SchedulerFactoryBean schedulerFactoryBean() {\n    SchedulerFactoryBean schedulerFactoryBean = new SchedulerFactoryBean();\n    schedulerFactoryBean.setConfigLocation(new ClassPathResource(\"quartz.properties\"));\n    // ...\n}\n</code></pre>\n\n<p>[in case of XML config]:</p>\n\n<pre><code>&lt;bean class=\"org.springframework.scheduling.quartz.SchedulerFactoryBean\"&gt;\n    &lt;property name=\"configLocation\" value=\"classpath:quartz.properties\" /&gt;\n    // ...\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10680554,"reputation":798,"user_id":7862778,"display_name":"Srikanth Josyula"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574151547,"creation_date":1574151547,"answer_id":58929439,"question_id":14707703,"body_markdown":"If someone still looking for answer, they can use the below snippet \r\n\r\n    @Bean                                                                           \r\n    public SchedulerFactoryBean schedulerFactoryBean() throws IOException {\r\n\t\tSchedulerFactoryBean scheduler = new SchedulerFactoryBean();\r\n\t\tscheduler.setTriggers(jobOneTrigger());\r\n\t\tscheduler.setQuartzProperties(quartzProperties());\r\n\t\tscheduler.setJobDetails(jobOneDetail());\r\n\t\treturn scheduler;\r\n\t}\r\n\r\n    @Bean\r\n\tpublic Properties quartzProperties() throws IOException {\r\n\t\tPropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\r\n\t\tpropertiesFactoryBean.setLocation(new ClassPathResource(&quot;/quartz.properties&quot;));\r\n\t\tpropertiesFactoryBean.afterPropertiesSet();\r\n\t\treturn propertiesFactoryBean.getObject();\r\n\t}\r\n\r\n","title":"How to make sure quartz.properties is being used?","body":"<p>If someone still looking for answer, they can use the below snippet </p>\n\n<pre><code>@Bean                                                                           \npublic SchedulerFactoryBean schedulerFactoryBean() throws IOException {\n    SchedulerFactoryBean scheduler = new SchedulerFactoryBean();\n    scheduler.setTriggers(jobOneTrigger());\n    scheduler.setQuartzProperties(quartzProperties());\n    scheduler.setJobDetails(jobOneDetail());\n    return scheduler;\n}\n\n@Bean\npublic Properties quartzProperties() throws IOException {\n    PropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\n    propertiesFactoryBean.setLocation(new ClassPathResource(\"/quartz.properties\"));\n    propertiesFactoryBean.afterPropertiesSet();\n    return propertiesFactoryBean.getObject();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16056792,"reputation":987,"user_id":11588855,"display_name":"Learn More"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678698895,"creation_date":1678698614,"answer_id":75719850,"question_id":14707703,"body_markdown":"If the previous solutions dont work for you, then move your properties file inside the **/resource** directory of your project. Then your configuration will be picked up by default.","title":"How to make sure quartz.properties is being used?","body":"<p>If the previous solutions dont work for you, then move your properties file inside the <strong>/resource</strong> directory of your project. Then your configuration will be picked up by default.</p>\n"}],"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24650,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":16890239,"answer_count":4,"score":8,"last_activity_date":1678698895,"creation_date":1360067714,"question_id":14707703,"body_markdown":"I set following properties in my quartz.properties file:\r\n\r\n    org.quartz.threadPool.threadCount = 60\r\n    org.quartz.scheduler.batchTriggerAcquisitionMaxCount = 60\r\n\r\n, however, for some reason, apparently it doesn&#39;t take effect. because when I start my application, the log shows that it still uses 1 thread in the pool:\r\n\r\n    [main] INFO org.quartz.impl.StdSchedulerFactory - Using default implementation for ThreadExecutor \r\n    [main] INFO org.quartz.core.SchedulerSignalerImpl - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl \r\n    [main] INFO org.quartz.core.QuartzScheduler - Quartz Scheduler v.2.1.1 created. \r\n    [main] INFO org.quartz.simpl.RAMJobStore - RAMJobStore initialized.\r\n    [main] INFO org.quartz.core.QuartzScheduler - Scheduler meta-data: Quartz Scheduler (v2.1.1) &#39;QuartzScheduler&#39; with instanceId &#39;NON_CLUSTERED&#39; Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally. NOT STARTED. Currently in standby mode. Number of jobs executed: 0   \r\n    Using **thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 1 threads.**\r\n\r\nI know, the quartz.properties needs to be at class path to be found. and I just did it.\r\nany other reason why this file is not detected? or it is detected but number of threads is not set correctly?\r\n\r\nThanks\r\n\r\n","title":"How to make sure quartz.properties is being used?","body":"<p>I set following properties in my quartz.properties file:</p>\n\n<pre><code>org.quartz.threadPool.threadCount = 60\norg.quartz.scheduler.batchTriggerAcquisitionMaxCount = 60\n</code></pre>\n\n<p>, however, for some reason, apparently it doesn't take effect. because when I start my application, the log shows that it still uses 1 thread in the pool:</p>\n\n<pre><code>[main] INFO org.quartz.impl.StdSchedulerFactory - Using default implementation for ThreadExecutor \n[main] INFO org.quartz.core.SchedulerSignalerImpl - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl \n[main] INFO org.quartz.core.QuartzScheduler - Quartz Scheduler v.2.1.1 created. \n[main] INFO org.quartz.simpl.RAMJobStore - RAMJobStore initialized.\n[main] INFO org.quartz.core.QuartzScheduler - Scheduler meta-data: Quartz Scheduler (v2.1.1) 'QuartzScheduler' with instanceId 'NON_CLUSTERED' Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally. NOT STARTED. Currently in standby mode. Number of jobs executed: 0   \nUsing **thread pool 'org.quartz.simpl.SimpleThreadPool' - with 1 threads.**\n</code></pre>\n\n<p>I know, the quartz.properties needs to be at class path to be found. and I just did it.\nany other reason why this file is not detected? or it is detected but number of threads is not set correctly?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","rest","web-services"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1582746234,"post_id":60421302,"comment_id":106887389,"body_markdown":"you should look at `@Requestparam` https://www.baeldung.com/spring-request-param","body":"you should look at <code>@Requestparam</code> <a href=\"https://www.baeldung.com/spring-request-param\" rel=\"nofollow noreferrer\">baeldung.com/spring-request-param</a>"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1582777798,"post_id":60421302,"comment_id":106896316,"body_markdown":"Please check this [answer](https://stackoverflow.com/a/60304941/4214241)","body":"Please check this <a href=\"https://stackoverflow.com/a/60304941/4214241\">answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":16355149,"reputation":1659,"user_id":11812518,"display_name":"Petar Bivolarski"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1582746961,"creation_date":1582746214,"answer_id":60421412,"question_id":60421302,"body_markdown":"You can define the three parameters using the `@RequestParam` annotation and check which one is non-empty:\r\n\r\n\r\n    @GetMapping(&quot;/employee&quot;)\r\n    public List&lt;Employee&gt; getEmployee(@RequestParam(defaultValue = &quot;empty&quot;) String name, @RequestParam(defaultValue = &quot;empty&quot;) String designation, ....\r\n    {\r\n        // check which one is not empty and perform logic\r\n        if (!name.equals(&quot;empty&quot;)) {\r\n          // do something \r\n      }\r\n    }\r\n\r\nRegarding which parameter the user chooses: you can make a drop-down menu or a simple-radio selection, where the user chooses the search criteria himself (and where each criterion is mapped by a request parameter). For example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/baSpP.png","title":"Spring Boot handling multiple parameters in a get request","body":"<p>You can define the three parameters using the <code>@RequestParam</code> annotation and check which one is non-empty:</p>\n\n<pre><code>@GetMapping(\"/employee\")\npublic List&lt;Employee&gt; getEmployee(@RequestParam(defaultValue = \"empty\") String name, @RequestParam(defaultValue = \"empty\") String designation, ....\n{\n    // check which one is not empty and perform logic\n    if (!name.equals(\"empty\")) {\n      // do something \n  }\n}\n</code></pre>\n\n<p>Regarding which parameter the user chooses: you can make a drop-down menu or a simple-radio selection, where the user chooses the search criteria himself (and where each criterion is mapped by a request parameter). For example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/baSpP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/baSpP.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":373325,"reputation":786,"user_id":722888,"display_name":"theBittor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1582746887,"creation_date":1582746887,"answer_id":60421564,"question_id":60421302,"body_markdown":"You can use `@RequestParam Map&lt;String, String&gt; params` to bind all parameters to one variable \r\n\r\nE.g.\r\n\r\n    @RequestMapping(value=&quot;/params&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity getParams(@RequestParam Map&lt;String, String&gt; params ) {\r\n       \r\n       System.out.println(params.keySet());\r\n       System.out.println(params.values());\r\n\r\n       return new ResponseEntity&lt;String&gt;(&quot;ok&quot;, HttpStatus.OK);\r\n    }","title":"Spring Boot handling multiple parameters in a get request","body":"<p>You can use <code>@RequestParam Map&lt;String, String&gt; params</code> to bind all parameters to one variable </p>\n\n<p>E.g.</p>\n\n<pre><code>@RequestMapping(value=\"/params\", method = RequestMethod.GET)\npublic ResponseEntity getParams(@RequestParam Map&lt;String, String&gt; params ) {\n\n   System.out.println(params.keySet());\n   System.out.println(params.values());\n\n   return new ResponseEntity&lt;String&gt;(\"ok\", HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18284632,"reputation":2738,"user_id":13312820,"display_name":"Most Noble Rabbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678698240,"creation_date":1678697901,"answer_id":75719741,"question_id":60421302,"body_markdown":"As stated by a comment in one of the answers here, we can also specify a `@RequestParam(required = false)` for each parameter and check for nulls.\r\n\r\nFor example:\r\n\r\n    @GetMapping(&quot;/employee&quot;)\r\n    public List&lt;Employee&gt; getEmployee(\r\n        @RequestParam(required = false) String optionA,\r\n        @RequestParam(required = false) String optionB) {\r\n      // Check what parameter is not null\r\n      if (optionA != null) {\r\n        // Do something\r\n      }\r\n      ...\r\n    }","title":"Spring Boot handling multiple parameters in a get request","body":"<p>As stated by a comment in one of the answers here, we can also specify a <code>@RequestParam(required = false)</code> for each parameter and check for nulls.</p>\n<p>For example:</p>\n<pre><code>@GetMapping(&quot;/employee&quot;)\npublic List&lt;Employee&gt; getEmployee(\n    @RequestParam(required = false) String optionA,\n    @RequestParam(required = false) String optionB) {\n  // Check what parameter is not null\n  if (optionA != null) {\n    // Do something\n  }\n  ...\n}\n</code></pre>\n"}],"owner":{"display_name":"user12192074"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46457,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60421412,"answer_count":3,"score":3,"last_activity_date":1678698240,"creation_date":1582745818,"question_id":60421302,"body_markdown":"I am new to using Spring boot framework.\r\nI want to create a @GetMapping where based on what user enters in the parameter either Property1 Name(String) or Protery2 Designation(String) or Property3 Salary(Integer) the method should be able to get the List of employees based on one or more properties.\r\nI can create individual methods but I do not want to do that.\r\nI want to do something like this:\r\n\r\n```\r\n@GetMapping(&quot;/employee&quot;)\r\npublic List&lt;Employee&gt; getEmployee(Params parameters)\r\n{\r\n    // Filter the list based on parameters provided and return the list\r\n}\r\n```\r\nAlso, I am not understanding how to handle parameters \r\nfor example, if it is an integer there is only one column but if the user enters string there are two columns.\r\nIf the user does not specify the parameter name I have to handle that.","title":"Spring Boot handling multiple parameters in a get request","body":"<p>I am new to using Spring boot framework.\nI want to create a @GetMapping where based on what user enters in the parameter either Property1 Name(String) or Protery2 Designation(String) or Property3 Salary(Integer) the method should be able to get the List of employees based on one or more properties.\nI can create individual methods but I do not want to do that.\nI want to do something like this:</p>\n\n<pre><code>@GetMapping(\"/employee\")\npublic List&lt;Employee&gt; getEmployee(Params parameters)\n{\n    // Filter the list based on parameters provided and return the list\n}\n</code></pre>\n\n<p>Also, I am not understanding how to handle parameters \nfor example, if it is an integer there is only one column but if the user enters string there are two columns.\nIf the user does not specify the parameter name I have to handle that.</p>\n"},{"tags":["java","multithreading","spring-boot","parallel-processing"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678690343,"post_id":75718734,"comment_id":133575397,"body_markdown":"What is the symptom you are trying to solve? The application server which Spring Boot uses already takes care that multiple requests can be handled in parallel. Depending on the app server, there is a configuration property, how many parallel requests can be handled but the default value should be more than enough 99.9% of time. So you don&#39;t have to do anything. You don&#39;t have to do manual multithreading unless you have some long-running tasks in the context of a single login that can be parallelised.","body":"What is the symptom you are trying to solve? The application server which Spring Boot uses already takes care that multiple requests can be handled in parallel. Depending on the app server, there is a configuration property, how many parallel requests can be handled but the default value should be more than enough 99.9% of time. So you don&#39;t have to do anything. You don&#39;t have to do manual multithreading unless you have some long-running tasks in the context of a single login that can be parallelised."},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1678690531,"post_id":75718734,"comment_id":133575430,"body_markdown":"the applications has multiple apis so if multiple users login into the application the response time increases. we need to reduce that thing","body":"the applications has multiple apis so if multiple users login into the application the response time increases. we need to reduce that thing"},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1678690614,"post_id":75718734,"comment_id":133575441,"body_markdown":"can you tell me which configuration property i need to look","body":"can you tell me which configuration property i need to look"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678690627,"post_id":75718734,"comment_id":133575443,"body_markdown":"This still doesn&#39;t explain the situation. Why can&#39;t multiple users use those APIs concurrently?","body":"This still doesn&#39;t explain the situation. Why can&#39;t multiple users use those APIs concurrently?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678690793,"post_id":75718734,"comment_id":133575465,"body_markdown":"Max threads property depends on your chosen app server. Here&#39;s a bit on that https://stackoverflow.com/questions/39002090/spring-boot-limit-on-number-of-connections-created","body":"Max threads property depends on your chosen app server. Here&#39;s a bit on that <a href=\"https://stackoverflow.com/questions/39002090/spring-boot-limit-on-number-of-connections-created\" title=\"spring boot limit on number of connections created\">stackoverflow.com/questions/39002090/&hellip;</a>"},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1678691264,"post_id":75718734,"comment_id":133575540,"body_markdown":"A per my understand The default value should be 200. will it imporove if we increase the value to 400. I mean for a single user the response time will be 200 milliseconds but if more than 2 users login into the application the final response time in the ui will be 10s. can we use join-fork framework there?","body":"A per my understand The default value should be 200. will it imporove if we increase the value to 400. I mean for a single user the response time will be 200 milliseconds but if more than 2 users login into the application the final response time in the ui will be 10s. can we use join-fork framework there?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678691735,"post_id":75718734,"comment_id":133575619,"body_markdown":"Theres too little information in this question to get a hang of whats really the problem here. Currently it feels like if you have only one user then logging in takes X milliseconds, if you have 2 users logging in at the same time then it takes X*2 milliseconds and so on. Or it&#39;s all OK with small number of users, but problems start occurring when number of parallel logins goes to hundreds? Whatever the case, have you debugged and profiled where exactly in your code the bottleneck is? Is it in app server? in rest client? in some database call? It&#39;s really hard to help you currently.","body":"Theres too little information in this question to get a hang of whats really the problem here. Currently it feels like if you have only one user then logging in takes X milliseconds, if you have 2 users logging in at the same time then it takes X*2 milliseconds and so on. Or it&#39;s all OK with small number of users, but problems start occurring when number of parallel logins goes to hundreds? Whatever the case, have you debugged and profiled where exactly in your code the bottleneck is? Is it in app server? in rest client? in some database call? It&#39;s really hard to help you currently."},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1678692041,"post_id":75718734,"comment_id":133575680,"body_markdown":"for 1 user it is like 200 milliseond\nfor 2 to 3 user it is like 3 to 5 s for every api call .for getAll opertion it takes 5 to 10 seconds. we need to reduce that.  the code is already optimized. it is rest application","body":"for 1 user it is like 200 milliseond for 2 to 3 user it is like 3 to 5 s for every api call .for getAll opertion it takes 5 to 10 seconds. we need to reduce that.  the code is already optimized. it is rest application"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678692152,"post_id":75718734,"comment_id":133575697,"body_markdown":"Please add a code example to your question about what the implementation of `getOne` and/or `getAll` requests currently look like.","body":"Please add a code example to your question about what the implementation of <code>getOne</code> and/or <code>getAll</code> requests currently look like."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678693357,"post_id":75718734,"comment_id":133575940,"body_markdown":"We can&#39;t help you without this: https://stackoverflow.com/help/minimal-reproducible-example","body":"We can&#39;t help you without this: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1678709579,"post_id":75718734,"comment_id":133580250,"body_markdown":"sample is attached. please have a look at it @Tarmo","body":"sample is attached. please have a look at it @Tarmo"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678710894,"post_id":75718734,"comment_id":133580667,"body_markdown":"It&#39;s still next to impossible for me to know where the bottleneck is here. Is it the client that calls this API? Perhaps it uses the `RestTemplate` or some library? Is it the service that services the request? Where does the time go? To `transferservice.getTransferDataById(id);` or somewhere else?","body":"It&#39;s still next to impossible for me to know where the bottleneck is here. Is it the client that calls this API? Perhaps it uses the <code>RestTemplate</code> or some library? Is it the service that services the request? Where does the time go? To <code>transferservice.getTransferDataById(id);</code> or somewhere else?"},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1678711615,"post_id":75718734,"comment_id":133580890,"body_markdown":"the service calls to other server and fetches data from the database","body":"the service calls to other server and fetches data from the database"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678712251,"post_id":75718734,"comment_id":133581081,"body_markdown":"We are going in circles here. You have a problem with scalability and you assume that the solution is multithreading. But you are not specifying what exactly is the bottleneck that you assume needs multithreading so therefor it&#39;s not possible to give you a good example on how to accomplish this. As for the original question on how to do multithreading in Spring Boot. Sprint Boot is just java, so the same way you would do it in any Java application. ThreadPools are good. @Async annotation is also good. Voted to close the question","body":"We are going in circles here. You have a problem with scalability and you assume that the solution is multithreading. But you are not specifying what exactly is the bottleneck that you assume needs multithreading so therefor it&#39;s not possible to give you a good example on how to accomplish this. As for the original question on how to do multithreading in Spring Boot. Sprint Boot is just java, so the same way you would do it in any Java application. ThreadPools are good. @Async annotation is also good. Voted to close the question"}],"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678697975,"creation_date":1678690132,"question_id":75718734,"body_markdown":"I have a java spring boot application project.\r\nI want to implement thread parallelism there when multiple users login into that application.\r\nthe response time is currently increasing.\r\nfor a single user the response time is 200 millisecond. for multiple users it goes to 9 to 10 seconds. we need to reduce it.\r\ncurrently we have enable @EnableAsync and a TaskExecutor is also used in the application.\r\nHow should i start. can anyone please help me.\r\n\r\ncurrently we have tried some concurrency enable @EnableAsync and a TaskExecutor is also used in the application.\r\n\r\na sample controller.\r\n\r\n```    \r\n@RestController\r\n@RequestMapping(&quot;left/transfer/api26&quot;)\r\nClass Transfer\r\n{\r\n  private static Logger logger = LogManager.getLogger(TransferController.class);\r\n\r\n\r\n  @GetMapping(&quot;/transfer/getById/{id}&quot;)\r\n  public Response getTransferByID(HttpServletRequest request, @PathVariable(&quot;id&quot;) String id) {\r\n    auditLogger.audit(&quot;GET_ONE_TRANSFER&quot;, request.getRemoteAddr());\r\n    logger.info(&quot;Entered into getTRANSFERByID() =&gt; TRANSFER&quot;);\r\n    Response response = new Response();\r\n    Map&lt;String, Object&gt; transferResponse=new HashMap&lt;String, Object&gt;(); \r\n    try {\r\n      transferResponse = transferservice.getTransferDataById(id);\r\n      if (!transferResponse.isEmpty()) {\r\n        response.setData(transferResponse);\r\n        response.setMessage(&quot;Transfer Data Fetched&quot;);\r\n        response.setStatus(&quot;Success&quot;);\r\n      } else if (transferResponse.isEmpty()) {\r\n        logger.error(transferResponse);\r\n        response.setMessage(&quot;No transfer Object Found&quot;);\r\n        response.setStatus(&quot;Failed&quot;);\r\n      }\r\n    } catch (Exception e) {\r\n      logger.error(&quot;gettransferByID() controller error ==&gt; Issue Found &quot; + e.getMessage() + e);\r\n      response.setData(null);\r\n      response.setMessage(e.getMessage());\r\n      response.setStatus(&quot;Failed&quot;);\r\n    }\r\n    return response;\r\n  }\r\n\r\n  }\r\n```    \r\nmain class\r\n```    \r\n@SpringBootApplication()\r\n@EnableAsync\r\n@ComponentScan(&quot;com.ser.left.sectioncore398&quot;)\r\n@Configuration \r\n@EnableAutoConfiguration \r\npublic class SerApplicationMainclassLoader {\r\n  \r\n  @Value(&quot;${CorePoolSize}&quot;)\r\n  int CorePoolSize;\r\n  @Value(&quot;${MaxPoolSize}&quot;)\r\n  int MaxPoolSize;\r\n  @Value(&quot;${QueueCapacity}&quot;)\r\n  int QueueCapacity;\r\n  \r\n  \r\n  private static Logger logger = LogManager.getLogger(SerApplicationMainclassLoader.class);\r\n  public static void main(String[] args) {\r\n    logger.info(&quot;Main class is getting Invoked&quot;);\r\n\r\n    SpringApplication.run(SerApplicationMainclassLoader.class, args);\r\n  }\r\n\r\n    @Bean(name = &quot;processExecutor&quot;)\r\n    TaskExecutor workExecutor() {\r\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();\r\n        threadPoolTaskExecutor.setThreadNamePrefix(&quot;Mains-&quot;);\r\n        threadPoolTaskExecutor.setCorePoolSize(CorePoolSize);\r\n        threadPoolTaskExecutor.setMaxPoolSize(MaxPoolSize);\r\n        threadPoolTaskExecutor.setQueueCapacity(QueueCapacity);\r\n        threadPoolTaskExecutor.afterPropertiesSet();\r\n        logger.info(&quot;ThreadPoolTaskExecutor set&quot;);\r\n        return threadPoolTaskExecutor;\r\n    }\r\n\r\n}\r\n```    ","title":"How to implement thread parallelism in spring boot?","body":"<p>I have a java spring boot application project.\nI want to implement thread parallelism there when multiple users login into that application.\nthe response time is currently increasing.\nfor a single user the response time is 200 millisecond. for multiple users it goes to 9 to 10 seconds. we need to reduce it.\ncurrently we have enable @EnableAsync and a TaskExecutor is also used in the application.\nHow should i start. can anyone please help me.</p>\n<p>currently we have tried some concurrency enable @EnableAsync and a TaskExecutor is also used in the application.</p>\n<p>a sample controller.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;left/transfer/api26&quot;)\nClass Transfer\n{\n  private static Logger logger = LogManager.getLogger(TransferController.class);\n\n\n  @GetMapping(&quot;/transfer/getById/{id}&quot;)\n  public Response getTransferByID(HttpServletRequest request, @PathVariable(&quot;id&quot;) String id) {\n    auditLogger.audit(&quot;GET_ONE_TRANSFER&quot;, request.getRemoteAddr());\n    logger.info(&quot;Entered into getTRANSFERByID() =&gt; TRANSFER&quot;);\n    Response response = new Response();\n    Map&lt;String, Object&gt; transferResponse=new HashMap&lt;String, Object&gt;(); \n    try {\n      transferResponse = transferservice.getTransferDataById(id);\n      if (!transferResponse.isEmpty()) {\n        response.setData(transferResponse);\n        response.setMessage(&quot;Transfer Data Fetched&quot;);\n        response.setStatus(&quot;Success&quot;);\n      } else if (transferResponse.isEmpty()) {\n        logger.error(transferResponse);\n        response.setMessage(&quot;No transfer Object Found&quot;);\n        response.setStatus(&quot;Failed&quot;);\n      }\n    } catch (Exception e) {\n      logger.error(&quot;gettransferByID() controller error ==&gt; Issue Found &quot; + e.getMessage() + e);\n      response.setData(null);\n      response.setMessage(e.getMessage());\n      response.setStatus(&quot;Failed&quot;);\n    }\n    return response;\n  }\n\n  }\n</code></pre>\n<p>main class</p>\n<pre><code>@SpringBootApplication()\n@EnableAsync\n@ComponentScan(&quot;com.ser.left.sectioncore398&quot;)\n@Configuration \n@EnableAutoConfiguration \npublic class SerApplicationMainclassLoader {\n  \n  @Value(&quot;${CorePoolSize}&quot;)\n  int CorePoolSize;\n  @Value(&quot;${MaxPoolSize}&quot;)\n  int MaxPoolSize;\n  @Value(&quot;${QueueCapacity}&quot;)\n  int QueueCapacity;\n  \n  \n  private static Logger logger = LogManager.getLogger(SerApplicationMainclassLoader.class);\n  public static void main(String[] args) {\n    logger.info(&quot;Main class is getting Invoked&quot;);\n\n    SpringApplication.run(SerApplicationMainclassLoader.class, args);\n  }\n\n    @Bean(name = &quot;processExecutor&quot;)\n    TaskExecutor workExecutor() {\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();\n        threadPoolTaskExecutor.setThreadNamePrefix(&quot;Mains-&quot;);\n        threadPoolTaskExecutor.setCorePoolSize(CorePoolSize);\n        threadPoolTaskExecutor.setMaxPoolSize(MaxPoolSize);\n        threadPoolTaskExecutor.setQueueCapacity(QueueCapacity);\n        threadPoolTaskExecutor.afterPropertiesSet();\n        logger.info(&quot;ThreadPoolTaskExecutor set&quot;);\n        return threadPoolTaskExecutor;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jsf","tomahawk"],"answers":[{"tags":[],"owner":{"account_id":39397,"reputation":3873,"user_id":113579,"accept_rate":75,"display_name":"Gerrie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1244116887,"creation_date":1244116887,"answer_id":950092,"question_id":949554,"body_markdown":"Devised a fix in the meantime, have logged a bug with ASF for this, probably gonna get yelled at or have the ASF police arrest me for asking silly questions:\r\n\r\n    &lt;f:facet name=&quot;previous&quot;&gt;&lt;h:panelGroup rendered=&quot;#{pageIndex != 1}&quot;&gt;&amp;lt; Previous&lt;/h:panelGroup&gt;&lt;/f:facet&gt;\r\n\r\nRemember to set pageCountVar=&quot;pageCount&quot; and pageIndexVar=&quot;pageIndex&quot;\r\n\r\nMr Noob out..","title":"Tomahawk datascroller next en previous","body":"<p>Devised a fix in the meantime, have logged a bug with ASF for this, probably gonna get yelled at or have the ASF police arrest me for asking silly questions:</p>\n\n<pre><code>&lt;f:facet name=\"previous\"&gt;&lt;h:panelGroup rendered=\"#{pageIndex != 1}\"&gt;&amp;lt; Previous&lt;/h:panelGroup&gt;&lt;/f:facet&gt;\n</code></pre>\n\n<p>Remember to set pageCountVar=\"pageCount\" and pageIndexVar=\"pageIndex\"</p>\n\n<p>Mr Noob out..</p>\n"}],"owner":{"account_id":39397,"reputation":3873,"user_id":113579,"accept_rate":75,"display_name":"Gerrie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":950092,"answer_count":1,"score":0,"last_activity_date":1678697754,"creation_date":1244108829,"question_id":949554,"body_markdown":"I&#39;m using tomahawk&#39;s datascroller to page though data in a datatable. I have two facets, next and previous defined. I noticed that as soon as there is data to be paged, the next and previous buttons appear, regardless. ie, if you are on the fist page, previous is still shown, and if you are on the last page next is shown.\r\n\r\nI&#39;ve RTFM&#39;ed the docs and could find nothing to aid me. Same with a google search. Any-one out there that can help me? ","title":"Tomahawk datascroller next en previous","body":"<p>I'm using tomahawk's datascroller to page though data in a datatable. I have two facets, next and previous defined. I noticed that as soon as there is data to be paged, the next and previous buttons appear, regardless. ie, if you are on the fist page, previous is still shown, and if you are on the last page next is shown.</p>\n<p>I've RTFM'ed the docs and could find nothing to aid me. Same with a google search. Any-one out there that can help me?</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678693552,"post_id":75719138,"comment_id":133575978,"body_markdown":"what is &#39;conf&#39; ,","body":"what is &#39;conf&#39; ,"},{"owner":{"account_id":7894840,"reputation":479,"user_id":5963886,"accept_rate":0,"display_name":"chiefpika"},"score":0,"creation_date":1678693699,"post_id":75719138,"comment_id":133576011,"body_markdown":"@Stultuske just to get a variable from the .properties file. I&#39;ll delete that part..","body":"@Stultuske just to get a variable from the .properties file. I&#39;ll delete that part.."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678697666,"creation_date":1678697666,"answer_id":75719698,"question_id":75719138,"body_markdown":"To enable auto-wiring in the class `Step2Reader` please add the `@Component` annotation to it. The same way you did it already in `Step1Writer`.","title":"Pass variable between steps in Spring Batch using @Configuration class","body":"<p>To enable auto-wiring in the class <code>Step2Reader</code> please add the <code>@Component</code> annotation to it. The same way you did it already in <code>Step1Writer</code>.</p>\n"}],"owner":{"account_id":7894840,"reputation":479,"user_id":5963886,"accept_rate":0,"display_name":"chiefpika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678697666,"creation_date":1678693423,"question_id":75719138,"body_markdown":"I&#39;m trying to pass a file path string between 2 steps and here&#39;s my attempt.\r\n\r\n      @Bean\r\n      public Step step1() {\r\n        return stepBuilderFactory.get(&quot;step1&quot;)\r\n                .&lt;History, History&gt;chunk(1000)\r\n                .reader(step1Reader)\r\n                .writer(step1Writer)\r\n                .listener(new LoggingStepExecutionListener())\r\n                .build();\r\n      }\r\n    \r\n      @Bean\r\n      public Step step2() {\r\n        return stepBuilderFactory.get(&quot;step2&quot;)\r\n                .&lt;History, ItemRequestModel&gt;chunk(1)\r\n                .reader(new step2Reader&lt;&gt;())\r\n                .processor(step2Processor)\r\n                .writer(step2Writer)\r\n                .listener(new LoggingStepExecutionListener())\r\n                .build();\r\n      }\r\n\r\nHere&#39;s the config class\r\n\r\n    @Configuration\r\n    @Component\r\n    public class HistConfig {\r\n    \r\n      private String csvFilePath;\r\n    \r\n      public String getCsvFilePath() {\r\n        return csvFilePath;\r\n      }\r\n    \r\n      public void setCsvFilePath(String csvFilePath) {\r\n        this.csvFilePath = csvFilePath;\r\n      }\r\n    }\r\n\r\nand Step1Writer\r\n\r\n          @Slf4j\r\n          @Component\r\n          public class Step1Writer implements ItemWriter&lt;History&gt;{\r\n    \r\n          @Autowired\r\n          private HistConfig config;\r\n    \r\n          @BeforeStep\r\n          public void beforeStepForWriter(StepExecution stepExecution) throws Exception {\r\n            fileName = &quot;abcdefg&quot;;\r\n            File file = new File(fileName + EXTENTION);\r\n            writeCsvHeader();\r\n            config.setCsvFilePath(file.getAbsolutePath());\r\n          }\r\n    \r\n        }\r\n\r\nand Step2Reader\r\n\r\n    @Slf4j\r\n    public class Step2Reader&lt;T&gt; extends FlatFileItemReader&lt;T&gt; {\r\n    \r\n      @Autowired\r\n      private HistConfig config;\r\n    \r\n      @BeforeStep\r\n      public void beforeStepForReader(StepExecution stepExecution) {\r\n        DefaultLineMapper&lt;History&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n        lineTokenizer.setNames(&quot;id&quot;, &quot;date&quot;, &quot;category&quot;);\r\n        lineTokenizer.setDelimiter(&quot;,&quot;);\r\n        lineMapper.setLineTokenizer(lineTokenizer);\r\n        lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;History&gt;() {{\r\n          setTargetType(History.class);\r\n        }});\r\n        setLinesToSkip(1);\r\n        setLineMapper((LineMapper&lt;T&gt;) lineMapper);\r\n        setResource(new FileSystemResource(config.getCsvFilePath()));\r\n      }\r\n    }\r\n\r\nsomehow the NullPointerException occurs in Step2Reader&#39;s \r\n\r\n    setResource(new FileSystemResource(config.getCsvFilePath()));\r\n\r\nI&#39;ve been working on this for hours but things are not working.\r\nAre there any ways I can pass the csvFilePath between steps by only modifying the code but not changing the approach? \r\n\r\nI only posted the related code and modified the code to hide some confidential information, apologize in advance if anything looks weird. \r\n","title":"Pass variable between steps in Spring Batch using @Configuration class","body":"<p>I'm trying to pass a file path string between 2 steps and here's my attempt.</p>\n<pre><code>  @Bean\n  public Step step1() {\n    return stepBuilderFactory.get(&quot;step1&quot;)\n            .&lt;History, History&gt;chunk(1000)\n            .reader(step1Reader)\n            .writer(step1Writer)\n            .listener(new LoggingStepExecutionListener())\n            .build();\n  }\n\n  @Bean\n  public Step step2() {\n    return stepBuilderFactory.get(&quot;step2&quot;)\n            .&lt;History, ItemRequestModel&gt;chunk(1)\n            .reader(new step2Reader&lt;&gt;())\n            .processor(step2Processor)\n            .writer(step2Writer)\n            .listener(new LoggingStepExecutionListener())\n            .build();\n  }\n</code></pre>\n<p>Here's the config class</p>\n<pre><code>@Configuration\n@Component\npublic class HistConfig {\n\n  private String csvFilePath;\n\n  public String getCsvFilePath() {\n    return csvFilePath;\n  }\n\n  public void setCsvFilePath(String csvFilePath) {\n    this.csvFilePath = csvFilePath;\n  }\n}\n</code></pre>\n<p>and Step1Writer</p>\n<pre><code>      @Slf4j\n      @Component\n      public class Step1Writer implements ItemWriter&lt;History&gt;{\n\n      @Autowired\n      private HistConfig config;\n\n      @BeforeStep\n      public void beforeStepForWriter(StepExecution stepExecution) throws Exception {\n        fileName = &quot;abcdefg&quot;;\n        File file = new File(fileName + EXTENTION);\n        writeCsvHeader();\n        config.setCsvFilePath(file.getAbsolutePath());\n      }\n\n    }\n</code></pre>\n<p>and Step2Reader</p>\n<pre><code>@Slf4j\npublic class Step2Reader&lt;T&gt; extends FlatFileItemReader&lt;T&gt; {\n\n  @Autowired\n  private HistConfig config;\n\n  @BeforeStep\n  public void beforeStepForReader(StepExecution stepExecution) {\n    DefaultLineMapper&lt;History&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n    DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n    lineTokenizer.setNames(&quot;id&quot;, &quot;date&quot;, &quot;category&quot;);\n    lineTokenizer.setDelimiter(&quot;,&quot;);\n    lineMapper.setLineTokenizer(lineTokenizer);\n    lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;History&gt;() {{\n      setTargetType(History.class);\n    }});\n    setLinesToSkip(1);\n    setLineMapper((LineMapper&lt;T&gt;) lineMapper);\n    setResource(new FileSystemResource(config.getCsvFilePath()));\n  }\n}\n</code></pre>\n<p>somehow the NullPointerException occurs in Step2Reader's</p>\n<pre><code>setResource(new FileSystemResource(config.getCsvFilePath()));\n</code></pre>\n<p>I've been working on this for hours but things are not working.\nAre there any ways I can pass the csvFilePath between steps by only modifying the code but not changing the approach?</p>\n<p>I only posted the related code and modified the code to hide some confidential information, apologize in advance if anything looks weird.</p>\n"},{"tags":["java","spring-boot","junit","spring-test"],"answers":[{"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678692900,"creation_date":1678692900,"answer_id":75719071,"question_id":75703456,"body_markdown":"Here is the working code I have prepared. one of the important points is setUrlEncodingEnabled() and urlEncodingEnabled().\r\nyou can check following links as well\r\n[CustomAppContext][1]\r\n[RestAssure URL Encoding][2]\r\n\r\n\r\n    import org.springframework.context.ApplicationContextInitializer;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    \r\n    public class CustomApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt;\r\n    {\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext)\r\n        {\r\n            System.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    import static io.restassured.RestAssured.given;\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @ActiveProfiles(&quot;it&quot;)\r\n    @RunWith(SpringRunner.class)\r\n    @TestPropertySource(locations = &quot;classpath:application-it.properties&quot;)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ContextConfiguration(initializers = CustomApplicationContextInitializer.class)\r\n    \r\n    public class TeamControllerIT {\r\n    \r\n        @LocalServerPort\r\n        private int port;\r\n    \r\n        @Autowired\r\n        private Environment environment;\r\n    \r\n        private RequestSpecification correctCredentialsPortSpecUrlEncodedForService;\r\n    \r\n        @MockBean\r\n        private TeamService teamService;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            JSONArray rolesArray = new JSONArray();\r\n            rolesArray.put(&quot;user&quot;);\r\n          \r\n    \r\n            String token = JWTUtil.createSelfSignedTestToken(environment.getProperty(&quot;publickey&quot;),\r\n                    environment.getProperty(&quot;privatekey&quot;), Date.valueOf(LocalDate.parse(&quot;2999-01-01&quot;)), &quot;integrationTest&quot;,\r\n                    environment.getProperty(&quot;testclient&quot;), rolesArray);\r\n    \r\n            correctCredentialsPortSpecUrlEncodedForService = new RequestSpecBuilder()\r\n                    .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\r\n                    .setPort(port)\r\n                    .setUrlEncodingEnabled(false)\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void shouldGetUsersInTeam() throws UnsupportedEncodingException {\r\n    \r\n            String teamID = &quot;slash/slash&quot;;\r\n    \r\n            when(teamService.getTeamUsers(teamID)).thenReturn(List.of(\r\n                    User.builder().userId(&quot;user1&quot;).firstName(&quot;user&quot;).lastName(&quot;1&quot;).email(&quot;user1@test.com&quot;).build(),\r\n                    User.builder().userId(&quot;user2&quot;).firstName(&quot;user&quot;).lastName(&quot;2&quot;).email(&quot;user2@test.com&quot;).build()\r\n            ));\r\n    \r\n    \r\n            List&lt;KeycloakUserDTO&gt; list2 =\r\n                    given()\r\n                            .spec(correctCredentialsPortSpecUrlEncodedForService)\r\n                            .log().ifValidationFails()\r\n                            .contentType(&quot;application/json&quot;)\r\n                            .urlEncodingEnabled(false)\r\n                            .pathParam(&quot;teamIDEncoded&quot;, urlEncodeString(teamID))\r\n                            .when()\r\n                            .get(&quot;/userservice/teams/{teamIDEncoded}/users&quot;)\r\n                            .then()\r\n                            .log().ifValidationFails()\r\n                            .statusCode(200)\r\n                            .and().extract().jsonPath().getList(&quot;&quot;, KeycloakUserDTO.class);\r\n    \r\n            assertThat(list2.size()==2);\r\n        }\r\n    \r\n        private static String urlEncodeString(String value) throws UnsupportedEncodingException {\r\n            return URLEncoder.encode(value, StandardCharsets.UTF_8.name());\r\n        }\r\n    \r\n        private String activeProfile() {\r\n            return environment.getActiveProfiles()[0];\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73947706/defining-tomcat-property-in-a-test-running-with-springboottest/73948510#comment133560527_73948510\r\n  [2]: https://stackoverflow.com/questions/55019246/restassured-disable-url-encoding-not-working-correctly","title":"JUnit Test cases over URL Encoded Methods","body":"<p>Here is the working code I have prepared. one of the important points is setUrlEncodingEnabled() and urlEncodingEnabled().\nyou can check following links as well\n<a href=\"https://stackoverflow.com/questions/73947706/defining-tomcat-property-in-a-test-running-with-springboottest/73948510#comment133560527_73948510\">CustomAppContext</a>\n<a href=\"https://stackoverflow.com/questions/55019246/restassured-disable-url-encoding-not-working-correctly\">RestAssure URL Encoding</a></p>\n<pre><code>import org.springframework.context.ApplicationContextInitializer;\nimport org.springframework.context.ConfigurableApplicationContext;\n\npublic class CustomApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt;\n{\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext)\n    {\n        System.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\n    }\n}\n\n\n\nimport static io.restassured.RestAssured.given;\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.Mockito.when;\n\n@ActiveProfiles(&quot;it&quot;)\n@RunWith(SpringRunner.class)\n@TestPropertySource(locations = &quot;classpath:application-it.properties&quot;)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(initializers = CustomApplicationContextInitializer.class)\n\npublic class TeamControllerIT {\n\n    @LocalServerPort\n    private int port;\n\n    @Autowired\n    private Environment environment;\n\n    private RequestSpecification correctCredentialsPortSpecUrlEncodedForService;\n\n    @MockBean\n    private TeamService teamService;\n\n    @Before\n    public void setUp() throws Exception {\n        JSONArray rolesArray = new JSONArray();\n        rolesArray.put(&quot;user&quot;);\n      \n\n        String token = JWTUtil.createSelfSignedTestToken(environment.getProperty(&quot;publickey&quot;),\n                environment.getProperty(&quot;privatekey&quot;), Date.valueOf(LocalDate.parse(&quot;2999-01-01&quot;)), &quot;integrationTest&quot;,\n                environment.getProperty(&quot;testclient&quot;), rolesArray);\n\n        correctCredentialsPortSpecUrlEncodedForService = new RequestSpecBuilder()\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\n                .setPort(port)\n                .setUrlEncodingEnabled(false)\n                .build();\n    }\n\n\n    @Test\n    public void shouldGetUsersInTeam() throws UnsupportedEncodingException {\n\n        String teamID = &quot;slash/slash&quot;;\n\n        when(teamService.getTeamUsers(teamID)).thenReturn(List.of(\n                User.builder().userId(&quot;user1&quot;).firstName(&quot;user&quot;).lastName(&quot;1&quot;).email(&quot;user1@test.com&quot;).build(),\n                User.builder().userId(&quot;user2&quot;).firstName(&quot;user&quot;).lastName(&quot;2&quot;).email(&quot;user2@test.com&quot;).build()\n        ));\n\n\n        List&lt;KeycloakUserDTO&gt; list2 =\n                given()\n                        .spec(correctCredentialsPortSpecUrlEncodedForService)\n                        .log().ifValidationFails()\n                        .contentType(&quot;application/json&quot;)\n                        .urlEncodingEnabled(false)\n                        .pathParam(&quot;teamIDEncoded&quot;, urlEncodeString(teamID))\n                        .when()\n                        .get(&quot;/userservice/teams/{teamIDEncoded}/users&quot;)\n                        .then()\n                        .log().ifValidationFails()\n                        .statusCode(200)\n                        .and().extract().jsonPath().getList(&quot;&quot;, KeycloakUserDTO.class);\n\n        assertThat(list2.size()==2);\n    }\n\n    private static String urlEncodeString(String value) throws UnsupportedEncodingException {\n        return URLEncoder.encode(value, StandardCharsets.UTF_8.name());\n    }\n\n    private String activeProfile() {\n        return environment.getActiveProfiles()[0];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678697274,"creation_date":1678519889,"question_id":75703456,"body_markdown":"I did some changes to activate slash encoded URL, [for details][1] \r\nIt is working fine, I would like to activate those changes when running IT tests.  \r\nHow can I activate those changes on UserserviceApplication.\r\n\r\n\r\n    @SpringBootApplication\r\n        @EnableDiscoveryClient\r\n        @EnableCaching\r\n        public class UserserviceApplication implements WebMvcConfigurer {\r\n        \r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSystem.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\r\n        \t\tSpringApplication.run(UserserviceApplication.class, args);\r\n        \t}\r\n        \r\n        \tpublic void configurePathMatch(PathMatchConfigurer configurer) {\r\n        \t\tUrlPathHelper urlPathHelper = new UrlPathHelper();\r\n        \t\turlPathHelper.setUrlDecode(false);\r\n        \t\tconfigurer.setUrlPathHelper(urlPathHelper);\r\n        \t}\r\n        \r\n        }\r\n        \r\n        \r\n        @ActiveProfiles(&quot;it&quot;)\r\n        @RunWith(SpringRunner.class)\r\n        @TestPropertySource(locations = &quot;classpath:application-it.properties&quot;)\r\n        @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n        \r\n        public class TeamControllerIT {\r\n        \r\n            @LocalServerPort private int port;\r\n        \r\n            @Autowired private Environment environment;\r\n\r\n  [1]: https://stackoverflow.com/questions/13482020/encoded-slash-2f-with-spring-requestmapping-path-param-gives-http-400\r\n\r\n","title":"JUnit Test cases over URL Encoded Methods","body":"<p>I did some changes to activate slash encoded URL, <a href=\"https://stackoverflow.com/questions/13482020/encoded-slash-2f-with-spring-requestmapping-path-param-gives-http-400\">for details</a>\nIt is working fine, I would like to activate those changes when running IT tests.<br />\nHow can I activate those changes on UserserviceApplication.</p>\n<pre><code>@SpringBootApplication\n    @EnableDiscoveryClient\n    @EnableCaching\n    public class UserserviceApplication implements WebMvcConfigurer {\n    \n    \n        public static void main(String[] args) {\n            System.setProperty(&quot;org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH&quot;, &quot;true&quot;);\n            SpringApplication.run(UserserviceApplication.class, args);\n        }\n    \n        public void configurePathMatch(PathMatchConfigurer configurer) {\n            UrlPathHelper urlPathHelper = new UrlPathHelper();\n            urlPathHelper.setUrlDecode(false);\n            configurer.setUrlPathHelper(urlPathHelper);\n        }\n    \n    }\n    \n    \n    @ActiveProfiles(&quot;it&quot;)\n    @RunWith(SpringRunner.class)\n    @TestPropertySource(locations = &quot;classpath:application-it.properties&quot;)\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n    \n    public class TeamControllerIT {\n    \n        @LocalServerPort private int port;\n    \n        @Autowired private Environment environment;\n</code></pre>\n"},{"tags":["java","intellij-idea","google-java-format"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678656954,"post_id":75716447,"comment_id":133571580,"body_markdown":"I don&#39;t know if it&#39;s been fixed, but I noticed the google-java-format IntelliJ plugin broke if I used any of the new Java language features (e.g., switch expressions, records, pattern matching, etc.). It even used to break on `module-info.java` (I believe that&#39;s been fixed for a while, at least). Lately I&#39;ve been using Gradle plugins (e.g., Spotless) to auto-format code. It might be possible to use &quot;google-java-format&quot; that way, though I haven&#39;t tried it in a while as I prefer &quot;palantir-java-format&quot;.","body":"I don&#39;t know if it&#39;s been fixed, but I noticed the google-java-format IntelliJ plugin broke if I used any of the new Java language features (e.g., switch expressions, records, pattern matching, etc.). It even used to break on <code>module-info.java</code> (I believe that&#39;s been fixed for a while, at least). Lately I&#39;ve been using Gradle plugins (e.g., Spotless) to auto-format code. It might be possible to use &quot;google-java-format&quot; that way, though I haven&#39;t tried it in a while as I prefer &quot;palantir-java-format&quot;."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":1,"creation_date":1678681896,"post_id":75716447,"comment_id":133574392,"body_markdown":"You may report this issue to google-java-format issue tracker. Also, you could try the google-java-format CLI tool to see if it can reformat your code. If it doesn&#39;t work, it may doesn&#39;t support these new features otherwise it would be a google-java-format IntelliJ plugin issue.","body":"You may report this issue to google-java-format issue tracker. Also, you could try the google-java-format CLI tool to see if it can reformat your code. If it doesn&#39;t work, it may doesn&#39;t support these new features otherwise it would be a google-java-format IntelliJ plugin issue."}],"answers":[{"tags":[],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678697226,"creation_date":1678697226,"answer_id":75719627,"question_id":75716447,"body_markdown":"It seems like I didn&#39;t copy all configs correctly; not sure what exactly was missing, but I think it was `--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n`; probably that wasn&#39;t needed in earlier versions of the plugin?\r\n\r\n```\r\n--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n```","title":"google-java-format IntelliJ IDEA not formatting (Java 19)","body":"<p>It seems like I didn't copy all configs correctly; not sure what exactly was missing, but I think it was <code>--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED </code>; probably that wasn't needed in earlier versions of the plugin?</p>\n<pre><code>--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1321,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75719627,"answer_count":1,"score":1,"last_activity_date":1678697226,"creation_date":1678656039,"question_id":75716447,"body_markdown":"I have OpenJDK 19 installed and use the &quot;google-java-format&quot; plugin. I have configured IntelliJ IDEA as per [instructions here](https://github.com/google/google-java-format/blob/master/README.md#intellij-jre-config). However, code formatting doesn&#39;t work.\r\n\r\nIf I uninstall the plugin, formatting works (i.e. the cmd-opt-L shortcut works). But when I enable the plugin, then the cmd-opt-L shortcut doesn&#39;t work and inserted code fragments look crap.\r\n\r\nAlso, the notifications window always reminds me to configure the IDE properly, following the instructions above. Well, I did configure the IDE accordingly. Still I see the notifications and formatting doesn&#39;t work.\r\n\r\nWhat could be wrong?","title":"google-java-format IntelliJ IDEA not formatting (Java 19)","body":"<p>I have OpenJDK 19 installed and use the &quot;google-java-format&quot; plugin. I have configured IntelliJ IDEA as per <a href=\"https://github.com/google/google-java-format/blob/master/README.md#intellij-jre-config\" rel=\"nofollow noreferrer\">instructions here</a>. However, code formatting doesn't work.</p>\n<p>If I uninstall the plugin, formatting works (i.e. the cmd-opt-L shortcut works). But when I enable the plugin, then the cmd-opt-L shortcut doesn't work and inserted code fragments look crap.</p>\n<p>Also, the notifications window always reminds me to configure the IDE properly, following the instructions above. Well, I did configure the IDE accordingly. Still I see the notifications and formatting doesn't work.</p>\n<p>What could be wrong?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":1,"creation_date":1592935240,"post_id":62540260,"comment_id":110601587,"body_markdown":"Can you add more info about the error log? The view it&#39;s occuring in? The action taking place?","body":"Can you add more info about the error log? The view it&#39;s occuring in? The action taking place?"},{"owner":{"account_id":18915355,"reputation":21,"user_id":13800544,"display_name":"Zhen Hong"},"score":0,"creation_date":1593108568,"post_id":62540260,"comment_id":110672251,"body_markdown":"This happens when I click on an EditText the app crashes and restarts.","body":"This happens when I click on an EditText the app crashes and restarts."}],"answers":[{"tags":[],"owner":{"account_id":21124892,"reputation":1,"user_id":15530330,"display_name":"drill2010"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617277139,"creation_date":1617277139,"answer_id":66903829,"question_id":62540260,"body_markdown":"I&#39;ve solved my problem with similar crash on click on edittext, by rename of variable named &quot;userId&quot;\r\nI&#39;m still not shure why this magic works, but try to rename such variables with common names","title":"SyncResultReceiver$TimeoutException crashing Android a lot","body":"<p>I've solved my problem with similar crash on click on edittext, by rename of variable named &quot;userId&quot;\nI'm still not shure why this magic works, but try to rename such variables with common names</p>\n"}],"owner":{"account_id":18915355,"reputation":21,"user_id":13800544,"display_name":"Zhen Hong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1373,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678697210,"creation_date":1592932513,"question_id":62540260,"body_markdown":"I&#39;ve disabled all autofill with View.AUTOFILL_TYPE_NONE\r\n```\r\ncom.android.internal.util.SyncResultReceiver$TimeoutException: \r\n  at com.android.internal.util.SyncResultReceiver.waitResult (SyncResultReceiver.java:60)\r\n  at com.android.internal.util.SyncResultReceiver.getIntResult (SyncResultReceiver.java:68)\r\n  at android.view.autofill.AutofillManager.ensureServiceClientAddedIfNeededLocked (AutofillManager.java:1831)\r\n  at android.view.autofill.AutofillManager.notifyViewEnteredLocked (AutofillManager.java:956)\r\n  at android.view.autofill.AutofillManager.notifyViewEntered (AutofillManager.java:940)\r\n  at android.view.autofill.AutofillManager.notifyViewEntered (AutofillManager.java:897)\r\n  at android.view.View.notifyEnterOrExitForAutoFillIfNeeded (View.java:7972)\r\n  at android.view.View.onFocusChanged (View.java:7934)\r\n  at android.widget.TextView.onFocusChanged (TextView.java:10801)\r\n  at android.view.View.handleFocusGainInternal (View.java:7597)\r\n  at android.view.View.requestFocusNoSearch (View.java:12962)\r\n  at android.view.View.requestFocus (View.java:12936)\r\n  at android.view.View.requestFocus (View.java:12903)\r\n  at android.view.View.requestFocus (View.java:12845)\r\n  at android.view.View.onTouchEvent (View.java:15336)\r\n```\r\n\r\nI am not sure what is wrong. \r\n\r\nIt only happens to Android 10 devices.\r\n\r\n\r\nThis happens when I click on an EditText the app crashes and restarts.\r\n\r\n\r\n","title":"SyncResultReceiver$TimeoutException crashing Android a lot","body":"<p>I've disabled all autofill with View.AUTOFILL_TYPE_NONE</p>\n<pre><code>com.android.internal.util.SyncResultReceiver$TimeoutException: \n  at com.android.internal.util.SyncResultReceiver.waitResult (SyncResultReceiver.java:60)\n  at com.android.internal.util.SyncResultReceiver.getIntResult (SyncResultReceiver.java:68)\n  at android.view.autofill.AutofillManager.ensureServiceClientAddedIfNeededLocked (AutofillManager.java:1831)\n  at android.view.autofill.AutofillManager.notifyViewEnteredLocked (AutofillManager.java:956)\n  at android.view.autofill.AutofillManager.notifyViewEntered (AutofillManager.java:940)\n  at android.view.autofill.AutofillManager.notifyViewEntered (AutofillManager.java:897)\n  at android.view.View.notifyEnterOrExitForAutoFillIfNeeded (View.java:7972)\n  at android.view.View.onFocusChanged (View.java:7934)\n  at android.widget.TextView.onFocusChanged (TextView.java:10801)\n  at android.view.View.handleFocusGainInternal (View.java:7597)\n  at android.view.View.requestFocusNoSearch (View.java:12962)\n  at android.view.View.requestFocus (View.java:12936)\n  at android.view.View.requestFocus (View.java:12903)\n  at android.view.View.requestFocus (View.java:12845)\n  at android.view.View.onTouchEvent (View.java:15336)\n</code></pre>\n<p>I am not sure what is wrong.</p>\n<p>It only happens to Android 10 devices.</p>\n<p>This happens when I click on an EditText the app crashes and restarts.</p>\n"},{"tags":["java","record","micronaut"],"comments":[{"owner":{"account_id":2524916,"reputation":40766,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"score":0,"creation_date":1679041980,"post_id":75719611,"comment_id":133653240,"body_markdown":"Do you call `validator.validate(obj)` method on that object after it is created? Validation does not happen automatically when you create a new instance of the object, you have to pass it to a specific validator that will perform validation. This blog post explains it pretty well - https://markoantic.medium.com/conditional-validation-in-java-applications-80a24f06d721","body":"Do you call <code>validator.validate(obj)</code> method on that object after it is created? Validation does not happen automatically when you create a new instance of the object, you have to pass it to a specific validator that will perform validation. This blog post explains it pretty well - <a href=\"https://markoantic.medium.com/conditional-validation-in-java-applications-80a24f06d721\" rel=\"nofollow noreferrer\">markoantic.medium.com/&hellip;</a>"},{"owner":{"account_id":1125067,"reputation":256,"user_id":1112554,"display_name":"hunsricker"},"score":0,"creation_date":1679323580,"post_id":75719611,"comment_id":133696586,"body_markdown":"No, I don&#39;t call any method. When annotating a parameter of a controller method, the validation is done without calling any validation method. I don&#39;t want the record object to be created if the component is invalid.","body":"No, I don&#39;t call any method. When annotating a parameter of a controller method, the validation is done without calling any validation method. I don&#39;t want the record object to be created if the component is invalid."},{"owner":{"account_id":2524916,"reputation":40766,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"score":0,"creation_date":1679382856,"post_id":75719611,"comment_id":133707158,"body_markdown":"When you annotate a controller method parameter, this is exactly what happens - the object is created and then it&#39;s passed to a validator to check if its current state matches all validation constraints. The same thing happens if you annotated e.g. a service method parameter, but again - it will create an object and then validate it before the method invocation happens. There&#39;s not such thing as validating an object&#39;s constraints on a constructor call without the presence of a validator context.","body":"When you annotate a controller method parameter, this is exactly what happens - the object is created and then it&#39;s passed to a validator to check if its current state matches all validation constraints. The same thing happens if you annotated e.g. a service method parameter, but again - it will create an object and then validate it before the method invocation happens. There&#39;s not such thing as validating an object&#39;s constraints on a constructor call without the presence of a validator context."}],"owner":{"account_id":1125067,"reputation":256,"user_id":1112554,"display_name":"hunsricker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678697081,"creation_date":1678697081,"question_id":75719611,"body_markdown":"I try to validate the components of a record using a custom annotation so that creating a new record object fails if the value is invalid.\r\n\r\n\r\nUsing Micronaut v3.8.6 and Java 19 (preview features activated), having defined a sealed interface\r\n\r\n```\r\n@Introspected\r\npublic sealed interface UserId {\r\n    record Identifier(@Positive long value) implements UserId {}\r\n    record MailAddress(@EMail String value) implements UserId {}\r\n}\r\n\r\n```\r\nusing this annotation\r\n```\r\n@Target({PARAMETER, RECORD_COMPONENT, TYPE_USE, CONSTRUCTOR, FIELD, METHOD, ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = {})\r\npublic @interface EMail {\r\n\r\n    String message() default &quot;is not a valid email address: ({validatedValue})&quot;;\r\n}\r\n```\r\nputting all together with the factory\r\n```\r\n@Factory\r\npublic class AppConfig {\r\n    @Singleton\r\n    public ConstraintValidator&lt;EMail, String&gt; eMailStringConstraintValidator() {\r\n        return (value, annotationMetadata, context) -&gt; EMailAddressConstraints.isValid(value);\r\n    }\r\n}\r\n```\r\nwhere the `isValid` method just returns a boolean but no exception to be thrown.\r\n\r\nThe validator is never called when creating a new MailAddress object. To make sure it basically works, I&#39;ve annotated a parameter of a controller method. Passing an invalid string fails as expected.\r\n\r\nWhy is the annotation ignored when creating the record? Btw I tried to get it to work with declaring the canonical constructor with annotated parameters explicitly too ...","title":"Validate record component value during construction with a custom annotation","body":"<p>I try to validate the components of a record using a custom annotation so that creating a new record object fails if the value is invalid.</p>\n<p>Using Micronaut v3.8.6 and Java 19 (preview features activated), having defined a sealed interface</p>\n<pre><code>@Introspected\npublic sealed interface UserId {\n    record Identifier(@Positive long value) implements UserId {}\n    record MailAddress(@EMail String value) implements UserId {}\n}\n\n</code></pre>\n<p>using this annotation</p>\n<pre><code>@Target({PARAMETER, RECORD_COMPONENT, TYPE_USE, CONSTRUCTOR, FIELD, METHOD, ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {})\npublic @interface EMail {\n\n    String message() default &quot;is not a valid email address: ({validatedValue})&quot;;\n}\n</code></pre>\n<p>putting all together with the factory</p>\n<pre><code>@Factory\npublic class AppConfig {\n    @Singleton\n    public ConstraintValidator&lt;EMail, String&gt; eMailStringConstraintValidator() {\n        return (value, annotationMetadata, context) -&gt; EMailAddressConstraints.isValid(value);\n    }\n}\n</code></pre>\n<p>where the <code>isValid</code> method just returns a boolean but no exception to be thrown.</p>\n<p>The validator is never called when creating a new MailAddress object. To make sure it basically works, I've annotated a parameter of a controller method. Passing an invalid string fails as expected.</p>\n<p>Why is the annotation ignored when creating the record? Btw I tried to get it to work with declaring the canonical constructor with annotated parameters explicitly too ...</p>\n"},{"tags":["java","dart","encoding","base64"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1678686865,"post_id":75718406,"comment_id":133574918,"body_markdown":"Your dart code units are UTF-16, while your online encoder defaults to UTF-8. Java probably as well. You&#39;re completely ignoring character encoding. Then you mentioned that this is supposed to be XML, so probably worthwhile to look into XML canonicalization as well.","body":"Your dart code units are UTF-16, while your online encoder defaults to UTF-8. Java probably as well. You&#39;re completely ignoring character encoding. Then you mentioned that this is supposed to be XML, so probably worthwhile to look into XML canonicalization as well."}],"answers":[{"tags":[],"owner":{"account_id":2475977,"reputation":66430,"user_id":2156621,"display_name":"lrn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678697071,"creation_date":1678697071,"answer_id":75719610,"question_id":75718406,"body_markdown":"Dart&#39;s `Base64` encoding encodes *bytes* and a string&#39;s `codeUnits` are not bytes. They&#39;re UTF-16 code units. If the string contains only ASCII, or maybe even only iso-8859-1 characters (UTF-16 code units with values \\&lt;= 255), then it&#39;ll probably do something reasonable. If not, the `Base64.encode` will probably just truncate every code unit to the lower 8 bits.\r\n\r\nSo you want to convert the string to bytes. The page you link to use UTF-8 encoding as default, so that&#39;s what I&#39;d do here too:\r\n```dart\r\nList&lt;int&gt; array = utf8.encode(invoiceHashValue_WithQRHash);\r\nString invoiceEncodeData = base64.encode(array);\r\n```\r\n\r\nIf you&#39;re going to do the same operation repeatedly, you can combine the codecs into one:\r\n```dart\r\nvar base64Utf8 = utf8.fuse(base64); // First to last in encoding order.\r\n// ...\r\nString invoceEncodeData = base64Utf8.encode(invoiceHashValue_WithQRHash);\r\n```\r\n\r\nDoing this gives me the same result as the page you linked to for strings containing non-ASCII characters. ","title":"base64 encode result are different in dart and java","body":"<p>Dart's <code>Base64</code> encoding encodes <em>bytes</em> and a string's <code>codeUnits</code> are not bytes. They're UTF-16 code units. If the string contains only ASCII, or maybe even only iso-8859-1 characters (UTF-16 code units with values &lt;= 255), then it'll probably do something reasonable. If not, the <code>Base64.encode</code> will probably just truncate every code unit to the lower 8 bits.</p>\n<p>So you want to convert the string to bytes. The page you link to use UTF-8 encoding as default, so that's what I'd do here too:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>List&lt;int&gt; array = utf8.encode(invoiceHashValue_WithQRHash);\nString invoiceEncodeData = base64.encode(array);\n</code></pre>\n<p>If you're going to do the same operation repeatedly, you can combine the codecs into one:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>var base64Utf8 = utf8.fuse(base64); // First to last in encoding order.\n// ...\nString invoceEncodeData = base64Utf8.encode(invoiceHashValue_WithQRHash);\n</code></pre>\n<p>Doing this gives me the same result as the page you linked to for strings containing non-ASCII characters.</p>\n"}],"owner":{"account_id":27094412,"reputation":41,"user_id":20641792,"display_name":"Scribes Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678697071,"creation_date":1678686526,"question_id":75718406,"body_markdown":"I am trying to encode xml to base64 but result in dart and java are different from each other.\r\nI have checked from https://www.base64encode.org/ website it gives same result as java.\r\n\r\n  \r\n        byte[] array = invoiceHashValue_WithQRHash.getBytes();\r\n        String invoiceEncodeData = new String(Base64.encode(array, Base64.DEFAULT));\r\n\r\n         // dart code  \r\n        List&lt;int&gt; array = invoiceHashValue_WithQRHash.codeUnits;\r\n        String invoiceEncodeData = base64Encode(array);","title":"base64 encode result are different in dart and java","body":"<p>I am trying to encode xml to base64 but result in dart and java are different from each other.\nI have checked from <a href=\"https://www.base64encode.org/\" rel=\"nofollow noreferrer\">https://www.base64encode.org/</a> website it gives same result as java.</p>\n<pre><code>    byte[] array = invoiceHashValue_WithQRHash.getBytes();\n    String invoiceEncodeData = new String(Base64.encode(array, Base64.DEFAULT));\n\n     // dart code  \n    List&lt;int&gt; array = invoiceHashValue_WithQRHash.codeUnits;\n    String invoiceEncodeData = base64Encode(array);\n</code></pre>\n"},{"tags":["java","hibernate","annotation-processing"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1563970780,"post_id":57182568,"comment_id":100876259,"body_markdown":"I understand the problem stems from using one of the variants of the non-ASCII Turkish &#39;i&#39; character. From my experience, even though Java as a language supports Unicode, I often find that the tooling does not, so I would recommend to avoid using non-Latin characters for identifiers. Otherwise, you may manage to fix your issue only to find that another tool is having problems","body":"I understand the problem stems from using one of the variants of the non-ASCII Turkish &#39;i&#39; character. From my experience, even though Java as a language supports Unicode, I often find that the tooling does not, so I would recommend to avoid using non-Latin characters for identifiers. Otherwise, you may manage to fix your issue only to find that another tool is having problems"},{"owner":{"account_id":985380,"reputation":7450,"user_id":1005102,"accept_rate":71,"display_name":"Utku &#214;zdemir"},"score":0,"creation_date":1563970994,"post_id":57182568,"comment_id":100876371,"body_markdown":"What method do you use to get the metamodel classes generated? There are usages with Ant, and multiple ways of doing it by Maven: https://docs.jboss.org/hibernate/orm/5.0/topical/html/metamodelgen/MetamodelGenerator.html - over compiler or processor plugin. Depending on the method you use, you might find a way to pass the Locale variables to the compiler &amp; compile processor, and you wouldn&#39;t need to change your system settings.","body":"What method do you use to get the metamodel classes generated? There are usages with Ant, and multiple ways of doing it by Maven: <a href=\"https://docs.jboss.org/hibernate/orm/5.0/topical/html/metamodelgen/MetamodelGenerator.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.0/topical/html/metamodelgen/&hellip;</a> - over compiler or processor plugin. Depending on the method you use, you might find a way to pass the Locale variables to the compiler &amp; compile processor, and you wouldn&#39;t need to change your system settings."},{"owner":{"account_id":9962090,"reputation":1093,"user_id":9271254,"display_name":"Erce Tilav"},"score":1,"creation_date":1563971038,"post_id":57182568,"comment_id":100876397,"body_markdown":"@crizzis I&#39;m not using any Turkish character in my code. The problem is that code generator converting &quot;transtime&quot; field as TRANSTME constant name, not TRANSTIME.","body":"@crizzis I&#39;m not using any Turkish character in my code. The problem is that code generator converting &quot;transtime&quot; field as TRANSTME constant name, not TRANSTIME."},{"owner":{"account_id":9962090,"reputation":1093,"user_id":9271254,"display_name":"Erce Tilav"},"score":0,"creation_date":1563971293,"post_id":57182568,"comment_id":100876567,"body_markdown":"@Utku&#214;zdemir I&#39;m just adding dependency to my POM. See docs: \n&quot;In most cases the annotation processor will automatically run provided the processor jar is added to the build classpath and a JDK &gt;6 is used. This happens due to Javas Service Provider contract and the fact the the Hibernate Static Metamodel Generator jar files contains the file javax.annotation.processing.Processor in the META-INF/services directory.&quot;","body":"@Utku&#214;zdemir I&#39;m just adding dependency to my POM. See docs:  &quot;In most cases the annotation processor will automatically run provided the processor jar is added to the build classpath and a JDK &gt;6 is used. This happens due to Javas Service Provider contract and the fact the the Hibernate Static Metamodel Generator jar files contains the file javax.annotation.processing.Processor in the META-INF/services directory.&quot;"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1563978174,"post_id":57182568,"comment_id":100880764,"body_markdown":"@evracle In that case, you are probably facing [this issue](http://java.sys-con.com/node/46241), where the dotted *i* becomes capitalized as **. You may try fixing that issue by using the `-Duser.language=en` flag or the `&lt;user.language&gt;en&lt;/user.language&gt;` tag to force capitalization of *i* into *I*","body":"@evracle In that case, you are probably facing <a href=\"http://java.sys-con.com/node/46241\" rel=\"nofollow noreferrer\">this issue</a>, where the dotted <i>i</i> becomes capitalized as <i></i>. You may try fixing that issue by using the <code>-Duser.language=en</code> flag or the <code>&lt;user.language&gt;en&lt;&#47;user.language&gt;</code> tag to force capitalization of <i>i</i> into <i>I</i>"},{"owner":{"account_id":1007051,"reputation":477,"user_id":1020512,"display_name":"Kambaa"},"score":0,"creation_date":1662735240,"post_id":57182568,"comment_id":130082072,"body_markdown":"I&#39;m having this issue too(when running `mvn compile`), and only solution i&#39;ve found is to change my OS&#39;s(Win10) lang setting to English. Pom.xml changes below did not work for me.","body":"I&#39;m having this issue too(when running <code>mvn compile</code>), and only solution i&#39;ve found is to change my OS&#39;s(Win10) lang setting to English. Pom.xml changes below did not work for me."}],"answers":[{"tags":[],"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566038699,"creation_date":1564400466,"answer_id":57253122,"question_id":57182568,"body_markdown":"I have fixed the same problem with following configuration.\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n            &lt;fork&gt;true&lt;/fork&gt;\r\n\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t&lt;compilerArg&gt;-J-Duser.language=en&lt;/compilerArg&gt;\r\n\t\t\t\t&lt;compilerArg&gt;-J-Duser.country=US&lt;/compilerArg&gt;\r\n\t\t\t\t&lt;compilerArg&gt;-J-Dfile.encoding=UTF-8&lt;/compilerArg&gt;\r\n\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;annotationProcessorPath&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t\t\t&lt;/annotationProcessorPath&gt;\r\n\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;","title":"Hibernate JPA 2 Metamodel Generator Turkish Char problem","body":"<p>I have fixed the same problem with following configuration.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${java.version}&lt;/source&gt;\n        &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;compilerArgs&gt;\n            &lt;compilerArg&gt;-J-Duser.language=en&lt;/compilerArg&gt;\n            &lt;compilerArg&gt;-J-Duser.country=US&lt;/compilerArg&gt;\n            &lt;compilerArg&gt;-J-Dfile.encoding=UTF-8&lt;/compilerArg&gt;\n        &lt;/compilerArgs&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;annotationProcessorPath&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                &lt;version&gt;${hibernate.version}&lt;/version&gt;\n            &lt;/annotationProcessorPath&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15433997,"reputation":11,"user_id":11134576,"display_name":"sss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591116531,"creation_date":1591116531,"answer_id":62157115,"question_id":57182568,"body_markdown":"I had the same problems. My problem was solved with the following plugins\r\n\r\n    &lt;plugin&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;compilerArguments&gt;-AaddGeneratedAnnotation=false&lt;/compilerArguments&gt; &lt;!-- suppress java.annotation --&gt;\r\n                            &lt;processors&gt;\r\n                                &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n                            &lt;/processors&gt;\r\n                            &lt;outputDirectory&gt;generated&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n    \r\n\r\n","title":"Hibernate JPA 2 Metamodel Generator Turkish Char problem","body":"<p>I had the same problems. My problem was solved with the following plugins</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;compilerArguments&gt;-AaddGeneratedAnnotation=false&lt;/compilerArguments&gt; &lt;!-- suppress java.annotation --&gt;\n                        &lt;processors&gt;\n                            &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                        &lt;/processors&gt;\n                        &lt;outputDirectory&gt;generated&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1007051,"reputation":477,"user_id":1020512,"display_name":"Kambaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678696919,"creation_date":1662735078,"answer_id":73663983,"question_id":57182568,"body_markdown":"**UPDATE MARCH-2023:**\r\n \r\nAdding *.mvn/jvm.config* file in your project with contents `-Duser.country=US -Duser.language=en` seems to change the locale for the maven, this seems to be the better approach. \r\n\r\n\r\n**UPDATE FEB-2023:** \r\n\r\nAfter some debugging, Below is my findings about this problem: \r\n\r\n[![https://prnt.sc/6_MhLRmJkfMv][1]][1]\r\n\r\neven if nothing&#39;s wrong with my entity(encoding-wise) JpaMetaModelGen&#39;s StringUtils class method uses toUpperCase() method which uses JVM&#39;s default Locale for uppercase operation. Here are some documentation on upperCase method: \r\n\r\n\r\n *This method is locale sensitive, and may produce unexpected results if used for strings that are intended to be interpreted locale independently. Examples are programming language identifiers, protocol keys, and HTML tags. For instance, &quot;title&quot;.toUpperCase() in a Turkish locale returns &quot;T\\u0130TLE&quot;, where &#39;\\u0130&#39; is the LATIN CAPITAL LETTER I WITH DOT ABOVE character. To obtain correct results for locale insensitive strings, use toUpperCase(Locale.ROOT).*\r\n\r\nit seems like i need to change my JVM locale to english (normally when you call java command you need to add these jvm args: *-Duser.country=US -Duser.language=en* ) to make this problem go away, but adding these to mvn command did not worked for me, so in IDEA i did this and it seemed to worked.\r\n\r\n[![IDEA Maven Locale Change JVM Commands][2]][2]\r\n    \r\nSome links on JVM Locale\r\n- https://stackoverflow.com/a/55615159/1020512\r\n- https://mkyong.com/java/how-to-change-the-jvm-default-locale/\r\n- https://www.oracle.com/technical-resources/articles/javase/locale.html\r\n- https://docs.oracle.com/cd/E23095_01/Platform.93/ATGProgGuide/html/s1809settingthejavavirtualmachineloca01.html\r\n\r\n\r\n\r\nI&#39;m having this issue right now(when running `maven compile`, it gives me this problem not idea&#39;s run configurations, weird! ), and only solution i&#39;ve found is to change my OS&#39;s(Win10) lang setting to English. Pom.xml changes above did not work for me. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sf8tv.png\r\n  [2]: https://i.stack.imgur.com/UwD6J.png","title":"Hibernate JPA 2 Metamodel Generator Turkish Char problem","body":"<p><strong>UPDATE MARCH-2023:</strong></p>\n<p>Adding <em>.mvn/jvm.config</em> file in your project with contents <code>-Duser.country=US -Duser.language=en</code> seems to change the locale for the maven, this seems to be the better approach.</p>\n<p><strong>UPDATE FEB-2023:</strong></p>\n<p>After some debugging, Below is my findings about this problem:</p>\n<p><a href=\"https://i.stack.imgur.com/Sf8tv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sf8tv.png\" alt=\"https://prnt.sc/6_MhLRmJkfMv\" /></a></p>\n<p>even if nothing's wrong with my entity(encoding-wise) JpaMetaModelGen's StringUtils class method uses toUpperCase() method which uses JVM's default Locale for uppercase operation. Here are some documentation on upperCase method:</p>\n<p><em>This method is locale sensitive, and may produce unexpected results if used for strings that are intended to be interpreted locale independently. Examples are programming language identifiers, protocol keys, and HTML tags. For instance, &quot;title&quot;.toUpperCase() in a Turkish locale returns &quot;T\\u0130TLE&quot;, where '\\u0130' is the LATIN CAPITAL LETTER I WITH DOT ABOVE character. To obtain correct results for locale insensitive strings, use toUpperCase(Locale.ROOT).</em></p>\n<p>it seems like i need to change my JVM locale to english (normally when you call java command you need to add these jvm args: <em>-Duser.country=US -Duser.language=en</em> ) to make this problem go away, but adding these to mvn command did not worked for me, so in IDEA i did this and it seemed to worked.</p>\n<p><a href=\"https://i.stack.imgur.com/UwD6J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UwD6J.png\" alt=\"IDEA Maven Locale Change JVM Commands\" /></a></p>\n<p>Some links on JVM Locale</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/55615159/1020512\">https://stackoverflow.com/a/55615159/1020512</a></li>\n<li><a href=\"https://mkyong.com/java/how-to-change-the-jvm-default-locale/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/how-to-change-the-jvm-default-locale/</a></li>\n<li><a href=\"https://www.oracle.com/technical-resources/articles/javase/locale.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/javase/locale.html</a></li>\n<li><a href=\"https://docs.oracle.com/cd/E23095_01/Platform.93/ATGProgGuide/html/s1809settingthejavavirtualmachineloca01.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E23095_01/Platform.93/ATGProgGuide/html/s1809settingthejavavirtualmachineloca01.html</a></li>\n</ul>\n<p>I'm having this issue right now(when running <code>maven compile</code>, it gives me this problem not idea's run configurations, weird! ), and only solution i've found is to change my OS's(Win10) lang setting to English. Pom.xml changes above did not work for me.</p>\n"}],"owner":{"account_id":9962090,"reputation":1093,"user_id":9271254,"display_name":"Erce Tilav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57253122,"answer_count":3,"score":2,"last_activity_date":1678696919,"creation_date":1563970060,"question_id":57182568,"body_markdown":"        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0.Alpha2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhen I add hibernate-jpamodelgen dependency to the project. Everything works properly until the compilation process. I can see generated metamodel classes under target folder. But because of my system defaults (that are related to my operating system), the field name constants on metamodel classes are converted wrong. \r\n\r\n    public static final String TRANSTME = &quot;transtime&quot;;\r\n\tpublic static final String NOTE = &quot;note&quot;;\r\n\tpublic static final String SACTVE = &quot;isactive&quot;;\r\n\r\n-\r\n\r\n    [ERROR] /C:/Users/*/IdeaProjects/*/target/generated-sources/annotations/*/model/acc/InvtypeView_.java:[20,37] illegal character: &#39;\\ufffd&#39;\r\n\r\n \r\nAnd that causes a compile error. When I analyzed the code generation process I can see org.hibernate.jpamodelgen.util.StringUtil classes&#39; getUpperUnderscoreCaseFromLowerCamelCase method causes this. \r\n\r\n\tpublic static String getUpperUnderscoreCaseFromLowerCamelCase(String lowerCamelCaseString){\r\n\t\treturn lowerCamelCaseString.replaceAll(&quot;(.)(\\\\p{Upper})&quot;, &quot;$1_$2&quot;).toUpperCase();\r\n\t}\r\n\r\ntoUpperCase method should have parameter Locale.ROOT. \r\n\r\nI&#39;ve created an issue on [Hibernate issue tracker system][1].\r\n\r\n\r\nAny quick solution/workaround would be great.\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-13506","title":"Hibernate JPA 2 Metamodel Generator Turkish Char problem","body":"<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0.Alpha2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>When I add hibernate-jpamodelgen dependency to the project. Everything works properly until the compilation process. I can see generated metamodel classes under target folder. But because of my system defaults (that are related to my operating system), the field name constants on metamodel classes are converted wrong. </p>\n\n<pre><code>public static final String TRANSTME = \"transtime\";\npublic static final String NOTE = \"note\";\npublic static final String SACTVE = \"isactive\";\n</code></pre>\n\n<p>-</p>\n\n<pre><code>[ERROR] /C:/Users/*/IdeaProjects/*/target/generated-sources/annotations/*/model/acc/InvtypeView_.java:[20,37] illegal character: '\\ufffd'\n</code></pre>\n\n<p>And that causes a compile error. When I analyzed the code generation process I can see org.hibernate.jpamodelgen.util.StringUtil classes' getUpperUnderscoreCaseFromLowerCamelCase method causes this. </p>\n\n<pre><code>public static String getUpperUnderscoreCaseFromLowerCamelCase(String lowerCamelCaseString){\n    return lowerCamelCaseString.replaceAll(\"(.)(\\\\p{Upper})\", \"$1_$2\").toUpperCase();\n}\n</code></pre>\n\n<p>toUpperCase method should have parameter Locale.ROOT. </p>\n\n<p>I've created an issue on <a href=\"https://hibernate.atlassian.net/browse/HHH-13506\" rel=\"nofollow noreferrer\">Hibernate issue tracker system</a>.</p>\n\n<p>Any quick solution/workaround would be great.</p>\n"},{"tags":["java","spring-boot","hibernate","graalvm"],"answers":[{"tags":[],"owner":{"account_id":1792218,"reputation":2005,"user_id":1632341,"accept_rate":86,"display_name":"Akkusativobjekt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678696872,"creation_date":1678696872,"answer_id":75719586,"question_id":75674982,"body_markdown":"So, I found the issue with my hint. Instead of using `org.hibernate.dialect.DB2Dialect`  my hint imported `org.springframework.data.relational.core.dialect.Db2Dialect` (with an lowercase b). Therefore, the correct hint looks like this:\r\n\r\n    import org.springframework.aot.hint.MemberCategory;\r\n    import org.springframework.aot.hint.RuntimeHints;\r\n    import org.springframework.aot.hint.RuntimeHintsRegistrar;\r\n    import org.hibernate.dialect.DB2Dialect;\r\n\r\n    public class MyNativeHints implements RuntimeHintsRegistrar\r\n    {\r\n        hints.reflection()\r\n             .registerType(DB2Dialect.class, MemberCategory.values());\r\n        \r\n    }\r\n}\r\n","title":"RuntimeHint for Hibernate Db2Dialect with Spring Boot and GraalVM","body":"<p>So, I found the issue with my hint. Instead of using <code>org.hibernate.dialect.DB2Dialect</code>  my hint imported <code>org.springframework.data.relational.core.dialect.Db2Dialect</code> (with an lowercase b). Therefore, the correct hint looks like this:</p>\n<pre><code>import org.springframework.aot.hint.MemberCategory;\nimport org.springframework.aot.hint.RuntimeHints;\nimport org.springframework.aot.hint.RuntimeHintsRegistrar;\nimport org.hibernate.dialect.DB2Dialect;\n\npublic class MyNativeHints implements RuntimeHintsRegistrar\n{\n    hints.reflection()\n         .registerType(DB2Dialect.class, MemberCategory.values());\n    \n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1792218,"reputation":2005,"user_id":1632341,"accept_rate":86,"display_name":"Akkusativobjekt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75719586,"answer_count":1,"score":0,"last_activity_date":1678696872,"creation_date":1678289137,"question_id":75674982,"body_markdown":"I am trying to get the Db2Dialect working with Hibernate. I am using Sprint Boot 3.0.2 and the GraalVm version 22.3.1. Adding the hibernate-graalvm dependency did not help either. When starting the native image I get the following error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39;: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n[...]\r\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Could not instantiate named strategy class [org.hibernate.dialect.DB2Dialect]\r\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:245) ~[na:na]\r\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:190) ~[na:na]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:96) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:59) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:244) ~[na:na]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[na:na]\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[na:na]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        ... 32 common frames omitted\r\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Could not instantiate named dialect class [org.hibernate.dialect.DB2Dialect]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.lambda$constructDialect$0(DialectFactoryImpl.java:116) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:241) ~[na:na]\r\n        ... 39 common frames omitted\r\nCaused by: java.lang.InstantiationException: org.hibernate.dialect.DB2Dialect\r\n        at java.base@17.0.6/java.lang.Class.newInstance(DynamicHub.java:639) ~[spinsample-maven-local-v1:na]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.lambda$constructDialect$0(DialectFactoryImpl.java:112) ~[spinsample-maven-local-v1:6.1.7.Final]\r\n        ... 40 common frames omitted\r\nCaused by: java.lang.NoSuchMethodException: org.hibernate.dialect.DB2Dialect.&lt;init&gt;()\r\n        at java.base@17.0.6/java.lang.Class.getConstructor0(DynamicHub.java:3585) ~[spinsample-maven-local-v1:na]\r\n        at java.base@17.0.6/java.lang.Class.newInstance(DynamicHub.java:626) ~[spinsample-maven-local-v1:na]\r\n        ... 41 common frames omitted\r\n```\r\nThat is why I have tried to create a RuntimeHint. To my understanding, the class Db2Dialect has a protected constructor and can only be called via a member variable that acts as a singleton instance. And that&#39;s probably what I need to express with the RuntimeHint.\r\n```\r\nhints.reflection().registerType(Db2Dialect.class, MemberCategory.values());\r\nConstructor&lt;Db2Dialect&gt; cons = Db2Dialect.class.getDeclaredConstructor();\r\nhints.reflection().registerConstructor(cons, ExecutableMode.INVOKE);\r\n```\r\nBut that didn&#39;t work for me and the documentation on RuntimeHints didn&#39;t help me either.","title":"RuntimeHint for Hibernate Db2Dialect with Spring Boot and GraalVM","body":"<p>I am trying to get the Db2Dialect working with Hibernate. I am using Sprint Boot 3.0.2 and the GraalVm version 22.3.1. Adding the hibernate-graalvm dependency did not help either. When starting the native image I get the following error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory': Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n[...]\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Could not instantiate named strategy class [org.hibernate.dialect.DB2Dialect]\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:245) ~[na:na]\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:190) ~[na:na]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:96) ~[spinsample-maven-local-v1:6.1.7.Final]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:59) ~[spinsample-maven-local-v1:6.1.7.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:244) ~[na:na]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[na:na]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[na:na]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[spinsample-maven-local-v1:6.1.7.Final]\n        ... 32 common frames omitted\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Could not instantiate named dialect class [org.hibernate.dialect.DB2Dialect]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.lambda$constructDialect$0(DialectFactoryImpl.java:116) ~[spinsample-maven-local-v1:6.1.7.Final]\n        at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:241) ~[na:na]\n        ... 39 common frames omitted\nCaused by: java.lang.InstantiationException: org.hibernate.dialect.DB2Dialect\n        at java.base@17.0.6/java.lang.Class.newInstance(DynamicHub.java:639) ~[spinsample-maven-local-v1:na]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.lambda$constructDialect$0(DialectFactoryImpl.java:112) ~[spinsample-maven-local-v1:6.1.7.Final]\n        ... 40 common frames omitted\nCaused by: java.lang.NoSuchMethodException: org.hibernate.dialect.DB2Dialect.&lt;init&gt;()\n        at java.base@17.0.6/java.lang.Class.getConstructor0(DynamicHub.java:3585) ~[spinsample-maven-local-v1:na]\n        at java.base@17.0.6/java.lang.Class.newInstance(DynamicHub.java:626) ~[spinsample-maven-local-v1:na]\n        ... 41 common frames omitted\n</code></pre>\n<p>That is why I have tried to create a RuntimeHint. To my understanding, the class Db2Dialect has a protected constructor and can only be called via a member variable that acts as a singleton instance. And that's probably what I need to express with the RuntimeHint.</p>\n<pre><code>hints.reflection().registerType(Db2Dialect.class, MemberCategory.values());\nConstructor&lt;Db2Dialect&gt; cons = Db2Dialect.class.getDeclaredConstructor();\nhints.reflection().registerConstructor(cons, ExecutableMode.INVOKE);\n</code></pre>\n<p>But that didn't work for me and the documentation on RuntimeHints didn't help me either.</p>\n"},{"tags":["java","spring","apache-kafka","spring-cloud-stream"],"comments":[{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":0,"creation_date":1678695433,"post_id":75718833,"comment_id":133576393,"body_markdown":"I didn&#39;t use it before, but after looking into the class docs, I think for adding headers you should use `addHeadersFunction`\nhttps://docs.spring.io/spring-kafka/docs/current/api/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.html#addHeadersFunction(java.util.function.BiFunction)","body":"I didn&#39;t use it before, but after looking into the class docs, I think for adding headers you should use <code>addHeadersFunction</code> <a href=\"https://docs.spring.io/spring-kafka/docs/current/api/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.html#addHeadersFunction(java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":16895536,"reputation":11,"user_id":12218160,"display_name":"Yingjie Guan"},"score":0,"creation_date":1678697906,"post_id":75718833,"comment_id":133576966,"body_markdown":"thanks for you replay, I used it before, but not work,  I guess it&#39;s provided by kafka.retrytopic, so it&#39;s not work in spring cloud stream kafka","body":"thanks for you replay, I used it before, but not work,  I guess it&#39;s provided by kafka.retrytopic, so it&#39;s not work in spring cloud stream kafka"}],"answers":[{"tags":[],"owner":{"account_id":16895536,"reputation":11,"user_id":12218160,"display_name":"Yingjie Guan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678696826,"creation_date":1678696826,"answer_id":75719577,"question_id":75718833,"body_markdown":"I fix this issue by add this bean\r\n```\r\n  @Bean\r\n  ListenerContainerWithDlqAndRetryCustomizer cust(KafkaTemplate&lt;?, ?&gt; template) {\r\n    return new ListenerContainerWithDlqAndRetryCustomizer() {\r\n\r\n      @Override\r\n      public void configure(AbstractMessageListenerContainer&lt;?, ?&gt; container, String destinationName,\r\n                            String group,\r\n                            @Nullable BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, TopicPartition&gt; dlqDestinationResolver,\r\n                            @Nullable BackOff backOff) {\r\n\r\n          DeadLetterPublishingRecoverer dlpr = new DeadLetterPublishingRecoverer(template,\r\n              dlqDestinationResolver);\r\n          dlpr.setExceptionHeadersCreator((kafkaHeaders, exception, isKey, headerNames) -&gt; {\r\n            var exceptionType = getRootCauseExceptionType(exception);\r\n            kafkaHeaders.add(&quot;exception-type&quot;, exceptionType.getBytes());\r\n          });\r\n\r\n          container.setCommonErrorHandler(new DefaultErrorHandler(dlpr, backOff));\r\n\r\n      }\r\n\r\n      @Override\r\n      public boolean retryAndDlqInBinding(String destinationName, String group) {\r\n        return false;\r\n      }\r\n\r\n    };\r\n  }\r\n```","title":"add custom header when message publish to DLQ by spring cloud stream Kafka binder","body":"<p>I fix this issue by add this bean</p>\n<pre><code>  @Bean\n  ListenerContainerWithDlqAndRetryCustomizer cust(KafkaTemplate&lt;?, ?&gt; template) {\n    return new ListenerContainerWithDlqAndRetryCustomizer() {\n\n      @Override\n      public void configure(AbstractMessageListenerContainer&lt;?, ?&gt; container, String destinationName,\n                            String group,\n                            @Nullable BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, TopicPartition&gt; dlqDestinationResolver,\n                            @Nullable BackOff backOff) {\n\n          DeadLetterPublishingRecoverer dlpr = new DeadLetterPublishingRecoverer(template,\n              dlqDestinationResolver);\n          dlpr.setExceptionHeadersCreator((kafkaHeaders, exception, isKey, headerNames) -&gt; {\n            var exceptionType = getRootCauseExceptionType(exception);\n            kafkaHeaders.add(&quot;exception-type&quot;, exceptionType.getBytes());\n          });\n\n          container.setCommonErrorHandler(new DefaultErrorHandler(dlpr, backOff));\n\n      }\n\n      @Override\n      public boolean retryAndDlqInBinding(String destinationName, String group) {\n        return false;\n      }\n\n    };\n  }\n</code></pre>\n"}],"owner":{"account_id":16895536,"reputation":11,"user_id":12218160,"display_name":"Yingjie Guan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75719577,"answer_count":1,"score":0,"last_activity_date":1678696826,"creation_date":1678690916,"question_id":75718833,"body_markdown":"Background: when consume message failed and publish to DLQ, I would like to add the custom header , the header key is exception and value is the exception\r\n\r\nthis is my configuration\r\n```\r\nspring:\r\n  cloud:\r\n    function:\r\n      definition: numberConsumer\r\n    stream:\r\n      bindings:\r\n        numberProducer-out-0:\r\n          destination: first-topic\r\n        numberConsumer-in-0:\r\n          group: group\r\n          destination: first-topic\r\n      kafka:\r\n        bindings:\r\n          numberConsumer-in-0:\r\n            consumer:\r\n              standard-headers:\r\n              enableDlq: true\r\n              dlqName: dlq\r\n              dlq-partitions: 1\r\n```\r\n\r\nthis is my consumer\r\n```\r\n  @Bean\r\n  public Consumer&lt;String&gt; numberConsumer() {\r\n    return message -&gt; log.info(&quot;receive message : {}&quot;, message);\r\n  }\r\n\r\n```\r\n\r\nI try to use this way but not work,not sure what&#39;s wrong with my code?\r\n\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class KafkaConfiguration {\r\n\r\n  @Bean\r\n  public ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;String, String&gt;&gt; customizer(DefaultErrorHandler errorHandler) {\r\n    return (container, dest, group) -&gt; {\r\n      container.setCommonErrorHandler(errorHandler);\r\n    };\r\n  }\r\n\r\n  @Bean\r\n  public DefaultErrorHandler errorHandler(DeadLetterPublishingRecoverer deadLetterPublishingRecoverer) {\r\n    return new DefaultErrorHandler(deadLetterPublishingRecoverer);\r\n  }\r\n\r\n  @Bean\r\n  public DeadLetterPublishingRecoverer publisher(KafkaOperations template) {\r\n    DeadLetterPublishingRecoverer recover = new DeadLetterPublishingRecoverer(template);\r\n\r\n    recover.setExceptionHeadersCreator((kafkaHeaders, exception, isKey, headerNames) -&gt; {\r\n      var exceptionType = getRootCauseExceptionType(exception);\r\n      kafkaHeaders.add(&quot;exception-type&quot;, exceptionType.getBytes());\r\n    });\r\n    return recover;\r\n  }\r\n```\r\n\r\nI use the spring-cloud-stream-kafka version 4.0.1","title":"add custom header when message publish to DLQ by spring cloud stream Kafka binder","body":"<p>Background: when consume message failed and publish to DLQ, I would like to add the custom header , the header key is exception and value is the exception</p>\n<p>this is my configuration</p>\n<pre><code>spring:\n  cloud:\n    function:\n      definition: numberConsumer\n    stream:\n      bindings:\n        numberProducer-out-0:\n          destination: first-topic\n        numberConsumer-in-0:\n          group: group\n          destination: first-topic\n      kafka:\n        bindings:\n          numberConsumer-in-0:\n            consumer:\n              standard-headers:\n              enableDlq: true\n              dlqName: dlq\n              dlq-partitions: 1\n</code></pre>\n<p>this is my consumer</p>\n<pre><code>  @Bean\n  public Consumer&lt;String&gt; numberConsumer() {\n    return message -&gt; log.info(&quot;receive message : {}&quot;, message);\n  }\n\n</code></pre>\n<p>I try to use this way but not work,not sure what's wrong with my code?</p>\n<pre><code>@Configuration\n@Slf4j\npublic class KafkaConfiguration {\n\n  @Bean\n  public ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;String, String&gt;&gt; customizer(DefaultErrorHandler errorHandler) {\n    return (container, dest, group) -&gt; {\n      container.setCommonErrorHandler(errorHandler);\n    };\n  }\n\n  @Bean\n  public DefaultErrorHandler errorHandler(DeadLetterPublishingRecoverer deadLetterPublishingRecoverer) {\n    return new DefaultErrorHandler(deadLetterPublishingRecoverer);\n  }\n\n  @Bean\n  public DeadLetterPublishingRecoverer publisher(KafkaOperations template) {\n    DeadLetterPublishingRecoverer recover = new DeadLetterPublishingRecoverer(template);\n\n    recover.setExceptionHeadersCreator((kafkaHeaders, exception, isKey, headerNames) -&gt; {\n      var exceptionType = getRootCauseExceptionType(exception);\n      kafkaHeaders.add(&quot;exception-type&quot;, exceptionType.getBytes());\n    });\n    return recover;\n  }\n</code></pre>\n<p>I use the spring-cloud-stream-kafka version 4.0.1</p>\n"},{"tags":["java","postgresql","hibernate","jpa","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678696741,"creation_date":1678696741,"answer_id":75719566,"question_id":75664104,"body_markdown":"Yeah, it&#39;s pretty simple actually. You can use a join fetch in your HQL query:\r\n\r\n    select u from UserEntity u join fetch u.groups\r\n\r\nThis way, Hibernate will join and fetch along all the collection elements as part of a single query.\r\nOther possible alternatives are to use an entity graph, or a specialized HQL query e.g.\r\n\r\n    select u.id, string_agg(g.name, &quot;,&quot;) from UserEntity u join u.groups g group by u.id\r\n\r\nThat last query will select the user id and the comma separated list as string.","title":"Hibernate creates SELECT query for each lazy loaded element in @ManyToMany relationship","body":"<p>Yeah, it's pretty simple actually. You can use a join fetch in your HQL query:</p>\n<pre><code>select u from UserEntity u join fetch u.groups\n</code></pre>\n<p>This way, Hibernate will join and fetch along all the collection elements as part of a single query.\nOther possible alternatives are to use an entity graph, or a specialized HQL query e.g.</p>\n<pre><code>select u.id, string_agg(g.name, &quot;,&quot;) from UserEntity u join u.groups g group by u.id\n</code></pre>\n<p>That last query will select the user id and the comma separated list as string.</p>\n"}],"owner":{"account_id":22130669,"reputation":1,"user_id":16382256,"display_name":"beneken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678696741,"creation_date":1678203682,"question_id":75664104,"body_markdown":"I&#39;m working on a PostgreSQL table USERS with 50k entries. A USER can have one or more GROUPs. These two tables are joined using a joining table USER_GROUP (with user_id and group_id). The relationship is defined as:\r\n\r\n\r\n```\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name=&quot;user_group&quot;,\r\n            joinColumns={\r\n                    @JoinColumn(name=&quot;user_uid&quot;, referencedColumnName=&quot;user_uid&quot;)},\r\n            inverseJoinColumns={\r\n                    @JoinColumn(name=&quot;group_id&quot;, referencedColumnName=&quot;group_id&quot;)})\r\n    private Set&lt;GroupEntity&gt; groups = new HashSet&lt;&gt;();\r\n```\r\n\r\nOn the real database, very few users have an assigned group. In one use-case, I need to query all users and their respective groups. The group name needs to be stored in a String. I load the groups with : \r\n\r\n```\r\nString groups = userList.add(String.join(&quot;,&quot;, user.getGroups().stream().map(Group::getName)                                                                  .collect(Collectors.toList())));\r\n```\r\n\r\nThis query is extremely slow, as Hibernate creates a select query for each User. Is there any way to speed things up? Am I missing something? \r\n\r\nMy alternative approach would be to create a database view:\r\n\r\n\r\n```\r\nCREATE VIEW user_view AS SELECT user.user_id, group_names from user left outer join (select user_id, string_agg(group_name, &#39;,&#39;) group_names from user_group natural left join group GROUP BY user_id) AS g ON user.user_id = g.user_id;\r\n```\r\n\r\n\r\nIs there a way to do this efficiently with Hibernate? I&#39;m using Quarkus and Panache, but there is some Criteria code in place as well. \r\n\r\nI hope my example is easy to understand :)","title":"Hibernate creates SELECT query for each lazy loaded element in @ManyToMany relationship","body":"<p>I'm working on a PostgreSQL table USERS with 50k entries. A USER can have one or more GROUPs. These two tables are joined using a joining table USER_GROUP (with user_id and group_id). The relationship is defined as:</p>\n<pre><code>    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name=&quot;user_group&quot;,\n            joinColumns={\n                    @JoinColumn(name=&quot;user_uid&quot;, referencedColumnName=&quot;user_uid&quot;)},\n            inverseJoinColumns={\n                    @JoinColumn(name=&quot;group_id&quot;, referencedColumnName=&quot;group_id&quot;)})\n    private Set&lt;GroupEntity&gt; groups = new HashSet&lt;&gt;();\n</code></pre>\n<p>On the real database, very few users have an assigned group. In one use-case, I need to query all users and their respective groups. The group name needs to be stored in a String. I load the groups with :</p>\n<pre><code>String groups = userList.add(String.join(&quot;,&quot;, user.getGroups().stream().map(Group::getName)                                                                  .collect(Collectors.toList())));\n</code></pre>\n<p>This query is extremely slow, as Hibernate creates a select query for each User. Is there any way to speed things up? Am I missing something?</p>\n<p>My alternative approach would be to create a database view:</p>\n<pre><code>CREATE VIEW user_view AS SELECT user.user_id, group_names from user left outer join (select user_id, string_agg(group_name, ',') group_names from user_group natural left join group GROUP BY user_id) AS g ON user.user_id = g.user_id;\n</code></pre>\n<p>Is there a way to do this efficiently with Hibernate? I'm using Quarkus and Panache, but there is some Criteria code in place as well.</p>\n<p>I hope my example is easy to understand :)</p>\n"},{"tags":["java","spring","spring-boot","properties","spring-boot-test"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678697583,"post_id":75719541,"comment_id":133576875,"body_markdown":"Hi&amp;welcome! &quot;But, test code also use file_1 for setting.&quot; (I.m.o.) correct, they are &quot;combined/merged&quot;, where &quot;test&quot; has (higher) priority...","body":"Hi&amp;welcome! &quot;But, test code also use file_1 for setting.&quot; (I.m.o.) correct, they are &quot;combined/merged&quot;, where &quot;test&quot; has (higher) priority..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678697703,"post_id":75719541,"comment_id":133576901,"body_markdown":"Please explain: &quot;...VScode cannot apply&quot; (run/build config/terminal?)","body":"Please explain: &quot;...VScode cannot apply&quot; (run/build config/terminal?)"},{"owner":{"account_id":28003958,"reputation":1,"user_id":21387680,"display_name":"Lilac_P"},"score":0,"creation_date":1678698091,"post_id":75719541,"comment_id":133577021,"body_markdown":"@xerx593 I mean when i run test codes(which use beans in spring container) in VScode, i expected that spring boot uses &#39;src/test/resource/application.properties&#39; for settings(e.g. database connection setting, etc.). but it still uses &#39;src/main/resource/application.properties&#39; for settings.","body":"@xerx593 I mean when i run test codes(which use beans in spring container) in VScode, i expected that spring boot uses &#39;src/test/resource/application.properties&#39; for settings(e.g. database connection setting, etc.). but it still uses &#39;src/main/resource/application.properties&#39; for settings."},{"owner":{"account_id":28003958,"reputation":1,"user_id":21387680,"display_name":"Lilac_P"},"score":0,"creation_date":1678698281,"post_id":75719541,"comment_id":133577071,"body_markdown":"@xerx593 so, my question is why &#39;src/test/resource/application.properties&#39; is not used for springboot configuration of test code in VScode instead of &#39;src/main/resource/application.properties&#39;.","body":"@xerx593 so, my question is why &#39;src/test/resource/application.properties&#39; is not used for springboot configuration of test code in VScode instead of &#39;src/main/resource/application.properties&#39;."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678706076,"post_id":75719541,"comment_id":133579310,"body_markdown":"`src/test/resources` or &quot;resource&quot; ?(plural or singular?) plural is correct/important (in maven/gradle defaults)","body":"<code>src&#47;test&#47;resources</code> or &quot;resource&quot; ?(plural or singular?) plural is correct/important (in maven/gradle defaults)"},{"owner":{"account_id":28003958,"reputation":1,"user_id":21387680,"display_name":"Lilac_P"},"score":0,"creation_date":1678708413,"post_id":75719541,"comment_id":133579918,"body_markdown":"@xerx593 &#39;resources&#39; is right. If you make springboot project with spring initializr, it&#39;s a default structure of project directory.","body":"@xerx593 &#39;resources&#39; is right. If you make springboot project with spring initializr, it&#39;s a default structure of project directory."}],"owner":{"account_id":28003958,"reputation":1,"user_id":21387680,"display_name":"Lilac_P"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678696619,"creation_date":1678696542,"question_id":75719541,"body_markdown":"Currently I&#39;m using VScode for spring boot project. \r\n\r\nI have a problem with application.properties of my spring boot project.\r\n\r\nThere are two &#39;application.properties&#39; files in my project.\r\n\r\n- file_1. src/main/resources/application.properties\r\n- file_2. src/test/resources/application.properties\r\n\r\nIn file_1, there is &quot;spring.profiles.active=local&quot; + some other properties for setting,&lt;br&gt;\r\nIn file_2, there is &quot;spring.profiles.active=test&quot; + some other properties for setting.\r\n\r\n* test code is integrated with springframework for using spring container by @SpringBootTest annotation.\r\n\r\n\r\n\r\n\r\nI expected that file_1 is used for main code, and file_2 for test code.\r\nBut, test code also use file_1 for setting.\r\n\r\nFor IntelliJ, there&#39;s no problem for above situation. Then, Why VScode cannot apply application.properties for each context(main, test)?\r\n\r\nIs there any solution for this situation?\r\n\r\nP.S Using @ActiveProfiles is not working for my situation. It only changes logs.","title":"application.properties of Spring Boot project in VSCODE","body":"<p>Currently I'm using VScode for spring boot project.</p>\n<p>I have a problem with application.properties of my spring boot project.</p>\n<p>There are two 'application.properties' files in my project.</p>\n<ul>\n<li>file_1. src/main/resources/application.properties</li>\n<li>file_2. src/test/resources/application.properties</li>\n</ul>\n<p>In file_1, there is &quot;spring.profiles.active=local&quot; + some other properties for setting,<br>\nIn file_2, there is &quot;spring.profiles.active=test&quot; + some other properties for setting.</p>\n<ul>\n<li>test code is integrated with springframework for using spring container by @SpringBootTest annotation.</li>\n</ul>\n<p>I expected that file_1 is used for main code, and file_2 for test code.\nBut, test code also use file_1 for setting.</p>\n<p>For IntelliJ, there's no problem for above situation. Then, Why VScode cannot apply application.properties for each context(main, test)?</p>\n<p>Is there any solution for this situation?</p>\n<p>P.S Using @ActiveProfiles is not working for my situation. It only changes logs.</p>\n"},{"tags":["java","m4a","java-audio"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678696486,"post_id":75719472,"comment_id":133576623,"body_markdown":"https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java","body":"<a href=\"https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java\" title=\"check audio file duration in java\">stackoverflow.com/questions/33610055/&hellip;</a>"}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678696613,"creation_date":1678695923,"question_id":75719472,"body_markdown":"I want to get duration in millisecond of a m4a file in java, how to do this ?\r\n\r\nI tried code below\r\n\r\n```java\r\n    public static long getAudioLength(File file) throws IOException, UnsupportedAudioFileException {\r\n        AudioFileFormat fileFormat = AudioSystem.getAudioFileFormat(file);\r\n        long frames = fileFormat.getFrameLength();\r\n        float frameRate = fileFormat.getFormat().getFrameRate();\r\n        return (long) (frames / frameRate * 1000);\r\n    }\r\n\r\n```\r\nIt throws: \r\n```\r\njavax.sound.sampled.UnsupportedAudioFileException: File of unsupported format\r\n\tat java.desktop/javax.sound.sampled.AudioSystem.getAudioFileFormat(AudioSystem.java:980) ~[na:na]\r\n\tat getAudioLength(AudioUtils.java:17) ~[classes/:na]\r\n\r\n```\r\n\r\nI am using JDK 11\r\n\r\n---\r\n\r\nResult of `javax.sound.sampled.AudioSystem#getAudioFileReaders()`, seems JDK lacks of a suitable default reader.\r\n\r\n```\r\n[com.sun.media.sound.WaveExtensibleFileReader@75cf5965,\r\n com.sun.media.sound.WaveFloatFileReader@309ae93,\r\n com.sun.media.sound.WaveFileReader@727c801f,\r\n com.sun.media.sound.SoftMidiAudioFileReader@84d1378,\r\n com.sun.media.sound.AuFileReader@7c67765,\r\n com.sun.media.sound.AiffFileReader@49753c38]\r\n```","title":"How to get duration in millisecond of a m4a file in java?","body":"<p>I want to get duration in millisecond of a m4a file in java, how to do this ?</p>\n<p>I tried code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static long getAudioLength(File file) throws IOException, UnsupportedAudioFileException {\n        AudioFileFormat fileFormat = AudioSystem.getAudioFileFormat(file);\n        long frames = fileFormat.getFrameLength();\n        float frameRate = fileFormat.getFormat().getFrameRate();\n        return (long) (frames / frameRate * 1000);\n    }\n\n</code></pre>\n<p>It throws:</p>\n<pre><code>javax.sound.sampled.UnsupportedAudioFileException: File of unsupported format\n    at java.desktop/javax.sound.sampled.AudioSystem.getAudioFileFormat(AudioSystem.java:980) ~[na:na]\n    at getAudioLength(AudioUtils.java:17) ~[classes/:na]\n\n</code></pre>\n<p>I am using JDK 11</p>\n<hr />\n<p>Result of <code>javax.sound.sampled.AudioSystem#getAudioFileReaders()</code>, seems JDK lacks of a suitable default reader.</p>\n<pre><code>[com.sun.media.sound.WaveExtensibleFileReader@75cf5965,\n com.sun.media.sound.WaveFloatFileReader@309ae93,\n com.sun.media.sound.WaveFileReader@727c801f,\n com.sun.media.sound.SoftMidiAudioFileReader@84d1378,\n com.sun.media.sound.AuFileReader@7c67765,\n com.sun.media.sound.AiffFileReader@49753c38]\n</code></pre>\n"},{"tags":["java","c#","java-8","lambda"],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1427706281,"creation_date":1406886433,"answer_id":25077379,"question_id":25077270,"body_markdown":"There is **no exact** match in Java for the `.OfType&lt;T&gt;()` method, but you can use the Java8&#39;s filtering features:\r\n\r\n    IList&lt;INode&gt; myNodes = new ArrayList&lt;INode&gt;();\r\n    myNodes.add(new SpecificNode());\r\n    myNodes.add(new OtherNode());\r\n    \r\n    List&lt;SpecificNode&gt; filteredList = myNodes.stream()\r\n                                             .filter(x -&gt; x instanceof SpecificNode)\r\n                                             .map(n -&gt; (SpecificNode) n)\r\n                                             .collect(Collectors.toList());\r\n\r\n If you want to get of the explicit cast, you can do:\r\n\r\n    List&lt;SpecificNode&gt; filteredList = myNodes.stream()\r\n                                                 .filter(SpecificNode.class::isInstance)\r\n                                                 .map(SpecificNode.class::cast)\r\n                                                 .collect(Collectors.toList());","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>There is <strong>no exact</strong> match in Java for the <code>.OfType&lt;T&gt;()</code> method, but you can use the Java8's filtering features:</p>\n\n<pre><code>IList&lt;INode&gt; myNodes = new ArrayList&lt;INode&gt;();\nmyNodes.add(new SpecificNode());\nmyNodes.add(new OtherNode());\n\nList&lt;SpecificNode&gt; filteredList = myNodes.stream()\n                                         .filter(x -&gt; x instanceof SpecificNode)\n                                         .map(n -&gt; (SpecificNode) n)\n                                         .collect(Collectors.toList());\n</code></pre>\n\n<p>If you want to get of the explicit cast, you can do:</p>\n\n<pre><code>List&lt;SpecificNode&gt; filteredList = myNodes.stream()\n                                             .filter(SpecificNode.class::isInstance)\n                                             .map(SpecificNode.class::cast)\n                                             .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406892181,"creation_date":1406892181,"answer_id":25079183,"question_id":25077270,"body_markdown":"You can create a Function containing the Stream pipeline, which reduces its invocation.\r\n\r\n        Function&lt;List&lt;INode&gt;,List&lt;SpecificNode&gt;&gt; ofSub =\r\n           bl -&gt; bl.stream()\r\n                   .filter(x -&gt; x instanceof SpecificNode)\r\n                   .map(n -&gt; (SpecificNode) n)\r\n                   .collect(Collectors.toList());\r\n\r\nFor instance:\r\n\r\n        for( SpecificNode s: ofSub.apply( myNodes ) ){\r\n             //...\r\n        }\r\n","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>You can create a Function containing the Stream pipeline, which reduces its invocation.</p>\n\n<pre><code>    Function&lt;List&lt;INode&gt;,List&lt;SpecificNode&gt;&gt; ofSub =\n       bl -&gt; bl.stream()\n               .filter(x -&gt; x instanceof SpecificNode)\n               .map(n -&gt; (SpecificNode) n)\n               .collect(Collectors.toList());\n</code></pre>\n\n<p>For instance:</p>\n\n<pre><code>    for( SpecificNode s: ofSub.apply( myNodes ) ){\n         //...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8403,"reputation":8487,"user_id":15127,"accept_rate":97,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1409040543,"creation_date":1409034695,"answer_id":25499433,"question_id":25077270,"body_markdown":"I was having the same issue.  This is what I came up with, but since java doesn&#39;t do extension methods (maybe in 10 more years?), it is a static method.  This is using the stream API, though there isn&#39;t a particular reason you _must_ do that.  The same basic checks would work just fine in a `for` loop with a preallocated ArrayList.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;T&gt; List&lt;T&gt; ofType(Class&lt;?&gt; out, List&lt;Object&gt; list) {\r\n        return list.stream().filter(x -&gt; out.isAssignableFrom(x.getClass()))\r\n                   .map(x -&gt; (T) x) // unchecked\r\n                   .collect(Collectors.toList());\r\n    }\r\n\r\n    // fyi this code uses &quot;boon&quot; library\r\n    List&lt;Object&gt; objlist = list(&quot;ABC&quot;, 3, &quot;def&quot;, -30.39); \r\n    puts(&quot;strings=&quot;, ofType(String.class, objlist));  // strings= [ABC, def] \r\n    puts(&quot;integers=&quot;, ofType(Integer.class, objlist)); // integers= [3]\r\n\r\n\r\nHere is the version that doesn&#39;t use streams.  It works just the same, but some of the fun with streams is that ... you might be able to stream them, if thats your kind of thing.  I don&#39;t find it  useful very often except for helpers like this.\r\n\r\n    private static &lt;T&gt; List&lt;T&gt; ofType(Class&lt;?&gt; out, List&lt;Object&gt; list) {\r\n        List&lt;T&gt; outList = new ArrayList&lt;T&gt;(list.size());\r\n        for(Object o : list) {\r\n            if ( out.isAssignableFrom(o.getClass())) {\r\n                outList.add((T)o);\r\n            }\r\n        }\r\n        return outList;\r\n    }\r\n\r\n\r\n    ","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>I was having the same issue.  This is what I came up with, but since java doesn't do extension methods (maybe in 10 more years?), it is a static method.  This is using the stream API, though there isn't a particular reason you <em>must</em> do that.  The same basic checks would work just fine in a <code>for</code> loop with a preallocated ArrayList.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nprivate static &lt;T&gt; List&lt;T&gt; ofType(Class&lt;?&gt; out, List&lt;Object&gt; list) {\n    return list.stream().filter(x -&gt; out.isAssignableFrom(x.getClass()))\n               .map(x -&gt; (T) x) // unchecked\n               .collect(Collectors.toList());\n}\n\n// fyi this code uses \"boon\" library\nList&lt;Object&gt; objlist = list(\"ABC\", 3, \"def\", -30.39); \nputs(\"strings=\", ofType(String.class, objlist));  // strings= [ABC, def] \nputs(\"integers=\", ofType(Integer.class, objlist)); // integers= [3]\n</code></pre>\n\n<p>Here is the version that doesn't use streams.  It works just the same, but some of the fun with streams is that ... you might be able to stream them, if thats your kind of thing.  I don't find it  useful very often except for helpers like this.</p>\n\n<pre><code>private static &lt;T&gt; List&lt;T&gt; ofType(Class&lt;?&gt; out, List&lt;Object&gt; list) {\n    List&lt;T&gt; outList = new ArrayList&lt;T&gt;(list.size());\n    for(Object o : list) {\n        if ( out.isAssignableFrom(o.getClass())) {\n            outList.add((T)o);\n        }\n    }\n    return outList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516803398,"creation_date":1516803097,"answer_id":48424505,"question_id":25077270,"body_markdown":"Instead of first filtering and then mapping the stream to the desired target type, it is possible to do both in a single call to the stream via `flatMap` and this small helper function:\r\n\r\n    private static &lt;Target extends Base, Base&gt; Function&lt;Base, Stream&lt;Target&gt;&gt; ofType(Class&lt;Target&gt; targetType) {\r\n\t\treturn value -&gt; targetType.isInstance(value) ? Stream.of(targetType.cast(value)) : Stream.empty();\r\n\t}\r\n\r\nThis `Function` basically checks for a element if a cast is possible and then casts it, returning a stream with the single casted element or an empty stream if the cast was not possible.\r\n\r\n    Stream.of(1, 2, 3, &quot;Hallo&quot;, 4, 5, &quot;Welt&quot;)\r\n\t    .flatMap(ofType(String.class))\r\n\t\t.forEach(System.out::println);\r\n\r\nWith the help of a `flatMap` operation all returned streams can be  concatenated.\r\n\r\nI assume that a separated check and cast are easier to understand and maybe even faster in execution, this is just a prove of concept for a single stream operation.","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>Instead of first filtering and then mapping the stream to the desired target type, it is possible to do both in a single call to the stream via <code>flatMap</code> and this small helper function:</p>\n\n<pre><code>private static &lt;Target extends Base, Base&gt; Function&lt;Base, Stream&lt;Target&gt;&gt; ofType(Class&lt;Target&gt; targetType) {\n    return value -&gt; targetType.isInstance(value) ? Stream.of(targetType.cast(value)) : Stream.empty();\n}\n</code></pre>\n\n<p>This <code>Function</code> basically checks for a element if a cast is possible and then casts it, returning a stream with the single casted element or an empty stream if the cast was not possible.</p>\n\n<pre><code>Stream.of(1, 2, 3, \"Hallo\", 4, 5, \"Welt\")\n    .flatMap(ofType(String.class))\n    .forEach(System.out::println);\n</code></pre>\n\n<p>With the help of a <code>flatMap</code> operation all returned streams can be  concatenated.</p>\n\n<p>I assume that a separated check and cast are easier to understand and maybe even faster in execution, this is just a prove of concept for a single stream operation.</p>\n"},{"tags":[],"owner":{"account_id":18823,"reputation":12708,"user_id":43534,"accept_rate":68,"display_name":"Miral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678696379,"creation_date":1678696379,"answer_id":75719523,"question_id":25077270,"body_markdown":"FYI Java 16 introduces `mapMulti`, which is claimed to be faster than [the `flatMap` answer](https://stackoverflow.com/a/48424505/43534) in the Java docs, although at least one implementation internally calls `flatMap`, so I am somewhat dubious.  I have not tested its performance, but being a one-liner at point of use is attractive.\r\n\r\n```\r\nStream.of(1, 2, 3, &quot;Hallo&quot;, 4, 5, &quot;Welt&quot;)\r\n    .mapMulti(ofType(String.class))\r\n    .forEach(System.out::println);\r\n```\r\n\r\n```\r\npublic static &lt;T, U&gt; BiConsumer&lt;T, Consumer&lt;U&gt;&gt; ofType(final Class&lt;U&gt; clazz) {\r\n    return (obj, consumer) -&gt; {\r\n        if (clazz.isAssignableFrom(obj.getClass())) {\r\n            consumer.accept(clazz.cast(obj));\r\n        }\r\n    };\r\n}\r\n```","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>FYI Java 16 introduces <code>mapMulti</code>, which is claimed to be faster than <a href=\"https://stackoverflow.com/a/48424505/43534\">the <code>flatMap</code> answer</a> in the Java docs, although at least one implementation internally calls <code>flatMap</code>, so I am somewhat dubious.  I have not tested its performance, but being a one-liner at point of use is attractive.</p>\n<pre><code>Stream.of(1, 2, 3, &quot;Hallo&quot;, 4, 5, &quot;Welt&quot;)\n    .mapMulti(ofType(String.class))\n    .forEach(System.out::println);\n</code></pre>\n<pre><code>public static &lt;T, U&gt; BiConsumer&lt;T, Consumer&lt;U&gt;&gt; ofType(final Class&lt;U&gt; clazz) {\n    return (obj, consumer) -&gt; {\n        if (clazz.isAssignableFrom(obj.getClass())) {\n            consumer.accept(clazz.cast(obj));\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":1024781,"reputation":621,"user_id":1034343,"accept_rate":63,"display_name":"Petr Osipov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2925,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":25077379,"answer_count":5,"score":15,"last_activity_date":1678696379,"creation_date":1406886087,"question_id":25077270,"body_markdown":"I am learning the new java 8 features now, after 4 years exclusively in C# world, so lambdas are on top for me. I am now struggling to find an equivalent for C#&#39;s &quot;OfType&quot; method.\r\n\r\nWhat I have is a List&lt;Node&gt; myNodes , I want to get a List&lt;SpecificNode&gt; out of it, where Node is an interface, and SpecificNode is implementing it. \r\n\r\nIn C# it would be\r\n\r\n    IList&lt;INode&gt; myNodes = new List&lt;INodes&gt;(){new SpecificNode(), new OtherNode()}\r\n    IList&lt;SpecificNode&gt; specificNodes = myNodes.OfType&lt;SpecificNode&gt;()","title":"Java 8 Lambdas - equivalent of c# OfType","body":"<p>I am learning the new java 8 features now, after 4 years exclusively in C# world, so lambdas are on top for me. I am now struggling to find an equivalent for C#'s \"OfType\" method.</p>\n\n<p>What I have is a List myNodes , I want to get a List out of it, where Node is an interface, and SpecificNode is implementing it. </p>\n\n<p>In C# it would be</p>\n\n<pre><code>IList&lt;INode&gt; myNodes = new List&lt;INodes&gt;(){new SpecificNode(), new OtherNode()}\nIList&lt;SpecificNode&gt; specificNodes = myNodes.OfType&lt;SpecificNode&gt;()\n</code></pre>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678694357,"post_id":75719239,"comment_id":133576167,"body_markdown":"in order to have more than one bean for a single type: use Qualifier. to choose between them you can always implement a Factory pattern","body":"in order to have more than one bean for a single type: use Qualifier. to choose between them you can always implement a Factory pattern"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678694421,"post_id":75719239,"comment_id":133576183,"body_markdown":"@Stultuske - while this is true, you can&#39;t use it if you want to do it dynamically at runtime.","body":"@Stultuske - while this is true, you can&#39;t use it if you want to do it dynamically at runtime."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678697937,"post_id":75719239,"comment_id":133576977,"body_markdown":"The post construct is the wrong place to do this, instead use an `ApplicationContextInitializer`. Finally you shouldn&#39;t be adding bean instances but register `BeanDefinition` instances, so that Spring will create the beans for you. You can use the `registerBeanDefinition` method for this.","body":"The post construct is the wrong place to do this, instead use an <code>ApplicationContextInitializer</code>. Finally you shouldn&#39;t be adding bean instances but register <code>BeanDefinition</code> instances, so that Spring will create the beans for you. You can use the <code>registerBeanDefinition</code> method for this."}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678695118,"creation_date":1678695118,"answer_id":75719359,"question_id":75719239,"body_markdown":"Maybe there is a better way to do it, but how I&#39;ve done it up to now is by creating a `MyClassProxy` and creating a bean of that. Something like this:\r\n\r\n```\r\npublic class MyClassProxy extends MyClass {\r\n\r\n  private final List&lt;MyClass&gt; impls;\r\n\r\n  public MyClassProxy(List&lt;MyClass&gt; impls) {\r\n    super(&quot;proxy-instance&quot;);\r\n    this.impls = impls;\r\n  }\r\n\r\n  public doSomething() {\r\n     //... pick correct impl and delegate to it.\r\n  }\r\n}\r\n```\r\n\r\nThen you can register only one bean (this proxy) and use this where needed.\r\n\r\nImplementation details can vary depending on your use case. For example the proxy itself might not extend `MyClass`. It depends.","title":"How to dynamically register multiple beans of the same class in spring","body":"<p>Maybe there is a better way to do it, but how I've done it up to now is by creating a <code>MyClassProxy</code> and creating a bean of that. Something like this:</p>\n<pre><code>public class MyClassProxy extends MyClass {\n\n  private final List&lt;MyClass&gt; impls;\n\n  public MyClassProxy(List&lt;MyClass&gt; impls) {\n    super(&quot;proxy-instance&quot;);\n    this.impls = impls;\n  }\n\n  public doSomething() {\n     //... pick correct impl and delegate to it.\n  }\n}\n</code></pre>\n<p>Then you can register only one bean (this proxy) and use this where needed.</p>\n<p>Implementation details can vary depending on your use case. For example the proxy itself might not extend <code>MyClass</code>. It depends.</p>\n"},{"tags":[],"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678696253,"creation_date":1678696253,"answer_id":75719511,"question_id":75719239,"body_markdown":"Maybe we can try BeanFactoryPostProcessor, Where we can define bean names separately\r\n    \r\n    @Component\r\n    public class MyClassService implements BeanFactoryPostProcessor {\r\n\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) \r\n    {\r\n\r\n     BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\r\n     \r\n     registry.registerBeanDefinition(&quot;MyClass1&quot;, BeanDefinitionBuilder\r\n           .genericBeanDefinition(MyClass.class)\r\n           . getBeanDefinition();\r\n\r\n     registry.registerBeanDefinition(&quot;MyClass2&quot;, BeanDefinitionBuilder\r\n           .genericBeanDefinition(MyClass.class)\r\n           . getBeanDefinition();\r\n    }\r\n\r\n\r\n    }","title":"How to dynamically register multiple beans of the same class in spring","body":"<p>Maybe we can try BeanFactoryPostProcessor, Where we can define bean names separately</p>\n<pre><code>@Component\npublic class MyClassService implements BeanFactoryPostProcessor {\n\n@Override\npublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) \n{\n\n BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\n \n registry.registerBeanDefinition(&quot;MyClass1&quot;, BeanDefinitionBuilder\n       .genericBeanDefinition(MyClass.class)\n       . getBeanDefinition();\n\n registry.registerBeanDefinition(&quot;MyClass2&quot;, BeanDefinitionBuilder\n       .genericBeanDefinition(MyClass.class)\n       . getBeanDefinition();\n}\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75719511,"answer_count":2,"score":0,"last_activity_date":1678696253,"creation_date":1678694173,"question_id":75719239,"body_markdown":"I have a spring boot application in which I work with multiple beans of the same class (or interface). Usually I would do it like this:\r\n\r\n    public class MyClass {\r\n      private final String id;\r\n      \r\n      public MyClass(String id) {\r\n        this.id = id;\r\n      }\r\n    }\r\n    \r\n    @Configuration\r\n    public class Config {\r\n      \r\n      @Bean\r\n      public MyClass bean1() {\r\n        return new MyClass(&quot;some-id&quot;);\r\n      }\r\n    \r\n      @Bean\r\n      public MyClass bean2() {\r\n        return new MyClass(&quot;other-id&quot;);\r\n      }\r\n    }\r\n\r\nBut now I create those beans from json files on the classpath, so I have to create them dynamically. First approach was to simply use a ```List&lt;MyClass&gt;``` like this:\r\n\r\n    @Bean\r\n    public List&lt;MyClass&gt; beans() {\r\n      List&lt;MyClass&gt; instances = createInstancesFromClasspath();\r\n      return instances;\r\n    }\r\n\r\nHowever this registers the beans under the ```List``` interface, while creating separate beans registers multiple beans und the ```MyClass``` class.\r\nThis will work when injecting via ```@Autowired``` but i will cause problems when using\r\n\r\n    applicationContext.getBeansOfType(MyClass.class);\r\n\r\nbecause I would have to use List.class which is not very helpful because it&#39;s too generic.\r\n\r\nSo next I tried this:\r\n\r\n    @PostConstruct\r\n    public registerBeans() {\r\n      List&lt;MyClass&gt; instances = createInstancesFromClasspath();\r\n      for(MyClass instance : instances) {\r\n        applicationContext.registerBean(MyClass.class, () -&gt; instance);\r\n      }\r\n    }\r\n\r\nBut this throws an exception as soon as it gets to the second instance. So my question is how can I register a second bean for the same class? It has to be possible because it works when using annotations, so I feel I&#39;m just not using the right method.","title":"How to dynamically register multiple beans of the same class in spring","body":"<p>I have a spring boot application in which I work with multiple beans of the same class (or interface). Usually I would do it like this:</p>\n<pre><code>public class MyClass {\n  private final String id;\n  \n  public MyClass(String id) {\n    this.id = id;\n  }\n}\n\n@Configuration\npublic class Config {\n  \n  @Bean\n  public MyClass bean1() {\n    return new MyClass(&quot;some-id&quot;);\n  }\n\n  @Bean\n  public MyClass bean2() {\n    return new MyClass(&quot;other-id&quot;);\n  }\n}\n</code></pre>\n<p>But now I create those beans from json files on the classpath, so I have to create them dynamically. First approach was to simply use a <code>List&lt;MyClass&gt;</code> like this:</p>\n<pre><code>@Bean\npublic List&lt;MyClass&gt; beans() {\n  List&lt;MyClass&gt; instances = createInstancesFromClasspath();\n  return instances;\n}\n</code></pre>\n<p>However this registers the beans under the <code>List</code> interface, while creating separate beans registers multiple beans und the <code>MyClass</code> class.\nThis will work when injecting via <code>@Autowired</code> but i will cause problems when using</p>\n<pre><code>applicationContext.getBeansOfType(MyClass.class);\n</code></pre>\n<p>because I would have to use List.class which is not very helpful because it's too generic.</p>\n<p>So next I tried this:</p>\n<pre><code>@PostConstruct\npublic registerBeans() {\n  List&lt;MyClass&gt; instances = createInstancesFromClasspath();\n  for(MyClass instance : instances) {\n    applicationContext.registerBean(MyClass.class, () -&gt; instance);\n  }\n}\n</code></pre>\n<p>But this throws an exception as soon as it gets to the second instance. So my question is how can I register a second bean for the same class? It has to be possible because it works when using annotations, so I feel I'm just not using the right method.</p>\n"},{"tags":["java","spring-boot","maven","liquibase","vaadin-flow"],"comments":[{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1678706487,"post_id":75719369,"comment_id":133579415,"body_markdown":"(a) in multi-module project dependency management section should be declared in the root pom.xml. (b) declare fixed version `&lt;version&gt;[4.18.0]&lt;/version&gt;` in dependency management section and skip version declaration in child projects.","body":"(a) in multi-module project dependency management section should be declared in the root pom.xml. (b) declare fixed version <code>&lt;version&gt;[4.18.0]&lt;&#47;version&gt;</code> in dependency management section and skip version declaration in child projects."},{"owner":{"account_id":2525081,"reputation":1,"user_id":2194608,"display_name":"Szyu"},"score":0,"creation_date":1678709657,"post_id":75719369,"comment_id":133580280,"body_markdown":"(A) is my root project and it&#39;s the only pom where dependencyManagement is declared.\nI only tried to declare the version in the other poms because of the weird behaviour I described above.","body":"(A) is my root project and it&#39;s the only pom where dependencyManagement is declared. I only tried to declare the version in the other poms because of the weird behaviour I described above."}],"owner":{"account_id":2525081,"reputation":1,"user_id":2194608,"display_name":"Szyu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678695174,"creation_date":1678695174,"question_id":75719369,"body_markdown":"I&#39;ve got a multi-module project set up using maven and Spring Boot. For database migration I&#39;m using Liquibase, but not the Spring Boot integration. I specify my changelogs in code and update the database using new Liquibase().update().\r\n\r\n\r\n```\r\nLiquibase l = new Liquibase(changelogPath, accessor, database);\r\n    l.validate();\r\n    l.update(new Contexts());\r\n```\r\n\r\n    \r\nMy multi-module project ist structured like this:\r\n- parent project (A): specifies dependencies inside &lt;dependencyManagement&gt;\r\n- core (B): sub module of A with some code\r\n- application (C): seperate project, that has B as a dependency\r\n\r\nInside A, I have the following dependency management:\r\n\r\n    \r\n```\r\n&lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.24&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.18.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\n\r\n\r\nHowever, when starting C, I get the exception:\r\n\r\n```\r\nliquibase.exception.ChangeLogParseException: liquibase.parser.core.xml.XSDLookUpException: Unable to resolve xml entity http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd locally\r\n```\r\n\r\n\r\nAfter some research, that seems to be the case with liquibase versions lower that 4.12.0. So I checked my dependency tree for project C with IntelliJ tools and found out, that for some reason, C is getting liquibase in version 4.9.1 via dependency of module B and I have no clue why. I also tried to specify version 4.18.0 inside B with no success. When also declaring the version for project C, I get something even weirder:\r\n\r\n[Dependency Analyzer for C](https://i.stack.imgur.com/ZEgLD.png)\r\n\r\n[POM in module B](https://i.stack.imgur.com/6uct9.png)\r\n\r\n[Dependency tree of B inside A](https://i.stack.imgur.com/c4vNW.png)\r\n\r\nHas anyone else had this problem and can provide some inside and solution?\r\n","title":"Dependency version not correct in multi-module project","body":"<p>I've got a multi-module project set up using maven and Spring Boot. For database migration I'm using Liquibase, but not the Spring Boot integration. I specify my changelogs in code and update the database using new Liquibase().update().</p>\n<pre><code>Liquibase l = new Liquibase(changelogPath, accessor, database);\n    l.validate();\n    l.update(new Contexts());\n</code></pre>\n<p>My multi-module project ist structured like this:</p>\n<ul>\n<li>parent project (A): specifies dependencies inside </li>\n<li>core (B): sub module of A with some code</li>\n<li>application (C): seperate project, that has B as a dependency</li>\n</ul>\n<p>Inside A, I have the following dependency management:</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.24&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n                &lt;version&gt;4.18.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>However, when starting C, I get the exception:</p>\n<pre><code>liquibase.exception.ChangeLogParseException: liquibase.parser.core.xml.XSDLookUpException: Unable to resolve xml entity http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd locally\n</code></pre>\n<p>After some research, that seems to be the case with liquibase versions lower that 4.12.0. So I checked my dependency tree for project C with IntelliJ tools and found out, that for some reason, C is getting liquibase in version 4.9.1 via dependency of module B and I have no clue why. I also tried to specify version 4.18.0 inside B with no success. When also declaring the version for project C, I get something even weirder:</p>\n<p><a href=\"https://i.stack.imgur.com/ZEgLD.png\" rel=\"nofollow noreferrer\">Dependency Analyzer for C</a></p>\n<p><a href=\"https://i.stack.imgur.com/6uct9.png\" rel=\"nofollow noreferrer\">POM in module B</a></p>\n<p><a href=\"https://i.stack.imgur.com/c4vNW.png\" rel=\"nofollow noreferrer\">Dependency tree of B inside A</a></p>\n<p>Has anyone else had this problem and can provide some inside and solution?</p>\n"},{"tags":["java","java-11","timezone-offset","tzdata"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1675677404,"post_id":75359690,"comment_id":132973333,"body_markdown":"On OpenJDK 17, I get the expected output.","body":"On OpenJDK 17, I get the expected output."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675677633,"post_id":75359690,"comment_id":132973418,"body_markdown":"@Sweeper Which exact version? This might very well have to do with timezone DB changes, which can vary by point release (e.g. I have the &quot;wrong&quot; output with Temurin 17.0.6.10).","body":"@Sweeper Which exact version? This might very well have to do with timezone DB changes, which can vary by point release (e.g. I have the &quot;wrong&quot; output with Temurin 17.0.6.10)."},{"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"score":1,"creation_date":1675677813,"post_id":75359690,"comment_id":132973475,"body_markdown":"Timezone database versions per JDK version: https://www.oracle.com/java/technologies/tzdata-versions.html","body":"Timezone database versions per JDK version: <a href=\"https://www.oracle.com/java/technologies/tzdata-versions.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/tzdata-versions.html</a>"},{"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"score":0,"creation_date":1675681022,"post_id":75359690,"comment_id":132974471,"body_markdown":"@OleV.V. The thing here though is that a *newer* version of the JDK, and the timezone database are giving different behaviour.","body":"@OleV.V. The thing here though is that a <i>newer</i> version of the JDK, and the timezone database are giving different behaviour."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1675682012,"post_id":75359690,"comment_id":132974723,"body_markdown":"I checked a few versions of the tzdb and found that the amsterdam zone got moved from the europe file to the backzone file. Other than that, I couldn&#39;t find any significant changes on the versions I checked (all 2020a+). It might be helpful if you can [specify what version of tzdb you are using.](https://stackoverflow.com/a/41775223/5133585)","body":"I checked a few versions of the tzdb and found that the amsterdam zone got moved from the europe file to the backzone file. Other than that, I couldn&#39;t find any significant changes on the versions I checked (all 2020a+). It might be helpful if you can <a href=\"https://stackoverflow.com/a/41775223/5133585\">specify what version of tzdb you are using.</a>"},{"owner":{"account_id":27714745,"reputation":163,"user_id":21156710,"display_name":"Bastiaan Sanders"},"score":0,"creation_date":1675684165,"post_id":75359690,"comment_id":132975305,"body_markdown":"@Sweeper, I&#39;ve edited the question with extra information regarding timezone database versions.","body":"@Sweeper, I&#39;ve edited the question with extra information regarding timezone database versions."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1675685029,"post_id":75359690,"comment_id":132975545,"body_markdown":"Okay, I found it. It is [this line in this commit](https://github.com/eggert/tz/commit/0b925f6d8aaf927ac20049ae0ff3b527684b60c7#diff-b11f203e8e6ce90d0ab5a01a37ac248669987afb2a50fe0224fa8b8c5c985a73R964). They basically made Amsterdam an alias of Brussels because they share the same times post-1970. 2022b was the first version this change was applied to, it seems.","body":"Okay, I found it. It is <a href=\"https://github.com/eggert/tz/commit/0b925f6d8aaf927ac20049ae0ff3b527684b60c7#diff-b11f203e8e6ce90d0ab5a01a37ac248669987afb2a50fe0224fa8b8c5c985a73R964\" rel=\"nofollow noreferrer\">this line in this commit</a>. They basically made Amsterdam an alias of Brussels because they share the same times post-1970. 2022b was the first version this change was applied to, it seems."},{"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"score":0,"creation_date":1675685315,"post_id":75359690,"comment_id":132975625,"body_markdown":"@Sweeper We (I&#39;m a colleague of Bastiaan) suspected that that change might be relevant, but I figured that the move of that data to `backzone` was just administrative; not that it would actually change behaviour downstream! It seems like rather an impactful thing if it is.","body":"@Sweeper We (I&#39;m a colleague of Bastiaan) suspected that that change might be relevant, but I figured that the move of that data to <code>backzone</code> was just administrative; not that it would actually change behaviour downstream! It seems like rather an impactful thing if it is."},{"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"score":1,"creation_date":1675685827,"post_id":75359690,"comment_id":132975769,"body_markdown":"I&#39;ve found a related issue thread for the Corretto JDK here: https://github.com/corretto/corretto-17/issues/100","body":"I&#39;ve found a related issue thread for the Corretto JDK here: <a href=\"https://github.com/corretto/corretto-17/issues/100\" rel=\"nofollow noreferrer\">github.com/corretto/corretto-17/issues/100</a>"}],"answers":[{"tags":[],"owner":{"account_id":1804401,"reputation":1448,"user_id":1641860,"display_name":"JeroenHoek"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1678694968,"creation_date":1675686664,"answer_id":75361346,"question_id":75359690,"body_markdown":"*Disclaimer: I&#39;m a colleague of OP. This issue has half the office baffled.*\r\n\r\nHelped along by comments by @Sweeper below the question, I think we&#39;ve found the cause.\r\n\r\n# Background\r\n\r\nThe venerable Timezone Database [did some housecleaning](https://github.com/eggert/tz/commit/0b925f6d8aaf927ac20049ae0ff3b527684b60c7#diff-b11f203e8e6ce90d0ab5a01a37ac248669987afb2a50fe0224fa8b8c5c985a73R964) in 2022, and archived a lot of pre-1970 timezone data in their `backzone` file for version `2022b`. This allowed them to merge, for example, `Europe/Brussels` and `Europe/Amsterdam` in the leaner post-1970 database (because after 1970, these are in fact equal).\r\n\r\nThey also introduced a special option (`PACKRATLIST`) for building the timezone database **with** the historic timezones intact.\r\n\r\nOpenJDK updated to the new version of the Timezone Database, but chose to use the version without historical data, and subsequently, [some developers noticed things breaking](https://github.com/corretto/corretto-17/issues/100).\r\n\r\n[The relevant OpenJDK bug](https://bugs.openjdk.org/browse/JDK-8292223) however currently lists supporting the `backzone` as **won&#39;t fix**. \r\n\r\n# Affected JDK&#39;s\r\n\r\n* Java 11 from 11.0.17 onwards.\r\n* Java 17 from 17.0.5 onwards.\r\n\r\n# Possible solutions\r\n\r\n* Perhaps newer JDK&#39;s will fix this after all? [Unknown at this moment.](https://bugs.openjdk.org/browse/JDK-8303899)\r\n* Alternatively, use the newer JDK&#39;s, but apply [this workaround](https://github.com/corretto/corretto-17/issues/100#issuecomment-1287485126) to install an older version (`2022a`) of the Timezone Database instead.\r\n* Or, rewrite all code that depends on this historical data, possibly by hardcoding the relevant timezone offsets if it is a limited set.","title":"Historic timezone offsets in newer JDK versions","body":"<p><em>Disclaimer: I'm a colleague of OP. This issue has half the office baffled.</em></p>\n<p>Helped along by comments by @Sweeper below the question, I think we've found the cause.</p>\n<h1>Background</h1>\n<p>The venerable Timezone Database <a href=\"https://github.com/eggert/tz/commit/0b925f6d8aaf927ac20049ae0ff3b527684b60c7#diff-b11f203e8e6ce90d0ab5a01a37ac248669987afb2a50fe0224fa8b8c5c985a73R964\" rel=\"nofollow noreferrer\">did some housecleaning</a> in 2022, and archived a lot of pre-1970 timezone data in their <code>backzone</code> file for version <code>2022b</code>. This allowed them to merge, for example, <code>Europe/Brussels</code> and <code>Europe/Amsterdam</code> in the leaner post-1970 database (because after 1970, these are in fact equal).</p>\n<p>They also introduced a special option (<code>PACKRATLIST</code>) for building the timezone database <strong>with</strong> the historic timezones intact.</p>\n<p>OpenJDK updated to the new version of the Timezone Database, but chose to use the version without historical data, and subsequently, <a href=\"https://github.com/corretto/corretto-17/issues/100\" rel=\"nofollow noreferrer\">some developers noticed things breaking</a>.</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8292223\" rel=\"nofollow noreferrer\">The relevant OpenJDK bug</a> however currently lists supporting the <code>backzone</code> as <strong>won't fix</strong>.</p>\n<h1>Affected JDK's</h1>\n<ul>\n<li>Java 11 from 11.0.17 onwards.</li>\n<li>Java 17 from 17.0.5 onwards.</li>\n</ul>\n<h1>Possible solutions</h1>\n<ul>\n<li>Perhaps newer JDK's will fix this after all? <a href=\"https://bugs.openjdk.org/browse/JDK-8303899\" rel=\"nofollow noreferrer\">Unknown at this moment.</a></li>\n<li>Alternatively, use the newer JDK's, but apply <a href=\"https://github.com/corretto/corretto-17/issues/100#issuecomment-1287485126\" rel=\"nofollow noreferrer\">this workaround</a> to install an older version (<code>2022a</code>) of the Timezone Database instead.</li>\n<li>Or, rewrite all code that depends on this historical data, possibly by hardcoding the relevant timezone offsets if it is a limited set.</li>\n</ul>\n"}],"owner":{"account_id":27714745,"reputation":163,"user_id":21156710,"display_name":"Bastiaan Sanders"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":75361346,"answer_count":1,"score":16,"last_activity_date":1678694968,"creation_date":1675676935,"question_id":75359690,"body_markdown":"I found a weird java discrepancy while testing some timezones with the use of `ZonedDateTime`. I was trying to parse a date before 1970 and saw that the result changes between java versions. The offset for Netherlands in 1932 is `+00:19`. Does anyone know why this happens? I feel this might be related with the bundling of european timezones in the time zone database project (https://github.com/eggert/tz), but i&#39;m not sure. Is there a way to get the old behavior in java? Like with a setting?\r\n\r\n\r\n```java\r\n\r\nZonedDateTime zdt = LocalDateTime.parse(&quot;1932-10-20T10:19:32.000&quot;).atZone(ZoneId.of(&quot;Europe/Amsterdam&quot;));\r\nSystem.out.println(zdt);\r\n    \r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .append(ISO_LOCAL_DATE)\r\n    .appendLiteral(&#39;T&#39;)\r\n    .appendValue(HOUR_OF_DAY, 2)\r\n    .appendLiteral(&#39;:&#39;)\r\n    .appendValue(MINUTE_OF_HOUR, 2)\r\n    .optionalStart()\r\n    .appendLiteral(&#39;:&#39;)\r\n    .appendValue(SECOND_OF_MINUTE, 2)\r\n    .optionalStart()\r\n    .appendFraction(NANO_OF_SECOND, 3, 3, true)\r\n    .appendOffset(&quot;+HH:MM&quot;, &quot;Z&quot;)\r\n    .toFormatter();\r\n\r\nSystem.out.println(formatter.format(zdt));\r\n\r\nSystem.out.println(\r\n    java.time.zone.ZoneRulesProvider\r\n                  .getVersions(&quot;UTC&quot;)\r\n                  .lastEntry()\r\n                  .getKey()\r\n);\r\n```\r\n\r\nResult in Temurin (java jdk) 11.0.16 (expected output), last line showing timezone database version:\r\n\r\n```\r\n1932-10-20T10:19:32+00:19:32[Europe/Amsterdam]\r\n1932-10-20T10:19:32.000+00:19\r\n2022a\r\n```\r\n\r\nResult in Temurin 11.0.17:\r\n\r\n```\r\n1932-10-20T10:19:32Z[Europe/Amsterdam]\r\n1932-10-20T10:19:32.000Z\r\n2022c\r\n```\r\n\r\n**Edit**: Also an issue in JDK 17 starting from 17.0.5:\r\n\r\nTemurin 17.0.4:\r\n\r\n```\r\n1932-10-20T10:19:32+00:19:32[Europe/Amsterdam]\r\n1932-10-20T10:19:32.000+00:19\r\n2022a\r\n```\r\n\r\nTemurin 17.0.5:\r\n\r\n```\r\n1932-10-20T10:19:32Z[Europe/Amsterdam]\r\n1932-10-20T10:19:32.000Z\r\n2022c\r\n```","title":"Historic timezone offsets in newer JDK versions","body":"<p>I found a weird java discrepancy while testing some timezones with the use of <code>ZonedDateTime</code>. I was trying to parse a date before 1970 and saw that the result changes between java versions. The offset for Netherlands in 1932 is <code>+00:19</code>. Does anyone know why this happens? I feel this might be related with the bundling of european timezones in the time zone database project (<a href=\"https://github.com/eggert/tz\" rel=\"noreferrer\">https://github.com/eggert/tz</a>), but i'm not sure. Is there a way to get the old behavior in java? Like with a setting?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nZonedDateTime zdt = LocalDateTime.parse(&quot;1932-10-20T10:19:32.000&quot;).atZone(ZoneId.of(&quot;Europe/Amsterdam&quot;));\nSystem.out.println(zdt);\n    \nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .append(ISO_LOCAL_DATE)\n    .appendLiteral('T')\n    .appendValue(HOUR_OF_DAY, 2)\n    .appendLiteral(':')\n    .appendValue(MINUTE_OF_HOUR, 2)\n    .optionalStart()\n    .appendLiteral(':')\n    .appendValue(SECOND_OF_MINUTE, 2)\n    .optionalStart()\n    .appendFraction(NANO_OF_SECOND, 3, 3, true)\n    .appendOffset(&quot;+HH:MM&quot;, &quot;Z&quot;)\n    .toFormatter();\n\nSystem.out.println(formatter.format(zdt));\n\nSystem.out.println(\n    java.time.zone.ZoneRulesProvider\n                  .getVersions(&quot;UTC&quot;)\n                  .lastEntry()\n                  .getKey()\n);\n</code></pre>\n<p>Result in Temurin (java jdk) 11.0.16 (expected output), last line showing timezone database version:</p>\n<pre><code>1932-10-20T10:19:32+00:19:32[Europe/Amsterdam]\n1932-10-20T10:19:32.000+00:19\n2022a\n</code></pre>\n<p>Result in Temurin 11.0.17:</p>\n<pre><code>1932-10-20T10:19:32Z[Europe/Amsterdam]\n1932-10-20T10:19:32.000Z\n2022c\n</code></pre>\n<p><strong>Edit</strong>: Also an issue in JDK 17 starting from 17.0.5:</p>\n<p>Temurin 17.0.4:</p>\n<pre><code>1932-10-20T10:19:32+00:19:32[Europe/Amsterdam]\n1932-10-20T10:19:32.000+00:19\n2022a\n</code></pre>\n<p>Temurin 17.0.5:</p>\n<pre><code>1932-10-20T10:19:32Z[Europe/Amsterdam]\n1932-10-20T10:19:32.000Z\n2022c\n</code></pre>\n"},{"tags":["java","android","java-native-interface","android-runonuithread"],"answers":[{"tags":[],"owner":{"account_id":21752129,"reputation":111,"user_id":16057905,"display_name":"Byte Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678694943,"creation_date":1678694943,"answer_id":75719339,"question_id":75693705,"body_markdown":"Try putting some delay beetween requestFocus and showKeyboard functions. I had the same problem before and it worked for me.","title":"runOnUIThread on android is unable to setfocus on the EditText and show soft keyboard","body":"<p>Try putting some delay beetween requestFocus and showKeyboard functions. I had the same problem before and it worked for me.</p>\n"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678694943,"creation_date":1678436471,"question_id":75693705,"body_markdown":"In my android application, the core logic is written in C++. Hence, for multiple scenarios, there will be JNI calls happening.\r\n\r\nIn one use-case, as the text is being entered by the user in the &#39;EditText&#39;, I call a JNI method which will capitalize each word (the logic and hence the outcome can vary from case to case).\r\n\r\nThe TextChange handler calls a JNI function which will capitalize each word in the text in a worker thread and then invoke a method on the main thread using &#39;runOnUIThread&#39; to update the text field&#39;s value. My expectation is this should happen seamlessly and should not hamper the way the user is interacting.\r\n\r\nCode Samples:\r\n\r\nCalling of the JNI function-\r\n\r\n```\r\nedittext.addTextChangedListener(new TextWatcher() {\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                \r\n                OnTextChanged (edittext.getId(), String.valueOf(s));\r\n            }\r\n            ...\r\n     });\r\n```\r\n\r\nUpdating the EditText with the capitalized text-\r\n\r\n```\r\n// Below function is invoked on the Main Thread once the Worker Thread is done with its job of capitalizing\r\n// An entry function is called which gets the textfield object from the layout and then called the below\r\npublic static void UpdateTextField(EditText pEditTextObj, int pID, int pPosX, int pPosY, int pHeight, int pWidth, int pColor, String pText)\r\n{\r\n        Log.d(&quot;SampleJNIApp01&quot;, &quot;TextField valued to be updated = &quot; + pText);\r\n        \r\n        pEditTextObj.setText(pText);\r\n\r\n        //requesting focus\r\n        pEditTextObj.requestFocus();\r\n        pEditTextObj.setSelection(pEditTextObj.getText().length());\r\n\r\n        //showing keyboard\r\n        InputMethodManager imm = (InputMethodManager) MainActivity.GetCurrentActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n        imm.showSoftInput(pEditTextObj, InputMethodManager.SHOW_IMPLICIT);\r\n         \r\n}\r\n```\r\n\r\nObservation:\r\n\r\nOnce the first letter is typed in, it does get capitalized by the JNI function and the text in the EditText is also updated.\r\n\r\nHowever, after the pEditTextObj.setText(pText), the focus goes away, cursor is not visible and the keyboard gets hidden.\r\n\r\nSame is observed when I am typing in the text field and some worker thread has invoked some java method to &#39;runOnUIthread&#39; - the focus is lost and soft keyboard gets hidden.\r\n\r\nThe returned value of pEditTextObj.requestFocus() is true, still it is not getting focussed.\r\n\r\nI have also checked that pEditTextObj.isFocusable() returns true and MainActivity.this.getCurrentFocus() is returning the same edittext. but on the emulator screen the edittext is not getting focused neither the keyboard is poping up.\r\n\r\nIs there something wrong that I am doing ?","title":"runOnUIThread on android is unable to setfocus on the EditText and show soft keyboard","body":"<p>In my android application, the core logic is written in C++. Hence, for multiple scenarios, there will be JNI calls happening.</p>\n<p>In one use-case, as the text is being entered by the user in the 'EditText', I call a JNI method which will capitalize each word (the logic and hence the outcome can vary from case to case).</p>\n<p>The TextChange handler calls a JNI function which will capitalize each word in the text in a worker thread and then invoke a method on the main thread using 'runOnUIThread' to update the text field's value. My expectation is this should happen seamlessly and should not hamper the way the user is interacting.</p>\n<p>Code Samples:</p>\n<p>Calling of the JNI function-</p>\n<pre><code>edittext.addTextChangedListener(new TextWatcher() {\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                \n                OnTextChanged (edittext.getId(), String.valueOf(s));\n            }\n            ...\n     });\n</code></pre>\n<p>Updating the EditText with the capitalized text-</p>\n<pre><code>// Below function is invoked on the Main Thread once the Worker Thread is done with its job of capitalizing\n// An entry function is called which gets the textfield object from the layout and then called the below\npublic static void UpdateTextField(EditText pEditTextObj, int pID, int pPosX, int pPosY, int pHeight, int pWidth, int pColor, String pText)\n{\n        Log.d(&quot;SampleJNIApp01&quot;, &quot;TextField valued to be updated = &quot; + pText);\n        \n        pEditTextObj.setText(pText);\n\n        //requesting focus\n        pEditTextObj.requestFocus();\n        pEditTextObj.setSelection(pEditTextObj.getText().length());\n\n        //showing keyboard\n        InputMethodManager imm = (InputMethodManager) MainActivity.GetCurrentActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.showSoftInput(pEditTextObj, InputMethodManager.SHOW_IMPLICIT);\n         \n}\n</code></pre>\n<p>Observation:</p>\n<p>Once the first letter is typed in, it does get capitalized by the JNI function and the text in the EditText is also updated.</p>\n<p>However, after the pEditTextObj.setText(pText), the focus goes away, cursor is not visible and the keyboard gets hidden.</p>\n<p>Same is observed when I am typing in the text field and some worker thread has invoked some java method to 'runOnUIthread' - the focus is lost and soft keyboard gets hidden.</p>\n<p>The returned value of pEditTextObj.requestFocus() is true, still it is not getting focussed.</p>\n<p>I have also checked that pEditTextObj.isFocusable() returns true and MainActivity.this.getCurrentFocus() is returning the same edittext. but on the emulator screen the edittext is not getting focused neither the keyboard is poping up.</p>\n<p>Is there something wrong that I am doing ?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","dataflow","dataflowtask"],"answers":[{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657139092,"creation_date":1657139092,"answer_id":72889473,"question_id":72871829,"body_markdown":"The PipelineResult object should have a [waitUntilFinish][1] operation that you can call from within your try block to ensure the pipeline completes before the finally block executes.\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/PipelineResult.html#waitUntilFinish--","title":"How to run some code at the end of pipeline","body":"<p>The PipelineResult object should have a <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/PipelineResult.html#waitUntilFinish--\" rel=\"nofollow noreferrer\">waitUntilFinish</a> operation that you can call from within your try block to ensure the pipeline completes before the finally block executes.</p>\n"},{"tags":[],"owner":{"account_id":6848761,"reputation":992,"user_id":5266568,"accept_rate":20,"display_name":"zikzakjack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678694866,"creation_date":1678694866,"answer_id":75719326,"question_id":72871829,"body_markdown":"I think that the answer suggested by @robertwb to use waitUntilFinish() may not work in GCP. Refer to the link and explanation from Google Cloud Docs. However, We can try to achieve the final step as part of the pipeline itself by using Combine.globally() as the last step in the pipeline.\r\n\r\n// sample pipeline\r\n\r\n\r\n    \t\t\tpipeline.apply(&quot;step_1&quot;, ParDo.of(step_1()))\r\n\t\t\t\t\t.apply(&quot;step_2&quot;, ParDo.of(step_2()))\r\n\t\t\t\t\t.apply(&quot;step_3&quot;, ParDo.of(step_3()))\r\n\t\t\t\t\t.apply(&quot;step_4_wait_until_finish&quot;, combineGlobally())\r\n\t\t\t\t\t.apply(&quot;step_5_final&quot;, ParDo.of(new Step_5_final()));\r\n\r\n\r\n// combineGlobally\r\n\r\n    \tstatic Globally&lt;TableRow, TableRow&gt; combineGlobally() {\r\n\t\treturn Combine.globally(new SerializableFunction&lt;Iterable&lt;TableRow&gt;, TableRow&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic TableRow apply(Iterable&lt;TableRow&gt; input) {\r\n\t\t\t\treturn new TableRow();\r\n\t\t\t}\r\n\t\t}).withoutDefaults();\r\n\t}\r\n\r\n\r\n// Step_5_final\r\n\r\n    \tstatic class Step_5_final extends DoFn&lt;TableRow, String&gt; {\r\n\t\t@ProcessElement\r\n\t\tpublic void onElement(@Element final TableRow dataIn, final OutputReceiver&lt;String&gt; out) throws Exception {\r\n\t\t\tBigQuery.execute(update_query_1);\r\n\t\t\tBigQuery.execute(update_query_2);\r\n\t\t\tout.output(&quot;SUCCESS&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nRefer to this link https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates#limitations\r\n\r\nThe following limitations apply to Flex Templates jobs in GCP:\r\n\r\n - The program that constructs the pipeline must exit after run is called in order for the pipeline to start.\r\n- waitUntilFinish (Java) and wait_until_finish (Python) are not supported.\r\n\r\n\r\n","title":"How to run some code at the end of pipeline","body":"<p>I think that the answer suggested by @robertwb to use waitUntilFinish() may not work in GCP. Refer to the link and explanation from Google Cloud Docs. However, We can try to achieve the final step as part of the pipeline itself by using Combine.globally() as the last step in the pipeline.</p>\n<p>// sample pipeline</p>\n<pre><code>            pipeline.apply(&quot;step_1&quot;, ParDo.of(step_1()))\n                .apply(&quot;step_2&quot;, ParDo.of(step_2()))\n                .apply(&quot;step_3&quot;, ParDo.of(step_3()))\n                .apply(&quot;step_4_wait_until_finish&quot;, combineGlobally())\n                .apply(&quot;step_5_final&quot;, ParDo.of(new Step_5_final()));\n</code></pre>\n<p>// combineGlobally</p>\n<pre><code>    static Globally&lt;TableRow, TableRow&gt; combineGlobally() {\n    return Combine.globally(new SerializableFunction&lt;Iterable&lt;TableRow&gt;, TableRow&gt;() {\n        @Override\n        public TableRow apply(Iterable&lt;TableRow&gt; input) {\n            return new TableRow();\n        }\n    }).withoutDefaults();\n}\n</code></pre>\n<p>// Step_5_final</p>\n<pre><code>    static class Step_5_final extends DoFn&lt;TableRow, String&gt; {\n    @ProcessElement\n    public void onElement(@Element final TableRow dataIn, final OutputReceiver&lt;String&gt; out) throws Exception {\n        BigQuery.execute(update_query_1);\n        BigQuery.execute(update_query_2);\n        out.output(&quot;SUCCESS&quot;);\n    }\n}\n</code></pre>\n<p>Refer to this link <a href=\"https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates#limitations\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates#limitations</a></p>\n<p>The following limitations apply to Flex Templates jobs in GCP:</p>\n<ul>\n<li>The program that constructs the pipeline must exit after run is called in order for the pipeline to start.</li>\n<li>waitUntilFinish (Java) and wait_until_finish (Python) are not supported.</li>\n</ul>\n"}],"owner":{"account_id":20677239,"reputation":1,"user_id":15181568,"display_name":"raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678694866,"creation_date":1657034286,"question_id":72871829,"body_markdown":"I have a requirement to update two tables at the end of the dataflow job pipeline(based on pipeline result).\r\n\r\nI have put my logic to update to tables in finally block.\r\n\r\nHere finally block is executing in parallel to the pipeline\r\n\r\nIs there a way where i can run the code at end of pipeline ? ","title":"How to run some code at the end of pipeline","body":"<p>I have a requirement to update two tables at the end of the dataflow job pipeline(based on pipeline result).</p>\n<p>I have put my logic to update to tables in finally block.</p>\n<p>Here finally block is executing in parallel to the pipeline</p>\n<p>Is there a way where i can run the code at end of pipeline ?</p>\n"},{"tags":["java","annotations","environment-variables","runtime"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":5,"creation_date":1591790474,"post_id":62301513,"comment_id":110188610,"body_markdown":"This cannot be done. It needs to be a compile-time constant. Even if it worked, the environment variables would be taken during compilation, not during the runtime of the application. You will need to use some other mechanism to configure your application, annotations are resolved at compile-time.","body":"This cannot be done. It needs to be a compile-time constant. Even if it worked, the environment variables would be taken during compilation, not during the runtime of the application. You will need to use some other mechanism to configure your application, annotations are resolved at compile-time."}],"answers":[{"tags":[],"owner":{"account_id":7837673,"reputation":467,"user_id":5925075,"display_name":"balazs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678366195,"creation_date":1678366195,"answer_id":75684860,"question_id":62301513,"body_markdown":"It is possible to dynamically resolve GSI name, although it is pretty hacky.\r\n\r\n 1. Instead of using `System.getenv(&quot;REGION_CODE&quot;)` in the expression just use some kind of a template string e.g. `{{env.REGION_CODE}}` or `__REGION_CODE__`, in this example I will use `{{env.REGION_CODE}}`.\r\n ```java\r\n public class MyClass {\r\n   @DynamoDBIndexHashKey(globalSecondaryIndexName = &quot;RENDITIONS-{{env.REGION_CODE}}-{{env.STAGE}}&quot;, attributeName = &quot;renditionStatus&quot;)\r\n   private String bar;\r\n }\r\n ```\r\n 2. create a new method which will process the template, e.g. \r\n\r\n ```\r\npackage com.mycompany.myproduct.utils;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class TemplateProcessor {\r\n    public static String processTemplate(String mustacheTemplate) {\r\n        return Arrays.stream(mustacheTemplate.split(&quot;\\\\{\\\\{|}}&quot;))\r\n                .map(chunk -&gt; chunk.startsWith(&quot;env.&quot;) ? System.getenv(chunk.substring(4)) : chunk)\r\n                .collect(Collectors.joining(&quot;&quot;));\r\n    }\r\n}\r\n\r\n ```\r\n 3. Patch all the codes where `DynamoDBIndexHashKey.globalSecondaryIndexName()` is used.\r\n    \r\n    i. Find and copy all the classes that use `DynamoDBIndexHashKey.globalSecondaryIndexName()` into your project while making sure that the package part remains the same as the original.\r\n \r\n    ii. Everyplace where `globalSecondaryIndexName()` is called wrap it with calling the previously created `processTemplate` method.\r\n\r\n\r\nLuckily (currently, in com.amazonaws:aws-java-sdk-dynamodb:1.12.422) the only place that calls `DynamoDBIndexHashKey.globalSecondaryIndexName()` is `StandardAnnotationMaps.FieldMap.globalSecondaryIndexNames()` so the patching won&#39;t take too much time.\r\n\r\nThe end result should look something like this:\r\n\r\n\r\n```\r\npackage com.amazonaws.services.dynamodbv2.datamodeling;\r\n\r\n...\r\nimport static com.mycompany.myproduct.utils.TemplateProcessor.processTemplate;\r\n...\r\n\r\nfinal class StandardAnnotationMaps {\r\n  ...\r\n  public Map&lt;KeyType,List&lt;String&gt;&gt; globalSecondaryIndexNames() {\r\n    ...\r\n    String processed = processTemplate(indexHashKey.globalSecondaryIndexName());\r\n    gsis.put(HASH, Collections.singletonList(processed));\r\n    ...\r\n  }\r\n  ...\r\n}\r\n```","title":"How can I insert an runtime environment variable in an annotation attribute value in Java?","body":"<p>It is possible to dynamically resolve GSI name, although it is pretty hacky.</p>\n<ol>\n<li>Instead of using <code>System.getenv(&quot;REGION_CODE&quot;)</code> in the expression just use some kind of a template string e.g. <code>{{env.REGION_CODE}}</code> or <code>__REGION_CODE__</code>, in this example I will use <code>{{env.REGION_CODE}}</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n  @DynamoDBIndexHashKey(globalSecondaryIndexName = &quot;RENDITIONS-{{env.REGION_CODE}}-{{env.STAGE}}&quot;, attributeName = &quot;renditionStatus&quot;)\n  private String bar;\n}\n</code></pre>\n<ol start=\"2\">\n<li>create a new method which will process the template, e.g.</li>\n</ol>\n<pre><code>package com.mycompany.myproduct.utils;\n\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class TemplateProcessor {\n   public static String processTemplate(String mustacheTemplate) {\n       return Arrays.stream(mustacheTemplate.split(&quot;\\\\{\\\\{|}}&quot;))\n               .map(chunk -&gt; chunk.startsWith(&quot;env.&quot;) ? System.getenv(chunk.substring(4)) : chunk)\n               .collect(Collectors.joining(&quot;&quot;));\n   }\n}\n\n</code></pre>\n<ol start=\"3\">\n<li><p>Patch all the codes where <code>DynamoDBIndexHashKey.globalSecondaryIndexName()</code> is used.</p>\n<p>i. Find and copy all the classes that use <code>DynamoDBIndexHashKey.globalSecondaryIndexName()</code> into your project while making sure that the package part remains the same as the original.</p>\n<p>ii. Everyplace where <code>globalSecondaryIndexName()</code> is called wrap it with calling the previously created <code>processTemplate</code> method.</p>\n</li>\n</ol>\n<p>Luckily (currently, in com.amazonaws:aws-java-sdk-dynamodb:1.12.422) the only place that calls <code>DynamoDBIndexHashKey.globalSecondaryIndexName()</code> is <code>StandardAnnotationMaps.FieldMap.globalSecondaryIndexNames()</code> so the patching won't take too much time.</p>\n<p>The end result should look something like this:</p>\n<pre><code>package com.amazonaws.services.dynamodbv2.datamodeling;\n\n...\nimport static com.mycompany.myproduct.utils.TemplateProcessor.processTemplate;\n...\n\nfinal class StandardAnnotationMaps {\n  ...\n  public Map&lt;KeyType,List&lt;String&gt;&gt; globalSecondaryIndexNames() {\n    ...\n    String processed = processTemplate(indexHashKey.globalSecondaryIndexName());\n    gsis.put(HASH, Collections.singletonList(processed));\n    ...\n  }\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678694790,"creation_date":1678639131,"answer_id":75714667,"question_id":62301513,"body_markdown":"As an alternative to the solution suggested by _balazs_, you can use the Spring Expression Language (SpEL), see\r\n  * https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions,\r\n  * https://www.baeldung.com/spring-expression-language.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;de.scrum-master&lt;/groupId&gt;\r\n  &lt;artifactId&gt;SO_JavaUseSpELWithoutSpring_62301513&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.6&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q62301513;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@interface DynamoDBIndexHashKey {\r\n  String value();\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q62301513;\r\n\r\nimport org.springframework.expression.ExpressionParser;\r\nimport org.springframework.expression.spel.standard.SpelExpressionParser;\r\n\r\n@DynamoDBIndexHashKey(&quot;&#39;RENDITIONS-&#39; + get(&#39;REGION_CODE&#39;) + &#39;-&#39; + get(&#39;STAGE&#39;) + &#39;-renditionStatus-Index&#39;&quot;)\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    ExpressionParser expressionParser = new SpelExpressionParser();\r\n    String parsedAnnotationValue = expressionParser\r\n      .parseExpression(Main.class.getAnnotation(DynamoDBIndexHashKey.class).value())\r\n      .getValue(System.getenv(), String.class);\r\n    System.out.println(parsedAnnotationValue);\r\n  }\r\n}\r\n```\r\n\r\nNow e.g. set environment variables `REGION_CODE=DE` and `STAGE=integration` and run the program. The console log will print:\r\n\r\n```none\r\nRENDITIONS-DE-integration-renditionStatus-Index\r\n```\r\n\r\nSpEL is quite powerful, and you can use it outside of Spring, if you do not mind that `spring-core` is a transitive dependency. But I think, this is acceptable if you make heavy use of it.\r\n\r\n---\r\n\r\n**Update:** If instead of using the `Map.get` method of the evaluation root object `System.getenv()` in your SpEL expression, you can also use `#root` and use the map accessor syntax `[&#39;myKey&#39;]`, i.e. instead of \r\n\r\n```java\r\n@DynamoDBIndexHashKey(&quot;&#39;RENDITIONS-&#39; + get(&#39;REGION_CODE&#39;) + &#39;-&#39; + get(&#39;STAGE&#39;) + &#39;-renditionStatus-Index&#39;&quot;)\r\n```\r\n\r\nyou can write\r\n\r\n```java\r\n@DynamoDBIndexHashKey(&quot;&#39;RENDITIONS-&#39; + #root[&#39;REGION_CODE&#39;] + &#39;-&#39; + #root[&#39;STAGE&#39;] + &#39;-renditionStatus-Index&#39;&quot;)\r\n```\r\n\r\nYou could also bind the value to a named variable like `env`, if you prefer not to use the root object ex- or implicitly.","title":"How can I insert an runtime environment variable in an annotation attribute value in Java?","body":"<p>As an alternative to the solution suggested by <em>balazs</em>, you can use the Spring Expression Language (SpEL), see</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions</a>,</li>\n<li><a href=\"https://www.baeldung.com/spring-expression-language\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-expression-language</a>.</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;de.scrum-master&lt;/groupId&gt;\n  &lt;artifactId&gt;SO_JavaUseSpELWithoutSpring_62301513&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n      &lt;version&gt;6.0.6&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q62301513;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Retention(RetentionPolicy.RUNTIME)\n@interface DynamoDBIndexHashKey {\n  String value();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q62301513;\n\nimport org.springframework.expression.ExpressionParser;\nimport org.springframework.expression.spel.standard.SpelExpressionParser;\n\n@DynamoDBIndexHashKey(&quot;'RENDITIONS-' + get('REGION_CODE') + '-' + get('STAGE') + '-renditionStatus-Index'&quot;)\npublic class Main {\n  public static void main(String[] args) {\n    ExpressionParser expressionParser = new SpelExpressionParser();\n    String parsedAnnotationValue = expressionParser\n      .parseExpression(Main.class.getAnnotation(DynamoDBIndexHashKey.class).value())\n      .getValue(System.getenv(), String.class);\n    System.out.println(parsedAnnotationValue);\n  }\n}\n</code></pre>\n<p>Now e.g. set environment variables <code>REGION_CODE=DE</code> and <code>STAGE=integration</code> and run the program. The console log will print:</p>\n<pre class=\"lang-none prettyprint-override\"><code>RENDITIONS-DE-integration-renditionStatus-Index\n</code></pre>\n<p>SpEL is quite powerful, and you can use it outside of Spring, if you do not mind that <code>spring-core</code> is a transitive dependency. But I think, this is acceptable if you make heavy use of it.</p>\n<hr />\n<p><strong>Update:</strong> If instead of using the <code>Map.get</code> method of the evaluation root object <code>System.getenv()</code> in your SpEL expression, you can also use <code>#root</code> and use the map accessor syntax <code>['myKey']</code>, i.e. instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDBIndexHashKey(&quot;'RENDITIONS-' + get('REGION_CODE') + '-' + get('STAGE') + '-renditionStatus-Index'&quot;)\n</code></pre>\n<p>you can write</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDBIndexHashKey(&quot;'RENDITIONS-' + #root['REGION_CODE'] + '-' + #root['STAGE'] + '-renditionStatus-Index'&quot;)\n</code></pre>\n<p>You could also bind the value to a named variable like <code>env</code>, if you prefer not to use the root object ex- or implicitly.</p>\n"}],"owner":{"account_id":13765969,"reputation":63,"user_id":9934537,"display_name":"Yuvraj Jagga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75684860,"answer_count":2,"score":3,"last_activity_date":1678694790,"creation_date":1591785511,"question_id":62301513,"body_markdown":"I have been trying to populate an annotation attribute value at runtime, but it is not being able to compile\r\nThe error is \r\n\r\n&gt; &quot;The value for annotation attribute\r\n&gt; DynamoDBIndexHashKey.globalSecondaryIndexName must be a constant\r\n&gt; expression&quot;\r\n\r\n\r\nHere is the snippet \r\n\r\n```\r\npublic static final String GLOBAL_SECONDARY_INDEX = &quot;RENDITIONS&quot; + System.getenv(&quot;REGION_CODE&quot;) + &quot;-&quot; +System.getenv(&quot;STAGE&quot;) + &quot;-renditionStatus-Index&quot;;\r\n\r\n@DynamoDBIndexHashKey(globalSecondaryIndexName  = GLOBAL_SECONDARY_INDEX, attributeName =&quot;renditionStatus&quot;)\r\n```\r\n\r\n\r\nThe value for GLOBAL_SECONDARY_INDEX for the attribute `globalSecondaryIndexName` is not able to compile as a constant despite of using the &quot;+&quot; operator. Am I missing something?\r\nMany Thanks in advance for trying to help ","title":"How can I insert an runtime environment variable in an annotation attribute value in Java?","body":"<p>I have been trying to populate an annotation attribute value at runtime, but it is not being able to compile\nThe error is </p>\n\n<blockquote>\n  <p>\"The value for annotation attribute\n  DynamoDBIndexHashKey.globalSecondaryIndexName must be a constant\n  expression\"</p>\n</blockquote>\n\n<p>Here is the snippet </p>\n\n<pre><code>public static final String GLOBAL_SECONDARY_INDEX = \"RENDITIONS\" + System.getenv(\"REGION_CODE\") + \"-\" +System.getenv(\"STAGE\") + \"-renditionStatus-Index\";\n\n@DynamoDBIndexHashKey(globalSecondaryIndexName  = GLOBAL_SECONDARY_INDEX, attributeName =\"renditionStatus\")\n</code></pre>\n\n<p>The value for GLOBAL_SECONDARY_INDEX for the attribute <code>globalSecondaryIndexName</code> is not able to compile as a constant despite of using the \"+\" operator. Am I missing something?\nMany Thanks in advance for trying to help </p>\n"},{"tags":["java","httpclient","apache-axis","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1678691180,"post_id":75718847,"comment_id":133575527,"body_markdown":"What&#39;s &quot;it&quot; and &quot;that&quot;? Please clarify. Better: provide a [mcve] and error messages that you observe.","body":"What&#39;s &quot;it&quot; and &quot;that&quot;? Please clarify. Better: provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and error messages that you observe."},{"owner":{"account_id":15119878,"reputation":176,"user_id":10910955,"display_name":"Prince Babbar"},"score":0,"creation_date":1678692278,"post_id":75718847,"comment_id":133575717,"body_markdown":"Tomcat complains,\nThe bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!","body":"Tomcat complains, The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678694206,"creation_date":1678694206,"answer_id":75719247,"question_id":75718847,"body_markdown":"Indeed it seems that the stock httpcore is delivered as classic jar, without the meta information required by OSGi. \r\n\r\nI&#39;m not sure if it&#39;s an issue of the dependency declaration, but as httpcore is listed as &quot;provided&quot;, and you&#39;ll naturally have to provide it separately to the OSGi container, my recommendation is to provide the httpcore-osgi variant of the required code (and optionally go deeper on transitive dependencies)","title":"httpcore 4.5.13 jar does not contain bundle-version in MANIFEST.MF","body":"<p>Indeed it seems that the stock httpcore is delivered as classic jar, without the meta information required by OSGi.</p>\n<p>I'm not sure if it's an issue of the dependency declaration, but as httpcore is listed as &quot;provided&quot;, and you'll naturally have to provide it separately to the OSGi container, my recommendation is to provide the httpcore-osgi variant of the required code (and optionally go deeper on transitive dependencies)</p>\n"}],"owner":{"account_id":15119878,"reputation":176,"user_id":10910955,"display_name":"Prince Babbar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678694206,"creation_date":1678691053,"question_id":75718847,"body_markdown":"I have transitive dependency on httpcore jar (from httpclient-osgi) bundle for my osgi model.\r\nwhen start the tomcat server, tomcat does ask for bundle-version of httpcore in MANIFEST.MF file. but MANIFEST.MF doesn&#39;t contain that.\r\n\r\nTomcat complains,\r\nThe bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\n\r\nHow to resolve this?","title":"httpcore 4.5.13 jar does not contain bundle-version in MANIFEST.MF","body":"<p>I have transitive dependency on httpcore jar (from httpclient-osgi) bundle for my osgi model.\nwhen start the tomcat server, tomcat does ask for bundle-version of httpcore in MANIFEST.MF file. but MANIFEST.MF doesn't contain that.</p>\n<p>Tomcat complains,\nThe bundle \\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!</p>\n<p>How to resolve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1557129041,"post_id":56000774,"comment_id":98648200,"body_markdown":"Have you tried anything? Or even researched how to build a regular expression?","body":"Have you tried anything? Or even researched how to build a regular expression?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1557129102,"post_id":56000774,"comment_id":98648230,"body_markdown":"Sorry but that looks like problem which can be solved after reading few beginning lessons from any regex tutorial. What problem is stopping you from writing your solution?","body":"Sorry but that looks like problem which can be solved after reading few beginning lessons from any regex tutorial. What problem is stopping you from writing your solution?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1557132450,"post_id":56000774,"comment_id":98649689,"body_markdown":"I&#39;m voting to close this question as off-topic because it is on homework level and [&quot;3. Questions asking for homework help **must** include a *summary of the work you&#39;ve done so far to solve the problem*, and a *description of the difficulty you are having* solving it.&quot;](https://stackoverflow.com/help/on-topic). Current state of your question doesn&#39;t fulfill these requirements. Use [edit] option to improve it.","body":"I&#39;m voting to close this question as off-topic because it is on homework level and <a href=\"https://stackoverflow.com/help/on-topic\">&quot;3. Questions asking for homework help <b>must</b> include a <i>summary of the work you&#39;ve done so far to solve the problem</i>, and a <i>description of the difficulty you are having</i> solving it.&quot;</a>. Current state of your question doesn&#39;t fulfill these requirements. Use <a href=\"https://stackoverflow.com/posts/56000774/edit\">edit</a> option to improve it."},{"owner":{"account_id":7620717,"reputation":742,"user_id":5778814,"display_name":"cmoetzing"},"score":1,"creation_date":1557138847,"post_id":56000774,"comment_id":98652599,"body_markdown":"Please take your time and describe your problem properly. You list 3 examples. Examples 1 and 2 do not fit your description * &quot;any numbers immediately after &#39;E-&#39; in a string using a PatternMatcher in java&quot;* Do example 1 and 2 need to be matched or not?","body":"Please take your time and describe your problem properly. You list 3 examples. Examples 1 and 2 do not fit your description * &quot;any numbers immediately after &#39;E-&#39; in a string using a PatternMatcher in java&quot;* Do example 1 and 2 need to be matched or not?"}],"answers":[{"tags":[],"owner":{"account_id":949772,"reputation":2342,"user_id":976149,"accept_rate":80,"display_name":"Shashwat"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1557143768,"creation_date":1557129071,"answer_id":56000933,"question_id":56000774,"body_markdown":"Try below regex\r\n&gt;Regex : `E-[0-9]+`\r\n\r\n[![Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dpDdH.png","title":"how match &quot;E-10094&quot; using pattern matcher in java","body":"<p>Try below regex</p>\n\n<blockquote>\n  <p>Regex : <code>E-[0-9]+</code></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/dpDdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpDdH.png\" alt=\"Output\"></a></p>\n"},{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678694094,"creation_date":1678694094,"answer_id":75719227,"question_id":56000774,"body_markdown":"      public static void main(String[] args) {\r\n            Pattern pattern = Pattern.compile(&quot;E-[0-9]+&quot;);\r\n            Matcher matcher = pattern.matcher(&quot;E-1234&quot;);\r\n            boolean matchFound = matcher.find();\r\n            if(matchFound) {\r\n                System.out.println(&quot;Match found&quot;);\r\n            } else {\r\n                System.out.println(&quot;Match not found&quot;);\r\n            }\r\n    \r\n    }","title":"how match &quot;E-10094&quot; using pattern matcher in java","body":"<pre><code>  public static void main(String[] args) {\n        Pattern pattern = Pattern.compile(&quot;E-[0-9]+&quot;);\n        Matcher matcher = pattern.matcher(&quot;E-1234&quot;);\n        boolean matchFound = matcher.find();\n        if(matchFound) {\n            System.out.println(&quot;Match found&quot;);\n        } else {\n            System.out.println(&quot;Match not found&quot;);\n        }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13005093,"reputation":1,"user_id":9399871,"display_name":"Yallaling Kolkur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":2,"score":-7,"last_activity_date":1678694094,"creation_date":1557128399,"question_id":56000774,"body_markdown":"How to prepare a pattern that is &quot;any numbers immediately after &#39;E-&#39; in a string using a PatternMatcher in java&quot;.\r\n\r\nExample:\r\n\r\n   1. ACCRUE-DRINTEREST\r\n       it contais E-\r\n   2. ACCRUE-INTEREST\r\n       it contais E-\r\n   3. Error:E-10094##U\r\n      it contais E-10094, numbers may be whatever after E-\r\n\r\nI need the third String because it contains numbers after the E-\r\n\r\nHow to prepare a pattern for this?","title":"how match &quot;E-10094&quot; using pattern matcher in java","body":"<p>How to prepare a pattern that is \"any numbers immediately after 'E-' in a string using a PatternMatcher in java\".</p>\n\n<p>Example:</p>\n\n<ol>\n<li>ACCRUE-DRINTEREST\n   it contais E-</li>\n<li>ACCRUE-INTEREST\n   it contais E-</li>\n<li>Error:E-10094##U\n  it contais E-10094, numbers may be whatever after E-</li>\n</ol>\n\n<p>I need the third String because it contains numbers after the E-</p>\n\n<p>How to prepare a pattern for this?</p>\n"},{"tags":["java","httpclient","osgi","tomcat9","osgi-bundle"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1678694398,"post_id":75719211,"comment_id":133576178,"body_markdown":"Very similar to [this question](https://stackoverflow.com/a/75719247/13447) that I&#39;ve just answered before reading this one. Please check if it helps you","body":"Very similar to <a href=\"https://stackoverflow.com/a/75719247/13447\">this question</a> that I&#39;ve just answered before reading this one. Please check if it helps you"}],"owner":{"account_id":26466522,"reputation":1,"user_id":20107638,"display_name":"Nitin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678693983,"creation_date":1678693983,"question_id":75719211,"body_markdown":"I have a dependency on org.apache.httpclient 4.5.13.\r\nWhen I try to start the servers, wildfly is working fine, but tomcat says that\r\n\r\nMar 13, 2023 11:15:14 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpmime-4.5.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\j2objc-annotations-1.1.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\fluent-hc-4.5.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\nMar 13, 2023 11:15:16 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: The bundle \\\\Servers\\tomcat\\bundles\\ROOT\\checker-compat-qual-2.0.0.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\r\n\r\nand at the bottom of the log, it says that it is waiting for modules to start\r\n\r\nMar 13, 2023 11:15:50 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: ROOT: Waiting for 9 modules to start: [httpmime-4.5.13.jar, j2objc-annotations-1.1.jar, httpcore-4.4.13.jar, httpclient-4.5.13.jar, error_prone_annotations-2.1.3.jar, fluent-hc-4.5.13.jar, checker-compat-qual-2.0.0.jar, animal-sniffer-annotations-1.14.jar, httpclient-cache-4.5.13.jar] in the context of: ROOT\r\n\r\n\r\n\r\n\r\ncan anyone help?\r\n\r\n\r\n\r\nI downloaded the jar file manually, it does not contain the bundle-name or bundle-version.","title":"tomcat waiting too long for some modules related to httpclient to start","body":"<p>I have a dependency on org.apache.httpclient 4.5.13.\nWhen I try to start the servers, wildfly is working fine, but tomcat says that</p>\n<p>Mar 13, 2023 11:15:14 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\httpmime-4.5.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\j2objc-annotations-1.1.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\httpcore-4.4.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\nMar 13, 2023 11:15:15 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\fluent-hc-4.5.13.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!\nMar 13, 2023 11:15:16 AM org.apache.catalina.core.ApplicationContext log\nINFO: The bundle \\Servers\\tomcat\\bundles\\ROOT\\checker-compat-qual-2.0.0.jar does not have a Bundle-Name or Bundle-Version header in META-INF/MANIFEST.MF!</p>\n<p>and at the bottom of the log, it says that it is waiting for modules to start</p>\n<p>Mar 13, 2023 11:15:50 AM org.apache.catalina.core.ApplicationContext log\nINFO: ROOT: Waiting for 9 modules to start: [httpmime-4.5.13.jar, j2objc-annotations-1.1.jar, httpcore-4.4.13.jar, httpclient-4.5.13.jar, error_prone_annotations-2.1.3.jar, fluent-hc-4.5.13.jar, checker-compat-qual-2.0.0.jar, animal-sniffer-annotations-1.14.jar, httpclient-cache-4.5.13.jar] in the context of: ROOT</p>\n<p>can anyone help?</p>\n<p>I downloaded the jar file manually, it does not contain the bundle-name or bundle-version.</p>\n"},{"tags":["java","spring-boot","ejb"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678698869,"post_id":75719148,"comment_id":133577217,"body_markdown":"Implement what. This has nothing to do with SPring Boot but reading on how the Serlvet 3+ API works for java based configuration **or** simply stick to using a web.xml. What have you tried so far?","body":"Implement what. This has nothing to do with SPring Boot but reading on how the Serlvet 3+ API works for java based configuration <b>or</b> simply stick to using a web.xml. What have you tried so far?"},{"owner":{"account_id":28003510,"reputation":1,"user_id":21387296,"display_name":"wlkl"},"score":0,"creation_date":1678867685,"post_id":75719148,"comment_id":133614407,"body_markdown":"Thanks a lot for your answer. I registered RM2KMUDelegatingServlet through the configuration class in SpringBoot, but I don&#39;t know how to grant permissions to this servlet.","body":"Thanks a lot for your answer. I registered RM2KMUDelegatingServlet through the configuration class in SpringBoot, but I don&#39;t know how to grant permissions to this servlet."},{"owner":{"account_id":28003510,"reputation":1,"user_id":21387296,"display_name":"wlkl"},"score":0,"creation_date":1678867698,"post_id":75719148,"comment_id":133614412,"body_markdown":"describe:\nKeyOperationsEJB is located in an ejb project, and its retrieveKey() method is decorated with @RolesAllowed;\nRM2KMUDelegatingServlet exists in another SpringBoot projectthis servlet gets the KeyOperationsEJB in the ejb project through InitialContext.lookup(&quot;java:global/emag/xxxx!xxx.ejb.session.KeyOperationsEJB&quot;), and calls its retrieveKey() method, calling After reporting &quot;KeyOperations is not allowed&quot;","body":"describe: KeyOperationsEJB is located in an ejb project, and its retrieveKey() method is decorated with @RolesAllowed; RM2KMUDelegatingServlet exists in another SpringBoot projectthis servlet gets the KeyOperationsEJB in the ejb project through InitialContext.lookup(&quot;java:global/emag/xxxx!xxx.ejb.session&zwnj;&#8203;.KeyOperationsEJB&quot;), and calls its retrieveKey() method, calling After reporting &quot;KeyOperations is not allowed&quot;"},{"owner":{"account_id":28003510,"reputation":1,"user_id":21387296,"display_name":"wlkl"},"score":0,"creation_date":1678867705,"post_id":75719148,"comment_id":133614414,"body_markdown":"Ask:\nThe error should be that RM2KMUDelegatingServlet was not assigned the corresponding role when registering in SpringBoot. In the old project, the assignment of roles was done in web.xml. Can I implement the assignment of roles in SpringBoot","body":"Ask: The error should be that RM2KMUDelegatingServlet was not assigned the corresponding role when registering in SpringBoot. In the old project, the assignment of roles was done in web.xml. Can I implement the assignment of roles in SpringBoot"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678870069,"post_id":75719148,"comment_id":133615039,"body_markdown":"You haven&#39;t shown any configuration, and as stated read how Servlet API 3 works for java configuration which explains the XML alternatives for java. Which also has a run-as equivalent.","body":"You haven&#39;t shown any configuration, and as stated read how Servlet API 3 works for java configuration which explains the XML alternatives for java. Which also has a run-as equivalent."}],"owner":{"account_id":28003510,"reputation":1,"user_id":21387296,"display_name":"wlkl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678693535,"creation_date":1678693535,"question_id":75719148,"body_markdown":"The old project uses servlet 2.4, Spring 2.5.4, and Struts. Now, we need to upgrade to Spring Boot 2.x. During the upgrade process, we encountered a problem that there is a servlet in the old project, which is defined in the web.xml as follows:\r\n\r\n```xml\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;KMUDelegatingServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;crs.gov.ogcio.mars.rm.servlet.RM2KMUDelegatingServlet&lt;/servlet-class&gt;\r\n        &lt;run-as&gt;\r\n            &lt;role-name&gt;keyservice_readonly&lt;/role-name&gt;\r\n        &lt;/run-as&gt;\r\n    &lt;/servlet&gt;\r\n```\r\n\r\nRM2KMUDelegatingServlet\r\n```java\r\npublic class RM2KMUDelegatingServlet extends EnvPropertiesBase implements Servlet {\r\n    private ServletConfig m_config;\r\n    private Properties m_runtimeProperties;\r\n    private String m_keyOperationsJNDIName;\r\n\r\n    public RM2KMUDelegatingServlet() {\r\n    }\r\n\r\n    public void init(ServletConfig config) throws ServletException {\r\n        try {\r\n            this.m_config = config;\r\n            this.m_runtimeProperties = this.getRuntimeProperties();\r\n            this.m_keyOperationsJNDIName = this.m_runtimeProperties.getProperty(&quot;KEY_OPERATIONS_EJB_REMOTE_JNDI_NAME&quot;, &quot;java:global/egis_rm_keyservice/egis_rm_keyservice_ejb/KeyOperations!crs.gov.ogcio.egis.rm.keyservice.appserver.ejb.session.IKeyOperations&quot;);\r\n        } catch (Exception var3) {\r\n            this.logError(&quot;RM2KMUDelegatingServlet Cannot init RM2KMUDelegatingServlet&quot;, var3);\r\n            throw new ServletException(&quot;Cannot init RM2KMUDelegatingServlet&quot;, var3);\r\n        }\r\n    }\r\n\r\n    public ServletConfig getServletConfig() {\r\n        return this.m_config;\r\n    }\r\n\r\n    public void service(ServletRequest request, ServletResponse response) {\r\n        boolean alreadyLogged = false;\r\n        InitialContext context = null;\r\n        try {\r\n            String keyName = (String)request.getAttribute(KMUCredentialResolver.KEY_NAME_ATTRIBUTE);\r\n            if (keyName == null) {\r\n                this.logWarn(&quot;RM2KMUDelegatingServlet Could not find key name from request&quot;);\r\n                alreadyLogged = true;\r\n                throw new Exception(&quot;RM2KMUDelegatingServlet Could not find key name from request&quot;);\r\n            }\r\n            context = new InitialContext(this.m_runtimeProperties);\r\n\r\n            // Get the beans of other ear packages through jndi\r\n            IKeyOperations keyOperations = (IKeyOperations)context.lookup(this.m_keyOperationsJNDIName);\r\n            // This method is marked by @RolesAllowed({&quot;keyservice_readonly&quot;, &quot;keyservice_admin&quot;, &quot;keyservice_internal&quot;})\r\n            SerializableKeyEntry entry = keyOperations.retrieveEntry(keyName, new Date());\r\n\r\n            request.setAttribute(KMUCredentialResolver.KEY_ENTRY_ATTRIBUTE, entry);\r\n        } catch (Exception var16) {\r\n            if (!alreadyLogged) {\r\n                this.logError(&quot;RM2KMUDelegatingServlet General exception raised&quot;, var16);\r\n            }\r\n            request.setAttribute(KMUCredentialResolver.EXCEPTION_ATTRIBUTE, var16);\r\n        } finally {\r\n            if (context != null) {\r\n                try {\r\n                    context.close();\r\n                } catch (Exception var15) {\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nIKeyOperations\r\n```java\r\n@Stateless(\r\n    name = &quot;KeyOperations&quot;\r\n)\r\n@TransactionAttribute(TransactionAttributeType.SUPPORTS)\r\n@DenyAll\r\n@RunAs(&quot;keyservice_internal&quot;)\r\npublic class KeyOperationsEJB extends EJBBase implements IKeyOperations, IKeyOperationsLocal {\r\n\r\n    @RolesAllowed({&quot;keyservice_readonly&quot;, &quot;keyservice_admin&quot;, &quot;keyservice_internal&quot;})\r\n    public SerializableKeyEntry retrieveEntry(String friendlyAlias, Date forDate) throws KeyStoreException {\r\n        if (!this.initialized) {\r\n            throw new KeyStoreException(&quot;KeyService has not been initialized.&quot;);\r\n        } else {\r\n            try {\r\n                KeyStoreIndex ksi = this.keystoreIndexDAO.findByFriendlyAlias(friendlyAlias, forDate);\r\n                if (ksi == null) {\r\n                    throw new KeyNotFoundException(friendlyAlias, forDate);\r\n                } else if (!this.verifyKeyStoreIndexEntry(ksi, this.masterCertificate)) {\r\n                    this.logWarn(&quot;This KeyStoreInfo record has been tempered. friendlyAlias:&quot; + friendlyAlias + &quot; date:&quot; + forDate);\r\n                    throw new KeyStoreInfoRecordTemperedException(friendlyAlias, forDate);\r\n                } else {\r\n                    KeyStore.Entry entry = this.getEntryFromKeyStore(ksi, this.pwdOpsLocal);\r\n                    SerializableKeyEntry skEntry = new SerializableKeyEntry();\r\n                    if (entry instanceof KeyStore.PrivateKeyEntry) {\r\n                        KeyStore.PrivateKeyEntry privKeyEntry = (KeyStore.PrivateKeyEntry)entry;\r\n                        Certificate cert = privKeyEntry.getCertificate();\r\n                        skEntry.setCertificate((X509Certificate)privKeyEntry.getCertificate());\r\n                        skEntry.setCertificateChain((X509Certificate[])((X509Certificate[])privKeyEntry.getCertificateChain()));\r\n                        skEntry.setPrivateKey(privKeyEntry.getPrivateKey());\r\n                    } else if (entry instanceof KeyStore.TrustedCertificateEntry) {\r\n                        KeyStore.TrustedCertificateEntry trustedCertEntry = (KeyStore.TrustedCertificateEntry)entry;\r\n                        skEntry.setCertificate((X509Certificate)trustedCertEntry.getTrustedCertificate());\r\n                    } else if (entry instanceof KeyStore.SecretKeyEntry) {\r\n                        KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry)entry;\r\n                        skEntry.setSecretKey(secretKeyEntry.getSecretKey());\r\n                    }\r\n\r\n                    return skEntry;\r\n                }\r\n            } catch (IOException var8) {\r\n                this.logError(&quot;IOException&quot;, var8);\r\n                throw new KeyStoreException(&quot;IOException &quot; + var8.getMessage());\r\n            } catch (Exception var9) {\r\n                this.logError(&quot;Exception&quot;, var9);\r\n                throw new KeyStoreException(var9.getClass().getName() + var9.getMessage());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nThe retrieveEntry method of KeyOperationsEJB is marked with @RolesAllowed, calling keyOperations.retrieveEntry(keyName, new Date()) in RM2KMUDelegatingServlet reports java.security.KeyStoreException of bean: KeyOperations is not allowed, how can I implement &lt;run-as&gt; in SpringBoot\r\n\r\nCaused by: javax.ejb.EJBAccessException: WFLYEJB0364: Invocation on method: public abstract hk.gov.ogcio.egis.rm.keyservice.common.SerializableKeyEntry hk.gov.ogcio.egis.rm.keyservice.appserver.ejb.session.IKeyOperations.retrieveEntry(java.lang.String,java.util.Date) throws java.security.KeyStoreException of bean: KeyOperations is not allowed","title":"How to configure the &lt;run-as&gt; tag for a servlet in a Spring Boot project?","body":"<p>The old project uses servlet 2.4, Spring 2.5.4, and Struts. Now, we need to upgrade to Spring Boot 2.x. During the upgrade process, we encountered a problem that there is a servlet in the old project, which is defined in the web.xml as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;KMUDelegatingServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;crs.gov.ogcio.mars.rm.servlet.RM2KMUDelegatingServlet&lt;/servlet-class&gt;\n        &lt;run-as&gt;\n            &lt;role-name&gt;keyservice_readonly&lt;/role-name&gt;\n        &lt;/run-as&gt;\n    &lt;/servlet&gt;\n</code></pre>\n<p>RM2KMUDelegatingServlet</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RM2KMUDelegatingServlet extends EnvPropertiesBase implements Servlet {\n    private ServletConfig m_config;\n    private Properties m_runtimeProperties;\n    private String m_keyOperationsJNDIName;\n\n    public RM2KMUDelegatingServlet() {\n    }\n\n    public void init(ServletConfig config) throws ServletException {\n        try {\n            this.m_config = config;\n            this.m_runtimeProperties = this.getRuntimeProperties();\n            this.m_keyOperationsJNDIName = this.m_runtimeProperties.getProperty(&quot;KEY_OPERATIONS_EJB_REMOTE_JNDI_NAME&quot;, &quot;java:global/egis_rm_keyservice/egis_rm_keyservice_ejb/KeyOperations!crs.gov.ogcio.egis.rm.keyservice.appserver.ejb.session.IKeyOperations&quot;);\n        } catch (Exception var3) {\n            this.logError(&quot;RM2KMUDelegatingServlet Cannot init RM2KMUDelegatingServlet&quot;, var3);\n            throw new ServletException(&quot;Cannot init RM2KMUDelegatingServlet&quot;, var3);\n        }\n    }\n\n    public ServletConfig getServletConfig() {\n        return this.m_config;\n    }\n\n    public void service(ServletRequest request, ServletResponse response) {\n        boolean alreadyLogged = false;\n        InitialContext context = null;\n        try {\n            String keyName = (String)request.getAttribute(KMUCredentialResolver.KEY_NAME_ATTRIBUTE);\n            if (keyName == null) {\n                this.logWarn(&quot;RM2KMUDelegatingServlet Could not find key name from request&quot;);\n                alreadyLogged = true;\n                throw new Exception(&quot;RM2KMUDelegatingServlet Could not find key name from request&quot;);\n            }\n            context = new InitialContext(this.m_runtimeProperties);\n\n            // Get the beans of other ear packages through jndi\n            IKeyOperations keyOperations = (IKeyOperations)context.lookup(this.m_keyOperationsJNDIName);\n            // This method is marked by @RolesAllowed({&quot;keyservice_readonly&quot;, &quot;keyservice_admin&quot;, &quot;keyservice_internal&quot;})\n            SerializableKeyEntry entry = keyOperations.retrieveEntry(keyName, new Date());\n\n            request.setAttribute(KMUCredentialResolver.KEY_ENTRY_ATTRIBUTE, entry);\n        } catch (Exception var16) {\n            if (!alreadyLogged) {\n                this.logError(&quot;RM2KMUDelegatingServlet General exception raised&quot;, var16);\n            }\n            request.setAttribute(KMUCredentialResolver.EXCEPTION_ATTRIBUTE, var16);\n        } finally {\n            if (context != null) {\n                try {\n                    context.close();\n                } catch (Exception var15) {\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>IKeyOperations</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless(\n    name = &quot;KeyOperations&quot;\n)\n@TransactionAttribute(TransactionAttributeType.SUPPORTS)\n@DenyAll\n@RunAs(&quot;keyservice_internal&quot;)\npublic class KeyOperationsEJB extends EJBBase implements IKeyOperations, IKeyOperationsLocal {\n\n    @RolesAllowed({&quot;keyservice_readonly&quot;, &quot;keyservice_admin&quot;, &quot;keyservice_internal&quot;})\n    public SerializableKeyEntry retrieveEntry(String friendlyAlias, Date forDate) throws KeyStoreException {\n        if (!this.initialized) {\n            throw new KeyStoreException(&quot;KeyService has not been initialized.&quot;);\n        } else {\n            try {\n                KeyStoreIndex ksi = this.keystoreIndexDAO.findByFriendlyAlias(friendlyAlias, forDate);\n                if (ksi == null) {\n                    throw new KeyNotFoundException(friendlyAlias, forDate);\n                } else if (!this.verifyKeyStoreIndexEntry(ksi, this.masterCertificate)) {\n                    this.logWarn(&quot;This KeyStoreInfo record has been tempered. friendlyAlias:&quot; + friendlyAlias + &quot; date:&quot; + forDate);\n                    throw new KeyStoreInfoRecordTemperedException(friendlyAlias, forDate);\n                } else {\n                    KeyStore.Entry entry = this.getEntryFromKeyStore(ksi, this.pwdOpsLocal);\n                    SerializableKeyEntry skEntry = new SerializableKeyEntry();\n                    if (entry instanceof KeyStore.PrivateKeyEntry) {\n                        KeyStore.PrivateKeyEntry privKeyEntry = (KeyStore.PrivateKeyEntry)entry;\n                        Certificate cert = privKeyEntry.getCertificate();\n                        skEntry.setCertificate((X509Certificate)privKeyEntry.getCertificate());\n                        skEntry.setCertificateChain((X509Certificate[])((X509Certificate[])privKeyEntry.getCertificateChain()));\n                        skEntry.setPrivateKey(privKeyEntry.getPrivateKey());\n                    } else if (entry instanceof KeyStore.TrustedCertificateEntry) {\n                        KeyStore.TrustedCertificateEntry trustedCertEntry = (KeyStore.TrustedCertificateEntry)entry;\n                        skEntry.setCertificate((X509Certificate)trustedCertEntry.getTrustedCertificate());\n                    } else if (entry instanceof KeyStore.SecretKeyEntry) {\n                        KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry)entry;\n                        skEntry.setSecretKey(secretKeyEntry.getSecretKey());\n                    }\n\n                    return skEntry;\n                }\n            } catch (IOException var8) {\n                this.logError(&quot;IOException&quot;, var8);\n                throw new KeyStoreException(&quot;IOException &quot; + var8.getMessage());\n            } catch (Exception var9) {\n                this.logError(&quot;Exception&quot;, var9);\n                throw new KeyStoreException(var9.getClass().getName() + var9.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n<p>The retrieveEntry method of KeyOperationsEJB is marked with @RolesAllowed, calling keyOperations.retrieveEntry(keyName, new Date()) in RM2KMUDelegatingServlet reports java.security.KeyStoreException of bean: KeyOperations is not allowed, how can I implement  in SpringBoot</p>\n<p>Caused by: javax.ejb.EJBAccessException: WFLYEJB0364: Invocation on method: public abstract hk.gov.ogcio.egis.rm.keyservice.common.SerializableKeyEntry hk.gov.ogcio.egis.rm.keyservice.appserver.ejb.session.IKeyOperations.retrieveEntry(java.lang.String,java.util.Date) throws java.security.KeyStoreException of bean: KeyOperations is not allowed</p>\n"},{"tags":["java","android","broadcastreceiver","broadcast"],"answers":[{"tags":[],"owner":{"account_id":1518326,"reputation":373,"user_id":4978534,"display_name":"Serhat T&#252;rkman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678559571,"creation_date":1515068604,"answer_id":48095286,"question_id":48095105,"body_markdown":"Try [my solution][1]. \r\n\r\n1- Add \r\n\r\n    &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\r\n\r\nto your intent filter.\r\n\r\n2- Add android:directBootAware=&quot;true&quot; to your intent filter so your manifest should look like this:\r\n\r\n            &lt;receiver\r\n            android:name=&quot;.LockerBootReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:directBootAware=&quot;true&quot;&gt;\r\n            &lt;intent-filter android:priority=&quot;999&quot;&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n2- Replace your code\r\n\r\n     public final class LockerBootReceiver extends BroadcastReceiver {\r\n         public final void onReceive(Context context, Intent intent) {\r\n            if(&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAction()) || &quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot;.equals(intent.getAction())) {\r\n                  Intent intent2 = new Intent(context, LockerService.class);\r\n                  intent2.putExtra(&quot;extra.LOCK_ON_BOOT&quot;, true);\r\n                context.startService(intent2);\r\n           }\r\n        }\r\n     }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48094426/4978534","title":"This apps boot completed is fast","body":"<p>Try <a href=\"https://stackoverflow.com/a/48094426/4978534\">my solution</a>.</p>\n<p>1- Add</p>\n<pre><code>&lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\n</code></pre>\n<p>to your intent filter.</p>\n<p>2- Add android:directBootAware=&quot;true&quot; to your intent filter so your manifest should look like this:</p>\n<pre><code>        &lt;receiver\n        android:name=&quot;.LockerBootReceiver&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot;\n        android:directBootAware=&quot;true&quot;&gt;\n        &lt;intent-filter android:priority=&quot;999&quot;&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>2- Replace your code</p>\n<pre><code> public final class LockerBootReceiver extends BroadcastReceiver {\n     public final void onReceive(Context context, Intent intent) {\n        if(&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAction()) || &quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot;.equals(intent.getAction())) {\n              Intent intent2 = new Intent(context, LockerService.class);\n              intent2.putExtra(&quot;extra.LOCK_ON_BOOT&quot;, true);\n            context.startService(intent2);\n       }\n    }\n }\n</code></pre>\n"}],"owner":{"account_id":12592849,"reputation":1,"user_id":9158807,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678693406,"creation_date":1515068036,"question_id":48095105,"body_markdown":"\r\nIf you use this source, it will be called as soon as &quot;boot completed&quot; is booted. How is this possible? It takes more than 20 seconds for my smartphone(galaxy s5) to be used as it is.\r\n\r\nthe original app is here\r\nhttps://play.google.com/store/apps/details?id=qlocker.gesture&amp;hl=ko\r\n\r\n**manifest**\r\n\r\n```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n\r\n        &lt;service android:name=&quot;qlocker.common.LockerService&quot; android:process=&quot;:locker&quot; /&gt;\r\n        &lt;receiver android:name=&quot;qlocker.common.LockerService$LockerBootReceiver&quot; android:enabled=&quot;true&quot;&gt;\r\n            &lt;intent-filter android:priority=&quot;999&quot;&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n```\r\n\r\n**lockerService.java**\r\n\r\n```java\r\n     public final class LockerBootReceiver extends BroadcastReceiver {\r\n          public final void onReceive(Context context, Intent intent) {\r\n              if(&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAction())) {\r\n                  Intent intent2 = new Intent(context, LockerService.class);\r\n                  intent2.putExtra(&quot;extra.LOCK_ON_BOOT&quot;, true);\r\n                context.startService(intent2);\r\n            }\r\n        }\r\n    }\r\n```","title":"This apps boot completed is fast","body":"<p>If you use this source, it will be called as soon as &quot;boot completed&quot; is booted. How is this possible? It takes more than 20 seconds for my smartphone(galaxy s5) to be used as it is.</p>\n<p>the original app is here\n<a href=\"https://play.google.com/store/apps/details?id=qlocker.gesture&amp;hl=ko\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=qlocker.gesture&amp;hl=ko</a></p>\n<p><strong>manifest</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n        &lt;service android:name=&quot;qlocker.common.LockerService&quot; android:process=&quot;:locker&quot; /&gt;\n        &lt;receiver android:name=&quot;qlocker.common.LockerService$LockerBootReceiver&quot; android:enabled=&quot;true&quot;&gt;\n            &lt;intent-filter android:priority=&quot;999&quot;&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n<p><strong>lockerService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>     public final class LockerBootReceiver extends BroadcastReceiver {\n          public final void onReceive(Context context, Intent intent) {\n              if(&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAction())) {\n                  Intent intent2 = new Intent(context, LockerService.class);\n                  intent2.putExtra(&quot;extra.LOCK_ON_BOOT&quot;, true);\n                context.startService(intent2);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","push-notification","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1678288741,"post_id":75674910,"comment_id":133504079,"body_markdown":"Show us what you have tried in code.","body":"Show us what you have tried in code."}],"answers":[{"tags":[],"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678693273,"creation_date":1678304879,"answer_id":75677568,"question_id":75674910,"body_markdown":"Here&#39;s how I send the push notification to a specific mobile token. I hope it helps,\r\n\r\n            Thread t1 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                OkHttpClient client = new OkHttpClient();\r\n                        \r\n                MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n                RequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n   \\&quot;to\\&quot; : \\&quot;&quot;+mobileToken+&quot;\\&quot;,\\r\\n   \\&quot;data\\&quot; : {\\r\\n     \\&quot;Action\\&quot; : \\&quot;on\\&quot;\\r\\n   }\\r\\n } &quot;);\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;https://fcm.googleapis.com/fcm/send&quot;)\r\n                        .method(&quot;POST&quot;, body)\r\n                        .addHeader(&quot;Authorization&quot;, &quot;key=AuthKEY&quot;)\r\n                        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                        .build();\r\n                try {\r\n                    Response response = client.newCall(request).execute();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n\r\nDependancy,\r\n\r\n    implementation &#39;io.grpc:grpc-okhttp:1.30.0&#39;\r\n    implementation &#39;com.squareup.okio:okio:3.3.0&#39;\r\n\r\n","title":"Send Push notifications by FCM - Android","body":"<p>Here's how I send the push notification to a specific mobile token. I hope it helps,</p>\n<pre><code>        Thread t1 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            OkHttpClient client = new OkHttpClient();\n                    \n            MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n            RequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n   \\&quot;to\\&quot; : \\&quot;&quot;+mobileToken+&quot;\\&quot;,\\r\\n   \\&quot;data\\&quot; : {\\r\\n     \\&quot;Action\\&quot; : \\&quot;on\\&quot;\\r\\n   }\\r\\n } &quot;);\n            Request request = new Request.Builder()\n                    .url(&quot;https://fcm.googleapis.com/fcm/send&quot;)\n                    .method(&quot;POST&quot;, body)\n                    .addHeader(&quot;Authorization&quot;, &quot;key=AuthKEY&quot;)\n                    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                    .build();\n            try {\n                Response response = client.newCall(request).execute();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    t1.start();\n</code></pre>\n<p>Dependancy,</p>\n<pre><code>implementation 'io.grpc:grpc-okhttp:1.30.0'\nimplementation 'com.squareup.okio:okio:3.3.0'\n</code></pre>\n"}],"owner":{"account_id":21928398,"reputation":13,"user_id":16210657,"display_name":"Ma7mouD_7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75677568,"answer_count":1,"score":0,"last_activity_date":1678693273,"creation_date":1678288684,"question_id":75674910,"body_markdown":"I&#39;m working on application in which i want to send push notifications to specific user \r\n\r\n\r\nI got his token, store it.\r\n\r\nAlso got my API key.\r\n\r\nI tried to send POST request with postman and it did it successfully, i want to do it programmatically in my code \r\n\r\n    private void notif(){\r\n    String json = &quot;{\\&quot;to\\&quot;: \\&quot;&lt;USER_FCM&gt;\\&quot;,\\&quot;notification\\&quot;: {\\&quot;title\\&quot;: \\&quot;Check this Mobile (title)\\&quot;,\\&quot;body\\&quot;: \\&quot;Rich Notification testing (body)\\&quot;}&quot;;\r\n\r\n    CloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n    try {\r\n        JSONObject jsonObject = new JSONObject(json);\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n    try {\r\n        HttpPost request = new HttpPost(&quot;https://fcm.googleapis.com/fcm/send&quot;);\r\n        StringEntity params =new StringEntity(&quot;details={\\&quot;name\\&quot;:\\&quot;myname\\&quot;,\\&quot;age\\&quot;:\\&quot;20\\&quot;} &quot;, ContentType.APPLICATION_JSON);\r\n        request.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\r\n        request.addHeader(&quot;Authorization&quot;,&quot;key=&lt;API_KEY&gt;&quot;);\r\n        request.setEntity(params);\r\n        HttpResponse response;\r\n        response = httpClient.execute(request);\r\n        String test = response.getEntity().getContent().toString();\r\n        Log.d(&quot;RESPONSESS&quot;,test);\r\n\r\n    }catch (Exception ex) {\r\n\r\n    } finally {\r\n        try {\r\n            httpClient.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nThanks in advance ","title":"Send Push notifications by FCM - Android","body":"<p>I'm working on application in which i want to send push notifications to specific user</p>\n<p>I got his token, store it.</p>\n<p>Also got my API key.</p>\n<p>I tried to send POST request with postman and it did it successfully, i want to do it programmatically in my code</p>\n<pre><code>private void notif(){\nString json = &quot;{\\&quot;to\\&quot;: \\&quot;&lt;USER_FCM&gt;\\&quot;,\\&quot;notification\\&quot;: {\\&quot;title\\&quot;: \\&quot;Check this Mobile (title)\\&quot;,\\&quot;body\\&quot;: \\&quot;Rich Notification testing (body)\\&quot;}&quot;;\n\nCloseableHttpClient httpClient = HttpClientBuilder.create().build();\ntry {\n    JSONObject jsonObject = new JSONObject(json);\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n\n\ntry {\n    HttpPost request = new HttpPost(&quot;https://fcm.googleapis.com/fcm/send&quot;);\n    StringEntity params =new StringEntity(&quot;details={\\&quot;name\\&quot;:\\&quot;myname\\&quot;,\\&quot;age\\&quot;:\\&quot;20\\&quot;} &quot;, ContentType.APPLICATION_JSON);\n    request.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\n    request.addHeader(&quot;Authorization&quot;,&quot;key=&lt;API_KEY&gt;&quot;);\n    request.setEntity(params);\n    HttpResponse response;\n    response = httpClient.execute(request);\n    String test = response.getEntity().getContent().toString();\n    Log.d(&quot;RESPONSESS&quot;,test);\n\n}catch (Exception ex) {\n\n} finally {\n    try {\n        httpClient.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","duplicates","addition","hashset"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1601651810,"post_id":64174058,"comment_id":113481196,"body_markdown":"The IDE takes that from the official documentation. The other is just some random site. Who would you rather believe?","body":"The IDE takes that from the official documentation. The other is just some random site. Who would you rather believe?"},{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":1,"creation_date":1601651850,"post_id":64174058,"comment_id":113481219,"body_markdown":"The IDE :) But how could people that made that site make such a big mistake then?","body":"The IDE :) But how could people that made that site make such a big mistake then?"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":4,"creation_date":1601651942,"post_id":64174058,"comment_id":113481256,"body_markdown":"You can&#39;t be *that* new to the internet :-)","body":"You can&#39;t be <i>that</i> new to the internet :-)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1601651963,"post_id":64174058,"comment_id":113481264,"body_markdown":"@Stefan because for all intents and purposes the outcome is the same :) Also, what tevemadar said :P","body":"@Stefan because for all intents and purposes the outcome is the same :) Also, what tevemadar said :P"},{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":0,"creation_date":1601652110,"post_id":64174058,"comment_id":113481330,"body_markdown":"@tevemadar Hahah true.. But the problem is those &quot;random&quot; sites sometimes make &#39;prettier&#39; explanation of some concepts. Official docs are sometimes too hard to follow for me as a beginner","body":"@tevemadar Hahah true.. But the problem is those &quot;random&quot; sites sometimes make &#39;prettier&#39; explanation of some concepts. Official docs are sometimes too hard to follow for me as a beginner"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601652456,"creation_date":1601652456,"answer_id":64174262,"question_id":64174058,"body_markdown":"Any the theories can be verified by looking at the source code.\r\n\r\nFor example, for JDK 8, [`HashSet::add`](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashSet.java) implemented as follows:\r\n```java\r\n/**\r\n     * Adds the specified element to this set if it is not already present.\r\n     * More formally, adds the specified element &lt;tt&gt;e&lt;/tt&gt; to this set if\r\n     * this set contains no element &lt;tt&gt;e2&lt;/tt&gt; such that\r\n     * &lt;tt&gt;(e==null&amp;nbsp;?&amp;nbsp;e2==null&amp;nbsp;:&amp;nbsp;e.equals(e2))&lt;/tt&gt;.\r\n     * If this set already contains the element, the call leaves the set\r\n     * unchanged and returns &lt;tt&gt;false&lt;/tt&gt;.\r\n     *\r\n     * @param e element to be added to this set\r\n     * @return &lt;tt&gt;true&lt;/tt&gt; if this set did not already contain the specified\r\n     * element\r\n     */\r\n    public boolean add(E e) {\r\n        return map.put(e, PRESENT)==null;\r\n    }\r\n```\r\n\r\nHere `map` is an instance of `HashMap`, so we should look at [`HashMap::put`](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java):\r\n```java\r\n /**\r\n     * Associates the specified value with the specified key in this map.\r\n     * If the map previously contained a mapping for the key, the old\r\n     * value is replaced.\r\n     *\r\n     * @param key key with which the specified value is to be associated\r\n     * @param value value to be associated with the specified key\r\n     * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or\r\n     *         &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;.\r\n     *         (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map\r\n     *         previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.)\r\n     */\r\n    public V put(K key, V value) {\r\n        return putVal(hash(key), key, value, false, true);\r\n    }\r\n```\r\nand implementation of `putVal` contains this code:\r\n```java\r\n            if (e != null) { // existing mapping for key\r\n                V oldValue = e.value;\r\n                if (!onlyIfAbsent || oldValue == null)\r\n                    e.value = value;\r\n                afterNodeAccess(e);\r\n                return oldValue;\r\n            }\r\n```\r\n","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>Any the theories can be verified by looking at the source code.</p>\n<p>For example, for JDK 8, <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashSet.java\" rel=\"nofollow noreferrer\"><code>HashSet::add</code></a> implemented as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n     * Adds the specified element to this set if it is not already present.\n     * More formally, adds the specified element &lt;tt&gt;e&lt;/tt&gt; to this set if\n     * this set contains no element &lt;tt&gt;e2&lt;/tt&gt; such that\n     * &lt;tt&gt;(e==null&amp;nbsp;?&amp;nbsp;e2==null&amp;nbsp;:&amp;nbsp;e.equals(e2))&lt;/tt&gt;.\n     * If this set already contains the element, the call leaves the set\n     * unchanged and returns &lt;tt&gt;false&lt;/tt&gt;.\n     *\n     * @param e element to be added to this set\n     * @return &lt;tt&gt;true&lt;/tt&gt; if this set did not already contain the specified\n     * element\n     */\n    public boolean add(E e) {\n        return map.put(e, PRESENT)==null;\n    }\n</code></pre>\n<p>Here <code>map</code> is an instance of <code>HashMap</code>, so we should look at <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java\" rel=\"nofollow noreferrer\"><code>HashMap::put</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code> /**\n     * Associates the specified value with the specified key in this map.\n     * If the map previously contained a mapping for the key, the old\n     * value is replaced.\n     *\n     * @param key key with which the specified value is to be associated\n     * @param value value to be associated with the specified key\n     * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or\n     *         &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;.\n     *         (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map\n     *         previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.)\n     */\n    public V put(K key, V value) {\n        return putVal(hash(key), key, value, false, true);\n    }\n</code></pre>\n<p>and implementation of <code>putVal</code> contains this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            if (e != null) { // existing mapping for key\n                V oldValue = e.value;\n                if (!onlyIfAbsent || oldValue == null)\n                    e.value = value;\n                afterNodeAccess(e);\n                return oldValue;\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1732446,"reputation":10581,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601652596,"creation_date":1601652596,"answer_id":64174292,"question_id":64174058,"body_markdown":"Execute the program below and you&#39;ll see the duplicate elements are not allowed:\r\n\r\n    import java.util.HashSet;\r\n    \r\n    public class Test {\r\n    \tpublic static class Dummy{\r\n    \t\t String s1;\r\n    \t\t String s2;\r\n    \t\tpublic Dummy(String s1, String s2) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.s1 = s1;\r\n    \t\t\tthis.s2 = s2;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic int hashCode() {\r\n    \t\t\tfinal int prime = 31;\r\n    \t\t\tint result = 1;\r\n    \t\t\tresult = prime * result + ((s1 == null) ? 0 : s1.hashCode());\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic boolean equals(Object obj) {\r\n    \t\t\tif (this == obj)\r\n    \t\t\t\treturn true;\r\n    \t\t\tif (obj == null)\r\n    \t\t\t\treturn false;\r\n    \t\t\tif (getClass() != obj.getClass())\r\n    \t\t\t\treturn false;\r\n    \t\t\tDummy other = (Dummy) obj;\r\n    \t\t\tif (s1 == null) {\r\n    \t\t\t\tif (other.s1 != null)\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t} else if (!s1.equals(other.s1))\r\n    \t\t\t\treturn false;\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Dummy [s1=&quot; + s1 + &quot;, s2=&quot; + s2 + &quot;]&quot;;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tHashSet&lt;Object&gt;hashSet =new HashSet&lt;&gt;();\r\n    \t\tObject o1 = new Dummy(&quot;a&quot;,&quot;b&quot;);\r\n    \t\tObject o2 = new Dummy(&quot;a&quot;,&quot;c&quot;);\r\n    \t\tSystem.out.println(o1.equals(o2));\r\n    \t\thashSet.add(o1);\r\n    \t\tSystem.out.println(hashSet);\r\n    \t\thashSet.add(o2);\r\n    \t\tSystem.out.println(hashSet);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>Execute the program below and you'll see the duplicate elements are not allowed:</p>\n<pre><code>import java.util.HashSet;\n\npublic class Test {\n    public static class Dummy{\n         String s1;\n         String s2;\n        public Dummy(String s1, String s2) {\n            super();\n            this.s1 = s1;\n            this.s2 = s2;\n        }\n        @Override\n        public int hashCode() {\n            final int prime = 31;\n            int result = 1;\n            result = prime * result + ((s1 == null) ? 0 : s1.hashCode());\n            return result;\n        }\n        @Override\n        public boolean equals(Object obj) {\n            if (this == obj)\n                return true;\n            if (obj == null)\n                return false;\n            if (getClass() != obj.getClass())\n                return false;\n            Dummy other = (Dummy) obj;\n            if (s1 == null) {\n                if (other.s1 != null)\n                    return false;\n            } else if (!s1.equals(other.s1))\n                return false;\n            return true;\n        }\n        @Override\n        public String toString() {\n            return &quot;Dummy [s1=&quot; + s1 + &quot;, s2=&quot; + s2 + &quot;]&quot;;\n        }\n    }\n    \n    \n    public static void main(String[] args) {\n        HashSet&lt;Object&gt;hashSet =new HashSet&lt;&gt;();\n        Object o1 = new Dummy(&quot;a&quot;,&quot;b&quot;);\n        Object o2 = new Dummy(&quot;a&quot;,&quot;c&quot;);\n        System.out.println(o1.equals(o2));\n        hashSet.add(o1);\n        System.out.println(hashSet);\n        hashSet.add(o2);\n        System.out.println(hashSet);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1601689770,"creation_date":1601652677,"answer_id":64174317,"question_id":64174058,"body_markdown":"The IDE is displaying an excerpt from the official specification (the [javadocs][1]) for the `Set.add` method. \r\n\r\nThe IDE is correct.  Trust the official documentation, not some &quot;pretty&quot; website.\r\n\r\n-------------------------\r\n\r\n&gt; But how could people that made that site make such a big mistake then? \r\n\r\nAlways remember that the primary motivation for websites like the one you found is to earn money from your page views.  They often pay more attention to &quot;search engine optimization&quot; than they do the quality of their material.\r\n\r\n------------------------\r\n\r\n&gt; But the problem is those &quot;random&quot; sites sometimes make &#39;prettier&#39; explanation of some concepts. Official docs are sometimes too hard to follow for me as a beginner.\r\n\r\nSo which is preferable?  Something that easy to read, but wrong?  Or something that is accurate?\r\n\r\nIn this case, you cannot argue that the official document is hard to understand.  You yourself were able to see that the contradiction between the text taken from the official documentation and the 3rd-party website.\r\n\r\nMy advice us to always try to read the Official javadocs first, and always believe it ahead of any other sources ... *including StackOverflow answers!!*  The only thing that is more definitive&lt;sup&gt;1&lt;/sup&gt; is the OpenJDK source code.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - And even that is debatable.  On the one hand, the code determines what actually happens.  On the other hand, the code may change from one version to another.  So relying on behavior that is not *specified* in the javadocs may result in portability issues.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#add-E-","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>The IDE is displaying an excerpt from the official specification (the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#add-E-\" rel=\"nofollow noreferrer\">javadocs</a>) for the <code>Set.add</code> method.</p>\n<p>The IDE is correct.  Trust the official documentation, not some &quot;pretty&quot; website.</p>\n<hr />\n<blockquote>\n<p>But how could people that made that site make such a big mistake then?</p>\n</blockquote>\n<p>Always remember that the primary motivation for websites like the one you found is to earn money from your page views.  They often pay more attention to &quot;search engine optimization&quot; than they do the quality of their material.</p>\n<hr />\n<blockquote>\n<p>But the problem is those &quot;random&quot; sites sometimes make 'prettier' explanation of some concepts. Official docs are sometimes too hard to follow for me as a beginner.</p>\n</blockquote>\n<p>So which is preferable?  Something that easy to read, but wrong?  Or something that is accurate?</p>\n<p>In this case, you cannot argue that the official document is hard to understand.  You yourself were able to see that the contradiction between the text taken from the official documentation and the 3rd-party website.</p>\n<p>My advice us to always try to read the Official javadocs first, and always believe it ahead of any other sources ... <em>including StackOverflow answers!!</em>  The only thing that is more definitive<sup>1</sup> is the OpenJDK source code.</p>\n<hr />\n<p><sup>1 - And even that is debatable.  On the one hand, the code determines what actually happens.  On the other hand, the code may change from one version to another.  So relying on behavior that is not <em>specified</em> in the javadocs may result in portability issues.</sup></p>\n"},{"tags":[],"owner":{"account_id":23407827,"reputation":11,"user_id":17469957,"display_name":"Zerin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678693142,"creation_date":1678693142,"answer_id":75719108,"question_id":64174058,"body_markdown":"The IDE says &quot;unchanged&quot;, which includes two cases.\r\n\r\n1. Overwrite the old element, so keep &quot;unchanged&quot;.\r\n2. Do not modify, so keep &quot;unchanged&quot;.\r\n\r\nTo determine which case is correct, we need to look for the answer in the source code of the `add` method in `HashSet`.\r\n\r\nFirst, the `add` method calls the `put` method in `HashMap`:\r\n\r\n```java\r\npublic boolean add(E e) {\r\n    return map.put(e, PRESENT)==null;\r\n}\r\n```\r\n\r\nThen, the `put` method calls the `putVal` method:\r\n\r\n```java\r\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\r\n               boolean evict) {\r\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;\r\n    if ((tab = table) == null || (n = tab.length) == 0)\r\n        n = (tab = resize()).length;\r\n    if ((p = tab[i = (n - 1) &amp; hash]) == null)\r\n        tab[i] = newNode(hash, key, value, null);\r\n    else {\r\n        Node&lt;K,V&gt; e; K k;\r\n        if (p.hash == hash &amp;&amp;\r\n            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n            e = p;\r\n        else if (p instanceof TreeNode)\r\n            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);\r\n        else {\r\n            for (int binCount = 0; ; ++binCount) {\r\n                if ((e = p.next) == null) {\r\n                    p.next = newNode(hash, key, value, null);\r\n                    if (binCount &gt;= TREEIFY_THRESHOLD - 1)\r\n                        treeifyBin(tab, hash);\r\n                    break;\r\n                }\r\n                if (e.hash == hash &amp;&amp;\r\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\r\n                    break;\r\n                p = e;\r\n            }\r\n        }\r\n        if (e != null) { \r\n            V oldValue = e.value;\r\n            if (!onlyIfAbsent || oldValue == null)\r\n                e.value = value;\r\n            return oldValue;\r\n        }\r\n    }\r\n    ++modCount;\r\n    if (++size &gt; threshold)\r\n        resize();\r\n    return null;\r\n}\r\n```\r\n\r\nThe key part is:\r\n\r\n```java\r\nif (e != null) { \r\n    V oldValue = e.value;\r\n    if (!onlyIfAbsent || oldValue == null)\r\n        e.value = value;\r\n    return oldValue;\r\n}\r\n```\r\n\r\nFirstly, the code will check whether the found matching node `e` is null. If it is not `null`, it means that there is already a node in the hash table whose key is the same as the key of the newly inserted node, and the value of this node needs to be updated.\r\n\r\nThen, the code stores the old value of the same node in the `oldValue` variable.\r\n\r\n**Next, the code checks whether it needs to update the value of the node. If `onlyIfAbsent` is false or the old value is null, it means that the value of the node needs to be updated.** Since the `put` method passes the `onlyIfAbsent` parameter as false, it is here that a new value overwrites the old value, which proves that the first case is correct (overwrite the old element, so keep &quot;unchanged&quot;).","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>The IDE says &quot;unchanged&quot;, which includes two cases.</p>\n<ol>\n<li>Overwrite the old element, so keep &quot;unchanged&quot;.</li>\n<li>Do not modify, so keep &quot;unchanged&quot;.</li>\n</ol>\n<p>To determine which case is correct, we need to look for the answer in the source code of the <code>add</code> method in <code>HashSet</code>.</p>\n<p>First, the <code>add</code> method calls the <code>put</code> method in <code>HashMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean add(E e) {\n    return map.put(e, PRESENT)==null;\n}\n</code></pre>\n<p>Then, the <code>put</code> method calls the <code>putVal</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n               boolean evict) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;\n    if ((tab = table) == null || (n = tab.length) == 0)\n        n = (tab = resize()).length;\n    if ((p = tab[i = (n - 1) &amp; hash]) == null)\n        tab[i] = newNode(hash, key, value, null);\n    else {\n        Node&lt;K,V&gt; e; K k;\n        if (p.hash == hash &amp;&amp;\n            ((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))\n            e = p;\n        else if (p instanceof TreeNode)\n            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);\n        else {\n            for (int binCount = 0; ; ++binCount) {\n                if ((e = p.next) == null) {\n                    p.next = newNode(hash, key, value, null);\n                    if (binCount &gt;= TREEIFY_THRESHOLD - 1)\n                        treeifyBin(tab, hash);\n                    break;\n                }\n                if (e.hash == hash &amp;&amp;\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n                    break;\n                p = e;\n            }\n        }\n        if (e != null) { \n            V oldValue = e.value;\n            if (!onlyIfAbsent || oldValue == null)\n                e.value = value;\n            return oldValue;\n        }\n    }\n    ++modCount;\n    if (++size &gt; threshold)\n        resize();\n    return null;\n}\n</code></pre>\n<p>The key part is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (e != null) { \n    V oldValue = e.value;\n    if (!onlyIfAbsent || oldValue == null)\n        e.value = value;\n    return oldValue;\n}\n</code></pre>\n<p>Firstly, the code will check whether the found matching node <code>e</code> is null. If it is not <code>null</code>, it means that there is already a node in the hash table whose key is the same as the key of the newly inserted node, and the value of this node needs to be updated.</p>\n<p>Then, the code stores the old value of the same node in the <code>oldValue</code> variable.</p>\n<p><strong>Next, the code checks whether it needs to update the value of the node. If <code>onlyIfAbsent</code> is false or the old value is null, it means that the value of the node needs to be updated.</strong> Since the <code>put</code> method passes the <code>onlyIfAbsent</code> parameter as false, it is here that a new value overwrites the old value, which proves that the first case is correct (overwrite the old element, so keep &quot;unchanged&quot;).</p>\n"}],"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64174317,"answer_count":4,"score":2,"last_activity_date":1678693142,"creation_date":1601651695,"question_id":64174058,"body_markdown":"Say I want to add duplicate element in `HashSet`. We know that is not allowed. So I came across 2, let&#39;s say *theories*. \r\n\r\nUnder &#39;PROPERTIES, number 2&#39; of this [link][1], it says:\r\n\r\n&gt; HashSet does not allow duplicate elements. If you try to insert a\r\n&gt; duplicate element, older element will be overwritten\r\n\r\nBut when I check docs that are provided to me in IDE, in method `add()`, it states:\r\n \r\n\r\n&gt;     * If this set already contains the element, the call leaves the set\r\n&gt;     * unchanged and returns {@code false}.\r\n\r\nSo does it overwrite(replace) old element or it leaves the set unchanged and returns false? :) Am I crazy of they say exactly the opposite?\r\n\r\n  [1]: https://javaconceptoftheday.com/java-collection-framework-hashset-class/","title":"What happens when I add duplicate element into HashSet? Is old element overwritten or not?","body":"<p>Say I want to add duplicate element in <code>HashSet</code>. We know that is not allowed. So I came across 2, let's say <em>theories</em>.</p>\n<p>Under 'PROPERTIES, number 2' of this <a href=\"https://javaconceptoftheday.com/java-collection-framework-hashset-class/\" rel=\"nofollow noreferrer\">link</a>, it says:</p>\n<blockquote>\n<p>HashSet does not allow duplicate elements. If you try to insert a\nduplicate element, older element will be overwritten</p>\n</blockquote>\n<p>But when I check docs that are provided to me in IDE, in method <code>add()</code>, it states:</p>\n<blockquote>\n<pre><code>* If this set already contains the element, the call leaves the set\n* unchanged and returns {@code false}.\n</code></pre>\n</blockquote>\n<p>So does it overwrite(replace) old element or it leaves the set unchanged and returns false? :) Am I crazy of they say exactly the opposite?</p>\n"},{"tags":["java","copy"],"answers":[{"tags":[],"owner":{"account_id":4180297,"reputation":41806,"user_id":3425536,"accept_rate":72,"display_name":"Emil Laine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459299414,"creation_date":1459299093,"answer_id":36297739,"question_id":36297602,"body_markdown":"&gt; When making a deep copy of a String[] array is this how you would do it in a very simple way?\n\nYes.\n\nYou need to\n\n1. allocate a new object\n2. deep-copy the contents from the source object\n\nand that&#39;s exactly what your method does.\n\nNote that this only works because `String` is immutable, otherwise you would be performing a shallow copy of the contents.","title":"Basic Deep Copy, Java","body":"<blockquote>\n  <p>When making a deep copy of a String[] array is this how you would do it in a very simple way?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>You need to</p>\n\n<ol>\n<li>allocate a new object</li>\n<li>deep-copy the contents from the source object</li>\n</ol>\n\n<p>and that's exactly what your method does.</p>\n\n<p>Note that this only works because <code>String</code> is immutable, otherwise you would be performing a shallow copy of the contents.</p>\n"},{"tags":[],"owner":{"account_id":27973978,"reputation":13,"user_id":21363174,"display_name":"pik4760"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678693100,"creation_date":1678363480,"answer_id":75684368,"question_id":36297602,"body_markdown":"I think you can also use `Arrays.copyOf(others,others.length)` for a deep copy.","title":"Basic Deep Copy, Java","body":"<p>I think you can also use <code>Arrays.copyOf(others,others.length)</code> for a deep copy.</p>\n"}],"owner":{"account_id":7670095,"reputation":132,"user_id":5812645,"accept_rate":60,"display_name":"CabDude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36297739,"answer_count":2,"score":0,"last_activity_date":1678693100,"creation_date":1459298207,"question_id":36297602,"body_markdown":"Okay, so i know there is a million questions out there on deep copy but i still have a hard time understanding because there is all this talk about cloning and serialization and what not. When making a deep copy of a String[] array is this how you would do it in a very simple way? without validating.\r\n\r\n    public String[] copyString(String[] others)\r\n      {\r\n        String[] copy = new String[others.length];\r\n        for (int i = 0; i &lt; others.length; i++)\r\n        {\r\n          copy[i] = others[i];\r\n        }\r\n        \r\n        return copy;\r\n      }","title":"Basic Deep Copy, Java","body":"<p>Okay, so i know there is a million questions out there on deep copy but i still have a hard time understanding because there is all this talk about cloning and serialization and what not. When making a deep copy of a String[] array is this how you would do it in a very simple way? without validating.</p>\n\n<pre><code>public String[] copyString(String[] others)\n  {\n    String[] copy = new String[others.length];\n    for (int i = 0; i &lt; others.length; i++)\n    {\n      copy[i] = others[i];\n    }\n\n    return copy;\n  }\n</code></pre>\n"},{"tags":["java","android","c++","android-studio","android-ndk"],"comments":[{"owner":{"account_id":3530120,"reputation":6781,"user_id":2949966,"display_name":"ahasbini"},"score":0,"creation_date":1534200792,"post_id":51693989,"comment_id":90617281,"body_markdown":"The difference between current C++ NDK in Android Studio 3.X and the one used for the development of Card.io is the build/compilation tools which respectively are CMake and NDK-build. Android Studio and the Android Gradle Plugin have better integrations with CMake as they recommend it for any new project. So creating a new project and debugging it would mean ur using the newer integrations and not the one used for the development of card.io. To find the proper way of debugging card.io, one would need to create an new NDK-Build project and try it. https://developer.android.com/ndk/guides/","body":"The difference between current C++ NDK in Android Studio 3.X and the one used for the development of Card.io is the build/compilation tools which respectively are CMake and NDK-build. Android Studio and the Android Gradle Plugin have better integrations with CMake as they recommend it for any new project. So creating a new project and debugging it would mean ur using the newer integrations and not the one used for the development of card.io. To find the proper way of debugging card.io, one would need to create an new NDK-Build project and try it. <a href=\"https://developer.android.com/ndk/guides/\" rel=\"nofollow noreferrer\">developer.android.com/ndk/guides</a>"},{"owner":{"account_id":5472107,"reputation":1492,"user_id":4351182,"accept_rate":86,"display_name":"Alexander Belokon"},"score":0,"creation_date":1534244577,"post_id":51693989,"comment_id":90632702,"body_markdown":"But where is the integration defined? In a new project for example I can switch from CMake to NDK-build and debugging will still work. I just can&#39;t see then where the difference is in regard to the card.io project.","body":"But where is the integration defined? In a new project for example I can switch from CMake to NDK-build and debugging will still work. I just can&#39;t see then where the difference is in regard to the card.io project."}],"answers":[{"tags":[],"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1533883845,"creation_date":1533820659,"answer_id":51768109,"question_id":51693989,"body_markdown":"As per [this link][1] read **Compile** section..\r\n\r\n&gt; If everything is set up properly, the NDK build will be invoked by\r\n&gt; gradle when card.io is built. But for debugging, you can use `./gradlew`\r\n&gt; `buildNative` to kick off just this portion of the build.\r\n\r\nIf you face any errors in `./gradlew buildNative` then check [this thread][2].\r\n\r\nI didn&#39;t check it, So Hope it works.\r\n\r\n\r\n  [1]: https://github.com/card-io/card.io-Android-source/tree/master/card.io/src/main/jni\r\n  [2]: https://github.com/card-io/card.io-Android-source/issues/60","title":"Android Studio - Enable native C++ debugging in existing older project (card.io Android Source)","body":"<p>As per <a href=\"https://github.com/card-io/card.io-Android-source/tree/master/card.io/src/main/jni\" rel=\"nofollow noreferrer\">this link</a> read <strong>Compile</strong> section..</p>\n\n<blockquote>\n  <p>If everything is set up properly, the NDK build will be invoked by\n  gradle when card.io is built. But for debugging, you can use <code>./gradlew</code>\n  <code>buildNative</code> to kick off just this portion of the build.</p>\n</blockquote>\n\n<p>If you face any errors in <code>./gradlew buildNative</code> then check <a href=\"https://github.com/card-io/card.io-Android-source/issues/60\" rel=\"nofollow noreferrer\">this thread</a>.</p>\n\n<p>I didn't check it, So Hope it works.</p>\n"}],"owner":{"account_id":5472107,"reputation":1492,"user_id":4351182,"accept_rate":86,"display_name":"Alexander Belokon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":1,"score":18,"last_activity_date":1678692907,"creation_date":1533469182,"question_id":51693989,"body_markdown":"I am currently trying to understand how the native implementation of the [card.io Android Source][1] does work. For this purpose, it would be great to have the possibility to debug the native `C++` code. Currently, my breakpoints are not respected. \r\n\r\nI did try the following approaches:\r\n\r\n1. Adjust the Application make file (Application.mk):\r\n\r\n       APP_ABI := armeabi-v7a\r\n       APP_CFLAGS += -UNDEBUG -O0 -g -ggdb \r\n       APP_OPTIM := debug\r\n       APP_CPPFLAGS += -DDMZ_DEBUG=1\r\n\r\n2. Add buildtype to the build.gradle file of the SampleApp\r\n\r\n       buildTypes {\r\n           release {\r\n               minifyEnabled true\r\n               proguardFile getDefaultProguardFile(&#39;proguard-android.txt&#39;)\r\n           }\r\n           debug {\r\n               debuggable true\r\n           }\r\n       }\r\n\r\n  [1]: https://github.com/card-io/card.io-Android-source\r\n\r\n**Note:**\r\nI am using `Android Studio 3.1` with `Ubuntu 16.04` *(64-bit)* and if I create a new project with `C++` support, debugging is perfectly working.\r\n\r\nWe are debugging on an `Android 7.0` device; the project is using an `NDK-build` system.","title":"Android Studio - Enable native C++ debugging in existing older project (card.io Android Source)","body":"<p>I am currently trying to understand how the native implementation of the <a href=\"https://github.com/card-io/card.io-Android-source\" rel=\"nofollow noreferrer\">card.io Android Source</a> does work. For this purpose, it would be great to have the possibility to debug the native <code>C++</code> code. Currently, my breakpoints are not respected.</p>\n<p>I did try the following approaches:</p>\n<ol>\n<li><p>Adjust the Application make file (Application.mk):</p>\n<pre><code>APP_ABI := armeabi-v7a\nAPP_CFLAGS += -UNDEBUG -O0 -g -ggdb \nAPP_OPTIM := debug\nAPP_CPPFLAGS += -DDMZ_DEBUG=1\n</code></pre>\n</li>\n<li><p>Add buildtype to the build.gradle file of the SampleApp</p>\n<pre><code>buildTypes {\n    release {\n        minifyEnabled true\n        proguardFile getDefaultProguardFile('proguard-android.txt')\n    }\n    debug {\n        debuggable true\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p><strong>Note:</strong>\nI am using <code>Android Studio 3.1</code> with <code>Ubuntu 16.04</code> <em>(64-bit)</em> and if I create a new project with <code>C++</code> support, debugging is perfectly working.</p>\n<p>We are debugging on an <code>Android 7.0</code> device; the project is using an <code>NDK-build</code> system.</p>\n"},{"tags":["java","rest","curl","oauth-2.0","collabnet"],"comments":[{"owner":{"account_id":13132281,"reputation":116,"user_id":9486436,"display_name":"JPinzon01"},"score":0,"creation_date":1542988515,"post_id":53447784,"comment_id":93772000,"body_markdown":"Your Java code is using a JSON body, but the bash script has the parameters in the post request directly, not in a JSON body. Have you tried calling it the same way?","body":"Your Java code is using a JSON body, but the bash script has the parameters in the post request directly, not in a JSON body. Have you tried calling it the same way?"},{"owner":{"account_id":8172523,"reputation":89,"user_id":6152465,"display_name":"Sao Pavli"},"score":0,"creation_date":1543433328,"post_id":53447784,"comment_id":93922312,"body_markdown":"@JPinzon01 You mean creating a POST request with parameters in the URL?\nExample:POST: www.myapi.com?grant_type=password&amp;client_id=api-client&amp;scope=$scope&amp;username=$username&amp;password=$password","body":"@JPinzon01 You mean creating a POST request with parameters in the URL? Example:POST: www.myapi.com?grant_type=password&amp;client_id=api-client&amp;scope&zwnj;&#8203;=$scope&amp;username=$us&zwnj;&#8203;ername&amp;password=$pas&zwnj;&#8203;sword"},{"owner":{"account_id":13132281,"reputation":116,"user_id":9486436,"display_name":"JPinzon01"},"score":0,"creation_date":1543525593,"post_id":53447784,"comment_id":93961721,"body_markdown":"Not in the URL, but in the body. You can try putting the same string you use for the bash script instead of the JSON. The thing is the Oauth2 server is not expecting a JSON request, is expecting a regular POST with HTTP parameters in the body. The response is a JSON object, but the request doesn&#39;t have to be the same format.","body":"Not in the URL, but in the body. You can try putting the same string you use for the bash script instead of the JSON. The thing is the Oauth2 server is not expecting a JSON request, is expecting a regular POST with HTTP parameters in the body. The response is a JSON object, but the request doesn&#39;t have to be the same format."},{"owner":{"account_id":8172523,"reputation":89,"user_id":6152465,"display_name":"Sao Pavli"},"score":0,"creation_date":1543999858,"post_id":53447784,"comment_id":94116416,"body_markdown":"Thank you for the comment, but I tried like you suggested and it is still now working. Error message &quot;{&quot;error_description&quot;:&quot;Invalid request&quot;,&quot;error&quot;:&quot;invalid_request&quot;}&quot;","body":"Thank you for the comment, but I tried like you suggested and it is still now working. Error message &quot;{&quot;error_description&quot;:&quot;Invalid request&quot;,&quot;error&quot;:&quot;invalid_request&quot;}&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1975340,"reputation":561,"user_id":1773237,"display_name":"Hhovhann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547030358,"creation_date":1547026828,"answer_id":54107069,"question_id":53447784,"body_markdown":"Please try:\r\n\r\n    JsonNode jsonResponse = Unirest.post(&quot;https://teamforge.example.com/sf/auth/token&quot;)\r\n    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    .field(&quot;scope&quot;, &quot;urn:ctf:services:ctf&quot;)\r\n    .field(&quot;client_id&quot;, &quot;api-client&quot;)\r\n    .field(&quot;grant_type&quot;, &quot;password&quot;)\r\n    .field(&quot;username&quot;, &quot;foo&quot;)\r\n    .field(&quot;password&quot;, &quot;bar&quot;)\r\n    .asJson()\r\n    .getBody();\r\n\r\nAnd one more question are you sure about grant type ?&lt;br&gt;\r\n`grant_type = client_credentials` maybe you need something like this.","title":"Java OAuth 2.0 get access token","body":"<p>Please try:</p>\n\n<pre><code>JsonNode jsonResponse = Unirest.post(\"https://teamforge.example.com/sf/auth/token\")\n.header(\"Content-Type\", \"application/json\")\n.field(\"scope\", \"urn:ctf:services:ctf\")\n.field(\"client_id\", \"api-client\")\n.field(\"grant_type\", \"password\")\n.field(\"username\", \"foo\")\n.field(\"password\", \"bar\")\n.asJson()\n.getBody();\n</code></pre>\n\n<p>And one more question are you sure about grant type ?<br>\n<code>grant_type = client_credentials</code> maybe you need something like this.</p>\n"},{"tags":[],"owner":{"account_id":27964262,"reputation":1,"user_id":21355440,"display_name":"Mohmmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678692847,"creation_date":1678271103,"answer_id":75671825,"question_id":53447784,"body_markdown":"    HttpResponse&lt;String&gt; authTokenResponse=Unirest.post(OAUTH_URL)\r\n    .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n    .body(&quot;grant_type=client_credentials&amp;client_id=&quot;+ CLIENT_ID + &quot;&amp;client_secret=&quot; + CLIENT_SECRET).asString();\r\n    \r\n    \r\n    \t\t\t\t\r\n    return new JSONObject(authTokenResponse.getBody()).getString(&quot;access_token&quot;);","title":"Java OAuth 2.0 get access token","body":"<pre><code>HttpResponse&lt;String&gt; authTokenResponse=Unirest.post(OAUTH_URL)\n.header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n.body(&quot;grant_type=client_credentials&amp;client_id=&quot;+ CLIENT_ID + &quot;&amp;client_secret=&quot; + CLIENT_SECRET).asString();\n\n\n                \nreturn new JSONObject(authTokenResponse.getBody()).getString(&quot;access_token&quot;);\n</code></pre>\n"}],"owner":{"account_id":8172523,"reputation":89,"user_id":6152465,"display_name":"Sao Pavli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678692847,"creation_date":1542980400,"question_id":53447784,"body_markdown":"I want to get **access token OAuth 2.0** from REST API via **Java** code, the thing is that I&#39;ve managed to successfully get it back from the server with **Bash** script (curl command)\r\n\r\n**Bash script (working):**\r\n\r\n    #!/usr/bin/env bash\r\n\r\n           # Base URL of TeamForge site.\r\n           site_url=&quot;https://teamforge.example.com&quot;\r\n\r\n           # TeamForge authentication credentials.\r\n           username=&quot;foo&quot;\r\n           password=&quot;bar&quot;\r\n\r\n           # Requested scope (all)\r\n           scope=&quot;urn:ctf:services:ctf\r\n\r\n           curl -d &quot;grant_type=password&amp;client_id=api-client&amp;scope=$scope&amp;username=$username&amp;password=$password&quot; $site_url/sf/auth/token\r\n\r\nWith that code snippet I&#39;got this response:\r\n\r\n      {\r\n             &quot;access_token&quot;: &quot;eyJraWQiOiIxIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJhZG1pbiIsImF1ZCI...&quot;,\r\n             &quot;token_type&quot;: &quot;Bearer&quot;\r\n           }\r\n\r\n\r\nWhen I&#39;ve tried to translate it to **Java** code using **Unirest** :\r\n\r\n      HttpResponse&lt;JsonNode&gt; jsonResponse = Unirest.post(&quot;\\&quot;https://teamforge.example.com/sf/auth/token&quot;)\r\n                    .header(&quot;accept&quot;, &quot;application/json&quot;)\r\n                    .body(&quot;{\\&quot;grant_type\\&quot;:\\&quot;password\\&quot;,&quot; +\r\n                            &quot;\\&quot;client_id\\&quot;:\\&quot;api-client\\&quot;, &quot; +\r\n                            &quot;\\&quot;scope\\&quot;:\\&quot;urn:ctf:services:ctf\\&quot;,&quot; +\r\n                            &quot;\\&quot;username\\&quot;:\\&quot;foo\\&quot;,&quot; +\r\n                            &quot;\\&quot;password\\&quot;:\\&quot;bar\\&quot;}&quot;)\r\n\r\n                    .asJson();\r\n\r\n            System.out.println(jsonResponse.getBody());\r\n\r\n\r\n\r\nResponse was:\r\n\r\n    {&quot;error_description&quot;:&quot;Invalid grant&quot;,&quot;error&quot;:&quot;invalid_grant&quot;}\r\n\r\nAfter a couple of researches and tries, I still don&#39;t know what am I missing in my Java code request. Can someone help me to add missing stuff or guide me to right directions?\r\n\r\nCollabNet docs: \r\n\r\nSaso","title":"Java OAuth 2.0 get access token","body":"<p>I want to get <strong>access token OAuth 2.0</strong> from REST API via <strong>Java</strong> code, the thing is that I've managed to successfully get it back from the server with <strong>Bash</strong> script (curl command)</p>\n\n<p><strong>Bash script (working):</strong></p>\n\n<pre><code>#!/usr/bin/env bash\n\n       # Base URL of TeamForge site.\n       site_url=\"https://teamforge.example.com\"\n\n       # TeamForge authentication credentials.\n       username=\"foo\"\n       password=\"bar\"\n\n       # Requested scope (all)\n       scope=\"urn:ctf:services:ctf\n\n       curl -d \"grant_type=password&amp;client_id=api-client&amp;scope=$scope&amp;username=$username&amp;password=$password\" $site_url/sf/auth/token\n</code></pre>\n\n<p>With that code snippet I'got this response:</p>\n\n<pre><code>  {\n         \"access_token\": \"eyJraWQiOiIxIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJhZG1pbiIsImF1ZCI...\",\n         \"token_type\": \"Bearer\"\n       }\n</code></pre>\n\n<p>When I've tried to translate it to <strong>Java</strong> code using <strong>Unirest</strong> :</p>\n\n<pre><code>  HttpResponse&lt;JsonNode&gt; jsonResponse = Unirest.post(\"\\\"https://teamforge.example.com/sf/auth/token\")\n                .header(\"accept\", \"application/json\")\n                .body(\"{\\\"grant_type\\\":\\\"password\\\",\" +\n                        \"\\\"client_id\\\":\\\"api-client\\\", \" +\n                        \"\\\"scope\\\":\\\"urn:ctf:services:ctf\\\",\" +\n                        \"\\\"username\\\":\\\"foo\\\",\" +\n                        \"\\\"password\\\":\\\"bar\\\"}\")\n\n                .asJson();\n\n        System.out.println(jsonResponse.getBody());\n</code></pre>\n\n<p>Response was:</p>\n\n<pre><code>{\"error_description\":\"Invalid grant\",\"error\":\"invalid_grant\"}\n</code></pre>\n\n<p>After a couple of researches and tries, I still don't know what am I missing in my Java code request. Can someone help me to add missing stuff or guide me to right directions?</p>\n\n<p>CollabNet docs: </p>\n\n<p>Saso</p>\n"},{"tags":["java","addition","element","arraydeque"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":1,"creation_date":1373619110,"post_id":17611016,"comment_id":25633916,"body_markdown":"+1 for the better explanation,though first question.","body":"+1 for the better explanation,though first question."},{"owner":{"account_id":1766006,"reputation":1705,"user_id":1611881,"display_name":"Alexey Odintsov"},"score":0,"creation_date":1373619465,"post_id":17611016,"comment_id":25634095,"body_markdown":"You may extend ArrayDeque class and implement your own methods for adding new elements.","body":"You may extend ArrayDeque class and implement your own methods for adding new elements."}],"answers":[{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1373619219,"creation_date":1373619219,"answer_id":17611054,"question_id":17611016,"body_markdown":"You can simple create the new item in the call of add:\r\n\r\n    items.add(new Item(&quot;CoffeTable&quot;, &quot;brown&quot;));\r\n\r\nSo you don&#39;t need an explicit variable.\r\n\r\nAlso note that in Java variable names normally start with a lower case character.","title":"ArrayDeque add multiple elements","body":"<p>You can simple create the new item in the call of add:</p>\n\n<pre><code>items.add(new Item(\"CoffeTable\", \"brown\"));\n</code></pre>\n\n<p>So you don't need an explicit variable.</p>\n\n<p>Also note that in Java variable names normally start with a lower case character.</p>\n"},{"tags":[],"owner":{"account_id":134839,"reputation":8888,"user_id":337251,"accept_rate":75,"display_name":"Tala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373621659,"creation_date":1373619308,"answer_id":17611079,"question_id":17611016,"body_markdown":"You will have to create a new object anyway to hold these 2 values.\r\nYou can do this:\r\n\r\n    Items.add(new Item(&quot;CoffeTable&quot;, &quot;brown&quot;));\r\n\r\nAnything else you come up with will be syntactic sugar for the above\r\n\r\nFor example: you can add a `static` method to your class:\r\n\r\n    public static Item item(String k1, String k2) { \r\n        return new Item(k1, k2);\r\n    }\r\n\r\nAnd use it later:\r\n\r\n    Items.add(item(&quot;CoffeTable&quot;, &quot;Brown&quot;));\r\n\r\n    ","title":"ArrayDeque add multiple elements","body":"<p>You will have to create a new object anyway to hold these 2 values.\nYou can do this:</p>\n\n<pre><code>Items.add(new Item(\"CoffeTable\", \"brown\"));\n</code></pre>\n\n<p>Anything else you come up with will be syntactic sugar for the above</p>\n\n<p>For example: you can add a <code>static</code> method to your class:</p>\n\n<pre><code>public static Item item(String k1, String k2) { \n    return new Item(k1, k2);\n}\n</code></pre>\n\n<p>And use it later:</p>\n\n<pre><code>Items.add(item(\"CoffeTable\", \"Brown\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373620938,"creation_date":1373620938,"answer_id":17611589,"question_id":17611016,"body_markdown":"Here is a solution which would surely work. You can add a function to your class itemAdd() as follows:\r\n\r\n    class Samp {\r\n        public static void main(String args[]){\r\n            //code.....\r\n            ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\r\n            Items.add(itemAdd(&quot;CoffeeTable&quot;, &quot;brown&quot;));\r\n            //rest of code....\r\n        }\r\n        public static Item itemAdd(String tableType,String colourOfTable){\r\n            return new Item(tableType,colourOfTable);\r\n        }\r\n    }\r\n    class Item{\r\n        String tableType;\r\n        String colourOfTable;\r\n        Item(String tableType,String colourOfTable ){\r\n            this.tableType=tableType;\r\n            this.colourOfTable=colourOfTable;\r\n        }\r\n    }\r\n\r\nIts similar to what u need to do!! Best of luck :)","title":"ArrayDeque add multiple elements","body":"<p>Here is a solution which would surely work. You can add a function to your class itemAdd() as follows:</p>\n\n<pre><code>class Samp {\n    public static void main(String args[]){\n        //code.....\n        ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\n        Items.add(itemAdd(\"CoffeeTable\", \"brown\"));\n        //rest of code....\n    }\n    public static Item itemAdd(String tableType,String colourOfTable){\n        return new Item(tableType,colourOfTable);\n    }\n}\nclass Item{\n    String tableType;\n    String colourOfTable;\n    Item(String tableType,String colourOfTable ){\n        this.tableType=tableType;\n        this.colourOfTable=colourOfTable;\n    }\n}\n</code></pre>\n\n<p>Its similar to what u need to do!! Best of luck :)</p>\n"},{"tags":[],"owner":{"account_id":27972735,"reputation":1,"user_id":21362159,"display_name":"SOURAV JAISWAL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678692723,"creation_date":1678354815,"answer_id":75682772,"question_id":17611016,"body_markdown":"For input multiple values in Queue use this:\r\n\r\n    Queue&lt;Integer&gt; q1 = new ArrayDeque&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10));\r\n\r\nYou can also use LinkedList instead of ArrayDeque.\r\n\r\nWith this command you can simply put multiple values in a Queue/Linkedlist.\r\n","title":"ArrayDeque add multiple elements","body":"<p>For input multiple values in Queue use this:</p>\n<pre><code>Queue&lt;Integer&gt; q1 = new ArrayDeque&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10));\n</code></pre>\n<p>You can also use LinkedList instead of ArrayDeque.</p>\n<p>With this command you can simply put multiple values in a Queue/Linkedlist.</p>\n"}],"owner":{"account_id":3036204,"reputation":149,"user_id":2574235,"accept_rate":100,"display_name":"Martynas ukovas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3309,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17611054,"answer_count":4,"score":6,"last_activity_date":1678692723,"creation_date":1373619079,"question_id":17611016,"body_markdown":"Im using `arraydeque` to create list of items and pass them parameters(Items is class)\r\n\r\n    ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\r\n\r\nBut I have problem with java ArrayDeque. Maybe there are ways to add more than one element at once. \r\nFor example. I want add at the same time `TableType` and `colourOfTable` into ArrayDeque.\r\n\r\nIn c++ I could have done it with this\r\n\r\n    vector&lt;Item&gt;Items\r\n\r\n    Items.push_back(Item(&quot;CoffeeTable&quot;, &quot;brown&quot;));\r\n\r\n\r\nI want to do the same thing with Java. Instead of creating a new obj for every item, as:\r\n\r\n    ArrayDeque&lt;Item&gt; Items = new ArrayDeque&lt;Item&gt;();\r\n    \r\n    Item obj = new Item(&quot;CoffeTable&quot;, &quot;brown&quot;); \r\n    Items.add(obj);\r\n\r\n    Item obj1 = new Item(&quot;DinnerTable&quot;, &quot;Black&quot;); \r\n    Items.add(obj1);\r\n\r\nBut instead of `obj` I want to add  `&quot;CoffeTable&quot;, &quot;brown&quot;` at the same time and with one code line (like in c++ example) into the `Items` array.\r\n\r\nI tried something like that\r\n\r\n    ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\r\n    \r\n    Items.add(Items(&quot;CoffeTable&quot;, &quot;brown&quot;)); \r\n\r\n   But then  got the error while creating create method &#39;Items(String,String)&#39;\r\n\r\n    \t\t\r\n\r\n","title":"ArrayDeque add multiple elements","body":"<p>Im using <code>arraydeque</code> to create list of items and pass them parameters(Items is class)</p>\n\n<pre><code>ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\n</code></pre>\n\n<p>But I have problem with java ArrayDeque. Maybe there are ways to add more than one element at once. \nFor example. I want add at the same time <code>TableType</code> and <code>colourOfTable</code> into ArrayDeque.</p>\n\n<p>In c++ I could have done it with this</p>\n\n<pre><code>vector&lt;Item&gt;Items\n\nItems.push_back(Item(\"CoffeeTable\", \"brown\"));\n</code></pre>\n\n<p>I want to do the same thing with Java. Instead of creating a new obj for every item, as:</p>\n\n<pre><code>ArrayDeque&lt;Item&gt; Items = new ArrayDeque&lt;Item&gt;();\n\nItem obj = new Item(\"CoffeTable\", \"brown\"); \nItems.add(obj);\n\nItem obj1 = new Item(\"DinnerTable\", \"Black\"); \nItems.add(obj1);\n</code></pre>\n\n<p>But instead of <code>obj</code> I want to add  <code>\"CoffeTable\", \"brown\"</code> at the same time and with one code line (like in c++ example) into the <code>Items</code> array.</p>\n\n<p>I tried something like that</p>\n\n<pre><code>ArrayDeque&lt;Item&gt; Items= new ArrayDeque&lt;Item&gt;();\n\nItems.add(Items(\"CoffeTable\", \"brown\")); \n</code></pre>\n\n<p>But then  got the error while creating create method 'Items(String,String)'</p>\n"},{"tags":["java","dictionary","java-8","java-stream"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1444029743,"post_id":32943179,"comment_id":53711506,"body_markdown":"&quot;using only Java 8&quot; is pretty vague, since anything you can do in Java 7 can also be done in Java 8.","body":"&quot;using only Java 8&quot; is pretty vague, since anything you can do in Java 7 can also be done in Java 8."},{"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"score":3,"creation_date":1444030030,"post_id":32943179,"comment_id":53711654,"body_markdown":"What is meant is using Java 8, without any libraries. Libraries would defeat the purpose if this exercise. Java 8 also comes with some nice apis, and syntax changes, that Java 7 doesn&#39;t have. Which opens up for some elegant programming.","body":"What is meant is using Java 8, without any libraries. Libraries would defeat the purpose if this exercise. Java 8 also comes with some nice apis, and syntax changes, that Java 7 doesn&#39;t have. Which opens up for some elegant programming."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":3,"creation_date":1444032875,"post_id":32943179,"comment_id":53713064,"body_markdown":"A side note: if you wish to create a URL query string, you&#39;re doing this in the wrong way as you need to escape special characters which may appear in key names or values.","body":"A side note: if you wish to create a URL query string, you&#39;re doing this in the wrong way as you need to escape special characters which may appear in key names or values."},{"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"score":0,"creation_date":1444032970,"post_id":32943179,"comment_id":53713100,"body_markdown":"Good point @TagirValeev.","body":"Good point @TagirValeev."}],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1444030031,"creation_date":1444030031,"answer_id":32943274,"question_id":32943179,"body_markdown":"You can grab the stream of the map&#39;s entry set, then map each entry to the string representation you want, joining them in a single string using [`Collectors.joining(CharSequence delimiter)`][1].\r\n\r\n\r\n    import static java.util.stream.Collectors.joining;\r\n    \r\n    String s = attributes.entrySet()\r\n                         .stream()\r\n                         .map(e -&gt; e.getKey()+&quot;=&quot;+e.getValue())\r\n                         .collect(joining(&quot;&amp;&quot;));\r\n\r\nBut since the entry&#39;s `toString()` already output its content in the format `key=value`, you can call its `toString` method directly:\r\n\r\n    String s = attributes.entrySet()\r\n                         .stream()\r\n                         .map(Object::toString)\r\n                         .collect(joining(&quot;&amp;&quot;));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-","title":"Most elegant way to join a Map to a String in Java 8","body":"<p>You can grab the stream of the map's entry set, then map each entry to the string representation you want, joining them in a single string using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\"><code>Collectors.joining(CharSequence delimiter)</code></a>.</p>\n\n<pre><code>import static java.util.stream.Collectors.joining;\n\nString s = attributes.entrySet()\n                     .stream()\n                     .map(e -&gt; e.getKey()+\"=\"+e.getValue())\n                     .collect(joining(\"&amp;\"));\n</code></pre>\n\n<p>But since the entry's <code>toString()</code> already output its content in the format <code>key=value</code>, you can call its <code>toString</code> method directly:</p>\n\n<pre><code>String s = attributes.entrySet()\n                     .stream()\n                     .map(Object::toString)\n                     .collect(joining(\"&amp;\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678691751,"creation_date":1574645549,"answer_id":59024142,"question_id":32943179,"body_markdown":"     public static void main(String[] args) {\r\n    \r\n    \r\n            HashMap&lt;String,Integer&gt; newPhoneBook = new HashMap(){{\r\n                putIfAbsent(&quot;Arpan&quot;,80186787);\r\n                putIfAbsent(&quot;Sanjay&quot;,80186788);\r\n                putIfAbsent(&quot;Kiran&quot;,80186789);\r\n                putIfAbsent(&quot;Pranjay&quot;,80186790);\r\n                putIfAbsent(&quot;Jaiparkash&quot;,80186791);\r\n                putIfAbsent(&quot;Maya&quot;,80186792);\r\n                putIfAbsent(&quot;Rythem&quot;,80186793);\r\n                putIfAbsent(&quot;Preeti&quot;,80186794);\r\n    \r\n            }};\r\n    \r\n    \r\n            /**Compining Key and Value pairs and then separate each pair by some delimiter and the add prefix and Suffix*/\r\n            String keyValueCombinedString = newPhoneBook.entrySet().stream().\r\n                    // you can improve the performance by avoiding &quot;+&quot;\r\n                    // &quot;map(entrySet -&gt; &quot;%s:%s&quot;.formatted(entrySet.getKey(), entrySet.getValue()).&quot;\r\n                    map(entrySet -&gt; entrySet.getKey() + &quot;:&quot;+ entrySet.getValue()).\r\n                    collect(Collectors.joining(&quot;,&quot; , &quot;[&quot;,&quot;]&quot;));\r\n            System.out.println(keyValueCombinedString);\r\n    \r\n            /**\r\n             *  OUTPUT : [Kiran:80186789,Arpan:80186787,Pranjay:80186790,Jaiparkash:80186791,Maya:80186792,Sanjay:80186788,Preeti:80186794,Rythem:80186793]\r\n             *\r\n             * */\r\n    \r\n    \r\n            String keyValueCombinedString1 = newPhoneBook.entrySet().stream().\r\n                    map(Objects::toString).\r\n                    collect(Collectors.joining(&quot;,&quot; , &quot;[&quot;,&quot;]&quot;));\r\n            System.out.println(keyValueCombinedString1);\r\n    \r\n            /**\r\n             * Objects::toString method concate key and value pairs by =\r\n             * OUTPUT : [Kiran=80186789,Arpan=80186787,Pranjay=80186790,Jaiparkash=80186791,Maya=80186792,Sanjay=80186788,Preeti=80186794,Rythem=80186793]\r\n             * */\r\n    \r\n        }\r\n    \r\n    &gt; Blockquote","title":"Most elegant way to join a Map to a String in Java 8","body":"<pre><code> public static void main(String[] args) {\n\n\n        HashMap&lt;String,Integer&gt; newPhoneBook = new HashMap(){{\n            putIfAbsent(&quot;Arpan&quot;,80186787);\n            putIfAbsent(&quot;Sanjay&quot;,80186788);\n            putIfAbsent(&quot;Kiran&quot;,80186789);\n            putIfAbsent(&quot;Pranjay&quot;,80186790);\n            putIfAbsent(&quot;Jaiparkash&quot;,80186791);\n            putIfAbsent(&quot;Maya&quot;,80186792);\n            putIfAbsent(&quot;Rythem&quot;,80186793);\n            putIfAbsent(&quot;Preeti&quot;,80186794);\n\n        }};\n\n\n        /**Compining Key and Value pairs and then separate each pair by some delimiter and the add prefix and Suffix*/\n        String keyValueCombinedString = newPhoneBook.entrySet().stream().\n                // you can improve the performance by avoiding &quot;+&quot;\n                // &quot;map(entrySet -&gt; &quot;%s:%s&quot;.formatted(entrySet.getKey(), entrySet.getValue()).&quot;\n                map(entrySet -&gt; entrySet.getKey() + &quot;:&quot;+ entrySet.getValue()).\n                collect(Collectors.joining(&quot;,&quot; , &quot;[&quot;,&quot;]&quot;));\n        System.out.println(keyValueCombinedString);\n\n        /**\n         *  OUTPUT : [Kiran:80186789,Arpan:80186787,Pranjay:80186790,Jaiparkash:80186791,Maya:80186792,Sanjay:80186788,Preeti:80186794,Rythem:80186793]\n         *\n         * */\n\n\n        String keyValueCombinedString1 = newPhoneBook.entrySet().stream().\n                map(Objects::toString).\n                collect(Collectors.joining(&quot;,&quot; , &quot;[&quot;,&quot;]&quot;));\n        System.out.println(keyValueCombinedString1);\n\n        /**\n         * Objects::toString method concate key and value pairs by =\n         * OUTPUT : [Kiran=80186789,Arpan=80186787,Pranjay=80186790,Jaiparkash=80186791,Maya=80186792,Sanjay=80186788,Preeti=80186794,Rythem=80186793]\n         * */\n\n    }\n\n&gt; Blockquote\n</code></pre>\n"}],"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35887,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":32943274,"answer_count":2,"score":36,"last_activity_date":1678691751,"creation_date":1444029675,"question_id":32943179,"body_markdown":"I love [Guava](https://github.com/google/guava), and I&#39;ll continue to use Guava a lot. But, where it makes sense, I try to use the &quot;new stuff&quot; in *Java 8* instead.\r\n\r\n**&quot;Problem&quot;**\r\n\r\nLets say I want to join url attributes in a `String`. In *Guava* I would do it like this:\r\n\r\n    Map&lt;String, String&gt; attributes = new HashMap&lt;&gt;();\r\n    attributes.put(&quot;a&quot;, &quot;1&quot;);\r\n    attributes.put(&quot;b&quot;, &quot;2&quot;);\r\n    attributes.put(&quot;c&quot;, &quot;3&quot;);\r\n    \r\n    // Guava way\r\n    String result = Joiner.on(&quot;&amp;&quot;).withKeyValueSeparator(&quot;=&quot;).join(attributes);\r\n\r\nWhere the `result` is `a=1&amp;b=2&amp;c=3`.\r\n\r\n**Question**\r\n\r\nWhat is the most elegant way to do this in *Java 8* (without any 3rd party libraries)?","title":"Most elegant way to join a Map to a String in Java 8","body":"<p>I love <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a>, and I'll continue to use Guava a lot. But, where it makes sense, I try to use the \"new stuff\" in <em>Java 8</em> instead.</p>\n\n<p><strong>\"Problem\"</strong></p>\n\n<p>Lets say I want to join url attributes in a <code>String</code>. In <em>Guava</em> I would do it like this:</p>\n\n<pre><code>Map&lt;String, String&gt; attributes = new HashMap&lt;&gt;();\nattributes.put(\"a\", \"1\");\nattributes.put(\"b\", \"2\");\nattributes.put(\"c\", \"3\");\n\n// Guava way\nString result = Joiner.on(\"&amp;\").withKeyValueSeparator(\"=\").join(attributes);\n</code></pre>\n\n<p>Where the <code>result</code> is <code>a=1&amp;b=2&amp;c=3</code>.</p>\n\n<p><strong>Question</strong></p>\n\n<p>What is the most elegant way to do this in <em>Java 8</em> (without any 3rd party libraries)?</p>\n"},{"tags":["java","android","xml","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678778463,"post_id":75709194,"comment_id":133594653,"body_markdown":"What exactly do you call a crash in all those lines of code?","body":"What exactly do you call a crash in all those lines of code?"}],"answers":[{"tags":[],"owner":{"account_id":27811853,"reputation":323,"user_id":21234100,"display_name":"WebDesk Solution"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678691413,"creation_date":1678691413,"answer_id":75718894,"question_id":75709194,"body_markdown":"Have you initialized firebase sdk like this:\r\n\r\nFirebaseApp.initializeApp(this);\r\n\r\nAnd also please provide a full error log of exceptions.because current log which you shared there are no any crash log.\r\n\r\n","title":"why is my login activity crashing when I run my project?","body":"<p>Have you initialized firebase sdk like this:</p>\n<p>FirebaseApp.initializeApp(this);</p>\n<p>And also please provide a full error log of exceptions.because current log which you shared there are no any crash log.</p>\n"}],"owner":{"account_id":27994278,"reputation":1,"user_id":21379882,"display_name":"CHETAN S R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678691413,"creation_date":1678565002,"question_id":75709194,"body_markdown":"Hi I am fairly new to android studio and when I try to run my project the app gets crashed for some reason and I can&#39;t seem to figure out as to what is the problem that has occurred. If I give anything apart from login activity as my starting activity then it loading correctly.\r\n\r\nHere is my java code:\r\n\r\n```\r\npackage com.example.hireme2;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.AppCompatButton;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class login extends AppCompatActivity {\r\n\r\n    TextView t;\r\n    AppCompatButton b;\r\n    EditText email,password;\r\n    FirebaseAuth mAuth;\r\n    ProgressBar progressBar;\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if(currentUser != null){\r\n            finish();\r\n        }\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.acitivity_login);\r\n        mAuth=(FirebaseAuth) FirebaseAuth.getInstance();\r\n        t=(TextView) findViewById(R.id.sign);\r\n        b=(AppCompatButton)findViewById(R.id.login);\r\n        email=(EditText)findViewById(R.id.log_email);\r\n        password=(EditText)findViewById(R.id.log_password);\r\n        progressBar=(ProgressBar)findViewById(R.id.progressbar);\r\n\r\n        t.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(getApplicationContext(),signup.class));\r\n            }\r\n        });\r\n        b.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                String e,p;\r\n                e=String.valueOf(email.getText());\r\n                p=String.valueOf(password.getText());\r\n                if (TextUtils.isEmpty(e)){\r\n                    Toast.makeText(getApplicationContext(),&quot;Enter email&quot;,Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                if (TextUtils.isEmpty(p)){\r\n                    Toast.makeText(getApplicationContext(),&quot;Enter password&quot;,Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                mAuth.signInWithEmailAndPassword(e,p)\r\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                progressBar.setVisibility(View.GONE);\r\n                                if (task.isSuccessful()) {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Login success.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                    startActivity(new Intent(getApplicationContext(),MainActivity.class));\r\n                                    finish();\r\n                                } else {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Login failed.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n                //FirebaseAuth.getInstance().signOut();\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here is my XML code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#F7F3E1&quot;\r\n    tools:context=&quot;.login&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:contentDescription=&quot;scroll&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:scaleType=&quot;centerCrop&quot;\r\n                app:srcCompat=&quot;@drawable/top_login&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;LOGIN&quot;\r\n                android:textColor=&quot;#6C5DD2&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textSize=&quot;40dp&quot;/&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:layout_marginStart=&quot;32dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;EMAIL&quot;\r\n                    android:textSize=&quot;18dp&quot;\r\n                    android:textColor=&quot;#6C5DD2&quot;/&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/log_email&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:background=&quot;@drawable/background_edt&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:inputType=&quot;textEmailAddress&quot;\r\n                    android:hint=&quot;enter your email&quot;\r\n                    android:layout_marginEnd=&quot;32dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:textColor=&quot;#707070&quot;\r\n                    android:textColorHint=&quot;#707070&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:layout_marginStart=&quot;32dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;PASSWORD&quot;\r\n                    android:textSize=&quot;18dp&quot;\r\n                    android:textColor=&quot;#6C5DD2&quot;/&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/log_password&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:background=&quot;@drawable/background_edt&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:inputType=&quot;textPassword&quot;\r\n                    android:hint=&quot;enter your password&quot;\r\n                    android:layout_marginEnd=&quot;32dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:textColor=&quot;#707070&quot;\r\n                    android:textColorHint=&quot;#707070&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_marginStart=&quot;32dp&quot;\r\n                android:layout_marginEnd=&quot;32dp&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;&gt;\r\n\r\n                &lt;View\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;1dp&quot;\r\n                    android:background=&quot;#707070&quot;\r\n                    android:layout_gravity=&quot;center_vertical&quot;\r\n                    android:layout_weight=&quot;1&quot;/&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;OR&quot;\r\n                    android:layout_margin=&quot;16dp&quot;/&gt;\r\n\r\n                &lt;View\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;1dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:background=&quot;#707070&quot;\r\n                    android:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginEnd=&quot;32dp&quot;\r\n                android:layout_marginStart=&quot;32dp&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:srcCompat=&quot;@drawable/twitter&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView4&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:srcCompat=&quot;@drawable/google&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView5&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:srcCompat=&quot;@drawable/linked&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/sign&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:text=&quot;Don&#39;t have an account ? Signup&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:layout_marginTop=&quot;32dp&quot;\r\n                android:textColor=&quot;#6C5DD2&quot;\r\n                android:clickable=&quot;true&quot; /&gt;\r\n            &lt;ProgressBar\r\n                android:id=&quot;@+id/progressbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:visibility=&quot;gone&quot;/&gt;\r\n            &lt;androidx.appcompat.widget.AppCompatButton\r\n                android:id=&quot;@+id/login&quot;\r\n                android:layout_width=&quot;200dp&quot;\r\n                android:layout_height=&quot;48dp&quot;\r\n                android:background=&quot;@drawable/button_background&quot;\r\n                style=&quot;@android:style/Widget.Button&quot;\r\n                android:text=&quot;LOGIN&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:layout_marginTop=&quot;32dp&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textColor=&quot;#ffffff&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nhere is what it&#39;s showing after running the project:\r\n\r\n```\r\n\r\n03/12 00:58:17: Launching &#39;app&#39; on Pixel 4 XL API 31.\r\nInstall successfully finished in 317 ms.\r\n$ adb shell am start -n &quot;com.example.hireme2/com.example.hireme2.signup&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\nConnected to process 25979 on device &#39;Pixel_4_XL_API_31 [emulator-5554]&#39;.\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10150; state: ENABLED\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.example.hireme2&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\r\nD/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\r\nD/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\r\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\r\nI/FirebaseInitProvider: FirebaseApp initialization successful\r\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\r\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\nW/example.hireme: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\nW/example.hireme: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10150; state: ENABLED\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x770750959250, tid 26027\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0x770750959f10: maj 2 min 0 rcv 2\r\nD/EGL_emulation: eglMakeCurrent: 0x770750959f10: ver 2 0 (tinfo 0x770972f69080) (first time)\r\nI/Gralloc4: mapper 4.x is not supported\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x770750967650, tid 26027\r\nD/goldfish-address-space: allocate: Ask for block of size 0x100\r\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3e3ffe000 size 0x2000\r\nW/Gralloc4: allocator 4.x is not supported\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\nD/EGL_emulation: app_time_stats: avg=479.38ms min=27.09ms max=1300.56ms count=3\r\nD/EGL_emulation: app_time_stats: avg=529.13ms min=49.32ms max=1483.89ms count=3\r\n```\r\n","title":"why is my login activity crashing when I run my project?","body":"<p>Hi I am fairly new to android studio and when I try to run my project the app gets crashed for some reason and I can't seem to figure out as to what is the problem that has occurred. If I give anything apart from login activity as my starting activity then it loading correctly.</p>\n<p>Here is my java code:</p>\n<pre><code>package com.example.hireme2;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.AppCompatButton;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class login extends AppCompatActivity {\n\n    TextView t;\n    AppCompatButton b;\n    EditText email,password;\n    FirebaseAuth mAuth;\n    ProgressBar progressBar;\n    @Override\n    public void onStart() {\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        if(currentUser != null){\n            finish();\n        }\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.acitivity_login);\n        mAuth=(FirebaseAuth) FirebaseAuth.getInstance();\n        t=(TextView) findViewById(R.id.sign);\n        b=(AppCompatButton)findViewById(R.id.login);\n        email=(EditText)findViewById(R.id.log_email);\n        password=(EditText)findViewById(R.id.log_password);\n        progressBar=(ProgressBar)findViewById(R.id.progressbar);\n\n        t.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(getApplicationContext(),signup.class));\n            }\n        });\n        b.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                progressBar.setVisibility(View.VISIBLE);\n                String e,p;\n                e=String.valueOf(email.getText());\n                p=String.valueOf(password.getText());\n                if (TextUtils.isEmpty(e)){\n                    Toast.makeText(getApplicationContext(),&quot;Enter email&quot;,Toast.LENGTH_SHORT).show();\n                    return;\n                }\n                if (TextUtils.isEmpty(p)){\n                    Toast.makeText(getApplicationContext(),&quot;Enter password&quot;,Toast.LENGTH_SHORT).show();\n                    return;\n                }\n                mAuth.signInWithEmailAndPassword(e,p)\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                progressBar.setVisibility(View.GONE);\n                                if (task.isSuccessful()) {\n                                    Toast.makeText(getApplicationContext(), &quot;Login success.&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                    startActivity(new Intent(getApplicationContext(),MainActivity.class));\n                                    finish();\n                                } else {\n                                    Toast.makeText(getApplicationContext(), &quot;Login failed.&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n                //FirebaseAuth.getInstance().signOut();\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>And here is my XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#F7F3E1&quot;\n    tools:context=&quot;.login&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:contentDescription=&quot;scroll&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                app:srcCompat=&quot;@drawable/top_login&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;LOGIN&quot;\n                android:textColor=&quot;#6C5DD2&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textAlignment=&quot;center&quot;\n                android:textSize=&quot;40dp&quot;/&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:layout_marginStart=&quot;32dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;EMAIL&quot;\n                    android:textSize=&quot;18dp&quot;\n                    android:textColor=&quot;#6C5DD2&quot;/&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/log_email&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:background=&quot;@drawable/background_edt&quot;\n                    android:ems=&quot;10&quot;\n                    android:inputType=&quot;textEmailAddress&quot;\n                    android:hint=&quot;enter your email&quot;\n                    android:layout_marginEnd=&quot;32dp&quot;\n                    android:gravity=&quot;center&quot;\n                    android:textColor=&quot;#707070&quot;\n                    android:textColorHint=&quot;#707070&quot;\n                    android:layout_marginTop=&quot;8dp&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:layout_marginStart=&quot;32dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;PASSWORD&quot;\n                    android:textSize=&quot;18dp&quot;\n                    android:textColor=&quot;#6C5DD2&quot;/&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/log_password&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:background=&quot;@drawable/background_edt&quot;\n                    android:ems=&quot;10&quot;\n                    android:inputType=&quot;textPassword&quot;\n                    android:hint=&quot;enter your password&quot;\n                    android:layout_marginEnd=&quot;32dp&quot;\n                    android:gravity=&quot;center&quot;\n                    android:textColor=&quot;#707070&quot;\n                    android:textColorHint=&quot;#707070&quot;\n                    android:layout_marginTop=&quot;8dp&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:layout_marginStart=&quot;32dp&quot;\n                android:layout_marginEnd=&quot;32dp&quot;\n                android:layout_marginTop=&quot;16dp&quot;&gt;\n\n                &lt;View\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;1dp&quot;\n                    android:background=&quot;#707070&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;\n                    android:layout_weight=&quot;1&quot;/&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;OR&quot;\n                    android:layout_margin=&quot;16dp&quot;/&gt;\n\n                &lt;View\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;1dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:background=&quot;#707070&quot;\n                    android:layout_gravity=&quot;center_vertical&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginEnd=&quot;32dp&quot;\n                android:layout_marginStart=&quot;32dp&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    app:srcCompat=&quot;@drawable/twitter&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView4&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    app:srcCompat=&quot;@drawable/google&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView5&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    app:srcCompat=&quot;@drawable/linked&quot; /&gt;\n            &lt;/LinearLayout&gt;\n            &lt;TextView\n                android:id=&quot;@+id/sign&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:textSize=&quot;18dp&quot;\n                android:text=&quot;Don't have an account ? Signup&quot;\n                android:textAlignment=&quot;center&quot;\n                android:layout_marginTop=&quot;32dp&quot;\n                android:textColor=&quot;#6C5DD2&quot;\n                android:clickable=&quot;true&quot; /&gt;\n            &lt;ProgressBar\n                android:id=&quot;@+id/progressbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:visibility=&quot;gone&quot;/&gt;\n            &lt;androidx.appcompat.widget.AppCompatButton\n                android:id=&quot;@+id/login&quot;\n                android:layout_width=&quot;200dp&quot;\n                android:layout_height=&quot;48dp&quot;\n                android:background=&quot;@drawable/button_background&quot;\n                style=&quot;@android:style/Widget.Button&quot;\n                android:text=&quot;LOGIN&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:gravity=&quot;center&quot;\n                android:layout_marginTop=&quot;32dp&quot;\n                android:textSize=&quot;18dp&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textColor=&quot;#ffffff&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>here is what it's showing after running the project:</p>\n<pre><code>\n03/12 00:58:17: Launching 'app' on Pixel 4 XL API 31.\nInstall successfully finished in 317 ms.\n$ adb shell am start -n &quot;com.example.hireme2/com.example.hireme2.signup&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nConnected to process 25979 on device 'Pixel_4_XL_API_31 [emulator-5554]'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10150; state: ENABLED\nV/GraphicsEnvironment: ANGLE Developer option for 'com.example.hireme2' set to: 'default'\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\nD/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\nD/NetworkSecurityConfig: Using Network Security Config from resource network_security_config debugBuild: true\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\nI/FirebaseInitProvider: FirebaseApp initialization successful\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\nD/AppCompatDelegate: Checking for metadata for AppLocalesMetadataHolderService : Service not found\nW/example.hireme: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\nW/example.hireme: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10150; state: ENABLED\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x770750959250, tid 26027\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0x770750959f10: maj 2 min 0 rcv 2\nD/EGL_emulation: eglMakeCurrent: 0x770750959f10: ver 2 0 (tinfo 0x770972f69080) (first time)\nI/Gralloc4: mapper 4.x is not supported\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x770750967650, tid 26027\nD/goldfish-address-space: allocate: Ask for block of size 0x100\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3e3ffe000 size 0x2000\nW/Gralloc4: allocator 4.x is not supported\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \nD/EGL_emulation: app_time_stats: avg=479.38ms min=27.09ms max=1300.56ms count=3\nD/EGL_emulation: app_time_stats: avg=529.13ms min=49.32ms max=1483.89ms count=3\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","common-table-expression"],"answers":[{"tags":[],"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1678691100,"creation_date":1652301724,"answer_id":72207378,"question_id":72192789,"body_markdown":"The configuration property `use_jdbc_metadata_defaults` must be `true` for Hibernate to detect the correct version of the PostgreSQL dialect.\r\n\r\nRemoving this line\r\n```\r\n&lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\r\n```\r\nfrom `hibernate.cfg.xml` resolves the issue.\r\n\r\n(Thanks to Christian at [Hibernate Zulip channel](https://hibernate.zulipchat.com) for sorting this out.)\r\n","title":"CteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well","body":"<p>The configuration property <code>use_jdbc_metadata_defaults</code> must be <code>true</code> for Hibernate to detect the correct version of the PostgreSQL dialect.</p>\n<p>Removing this line</p>\n<pre><code>&lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\n</code></pre>\n<p>from <code>hibernate.cfg.xml</code> resolves the issue.</p>\n<p>(Thanks to Christian at <a href=\"https://hibernate.zulipchat.com\" rel=\"nofollow noreferrer\">Hibernate Zulip channel</a> for sorting this out.)</p>\n"},{"tags":[],"owner":{"account_id":174804,"reputation":27548,"user_id":404395,"accept_rate":73,"display_name":"marioosh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671395036,"creation_date":1671395036,"answer_id":74844148,"question_id":72192789,"body_markdown":"The same error i got when used wrong hibernate dialect, in my case: `org.hibernate.dialect.PostgreSQL9Dialect` instead of `org.hibernate.dialect.PostgreSQLDialect` on PostgreSQL v12.","title":"CteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well","body":"<p>The same error i got when used wrong hibernate dialect, in my case: <code>org.hibernate.dialect.PostgreSQL9Dialect</code> instead of <code>org.hibernate.dialect.PostgreSQLDialect</code> on PostgreSQL v12.</p>\n"},{"tags":[],"owner":{"account_id":1222524,"reputation":3794,"user_id":1188867,"accept_rate":60,"display_name":"user1188867"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678087766,"creation_date":1678087766,"answer_id":75648128,"question_id":72192789,"body_markdown":"Adding **allocationsize=1** solved my issue\r\n\r\n    @SequenceGenerator(name = &quot;sq_seq&quot;, initialValue = 99999, allocationSize = 1)","title":"CteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well","body":"<p>Adding <strong>allocationsize=1</strong> solved my issue</p>\n<pre><code>@SequenceGenerator(name = &quot;sq_seq&quot;, initialValue = 99999, allocationSize = 1)\n</code></pre>\n"}],"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4922,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72207378,"answer_count":3,"score":7,"last_activity_date":1678691100,"creation_date":1652215868,"question_id":72192789,"body_markdown":"Hibernate 6.0.1 with PostgreSQL JDBC driver 42.3.5 causes the following exception:\r\n\r\n```\r\njava.lang.UnsupportedOperationException:\r\nCteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well\r\nat org.hibernate.query.sqm.mutation.internal.cte.CteInsertStrategy.&lt;init&gt;(CteInsertStrategy.java:123)\r\nat org.hibernate.query.sqm.mutation.internal.cte.CteInsertStrategy.&lt;init&gt;(CteInsertStrategy.java:107)\r\nat org.hibernate.dialect.PostgreSQLDialect.getFallbackSqmInsertStrategy(PostgreSQLDialect.java:704)\r\n...\r\n```\r\nWhat&#39;s wrong and how can I fix the issue?\r\n\r\nMyEntity.java\r\n```java\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;my_entity&quot;)\r\npublic class MyEntity {\r\n\r\n    private Long id;\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\r\n    public Long getId() {\r\n        return this.id;\r\n    }\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMyTest.java\r\n```java\r\nimport static org.junit.Assert.assertNotNull;\r\n\r\nimport org.hibernate.*;\r\nimport org.hibernate.cfg.*;\r\nimport org.junit.*;\r\n\r\npublic class MyTest {\r\n\r\n    private static Configuration configuration;\r\n    private static SessionFactory sessionFactory;\r\n\r\n    @BeforeClass\r\n    public static void setUpBeforeClass() throws Exception {\r\n        configuration = new Configuration().configure();\r\n        sessionFactory = configuration.buildSessionFactory();\r\n    }\r\n\r\n    @AfterClass\r\n    public static void tearDownAfterClass() throws Exception {\r\n        sessionFactory.close();\r\n    }\r\n\r\n    private Session session;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        session = sessionFactory.openSession();\r\n    }\r\n\r\n    @After\r\n    public void tearDown() throws Exception {\r\n        session.close();\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        Transaction transaction = session.beginTransaction();\r\n        MyEntity entity = new MyEntity();\r\n        session.persist(entity);\r\n        assertNotNull(entity.getId());\r\n        transaction.commit();\r\n    }\r\n\r\n}\r\n```\r\n\r\nhibernate.cfg.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration SYSTEM &quot;classpath://org/hibernate/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n  &lt;session-factory&gt;\r\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;  \r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/mydb&lt;/property&gt;\r\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;1&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;30&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;120&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;100&lt;/property&gt;\r\n    &lt;mapping class=&quot;haba713.MyEntity&quot; /&gt;\r\n  &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nbuild.gradle\r\n```groovy\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    hibernateVersion = &#39;6.0.1.Final&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.postgresql:postgresql:42.3.5&#39;\r\n    implementation &#39;org.hibernate.orm:hibernate-c3p0:&#39; + hibernateVersion\r\n    implementation &#39;org.hibernate.orm:hibernate-core:&#39; + hibernateVersion\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n}\r\n```\r\n\r\nSee the full source code [here](https://github.com/haba713/hibernate-cte-insert-strategy-issue).\r\n","title":"CteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well","body":"<p>Hibernate 6.0.1 with PostgreSQL JDBC driver 42.3.5 causes the following exception:</p>\n<pre><code>java.lang.UnsupportedOperationException:\nCteInsertStrategy can only be used with Dialects that support CTE that can take UPDATE or DELETE statements as well\nat org.hibernate.query.sqm.mutation.internal.cte.CteInsertStrategy.&lt;init&gt;(CteInsertStrategy.java:123)\nat org.hibernate.query.sqm.mutation.internal.cte.CteInsertStrategy.&lt;init&gt;(CteInsertStrategy.java:107)\nat org.hibernate.dialect.PostgreSQLDialect.getFallbackSqmInsertStrategy(PostgreSQLDialect.java:704)\n...\n</code></pre>\n<p>What's wrong and how can I fix the issue?</p>\n<p>MyEntity.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;my_entity&quot;)\npublic class MyEntity {\n\n    private Long id;\n\n    @Id\n    @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\n    public Long getId() {\n        return this.id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n<p>MyTest.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.junit.Assert.assertNotNull;\n\nimport org.hibernate.*;\nimport org.hibernate.cfg.*;\nimport org.junit.*;\n\npublic class MyTest {\n\n    private static Configuration configuration;\n    private static SessionFactory sessionFactory;\n\n    @BeforeClass\n    public static void setUpBeforeClass() throws Exception {\n        configuration = new Configuration().configure();\n        sessionFactory = configuration.buildSessionFactory();\n    }\n\n    @AfterClass\n    public static void tearDownAfterClass() throws Exception {\n        sessionFactory.close();\n    }\n\n    private Session session;\n\n    @Before\n    public void setUp() throws Exception {\n        session = sessionFactory.openSession();\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        session.close();\n    }\n\n    @Test\n    public void test() {\n        Transaction transaction = session.beginTransaction();\n        MyEntity entity = new MyEntity();\n        session.persist(entity);\n        assertNotNull(entity.getId());\n        transaction.commit();\n    }\n\n}\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration SYSTEM &quot;classpath://org/hibernate/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;  \n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/mydb&lt;/property&gt;\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\n    &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;1&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;30&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;120&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;100&lt;/property&gt;\n    &lt;mapping class=&quot;haba713.MyEntity&quot; /&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java-library'\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    hibernateVersion = '6.0.1.Final'\n}\n\ndependencies {\n    implementation 'org.postgresql:postgresql:42.3.5'\n    implementation 'org.hibernate.orm:hibernate-c3p0:' + hibernateVersion\n    implementation 'org.hibernate.orm:hibernate-core:' + hibernateVersion\n    testImplementation 'junit:junit:4.13.2'\n}\n</code></pre>\n<p>See the full source code <a href=\"https://github.com/haba713/hibernate-cte-insert-strategy-issue\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":["java","azure","spring-boot","azure-web-app-service","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":376857,"reputation":1599,"user_id":1309503,"display_name":"divyang4481"},"score":0,"creation_date":1560420638,"post_id":56578158,"comment_id":99734151,"body_markdown":"are you hitting right url?","body":"are you hitting right url?"},{"owner":{"account_id":6674114,"reputation":21,"user_id":5149385,"display_name":"Satish Kumbari"},"score":0,"creation_date":1560420657,"post_id":56578158,"comment_id":99734164,"body_markdown":"&lt;build&gt; &lt;plugins&gt;&lt;plugin&gt;\n                &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n                &lt;artifactId&gt;azure-webapp-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;resourceGroup&gt;RG-TEST&lt;/resourceGroup&gt;\n                    &lt;appName&gt;webapp-name&lt;/appName&gt;\n                    &lt;linuxRuntime&gt;tomcat 9.0-jre8&lt;/linuxRuntime&gt;\n                    &lt;region&gt;australiasoutheast&lt;/region&gt;\n                    &lt;deploymentType&gt;war&lt;/deploymentType&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;","body":"&lt;build&gt; &lt;plugins&gt;&lt;plugin&gt;                 &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;                 &lt;artifactId&gt;azure-webapp-maven-plugin&lt;/artifactId&gt;                 &lt;version&gt;1.2.0&lt;/version&gt;                 &lt;configuration&gt;                     &lt;resourceGroup&gt;RG-TEST&lt;/resourceGroup&gt;                     &lt;appName&gt;webapp-name&lt;/appName&gt;                     &lt;linuxRuntime&gt;tomcat 9.0-jre8&lt;/linuxRuntime&gt;                     &lt;region&gt;australiasoutheast&lt;/region&gt;                     &lt;deploymentType&gt;war&lt;/deploymentType&gt;                 &lt;/configuration&gt;             &lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;"},{"owner":{"account_id":6674114,"reputation":21,"user_id":5149385,"display_name":"Satish Kumbari"},"score":0,"creation_date":1560420958,"post_id":56578158,"comment_id":99734334,"body_markdown":"@divyang4481 yes I am hitting the url that is provided in azure portal for my webapp","body":"@divyang4481 yes I am hitting the url that is provided in azure portal for my webapp"},{"owner":{"account_id":228088,"reputation":3174,"user_id":490170,"accept_rate":56,"display_name":"Jamie"},"score":0,"creation_date":1560430103,"post_id":56578158,"comment_id":99739476,"body_markdown":"are you using the standard App Service or App Service for Linux? It appears you are using the standard App Service.","body":"are you using the standard App Service or App Service for Linux? It appears you are using the standard App Service."},{"owner":{"account_id":8020909,"reputation":5180,"user_id":6049604,"display_name":"Mohit Verma"},"score":0,"creation_date":1560489065,"post_id":56578158,"comment_id":99760523,"body_markdown":"Possible duplicate of [Spring boot REST webservice returns 404 when deployed to azure](https://stackoverflow.com/questions/36455758/spring-boot-rest-webservice-returns-404-when-deployed-to-azure)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/36455758/spring-boot-rest-webservice-returns-404-when-deployed-to-azure\">Spring boot REST webservice returns 404 when deployed to azure</a>"},{"owner":{"account_id":6674114,"reputation":21,"user_id":5149385,"display_name":"Satish Kumbari"},"score":0,"creation_date":1560492839,"post_id":56578158,"comment_id":99761707,"body_markdown":"@Jamie Yes I used app service for linux. I selected OS as linux and Runtime stack as tomcat 8.5-jre8 while creating the webapp on azure portal.","body":"@Jamie Yes I used app service for linux. I selected OS as linux and Runtime stack as tomcat 8.5-jre8 while creating the webapp on azure portal."}],"answers":[{"tags":[],"owner":{"account_id":228088,"reputation":3174,"user_id":490170,"accept_rate":56,"display_name":"Jamie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560430322,"creation_date":1560430322,"answer_id":56580957,"question_id":56578158,"body_markdown":"Without knowing how you performed your deployment. I am going to assume that you didn&#39;t deploy a WAR file to the webapps folder. If you just copied the files over Tomcat will not automatically load those like it will for a WAR file. Restart the Tomcat server and see if your app gets loaded and starts working.","title":"Azure webapp HTTP Status 404  Not Found","body":"<p>Without knowing how you performed your deployment. I am going to assume that you didn't deploy a WAR file to the webapps folder. If you just copied the files over Tomcat will not automatically load those like it will for a WAR file. Restart the Tomcat server and see if your app gets loaded and starts working.</p>\n"},{"tags":[],"owner":{"account_id":9471715,"reputation":151,"user_id":7042380,"display_name":"Antonio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570575412,"creation_date":1570575412,"answer_id":58294985,"question_id":56578158,"body_markdown":"After tirelessly searching on the internet this is what I did which worked out perfectly\r\nI got my ftp credentials from azure and used filezilla to upload my jar file to wwwroot folder. It is important to rename your jar file to app.jar. You can see more information here https://learn.microsoft.com/en-us/azure/app-service/containers/configure-language-java#starting-jar-apps. \r\n\r\nAlso to run SpringBoot on App Service Linux, you should use the Java SE offering and not Tomcat which your site is configured to.\r\n\r\nPlease check the following tutorial:\r\n\r\nhttps://learn.microsoft.com/en-us/java/azure/spring-framework/deploy-spring-boot-java-app-with-maven-plugin?view=azure-java-stable\r\n\r\ne.g OS\tLinux \r\n\r\njavaVersion\tjre8\r\n\r\nruntimeStack\tjre8\r\n\r\nYou can configure this at the Settings ,configuration and general settings on the azure portal.\r\n\r\nI hope this helps someone... \r\n\r\n\r\n","title":"Azure webapp HTTP Status 404  Not Found","body":"<p>After tirelessly searching on the internet this is what I did which worked out perfectly\nI got my ftp credentials from azure and used filezilla to upload my jar file to wwwroot folder. It is important to rename your jar file to app.jar. You can see more information here <a href=\"https://learn.microsoft.com/en-us/azure/app-service/containers/configure-language-java#starting-jar-apps\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/app-service/containers/configure-language-java#starting-jar-apps</a>. </p>\n\n<p>Also to run SpringBoot on App Service Linux, you should use the Java SE offering and not Tomcat which your site is configured to.</p>\n\n<p>Please check the following tutorial:</p>\n\n<p><a href=\"https://learn.microsoft.com/en-us/java/azure/spring-framework/deploy-spring-boot-java-app-with-maven-plugin?view=azure-java-stable\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/azure/spring-framework/deploy-spring-boot-java-app-with-maven-plugin?view=azure-java-stable</a></p>\n\n<p>e.g OS  Linux </p>\n\n<p>javaVersion jre8</p>\n\n<p>runtimeStack    jre8</p>\n\n<p>You can configure this at the Settings ,configuration and general settings on the azure portal.</p>\n\n<p>I hope this helps someone... </p>\n"},{"tags":[],"owner":{"account_id":26402425,"reputation":1,"user_id":20052696,"display_name":"Ab0o0oD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690545,"creation_date":1678283079,"answer_id":75673863,"question_id":56578158,"body_markdown":"You need to configure your azure app service to use Java web server: Java SE (Embedded Web Server)\r\n\r\nYour configuration should look like this:\r\n\r\n![You configuration should looklike this ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xQkjU.png","title":"Azure webapp HTTP Status 404  Not Found","body":"<p>You need to configure your azure app service to use Java web server: Java SE (Embedded Web Server)</p>\n<p>Your configuration should look like this:</p>\n<p><img src=\"https://i.stack.imgur.com/xQkjU.png\" alt=\"You configuration should looklike this \" /></p>\n"}],"owner":{"account_id":6674114,"reputation":21,"user_id":5149385,"display_name":"Satish Kumbari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6226,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678690545,"creation_date":1560420506,"question_id":56578158,"body_markdown":"I have deployed my simple webapp on Springboot Rest  and deployed it on azure cloud successfully just like my other webapps.\r\n\r\nBut I am getting HTTP Status 404  Not Found when I hit the azure URL of my webapp. \r\n\r\nThe status of webapp on azure is showing as &quot;Running&quot; but still I am getting 404. \r\n\r\nPlease note that, the application running perfectly on my local machine but not on azure.\r\n\r\nBelow are the error message details,\r\n\r\n&gt; &quot;HTTP Status 404  Not Found Type Status Report Message / Description\r\n&gt; The origin server did not find a current representation for the target\r\n&gt; resource or is not willing to disclose that one exists. Apache\r\n&gt; Tomcat/8.5.41&quot;\r\n\r\nAnd below is my azure maven plugin configuration I used in my application,\r\n```\r\n&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n```\r\nIf someone check and assist me on this would be so helpful.\r\n\r\nThanks in advance.","title":"Azure webapp HTTP Status 404  Not Found","body":"<p>I have deployed my simple webapp on Springboot Rest  and deployed it on azure cloud successfully just like my other webapps.</p>\n\n<p>But I am getting HTTP Status 404  Not Found when I hit the azure URL of my webapp. </p>\n\n<p>The status of webapp on azure is showing as \"Running\" but still I am getting 404. </p>\n\n<p>Please note that, the application running perfectly on my local machine but not on azure.</p>\n\n<p>Below are the error message details,</p>\n\n<blockquote>\n  <p>\"HTTP Status 404  Not Found Type Status Report Message / Description\n  The origin server did not find a current representation for the target\n  resource or is not willing to disclose that one exists. Apache\n  Tomcat/8.5.41\"</p>\n</blockquote>\n\n<p>And below is my azure maven plugin configuration I used in my application,</p>\n\n<pre><code>&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n</code></pre>\n\n<p>If someone check and assist me on this would be so helpful.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","r","apache-spark","sparklyr"],"comments":[{"owner":{"account_id":58121,"reputation":260042,"user_id":1855677,"accept_rate":83,"display_name":"IRTFM"},"score":1,"creation_date":1539665538,"post_id":52827672,"comment_id":92572869,"body_markdown":"What does `Sys.which(&quot;java&quot;)` (from the R console) return?","body":"What does <code>Sys.which(&quot;java&quot;)</code> (from the R console) return?"},{"owner":{"account_id":5010601,"reputation":5363,"user_id":4026992,"accept_rate":50,"display_name":"Manoj Kumar"},"score":0,"creation_date":1562491982,"post_id":52827672,"comment_id":100384355,"body_markdown":"java \n&quot;C:\\\\PROGRA~2\\\\COMMON~1\\\\Oracle\\\\Java\\\\javapath\\\\java.exe&quot;","body":"java  &quot;C:\\\\PROGRA~2\\\\COMMON~1\\\\Oracle\\\\Java\\\\javapath\\\\java.exe&quot;"}],"answers":[{"tags":[],"owner":{"account_id":14498156,"reputation":121,"user_id":10472119,"display_name":"Kerie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539664865,"creation_date":1539661993,"answer_id":52827733,"question_id":52827672,"body_markdown":"Run `echo $JAVA_HOME` in terminal, and see what is the output.\r\n\r\nIn my Mac OS, the output is :\r\n`/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home`","title":"sparklyr- JAVA_HOME is set but does not point to a valid version","body":"<p>Run <code>echo $JAVA_HOME</code> in terminal, and see what is the output.</p>\n\n<p>In my Mac OS, the output is :\n<code>/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home</code></p>\n"},{"tags":[],"owner":{"account_id":58121,"reputation":260042,"user_id":1855677,"accept_rate":83,"display_name":"IRTFM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539771487,"creation_date":1539664042,"answer_id":52827944,"question_id":52827672,"body_markdown":"When I run:\r\n\r\n    sparklyr:::get_java()\r\n               java \r\n    &quot;/usr/bin/java&quot; \r\n\r\nIt appears that you don&#39;t have java set up in such a manner that the response for that `sparklyr` function is satisfactory. Unlike @Kerie I get nothing from the echo command. Instead, I can get sensible results from this command in a Terminal session:\r\n\r\n    $ java -version\r\n    #-------------------\r\n    java version &quot;1.8.0_131&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n\r\nRunning MacOS 10.11.6 (not upgraded because my hardware is &quot;obsolete&quot; per Apple) and R 3.5.1.\r\n\r\nThere&#39;s an irony here in that it appears that the get_java function is supposed to set a value for the location if it cannot find an environment variable. Here&#39;s the code:\r\n\r\n    sparklyr:::get_java\r\n     #----------\r\n    function (throws = FALSE) \r\n    {\r\n        java_home &lt;- Sys.getenv(&quot;JAVA_HOME&quot;, unset = NA)\r\n        if (!is.na(java_home)) {\r\n            java &lt;- file.path(java_home, &quot;bin&quot;, &quot;java&quot;)\r\n            if (identical(.Platform$OS.type, &quot;windows&quot;)) {\r\n                java &lt;- paste0(java, &quot;.exe&quot;)\r\n            }\r\n            if (!file.exists(java)) {\r\n                if (throws) {\r\n                    stop(&quot;Java is required to connect to Spark. &quot;, \r\n                      &quot;JAVA_HOME is set but does not point to a valid version. &quot;, \r\n                      &quot;Please fix JAVA_HOME or reinstall from: &quot;, \r\n                      java_install_url())\r\n                }\r\n                java &lt;- &quot;&quot;\r\n            }\r\n        }\r\n        else java &lt;- Sys.which(&quot;java&quot;)\r\n        java\r\n    }\r\n    &lt;bytecode: 0x7fb5c7f2db30&gt;\r\n    &lt;environment: namespace:sparklyr&gt;\r\n\r\nBecause I do not have an environment variable for JAVA_HOME, but do have `java` registered with `which`, the `get_java` function returns a valid path. So my system returns:\r\n\r\n    Sys.which(&quot;java&quot;)\r\n               java \r\n    &quot;/usr/bin/java&quot; \r\n\r\nFrom comments by @user6910411, I am reminded that you should not update to the current Java Dev Kit (which is 1.9), but do rather use the link provided by @Kerie to the prior major version, 1.8. You should also run:\r\n\r\n    Sys.unsetenv(&quot;JAVA_HOME&quot;) \r\n\r\nto get rid of the misleading symlink. Or perhaps you could track it down at `/Library/Java/Home` (if that&#39;s where it is) and delete it before installing the newer (but not newest) version.\r\n\r\n","title":"sparklyr- JAVA_HOME is set but does not point to a valid version","body":"<p>When I run:</p>\n\n<pre><code>sparklyr:::get_java()\n           java \n\"/usr/bin/java\" \n</code></pre>\n\n<p>It appears that you don't have java set up in such a manner that the response for that <code>sparklyr</code> function is satisfactory. Unlike @Kerie I get nothing from the echo command. Instead, I can get sensible results from this command in a Terminal session:</p>\n\n<pre><code>$ java -version\n#-------------------\njava version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n</code></pre>\n\n<p>Running MacOS 10.11.6 (not upgraded because my hardware is \"obsolete\" per Apple) and R 3.5.1.</p>\n\n<p>There's an irony here in that it appears that the get_java function is supposed to set a value for the location if it cannot find an environment variable. Here's the code:</p>\n\n<pre><code>sparklyr:::get_java\n #----------\nfunction (throws = FALSE) \n{\n    java_home &lt;- Sys.getenv(\"JAVA_HOME\", unset = NA)\n    if (!is.na(java_home)) {\n        java &lt;- file.path(java_home, \"bin\", \"java\")\n        if (identical(.Platform$OS.type, \"windows\")) {\n            java &lt;- paste0(java, \".exe\")\n        }\n        if (!file.exists(java)) {\n            if (throws) {\n                stop(\"Java is required to connect to Spark. \", \n                  \"JAVA_HOME is set but does not point to a valid version. \", \n                  \"Please fix JAVA_HOME or reinstall from: \", \n                  java_install_url())\n            }\n            java &lt;- \"\"\n        }\n    }\n    else java &lt;- Sys.which(\"java\")\n    java\n}\n&lt;bytecode: 0x7fb5c7f2db30&gt;\n&lt;environment: namespace:sparklyr&gt;\n</code></pre>\n\n<p>Because I do not have an environment variable for JAVA_HOME, but do have <code>java</code> registered with <code>which</code>, the <code>get_java</code> function returns a valid path. So my system returns:</p>\n\n<pre><code>Sys.which(\"java\")\n           java \n\"/usr/bin/java\" \n</code></pre>\n\n<p>From comments by @user6910411, I am reminded that you should not update to the current Java Dev Kit (which is 1.9), but do rather use the link provided by @Kerie to the prior major version, 1.8. You should also run:</p>\n\n<pre><code>Sys.unsetenv(\"JAVA_HOME\") \n</code></pre>\n\n<p>to get rid of the misleading symlink. Or perhaps you could track it down at <code>/Library/Java/Home</code> (if that's where it is) and delete it before installing the newer (but not newest) version.</p>\n"},{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690377,"creation_date":1678690377,"answer_id":75718766,"question_id":52827672,"body_markdown":"This happens because the Java path you mentioned in the comment was placed before `%JAVA_HOME%\\bin` or directly added to the Path or there is no `%JAVA_HOME%\\bin` variable in your Windows machine. \r\n\r\nBelow Steps should fix your Java path issue.\r\n\r\nGot To System Variables.\r\n\r\nIf you haven&#39;t added `JAVA_HOME` please add it in the System Variables sections. Like the below example.\r\n\r\n[![Java Home set][1]][1]\r\n\r\nSelect Path Variable is System Variables click Edit.\r\n\r\nThere should be a Java path like `C:\\PROGRA~2\\COMMON~1\\Oracle\\Java\\javapath\\java.ex`e\r\nin Path. Delete it.\r\nClick `New` and add `%JAVA_HOME%\\bin` \r\nNow Your correct Java path should be set.\r\nOpen a new Command prompt and type `java -version` should be settled. (Already opened command prompts will not reflect this in Windows)\r\n\r\nPlease note that sometimes This won&#39;t affect IDEs like IntelliJ because of their advanced cache systems. You have to clear those caches. Otherwise, it won&#39;t be shown as Java was changed even though already changed in OS.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1c1qk.png","title":"sparklyr- JAVA_HOME is set but does not point to a valid version","body":"<p>This happens because the Java path you mentioned in the comment was placed before <code>%JAVA_HOME%\\bin</code> or directly added to the Path or there is no <code>%JAVA_HOME%\\bin</code> variable in your Windows machine.</p>\n<p>Below Steps should fix your Java path issue.</p>\n<p>Got To System Variables.</p>\n<p>If you haven't added <code>JAVA_HOME</code> please add it in the System Variables sections. Like the below example.</p>\n<p><a href=\"https://i.stack.imgur.com/1c1qk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1c1qk.png\" alt=\"Java Home set\" /></a></p>\n<p>Select Path Variable is System Variables click Edit.</p>\n<p>There should be a Java path like <code>C:\\PROGRA~2\\COMMON~1\\Oracle\\Java\\javapath\\java.ex</code>e\nin Path. Delete it.\nClick <code>New</code> and add <code>%JAVA_HOME%\\bin</code>\nNow Your correct Java path should be set.\nOpen a new Command prompt and type <code>java -version</code> should be settled. (Already opened command prompts will not reflect this in Windows)</p>\n<p>Please note that sometimes This won't affect IDEs like IntelliJ because of their advanced cache systems. You have to clear those caches. Otherwise, it won't be shown as Java was changed even though already changed in OS.</p>\n"}],"owner":{"account_id":14552102,"reputation":31,"user_id":10510636,"display_name":"Kyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2400,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1678690421,"creation_date":1539661444,"question_id":52827672,"body_markdown":"I&#39;m attempting to use `sparklyr` to analyze a large dataset in R. Upon my attempts to establish a Spark connection with `spark_connect`, I receive the following error:\r\n\r\n    Error in get_java(throws = TRUE) : Java is required to connect to Spark. JAVA_HOME is set but does not point to a valid version. Please fix JAVA_HOME or reinstall from: https://www.java.com/en/\r\n\r\nI&#39;ve reinstalled Java but continue to get the same error. Any advice?\r\n","title":"sparklyr- JAVA_HOME is set but does not point to a valid version","body":"<p>I'm attempting to use <code>sparklyr</code> to analyze a large dataset in R. Upon my attempts to establish a Spark connection with <code>spark_connect</code>, I receive the following error:</p>\n\n<pre><code>Error in get_java(throws = TRUE) : Java is required to connect to Spark. JAVA_HOME is set but does not point to a valid version. Please fix JAVA_HOME or reinstall from: https://www.java.com/en/\n</code></pre>\n\n<p>I've reinstalled Java but continue to get the same error. Any advice?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1494580365,"post_id":43933778,"comment_id":74899889,"body_markdown":"Can you show us some of your research please?","body":"Can you show us some of your research please?"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":2,"creation_date":1494580459,"post_id":43933778,"comment_id":74899952,"body_markdown":"have you tried `element.getAttribute(&quot;value&quot;) `","body":"have you tried <code>element.getAttribute(&quot;value&quot;) </code>"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1606031356,"post_id":43933778,"comment_id":114831351,"body_markdown":"Possible duplicate: *[How to gettext() of an element in Selenium Webdriver](https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver)*","body":"Possible duplicate: <i><a href=\"https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver\">How to gettext() of an element in Selenium Webdriver</a></i>"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668726690,"post_id":43933778,"comment_id":131483334,"body_markdown":"[Reference for the `disabled` attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-autocomplete). But what is `data-bind`? What is the consequence for the doubled `type` attribute?","body":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-autocomplete\" rel=\"nofollow noreferrer\">Reference for the <code>disabled</code> attribute</a>. But what is <code>data-bind</code>? What is the consequence for the doubled <code>type</code> attribute?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668729126,"post_id":43933778,"comment_id":131483816,"body_markdown":"Perhaps the title should be more specific?","body":"Perhaps the title should be more specific?"}],"answers":[{"tags":[],"owner":{"account_id":6184254,"reputation":472,"user_id":4818807,"display_name":"Tom Trumper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668728937,"creation_date":1494580433,"answer_id":43933827,"question_id":43933778,"body_markdown":"I presume the element in question is an [&amp;lt;input&gt;][1] element, so you may be able to use the `element.getAttribute(String attribute)` method like so:\r\n\r\n```java\r\nString value = element.getAttribute(&quot;value&quot;);\r\n```\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>I presume the element in question is an <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\" rel=\"nofollow noreferrer\">&lt;input&gt;</a> element, so you may be able to use the <code>element.getAttribute(String attribute)</code> method like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String value = element.getAttribute(&quot;value&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8405393,"reputation":634,"user_id":6443553,"display_name":"Eknath"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1668726364,"creation_date":1494581391,"answer_id":43934153,"question_id":43933778,"body_markdown":"Try this:\r\n\r\n```java\r\nWebElement element = driver.findElement(By.id(&quot;id value&quot;));  \r\nString val = element.getAttribute(&quot;innerText&quot;)\r\n```\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement element = driver.findElement(By.id(&quot;id value&quot;));  \nString val = element.getAttribute(&quot;innerText&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1999453,"reputation":65,"user_id":4753667,"accept_rate":33,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668726448,"creation_date":1494610326,"answer_id":43943443,"question_id":43933778,"body_markdown":"This *[input][1]* tag is disabled, hence `element.getText()` returns a blank value.\r\n\r\nUse `element.getAttribute(&quot;textContent&quot;)` instead.\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>This <em><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\" rel=\"nofollow noreferrer\">input</a></em> tag is disabled, hence <code>element.getText()</code> returns a blank value.</p>\n<p>Use <code>element.getAttribute(&quot;textContent&quot;)</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":9251032,"reputation":73,"user_id":6871534,"display_name":"Andr&#233;s Felipe Parra Arteaga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668727009,"creation_date":1508965346,"answer_id":46942015,"question_id":43933778,"body_markdown":"You may be looking for the placeholder of an input text, because you might try:\r\n\r\n    element.getAttribute(&quot;placeholder&quot;);\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>You may be looking for the placeholder of an input text, because you might try:</p>\n<pre><code>element.getAttribute(&quot;placeholder&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3554379,"reputation":500,"user_id":2968467,"accept_rate":25,"display_name":"Stipe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668728121,"creation_date":1535484323,"answer_id":52064964,"question_id":43933778,"body_markdown":"You can go to your browser &amp;rarr; open developer tools &amp;rarr; inspect element you want to take attribute from &amp;rarr; click *Properties* &amp;rarr; check if that value is in `InnerText`.\r\n\r\nThen do as it is mentioned in previous comments:\r\n\r\n    element_locator.get_attribute(&#39;InnerText&#39;)\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>You can go to your browser  open developer tools  inspect element you want to take attribute from  click <em>Properties</em>  check if that value is in <code>InnerText</code>.</p>\n<p>Then do as it is mentioned in previous comments:</p>\n<pre><code>element_locator.get_attribute('InnerText')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16331299,"reputation":101,"user_id":11794556,"display_name":"geppy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668728192,"creation_date":1572481402,"answer_id":58635366,"question_id":43933778,"body_markdown":"I had the exact same issue! This post solved it for me:\r\n*https://stackoverflow.com/questions/10251525/how-can-i-get-the-current-contents-of-an-element-in-webdriver*\r\n\r\nI used:\r\n\r\n```python\r\nelement = driver.find_elements_by_xpath(\r\n            &#39;//button[@class=&quot;size-grid-dropdown size-grid-button&quot;]&#39;)\r\nelement.text\r\n```\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>I had the exact same issue! This post solved it for me:\n<em><a href=\"https://stackoverflow.com/questions/10251525/how-can-i-get-the-current-contents-of-an-element-in-webdriver\">How can I get the current contents of an element in webdriver</a></em></p>\n<p>I used:</p>\n<pre class=\"lang-py prettyprint-override\"><code>element = driver.find_elements_by_xpath(\n            '//button[@class=&quot;size-grid-dropdown size-grid-button&quot;]')\nelement.text\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16086222,"reputation":1,"user_id":11610856,"display_name":"&#199;iya Tabar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668729035,"creation_date":1587393598,"answer_id":61325161,"question_id":43933778,"body_markdown":"It works definitely, as I&#39;ve tested it several times:\r\n\r\n```lang-html\r\n&lt;input type=&quot;form-control&quot; type=&quot;text&quot; data-bind=&quot;textInput: EnterpriseId&quot; disabled autocomplete=&quot;off&quot;&gt;\r\n```\r\n\r\nIn your example, you dont have any `innerText`. So you can only get attributes as mentioned before with the existing attributes. In your case:\r\ntype, data-bind, EnterpriseId and autocomplete. No value will be as this attribute isnt created.\r\n\r\nIf you want to get only existing, this should be fine:\r\n\r\n```lang-java\r\nString example = driver.findElement(ByLocator((&quot;&quot;)).getAttribute(&quot;any attribute of your input&quot;);\r\nSystem.out.println(example);\r\n```\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>It works definitely, as I've tested it several times:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;form-control&quot; type=&quot;text&quot; data-bind=&quot;textInput: EnterpriseId&quot; disabled autocomplete=&quot;off&quot;&gt;\n</code></pre>\n<p>In your example, you dont have any <code>innerText</code>. So you can only get attributes as mentioned before with the existing attributes. In your case:\ntype, data-bind, EnterpriseId and autocomplete. No value will be as this attribute isnt created.</p>\n<p>If you want to get only existing, this should be fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String example = driver.findElement(ByLocator((&quot;&quot;)).getAttribute(&quot;any attribute of your input&quot;);\nSystem.out.println(example);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7798901,"reputation":368,"user_id":5899042,"display_name":"gabriel garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668728611,"creation_date":1592743493,"answer_id":62498673,"question_id":43933778,"body_markdown":"As other&#39;s suggested, HTML&#39;s [input][1] nodes don&#39;t have a text attribute because they can store data in multiple formats in a **value** attribute.\r\n\r\nThis can be easily seen in the [HTML `input` API specification](https://html.spec.whatwg.org/multipage/input.html#htmlinputelement) where this `form control` can be of type *`radio`*, *`date`*, *`file upload`* and many more.\r\n\r\nSo, in your specific case, I&#39;d suggest you check the `webdriver`&#39;s API for a method that&#39;s able to retrieve the `value` attribute.\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>As other's suggested, HTML's <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text\" rel=\"nofollow noreferrer\">input</a> nodes don't have a text attribute because they can store data in multiple formats in a <strong>value</strong> attribute.</p>\n<p>This can be easily seen in the <a href=\"https://html.spec.whatwg.org/multipage/input.html#htmlinputelement\" rel=\"nofollow noreferrer\">HTML <code>input</code> API specification</a> where this <code>form control</code> can be of type <em><code>radio</code></em>, <em><code>date</code></em>, <em><code>file upload</code></em> and many more.</p>\n<p>So, in your specific case, I'd suggest you check the <code>webdriver</code>'s API for a method that's able to retrieve the <code>value</code> attribute.</p>\n"},{"tags":[],"owner":{"account_id":21112719,"reputation":335,"user_id":15520369,"display_name":"Dave Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668728727,"creation_date":1657594432,"answer_id":72946553,"question_id":43933778,"body_markdown":"As a bonus to evaluate innerText of an element within Selenium:\r\n\r\n```\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;yourEl&quot;)));\r\nwait.until(ExpectedConditions.attributeToBe(By.id(&quot;yourEl&quot;), &quot;innerText&quot;, yourValue));\r\n```\r\n\r\nDocumentation: *[attributeToBe][1]* \r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#attributeToBe(org.openqa.selenium.By,java.lang.String,java.lang.String)\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>As a bonus to evaluate innerText of an element within Selenium:</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;yourEl&quot;)));\nwait.until(ExpectedConditions.attributeToBe(By.id(&quot;yourEl&quot;), &quot;innerText&quot;, yourValue));\n</code></pre>\n<p>Documentation: <em><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#attributeToBe(org.openqa.selenium.By,java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">attributeToBe</a></em></p>\n"},{"tags":[],"owner":{"account_id":10492714,"reputation":1,"user_id":7734006,"display_name":"merita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690366,"creation_date":1678690308,"answer_id":75718760,"question_id":43933778,"body_markdown":"Faced a similar issue, I wanted web driver to wait until a particular text appeared in 2 web elements.so did a do while until the condition passed.\r\n\r\n    String val = &quot;&quot;, val1 = &quot;&quot;;\r\n    \t\tdo {\r\n    \t\t\tval = (commonMethods.getElementByXpath(chromedriver, 1000, elements.trasmitBandwidthText))\r\n    \t\t\t\t\t**.getAttribute(&quot;innerText&quot;);**\r\n    \r\n    \t\t\tval1 = (commonMethods.getElementByXpath(chromedriver, 1000, elements.receiveBandwidthText))\r\n    \t\t\t\t\t**.getAttribute(&quot;innerText&quot;);**\r\n    \r\n    \t\t\tSystem.out.println(pod + &quot;--- &quot; + val + &quot; value !!!!!!&quot; + val1);\r\n    \t\t} while (!(val.contains(pod) &amp;&amp; val1.contains(pod)));\r\n\r\n.getAttribute(&quot;innerText&quot;) helps get text inside an element.\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>Faced a similar issue, I wanted web driver to wait until a particular text appeared in 2 web elements.so did a do while until the condition passed.</p>\n<pre><code>String val = &quot;&quot;, val1 = &quot;&quot;;\n        do {\n            val = (commonMethods.getElementByXpath(chromedriver, 1000, elements.trasmitBandwidthText))\n                    **.getAttribute(&quot;innerText&quot;);**\n\n            val1 = (commonMethods.getElementByXpath(chromedriver, 1000, elements.receiveBandwidthText))\n                    **.getAttribute(&quot;innerText&quot;);**\n\n            System.out.println(pod + &quot;--- &quot; + val + &quot; value !!!!!!&quot; + val1);\n        } while (!(val.contains(pod) &amp;&amp; val1.contains(pod)));\n</code></pre>\n<p>.getAttribute(&quot;innerText&quot;) helps get text inside an element.</p>\n"}],"owner":{"account_id":10883793,"reputation":193,"user_id":8001932,"accept_rate":20,"display_name":"Bishwaroop Chakraborty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91786,"favorite_count":0,"down_vote_count":3,"up_vote_count":15,"answer_count":10,"score":12,"last_activity_date":1678690366,"creation_date":1494580260,"question_id":43933778,"body_markdown":"I&#39;m working with a [DOM][1] node:\r\n\r\n```html\r\n&lt;input\r\n    type=&quot;form-control&quot;\r\n    type=&quot;text&quot;\r\n    data-bind=&quot;textInput: EnterpriseId&quot;\r\n    disabled \r\n    autocomplete=&quot;off&quot;&gt;\r\n```\r\n\r\nHow can I get its value? I&#39;m struggling since `element.getText()` does not work and returns a blank.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Document_Object_Model\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I get the inner text of an element in Selenium?","body":"<p>I'm working with a <a href=\"https://en.wikipedia.org/wiki/Document_Object_Model\" rel=\"nofollow noreferrer\">DOM</a> node:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input\n    type=&quot;form-control&quot;\n    type=&quot;text&quot;\n    data-bind=&quot;textInput: EnterpriseId&quot;\n    disabled \n    autocomplete=&quot;off&quot;&gt;\n</code></pre>\n<p>How can I get its value? I'm struggling since <code>element.getText()</code> does not work and returns a blank.</p>\n"},{"tags":["java","zip","directory","ziparchive","zip4j"],"answers":[{"tags":[],"owner":{"account_id":4430471,"reputation":3004,"user_id":3607748,"display_name":"Beck Yang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1468507333,"creation_date":1468507333,"answer_id":38377220,"question_id":38314881,"body_markdown":"You can add &lt;code&gt;zipParameters.setReadHiddenFiles(false);&lt;/code&gt;, zip4j will not add hidden folders and files to &lt;code&gt;ZipFile&lt;/code&gt;.","title":"Zip4j Excluding Folders from Zip","body":"<p>You can add <code>zipParameters.setReadHiddenFiles(false);</code>, zip4j will not add hidden folders and files to <code>ZipFile</code>.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1468580089,"creation_date":1468579021,"answer_id":38394000,"question_id":38314881,"body_markdown":"To solve this I went with moving all hidden folders out, package the zip file and move the folders back:\r\n\r\n    HiddenDirectoriesMover hiddenDirectoriesMover = new HiddenDirectoriesMover(sourceFilePath);\r\n    \t\thiddenDirectoriesMover.removeFiles();\r\n    \r\n    // Create zip\r\n    \r\n    hiddenDirectoriesMover.returnFiles();\r\n\r\nA dirty work-around but does the job since `zipParameters.setReadHiddenFiles(false);` [is not working as expected][1]:\r\n\r\n\tpublic static ArrayList getFilesInDirectoryRec(File path, \r\n\t\t\tboolean readHiddenFiles) throws ZipException {\r\n\t\t\r\n\t\tif (path == null) {\r\n\t\t\tthrow new ZipException(&quot;input path is null, cannot read files in the directory&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tArrayList result = new ArrayList();\r\n\t\tFile[] filesAndDirs = path.listFiles();\r\n\t\tList filesDirs = Arrays.asList(filesAndDirs);\r\n\t\t\r\n\t\tif (!path.canRead()) {\r\n\t\t\treturn result; \r\n\t\t}\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; filesDirs.size(); i++) {\r\n\t\t\tFile file = (File)filesDirs.get(i);\r\n\t\t\tif (file.isHidden() &amp;&amp; !readHiddenFiles) {\r\n                // The first hidden file causes a return and skipping everything else (!)\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t\tresult.add(file);\r\n\t\t\tif (file.isDirectory()) {\r\n\t\t\t\tList deeperList = getFilesInDirectoryRec(file, readHiddenFiles);\r\n\t\t\t\tresult.addAll(deeperList);\r\n\t\t\t}\r\n\t    }\r\n\t\treturn result;\r\n\t}\r\n\r\n  [1]: http://www.lingala.net/zip4j/forum/index.php?topic=395.0","title":"Zip4j Excluding Folders from Zip","body":"<p>To solve this I went with moving all hidden folders out, package the zip file and move the folders back:</p>\n\n<pre><code>HiddenDirectoriesMover hiddenDirectoriesMover = new HiddenDirectoriesMover(sourceFilePath);\n        hiddenDirectoriesMover.removeFiles();\n\n// Create zip\n\nhiddenDirectoriesMover.returnFiles();\n</code></pre>\n\n<p>A dirty work-around but does the job since <code>zipParameters.setReadHiddenFiles(false);</code> <a href=\"http://www.lingala.net/zip4j/forum/index.php?topic=395.0\" rel=\"nofollow\">is not working as expected</a>:</p>\n\n<pre><code>public static ArrayList getFilesInDirectoryRec(File path, \n        boolean readHiddenFiles) throws ZipException {\n\n    if (path == null) {\n        throw new ZipException(\"input path is null, cannot read files in the directory\");\n    }\n\n    ArrayList result = new ArrayList();\n    File[] filesAndDirs = path.listFiles();\n    List filesDirs = Arrays.asList(filesAndDirs);\n\n    if (!path.canRead()) {\n        return result; \n    }\n\n    for(int i = 0; i &lt; filesDirs.size(); i++) {\n        File file = (File)filesDirs.get(i);\n        if (file.isHidden() &amp;&amp; !readHiddenFiles) {\n            // The first hidden file causes a return and skipping everything else (!)\n            return result;\n        }\n        result.add(file);\n        if (file.isDirectory()) {\n            List deeperList = getFilesInDirectoryRec(file, readHiddenFiles);\n            result.addAll(deeperList);\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21661454,"reputation":70,"user_id":15980534,"display_name":"Mark Zhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690245,"creation_date":1678690245,"answer_id":75718752,"question_id":38314881,"body_markdown":"You can use `net.lingala.zip4j.model.ExcludeFileFilter`.\r\n```java\r\ntry (ZipFile zipFile = new ZipFile(destinationFilePath)) {\r\n  ZipParameters parameters = new ZipParameters();\r\n  ExcludeFileFilter excludeFileFilter = file -&gt; file.isDirectory() &amp;&amp; \r\nisIllegalDirectoy(file);\r\n  if (sourceFile.isDirectory) {\r\n    zipFile.addFolder(sourceFile, parameters);\r\n  }\r\n}\r\n```\r\n","title":"Zip4j Excluding Folders from Zip","body":"<p>You can use <code>net.lingala.zip4j.model.ExcludeFileFilter</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (ZipFile zipFile = new ZipFile(destinationFilePath)) {\n  ZipParameters parameters = new ZipParameters();\n  ExcludeFileFilter excludeFileFilter = file -&gt; file.isDirectory() &amp;&amp; \nisIllegalDirectoy(file);\n  if (sourceFile.isDirectory) {\n    zipFile.addFolder(sourceFile, parameters);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":38394000,"answer_count":3,"score":0,"last_activity_date":1678690245,"creation_date":1468265956,"question_id":38314881,"body_markdown":"I have a directory with some folders that should be skipped and not added to the target `ZIP` file. I marked them as hidden on `Windows` and I can query this attribute using Java code as follows:\r\n\r\n    new File(&quot;C:\\\\myHiddenFolder&quot;).isHidden();\r\n\r\nHowever, I don&#39;t know how to use this with the following [`Zip4j`][1]-based method to skip adding those respective directories:\r\n\r\n    public File createZipArchive(String sourceFilePath) throws ZipException, IOException\r\n    {\r\n    \tZipParameters zipParameters = new ZipParameters();\r\n    \tzipParameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);\r\n    \tzipParameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_ULTRA);\r\n    \tzipParameters.setEncryptFiles(true);\r\n    \tzipParameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_AES);\r\n    \tzipParameters.setAesKeyStrength(Zip4jConstants.AES_STRENGTH_256);\r\n    \tzipParameters.setPassword(&quot;MyPassword&quot;);\r\n    \r\n    \tString baseFileName = FileNameUtilities.getBaseFileName(sourceFilePath);\r\n    \tString destinationZipFilePath = baseFileName + &quot;.&quot; + EXTENSION;\r\n    \r\n    \tZipFile zipFile = new ZipFile(destinationZipFilePath);\r\n    \tFile sourceFile = new File(sourceFilePath);\r\n    \r\n    \t// Recursively add directories\r\n    \tif (sourceFile.isDirectory())\r\n    \t{\r\n    \t\tFile[] childrenFiles = sourceFile.listFiles();\r\n    \r\n    \t\tif (childrenFiles != null)\r\n    \t\t{\r\n    \t\t\tfor (File folder : childrenFiles)\r\n    \t\t\t{\r\n    \t\t\t\tif (folder.isHidden()) // Nope, no recursive checking!\r\n    \t\t\t\t{\r\n    \t\t\t\t\t// This is the problem, it adds the parent folder and all child folders without allowing me to check whether to exclude any of them...\r\n    \t\t\t\t\tzipFile.addFolder(folder.getAbsolutePath(), zipParameters);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} else\r\n    \t{\r\n    \t\t// Add just the file\r\n    \t\tzipFile.addFile(new File(sourceFilePath), zipParameters);\r\n    \t}\r\n    \r\n    \treturn zipFile.getFile();\r\n    }\r\n\r\nNote that this method only works when the (hidden) folders are in the most upper level but it should work for any depth.\r\n\r\n  [1]: http://www.lingala.net/zip4j/","title":"Zip4j Excluding Folders from Zip","body":"<p>I have a directory with some folders that should be skipped and not added to the target <code>ZIP</code> file. I marked them as hidden on <code>Windows</code> and I can query this attribute using Java code as follows:</p>\n\n<pre><code>new File(\"C:\\\\myHiddenFolder\").isHidden();\n</code></pre>\n\n<p>However, I don't know how to use this with the following <a href=\"http://www.lingala.net/zip4j/\" rel=\"nofollow\"><code>Zip4j</code></a>-based method to skip adding those respective directories:</p>\n\n<pre><code>public File createZipArchive(String sourceFilePath) throws ZipException, IOException\n{\n    ZipParameters zipParameters = new ZipParameters();\n    zipParameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);\n    zipParameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_ULTRA);\n    zipParameters.setEncryptFiles(true);\n    zipParameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_AES);\n    zipParameters.setAesKeyStrength(Zip4jConstants.AES_STRENGTH_256);\n    zipParameters.setPassword(\"MyPassword\");\n\n    String baseFileName = FileNameUtilities.getBaseFileName(sourceFilePath);\n    String destinationZipFilePath = baseFileName + \".\" + EXTENSION;\n\n    ZipFile zipFile = new ZipFile(destinationZipFilePath);\n    File sourceFile = new File(sourceFilePath);\n\n    // Recursively add directories\n    if (sourceFile.isDirectory())\n    {\n        File[] childrenFiles = sourceFile.listFiles();\n\n        if (childrenFiles != null)\n        {\n            for (File folder : childrenFiles)\n            {\n                if (folder.isHidden()) // Nope, no recursive checking!\n                {\n                    // This is the problem, it adds the parent folder and all child folders without allowing me to check whether to exclude any of them...\n                    zipFile.addFolder(folder.getAbsolutePath(), zipParameters);\n                }\n            }\n        }\n    } else\n    {\n        // Add just the file\n        zipFile.addFile(new File(sourceFilePath), zipParameters);\n    }\n\n    return zipFile.getFile();\n}\n</code></pre>\n\n<p>Note that this method only works when the (hidden) folders are in the most upper level but it should work for any depth.</p>\n"},{"tags":["java","connection-pooling","c3p0","interrupt-handling","interrupted-exception"],"answers":[{"tags":[],"owner":{"account_id":92053,"reputation":380,"user_id":252454,"display_name":"Robert Verdes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678688932,"creation_date":1411240339,"answer_id":25952372,"question_id":25952371,"body_markdown":"I did a simple test by firing a lot of `Connection` requests within 1 second, executing a SELECT each time tim make sure the pool bottlenecks, and then calling `interrupt()`.\r\n\r\nWhat I found was that the `connection` object is fine and dandy after the `InterruptedException` being caught, even though the stacktrace shows me c3p0 meltdown at `awaitAvailable(..)`. At this very second I&#39;m checking out their sources, and surely, they handle the `InterruptedException`. They even throw a proper warning:\r\n\r\n    WARNING: com.mchange.v2.resourcepool.BasicResourcePool@5bcf4b61 -- an attempt to checkout a resource was interrupted, and the pool is still live: some other thread must have either interrupted the Thread attempting checkout!\r\n\r\ntelling us it&#39;s still live, albeit inbetween a lot of word fuzz. Solved. \r\n\r\nHere&#39;s the test anyway.\r\n\r\n\r\n\tComboPooledDataSource ds = new ComboPooledDataSource();\r\n\t\r\n    // testing with various pool sizes - same effect\r\n\tds.setMinPoolSize(1);\r\n\tds.setMaxPoolSize(5);\r\n\tds.setInitialPoolSize(2);\r\n\r\n\tThread connectingThread = new Thread() {\r\n\r\n\t\tpublic void run() {\r\n\t\t\tConnection cnxn = null;\r\n\t\t\twhile (true) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tcnxn = ds.getConnection();\r\n\t\t\t\t\tSystem.out.println(&quot;Got connection.&quot;);\r\n\t\t\t\t\texecuteQuery(cnxn);\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Got exception.&quot;);\r\n\t\t\t\t\te.printStackTrace();\r\n\r\n\t\t\t\t\t// SOLUTION:\r\n\t\t\t\t\tThrowable cause = e.getCause();\r\n\t\t\t\t\tif (cause instanceof InterruptedException) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Caught InterruptedException! Cnxn is &quot; + cnxn);\r\n\r\n\t\t\t\t\t\t// note that cnxn is a com.mchange.v2.c3p0.impl.NewProxyConnection\r\n\t\t\t\t\t\t// also note that it&#39;s perfectly healthy.\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// You may either want to:\r\n\t\t\t\t\t\t// a) use the cnxn to submit your the query\r\n\r\n\t\t\t\t\t\texecuteQuery(cnxn);\r\n\t\t\t\t\t\tcnxn.close()\r\n\r\n\t\t\t\t\t\t// b) handle a proper shutdown\r\n\r\n\t\t\t\t\t\tcnxn.close();\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\tconnectingThread.start();\r\n\t\t\r\n\ttry {\r\n\t\tThread.sleep(1000);\r\n\t} catch (InterruptedException e) {\t\t\te.printStackTrace();\t\t}\r\n\t\t\r\n\tconnectingThread.interrupt();\r\n\t\t","title":"Connection pooling and Thread.interrupt()","body":"<p>I did a simple test by firing a lot of <code>Connection</code> requests within 1 second, executing a SELECT each time tim make sure the pool bottlenecks, and then calling <code>interrupt()</code>.</p>\n<p>What I found was that the <code>connection</code> object is fine and dandy after the <code>InterruptedException</code> being caught, even though the stacktrace shows me c3p0 meltdown at <code>awaitAvailable(..)</code>. At this very second I'm checking out their sources, and surely, they handle the <code>InterruptedException</code>. They even throw a proper warning:</p>\n<pre><code>WARNING: com.mchange.v2.resourcepool.BasicResourcePool@5bcf4b61 -- an attempt to checkout a resource was interrupted, and the pool is still live: some other thread must have either interrupted the Thread attempting checkout!\n</code></pre>\n<p>telling us it's still live, albeit inbetween a lot of word fuzz. Solved.</p>\n<p>Here's the test anyway.</p>\n<pre><code>ComboPooledDataSource ds = new ComboPooledDataSource();\n\n// testing with various pool sizes - same effect\nds.setMinPoolSize(1);\nds.setMaxPoolSize(5);\nds.setInitialPoolSize(2);\n\nThread connectingThread = new Thread() {\n\n    public void run() {\n        Connection cnxn = null;\n        while (true) {\n            try {\n                cnxn = ds.getConnection();\n                System.out.println(&quot;Got connection.&quot;);\n                executeQuery(cnxn);\n            } catch (SQLException e) {\n                System.out.println(&quot;Got exception.&quot;);\n                e.printStackTrace();\n\n                // SOLUTION:\n                Throwable cause = e.getCause();\n                if (cause instanceof InterruptedException) {\n                    System.out.println(&quot;Caught InterruptedException! Cnxn is &quot; + cnxn);\n\n                    // note that cnxn is a com.mchange.v2.c3p0.impl.NewProxyConnection\n                    // also note that it's perfectly healthy.\n                    //\n                    // You may either want to:\n                    // a) use the cnxn to submit your the query\n\n                    executeQuery(cnxn);\n                    cnxn.close()\n\n                    // b) handle a proper shutdown\n\n                    cnxn.close();\n\n                }\n                break;\n            }\n        }\n    };\n};\n\nconnectingThread.start();\n    \ntry {\n    Thread.sleep(1000);\n} catch (InterruptedException e) {          e.printStackTrace();        }\n    \nconnectingThread.interrupt();\n    \n</code></pre>\n"}],"owner":{"account_id":92053,"reputation":380,"user_id":252454,"display_name":"Robert Verdes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5269,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25952372,"answer_count":1,"score":3,"last_activity_date":1678688932,"creation_date":1411240339,"question_id":25952371,"body_markdown":"I am using [c3p0](http://www.mchange.com/projects/c3p0/) to handle database connection pooling in a multithreaded environment. The question might pertain to other pooling libs, but this is what I have.\r\n\r\nRecently I&#39;ve needed to implement [interrupt](http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupt())ion handling on such threads using directly or indirectly c3p0, and have noticed that if `interrupt()` is called right when `c3p0Datasource.getConnection()` is trying to fetch me a `Connection` from the pool, it throws an `InterruptedException`.\r\n\r\nObviously, this happens because of the `wait()`\r\n\r\n    at java.lang.Object.wait(Native Method)\r\n    at com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1414)\r\n\r\nCool. The question is how do you handle this properly - both is case a) you want to continue with the transaction before your thread terminates, and b) you want to abort.\r\n\r\nI&#39;ve tried a solution that seems to be working fine (posted as answer) - actually, I think this subject is closed. Feel free to chip in otherwise, thanks!","title":"Connection pooling and Thread.interrupt()","body":"<p>I am using <a href=\"http://www.mchange.com/projects/c3p0/\" rel=\"nofollow\">c3p0</a> to handle database connection pooling in a multithreaded environment. The question might pertain to other pooling libs, but this is what I have.</p>\n\n<p>Recently I've needed to implement <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupt()\" rel=\"nofollow\">interrupt</a>ion handling on such threads using directly or indirectly c3p0, and have noticed that if <code>interrupt()</code> is called right when <code>c3p0Datasource.getConnection()</code> is trying to fetch me a <code>Connection</code> from the pool, it throws an <code>InterruptedException</code>.</p>\n\n<p>Obviously, this happens because of the <code>wait()</code></p>\n\n<pre><code>at java.lang.Object.wait(Native Method)\nat com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1414)\n</code></pre>\n\n<p>Cool. The question is how do you handle this properly - both is case a) you want to continue with the transaction before your thread terminates, and b) you want to abort.</p>\n\n<p>I've tried a solution that seems to be working fine (posted as answer) - actually, I think this subject is closed. Feel free to chip in otherwise, thanks!</p>\n"},{"tags":["java","amazon-web-services","spring-boot","jdeps","secret-manager"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1678493072,"post_id":75649097,"comment_id":133549491,"body_markdown":"```we started getting ssl handshake issue, we haven&#39;t updated spring boot or secretmanager jdbc version``` means they probably upgraded AWS secretmanager, 1.0.5 is from 2020 you are using very old version. better to stick with latest. ```jdk.tls.client.protocols``` probably pushing secret manager to use the TLS version your app uses. [Check](https://docs.aws.amazon.com/secretsmanager/latest/userguide/infrastructure-security.html) for the versions of the manager.","body":"<code>we started getting ssl handshake issue, we haven&#39;t updated spring boot or secretmanager jdbc version</code> means they probably upgraded AWS secretmanager, 1.0.5 is from 2020 you are using very old version. better to stick with latest. <code>jdk.tls.client.protocols</code> probably pushing secret manager to use the TLS version your app uses. <a href=\"https://docs.aws.amazon.com/secretsmanager/latest/userguide/infrastructure-security.html\" rel=\"nofollow noreferrer\">Check</a> for the versions of the manager."},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1678640145,"post_id":75649097,"comment_id":133568588,"body_markdown":"Hi @ozkanpakdil checked the below link but unable to find any upgrade details. Although they do say that they have started upgrading endpoints.","body":"Hi @ozkanpakdil checked the below link but unable to find any upgrade details. Although they do say that they have started upgrading endpoints."}],"answers":[{"tags":[],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678688888,"creation_date":1678688888,"answer_id":75718608,"question_id":75649097,"body_markdown":"With investigation in cloudtrail, we found that the ciphersuite got changed on 26th February from &quot;AES-GCM-SHA256&quot; to **&quot;ECDHE-RSA-AES128-GCM-SHA256&quot;**.\r\nAs we were using Java modules for creating our custom hre. We haven&#39;t included jdk.crypto.ec explicitly as secretmanager was working fine without it.\r\n","title":"SSl handshake issue when using AWS secretmanager for password store in RDS","body":"<p>With investigation in cloudtrail, we found that the ciphersuite got changed on 26th February from &quot;AES-GCM-SHA256&quot; to <strong>&quot;ECDHE-RSA-AES128-GCM-SHA256&quot;</strong>.\nAs we were using Java modules for creating our custom hre. We haven't included jdk.crypto.ec explicitly as secretmanager was working fine without it.</p>\n"}],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75718608,"answer_count":1,"score":1,"last_activity_date":1678688888,"creation_date":1678094955,"question_id":75649097,"body_markdown":"We are using AWS RDS for for our persistent store and using secretmanager for password rotation and storage. It is also encrypted with KMS.\r\n\r\nWe have a spring boot app which is deployed on ECS fargate and using following dependency :- \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.amazonaws.secretsmanager/aws-secretsmanager-jdbc --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws.secretsmanager&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-secretsmanager-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd using following properties :-\r\n\r\n    # datasource.username=secretId\r\n    datasource.driverClass=com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver\r\n    # datasource.jdbcUrl=jdbc-secretsmanager:postgresql://example.com:5432/database\r\n\r\n**Note :- we are using jdeps and jlink to create our custom runtime**\r\n\r\nAnd following are the modules that we are using :\r\n\r\n    Java.base,java.desktop,java.instrument,java.management.rmi,java.naming,java.prefs, java.scripting,java.security.jgss,java.sql,jdk.httpserver,jdk.jfr,jdk.unsupported\r\n\r\n\r\nNow with this configuration it has worked fine for months and we also took it to production. **But from this month we started getting ssl handshake issue, we haven&#39;t updated spring boot or secretmanager jdbc version**\r\n\r\nNot sure what caused it but either adding `**jdk.crypto.ec**` or adding -**Djdk.tls.client.protocols=TLSv1,TLSv1.1,TLSv1.2** solved the issue. \r\n\r\nPlease help me that why this issue started occuring as we haven&#39;t done any changes and why the above fixes solved it.\r\nThanks\r\n","title":"SSl handshake issue when using AWS secretmanager for password store in RDS","body":"<p>We are using AWS RDS for for our persistent store and using secretmanager for password rotation and storage. It is also encrypted with KMS.</p>\n<p>We have a spring boot app which is deployed on ECS fargate and using following dependency :-</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.amazonaws.secretsmanager/aws-secretsmanager-jdbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws.secretsmanager&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-secretsmanager-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;1.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And using following properties :-</p>\n<pre><code># datasource.username=secretId\ndatasource.driverClass=com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver\n# datasource.jdbcUrl=jdbc-secretsmanager:postgresql://example.com:5432/database\n</code></pre>\n<p><strong>Note :- we are using jdeps and jlink to create our custom runtime</strong></p>\n<p>And following are the modules that we are using :</p>\n<pre><code>Java.base,java.desktop,java.instrument,java.management.rmi,java.naming,java.prefs, java.scripting,java.security.jgss,java.sql,jdk.httpserver,jdk.jfr,jdk.unsupported\n</code></pre>\n<p>Now with this configuration it has worked fine for months and we also took it to production. <strong>But from this month we started getting ssl handshake issue, we haven't updated spring boot or secretmanager jdbc version</strong></p>\n<p>Not sure what caused it but either adding <code>**jdk.crypto.ec**</code> or adding -<strong>Djdk.tls.client.protocols=TLSv1,TLSv1.1,TLSv1.2</strong> solved the issue.</p>\n<p>Please help me that why this issue started occuring as we haven't done any changes and why the above fixes solved it.\nThanks</p>\n"},{"tags":["java","junit","mocking","wiremock","service-virtualization"],"comments":[{"owner":{"account_id":88070,"reputation":8527,"user_id":243861,"accept_rate":60,"display_name":"Mykola Gurov"},"score":0,"creation_date":1527423177,"post_id":50539505,"comment_id":88114829,"body_markdown":"could it be that you actually have to do an http action somewhere between the &quot;stub&quot; and &quot;verify&quot; steps for the latter not to fail?","body":"could it be that you actually have to do an http action somewhere between the &quot;stub&quot; and &quot;verify&quot; steps for the latter not to fail?"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1527581550,"post_id":50539505,"comment_id":88167994,"body_markdown":"@MykolaGurov, I really don&#39;t  any idea. weather i have to implement something. as i&#39;m mocking the request.","body":"@MykolaGurov, I really don&#39;t  any idea. weather i have to implement something. as i&#39;m mocking the request."},{"owner":{"account_id":88070,"reputation":8527,"user_id":243861,"accept_rate":60,"display_name":"Mykola Gurov"},"score":0,"creation_date":1527583268,"post_id":50539505,"comment_id":88168987,"body_markdown":"WireMock mocks server response, not the request. If you need to mock request then you probably looking for something like http://rest-assured.io","body":"WireMock mocks server response, not the request. If you need to mock request then you probably looking for something like <a href=\"http://rest-assured.io\" rel=\"nofollow noreferrer\">rest-assured.io</a>"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1527585884,"post_id":50539505,"comment_id":88170701,"body_markdown":"@MykolaGurov, actually i want to mock server response. Like in above code i have created on _stub_. Now i want to verify the response return by server it is returning [ ] and giving the mentioned errer . Just want mocking  don&#39;t want to perform any real time request to some service and verify the response","body":"@MykolaGurov, actually i want to mock server response. Like in above code i have created on <i>stub</i>. Now i want to verify the response return by server it is returning [ ] and giving the mentioned errer . Just want mocking  don&#39;t want to perform any real time request to some service and verify the response"}],"answers":[{"tags":[],"owner":{"account_id":13694672,"reputation":221,"user_id":9881667,"display_name":"D.Salter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1527864882,"creation_date":1527864882,"answer_id":50646148,"question_id":50539505,"body_markdown":"In your code you are stubbing out a response and then verifying that a request has been made for that stub.  You are not however making a call to the endpoint and so the test is failing.\r\n\r\nYou need to invoke the endpoint before verifying that it is called.\r\n\r\nIf you use Apache Commons HttpClient, you could write your test as:\r\n\r\n    @Test\r\n    public void exampleTest() throws Exception {\r\n\r\n        stubFor(get(urlEqualTo(&quot;/login&quot;)).withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\r\n                .willReturn(aResponse().withStatus(200).withBody(&quot;Login Success&quot;)\r\n                        .withStatusMessage(&quot;Everything was just fine!&quot;))\r\n                .willReturn(okJson(&quot;{ \\&quot;message\\&quot;: \\&quot;Hello\\&quot; }&quot;)));\r\n\r\n        String url = &quot;http://localhost:8080/login&quot;;\r\n        HttpClient client = HttpClientBuilder.create().build();\r\n        HttpGet request = new HttpGet(url);\r\n        request.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        request.addHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        HttpResponse response = client.execute(request);\r\n\r\n        verify(getRequestedFor(urlPathEqualTo(&quot;/login&quot;))\r\n                .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;)));\r\n    }\r\n","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching","body":"<p>In your code you are stubbing out a response and then verifying that a request has been made for that stub.  You are not however making a call to the endpoint and so the test is failing.</p>\n\n<p>You need to invoke the endpoint before verifying that it is called.</p>\n\n<p>If you use Apache Commons HttpClient, you could write your test as:</p>\n\n<pre><code>@Test\npublic void exampleTest() throws Exception {\n\n    stubFor(get(urlEqualTo(\"/login\")).withHeader(\"Accept\", equalTo(\"application/json\"))\n            .willReturn(aResponse().withStatus(200).withBody(\"Login Success\")\n                    .withStatusMessage(\"Everything was just fine!\"))\n            .willReturn(okJson(\"{ \\\"message\\\": \\\"Hello\\\" }\")));\n\n    String url = \"http://localhost:8080/login\";\n    HttpClient client = HttpClientBuilder.create().build();\n    HttpGet request = new HttpGet(url);\n    request.addHeader(\"Content-Type\", \"application/json\");\n    request.addHeader(\"Accept\", \"application/json\");\n    HttpResponse response = client.execute(request);\n\n    verify(getRequestedFor(urlPathEqualTo(\"/login\"))\n            .withHeader(\"Content-Type\", equalTo(\"application/json\")));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2260450,"reputation":919,"user_id":1990698,"accept_rate":24,"display_name":"Felix Aballi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635524253,"creation_date":1635523937,"answer_id":69771955,"question_id":50539505,"body_markdown":"Kindly, recommend using a __class rule__ annotation/field (`@ClassRule`) for `JUnit 4` (_in those cases, where config could be reused on multiple unit tests_).\r\n\r\n`@Rule` could cause unexpected behaviors on async or http requests contexts, when `stubs` aren&#39;t registered yet. \r\n\r\n__Versions:__ `2.21.0 -&gt; ... -&gt; 2.31.0`.\r\n\r\n__Note__: In my particular case, had multiple tests reusing config and all the requests where executed correctly (debugging &amp; checking mocked responses deserialized onto in-memory DTOs).  \r\n\r\nThen:\r\n\r\n```java\r\n// ... WIREMOCK_PORT\r\n\r\n@ClassRule\r\npublic static final WireMockClassRule WIRE_MOCK_RULE = new WireMockClassRule(WIREMOCK_PORT);  // public\r\n\r\n``` \r\n\r\nAlso, recommend verifying mocked request was made to WireMock registered stubs.\r\n\r\n__Steps:__\r\n1) Create stub: `WIRE_MOCK_RULE.stubFor(get(urlPathMatching(...))) // get, post, ...`\r\n2) Hit mocked endpoint with a Http client\r\n3) Verify stub was invoked: `verify(getRequestedFor(urlPathMatching(...)))`\r\n\r\n```javaWIRE_MOCK_RULE.stubFor(get(urlPathMatching(\r\n//{get, post, ...}RequestedFor(...) API methods for a particular HTTP request\r\n\r\nverify(getRequestedFor(urlPathMatching(&quot;a-url-pattern&quot;))); //urlEqualTo, ...\r\n```\r\n","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching","body":"<p>Kindly, recommend using a <strong>class rule</strong> annotation/field (<code>@ClassRule</code>) for <code>JUnit 4</code> (<em>in those cases, where config could be reused on multiple unit tests</em>).</p>\n<p><code>@Rule</code> could cause unexpected behaviors on async or http requests contexts, when <code>stubs</code> aren't registered yet.</p>\n<p><strong>Versions:</strong> <code>2.21.0 -&gt; ... -&gt; 2.31.0</code>.</p>\n<p><strong>Note</strong>: In my particular case, had multiple tests reusing config and all the requests where executed correctly (debugging &amp; checking mocked responses deserialized onto in-memory DTOs).</p>\n<p>Then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ... WIREMOCK_PORT\n\n@ClassRule\npublic static final WireMockClassRule WIRE_MOCK_RULE = new WireMockClassRule(WIREMOCK_PORT);  // public\n\n</code></pre>\n<p>Also, recommend verifying mocked request was made to WireMock registered stubs.</p>\n<p><strong>Steps:</strong></p>\n<ol>\n<li>Create stub: <code>WIRE_MOCK_RULE.stubFor(get(urlPathMatching(...))) // get, post, ...</code></li>\n<li>Hit mocked endpoint with a Http client</li>\n<li>Verify stub was invoked: <code>verify(getRequestedFor(urlPathMatching(...)))</code></li>\n</ol>\n<pre><code>//{get, post, ...}RequestedFor(...) API methods for a particular HTTP request\n\nverify(getRequestedFor(urlPathMatching(&quot;a-url-pattern&quot;))); //urlEqualTo, ...\n</code></pre>\n"}],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10638,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":50646148,"answer_count":2,"score":6,"last_activity_date":1678688547,"creation_date":1527311353,"question_id":50539505,"body_markdown":"I want to create a Stub for an API and want to verify API call and response returned by the server. for that i have implemented `WireMock` example :\r\n\r\n\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    \r\n    import com.github.tomakehurst.wiremock.junit.WireMockRule;\r\n    \r\n    public class MockTestDemo {\r\n    \r\n    \tprivate static final int WIREMOCK_PORT = 8080;\r\n    \r\n    \t@Rule\r\n    \tpublic WireMockRule wireMockRule = new WireMockRule(WIREMOCK_PORT);\r\n    \r\n    \t@Test\r\n    \tpublic void exampleTest() {\r\n    \r\n\t\tstubFor(get(urlEqualTo(&quot;/login&quot;)).withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\r\n\t\t\t\t.willReturn(aResponse().withStatus(200).withBody(&quot;Login Success&quot;)\r\n\t\t\t\t\t\t.withStatusMessage(&quot;Everything was just fine!&quot;))\r\n\t\t\t\t.willReturn(okJson(&quot;{ \\&quot;message\\&quot;: \\&quot;Hello\\&quot; }&quot;)));\r\n    \r\n           verify(getRequestedFor(urlPathEqualTo(&quot;http://localhost:8080/login&quot;)) \r\n\t\t\t\t.withHeader(&quot;Content-Type&quot;,equalTo(&quot;application/json&quot;)));    \t}\r\n    \r\n    }\r\n\r\nBut getting below error :\r\n\r\n&gt;     com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching: {\r\n&gt;       &quot;urlPath&quot; : &quot;localhosturl/login&quot;,\r\n&gt; \r\n&gt;        &quot;method&quot; : &quot;GET&quot;,\r\n&gt; \r\n&gt;       &quot;headers&quot; : {\r\n&gt;         &quot;Content-Type&quot; : {\r\n&gt;           &quot;equalTo&quot; : &quot;application/json&quot;\r\n&gt;         }\r\n&gt;       }\r\n&gt;     }\r\n&gt;     \r\n&gt;     Requests received: [ ]\r\n&gt;     \tat com.github.tomakehurst.wiremock.client.WireMock.verificationExceptionForNearMisses(WireMock.java:545)\r\n&gt;     \tat com.github.tomakehurst.wiremock.client.WireMock.verifyThat(WireMock.java:532)\r\n&gt;     \tat com.github.tomakehurst.wiremock.client.WireMock.verifyThat(WireMock.java:511)\r\n&gt;     \tat com.github.tomakehurst.wiremock.client.WireMock.verify(WireMock.java:549)\r\n&gt;     \tat com.wiremock.test.MockTestDemo.exampleTest(MockTestDemo.java:23)\r\n&gt;     \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt;     \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n&gt;     \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt;     \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt;     \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n&gt;     \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n&gt;     \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n&gt;     \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n&gt;     \tat com.github.tomakehurst.wiremock.junit.WireMockRule$1.evaluate(WireMockRule.java:73)\r\n&gt;     \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n&gt;     \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n&gt;     \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n&gt;     \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n&gt;     \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n&gt;     \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n&gt;     \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n&gt;     \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n&gt;     \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n&gt;     \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n&gt;     \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\r\n\r\nIf I comment verify part then test executed successfully also i have verified the same using postman by calling `http://localhost:8080/login` and it returning response successfully ?\r\n\r\nIs any thing I&#39;m missing here ? \r\n\r\n \r\n\r\n","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching","body":"<p>I want to create a Stub for an API and want to verify API call and response returned by the server. for that i have implemented <code>WireMock</code> example :</p>\n\n<pre><code>import org.junit.Rule;\nimport org.junit.Test;\n\nimport com.github.tomakehurst.wiremock.junit.WireMockRule;\n\npublic class MockTestDemo {\n\n    private static final int WIREMOCK_PORT = 8080;\n\n    @Rule\n    public WireMockRule wireMockRule = new WireMockRule(WIREMOCK_PORT);\n\n    @Test\n    public void exampleTest() {\n\n    stubFor(get(urlEqualTo(\"/login\")).withHeader(\"Accept\", equalTo(\"application/json\"))\n            .willReturn(aResponse().withStatus(200).withBody(\"Login Success\")\n                    .withStatusMessage(\"Everything was just fine!\"))\n            .willReturn(okJson(\"{ \\\"message\\\": \\\"Hello\\\" }\")));\n\n       verify(getRequestedFor(urlPathEqualTo(\"http://localhost:8080/login\")) \n            .withHeader(\"Content-Type\",equalTo(\"application/json\")));       }\n\n}\n</code></pre>\n\n<p>But getting below error :</p>\n\n<blockquote>\n<pre><code>com.github.tomakehurst.wiremock.client.VerificationException: Expected at least one request matching: {\n  \"urlPath\" : \"localhosturl/login\",\n\n   \"method\" : \"GET\",\n\n  \"headers\" : {\n    \"Content-Type\" : {\n      \"equalTo\" : \"application/json\"\n    }\n  }\n}\n\nRequests received: [ ]\n  at com.github.tomakehurst.wiremock.client.WireMock.verificationExceptionForNearMisses(WireMock.java:545)\n  at com.github.tomakehurst.wiremock.client.WireMock.verifyThat(WireMock.java:532)\n  at com.github.tomakehurst.wiremock.client.WireMock.verifyThat(WireMock.java:511)\n  at com.github.tomakehurst.wiremock.client.WireMock.verify(WireMock.java:549)\n  at com.wiremock.test.MockTestDemo.exampleTest(MockTestDemo.java:23)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n  at com.github.tomakehurst.wiremock.junit.WireMockRule$1.evaluate(WireMockRule.java:73)\n  at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n  at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n  at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n  at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n  at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n  at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n  at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n  at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\n</code></pre>\n</blockquote>\n\n<p>If I comment verify part then test executed successfully also i have verified the same using postman by calling <code>http://localhost:8080/login</code> and it returning response successfully ?</p>\n\n<p>Is any thing I'm missing here ? </p>\n"},{"tags":["java","junit5","instancio"],"answers":[{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678688112,"creation_date":1678679235,"answer_id":75717904,"question_id":75715631,"body_markdown":"For a one-off case, the easiest option is to specify the implementation manually, e.g.\r\n\r\n```java\r\nPerson person = Instancio.of(Person.class)\r\n    .subtype(all(Pet.class), Cat.class)\r\n    .create();\r\n```\r\n\r\nHowever, I assume that you want implementations to be found automatically. If so, there are a couple of options.\r\n\r\n1. Implement the `TypeResolver` (see [InstancioServiceProvider documentation](https://www.instancio.org/user-guide/#instancio-service-provider-interface)):\r\n\r\n```java\r\nclass MyTypeResolver implements TypeResolver {\r\n    private Map&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt; subtypeMap = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getSubtype(Class&lt;?&gt; type) {\r\n        return subtypeMap.get(type);\r\n    }\r\n}\r\n```\r\n\r\nThe mapping can be specified manually, or automated by scanning the classpath using a library, such as ClassGraph.\r\n\r\n&gt; [See this GitHub repo for a sample implementation](https://github.com/instancio/instancio-samples/tree/main/type-resolver-sample)\r\n\r\n2. Another approach is to [map types via `Settings`](https://www.instancio.org/user-guide/#subtype-mapping). This can also be specified manually, or automated, for example: https://github.com/dafriedmann/instancio-jandex-subtype-mapping\r\n\r\n","title":"Can Instancio generate data for interfaces and abstract classes","body":"<p>For a one-off case, the easiest option is to specify the implementation manually, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = Instancio.of(Person.class)\n    .subtype(all(Pet.class), Cat.class)\n    .create();\n</code></pre>\n<p>However, I assume that you want implementations to be found automatically. If so, there are a couple of options.</p>\n<ol>\n<li>Implement the <code>TypeResolver</code> (see <a href=\"https://www.instancio.org/user-guide/#instancio-service-provider-interface\" rel=\"nofollow noreferrer\">InstancioServiceProvider documentation</a>):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class MyTypeResolver implements TypeResolver {\n    private Map&lt;Class&lt;?&gt;, Class&lt;?&gt;&gt; subtypeMap = new HashMap&lt;&gt;();\n\n    @Override\n    public Class&lt;?&gt; getSubtype(Class&lt;?&gt; type) {\n        return subtypeMap.get(type);\n    }\n}\n</code></pre>\n<p>The mapping can be specified manually, or automated by scanning the classpath using a library, such as ClassGraph.</p>\n<blockquote>\n<p><a href=\"https://github.com/instancio/instancio-samples/tree/main/type-resolver-sample\" rel=\"nofollow noreferrer\">See this GitHub repo for a sample implementation</a></p>\n</blockquote>\n<ol start=\"2\">\n<li>Another approach is to <a href=\"https://www.instancio.org/user-guide/#subtype-mapping\" rel=\"nofollow noreferrer\">map types via <code>Settings</code></a>. This can also be specified manually, or automated, for example: <a href=\"https://github.com/dafriedmann/instancio-jandex-subtype-mapping\" rel=\"nofollow noreferrer\">https://github.com/dafriedmann/instancio-jandex-subtype-mapping</a></li>\n</ol>\n"}],"owner":{"account_id":28000518,"reputation":63,"user_id":21384924,"display_name":"chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75717904,"answer_count":1,"score":6,"last_activity_date":1678688112,"creation_date":1678647427,"question_id":75715631,"body_markdown":"I used to use Easy-Random to generate JUnit5 test data, however because it does not seem to be developed anymore, doesn&#39;t support Java records and in general seems to be less flexibility than Instancio, I&#39;ve decided to migrate. Instancio, out of the box, provides a lot of nice features enabling quicker testing (easier parametrized tests, taking into consideration Javax etc.), however there is one drawback. \r\n\r\nThe objects returned by our persistence layer are auto-generated implementations of some record interface which look like:\r\n\r\n```\r\ninterface SomeRecord {\r\n  getUid();\r\n}\r\n```\r\n\r\nEasy-Random was able to find the implementation and generate a random record.\r\n\r\nI cannot find any information on how to resolve this or a workaround in Instancio&#39;s docs or anywhere else. Has anyone been able to do something similar?","title":"Can Instancio generate data for interfaces and abstract classes","body":"<p>I used to use Easy-Random to generate JUnit5 test data, however because it does not seem to be developed anymore, doesn't support Java records and in general seems to be less flexibility than Instancio, I've decided to migrate. Instancio, out of the box, provides a lot of nice features enabling quicker testing (easier parametrized tests, taking into consideration Javax etc.), however there is one drawback.</p>\n<p>The objects returned by our persistence layer are auto-generated implementations of some record interface which look like:</p>\n<pre><code>interface SomeRecord {\n  getUid();\n}\n</code></pre>\n<p>Easy-Random was able to find the implementation and generate a random record.</p>\n<p>I cannot find any information on how to resolve this or a workaround in Instancio's docs or anywhere else. Has anyone been able to do something similar?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9413,"page":579,"page_size":100}
