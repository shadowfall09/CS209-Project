{"items":[{"tags":["java","jpa","unique","multiple-columns"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1694010379,"post_id":77052752,"comment_id":135835375,"body_markdown":"Have you looked in your database if the unqiue constraint  uk_5cesgns8lwu884yww505jep8t got created the way you expected it to be?","body":"Have you looked in your database if the unqiue constraint  uk_5cesgns8lwu884yww505jep8t got created the way you expected it to be?"},{"owner":{"account_id":12427367,"reputation":101,"user_id":9051442,"display_name":"Gianm30"},"score":0,"creation_date":1694010380,"post_id":77052752,"comment_id":135835376,"body_markdown":"Hi dusk, I think the problem is the design. According to what you did. The values are unique but individually. So, if you want to make a unique key from multiple fields, you could create a composite key of those values.","body":"Hi dusk, I think the problem is the design. According to what you did. The values are unique but individually. So, if you want to make a unique key from multiple fields, you could create a composite key of those values."},{"owner":{"account_id":14116326,"reputation":13,"user_id":10198012,"display_name":"dusk"},"score":0,"creation_date":1694012018,"post_id":77052752,"comment_id":135835796,"body_markdown":"Hi, thanks for your answers ! \n@OHGODSPIDERS\nthe constraint uk_5cesgns8lwu884yww505jep8t is created, but only with science_id\n\nIt was the uk5fhot0c188tnjuw933pl27gch wich contains user_id, exploration_id and difficulty\n\nthanks a lot !","body":"Hi, thanks for your answers !  @OHGODSPIDERS the constraint uk_5cesgns8lwu884yww505jep8t is created, but only with science_id  It was the uk5fhot0c188tnjuw933pl27gch wich contains user_id, exploration_id and difficulty  thanks a lot !"},{"owner":{"account_id":14116326,"reputation":13,"user_id":10198012,"display_name":"dusk"},"score":0,"creation_date":1694012083,"post_id":77052752,"comment_id":135835817,"body_markdown":"@Gianm30 thanks !\nHm, ok, a composite key which contains the three values and which is unique, isn&#39;t it ?","body":"@Gianm30 thanks ! Hm, ok, a composite key which contains the three values and which is unique, isn&#39;t it ?"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1694013907,"post_id":77052752,"comment_id":135836252,"body_markdown":"I think it&#39;s because of your `OneToOne` mappings. `OneToOne` means you can only have one `UserBasket` that relates to one `User` for instance.","body":"I think it&#39;s because of your <code>OneToOne</code> mappings. <code>OneToOne</code> means you can only have one <code>UserBasket</code> that relates to one <code>User</code> for instance."}],"answers":[{"tags":[],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694014399,"creation_date":1694014399,"answer_id":77053412,"question_id":77052752,"body_markdown":"I think it&#39;s because of your `OneToOne` mappings. If I change those to `@ManyToOne(fetch = FetchType.EAGER)` I&#39;m able to successfully insert two records with only `Difficulty` being different. If I try to do a third record with the same `Difficulty` I get the unique key constraint error. ","title":"Unique constraint on multiple columns with JPA annotation","body":"<p>I think it's because of your <code>OneToOne</code> mappings. If I change those to <code>@ManyToOne(fetch = FetchType.EAGER)</code> I'm able to successfully insert two records with only <code>Difficulty</code> being different. If I try to do a third record with the same <code>Difficulty</code> I get the unique key constraint error.</p>\n"}],"owner":{"account_id":14116326,"reputation":13,"user_id":10198012,"display_name":"dusk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77053412,"answer_count":1,"score":0,"last_activity_date":1694014399,"creation_date":1694009638,"question_id":77052752,"body_markdown":"I have a problem when i add a unique constraint on multiple columns with JPA annotation.  \r\nI use PostgresSQL\r\n\r\nI&#39;d like to add unique constraint on 3 columns : &quot;user_id&quot;, &quot;science_id&quot; and &quot;difficulty&quot;\r\n\r\nIn other words : I can have \r\n\r\n0, 1, &quot;EASY&quot;  \r\n0, 1, &quot;HARD&quot; &lt;= because difficulty is different  \r\n0, 2, &quot;EASY&quot;  \r\n1, 2, &quot;EASY&quot;  \r\n\r\nBut not  \r\n0, 1, &quot;EASY&quot;  \r\n0, 1, &quot;EASY&quot; &lt;= Not unique  \r\n0, 2, &quot;EASY&quot;  \r\n1, 2, &quot;EASY&quot;  \r\n\r\n\r\nHere is my Entity :\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;user_basket&quot;,\r\n        uniqueConstraints = { @UniqueConstraint(\r\n                columnNames = { &quot;user_id&quot;, &quot;science_id&quot;, &quot;difficulty&quot; }) })\r\npublic class UserBasket {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    @JsonIgnore\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    @JsonIgnore\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;science_id&quot;)\r\n    private Science science;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Difficulty difficulty;\r\n\r\n    @Column(nullable = false, updatable = false)\r\n    @CreationTimestamp\r\n    private Timestamp addToBasket;\r\n\r\n}\r\n```\r\n\r\nSo, i add with postman :\r\n\r\n\r\n```\r\n{\r\n    &quot;scienceId&quot;: 1,\r\n    &quot;difficulty&quot;: &quot;EASY&quot;\r\n}\r\n```\r\n\r\nAnd add an other but with an other difficulty :\r\n\r\n\r\n```\r\n{\r\n    &quot;scienceId&quot;: 1,\r\n    &quot;difficulty&quot;: &quot;HARD&quot;\r\n}\r\n```\r\n\r\nI got error when second is inserted :\r\n\r\n\r\n```\r\n2023-09-06T16:04:00,284 ERROR [http-nio-8080-exec-4] o.h.e.j.s.SqlExceptionHelper: ERREUR: la valeur d&#39;une cl&#233; dupliqu&#233;e rompt la contrainte unique &#171; uk_5cesgns8lwu884yww505jep8t &#187;\r\n  D&#233;tail&#160;: La cl&#233; &#171; (science_id)=(1) &#187; existe d&#233;j&#224;.\r\n2023-09-06T16:04:00,295 ERROR [http-nio-8080-exec-4] c.d.x.ExceptionHandler: could not execute statement [ERREUR: la valeur d&#39;une cl&#233; dupliqu&#233;e rompt la contrainte unique &#171; uk_5cesgns8lwu884yww505jep8t &#187;\r\n  D&#233;tail&#160;: La cl&#233; &#171; (science_id)=(1) &#187; existe d&#233;j&#224;.] [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]\r\n2023-09-06T16:04:00,295 ERROR [http-nio-8080-exec-4] c.d.x.ExceptionHandler: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERREUR: la valeur d&#39;une cl&#233; dupliqu&#233;e rompt la contrainte unique &#171; uk_5cesgns8lwu884yww505jep8t &#187;\r\n  D&#233;tail&#160;: La cl&#233; &#171; (science_id)=(1) &#187; existe d&#233;j&#224;.] [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]; SQL [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]; constraint [null]\r\n\r\n```\r\n\r\nThanks a lot,\r\nBest regards","title":"Unique constraint on multiple columns with JPA annotation","body":"<p>I have a problem when i add a unique constraint on multiple columns with JPA annotation.<br />\nI use PostgresSQL</p>\n<p>I'd like to add unique constraint on 3 columns : &quot;user_id&quot;, &quot;science_id&quot; and &quot;difficulty&quot;</p>\n<p>In other words : I can have</p>\n<p>0, 1, &quot;EASY&quot;<br />\n0, 1, &quot;HARD&quot; &lt;= because difficulty is different<br />\n0, 2, &quot;EASY&quot;<br />\n1, 2, &quot;EASY&quot;</p>\n<p>But not<br />\n0, 1, &quot;EASY&quot;<br />\n0, 1, &quot;EASY&quot; &lt;= Not unique<br />\n0, 2, &quot;EASY&quot;<br />\n1, 2, &quot;EASY&quot;</p>\n<p>Here is my Entity :</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;user_basket&quot;,\n        uniqueConstraints = { @UniqueConstraint(\n                columnNames = { &quot;user_id&quot;, &quot;science_id&quot;, &quot;difficulty&quot; }) })\npublic class UserBasket {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @JsonIgnore\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    @JsonIgnore\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;science_id&quot;)\n    private Science science;\n\n    @Enumerated(EnumType.STRING)\n    private Difficulty difficulty;\n\n    @Column(nullable = false, updatable = false)\n    @CreationTimestamp\n    private Timestamp addToBasket;\n\n}\n</code></pre>\n<p>So, i add with postman :</p>\n<pre><code>{\n    &quot;scienceId&quot;: 1,\n    &quot;difficulty&quot;: &quot;EASY&quot;\n}\n</code></pre>\n<p>And add an other but with an other difficulty :</p>\n<pre><code>{\n    &quot;scienceId&quot;: 1,\n    &quot;difficulty&quot;: &quot;HARD&quot;\n}\n</code></pre>\n<p>I got error when second is inserted :</p>\n<pre><code>2023-09-06T16:04:00,284 ERROR [http-nio-8080-exec-4] o.h.e.j.s.SqlExceptionHelper: ERREUR: la valeur d'une clé dupliquée rompt la contrainte unique « uk_5cesgns8lwu884yww505jep8t »\n  Détail : La clé « (science_id)=(1) » existe déjà.\n2023-09-06T16:04:00,295 ERROR [http-nio-8080-exec-4] c.d.x.ExceptionHandler: could not execute statement [ERREUR: la valeur d'une clé dupliquée rompt la contrainte unique « uk_5cesgns8lwu884yww505jep8t »\n  Détail : La clé « (science_id)=(1) » existe déjà.] [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]\n2023-09-06T16:04:00,295 ERROR [http-nio-8080-exec-4] c.d.x.ExceptionHandler: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERREUR: la valeur d'une clé dupliquée rompt la contrainte unique « uk_5cesgns8lwu884yww505jep8t »\n  Détail : La clé « (science_id)=(1) » existe déjà.] [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]; SQL [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]; constraint [null]\n\n</code></pre>\n<p>Thanks a lot,\nBest regards</p>\n"},{"tags":["java","apache-kafka","avro","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693866094,"post_id":77040397,"comment_id":135813390,"body_markdown":"What do you mean &quot;Kafka side&quot;? The broker doesn&#39;t hold schemas... This isn&#39;t exactly a Kafka problem. Have you tried sending your schema directly to the registry api? Have you looked at the server logs? What version of the registry are you using?","body":"What do you mean &quot;Kafka side&quot;? The broker doesn&#39;t hold schemas... This isn&#39;t exactly a Kafka problem. Have you tried sending your schema directly to the registry api? Have you looked at the server logs? What version of the registry are you using?"},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1693895187,"post_id":77040397,"comment_id":135815758,"body_markdown":"@OneCricketeer I don&#39;t get your part: kafka doesn&#39;t hold schemas. If I go to the kafka control center then I am able to see the kafka schema of type avro and being backward compatible. It&#39;s the one that I used and add it to my consumer. I&#39;ve been doing this many times.","body":"@OneCricketeer I don&#39;t get your part: kafka doesn&#39;t hold schemas. If I go to the kafka control center then I am able to see the kafka schema of type avro and being backward compatible. It&#39;s the one that I used and add it to my consumer. I&#39;ve been doing this many times."},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1693895244,"post_id":77040397,"comment_id":135815767,"body_markdown":"@OneCricketeer as I understand my error appears since my producer had differences in the schema (maybe I am pronouncing wrong now) that the kafka is holding up.","body":"@OneCricketeer as I understand my error appears since my producer had differences in the schema (maybe I am pronouncing wrong now) that the kafka is holding up."},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1693917481,"post_id":77040397,"comment_id":135820147,"body_markdown":"@OneCricketeer as I was suspecting the issue was the order of the values in my enum. I tried with the same order I was able to send kafka message, tried switching the position of one of the values and I got the error above mentioned","body":"@OneCricketeer as I was suspecting the issue was the order of the values in my enum. I tried with the same order I was able to send kafka message, tried switching the position of one of the values and I got the error above mentioned"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694014037,"post_id":77040397,"comment_id":135836279,"body_markdown":"Control Center links to the Confluent Schema Registry. There are no schemas &quot;in Kafka / that topic&quot; , only an ID number... In any case, evolution rules are determine by the Avro spec, not the Registry or Kafka, that&#39;s why I said it&#39;s not a Kafka problem. The Schema Registry is failing the request before the producer data reaches the broker.","body":"Control Center links to the Confluent Schema Registry. There are no schemas &quot;in Kafka / that topic&quot; , only an ID number... In any case, evolution rules are determine by the Avro spec, not the Registry or Kafka, that&#39;s why I said it&#39;s not a Kafka problem. The Schema Registry is failing the request before the producer data reaches the broker."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694014191,"creation_date":1694014191,"answer_id":77053388,"question_id":77040397,"body_markdown":"If you change any part of the Avro schema itself, it&#39;ll create a new MD5 hash that the registry uses to do a lookup. This is related to [Avro fingerprinting](https://avro.apache.org/docs/1.11.1/specification/#schema-fingerprints). When that hash changes, it can no longer &quot;find that subject/schema&quot;. \r\n\r\nChanging the order of an enum is a backwards compatible change since the schema itself is compatible, but the implementation of the Registry won&#39;t accept that change. \r\n\r\nYou can report bugs at https://github.com/confluentinc/schema-registry/issues\r\n","title":"Can different order of values in enum between producer schema and kafka schema return 40403","body":"<p>If you change any part of the Avro schema itself, it'll create a new MD5 hash that the registry uses to do a lookup. This is related to <a href=\"https://avro.apache.org/docs/1.11.1/specification/#schema-fingerprints\" rel=\"nofollow noreferrer\">Avro fingerprinting</a>. When that hash changes, it can no longer &quot;find that subject/schema&quot;.</p>\n<p>Changing the order of an enum is a backwards compatible change since the schema itself is compatible, but the implementation of the Registry won't accept that change.</p>\n<p>You can report bugs at <a href=\"https://github.com/confluentinc/schema-registry/issues\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/schema-registry/issues</a></p>\n"}],"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77053388,"answer_count":1,"score":0,"last_activity_date":1694014191,"creation_date":1693858659,"question_id":77040397,"body_markdown":"I am using kafka and spring boot application. I had some issues with the producer not being able to send messages to kafka, was getting \r\n\r\n`Caused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Schema not found; error code: 40403`\r\n\r\nAs I understand this is not that the schema is not there but I have some differences. The difference was that in the schema on the kafka I had one enum that had one value which was missing in the avro schema in the producer. Now I added that value in the enum but I am still getting the same error.\r\n\r\nOn the kafka side I have the following:\r\n\r\n`enum Test {\r\nA,\r\nB,\r\nC\r\n}`\r\n\r\nand on the producer side I have the following:\r\n\r\n`enum Test {\r\nA,\r\nC,\r\nB\r\n}`\r\n\r\nCan this be the issue in my scenario?","title":"Can different order of values in enum between producer schema and kafka schema return 40403","body":"<p>I am using kafka and spring boot application. I had some issues with the producer not being able to send messages to kafka, was getting</p>\n<p><code>Caused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Schema not found; error code: 40403</code></p>\n<p>As I understand this is not that the schema is not there but I have some differences. The difference was that in the schema on the kafka I had one enum that had one value which was missing in the avro schema in the producer. Now I added that value in the enum but I am still getting the same error.</p>\n<p>On the kafka side I have the following:</p>\n<p><code>enum Test { A, B, C }</code></p>\n<p>and on the producer side I have the following:</p>\n<p><code>enum Test { A, C, B }</code></p>\n<p>Can this be the issue in my scenario?</p>\n"},{"tags":["java","android","kotlin","android-studio","font-size"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694011440,"post_id":77052969,"comment_id":135835652,"body_markdown":"Please, [do not upload images of code/data/error](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">do not upload images of code/data/error</a>"},{"owner":{"account_id":13358151,"reputation":123,"user_id":9641046,"display_name":"Markus"},"score":0,"creation_date":1694012639,"post_id":77052969,"comment_id":135835940,"body_markdown":"Possible duplicate: [How to change the input font size in TextField of Android Jetpack Compose](https://stackoverflow.com/q/72901072/9641046)","body":"Possible duplicate: <a href=\"https://stackoverflow.com/q/72901072/9641046\">How to change the input font size in TextField of Android Jetpack Compose</a>"}],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694014112,"creation_date":1694013595,"answer_id":77053302,"question_id":77052969,"body_markdown":"Just try this:\r\n\r\n    @Composable\r\n    fun GreetingText(\r\n        message: String,\r\n        from: String,\r\n        modifier: Modifier = Modifier,\r\n    ) {\r\n        Text(\r\n            text = message,\r\n            fontSize = 100.sp,\r\n        )\r\n        Text(\r\n            text = from,\r\n            fontSize = 36.sp\r\n        )\r\n    }\r\n\r\nI think you missed `,`. And `Text` does not have `textHeight` property, so please check what you need.\r\n\r\nGood luck!","title":"fontSize and textHeight don&#39;t work how do i fix this?","body":"<p>Just try this:</p>\n<pre><code>@Composable\nfun GreetingText(\n    message: String,\n    from: String,\n    modifier: Modifier = Modifier,\n) {\n    Text(\n        text = message,\n        fontSize = 100.sp,\n    )\n    Text(\n        text = from,\n        fontSize = 36.sp\n    )\n}\n</code></pre>\n<p>I think you missed <code>,</code>. And <code>Text</code> does not have <code>textHeight</code> property, so please check what you need.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":29380122,"reputation":5,"user_id":22510820,"display_name":"Erkan &#214;zkan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77053302,"answer_count":1,"score":0,"last_activity_date":1694014112,"creation_date":1694011128,"question_id":77052969,"body_markdown":"[Screenshot of the issue][1] fontSize and TextHeight look red and say unresolved reference but it doesn&#39;t tell me which package I have to import to use them on android studio. I am a beginner so I don&#39;t know how to fix this problem without the help of sufficient descriptions. \r\n\r\nI was only able to check the syntax as I am a beginner and I don&#39;t know what to do in these situations. :P\r\n\r\n    @Composable\r\nfun GreetingText(message: String, from: String, modifier: Modifier = Modifier){\r\n    Text(\r\n        text = message\r\n        fontSize = 100.sp\r\n        textHeight = 116.sp\r\n    )\r\n    Text(\r\n        text = from\r\n        fontSize = 36.sp\r\n\r\n    )\r\n\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LnYFH.png","title":"fontSize and textHeight don&#39;t work how do i fix this?","body":"<p><a href=\"https://i.stack.imgur.com/LnYFH.png\" rel=\"nofollow noreferrer\">Screenshot of the issue</a> fontSize and TextHeight look red and say unresolved reference but it doesn't tell me which package I have to import to use them on android studio. I am a beginner so I don't know how to fix this problem without the help of sufficient descriptions.</p>\n<p>I was only able to check the syntax as I am a beginner and I don't know what to do in these situations. :P</p>\n<pre><code>@Composable\n</code></pre>\n<p>fun GreetingText(message: String, from: String, modifier: Modifier = Modifier){\nText(\ntext = message\nfontSize = 100.sp\ntextHeight = 116.sp\n)\nText(\ntext = from\nfontSize = 36.sp</p>\n<pre><code>)\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","properties-file"],"answers":[{"tags":[],"owner":{"account_id":4824832,"reputation":499,"user_id":3894536,"display_name":"Deh"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1694014110,"creation_date":1436514435,"answer_id":31335245,"question_id":31334977,"body_markdown":"You can achieve that like this :\r\n\r\n    public void saveParamChanges() {\r\n       try {\r\n         // create and set properties into properties object\r\n         Properties props = new Properties();\r\n         props.setProperty(&quot;Prop1&quot;, &quot;toto&quot;);\r\n         props.setProperty(&quot;Prop2&quot;, &quot;test&quot;);\r\n         props.setProperty(&quot;Prop3&quot;, &quot;tata&quot;);\r\n         // get or create the file\r\n         File f = new File(&quot;app-properties.properties&quot;);\r\n         OutputStream out = new FileOutputStream( f );\r\n         // write into it\r\n         DefaultPropertiesPersister p = new DefaultPropertiesPersister();\r\n\t     p.store(props, out, &quot;Header Comment&quot;);\r\n       } catch (Exception e ) {\r\n        e.printStackTrace();\r\n       }\r\n    }\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/2.0.8/api/org/springframework/util/DefaultPropertiesPersister.html\r\n\r\n**EDIT : updated with the defaultPropertiesPersiter from org.springframework.Util**","title":"Write/Update properties file value in spring","body":"<p>You can achieve that like this :</p>\n<pre><code>public void saveParamChanges() {\n   try {\n     // create and set properties into properties object\n     Properties props = new Properties();\n     props.setProperty(&quot;Prop1&quot;, &quot;toto&quot;);\n     props.setProperty(&quot;Prop2&quot;, &quot;test&quot;);\n     props.setProperty(&quot;Prop3&quot;, &quot;tata&quot;);\n     // get or create the file\n     File f = new File(&quot;app-properties.properties&quot;);\n     OutputStream out = new FileOutputStream( f );\n     // write into it\n     DefaultPropertiesPersister p = new DefaultPropertiesPersister();\n     p.store(props, out, &quot;Header Comment&quot;);\n   } catch (Exception e ) {\n    e.printStackTrace();\n   }\n}\n</code></pre>\n<p><a href=\"http://docs.spring.io/spring-framework/docs/2.0.8/api/org/springframework/util/DefaultPropertiesPersister.html\" rel=\"nofollow noreferrer\">source</a></p>\n<p><strong>EDIT : updated with the defaultPropertiesPersiter from org.springframework.Util</strong></p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685607090,"creation_date":1685607090,"answer_id":76379892,"question_id":31334977,"body_markdown":"Extending the existing answer by @deh, read and write using spring-boot.\r\nNote it is not using the typical classpath: in @PropertySource.\r\nTo automate writing of more properties you could enumerate all fields with reflection.\r\n\r\n    @Data\r\n    @Configuration\r\n    @PropertySource(&quot;file:offset.properties&quot;)\r\n    public class Offset {\r\n    \r\n        @Value(&quot;${offset:0}&quot;)\r\n        private int offset;\r\n    \r\n        public void save(int newOffset) {\r\n            try {\r\n                Properties props = new Properties();\r\n                props.setProperty(&quot;offset&quot;, &quot;&quot; + newOffset);\r\n                File f = new File(&quot;offset.properties&quot;);\r\n                OutputStream out = new FileOutputStream( f );\r\n                DefaultPropertiesPersister p = new DefaultPropertiesPersister();\r\n                p.store(props, out, null);\r\n            } catch (Exception e ) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Write/Update properties file value in spring","body":"<p>Extending the existing answer by @deh, read and write using spring-boot.\nNote it is not using the typical classpath: in @PropertySource.\nTo automate writing of more properties you could enumerate all fields with reflection.</p>\n<pre><code>@Data\n@Configuration\n@PropertySource(&quot;file:offset.properties&quot;)\npublic class Offset {\n\n    @Value(&quot;${offset:0}&quot;)\n    private int offset;\n\n    public void save(int newOffset) {\n        try {\n            Properties props = new Properties();\n            props.setProperty(&quot;offset&quot;, &quot;&quot; + newOffset);\n            File f = new File(&quot;offset.properties&quot;);\n            OutputStream out = new FileOutputStream( f );\n            DefaultPropertiesPersister p = new DefaultPropertiesPersister();\n            p.store(props, out, null);\n        } catch (Exception e ) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1131348,"reputation":1118,"user_id":1117347,"accept_rate":65,"display_name":"mevada.yogesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21646,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":31335245,"answer_count":2,"score":16,"last_activity_date":1694014110,"creation_date":1436513405,"question_id":31334977,"body_markdown":"I have some requirement where I want to write/update the value in the properties file I am using the my spring application.\r\n\r\nI have googled it but I have not found a direct way of doing it using Spring.\r\n\r\nDoes any one aware of how to do it or is there any best way to do it.\r\n\r\nThanks in advance.","title":"Write/Update properties file value in spring","body":"<p>I have some requirement where I want to write/update the value in the properties file I am using the my spring application.</p>\n\n<p>I have googled it but I have not found a direct way of doing it using Spring.</p>\n\n<p>Does any one aware of how to do it or is there any best way to do it.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"display_name":"user11868214"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566295252,"creation_date":1566283604,"answer_id":57568031,"question_id":57566465,"body_markdown":"Have you considered running the processing in separate threads using publishOn like in the example below?\r\nThis may not be exactly what you are asking for but allows you to continue with other matters while the processing of the results in the flux is done by one or more threads, four in my example, from a dedicated scheduler (theFourThreadScheduler).\r\n\r\n```\r\n    @Test\r\n    public void processingInSeparateThreadTest() {\r\n        final Scheduler theFourThreadScheduler = Schedulers.newParallel(&quot;FourThreads&quot;, 4);\r\n        final Flux&lt;String&gt; theResultFlux = Flux.just(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;);\r\n\r\n        theResultFlux.log()\r\n            .collectList()\r\n            .publishOn(theFourThreadScheduler)\r\n            .subscribe(theStringList -&gt; {\r\n                doThisAsync(theStringList);\r\n            });\r\n\r\n        System.out.println(&quot;Subscribed to the result flux&quot;);\r\n\r\n        for (int i = 0; i &lt; 20; i++) {\r\n            System.out.println(&quot;Waiting for completion: &quot; + i);\r\n            try {\r\n                Thread.sleep(300);\r\n            } catch (final InterruptedException theException) {\r\n            }\r\n        }\r\n    }\r\n\r\n    private void doThisAsync(final List&lt;String&gt; inStringList) {\r\n        for (final String theString : inStringList) {\r\n            System.out.println(&quot;Processing in doThisAsync: &quot; + theString);\r\n            try {\r\n                Thread.sleep(500);\r\n            } catch (final InterruptedException theException) {\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nRunning the example produce the following output, showing that the processing performed in doThisAsync() is performed in the background.\r\n```\r\nSubscribed to the result flux\r\nWaiting for completion: 0\r\nProcessing in doThisAsync: one\r\nWaiting for completion: 1\r\nProcessing in doThisAsync: two\r\nWaiting for completion: 2\r\nWaiting for completion: 3\r\nProcessing in doThisAsync: three\r\nWaiting for completion: 4\r\nWaiting for completion: 5\r\nProcessing in doThisAsync: four\r\nWaiting for completion: 6\r\nProcessing in doThisAsync: five\r\nWaiting for completion: 7\r\nWaiting for completion: 8\r\nProcessing in doThisAsync: six\r\nWaiting for completion: 9\r\nProcessing in doThisAsync: seven\r\nWaiting for completion: 10\r\nWaiting for completion: 11\r\nProcessing in doThisAsync: eight\r\nWaiting for completion: 12\r\nWaiting for completion: 13\r\nWaiting for completion: 14\r\nWaiting for completion: 15\r\nWaiting for completion: 16\r\nWaiting for completion: 17\r\nWaiting for completion: 18\r\nWaiting for completion: 19\r\n```\r\n\r\nReferences:\r\n[Reactor 3 Reference: Schedulers][1]\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#schedulers\r\n","title":"Fire and forget with reactor","body":"<p>Have you considered running the processing in separate threads using publishOn like in the example below?\nThis may not be exactly what you are asking for but allows you to continue with other matters while the processing of the results in the flux is done by one or more threads, four in my example, from a dedicated scheduler (theFourThreadScheduler).</p>\n\n<pre><code>    @Test\n    public void processingInSeparateThreadTest() {\n        final Scheduler theFourThreadScheduler = Schedulers.newParallel(\"FourThreads\", 4);\n        final Flux&lt;String&gt; theResultFlux = Flux.just(\"one\", \"two\", \"three\", \"four\", \"five\", \"six\", \"seven\", \"eight\");\n\n        theResultFlux.log()\n            .collectList()\n            .publishOn(theFourThreadScheduler)\n            .subscribe(theStringList -&gt; {\n                doThisAsync(theStringList);\n            });\n\n        System.out.println(\"Subscribed to the result flux\");\n\n        for (int i = 0; i &lt; 20; i++) {\n            System.out.println(\"Waiting for completion: \" + i);\n            try {\n                Thread.sleep(300);\n            } catch (final InterruptedException theException) {\n            }\n        }\n    }\n\n    private void doThisAsync(final List&lt;String&gt; inStringList) {\n        for (final String theString : inStringList) {\n            System.out.println(\"Processing in doThisAsync: \" + theString);\n            try {\n                Thread.sleep(500);\n            } catch (final InterruptedException theException) {\n            }\n        }\n    }\n</code></pre>\n\n<p>Running the example produce the following output, showing that the processing performed in doThisAsync() is performed in the background.</p>\n\n<pre><code>Subscribed to the result flux\nWaiting for completion: 0\nProcessing in doThisAsync: one\nWaiting for completion: 1\nProcessing in doThisAsync: two\nWaiting for completion: 2\nWaiting for completion: 3\nProcessing in doThisAsync: three\nWaiting for completion: 4\nWaiting for completion: 5\nProcessing in doThisAsync: four\nWaiting for completion: 6\nProcessing in doThisAsync: five\nWaiting for completion: 7\nWaiting for completion: 8\nProcessing in doThisAsync: six\nWaiting for completion: 9\nProcessing in doThisAsync: seven\nWaiting for completion: 10\nWaiting for completion: 11\nProcessing in doThisAsync: eight\nWaiting for completion: 12\nWaiting for completion: 13\nWaiting for completion: 14\nWaiting for completion: 15\nWaiting for completion: 16\nWaiting for completion: 17\nWaiting for completion: 18\nWaiting for completion: 19\n</code></pre>\n\n<p>References:\n<a href=\"https://projectreactor.io/docs/core/release/reference/#schedulers\" rel=\"nofollow noreferrer\">Reactor 3 Reference: Schedulers</a></p>\n"},{"tags":[],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1586937750,"creation_date":1566289593,"answer_id":57569541,"question_id":57566465,"body_markdown":"1, If your *fire-and-forget* is already async returning `Mono`/`Flux`\r\n------------------------------------------------------------------------\r\n\r\n```java\r\npublic Flux&lt;Data&gt; search(SearchRequest request)\r\n{\r\n    return searchService.search(request)\r\n                        .collectList()\r\n                        .doOnNext(data -&gt; doThisAsync(data).subscribe())  // add error logging here or inside doThisAsync\r\n                        .flatMapMany(Flux::fromIterable);\r\n}\r\n\r\npublic Mono&lt;Void&gt; doThisAsync(List&lt;Data&gt; data) {\r\n    //do some async/non-blocking processing here like calling WebClient\r\n}\r\n```\r\n\r\n2, If your *fire-and-forget* does blocking I/O\r\n------------------------------------------------------------------------\r\n\r\n```java\r\npublic Flux&lt;Data&gt; search(SearchRequest request)\r\n{\r\n    return searchService.search(request)\r\n                        .collectList()\r\n                        .doOnNext(data -&gt; Mono.fromRunnable(() -&gt; doThisAsync(data))\r\n                                              .subscribeOn(Schedulers.elastic())  // delegate to proper thread to not block main flow\r\n                                              .subscribe())  // add error logging here or inside doThisAsync\r\n                        .flatMapMany(Flux::fromIterable);\r\n}\r\n\r\npublic void doThisAsync(List&lt;Data&gt; data) {\r\n    //do some blocking I/O on calling thread\r\n}\r\n```\r\n\r\nNote that in both of the above cases you lose backpressure support. If the `doAsyncThis` slows down for some reason, then the data producer won&#39;t care and keep producing items. This is a natural consequence of the fire-and-foget mechanism.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#advanced-broadcast-multiple-subscribers-connectableflux","title":"Fire and forget with reactor","body":"<h2>1, If your <em>fire-and-forget</em> is already async returning <code>Mono</code>/<code>Flux</code></h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;Data&gt; search(SearchRequest request)\n{\n    return searchService.search(request)\n                        .collectList()\n                        .doOnNext(data -&gt; doThisAsync(data).subscribe())  // add error logging here or inside doThisAsync\n                        .flatMapMany(Flux::fromIterable);\n}\n\npublic Mono&lt;Void&gt; doThisAsync(List&lt;Data&gt; data) {\n    //do some async/non-blocking processing here like calling WebClient\n}\n</code></pre>\n\n<h2>2, If your <em>fire-and-forget</em> does blocking I/O</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;Data&gt; search(SearchRequest request)\n{\n    return searchService.search(request)\n                        .collectList()\n                        .doOnNext(data -&gt; Mono.fromRunnable(() -&gt; doThisAsync(data))\n                                              .subscribeOn(Schedulers.elastic())  // delegate to proper thread to not block main flow\n                                              .subscribe())  // add error logging here or inside doThisAsync\n                        .flatMapMany(Flux::fromIterable);\n}\n\npublic void doThisAsync(List&lt;Data&gt; data) {\n    //do some blocking I/O on calling thread\n}\n</code></pre>\n\n<p>Note that in both of the above cases you lose backpressure support. If the <code>doAsyncThis</code> slows down for some reason, then the data producer won't care and keep producing items. This is a natural consequence of the fire-and-foget mechanism.</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675192415,"creation_date":1675189217,"answer_id":75301517,"question_id":57566465,"body_markdown":"## UPDATE 2023/01/31\r\n\r\nActually you anyway should use [.subscribeOn()][1] because even if you call your *fire-and-forget* function which returns `Mono&lt;Void&gt;` **it is not guaranteed that within that reactive chain will be switching of executing thread or it will happen immediately** (depends on the code inside that *fire-and-forget* function, more specificaly, operators that used on the chain).\r\n\r\nSo you may run into situation when your *fire-and-forget* function will be executed on the same thread that called this function, so your method will not return until this function is completed.\r\n\r\nThe case when *fire-and-forget* function returns `Publisher&lt;Void&gt;`:\r\n\r\n    public Flux&lt;Data&gt; search(SearchRequest request) {\r\n        return searchService.search(request)\r\n                .collectList()\r\n                .doOnNext(data -&gt;\r\n                        // anyway call subscribeOn(...)\r\n                        fireAndForgetOperation(data)\r\n                                .subscribeOn(...)\r\n                                .subscribe()\r\n                )\r\n                .flatMapMany(Flux::fromIterable);\r\n    }\r\n\r\n    public Mono&lt;Void&gt; fireAndForgetOperation(List&lt;String&gt; list) {\r\n        ...\r\n    }\r\n\r\nThe case when *fire-and-forget* function is just a common `void` returning method:\r\n\r\n    public Flux&lt;Data&gt; search(SearchRequest request) {\r\n        return searchService.search(request)\r\n                .collectList()\r\n                .doOnNext(data -&gt;\r\n                        Mono.fromRunnable(() -&gt; fireAndForgetOperation(data))\r\n                                .subscribeOn(...)\r\n                                .subscribe()\r\n                )\r\n                .flatMapMany(Flux::fromIterable);\r\n    }\r\n\r\n    public void fireAndForgetOperation(List&lt;String&gt; list) {\r\n        ...\r\n    }\r\n\r\n\r\nAlso you should consider what `Scheduler` you need to provide, depending on the nature of your *fire-and-forget* function.\r\n\r\nBasically there are two scenarios:\r\n\r\n**1)** If your *fire-and-forget* function does **CPU-Bound** work.\r\nThen you want to specify `Schedulers.parallel()` inside `subsribeOn()`\r\n\r\n**2)** If your *fire-and-forget* function does **IO** work (actually no matter in this case if it would be blocking or non-blocking IO).\r\nThen you want to specify `Schedulers.boundedElastic()` inside `subsribeOn()`\r\n\r\n\r\nSo, using this approach you will truly return immediately after firing your *fire-and-forget* function\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#schedulers","title":"Fire and forget with reactor","body":"<h2>UPDATE 2023/01/31</h2>\n<p>Actually you anyway should use <a href=\"https://projectreactor.io/docs/core/release/reference/#schedulers\" rel=\"nofollow noreferrer\">.subscribeOn()</a> because even if you call your <em>fire-and-forget</em> function which returns <code>Mono&lt;Void&gt;</code> <strong>it is not guaranteed that within that reactive chain will be switching of executing thread or it will happen immediately</strong> (depends on the code inside that <em>fire-and-forget</em> function, more specificaly, operators that used on the chain).</p>\n<p>So you may run into situation when your <em>fire-and-forget</em> function will be executed on the same thread that called this function, so your method will not return until this function is completed.</p>\n<p>The case when <em>fire-and-forget</em> function returns <code>Publisher&lt;Void&gt;</code>:</p>\n<pre><code>public Flux&lt;Data&gt; search(SearchRequest request) {\n    return searchService.search(request)\n            .collectList()\n            .doOnNext(data -&gt;\n                    // anyway call subscribeOn(...)\n                    fireAndForgetOperation(data)\n                            .subscribeOn(...)\n                            .subscribe()\n            )\n            .flatMapMany(Flux::fromIterable);\n}\n\npublic Mono&lt;Void&gt; fireAndForgetOperation(List&lt;String&gt; list) {\n    ...\n}\n</code></pre>\n<p>The case when <em>fire-and-forget</em> function is just a common <code>void</code> returning method:</p>\n<pre><code>public Flux&lt;Data&gt; search(SearchRequest request) {\n    return searchService.search(request)\n            .collectList()\n            .doOnNext(data -&gt;\n                    Mono.fromRunnable(() -&gt; fireAndForgetOperation(data))\n                            .subscribeOn(...)\n                            .subscribe()\n            )\n            .flatMapMany(Flux::fromIterable);\n}\n\npublic void fireAndForgetOperation(List&lt;String&gt; list) {\n    ...\n}\n</code></pre>\n<p>Also you should consider what <code>Scheduler</code> you need to provide, depending on the nature of your <em>fire-and-forget</em> function.</p>\n<p>Basically there are two scenarios:</p>\n<p><strong>1)</strong> If your <em>fire-and-forget</em> function does <strong>CPU-Bound</strong> work.\nThen you want to specify <code>Schedulers.parallel()</code> inside <code>subsribeOn()</code></p>\n<p><strong>2)</strong> If your <em>fire-and-forget</em> function does <strong>IO</strong> work (actually no matter in this case if it would be blocking or non-blocking IO).\nThen you want to specify <code>Schedulers.boundedElastic()</code> inside <code>subsribeOn()</code></p>\n<p>So, using this approach you will truly return immediately after firing your <em>fire-and-forget</em> function</p>\n"}],"owner":{"account_id":4277579,"reputation":665,"user_id":3497844,"display_name":"Avinash Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13436,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":57569541,"answer_count":3,"score":17,"last_activity_date":1694014032,"creation_date":1566272891,"question_id":57566465,"body_markdown":"I have a method like below in my Spring boot app.\r\n```java\r\npublic Flux&lt;Data&gt; search(SearchRequest request) {\r\n  Flux&lt;Data&gt; result = searchService.search(request);//this returns Flux&lt;Data&gt;\r\n  Mono&lt;List&lt;Data&gt;&gt; listOfData = result.collectList();\r\n//  doThisAsync() // here I want to pass this list and run some processing on it\r\n// the processing should happen async and the search method should return immediately.\r\n  return result;\r\n}\r\n\r\n//this method uses the complete List&lt;Data&gt; returned by above method\r\npublic void doThisAsync(List&lt;Data&gt; data) {\r\n  //do some processing here\r\n}\r\n\r\n```\r\n\r\nCurrently, I&#39;m using `@Async` annotated service class with `doThisAsync`, but don&#39;t know how to pass the `List&lt;Data&gt;`, because I don&#39;t want to call `block`.\r\nAll I have is `Mono&lt;List&lt;Data&gt;&gt;`.\r\n\r\nMy main problem is how to process this Mono separately and the `search` method should return the `Flux&lt;Data&gt;`.","title":"Fire and forget with reactor","body":"<p>I have a method like below in my Spring boot app.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;Data&gt; search(SearchRequest request) {\n  Flux&lt;Data&gt; result = searchService.search(request);//this returns Flux&lt;Data&gt;\n  Mono&lt;List&lt;Data&gt;&gt; listOfData = result.collectList();\n//  doThisAsync() // here I want to pass this list and run some processing on it\n// the processing should happen async and the search method should return immediately.\n  return result;\n}\n\n//this method uses the complete List&lt;Data&gt; returned by above method\npublic void doThisAsync(List&lt;Data&gt; data) {\n  //do some processing here\n}\n\n</code></pre>\n\n<p>Currently, I'm using <code>@Async</code> annotated service class with <code>doThisAsync</code>, but don't know how to pass the <code>List&lt;Data&gt;</code>, because I don't want to call <code>block</code>.\nAll I have is <code>Mono&lt;List&lt;Data&gt;&gt;</code>.</p>\n\n<p>My main problem is how to process this Mono separately and the <code>search</code> method should return the <code>Flux&lt;Data&gt;</code>.</p>\n"},{"tags":["java","android","react-native","kotlin","grpc"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1694016781,"post_id":77053343,"comment_id":135836867,"body_markdown":"There should have been a &quot;Caused by&quot; exception with potentially more info. Most likely the key is not of a supported type. If you have the openssl command, `openssl pkey -text_pub -noout -in YOUR.KEY` might help answer which key type it is (the longer blobs of data aren&#39;t likely important).","body":"There should have been a &quot;Caused by&quot; exception with potentially more info. Most likely the key is not of a supported type. If you have the openssl command, <code>openssl pkey -text_pub -noout -in YOUR.KEY</code> might help answer which key type it is (the longer blobs of data aren&#39;t likely important)."},{"owner":{"account_id":2600873,"reputation":7574,"user_id":2253323,"accept_rate":82,"display_name":"Nikk"},"score":0,"creation_date":1694016929,"post_id":77053343,"comment_id":135836907,"body_markdown":"@EricAnderson you mean this `ASN1 OID: prime256v1` `NIST CURVE: P-256`? Do not have Caused by...","body":"@EricAnderson you mean this <code>ASN1 OID: prime256v1</code> <code>NIST CURVE: P-256</code>? Do not have Caused by..."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694020643,"post_id":77053343,"comment_id":135837634,"body_markdown":"Usually Java software expects certificates as part of a `java.security.KeyStore`. You can create a Java KeyStore instance at run-time and insert the loaded certificate into it.","body":"Usually Java software expects certificates as part of a <code>java.security.KeyStore</code>. You can create a Java KeyStore instance at run-time and insert the loaded certificate into it."},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1694040460,"post_id":77053343,"comment_id":135840634,"body_markdown":"I can create such a key with `openssl genpkey -algorithm EC -out out.pem -pkeyopt ec_paramgen_curve:P-256 -pkeyopt ec_param_enc:named_curve`. On Java 8 and OkHttp, that works fine. I think this is Android-specific. Are you using the Dynamic Security Provider or Conscrypt? https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-on-android","body":"I can create such a key with <code>openssl genpkey -algorithm EC -out out.pem -pkeyopt ec_paramgen_curve:P-256 -pkeyopt ec_param_enc:named_curve</code>. On Java 8 and OkHttp, that works fine. I think this is Android-specific. Are you using the Dynamic Security Provider or Conscrypt? <a href=\"https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-on-android\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/blob/master/&hellip;</a>"},{"owner":{"account_id":2600873,"reputation":7574,"user_id":2253323,"accept_rate":82,"display_name":"Nikk"},"score":0,"creation_date":1694164687,"post_id":77053343,"comment_id":135858366,"body_markdown":"@EricAnderson I&#39;ve tried `Security.insertProviderAt(Conscrypt.newProvider(), 1);`, still getting the same error. It&#39;s just that I&#39;m reading the certificate data through react native and passing it as a string to the kotlin backend so that I can establish a grpc connection. However I cannot seem to get the certificate to be read.","body":"@EricAnderson I&#39;ve tried <code>Security.insertProviderAt(Conscrypt.newProvider(), 1);</code>, still getting the same error. It&#39;s just that I&#39;m reading the certificate data through react native and passing it as a string to the kotlin backend so that I can establish a grpc connection. However I cannot seem to get the certificate to be read."}],"owner":{"account_id":2600873,"reputation":7574,"user_id":2253323,"accept_rate":82,"display_name":"Nikk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694013849,"creation_date":1694013849,"question_id":77053343,"body_markdown":"The error I get:\r\n\r\n    io.grpc.ManagedChannelRegistry$ProviderNotFoundException: io.grpc.okhttp.OkHttpChannelProvider: Unable to load private key: Neither RSA nor EC worked\r\n\r\nI am trying to load pass the certificate as a string instead of reading a file, because it is dynamic. In order to establish a gRPC connection.\r\n\r\n\r\n    class GrpcModule(\r\n            private val certificateRoot: String,\r\n            private val certificateStr: String,\r\n            private val privateKeyStr: String,\r\n    ) {\r\n        val channel: ManagedChannel by lazy {\r\n    \r\n            val pk: InputStream = privateKeyStr.byteInputStream()\r\n            val cu: InputStream = certificateStr.byteInputStream()\r\n            val cr: InputStream = certificateRoot.byteInputStream()\r\n    \r\n            val credentials =\r\n                    TlsChannelCredentials.newBuilder()\r\n                            .keyManager(\r\n                                pk,\r\n                                cu\r\n                            )\r\n                            .trustManager(cr)\r\n                            .build()\r\n    \r\n            Grpc.newChannelBuilder(&quot;localhost:50001&quot;, credentials)\r\n                    .executor(Dispatchers.IO.asExecutor())\r\n                    .build()\r\n        }\r\n        private val stub = ReceivingGrpcKt.ReceivingCoroutineStub(channel)\r\n    \r\n        suspend fun checkId(id: String) =\r\n                try {\r\n                    val request = checkRequest { this.id = id }\r\n                    val response = stub.check(request)\r\n                    Log.d(&quot;Grpc&quot;, &quot;Success --- $response&quot;)\r\n                } catch (e: Exception) {\r\n                    Log.d(&quot;Grpc&quot;, &quot;Error --- $e&quot;)\r\n                }\r\n    \r\n        fun close() {\r\n            channel.shutdownNow()\r\n        }\r\n    }\r\n\r\nAnd I&#39;ll be calling it from a ReactNative module, like so:\r\n\r\n    class Grpc(reactContext: ReactApplicationContext) : ReactContextBaseJavaModule(reactContext) {\r\n    \r\n        override fun getName() = &quot;Grpc&quot;\r\n    \r\n        @ReactMethod\r\n        fun test() {\r\n    \r\n            var g =\r\n                    GrpcModule(\r\n                    &quot;&quot;&quot;\r\n                         -----BEGIN CERTIFICATE-----\r\n                         -----END CERTIFICATE-----\r\n                    &quot;&quot;&quot;.trimIndent(),\r\n                        &quot;&quot;&quot;\r\n                        -----BEGIN CERTIFICATE-----\r\n                        -----END CERTIFICATE-----\r\n                    &quot;&quot;&quot;.trimIndent(),\r\n                        &quot;&quot;&quot;\r\n                        -----BEGIN PRIVATE KEY-----\r\n                        -----END PRIVATE KEY-----\r\n                    &quot;&quot;&quot;.trimIndent(),\r\n                    )\r\n    \r\n            Log.d(&quot;Grpc&quot;, &quot;--- $g&quot;)\r\n    \r\n            runBlocking {\r\n                g.checkId(&quot;222&quot;)\r\n            }\r\n    \r\n            g.close()\r\n        }\r\n    }\r\n\r\nWhat am I doing wrong here and how can I fix this?\r\n\r\nIs this even the right way to go about it?","title":"Issues loading TLS from a string instead of a file","body":"<p>The error I get:</p>\n<pre><code>io.grpc.ManagedChannelRegistry$ProviderNotFoundException: io.grpc.okhttp.OkHttpChannelProvider: Unable to load private key: Neither RSA nor EC worked\n</code></pre>\n<p>I am trying to load pass the certificate as a string instead of reading a file, because it is dynamic. In order to establish a gRPC connection.</p>\n<pre><code>class GrpcModule(\n        private val certificateRoot: String,\n        private val certificateStr: String,\n        private val privateKeyStr: String,\n) {\n    val channel: ManagedChannel by lazy {\n\n        val pk: InputStream = privateKeyStr.byteInputStream()\n        val cu: InputStream = certificateStr.byteInputStream()\n        val cr: InputStream = certificateRoot.byteInputStream()\n\n        val credentials =\n                TlsChannelCredentials.newBuilder()\n                        .keyManager(\n                            pk,\n                            cu\n                        )\n                        .trustManager(cr)\n                        .build()\n\n        Grpc.newChannelBuilder(&quot;localhost:50001&quot;, credentials)\n                .executor(Dispatchers.IO.asExecutor())\n                .build()\n    }\n    private val stub = ReceivingGrpcKt.ReceivingCoroutineStub(channel)\n\n    suspend fun checkId(id: String) =\n            try {\n                val request = checkRequest { this.id = id }\n                val response = stub.check(request)\n                Log.d(&quot;Grpc&quot;, &quot;Success --- $response&quot;)\n            } catch (e: Exception) {\n                Log.d(&quot;Grpc&quot;, &quot;Error --- $e&quot;)\n            }\n\n    fun close() {\n        channel.shutdownNow()\n    }\n}\n</code></pre>\n<p>And I'll be calling it from a ReactNative module, like so:</p>\n<pre><code>class Grpc(reactContext: ReactApplicationContext) : ReactContextBaseJavaModule(reactContext) {\n\n    override fun getName() = &quot;Grpc&quot;\n\n    @ReactMethod\n    fun test() {\n\n        var g =\n                GrpcModule(\n                &quot;&quot;&quot;\n                     -----BEGIN CERTIFICATE-----\n                     -----END CERTIFICATE-----\n                &quot;&quot;&quot;.trimIndent(),\n                    &quot;&quot;&quot;\n                    -----BEGIN CERTIFICATE-----\n                    -----END CERTIFICATE-----\n                &quot;&quot;&quot;.trimIndent(),\n                    &quot;&quot;&quot;\n                    -----BEGIN PRIVATE KEY-----\n                    -----END PRIVATE KEY-----\n                &quot;&quot;&quot;.trimIndent(),\n                )\n\n        Log.d(&quot;Grpc&quot;, &quot;--- $g&quot;)\n\n        runBlocking {\n            g.checkId(&quot;222&quot;)\n        }\n\n        g.close()\n    }\n}\n</code></pre>\n<p>What am I doing wrong here and how can I fix this?</p>\n<p>Is this even the right way to go about it?</p>\n"},{"tags":["java","spring-boot","flyway"],"comments":[{"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"score":1,"creation_date":1481735831,"post_id":41147768,"comment_id":69499233,"body_markdown":"Possible duplicate of [Flyway on production database - Migration Checksum mismatch](http://stackoverflow.com/questions/29920122/flyway-on-production-database-migration-checksum-mismatch)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/29920122/flyway-on-production-database-migration-checksum-mismatch\">Flyway on production database - Migration Checksum mismatch</a>"},{"owner":{"account_id":922578,"reputation":6875,"user_id":953975,"accept_rate":69,"display_name":"Seyed Morteza Mousavi"},"score":2,"creation_date":1600436862,"post_id":41147768,"comment_id":113096647,"body_markdown":"`mvn flyway:repair` solved my problem. It seems even you have not successful migration you need to remove it. Thanks to  https://stackoverflow.com/questions/41147768/caused-by-org-flywaydb-core-api-flywayexception-validate-failed-migration-che#answer-50718584","body":"<code>mvn flyway:repair</code> solved my problem. It seems even you have not successful migration you need to remove it. Thanks to  <a href=\"https://stackoverflow.com/questions/41147768/caused-by-org-flywaydb-core-api-flywayexception-validate-failed-migration-che#answer-50718584\" title=\"caused by org flywaydb core api flywayexception validate failed migration che%23answer 50718584\">stackoverflow.com/questions/41147768/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1081784,"reputation":6851,"user_id":1078565,"accept_rate":50,"display_name":"Kyle Anderson"},"down_vote_count":4,"up_vote_count":127,"is_accepted":false,"score":123,"last_activity_date":1481734088,"creation_date":1481734088,"answer_id":41147917,"question_id":41147768,"body_markdown":"Flyway is comparing the checksum of the SQL script with that of the previously run checksum.  This exception typically occurs if you change a SQL script that has already been applied by Flyway, thus causing a checksum mismatch.\r\n\r\nIf this is development, you can drop your database and start the migrations from scratch.\r\n\r\nIf you&#39;re in production, never edit SQL scripts that have already been applied.  Only create new SQL scripts going forward.","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Flyway is comparing the checksum of the SQL script with that of the previously run checksum.  This exception typically occurs if you change a SQL script that has already been applied by Flyway, thus causing a checksum mismatch.</p>\n\n<p>If this is development, you can drop your database and start the migrations from scratch.</p>\n\n<p>If you're in production, never edit SQL scripts that have already been applied.  Only create new SQL scripts going forward.</p>\n"},{"tags":[],"owner":{"account_id":2894488,"reputation":6352,"user_id":2482582,"accept_rate":80,"display_name":"Moebius"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1586350539,"creation_date":1490881967,"answer_id":43119929,"question_id":41147768,"body_markdown":"IF YOU ARE NOT IN PRODUCTION, you can look in your `flywayTable` in the data base and remove the line which contain the name of the script which has been applied.\r\n\r\n`flywayTable` is a project option which define the name of the table in the db used by flyway which contain information about the version of this db, already applied scripts...","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>IF YOU ARE NOT IN PRODUCTION, you can look in your <code>flywayTable</code> in the data base and remove the line which contain the name of the script which has been applied.</p>\n\n<p><code>flywayTable</code> is a project option which define the name of the table in the db used by flyway which contain information about the version of this db, already applied scripts...</p>\n"},{"tags":[],"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1491908570,"creation_date":1491908186,"answer_id":43343967,"question_id":41147768,"body_markdown":"The best solution would be to do these steps :\r\n\r\n 1. Delete the file called - V2__create_shipwreck.sql, clean and\r\n    build the project again. \r\n 2. Run the project again, login into h2 and\r\n    delete the table called &quot;schema_version&quot;.\r\n\r\n    &gt; drop table schema_version;\r\n\r\n 3. Now make V2__create_shipwreck.sql file with ddl and rerun the project again.\r\n\r\n 4. Do remember this, add version 4.1.2 for flyway-core in pom.xml like \r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nIt should work now. Hope this will help.\r\n\r\n\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>The best solution would be to do these steps :</p>\n\n<ol>\n<li>Delete the file called - V2__create_shipwreck.sql, clean and\nbuild the project again. </li>\n<li><p>Run the project again, login into h2 and\ndelete the table called \"schema_version\".</p>\n\n<blockquote>\n  <p>drop table schema_version;</p>\n</blockquote></li>\n<li><p>Now make V2__create_shipwreck.sql file with ddl and rerun the project again.</p></li>\n<li><p>Do remember this, add version 4.1.2 for flyway-core in pom.xml like </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n</ol>\n\n<p>It should work now. Hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":1195219,"reputation":1031,"user_id":1167110,"display_name":"Djalas"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1522414235,"creation_date":1507556139,"answer_id":46647820,"question_id":41147768,"body_markdown":"I would simply delete from schema_version the migration/s that deviates from migrations to be applied. This way you don&#39;t throw away any test data that you might have.\r\n\r\nFor example:\r\n\r\n    SELECT * from schema_version order by installed_on desc\r\n\r\n    V_005_five.sql\r\n    V_004_four.sql\r\n    V_003_three.sql\r\n    V_002_two.sql\r\n    V_001_one.sql\r\n\r\nMigrations to be applied\r\n\r\n    V_005_five.sql\r\n    * V_004_addUserTable.sql *\r\n    V_003_three.sql\r\n    V_002_two.sql\r\n    V_001_one.sql\r\n\r\n\r\nSolution here is to delete from schema_version\r\n\r\n    V_005_five.sql\r\n    V_004_four.sql\r\n\r\nAND revert any database changes caused. for example if schema created new table then you must drop that table before you run you migrations.\r\n\r\nwhen you run flyway it will only re apply\r\n\r\n    V_005_five.sql\r\n    * V_004_addUserTable.sql *\r\n\r\nnew schema_version will be\r\n\r\n    V_005_five.sql\r\n    * V_004_addUserTable.sql *\r\n    V_003_three.sql\r\n    V_002_two.sql\r\n    V_001_one.sql\r\n\r\n\r\nHope it helps\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I would simply delete from schema_version the migration/s that deviates from migrations to be applied. This way you don't throw away any test data that you might have.</p>\n\n<p>For example:</p>\n\n<pre><code>SELECT * from schema_version order by installed_on desc\n\nV_005_five.sql\nV_004_four.sql\nV_003_three.sql\nV_002_two.sql\nV_001_one.sql\n</code></pre>\n\n<p>Migrations to be applied</p>\n\n<pre><code>V_005_five.sql\n* V_004_addUserTable.sql *\nV_003_three.sql\nV_002_two.sql\nV_001_one.sql\n</code></pre>\n\n<p>Solution here is to delete from schema_version</p>\n\n<pre><code>V_005_five.sql\nV_004_four.sql\n</code></pre>\n\n<p>AND revert any database changes caused. for example if schema created new table then you must drop that table before you run you migrations.</p>\n\n<p>when you run flyway it will only re apply</p>\n\n<pre><code>V_005_five.sql\n* V_004_addUserTable.sql *\n</code></pre>\n\n<p>new schema_version will be</p>\n\n<pre><code>V_005_five.sql\n* V_004_addUserTable.sql *\nV_003_three.sql\nV_002_two.sql\nV_001_one.sql\n</code></pre>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":10934234,"reputation":31,"user_id":8036465,"display_name":"barnold"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1516619316,"creation_date":1516619316,"answer_id":48380197,"question_id":41147768,"body_markdown":"Update your schema_version record to mach the &quot;Resolved locally&quot; value which in your case is -1729781252","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Update your schema_version record to mach the \"Resolved locally\" value which in your case is -1729781252</p>\n"},{"tags":[],"owner":{"account_id":2965843,"reputation":21,"user_id":2518993,"display_name":"M&#225;rton Szab&#243;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516622464,"creation_date":1516622464,"answer_id":48381150,"question_id":41147768,"body_markdown":"Actually there is another solution, but it&#39;s a workaround, that should not be done in a properly managed project. However I met a situation, where it was not possible to go down the better road :)\r\n\r\nYou can update the schame_version table, and actually change the checksum to the new one. This will cause the migration to go through, but can have other side effects. \r\n\r\nWhen deploying to different environments (test, uat, prod, etc) then it might happen, that you have to update the same checksum on more environments. And when it comes to gitflow, and release branches, you can easily mix up the whole.  ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Actually there is another solution, but it's a workaround, that should not be done in a properly managed project. However I met a situation, where it was not possible to go down the better road :)</p>\n\n<p>You can update the schame_version table, and actually change the checksum to the new one. This will cause the migration to go through, but can have other side effects. </p>\n\n<p>When deploying to different environments (test, uat, prod, etc) then it might happen, that you have to update the same checksum on more environments. And when it comes to gitflow, and release branches, you can easily mix up the whole.  </p>\n"},{"tags":[],"owner":{"account_id":1709965,"reputation":1324,"user_id":1568224,"display_name":"dave"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1577093299,"creation_date":1528282348,"answer_id":50718584,"question_id":41147768,"body_markdown":"I had the same issue and deleted the complete schema from the database, yet the issue remained.\r\n\r\nI solved this by running the `repair()` command of flyway:\r\n\r\n    flyway.repair();\r\n\r\nAlternatively with Flyway Maven plugin:\r\n\r\n    mvn flyway:repair\r\n\r\n\r\nMaven plugin addition into pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBTW: I did not find what exactly went wrong.\r\n\r\n\r\nWith Gradle (as per comment from [Raf][1]):\r\n\r\n    ./gradlew flywayRepair\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1225551/raf","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I had the same issue and deleted the complete schema from the database, yet the issue remained.</p>\n\n<p>I solved this by running the <code>repair()</code> command of flyway:</p>\n\n<pre><code>flyway.repair();\n</code></pre>\n\n<p>Alternatively with Flyway Maven plugin:</p>\n\n<pre><code>mvn flyway:repair\n</code></pre>\n\n<p>Maven plugin addition into pom.xml:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>BTW: I did not find what exactly went wrong.</p>\n\n<p>With Gradle (as per comment from <a href=\"https://stackoverflow.com/users/1225551/raf\">Raf</a>):</p>\n\n<pre><code>./gradlew flywayRepair\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533147062,"creation_date":1533147062,"answer_id":51639758,"question_id":41147768,"body_markdown":"Flyway changed the way it calculates the checksums from version 3 to version 5. You can re-calculate the checksums. Since the Flyway plugin doesn&#39;t properly read the Spring datasource properties, you have to manually specify them on the command line ([or one of the other various ways Flyway accepts](https://flywaydb.org/documentation/maven/#system-properties)). \r\n\r\n    mvn flyway:repair -Dflyway.user=root -Dflyway.password= -Dflyway.url=jdbc:mysql://localhost:3306/mydatabase -Dflyway.table=schema_version\r\n\r\nFlyway also changed the table it stores the checksums, so you also have to specify `flyway-table=schema_version` to use your old table, or else it will give you a warning (and probably an error in version 6).\r\n\r\n\r\n    [INFO] Repairing Schema History table for version 2 (Description: create sources, Type: SQL, Checksum: 2125962141)  ...\r\n    [INFO] Repairing Schema History table for version 3 (Description: create stats, Type: SQL, Checksum: 389912194)  ...\r\n    [INFO] Repairing Schema History table for version 4 (Description: add user encrypted, Type: SQL, Checksum: 182607572)  ...\r\n    ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Flyway changed the way it calculates the checksums from version 3 to version 5. You can re-calculate the checksums. Since the Flyway plugin doesn't properly read the Spring datasource properties, you have to manually specify them on the command line (<a href=\"https://flywaydb.org/documentation/maven/#system-properties\" rel=\"nofollow noreferrer\">or one of the other various ways Flyway accepts</a>). </p>\n\n<pre><code>mvn flyway:repair -Dflyway.user=root -Dflyway.password= -Dflyway.url=jdbc:mysql://localhost:3306/mydatabase -Dflyway.table=schema_version\n</code></pre>\n\n<p>Flyway also changed the table it stores the checksums, so you also have to specify <code>flyway-table=schema_version</code> to use your old table, or else it will give you a warning (and probably an error in version 6).</p>\n\n<pre><code>[INFO] Repairing Schema History table for version 2 (Description: create sources, Type: SQL, Checksum: 2125962141)  ...\n[INFO] Repairing Schema History table for version 3 (Description: create stats, Type: SQL, Checksum: 389912194)  ...\n[INFO] Repairing Schema History table for version 4 (Description: add user encrypted, Type: SQL, Checksum: 182607572)  ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1548270175,"creation_date":1548270175,"answer_id":54334026,"question_id":41147768,"body_markdown":"If you are sure that the modification in the SQL file has no impact on your existing schema, you can also update the checksum of the existing schema.\r\n\r\nI did this following a slight change in the sql file.\r\n\r\nHere is how I updated the checksum:\r\n\r\n    update flyway_schema_history set checksum = &#39;-1934991199&#39; where installed_rank = &#39;1&#39;;\r\n\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>If you are sure that the modification in the SQL file has no impact on your existing schema, you can also update the checksum of the existing schema.</p>\n\n<p>I did this following a slight change in the sql file.</p>\n\n<p>Here is how I updated the checksum:</p>\n\n<pre><code>update flyway_schema_history set checksum = '-1934991199' where installed_rank = '1';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3957080,"reputation":21,"user_id":3265213,"display_name":"Eliran_Mesika"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554547223,"creation_date":1554547223,"answer_id":55548255,"question_id":41147768,"body_markdown":"simple solution will be change spring.datasource.url=jdbc:h2:file:~/dasboot in application.properties to new file name like : spring.datasource.url=jdbc:h2:file:~/**dasboots**\r\n\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>simple solution will be change spring.datasource.url=jdbc:h2:file:~/dasboot in application.properties to new file name like : spring.datasource.url=jdbc:h2:file:~/<strong>dasboots</strong></p>\n"},{"tags":[],"owner":{"account_id":7320129,"reputation":390,"user_id":7023095,"display_name":"R0b0t0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561232527,"creation_date":1561232527,"answer_id":56718600,"question_id":41147768,"body_markdown":"1-Delete the migration file.\r\n2-connect to your database and drop the table created by the migration.\r\n3-recreate the file of the migration with the the right sql.\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>1-Delete the migration file.\n2-connect to your database and drop the table created by the migration.\n3-recreate the file of the migration with the the right sql.</p>\n"},{"tags":[],"owner":{"account_id":12523187,"reputation":31,"user_id":9113895,"display_name":"agent74"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561270605,"creation_date":1561270605,"answer_id":56721505,"question_id":41147768,"body_markdown":"I had the same issue and I believe this occurred because of checksum between linux and windows (also mac).\r\nyou can `use repair()` command in flyway.\r\n\r\n    flyway.repair();\r\n\r\nBe careful , if you are in production environment , make sure that you did not change the migration SQL file; because when you run the `flyway.repair();` it means you saying to flyway that your are sure about the migration version and their checksum and then the flyway repair them !","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I had the same issue and I believe this occurred because of checksum between linux and windows (also mac).\nyou can <code>use repair()</code> command in flyway.</p>\n\n<pre><code>flyway.repair();\n</code></pre>\n\n<p>Be careful , if you are in production environment , make sure that you did not change the migration SQL file; because when you run the <code>flyway.repair();</code> it means you saying to flyway that your are sure about the migration version and their checksum and then the flyway repair them !</p>\n"},{"tags":[],"owner":{"account_id":2802343,"reputation":621,"user_id":2410353,"display_name":"Deepak Nair"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1567161151,"creation_date":1567161151,"answer_id":57725089,"question_id":41147768,"body_markdown":"Here the solution which worked for me when I had this issue in my local system.\r\n\r\n 1. Go to flyway_schema_history in your DB \r\n 2. Delete the row containing the sql migration script","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Here the solution which worked for me when I had this issue in my local system.</p>\n\n<ol>\n<li>Go to flyway_schema_history in your DB </li>\n<li>Delete the row containing the sql migration script</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16810797,"reputation":1,"user_id":12153866,"display_name":"Turco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570747134,"creation_date":1570747134,"answer_id":58331999,"question_id":41147768,"body_markdown":"If you have your problem in production, you must have **V2__create_shipwreck.sql** identically to the one you have in your latest version where it has not been modified.\r\n\r\nThen the checksum will be correct again","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>If you have your problem in production, you must have <strong>V2__create_shipwreck.sql</strong> identically to the one you have in your latest version where it has not been modified.</p>\n\n<p>Then the checksum will be correct again</p>\n"},{"tags":[],"owner":{"account_id":10984830,"reputation":41,"user_id":8070899,"display_name":"Vinesh Gowda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581674641,"creation_date":1581674641,"answer_id":60224095,"question_id":41147768,"body_markdown":"Just add\r\n\r\n    spring.flyway.enabled=false\r\n\r\nin application.properties file if you do not want flyway to check the checksum every time you run the application. ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Just add</p>\n\n<pre><code>spring.flyway.enabled=false\n</code></pre>\n\n<p>in application.properties file if you do not want flyway to check the checksum every time you run the application. </p>\n"},{"tags":[],"owner":{"account_id":10452784,"reputation":41,"user_id":7705847,"display_name":"Prudvi Raj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1582760648,"creation_date":1582745366,"answer_id":60421170,"question_id":41147768,"body_markdown":"use this query in your local DB.\r\n\r\n1. select * from schema_version\r\n   delete from schema_version where **checksum Column** =  -1729781252;\r\n\r\n Note: -1729781252 is the &quot;Resolved locally&quot; value.\r\n\r\n1. Build and start the server.         ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>use this query in your local DB.</p>\n\n<ol>\n<li><p>select * from schema_version\ndelete from schema_version where <strong>checksum Column</strong> =  -1729781252;</p>\n\n<p>Note: -1729781252 is the \"Resolved locally\" value.</p></li>\n<li><p>Build and start the server.         </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2294433,"reputation":75,"user_id":2016255,"display_name":"Alvaro"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589069670,"creation_date":1589069670,"answer_id":61705533,"question_id":41147768,"body_markdown":"What I did when faced this issue, was connect to DB and update the checksum field correspondent to the mistaken version, putting there the value resolved locally by FlyWay.\r\n\r\nFor the following error:\r\n\r\n    nested exception is org.flywaydb.core.api.FlywayException: Validate failed.\r\n    Migration Checksum mismatch for migration 1.12\r\n        -&gt; Applied to database : 1029320280\r\n        -&gt; Resolved locally    : -236187247\r\n\r\nI simply did this:\r\n\r\n    UPDATE schema_version SET checksum = -236187247 WHERE version_rank = 12 AND checksum = 1029320280;\r\n\r\nAnd problem solved..\r\n\r\n**NOTE:** You have to be sure your schema is actually correct, check your tables and their structure, if everything is OK, then you can apply this solution; otherwise, you should repair your schema manually first using plain and native SQL.\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>What I did when faced this issue, was connect to DB and update the checksum field correspondent to the mistaken version, putting there the value resolved locally by FlyWay.</p>\n\n<p>For the following error:</p>\n\n<pre><code>nested exception is org.flywaydb.core.api.FlywayException: Validate failed.\nMigration Checksum mismatch for migration 1.12\n    -&gt; Applied to database : 1029320280\n    -&gt; Resolved locally    : -236187247\n</code></pre>\n\n<p>I simply did this:</p>\n\n<pre><code>UPDATE schema_version SET checksum = -236187247 WHERE version_rank = 12 AND checksum = 1029320280;\n</code></pre>\n\n<p>And problem solved..</p>\n\n<p><strong>NOTE:</strong> You have to be sure your schema is actually correct, check your tables and their structure, if everything is OK, then you can apply this solution; otherwise, you should repair your schema manually first using plain and native SQL.</p>\n"},{"tags":[],"owner":{"account_id":11439295,"reputation":679,"user_id":8385477,"display_name":"srp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589214586,"creation_date":1589214586,"answer_id":61734578,"question_id":41147768,"body_markdown":"I had the same issue and tried all the options (delete schema, delete specific row, update checksum) but nothing works.  \r\n\r\nIn my case flyway-core dependency got corrupted somehow.\r\n\r\n\r\n\r\nSolution:\r\n\r\n\r\n1. Delete flyway-core folder from ~\\.m2\\local repository path...\\org\\flywaydb\\flyway-core. \r\n\r\n\r\n\r\n2. Execute &quot;maven clean install&quot; so that it will download new one and add it into a project.\r\n\r\n\r\n\r\nI hope this will help.","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I had the same issue and tried all the options (delete schema, delete specific row, update checksum) but nothing works.  </p>\n\n<p>In my case flyway-core dependency got corrupted somehow.</p>\n\n<p>Solution:</p>\n\n<ol>\n<li><p>Delete flyway-core folder from ~.m2\\local repository path...\\org\\flywaydb\\flyway-core. </p></li>\n<li><p>Execute \"maven clean install\" so that it will download new one and add it into a project.</p></li>\n</ol>\n\n<p>I hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":1652456,"reputation":1,"user_id":1522754,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589429595,"creation_date":1589429595,"answer_id":61789188,"question_id":41147768,"body_markdown":"There are 3 ways to solve this issue while development. Any one from below can solve this issue.&lt;BR&gt;\r\n1) provide the changes in new migration sql file with incrementing version &lt;BR&gt;\r\n2) change the schema name in db url we provide &lt;BR&gt;\r\n   datasource.flyway.url=jdbc:h2:file:~/cart3  &lt;BR&gt;\r\n   datasource.flyway.url=jdbc:h2:file:~/cart4  &lt;BR&gt;\r\n3) delete the .mv and .trace files in users home directory    &lt;BR&gt;\r\n   ex: cart3.mv  and cart3.trace   under c://users/username/","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>There are 3 ways to solve this issue while development. Any one from below can solve this issue.<BR>\n1) provide the changes in new migration sql file with incrementing version <BR>\n2) change the schema name in db url we provide <BR>\n   datasource.flyway.url=jdbc:h2:file:~/cart3  <BR>\n   datasource.flyway.url=jdbc:h2:file:~/cart4  <BR>\n3) delete the .mv and .trace files in users home directory    <BR>\n   ex: cart3.mv  and cart3.trace   under c://users/username/</p>\n"},{"tags":[],"owner":{"account_id":13771751,"reputation":49,"user_id":9939009,"display_name":"Ch&#226;nh&#233;ng Seang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1590669532,"creation_date":1590669532,"answer_id":62064909,"question_id":41147768,"body_markdown":"just don&#39;t validate:\r\n```java\r\nflyway.setValidateOnMigrate(false);\r\n```","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>just don't validate:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>flyway.setValidateOnMigrate(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24238330,"reputation":442,"user_id":18191094,"display_name":"Henry S."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644693124,"creation_date":1644693124,"answer_id":71095020,"question_id":41147768,"body_markdown":"After your .sql applied to DB, you edited the .sql, flyway may show this error.\r\n\r\nIf using Postgresql, a quick solution\r\n\r\nAfter dropping tables &quot;flyway_schema_histrory&quot; and the table my .sql created, the error disappeared.\r\n[delete table][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bjJZM.png","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>After your .sql applied to DB, you edited the .sql, flyway may show this error.</p>\n<p>If using Postgresql, a quick solution</p>\n<p>After dropping tables &quot;flyway_schema_histrory&quot; and the table my .sql created, the error disappeared.\n<a href=\"https://i.stack.imgur.com/bjJZM.png\" rel=\"nofollow noreferrer\">delete table</a></p>\n"},{"tags":[],"owner":{"account_id":482463,"reputation":6669,"user_id":896886,"accept_rate":41,"display_name":"Andrew Koper"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1694013640,"creation_date":1651089606,"answer_id":72034622,"question_id":41147768,"body_markdown":"I fixed this error with these steps:\r\n\r\n 1. In your database, go to the flyway_schema_history table \r\n 2. Delete the last row containing the most recent flyway migration script (&quot;V6__xxx&quot; or whatever)\r\n 3. Start your application.  I got another flyway error message that was kind of a dump of SQL to insert some rows in some tables.\r\n 4. Go to those tables and delete those new rows.\r\n\r\nI think the flyway migration script was trying to run, but it had already run once.  It was trying to do the same thing again - insert the same rows - and that was the final conflict/error.  Deleting those rows allowed it to run normally/successfully","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I fixed this error with these steps:</p>\n<ol>\n<li>In your database, go to the flyway_schema_history table</li>\n<li>Delete the last row containing the most recent flyway migration script (&quot;V6__xxx&quot; or whatever)</li>\n<li>Start your application.  I got another flyway error message that was kind of a dump of SQL to insert some rows in some tables.</li>\n<li>Go to those tables and delete those new rows.</li>\n</ol>\n<p>I think the flyway migration script was trying to run, but it had already run once.  It was trying to do the same thing again - insert the same rows - and that was the final conflict/error.  Deleting those rows allowed it to run normally/successfully</p>\n"},{"tags":[],"owner":{"account_id":12975493,"reputation":1,"user_id":9379640,"display_name":"Sanjeev Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655217853,"creation_date":1655217853,"answer_id":72618993,"question_id":41147768,"body_markdown":"I have faced similar issue once. And the solution was... \r\n\r\nDon&#39;t do any changes to DAO classes.. .It will try to change the database and flyway will not allow. ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I have faced similar issue once. And the solution was...</p>\n<p>Don't do any changes to DAO classes.. .It will try to change the database and flyway will not allow.</p>\n"},{"tags":[],"owner":{"account_id":24204123,"reputation":19,"user_id":18161563,"display_name":"husnitdin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674838529,"creation_date":1674838529,"answer_id":75261104,"question_id":41147768,"body_markdown":"Believe or not, adding flyway dependency version solved my issue","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Believe or not, adding flyway dependency version solved my issue</p>\n"},{"tags":[],"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680274735,"creation_date":1680274735,"answer_id":75899986,"question_id":41147768,"body_markdown":"As of writing this in 2023, I am using **Flyway 8.5.13** and I faced this issue when I tried to change the script that had already executed.\r\n\r\n**What caused the issue:**\r\n\r\nI changed name of the primary key column in V1 SQL script (after it had already been executed).\r\n\r\n**How I resolved it:**\r\n1. By undoing the changes I made to primary key column. Basically making V1 script same as it was before execution.\r\n2. Added a new V2 sql file for changing the primary key column name.\r\n3. Execute\r\n\r\nHope it helps\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>As of writing this in 2023, I am using <strong>Flyway 8.5.13</strong> and I faced this issue when I tried to change the script that had already executed.</p>\n<p><strong>What caused the issue:</strong></p>\n<p>I changed name of the primary key column in V1 SQL script (after it had already been executed).</p>\n<p><strong>How I resolved it:</strong></p>\n<ol>\n<li>By undoing the changes I made to primary key column. Basically making V1 script same as it was before execution.</li>\n<li>Added a new V2 sql file for changing the primary key column name.</li>\n<li>Execute</li>\n</ol>\n<p>Hope it helps</p>\n"}],"owner":{"display_name":"user5707585"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239725,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"answer_count":25,"score":112,"last_activity_date":1694013640,"creation_date":1481733696,"question_id":41147768,"body_markdown":"I tried to find the solution for the below problem, but none of them worked for me. I am developing **Angular + Spring Boot** application using **MySQL + flyway**. Please guide whats going wrong here.\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2\r\n    -&gt; Applied to database : 1499248173\r\n    -&gt; Resolved locally    : -1729781252\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:764) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.doRun(SpringApplication.java:357) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:305) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1124) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1113) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat com.boot.App.main(App.java:9) [classes/:na]\r\n    Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2\r\n    -&gt; Applied to database : 1499248173\r\n    -&gt; Resolved locally    : -1729781252\r\n    \tat org.flywaydb.core.Flyway.doValidate(Flyway.java:1108) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \t... 18 common frames omitted\r\n\r\n**application.properties**\r\n\r\n    logging.level.org.springframework.web=DEBUG\r\n    \r\n    server.port=8080\r\n    \r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2\r\n    \r\n    ## For H2 DB\r\n    #spring.datasource.url=jdbc:h2:file:~/dasboot\r\n    #spring.datasource.username=sa\r\n    #spring.datasource.password=\r\n    #spring.datasource.driver-class-name=org.h2.Driver\r\n    \r\n    ## For MYSQL DB\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/dasboot\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    spring.datasource.max-active=10\r\n    spring.datasource.max-idle=8\r\n    spring.datasource.max-wait=10000\r\n    spring.datasource.min-evictable-idle-time-millis=1000\r\n    spring.datasource.min-idle=8\r\n    spring.datasource.time-between-eviction-runs-millis=1\r\n    \r\n    flyway.baseline-on-migrate=true\r\n    spring.jpa.hibernate.ddl-auto=false;\r\n    \r\n    #datasource.flyway.url=jdbc:h2:file:~/dasboot\r\n    #datasource.flyway.username=sa\r\n    #datasource.flyway.password=\r\n    #datasource.flyway.driver-class-name=org.h2.Driver\r\n    \r\n    \r\n    datasource.flyway.url=jdbc:mysql://localhost:3306/dasboot\r\n    datasource.flyway.username=root\r\n    datasource.flyway.password=root\r\n    datasource.flyway.driver-class-name=com.mysql.jdbc.Driver\r\n\r\n**pom.xml**\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;name&gt;das-boot&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n\r\n**V2__create_shipwreck.sql**\r\n\r\n    -- For H2 DB\r\n    --CREATE TABLE SHIPWRECK(\r\n    --\tID INT AUTO_INCREMENT,\r\n    --\tNAME VARCHAR(255),\r\n    --\tDESCRIPTION VARCHAR(2000),\r\n    --\tCONDITION VARCHAR(255),\r\n    --\tDEPTH INT,\r\n    --\tLATITUDE DOUBLE,\r\n    --\tLONGITUDE DOUBLE,\r\n    --\tYEAR_DISCOVERED INT\r\n    --);\r\n    \r\n    CREATE TABLE `dasboot`.`shipwreck` (\r\n      `ID` INT NOT NULL AUTO_INCREMENT,\r\n      `NAME` VARCHAR(255) NULL,\r\n      `DESCRIPTION` VARCHAR(2000) NULL,\r\n      `CONDITION` VARCHAR(255) NULL,\r\n      `DEPTH` INT NULL,\r\n      `LATITUDE` DOUBLE NULL,\r\n      `LONGITUDE` DOUBLE NULL,\r\n      `YEAR_DISCOVERED` INT NULL,\r\n      PRIMARY KEY (`ID`));\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QXWut.png","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I tried to find the solution for the below problem, but none of them worked for me. I am developing <strong>Angular + Spring Boot</strong> application using <strong>MySQL + flyway</strong>. Please guide whats going wrong here.</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2\n-&gt; Applied to database : 1499248173\n-&gt; Resolved locally    : -1729781252\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:764) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.doRun(SpringApplication.java:357) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:305) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1124) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1113) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at com.boot.App.main(App.java:9) [classes/:na]\nCaused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2\n-&gt; Applied to database : 1499248173\n-&gt; Resolved locally    : -1729781252\n    at org.flywaydb.core.Flyway.doValidate(Flyway.java:1108) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]\n    at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    ... 18 common frames omitted\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>logging.level.org.springframework.web=DEBUG\n\nserver.port=8080\n\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2\n\n## For H2 DB\n#spring.datasource.url=jdbc:h2:file:~/dasboot\n#spring.datasource.username=sa\n#spring.datasource.password=\n#spring.datasource.driver-class-name=org.h2.Driver\n\n## For MYSQL DB\nspring.datasource.url=jdbc:mysql://localhost:3306/dasboot\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n\nspring.datasource.max-active=10\nspring.datasource.max-idle=8\nspring.datasource.max-wait=10000\nspring.datasource.min-evictable-idle-time-millis=1000\nspring.datasource.min-idle=8\nspring.datasource.time-between-eviction-runs-millis=1\n\nflyway.baseline-on-migrate=true\nspring.jpa.hibernate.ddl-auto=false;\n\n#datasource.flyway.url=jdbc:h2:file:~/dasboot\n#datasource.flyway.username=sa\n#datasource.flyway.password=\n#datasource.flyway.driver-class-name=org.h2.Driver\n\n\ndatasource.flyway.url=jdbc:mysql://localhost:3306/dasboot\ndatasource.flyway.username=root\ndatasource.flyway.password=root\ndatasource.flyway.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;das-boot&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>V2__create_shipwreck.sql</strong></p>\n\n<pre><code>-- For H2 DB\n--CREATE TABLE SHIPWRECK(\n--  ID INT AUTO_INCREMENT,\n--  NAME VARCHAR(255),\n--  DESCRIPTION VARCHAR(2000),\n--  CONDITION VARCHAR(255),\n--  DEPTH INT,\n--  LATITUDE DOUBLE,\n--  LONGITUDE DOUBLE,\n--  YEAR_DISCOVERED INT\n--);\n\nCREATE TABLE `dasboot`.`shipwreck` (\n  `ID` INT NOT NULL AUTO_INCREMENT,\n  `NAME` VARCHAR(255) NULL,\n  `DESCRIPTION` VARCHAR(2000) NULL,\n  `CONDITION` VARCHAR(255) NULL,\n  `DEPTH` INT NULL,\n  `LATITUDE` DOUBLE NULL,\n  `LONGITUDE` DOUBLE NULL,\n  `YEAR_DISCOVERED` INT NULL,\n  PRIMARY KEY (`ID`));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QXWut.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QXWut.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","rest","jersey","jax-rs","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693994512,"creation_date":1693994512,"answer_id":77050914,"question_id":77047969,"body_markdown":"Instead of working directly with Servlet Classes, you could rely on the [Jersey Multipart feature][2] that Jersey offers. That should make your life easier.\r\n\r\nThe documentation describes two ways, one Jersey proprietary way for Jersey 2.x and 3.0, and one Jakarta REST 3.1 way, implemented by Jersey 3.1, depending on what Jersey you are on.\r\n\r\n  [2]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/media.html#multipart","title":"Cannot get the name of zip file created by jersy api","body":"<p>Instead of working directly with Servlet Classes, you could rely on the <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/media.html#multipart\" rel=\"nofollow noreferrer\">Jersey Multipart feature</a> that Jersey offers. That should make your life easier.</p>\n<p>The documentation describes two ways, one Jersey proprietary way for Jersey 2.x and 3.0, and one Jakarta REST 3.1 way, implemented by Jersey 3.1, depending on what Jersey you are on.</p>\n"},{"tags":[],"owner":{"account_id":28986638,"reputation":29,"user_id":22203324,"display_name":"abdel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694013631,"creation_date":1694013631,"answer_id":77053315,"question_id":77047969,"body_markdown":"I was resolved the problem like this: \r\n\r\n    httpServletResponse.status = HttpStatus.OK.value()\r\n                httpServletResponse.contentType = &quot;application/octet-stream&quot;\r\n                httpServletResponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + tmpFile.name + &quot;\\&quot;&quot;)\r\n                Files.newInputStream(tmpFile.toPath()).transferTo(httpServletResponse.outputStream)\r\n                httpServletResponse.outputStream.flush()","title":"Cannot get the name of zip file created by jersy api","body":"<p>I was resolved the problem like this:</p>\n<pre><code>httpServletResponse.status = HttpStatus.OK.value()\n            httpServletResponse.contentType = &quot;application/octet-stream&quot;\n            httpServletResponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + tmpFile.name + &quot;\\&quot;&quot;)\n            Files.newInputStream(tmpFile.toPath()).transferTo(httpServletResponse.outputStream)\n            httpServletResponse.outputStream.flush()\n</code></pre>\n"}],"owner":{"account_id":28986638,"reputation":29,"user_id":22203324,"display_name":"abdel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77053315,"answer_count":2,"score":0,"last_activity_date":1694013631,"creation_date":1693951082,"question_id":77047969,"body_markdown":"I created jersey rest post api with spring boot to return a zip file with such a filename, with postman i can download the zip file but not with real filename and in the response headers i can&#39;t find Content-disposition key.\r\n\r\nMy code is: \r\n\r\n        @Context\r\n        lateinit var httpServletResponse: HttpServletResponse\r\n    \r\n        @POST\r\n        @Path(&quot;/getRecord&quot;)\r\n        @Produces(&quot;application/zip&quot;, MediaType.APPLICATION_JSON)\r\n        fun getRecord(@RequestBody recordIdentification: RecordIdentificationRequest) {\r\n            val compositeRecord: CompositeRecord = service.getRecordFromRequest(recordIdentification)\r\n            var tmpFile: File? = service.getRecordZip(compositeRecord)\r\n    \r\n            if (tmpFile != null) {\r\n                Files.newInputStream(tmpFile.toPath()).transferTo(httpServletResponse.outputStream)\r\n    \r\n                httpServletResponse.status = HttpStatus.OK.value()\r\n                httpServletResponse.contentType = &quot;application/zip&quot;\r\n                val contentDisposition: ContentDisposition = ContentDisposition.attachment()\r\n                        .filename(tmpFile.name)\r\n                        .build()\r\n                httpServletResponse.setHeader(HttpHeaders.CONTENT_DISPOSITION, contentDisposition.toString())\r\n                httpServletResponse.outputStream.flush()\r\n            }\r\n    \r\n        }\r\n\r\nthe response headers in postman are: \r\n[![enter image description here][1]][1]\r\n\r\nthank&#39;s!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VooKU.png","title":"Cannot get the name of zip file created by jersy api","body":"<p>I created jersey rest post api with spring boot to return a zip file with such a filename, with postman i can download the zip file but not with real filename and in the response headers i can't find Content-disposition key.</p>\n<p>My code is:</p>\n<pre><code>    @Context\n    lateinit var httpServletResponse: HttpServletResponse\n\n    @POST\n    @Path(&quot;/getRecord&quot;)\n    @Produces(&quot;application/zip&quot;, MediaType.APPLICATION_JSON)\n    fun getRecord(@RequestBody recordIdentification: RecordIdentificationRequest) {\n        val compositeRecord: CompositeRecord = service.getRecordFromRequest(recordIdentification)\n        var tmpFile: File? = service.getRecordZip(compositeRecord)\n\n        if (tmpFile != null) {\n            Files.newInputStream(tmpFile.toPath()).transferTo(httpServletResponse.outputStream)\n\n            httpServletResponse.status = HttpStatus.OK.value()\n            httpServletResponse.contentType = &quot;application/zip&quot;\n            val contentDisposition: ContentDisposition = ContentDisposition.attachment()\n                    .filename(tmpFile.name)\n                    .build()\n            httpServletResponse.setHeader(HttpHeaders.CONTENT_DISPOSITION, contentDisposition.toString())\n            httpServletResponse.outputStream.flush()\n        }\n\n    }\n</code></pre>\n<p>the response headers in postman are:\n<a href=\"https://i.stack.imgur.com/VooKU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VooKU.png\" alt=\"enter image description here\" /></a></p>\n<p>thank's!</p>\n"},{"tags":["java","oracle19c","ojdbc"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694013358,"creation_date":1694012897,"answer_id":77053206,"question_id":77052735,"body_markdown":"You&#39;re not supposed to use `MutableStruct` directly either (probably, if it&#39;s a driver class). The correct way is to use the implementing classes through the Java interfaces, like `java.sql.Struct`. You can see that `oracle.sql.STRUCT` implements `java.sql.Struct`, so you&#39;ll be using that anyway, just through the JDBC interface.\r\n\r\nNothing _prevents_ you from just using the actual classes, but you might use some semi-internal operations that are removed or changed in another version, whereas the JDBC standard interface stays the same.\r\n\r\nLike your linked javadoc says, you can create a JDBC struct with `java.sql.Struct struct = connection.createStruct(...);`, but if you need to use `MutableStruct` then you might have to stick to the driver specific classes.","title":"How to replace oracle.sql.STRUCT with java.sql.Struct, which is used by oracle.jpub.runtime.MutableStruct","body":"<p>You're not supposed to use <code>MutableStruct</code> directly either (probably, if it's a driver class). The correct way is to use the implementing classes through the Java interfaces, like <code>java.sql.Struct</code>. You can see that <code>oracle.sql.STRUCT</code> implements <code>java.sql.Struct</code>, so you'll be using that anyway, just through the JDBC interface.</p>\n<p>Nothing <em>prevents</em> you from just using the actual classes, but you might use some semi-internal operations that are removed or changed in another version, whereas the JDBC standard interface stays the same.</p>\n<p>Like your linked javadoc says, you can create a JDBC struct with <code>java.sql.Struct struct = connection.createStruct(...);</code>, but if you need to use <code>MutableStruct</code> then you might have to stick to the driver specific classes.</p>\n"}],"owner":{"account_id":17426774,"reputation":23,"user_id":12631545,"display_name":"Bittnutz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77053206,"answer_count":1,"score":-1,"last_activity_date":1694013358,"creation_date":1694009538,"question_id":77052735,"body_markdown":"Long story short, I have a project, which uses JPublisher to generate code from a PL/SQL package. At the moment, the project is running with ojdbc14.jar + the respective companion jars. However, I have to upgrade the driver to ojdbc8.jar + its&#39; companion jars. At some point, in one of the classes I have the following code snippet:\r\n\r\n    oracle.sql.Datum d = &lt;some value here&gt;;\r\n    MutableStruct struct = new MutableStruct((STRUCT)d, sqlType, factory);\r\n\r\nThe constructor of the MutableStruct takes such arguments: \r\n(STRUCT arg0, int[] arg1, ORADataFactory[] arg2)\r\n\r\nI checked this [article][1] and as you can see, it proposes to use java.sql.Struct instead. However, in this case the MutableStruct doesn&#39;t take such an argument and doesn&#39;t work.\r\n\r\nSo, my question is, whether there is any workaround of avoiding the deprecated STRUCT object in such cases?\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/database/121/JAJDB/oracle/sql/STRUCT.html","title":"How to replace oracle.sql.STRUCT with java.sql.Struct, which is used by oracle.jpub.runtime.MutableStruct","body":"<p>Long story short, I have a project, which uses JPublisher to generate code from a PL/SQL package. At the moment, the project is running with ojdbc14.jar + the respective companion jars. However, I have to upgrade the driver to ojdbc8.jar + its' companion jars. At some point, in one of the classes I have the following code snippet:</p>\n<pre><code>oracle.sql.Datum d = &lt;some value here&gt;;\nMutableStruct struct = new MutableStruct((STRUCT)d, sqlType, factory);\n</code></pre>\n<p>The constructor of the MutableStruct takes such arguments:\n(STRUCT arg0, int[] arg1, ORADataFactory[] arg2)</p>\n<p>I checked this <a href=\"https://docs.oracle.com/database/121/JAJDB/oracle/sql/STRUCT.html\" rel=\"nofollow noreferrer\">article</a> and as you can see, it proposes to use java.sql.Struct instead. However, in this case the MutableStruct doesn't take such an argument and doesn't work.</p>\n<p>So, my question is, whether there is any workaround of avoiding the deprecated STRUCT object in such cases?</p>\n"},{"tags":["java","pdfbox","signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1694014212,"post_id":77053254,"comment_id":135836325,"body_markdown":"Hhmmm, your code is weird, it looks like plugged together only based on matching types, not on semantics... you may want to look at the answers to [this question](https://stackoverflow.com/q/76969040/1729265) and other answers referenced from there.","body":"Hhmmm, your code is weird, it looks like plugged together only based on matching types, not on semantics... you may want to look at the answers to <a href=\"https://stackoverflow.com/q/76969040/1729265\">this question</a> and other answers referenced from there."},{"owner":{"account_id":29380281,"reputation":1,"user_id":22510943,"display_name":"Roshan Pal"},"score":0,"creation_date":1694067852,"post_id":77053254,"comment_id":135842913,"body_markdown":"Thank you so much mkl. I looked at the answers referenced by you. Now I am able to fix the error &quot;Signature is invalid&quot;. Again thanks for your help &#128591;","body":"Thank you so much mkl. I looked at the answers referenced by you. Now I am able to fix the error &quot;Signature is invalid&quot;. Again thanks for your help 🙏"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1694105353,"post_id":77053254,"comment_id":135850795,"body_markdown":"Great that that helped. Is it ok to mark your question as duplicate of that other question then?","body":"Great that that helped. Is it ok to mark your question as duplicate of that other question then?"},{"owner":{"account_id":29380281,"reputation":1,"user_id":22510943,"display_name":"Roshan Pal"},"score":0,"creation_date":1694148596,"post_id":77053254,"comment_id":135855881,"body_markdown":"Sure sir, you can mark my question  as a duplicate","body":"Sure sir, you can mark my question  as a duplicate"}],"owner":{"account_id":29380281,"reputation":1,"user_id":22510943,"display_name":"Roshan Pal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694150104,"answer_count":0,"score":0,"last_activity_date":1694013243,"creation_date":1694013243,"question_id":77053254,"body_markdown":"We are using pdfbox library to sign a document and also integrated HSM service to sign document hash and get signed hash. But the problem is that we are getting an error in Adobe Reader saying &quot;invalid signature as document has been altered since signature was applied.&quot;\r\n\r\nHere is the code snippet for the signature:\r\n\r\n```java\r\npublic void signPdfExternally() throws Exception {\r\n    PDDocument document;\r\n    File pdfToBeSigned;\r\n    File signedPdfFile;\r\n    FileOutputStream output = null;\r\n    byte[] cmsSignature;\r\n    ExternalSigningSupport externalSigningSupport;\r\n    try {\r\n        pdfToBeSigned = new File(&quot;testPdf.pdf&quot;);\r\n        signedPdfFile = new File(pdfToBeSigned.getParent(), pdfToBeSigned.getName().substring(0, pdfToBeSigned.getName().lastIndexOf(&#39;.&#39;)) + &quot;_signed.pdf&quot;);\r\n        document = Loader.loadPDF(pdfToBeSigned);\r\n        output = new FileOutputStream(signedPdfFile);\r\n        loadExternalCert(eSignCertProvider.getCertificateChain());\r\n        extractPrivateKey();\r\n        document.addSignature(signature());\r\n        externalSigningSupport = document.saveIncrementalForExternalSigning(output);\r\n        cmsSignature = sign(externalSigningSupport.getContent());\r\n        externalSigningSupport.setSignature(cmsSignature);\r\n    } catch (Exception ex) {\r\n        ex.printStackTrace();\r\n        throw ex;\r\n    } finally {\r\n        if (output != null) {\r\n            try {\r\n                output.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nprivate PDSignature signature() {\r\n    PDSignature signature = new PDSignature();\r\n    signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n    signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n    signature.setName(&quot;Test User&quot;);\r\n    signature.setLocation(&quot;Some location&quot;);\r\n    signature.setReason(&quot;Testing&quot;);\r\n    signature.setSignDate(Calendar.getInstance());\r\n    return signature;\r\n}\r\n\r\n// Signing document and attaching certificate to the pdf\r\npublic byte[] sign(InputStream content) throws IOException {\r\n    try {\r\n        loadExternalCert(eSignCertProvider.getCertificateChain());\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        // External service that signs document hash and gives back signed hash as a signature\r\n        byte[] signature = HsmServiceProvider.signContent(content.readAllBytes(), &quot;Testing1234&quot;);\r\n        CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\r\n\r\n        List&lt;Certificate&gt; certList = Arrays.asList(externalCertificateChain);\r\n        JcaCertStore certs = new JcaCertStore(certList);\r\n        Attribute attr = new Attribute(NISTObjectIdentifiers.id_sha256, new DERSet(new DEROctetString(content.readAllBytes())));\r\n        ASN1EncodableVector v = new ASN1EncodableVector();\r\n        v.add(attr);\r\n        SignerInfoGeneratorBuilder builder = new SignerInfoGeneratorBuilder(new BcDigestCalculatorProvider()).setSignedAttributeGenerator(new DefaultSignedAttributeTableGenerator(new AttributeTable(v)));\r\n        AlgorithmIdentifier sha256withRSA = new DefaultSignatureAlgorithmIdentifierFinder().find(&quot;SHA256withRSA&quot;);\r\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        InputStream in = new ByteArrayInputStream(externalCertificateChain[0].getEncoded());\r\n        X509Certificate cert = (X509Certificate) certFactory.generateCertificate(in);\r\n        gen.addSignerInfoGenerator(builder.build(new BcRSAContentSignerBuilder(sha256withRSA, new DefaultDigestAlgorithmIdentifierFinder().find(sha256withRSA)).build(PrivateKeyFactory.createKey(this.privateKey.getEncoded())), new JcaX509CertificateHolder(cert)));\r\n        gen.addCertificates(certs);\r\n        CMSSignedData s = gen.generate(new CMSProcessableByteArray(signature), false);\r\n        return s.getEncoded();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        throw new IOException(e);\r\n    }\r\n}\r\n\r\nhow to solve document has been altered error","title":"pdfbox external signing. After signing document, open it in adobe reader it says invalid signature as document has been altered","body":"<p>We are using pdfbox library to sign a document and also integrated HSM service to sign document hash and get signed hash. But the problem is that we are getting an error in Adobe Reader saying &quot;invalid signature as document has been altered since signature was applied.&quot;</p>\n<p>Here is the code snippet for the signature:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void signPdfExternally() throws Exception {\n    PDDocument document;\n    File pdfToBeSigned;\n    File signedPdfFile;\n    FileOutputStream output = null;\n    byte[] cmsSignature;\n    ExternalSigningSupport externalSigningSupport;\n    try {\n        pdfToBeSigned = new File(&quot;testPdf.pdf&quot;);\n        signedPdfFile = new File(pdfToBeSigned.getParent(), pdfToBeSigned.getName().substring(0, pdfToBeSigned.getName().lastIndexOf('.')) + &quot;_signed.pdf&quot;);\n        document = Loader.loadPDF(pdfToBeSigned);\n        output = new FileOutputStream(signedPdfFile);\n        loadExternalCert(eSignCertProvider.getCertificateChain());\n        extractPrivateKey();\n        document.addSignature(signature());\n        externalSigningSupport = document.saveIncrementalForExternalSigning(output);\n        cmsSignature = sign(externalSigningSupport.getContent());\n        externalSigningSupport.setSignature(cmsSignature);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n        throw ex;\n    } finally {\n        if (output != null) {\n            try {\n                output.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\nprivate PDSignature signature() {\n    PDSignature signature = new PDSignature();\n    signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n    signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n    signature.setName(&quot;Test User&quot;);\n    signature.setLocation(&quot;Some location&quot;);\n    signature.setReason(&quot;Testing&quot;);\n    signature.setSignDate(Calendar.getInstance());\n    return signature;\n}\n\n// Signing document and attaching certificate to the pdf\npublic byte[] sign(InputStream content) throws IOException {\n    try {\n        loadExternalCert(eSignCertProvider.getCertificateChain());\n        Security.addProvider(new BouncyCastleProvider());\n        // External service that signs document hash and gives back signed hash as a signature\n        byte[] signature = HsmServiceProvider.signContent(content.readAllBytes(), &quot;Testing1234&quot;);\n        CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\n\n        List&lt;Certificate&gt; certList = Arrays.asList(externalCertificateChain);\n        JcaCertStore certs = new JcaCertStore(certList);\n        Attribute attr = new Attribute(NISTObjectIdentifiers.id_sha256, new DERSet(new DEROctetString(content.readAllBytes())));\n        ASN1EncodableVector v = new ASN1EncodableVector();\n        v.add(attr);\n        SignerInfoGeneratorBuilder builder = new SignerInfoGeneratorBuilder(new BcDigestCalculatorProvider()).setSignedAttributeGenerator(new DefaultSignedAttributeTableGenerator(new AttributeTable(v)));\n        AlgorithmIdentifier sha256withRSA = new DefaultSignatureAlgorithmIdentifierFinder().find(&quot;SHA256withRSA&quot;);\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n        InputStream in = new ByteArrayInputStream(externalCertificateChain[0].getEncoded());\n        X509Certificate cert = (X509Certificate) certFactory.generateCertificate(in);\n        gen.addSignerInfoGenerator(builder.build(new BcRSAContentSignerBuilder(sha256withRSA, new DefaultDigestAlgorithmIdentifierFinder().find(sha256withRSA)).build(PrivateKeyFactory.createKey(this.privateKey.getEncoded())), new JcaX509CertificateHolder(cert)));\n        gen.addCertificates(certs);\n        CMSSignedData s = gen.generate(new CMSProcessableByteArray(signature), false);\n        return s.getEncoded();\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new IOException(e);\n    }\n}\n\nhow to solve document has been altered error\n</code></pre>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":0,"creation_date":1694013551,"post_id":77053213,"comment_id":135836161,"body_markdown":"You can try a `mvn install -nsu` (nsu for no snapshot updates) it should force to use the local repo instead of trying to update each dependency from a remote repository","body":"You can try a <code>mvn install -nsu</code> (nsu for no snapshot updates) it should force to use the local repo instead of trying to update each dependency from a remote repository"},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1694014226,"post_id":77053213,"comment_id":135836329,"body_markdown":"I think its a few problems, the first one its your settings, the other one its you need user the argument in maven to force it to use the local. A good idea could use a local repository, put your library and all the libraries you need there, The following article explain it step by step https://manios.org/2019/08/21/force-maven-offline-execute-goal-dependencies","body":"I think its a few problems, the first one its your settings, the other one its you need user the argument in maven to force it to use the local. A good idea could use a local repository, put your library and all the libraries you need there, The following article explain it step by step <a href=\"https://manios.org/2019/08/21/force-maven-offline-execute-goal-dependencies\" rel=\"nofollow noreferrer\">manios.org/2019/08/21/&hellip;</a>"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1694014335,"post_id":77053213,"comment_id":135836354,"body_markdown":"If you have copied the whole repository and you don&#39;t need anything else, try to compile from the command line using the `-o` switch to force the offline mode.","body":"If you have copied the whole repository and you don&#39;t need anything else, try to compile from the command line using the <code>-o</code> switch to force the offline mode."}],"owner":{"account_id":411369,"reputation":1235,"user_id":783773,"accept_rate":42,"display_name":"Michele"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694012941,"creation_date":1694012941,"question_id":77053213,"body_markdown":"for a customer I should connected to a VPN, connect to a Virtual Remote Desktop (VRD) and finally develop the code from here. The VRD is simply slow, develop the code is frustrating.\r\n\r\nConsidering that the project needs a connection to customer-Nexus repository, I tryed to copy the whole Maven repository from the VRD to the Maven repository in my PC.\r\nBut when I try to compile the project (in IntelliJ) I receive this error:\r\n\r\n    com.foo:bar:pom:1.0 was not found in https://repo.maven.apache.org/maven2 ...\r\n\r\nThe dependency com.foo:bar:1.0 is one downloaded from the customer Nexus repository and it is correctly present in my local Maven repository (by manual copy).\r\n\r\nWhy do Maven start to look for the dependency from the remote repository instead of look for inside my local repository? How can I fix this behaviour?\r\n\r\nMany thanks","title":"How copy dependencies from a Maven repository to another","body":"<p>for a customer I should connected to a VPN, connect to a Virtual Remote Desktop (VRD) and finally develop the code from here. The VRD is simply slow, develop the code is frustrating.</p>\n<p>Considering that the project needs a connection to customer-Nexus repository, I tryed to copy the whole Maven repository from the VRD to the Maven repository in my PC.\nBut when I try to compile the project (in IntelliJ) I receive this error:</p>\n<pre><code>com.foo:bar:pom:1.0 was not found in https://repo.maven.apache.org/maven2 ...\n</code></pre>\n<p>The dependency com.foo:bar:1.0 is one downloaded from the customer Nexus repository and it is correctly present in my local Maven repository (by manual copy).</p>\n<p>Why do Maven start to look for the dependency from the remote repository instead of look for inside my local repository? How can I fix this behaviour?</p>\n<p>Many thanks</p>\n"},{"tags":["java","selenium-webdriver","appium","appium-android","appium-java"],"answers":[{"tags":[],"owner":{"account_id":24958929,"reputation":26,"user_id":18823076,"display_name":"Reyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694012632,"creation_date":1694010525,"answer_id":77052886,"question_id":77043671,"body_markdown":"Instead of using &quot;appium:app&quot; capability to launch the app, use &quot;appium:appPackage&quot; and &quot;appium:appActivity&quot; to launch specific activity of the app. You can use apps like &quot;Apkinfo&quot; to get the name of activities of the app and provide the desire activity for &quot;appium:appActivity&quot; capcability. Refer the below code snippet for Android App:\r\n\r\n\r\n    UiAutomator2Options op = new UiAutomator2Options();\r\n    \r\n    op.setCapability(&quot;appPackage&quot;, app_package_name);\r\n    op.setCapability(&quot;appActivity&quot;, app_activity_name);\r\n\r\nFor more details you can refer the documentation available here:\r\nhttps://github.com/appium/appium-uiautomator2-driver#app\r\n","title":"How to launch an inbuild app like(Any feature from settings of the device) with the current activity using the appium driver","body":"<p>Instead of using &quot;appium:app&quot; capability to launch the app, use &quot;appium:appPackage&quot; and &quot;appium:appActivity&quot; to launch specific activity of the app. You can use apps like &quot;Apkinfo&quot; to get the name of activities of the app and provide the desire activity for &quot;appium:appActivity&quot; capcability. Refer the below code snippet for Android App:</p>\n<pre><code>UiAutomator2Options op = new UiAutomator2Options();\n\nop.setCapability(&quot;appPackage&quot;, app_package_name);\nop.setCapability(&quot;appActivity&quot;, app_activity_name);\n</code></pre>\n<p>For more details you can refer the documentation available here:\n<a href=\"https://github.com/appium/appium-uiautomator2-driver#app\" rel=\"nofollow noreferrer\">https://github.com/appium/appium-uiautomator2-driver#app</a></p>\n"}],"owner":{"account_id":29370189,"reputation":1,"user_id":22502959,"display_name":"saideep vempati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694012632,"creation_date":1693909357,"question_id":77043671,"body_markdown":"When I am launching an inbuild app in Android. It navigates to the home page of that application. I want to open the current activity of that application and perform some automation in that page. Is this possible?\r\n\r\nI tried with different methods to launch the app with current activity. But unable to get it. Its navigating to home page when launching the app. I am expecting like is there any way like to set any preferred capabilities to launch the inbuild app in Android with current activity?\r\n","title":"How to launch an inbuild app like(Any feature from settings of the device) with the current activity using the appium driver","body":"<p>When I am launching an inbuild app in Android. It navigates to the home page of that application. I want to open the current activity of that application and perform some automation in that page. Is this possible?</p>\n<p>I tried with different methods to launch the app with current activity. But unable to get it. Its navigating to home page when launching the app. I am expecting like is there any way like to set any preferred capabilities to launch the inbuild app in Android with current activity?</p>\n"},{"tags":["java","spring","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694012146,"creation_date":1694012146,"answer_id":77053099,"question_id":76545953,"body_markdown":"Both [javax.annotation.PostConstruct][1] and [javax.annotation.PreDestroy][2] work for beans managed by Jersey.\r\n\r\nFor the `@Beans` alternatives, you can use [HK2 mechanism][3] for creating beans, or you can use Jersey alternatives with the same names, for instance in [this tutorial][4].\r\n\r\nOr you could have CDI managed environment (such as in the application server), where you can use [CDI producers][5] to produce CDI beans, that could be injected with `@Inject`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/5/api/javax/annotation/PostConstruct.html\r\n  [2]: https://docs.oracle.com/javaee/5/api/javax/annotation/PreDestroy.html\r\n  [3]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/ioc.html#d0e17546\r\n  [4]: https://riptutorial.com/jersey/example/23632/basic-dependency-injection-using-jersey-s-hk2\r\n  [5]: https://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#producer_method","title":"@Bean alternative in jersey","body":"<p>Both <a href=\"https://docs.oracle.com/javaee/5/api/javax/annotation/PostConstruct.html\" rel=\"nofollow noreferrer\">javax.annotation.PostConstruct</a> and <a href=\"https://docs.oracle.com/javaee/5/api/javax/annotation/PreDestroy.html\" rel=\"nofollow noreferrer\">javax.annotation.PreDestroy</a> work for beans managed by Jersey.</p>\n<p>For the <code>@Beans</code> alternatives, you can use <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/ioc.html#d0e17546\" rel=\"nofollow noreferrer\">HK2 mechanism</a> for creating beans, or you can use Jersey alternatives with the same names, for instance in <a href=\"https://riptutorial.com/jersey/example/23632/basic-dependency-injection-using-jersey-s-hk2\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>Or you could have CDI managed environment (such as in the application server), where you can use <a href=\"https://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#producer_method\" rel=\"nofollow noreferrer\">CDI producers</a> to produce CDI beans, that could be injected with <code>@Inject</code>.</p>\n"}],"owner":{"account_id":15343705,"reputation":29,"user_id":11069868,"display_name":"Rohit Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694012146,"creation_date":1687607900,"question_id":76545953,"body_markdown":"I want to create a bean of thread pools using Executor. In spring I can use @Bean inside @Configuration annotated class. What is the **alternative** in Jersey?\r\n\r\nAlso when the application shuts off then in Spring I can use @PreDestroy in that same configuration class to shut down the thread pool, any alternative to this in Jersey?","title":"@Bean alternative in jersey","body":"<p>I want to create a bean of thread pools using Executor. In spring I can use @Bean inside @Configuration annotated class. What is the <strong>alternative</strong> in Jersey?</p>\n<p>Also when the application shuts off then in Spring I can use @PreDestroy in that same configuration class to shut down the thread pool, any alternative to this in Jersey?</p>\n"},{"tags":["java","ajax","spring","form-data"],"answers":[{"tags":[],"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694012120,"creation_date":1693948801,"answer_id":77047809,"question_id":77047244,"body_markdown":"Your request on your Spring backend is expecting a List of &quot;OBJ&quot;. Instead, you are giving multiple &quot;OBJ&quot; objects separately which would construct this:\r\n\r\n - key: &quot;objs[0]&quot;, value: &quot;{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}\r\n - key: &quot;objs[1]&quot;, value: &quot;{&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}\r\n\r\nInstead, you should be doing:\r\n\r\n    formData.append(&quot;objs&quot;, JSON.stringify(objs));\r\n\r\nWhich will give you what you want:\r\n\r\n - key: &quot;objs&quot;, value: &quot;[{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}, {&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}];&quot;\r\n\r\nSpring will then know that this is a List of &quot;OBJ&quot; when it is mapping the data in the params to the expected object.\r\n\r\nAdditionally, you are using **multipart/form-data** for *enctype*, which is intended for file-based requests (like a file upload). This should be &quot;application/json&quot; instead.","title":"How to add list of objects when sending formData to a spring server with ajax","body":"<p>Your request on your Spring backend is expecting a List of &quot;OBJ&quot;. Instead, you are giving multiple &quot;OBJ&quot; objects separately which would construct this:</p>\n<ul>\n<li>key: &quot;objs[0]&quot;, value: &quot;{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}</li>\n<li>key: &quot;objs[1]&quot;, value: &quot;{&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}</li>\n</ul>\n<p>Instead, you should be doing:</p>\n<pre><code>formData.append(&quot;objs&quot;, JSON.stringify(objs));\n</code></pre>\n<p>Which will give you what you want:</p>\n<ul>\n<li>key: &quot;objs&quot;, value: &quot;[{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}, {&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}];&quot;</li>\n</ul>\n<p>Spring will then know that this is a List of &quot;OBJ&quot; when it is mapping the data in the params to the expected object.</p>\n<p>Additionally, you are using <strong>multipart/form-data</strong> for <em>enctype</em>, which is intended for file-based requests (like a file upload). This should be &quot;application/json&quot; instead.</p>\n"}],"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694012120,"creation_date":1693941852,"question_id":77047244,"body_markdown":"The objs value is null in the code written as below. I tried various things, but as a result objs is null. How to add list of objects in FormData??\r\n\r\nWhen checking the payload on the Network tab, objs is as follows.\r\n```\r\nobj[0]: {&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}\r\nobj[1]: {&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}\r\n```\r\n\r\nAlso, the value of objs is as follows when i check from `HttpServletRequest request` and `request.getParameterMap()`.\r\n```\r\n[&quot;{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}&quot;, &quot;{&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}&quot;]\r\n```\r\n\r\n### javascript\r\n\r\n```\r\n$(&#39;#submit-button&#39;).click(\r\n      function () {\r\n        var objs = [{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}, {&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}];\r\n      \r\n        var formData = new FormData();\r\n        formData.append(&quot;title&quot;, $(&#39;#title&#39;).val());\r\n        formData.append(&quot;summary&quot;, $(&#39;#summary&#39;).val());\r\n        formData.append(&quot;content&quot;, $(&#39;#content&#39;).val());\r\n        for (var i=0; i &lt; objs.length; i++) {\r\n          formData.append(&quot;objs[&quot; + i + &quot;]&quot;, JSON.stringify(objs[i])); //this is not working\r\n          //formData.append(&quot;objs&quot;, objs[i]); //this is not working\r\n          //formData.append(&quot;objs[&quot; + i + &quot;].name&quot;, objs[i].name); //this is not working\r\n        }\r\n\r\n        $.ajax({\r\n          url: &quot;/example&quot;,\r\n          type: &quot;POST&quot;,\r\n          data: formData,\r\n          enctype: &quot;multipart/form-data&quot;,\r\n          contentType: false,\r\n          processData: false\r\n        });\r\n      }\r\n    )\r\n```\r\n\r\n### DTO in java spring\r\n\r\n```\r\npublic record ExampleRequest(\r\n        @NotBlank\r\n        String title,\r\n        @NotBlank\r\n        String summary,\r\n        @NotBlank\r\n        String content,\r\n        @NotNull\r\n        List&lt;OBJ&gt; objs,\r\n){}\r\n```\r\n\r\n```\r\npublic record OBJ(\r\n    String name,\r\n    Integer age\r\n) {}\r\n```\r\n\r\n### Controller\r\n```\r\n    @PostMapping(&quot;/example&quot;)\r\n    public String example(\r\n            @Validated @ModelAttribute ExampleRequest exampleRequest, //request.objs is null...\r\n            BindingResult bindingResult\r\n    ) {}\r\n```\r\n\r\nI want `var objs = [{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}, {&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}];` in javascript to be `List&lt;OBJ&gt;` in spring. Help me...\r\n","title":"How to add list of objects when sending formData to a spring server with ajax","body":"<p>The objs value is null in the code written as below. I tried various things, but as a result objs is null. How to add list of objects in FormData??</p>\n<p>When checking the payload on the Network tab, objs is as follows.</p>\n<pre><code>obj[0]: {&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}\nobj[1]: {&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}\n</code></pre>\n<p>Also, the value of objs is as follows when i check from <code>HttpServletRequest request</code> and <code>request.getParameterMap()</code>.</p>\n<pre><code>[&quot;{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}&quot;, &quot;{&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}&quot;]\n</code></pre>\n<h3>javascript</h3>\n<pre><code>$('#submit-button').click(\n      function () {\n        var objs = [{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}, {&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}];\n      \n        var formData = new FormData();\n        formData.append(&quot;title&quot;, $('#title').val());\n        formData.append(&quot;summary&quot;, $('#summary').val());\n        formData.append(&quot;content&quot;, $('#content').val());\n        for (var i=0; i &lt; objs.length; i++) {\n          formData.append(&quot;objs[&quot; + i + &quot;]&quot;, JSON.stringify(objs[i])); //this is not working\n          //formData.append(&quot;objs&quot;, objs[i]); //this is not working\n          //formData.append(&quot;objs[&quot; + i + &quot;].name&quot;, objs[i].name); //this is not working\n        }\n\n        $.ajax({\n          url: &quot;/example&quot;,\n          type: &quot;POST&quot;,\n          data: formData,\n          enctype: &quot;multipart/form-data&quot;,\n          contentType: false,\n          processData: false\n        });\n      }\n    )\n</code></pre>\n<h3>DTO in java spring</h3>\n<pre><code>public record ExampleRequest(\n        @NotBlank\n        String title,\n        @NotBlank\n        String summary,\n        @NotBlank\n        String content,\n        @NotNull\n        List&lt;OBJ&gt; objs,\n){}\n</code></pre>\n<pre><code>public record OBJ(\n    String name,\n    Integer age\n) {}\n</code></pre>\n<h3>Controller</h3>\n<pre><code>    @PostMapping(&quot;/example&quot;)\n    public String example(\n            @Validated @ModelAttribute ExampleRequest exampleRequest, //request.objs is null...\n            BindingResult bindingResult\n    ) {}\n</code></pre>\n<p>I want <code>var objs = [{&quot;name&quot;:&quot;n1&quot;, &quot;age&quot;:10}, {&quot;name&quot;:&quot;n2&quot;, &quot;age&quot;:20}];</code> in javascript to be <code>List&lt;OBJ&gt;</code> in spring. Help me...</p>\n"},{"tags":["java","pdf"],"answers":[{"tags":[],"owner":{"account_id":96438,"reputation":2390,"user_id":262114,"accept_rate":69,"display_name":"HamoriZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289314452,"creation_date":1289314452,"answer_id":4135048,"question_id":4134949,"body_markdown":"If you generates the PDF with FOP, then you can use \r\nhttp://xmlgraphics.apache.org/fop/\r\n\r\nYou can count the pages with the help of fop tags.\r\n\r\nIf it is just a simple pdf file from an external source, then you should check iText API.\r\n\r\n\r\n","title":"Determine the number of pages in a PDF file","body":"<p>If you generates the PDF with FOP, then you can use \n<a href=\"http://xmlgraphics.apache.org/fop/\" rel=\"nofollow\">http://xmlgraphics.apache.org/fop/</a></p>\n\n<p>You can count the pages with the help of fop tags.</p>\n\n<p>If it is just a simple pdf file from an external source, then you should check iText API.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1349254606,"creation_date":1289314507,"answer_id":4135057,"question_id":4134949,"body_markdown":"You should be able to do this with &lt;a href=&quot;http://itextpdf.com&quot;&gt;iText&lt;/a&gt;. See &lt;a href=&quot;http://itext-general.2136553.n4.nabble.com/find-the-number-of-pages-of-a-pdf-file-td2165768.html&quot;&gt;this thread&lt;/a&gt; for how to solve the problem&lt;/a&gt;. &lt;a href=&quot;http://itextpdf.com/book/chapter.php?id=2&quot;&gt;Here&lt;/a&gt; is chapter 2, which is incorrectly linked in the thread&lt;/a&gt;:\r\n\r\n\r\n    PdfReader reader = new PdfReader(&quot;SimpleRegistrationForm.pdf&quot;);\r\n    int pages = reader.getNumberOfPages();\r\n","title":"Determine the number of pages in a PDF file","body":"<p>You should be able to do this with <a href=\"http://itextpdf.com\" rel=\"noreferrer\">iText</a>. See <a href=\"http://itext-general.2136553.n4.nabble.com/find-the-number-of-pages-of-a-pdf-file-td2165768.html\" rel=\"noreferrer\">this thread</a> for how to solve the problem. <a href=\"http://itextpdf.com/book/chapter.php?id=2\" rel=\"noreferrer\">Here</a> is chapter 2, which is incorrectly linked in the thread:</p>\n\n<pre><code>PdfReader reader = new PdfReader(\"SimpleRegistrationForm.pdf\");\nint pages = reader.getNumberOfPages();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":1,"up_vote_count":87,"is_accepted":true,"score":86,"last_activity_date":1482764439,"creation_date":1289314530,"answer_id":4135059,"question_id":4134949,"body_markdown":"You can use [Apache PDFBox][2] to load a PDF document and then call the [`getNumberOfPages`][1] method to return the page count.\r\n\r\n    PDDocument doc = PDDocument.load(new File(&quot;file.pdf&quot;));\r\n    int count = doc.getNumberOfPages();\r\n\r\n\r\n[1]: http://pdfbox.apache.org/docs/2.0.3/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#getNumberOfPages()\r\n[2]: http://pdfbox.apache.org/index.html","title":"Determine the number of pages in a PDF file","body":"<p>You can use <a href=\"http://pdfbox.apache.org/index.html\" rel=\"noreferrer\">Apache PDFBox</a> to load a PDF document and then call the <a href=\"http://pdfbox.apache.org/docs/2.0.3/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#getNumberOfPages()\" rel=\"noreferrer\"><code>getNumberOfPages</code></a> method to return the page count.</p>\n\n<pre><code>PDDocument doc = PDDocument.load(new File(\"file.pdf\"));\nint count = doc.getNumberOfPages();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4903002,"reputation":1493,"user_id":3950587,"accept_rate":100,"display_name":"Shailesh Vikram Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544507929,"creation_date":1544505951,"answer_id":53717864,"question_id":4134949,"body_markdown":"If you want to get more information about PDF, please use below code. If document does not contain any of the information, it returns null.\r\nThis is pdfbox library of apache.\r\n\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDDocumentInformation;\r\n    \r\n    public class DocumentService {\r\n    \r\n        public void showDocumentInfo(){\r\n    \t\tPDDocument document= PDDocument.load(new File(&quot;file.pdf&quot;));\r\n    \t\tPDDocumentInformation info = document.getDocumentInformation();\r\n    \t\tSystem.out.println( &quot;Page Count=&quot; + document.getNumberOfPages() );\r\n    \t\tSystem.out.println( &quot;Title=&quot; + info.getTitle() );\r\n    \t\tSystem.out.println( &quot;Author=&quot; + info.getAuthor() );\r\n    \t\tSystem.out.println( &quot;Subject=&quot; + info.getSubject() );\r\n    \t\tSystem.out.println( &quot;Keywords=&quot; + info.getKeywords() );\r\n    \t\tSystem.out.println( &quot;Creator=&quot; + info.getCreator() );\r\n    \t\tSystem.out.println( &quot;Producer=&quot; + info.getProducer() );\r\n    \t\tSystem.out.println( &quot;Creation Date=&quot; + info.getCreationDate() );\r\n    \t\tSystem.out.println( &quot;Modification Date=&quot; + info.getModificationDate());\r\n    \t\tSystem.out.println( &quot;Trapped=&quot; + info.getTrapped() ); \r\n        }\r\n    }\r\n\r\n","title":"Determine the number of pages in a PDF file","body":"<p>If you want to get more information about PDF, please use below code. If document does not contain any of the information, it returns null.\nThis is pdfbox library of apache.</p>\n\n<pre><code>import org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDDocumentInformation;\n\npublic class DocumentService {\n\n    public void showDocumentInfo(){\n        PDDocument document= PDDocument.load(new File(\"file.pdf\"));\n        PDDocumentInformation info = document.getDocumentInformation();\n        System.out.println( \"Page Count=\" + document.getNumberOfPages() );\n        System.out.println( \"Title=\" + info.getTitle() );\n        System.out.println( \"Author=\" + info.getAuthor() );\n        System.out.println( \"Subject=\" + info.getSubject() );\n        System.out.println( \"Keywords=\" + info.getKeywords() );\n        System.out.println( \"Creator=\" + info.getCreator() );\n        System.out.println( \"Producer=\" + info.getProducer() );\n        System.out.println( \"Creation Date=\" + info.getCreationDate() );\n        System.out.println( \"Modification Date=\" + info.getModificationDate());\n        System.out.println( \"Trapped=\" + info.getTrapped() ); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22413426,"reputation":11,"user_id":16621843,"display_name":"Anubhav Rawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628498771,"creation_date":1628483363,"answer_id":68706874,"question_id":4134949,"body_markdown":"    int totalPages = 0;\r\n    using (var pdfStream = file.OpenReadStream())\r\n    {\r\n         PdfReader reader = new PdfReader(pdfStream);\r\n         totalPages = reader.NumberOfPages;\r\n    }","title":"Determine the number of pages in a PDF file","body":"<pre><code>int totalPages = 0;\nusing (var pdfStream = file.OpenReadStream())\n{\n     PdfReader reader = new PdfReader(pdfStream);\n     totalPages = reader.NumberOfPages;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13770490,"reputation":107,"user_id":9938083,"display_name":"Sudhir Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694011563,"creation_date":1694011563,"answer_id":77053029,"question_id":4134949,"body_markdown":"I have found a solution over google . Please find the solution bellow.\r\n\r\n1.Either download the artifact &quot;spire.pdf&quot; or use the bellow dependency and repo into your pom.xml ,\r\n \r\n \r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;com.e-iceblue&lt;/id&gt;\r\n            &lt;name&gt;e-iceblue&lt;/name&gt;\r\n            &lt;url&gt;https://repo.e-iceblue.com/nexus/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n     &lt;/repositories&gt;\r\n    \r\n      &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;e-iceblue&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spire.pdf&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;9.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nuse this link to find latest maven dependency.\r\n[enter link description here][1]\r\n\r\n2. Use java code as bellow ,\r\n\r\n \r\n\r\n       PdfDocument pdf = new PdfDocument(Balance_Sheet_Blank-1.pdf&quot;);\r\n        int numberOfPages=pdf.getPages().getCount();\r\n\r\nHere numberOfPages is the total no of pdf page count .\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/e-iceblue/spire.pdf?repo=e-iceblue-maven-public","title":"Determine the number of pages in a PDF file","body":"<p>I have found a solution over google . Please find the solution bellow.</p>\n<p>1.Either download the artifact &quot;spire.pdf&quot; or use the bellow dependency and repo into your pom.xml ,</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;com.e-iceblue&lt;/id&gt;\n        &lt;name&gt;e-iceblue&lt;/name&gt;\n        &lt;url&gt;https://repo.e-iceblue.com/nexus/content/groups/public/&lt;/url&gt;\n    &lt;/repository&gt;\n &lt;/repositories&gt;\n\n  &lt;dependency&gt;\n        &lt;groupId&gt;e-iceblue&lt;/groupId&gt;\n        &lt;artifactId&gt;spire.pdf&lt;/artifactId&gt;\n        &lt;version&gt;9.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>use this link to find latest maven dependency.\n<a href=\"https://mvnrepository.com/artifact/e-iceblue/spire.pdf?repo=e-iceblue-maven-public\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n<ol start=\"2\">\n<li><p>Use java code as bellow ,</p>\n<pre><code>PdfDocument pdf = new PdfDocument(Balance_Sheet_Blank-1.pdf&quot;);\n int numberOfPages=pdf.getPages().getCount();\n</code></pre>\n</li>\n</ol>\n<p>Here numberOfPages is the total no of pdf page count .</p>\n"}],"owner":{"account_id":25928,"reputation":40525,"user_id":67063,"accept_rate":98,"display_name":"Tony the Pony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59202,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":4135059,"answer_count":6,"score":46,"last_activity_date":1694011563,"creation_date":1289313941,"question_id":4134949,"body_markdown":"How can I determine the number of pages in a given PDF file, using a free/open source Java API?","title":"Determine the number of pages in a PDF file","body":"<p>How can I determine the number of pages in a given PDF file, using a free/open source Java API?</p>\n"},{"tags":["java","jakarta-ee","dependency-injection","cdi"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":4,"creation_date":1503846446,"post_id":45906368,"comment_id":78771090,"body_markdown":"What is stopping you from simply trying it?","body":"What is stopping you from simply trying it?"},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1503846484,"post_id":45906368,"comment_id":78771105,"body_markdown":"@luk2302 I want to get canonical answer. I searched but couldn&#39;t find.","body":"@luk2302 I want to get canonical answer. I searched but couldn&#39;t find."}],"answers":[{"tags":[],"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1503857974,"creation_date":1503857974,"answer_id":45907999,"question_id":45906368,"body_markdown":"[`@PostConstruct`](http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#fields_initializer_methods) is the *last* thing to get executed in the initialization of a given managed bean, relative to its position in the inheritance chain. From the spec\r\n\r\n&gt; The container must ensure that:\r\n&gt;\r\n- Initializer methods (i.e. `@PostConstruct`) declared by a class X in the type hierarchy of the bean are called after all injected fields declared by X or by superclasses of X have been initialized.\r\n&gt;\r\n- Any `@PostConstruct` callback declared by a class X in the type hierarchy of the bean is **called after all initializer methods declared by X or by superclasses of X have been called**, after all injected fields declared by X or by superclasses of X have been initialized.\r\n\r\n**Pro Tip:** With CDI 2.0, [you can use `@Inject` to declare an initializer method](http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#initializer_methods) as an alternative `@PostConstruct` and the restriction that you can have only one in a given class. The difference here is that `@PostConstruct` is *still* executed last and is the only place you can be guaranteed that all injected components will be available.","title":"Order of @PostConstruct and inheritance","body":"<p><a href=\"http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#fields_initializer_methods\" rel=\"noreferrer\"><code>@PostConstruct</code></a> is the <em>last</em> thing to get executed in the initialization of a given managed bean, relative to its position in the inheritance chain. From the spec</p>\n\n<blockquote>\n  <p>The container must ensure that:</p>\n  \n  <ul>\n  <li><p>Initializer methods (i.e. <code>@PostConstruct</code>) declared by a class X in the type hierarchy of the bean are called after all injected fields declared by X or by superclasses of X have been initialized.</p></li>\n  <li><p>Any <code>@PostConstruct</code> callback declared by a class X in the type hierarchy of the bean is <strong>called after all initializer methods declared by X or by superclasses of X have been called</strong>, after all injected fields declared by X or by superclasses of X have been initialized.</p></li>\n  </ul>\n</blockquote>\n\n<p><strong>Pro Tip:</strong> With CDI 2.0, <a href=\"http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#initializer_methods\" rel=\"noreferrer\">you can use <code>@Inject</code> to declare an initializer method</a> as an alternative <code>@PostConstruct</code> and the restriction that you can have only one in a given class. The difference here is that <code>@PostConstruct</code> is <em>still</em> executed last and is the only place you can be guaranteed that all injected components will be available.</p>\n"},{"tags":[],"owner":{"account_id":5697191,"reputation":33,"user_id":4503351,"display_name":"Martin Večeřa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620589817,"creation_date":1620589817,"answer_id":67461797,"question_id":45906368,"body_markdown":"I believe that `@PostConstruct` on the parent class is not called. There can be only one `@PostConstruct` method. So the methods of the parent class are not inspected. You need to explicitly call it by `super.doIt()`","title":"Order of @PostConstruct and inheritance","body":"<p>I believe that <code>@PostConstruct</code> on the parent class is not called. There can be only one <code>@PostConstruct</code> method. So the methods of the parent class are not inspected. You need to explicitly call it by <code>super.doIt()</code></p>\n"},{"tags":[],"owner":{"account_id":27601793,"reputation":121,"user_id":21134303,"display_name":"Fhuvi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694011394,"creation_date":1694011394,"answer_id":77053004,"question_id":45906368,"body_markdown":"I did some tests and got a different behavior than what was expected after reading the 2 existing answers.\r\n\r\nIn your case, **ONLY** `Foo.doIt()` will be called via the `@PostConstruct`, but it is because of the overriding, not the annotation.\r\n\r\nIf you give different names to the methods of the parent and the child classes (so that there is no method overriding), then **BOTH** methods will be called via the `@PostConstruct` annotation, and the order will be : method from parent class first, and method from child class after.\r\n\r\n(note: i was using Java 8 for this test, but maybe this could depend on the version ?)","title":"Order of @PostConstruct and inheritance","body":"<p>I did some tests and got a different behavior than what was expected after reading the 2 existing answers.</p>\n<p>In your case, <strong>ONLY</strong> <code>Foo.doIt()</code> will be called via the <code>@PostConstruct</code>, but it is because of the overriding, not the annotation.</p>\n<p>If you give different names to the methods of the parent and the child classes (so that there is no method overriding), then <strong>BOTH</strong> methods will be called via the <code>@PostConstruct</code> annotation, and the order will be : method from parent class first, and method from child class after.</p>\n<p>(note: i was using Java 8 for this test, but maybe this could depend on the version ?)</p>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5487,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":45907999,"answer_count":3,"score":7,"last_activity_date":1694011394,"creation_date":1503846332,"question_id":45906368,"body_markdown":"Let&#39;s suppose we have the following classes\r\n\r\n    public abstract class AbstractFoo {\r\n    \r\n        @PostConstruct\r\n        private void doIt() {\r\n           //\r\n        }\r\n    }\r\n    \r\n    public class Foo extends AbstractFoo {\r\n    \r\n        @PostConstruct\r\n        private void doIt() {\r\n           //\r\n        }\r\n    }\r\nWhen AbstractFoo.doIt() and Foo.doIt() will be called - what is the order?","title":"Order of @PostConstruct and inheritance","body":"<p>Let's suppose we have the following classes</p>\n\n<pre><code>public abstract class AbstractFoo {\n\n    @PostConstruct\n    private void doIt() {\n       //\n    }\n}\n\npublic class Foo extends AbstractFoo {\n\n    @PostConstruct\n    private void doIt() {\n       //\n    }\n}\n</code></pre>\n\n<p>When AbstractFoo.doIt() and Foo.doIt() will be called - what is the order?</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":3282070,"reputation":3827,"user_id":2762432,"accept_rate":69,"display_name":"steven35"},"score":3,"creation_date":1632223456,"post_id":69267710,"comment_id":122429214,"body_markdown":"That was it. My default locale is `en_GB`. Not sure if this change in behaviour is intentional (it probably is) but it&#39;s very inconvenient.","body":"That was it. My default locale is <code>en_GB</code>. Not sure if this change in behaviour is intentional (it probably is) but it&#39;s very inconvenient."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1632244961,"post_id":69267710,"comment_id":122438466,"body_markdown":"This is why you should use [standardized date formats](https://en.wikipedia.org/wiki/ISO_8601) rather than localiser strings when exchanging date-time values textually.","body":"This is why you should use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">standardized date formats</a> rather than localiser strings when exchanging date-time values textually."},{"owner":{"account_id":3282070,"reputation":3827,"user_id":2762432,"accept_rate":69,"display_name":"steven35"},"score":1,"creation_date":1636542164,"post_id":69267710,"comment_id":123582935,"body_markdown":"@BasilBourque I&#39;m parsing this from some HTML so obviously it&#39;s not my choice.","body":"@BasilBourque I&#39;m parsing this from some HTML so obviously it&#39;s not my choice."},{"owner":{"account_id":39564,"reputation":10494,"user_id":114196,"accept_rate":80,"display_name":"Niels Basjes"},"score":0,"creation_date":1643795302,"post_id":69267710,"comment_id":125431571,"body_markdown":"Related question: https://stackoverflow.com/questions/70928852/customize-a-locale-in-java/","body":"Related question: <a href=\"https://stackoverflow.com/questions/70928852/customize-a-locale-in-java/\" title=\"customize a locale in java\">stackoverflow.com/questions/70928852/customize-a-locale-in-j&zwnj;&#8203;ava</a>"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1632244552,"creation_date":1632224456,"answer_id":69268271,"question_id":69267710,"body_markdown":"It seems to be that in the en_GB locale, the short form of September is now &quot;Sept&quot;, not &quot;Sep&quot;. All the other months are the same 3 letters abbreviations as in en_US. Kind of makes sense. As a Brit, &quot;Sep&quot; looks wrong to me.\r\n\r\nThis is the ticket: https://bugs.openjdk.java.net/browse/JDK-8251317\r\n\r\nIt wasn&#39;t a conscious decision by the JDK authors. The locale data used by default in Java comes from [*Common Locale Data Repository (CLDR)*](https://en.wikipedia.org/wiki/Common_Locale_Data_Repository), which is a project by the [Unicode Consortium](https://en.wikipedia.org/wiki/Unicode_Consortium). Newer versions of Java come with newer versions of the CLDR. So you may occasionally see a change in locale behavior. So the change you encountered is a feature, not a bug. \r\n\r\nYours is just one of many small tweaks.\r\n\r\nHere&#39;s the specific change in the PR which broke it for you: \r\nhttps://github.com/openjdk/jdk/pull/1279/files#diff-97210acd6f77c4f4979c43445d60ba1c369f058230e41177dceca697800b1fa2R116 \r\n","title":"September&#39;s short form &quot;Sep&quot; no longer parses in Java 17 in en_GB locale","body":"<p>It seems to be that in the en_GB locale, the short form of September is now &quot;Sept&quot;, not &quot;Sep&quot;. All the other months are the same 3 letters abbreviations as in en_US. Kind of makes sense. As a Brit, &quot;Sep&quot; looks wrong to me.</p>\n<p>This is the ticket: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8251317\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8251317</a></p>\n<p>It wasn't a conscious decision by the JDK authors. The locale data used by default in Java comes from <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"noreferrer\"><em>Common Locale Data Repository (CLDR)</em></a>, which is a project by the <a href=\"https://en.wikipedia.org/wiki/Unicode_Consortium\" rel=\"noreferrer\">Unicode Consortium</a>. Newer versions of Java come with newer versions of the CLDR. So you may occasionally see a change in locale behavior. So the change you encountered is a feature, not a bug.</p>\n<p>Yours is just one of many small tweaks.</p>\n<p>Here's the specific change in the PR which broke it for you:\n<a href=\"https://github.com/openjdk/jdk/pull/1279/files#diff-97210acd6f77c4f4979c43445d60ba1c369f058230e41177dceca697800b1fa2R116\" rel=\"noreferrer\">https://github.com/openjdk/jdk/pull/1279/files#diff-97210acd6f77c4f4979c43445d60ba1c369f058230e41177dceca697800b1fa2R116</a></p>\n"},{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1659716800,"creation_date":1659716800,"answer_id":73252782,"question_id":69267710,"body_markdown":"Aside from the arguments of whether parsing text (from external legacy sources) for date/times is a good thing, or whether standards should be allowed to evolve versus backward compatibility...\r\n\r\na practical fix is to switch `Locale.UK` to `Locale.US`, for parsing `Sep 29, 1988` or `30-Sep-2020` etc.","title":"September&#39;s short form &quot;Sep&quot; no longer parses in Java 17 in en_GB locale","body":"<p>Aside from the arguments of whether parsing text (from external legacy sources) for date/times is a good thing, or whether standards should be allowed to evolve versus backward compatibility...</p>\n<p>a practical fix is to switch <code>Locale.UK</code> to <code>Locale.US</code>, for parsing <code>Sep 29, 1988</code> or <code>30-Sep-2020</code> etc.</p>\n"},{"tags":[],"owner":{"account_id":29380069,"reputation":1,"user_id":22510776,"display_name":"Kapil Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694010726,"creation_date":1694010324,"answer_id":77052861,"question_id":69267710,"body_markdown":"There are other potential cases where you will face issues issues due to this\r\nlike communicating between 2 versions of Java.\r\n\r\nIf your Java 17 Application is serializing an entity which has a Date field, and if your default locale is set to UK, the serialized data field in Pojo will be &quot;DD Sept YYYY&quot;.\r\n\r\nWhen this POJO is transferred over wire for consumption by another application build on lower version of Java, it will throw a java.text.ParseException exception.\r\n\r\nBefore publishing any data - Message or API request, you need to explicitly use a locale which does not convert your date fields to &quot;Sept&quot;","title":"September&#39;s short form &quot;Sep&quot; no longer parses in Java 17 in en_GB locale","body":"<p>There are other potential cases where you will face issues issues due to this\nlike communicating between 2 versions of Java.</p>\n<p>If your Java 17 Application is serializing an entity which has a Date field, and if your default locale is set to UK, the serialized data field in Pojo will be &quot;DD Sept YYYY&quot;.</p>\n<p>When this POJO is transferred over wire for consumption by another application build on lower version of Java, it will throw a java.text.ParseException exception.</p>\n<p>Before publishing any data - Message or API request, you need to explicitly use a locale which does not convert your date fields to &quot;Sept&quot;</p>\n"}],"owner":{"account_id":3282070,"reputation":3827,"user_id":2762432,"accept_rate":69,"display_name":"steven35"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6197,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":69268271,"answer_count":3,"score":26,"last_activity_date":1694010726,"creation_date":1632221891,"question_id":69267710,"body_markdown":"This works with Java 11 but does not work with Java 17\r\n\r\n    DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyy&quot;)\r\n        .withLocale(Locale.UK);\r\n    format.parse(&quot;Sep 29, 1988&quot;);\r\n\r\nJava 17 stacktrace:\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;Sep 29, 1988&#39; could not be parsed at index 0\r\n\tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1880)\r\n\r\nMy Java version:\r\n\r\n    openjdk version &quot;17&quot; 2021-09-14 LTS\r\n    OpenJDK Runtime Environment Zulu17.28+13-CA (build 17+35-LTS)\r\n    OpenJDK 64-Bit Server VM Zulu17.28+13-CA (build 17+35-LTS, mixed mode, sharing)\r\n\r\nWhat has changed?","title":"September&#39;s short form &quot;Sep&quot; no longer parses in Java 17 in en_GB locale","body":"<p>This works with Java 11 but does not work with Java 17</p>\n<pre><code>DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyy&quot;)\n    .withLocale(Locale.UK);\nformat.parse(&quot;Sep 29, 1988&quot;);\n</code></pre>\n<p>Java 17 stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text 'Sep 29, 1988' could not be parsed at index 0\nat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\nat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1880)\n</code></pre>\n<p>My Java version:</p>\n<pre><code>openjdk version &quot;17&quot; 2021-09-14 LTS\nOpenJDK Runtime Environment Zulu17.28+13-CA (build 17+35-LTS)\nOpenJDK 64-Bit Server VM Zulu17.28+13-CA (build 17+35-LTS, mixed mode, sharing)\n</code></pre>\n<p>What has changed?</p>\n"},{"tags":["java","postgresql","kotlin","spring-data-jpa","type-conversion"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694000831,"post_id":77051101,"comment_id":135833051,"body_markdown":"*... which is BIGINT type in database* It shouldn&#39;t be. That makes no sense, since phone numbers are not numbers. They are strings","body":"<i>... which is BIGINT type in database</i> It shouldn&#39;t be. That makes no sense, since phone numbers are not numbers. They are strings"}],"answers":[{"tags":[],"owner":{"account_id":16368999,"reputation":796,"user_id":11822687,"display_name":"Amjad Shahzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693996797,"creation_date":1693996797,"answer_id":77051139,"question_id":77051101,"body_markdown":"To map a PostgreSQL BIGINT column to a Kotlin String field in Spring Data without changing types, you can use a custom attribute converter. Attribute converters are used to convert database column types to Java/Kotlin types and vice versa.\r\n\r\nHere&#39;s how you can create a custom attribute converter for your case:\r\n\r\n1. Create a Kotlin class for your custom attribute converter. This class should implement the `javax.persistence.AttributeConverter` interface. In your case, you want to convert between `Long` (BIGINT in Kotlin) and `String`. Here&#39;s an example:\r\n\r\n```kotlin\r\nimport javax.persistence.AttributeConverter\r\nimport javax.persistence.Converter\r\n\r\n@Converter(autoApply = true)\r\nclass BigIntToStringConverter : AttributeConverter&lt;Long, String&gt; {\r\n\r\n    override fun convertToDatabaseColumn(attribute: Long?): String? {\r\n        return attribute?.toString()\r\n    }\r\n\r\n    override fun convertToEntityAttribute(dbData: String?): Long? {\r\n        return dbData?.toLong()\r\n    }\r\n}\r\n```\r\n\r\n2. Annotate the `BigIntToStringConverter` class with `@Converter` and `autoApply = true`. This tells JPA to automatically apply this converter to all attributes of type `Long` that are mapped to `String` in your entities.\r\n\r\n3. In your entity class, annotate the `phone` field with `@Column` to specify the column name if it&#39;s different from the attribute name. Here&#39;s an example:\r\n\r\n```kotlin\r\nimport javax.persistence.Column\r\nimport javax.persistence.Entity\r\nimport javax.persistence.Id\r\nimport javax.persistence.Table\r\n\r\n@Entity\r\n@Table(name = &quot;your_table_name&quot;)\r\ndata class YourEntity(\r\n    @Id\r\n    val id: Long,\r\n\r\n    @Column(name = &quot;phone&quot;)\r\n    val phone: String\r\n)\r\n```\r\n\r\nWith this setup, Spring Data should be able to handle the conversion between BIGINT and String automatically when you retrieve data from the database.\r\n\r\nMake sure to replace `your_table_name` with the actual name of your table and adapt the entity class to match your specific database schema.","title":"How to write bigint value from Postgres to String kotlin field?","body":"<p>To map a PostgreSQL BIGINT column to a Kotlin String field in Spring Data without changing types, you can use a custom attribute converter. Attribute converters are used to convert database column types to Java/Kotlin types and vice versa.</p>\n<p>Here's how you can create a custom attribute converter for your case:</p>\n<ol>\n<li>Create a Kotlin class for your custom attribute converter. This class should implement the <code>javax.persistence.AttributeConverter</code> interface. In your case, you want to convert between <code>Long</code> (BIGINT in Kotlin) and <code>String</code>. Here's an example:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import javax.persistence.AttributeConverter\nimport javax.persistence.Converter\n\n@Converter(autoApply = true)\nclass BigIntToStringConverter : AttributeConverter&lt;Long, String&gt; {\n\n    override fun convertToDatabaseColumn(attribute: Long?): String? {\n        return attribute?.toString()\n    }\n\n    override fun convertToEntityAttribute(dbData: String?): Long? {\n        return dbData?.toLong()\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Annotate the <code>BigIntToStringConverter</code> class with <code>@Converter</code> and <code>autoApply = true</code>. This tells JPA to automatically apply this converter to all attributes of type <code>Long</code> that are mapped to <code>String</code> in your entities.</p>\n</li>\n<li><p>In your entity class, annotate the <code>phone</code> field with <code>@Column</code> to specify the column name if it's different from the attribute name. Here's an example:</p>\n</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import javax.persistence.Column\nimport javax.persistence.Entity\nimport javax.persistence.Id\nimport javax.persistence.Table\n\n@Entity\n@Table(name = &quot;your_table_name&quot;)\ndata class YourEntity(\n    @Id\n    val id: Long,\n\n    @Column(name = &quot;phone&quot;)\n    val phone: String\n)\n</code></pre>\n<p>With this setup, Spring Data should be able to handle the conversion between BIGINT and String automatically when you retrieve data from the database.</p>\n<p>Make sure to replace <code>your_table_name</code> with the actual name of your table and adapt the entity class to match your specific database schema.</p>\n"}],"owner":{"account_id":29378475,"reputation":11,"user_id":22509514,"display_name":"Алексей Тавадян"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694010704,"creation_date":1693996459,"question_id":77051101,"body_markdown":"I&#39;m using kotlin with spring data. I have a table with column &quot;phone&quot; which is **BIGINT** type in database, but in my @Table class this field has **String** type (`val phone: String`). \r\nSo when I try to get some records from DB using spring data repository, I get `PostgresqlBadGrammarException: operator does not exist: bigint = character varying`. \r\nHow can I fix it without changing types? I believe there must be some annotation converters or something.  \r\n\r\nI&#39;ve tried to create custom query in spring data repository and cast selection result to varchar - &quot;`SELECT phone::varchar from table...`&quot; but it does not work.\r\n\r\n**UPD**\r\nI managed to configure custom converter: \r\n\r\n    @Configuration\r\n    @EnableR2dbcRepositories\r\n    class R2dbcConfiguration {\r\n        @Bean\r\n        fun r2dbcCustomConversions(\r\n            stringToBigIntConverter: StringToBigIntConverter,\r\n            bigIntToStringConverter: BigIntToStringConverter\r\n        ): R2dbcCustomConversions {\r\n            return R2dbcCustomConversions(listOf(stringToBigIntConverter, bigIntToStringConverter))\r\n        }\r\n    }\r\nCustom converters: \r\n\r\n    @Component\r\n    @WritingConverter\r\n    class BigIntToStringConverter: Converter&lt;Long, String&gt; {\r\n        override fun convert(source: Long): String {\r\n            return source.toString()\r\n        }\r\n\r\n    @Component\r\n    @WritingConverter\r\n    class StringToBigIntConverter: Converter&lt;String, Long&gt; {\r\n        override fun convert(source: String): Long {\r\n            return source.toLong()\r\n        }\r\n    }\r\n\r\nBut now it tries to convert every String field to BIGINT and vice versa. How can I apply converter only for specific field in specific entity?","title":"How to write bigint value from Postgres to String kotlin field?","body":"<p>I'm using kotlin with spring data. I have a table with column &quot;phone&quot; which is <strong>BIGINT</strong> type in database, but in my @Table class this field has <strong>String</strong> type (<code>val phone: String</code>).\nSo when I try to get some records from DB using spring data repository, I get <code>PostgresqlBadGrammarException: operator does not exist: bigint = character varying</code>.\nHow can I fix it without changing types? I believe there must be some annotation converters or something.</p>\n<p>I've tried to create custom query in spring data repository and cast selection result to varchar - &quot;<code>SELECT phone::varchar from table...</code>&quot; but it does not work.</p>\n<p><strong>UPD</strong>\nI managed to configure custom converter:</p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories\nclass R2dbcConfiguration {\n    @Bean\n    fun r2dbcCustomConversions(\n        stringToBigIntConverter: StringToBigIntConverter,\n        bigIntToStringConverter: BigIntToStringConverter\n    ): R2dbcCustomConversions {\n        return R2dbcCustomConversions(listOf(stringToBigIntConverter, bigIntToStringConverter))\n    }\n}\n</code></pre>\n<p>Custom converters:</p>\n<pre><code>@Component\n@WritingConverter\nclass BigIntToStringConverter: Converter&lt;Long, String&gt; {\n    override fun convert(source: Long): String {\n        return source.toString()\n    }\n\n@Component\n@WritingConverter\nclass StringToBigIntConverter: Converter&lt;String, Long&gt; {\n    override fun convert(source: String): Long {\n        return source.toLong()\n    }\n}\n</code></pre>\n<p>But now it tries to convert every String field to BIGINT and vice versa. How can I apply converter only for specific field in specific entity?</p>\n"},{"tags":["java","ssl","kubernetes-ingress","sni","ssl-handshake"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694010554,"creation_date":1694010554,"answer_id":77052893,"question_id":77052892,"body_markdown":"https://bugs.openjdk.org/browse/JDK-8220723 this was the root cause of the problem\r\n\r\nTo work it around we forced the TLS1.2 to work to avoid using TLS1.3 through\r\n\r\nadding \r\n\r\n    -Djdk.tls.client.protocols=TLSv1.2\r\n\r\nor\r\n\r\n    -Dhttps.protocols=TLSv1.2","title":"Why with apache-http-client at some point our Https calls are treated as calls without DNS name, but with IP address?","body":"<p><a href=\"https://bugs.openjdk.org/browse/JDK-8220723\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8220723</a> this was the root cause of the problem</p>\n<p>To work it around we forced the TLS1.2 to work to avoid using TLS1.3 through</p>\n<p>adding</p>\n<pre><code>-Djdk.tls.client.protocols=TLSv1.2\n</code></pre>\n<p>or</p>\n<pre><code>-Dhttps.protocols=TLSv1.2\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77052893,"answer_count":1,"score":1,"last_activity_date":1694010554,"creation_date":1694010554,"question_id":77052892,"body_markdown":"We have a problem with doing a handshake for the certificate like\r\n\r\n    javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;g.i.t.n.c.com&gt; doesn&#39;t match any of the subject alternative names: [*.t.n.c.com]\r\n\r\nOur ingress is configured to provide a certificate with alternative name `g.i.t.n.c.com` if we access it through DNS name and `*.t.n.c.com` if we access through the IP.\r\n\r\nBut in our code we just have a `Spring WS` client using `Apache Http Client` under the hood.\r\n\r\n    Caused by: javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;g.i.t.n.c.com&gt; doesn&#39;t match any of the subject alternative names: [*.t.n.c.com]\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:507)\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:437)\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n    \tat org.springframework.ws.transport.http.HttpComponentsConnection.onSendAfterWrite(HttpComponentsConnection.java:121)\r\n    \tat org.springframework.ws.transport.AbstractWebServiceConnection.send(AbstractWebServiceConnection.java:48)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.sendRequest(WebServiceTemplate.java:658)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:606)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555)\r\n\r\nAnd for unknown reason that started happening at some time, and at some time it was ok and `SslSocket` was established retrieving the right certificate (like it was accessing our `Ingress` via `DNS` hostname with `SNI` hostname data) and at some point (causing the above exception) the call for establishing connection was using IP without `DNS hostname` and no `SNI` data, and we got the broken certificate that appears only if our ingress is accessed without `DNS name` in `SNI`. \r\n\r\nTo get `SNI` details (`ClientHello` message) you may run Java app with \r\n\r\n    -Djavax.net.debug=ssl:handshake:verbose:keymanager:trustmanager\r\n\r\nAnd you will have extra loggin to `std.out` like\r\n\r\n    javax.net.ssl|DEBUG|02 14|XNIO-1 task-9|2023-09-04 12:48:06.626 MSK|Finished.java:860|Consuming server Finished handshake message (\r\n\r\nHow to force it to use only one way to connect, using the DNS name at any time? \r\n\r\nWe use Java 11.","title":"Why with apache-http-client at some point our Https calls are treated as calls without DNS name, but with IP address?","body":"<p>We have a problem with doing a handshake for the certificate like</p>\n<pre><code>javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;g.i.t.n.c.com&gt; doesn't match any of the subject alternative names: [*.t.n.c.com]\n</code></pre>\n<p>Our ingress is configured to provide a certificate with alternative name <code>g.i.t.n.c.com</code> if we access it through DNS name and <code>*.t.n.c.com</code> if we access through the IP.</p>\n<p>But in our code we just have a <code>Spring WS</code> client using <code>Apache Http Client</code> under the hood.</p>\n<pre><code>Caused by: javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;g.i.t.n.c.com&gt; doesn't match any of the subject alternative names: [*.t.n.c.com]\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:507)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:437)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at org.springframework.ws.transport.http.HttpComponentsConnection.onSendAfterWrite(HttpComponentsConnection.java:121)\n    at org.springframework.ws.transport.AbstractWebServiceConnection.send(AbstractWebServiceConnection.java:48)\n    at org.springframework.ws.client.core.WebServiceTemplate.sendRequest(WebServiceTemplate.java:658)\n    at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:606)\n    at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555)\n</code></pre>\n<p>And for unknown reason that started happening at some time, and at some time it was ok and <code>SslSocket</code> was established retrieving the right certificate (like it was accessing our <code>Ingress</code> via <code>DNS</code> hostname with <code>SNI</code> hostname data) and at some point (causing the above exception) the call for establishing connection was using IP without <code>DNS hostname</code> and no <code>SNI</code> data, and we got the broken certificate that appears only if our ingress is accessed without <code>DNS name</code> in <code>SNI</code>.</p>\n<p>To get <code>SNI</code> details (<code>ClientHello</code> message) you may run Java app with</p>\n<pre><code>-Djavax.net.debug=ssl:handshake:verbose:keymanager:trustmanager\n</code></pre>\n<p>And you will have extra loggin to <code>std.out</code> like</p>\n<pre><code>javax.net.ssl|DEBUG|02 14|XNIO-1 task-9|2023-09-04 12:48:06.626 MSK|Finished.java:860|Consuming server Finished handshake message (\n</code></pre>\n<p>How to force it to use only one way to connect, using the DNS name at any time?</p>\n<p>We use Java 11.</p>\n"},{"tags":["java","exception","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1622060112,"post_id":67711920,"comment_id":119684973,"body_markdown":"The stack trace is pretty clear. The problem is that you are loading an FXML file which specifies a controller class that doesn&#39;t have a no-argument constructor. If you want to instantiate a controller class directly (in code) and have it load the FXML, use the [Custom Component Pattern](https://openjfx.io/javadoc/15/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#custom_components)","body":"The stack trace is pretty clear. The problem is that you are loading an FXML file which specifies a controller class that doesn&#39;t have a no-argument constructor. If you want to instantiate a controller class directly (in code) and have it load the FXML, use the <a href=\"https://openjfx.io/javadoc/15/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#custom_components\" rel=\"nofollow noreferrer\">Custom Component Pattern</a>"},{"owner":{"account_id":17879660,"reputation":3,"user_id":12988814,"display_name":"mihailaza"},"score":0,"creation_date":1622061572,"post_id":67711920,"comment_id":119685463,"body_markdown":"So, @James_D you are telling me that the approach of StageSuperclass constructor &lt;public StageSuperclass(Stage stage, String fxmlFilePath)&gt; isn&#39;t good? It&#39;s my first JavaFX project and I am a newbie ... I need that stage and the path to the file to instantiate another stages during runtime ...\nIs my understanding correct? If so, can you help me with an alternative approach of mine?","body":"So, @James_D you are telling me that the approach of StageSuperclass constructor &lt;public StageSuperclass(Stage stage, String fxmlFilePath)&gt; isn&#39;t good? It&#39;s my first JavaFX project and I am a newbie ... I need that stage and the path to the file to instantiate another stages during runtime ... Is my understanding correct? If so, can you help me with an alternative approach of mine?"},{"owner":{"account_id":17879660,"reputation":3,"user_id":12988814,"display_name":"mihailaza"},"score":0,"creation_date":1622062531,"post_id":67711920,"comment_id":119685764,"body_markdown":"@James_D I&#39;ve added some blank constructors there, and now the app is running, but when I attempt to drag and move it, I get NullPointerExceptions, targeting this part of code here:\nroot.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n..\nstage.setX(mouseEvent.getScreenX() - xOffset);\n..\n}\nI assume stage is causing the NPE. Do you have any suggestion to make that drag and move code work?","body":"@James_D I&#39;ve added some blank constructors there, and now the app is running, but when I attempt to drag and move it, I get NullPointerExceptions, targeting this part of code here: root.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() { .. stage.setX(mouseEvent.getScreenX() - xOffset); .. } I assume stage is causing the NPE. Do you have any suggestion to make that drag and move code work?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1622062535,"post_id":67711920,"comment_id":119685766,"body_markdown":"The actual problem is that `LoginController` doesn&#39;t have a no-argument constructor. But it&#39;s really unclear why you are subclassing `Stage` or why you have an inheritance hierarchy for your controllers. If this is your first time using JavaFX, why not use the same approach as in any of the basic examples? I.e. don&#39;t instantiate the controller (the `FXMLLoader` does that for you), just load the FXML directly, place the result in a `Scene` and the `Scene` in a stage.","body":"The actual problem is that <code>LoginController</code> doesn&#39;t have a no-argument constructor. But it&#39;s really unclear why you are subclassing <code>Stage</code> or why you have an inheritance hierarchy for your controllers. If this is your first time using JavaFX, why not use the same approach as in any of the basic examples? I.e. don&#39;t instantiate the controller (the <code>FXMLLoader</code> does that for you), just load the FXML directly, place the result in a <code>Scene</code> and the <code>Scene</code> in a stage."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1622062614,"post_id":67711920,"comment_id":119685786,"body_markdown":"You don&#39;t need to subclass `Stage` or pass the `Stage` around. You can get a reference to the `Stage` in your event handler with, e.g. `Window stage = root.getScene().getWindow();`.","body":"You don&#39;t need to subclass <code>Stage</code> or pass the <code>Stage</code> around. You can get a reference to the <code>Stage</code> in your event handler with, e.g. <code>Window stage = root.getScene().getWindow();</code>."},{"owner":{"account_id":17879660,"reputation":3,"user_id":12988814,"display_name":"mihailaza"},"score":0,"creation_date":1622062733,"post_id":67711920,"comment_id":119685828,"body_markdown":"I am trying to build an app with multiple stages and all of them should be without that default system minimize/close buttons and I need all those Stages to have that .setOnMouseDragged event there so I can move the app on the screen. And I thought that would be a good approach, instead of reusing that code everywhere in every screen.","body":"I am trying to build an app with multiple stages and all of them should be without that default system minimize/close buttons and I need all those Stages to have that .setOnMouseDragged event there so I can move the app on the screen. And I thought that would be a good approach, instead of reusing that code everywhere in every screen."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1622062775,"post_id":67711920,"comment_id":119685845,"body_markdown":"Why not just put that code in a separate class, and use it from each of the controllers that need it? Don&#39;t overuse or abuse inheritance. This is not what it&#39;s for.","body":"Why not just put that code in a separate class, and use it from each of the controllers that need it? Don&#39;t overuse or abuse inheritance. This is not what it&#39;s for."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694010552,"creation_date":1622064006,"answer_id":67712865,"question_id":67711920,"body_markdown":"The exception is caused because your FXML file specifies `fx:controller=&quot;application.LoginController&quot;`. This will cause the `FXMLLoader` to create an instance of `application.LoginController` by (effectively) calling its no-argument constructor. However, your `LoginController` class doesn&#39;t have a no-argument constructor: hence the exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Caused by: java.lang.NoSuchMethodException: application.LoginController.&lt;init&gt;()\r\n\r\n\r\n\r\nThe typical approach is to load the FXML file, and let the `FXMLLoader` create the controller for you. Except in quite advanced usage, you should not instantiate the controller class yourself, because the `FXMLLoader` does that for you.\r\n\r\nGet rid of the inheritance in `LoginController` (i.e. it doesn&#39;t need to be a subclass of your other controller class, and certainly should not be a subclass of `Stage`). Then just do\r\n\r\n\r\n    public class MyApplication extends Application {\r\n    \r\n        private double xOffset = 0 ;\r\n        private double yOffset = 0 ;\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n        \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(LOGIN_FXML_PATH));\r\n            Parent root = loader.load();\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.initStyle(StageStyle.UNDECORATED);\r\n            root.setOnMousePressed(mouseEvent -&gt; {\r\n                xOffset = mouseEvent.getSceneX();\r\n                yOffset = mouseEvent.getSceneY();\r\n            });\r\n        \r\n            root.setOnMouseDragged(mouseEvent -&gt;  {\r\n                stage.setX(mouseEvent.getScreenX() - xOffset);\r\n                stage.setY(mouseEvent.getScreenY() - yOffset);\r\n            });\r\n    \r\n            primaryStage.show();\r\n        }\r\n    }\r\n\r\nIf you need to reuse the same functionality repeatedly, just create a separate class in the normal way:\r\n\r\n    public class StageDragHandler {\r\n    \r\n        private double xOffset = 0 ;\r\n        private double yOffset = 0 ;\r\n    \r\n        public Stage createStage(Parent root) {\r\n            Stage stage = new Stage();\r\n            configureStage(root, stage);\r\n            return stage ;\r\n        }\r\n    \r\n        public void configureStage(Parent root, Stage stage) {\r\n            Scene scene = new Scene(root);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.initStyle(StageStyle.UNDECORATED);\r\n            root.setOnMousePressed(mouseEvent -&gt; {\r\n                xOffset = mouseEvent.getSceneX();\r\n                yOffset = mouseEvent.getSceneY();\r\n            });\r\n        \r\n            root.setOnMouseDragged(mouseEvent -&gt; {\r\n                stage.setX(mouseEvent.getScreenX() - xOffset);\r\n                stage.setY(mouseEvent.getScreenY() - yOffset);\r\n            });\r\n        }\r\n    }\r\n\r\nThen your application class reduces to:\r\n\r\n    public class MyApplication extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n        \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(LOGIN_FXML_PATH));\r\n            Parent root = loader.load();\r\n            new StageDragHandler().configureStage(root, primaryStage);   \r\n            primaryStage.show();\r\n        }\r\n    }\r\n\r\nand you can use similar code anywhere you need it.","title":"Unknown cause of javafx.fxml.LoadException","body":"<p>The exception is caused because your FXML file specifies <code>fx:controller=&quot;application.LoginController&quot;</code>. This will cause the <code>FXMLLoader</code> to create an instance of <code>application.LoginController</code> by (effectively) calling its no-argument constructor. However, your <code>LoginController</code> class doesn't have a no-argument constructor: hence the exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.NoSuchMethodException: application.LoginController.&lt;init&gt;()\n</code></pre>\n<p>The typical approach is to load the FXML file, and let the <code>FXMLLoader</code> create the controller for you. Except in quite advanced usage, you should not instantiate the controller class yourself, because the <code>FXMLLoader</code> does that for you.</p>\n<p>Get rid of the inheritance in <code>LoginController</code> (i.e. it doesn't need to be a subclass of your other controller class, and certainly should not be a subclass of <code>Stage</code>). Then just do</p>\n<pre><code>public class MyApplication extends Application {\n\n    private double xOffset = 0 ;\n    private double yOffset = 0 ;\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(LOGIN_FXML_PATH));\n        Parent root = loader.load();\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.initStyle(StageStyle.UNDECORATED);\n        root.setOnMousePressed(mouseEvent -&gt; {\n            xOffset = mouseEvent.getSceneX();\n            yOffset = mouseEvent.getSceneY();\n        });\n    \n        root.setOnMouseDragged(mouseEvent -&gt;  {\n            stage.setX(mouseEvent.getScreenX() - xOffset);\n            stage.setY(mouseEvent.getScreenY() - yOffset);\n        });\n\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>If you need to reuse the same functionality repeatedly, just create a separate class in the normal way:</p>\n<pre><code>public class StageDragHandler {\n\n    private double xOffset = 0 ;\n    private double yOffset = 0 ;\n\n    public Stage createStage(Parent root) {\n        Stage stage = new Stage();\n        configureStage(root, stage);\n        return stage ;\n    }\n\n    public void configureStage(Parent root, Stage stage) {\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.initStyle(StageStyle.UNDECORATED);\n        root.setOnMousePressed(mouseEvent -&gt; {\n            xOffset = mouseEvent.getSceneX();\n            yOffset = mouseEvent.getSceneY();\n        });\n    \n        root.setOnMouseDragged(mouseEvent -&gt; {\n            stage.setX(mouseEvent.getScreenX() - xOffset);\n            stage.setY(mouseEvent.getScreenY() - yOffset);\n        });\n    }\n}\n</code></pre>\n<p>Then your application class reduces to:</p>\n<pre><code>public class MyApplication extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(LOGIN_FXML_PATH));\n        Parent root = loader.load();\n        new StageDragHandler().configureStage(root, primaryStage);   \n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>and you can use similar code anywhere you need it.</p>\n"}],"owner":{"account_id":17879660,"reputation":3,"user_id":12988814,"display_name":"mihailaza"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1477,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":67712865,"answer_count":1,"score":-1,"last_activity_date":1694010552,"creation_date":1622059103,"question_id":67711920,"body_markdown":"I have a three stages JavaFX app (right now only the login/register/blank view) and I tried to communicate between them. I&#39;ve created a super class and all stages extend that super class.\r\nNow, when I run the main class like below, I get the runtime errors:\r\n\r\n    public static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\t\tconn = DBUtils.connectToDB(DB_SCHEMA);\r\n\t\tnew LoginController(primaryStage);\r\n\t}\r\n\r\nException:\r\n\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: javafx.fxml.LoadException: \r\n    /C:/Mihai/Faculta/Anul%203/Licenta/Aplicatie/licenta-mihai-laza/out/production/licenta-mihai-laza/application/login.fxml:7\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.access$700(FXMLLoader.java:105)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:941)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:980)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:227)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:752)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2722)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2552)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\r\n\tat licenta.mihai.laza/application.superclasses.StageSuperclass.&lt;init&gt;(StageSuperclass.java:20)\r\n\tat licenta.mihai.laza/application.LoginController.&lt;init&gt;(LoginController.java:45)\r\n\tat licenta.mihai.laza/application.Main.start(Main.java:21)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\t... 1 more\r\n    Caused by: java.lang.InstantiationException: application.LoginController\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:571)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:936)\r\n    \t... 24 more\r\n    Caused by: java.lang.NoSuchMethodException: application.LoginController.&lt;init&gt;()\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3350)\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:556)\r\n    \t... 25 more\r\n    [INFO] Connection to database closed\r\n    Exception running application application.Main\r\n\r\n\r\n**StageSuperclass.java:**\r\n\r\n    public class StageSuperclass extends Stage {\r\n\t// Frame window\r\n\tprivate Stage stage;\r\n\tprivate double xOffset = 0;\r\n\tprivate double yOffset = 0;\r\n\r\n\tpublic StageSuperclass(Stage stage, String fxmlFilePath) throws java.io.IOException {\r\n\t\tthis.stage = stage;\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(fxmlFilePath));\r\n\t\tScene scene = new Scene(root, Color.TRANSPARENT);\r\n\t\troot.setStyle(&quot;-fx-background-color: transparent;&quot;);\r\n\t\tthis.initStyle(StageStyle.UNDECORATED);\r\n\t\troot.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(MouseEvent mouseEvent) {\r\n\t\t\t\txOffset = mouseEvent.getSceneX();\r\n\t\t\t\tyOffset = mouseEvent.getSceneY();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\troot.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(MouseEvent mouseEvent) {\r\n\t\t\t\tstage.setX(mouseEvent.getScreenX() - xOffset);\r\n\t\t\t\tstage.setY(mouseEvent.getScreenY() - yOffset);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setScene(scene);\r\n\t\tthis.show();\r\n\t}\r\n\r\n\tpublic Stage getStage() {\r\n\t\treturn this.stage;\r\n\t}\r\n\r\n**LoginController.java:**\r\n\r\n    public class LoginController extends StageSuperclass {\r\n\t// Constants\r\n\tprivate static final String LOGIN_FXML_PATH = &quot;/application/login.fxml&quot;;\r\n\tprivate static final String WRONG_CREDENTIALS_MSG = &quot;Datele de logare sunt gresite!&quot;;\r\n\tprivate static final String BLANK_CREDENTIALS_MSG = &quot;Introduceti username si parola!&quot;;\r\n\r\n\t// PageObjects\r\n\tRegisterController registerPage;\r\n\r\n\t// FXML Objects\r\n\t@FXML\r\n\tprivate Button btnLogin;\r\n\t@FXML\r\n\tprivate Button btnIesire;\r\n\t@FXML\r\n\tprivate TextField tfdUsername;\r\n\t@FXML\r\n\tprivate TextField tfdParola;\r\n\t@FXML\r\n\tprivate Label lblInvalid;\r\n\t@FXML\r\n\tprivate Hyperlink lnkInregistrare;\r\n\r\n\t// Constructor\r\n\tpublic LoginController(Stage stage) throws IOException {\r\n\t\tsuper(stage, LOGIN_FXML_PATH);\r\n\t}\r\n\r\n\tpublic void inregistrareLinkOnAction(ActionEvent event) throws IOException {\r\n\t\tnew RegisterController(this.getStage());\r\n\t}\r\n\r\n\tpublic void loginButtonOnAction(ActionEvent event) throws IOException {\r\n\t\tif (!tfdUsername.getText().isBlank() &amp;&amp; !tfdParola.getText().isBlank()) {\r\n\t\t\tif (validareLogin()) {\r\n\t\t\t\tnew MainWindowController(this.getStage());\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlblInvalid.setText(BLANK_CREDENTIALS_MSG);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void iesireButtonOnAction(ActionEvent event) {\r\n\t\tStage stage = (Stage) btnIesire.getScene().getWindow();\r\n\t\tstage.close();\r\n\t}\r\n\r\n\tprivate boolean validareLogin() {\r\n\t\tList&lt;String&gt; columns = Arrays.asList(COL_USERNAME, COL_PAROLA);\r\n\t\tList&lt;String&gt; whereValues = Arrays.asList(tfdUsername.getText(), tfdParola.getText());\r\n\t\tif (DBUtils.select(columns, columns, whereValues, DBUtils.TABEL_UTILIZATORI.TABLE_NAME, Main.conn).size() == 1) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tlblInvalid.setText(WRONG_CREDENTIALS_MSG);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n**login.fxml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.text.*?&gt;\r\n    &lt;AnchorPane prefHeight=&quot;300.0&quot; prefWidth=&quot;300.0&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot;\r\n                xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.LoginController&quot;&gt;\r\n        &lt;AnchorPane prefHeight=&quot;60.0&quot; prefWidth=&quot;300.0&quot; style=&quot;-fx-background-color: #0084b8;&quot;&gt;\r\n            &lt;children&gt;\r\n                &lt;Label alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutY=&quot;17.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;300.0&quot;\r\n                       text=&quot;LOGIN&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot;/&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n            &lt;/children&gt;\r\n        &lt;/AnchorPane&gt;\r\n        &lt;Button id=&quot;btnLogin&quot; fx:id=&quot;btnLogin&quot; layoutX=&quot;33.0&quot; layoutY=&quot;216.0&quot; mnemonicParsing=&quot;false&quot;\r\n                onAction=&quot;#loginButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;233.0&quot; style=&quot;-fx-background-color: #0084b8;&quot;\r\n                text=&quot;Login&quot; textFill=&quot;WHITE&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;13.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Button&gt;\r\n        &lt;TextField id=&quot;tfdUsername&quot; fx:id=&quot;tfdUsername&quot; layoutX=&quot;89.0&quot; layoutY=&quot;82.0&quot; promptText=&quot;User&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;14.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/TextField&gt;\r\n        &lt;PasswordField id=&quot;tfdParola&quot; fx:id=&quot;tfdParola&quot; layoutX=&quot;89.0&quot; layoutY=&quot;123.0&quot; promptText=&quot;Parola&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;14.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/PasswordField&gt;\r\n        &lt;Hyperlink id=&quot;lnkInregistrare&quot; fx:id=&quot;lnkInregistrare&quot; layoutX=&quot;118.0&quot; layoutY=&quot;153.0&quot;\r\n                   onAction=&quot;#inregistrareLinkOnAction&quot; text=&quot;Nu ai cont? Inregistreaza-te!&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;11.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Hyperlink&gt;\r\n        &lt;Label layoutX=&quot;33.0&quot; layoutY=&quot;87.0&quot; text=&quot;User&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;14.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n        &lt;Label layoutX=&quot;32.0&quot; layoutY=&quot;128.0&quot; text=&quot;Parola&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;14.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n        &lt;Button id=&quot;btnCancel&quot; fx:id=&quot;btnIesire&quot; layoutX=&quot;33.0&quot; layoutY=&quot;254.0&quot; mnemonicParsing=&quot;false&quot;\r\n                onAction=&quot;#iesireButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;233.0&quot; style=&quot;-fx-background-color: #0084b8;&quot;\r\n                text=&quot;Iesire&quot; textFill=&quot;WHITE&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;13.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Button&gt;\r\n        &lt;Label id=&quot;lblInvalid&quot; fx:id=&quot;lblInvalid&quot; alignment=&quot;TOP_CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;44.0&quot;\r\n               layoutY=&quot;194.0&quot; prefHeight=&quot;16.0&quot; prefWidth=&quot;233.0&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;RED&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font size=&quot;11.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\nDo you have any suggestions solving this exception?\r\n\r\n","title":"Unknown cause of javafx.fxml.LoadException","body":"<p>I have a three stages JavaFX app (right now only the login/register/blank view) and I tried to communicate between them. I've created a super class and all stages extend that super class.\nNow, when I run the main class like below, I get the runtime errors:</p>\n<pre><code>public static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage primaryStage) throws Exception {\n    conn = DBUtils.connectToDB(DB_SCHEMA);\n    new LoginController(primaryStage);\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javafx.fxml.LoadException: \n/C:/Mihai/Faculta/Anul%203/Licenta/Aplicatie/licenta-mihai-laza/out/production/licenta-mihai-laza/application/login.fxml:7\n\nat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\nat javafx.fxml/javafx.fxml.FXMLLoader.access$700(FXMLLoader.java:105)\nat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:941)\nat javafx.fxml/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:980)\nat javafx.fxml/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:227)\nat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:752)\nat javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2722)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2552)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\nat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\nat licenta.mihai.laza/application.superclasses.StageSuperclass.&lt;init&gt;(StageSuperclass.java:20)\nat licenta.mihai.laza/application.LoginController.&lt;init&gt;(LoginController.java:45)\nat licenta.mihai.laza/application.Main.start(Main.java:21)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\nat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n... 1 more\nCaused by: java.lang.InstantiationException: application.LoginController\n    at java.base/java.lang.Class.newInstance(Class.java:571)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:936)\n    ... 24 more\nCaused by: java.lang.NoSuchMethodException: application.LoginController.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3350)\n    at java.base/java.lang.Class.newInstance(Class.java:556)\n    ... 25 more\n[INFO] Connection to database closed\nException running application application.Main\n</code></pre>\n<p><strong>StageSuperclass.java:</strong></p>\n<pre><code>public class StageSuperclass extends Stage {\n// Frame window\nprivate Stage stage;\nprivate double xOffset = 0;\nprivate double yOffset = 0;\n\npublic StageSuperclass(Stage stage, String fxmlFilePath) throws java.io.IOException {\n    this.stage = stage;\n    Parent root = FXMLLoader.load(getClass().getResource(fxmlFilePath));\n    Scene scene = new Scene(root, Color.TRANSPARENT);\n    root.setStyle(&quot;-fx-background-color: transparent;&quot;);\n    this.initStyle(StageStyle.UNDECORATED);\n    root.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\n        @Override\n        public void handle(MouseEvent mouseEvent) {\n            xOffset = mouseEvent.getSceneX();\n            yOffset = mouseEvent.getSceneY();\n        }\n    });\n\n    root.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n        @Override\n        public void handle(MouseEvent mouseEvent) {\n            stage.setX(mouseEvent.getScreenX() - xOffset);\n            stage.setY(mouseEvent.getScreenY() - yOffset);\n        }\n    });\n    this.setScene(scene);\n    this.show();\n}\n\npublic Stage getStage() {\n    return this.stage;\n}\n</code></pre>\n<p><strong>LoginController.java:</strong></p>\n<pre><code>public class LoginController extends StageSuperclass {\n// Constants\nprivate static final String LOGIN_FXML_PATH = &quot;/application/login.fxml&quot;;\nprivate static final String WRONG_CREDENTIALS_MSG = &quot;Datele de logare sunt gresite!&quot;;\nprivate static final String BLANK_CREDENTIALS_MSG = &quot;Introduceti username si parola!&quot;;\n\n// PageObjects\nRegisterController registerPage;\n\n// FXML Objects\n@FXML\nprivate Button btnLogin;\n@FXML\nprivate Button btnIesire;\n@FXML\nprivate TextField tfdUsername;\n@FXML\nprivate TextField tfdParola;\n@FXML\nprivate Label lblInvalid;\n@FXML\nprivate Hyperlink lnkInregistrare;\n\n// Constructor\npublic LoginController(Stage stage) throws IOException {\n    super(stage, LOGIN_FXML_PATH);\n}\n\npublic void inregistrareLinkOnAction(ActionEvent event) throws IOException {\n    new RegisterController(this.getStage());\n}\n\npublic void loginButtonOnAction(ActionEvent event) throws IOException {\n    if (!tfdUsername.getText().isBlank() &amp;&amp; !tfdParola.getText().isBlank()) {\n        if (validareLogin()) {\n            new MainWindowController(this.getStage());\n        }\n    } else {\n        lblInvalid.setText(BLANK_CREDENTIALS_MSG);\n    }\n}\n\npublic void iesireButtonOnAction(ActionEvent event) {\n    Stage stage = (Stage) btnIesire.getScene().getWindow();\n    stage.close();\n}\n\nprivate boolean validareLogin() {\n    List&lt;String&gt; columns = Arrays.asList(COL_USERNAME, COL_PAROLA);\n    List&lt;String&gt; whereValues = Arrays.asList(tfdUsername.getText(), tfdParola.getText());\n    if (DBUtils.select(columns, columns, whereValues, DBUtils.TABEL_UTILIZATORI.TABLE_NAME, Main.conn).size() == 1) {\n        return true;\n    } else {\n        lblInvalid.setText(WRONG_CREDENTIALS_MSG);\n        return false;\n    }\n}\n}\n</code></pre>\n<p><strong>login.fxml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.*?&gt;\n&lt;AnchorPane prefHeight=&quot;300.0&quot; prefWidth=&quot;300.0&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.LoginController&quot;&gt;\n    &lt;AnchorPane prefHeight=&quot;60.0&quot; prefWidth=&quot;300.0&quot; style=&quot;-fx-background-color: #0084b8;&quot;&gt;\n        &lt;children&gt;\n            &lt;Label alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutY=&quot;17.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;300.0&quot;\n                   text=&quot;LOGIN&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot;&gt;\n                &lt;font&gt;\n                    &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot;/&gt;\n                &lt;/font&gt;\n            &lt;/Label&gt;\n        &lt;/children&gt;\n    &lt;/AnchorPane&gt;\n    &lt;Button id=&quot;btnLogin&quot; fx:id=&quot;btnLogin&quot; layoutX=&quot;33.0&quot; layoutY=&quot;216.0&quot; mnemonicParsing=&quot;false&quot;\n            onAction=&quot;#loginButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;233.0&quot; style=&quot;-fx-background-color: #0084b8;&quot;\n            text=&quot;Login&quot; textFill=&quot;WHITE&quot;&gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;13.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/Button&gt;\n    &lt;TextField id=&quot;tfdUsername&quot; fx:id=&quot;tfdUsername&quot; layoutX=&quot;89.0&quot; layoutY=&quot;82.0&quot; promptText=&quot;User&quot;&gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;14.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/TextField&gt;\n    &lt;PasswordField id=&quot;tfdParola&quot; fx:id=&quot;tfdParola&quot; layoutX=&quot;89.0&quot; layoutY=&quot;123.0&quot; promptText=&quot;Parola&quot;&gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;14.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/PasswordField&gt;\n    &lt;Hyperlink id=&quot;lnkInregistrare&quot; fx:id=&quot;lnkInregistrare&quot; layoutX=&quot;118.0&quot; layoutY=&quot;153.0&quot;\n               onAction=&quot;#inregistrareLinkOnAction&quot; text=&quot;Nu ai cont? Inregistreaza-te!&quot;&gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;11.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/Hyperlink&gt;\n    &lt;Label layoutX=&quot;33.0&quot; layoutY=&quot;87.0&quot; text=&quot;User&quot;&gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;14.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/Label&gt;\n    &lt;Label layoutX=&quot;32.0&quot; layoutY=&quot;128.0&quot; text=&quot;Parola&quot;&gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;14.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/Label&gt;\n    &lt;Button id=&quot;btnCancel&quot; fx:id=&quot;btnIesire&quot; layoutX=&quot;33.0&quot; layoutY=&quot;254.0&quot; mnemonicParsing=&quot;false&quot;\n            onAction=&quot;#iesireButtonOnAction&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;233.0&quot; style=&quot;-fx-background-color: #0084b8;&quot;\n            text=&quot;Iesire&quot; textFill=&quot;WHITE&quot;&gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;13.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/Button&gt;\n    &lt;Label id=&quot;lblInvalid&quot; fx:id=&quot;lblInvalid&quot; alignment=&quot;TOP_CENTER&quot; contentDisplay=&quot;CENTER&quot; layoutX=&quot;44.0&quot;\n           layoutY=&quot;194.0&quot; prefHeight=&quot;16.0&quot; prefWidth=&quot;233.0&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;RED&quot;&gt;\n        &lt;font&gt;\n            &lt;Font size=&quot;11.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/Label&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Do you have any suggestions solving this exception?</p>\n"},{"tags":["java","eclipse","maven","xtext"],"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694008868,"answer_count":0,"score":0,"last_activity_date":1694010224,"creation_date":1694008632,"question_id":77052620,"body_markdown":"I have xtext language server project configured to build with maven. I want to connect the VS Code language client to the server via socket for debugging. In my `xtext.ide/pom.xml`, I have made the following change\r\n```xml\r\n&lt;mainClass&gt;org.eclipse.xtext.ide.server.SocketServerLauncher&lt;/mainClass&gt;\r\n```\r\nand now I can run the jar file on command line\r\n```bash\r\njava -jar xtext.ide-1.0.0-SNAPSHOT-ls.jar -port 5008 -host 0.0.0.0\r\n0    [main] INFO  ext.ide.server.SocketServerLauncher  - Started server socket at /0.0.0.0:5008\r\n```\r\nAnd in my VS Code extension.ts, I have the following\r\n```js\r\n var client: LanguageClient;\r\n\r\n    let connectionInfo = {\r\n      port: 5008,\r\n      host: &quot;0.0.0.0&quot;\r\n    };\r\n\r\n    let serverInfo = () =&gt; {\r\n      // Connect to language server via socket\r\n      let socket = net.connect(connectionInfo);\r\n      let result: StreamInfo = {\r\n          writer: socket,\r\n          reader: socket\r\n      };\r\n      return Promise.resolve(result);\r\n  };\r\n```\r\nOnce I start the extension, my server crashes with the error\r\n```bash\r\njava.lang.NoSuchMethodError: &#39;boolean org.eclipse.xtext.xbase.lib.ArrayExtensions.contains(java.lang.Object[], java.lang.Object)&#39;\r\n\tat org.eclipse.xtext.ide.server.SocketServerLauncher.getTrace(SocketServerLauncher.java:85)\r\n\tat org.eclipse.xtext.ide.server.SocketServerLauncher.launch(SocketServerLauncher.java:64)\r\n\tat org.eclipse.xtext.ide.server.SocketServerLauncher.main(SocketServerLauncher.java:52)\r\n```\r\nBut seems that the version of `org.eclipse.xtext.xbase.lib.ArrayExtensions` I have on my classpath is correct:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(It was introduced [here](https://github.com/eclipse/xtext-lib/pull/229) which got released in `2.20`\r\n\r\n**Edit 1:** I noticed that the version in `xtext/META-INF/MANIFEST.MF` was not as expected:\r\n```\r\nRequire-Bundle: org.eclipse.xtext.xbase.lib;bundle-version=&quot;2.14.0&quot;\r\n```\r\nI now updated that to `2.25.0`, but the error is still the same.\r\n\r\n  [1]: https://i.stack.imgur.com/cNXmO.png","title":"java.lang.NoSuchMethodError: &#39;boolean org.eclipse.xtext.xbase.lib.ArrayExtensions.contains(java.lang.Object[], java.lang.Object)&#39;","body":"<p>I have xtext language server project configured to build with maven. I want to connect the VS Code language client to the server via socket for debugging. In my <code>xtext.ide/pom.xml</code>, I have made the following change</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mainClass&gt;org.eclipse.xtext.ide.server.SocketServerLauncher&lt;/mainClass&gt;\n</code></pre>\n<p>and now I can run the jar file on command line</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar xtext.ide-1.0.0-SNAPSHOT-ls.jar -port 5008 -host 0.0.0.0\n0    [main] INFO  ext.ide.server.SocketServerLauncher  - Started server socket at /0.0.0.0:5008\n</code></pre>\n<p>And in my VS Code extension.ts, I have the following</p>\n<pre class=\"lang-js prettyprint-override\"><code> var client: LanguageClient;\n\n    let connectionInfo = {\n      port: 5008,\n      host: &quot;0.0.0.0&quot;\n    };\n\n    let serverInfo = () =&gt; {\n      // Connect to language server via socket\n      let socket = net.connect(connectionInfo);\n      let result: StreamInfo = {\n          writer: socket,\n          reader: socket\n      };\n      return Promise.resolve(result);\n  };\n</code></pre>\n<p>Once I start the extension, my server crashes with the error</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java.lang.NoSuchMethodError: 'boolean org.eclipse.xtext.xbase.lib.ArrayExtensions.contains(java.lang.Object[], java.lang.Object)'\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.getTrace(SocketServerLauncher.java:85)\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.launch(SocketServerLauncher.java:64)\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.main(SocketServerLauncher.java:52)\n</code></pre>\n<p>But seems that the version of <code>org.eclipse.xtext.xbase.lib.ArrayExtensions</code> I have on my classpath is correct:</p>\n<p><a href=\"https://i.stack.imgur.com/cNXmO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cNXmO.png\" alt=\"enter image description here\" /></a></p>\n<p>(It was introduced <a href=\"https://github.com/eclipse/xtext-lib/pull/229\" rel=\"nofollow noreferrer\">here</a> which got released in <code>2.20</code></p>\n<p><strong>Edit 1:</strong> I noticed that the version in <code>xtext/META-INF/MANIFEST.MF</code> was not as expected:</p>\n<pre><code>Require-Bundle: org.eclipse.xtext.xbase.lib;bundle-version=&quot;2.14.0&quot;\n</code></pre>\n<p>I now updated that to <code>2.25.0</code>, but the error is still the same.</p>\n"},{"tags":["java","docker","tcp","port","jedis"],"answers":[{"tags":[],"owner":{"account_id":6983402,"reputation":165,"user_id":5355354,"display_name":"Jordan Sheinfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694010142,"creation_date":1694010142,"answer_id":77052834,"question_id":76429724,"body_markdown":"Try to run your docker on the host network, i.e. use:\r\n\r\ndocker run --network host\r\n\r\nTo reach your local running Redis.","title":"Jedis DockerFile : Failed to connect to any host resolved for DNS name","body":"<p>Try to run your docker on the host network, i.e. use:</p>\n<p>docker run --network host</p>\n<p>To reach your local running Redis.</p>\n"}],"owner":{"account_id":28652526,"reputation":13,"user_id":21939232,"display_name":"vincent_01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694010142,"creation_date":1686210777,"question_id":76429724,"body_markdown":"so I&#39;m trying to dockerize my class , and when running the container I keep getting this Exception .\r\n\r\nHere is my DockerFile : \r\n\r\n\r\n```\r\nFROM ubuntu\r\n\r\nRUN apt-get update &amp;&amp; apt-get install -y openjdk-17-jdk\r\nWORKDIR app\r\n\r\n#COPY target/streams-101-1.0-SNAPSHOT.jar red.jar\r\n\r\nCOPY target/prototype-1.0-SNAPSHOT-jar-with-dependencies.jar app.jar\r\n\r\nCMD [&quot;java&quot;, &quot;-jar&quot;,&quot;app.jar&quot;,&lt;My IP address&gt;,&quot;6379&quot;]\r\n```\r\n\r\n\r\nand I create my Jedis client like this : \r\n```\r\n\r\nhost = args[0]\r\nport = args[1]\r\nHostAndPort config = new HostAndPort(host, port);\r\n        PooledConnectionProvider provider = new PooledConnectionProvider(config);\r\n        UnifiedJedis client = new UnifiedJedis(provider);\r\n```\r\n\r\n\r\nI tried to change ports and ip address from localhost to my actual machine Ip address and nothing works .","title":"Jedis DockerFile : Failed to connect to any host resolved for DNS name","body":"<p>so I'm trying to dockerize my class , and when running the container I keep getting this Exception .</p>\n<p>Here is my DockerFile :</p>\n<pre><code>FROM ubuntu\n\nRUN apt-get update &amp;&amp; apt-get install -y openjdk-17-jdk\nWORKDIR app\n\n#COPY target/streams-101-1.0-SNAPSHOT.jar red.jar\n\nCOPY target/prototype-1.0-SNAPSHOT-jar-with-dependencies.jar app.jar\n\nCMD [&quot;java&quot;, &quot;-jar&quot;,&quot;app.jar&quot;,&lt;My IP address&gt;,&quot;6379&quot;]\n</code></pre>\n<p>and I create my Jedis client like this :</p>\n<pre><code>\nhost = args[0]\nport = args[1]\nHostAndPort config = new HostAndPort(host, port);\n        PooledConnectionProvider provider = new PooledConnectionProvider(config);\n        UnifiedJedis client = new UnifiedJedis(provider);\n</code></pre>\n<p>I tried to change ports and ip address from localhost to my actual machine Ip address and nothing works .</p>\n"},{"tags":["java","ant","wildfly","ejbca"],"comments":[{"owner":{"account_id":4076597,"reputation":4537,"user_id":3348112,"accept_rate":75,"display_name":"CAustin"},"score":0,"creation_date":1693880563,"post_id":77038374,"comment_id":135814467,"body_markdown":"It looks like you need to specify a value for `appserver.home`","body":"It looks like you need to specify a value for <code>appserver.home</code>"},{"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"score":0,"creation_date":1693992671,"post_id":77038374,"comment_id":135831486,"body_markdown":"i solved it by adding a -D appserver.home=/path/to/my/wildfly/home/dir","body":"i solved it by adding a -D appserver.home=/path/to/my/wildfly/home/dir"}],"answers":[{"tags":[],"owner":{"account_id":3305966,"reputation":524,"user_id":2787839,"display_name":"primetomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694010031,"creation_date":1694010031,"answer_id":77052817,"question_id":77038374,"body_markdown":"deploydb is not a valid command. You should read the installation instructions in the documentation. PostgreSQL is mentioned there.\r\nhttps://doc.primekey.com/ejbca/ejbca-installation\r\n","title":"EJBCA 7_4_3_2 database connectivity problem","body":"<p>deploydb is not a valid command. You should read the installation instructions in the documentation. PostgreSQL is mentioned there.\n<a href=\"https://doc.primekey.com/ejbca/ejbca-installation\" rel=\"nofollow noreferrer\">https://doc.primekey.com/ejbca/ejbca-installation</a></p>\n"}],"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694010031,"creation_date":1693836014,"question_id":77038374,"body_markdown":"I am using EJBCA 7_4_3_2.\r\nMy goal is to connect to a postgres database\r\nbut I keep on getting the following error output:\r\n\r\n```\r\nroot@guardian:/opt/kais/mes/install/guardian/ejbca/ejbca_ce_7_4_3_2# ant deploydb -Ddatabase=/opt/kais/mes/install/guardian/ejbca/ejbca_ce_7_4_3_2/conf/database.properties\r\nBuildfile: /opt/kais/mes/install/guardian/ejbca/ejbca_ce_7_4_3_2/build.xml\r\n\r\ncustomejbca.message:\r\n     [echo] No custom changes to merge.\r\n\r\nappserver.error.message:\r\n     [echo] &#39;appserver.type&#39; could not be detected or is not configured. Glassfish 3.1, Glassfish 4.0, JBoss 7.1.1, JBoss EAP 6.1, 6.2, 6.3, 6.4, WildFly 8, 9, 10 can be detected. (Is &#39;appserver.home&#39; configured?)\r\n\r\nBUILD FAILED\r\nTarget &quot;deploydb&quot; does not exist in the project &quot;ejbca&quot;.\r\n```\r\nI took a look at the build.xml file but i am not sure which target is used to connect to a database.\r\n\r\nCan someone help me out?\r\n","title":"EJBCA 7_4_3_2 database connectivity problem","body":"<p>I am using EJBCA 7_4_3_2.\nMy goal is to connect to a postgres database\nbut I keep on getting the following error output:</p>\n<pre><code>root@guardian:/opt/kais/mes/install/guardian/ejbca/ejbca_ce_7_4_3_2# ant deploydb -Ddatabase=/opt/kais/mes/install/guardian/ejbca/ejbca_ce_7_4_3_2/conf/database.properties\nBuildfile: /opt/kais/mes/install/guardian/ejbca/ejbca_ce_7_4_3_2/build.xml\n\ncustomejbca.message:\n     [echo] No custom changes to merge.\n\nappserver.error.message:\n     [echo] 'appserver.type' could not be detected or is not configured. Glassfish 3.1, Glassfish 4.0, JBoss 7.1.1, JBoss EAP 6.1, 6.2, 6.3, 6.4, WildFly 8, 9, 10 can be detected. (Is 'appserver.home' configured?)\n\nBUILD FAILED\nTarget &quot;deploydb&quot; does not exist in the project &quot;ejbca&quot;.\n</code></pre>\n<p>I took a look at the build.xml file but i am not sure which target is used to connect to a database.</p>\n<p>Can someone help me out?</p>\n"},{"tags":["java","linux","tcp","system-calls","serversocket"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1692960184,"post_id":76976026,"comment_id":135699035,"body_markdown":"Wrap it with a `BufferedOutputStream`, you don&#39;t want to care about whether you&#39;re writing one or more bytes.","body":"Wrap it with a <code>BufferedOutputStream</code>, you don&#39;t want to care about whether you&#39;re writing one or more bytes."},{"owner":{"account_id":25357233,"reputation":41,"user_id":19173162,"display_name":"SadMan"},"score":0,"creation_date":1693463269,"post_id":76976026,"comment_id":135764767,"body_markdown":"Yes, sure. However, I still want to know the underlying mechanisms between them.","body":"Yes, sure. However, I still want to know the underlying mechanisms between them."}],"answers":[{"tags":[],"owner":{"account_id":6983402,"reputation":165,"user_id":5355354,"display_name":"Jordan Sheinfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694009881,"creation_date":1694009881,"answer_id":77052794,"question_id":76976026,"body_markdown":"This totally makes sense.\r\nSay you need to write 1000 bytes to the socket.\r\n\r\n    byte[] b = new byte[1000];\r\n\r\nDoing a for-loop on **b** and writing to the stream one by one will leave you looping inside the &quot;JVM&quot; thus &quot;suffering&quot; from the JVM performance.\r\n\r\nBut, calling directly to the **write (b)** method will trigger the underlying native socketWrite0 which will use a native way to write the buffer directly to the socket file descriptor which obviously not in the JVM and is natively faster.","title":"Performance gap between write(int b) and write(byte b[]) in Java","body":"<p>This totally makes sense.\nSay you need to write 1000 bytes to the socket.</p>\n<pre><code>byte[] b = new byte[1000];\n</code></pre>\n<p>Doing a for-loop on <strong>b</strong> and writing to the stream one by one will leave you looping inside the &quot;JVM&quot; thus &quot;suffering&quot; from the JVM performance.</p>\n<p>But, calling directly to the <strong>write (b)</strong> method will trigger the underlying native socketWrite0 which will use a native way to write the buffer directly to the socket file descriptor which obviously not in the JVM and is natively faster.</p>\n"}],"owner":{"account_id":25357233,"reputation":41,"user_id":19173162,"display_name":"SadMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694009881,"creation_date":1692956401,"question_id":76976026,"body_markdown":"I find that, when I use `Socket socket = new Socket(); OutputStream outputStream = socket.getOutputStream();` and invoke write method, there are two choices: write(int b) and write(byte b[])， and I write code to test the performance of them. I found that write(byte b[]) is faster than write(int b). \r\nI read the source code and guess the difference maybe lead by the cost of applying a buffer and release the buffer. \r\nBut I am not sure I find the right answer because it may because the **system call** and the mechanism of **TCP/IP**.\r\n\r\nI tried to coding to test and read the source code, I guess it may because the using of `char BUF[MAX_BUFFER_LEN];`. I tried to apply space b.length times in java every time write(bytes[] b) is invoked and compare the differences of the two method, the result is the performance gap seems not so big.","title":"Performance gap between write(int b) and write(byte b[]) in Java","body":"<p>I find that, when I use <code>Socket socket = new Socket(); OutputStream outputStream = socket.getOutputStream();</code> and invoke write method, there are two choices: write(int b) and write(byte b[])， and I write code to test the performance of them. I found that write(byte b[]) is faster than write(int b).\nI read the source code and guess the difference maybe lead by the cost of applying a buffer and release the buffer.\nBut I am not sure I find the right answer because it may because the <strong>system call</strong> and the mechanism of <strong>TCP/IP</strong>.</p>\n<p>I tried to coding to test and read the source code, I guess it may because the using of <code>char BUF[MAX_BUFFER_LEN];</code>. I tried to apply space b.length times in java every time write(bytes[] b) is invoked and compare the differences of the two method, the result is the performance gap seems not so big.</p>\n"},{"tags":["java","security","oauth-2.0","csrf","owasp"],"comments":[{"owner":{"account_id":22226004,"reputation":13332,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":0,"creation_date":1672132384,"post_id":74917368,"comment_id":132225738,"body_markdown":"If I don&#39;t understand why this would be a security risk (which I don&#39;t in your case) I would ask the security team to describe a possible attack that is enabled by it.","body":"If I don&#39;t understand why this would be a security risk (which I don&#39;t in your case) I would ask the security team to describe a possible attack that is enabled by it."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1672139858,"post_id":74917368,"comment_id":132227364,"body_markdown":"@HeikoThei&#223;en Yes, I did asked this question and answer was, in this case CSRF token is being exposed in query parameter which is not recommended, malicious users can steal this token and perform CSRF for other non-oauth requests as I am using the same token. Their say is for OAuth request separate UUID should be generated,used and disposed once it&#39;s work is done.","body":"@HeikoThei&#223;en Yes, I did asked this question and answer was, in this case CSRF token is being exposed in query parameter which is not recommended, malicious users can steal this token and perform CSRF for other non-oauth requests as I am using the same token. Their say is for OAuth request separate UUID should be generated,used and disposed once it&#39;s work is done."},{"owner":{"account_id":22226004,"reputation":13332,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":1,"creation_date":1672140755,"post_id":74917368,"comment_id":132227551,"body_markdown":"CSRF tokens are not a measure against _malicious_ users, but against _victimised_ users. They offer a protection for the user against themselves, you might say. Malicious users can always ignore that. I do not yet see the possible attack here.","body":"CSRF tokens are not a measure against <i>malicious</i> users, but against <i>victimised</i> users. They offer a protection for the user against themselves, you might say. Malicious users can always ignore that. I do not yet see the possible attack here."}],"answers":[{"tags":[],"owner":{"account_id":11299340,"reputation":5234,"user_id":8285811,"display_name":"Akaisteph7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694009347,"creation_date":1694009347,"answer_id":77052710,"question_id":74917368,"body_markdown":"It depends.\r\n\r\nYou can use the CSRF token publicly **only** if it has been implemented using the [Double Submit Cookie][1] (DSC) pattern. In this case, as you note, the token is passed in GET request headers.\r\n\r\nHowever, if your site uses the [Synchronizer Token Pattern][2] (STP), then this token **must be kept secret** at all times.\r\n\r\nIn your situation, your company seems to be using the DSC pattern so it is fine to use its value for the `state` parameter. As a general rule though, I would say it is generally safer to create a new secret to avoid the potential issue based on the token pattern used.\r\n\r\n\r\n  [1]: https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#double-submit-cookie\r\n  [2]: https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#synchronizer-token-pattern","title":"Can I use CSRF token as value for state parameter in OAuth flow?","body":"<p>It depends.</p>\n<p>You can use the CSRF token publicly <strong>only</strong> if it has been implemented using the <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#double-submit-cookie\" rel=\"nofollow noreferrer\">Double Submit Cookie</a> (DSC) pattern. In this case, as you note, the token is passed in GET request headers.</p>\n<p>However, if your site uses the <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#synchronizer-token-pattern\" rel=\"nofollow noreferrer\">Synchronizer Token Pattern</a> (STP), then this token <strong>must be kept secret</strong> at all times.</p>\n<p>In your situation, your company seems to be using the DSC pattern so it is fine to use its value for the <code>state</code> parameter. As a general rule though, I would say it is generally safer to create a new secret to avoid the potential issue based on the token pattern used.</p>\n"}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694009347,"creation_date":1672030399,"question_id":74917368,"body_markdown":"While implementing Azure OAuth flow I have used `state` parameter, Azure docs says about `state` param:\r\n\r\n&gt; A value included in the request that is also returned in the token response. It can be a string of any content that you wish. A randomly generated unique value is typically used for preventing cross-site request forgery attacks. The value can also encode information about the user&#39;s state in the app before the authentication request occurred. For instance, it could encode the page or view they were on.\r\n\r\nSo, My web application is already generating such unique string and that is a CSRf token (UUID). So I used the same CSRF token (UUID) and passed to `state` parameter. When response comes from OAuth provider I have crossed with the CSRF token from session.\r\n\r\nBut, recently security team in my company said CSRF token should not used in this way. According to them\r\n\r\n&gt; A CRSF token is a secret that should not be shared. Using it as a state value is therefore improper use of the CSRF token and introduces a (small) security risk.\r\n\r\n\r\nBut, if I look closely at other normal (non-Oauth) requests then the same CSRF token is passed in request header, so I asked them that if CSRF token is secret then why it is being passed in request header that could also &quot;introduces a (small) security risk.&quot; the answer I received is not convincing. Hence asking this question on this large forum:\r\n\r\nCan we use CSRF token as a value for `state` parameter in OAuth request? Is there any security risk involve if we use CSRF token as `state` parameter?","title":"Can I use CSRF token as value for state parameter in OAuth flow?","body":"<p>While implementing Azure OAuth flow I have used <code>state</code> parameter, Azure docs says about <code>state</code> param:</p>\n<blockquote>\n<p>A value included in the request that is also returned in the token response. It can be a string of any content that you wish. A randomly generated unique value is typically used for preventing cross-site request forgery attacks. The value can also encode information about the user's state in the app before the authentication request occurred. For instance, it could encode the page or view they were on.</p>\n</blockquote>\n<p>So, My web application is already generating such unique string and that is a CSRf token (UUID). So I used the same CSRF token (UUID) and passed to <code>state</code> parameter. When response comes from OAuth provider I have crossed with the CSRF token from session.</p>\n<p>But, recently security team in my company said CSRF token should not used in this way. According to them</p>\n<blockquote>\n<p>A CRSF token is a secret that should not be shared. Using it as a state value is therefore improper use of the CSRF token and introduces a (small) security risk.</p>\n</blockquote>\n<p>But, if I look closely at other normal (non-Oauth) requests then the same CSRF token is passed in request header, so I asked them that if CSRF token is secret then why it is being passed in request header that could also &quot;introduces a (small) security risk.&quot; the answer I received is not convincing. Hence asking this question on this large forum:</p>\n<p>Can we use CSRF token as a value for <code>state</code> parameter in OAuth request? Is there any security risk involve if we use CSRF token as <code>state</code> parameter?</p>\n"},{"tags":["java","sockets","server","client"],"comments":[{"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"score":0,"creation_date":1689106422,"post_id":76665283,"comment_id":135165584,"body_markdown":"Yes, doesn&#39;t fix it","body":"Yes, doesn&#39;t fix it"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689107766,"post_id":76665283,"comment_id":135165880,"body_markdown":"server is not sending end of line while client is expecting one - and I don&#39;t like the idea of having a `PrintWriter` instance created for each message","body":"server is not sending end of line while client is expecting one - and I don&#39;t like the idea of having a <code>PrintWriter</code> instance created for each message"},{"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"score":0,"creation_date":1689108934,"post_id":76665283,"comment_id":135166115,"body_markdown":"@user16320675 Simply changing it to `out.println()` fixed the issue. Thanks!","body":"@user16320675 Simply changing it to <code>out.println()</code> fixed the issue. Thanks!"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689120213,"post_id":76665283,"comment_id":135167407,"body_markdown":"Get rid of the `sleep()` before `accept()`. It is literally a waste of time.","body":"Get rid of the <code>sleep()</code> before <code>accept()</code>. It is literally a waste of time."}],"answers":[{"tags":[],"owner":{"account_id":6983402,"reputation":165,"user_id":5355354,"display_name":"Jordan Sheinfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694009344,"creation_date":1694009344,"answer_id":77052709,"question_id":76665283,"body_markdown":"In this method: you are using **out.print (message)** , but this will not flush the data since flush happens only on *printf, format or println* in **PrintWriter** when you initialize it with &quot;true&quot;.\r\n\r\nYou should add &quot;out.flush();&quot; just after out.print. \r\n\r\n    public static void sendMessageToPlayer(String playerID, String message) throws IOException {\r\n            System.out.println(&quot;Sending message..&quot;);\r\n            Socket socket = playerIDToSocket.get(playerID);\r\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n            out.print(message);\r\n            out.flush();\r\n        }","title":"Client doesn&#39;t receive message from server (Socket programming)","body":"<p>In this method: you are using <strong>out.print (message)</strong> , but this will not flush the data since flush happens only on <em>printf, format or println</em> in <strong>PrintWriter</strong> when you initialize it with &quot;true&quot;.</p>\n<p>You should add &quot;out.flush();&quot; just after out.print.</p>\n<pre><code>public static void sendMessageToPlayer(String playerID, String message) throws IOException {\n        System.out.println(&quot;Sending message..&quot;);\n        Socket socket = playerIDToSocket.get(playerID);\n        PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n        out.print(message);\n        out.flush();\n    }\n</code></pre>\n"}],"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694009344,"creation_date":1689104625,"question_id":76665283,"body_markdown":"Every game tick, a server wishes to send each connected client a message, using the `sendGameWorldSections()` method. It does this in a new thread, so that the game ticker keeps running and doesn&#39;t block the thread. When the static method `Server.sendMessageToPlayer(playerID,gameWorldSectionString);` is called, the method is meant to get the `Socket` of the `HashMap&lt;String,Socket&gt; playerIDToSocket` , then get its `OutputStream`, and send the message to that client. The `playerIDToSocket` map maps the `playerID` (as a string) to a `Socket`. The way it stores the playerID and Socket is: the server accepts the connection from the client, the client separately sends a message as a `JSONObject` which just states the PlayerID of the player who just connected, and then the server stores it, along with the `Socket`, into the hashmap. The client is  supposed to print each message it receives onto the console. When the server sends the message to the client (The game world section), the client never receives the message. But sometimes, when I stop the Client program, it will just print every single message it received since it connected, all in one batch. Is it blocking somewhere? I can&#39;t seem to solve the problem.\r\n\r\nGameTicker class:\r\n\r\n    package GameEngine;\r\n    \r\n    import GameEngine.Game.PlayerManager;\r\n    import GameEngine.Game.World;\r\n    import GameEngine.Network.Server;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    \r\n    public class GameTicker extends Thread{\r\n    \r\n        public final long GAME_TICK = 2000000000; // The smallest unit of time in the game. (0.2s)\r\n        public int ticksPassed = 0;\r\n    \r\n    \r\n        /**\r\n         * This is the beating heart of the game engine. It controls the game state, receives inputs, and informs the outputter\r\n         * to send stuff to clients.\r\n         *\r\n         * Takes inputs of the current tick and then processes them (same thread)\r\n         *\r\n         * After each tick end, send messages to all clients informing them of the new sections.\r\n         *\r\n         *\r\n         */\r\n        @Override\r\n        public void run() {\r\n            long gameStartTime = System.nanoTime();\r\n            long lastTickEnd = System.nanoTime();\r\n            while(true){\r\n                if(System.nanoTime() - lastTickEnd &gt;= GAME_TICK){\r\n    \r\n                    //GameStateManager.performPlayerActions();\r\n                    //GameStateManager.performGameWorldActions(); //\r\n                    new Thread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            try {\r\n                                sendGameWorldSections();\r\n                            } catch (JSONException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    }).start();\r\n                    lastTickEnd = System.nanoTime();\r\n                    ticksPassed++;\r\n                    System.out.println(&quot;&gt;&gt;GAME TICKER: Tick passed. #&quot; + ticksPassed );\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Sends  sections of the game to each player that is logged in.\r\n         * @throws JSONException\r\n         */\r\n        public void sendGameWorldSections() throws JSONException {\r\n            System.out.println(&quot;Sending game world sections..&quot;);\r\n            for(int i = 0; i &lt; PlayerManager.loggedInPlayerIDs.size(); i++){\r\n    \r\n                String playerID = PlayerManager.loggedInPlayerIDs.get(i);\r\n    \r\n                int xP = PlayerManager.players.get(playerID).getX(); // Position x of player\r\n                int yP = PlayerManager.players.get(playerID).getY(); // Position y of player\r\n                int zP = PlayerManager.players.get(playerID).getZ();\r\n    \r\n                long start = System.currentTimeMillis();\r\n                JSONObject gameWorldSectionJSON = null;\r\n                try {\r\n                    gameWorldSectionJSON = World.getGameWorldSection(zP,xP,yP);\r\n                } catch (JSONException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                System.out.println(System.currentTimeMillis() - start + &quot;MS to get JSON of section.&quot;);\r\n                try {\r\n                    gameWorldSectionJSON.put(&quot;RESULT&quot;,&quot;GAME_WORLD_SECTION&quot;);\r\n                } catch (JSONException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                String gameWorldSectionString = gameWorldSectionJSON.toString();\r\n                try {\r\n                    Server.sendMessageToPlayer(playerID,gameWorldSectionString);\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nServer class:\r\n\r\n    package GameEngine.Network;\r\n    \r\n    import GameEngine.Game.Player;\r\n    import GameEngine.Game.PlayerManager;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    \r\n    // Server class\r\n\r\n    public class Server extends Thread{\r\n        /**\r\n         * We must have:\r\n         * - Player ID -&gt; InetAddress\r\n         */\r\n    \r\n        /**\r\n         * STEP 1: Client connects to the server.\r\n         * STEP 2: Client sends its user ID. The server then adds its inetaddress to the list. This is called Logging in.\r\n         *\r\n         * STEP 3..n:\r\n         * - Client makes requests to the server, which the ClientHandler handles the message then replies\r\n         * - Server can send message to a client or multiple clients.\r\n         */\r\n    \r\n        public static HashMap&lt;String, Socket&gt;  playerIDToSocket = new HashMap&lt;&gt;(); // THESE ARE LOGGED IN.\r\n    \r\n        public void run()\r\n        {\r\n            listenForConnections();\r\n        }\r\n        private void listenForConnections(){\r\n            ServerSocket server = null;\r\n            try {\r\n    \r\n                server = new ServerSocket(1234);\r\n                server.setReuseAddress(true);\r\n    \r\n                while (true) {\r\n                    Thread.sleep(1);\r\n    \r\n                    Socket client = server.accept();\r\n    \r\n    \r\n                    System.out.println(&quot;New client connected&quot;\r\n                            + client.getInetAddress()\r\n                            .getHostAddress());\r\n    \r\n                    ClientHandler connectedClient = new ClientHandler(client);\r\n    \r\n                    connectedClient.start();\r\n                }\r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n    \r\n        }\r\n    //    public void sendMessagesToPlayers() throws InterruptedException, IOException {\r\n    //        while(true){\r\n    //            Thread.sleep(1);\r\n    //            for(int i = 0; i &lt; messagesToPlayers.size(); i++){\r\n    //                ClientMessage clientMessage = messagesToPlayers.get(i);\r\n    //                PrintWriter out = new PrintWriter(clientMessage.getSocket().getOutputStream(), true);\r\n    //                out.print(clientMessage.getMessage());\r\n    //                out.flush();\r\n    //            }\r\n    //        }\r\n    //    }\r\n    \r\n        public static void sendMessageToPlayer(String playerID, String message) throws IOException {\r\n            System.out.println(&quot;Sending message..&quot;);\r\n            Socket socket = playerIDToSocket.get(playerID);\r\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n            out.print(message);\r\n        }\r\n    \r\n    \r\n    \r\n        private class ClientHandler extends Thread {\r\n            private final Socket clientSocket;\r\n    \r\n            // Constructor\r\n            public ClientHandler(Socket socket)\r\n            {\r\n                this.clientSocket = socket;\r\n            }\r\n    \r\n            public void run()\r\n            {\r\n    \r\n                try {\r\n    \r\n                    PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n    \r\n                    String line;\r\n                    while(true) {\r\n                        Thread.sleep(1);\r\n                        while ((line = in.readLine()) != null) {\r\n    \r\n                            // writing the received message from\r\n                            // client\r\n                            System.out.printf(&quot; Sent from client &quot;+ clientSocket +&quot;: %s\\n&quot;, line);\r\n                            JSONObject request = new JSONObject(line);\r\n                            switch (request.getString(&quot;COMMAND&quot;)) {\r\n                                case &quot;SEND_SOCKET_DATA&quot;:\r\n                                    String playerID = request.getString(&quot;PLAYER_ID&quot;);\r\n                                    playerIDToSocket.put(playerID, clientSocket);\r\n                                    PlayerManager.loggedInPlayerIDs.add(playerID);\r\n                                    break;\r\n                            }\r\n                            out.println(&quot;You are now logged in.&quot;);\r\n                        }\r\n                    }\r\n                }\r\n                catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } catch (JSONException e) {\r\n                    throw new RuntimeException(e);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nClient class:\r\n\r\n    package Network;\r\n    \r\n    import Game.Entities.Doorway;\r\n    import Game.Entities.EmptyBlock;\r\n    import Game.Entities.GraphicEntity;\r\n    import Game.GameWorldSection;\r\n    import Game.Player;\r\n    import Game.Tile;\r\n    import Graphics.SpriteData;\r\n    import jdk.jshell.execution.Util;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import javax.swing.text.Utilities;\r\n    import java.io.*;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.Scanner;\r\n    \r\n    public class Client extends Thread{\r\n    \r\n    \r\n        // driver code\r\n    \r\n        private static Socket socket;\r\n        public static boolean isJSONValid(String test) {\r\n            try {\r\n                new JSONObject(test);\r\n            } catch (JSONException ex) {\r\n                // edited, to include @Arthur&#39;s comment\r\n                // e.g. in case JSONArray is valid as well...\r\n                try {\r\n                    new JSONArray(test);\r\n                } catch (JSONException ex1) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        public void listen(BufferedReader in){\r\n    \r\n            // Listening for server messages\r\n            try {\r\n                String message = in.readLine();\r\n                System.out.println(&quot;[SERVER]: &quot;\r\n                        +message);\r\n                if(isJSONValid(message)){\r\n                    JSONObject json = new JSONObject(message);\r\n                    switch(json.getString(&quot;RESULT&quot;)) {\r\n                        case &quot;GAME_WORLD_SECTION&quot;:\r\n                            // Clear the tiles\r\n                            GameWorldSection.clearTiles();\r\n                            Tile[][] tiles = GameWorldSection.getTiles();\r\n                            JSONObject coordinates = json.getJSONObject(&quot;COORDINATES&quot;);\r\n                            Iterator&lt;String&gt; coordinatesIterator = coordinates.keys();\r\n                            while (coordinatesIterator.hasNext()) {\r\n                                String coordinateKey = coordinatesIterator.next();\r\n                                JSONObject coordinateJSON = coordinates.getJSONObject(coordinateKey);\r\n                                int real_x = Integer.parseInt(coordinateKey.split(&quot;,&quot;)[0]);\r\n                                int real_y = Integer.parseInt(coordinateKey.split(&quot;,&quot;)[1]);\r\n                                int painted_x = real_x - json.getInt(&quot;LOWEST_X&quot;);\r\n                                int painted_y = real_y - json.getInt(&quot;LOWEST_Y&quot;);\r\n                                JSONArray entities = coordinateJSON.getJSONArray(&quot;ENTITIES&quot;);\r\n                                for (int i = 0; i &lt; entities.length(); i++) {\r\n                                    JSONObject playerObj = entities.getJSONObject(i);\r\n                                    switch (playerObj.getString(&quot;NAME&quot;)) {\r\n                                        case &quot;EMPTY_BLOCK&quot;:\r\n                                            tiles[painted_x][painted_y].addEntity(new EmptyBlock());\r\n                                            break;\r\n                                        case &quot;TUTORIAL_FLOOR&quot;:\r\n                                            tiles[painted_x][painted_y].addEntity(new GraphicEntity(SpriteData.SPRITE_NAME.TUTORIAL_GROUND));\r\n                                            break;\r\n                                        case &quot;DOORWAY&quot;:\r\n                                            tiles[painted_x][painted_y].addEntity(new Doorway(SpriteData.SPRITE_NAME.DOORWAY));\r\n                                            break;\r\n                                        case &quot;PLAYER&quot;:\r\n                                            SpriteData.SPRITE_NAME spriteName = null;\r\n    \r\n                                            boolean isMoving = playerObj.getBoolean(&quot;IS_MOVING&quot;);\r\n                                            switch (playerObj.getString(&quot;DIRECTION_FACING&quot;)) {\r\n                                                case &quot;NORTH&quot;:\r\n                                                    if (isMoving) {\r\n                                                        spriteName = (SpriteData.SPRITE_NAME.CHARACTER_WALKING_NORTH);\r\n                                                    } else {\r\n                                                        spriteName = (SpriteData.SPRITE_NAME.CHARACTER_FACING_NORTH);\r\n                                                    }\r\n                                                    break;\r\n                                                case &quot;WEST&quot;:\r\n                                                    if (isMoving) {\r\n                                                        spriteName = (SpriteData.SPRITE_NAME.CHARACTER_WALKING_WEST);\r\n                                                    } else {\r\n                                                        spriteName = (SpriteData.SPRITE_NAME.CHARACTER_FACING_WEST);\r\n                                                    }\r\n                                                    break;\r\n                                                case &quot;SOUTH&quot;:\r\n                                                    if (isMoving) {\r\n                                                        spriteName = (SpriteData.SPRITE_NAME.CHARACTER_WALKING_SOUTH);\r\n                                                    } else {\r\n                                                        spriteName = (SpriteData.SPRITE_NAME.CHARACTER_FACING_SOUTH);\r\n                                                    }\r\n                                                    break;\r\n                                                case &quot;EAST&quot;:\r\n                                                    if (isMoving) {\r\n                                                        spriteName = (SpriteData.SPRITE_NAME.CHARACTER_WALKING_EAST);\r\n                                                    } else {\r\n                                                        spriteName = (SpriteData.SPRITE_NAME.CHARACTER_FACING_EAST);\r\n                                                    }\r\n                                                    break;\r\n                                            }\r\n                                            tiles[painted_x][painted_y].addEntity(new Player(spriteName));\r\n                                            break;\r\n                                    }\r\n                                }\r\n                            }\r\n                    }\r\n                }\r\n                else{\r\n                    //\r\n                }\r\n    \r\n                } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (JSONException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        public void run()\r\n        {\r\n            // establish a connection by providing host and port\r\n            // number\r\n    \r\n    \r\n            try {\r\n                socket = new Socket(&quot;localhost&quot;, 1234);\r\n                PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n                // reading from server\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n    \r\n    \r\n                JSONObject clientData = new JSONObject();\r\n                clientData.put(&quot;COMMAND&quot;,&quot;SEND_SOCKET_DATA&quot;);\r\n                clientData.put(&quot;PLAYER_ID&quot;,&quot;123&quot;);\r\n                out.println(clientData.toString());\r\n                out.flush();\r\n                while(true) {\r\n                    listen(in);\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }catch(JSONException e) {\r\n            }\r\n            // writing to server\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Client doesn&#39;t receive message from server (Socket programming)","body":"<p>Every game tick, a server wishes to send each connected client a message, using the <code>sendGameWorldSections()</code> method. It does this in a new thread, so that the game ticker keeps running and doesn't block the thread. When the static method <code>Server.sendMessageToPlayer(playerID,gameWorldSectionString);</code> is called, the method is meant to get the <code>Socket</code> of the <code>HashMap&lt;String,Socket&gt; playerIDToSocket</code> , then get its <code>OutputStream</code>, and send the message to that client. The <code>playerIDToSocket</code> map maps the <code>playerID</code> (as a string) to a <code>Socket</code>. The way it stores the playerID and Socket is: the server accepts the connection from the client, the client separately sends a message as a <code>JSONObject</code> which just states the PlayerID of the player who just connected, and then the server stores it, along with the <code>Socket</code>, into the hashmap. The client is  supposed to print each message it receives onto the console. When the server sends the message to the client (The game world section), the client never receives the message. But sometimes, when I stop the Client program, it will just print every single message it received since it connected, all in one batch. Is it blocking somewhere? I can't seem to solve the problem.</p>\n<p>GameTicker class:</p>\n<pre><code>package GameEngine;\n\nimport GameEngine.Game.PlayerManager;\nimport GameEngine.Game.World;\nimport GameEngine.Network.Server;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\n\n\npublic class GameTicker extends Thread{\n\n    public final long GAME_TICK = 2000000000; // The smallest unit of time in the game. (0.2s)\n    public int ticksPassed = 0;\n\n\n    /**\n     * This is the beating heart of the game engine. It controls the game state, receives inputs, and informs the outputter\n     * to send stuff to clients.\n     *\n     * Takes inputs of the current tick and then processes them (same thread)\n     *\n     * After each tick end, send messages to all clients informing them of the new sections.\n     *\n     *\n     */\n    @Override\n    public void run() {\n        long gameStartTime = System.nanoTime();\n        long lastTickEnd = System.nanoTime();\n        while(true){\n            if(System.nanoTime() - lastTickEnd &gt;= GAME_TICK){\n\n                //GameStateManager.performPlayerActions();\n                //GameStateManager.performGameWorldActions(); //\n                new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        try {\n                            sendGameWorldSections();\n                        } catch (JSONException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                }).start();\n                lastTickEnd = System.nanoTime();\n                ticksPassed++;\n                System.out.println(&quot;&gt;&gt;GAME TICKER: Tick passed. #&quot; + ticksPassed );\n            }\n        }\n    }\n\n    /**\n     * Sends  sections of the game to each player that is logged in.\n     * @throws JSONException\n     */\n    public void sendGameWorldSections() throws JSONException {\n        System.out.println(&quot;Sending game world sections..&quot;);\n        for(int i = 0; i &lt; PlayerManager.loggedInPlayerIDs.size(); i++){\n\n            String playerID = PlayerManager.loggedInPlayerIDs.get(i);\n\n            int xP = PlayerManager.players.get(playerID).getX(); // Position x of player\n            int yP = PlayerManager.players.get(playerID).getY(); // Position y of player\n            int zP = PlayerManager.players.get(playerID).getZ();\n\n            long start = System.currentTimeMillis();\n            JSONObject gameWorldSectionJSON = null;\n            try {\n                gameWorldSectionJSON = World.getGameWorldSection(zP,xP,yP);\n            } catch (JSONException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(System.currentTimeMillis() - start + &quot;MS to get JSON of section.&quot;);\n            try {\n                gameWorldSectionJSON.put(&quot;RESULT&quot;,&quot;GAME_WORLD_SECTION&quot;);\n            } catch (JSONException e) {\n                throw new RuntimeException(e);\n            }\n            String gameWorldSectionString = gameWorldSectionJSON.toString();\n            try {\n                Server.sendMessageToPlayer(playerID,gameWorldSectionString);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>Server class:</p>\n<pre><code>package GameEngine.Network;\n\nimport GameEngine.Game.Player;\nimport GameEngine.Game.PlayerManager;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\n// Server class\n\npublic class Server extends Thread{\n    /**\n     * We must have:\n     * - Player ID -&gt; InetAddress\n     */\n\n    /**\n     * STEP 1: Client connects to the server.\n     * STEP 2: Client sends its user ID. The server then adds its inetaddress to the list. This is called Logging in.\n     *\n     * STEP 3..n:\n     * - Client makes requests to the server, which the ClientHandler handles the message then replies\n     * - Server can send message to a client or multiple clients.\n     */\n\n    public static HashMap&lt;String, Socket&gt;  playerIDToSocket = new HashMap&lt;&gt;(); // THESE ARE LOGGED IN.\n\n    public void run()\n    {\n        listenForConnections();\n    }\n    private void listenForConnections(){\n        ServerSocket server = null;\n        try {\n\n            server = new ServerSocket(1234);\n            server.setReuseAddress(true);\n\n            while (true) {\n                Thread.sleep(1);\n\n                Socket client = server.accept();\n\n\n                System.out.println(&quot;New client connected&quot;\n                        + client.getInetAddress()\n                        .getHostAddress());\n\n                ClientHandler connectedClient = new ClientHandler(client);\n\n                connectedClient.start();\n            }\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n\n\n    }\n//    public void sendMessagesToPlayers() throws InterruptedException, IOException {\n//        while(true){\n//            Thread.sleep(1);\n//            for(int i = 0; i &lt; messagesToPlayers.size(); i++){\n//                ClientMessage clientMessage = messagesToPlayers.get(i);\n//                PrintWriter out = new PrintWriter(clientMessage.getSocket().getOutputStream(), true);\n//                out.print(clientMessage.getMessage());\n//                out.flush();\n//            }\n//        }\n//    }\n\n    public static void sendMessageToPlayer(String playerID, String message) throws IOException {\n        System.out.println(&quot;Sending message..&quot;);\n        Socket socket = playerIDToSocket.get(playerID);\n        PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n        out.print(message);\n    }\n\n\n\n    private class ClientHandler extends Thread {\n        private final Socket clientSocket;\n\n        // Constructor\n        public ClientHandler(Socket socket)\n        {\n            this.clientSocket = socket;\n        }\n\n        public void run()\n        {\n\n            try {\n\n                PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\n                BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n\n                String line;\n                while(true) {\n                    Thread.sleep(1);\n                    while ((line = in.readLine()) != null) {\n\n                        // writing the received message from\n                        // client\n                        System.out.printf(&quot; Sent from client &quot;+ clientSocket +&quot;: %s\\n&quot;, line);\n                        JSONObject request = new JSONObject(line);\n                        switch (request.getString(&quot;COMMAND&quot;)) {\n                            case &quot;SEND_SOCKET_DATA&quot;:\n                                String playerID = request.getString(&quot;PLAYER_ID&quot;);\n                                playerIDToSocket.put(playerID, clientSocket);\n                                PlayerManager.loggedInPlayerIDs.add(playerID);\n                                break;\n                        }\n                        out.println(&quot;You are now logged in.&quot;);\n                    }\n                }\n            }\n            catch (IOException e) {\n                e.printStackTrace();\n            } catch (JSONException e) {\n                throw new RuntimeException(e);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Client class:</p>\n<pre><code>package Network;\n\nimport Game.Entities.Doorway;\nimport Game.Entities.EmptyBlock;\nimport Game.Entities.GraphicEntity;\nimport Game.GameWorldSection;\nimport Game.Player;\nimport Game.Tile;\nimport Graphics.SpriteData;\nimport jdk.jshell.execution.Util;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport javax.swing.text.Utilities;\nimport java.io.*;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.Scanner;\n\npublic class Client extends Thread{\n\n\n    // driver code\n\n    private static Socket socket;\n    public static boolean isJSONValid(String test) {\n        try {\n            new JSONObject(test);\n        } catch (JSONException ex) {\n            // edited, to include @Arthur's comment\n            // e.g. in case JSONArray is valid as well...\n            try {\n                new JSONArray(test);\n            } catch (JSONException ex1) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public void listen(BufferedReader in){\n\n        // Listening for server messages\n        try {\n            String message = in.readLine();\n            System.out.println(&quot;[SERVER]: &quot;\n                    +message);\n            if(isJSONValid(message)){\n                JSONObject json = new JSONObject(message);\n                switch(json.getString(&quot;RESULT&quot;)) {\n                    case &quot;GAME_WORLD_SECTION&quot;:\n                        // Clear the tiles\n                        GameWorldSection.clearTiles();\n                        Tile[][] tiles = GameWorldSection.getTiles();\n                        JSONObject coordinates = json.getJSONObject(&quot;COORDINATES&quot;);\n                        Iterator&lt;String&gt; coordinatesIterator = coordinates.keys();\n                        while (coordinatesIterator.hasNext()) {\n                            String coordinateKey = coordinatesIterator.next();\n                            JSONObject coordinateJSON = coordinates.getJSONObject(coordinateKey);\n                            int real_x = Integer.parseInt(coordinateKey.split(&quot;,&quot;)[0]);\n                            int real_y = Integer.parseInt(coordinateKey.split(&quot;,&quot;)[1]);\n                            int painted_x = real_x - json.getInt(&quot;LOWEST_X&quot;);\n                            int painted_y = real_y - json.getInt(&quot;LOWEST_Y&quot;);\n                            JSONArray entities = coordinateJSON.getJSONArray(&quot;ENTITIES&quot;);\n                            for (int i = 0; i &lt; entities.length(); i++) {\n                                JSONObject playerObj = entities.getJSONObject(i);\n                                switch (playerObj.getString(&quot;NAME&quot;)) {\n                                    case &quot;EMPTY_BLOCK&quot;:\n                                        tiles[painted_x][painted_y].addEntity(new EmptyBlock());\n                                        break;\n                                    case &quot;TUTORIAL_FLOOR&quot;:\n                                        tiles[painted_x][painted_y].addEntity(new GraphicEntity(SpriteData.SPRITE_NAME.TUTORIAL_GROUND));\n                                        break;\n                                    case &quot;DOORWAY&quot;:\n                                        tiles[painted_x][painted_y].addEntity(new Doorway(SpriteData.SPRITE_NAME.DOORWAY));\n                                        break;\n                                    case &quot;PLAYER&quot;:\n                                        SpriteData.SPRITE_NAME spriteName = null;\n\n                                        boolean isMoving = playerObj.getBoolean(&quot;IS_MOVING&quot;);\n                                        switch (playerObj.getString(&quot;DIRECTION_FACING&quot;)) {\n                                            case &quot;NORTH&quot;:\n                                                if (isMoving) {\n                                                    spriteName = (SpriteData.SPRITE_NAME.CHARACTER_WALKING_NORTH);\n                                                } else {\n                                                    spriteName = (SpriteData.SPRITE_NAME.CHARACTER_FACING_NORTH);\n                                                }\n                                                break;\n                                            case &quot;WEST&quot;:\n                                                if (isMoving) {\n                                                    spriteName = (SpriteData.SPRITE_NAME.CHARACTER_WALKING_WEST);\n                                                } else {\n                                                    spriteName = (SpriteData.SPRITE_NAME.CHARACTER_FACING_WEST);\n                                                }\n                                                break;\n                                            case &quot;SOUTH&quot;:\n                                                if (isMoving) {\n                                                    spriteName = (SpriteData.SPRITE_NAME.CHARACTER_WALKING_SOUTH);\n                                                } else {\n                                                    spriteName = (SpriteData.SPRITE_NAME.CHARACTER_FACING_SOUTH);\n                                                }\n                                                break;\n                                            case &quot;EAST&quot;:\n                                                if (isMoving) {\n                                                    spriteName = (SpriteData.SPRITE_NAME.CHARACTER_WALKING_EAST);\n                                                } else {\n                                                    spriteName = (SpriteData.SPRITE_NAME.CHARACTER_FACING_EAST);\n                                                }\n                                                break;\n                                        }\n                                        tiles[painted_x][painted_y].addEntity(new Player(spriteName));\n                                        break;\n                                }\n                            }\n                        }\n                }\n            }\n            else{\n                //\n            }\n\n            } catch (IOException e) {\n            throw new RuntimeException(e);\n        } catch (JSONException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    public void run()\n    {\n        // establish a connection by providing host and port\n        // number\n\n\n        try {\n            socket = new Socket(&quot;localhost&quot;, 1234);\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n            // reading from server\n            BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n\n\n            JSONObject clientData = new JSONObject();\n            clientData.put(&quot;COMMAND&quot;,&quot;SEND_SOCKET_DATA&quot;);\n            clientData.put(&quot;PLAYER_ID&quot;,&quot;123&quot;);\n            out.println(clientData.toString());\n            out.flush();\n            while(true) {\n                listen(in);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }catch(JSONException e) {\n        }\n        // writing to server\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","macos","jvm"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1694009391,"post_id":77052686,"comment_id":135835121,"body_markdown":"Why are you using an old version of Eclipse? Use the current 2023-06 and make sure the Eclipse and Java are both aarm64 or both x86_64","body":"Why are you using an old version of Eclipse? Use the current 2023-06 and make sure the Eclipse and Java are both aarm64 or both x86_64"},{"owner":{"account_id":29379635,"reputation":1,"user_id":22510443,"display_name":"Daniel"},"score":0,"creation_date":1694011297,"post_id":77052686,"comment_id":135835623,"body_markdown":"Thanks for your kind reply.\nI am a beginner and downloaded 2022 although it is an older version to get started with the textbook.\nAfter some research I found that I downloaded the package including the Japanese plugin and perhaps there was a problem there.\nI will use the latest official version.","body":"Thanks for your kind reply. I am a beginner and downloaded 2022 although it is an older version to get started with the textbook. After some research I found that I downloaded the package including the Japanese plugin and perhaps there was a problem there. I will use the latest official version."}],"owner":{"account_id":29379635,"reputation":1,"user_id":22510443,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694009729,"answer_count":0,"score":0,"last_activity_date":1694009190,"creation_date":1694009190,"question_id":77052686,"body_markdown":"When I downloaded Eclipse IDE (Version 2022-12) and actually tried to open it on MacOS Ventura 13.4(arm64), I got the image &quot;The JVM shared library &quot;/Library/Java/JavaVirtualMachines/jdk-20.jdk/Contents/Home/bin/. /lib/server/libjvm.dylib&quot;does not contain the JNI_CreateJavaVM symbol.\r\n[enter image description here](https://i.stack.imgur.com/Uz3I7.png)\r\n\r\nI have looked at other sites to find the jvm home path and rewritten info.plst but still get the same error message as before.\r\n[enter image description here](https://i.stack.imgur.com/IcNmx.png)  [enter image description here](https://i.stack.imgur.com/19Bfg.png)\r\n\r\nI would be glad to know how to solve this problem.\r\n\r\nthanks for the help","title":"EclipseIDE(2022-12): JVM shared library does not contain the JNI_CreateJavaVM symbol","body":"<p>When I downloaded Eclipse IDE (Version 2022-12) and actually tried to open it on MacOS Ventura 13.4(arm64), I got the image &quot;The JVM shared library &quot;/Library/Java/JavaVirtualMachines/jdk-20.jdk/Contents/Home/bin/. /lib/server/libjvm.dylib&quot;does not contain the JNI_CreateJavaVM symbol.\n<a href=\"https://i.stack.imgur.com/Uz3I7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have looked at other sites to find the jvm home path and rewritten info.plst but still get the same error message as before.\n<a href=\"https://i.stack.imgur.com/IcNmx.png\" rel=\"nofollow noreferrer\">enter image description here</a>  <a href=\"https://i.stack.imgur.com/19Bfg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I would be glad to know how to solve this problem.</p>\n<p>thanks for the help</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1693372819,"post_id":77001805,"comment_id":135750248,"body_markdown":"You can try [this](https://stackoverflow.com/questions/76591604/how-to-write-a-native-query-in-jpa-for-update/76619735#76619735)","body":"You can try <a href=\"https://stackoverflow.com/questions/76591604/how-to-write-a-native-query-in-jpa-for-update/76619735#76619735\">this</a>"},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1693459123,"post_id":77001805,"comment_id":135764258,"body_markdown":"How about when you extend `JpaRepository` instead? i.e. change `extends CrudRepository&lt;Person, String&gt; ` to `extends JpaRepository&lt;Person, Long&gt; ` . Can you also add source code of `Person` entity to the question?","body":"How about when you extend <code>JpaRepository</code> instead? i.e. change <code>extends CrudRepository&lt;Person, String&gt; </code> to <code>extends JpaRepository&lt;Person, Long&gt; </code> . Can you also add source code of <code>Person</code> entity to the question?"},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1694065709,"post_id":77001805,"comment_id":135842645,"body_markdown":"Doesn&#39;t `Person` entity have an auto incremented field `private Long id`?","body":"Doesn&#39;t <code>Person</code> entity have an auto incremented field <code>private Long id</code>?"},{"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"score":0,"creation_date":1694094536,"post_id":77001805,"comment_id":135848306,"body_markdown":"no, `personId` is a hash generated string value","body":"no, <code>personId</code> is a hash generated string value"}],"answers":[{"tags":[],"owner":{"account_id":6871126,"reputation":930,"user_id":6070546,"display_name":"Yusuf Ganiyu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693325398,"creation_date":1693325398,"answer_id":77001891,"question_id":77001805,"body_markdown":"This is a bit tricky because you did not add any code that generated this error message.\r\n\r\nYou can try to debug with the following:\r\n\r\n 1. Try adding the JPA repositories and transaction management with `@EnableJpaRepositories` and `@EnableTransactionManagement` to see if it makes any difference. Something like:\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\n@EnableTransactionManagement\r\npublic class MyApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n2. There are sometimes issues with proxying with Spring interface which can lead to transaction annotations not being processed. Try to perform the update operation through a Service class instead of doing it directly in the main class or another component, an example:\r\n\r\n```java\r\n@Service\r\npublic class PersonService {\r\n    \r\n    @Autowired\r\n    private PersonRepo personRepo;\r\n    \r\n    @Transactional\r\n    public void updatePersonStatusToActive(String status) {\r\n        personRepo.updatePersonStatusToActive(status);\r\n    }\r\n}\r\n```\r\n\r\n3. You can also add transaction logging for more visibility into the root cause `logging.level.org.springframework.transaction=DEBUG`","title":"javax.persistence.TransactionRequiredException: Executing an update/delete query : Spring boot 2.7.5","body":"<p>This is a bit tricky because you did not add any code that generated this error message.</p>\n<p>You can try to debug with the following:</p>\n<ol>\n<li>Try adding the JPA repositories and transaction management with <code>@EnableJpaRepositories</code> and <code>@EnableTransactionManagement</code> to see if it makes any difference. Something like:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableJpaRepositories\n@EnableTransactionManagement\npublic class MyApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>There are sometimes issues with proxying with Spring interface which can lead to transaction annotations not being processed. Try to perform the update operation through a Service class instead of doing it directly in the main class or another component, an example:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class PersonService {\n    \n    @Autowired\n    private PersonRepo personRepo;\n    \n    @Transactional\n    public void updatePersonStatusToActive(String status) {\n        personRepo.updatePersonStatusToActive(status);\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>You can also add transaction logging for more visibility into the root cause <code>logging.level.org.springframework.transaction=DEBUG</code></li>\n</ol>\n"}],"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694008893,"creation_date":1693324649,"question_id":77001805,"body_markdown":"I&#39;m having below error while trying to do an `update` using `Spring Boot 2.7.5`. I&#39;ve tried different approach suggested in different places but still getting the same issue. There&#39;s one issue regarding this for `spring-boot.1.2.5.RELASE` as stated in this [page][1]. I wonder if the same happens with `Spring Boot 2.7.5`. Below is my code:\r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    @Repository\r\n    public interface PersonRepo extends CrudRepository&lt;Person, String&gt; {\r\n    \t\t\r\n    \t@Modifying\r\n    \t@Transactional\r\n    \t@Query(value = &quot;UPDATE PERSON SET STATUS = &#39;ACTIVE&#39; WHERE STATUS = :status&quot;, nativeQuery = true)\r\n    \tvoid updatePersonStatusToActive(@Param(&quot;status&quot;) String status);\r\n    }\r\n\r\nI&#39;ve also tried putting the `@Transactional` at the interface level right below the `@Repository`, same issue.\r\n\r\n**Stacktrace:**\r\n\r\n    Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:403)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat com.sun.proxy.$Proxy113.updatePersonStatusToActive(Unknown Source)\r\n    \tat com.people.PeopleApplication.processPerson(PeopleApplication.java:304)\r\n    \tat com.people.PeopleApplication.run(PeopleApplication.java:205)\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n    \t... 5 common frames omitted\r\n    Caused by: javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:445)\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.executeUpdate(AbstractProducedQuery.java:1692)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$ModifyingExecution.doExecute(JpaQueryExecution.java:241)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \t... 15 common frames omitted\r\n\r\n**Person.java**\r\n\r\n    @Entity\r\n    @Table(schema = &quot;APP_OWNER&quot;, name = &quot;PERSON&quot;)\r\n    @Data\r\n    public class Person {\t\r\n    \t@Id\r\n    \t@Column(name = &quot;PERSON_ID&quot;)\r\n    \tprivate String personId;\r\n    \t\r\n    \t@Column(name = &quot;FULL_NAME&quot;)\r\n    \tprivate String fullName;\r\n    \t\r\n    \t@Column(name = &quot;ADDRESS&quot;)\r\n    \tprivate String address;\r\n    \t\r\n    \t@Column(name = &quot;STATUS&quot;)\r\n    \tprivate String status;\r\n    \t\r\n    \t@Column(name = &quot;CREATED_DATE&quot;)\r\n    \tprivate Date createdDate;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/3576","title":"javax.persistence.TransactionRequiredException: Executing an update/delete query : Spring boot 2.7.5","body":"<p>I'm having below error while trying to do an <code>update</code> using <code>Spring Boot 2.7.5</code>. I've tried different approach suggested in different places but still getting the same issue. There's one issue regarding this for <code>spring-boot.1.2.5.RELASE</code> as stated in this <a href=\"https://github.com/spring-projects/spring-boot/issues/3576\" rel=\"nofollow noreferrer\">page</a>. I wonder if the same happens with <code>Spring Boot 2.7.5</code>. Below is my code:</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n\n@Repository\npublic interface PersonRepo extends CrudRepository&lt;Person, String&gt; {\n        \n    @Modifying\n    @Transactional\n    @Query(value = &quot;UPDATE PERSON SET STATUS = 'ACTIVE' WHERE STATUS = :status&quot;, nativeQuery = true)\n    void updatePersonStatusToActive(@Param(&quot;status&quot;) String status);\n}\n</code></pre>\n<p>I've also tried putting the <code>@Transactional</code> at the interface level right below the <code>@Repository</code>, same issue.</p>\n<p><strong>Stacktrace:</strong></p>\n<pre><code>Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:403)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy113.updatePersonStatusToActive(Unknown Source)\n    at com.people.PeopleApplication.processPerson(PeopleApplication.java:304)\n    at com.people.PeopleApplication.run(PeopleApplication.java:205)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\n    ... 5 common frames omitted\nCaused by: javax.persistence.TransactionRequiredException: Executing an update/delete query\n    at org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:445)\n    at org.hibernate.query.internal.AbstractProducedQuery.executeUpdate(AbstractProducedQuery.java:1692)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$ModifyingExecution.doExecute(JpaQueryExecution.java:241)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 15 common frames omitted\n</code></pre>\n<p><strong>Person.java</strong></p>\n<pre><code>@Entity\n@Table(schema = &quot;APP_OWNER&quot;, name = &quot;PERSON&quot;)\n@Data\npublic class Person {   \n    @Id\n    @Column(name = &quot;PERSON_ID&quot;)\n    private String personId;\n    \n    @Column(name = &quot;FULL_NAME&quot;)\n    private String fullName;\n    \n    @Column(name = &quot;ADDRESS&quot;)\n    private String address;\n    \n    @Column(name = &quot;STATUS&quot;)\n    private String status;\n    \n    @Column(name = &quot;CREATED_DATE&quot;)\n    private Date createdDate;\n}\n</code></pre>\n"},{"tags":["java","maven","jersey","maven-assembly-plugin"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1694527155,"post_id":77050539,"comment_id":135900678,"body_markdown":"Consider using the maven-shade-plugin instead of assembly-plugin for this","body":"Consider using the maven-shade-plugin instead of assembly-plugin for this"}],"answers":[{"tags":[],"owner":{"account_id":6983402,"reputation":165,"user_id":5355354,"display_name":"Jordan Sheinfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694008341,"creation_date":1694008341,"answer_id":77052576,"question_id":77050539,"body_markdown":"You could use a workaround like this:\r\n    \r\nCreate a file named **${PROJECT_DIR}/AutoDiscoverable.txt** with the content you wish like:\r\n    \r\n\r\n&gt; a.b.client.sdk.common.client.AutoConfigService \r\n&gt; org.glassfish.jersey.jackson.internal.JacksonAutoDiscoverable\r\n\r\nThen run **mvn package** using the following section instead of the assembly-plugin in pom.xml:\r\n\r\nThis will exclude the original *org.glassfish.jersey.internal.spi.AutoDiscoverable* file from the package and replace it with your manually created one.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\r\n                                    &lt;resource&gt;META-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable&lt;/resource&gt;\r\n                                    &lt;file&gt;AutoDiscoverable.txt&lt;/file&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"maven Assembly plugin is not appending/merging META-INF/services/ spi.AutoDiscoverable","body":"<p>You could use a workaround like this:</p>\n<p>Create a file named <strong>${PROJECT_DIR}/AutoDiscoverable.txt</strong> with the content you wish like:</p>\n<blockquote>\n<p>a.b.client.sdk.common.client.AutoConfigService\norg.glassfish.jersey.jackson.internal.JacksonAutoDiscoverable</p>\n</blockquote>\n<p>Then run <strong>mvn package</strong> using the following section instead of the assembly-plugin in pom.xml:</p>\n<p>This will exclude the original <em>org.glassfish.jersey.internal.spi.AutoDiscoverable</em> file from the package and replace it with your manually created one.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;META-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\n                                &lt;resource&gt;META-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable&lt;/resource&gt;\n                                &lt;file&gt;AutoDiscoverable.txt&lt;/file&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":9039732,"reputation":1,"user_id":6734382,"display_name":"Srujan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694008341,"creation_date":1693991425,"question_id":77050539,"body_markdown":"We are using &lt;maven-assembly-plugin&gt; and the jar build with dependencies will have \r\nMETA-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable with value &quot;a.b.client.sdk.common.client.AutoConfigService&quot;\r\n\r\nBasically it should also have the value of &quot;org.glassfish.jersey.jackson.internal.JacksonAutoDiscoverable&quot;\r\n\r\nLooks like there is no appending or merging of values happening for the key of org.glassfish.jersey.internal.spi.AutoDiscoverable.\r\n\r\nHow we can achieve so that it should have both values one after another? \r\n\r\nBelow is how the plugin we are using.\r\n\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;assemble-all&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifestEntries&gt;\r\n                  &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;assemble-dist-zip&lt;/id&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n              &lt;descriptors&gt;\r\n                &lt;descriptor&gt;src/main/assembly/app-zip-assemble.xml&lt;/descriptor&gt;\r\n              &lt;/descriptors&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\n\r\n\r\nHow to achieve with maven plugin, so my expectation is, \r\nMETA-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable to retain the values coming from different artifacts like below.\r\n\r\na.b.client.sdk.common.client.AutoConfigService\r\norg.glassfish.jersey.jackson.internal.JacksonAutoDiscoverable","title":"maven Assembly plugin is not appending/merging META-INF/services/ spi.AutoDiscoverable","body":"<p>We are using  and the jar build with dependencies will have\nMETA-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable with value &quot;a.b.client.sdk.common.client.AutoConfigService&quot;</p>\n<p>Basically it should also have the value of &quot;org.glassfish.jersey.jackson.internal.JacksonAutoDiscoverable&quot;</p>\n<p>Looks like there is no appending or merging of values happening for the key of org.glassfish.jersey.internal.spi.AutoDiscoverable.</p>\n<p>How we can achieve so that it should have both values one after another?</p>\n<p>Below is how the plugin we are using.</p>\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;assemble-all&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n          &lt;archive&gt;\n            &lt;manifestEntries&gt;\n              &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;assemble-dist-zip&lt;/id&gt;\n        &lt;phase&gt;verify&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n          &lt;descriptors&gt;\n            &lt;descriptor&gt;src/main/assembly/app-zip-assemble.xml&lt;/descriptor&gt;\n          &lt;/descriptors&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>How to achieve with maven plugin, so my expectation is,\nMETA-INF/services/org.glassfish.jersey.internal.spi.AutoDiscoverable to retain the values coming from different artifacts like below.</p>\n<p>a.b.client.sdk.common.client.AutoConfigService\norg.glassfish.jersey.jackson.internal.JacksonAutoDiscoverable</p>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694008336,"creation_date":1694005942,"answer_id":77052251,"question_id":77050600,"body_markdown":"```\r\nscene.getRoot()\r\n```\r\n\r\nwill return the root of the scene, which you set via the call to the `Scene` constructor:\r\n\r\n```\r\nScene scene = new Scene(loadFXML(&quot;primary&quot;), 1280, 720);\r\n```\r\n\r\nIn other words, `scene.getRoot()` is the object returned from `load.FXML(...)`. You haven&#39;t shown us that method definition, so we cannot know for sure, but it is reasonable to assume it returns the result of calling `FXMLLoader.load(...)`, which would be the `BorderPane` (the root element, in the XML sense, of the FXML file).\r\n\r\nSo you could cast the result of `scene.getRoot()` to a `BorderPane` and then call `setCenter(...)` (or, obviously better, just keep a reference to the result of `loadFXML(...)` in the first place).\r\n\r\n\r\nThe code\r\n\r\n```\r\nscene.getRoot().getChildrenUnmodifiable()\r\n```\r\n\r\nwill return a list of the child nodes of the `BorderPane`, i.e. a list containing just the `TabPane`, and so\r\n\r\n```\r\nscene.getRoot().getChildrenUnmodifiable().get(0)\r\n```\r\n\r\nis a reference to the `TabPane`, and\r\n\r\n```\r\nscene.getRoot().getChildrenUnmodifiable().get(0).getChildren()\r\n```\r\n\r\n(with appropriate casts added) is a list of the child nodes of the `TabPane`. The content of that list is basically an implementation detail of the `TabPane` and its skin.\r\n\r\n---\r\n\r\nNone of this is the way the API designers intended this to be used, though. Instead, define a [controller class](https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controllers) for the FXML, and inject the `BorderPane` into it:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Tab?&gt;\r\n&lt;?import javafx.scene.control.TabPane?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.shape.Line?&gt;\r\n\r\n\r\n&lt;BorderPane \r\n    maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \r\n    minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; \r\n    prefHeight=&quot;720.0&quot; prefWidth=&quot;1280.0&quot; \r\n    xmlns=&quot;&quot; xmlns:fx=&quot;&quot;\r\n    fx:controller=&quot;my.package.MyController&quot;\r\n    fx:id=&quot;borderPane&quot; \r\n&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\nThen define the controller, and modify the border pane in the `initialize()` method (if you want to add the canvas immediately), or in an event handler (if you want to modify the scene graph in response to user actions):\r\n\r\n```\r\npackage my.package;\r\n\r\n// imports ...\r\n\r\npublic class MyController {\r\n\r\n    @FXML\r\n    private BorderPane borderPane;\r\n\r\n    @FXML\r\n    private void initialize() {\r\n        \r\n        Canvas canvas = new Canvas(300, 250);\r\n        GraphicsContext gc = canvas.getGraphicsContext2D();\r\n        drawShapes(gc);\r\n        borderPane.setCenter(canvas);\r\n\r\n    }\r\n\r\n    private void drawShapes(GraphicsContext gc) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n","title":"Modifying JavaFX Scene Loaded via FXML File?","body":"<pre><code>scene.getRoot()\n</code></pre>\n<p>will return the root of the scene, which you set via the call to the <code>Scene</code> constructor:</p>\n<pre><code>Scene scene = new Scene(loadFXML(&quot;primary&quot;), 1280, 720);\n</code></pre>\n<p>In other words, <code>scene.getRoot()</code> is the object returned from <code>load.FXML(...)</code>. You haven't shown us that method definition, so we cannot know for sure, but it is reasonable to assume it returns the result of calling <code>FXMLLoader.load(...)</code>, which would be the <code>BorderPane</code> (the root element, in the XML sense, of the FXML file).</p>\n<p>So you could cast the result of <code>scene.getRoot()</code> to a <code>BorderPane</code> and then call <code>setCenter(...)</code> (or, obviously better, just keep a reference to the result of <code>loadFXML(...)</code> in the first place).</p>\n<p>The code</p>\n<pre><code>scene.getRoot().getChildrenUnmodifiable()\n</code></pre>\n<p>will return a list of the child nodes of the <code>BorderPane</code>, i.e. a list containing just the <code>TabPane</code>, and so</p>\n<pre><code>scene.getRoot().getChildrenUnmodifiable().get(0)\n</code></pre>\n<p>is a reference to the <code>TabPane</code>, and</p>\n<pre><code>scene.getRoot().getChildrenUnmodifiable().get(0).getChildren()\n</code></pre>\n<p>(with appropriate casts added) is a list of the child nodes of the <code>TabPane</code>. The content of that list is basically an implementation detail of the <code>TabPane</code> and its skin.</p>\n<hr />\n<p>None of this is the way the API designers intended this to be used, though. Instead, define a <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controllers\" rel=\"nofollow noreferrer\">controller class</a> for the FXML, and inject the <code>BorderPane</code> into it:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Tab?&gt;\n&lt;?import javafx.scene.control.TabPane?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.shape.Line?&gt;\n\n\n&lt;BorderPane \n    maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \n    minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; \n    prefHeight=&quot;720.0&quot; prefWidth=&quot;1280.0&quot; \n    xmlns=&quot;&quot; xmlns:fx=&quot;&quot;\n    fx:controller=&quot;my.package.MyController&quot;\n    fx:id=&quot;borderPane&quot; \n&gt;\n\n    &lt;!-- ... --&gt;\n\n&lt;/BorderPane&gt;\n</code></pre>\n<p>Then define the controller, and modify the border pane in the <code>initialize()</code> method (if you want to add the canvas immediately), or in an event handler (if you want to modify the scene graph in response to user actions):</p>\n<pre><code>package my.package;\n\n// imports ...\n\npublic class MyController {\n\n    @FXML\n    private BorderPane borderPane;\n\n    @FXML\n    private void initialize() {\n        \n        Canvas canvas = new Canvas(300, 250);\n        GraphicsContext gc = canvas.getGraphicsContext2D();\n        drawShapes(gc);\n        borderPane.setCenter(canvas);\n\n    }\n\n    private void drawShapes(GraphicsContext gc) {\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16903554,"reputation":509,"user_id":12224591,"display_name":"Runsva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77052251,"answer_count":1,"score":1,"last_activity_date":1694008336,"creation_date":1693991859,"question_id":77050600,"body_markdown":"I&#39;m attempting to modify a JavaFX scene, loaded via a FXML file, in the Java code of the application I&#39;m running.\r\n\r\nI have the following test FXML file, created with SceneBuilder:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Tab?&gt;\r\n&lt;?import javafx.scene.control.TabPane?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.shape.Line?&gt;\r\n\r\n\r\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1280.0&quot; xmlns=&quot;&quot; xmlns:fx=&quot;&quot;&gt;\r\n   &lt;top&gt;\r\n      &lt;TabPane prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n        &lt;tabs&gt;\r\n          &lt;Tab text=&quot;Untitled Tab 1&quot;&gt;\r\n            &lt;content&gt;\r\n              &lt;AnchorPane prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n            &lt;/content&gt;\r\n          &lt;/Tab&gt;\r\n          &lt;Tab text=&quot;Untitled Tab 2&quot;&gt;\r\n            &lt;content&gt;\r\n              &lt;AnchorPane prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n            &lt;/content&gt;\r\n          &lt;/Tab&gt;\r\n        &lt;/tabs&gt;\r\n      &lt;/TabPane&gt;\r\n   &lt;/top&gt;\r\n   &lt;center&gt;\r\n   &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\nWhich is just a `BorderPane` with two empty tabs in the `Top` section, and an empty `Center` section. I wish to be able to draw some shapes in the `Center` section. I took [the following example code][1] for drawing some random shapes in a `Canvas` window, and made sure the example code works by-itself:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI then wanted to insert that same exact drawn `Canvas`, with the exact same shapes, into the `Center` section of my `BorderPane` declared in the FXML file shown above.\r\n\r\nHowever, I&#39;m a bit confused as to how I&#39;m supposed to properly reference the various children of the scene loaded by the FXML loader. If I try the following code in my `start` function:\r\n\r\n```\r\npublic void start(Stage stage) throws IOException \r\n{\r\n    stage.setTitle(&quot;Drawing Operations Test&quot;);\r\n    Scene scene = new Scene(loadFXML(&quot;primary&quot;), 1280, 720);\r\n        \r\n    Canvas canvas = new Canvas(300, 250);\r\n    GraphicsContext gc = canvas.getGraphicsContext2D();\r\n    drawShapes(gc);\r\n    scene.getRoot().getChildrenUnmodifiable().get(0).getChildren().add(canvas);\r\n        \r\n    stage.setScene(scene);\r\n    stage.show();\r\n}\r\n```\r\n\r\nWhere `drawShapes` is the function that draws the shapes on the `Canvas`, the line:\r\n\r\n```\r\nscene.getRoot().getChildrenUnmodifiable().get(0).getChildren().add(canvas);\r\n```\r\n\r\nIs listed as erroneous, because the class-function `getChildren` cannot be found in the `Node` class.\r\n\r\nNow, my initial assumption for the cause of that error was because I&#39;m supposed to typecast the `Node` object into the respective class that I&#39;m wanting to add `canvas` to, in my case the `BorderPane` class. However, I wanted to clarify exactly what the `getChildren` class-function will return me here.\r\n\r\nDoes `getChildren` return the `BorderPane` object, as that&#39;s the first object that&#39;s declared in the FXML file? Or is that element parented under something else? What would be the proper way of adding my `Canvas` to the `Center` section of my `BorderPane`?\r\n\r\nThanks for reading my post, any guidance is appreciated.\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/canvas/jfxpub-canvas.htm\r\n  [2]: https://i.stack.imgur.com/Vjf2nl.png","title":"Modifying JavaFX Scene Loaded via FXML File?","body":"<p>I'm attempting to modify a JavaFX scene, loaded via a FXML file, in the Java code of the application I'm running.</p>\n<p>I have the following test FXML file, created with SceneBuilder:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Tab?&gt;\n&lt;?import javafx.scene.control.TabPane?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.shape.Line?&gt;\n\n\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1280.0&quot; xmlns=&quot;&quot; xmlns:fx=&quot;&quot;&gt;\n   &lt;top&gt;\n      &lt;TabPane prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n        &lt;tabs&gt;\n          &lt;Tab text=&quot;Untitled Tab 1&quot;&gt;\n            &lt;content&gt;\n              &lt;AnchorPane prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n            &lt;/content&gt;\n          &lt;/Tab&gt;\n          &lt;Tab text=&quot;Untitled Tab 2&quot;&gt;\n            &lt;content&gt;\n              &lt;AnchorPane prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n            &lt;/content&gt;\n          &lt;/Tab&gt;\n        &lt;/tabs&gt;\n      &lt;/TabPane&gt;\n   &lt;/top&gt;\n   &lt;center&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>Which is just a <code>BorderPane</code> with two empty tabs in the <code>Top</code> section, and an empty <code>Center</code> section. I wish to be able to draw some shapes in the <code>Center</code> section. I took <a href=\"https://docs.oracle.com/javafx/2/canvas/jfxpub-canvas.htm\" rel=\"nofollow noreferrer\">the following example code</a> for drawing some random shapes in a <code>Canvas</code> window, and made sure the example code works by-itself:</p>\n<p><a href=\"https://i.stack.imgur.com/Vjf2nl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vjf2nl.png\" alt=\"enter image description here\" /></a></p>\n<p>I then wanted to insert that same exact drawn <code>Canvas</code>, with the exact same shapes, into the <code>Center</code> section of my <code>BorderPane</code> declared in the FXML file shown above.</p>\n<p>However, I'm a bit confused as to how I'm supposed to properly reference the various children of the scene loaded by the FXML loader. If I try the following code in my <code>start</code> function:</p>\n<pre><code>public void start(Stage stage) throws IOException \n{\n    stage.setTitle(&quot;Drawing Operations Test&quot;);\n    Scene scene = new Scene(loadFXML(&quot;primary&quot;), 1280, 720);\n        \n    Canvas canvas = new Canvas(300, 250);\n    GraphicsContext gc = canvas.getGraphicsContext2D();\n    drawShapes(gc);\n    scene.getRoot().getChildrenUnmodifiable().get(0).getChildren().add(canvas);\n        \n    stage.setScene(scene);\n    stage.show();\n}\n</code></pre>\n<p>Where <code>drawShapes</code> is the function that draws the shapes on the <code>Canvas</code>, the line:</p>\n<pre><code>scene.getRoot().getChildrenUnmodifiable().get(0).getChildren().add(canvas);\n</code></pre>\n<p>Is listed as erroneous, because the class-function <code>getChildren</code> cannot be found in the <code>Node</code> class.</p>\n<p>Now, my initial assumption for the cause of that error was because I'm supposed to typecast the <code>Node</code> object into the respective class that I'm wanting to add <code>canvas</code> to, in my case the <code>BorderPane</code> class. However, I wanted to clarify exactly what the <code>getChildren</code> class-function will return me here.</p>\n<p>Does <code>getChildren</code> return the <code>BorderPane</code> object, as that's the first object that's declared in the FXML file? Or is that element parented under something else? What would be the proper way of adding my <code>Canvas</code> to the <code>Center</code> section of my <code>BorderPane</code>?</p>\n<p>Thanks for reading my post, any guidance is appreciated.</p>\n"},{"tags":["java","groovy","jwt","x509certificate","x509"],"comments":[{"owner":{"account_id":12368896,"reputation":24701,"user_id":9019885,"display_name":"Gary Archer"},"score":0,"creation_date":1694193043,"post_id":77052509,"comment_id":135863843,"body_markdown":"Have a look at [this answer](https://stackoverflow.com/questions/72798809/how-to-generate-jwk-from-a-x-509-pem-certificate-in-jose4j) to use classes that deal correctly with certificate formats.","body":"Have a look at <a href=\"https://stackoverflow.com/questions/72798809/how-to-generate-jwk-from-a-x-509-pem-certificate-in-jose4j\">this answer</a> to use classes that deal correctly with certificate formats."}],"owner":{"account_id":1549010,"reputation":1170,"user_id":1441851,"accept_rate":53,"display_name":"Ashley Kilgour"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694008166,"creation_date":1694007869,"question_id":77052509,"body_markdown":"I am trying to create a x5c from a JWT, I have the public key.  Every time I try &quot;generateCertificate&quot; I always get an error.\r\n```\r\nstatic String Getx5cValue() {\r\n    try {\r\n \r\n\r\n        def certificateData = &quot;-----BEGIN CERTIFICATE-----\\n&quot; + // This has five - before and after         \r\n\t\t&quot;TU[Loads of other test]Cg\\n&quot; +\r\n                &quot;-----END CERTIFICATE-----&quot; // This has five - before and after\r\n        certificateData = certificateData.trim()\r\n        \r\n        System.out.println(&quot; Convert the certificate string to a byte array&quot;)\r\n        def certificateBytes = certificateData.getBytes();\r\n\r\n        System.out.println(&quot; Create a ByteArrayInputStream to read from the byte array&quot;)\r\n        def byteArrayInputStream = new ByteArrayInputStream(certificateBytes);\r\n\t\t//https://stackoverflow.com/questions/11621414/reading-an-x-509-certificate-with-java\r\n\r\n        System.out.println(&quot;  getInstance( X.509 &quot;)\r\n        def certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\r\n        Certificate certificate\r\n        while (byteArrayInputStream.available() &gt; 0) {\r\n            System.out.println(&quot;Im in a while loop&quot;)\r\n            // https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/cert/CertificateFactory.html\r\n\t\t\t// The next line will throw an error\r\n\t\t\t// java.security.cert.CertificateException: Unable to initialize, java.io.IOException: extra data at the end\r\n            certificate  = certificateFactory.generateCertificate(byteArrayInputStream);\r\n            System.out.println(certificate.toString());\r\n        }\r\n        System.out.println(&quot;  Iterate through the certificates and print them&quot;)\r\n        Iterator&lt;? extends Certificate&gt; iterator = certificate.iterator();\r\n        while (iterator.hasNext()) {\r\n            Certificate cert = iterator.next();\r\n            System.out.println(cert);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        System.out.println(&quot; e.getMessage() &quot; + e.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nI get given the following error.  I have cut the code up, removed and added /n to the certificateData, trimmed it, removed the BEGIN CERTIFICATE and END CERTIFICATE.   I seem to keep getting the following error.\r\n\r\n    java.security.cert.CertificateException: Unable to initialize, java.io.IOException: extra data at the end\r\n    \tat java.base/sun.security.x509.X509CertImpl.&lt;init&gt;(X509CertImpl.java:186)\r\n    \tat java.base/sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:105)\r\n    \tat java.base/java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:355)\r\n    \tat org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)\r\n    \tat Main.Getx5cValue(Main.groovy:157)\r\n    \tat org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)\r\n    \tat Main.run(Main.groovy:19)\r\n    \tat groovy.lang.GroovyShell.runScriptOrMainOrTestOrRunnable(GroovyShell.java:287)\r\n    \tat groovy.lang.GroovyShell.run(GroovyShell.java:393)\r\n    \tat groovy.lang.GroovyShell.run(GroovyShell.java:382)\r\n    \tat groovy.ui.GroovyMain.processOnce(GroovyMain.java:649)\r\n    \tat groovy.ui.GroovyMain.run(GroovyMain.java:389)\r\n    \tat groovy.ui.GroovyMain.access$1400(GroovyMain.java:67)\r\n    \tat groovy.ui.GroovyMain$GroovyCommand.process(GroovyMain.java:313)\r\n    \tat groovy.ui.GroovyMain.processArgs(GroovyMain.java:141)\r\n    \tat groovy.ui.GroovyMain.main(GroovyMain.java:114)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.codehaus.groovy.tools.GroovyStarter.rootLoader(GroovyStarter.java:115)\r\n    \tat org.codehaus.groovy.tools.GroovyStarter.main(GroovyStarter.java:37)\r\n    Caused by: java.io.IOException: extra data at the end\r\n    \tat java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:428)\r\n    \tat java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:340)\r\n    \tat java.base/sun.security.x509.X509CertImpl.&lt;init&gt;(X509CertImpl.java:183)\r\n    \t... 21 more","title":"Generate Certificate x5c from a JWT in Java/Groovy","body":"<p>I am trying to create a x5c from a JWT, I have the public key.  Every time I try &quot;generateCertificate&quot; I always get an error.</p>\n<pre><code>static String Getx5cValue() {\n    try {\n \n\n        def certificateData = &quot;-----BEGIN CERTIFICATE-----\\n&quot; + // This has five - before and after         \n        &quot;TU[Loads of other test]Cg\\n&quot; +\n                &quot;-----END CERTIFICATE-----&quot; // This has five - before and after\n        certificateData = certificateData.trim()\n        \n        System.out.println(&quot; Convert the certificate string to a byte array&quot;)\n        def certificateBytes = certificateData.getBytes();\n\n        System.out.println(&quot; Create a ByteArrayInputStream to read from the byte array&quot;)\n        def byteArrayInputStream = new ByteArrayInputStream(certificateBytes);\n        //https://stackoverflow.com/questions/11621414/reading-an-x-509-certificate-with-java\n\n        System.out.println(&quot;  getInstance( X.509 &quot;)\n        def certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n\n        Certificate certificate\n        while (byteArrayInputStream.available() &gt; 0) {\n            System.out.println(&quot;Im in a while loop&quot;)\n            // https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/cert/CertificateFactory.html\n            // The next line will throw an error\n            // java.security.cert.CertificateException: Unable to initialize, java.io.IOException: extra data at the end\n            certificate  = certificateFactory.generateCertificate(byteArrayInputStream);\n            System.out.println(certificate.toString());\n        }\n        System.out.println(&quot;  Iterate through the certificates and print them&quot;)\n        Iterator&lt;? extends Certificate&gt; iterator = certificate.iterator();\n        while (iterator.hasNext()) {\n            Certificate cert = iterator.next();\n            System.out.println(cert);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.out.println(&quot; e.getMessage() &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>I get given the following error.  I have cut the code up, removed and added /n to the certificateData, trimmed it, removed the BEGIN CERTIFICATE and END CERTIFICATE.   I seem to keep getting the following error.</p>\n<pre><code>java.security.cert.CertificateException: Unable to initialize, java.io.IOException: extra data at the end\n    at java.base/sun.security.x509.X509CertImpl.&lt;init&gt;(X509CertImpl.java:186)\n    at java.base/sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:105)\n    at java.base/java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:355)\n    at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)\n    at Main.Getx5cValue(Main.groovy:157)\n    at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)\n    at Main.run(Main.groovy:19)\n    at groovy.lang.GroovyShell.runScriptOrMainOrTestOrRunnable(GroovyShell.java:287)\n    at groovy.lang.GroovyShell.run(GroovyShell.java:393)\n    at groovy.lang.GroovyShell.run(GroovyShell.java:382)\n    at groovy.ui.GroovyMain.processOnce(GroovyMain.java:649)\n    at groovy.ui.GroovyMain.run(GroovyMain.java:389)\n    at groovy.ui.GroovyMain.access$1400(GroovyMain.java:67)\n    at groovy.ui.GroovyMain$GroovyCommand.process(GroovyMain.java:313)\n    at groovy.ui.GroovyMain.processArgs(GroovyMain.java:141)\n    at groovy.ui.GroovyMain.main(GroovyMain.java:114)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.groovy.tools.GroovyStarter.rootLoader(GroovyStarter.java:115)\n    at org.codehaus.groovy.tools.GroovyStarter.main(GroovyStarter.java:37)\nCaused by: java.io.IOException: extra data at the end\n    at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:428)\n    at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:340)\n    at java.base/sun.security.x509.X509CertImpl.&lt;init&gt;(X509CertImpl.java:183)\n    ... 21 more\n</code></pre>\n"},{"tags":["java","http","http2"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1693960059,"post_id":77048294,"comment_id":135827572,"body_markdown":"It sounds like you are leaking connections instead.  Make sure you clean up each connection when done, and keep track of the high watermark. When you get the exception, that will tell you what the server&#39;s maximum is.","body":"It sounds like you are leaking connections instead.  Make sure you clean up each connection when done, and keep track of the high watermark. When you get the exception, that will tell you what the server&#39;s maximum is."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693965648,"post_id":77048294,"comment_id":135828101,"body_markdown":"I&#39;m no expert, but that looks like a value set in your client library, not your server. I followed back to this [this constant](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/19fb8f93c59dfd791f62d41f332db9e306bc1422/src/java.net.http/share/classes/jdk/internal/net/http/frame/SettingsFrame.java#L69C29-L69C58).","body":"I&#39;m no expert, but that looks like a value set in your client library, not your server. I followed back to this <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/19fb8f93c59dfd791f62d41f332db9e306bc1422/src/java.net.http/share/classes/jdk/internal/net/http/frame/SettingsFrame.java#L69C29-L69C58\" rel=\"nofollow noreferrer\">this constant</a>."},{"owner":{"account_id":50894,"reputation":1634,"user_id":151915,"accept_rate":84,"display_name":"juan2raid"},"score":0,"creation_date":1694015487,"post_id":77048294,"comment_id":135836597,"body_markdown":"@BasilBourque nope, it has a default value of Integer.MAX_VALUE set by the client but once a connection is made the server will change that value.","body":"@BasilBourque nope, it has a default value of Integer.MAX_VALUE set by the client but once a connection is made the server will change that value."}],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17217,"user_id":1215076,"display_name":"sbordet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694008015,"creation_date":1694008015,"answer_id":77052533,"question_id":77048294,"body_markdown":"Unfortunately `java.net.http.HttpClient` does not expose the value for `MAX_CONCURRENT_STREAMS` sent by the server.\r\n\r\nYou may try and guess it and then use a `Semaphore` to avoid exceeding it, but that is a lot of work you should not be doing as a user of `java.net.http.HttpClient`.\r\n\r\n[Disclaimer: I am a Jetty maintainer.]\r\n\r\nYou can switch and use Jetty&#39;s `HttpClient`, which does not suffer from this problem, as it carefully handles the `MAX_CONCURRENT_STREAMS` value, allowing that many concurrent requests per connection, and if that value is exceeded, opens a new connection for the excess concurrent requests.\r\n\r\nJetty&#39;s `HttpClient` also offers many more features and configuration options than JDK&#39;s `HttpClient`, so the switch may help you in other ways.\r\n\r\nYou can find the documentation about Jetty&#39;s `HttpClient` here:\r\nhttps://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-client-http\r\n\r\n","title":"How to find the server provided MAX_CONCURRENT_STREAMS value?","body":"<p>Unfortunately <code>java.net.http.HttpClient</code> does not expose the value for <code>MAX_CONCURRENT_STREAMS</code> sent by the server.</p>\n<p>You may try and guess it and then use a <code>Semaphore</code> to avoid exceeding it, but that is a lot of work you should not be doing as a user of <code>java.net.http.HttpClient</code>.</p>\n<p>[Disclaimer: I am a Jetty maintainer.]</p>\n<p>You can switch and use Jetty's <code>HttpClient</code>, which does not suffer from this problem, as it carefully handles the <code>MAX_CONCURRENT_STREAMS</code> value, allowing that many concurrent requests per connection, and if that value is exceeded, opens a new connection for the excess concurrent requests.</p>\n<p>Jetty's <code>HttpClient</code> also offers many more features and configuration options than JDK's <code>HttpClient</code>, so the switch may help you in other ways.</p>\n<p>You can find the documentation about Jetty's <code>HttpClient</code> here:\n<a href=\"https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-client-http\" rel=\"nofollow noreferrer\">https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-client-http</a></p>\n"}],"owner":{"account_id":50894,"reputation":1634,"user_id":151915,"accept_rate":84,"display_name":"juan2raid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694008015,"creation_date":1693957876,"question_id":77048294,"body_markdown":"I am using [java.net.http][1] to make some http calls to a server. However, sometimes I get a &quot;too many concurrent streams&quot; exception from here: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/Http2Connection.java#L440.\r\n\r\nIt appears my client is exceeding the `MAX_CONCURRENT_STREAMS` value that the server has set. From other sources, it sounds like I need to set up a semaphore to ensure I don&#39;t exceed that value.\r\n\r\nThe problem is that I have no idea what the server&#39;s value for `MAX_CONCURRENT_STREAMS` is. It doesn&#39;t appear to be accessible via the java.net.http API.\r\n\r\nAnyone know how I can figure out the `MAX_CONCURRENT_STREAMS` the server is setting?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/module-summary.html","title":"How to find the server provided MAX_CONCURRENT_STREAMS value?","body":"<p>I am using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/module-summary.html\" rel=\"nofollow noreferrer\">java.net.http</a> to make some http calls to a server. However, sometimes I get a &quot;too many concurrent streams&quot; exception from here: <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/Http2Connection.java#L440\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/Http2Connection.java#L440</a>.</p>\n<p>It appears my client is exceeding the <code>MAX_CONCURRENT_STREAMS</code> value that the server has set. From other sources, it sounds like I need to set up a semaphore to ensure I don't exceed that value.</p>\n<p>The problem is that I have no idea what the server's value for <code>MAX_CONCURRENT_STREAMS</code> is. It doesn't appear to be accessible via the java.net.http API.</p>\n<p>Anyone know how I can figure out the <code>MAX_CONCURRENT_STREAMS</code> the server is setting?</p>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":5827135,"reputation":8117,"user_id":4593057,"display_name":"Vignesh Raja"},"score":0,"creation_date":1581281504,"post_id":60141168,"comment_id":106369536,"body_markdown":"```var a=&quot;javascripit&quot;; console.log(a[&lt;index&gt;]);``` This works","body":"<code>var a=&quot;javascripit&quot;; console.log(a[&lt;index&gt;]);</code> This works"},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":1,"creation_date":1581283921,"post_id":60141168,"comment_id":106370152,"body_markdown":"Don&#39;t use &quot;magic numbers&quot; like &quot;97&quot;.Use &#39;a&#39; instead. Also, be aware that while this works in Java, it may not work in other languages. For example, in C there is no guarantee that the letters of the alphabet are in exact sequential order","body":"Don&#39;t use &quot;magic numbers&quot; like &quot;97&quot;.Use &#39;a&#39; instead. Also, be aware that while this works in Java, it may not work in other languages. For example, in C there is no guarantee that the letters of the alphabet are in exact sequential order"},{"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"score":0,"creation_date":1640296886,"post_id":60141168,"comment_id":124566088,"body_markdown":"This will not work for unicode.","body":"This will not work for unicode."}],"answers":[{"tags":[],"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1581281519,"creation_date":1581281519,"answer_id":60141198,"question_id":60141168,"body_markdown":"Try with this:\r\n\r\n    &quot;a&quot;.charCodeAt(0) - 97","title":"Get index position of an alphabet","body":"<p>Try with this:</p>\n\n<pre><code>\"a\".charCodeAt(0) - 97\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12307174,"reputation":136,"user_id":8979864,"display_name":"Jina Jita"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581281967,"creation_date":1581281967,"answer_id":60141269,"question_id":60141168,"body_markdown":"If you don&#39;t care about the case of the letter try:\r\n\r\n    var idx = s.toLowerCase().charCodeAt(i) - 97;\r\n\r\nIf you care about the case you can try\r\n\r\n    var idx = s.charCodeAt(i) - 97;\r\n\r\nBut for capital letters this will result in negative numbers. The second option is the one which has the same behavior as the Java sample you provided.","title":"Get index position of an alphabet","body":"<p>If you don't care about the case of the letter try:</p>\n\n<pre><code>var idx = s.toLowerCase().charCodeAt(i) - 97;\n</code></pre>\n\n<p>If you care about the case you can try</p>\n\n<pre><code>var idx = s.charCodeAt(i) - 97;\n</code></pre>\n\n<p>But for capital letters this will result in negative numbers. The second option is the one which has the same behavior as the Java sample you provided.</p>\n"},{"tags":[],"owner":{"account_id":12824773,"reputation":1,"user_id":9278259,"display_name":"Daisy222"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681293109,"creation_date":1680827599,"answer_id":75954681,"question_id":60141168,"body_markdown":"For me this worked:\r\n\r\n    int idx = s.charAt(i) - 96;\r\n\r\n***Note 96, not 97.***\r\n\r\n\r\nReference Link: https://dev.to/bladesensei/get-alphabet-position-value-of-a-letter-javascript-70p","title":"Get index position of an alphabet","body":"<p>For me this worked:</p>\n<pre><code>int idx = s.charAt(i) - 96;\n</code></pre>\n<p><em><strong>Note 96, not 97.</strong></em></p>\n<p>Reference Link: <a href=\"https://dev.to/bladesensei/get-alphabet-position-value-of-a-letter-javascript-70p\" rel=\"nofollow noreferrer\">https://dev.to/bladesensei/get-alphabet-position-value-of-a-letter-javascript-70p</a></p>\n"},{"tags":[],"owner":{"account_id":10920339,"reputation":1029,"user_id":12160227,"display_name":"bytrangle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694007631,"creation_date":1694007201,"answer_id":77052436,"question_id":60141168,"body_markdown":"Whether to subtract the code unit by 96 or 97 depends on the context.\r\n\r\nIf you don&#39;t want to remember whether the magic number is 96 or 97, let&#39;s use the first letter in the alphabet (&quot;a&quot;) as the anchor and find the offset of your target letter from that anchor.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const example = &quot;abcdefg&quot;\r\n    const anchor = &quot;a&quot;.charCodeAt(0)\r\n    for (let i = 0; i &lt; example.length; i++) {\r\n      const index = example.charCodeAt(i) - anchor\r\n      console.log(`Letter ${example[i]} is at index ${index} in the alphabet`)\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you want to use one-based index, add 1 after each calculation.\r\n\r\n```\r\nconst index = example.charCodeAt(i) - &quot;a&quot;.charCodeAt(0) + 1\r\n```","title":"Get index position of an alphabet","body":"<p>Whether to subtract the code unit by 96 or 97 depends on the context.</p>\n<p>If you don't want to remember whether the magic number is 96 or 97, let's use the first letter in the alphabet (&quot;a&quot;) as the anchor and find the offset of your target letter from that anchor.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const example = \"abcdefg\"\nconst anchor = \"a\".charCodeAt(0)\nfor (let i = 0; i &lt; example.length; i++) {\n  const index = example.charCodeAt(i) - anchor\n  console.log(`Letter ${example[i]} is at index ${index} in the alphabet`)\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If you want to use one-based index, add 1 after each calculation.</p>\n<pre><code>const index = example.charCodeAt(i) - &quot;a&quot;.charCodeAt(0) + 1\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":60141198,"answer_count":4,"score":0,"last_activity_date":1694007631,"creation_date":1581281292,"question_id":60141168,"body_markdown":"In java we can get the index position of an alphabet using below code :\r\n\r\n    int idx = s.charAt(i) - 97;\r\n\r\nNow I am looking for similar code in JavaScript:\r\n\r\n    var idx = s.charAt(i) - 97;\r\n\r\nBut in javascript I getting `isNaN` error message; What is the correct way to do this.\r\n","title":"Get index position of an alphabet","body":"<p>In java we can get the index position of an alphabet using below code :</p>\n\n<pre><code>int idx = s.charAt(i) - 97;\n</code></pre>\n\n<p>Now I am looking for similar code in JavaScript:</p>\n\n<pre><code>var idx = s.charAt(i) - 97;\n</code></pre>\n\n<p>But in javascript I getting <code>isNaN</code> error message; What is the correct way to do this.</p>\n"},{"tags":["java","spring","rest","spring-restcontroller"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1694007831,"post_id":77052461,"comment_id":135834721,"body_markdown":"Because the mapping pattern matches the specified url.","body":"Because the mapping pattern matches the specified url."},{"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"score":0,"creation_date":1694008741,"post_id":77052461,"comment_id":135834945,"body_markdown":"There&#39;s a question from someone wanting the opposite behaviour to you. Looks like its a config thing: https://stackoverflow.com/questions/32791179/spring-request-mapping-with-extensions","body":"There&#39;s a question from someone wanting the opposite behaviour to you. Looks like its a config thing: <a href=\"https://stackoverflow.com/questions/32791179/spring-request-mapping-with-extensions\" title=\"spring request mapping with extensions\">stackoverflow.com/questions/32791179/&hellip;</a>"},{"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"score":0,"creation_date":1694008916,"post_id":77052461,"comment_id":135834994,"body_markdown":"Also, adding trailing slash should work: `@GetMapping(&quot;/preferences/&quot;)`","body":"Also, adding trailing slash should work: <code>@GetMapping(&quot;&#47;preferences&#47;&quot;)</code>"}],"owner":{"account_id":6392837,"reputation":11,"user_id":6782755,"display_name":"Diego"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694007604,"creation_date":1694007464,"question_id":77052461,"body_markdown":"I am working on a project that uses Spring Framework for Rest services (version 4.3.11.RELEASE and java 1.7). \r\nI have a service like this\r\n\r\n```\r\n\t@GetMapping(&quot;/preferences&quot;)\r\n\tpublic @ResponseBody ResponseEntity&lt;UserPreference&gt; resetUserPreferences() {\r\n\t\treturn null; // actually it returns a UserPreference object but I would keep it short\r\n\t}\r\n```\r\n\r\nIf I make a call to the services using the path /preferences then it works and that is just fine.  Strange thing is that it keep working in case I make a call to the path /preferences.somethinghere. I cannot understand why! Why just adding a dot and something at the end of the path the service keeps working? I&#39;d expect a 404. \r\n\r\n","title":"Why does @GetMapping(&quot;/myurl&quot;) still work if the url is called as /myurl.anything?","body":"<p>I am working on a project that uses Spring Framework for Rest services (version 4.3.11.RELEASE and java 1.7).\nI have a service like this</p>\n<pre><code>    @GetMapping(&quot;/preferences&quot;)\n    public @ResponseBody ResponseEntity&lt;UserPreference&gt; resetUserPreferences() {\n        return null; // actually it returns a UserPreference object but I would keep it short\n    }\n</code></pre>\n<p>If I make a call to the services using the path /preferences then it works and that is just fine.  Strange thing is that it keep working in case I make a call to the path /preferences.somethinghere. I cannot understand why! Why just adding a dot and something at the end of the path the service keeps working? I'd expect a 404.</p>\n"},{"tags":["java","spring-boot","generics","functional-interface"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691619362,"post_id":76871518,"comment_id":135517800,"body_markdown":"There seems to be some duplicate text in your question, but more importantly, you haven&#39;t asked one. Where are you stuck? Please read [ask].","body":"There seems to be some duplicate text in your question, but more importantly, you haven&#39;t asked one. Where are you stuck? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691677614,"post_id":76871518,"comment_id":135526291,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692761979,"creation_date":1692761979,"answer_id":76958102,"question_id":76871518,"body_markdown":"How about a simple method with a `Supplier` as a parameter where you can put literally anything?\r\n\r\n```\r\n@Retryable(...)\r\npublic &lt;T&gt; T retry(Supplier&lt;T&gt; supplier) {\r\n\treturn supplier.get();\r\n}\r\n```\r\nUsage:\r\n```java\r\nEmployee employee = retry(() -&gt; repository.findById(&quot;2ed21&quot;));\r\nRecord record = retry(() -&gt; repository.findbyNumber(311));\r\n```\r\n\r\nFew notes:\r\n- You need to invoke a method annotated with `@Retryable` from a different bean to overcome a limitation of Spring AOP. To be honest I have never worked with `@Retryable` but I guess it would work the same way as `@Transactional`, related: https://stackoverflow.com/q/3423972/3764965\r\n- I haven&#39;t tested the solution.","title":"How can I pass a method into a functional interface for a retry and have it be generic?","body":"<p>How about a simple method with a <code>Supplier</code> as a parameter where you can put literally anything?</p>\n<pre><code>@Retryable(...)\npublic &lt;T&gt; T retry(Supplier&lt;T&gt; supplier) {\n    return supplier.get();\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = retry(() -&gt; repository.findById(&quot;2ed21&quot;));\nRecord record = retry(() -&gt; repository.findbyNumber(311));\n</code></pre>\n<p>Few notes:</p>\n<ul>\n<li>You need to invoke a method annotated with <code>@Retryable</code> from a different bean to overcome a limitation of Spring AOP. To be honest I have never worked with <code>@Retryable</code> but I guess it would work the same way as <code>@Transactional</code>, related: <a href=\"https://stackoverflow.com/q/3423972/3764965\">Spring @Transaction method call by the method within the same class, does not work?</a></li>\n<li>I haven't tested the solution.</li>\n</ul>\n"}],"owner":{"account_id":21401913,"reputation":13,"user_id":15763848,"display_name":"Wes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76958102,"answer_count":1,"score":1,"last_activity_date":1694007451,"creation_date":1691618144,"question_id":76871518,"body_markdown":"I want to a create a functional interface or default method where I pass in a jpa repository method such as `findById` or `findByNumber` and have it return a generic type; this way I annotate it with `@Retryable` if the application fails to connect to db. Below are examples of methods I want passed through the functional interface:\r\n```\r\nEmployee employee = repository.findById(&quot;2ed21&quot;);\r\nRecord record = repository.findbyNumber(311);\r\n```\r\n","title":"How can I pass a method into a functional interface for a retry and have it be generic?","body":"<p>I want to a create a functional interface or default method where I pass in a jpa repository method such as <code>findById</code> or <code>findByNumber</code> and have it return a generic type; this way I annotate it with <code>@Retryable</code> if the application fails to connect to db. Below are examples of methods I want passed through the functional interface:</p>\n<pre><code>Employee employee = repository.findById(&quot;2ed21&quot;);\nRecord record = repository.findbyNumber(311);\n</code></pre>\n"},{"tags":["java","maven","netbeans","struts2","classnotfoundexception"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1454579954,"post_id":35197763,"comment_id":58111874,"body_markdown":"It is S2 filter but S1 dtd. Which Struts are you using?","body":"It is S2 filter but S1 dtd. Which Struts are you using?"},{"owner":{"account_id":7333216,"reputation":31,"user_id":5585443,"accept_rate":0,"display_name":"Padma egrove"},"score":0,"creation_date":1454581245,"post_id":35197763,"comment_id":58112801,"body_markdown":"I think there are two struts file in the config folder...so i think we have used both s1 and s2.. can you help on this..i am new to struts..","body":"I think there are two struts file in the config folder...so i think we have used both s1 and s2.. can you help on this..i am new to struts.."},{"owner":{"account_id":7333216,"reputation":31,"user_id":5585443,"accept_rate":0,"display_name":"Padma egrove"},"score":0,"creation_date":1454581305,"post_id":35197763,"comment_id":58112845,"body_markdown":"Please refer this image ..","body":"Please refer this image .."},{"owner":{"account_id":7333216,"reputation":31,"user_id":5585443,"accept_rate":0,"display_name":"Padma egrove"},"score":0,"creation_date":1454581334,"post_id":35197763,"comment_id":58112866,"body_markdown":"http://opentestdrive.com/demo/test/4.png,   http://opentestdrive.com/demo/test/3.png   http://opentestdrive.com/demo/test/2.png    http://opentestdrive.com/demo/test/1.png","body":"<a href=\"http://opentestdrive.com/demo/test/4.png\" rel=\"nofollow noreferrer\">opentestdrive.com/demo/test/4.png</a>,   <a href=\"http://opentestdrive.com/demo/test/3.png\" rel=\"nofollow noreferrer\">opentestdrive.com/demo/test/3.png</a>   <a href=\"http://opentestdrive.com/demo/test/2.png\" rel=\"nofollow noreferrer\">opentestdrive.com/demo/test/2.png</a>    <a href=\"http://opentestdrive.com/demo/test/1.png\" rel=\"nofollow noreferrer\">opentestdrive.com/demo/test/1.png</a>"},{"owner":{"account_id":7333216,"reputation":31,"user_id":5585443,"accept_rate":0,"display_name":"Padma egrove"},"score":0,"creation_date":1454585152,"post_id":35197763,"comment_id":58115533,"body_markdown":"waiting for a your help.......","body":"waiting for a your help......."},{"owner":{"account_id":7333216,"reputation":31,"user_id":5585443,"accept_rate":0,"display_name":"Padma egrove"},"score":0,"creation_date":1454585378,"post_id":35197763,"comment_id":58115660,"body_markdown":"can you see the image i have posted?","body":"can you see the image i have posted?"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558212134,"creation_date":1454594555,"answer_id":35203079,"question_id":35197763,"body_markdown":"You cannot deploy Struts2 web application without Struts2 *core* libraries. The filter class declared in the `web.xml` can&#39;t be found on the classpath by web application classloader.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;web-app id=&quot;WebApp_9&quot; version=&quot;2.4&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\r\n     \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n     \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n     \r\n        &lt;!-- ... --&gt;\r\n     \r\n    &lt;/web-app&gt;\r\n\r\nHow to resolve such issue. First you could try searching the internet for the class `org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter`. Even if the first result from Google points to [`web.xml`][1] there&#39;s a lot of usable information but nothing about core libraries used by the framework. Ok, trying to search the class name on the [struts.apache.org][2] and it&#39;s giving the second result [Create Struts 2 Web Application Using Maven To Manage Artifacts and To Build The Application][3]. It&#39;s created with Maven as a build tool. if you are not familiar with it you should read [maven.apache.org][4]. In `pom.xml` it uses a dependency\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;         &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n&gt;         &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\r\n&gt;         &lt;version&gt;X.X.X.X&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt; \r\n&gt; Of course replace the X.X.X.X with the current Struts 2 version. Maven\r\n&gt; will get the struts2-core jar and the other jar files struts2-core\r\n&gt; requires (transitive dependencies).\r\n\r\nNetbeans has full support for Maven:\r\n\r\n&gt;NetBeans includes full Maven support since 6.7, including Maven 3 support in 7.0+. You can open any Maven project in the IDE and start coding immediately.\r\n\r\n&gt;For more information see the [NetBeans.org wiki page][5].\r\n\r\nIf you don&#39;t know how to find dependency for your project, you should read FAQ.\r\n\r\n&gt;[How to find dependencies on public Maven repositories?][6]\r\n&gt; \r\n&gt;     You could use the following search engines:\r\n&gt; \r\n&gt;    - [http://search.maven.org][6]\r\n&gt;    - [http://repository.apache.org][6]\r\n&gt;    - [http://mvnrepository.com][6]\r\n\r\nHere you will find [search for `struts2-core`][7] all required libraries depending on the version you need `2.3.12` I&#39;d recommend the latest stable release at the moment [2.3.24.1][8]. \r\n\r\nYou can use Maven in your project to download required library and add them to dependencies. If you decide to manage your project dependencies manually you can get information about `struts2-core` dependencies on the maven site.\r\n\r\n  [1]: https://struts.apache.org/docs/webxml.html\r\n  [2]: https://struts.apache.org\r\n  [3]: https://struts.apache.org/getting-started/how-to-create-a-struts2-web-application.html\r\n  [4]: http://maven.apache.org/\r\n  [5]: http://wiki.netbeans.org/Maven\r\n  [6]: http://maven.apache.org/general.html#How_to_find_dependencies\r\n  [7]: http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.struts%22%20AND%20a%3A%22struts2-core%22\r\n  [8]: http://search.maven.org/#artifactdetails%7Corg.apache.struts%7Cstruts2-core%7C2.3.24.1%7Cjar","title":"Netbeans error: Exception starting filter struts2 ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter","body":"<p>You cannot deploy Struts2 web application without Struts2 <em>core</em> libraries. The filter class declared in the <code>web.xml</code> can't be found on the classpath by web application classloader.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app id=\"WebApp_9\" version=\"2.4\"\n    xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;!-- ... --&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>How to resolve such issue. First you could try searching the internet for the class <code>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</code>. Even if the first result from Google points to <a href=\"https://struts.apache.org/docs/webxml.html\" rel=\"nofollow noreferrer\"><code>web.xml</code></a> there's a lot of usable information but nothing about core libraries used by the framework. Ok, trying to search the class name on the <a href=\"https://struts.apache.org\" rel=\"nofollow noreferrer\">struts.apache.org</a> and it's giving the second result <a href=\"https://struts.apache.org/getting-started/how-to-create-a-struts2-web-application.html\" rel=\"nofollow noreferrer\">Create Struts 2 Web Application Using Maven To Manage Artifacts and To Build The Application</a>. It's created with Maven as a build tool. if you are not familiar with it you should read <a href=\"http://maven.apache.org/\" rel=\"nofollow noreferrer\">maven.apache.org</a>. In <code>pom.xml</code> it uses a dependency</p>\n\n<blockquote>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n    &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\n    &lt;version&gt;X.X.X.X&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n  <p>Of course replace the X.X.X.X with the current Struts 2 version. Maven\n  will get the struts2-core jar and the other jar files struts2-core\n  requires (transitive dependencies).</p>\n</blockquote>\n\n<p>Netbeans has full support for Maven:</p>\n\n<blockquote>\n  <p>NetBeans includes full Maven support since 6.7, including Maven 3 support in 7.0+. You can open any Maven project in the IDE and start coding immediately.</p>\n  \n  <p>For more information see the <a href=\"http://wiki.netbeans.org/Maven\" rel=\"nofollow noreferrer\">NetBeans.org wiki page</a>.</p>\n</blockquote>\n\n<p>If you don't know how to find dependency for your project, you should read FAQ.</p>\n\n<blockquote>\n  <p><a href=\"http://maven.apache.org/general.html#How_to_find_dependencies\" rel=\"nofollow noreferrer\">How to find dependencies on public Maven repositories?</a></p>\n\n<pre><code>You could use the following search engines:\n</code></pre>\n  \n  <ul>\n  <li><a href=\"http://maven.apache.org/general.html#How_to_find_dependencies\" rel=\"nofollow noreferrer\">http://search.maven.org</a></li>\n  <li><a href=\"http://maven.apache.org/general.html#How_to_find_dependencies\" rel=\"nofollow noreferrer\">http://repository.apache.org</a></li>\n  <li><a href=\"http://maven.apache.org/general.html#How_to_find_dependencies\" rel=\"nofollow noreferrer\">http://mvnrepository.com</a></li>\n  </ul>\n</blockquote>\n\n<p>Here you will find <a href=\"http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.struts%22%20AND%20a%3A%22struts2-core%22\" rel=\"nofollow noreferrer\">search for <code>struts2-core</code></a> all required libraries depending on the version you need <code>2.3.12</code> I'd recommend the latest stable release at the moment <a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.struts%7Cstruts2-core%7C2.3.24.1%7Cjar\" rel=\"nofollow noreferrer\">2.3.24.1</a>. </p>\n\n<p>You can use Maven in your project to download required library and add them to dependencies. If you decide to manage your project dependencies manually you can get information about <code>struts2-core</code> dependencies on the maven site.</p>\n"}],"owner":{"account_id":7333216,"reputation":31,"user_id":5585443,"accept_rate":0,"display_name":"Padma egrove"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1613018740,"answer_count":1,"score":-1,"last_activity_date":1694007329,"creation_date":1454579780,"question_id":35197763,"body_markdown":"I have run the web application done using Struts. I not able to run the application I have faced the error while starting Apache tomcat errors and while run the web application it also throws error .I have post the error log below.\r\n\r\nError in starting Apache Tomcat server:\r\n\r\n   \r\n   \r\n\r\n        Feb 04, 2016 3:19:55 PM org.apache.catalina.core.StandardContext filterStart\r\n    SEVERE: Exception starting filter struts2\r\n    java.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:133)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:257)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:383)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:104)\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\n\r\nError while running the web application:\r\n\r\n  \r\n\r\n     Undeploying ...\r\n    undeploy?path=/Loyalty4Salon\r\n    OK - Undeployed application at context path /Loyalty4Salon\r\n    In-place deployment at /home/revathy/Documents/Esa netbeans/loyalty_salon/loyalty_salon/build/web\r\n    Deployment is in progress...\r\n    deploy?config=file%3A%2Ftmp%2Fcontext2062383266810619779.xml&amp;path=/Loyalty4Salon\r\n    FAIL - Deployed application at context path /Loyalty4Salon but context failed to start\r\n    /home/revathy/Documents/Esa netbeans/loyalty_salon/loyalty_salon/nbproject/build-impl.xml:1125: The module has not been deployed.\r\n    See the server log for details.\r\n    BUILD FAILED (total time: 2 seconds)\r\n\r\nThis is the `struts-config.xml`:\r\n\r\n   \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    \r\n    &lt;!DOCTYPE struts-config PUBLIC\r\n              &quot;-//Apache Software Foundation//DTD Struts Configuration 1.3//EN&quot;\r\n              &quot;http://jakarta.apache.org/struts/dtds/struts-config_1_3.dtd&quot;&gt;\r\n    &lt;struts-config&gt;\r\n        &lt;form-beans&gt;\r\n        \r\n        &lt;/form-beans&gt;\r\n        \r\n        &lt;global-exceptions&gt;\r\n        \r\n        &lt;/global-exceptions&gt;\r\n    \r\n        &lt;global-forwards&gt;\r\n            &lt;forward name=&quot;welcome&quot;  path=&quot;/Welcome.do&quot;/&gt;\r\n        &lt;/global-forwards&gt;\r\n    \r\n        &lt;action-mappings&gt;\r\n            &lt;action path=&quot;/Welcome&quot; forward=&quot;/welcomeStruts.jsp&quot;/&gt;\r\n        &lt;/action-mappings&gt;\r\n        \r\n        &lt;controller processorClass=&quot;org.apache.struts.tiles.TilesRequestProcessor&quot;/&gt;\r\n    \r\n        &lt;message-resources parameter=&quot;com/myapp/struts/ApplicationResource&quot;/&gt;    \r\n        \r\n        &lt;!-- ========================= Tiles plugin ===============================--&gt;\r\n        &lt;!--\r\n        This plugin initialize Tiles definition factory. This later can takes some\r\n        parameters explained here after. The plugin first read parameters from\r\n        web.xml, thenoverload them with parameters defined here. All parameters\r\n        are optional.\r\n        The plugin should be declared in each struts-config file.\r\n        - definitions-config: (optional)\r\n        Specify configuration file names. There can be several comma\r\n        separated file names (default: ?? )\r\n        - moduleAware: (optional - struts1.1)\r\n        Specify if the Tiles definition factory is module aware. If true\r\n        (default), there will be one factory for each Struts module.\r\n        If false, there will be one common factory for all module. In this\r\n        later case, it is still needed to declare one plugin per module.\r\n        The factory will be initialized with parameters found in the first\r\n        initialized plugin (generally the one associated with the default\r\n        module).\r\n        true : One factory per module. (default)\r\n        false : one single shared factory for all modules\r\n        - definitions-parser-validate: (optional)\r\n        Specify if xml parser should validate the Tiles configuration file.\r\n        true : validate. DTD should be specified in file header (default)\r\n        false : no validation\r\n    \r\n        Paths found in Tiles definitions are relative to the main context.\r\n        --&gt;\r\n        &lt;plug-in className=&quot;org.apache.struts.tiles.TilesPlugin&quot; &gt;\r\n            &lt;set-property property=&quot;definitions-config&quot; value=&quot;/WEB-INF/tiles-defs.xml&quot; /&gt;      \r\n            &lt;set-property property=&quot;moduleAware&quot; value=&quot;true&quot; /&gt;\r\n        &lt;/plug-in&gt;\r\n        \r\n        &lt;!-- ========================= Validator plugin ================================= --&gt;\r\n        &lt;plug-in className=&quot;org.apache.struts.validator.ValidatorPlugIn&quot;&gt;\r\n            &lt;set-property\r\n                property=&quot;pathnames&quot;\r\n                value=&quot;/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml&quot;/&gt;\r\n        &lt;/plug-in&gt;\r\n      \r\n    &lt;/struts-config&gt;\r\n\r\n\r\nThis is the `struts.xml`:\r\n\r\n\r\n\r\n\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt; \r\n            &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;c_cpnDetail&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;c_cpnDetail&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/cmpny_couponDetail.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;coupon_index&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;couponCode&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_create.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;createCoupon&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;create_Coupon&quot; &gt;\r\n              \r\n            &lt;interceptor-ref name=&quot;tokenSession&quot;/&gt;                  \r\n            &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\r\n                &lt;param name=&quot;allowedTypes&quot;&gt;\r\n                    image/png,image/gif,image/jpeg,image/pjpeg\r\n                &lt;/param&gt;\r\n            &lt;/interceptor-ref&gt;\r\n            &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt; \r\n            &lt;result name=&quot;invalid.token&quot; type=&quot;redirect&quot;&gt;coupon&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt; \r\n            &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;input&quot;&gt;/ImageFileUploadError.jsp&lt;/result&gt;\r\n        &lt;/action&gt;  \r\n      \r\n        &lt;!--&lt;action name=&quot;couponAssignPage&quot;\r\n        class=&quot;com.Customer.Action&quot;\r\n         method=&quot;advSrch&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;./coupon_Assign.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;./error.jsp&lt;/result&gt;\r\n        &lt;/action&gt; --&gt;\r\n       \r\n        &lt;action name=&quot;couponAssignPage&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;cpn_assignPage&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_Assign.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;cpn_getUsers&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;cpn_getUsers&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_Assign.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n       \r\n        &lt;action name=&quot;coupon_assign&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;assign_coupon&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n       \r\n       \r\n        &lt;action name=&quot;couponAssign&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;coupon_assign&quot;&gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;csvExport&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;csvExport&quot;&gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/csvDownload.jsp&lt;/result&gt;\r\n          \r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;        \r\n        &lt;action name=&quot;search_usr&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;srch_usr1&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_assign.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;deleteCoupon&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;dltCoupon&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;del_cpn&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;bulk_cpn_del&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;c_edit&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;editCouponretrieve&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_edit.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;editCoupon&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;editCoupon&quot; &gt; \r\n            &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\r\n                &lt;param name=&quot;allowedTypes&quot;&gt;\r\n                    image/png,image/gif,image/jpeg,image/pjpeg\r\n                &lt;/param&gt;\r\n            &lt;/interceptor-ref&gt;\r\n            &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;             \r\n            &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;input&quot;&gt;/ImageFileUploadError.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;couponSearchPage&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;couponSearchPage&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/Coupon_search.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n         \r\n        &lt;action name=&quot;couponSearch&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;coupon_search&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/coupon_searchResult.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n       \r\n       \r\n       \r\n        &lt;!-- Super Admin--&gt;\r\n        &lt;action name=&quot;create_company&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;create_company&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpny_create.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;gen_key&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;couponCode&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpny_create.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_cmpnyDetail&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_cmpnyDetail&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpnyDetail.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_userDetail&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_userDetail&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpnyDetail.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;sa_createCmpny&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_createCmpny&quot; &gt; \r\n            &lt;result name=&quot;invalid.token&quot; type=&quot;redirect&quot;&gt;sa_companyList&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;interceptor-ref name=&quot;tokenSession&quot;/&gt; \r\n            &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_companyList&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_listCmpny&quot;&gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;sa_subCmpnyList&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_listSubCmpny&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;sa_cmpny_status&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_cmpny_status&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_subcmpny_status&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_subcmpny_status&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_cmpny_delete&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_cmpny_delete&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_subcmpny_delete&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_subcmpny_delete&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_cmpny_editRetrieve&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_cmpny_editRetrieve&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpny_edit.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_subcmpny_editRetrieve&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_subcmpny_editRetrieve&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_edit.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_cmpny_edit&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_cmpny_edit&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;sa_cmpny_planedit&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_cmpny_planedit&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_subcmpny_edit&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_subcmpny_edit&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_list.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n        &lt;action name=&quot;sa_login&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_login&quot; &gt; \r\n            &lt;interceptor-ref name=&quot;tokenSession&quot;/&gt; \r\n            &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt;\r\n            &lt;result name=&quot;invalid.token&quot; type=&quot;redirect&quot;&gt;/sa_login.jsp&lt;/result&gt; \r\n            &lt;result name=&quot;sa_success&quot;&gt;/sa_start.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/start.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;!--&lt;result name=&quot;graph&quot;&gt;./Graph.jsp&lt;/result&gt;--&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt; \r\n       \r\n        &lt;action name=&quot;logout&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;logout&quot; &gt; \r\n            &lt;result name=&quot;sa_success&quot;&gt;/sa_start.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;!--&lt;result name=&quot;success&quot;&gt;/sample.jsp&lt;/result&gt;--&gt;\r\n            &lt;result name=&quot;Success&quot;&gt;/start.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n       \r\n        &lt;action name=&quot;sa_logout&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;sa_logout&quot;&gt;          \r\n            &lt;result name=&quot;success&quot;&gt;/sa_login.jsp&lt;/result&gt;           \r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n       \r\n        &lt;action name=&quot;settings&quot;\r\n                class=&quot;com.Customer.Action&quot;\r\n                method=&quot;settings&quot; &gt; \r\n            &lt;result name=&quot;success&quot;&gt;/sa_start.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n       \r\n        \r\n        \r\n        &lt;!--REV SOURCE--&gt;\r\n        &lt;!--Deals action result --&gt;  \r\n        &lt;action name=&quot;importCsv&quot; class=&quot;com.Customer.Action&quot; method=&quot;importcsv&quot;&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/index.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;wrong_csv&quot;&gt;/index.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n                  \r\n        &lt;action name=&quot;click_Deals&quot;\r\n                class=&quot;com.Customer.Struts_Action&quot;\r\n                method=&quot;click_Deals&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n       \r\n        &lt;action name=&quot;addDeals&quot;\r\n                class=&quot;com.Customer.Deals&quot;\r\n                method=&quot;execute&quot;&gt; \r\n            &lt;interceptor-ref name=&quot;tokenSession&quot;/&gt;                    \r\n            &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\r\n                &lt;param name=&quot;allowedTypes&quot;&gt;\r\n                    image/png,image/gif,image/jpeg,image/pjpeg\r\n                &lt;/param&gt;\r\n            &lt;/interceptor-ref&gt;\r\n            &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt; \r\n            &lt;result name=&quot;invalid.token&quot; type=&quot;redirect&quot;&gt;click_Deals&lt;/result&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/Deals_submit.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;reached-deals&quot;&gt;/list_Deals.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;input&quot;&gt;/ImageFileUploadError.jsp&lt;/result&gt;\r\n        &lt;/action&gt;  \r\n      \r\n        &lt;action name=&quot;addDeals_first&quot;\r\n                class=&quot;com.Customer.Deals&quot;\r\n                method=&quot;execute_list&quot;&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/Deals_submit.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;reached-deals&quot;&gt;/list_Deals.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;    \r\n     \r\n     \r\n        &lt;action name=&quot;d_status&quot;\r\n                class=&quot;com.Customer.Struts_Action&quot;\r\n                method=&quot;d_status&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;activate_deal&quot;\r\n                class=&quot;com.Customer.Struts_Action&quot;\r\n                method=&quot;bulk_activate_deal&quot; &gt; \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;inactivate_deal&quot;\r\n                class=&quot;com.Customer.Struts_Action&quot;\r\n                method=&quot;bulk_inactivate_deal&quot; &gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt; \r\n            &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n       \r\n       \r\n        &lt;action name=&quot;edit_Deal&quot;\r\n                class=&quot;com.Customer.Struts_Action&quot;\r\n                method=&quot;edit_Deal&quot;&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/Deals_edit.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n      \r\n      \r\n        &lt;action name=&quot;editDealsData&quot;\r\n                class=&quot;com.Customer.Struts_Action&quot;\r\n                method=&quot;edit_Deal_Data&quot;&gt;                    \r\n            &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\r\n                \r\n                &lt;param name=&quot;allowedTypes&quot;&gt;\r\n                    image/png,image/gif,image/jpeg,image/pjpeg\r\n                &lt;/param&gt;\r\n            &lt;/interceptor-ref&gt;\r\n            &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt;  \r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;input&quot;&gt;/ImageFileUploadError.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n      \r\n        &lt;action name=&quot;Delete_Deal&quot;\r\n                class=&quot;com.Customer.Struts_Action&quot;\r\n                method=&quot;Delete_Deal&quot;&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n        &lt;action name=&quot;del_deal&quot;\r\n                class=&quot;com.Customer.Struts_Action&quot;\r\n                method=&quot;bulk_del_deal&quot;&gt;\r\n            &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\r\n        &lt;/action&gt;\r\n      \r\n        \r\n        \r\n    \r\n    &lt;/struts&gt;\r\n\r\n","title":"Netbeans error: Exception starting filter struts2 ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter","body":"<p>I have run the web application done using Struts. I not able to run the application I have faced the error while starting Apache tomcat errors and while run the web application it also throws error .I have post the error log below.</p>\n<p>Error in starting Apache Tomcat server:</p>\n<pre><code>    Feb 04, 2016 3:19:55 PM org.apache.catalina.core.StandardContext filterStart\nSEVERE: Exception starting filter struts2\njava.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:532)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:514)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:133)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:257)\n    at org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:383)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:104)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n<p>Error while running the web application:</p>\n<pre><code> Undeploying ...\nundeploy?path=/Loyalty4Salon\nOK - Undeployed application at context path /Loyalty4Salon\nIn-place deployment at /home/revathy/Documents/Esa netbeans/loyalty_salon/loyalty_salon/build/web\nDeployment is in progress...\ndeploy?config=file%3A%2Ftmp%2Fcontext2062383266810619779.xml&amp;path=/Loyalty4Salon\nFAIL - Deployed application at context path /Loyalty4Salon but context failed to start\n/home/revathy/Documents/Esa netbeans/loyalty_salon/loyalty_salon/nbproject/build-impl.xml:1125: The module has not been deployed.\nSee the server log for details.\nBUILD FAILED (total time: 2 seconds)\n</code></pre>\n<p>This is the <code>struts-config.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n\n&lt;!DOCTYPE struts-config PUBLIC\n          &quot;-//Apache Software Foundation//DTD Struts Configuration 1.3//EN&quot;\n          &quot;http://jakarta.apache.org/struts/dtds/struts-config_1_3.dtd&quot;&gt;\n&lt;struts-config&gt;\n    &lt;form-beans&gt;\n    \n    &lt;/form-beans&gt;\n    \n    &lt;global-exceptions&gt;\n    \n    &lt;/global-exceptions&gt;\n\n    &lt;global-forwards&gt;\n        &lt;forward name=&quot;welcome&quot;  path=&quot;/Welcome.do&quot;/&gt;\n    &lt;/global-forwards&gt;\n\n    &lt;action-mappings&gt;\n        &lt;action path=&quot;/Welcome&quot; forward=&quot;/welcomeStruts.jsp&quot;/&gt;\n    &lt;/action-mappings&gt;\n    \n    &lt;controller processorClass=&quot;org.apache.struts.tiles.TilesRequestProcessor&quot;/&gt;\n\n    &lt;message-resources parameter=&quot;com/myapp/struts/ApplicationResource&quot;/&gt;    \n    \n    &lt;!-- ========================= Tiles plugin ===============================--&gt;\n    &lt;!--\n    This plugin initialize Tiles definition factory. This later can takes some\n    parameters explained here after. The plugin first read parameters from\n    web.xml, thenoverload them with parameters defined here. All parameters\n    are optional.\n    The plugin should be declared in each struts-config file.\n    - definitions-config: (optional)\n    Specify configuration file names. There can be several comma\n    separated file names (default: ?? )\n    - moduleAware: (optional - struts1.1)\n    Specify if the Tiles definition factory is module aware. If true\n    (default), there will be one factory for each Struts module.\n    If false, there will be one common factory for all module. In this\n    later case, it is still needed to declare one plugin per module.\n    The factory will be initialized with parameters found in the first\n    initialized plugin (generally the one associated with the default\n    module).\n    true : One factory per module. (default)\n    false : one single shared factory for all modules\n    - definitions-parser-validate: (optional)\n    Specify if xml parser should validate the Tiles configuration file.\n    true : validate. DTD should be specified in file header (default)\n    false : no validation\n\n    Paths found in Tiles definitions are relative to the main context.\n    --&gt;\n    &lt;plug-in className=&quot;org.apache.struts.tiles.TilesPlugin&quot; &gt;\n        &lt;set-property property=&quot;definitions-config&quot; value=&quot;/WEB-INF/tiles-defs.xml&quot; /&gt;      \n        &lt;set-property property=&quot;moduleAware&quot; value=&quot;true&quot; /&gt;\n    &lt;/plug-in&gt;\n    \n    &lt;!-- ========================= Validator plugin ================================= --&gt;\n    &lt;plug-in className=&quot;org.apache.struts.validator.ValidatorPlugIn&quot;&gt;\n        &lt;set-property\n            property=&quot;pathnames&quot;\n            value=&quot;/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml&quot;/&gt;\n    &lt;/plug-in&gt;\n  \n&lt;/struts-config&gt;\n</code></pre>\n<p>This is the <code>struts.xml</code>:</p>\n<pre><code>        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt; \n        &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;c_cpnDetail&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;c_cpnDetail&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/cmpny_couponDetail.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;coupon_index&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;couponCode&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_create.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;createCoupon&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;create_Coupon&quot; &gt;\n          \n        &lt;interceptor-ref name=&quot;tokenSession&quot;/&gt;                  \n        &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\n            &lt;param name=&quot;allowedTypes&quot;&gt;\n                image/png,image/gif,image/jpeg,image/pjpeg\n            &lt;/param&gt;\n        &lt;/interceptor-ref&gt;\n        &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt; \n        &lt;result name=&quot;invalid.token&quot; type=&quot;redirect&quot;&gt;coupon&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt; \n        &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;input&quot;&gt;/ImageFileUploadError.jsp&lt;/result&gt;\n    &lt;/action&gt;  \n  \n    &lt;!--&lt;action name=&quot;couponAssignPage&quot;\n    class=&quot;com.Customer.Action&quot;\n     method=&quot;advSrch&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;./coupon_Assign.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;./error.jsp&lt;/result&gt;\n    &lt;/action&gt; --&gt;\n   \n    &lt;action name=&quot;couponAssignPage&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;cpn_assignPage&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_Assign.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;cpn_getUsers&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;cpn_getUsers&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_Assign.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n   \n    &lt;action name=&quot;coupon_assign&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;assign_coupon&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n   \n   \n    &lt;action name=&quot;couponAssign&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;coupon_assign&quot;&gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;csvExport&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;csvExport&quot;&gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/csvDownload.jsp&lt;/result&gt;\n      \n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;        \n    &lt;action name=&quot;search_usr&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;srch_usr1&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_assign.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;deleteCoupon&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;dltCoupon&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;del_cpn&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;bulk_cpn_del&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;c_edit&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;editCouponretrieve&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_edit.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;editCoupon&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;editCoupon&quot; &gt; \n        &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\n            &lt;param name=&quot;allowedTypes&quot;&gt;\n                image/png,image/gif,image/jpeg,image/pjpeg\n            &lt;/param&gt;\n        &lt;/interceptor-ref&gt;\n        &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;             \n        &lt;result name=&quot;success&quot;&gt;/coupon_index.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;input&quot;&gt;/ImageFileUploadError.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;couponSearchPage&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;couponSearchPage&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/Coupon_search.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n     \n    &lt;action name=&quot;couponSearch&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;coupon_search&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/coupon_searchResult.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n   \n   \n   \n    &lt;!-- Super Admin--&gt;\n    &lt;action name=&quot;create_company&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;create_company&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpny_create.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;gen_key&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;couponCode&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpny_create.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_cmpnyDetail&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_cmpnyDetail&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpnyDetail.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_userDetail&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_userDetail&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpnyDetail.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;sa_createCmpny&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_createCmpny&quot; &gt; \n        &lt;result name=&quot;invalid.token&quot; type=&quot;redirect&quot;&gt;sa_companyList&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;interceptor-ref name=&quot;tokenSession&quot;/&gt; \n        &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_companyList&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_listCmpny&quot;&gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;sa_subCmpnyList&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_listSubCmpny&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;sa_cmpny_status&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_cmpny_status&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_subcmpny_status&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_subcmpny_status&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_cmpny_delete&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_cmpny_delete&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_subcmpny_delete&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_subcmpny_delete&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_cmpny_editRetrieve&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_cmpny_editRetrieve&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpny_edit.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_subcmpny_editRetrieve&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_subcmpny_editRetrieve&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_edit.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_cmpny_edit&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_cmpny_edit&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;sa_cmpny_planedit&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_cmpny_planedit&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_cmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_subcmpny_edit&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_subcmpny_edit&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/sa_subcmpny_list.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt; \n    &lt;action name=&quot;sa_login&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_login&quot; &gt; \n        &lt;interceptor-ref name=&quot;tokenSession&quot;/&gt; \n        &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt;\n        &lt;result name=&quot;invalid.token&quot; type=&quot;redirect&quot;&gt;/sa_login.jsp&lt;/result&gt; \n        &lt;result name=&quot;sa_success&quot;&gt;/sa_start.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/start.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;!--&lt;result name=&quot;graph&quot;&gt;./Graph.jsp&lt;/result&gt;--&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt; \n   \n    &lt;action name=&quot;logout&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;logout&quot; &gt; \n        &lt;result name=&quot;sa_success&quot;&gt;/sa_start.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;!--&lt;result name=&quot;success&quot;&gt;/sample.jsp&lt;/result&gt;--&gt;\n        &lt;result name=&quot;Success&quot;&gt;/start.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n   \n    &lt;action name=&quot;sa_logout&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;sa_logout&quot;&gt;          \n        &lt;result name=&quot;success&quot;&gt;/sa_login.jsp&lt;/result&gt;           \n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n   \n    &lt;action name=&quot;settings&quot;\n            class=&quot;com.Customer.Action&quot;\n            method=&quot;settings&quot; &gt; \n        &lt;result name=&quot;success&quot;&gt;/sa_start.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n   \n    \n    \n    &lt;!--REV SOURCE--&gt;\n    &lt;!--Deals action result --&gt;  \n    &lt;action name=&quot;importCsv&quot; class=&quot;com.Customer.Action&quot; method=&quot;importcsv&quot;&gt;\n        &lt;result name=&quot;success&quot;&gt;/index.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;result name=&quot;wrong_csv&quot;&gt;/index.jsp&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n    &lt;/action&gt;\n              \n    &lt;action name=&quot;click_Deals&quot;\n            class=&quot;com.Customer.Struts_Action&quot;\n            method=&quot;click_Deals&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n   \n    &lt;action name=&quot;addDeals&quot;\n            class=&quot;com.Customer.Deals&quot;\n            method=&quot;execute&quot;&gt; \n        &lt;interceptor-ref name=&quot;tokenSession&quot;/&gt;                    \n        &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\n            &lt;param name=&quot;allowedTypes&quot;&gt;\n                image/png,image/gif,image/jpeg,image/pjpeg\n            &lt;/param&gt;\n        &lt;/interceptor-ref&gt;\n        &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt; \n        &lt;result name=&quot;invalid.token&quot; type=&quot;redirect&quot;&gt;click_Deals&lt;/result&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/Deals_submit.jsp&lt;/result&gt;\n        &lt;result name=&quot;reached-deals&quot;&gt;/list_Deals.jsp&lt;/result&gt;\n        &lt;result name=&quot;input&quot;&gt;/ImageFileUploadError.jsp&lt;/result&gt;\n    &lt;/action&gt;  \n  \n    &lt;action name=&quot;addDeals_first&quot;\n            class=&quot;com.Customer.Deals&quot;\n            method=&quot;execute_list&quot;&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/Deals_submit.jsp&lt;/result&gt;\n        &lt;result name=&quot;reached-deals&quot;&gt;/list_Deals.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;    \n \n \n    &lt;action name=&quot;d_status&quot;\n            class=&quot;com.Customer.Struts_Action&quot;\n            method=&quot;d_status&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;activate_deal&quot;\n            class=&quot;com.Customer.Struts_Action&quot;\n            method=&quot;bulk_activate_deal&quot; &gt; \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;inactivate_deal&quot;\n            class=&quot;com.Customer.Struts_Action&quot;\n            method=&quot;bulk_inactivate_deal&quot; &gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt; \n        &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n   \n   \n    &lt;action name=&quot;edit_Deal&quot;\n            class=&quot;com.Customer.Struts_Action&quot;\n            method=&quot;edit_Deal&quot;&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/Deals_edit.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n  \n  \n    &lt;action name=&quot;editDealsData&quot;\n            class=&quot;com.Customer.Struts_Action&quot;\n            method=&quot;edit_Deal_Data&quot;&gt;                    \n        &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\n            \n            &lt;param name=&quot;allowedTypes&quot;&gt;\n                image/png,image/gif,image/jpeg,image/pjpeg\n            &lt;/param&gt;\n        &lt;/interceptor-ref&gt;\n        &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;&lt;/interceptor-ref&gt;  \n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\n        &lt;result name=&quot;input&quot;&gt;/ImageFileUploadError.jsp&lt;/result&gt;\n    &lt;/action&gt;\n  \n    &lt;action name=&quot;Delete_Deal&quot;\n            class=&quot;com.Customer.Struts_Action&quot;\n            method=&quot;Delete_Deal&quot;&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n    &lt;action name=&quot;del_deal&quot;\n            class=&quot;com.Customer.Struts_Action&quot;\n            method=&quot;bulk_del_deal&quot;&gt;\n        &lt;result name=&quot;logoutPage&quot;&gt;/sa_login.jsp&lt;/result&gt;\n        &lt;result name=&quot;success&quot;&gt;/list_Deals.jsp&lt;/result&gt;\n        &lt;result name=&quot;error&quot;&gt;/error.jsp&lt;/result&gt;\n    &lt;/action&gt;\n  \n    \n    \n\n&lt;/struts&gt;\n</code></pre>\n"},{"tags":["java","sockets","exception","jdbc","mariadb"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1694008215,"post_id":77052367,"comment_id":135834811,"body_markdown":"Try to change the hostname or port.","body":"Try to change the hostname or port."}],"owner":{"account_id":29245173,"reputation":11,"user_id":22405796,"display_name":"Agustin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694006815,"creation_date":1694006779,"question_id":77052367,"body_markdown":"I&#39;m facing an issue while connecting to a remote MariaDB database from my work using Java. I have to use an SSH connection.\r\n\r\nFor the SSH part, I&#39;m using the dependency Jsch\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n    &lt;version&gt;0.2.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand I&#39;m using for the connection with MariaDB the dependency:\r\n\r\n```\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n         &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n         &lt;version&gt;3.1.4&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n```\r\n\r\nI can connect with the server using SSH with Jsch with the following code:\r\n\r\n```\r\nJSch jsch = new JSch();\r\njsch.setKnownHosts(System.getProperty(&quot;user.home&quot;)+&quot;/.ssh/known_hosts&quot;);\r\njsch.addIdentity(publicKey);\r\nsession = jsch.getSession(sshUserName, sshServer, remoteSSHPort);\r\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;yes&quot;);\r\nsession.connect();\r\n```\r\n\r\nBut when I&#39;m trying to connect with the Database using this code,\r\n\r\n```\r\npublic Connection connectToDB() throws Exception {\r\n\r\n    int assignedPort = session.setPortForwardingL(localPort,serverHost,remoteSSHPort);\r\n    String url = &quot;jdbc:mariadb://&quot; + serverHost + &quot;:&quot; + assignedPort + &quot;/&quot; + database;\r\n\r\n    return DriverManager.getConnection(url,userSQL,passwordSql);\r\n}\r\n```\r\n\r\nIt fails in the `DriverManager.getConnection()` part with the error: `SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=database)(port=3306)(type=primary). database`.\r\n\r\nFor some reason, when I use DBeaver to connect to this Database I don&#39;t have any issue, it connects smoothly.\r\n\r\nTrying to solve this issue, I have tried different types of solutions.\r\n\r\nFor example:\r\n\r\nUsing the different ways of sending the information in DriverManager.getConnection() method:\r\n\r\n- `getConnection(String url, String user, String password)`\r\n\r\n- `getConnection(String url)`\r\n\r\n- `getConnection(String url, java.util.Properties info)`\r\n\r\nFinally, I have tried without results using the code:\r\n\r\n```\r\nwhile(session.isConnected()){\r\n    Connection connection = connectToDB();\r\n    System.out.println(&quot;connected to DB...&quot;);\r\n    Statement statement = connection.createStatement();\r\n}\r\n```\r\n\r\nAny suggestion on how to solve this?","title":"SQLNonTransientConnectionException: Socket fail to connect to host. Error when trying to connect to remote MariaDB with Java","body":"<p>I'm facing an issue while connecting to a remote MariaDB database from my work using Java. I have to use an SSH connection.</p>\n<p>For the SSH part, I'm using the dependency Jsch</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I'm using for the connection with MariaDB the dependency:</p>\n<pre><code>     &lt;dependency&gt;\n         &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n         &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n         &lt;version&gt;3.1.4&lt;/version&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>I can connect with the server using SSH with Jsch with the following code:</p>\n<pre><code>JSch jsch = new JSch();\njsch.setKnownHosts(System.getProperty(&quot;user.home&quot;)+&quot;/.ssh/known_hosts&quot;);\njsch.addIdentity(publicKey);\nsession = jsch.getSession(sshUserName, sshServer, remoteSSHPort);\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;yes&quot;);\nsession.connect();\n</code></pre>\n<p>But when I'm trying to connect with the Database using this code,</p>\n<pre><code>public Connection connectToDB() throws Exception {\n\n    int assignedPort = session.setPortForwardingL(localPort,serverHost,remoteSSHPort);\n    String url = &quot;jdbc:mariadb://&quot; + serverHost + &quot;:&quot; + assignedPort + &quot;/&quot; + database;\n\n    return DriverManager.getConnection(url,userSQL,passwordSql);\n}\n</code></pre>\n<p>It fails in the <code>DriverManager.getConnection()</code> part with the error: <code>SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=database)(port=3306)(type=primary). database</code>.</p>\n<p>For some reason, when I use DBeaver to connect to this Database I don't have any issue, it connects smoothly.</p>\n<p>Trying to solve this issue, I have tried different types of solutions.</p>\n<p>For example:</p>\n<p>Using the different ways of sending the information in DriverManager.getConnection() method:</p>\n<ul>\n<li><p><code>getConnection(String url, String user, String password)</code></p>\n</li>\n<li><p><code>getConnection(String url)</code></p>\n</li>\n<li><p><code>getConnection(String url, java.util.Properties info)</code></p>\n</li>\n</ul>\n<p>Finally, I have tried without results using the code:</p>\n<pre><code>while(session.isConnected()){\n    Connection connection = connectToDB();\n    System.out.println(&quot;connected to DB...&quot;);\n    Statement statement = connection.createStatement();\n}\n</code></pre>\n<p>Any suggestion on how to solve this?</p>\n"},{"tags":["java","visual-studio-code","terminal"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":2,"creation_date":1693937527,"post_id":77046816,"comment_id":135824630,"body_markdown":"Do not include screenshots of code. Copy and paste the code into your post.","body":"Do not include screenshots of code. Copy and paste the code into your post."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693982202,"post_id":77046816,"comment_id":135829537,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23030736,"reputation":11,"user_id":17150258,"display_name":"ahmed mohamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694006664,"creation_date":1693939679,"answer_id":77047036,"question_id":77046816,"body_markdown":"I solved the problem by downloading the `code runner extension`, but the result appeared in output, not in the terminal. [Solve the problem.](https://i.stack.imgur.com/K3QfR.jpg)\r\n\r\nThank you!\r\n\r\n  \r\n  [1]: https://i.stack.imgur.com/K3QfR.jpg","title":"Why doesn&#39;t the result of running java file appear in the terminal","body":"<p>I solved the problem by downloading the <code>code runner extension</code>, but the result appeared in output, not in the terminal. <a href=\"https://i.stack.imgur.com/K3QfR.jpg\" rel=\"nofollow noreferrer\">Solve the problem.</a></p>\n<p>Thank you!</p>\n"}],"owner":{"account_id":23030736,"reputation":11,"user_id":17150258,"display_name":"ahmed mohamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694006664,"creation_date":1693937117,"question_id":77046816,"body_markdown":"I have downloaded the 6 required extensions as mentioned on the vsc website\r\nand download jdk-20\r\nAnd when I press run, a notification of the process of building and running comes below the program, but the terminal tab does not appear to show the result of the code\r\nWhen I deleted jdk, vsc told me, so I downloaded it again\r\n\r\n-- The problem is not that there are errors, but that the result of the operation does not appear. why?\r\n\r\nI tried to run a very simple java file on vsc but the code result is not shown\r\n\r\nThe number on the run and debug flag is the number of times the file has been run but there was no result:\r\n\r\n![The number on the run and debug flag is the number of times the file has been run but there was no result](https://i.stack.imgur.com/zm0ZP.jpg)\r\n\r\nThe operation ends with no result:\r\n\r\n![The operation ends with no result](https://i.stack.imgur.com/Qm8Hk.jpg)","title":"Why doesn&#39;t the result of running java file appear in the terminal","body":"<p>I have downloaded the 6 required extensions as mentioned on the vsc website\nand download jdk-20\nAnd when I press run, a notification of the process of building and running comes below the program, but the terminal tab does not appear to show the result of the code\nWhen I deleted jdk, vsc told me, so I downloaded it again</p>\n<p>-- The problem is not that there are errors, but that the result of the operation does not appear. why?</p>\n<p>I tried to run a very simple java file on vsc but the code result is not shown</p>\n<p>The number on the run and debug flag is the number of times the file has been run but there was no result:</p>\n<p><img src=\"https://i.stack.imgur.com/zm0ZP.jpg\" alt=\"The number on the run and debug flag is the number of times the file has been run but there was no result\" /></p>\n<p>The operation ends with no result:</p>\n<p><img src=\"https://i.stack.imgur.com/Qm8Hk.jpg\" alt=\"The operation ends with no result\" /></p>\n"},{"tags":["java","excel","exception","microsoft-graph-api"],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694006633,"creation_date":1694006633,"question_id":77052351,"body_markdown":"I have a piece of code in java using the microsoft graphapi, i need to detect if a workbook has a worksheet with the name &quot;centralData&quot;, but it is working but placing some errors in the log\r\n\r\n\r\n\t\ttry {\r\n\t\t\tWorkbookWorksheetRequestBuilder worksheetReq = workbookreq.worksheets(&quot;centralData&quot;);\r\n\t\t\tWorkbookWorksheet worksheet = worksheetReq.buildRequest().get();\r\n\t\t\tif (worksheet != null) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}catch (Exception ex){}\r\n\t\treturn false;\r\n\r\neven when i catch the exception i when this code run i get this message in the log\r\n\r\n    SEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: ItemNotFound\r\n    Error message: The requested resource doesn&#39;t exist.\r\n    \r\n    GET https://graph.microsoft.com/v1.0/drives/&lt;driveId&gt;/items/&lt;itemId&gt;/workbook/worksheets/fundamental\r\n    SdkVersion : graph-java/v5.46.0\r\n    \r\n    \r\n    404 : Not Found\r\n    [...]\r\n\r\ni want to avoid this in my log because if its not there i know its going to fail but my exception catching is not working","title":"Detect If workbook has Worksheet, Avoiding error message in log","body":"<p>I have a piece of code in java using the microsoft graphapi, i need to detect if a workbook has a worksheet with the name &quot;centralData&quot;, but it is working but placing some errors in the log</p>\n<pre><code>    try {\n        WorkbookWorksheetRequestBuilder worksheetReq = workbookreq.worksheets(&quot;centralData&quot;);\n        WorkbookWorksheet worksheet = worksheetReq.buildRequest().get();\n        if (worksheet != null) {\n            return true;\n        }\n    }catch (Exception ex){}\n    return false;\n</code></pre>\n<p>even when i catch the exception i when this code run i get this message in the log</p>\n<pre><code>SEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: ItemNotFound\nError message: The requested resource doesn't exist.\n\nGET https://graph.microsoft.com/v1.0/drives/&lt;driveId&gt;/items/&lt;itemId&gt;/workbook/worksheets/fundamental\nSdkVersion : graph-java/v5.46.0\n\n\n404 : Not Found\n[...]\n</code></pre>\n<p>i want to avoid this in my log because if its not there i know its going to fail but my exception catching is not working</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1355771,"reputation":1302,"user_id":1294193,"display_name":"Rex Charles"},"score":0,"creation_date":1694005235,"post_id":77052112,"comment_id":135834119,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":22650899,"reputation":355,"user_id":16825573,"display_name":"Lejdi Prifti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694006468,"creation_date":1694006468,"answer_id":77052329,"question_id":77052112,"body_markdown":"Imagine you have a repository that searches for a User with a certain username. \r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n         User findByName(String name);\r\n    }\r\n\r\nAs you can see above, the findByName gets translated to a `SELECT .... WHERE name = :name` query clause.","title":"Spring boot jpa method to Retrive all the departments for a repective locations or all the customers assigned to a user","body":"<p>Imagine you have a repository that searches for a User with a certain username.</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n     User findByName(String name);\n}\n</code></pre>\n<p>As you can see above, the findByName gets translated to a <code>SELECT .... WHERE name = :name</code> query clause.</p>\n"}],"owner":{"account_id":29102352,"reputation":1,"user_id":22293921,"display_name":"Abrar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694006468,"creation_date":1694004878,"question_id":77052112,"body_markdown":"I know how it can be done using Query but I&#39;m searching for methods in simples words I want to know how to create a method for Spring JPA for the Query which uses &quot;where&quot; condition...\r\n\r\nI searched for documentation but didn&#39;t found any &quot;where&quot; type method for Spring jpa.","title":"Spring boot jpa method to Retrive all the departments for a repective locations or all the customers assigned to a user","body":"<p>I know how it can be done using Query but I'm searching for methods in simples words I want to know how to create a method for Spring JPA for the Query which uses &quot;where&quot; condition...</p>\n<p>I searched for documentation but didn't found any &quot;where&quot; type method for Spring jpa.</p>\n"},{"tags":["java","hibernate-6.x","spring-boot-3"],"owner":{"account_id":18598762,"reputation":21,"user_id":13554088,"display_name":"Magomed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694006405,"creation_date":1694006405,"question_id":77052315,"body_markdown":"folks!\r\nWe are trying to migrate from 5 version Hibernate to 6 version.\r\nWe use several dialects to work with different dbs and we use same entities for it.\r\nFor postgres we don&#39;t make any additional type contribution, but for MSSQL we use pair of CharJdbcType and UUIDJavaType as a new BasicType.\r\n\r\n``\r\n\r\n```\r\n    import java.util.UUID;\r\nimport org.hibernate.type.AbstractSingleColumnStandardBasicType;\r\nimport org.hibernate.type.descriptor.java.UUIDJavaType;\r\nimport org.hibernate.type.descriptor.jdbc.CharJdbcType;\r\n\r\npublic class MssqlUUIDType extends AbstractSingleColumnStandardBasicType&lt;UUID&gt; {\r\n    public static final MssqlUUIDType INSTANCE = new MssqlUUIDType();\r\n\r\n    public SQLServerUUIDType() {\r\n        super( CharJdbcType.INSTANCE, UUIDJavaType.INSTANCE );\r\n    }\r\n\r\n    @Override\r\n    protected boolean registerUnderJavaType() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;uuid-binary&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n    @Override\r\n    public void contributeTypes(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\r\n        super.contributeTypes(typeContributions, serviceRegistry);\r\n        typeContributions.contributeType(SQLServerUUIDType.INSTANCE);\r\n    }\r\n```\r\n\r\nI&#39;m trying to contribute a new BasicType to Hibernate 6, but TypeContributions.contributeType(BasicType&lt;T&gt; basicType) is deprecated and AbstractSingleColumnStandardBasicType is also deprecated. I found there a working method for UserType and JavaType contribution, but I don&#39;t know how to do it in the right way. \r\nMaybe hibernate 6 already has a support of such functionality from the box.\r\nIn docs I found such solution:\r\n\r\n```\r\npublic class MssqlUUIDType extends AbstractClassJavaType&lt;MssqlUUIDType&gt; {\r\n....\r\n}\r\n```\r\n\r\nbut then they use such code to make it work:\r\n\r\n```\r\n @JavaType(MssqlUUIDType.class)\r\n private UUID id;\r\n```\r\n\r\nBut I want usage of the new type without additional annotations. Is it possible?\r\nCould you help me to find solution for this?","title":"Contribute basic type Hibernate 6 deprecated alternatives","body":"<p>folks!\nWe are trying to migrate from 5 version Hibernate to 6 version.\nWe use several dialects to work with different dbs and we use same entities for it.\nFor postgres we don't make any additional type contribution, but for MSSQL we use pair of CharJdbcType and UUIDJavaType as a new BasicType.</p>\n<p>``</p>\n<pre><code>    import java.util.UUID;\nimport org.hibernate.type.AbstractSingleColumnStandardBasicType;\nimport org.hibernate.type.descriptor.java.UUIDJavaType;\nimport org.hibernate.type.descriptor.jdbc.CharJdbcType;\n\npublic class MssqlUUIDType extends AbstractSingleColumnStandardBasicType&lt;UUID&gt; {\n    public static final MssqlUUIDType INSTANCE = new MssqlUUIDType();\n\n    public SQLServerUUIDType() {\n        super( CharJdbcType.INSTANCE, UUIDJavaType.INSTANCE );\n    }\n\n    @Override\n    protected boolean registerUnderJavaType() {\n        return true;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;uuid-binary&quot;;\n    }\n\n}\n</code></pre>\n<pre><code>    @Override\n    public void contributeTypes(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\n        super.contributeTypes(typeContributions, serviceRegistry);\n        typeContributions.contributeType(SQLServerUUIDType.INSTANCE);\n    }\n</code></pre>\n<p>I'm trying to contribute a new BasicType to Hibernate 6, but TypeContributions.contributeType(BasicType basicType) is deprecated and AbstractSingleColumnStandardBasicType is also deprecated. I found there a working method for UserType and JavaType contribution, but I don't know how to do it in the right way.\nMaybe hibernate 6 already has a support of such functionality from the box.\nIn docs I found such solution:</p>\n<pre><code>public class MssqlUUIDType extends AbstractClassJavaType&lt;MssqlUUIDType&gt; {\n....\n}\n</code></pre>\n<p>but then they use such code to make it work:</p>\n<pre><code> @JavaType(MssqlUUIDType.class)\n private UUID id;\n</code></pre>\n<p>But I want usage of the new type without additional annotations. Is it possible?\nCould you help me to find solution for this?</p>\n"},{"tags":["java","spring-boot","exception","jackson","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694006262,"creation_date":1694006262,"answer_id":77052297,"question_id":77045754,"body_markdown":"The error means you are adding a `java.io.File` attribute in the execution context, which is by default not safe to serialize/deserialize. Adding the path to the file in the execution context is probably a better option (ie serialize a pointer to the file as a string rather than the file itself as a `java.io.File`).\r\n\r\nYou need to add `java.io.File` to the list of trusted classes in the `Jackson2ExecutionContextStringSerializer`. You can do that by passing the fully qualified name of the class to the [constructor of the serializer](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/repository/dao/Jackson2ExecutionContextStringSerializer.html#%3Cinit%3E(java.lang.String...)) and register the customized serializer in the job repository and job explorer.","title":"How to solve &quot;The class with java.io.File and name of java.io.File is not trusted.&quot; Spring batch test error?","body":"<p>The error means you are adding a <code>java.io.File</code> attribute in the execution context, which is by default not safe to serialize/deserialize. Adding the path to the file in the execution context is probably a better option (ie serialize a pointer to the file as a string rather than the file itself as a <code>java.io.File</code>).</p>\n<p>You need to add <code>java.io.File</code> to the list of trusted classes in the <code>Jackson2ExecutionContextStringSerializer</code>. You can do that by passing the fully qualified name of the class to the <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/repository/dao/Jackson2ExecutionContextStringSerializer.html#%3Cinit%3E(java.lang.String...)\" rel=\"nofollow noreferrer\">constructor of the serializer</a> and register the customized serializer in the job repository and job explorer.</p>\n"}],"owner":{"account_id":29313193,"reputation":11,"user_id":22458485,"display_name":"Jeet_dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1694006262,"creation_date":1693927130,"question_id":77045754,"body_markdown":"I have a spring batch application and I am writing test cases for it. The application runs without any error. I could also unit tests the `Steps` in the application without any problem. However when I try to lauch the `Job` and test the `Job` end to end, I face a problem as given below -\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: The class with java.io.File and name of java.io.File is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing.\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer$TrustedTypeIdResolver.typeFromId(Jackson2ExecutionContextStringSerializer.java:353) ~[spring-batch-core-4.3.8.jar:4.3.8]\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:611) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:482) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133) ~[spring-batch-core-4.3.8.jar:4.3.8]\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104) ~[spring-batch-core-4.3.8.jar:4.3.8]\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:324) ~[spring-batch-core-4.3.8.jar:4.3.8]\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312) ~[spring-batch-core-4.3.8.jar:4.3.8]\r\n\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723) ~[spring-jdbc-5.3.25.jar:5.3.25]\r\n\t... 86 more\r\njava.lang.AssertionError: expected:&lt;exitCode=FAILED;exitDescription=&gt; but was:&lt;exitCode=FAILED;exitDescription=org.springframework.batch.core.JobExecutionException: Flow execution ended unexpectedly\r\n\tat org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:145)\r\n\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nCaused by: org.springframework.batch.core.job.flow.FlowExecutionException: Ended flow=xxFlow at state=xxFlow.step3 with exception\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:178)\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\r\n\tat org.springframework.batch.core.job.flow.support.state.FlowState.handle(FlowState.java:56)\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\r\n\tat org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:139)\r\n\t... 86 more\r\nCaused by: java.lang.IllegalArgumentException: Unable to deserialize the execution context\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:327)\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312)\r\n\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)\r\n\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)\r\n\tat org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.getExecutionContext(JdbcExecutionContextDao.java:114)\r\n\tat org.springframework.batch.core.repository.support.SimpleJobRepository.getLastStepExecution(SimpleJobRepository.java:240)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t... 91 more\r\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: The class with java.io.File and name of java.io.File is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing. (through reference chain: java.util.HashMap[&quot;tempFile&quot;])\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:392)\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:351)\r\n\tat com.fasterxml.jackson.databind.deser.std.ContainerDeserializerBase.wrapAndThrow(ContainerDeserializerBase.java:190)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:621)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:482)\r\n\tat com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133)\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104)\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:324)\r\n\t... 128 more\r\nCaused by: java.lang.IllegalArgumentException: The class with java.io.File and name of java.io.File is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing.\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer$TrustedTypeIdResolver.typeFromId(Jackson2ExecutionContextStringSerializer.java:353)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\r\n\tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:611)\r\n\t... 140 more\r\n\tat org.junit.Assert.fail(Assert.java:89)\r\n\tat org.junit.Assert.failNotEquals(Assert.java:835)\r\n\tat org.junit.Assert.assertEquals(Assert.java:120)\r\n\tat org.junit.Assert.assertEquals(Assert.java:146)\r\n\tat JobTest.inlandFlowTest(JobTest.java:71)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\r\n\r\n```\r\n\r\nThe test for testing the job looks as follow -\r\n\r\n```\r\n\r\nimport org.junit.Assert;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.batch.core.ExitStatus;\r\nimport org.springframework.batch.core.JobExecution;\r\nimport org.springframework.batch.core.JobParameters;\r\nimport org.springframework.batch.test.JobLauncherTestUtils;\r\nimport org.springframework.batch.test.JobRepositoryTestUtils;\r\nimport org.springframework.batch.test.context.SpringBatchTest;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.TestPropertySource;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\r\nimport org.springframework.batch.core.job.flow.Flow;\r\nimport javax.sql.DataSource;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBatchTest\r\n@SpringJUnitConfig({xxxConfiguration.class})\r\n@TestPropertySource( locations = &quot;/application-localtest.properties&quot;)\r\n@EnableJpaRepositories(&quot;xx.xx.xx.xxx.xx&quot;)\r\n@ActiveProfiles(&quot;localtest&quot;)\r\npublic class JobTest {\r\n\r\n\r\n    @MockBean\r\n    SpringEmailService emailService;\r\n\r\n    @Autowired\r\n    private JobLauncherTestUtils jobLauncherTestUtils;\r\n\r\n    @Autowired\r\n    DataSource datasource;\r\n\r\n    static {\r\n        System.setProperty(&quot;abcd&quot;, &quot;1&quot;);\r\n        System.setProperty(&quot;efgh&quot;, &quot;xx.x.xx&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void FlowTest()throws Exception{\r\n\r\n        JobParameters jobParameters = this.jobLauncherTestUtils.getUniqueJobParameters();\r\n\r\n\r\n        JobExecution jobExecution = this.jobLauncherTestUtils.launchJob(jobParameters);\r\n        Assert.assertEquals(ExitStatus.FAILED, jobExecution.getExitStatus());\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\nI have tried a few of the solutions present in the stackoverflow but nothing worked out. I am confused how to resolve this error and how to proceed ahead.","title":"How to solve &quot;The class with java.io.File and name of java.io.File is not trusted.&quot; Spring batch test error?","body":"<p>I have a spring batch application and I am writing test cases for it. The application runs without any error. I could also unit tests the <code>Steps</code> in the application without any problem. However when I try to lauch the <code>Job</code> and test the <code>Job</code> end to end, I face a problem as given below -</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: The class with java.io.File and name of java.io.File is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing.\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer$TrustedTypeIdResolver.typeFromId(Jackson2ExecutionContextStringSerializer.java:353) ~[spring-batch-core-4.3.8.jar:4.3.8]\n    at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:611) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:482) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133) ~[spring-batch-core-4.3.8.jar:4.3.8]\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104) ~[spring-batch-core-4.3.8.jar:4.3.8]\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:324) ~[spring-batch-core-4.3.8.jar:4.3.8]\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312) ~[spring-batch-core-4.3.8.jar:4.3.8]\n    at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723) ~[spring-jdbc-5.3.25.jar:5.3.25]\n    ... 86 more\njava.lang.AssertionError: expected:&lt;exitCode=FAILED;exitDescription=&gt; but was:&lt;exitCode=FAILED;exitDescription=org.springframework.batch.core.JobExecutionException: Flow execution ended unexpectedly\n    at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:145)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\nCaused by: org.springframework.batch.core.job.flow.FlowExecutionException: Ended flow=xxFlow at state=xxFlow.step3 with exception\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:178)\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\n    at org.springframework.batch.core.job.flow.support.state.FlowState.handle(FlowState.java:56)\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\n    at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:139)\n    ... 86 more\nCaused by: java.lang.IllegalArgumentException: Unable to deserialize the execution context\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:327)\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312)\n    at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)\n    at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)\n    at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.getExecutionContext(JdbcExecutionContextDao.java:114)\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.getLastStepExecution(SimpleJobRepository.java:240)\n    at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    ... 91 more\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: The class with java.io.File and name of java.io.File is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing. (through reference chain: java.util.HashMap[&quot;tempFile&quot;])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:392)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:351)\n    at com.fasterxml.jackson.databind.deser.std.ContainerDeserializerBase.wrapAndThrow(ContainerDeserializerBase.java:190)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:621)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:482)\n    at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133)\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104)\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:324)\n    ... 128 more\nCaused by: java.lang.IllegalArgumentException: The class with java.io.File and name of java.io.File is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing.\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer$TrustedTypeIdResolver.typeFromId(Jackson2ExecutionContextStringSerializer.java:353)\n    at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:611)\n    ... 140 more\n    at org.junit.Assert.fail(Assert.java:89)\n    at org.junit.Assert.failNotEquals(Assert.java:835)\n    at org.junit.Assert.assertEquals(Assert.java:120)\n    at org.junit.Assert.assertEquals(Assert.java:146)\n    at JobTest.inlandFlowTest(JobTest.java:71)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n\n\n</code></pre>\n<p>The test for testing the job looks as follow -</p>\n<pre><code>\nimport org.junit.Assert;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.batch.core.ExitStatus;\nimport org.springframework.batch.core.JobExecution;\nimport org.springframework.batch.core.JobParameters;\nimport org.springframework.batch.test.JobLauncherTestUtils;\nimport org.springframework.batch.test.JobRepositoryTestUtils;\nimport org.springframework.batch.test.context.SpringBatchTest;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\nimport org.springframework.batch.core.job.flow.Flow;\nimport javax.sql.DataSource;\n\n@ExtendWith(SpringExtension.class)\n@SpringBatchTest\n@SpringJUnitConfig({xxxConfiguration.class})\n@TestPropertySource( locations = &quot;/application-localtest.properties&quot;)\n@EnableJpaRepositories(&quot;xx.xx.xx.xxx.xx&quot;)\n@ActiveProfiles(&quot;localtest&quot;)\npublic class JobTest {\n\n\n    @MockBean\n    SpringEmailService emailService;\n\n    @Autowired\n    private JobLauncherTestUtils jobLauncherTestUtils;\n\n    @Autowired\n    DataSource datasource;\n\n    static {\n        System.setProperty(&quot;abcd&quot;, &quot;1&quot;);\n        System.setProperty(&quot;efgh&quot;, &quot;xx.x.xx&quot;);\n    }\n\n    @Test\n    public void FlowTest()throws Exception{\n\n        JobParameters jobParameters = this.jobLauncherTestUtils.getUniqueJobParameters();\n\n\n        JobExecution jobExecution = this.jobLauncherTestUtils.launchJob(jobParameters);\n        Assert.assertEquals(ExitStatus.FAILED, jobExecution.getExitStatus());\n\n\n    }\n}\n\n\n\n\n</code></pre>\n<p>I have tried a few of the solutions present in the stackoverflow but nothing worked out. I am confused how to resolve this error and how to proceed ahead.</p>\n"},{"tags":["java","ssl","apache-kafka","ssl-certificate","pem"],"answers":[{"tags":[],"owner":{"account_id":1531501,"reputation":487,"user_id":1428596,"accept_rate":100,"display_name":"DoNuT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694006215,"creation_date":1693922974,"answer_id":77045256,"question_id":77045144,"body_markdown":"I&#39;ve found that OpenJDK and lack of support for PBES2-formatted keys in an internal library is the issue.\r\n\r\nSee also: https://stackoverflow.com/questions/65870378/kafka-wont-start-with-pem-certificate\r\n\r\nSo, there are two options as of today\r\n\r\n**1.) Convert the key** \r\n\r\nSomething like \r\n\r\n    openssl pkcs8 -in old_kafka.key -passout &quot;pass:password&quot; -topk8 -v1 PBE-SHA1-3DES -out kafka.key\r\n\r\nshould do the trick. My scenario actually included loading a remote keystore, extracting the key and passing it in-memory, so this possibly includes lots of specific command-line action with *openssl* and *keytool* such as converting/reimporting the key or initially creating a proper key. \r\n\r\nIf you have third-party users providing certificates in your Kafka-based stack, you will have to be transparent about this limitation (or convert every incompatible key provided), also be aware of concerns raised in the JDK issue:\r\n\r\n&gt; If encrypted with legacy PBKDF1+SHA1+3DES the encoding works, but these algorithms are deprecated and insecure.\r\n\r\n**2.) Use the ssl.keystore/truststore.location options and a temporary keystore file**\r\n\r\nWhen using keystores to initialize Kafka, this goes through a different code path in Java libraries and we don&#39;t hit *javax.crypto.EncryptedPrivateKeyInfo* failing to parse a PBES2-encoded key.\r\n\r\nMy scenario allowed to dump the key into the production containers */tmp* filesystem, initialize Kafka and then delete the keystore file to avoid file system growth (or certificates exposed).\r\n\r\n*KafkaProducer* internally does a *KeyStore.load* and the stores are held in-memory, so you can delete it after your producer was created.\r\n\r\n----------\r\n\r\nGoing forward [JDK-8231581][1], might get fixed but when I checked last ([jdk-22+13][2]), it was still the same old code from 2007 (or even before).\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8231581\r\n  [2]: https://github.com/openjdk/jdk/blame/jdk-22%2B13/src/java.base/share/classes/com/sun/crypto/provider/EncryptedPrivateKeyInfo.java#L68","title":"Apache Kafka client/producer: Invalid PEM keystore configs","body":"<p>I've found that OpenJDK and lack of support for PBES2-formatted keys in an internal library is the issue.</p>\n<p>See also: <a href=\"https://stackoverflow.com/questions/65870378/kafka-wont-start-with-pem-certificate\">Kafka won&#39;t start with PEM certificate</a></p>\n<p>So, there are two options as of today</p>\n<p><strong>1.) Convert the key</strong></p>\n<p>Something like</p>\n<pre><code>openssl pkcs8 -in old_kafka.key -passout &quot;pass:password&quot; -topk8 -v1 PBE-SHA1-3DES -out kafka.key\n</code></pre>\n<p>should do the trick. My scenario actually included loading a remote keystore, extracting the key and passing it in-memory, so this possibly includes lots of specific command-line action with <em>openssl</em> and <em>keytool</em> such as converting/reimporting the key or initially creating a proper key.</p>\n<p>If you have third-party users providing certificates in your Kafka-based stack, you will have to be transparent about this limitation (or convert every incompatible key provided), also be aware of concerns raised in the JDK issue:</p>\n<blockquote>\n<p>If encrypted with legacy PBKDF1+SHA1+3DES the encoding works, but these algorithms are deprecated and insecure.</p>\n</blockquote>\n<p><strong>2.) Use the ssl.keystore/truststore.location options and a temporary keystore file</strong></p>\n<p>When using keystores to initialize Kafka, this goes through a different code path in Java libraries and we don't hit <em>javax.crypto.EncryptedPrivateKeyInfo</em> failing to parse a PBES2-encoded key.</p>\n<p>My scenario allowed to dump the key into the production containers <em>/tmp</em> filesystem, initialize Kafka and then delete the keystore file to avoid file system growth (or certificates exposed).</p>\n<p><em>KafkaProducer</em> internally does a <em>KeyStore.load</em> and the stores are held in-memory, so you can delete it after your producer was created.</p>\n<hr />\n<p>Going forward <a href=\"https://bugs.openjdk.org/browse/JDK-8231581\" rel=\"nofollow noreferrer\">JDK-8231581</a>, might get fixed but when I checked last (<a href=\"https://github.com/openjdk/jdk/blame/jdk-22%2B13/src/java.base/share/classes/com/sun/crypto/provider/EncryptedPrivateKeyInfo.java#L68\" rel=\"nofollow noreferrer\">jdk-22+13</a>), it was still the same old code from 2007 (or even before).</p>\n"}],"owner":{"account_id":1531501,"reputation":487,"user_id":1428596,"accept_rate":100,"display_name":"DoNuT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77045256,"answer_count":1,"score":0,"last_activity_date":1694006215,"creation_date":1693922188,"question_id":77045144,"body_markdown":"I&#39;m trying to implement a Kafka Producer including SSL configuration. Since we run the service in containers and shipping keystores in the local file system is not possible (using the *ssl.keystore.location* and *ssl.truststore.location* options), I have to pass keys and certificates in PEM format using the corresponding/alternate options -  as available since version 2.7.0 (I&#39;m running Kafka 3.5.0 and kafka-clients:3.5.0 on JDK8)\r\n\r\nHere&#39;s my full client configuration (keys are for testing only)\r\n\r\n```\r\nsecurity.protocol=SSL\r\nssl.enabled.protocols=TLSv1.3\r\n\r\nssl.keystore.type=PEM\r\nssl.key.password=test1234\r\nssl.keystore.key=-----BEGIN RSA PRIVATE KEY----- \\\r\nMIIEpQIBAAKCAQEAq2UXYa2I/ebR89f9Y7IA7u9PIKOAz2jyK4Y+Zm3lNzIj+7Sf \\\r\n1zVFt8KwIG+KSOpvS7i3FoUZhqSr6KnkOZnd5QBuNkAo+20J1FTGSMlHHxxvYSb/ \\\r\n03M1Ehwu5FO87jGX4KhZdiFO4glaC+ww7X3Rk9NFcONI+/r7YRS6lmux/yZ45bJb \\\r\nNYg7dIkVdl2evZOM3qu+uLbeAU/R7gu2G94XpKPe7OqdIwN5oNch41eoj1Mucm4j \\\r\nBT0b4BrJXsB82pHsKtDfpRWw+HjSvysgGhietcj8AfiO9U3SU7frRaFnQg6qrYzd \\\r\n6QxQlvBa2T62hoJvfjctXoHTuywpbAQTEzpLlwIDAQABAoIBACMJ+au4ZGczxvxI \\\r\nzb6R52rxdYXAp1a/p7KKMTuTf+a203BjzsGaXHRi0sruwqCBfNtIGfX6o+tIwvQ/ \\\r\nty6nbBui6OUiXL553iaQZjD/JRERKRv9cxNxXAolxNhc3iT78oa1JATobk37h3Mk \\\r\niCQlMrE74dhgPs100+tW54ZU4gC9L9OY8M7tQuXFOOK7cydTMmuiC1SMQEHR9WUD \\\r\nCJQMyn8zcPxHPGcfyc5Sr7W54FQ2quvWNmxTDGAp80bYl/wuAEbuig3QRyLv055G \\\r\nGRMZN0nAM6J3LWbFx/NtWEErN6RoFvc4C0h+H3V+DYiQ2SQNrmBKb3N9gQqs5mXM \\\r\n3c/DnYECgYEA+MY3WRDeD1DjHK/q2/NLHLGmSqoQ2hN7ea0j+8VLvu7X4r1TrQJ4 \\\r\nqv5j9v4vRnXRW5dCo7tyWmwbY9g93foPGmtYFD6UzaZRu0jO6oyWL2rsEm015NuT \\\r\n9Faf5oDMkAlWrVusUTHsnMlwTKCDWRqqa6Jum1wfqsRm0hGGqs7ZiGECgYEAsF+D \\\r\ne/ldvxfWdCIK24AQOrKcYgIy0iwTuDrvfkhA0v9I578U15/odBoXLyrUuvJuxWUa \\\r\naQl8oaxvOS5jw/f5nraquOXUECllwMoh1GNkMxX7zTaLtt16JkSHzXZjBZ8QDFAt \\\r\nKRRXOqtsDLgrpSvRjHAxltNmPSNKxCzp8cBbdvcCgYEA8cdDV46rItuMPv9CFM6Z \\\r\nu6N0aLBsfGXe5Vy+0hzoBwL+UmGLB2SVfiqLYSudKq+q74dMvvCYrQTQgfNR/YDg \\\r\nWN7m1ZYU7OGuIYUbhJ1qAV+7XBVEAc7eNuRRt6aKKZrJ4OZtzOPmgGLOf8qonVrr \\\r\nMnzFXrzkEgWboKJj7XHnvUECgYEAmZ3HTp6GOV9QyPuxizcCa62PqYmSrB352vdy \\\r\nCwJxe5Uf8cErLRc5Bo6G7O0YNe/b7Q+/Lgc2RzaB9ULjYBdGkic1kS+UQbNczcsA \\\r\nJhWfeyNFmppMnCxRLK15vsnDO20sNB1NCD+QLiiKRpXOZeFBdVlux5g+rzdi8nTQ \\\r\nGmDZCUcCgYEA2X6cJ4uCngOv7tQdILZpzYeZAb2crNa9vlngcfLbi8+7zTyS4Lop \\\r\n8Nmn979OrmCtHKgrMOcfFiObIBgnFPSufr+svp/y9Jd5TXE6dVmNLX13rki3HHgS \\\r\nuvxYM9UV5XdtSSb4BPYgBYmuXP8QjiK+V7TqU6Cc0ZK/Ma8DoBi3IEY= \\\r\n-----END RSA PRIVATE KEY-----\r\nssl.keystore.certificate.chain=-----BEGIN CERTIFICATE----- \\\r\nMIIDODCCAiACFBB23JdRC3qHpoGeo+qFdT2pGgOYMA0GCSqGSIb3DQEBCwUAMEUx \\\r\nCzAJBgNVBAYTAmF0MRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRl \\\r\ncm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMjMwODE3MDgyMDQzWhcNMjQwODE2MDgy \\\r\nMDQzWjBsMRAwDgYDVQQGEwdVbmtub3duMRAwDgYDVQQIEwdVbmtub3duMRAwDgYD \\\r\nVQQHEwdVbmtub3duMRAwDgYDVQQKEwdVbmtub3duMRAwDgYDVQQLEwdVbmtub3du \\\r\nMRAwDgYDVQQDEwdVbmtub3duMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC \\\r\nAQEAq2UXYa2I/ebR89f9Y7IA7u9PIKOAz2jyK4Y+Zm3lNzIj+7Sf1zVFt8KwIG+K \\\r\nSOpvS7i3FoUZhqSr6KnkOZnd5QBuNkAo+20J1FTGSMlHHxxvYSb/03M1Ehwu5FO8 \\\r\n7jGX4KhZdiFO4glaC+ww7X3Rk9NFcONI+/r7YRS6lmux/yZ45bJbNYg7dIkVdl2e \\\r\nvZOM3qu+uLbeAU/R7gu2G94XpKPe7OqdIwN5oNch41eoj1Mucm4jBT0b4BrJXsB8 \\\r\n2pHsKtDfpRWw+HjSvysgGhietcj8AfiO9U3SU7frRaFnQg6qrYzd6QxQlvBa2T62 \\\r\nhoJvfjctXoHTuywpbAQTEzpLlwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQBciKIN \\\r\nKCPTnSTPJEMHHunhC12WvbfF//BGqh3gn1eviGHRB1pnylQLPQXBIOJlTtgdlt0h \\\r\n0xSYgvWouD4UwctWTZoVRV/yHhMuZ99LXl8OKKCpZKGXfYTB2QjSkdWN+BIBhPz5 \\\r\nL7PIsNQJVmY/FpV8Es93lsjS2nH8fqaCOpVLsc604GDVD4cbUJEbCmB6faZ1Fy7x \\\r\nGX7yBkqTSEwE9TAJAgsPIWZZNsGD44ZGj0VAy/kRCEHigcToOvxPN+3nVWE3qacu \\\r\nQFyxNNX6waCc7rwxiIYarbxiGWxZo9pMEQC5ilxOzu1dShxbZNha8pyk3ClcGpCo \\\r\nnaBeqW3X6uSM7CMr \\\r\n-----END CERTIFICATE----- \\\r\n-----BEGIN CERTIFICATE----- \\\r\nMIIDazCCAlOgAwIBAgIUEGrJ27wUi2LZ+2dE2DVJyDsPkwowDQYJKoZIhvcNAQEL \\\r\nBQAwRTELMAkGA1UEBhMCYXQxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM \\\r\nGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMzA4MTcwODE0MDRaFw0yNDA4 \\\r\nMTYwODE0MDRaMEUxCzAJBgNVBAYTAmF0MRMwEQYDVQQIDApTb21lLVN0YXRlMSEw \\\r\nHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggEiMA0GCSqGSIb3DQEB \\\r\nAQUAA4IBDwAwggEKAoIBAQDbCz4asRwDChWKL6VMX6STMugfn2X+QISSrad21VFH \\\r\nG9GHgRY36CpD/dd1AmoJKHChe5idR+Wq/522rg0AWDcSRF0ueI092JIYhEicnLIa \\\r\ncu5CehQwrFp+eaWh+ycgun9o1BXoUZVwBz/8I+02PqsgdpPfWdzIEvMd3xGYyI0w \\\r\ndarsrWrvOxfzmtZcNtj5OWyRX6Gx0ql3eq5i423BHAkKKzMwLw8TLtoIC+7i0fkR \\\r\n7BckDexgdEMAPBgLxMwc9/ZI5LPad4BwizNiFxIkA38vwVHpgeNLD58aZNh0wlOB \\\r\nc/Vk/Lq8zK3YHHLcXASudUvjR8cDMRNYwcHmrWjl5S1PAgMBAAGjUzBRMB0GA1Ud \\\r\nDgQWBBQtJjgJdIYZyJqTACDjVBoD5hPtoTAfBgNVHSMEGDAWgBQtJjgJdIYZyJqT \\\r\nACDjVBoD5hPtoTAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQAQ \\\r\n/CS0lo8QiK/6oCyo6rcsh3XjTvbBXTW/h25RNXkQbEDmMErCI9UVHNFA+JtxfTW4 \\\r\nYDyp7ccfXdqEVzYGMlqfVeWxVSw3PvC+PCuJeAc2l8PtW9gMfmoM/N6Lg6ckw4Dy \\\r\nvEhLy34s0x+mtPQM9owxiPlKMYIzUnGhbdGF4cb+IYDONgrsBIQVa7UHrw8r43DE \\\r\n41pVFUqVvgrbHs3Oao8lEPJLyolPLuHdgVafp2urXRCqkWEwM9pTiffWDR2USX5B \\\r\nmL3mVNTnVXSpOErpjkQvp73zOjSG/h4CEgGdrLc8kjv1jkSyi3R8c3MRDhKlZnWK \\\r\nomAr3CbvLmjrFWnzDN7d \\\r\n-----END CERTIFICATE-----\r\n\r\nssl.truststore.type=PEM\r\nssl.truststore.certificates=-----BEGIN CERTIFICATE----- \\\r\nMIIDazCCAlOgAwIBAgIUEGrJ27wUi2LZ+2dE2DVJyDsPkwowDQYJKoZIhvcNAQEL \\\r\nBQAwRTELMAkGA1UEBhMCYXQxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM \\\r\nGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMzA4MTcwODE0MDRaFw0yNDA4 \\\r\nMTYwODE0MDRaMEUxCzAJBgNVBAYTAmF0MRMwEQYDVQQIDApTb21lLVN0YXRlMSEw \\\r\nHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggEiMA0GCSqGSIb3DQEB \\\r\nAQUAA4IBDwAwggEKAoIBAQDbCz4asRwDChWKL6VMX6STMugfn2X+QISSrad21VFH \\\r\nG9GHgRY36CpD/dd1AmoJKHChe5idR+Wq/522rg0AWDcSRF0ueI092JIYhEicnLIa \\\r\ncu5CehQwrFp+eaWh+ycgun9o1BXoUZVwBz/8I+02PqsgdpPfWdzIEvMd3xGYyI0w \\\r\ndarsrWrvOxfzmtZcNtj5OWyRX6Gx0ql3eq5i423BHAkKKzMwLw8TLtoIC+7i0fkR \\\r\n7BckDexgdEMAPBgLxMwc9/ZI5LPad4BwizNiFxIkA38vwVHpgeNLD58aZNh0wlOB \\\r\nc/Vk/Lq8zK3YHHLcXASudUvjR8cDMRNYwcHmrWjl5S1PAgMBAAGjUzBRMB0GA1Ud \\\r\nDgQWBBQtJjgJdIYZyJqTACDjVBoD5hPtoTAfBgNVHSMEGDAWgBQtJjgJdIYZyJqT \\\r\nACDjVBoD5hPtoTAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQAQ \\\r\n/CS0lo8QiK/6oCyo6rcsh3XjTvbBXTW/h25RNXkQbEDmMErCI9UVHNFA+JtxfTW4 \\\r\nYDyp7ccfXdqEVzYGMlqfVeWxVSw3PvC+PCuJeAc2l8PtW9gMfmoM/N6Lg6ckw4Dy \\\r\nvEhLy34s0x+mtPQM9owxiPlKMYIzUnGhbdGF4cb+IYDONgrsBIQVa7UHrw8r43DE \\\r\n41pVFUqVvgrbHs3Oao8lEPJLyolPLuHdgVafp2urXRCqkWEwM9pTiffWDR2USX5B \\\r\nmL3mVNTnVXSpOErpjkQvp73zOjSG/h4CEgGdrLc8kjv1jkSyi3R8c3MRDhKlZnWK \\\r\nomAr3CbvLmjrFWnzDN7d \\\r\n-----END CERTIFICATE-----\r\n```\r\n\r\nHowever, when I&#39;m trying to run the producer, I&#39;m always getting the following error, indicating that something is wrong with the private key provided but I&#39;m not sure what...\r\n\r\n(The trust chain works when I skip client authentication).\r\n\r\n```\r\norg.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:837)\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:671)\r\n        at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:652)\r\n        at kafka.tools.ConsoleConsumer$.run(ConsoleConsumer.scala:67)\r\n        at kafka.tools.ConsoleConsumer$.main(ConsoleConsumer.scala:54)\r\n        at kafka.tools.ConsoleConsumer.main(ConsoleConsumer.scala)\r\nCaused by: org.apache.kafka.common.errors.InvalidConfigurationException: Invalid PEM keystore configs\r\nCaused by: java.io.IOException: overrun, bytes = 925\r\n        at java.base/javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:98)\r\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory$PemStore.privateKey(DefaultSslEngineFactory.java:510)\r\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory$PemStore.createKeyStoreFromPem(DefaultSslEngineFactory.java:460)\r\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory$PemStore.&lt;init&gt;(DefaultSslEngineFactory.java:433)\r\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory.createKeystore(DefaultSslEngineFactory.java:284)\r\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory.configure(DefaultSslEngineFactory.java:161)\r\n        at org.apache.kafka.common.security.ssl.SslFactory.instantiateSslEngineFactory(SslFactory.java:140)\r\n```\r\n\r\nMy real-life application set properties at runtime and converts the key from a keystore that is loaded via remote API call (using [Bouncy castle][1])\r\n\r\n```\r\nKey clientPrivateKey = keyStore.getKey(clientCertAlias, keyStorePassword.toCharArray());\r\ntry (Writer writer = new StringWriter(); JcaPEMWriter pemWriter = new JcaPEMWriter(writer)) {\r\n   pemWriter.writeObject(clientPrivateKey);\r\n   pemWriter.flush();\r\n   properties.put(&quot;ssl.keystore.key&quot;, writer.toString());\r\n}\r\n```\r\n\r\nWhen I use the JKS keystore options with the same keystore (including both the trusted key and my private key), initialization works, so something must be flawed with the way the private key gets exported/converted into PEM format\r\n\r\n```\r\nsecurity.protocol=SSL\r\nssl.truststore.type=JKS\r\nssl.truststore.location=/tmp/client.keystore.jks\r\nssl.enabled.protocols=TLSv1.3\r\nssl.truststore.password=test1234\r\nssl.keystore.type=JKS\r\nssl.keystore.location=/tmp/client.keystore.jks\r\nssl.keystore.password=test1234\r\nssl.endpoint.identification.algorithm=\r\n```\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/","title":"Apache Kafka client/producer: Invalid PEM keystore configs","body":"<p>I'm trying to implement a Kafka Producer including SSL configuration. Since we run the service in containers and shipping keystores in the local file system is not possible (using the <em>ssl.keystore.location</em> and <em>ssl.truststore.location</em> options), I have to pass keys and certificates in PEM format using the corresponding/alternate options -  as available since version 2.7.0 (I'm running Kafka 3.5.0 and kafka-clients:3.5.0 on JDK8)</p>\n<p>Here's my full client configuration (keys are for testing only)</p>\n<pre><code>security.protocol=SSL\nssl.enabled.protocols=TLSv1.3\n\nssl.keystore.type=PEM\nssl.key.password=test1234\nssl.keystore.key=-----BEGIN RSA PRIVATE KEY----- \\\nMIIEpQIBAAKCAQEAq2UXYa2I/ebR89f9Y7IA7u9PIKOAz2jyK4Y+Zm3lNzIj+7Sf \\\n1zVFt8KwIG+KSOpvS7i3FoUZhqSr6KnkOZnd5QBuNkAo+20J1FTGSMlHHxxvYSb/ \\\n03M1Ehwu5FO87jGX4KhZdiFO4glaC+ww7X3Rk9NFcONI+/r7YRS6lmux/yZ45bJb \\\nNYg7dIkVdl2evZOM3qu+uLbeAU/R7gu2G94XpKPe7OqdIwN5oNch41eoj1Mucm4j \\\nBT0b4BrJXsB82pHsKtDfpRWw+HjSvysgGhietcj8AfiO9U3SU7frRaFnQg6qrYzd \\\n6QxQlvBa2T62hoJvfjctXoHTuywpbAQTEzpLlwIDAQABAoIBACMJ+au4ZGczxvxI \\\nzb6R52rxdYXAp1a/p7KKMTuTf+a203BjzsGaXHRi0sruwqCBfNtIGfX6o+tIwvQ/ \\\nty6nbBui6OUiXL553iaQZjD/JRERKRv9cxNxXAolxNhc3iT78oa1JATobk37h3Mk \\\niCQlMrE74dhgPs100+tW54ZU4gC9L9OY8M7tQuXFOOK7cydTMmuiC1SMQEHR9WUD \\\nCJQMyn8zcPxHPGcfyc5Sr7W54FQ2quvWNmxTDGAp80bYl/wuAEbuig3QRyLv055G \\\nGRMZN0nAM6J3LWbFx/NtWEErN6RoFvc4C0h+H3V+DYiQ2SQNrmBKb3N9gQqs5mXM \\\n3c/DnYECgYEA+MY3WRDeD1DjHK/q2/NLHLGmSqoQ2hN7ea0j+8VLvu7X4r1TrQJ4 \\\nqv5j9v4vRnXRW5dCo7tyWmwbY9g93foPGmtYFD6UzaZRu0jO6oyWL2rsEm015NuT \\\n9Faf5oDMkAlWrVusUTHsnMlwTKCDWRqqa6Jum1wfqsRm0hGGqs7ZiGECgYEAsF+D \\\ne/ldvxfWdCIK24AQOrKcYgIy0iwTuDrvfkhA0v9I578U15/odBoXLyrUuvJuxWUa \\\naQl8oaxvOS5jw/f5nraquOXUECllwMoh1GNkMxX7zTaLtt16JkSHzXZjBZ8QDFAt \\\nKRRXOqtsDLgrpSvRjHAxltNmPSNKxCzp8cBbdvcCgYEA8cdDV46rItuMPv9CFM6Z \\\nu6N0aLBsfGXe5Vy+0hzoBwL+UmGLB2SVfiqLYSudKq+q74dMvvCYrQTQgfNR/YDg \\\nWN7m1ZYU7OGuIYUbhJ1qAV+7XBVEAc7eNuRRt6aKKZrJ4OZtzOPmgGLOf8qonVrr \\\nMnzFXrzkEgWboKJj7XHnvUECgYEAmZ3HTp6GOV9QyPuxizcCa62PqYmSrB352vdy \\\nCwJxe5Uf8cErLRc5Bo6G7O0YNe/b7Q+/Lgc2RzaB9ULjYBdGkic1kS+UQbNczcsA \\\nJhWfeyNFmppMnCxRLK15vsnDO20sNB1NCD+QLiiKRpXOZeFBdVlux5g+rzdi8nTQ \\\nGmDZCUcCgYEA2X6cJ4uCngOv7tQdILZpzYeZAb2crNa9vlngcfLbi8+7zTyS4Lop \\\n8Nmn979OrmCtHKgrMOcfFiObIBgnFPSufr+svp/y9Jd5TXE6dVmNLX13rki3HHgS \\\nuvxYM9UV5XdtSSb4BPYgBYmuXP8QjiK+V7TqU6Cc0ZK/Ma8DoBi3IEY= \\\n-----END RSA PRIVATE KEY-----\nssl.keystore.certificate.chain=-----BEGIN CERTIFICATE----- \\\nMIIDODCCAiACFBB23JdRC3qHpoGeo+qFdT2pGgOYMA0GCSqGSIb3DQEBCwUAMEUx \\\nCzAJBgNVBAYTAmF0MRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRl \\\ncm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMjMwODE3MDgyMDQzWhcNMjQwODE2MDgy \\\nMDQzWjBsMRAwDgYDVQQGEwdVbmtub3duMRAwDgYDVQQIEwdVbmtub3duMRAwDgYD \\\nVQQHEwdVbmtub3duMRAwDgYDVQQKEwdVbmtub3duMRAwDgYDVQQLEwdVbmtub3du \\\nMRAwDgYDVQQDEwdVbmtub3duMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC \\\nAQEAq2UXYa2I/ebR89f9Y7IA7u9PIKOAz2jyK4Y+Zm3lNzIj+7Sf1zVFt8KwIG+K \\\nSOpvS7i3FoUZhqSr6KnkOZnd5QBuNkAo+20J1FTGSMlHHxxvYSb/03M1Ehwu5FO8 \\\n7jGX4KhZdiFO4glaC+ww7X3Rk9NFcONI+/r7YRS6lmux/yZ45bJbNYg7dIkVdl2e \\\nvZOM3qu+uLbeAU/R7gu2G94XpKPe7OqdIwN5oNch41eoj1Mucm4jBT0b4BrJXsB8 \\\n2pHsKtDfpRWw+HjSvysgGhietcj8AfiO9U3SU7frRaFnQg6qrYzd6QxQlvBa2T62 \\\nhoJvfjctXoHTuywpbAQTEzpLlwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQBciKIN \\\nKCPTnSTPJEMHHunhC12WvbfF//BGqh3gn1eviGHRB1pnylQLPQXBIOJlTtgdlt0h \\\n0xSYgvWouD4UwctWTZoVRV/yHhMuZ99LXl8OKKCpZKGXfYTB2QjSkdWN+BIBhPz5 \\\nL7PIsNQJVmY/FpV8Es93lsjS2nH8fqaCOpVLsc604GDVD4cbUJEbCmB6faZ1Fy7x \\\nGX7yBkqTSEwE9TAJAgsPIWZZNsGD44ZGj0VAy/kRCEHigcToOvxPN+3nVWE3qacu \\\nQFyxNNX6waCc7rwxiIYarbxiGWxZo9pMEQC5ilxOzu1dShxbZNha8pyk3ClcGpCo \\\nnaBeqW3X6uSM7CMr \\\n-----END CERTIFICATE----- \\\n-----BEGIN CERTIFICATE----- \\\nMIIDazCCAlOgAwIBAgIUEGrJ27wUi2LZ+2dE2DVJyDsPkwowDQYJKoZIhvcNAQEL \\\nBQAwRTELMAkGA1UEBhMCYXQxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM \\\nGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMzA4MTcwODE0MDRaFw0yNDA4 \\\nMTYwODE0MDRaMEUxCzAJBgNVBAYTAmF0MRMwEQYDVQQIDApTb21lLVN0YXRlMSEw \\\nHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggEiMA0GCSqGSIb3DQEB \\\nAQUAA4IBDwAwggEKAoIBAQDbCz4asRwDChWKL6VMX6STMugfn2X+QISSrad21VFH \\\nG9GHgRY36CpD/dd1AmoJKHChe5idR+Wq/522rg0AWDcSRF0ueI092JIYhEicnLIa \\\ncu5CehQwrFp+eaWh+ycgun9o1BXoUZVwBz/8I+02PqsgdpPfWdzIEvMd3xGYyI0w \\\ndarsrWrvOxfzmtZcNtj5OWyRX6Gx0ql3eq5i423BHAkKKzMwLw8TLtoIC+7i0fkR \\\n7BckDexgdEMAPBgLxMwc9/ZI5LPad4BwizNiFxIkA38vwVHpgeNLD58aZNh0wlOB \\\nc/Vk/Lq8zK3YHHLcXASudUvjR8cDMRNYwcHmrWjl5S1PAgMBAAGjUzBRMB0GA1Ud \\\nDgQWBBQtJjgJdIYZyJqTACDjVBoD5hPtoTAfBgNVHSMEGDAWgBQtJjgJdIYZyJqT \\\nACDjVBoD5hPtoTAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQAQ \\\n/CS0lo8QiK/6oCyo6rcsh3XjTvbBXTW/h25RNXkQbEDmMErCI9UVHNFA+JtxfTW4 \\\nYDyp7ccfXdqEVzYGMlqfVeWxVSw3PvC+PCuJeAc2l8PtW9gMfmoM/N6Lg6ckw4Dy \\\nvEhLy34s0x+mtPQM9owxiPlKMYIzUnGhbdGF4cb+IYDONgrsBIQVa7UHrw8r43DE \\\n41pVFUqVvgrbHs3Oao8lEPJLyolPLuHdgVafp2urXRCqkWEwM9pTiffWDR2USX5B \\\nmL3mVNTnVXSpOErpjkQvp73zOjSG/h4CEgGdrLc8kjv1jkSyi3R8c3MRDhKlZnWK \\\nomAr3CbvLmjrFWnzDN7d \\\n-----END CERTIFICATE-----\n\nssl.truststore.type=PEM\nssl.truststore.certificates=-----BEGIN CERTIFICATE----- \\\nMIIDazCCAlOgAwIBAgIUEGrJ27wUi2LZ+2dE2DVJyDsPkwowDQYJKoZIhvcNAQEL \\\nBQAwRTELMAkGA1UEBhMCYXQxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM \\\nGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMzA4MTcwODE0MDRaFw0yNDA4 \\\nMTYwODE0MDRaMEUxCzAJBgNVBAYTAmF0MRMwEQYDVQQIDApTb21lLVN0YXRlMSEw \\\nHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggEiMA0GCSqGSIb3DQEB \\\nAQUAA4IBDwAwggEKAoIBAQDbCz4asRwDChWKL6VMX6STMugfn2X+QISSrad21VFH \\\nG9GHgRY36CpD/dd1AmoJKHChe5idR+Wq/522rg0AWDcSRF0ueI092JIYhEicnLIa \\\ncu5CehQwrFp+eaWh+ycgun9o1BXoUZVwBz/8I+02PqsgdpPfWdzIEvMd3xGYyI0w \\\ndarsrWrvOxfzmtZcNtj5OWyRX6Gx0ql3eq5i423BHAkKKzMwLw8TLtoIC+7i0fkR \\\n7BckDexgdEMAPBgLxMwc9/ZI5LPad4BwizNiFxIkA38vwVHpgeNLD58aZNh0wlOB \\\nc/Vk/Lq8zK3YHHLcXASudUvjR8cDMRNYwcHmrWjl5S1PAgMBAAGjUzBRMB0GA1Ud \\\nDgQWBBQtJjgJdIYZyJqTACDjVBoD5hPtoTAfBgNVHSMEGDAWgBQtJjgJdIYZyJqT \\\nACDjVBoD5hPtoTAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUAA4IBAQAQ \\\n/CS0lo8QiK/6oCyo6rcsh3XjTvbBXTW/h25RNXkQbEDmMErCI9UVHNFA+JtxfTW4 \\\nYDyp7ccfXdqEVzYGMlqfVeWxVSw3PvC+PCuJeAc2l8PtW9gMfmoM/N6Lg6ckw4Dy \\\nvEhLy34s0x+mtPQM9owxiPlKMYIzUnGhbdGF4cb+IYDONgrsBIQVa7UHrw8r43DE \\\n41pVFUqVvgrbHs3Oao8lEPJLyolPLuHdgVafp2urXRCqkWEwM9pTiffWDR2USX5B \\\nmL3mVNTnVXSpOErpjkQvp73zOjSG/h4CEgGdrLc8kjv1jkSyi3R8c3MRDhKlZnWK \\\nomAr3CbvLmjrFWnzDN7d \\\n-----END CERTIFICATE-----\n</code></pre>\n<p>However, when I'm trying to run the producer, I'm always getting the following error, indicating that something is wrong with the private key provided but I'm not sure what...</p>\n<p>(The trust chain works when I skip client authentication).</p>\n<pre><code>org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n        at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:837)\n        at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:671)\n        at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:652)\n        at kafka.tools.ConsoleConsumer$.run(ConsoleConsumer.scala:67)\n        at kafka.tools.ConsoleConsumer$.main(ConsoleConsumer.scala:54)\n        at kafka.tools.ConsoleConsumer.main(ConsoleConsumer.scala)\nCaused by: org.apache.kafka.common.errors.InvalidConfigurationException: Invalid PEM keystore configs\nCaused by: java.io.IOException: overrun, bytes = 925\n        at java.base/javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:98)\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory$PemStore.privateKey(DefaultSslEngineFactory.java:510)\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory$PemStore.createKeyStoreFromPem(DefaultSslEngineFactory.java:460)\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory$PemStore.&lt;init&gt;(DefaultSslEngineFactory.java:433)\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory.createKeystore(DefaultSslEngineFactory.java:284)\n        at org.apache.kafka.common.security.ssl.DefaultSslEngineFactory.configure(DefaultSslEngineFactory.java:161)\n        at org.apache.kafka.common.security.ssl.SslFactory.instantiateSslEngineFactory(SslFactory.java:140)\n</code></pre>\n<p>My real-life application set properties at runtime and converts the key from a keystore that is loaded via remote API call (using <a href=\"https://www.bouncycastle.org/\" rel=\"nofollow noreferrer\">Bouncy castle</a>)</p>\n<pre><code>Key clientPrivateKey = keyStore.getKey(clientCertAlias, keyStorePassword.toCharArray());\ntry (Writer writer = new StringWriter(); JcaPEMWriter pemWriter = new JcaPEMWriter(writer)) {\n   pemWriter.writeObject(clientPrivateKey);\n   pemWriter.flush();\n   properties.put(&quot;ssl.keystore.key&quot;, writer.toString());\n}\n</code></pre>\n<p>When I use the JKS keystore options with the same keystore (including both the trusted key and my private key), initialization works, so something must be flawed with the way the private key gets exported/converted into PEM format</p>\n<pre><code>security.protocol=SSL\nssl.truststore.type=JKS\nssl.truststore.location=/tmp/client.keystore.jks\nssl.enabled.protocols=TLSv1.3\nssl.truststore.password=test1234\nssl.keystore.type=JKS\nssl.keystore.location=/tmp/client.keystore.jks\nssl.keystore.password=test1234\nssl.endpoint.identification.algorithm=\n</code></pre>\n"},{"tags":["java","sockets","proxy","vert.x"],"owner":{"account_id":29379401,"reputation":1,"user_id":22510253,"display_name":"chobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694005958,"creation_date":1694005958,"question_id":77052254,"body_markdown":"I am creating a socket proxy with vert.x version 3.9.\r\nMysql is working fine, but mongodb is not, where should I look?\r\n\r\nThe code looks like this\r\n\r\n```\r\npublic class VertxProxy extends AbstractVerticle {\r\n\r\n\t// Convenience method so you can run it in your IDE\r\n\tpublic static void main(String[] args) {\r\n\t\tVertx vertx = Vertx.vertx();\r\n\t\tvertx.deployVerticle(new VertxProxy(), new Handler&lt;AsyncResult&lt;String&gt;&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(AsyncResult&lt;String&gt; asyncResult) {\r\n\t\t\t\tif (asyncResult.succeeded()) {\r\n\t\t\t\t\tSystem.out.println(&quot;====&gt;  SUC&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;====&gt;  FAIL&quot;);\r\n\t\t\t\t\tasyncResult.cause().printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void start() throws Exception {\r\n\t\tNetServer netServer = vertx.createNetServer();\r\n\t\tNetClient netClient = vertx.createNetClient();\r\n\r\n\t\tnetServer.connectHandler(socket -&gt; {\r\n\t\t\tnetClient.connect(27017, &quot;127.0.0.1&quot;, result -&gt; {\r\n\t\t\t\tNetSocket clientSocket = socket;\r\n\t\t\t\tNetSocket serverSocket = result.result();\r\n\r\n\t\t\t\t// user -&gt; localserver:port\r\n\t\t\t\tclientSocket.handler(buffer -&gt; {\r\n\t\t\t\t\tSystem.out.println(&quot;send clint to server&quot;);\r\n\t\t\t\t\tbyte[] _byteBuff = buffer.getByteBuf().array();\r\n\r\n\t\t\t\t\tserverSocket.write(buffer);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tserverSocket.handler(buffer -&gt; {\r\n\t\t\t\t\tSystem.out.println(&quot;send server to clinet &quot;);\r\n\t\t\t\t\tbyte[] _byteBuff = buffer.getByteBuf().array();\r\n\r\n\t\t\t\t\tclientSocket.write(buffer);\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\t\t}).listen(33404, listenResult -&gt; {\r\n\t\t\tif (listenResult.succeeded()) {\r\n\t\t\t\tSystem.out.println(&quot;-&gt;  succ&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;-&gt; fail&quot;);\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n}\r\n```\r\n\r\nMysql works fine, but mongodb does not work with the proxy.  Where should I look?","title":"I&#39;m creating a socket proxy with vert.x and it&#39;s not working well","body":"<p>I am creating a socket proxy with vert.x version 3.9.\nMysql is working fine, but mongodb is not, where should I look?</p>\n<p>The code looks like this</p>\n<pre><code>public class VertxProxy extends AbstractVerticle {\n\n    // Convenience method so you can run it in your IDE\n    public static void main(String[] args) {\n        Vertx vertx = Vertx.vertx();\n        vertx.deployVerticle(new VertxProxy(), new Handler&lt;AsyncResult&lt;String&gt;&gt;() {\n            @Override\n            public void handle(AsyncResult&lt;String&gt; asyncResult) {\n                if (asyncResult.succeeded()) {\n                    System.out.println(&quot;====&gt;  SUC&quot;);\n                } else {\n                    System.out.println(&quot;====&gt;  FAIL&quot;);\n                    asyncResult.cause().printStackTrace();\n                }\n            }\n        });\n    }\n\n    @Override\n    public void start() throws Exception {\n        NetServer netServer = vertx.createNetServer();\n        NetClient netClient = vertx.createNetClient();\n\n        netServer.connectHandler(socket -&gt; {\n            netClient.connect(27017, &quot;127.0.0.1&quot;, result -&gt; {\n                NetSocket clientSocket = socket;\n                NetSocket serverSocket = result.result();\n\n                // user -&gt; localserver:port\n                clientSocket.handler(buffer -&gt; {\n                    System.out.println(&quot;send clint to server&quot;);\n                    byte[] _byteBuff = buffer.getByteBuf().array();\n\n                    serverSocket.write(buffer);\n                });\n\n                serverSocket.handler(buffer -&gt; {\n                    System.out.println(&quot;send server to clinet &quot;);\n                    byte[] _byteBuff = buffer.getByteBuf().array();\n\n                    clientSocket.write(buffer);\n                });\n\n            });\n        }).listen(33404, listenResult -&gt; {\n            if (listenResult.succeeded()) {\n                System.out.println(&quot;-&gt;  succ&quot;);\n            } else {\n                System.out.println(&quot;-&gt; fail&quot;);\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>Mysql works fine, but mongodb does not work with the proxy.  Where should I look?</p>\n"},{"tags":["java","spring","backend","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":29298615,"reputation":81,"user_id":22447401,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694005925,"creation_date":1693571359,"answer_id":77023136,"question_id":77022279,"body_markdown":"Did you check the import of the annotation ? `javax.inject.Qualifier` don&#39;t have a `value()` method but spring&#39;ones have.","title":"Cannot find method &#39;value()&#39; in the @Qualifier annotation","body":"<p>Did you check the import of the annotation ? <code>javax.inject.Qualifier</code> don't have a <code>value()</code> method but spring'ones have.</p>\n"}],"owner":{"account_id":29280306,"reputation":1,"user_id":22433054,"display_name":"parthwader64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694005925,"creation_date":1693563428,"question_id":77022279,"body_markdown":"Over here I get an error saying qualifier cannot find method value in it where I can pass a name:\r\n\r\n```java\r\n@Qualifier(&quot;abstractLanguageService&quot;)\r\npublic abstract class Ae implements Le {\r\n    // ...\r\n}\r\n```\r\n\r\nMaybe it has something to do with the versions, I am using amazon correto 1.8.","title":"Cannot find method &#39;value()&#39; in the @Qualifier annotation","body":"<p>Over here I get an error saying qualifier cannot find method value in it where I can pass a name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Qualifier(&quot;abstractLanguageService&quot;)\npublic abstract class Ae implements Le {\n    // ...\n}\n</code></pre>\n<p>Maybe it has something to do with the versions, I am using amazon correto 1.8.</p>\n"},{"tags":["java","android-studio","build.gradle"],"comments":[{"owner":{"account_id":11363645,"reputation":2645,"user_id":8331157,"display_name":"BenjyTec"},"score":0,"creation_date":1694005404,"post_id":77051178,"comment_id":135834165,"body_markdown":"What do you mean with &quot;after the viewmodel&quot;? Could you include some code including the log statements that should be printed?\nAlso make sure in the Logcat window in Android Studio that you don&#39;t have any text filter applied by accident.","body":"What do you mean with &quot;after the viewmodel&quot;? Could you include some code including the log statements that should be printed? Also make sure in the Logcat window in Android Studio that you don&#39;t have any text filter applied by accident."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1694006739,"post_id":77051178,"comment_id":135834467,"body_markdown":"Are you referring to the debugger, or logging?","body":"Are you referring to the debugger, or logging?"}],"answers":[{"tags":[],"owner":{"account_id":11262459,"reputation":140,"user_id":8260352,"display_name":"Akash Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694005702,"creation_date":1694005702,"answer_id":77052214,"question_id":77051178,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M0YBT.png\r\n\r\nTry to explore this page in android studio settings. \r\nFile &gt; Settings &gt; Build, Execution, Deployment &gt; Debugger &gt; Stepping\r\n\r\nPlay with the settings and see if it fits you need","title":"Android Studio does not debug some classes","body":"<p><a href=\"https://i.stack.imgur.com/M0YBT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M0YBT.png\" alt=\"enter image description here\" /></a></p>\n<p>Try to explore this page in android studio settings.\nFile &gt; Settings &gt; Build, Execution, Deployment &gt; Debugger &gt; Stepping</p>\n<p>Play with the settings and see if it fits you need</p>\n"}],"owner":{"account_id":8132281,"reputation":3,"user_id":6232308,"display_name":"Celso Andre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694005702,"creation_date":1693997129,"question_id":77051178,"body_markdown":"Android Studio does not debug some classes.\r\n\r\nI&#39;m working on a project with multiple layers and for some reason my android studio doesn&#39;t show the class debugs after the viewmodel, is there any configuration that could be missing?\r\nThank you very much in advance.\r\n\r\nI made the recommended settings, I even changed machines and even then, it doesn&#39;t debug.","title":"Android Studio does not debug some classes","body":"<p>Android Studio does not debug some classes.</p>\n<p>I'm working on a project with multiple layers and for some reason my android studio doesn't show the class debugs after the viewmodel, is there any configuration that could be missing?\nThank you very much in advance.</p>\n<p>I made the recommended settings, I even changed machines and even then, it doesn't debug.</p>\n"},{"tags":["java","android","android-studio","service","android-lifecycle"],"answers":[{"tags":[],"owner":{"account_id":10095805,"reputation":1,"user_id":7461214,"display_name":"Shahjahan Samoon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606819975,"creation_date":1606819975,"answer_id":65089144,"question_id":65088927,"body_markdown":"you can use eventbus or broadcast receivers to send data from service to Activity/Fragment ","title":"Tranfer Data from service to activity","body":"<p>you can use eventbus or broadcast receivers to send data from service to Activity/Fragment</p>\n"},{"tags":[],"owner":{"account_id":8812864,"reputation":64,"user_id":6585342,"display_name":"Mohammadreza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694005502,"creation_date":1606821006,"answer_id":65089393,"question_id":65088927,"body_markdown":"There are  many way,I say some of them:\r\n\r\n1-Use store data in service (such as SharedPrefrences,DB and ...) and retrive in activity\r\n\r\n2-Use eventbus or broadcast receivers\r\n\r\n3-Use callback patern for callback data from service to activiy","title":"Tranfer Data from service to activity","body":"<p>There are  many way,I say some of them:</p>\n<p>1-Use store data in service (such as SharedPrefrences,DB and ...) and retrive in activity</p>\n<p>2-Use eventbus or broadcast receivers</p>\n<p>3-Use callback patern for callback data from service to activiy</p>\n"},{"tags":[],"owner":{"account_id":19731494,"reputation":73,"user_id":14446860,"display_name":"Mr.Goomer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607168357,"creation_date":1607168357,"answer_id":65156489,"question_id":65088927,"body_markdown":"So thanks to @Mohammadreza I used sharedPref on the service intent and its worked.\r\n\r\nThis is what I did:\r\n\r\n           public static final String MY_PREFS_NAME = &quot;MyData&quot;;\r\n\r\n\r\n\r\n\r\n\r\n//Save SharedPref(BackgroundActivity):\r\n\r\n\r\n            SharedPreferences.Editor editor = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE).edit();\r\n            editor.putString(&quot;AddressBackgound&quot;,mAddress);\r\n            editor.putString(&quot;AddressLatBackgound&quot;, String.valueOf(destinationLat));\r\n            editor.putString(&quot;AddressLngBackgound&quot;, String.valueOf(destinationLng));\r\n            editor.apply();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//Read SharedPref(MapsActivity):\r\n\r\n                SharedPreferences prefs = getSharedPreferences(BackgroundLocation.MY_PREFS_NAME, MODE_PRIVATE);\r\n\r\nBackgroundLocation backgroundLocation = new BackgroundLocation();\r\n\r\n                if (isMyServiceRunning(backgroundLocation.getClass()) &amp;&amp; prefs != null ) {\r\n\r\n\r\n                     String mAddress = prefs.getString(&quot;AddressBackgound&quot;,&quot;mAddress&quot;);\r\n                     Double UserStartLocationLat = Double.parseDouble(String.valueOf(Double.valueOf(prefs.getString(&quot;UserStartLocationLat&quot;, &quot;UserStartLocationLatNull&quot;))));\r\n                     Double UserStartLocationLng = Double.parseDouble(String.valueOf(Double.valueOf(prefs.getString(&quot;UserStartLocationLng&quot;, &quot;UserStartLocationLngNull&quot;))));\r\n\r\n                 }\r\n\r\nisMyServiceRunning:\r\n\r\n\r\n    private boolean isMyServiceRunning(Class&lt;?&gt; serviceClass) {\r\n        ActivityManager manager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        for (ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\r\n            if (serviceClass.getName().equals(service.service.getClassName())) {\r\n                Log.i (&quot;Service status&quot;, &quot;Running&quot;);\r\n                return true;\r\n            }\r\n        }\r\n        Log.i (&quot;Service status&quot;, &quot;Not running&quot;);\r\n        return false;\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Tranfer Data from service to activity","body":"<p>So thanks to @Mohammadreza I used sharedPref on the service intent and its worked.</p>\n<p>This is what I did:</p>\n<pre><code>       public static final String MY_PREFS_NAME = &quot;MyData&quot;;\n</code></pre>\n<p>//Save SharedPref(BackgroundActivity):</p>\n<pre><code>        SharedPreferences.Editor editor = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE).edit();\n        editor.putString(&quot;AddressBackgound&quot;,mAddress);\n        editor.putString(&quot;AddressLatBackgound&quot;, String.valueOf(destinationLat));\n        editor.putString(&quot;AddressLngBackgound&quot;, String.valueOf(destinationLng));\n        editor.apply();\n</code></pre>\n<p>//Read SharedPref(MapsActivity):</p>\n<pre><code>            SharedPreferences prefs = getSharedPreferences(BackgroundLocation.MY_PREFS_NAME, MODE_PRIVATE);\n</code></pre>\n<p>BackgroundLocation backgroundLocation = new BackgroundLocation();</p>\n<pre><code>            if (isMyServiceRunning(backgroundLocation.getClass()) &amp;&amp; prefs != null ) {\n\n\n                 String mAddress = prefs.getString(&quot;AddressBackgound&quot;,&quot;mAddress&quot;);\n                 Double UserStartLocationLat = Double.parseDouble(String.valueOf(Double.valueOf(prefs.getString(&quot;UserStartLocationLat&quot;, &quot;UserStartLocationLatNull&quot;))));\n                 Double UserStartLocationLng = Double.parseDouble(String.valueOf(Double.valueOf(prefs.getString(&quot;UserStartLocationLng&quot;, &quot;UserStartLocationLngNull&quot;))));\n\n             }\n</code></pre>\n<p>isMyServiceRunning:</p>\n<pre><code>private boolean isMyServiceRunning(Class&lt;?&gt; serviceClass) {\n    ActivityManager manager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n    for (ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\n        if (serviceClass.getName().equals(service.service.getClassName())) {\n            Log.i (&quot;Service status&quot;, &quot;Running&quot;);\n            return true;\n        }\n    }\n    Log.i (&quot;Service status&quot;, &quot;Not running&quot;);\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":19731494,"reputation":73,"user_id":14446860,"display_name":"Mr.Goomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65089393,"answer_count":3,"score":0,"last_activity_date":1694005502,"creation_date":1606819111,"question_id":65088927,"body_markdown":"When user kill app,my service is running in the background.\r\nIt has a button which I can return to the map activity.However,when the user return to the app through the notification button after destroying the app,the map created but the information I am transfering from my service to my map activity is null.\r\n\r\nWhen the user isn&#39;t killing the app and return through the notification button,the data exist.\r\n\r\nThis is my code:\r\n\r\n        \r\n    //Map Activity\r\n    \r\n            //OnPause = transfer the data to service intent(Working fine)\r\n    \r\n            BackgroundLocation backgroundLocation = new BackgroundLocation();\r\n            mServiceIntent = new Intent(this, backgroundLocation.getClass());\r\n    \r\n            if (!isMyServiceRunning(backgroundLocation.getClass())) {\r\n    \r\n                mServiceIntent.putExtra(&quot;AddressBackgound&quot;,mAddress);\r\n                mServiceIntent.putExtra(&quot;AddressLatBackgound&quot;,destinationLat);\r\n                mServiceIntent.putExtra(&quot;AddressLngBackgound&quot;,destinationLng);\r\n    \r\n                startService(mServiceIntent);\r\n            }\r\n    \r\n    \r\n               // OnMapReady = Getting the data from service intent(return null for all data)\r\n    \r\n                if (myLocation != null) {\r\n    \r\n                    BackgroundLocation backgroundLocation = new BackgroundLocation();\r\n                    mServiceIntent = new Intent(this, backgroundLocation.getClass());\r\n    \r\n                    Bundle extras = getIntent().getExtras();\r\n    \r\n                    if (isMyServiceRunning(backgroundLocation.getClass()) &amp;&amp; extras != null) {\r\n    \r\n                        String mAddress2 = extras.getString(&quot;AddressBackgound22&quot;);\r\n                        Double destinationLat2 = extras.getDouble(&quot;AddressLatBackgound22&quot;);\r\n                        Double destinationLng2 = extras.getDouble(&quot;AddressLngBackgound22&quot;);\r\n    \r\n                        Log.e(&quot;onResume&quot;, &quot;onResume stats&quot;);\r\n                        Log.e(&quot;Address&quot;, &quot;&quot; + mAddress2);\r\n                        Log.e(&quot;Lat&quot;, String.valueOf(destinationLat2));\r\n                        Log.e(&quot;Lng&quot;, String.valueOf(destinationLng2));\r\n    \r\n                        Log.e(&quot;OnMapReady&quot;,&quot;Service is running....&quot;);\r\n    \r\n                    }\r\n                    else{\r\n    \r\n                         Log.e(&quot;OnMapReady&quot;,&quot;Service is not running&quot;);\r\n    \r\n                    }\r\n              }\r\n    \r\n    \r\nBackground Location(Service Intent) = Getting information from MapsActivity and returnthe information to MapsActivity aswell.\r\n    \r\n    //Service Intent \r\n\r\n    // OnStartCommand\r\n    \r\n    \r\n    \r\n            Bundle extras = intent.getExtras();\r\n    \r\n            if (extras != null) {\r\n    \r\n    //getting the data to the service is working fine even when the app killed the service still working with the data.\r\n    \r\n                mAddress = extras.getString(&quot;AddressBackgound&quot;);\r\n                destinationLat = extras.getDouble(&quot;AddressLatBackgound&quot;);\r\n                destinationLng = extras.getDouble(&quot;AddressLngBackgound&quot;);\r\n    \r\n    \r\n                //This is what I am trying to send to MapsActivity:\r\n    \r\n                extras.putString(&quot;AddressBackgound22&quot;,mAddress);\r\n                extras.putDouble(&quot;AddressLatBackgound22&quot;,destinationLat);\r\n                extras.putDouble(&quot;AddressLngBackgound22&quot;,destinationLng);\r\n    \r\n    \r\n                Log.e(&quot;onStartCommand&quot;, &quot;onStartCommand started&quot;);\r\n    \r\n                Log.e(&quot;Address&quot;,&quot;&quot; + mAddress);\r\n                Log.e(&quot;Lat&quot;,  &quot;&quot; + destinationLat);\r\n                Log.e(&quot;Lng&quot;,  &quot;&quot; + destinationLng);\r\n    \r\n    \r\n            }\r\n\r\nThank you for your time.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Tranfer Data from service to activity","body":"<p>When user kill app,my service is running in the background.\nIt has a button which I can return to the map activity.However,when the user return to the app through the notification button after destroying the app,the map created but the information I am transfering from my service to my map activity is null.</p>\n<p>When the user isn't killing the app and return through the notification button,the data exist.</p>\n<p>This is my code:</p>\n<pre><code>//Map Activity\n\n        //OnPause = transfer the data to service intent(Working fine)\n\n        BackgroundLocation backgroundLocation = new BackgroundLocation();\n        mServiceIntent = new Intent(this, backgroundLocation.getClass());\n\n        if (!isMyServiceRunning(backgroundLocation.getClass())) {\n\n            mServiceIntent.putExtra(&quot;AddressBackgound&quot;,mAddress);\n            mServiceIntent.putExtra(&quot;AddressLatBackgound&quot;,destinationLat);\n            mServiceIntent.putExtra(&quot;AddressLngBackgound&quot;,destinationLng);\n\n            startService(mServiceIntent);\n        }\n\n\n           // OnMapReady = Getting the data from service intent(return null for all data)\n\n            if (myLocation != null) {\n\n                BackgroundLocation backgroundLocation = new BackgroundLocation();\n                mServiceIntent = new Intent(this, backgroundLocation.getClass());\n\n                Bundle extras = getIntent().getExtras();\n\n                if (isMyServiceRunning(backgroundLocation.getClass()) &amp;&amp; extras != null) {\n\n                    String mAddress2 = extras.getString(&quot;AddressBackgound22&quot;);\n                    Double destinationLat2 = extras.getDouble(&quot;AddressLatBackgound22&quot;);\n                    Double destinationLng2 = extras.getDouble(&quot;AddressLngBackgound22&quot;);\n\n                    Log.e(&quot;onResume&quot;, &quot;onResume stats&quot;);\n                    Log.e(&quot;Address&quot;, &quot;&quot; + mAddress2);\n                    Log.e(&quot;Lat&quot;, String.valueOf(destinationLat2));\n                    Log.e(&quot;Lng&quot;, String.valueOf(destinationLng2));\n\n                    Log.e(&quot;OnMapReady&quot;,&quot;Service is running....&quot;);\n\n                }\n                else{\n\n                     Log.e(&quot;OnMapReady&quot;,&quot;Service is not running&quot;);\n\n                }\n          }\n</code></pre>\n<p>Background Location(Service Intent) = Getting information from MapsActivity and returnthe information to MapsActivity aswell.</p>\n<pre><code>//Service Intent \n\n// OnStartCommand\n\n\n\n        Bundle extras = intent.getExtras();\n\n        if (extras != null) {\n\n//getting the data to the service is working fine even when the app killed the service still working with the data.\n\n            mAddress = extras.getString(&quot;AddressBackgound&quot;);\n            destinationLat = extras.getDouble(&quot;AddressLatBackgound&quot;);\n            destinationLng = extras.getDouble(&quot;AddressLngBackgound&quot;);\n\n\n            //This is what I am trying to send to MapsActivity:\n\n            extras.putString(&quot;AddressBackgound22&quot;,mAddress);\n            extras.putDouble(&quot;AddressLatBackgound22&quot;,destinationLat);\n            extras.putDouble(&quot;AddressLngBackgound22&quot;,destinationLng);\n\n\n            Log.e(&quot;onStartCommand&quot;, &quot;onStartCommand started&quot;);\n\n            Log.e(&quot;Address&quot;,&quot;&quot; + mAddress);\n            Log.e(&quot;Lat&quot;,  &quot;&quot; + destinationLat);\n            Log.e(&quot;Lng&quot;,  &quot;&quot; + destinationLng);\n\n\n        }\n</code></pre>\n<p>Thank you for your time.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"score":1,"creation_date":1694004817,"post_id":77052069,"comment_id":135833993,"body_markdown":"... are you sure that query used to work ? I don&#39;t see how it could without an &quot;and&quot; or &quot;or&quot; between &quot;where re.id = :personneId&quot; and &quot;re.niveauResponsabilite.code = 1&quot; (I&#39;m used to nativeQuery = true when using @Query, but still). The error seems to say exactly that : parser error.","body":"... are you sure that query used to work ? I don&#39;t see how it could without an &quot;and&quot; or &quot;or&quot; between &quot;where re.id = :personneId&quot; and &quot;re.niveauResponsabilite.code = 1&quot; (I&#39;m used to nativeQuery = true when using @Query, but still). The error seems to say exactly that : parser error."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":1,"creation_date":1694004872,"post_id":77052069,"comment_id":135834006,"body_markdown":"As the error states, you are attempting to compare a `String` type with an `int` . Try putting `&#39;1&#39;` in your query , not just `1`.","body":"As the error states, you are attempting to compare a <code>String</code> type with an <code>int</code> . Try putting <code>&#39;1&#39;</code> in your query , not just <code>1</code>."},{"owner":{"account_id":14287770,"reputation":79,"user_id":10320673,"display_name":"Bapt_"},"score":1,"creation_date":1694005443,"post_id":77052069,"comment_id":135834177,"body_markdown":"I&#39;m sure it&#39;s working with the older version of Hibernate, and yes using just ```&#39;1&#39;``` does resolve it, thanks ! By the way, yes the and is missing here, as I cut the query for brevity, sorry for that :)","body":"I&#39;m sure it&#39;s working with the older version of Hibernate, and yes using just <code>&#39;1&#39;</code> does resolve it, thanks ! By the way, yes the and is missing here, as I cut the query for brevity, sorry for that :)"}],"owner":{"account_id":14287770,"reputation":79,"user_id":10320673,"display_name":"Bapt_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694005496,"creation_date":1694004526,"question_id":77052069,"body_markdown":"I have the following query in my code which used to work with Hibernate 5.6 but now fails to validate with Hibernate 6.2 (migration to Spring boot 3.1).\r\n\r\nThe error is the following:\r\n\r\n```\r\n(...)\r\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method\r\n(...)\r\nand re.niveauResponsabilite.code =1]; this may indicate a semantic (user query) problem or a bug in the parser [select a from ResponsableEleve re\r\n(...)\r\nCaused by: java.lang.IllegalArgumentException: Can&#39;t compare test expression of type [BasicSqmPathSource(code : String)] with element of type [basicType@1(java.lang.Integer,4)]\r\n(...)\r\n```\r\n\r\nCurrent query and mapping are:\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n\t\tselect a from ResponsableEleve re\r\n\t\twhere re.id = :personneId and\r\n\t\tre.niveauResponsabilite.code = 1&quot;&quot;&quot;)\r\nAdresse findAdresse(@Param(&quot;personneId&quot;) Integer personneId);\r\n```\r\n\r\n```java\r\n@Column(name = &quot;NIVEAU_RESPONSABILITE&quot;, nullable = false, length = 1,\r\n\t\tcolumnDefinition = &quot;char(1)&quot;)\r\nprivate String code;\r\n```\r\n\r\nI am not sure if it&#39;s the mapping that should be modified (I tried ```@JdbcType(CharJdbcType.class)``` whitout luck) or if I should modify the Query ? Or Both ?\r\n\r\n## Update from Arnaud comment: ##\r\nJust adding ```&#39;1&#39;``` solves the problem so that&#39;s perfect. Just wondering why this started to fail with Hibernate 6.2.","title":"Hibernate 6 Query validation fails","body":"<p>I have the following query in my code which used to work with Hibernate 5.6 but now fails to validate with Hibernate 6.2 (migration to Spring boot 3.1).</p>\n<p>The error is the following:</p>\n<pre><code>(...)\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method\n(...)\nand re.niveauResponsabilite.code =1]; this may indicate a semantic (user query) problem or a bug in the parser [select a from ResponsableEleve re\n(...)\nCaused by: java.lang.IllegalArgumentException: Can't compare test expression of type [BasicSqmPathSource(code : String)] with element of type [basicType@1(java.lang.Integer,4)]\n(...)\n</code></pre>\n<p>Current query and mapping are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n        select a from ResponsableEleve re\n        where re.id = :personneId and\n        re.niveauResponsabilite.code = 1&quot;&quot;&quot;)\nAdresse findAdresse(@Param(&quot;personneId&quot;) Integer personneId);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;NIVEAU_RESPONSABILITE&quot;, nullable = false, length = 1,\n        columnDefinition = &quot;char(1)&quot;)\nprivate String code;\n</code></pre>\n<p>I am not sure if it's the mapping that should be modified (I tried <code>@JdbcType(CharJdbcType.class)</code> whitout luck) or if I should modify the Query ? Or Both ?</p>\n<h2>Update from Arnaud comment:</h2>\n<p>Just adding <code>'1'</code> solves the problem so that's perfect. Just wondering why this started to fail with Hibernate 6.2.</p>\n"},{"tags":["java","mysql","spring","spring-boot","jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1694005823,"post_id":77052115,"comment_id":135834260,"body_markdown":"When starting a tx auto commit is disabled. You are firing a lot of queries due to your validation query. I would stpo using the Tomcat connection pool and use the default HikariCP instead without a validation query.","body":"When starting a tx auto commit is disabled. You are firing a lot of queries due to your validation query. I would stpo using the Tomcat connection pool and use the default HikariCP instead without a validation query."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1694012219,"post_id":77052115,"comment_id":135835853,"body_markdown":"How often do you mean by &quot;constantly changing&quot;?","body":"How often do you mean by &quot;constantly changing&quot;?"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1694026618,"post_id":77052115,"comment_id":135838706,"body_markdown":"https://stackoverflow.com/a/69695930/175554 may explain the situation.","body":"<a href=\"https://stackoverflow.com/a/69695930/175554\">stackoverflow.com/a/69695930/175554</a> may explain the situation."},{"owner":{"account_id":29296240,"reputation":21,"user_id":22445518,"display_name":"Joan Navarro"},"score":0,"creation_date":1694610268,"post_id":77052115,"comment_id":135913687,"body_markdown":"@TheImpaler about 5500 times per second","body":"@TheImpaler about 5500 times per second"},{"owner":{"account_id":29296240,"reputation":21,"user_id":22445518,"display_name":"Joan Navarro"},"score":0,"creation_date":1694610348,"post_id":77052115,"comment_id":135913705,"body_markdown":"@M.Deinum I tried to start using HikariCP instead of TomcatCP and disabling validation query but nothing has changed about database CPU","body":"@M.Deinum I tried to start using HikariCP instead of TomcatCP and disabling validation query but nothing has changed about database CPU"}],"owner":{"account_id":29296240,"reputation":21,"user_id":22445518,"display_name":"Joan Navarro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694004923,"creation_date":1694004923,"question_id":77052115,"body_markdown":"Our Spring Boot application is changing constantly MySQL autocommit mode even with no activity within it. I mean, no endpoint calls, no runnable running, nothing using the application but it seems Spring Boot is doing something with MySQL because I see a lot of &quot;SET autocommit=1&quot; or &quot;SET autocommit=0&quot;.\r\n\r\nWe manage a connection pool from the properties file. I tried to force auto-commit to true and false from properties but it did not work.\r\n\r\nOur connections pool properties are the following:\r\n\r\n```\r\nspring.datasource.tomcat.initial-size=10\r\nspring.datasource.tomcat.max-active=120\r\nspring.datasource.tomcat.max-idle=10\r\nspring.datasource.tomcat.min-idle=0\r\nspring.datasource.tomcat.time-between-eviction-runs-millis=34000\r\nspring.datasource.tomcat.min-evictable-idle-time-millis=55000\r\nspring.datasource.tomcat.validation-query=SELECT 1\r\nspring.datasource.tomcat.validation-interval=34000\r\nspring.datasource.tomcat.test-on-borrow=true\r\nspring.datasource.tomcat.remove-abandoned=true\r\nspring.datasource.tomcat.remove-abandoned-timeout=3000\r\nspring.datasource.tomcat.default-auto-commit=true\r\n```\r\n\r\n\r\nDo you know why Spring Boot is making these autocommit queries with no one using the application?","title":"Spring Boot JDBC is constantly changing autocommit mode","body":"<p>Our Spring Boot application is changing constantly MySQL autocommit mode even with no activity within it. I mean, no endpoint calls, no runnable running, nothing using the application but it seems Spring Boot is doing something with MySQL because I see a lot of &quot;SET autocommit=1&quot; or &quot;SET autocommit=0&quot;.</p>\n<p>We manage a connection pool from the properties file. I tried to force auto-commit to true and false from properties but it did not work.</p>\n<p>Our connections pool properties are the following:</p>\n<pre><code>spring.datasource.tomcat.initial-size=10\nspring.datasource.tomcat.max-active=120\nspring.datasource.tomcat.max-idle=10\nspring.datasource.tomcat.min-idle=0\nspring.datasource.tomcat.time-between-eviction-runs-millis=34000\nspring.datasource.tomcat.min-evictable-idle-time-millis=55000\nspring.datasource.tomcat.validation-query=SELECT 1\nspring.datasource.tomcat.validation-interval=34000\nspring.datasource.tomcat.test-on-borrow=true\nspring.datasource.tomcat.remove-abandoned=true\nspring.datasource.tomcat.remove-abandoned-timeout=3000\nspring.datasource.tomcat.default-auto-commit=true\n</code></pre>\n<p>Do you know why Spring Boot is making these autocommit queries with no one using the application?</p>\n"},{"tags":["java","microservices","micrometer"],"answers":[{"tags":[],"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694004741,"creation_date":1694004741,"answer_id":77052097,"question_id":77051819,"body_markdown":"Yes, you can record method durations and store them together with a timestamp using Micrometer or Prometheus. Both tools are commonly used for monitoring and tracking performance metrics in microservices applications.\r\n\r\n**Using Micrometer:**\r\n\r\nCreate a custom timer metric for the method whose duration you want to record. You can do this in your method or a surrounding aspect.\r\n\r\n    import io.micrometer.core.instrument.Metrics;\r\n    import io.micrometer.core.instrument.Timer;\r\n    \r\n    public class YourService {\r\n        private final Timer methodExecutionTimer;\r\n    \r\n        public YourService() {\r\n            methodExecutionTimer = Metrics.timer(&quot;your_service.method_execution_time&quot;);\r\n        }\r\n    \r\n        public void yourMethod() {\r\n            Timer.Sample sample = Timer.start();\r\n            // Your method logic here\r\n            sample.stop(methodExecutionTimer);\r\n        }\r\n    }\r\n\r\nTo configure Micrometer to export metrics, you typically need to specify a registry and configure that registry to export metrics to a specific monitoring system. \r\n\r\n**Using Prometheus:**\r\n\r\nCreate custom metrics for your method durations and expose them as HTTP endpoints for Prometheus to scrape. Here&#39;s an example of how you can do this:\r\n\r\n    import io.prometheus.client.Counter;\r\n    import io.prometheus.client.Histogram;\r\n    import io.prometheus.client.exporter.MetricsServlet;\r\n    import javax.servlet.annotation.WebServlet;\r\n    \r\n    @WebServlet(&quot;/metrics&quot;)\r\n    public class PrometheusMetricsServlet extends MetricsServlet {\r\n        // Create a histogram to record method durations\r\n        static final Histogram methodExecutionTime = Histogram.build()\r\n            .name(&quot;method_execution_time&quot;)\r\n            .help(&quot;Method execution time in seconds&quot;)\r\n            .register();\r\n    \r\n        // Create a counter for tracking method invocations\r\n        static final Counter methodInvocations = Counter.build()\r\n            .name(&quot;method_invocations_total&quot;)\r\n            .help(&quot;Total number of method invocations&quot;)\r\n            .register();\r\n    \r\n        // Your method to record\r\n        public void yourMethod() {\r\n            try (Histogram.Timer timer = methodExecutionTime.startTimer()) {\r\n                // Your method logic here\r\n                methodInvocations.inc();\r\n            }\r\n        }\r\n    }\r\n\r\nMake sure to configure your microservice to expose the /metrics endpoint, which Prometheus will scrape.","title":"Record method duration with points in time, using micrometer/prometheus?","body":"<p>Yes, you can record method durations and store them together with a timestamp using Micrometer or Prometheus. Both tools are commonly used for monitoring and tracking performance metrics in microservices applications.</p>\n<p><strong>Using Micrometer:</strong></p>\n<p>Create a custom timer metric for the method whose duration you want to record. You can do this in your method or a surrounding aspect.</p>\n<pre><code>import io.micrometer.core.instrument.Metrics;\nimport io.micrometer.core.instrument.Timer;\n\npublic class YourService {\n    private final Timer methodExecutionTimer;\n\n    public YourService() {\n        methodExecutionTimer = Metrics.timer(&quot;your_service.method_execution_time&quot;);\n    }\n\n    public void yourMethod() {\n        Timer.Sample sample = Timer.start();\n        // Your method logic here\n        sample.stop(methodExecutionTimer);\n    }\n}\n</code></pre>\n<p>To configure Micrometer to export metrics, you typically need to specify a registry and configure that registry to export metrics to a specific monitoring system.</p>\n<p><strong>Using Prometheus:</strong></p>\n<p>Create custom metrics for your method durations and expose them as HTTP endpoints for Prometheus to scrape. Here's an example of how you can do this:</p>\n<pre><code>import io.prometheus.client.Counter;\nimport io.prometheus.client.Histogram;\nimport io.prometheus.client.exporter.MetricsServlet;\nimport javax.servlet.annotation.WebServlet;\n\n@WebServlet(&quot;/metrics&quot;)\npublic class PrometheusMetricsServlet extends MetricsServlet {\n    // Create a histogram to record method durations\n    static final Histogram methodExecutionTime = Histogram.build()\n        .name(&quot;method_execution_time&quot;)\n        .help(&quot;Method execution time in seconds&quot;)\n        .register();\n\n    // Create a counter for tracking method invocations\n    static final Counter methodInvocations = Counter.build()\n        .name(&quot;method_invocations_total&quot;)\n        .help(&quot;Total number of method invocations&quot;)\n        .register();\n\n    // Your method to record\n    public void yourMethod() {\n        try (Histogram.Timer timer = methodExecutionTime.startTimer()) {\n            // Your method logic here\n            methodInvocations.inc();\n        }\n    }\n}\n</code></pre>\n<p>Make sure to configure your microservice to expose the /metrics endpoint, which Prometheus will scrape.</p>\n"}],"owner":{"account_id":8866868,"reputation":280,"user_id":6621774,"accept_rate":60,"display_name":"Harry Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77052097,"answer_count":1,"score":1,"last_activity_date":1694004741,"creation_date":1694002669,"question_id":77051819,"body_markdown":"Is it possible to record method durations and store them together with a timestamp, using micrometer or prometheus? I didn&#39;t find anything about that. I have a microservice, where one of the methods is called about 50 times a day. Sometimes, method duration is unexpectedly high and I&#39;m trying to track down, where it comes from.\r\n\r\nGreetings","title":"Record method duration with points in time, using micrometer/prometheus?","body":"<p>Is it possible to record method durations and store them together with a timestamp, using micrometer or prometheus? I didn't find anything about that. I have a microservice, where one of the methods is called about 50 times a day. Sometimes, method duration is unexpectedly high and I'm trying to track down, where it comes from.</p>\n<p>Greetings</p>\n"},{"tags":["java","spring","spring-boot","jdbc"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694004052,"post_id":77051943,"comment_id":135833779,"body_markdown":"Constraint &quot;PRIMARY KEY | UNIQUE (ID)&quot; not found. Your SQL is wrong.","body":"Constraint &quot;PRIMARY KEY | UNIQUE (ID)&quot; not found. Your SQL is wrong."}],"answers":[{"tags":[],"owner":{"account_id":29298615,"reputation":81,"user_id":22447401,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694004337,"creation_date":1694004337,"answer_id":77052045,"question_id":77051943,"body_markdown":"The real problem is :\r\n\r\n&gt; Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Ограничение &quot;PRIMARY KEY | UNIQUE (ID)&quot; не найдено\r\nConstraint &quot;PRIMARY KEY | UNIQUE (ID)&quot; not found; SQL statement:\r\nalter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id) [90057-214]\r\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.1.214.jar:2.1.214]\r\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n    ... 73 common frames omitted\r\n\r\nThe H2 documentation say : \r\n\r\n&gt; Referential constraint requires an existing unique or primary key constraint on referenced columns\r\n\r\nThe `id` field in table `Ingredient` is not a primary key or doesn&#39;t have a unique constraint.\r\n\r\n","title":"Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.problem with h2","body":"<p>The real problem is :</p>\n<blockquote>\n<p>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Ограничение &quot;PRIMARY KEY | UNIQUE (ID)&quot; не найдено\nConstraint &quot;PRIMARY KEY | UNIQUE (ID)&quot; not found; SQL statement:\nalter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id) [90057-214]\nat org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.1.214.jar:2.1.214]\nat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.1.214.jar:2.1.214]\nat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\nat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-6.0.11.jar:6.0.11]\n... 73 common frames omitted</p>\n</blockquote>\n<p>The H2 documentation say :</p>\n<blockquote>\n<p>Referential constraint requires an existing unique or primary key constraint on referenced columns</p>\n</blockquote>\n<p>The <code>id</code> field in table <code>Ingredient</code> is not a primary key or doesn't have a unique constraint.</p>\n"}],"owner":{"account_id":27832628,"reputation":3,"user_id":22510030,"display_name":"meshkel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77052045,"answer_count":1,"score":0,"last_activity_date":1694004337,"creation_date":1694003587,"question_id":77051943,"body_markdown":"I started learning Spring from the book &quot;Spring in action. I have a problem when I got to chapter 3, which deals with relational databases. When I seemed to have done everything, errors appeared at startup, I can&#39;t figure out whyю\r\nMy pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;sia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.3-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;taco-cloud&lt;/name&gt;\r\n    &lt;description&gt;Taco Cloud Example&lt;/description&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;\r\n            UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;\r\n            UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- tag::springDataJdbc[] --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- end::springDataJdbc[] --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n&lt;/project\r\n```\r\n\r\n\r\n\r\ndo not judge strictly, I&#39;m still new to Spring\r\nthese are my errors\r\n\r\n```\r\n&gt; these are errors\r\n&gt; Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-06T15:27:34.553+03:00 ERROR 7068 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;designTacoController&#39; defined in file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\tacos\\web\\DesignTacoController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;ingredientRepository&#39;: Unsatisfied dependency expressed through method &#39;setDialect&#39; parameter 0: Error creating bean with name &#39;jdbcDialect&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jdbcDialect&#39; parameter 0: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat tacos.TacoCloudApplication.main(TacoCloudApplication.java:14) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ingredientRepository&#39;: Unsatisfied dependency expressed through method &#39;setDialect&#39; parameter 0: Error creating bean with name &#39;jdbcDialect&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jdbcDialect&#39; parameter 0: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 22 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jdbcDialect&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jdbcDialect&#39; parameter 0: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 37 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 50 common frames omitted\r\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 63 common frames omitted\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Ограничение &quot;PRIMARY KEY | UNIQUE (ID)&quot; не найдено\r\nConstraint &quot;PRIMARY KEY | UNIQUE (ID)&quot; not found; SQL statement:\r\nalter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id) [90057-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\t... 73 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n&gt; \r\n```\r\n","title":"Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.problem with h2","body":"<p>I started learning Spring from the book &quot;Spring in action. I have a problem when I got to chapter 3, which deals with relational databases. When I seemed to have done everything, errors appeared at startup, I can't figure out whyю\nMy pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;sia&lt;/groupId&gt;\n    &lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\n    &lt;version&gt;0.0.3-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;taco-cloud&lt;/name&gt;\n    &lt;description&gt;Taco Cloud Example&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;\n            UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;\n            UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- tag::springDataJdbc[] --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- end::springDataJdbc[] --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project\n</code></pre>\n<p>do not judge strictly, I'm still new to Spring\nthese are my errors</p>\n<pre><code>&gt; these are errors\n&gt; Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-09-06T15:27:34.553+03:00 ERROR 7068 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'designTacoController' defined in file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\tacos\\web\\DesignTacoController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ingredientRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at tacos.TacoCloudApplication.main(TacoCloudApplication.java:14) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ingredientRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 22 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 37 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 50 common frames omitted\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]: alter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id)\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 63 common frames omitted\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Ограничение &quot;PRIMARY KEY | UNIQUE (ID)&quot; не найдено\nConstraint &quot;PRIMARY KEY | UNIQUE (ID)&quot; not found; SQL statement:\nalter table Ingredient_Ref add foreign key (ingredient) references Ingredient(id) [90057-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.1.214.jar:2.1.214]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    ... 73 common frames omitted\n\n\nProcess finished with exit code 0\n&gt; \n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","aapt"],"answers":[{"tags":[],"owner":{"account_id":19947781,"reputation":31,"user_id":14618074,"display_name":"Tyler"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605084067,"creation_date":1605084067,"answer_id":64783065,"question_id":63997710,"body_markdown":"If some files have been encrypted, AAPT may not work properly. Please check whether the files related to the compilation error are encrypted. In your case, these are PNG files.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>If some files have been encrypted, AAPT may not work properly. Please check whether the files related to the compilation error are encrypted. In your case, these are PNG files.</p>\n"},{"tags":[],"owner":{"account_id":19612315,"reputation":1,"user_id":14354596,"display_name":"avnish mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632392520,"creation_date":1632375161,"answer_id":69294501,"question_id":63997710,"body_markdown":"In Windows, try to keep your project in a drive apart from windows (C drive). You can use D drive and try keeping the path short (eg. D:\\Projects\\XyzProject). This might resolve your issue.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>In Windows, try to keep your project in a drive apart from windows (C drive). You can use D drive and try keeping the path short (eg. D:\\Projects\\XyzProject). This might resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":2526176,"reputation":998,"user_id":2195518,"display_name":"Kapitein Witbaard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635331682,"creation_date":1635331682,"answer_id":69737245,"question_id":63997710,"body_markdown":"I had exactly the same error. Tried everything including pulling my own hear out, but nothing worked. Then someone mentioned running Android Studio as `admin` would solve the problem... So it has something to do with `write access` problems. Bingo! Try this:\r\n\r\n    In windows go to Ransomware protection and disable it!\r\n\r\nThen try building again. If that works then use `Allow an app through Controlled folder access` to give gradle the right access rights. And then enable your Ransomware protection again.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>I had exactly the same error. Tried everything including pulling my own hear out, but nothing worked. Then someone mentioned running Android Studio as <code>admin</code> would solve the problem... So it has something to do with <code>write access</code> problems. Bingo! Try this:</p>\n<pre><code>In windows go to Ransomware protection and disable it!\n</code></pre>\n<p>Then try building again. If that works then use <code>Allow an app through Controlled folder access</code> to give gradle the right access rights. And then enable your Ransomware protection again.</p>\n"},{"tags":[],"owner":{"account_id":26059346,"reputation":1,"user_id":19760955,"display_name":"Hussain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660465468,"creation_date":1660465468,"answer_id":73350142,"question_id":63997710,"body_markdown":"i face same problem ,and solved .this error is due to windows security , select the file properties which causing issue  and unblock it.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>i face same problem ,and solved .this error is due to windows security , select the file properties which causing issue  and unblock it.</p>\n"},{"tags":[],"owner":{"account_id":84890,"reputation":1051,"user_id":237043,"accept_rate":75,"display_name":"John Michelau"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1675887419,"creation_date":1675887419,"answer_id":75391299,"question_id":63997710,"body_markdown":"I encountered a similar problem to this, and the root cause was that a JPEG file was named with a PNG file extension.  Once I fixed the file extension AAPT was happy.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>I encountered a similar problem to this, and the root cause was that a JPEG file was named with a PNG file extension.  Once I fixed the file extension AAPT was happy.</p>\n"},{"tags":[],"owner":{"account_id":8352063,"reputation":59,"user_id":6273824,"display_name":"yago"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676331683,"creation_date":1676331683,"answer_id":75442187,"question_id":63997710,"body_markdown":"im my case i tried to use some png images that i downloaded from whatsapp and they were  encrypted.\r\n\r\nto fix it follow this steps:\r\n\r\n1-open paint\r\n2-open your images\r\n3-save them\r\n\r\nand you are ready to go!","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>im my case i tried to use some png images that i downloaded from whatsapp and they were  encrypted.</p>\n<p>to fix it follow this steps:</p>\n<p>1-open paint\n2-open your images\n3-save them</p>\n<p>and you are ready to go!</p>\n"},{"tags":[],"owner":{"account_id":23249888,"reputation":51,"user_id":17337864,"display_name":"Shawn Barbel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689704746,"creation_date":1689704746,"answer_id":76715628,"question_id":63997710,"body_markdown":"If it&#39;s an expo app remove whatever png assets you just added. You can rename them as jpg and that would work","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>If it's an expo app remove whatever png assets you just added. You can rename them as jpg and that would work</p>\n"},{"tags":[],"owner":{"account_id":29379010,"reputation":1,"user_id":22509935,"display_name":"The Bong Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694004177,"creation_date":1694001098,"answer_id":77051615,"question_id":63997710,"body_markdown":"This issue is nothing but a image file extension problem. My image was in jpeg format, but I saved it in my drawable folder as png format. That&#39;s why this conflict was thrown by android.\r\n\r\nI just convert my image to png version and implemented in my android project and deleted that old jpg image. Then android worked properly.","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>This issue is nothing but a image file extension problem. My image was in jpeg format, but I saved it in my drawable folder as png format. That's why this conflict was thrown by android.</p>\n<p>I just convert my image to png version and implemented in my android project and deleted that old jpg image. Then android worked properly.</p>\n"}],"owner":{"account_id":15949124,"reputation":3270,"user_id":11508914,"display_name":"Panagiss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20014,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":8,"score":11,"last_activity_date":1694004177,"creation_date":1600711451,"question_id":63997710,"body_markdown":"I was working on Ubuntu linux and recently i pulled my project and started working on Win10.\r\n\r\nFrom now on i cannot Build/Run my app. There must be a problem with those PNG files in the resources folder.\r\n\r\nThat is the **Error output** while trying to build the app :\r\n```\r\nExecuting tasks: [:app:assembleDebug] in project C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\r\n\r\n&gt; Task :app:preBuild UP-TO-DATE\r\n&gt; Task :app:preDebugBuild UP-TO-DATE\r\n&gt; Task :app:compileDebugAidl NO-SOURCE\r\n&gt; Task :app:generateDebugBuildConfig UP-TO-DATE\r\n&gt; Task :app:compileDebugRenderscript NO-SOURCE\r\n&gt; Task :app:javaPreCompileDebug UP-TO-DATE\r\n&gt; Task :app:generateDebugResValues UP-TO-DATE\r\n&gt; Task :app:generateDebugResources UP-TO-DATE\r\n&gt; Task :app:createDebugCompatibleScreenManifests UP-TO-DATE\r\n&gt; Task :app:extractDeepLinksDebug UP-TO-DATE\r\n&gt; Task :app:processDebugManifest UP-TO-DATE\r\n&gt; Task :app:mergeDebugShaders UP-TO-DATE\r\n&gt; Task :app:compileDebugShaders NO-SOURCE\r\n&gt; Task :app:generateDebugAssets UP-TO-DATE\r\n&gt; Task :app:mergeDebugAssets UP-TO-DATE\r\n&gt; Task :app:processDebugJavaRes NO-SOURCE\r\n\r\n&gt; Task :app:mergeDebugResources FAILED\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xhdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xhdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xxhdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xxhdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\r\n\r\n&gt; Task :app:mergeDebugJavaResource\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugResources&#39;.\r\n&gt; Multiple task action failures occurred:\r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-ldpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-mdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-ldpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-hdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-mdpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-xhdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-hdpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\r\n            \r\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n      &gt; Android resource compilation failed\r\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-xxhdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\r\n            \r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\n10 actionable tasks: 2 executed, 8 up-to-date\r\n ```\r\n**build.gradle(:app)** file: \r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n\r\n    configurations.all {\r\n        resolutionStrategy.eachDependency{\r\n            DependencyResolveDetails details -&gt;\r\n                def requested = details.requested\r\n                if (requested.group==&quot;com.android.support&quot;){\r\n                    if (!requested.name.startsWith(&quot;multidex&quot;)){\r\n                        details.useVersion(&quot;26.+&quot;)\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.myname.greenskychatroom&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n    implementation &#39;androidx.annotation:annotation:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation files(&#39;libs/json-simple-1.1.jar&#39;)\r\n    testImplementation &#39;junit:junit:4.13&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n```\r\n\r\nI don&#39;t know what is causing it. I cleaned cache, delete and pull project again. Also i couldn&#39;t find a solution online. \r\n\r\n**Update**\r\nFound out that Android Studio on Linux(Ubuntu) works just fine and as a matter of fact this error occurs only on Windows&#39; Android Studio..","title":"Android Studio - AAPT: error: file failed to compile with PNG images","body":"<p>I was working on Ubuntu linux and recently i pulled my project and started working on Win10.</p>\n<p>From now on i cannot Build/Run my app. There must be a problem with those PNG files in the resources folder.</p>\n<p>That is the <strong>Error output</strong> while trying to build the app :</p>\n<pre><code>Executing tasks: [:app:assembleDebug] in project C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\n\n&gt; Task :app:preBuild UP-TO-DATE\n&gt; Task :app:preDebugBuild UP-TO-DATE\n&gt; Task :app:compileDebugAidl NO-SOURCE\n&gt; Task :app:generateDebugBuildConfig UP-TO-DATE\n&gt; Task :app:compileDebugRenderscript NO-SOURCE\n&gt; Task :app:javaPreCompileDebug UP-TO-DATE\n&gt; Task :app:generateDebugResValues UP-TO-DATE\n&gt; Task :app:generateDebugResources UP-TO-DATE\n&gt; Task :app:createDebugCompatibleScreenManifests UP-TO-DATE\n&gt; Task :app:extractDeepLinksDebug UP-TO-DATE\n&gt; Task :app:processDebugManifest UP-TO-DATE\n&gt; Task :app:mergeDebugShaders UP-TO-DATE\n&gt; Task :app:compileDebugShaders NO-SOURCE\n&gt; Task :app:generateDebugAssets UP-TO-DATE\n&gt; Task :app:mergeDebugAssets UP-TO-DATE\n&gt; Task :app:processDebugJavaRes NO-SOURCE\n\n&gt; Task :app:mergeDebugResources FAILED\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xhdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xhdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_launcher_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-mdpi\\\\ic_launcher_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xxhdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-xxhdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-hdpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Android resource compilation failed&quot;,&quot;sources&quot;:[{&quot;file&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_greensky_background.png&quot;}],&quot;original&quot;:&quot;C:\\\\Users\\\\Psz\\\\Documents\\\\Android-ChatRoom-Client\\\\app\\\\build\\\\generated\\\\res\\\\pngs\\\\debug\\\\drawable-ldpi\\\\ic_greensky_background.png: AAPT: error: file failed to compile.\\n    &quot;,&quot;tool&quot;:&quot;AAPT&quot;}\n\n&gt; Task :app:mergeDebugJavaResource\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeDebugResources'.\n&gt; Multiple task action failures occurred:\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-ldpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-mdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-ldpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-hdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-mdpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-xhdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-hdpi\\ic_launcher_background.png: AAPT: error: file failed to compile.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\Psz\\Documents\\Android-ChatRoom-Client\\app\\build\\generated\\res\\pngs\\debug\\drawable-xxhdpi\\ic_greensky_background.png: AAPT: error: file failed to compile.\n            \n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n10 actionable tasks: 2 executed, 8 up-to-date\n</code></pre>\n<p><strong>build.gradle(:app)</strong> file:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 30\n\n    configurations.all {\n        resolutionStrategy.eachDependency{\n            DependencyResolveDetails details -&gt;\n                def requested = details.requested\n                if (requested.group==&quot;com.android.support&quot;){\n                    if (!requested.name.startsWith(&quot;multidex&quot;)){\n                        details.useVersion(&quot;26.+&quot;)\n                    }\n                }\n        }\n    }\n\n    buildToolsVersion &quot;30.0.2&quot;\n\n    defaultConfig {\n        applicationId &quot;com.myname.greenskychatroom&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'androidx.annotation:annotation:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.1'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation files('libs/json-simple-1.1.jar')\n    testImplementation 'junit:junit:4.13'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n<p>I don't know what is causing it. I cleaned cache, delete and pull project again. Also i couldn't find a solution online.</p>\n<p><strong>Update</strong>\nFound out that Android Studio on Linux(Ubuntu) works just fine and as a matter of fact this error occurs only on Windows' Android Studio..</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661259272,"post_id":73459083,"comment_id":129725050,"body_markdown":"By properly starting the scheduler from Spring instead of outside of Spring. Or just use the Spring configured one (and use the properties to configure it).","body":"By properly starting the scheduler from Spring instead of outside of Spring. Or just use the Spring configured one (and use the properties to configure it)."},{"owner":{"account_id":107400,"reputation":558,"user_id":285608,"accept_rate":100,"display_name":"Daniel Rodr&#237;guez"},"score":0,"creation_date":1661259736,"post_id":73459083,"comment_id":129725242,"body_markdown":"But then I can&#39;t give the jobs autowire capabilities. I implemented it as described in this article: https://dzone.com/articles/adding-quartz-to-spring-boot but there it doesn&#39;t say how to disable the default one.","body":"But then I can&#39;t give the jobs autowire capabilities. I implemented it as described in this article: <a href=\"https://dzone.com/articles/adding-quartz-to-spring-boot\" rel=\"nofollow noreferrer\">dzone.com/articles/adding-quartz-to-spring-boot</a> but there it doesn&#39;t say how to disable the default one."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661260047,"post_id":73459083,"comment_id":129725378,"body_markdown":"See my answer, and you didn&#39;t do as in the article as they used an `@Configuration` which would have made Spring Boot backoff as there was already a scheduler. But just leveraging the Spring Boot capabilities is easier, as it doesn&#39;t need that much code.","body":"See my answer, and you didn&#39;t do as in the article as they used an <code>@Configuration</code> which would have made Spring Boot backoff as there was already a scheduler. But just leveraging the Spring Boot capabilities is easier, as it doesn&#39;t need that much code."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661259977,"creation_date":1661259977,"answer_id":73459286,"question_id":73459083,"body_markdown":"The easiest way is to use the Spring configured scheduler instead of doing it yourself. Move the `quartz.properties` to the `spring.quartz` namespace in the `application.properties`. \r\n\r\n```\r\nspring.quartz.scheduler-name=MyQuartzScheduler\r\n\r\nspring.quartz.properties.org.quartz.threadPool.threadCount=12\r\nspring.quartz.properties.org.quartz.threadPool.threadPriority=5\r\nspring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\r\n\r\nspring.quartz.properties.org.quartz.jobStore.misfireThreshold=60000\r\n```\r\n\r\nTo configure your own `JobFactory` write a `SchedulerFactoryBeanCustomizer` to configure it on the `SchedulerFactoryBean`. \r\n\r\n```java\r\n@Component\r\nclass MySchedulerFactoryBeanCustomizer implements SchedulerFactoryBeanCustomizer {\r\n\r\n  void customize(SchedulerFactoryBean schedulerFactoryBean) {\r\n    schedulerFactoryBean.setJobFactory(new MyQuartzJobFactory());\r\n  }\r\n}\r\n```\r\n\r\nNow ditch the `quartz.properties`, `MyLifecycleListener` and the `SchedulerManager` and let Spring handle all that for you. ","title":"How to avoid default Quartz Scheduler in Spring Boot application?","body":"<p>The easiest way is to use the Spring configured scheduler instead of doing it yourself. Move the <code>quartz.properties</code> to the <code>spring.quartz</code> namespace in the <code>application.properties</code>.</p>\n<pre><code>spring.quartz.scheduler-name=MyQuartzScheduler\n\nspring.quartz.properties.org.quartz.threadPool.threadCount=12\nspring.quartz.properties.org.quartz.threadPool.threadPriority=5\nspring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\n\nspring.quartz.properties.org.quartz.jobStore.misfireThreshold=60000\n</code></pre>\n<p>To configure your own <code>JobFactory</code> write a <code>SchedulerFactoryBeanCustomizer</code> to configure it on the <code>SchedulerFactoryBean</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass MySchedulerFactoryBeanCustomizer implements SchedulerFactoryBeanCustomizer {\n\n  void customize(SchedulerFactoryBean schedulerFactoryBean) {\n    schedulerFactoryBean.setJobFactory(new MyQuartzJobFactory());\n  }\n}\n</code></pre>\n<p>Now ditch the <code>quartz.properties</code>, <code>MyLifecycleListener</code> and the <code>SchedulerManager</code> and let Spring handle all that for you.</p>\n"},{"tags":[],"owner":{"account_id":5440348,"reputation":247,"user_id":4328601,"display_name":"Alexander Prisadkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694003547,"creation_date":1694003547,"answer_id":77051939,"question_id":73459083,"body_markdown":"just add in your application.yml\r\n\r\n    spring:\r\n        autoconfigure:\r\n            exclude: org.springframework.boot.autoconfigure.quartz.QuartzAutoConfiguration\r\n\r\n","title":"How to avoid default Quartz Scheduler in Spring Boot application?","body":"<p>just add in your application.yml</p>\n<pre><code>spring:\n    autoconfigure:\n        exclude: org.springframework.boot.autoconfigure.quartz.QuartzAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":107400,"reputation":558,"user_id":285608,"accept_rate":100,"display_name":"Daniel Rodr&#237;guez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73459286,"answer_count":2,"score":0,"last_activity_date":1694003547,"creation_date":1661259189,"question_id":73459083,"body_markdown":"I&#39;m setting up a Quartz Scheduler in Spring Boot. I want the scheduled Jobs to be able to inject Beans from the Application Context. For that I created my own Quartz Job Factory:\r\n\r\n```\r\npublic final class MyQuartzJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\r\n\r\n    private transient AutowireCapableBeanFactory beanFactory;\r\n\r\n    @Override\r\n    public void setApplicationContext(final ApplicationContext context) throws BeansException {\r\n        beanFactory = context.getAutowireCapableBeanFactory();\r\n    }\r\n\r\n    @Override\r\n    protected Object createJobInstance(final TriggerFiredBundle bundle) throws Exception {\r\n        final Object job = super.createJobInstance(bundle);\r\n        beanFactory.autowireBean(job);\r\n        return job;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor keeping a reference to the Scheduler, I have a SchedulerManager Bean that initializes the Scheduler:\r\n\r\n```\r\n    public void initScheduler() {\r\n        try (InputStream propsInputStream = Thread.currentThread().getContextClassLoader()\r\n                .getResourceAsStream(&quot;my-quartz.properties&quot;)) {\r\n            log.info(&quot;Creating Quartz scheduler...&quot;);\r\n            Properties myQuartzProperties = new Properties();\r\n            myQuartzProperties.load(propsInputStream);\r\n\r\n            SchedulerFactoryBean schedulerFactory = new SchedulerFactoryBean();\r\n            schedulerFactory.setQuartzProperties(myQuartzProperties);\r\n            schedulerFactory.afterPropertiesSet();\r\n            schedulerFactory.setJobFactory(quartzJobFactory);\r\n\r\n            this.scheduler = schedulerFactory.getScheduler();\r\n            this.schedulingConfigMap = new HashMap&lt;&gt;();\r\n\r\n            log.info(&quot;Quartz scheduler created.&quot;);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Unable to create Quartz scheduler&quot;, e);\r\n            throw new RuntimeException(&quot;Scheduler extension initialization error&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\nI do the initialization of the Scheduler once the context has been initialized:\r\n```\r\npublic class MyLifecycleListener implements ServletContextListener {\r\n\r\n    private final SchedulerManager schedulerManager;\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        schedulerManager.initScheduler();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe quartz configuration file is as follows:\r\n```\r\norg.quartz.scheduler.instanceName=MyQuartzScheduler\r\n\r\norg.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\r\norg.quartz.threadPool.threadCount=12\r\norg.quartz.threadPool.threadPriority=5\r\norg.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\r\n\r\norg.quartz.jobStore.class=org.quartz.simpl.RAMJobStore\r\norg.quartz.jobStore.misfireThreshold=60000\r\n```\r\n\r\nWhen starting the application I see my Quartz Scheduler is initialized, but the problem is that I see a second Quartz Scheduler initialized (maybe a Spring default one?).\r\n\r\nMine: &#39;MyQuartzScheduler&#39; with 12 threads\r\n```\r\n2022-08-23 14:13:03.239  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\r\n2022-08-23 14:13:03.240  INFO 24788 --- [           main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\r\n2022-08-23 14:13:03.241  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;MyQuartzScheduler&#39; with instanceId &#39;NON_CLUSTERED&#39;\r\n  Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n  NOT STARTED.\r\n  Currently in standby mode.\r\n  Number of jobs executed: 0\r\n  Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 12 threads.\r\n  Using job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.\r\n\r\n2022-08-23 14:13:03.241  INFO 24788 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler &#39;MyQuartzScheduler&#39; initialized from an externally provided properties instance.\r\n```\r\n\r\nSome milliseconds later, another one called &#39;quartzScheduler&#39; with 10 threads.\r\n\r\n```\r\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\r\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\r\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;quartzScheduler&#39; with instanceId &#39;NON_CLUSTERED&#39;\r\n  Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n  NOT STARTED.\r\n  Currently in standby mode.\r\n  Number of jobs executed: 0\r\n  Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 10 threads.\r\n  Using job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.\r\n\r\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler &#39;quartzScheduler&#39; initialized from an externally provided properties instance.\r\n```\r\n\r\nHow can I disable this second one?\r\n\r\nSample project can be found here: https://github.com/dajoropo/spring-quartz-demo/tree/stackoverflow_question_73459083\r\n","title":"How to avoid default Quartz Scheduler in Spring Boot application?","body":"<p>I'm setting up a Quartz Scheduler in Spring Boot. I want the scheduled Jobs to be able to inject Beans from the Application Context. For that I created my own Quartz Job Factory:</p>\n<pre><code>public final class MyQuartzJobFactory extends SpringBeanJobFactory implements ApplicationContextAware {\n\n    private transient AutowireCapableBeanFactory beanFactory;\n\n    @Override\n    public void setApplicationContext(final ApplicationContext context) throws BeansException {\n        beanFactory = context.getAutowireCapableBeanFactory();\n    }\n\n    @Override\n    protected Object createJobInstance(final TriggerFiredBundle bundle) throws Exception {\n        final Object job = super.createJobInstance(bundle);\n        beanFactory.autowireBean(job);\n        return job;\n    }\n\n}\n</code></pre>\n<p>For keeping a reference to the Scheduler, I have a SchedulerManager Bean that initializes the Scheduler:</p>\n<pre><code>    public void initScheduler() {\n        try (InputStream propsInputStream = Thread.currentThread().getContextClassLoader()\n                .getResourceAsStream(&quot;my-quartz.properties&quot;)) {\n            log.info(&quot;Creating Quartz scheduler...&quot;);\n            Properties myQuartzProperties = new Properties();\n            myQuartzProperties.load(propsInputStream);\n\n            SchedulerFactoryBean schedulerFactory = new SchedulerFactoryBean();\n            schedulerFactory.setQuartzProperties(myQuartzProperties);\n            schedulerFactory.afterPropertiesSet();\n            schedulerFactory.setJobFactory(quartzJobFactory);\n\n            this.scheduler = schedulerFactory.getScheduler();\n            this.schedulingConfigMap = new HashMap&lt;&gt;();\n\n            log.info(&quot;Quartz scheduler created.&quot;);\n        } catch (Exception e) {\n            log.error(&quot;Unable to create Quartz scheduler&quot;, e);\n            throw new RuntimeException(&quot;Scheduler extension initialization error&quot;, e);\n        }\n    }\n</code></pre>\n<p>I do the initialization of the Scheduler once the context has been initialized:</p>\n<pre><code>public class MyLifecycleListener implements ServletContextListener {\n\n    private final SchedulerManager schedulerManager;\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        schedulerManager.initScheduler();\n    }\n\n}\n</code></pre>\n<p>The quartz configuration file is as follows:</p>\n<pre><code>org.quartz.scheduler.instanceName=MyQuartzScheduler\n\norg.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\norg.quartz.threadPool.threadCount=12\norg.quartz.threadPool.threadPriority=5\norg.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\n\norg.quartz.jobStore.class=org.quartz.simpl.RAMJobStore\norg.quartz.jobStore.misfireThreshold=60000\n</code></pre>\n<p>When starting the application I see my Quartz Scheduler is initialized, but the problem is that I see a second Quartz Scheduler initialized (maybe a Spring default one?).</p>\n<p>Mine: 'MyQuartzScheduler' with 12 threads</p>\n<pre><code>2022-08-23 14:13:03.239  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\n2022-08-23 14:13:03.240  INFO 24788 --- [           main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\n2022-08-23 14:13:03.241  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'MyQuartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 12 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n\n2022-08-23 14:13:03.241  INFO 24788 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'MyQuartzScheduler' initialized from an externally provided properties instance.\n</code></pre>\n<p>Some milliseconds later, another one called 'quartzScheduler' with 10 threads.</p>\n<pre><code>2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.2 created.\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n\n2022-08-23 14:13:03.713  INFO 24788 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.\n</code></pre>\n<p>How can I disable this second one?</p>\n<p>Sample project can be found here: <a href=\"https://github.com/dajoropo/spring-quartz-demo/tree/stackoverflow_question_73459083\" rel=\"nofollow noreferrer\">https://github.com/dajoropo/spring-quartz-demo/tree/stackoverflow_question_73459083</a></p>\n"},{"tags":["java","spring","mapping"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1694001559,"post_id":77051250,"comment_id":135833185,"body_markdown":"Cant&#39;t you just check for blank inside getCurrencyById() method?","body":"Cant&#39;t you just check for blank inside getCurrencyById() method?"},{"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"score":0,"creation_date":1694002812,"post_id":77051250,"comment_id":135833462,"body_markdown":"@hermit No. In this case, I have to return something, but I need to leave the old value. I even can not use Uftermapping","body":"@hermit No. In this case, I have to return something, but I need to leave the old value. I even can not use Uftermapping"}],"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694002849,"creation_date":1693997739,"question_id":77051250,"body_markdown":"I have a problem using both - condition and expression in single field mapping with @Mapping annotation. I need some simple solution to check incoming field on null and blank value. \r\n\r\nI have 2 interfaces responsible for such checks.\r\n```\r\n@Qualifier\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.CLASS)\r\npublic @interface UtilConditions {\r\n}\r\n\r\n@UtilConditions\r\npublic interface StaticUtil {\r\n\r\n    @Condition()\r\n    @Named(&quot;isNotBlank&quot;)\r\n    static boolean isNotBlank(String value) {\r\n        return StringUtils.isNotBlank(value);\r\n    }\r\n\r\n    @Condition()\r\n    @Named(&quot;isNotNull&quot;)\r\n    static boolean isNotNull(Object value) {\r\n        return value != null;\r\n    }\r\n\r\n    @Condition()\r\n    @Named(&quot;isCollectionNotEmpty&quot;)\r\n    static boolean isCollectionNotEmpty(Collection&lt;?&gt; collection) {\r\n        return collection != null &amp;&amp; !collection.isEmpty();\r\n    }\r\n}\r\n```\r\nThat gives me an elegant way to check values.\r\n\r\nFor example\r\n```\r\n    @Mapping(target = &quot;name&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;)\r\n    @Mapping(target = &quot;firstName&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;)\r\n    @Mapping(target = &quot;rateCurrency&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;,\r\n        expression = &quot;java(getCurrencyById(dto.getRateCurrency()))&quot;)\r\n    public abstract Entity toEntity(EntityDto dto);\r\n\r\n    public Currency getCurrencyById(String currencyName) {\r\n        return currencyRepository.findById(currencyName)\r\n            .orElseThrow(() -&gt; new EntityNotFoundException(Currency.class, currencyName));\r\n    }\r\n```\r\nBut Mapstruct doesn&#39;t allow to use condition and expression in one mapping, conditionQualifiedByName just ignoring.\r\nAlso i have tried to use different arguments in @Mapping annotation witch are responsible for conditions and expressions but unsuccessfully.\r\n\r\n\r\nPlease tell me how can i use isNotBlank() method from StaticUtil first, to prevent blank parameter passing to getCurrencyById() method.\r\n\r\nThank you in advance for your help\r\n","title":"Mapstruct! @Mapping with conditionQualifiedByName and expression parameters in one @Mapping","body":"<p>I have a problem using both - condition and expression in single field mapping with @Mapping annotation. I need some simple solution to check incoming field on null and blank value.</p>\n<p>I have 2 interfaces responsible for such checks.</p>\n<pre><code>@Qualifier\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.CLASS)\npublic @interface UtilConditions {\n}\n\n@UtilConditions\npublic interface StaticUtil {\n\n    @Condition()\n    @Named(&quot;isNotBlank&quot;)\n    static boolean isNotBlank(String value) {\n        return StringUtils.isNotBlank(value);\n    }\n\n    @Condition()\n    @Named(&quot;isNotNull&quot;)\n    static boolean isNotNull(Object value) {\n        return value != null;\n    }\n\n    @Condition()\n    @Named(&quot;isCollectionNotEmpty&quot;)\n    static boolean isCollectionNotEmpty(Collection&lt;?&gt; collection) {\n        return collection != null &amp;&amp; !collection.isEmpty();\n    }\n}\n</code></pre>\n<p>That gives me an elegant way to check values.</p>\n<p>For example</p>\n<pre><code>    @Mapping(target = &quot;name&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;)\n    @Mapping(target = &quot;firstName&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;)\n    @Mapping(target = &quot;rateCurrency&quot;, conditionQualifiedByName = &quot;isNotBlank&quot;,\n        expression = &quot;java(getCurrencyById(dto.getRateCurrency()))&quot;)\n    public abstract Entity toEntity(EntityDto dto);\n\n    public Currency getCurrencyById(String currencyName) {\n        return currencyRepository.findById(currencyName)\n            .orElseThrow(() -&gt; new EntityNotFoundException(Currency.class, currencyName));\n    }\n</code></pre>\n<p>But Mapstruct doesn't allow to use condition and expression in one mapping, conditionQualifiedByName just ignoring.\nAlso i have tried to use different arguments in @Mapping annotation witch are responsible for conditions and expressions but unsuccessfully.</p>\n<p>Please tell me how can i use isNotBlank() method from StaticUtil first, to prevent blank parameter passing to getCurrencyById() method.</p>\n<p>Thank you in advance for your help</p>\n"},{"tags":["java","android","maps"],"answers":[{"tags":[],"owner":{"account_id":2700180,"reputation":727,"user_id":2474681,"accept_rate":53,"display_name":"salih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694001775,"creation_date":1694001775,"answer_id":77051709,"question_id":76203082,"body_markdown":"I think you are creating new marker at your every attempt, so you see the previous one. I think your implementation would be like below. \r\n\r\n    public class MainActivity2 extends AppCompatActivity implements OnMapReadyCallback {\r\n        GoogleMap gMap;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n    \r\n            SupportMapFragment supportMapFragment = (SupportMapFragment)\r\n                    getSupportFragmentManager().findFragmentById(R.id.google_map);\r\n            supportMapFragment.getMapAsync(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onMapReady(GoogleMap googleMap) {\r\n            gMap = googleMap;\r\n         MarkerOptions markerOptions = new MarkerOptions(); --&gt; Marker options should be here \r\n            gMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n                @Override\r\n                public void onMapClick(LatLng latLng) {\r\n                    markerOptions.position(latLng);\r\n                    markerOptions.title(latLng.latitude+ &quot; : &quot; + latLng.longitude);\r\n                    gMap.clear();\r\n                    gMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 10));\r\n                    gMap.addMarker(markerOptions);\r\n                }\r\n            });\r\n        }\r\n    }","title":"Android studio java coordinate marker","body":"<p>I think you are creating new marker at your every attempt, so you see the previous one. I think your implementation would be like below.</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity implements OnMapReadyCallback {\n    GoogleMap gMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\n                getSupportFragmentManager().findFragmentById(R.id.google_map);\n        supportMapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        gMap = googleMap;\n     MarkerOptions markerOptions = new MarkerOptions(); --&gt; Marker options should be here \n        gMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n            @Override\n            public void onMapClick(LatLng latLng) {\n                markerOptions.position(latLng);\n                markerOptions.title(latLng.latitude+ &quot; : &quot; + latLng.longitude);\n                gMap.clear();\n                gMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 10));\n                gMap.addMarker(markerOptions);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28529649,"reputation":1,"user_id":21837242,"display_name":"Dimondikus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694001775,"creation_date":1683568258,"question_id":76203082,"body_markdown":"how can I make it so that when I click on a button, I can select a specific point on Google Maps, the coordinates of which will be stored in the textview field near the button, and after clicking on the text of these coordinates, the map will open with the previously selected marker displayed?\r\n\r\nCode im using to including Google maps in my application:\r\n```\r\nimplementation &#39;com.google.android.gms:play-services-maps:17.0.0&#39;\r\nimplementation &#39;com.google.android.gms:play-services-location:17.1.0&#39;\r\n```\r\nThis code im using to open map : \r\n\r\n```\r\npublic class MainActivity2 extends AppCompatActivity implements OnMapReadyCallback {\r\n    GoogleMap gMap;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\r\n                getSupportFragmentManager().findFragmentById(R.id.google_map);\r\n        supportMapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        gMap = googleMap;\r\n        gMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n            @Override\r\n            public void onMapClick(LatLng latLng) {\r\n                MarkerOptions markerOptions = new MarkerOptions();\r\n                markerOptions.position(latLng);\r\n                markerOptions.title(latLng.latitude+ &quot; : &quot; + latLng.longitude);\r\n                gMap.clear();\r\n                gMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 10));\r\n                gMap.addMarker(markerOptions);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nHere are the dependencies I added to my `AndroidManifest.xml` : \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\n\r\n&lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;REDACTED&quot;/&gt;\r\n```","title":"Android studio java coordinate marker","body":"<p>how can I make it so that when I click on a button, I can select a specific point on Google Maps, the coordinates of which will be stored in the textview field near the button, and after clicking on the text of these coordinates, the map will open with the previously selected marker displayed?</p>\n<p>Code im using to including Google maps in my application:</p>\n<pre><code>implementation 'com.google.android.gms:play-services-maps:17.0.0'\nimplementation 'com.google.android.gms:play-services-location:17.1.0'\n</code></pre>\n<p>This code im using to open map :</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity implements OnMapReadyCallback {\n    GoogleMap gMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\n                getSupportFragmentManager().findFragmentById(R.id.google_map);\n        supportMapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        gMap = googleMap;\n        gMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n            @Override\n            public void onMapClick(LatLng latLng) {\n                MarkerOptions markerOptions = new MarkerOptions();\n                markerOptions.position(latLng);\n                markerOptions.title(latLng.latitude+ &quot; : &quot; + latLng.longitude);\n                gMap.clear();\n                gMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 10));\n                gMap.addMarker(markerOptions);\n            }\n        });\n    }\n}\n</code></pre>\n<p>Here are the dependencies I added to my <code>AndroidManifest.xml</code> :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n\n\n&lt;meta-data\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\n                android:value=&quot;REDACTED&quot;/&gt;\n</code></pre>\n"},{"tags":["java","reactjs","spring","rest","architecture"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685491697,"post_id":76368345,"comment_id":134666787,"body_markdown":"By the way, the [ThreeTen-Extra](https://www.threeten.org/threeten-extra/) library provides classes for `Quarter` and `YearQuarter`. These interoperate with the *java.time* classes.","body":"By the way, the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> library provides classes for <code>Quarter</code> and <code>YearQuarter</code>. These interoperate with the <i>java.time</i> classes."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685520723,"post_id":76368345,"comment_id":134670062,"body_markdown":"In your second paragraph, what are we switching? What photos? You’ve lost me there.","body":"In your second paragraph, what are we switching? What photos? You’ve lost me there."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1685521248,"post_id":76368345,"comment_id":134670188,"body_markdown":"@BasilBourque. I have a list of competencies(Developer, tester, manager). When we click Developer I need to have a table with the salary for this competency. when i switch to tester then I need a table with the salary for tester for every quarter. I hope this is clearer. about photo: the first picture is how the should look table with salaries. and in the second switcher of competencies which will show these tables.","body":"@BasilBourque. I have a list of competencies(Developer, tester, manager). When we click Developer I need to have a table with the salary for this competency. when i switch to tester then I need a table with the salary for tester for every quarter. I hope this is clearer. about photo: the first picture is how the should look table with salaries. and in the second switcher of competencies which will show these tables."}],"answers":[{"tags":[],"owner":{"account_id":28713645,"reputation":1,"user_id":21988689,"display_name":"krusty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685494698,"creation_date":1685478865,"answer_id":76368445,"question_id":76368345,"body_markdown":"I would suggest making an 1x4 array for each individual employee and store the quarter competence.\r\n\r\nHope this helps!\r\n","title":"How can I effectively store and manage data related to quarters in a year for competency levels?","body":"<p>I would suggest making an 1x4 array for each individual employee and store the quarter competence.</p>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694001608,"creation_date":1694001608,"answer_id":77051684,"question_id":76368345,"body_markdown":"You could flatten the table and have independent enums for each type of values.This will help you easily modify if we have new role or levels.\r\n\r\n```\r\n\r\nenum Competency{\r\n    DEV,TEST,MANAGER\r\n}\r\n  enum Level {\r\n    TRAINEE, JUNIOR, INTERMEDIATE, SENIOR, EXPERT, TL;\r\n }\r\n enum Quater{\r\n    q1,q2,q3,q4\r\n }\r\n @Getter\r\n @Setter\r\n //@IdClass(DbRecordExcludingMaxvalue.class)//if using jpa/hibernate \r\n class DbRecord {\r\n    Integer year;\r\n    Quater quater;\r\n    Competency competency;\r\n    Level level;\r\n    Double maxValue;\r\n\r\n     public DbRecord(Integer year, Quater quater, Competency competency, Level level) {\r\n         this.year = year;\r\n         this.quater = quater;\r\n         this.competency = competency;\r\n         this.level = level;\r\n     }\r\n }\r\n\r\n class RecordHelper{\r\n\r\n    public static List&lt;DbRecord&gt; getAllCombination(Integer year){\r\n        //validation for year\r\n        ArrayList&lt;DbRecord&gt; dbRecords = new ArrayList&lt;&gt;();\r\n        for (Quater quater : Quater.values()) {\r\n            for (Competency competency : Competency.values()) {\r\n                for (Level level : Level.values()) {\r\n                    dbRecords.add(new DbRecord(year,quater,competency,level));\r\n                }\r\n            }\r\n        }\r\n        return dbRecords;\r\n     }\r\n\r\n }\r\n\r\npublic class DesignCompetencyQuater {\r\n    public static void main(String[] args) {\r\n        List&lt;DbRecord&gt; list = RecordHelper.getAllCombination(2023);\r\n\r\n        Predicate&lt;DbRecord&gt; yearFilter = dbRecord -&gt; dbRecord.getYear() ==2023;\r\n        Predicate&lt;DbRecord&gt; competencyFilter = dbRecord -&gt; dbRecord.getCompetency() == Competency.DEV;\r\n        Predicate&lt;DbRecord&gt; level = dbRecord -&gt; dbRecord.getLevel() == Level.TRAINEE;\r\n        Predicate&lt;DbRecord&gt; quater = dbRecord -&gt; dbRecord.getQuater() == Quater.q1;\r\n\r\n        Predicate&lt;DbRecord&gt; filter = Stream.of(yearFilter, competencyFilter,level)\r\n                                            .reduce(Predicate::and)\r\n                                            .get();\r\n\r\n        List&lt;DbRecord&gt; dev_Trainee_AllQuaters_2023 = list.stream()\r\n                                                    .filter(filter)\r\n                                                    .collect(Collectors.toList());\r\n        // since in ui you can pass the entire filtered list to display in pivot table format\r\n\r\n        Predicate&lt;DbRecord&gt; filter2 = Stream.of(yearFilter, competencyFilter,quater)\r\n                                        .reduce(Predicate::and)\r\n                                        .get();\r\n\r\n        List&lt;DbRecord&gt; dev_q1_2023 = list.stream()\r\n                                    .filter(filter2)\r\n                                    .collect(Collectors.toList());\r\n        \r\n    }\r\n}\r\n\r\n```\r\nTo avoid splitting of each type of enum values across same table you could have different lookup tables for each enums.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k6mQN.png","title":"How can I effectively store and manage data related to quarters in a year for competency levels?","body":"<p>You could flatten the table and have independent enums for each type of values.This will help you easily modify if we have new role or levels.</p>\n<pre><code>\nenum Competency{\n    DEV,TEST,MANAGER\n}\n  enum Level {\n    TRAINEE, JUNIOR, INTERMEDIATE, SENIOR, EXPERT, TL;\n }\n enum Quater{\n    q1,q2,q3,q4\n }\n @Getter\n @Setter\n //@IdClass(DbRecordExcludingMaxvalue.class)//if using jpa/hibernate \n class DbRecord {\n    Integer year;\n    Quater quater;\n    Competency competency;\n    Level level;\n    Double maxValue;\n\n     public DbRecord(Integer year, Quater quater, Competency competency, Level level) {\n         this.year = year;\n         this.quater = quater;\n         this.competency = competency;\n         this.level = level;\n     }\n }\n\n class RecordHelper{\n\n    public static List&lt;DbRecord&gt; getAllCombination(Integer year){\n        //validation for year\n        ArrayList&lt;DbRecord&gt; dbRecords = new ArrayList&lt;&gt;();\n        for (Quater quater : Quater.values()) {\n            for (Competency competency : Competency.values()) {\n                for (Level level : Level.values()) {\n                    dbRecords.add(new DbRecord(year,quater,competency,level));\n                }\n            }\n        }\n        return dbRecords;\n     }\n\n }\n\npublic class DesignCompetencyQuater {\n    public static void main(String[] args) {\n        List&lt;DbRecord&gt; list = RecordHelper.getAllCombination(2023);\n\n        Predicate&lt;DbRecord&gt; yearFilter = dbRecord -&gt; dbRecord.getYear() ==2023;\n        Predicate&lt;DbRecord&gt; competencyFilter = dbRecord -&gt; dbRecord.getCompetency() == Competency.DEV;\n        Predicate&lt;DbRecord&gt; level = dbRecord -&gt; dbRecord.getLevel() == Level.TRAINEE;\n        Predicate&lt;DbRecord&gt; quater = dbRecord -&gt; dbRecord.getQuater() == Quater.q1;\n\n        Predicate&lt;DbRecord&gt; filter = Stream.of(yearFilter, competencyFilter,level)\n                                            .reduce(Predicate::and)\n                                            .get();\n\n        List&lt;DbRecord&gt; dev_Trainee_AllQuaters_2023 = list.stream()\n                                                    .filter(filter)\n                                                    .collect(Collectors.toList());\n        // since in ui you can pass the entire filtered list to display in pivot table format\n\n        Predicate&lt;DbRecord&gt; filter2 = Stream.of(yearFilter, competencyFilter,quater)\n                                        .reduce(Predicate::and)\n                                        .get();\n\n        List&lt;DbRecord&gt; dev_q1_2023 = list.stream()\n                                    .filter(filter2)\n                                    .collect(Collectors.toList());\n        \n    }\n}\n\n</code></pre>\n<p>To avoid splitting of each type of enum values across same table you could have different lookup tables for each enums.</p>\n<p><a href=\"https://i.stack.imgur.com/k6mQN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6mQN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694001608,"creation_date":1685477814,"question_id":76368345,"body_markdown":"I have an architectural question about how to properly store data for future use. In general, I have a list of competencies, for example, developer, tester, manager, etc., and each competency has a level, for example, junior, middle, or senior.\r\n\r\n We need to develop a page where there will be a competence switch, and when we click on a competency, we get the salary limit for each level of competence. For example, a photos\r\n(In excel the exactly how it should look like and in another photo i display a competencies. Like switch between them and we have another salaries).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mcGxw.png\r\n  [2]: https://i.stack.imgur.com/6v7mP.png\r\n\r\n**So here is the main question, how to store data for quarters and levels? I have a guess that I need to store quarters in the map. But then my Competency entity should look like:**\r\n\r\n    @Entity\r\n    @Builder(toBuilder = true)\r\n    @Audited\r\n    @TypeDef(\r\n            name = &quot;pgsql_enum&quot;,\r\n            typeClass = PostgreSQLEnumType.class\r\n    )\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @Setter\r\n    @Getter\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class Competency implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n        private UUID id;\r\n    \r\n        @NotNull\r\n        private String name;\r\n    \r\n        private Level level;\r\n    \r\n        @Type( type = &quot;json&quot; )\r\n        private HashMap&lt;String, Integer&gt; salaryCap;\r\n        \r\n        // Should I add year? because i need to have ability to change salary caps for the next years. \r\n    \r\n    }\r\n\r\n**Here is Level class**\r\n\r\n    @RequiredArgsConstructor\r\n    @Getter\r\n    public enum Level {\r\n    \r\n      TRAINEE(&quot;Trainee&quot;),\r\n      JUNIOR(&quot;Junior&quot;),\r\n      INTERMEDIATE(&quot;Intermediate&quot;),\r\n      SENIOR(&quot;Senior&quot;),\r\n      EXPERT(&quot;Expert&quot;),\r\n      TL(&quot;Tech lead&quot;);\r\n    \r\n      private final String name;\r\n    \r\n      public static final Map&lt;String, Level&gt; LEVELS = Stream.of(values())\r\n              .collect(Collectors.toMap(Level::getName, k -&gt; k));\r\n    \r\n    }\r\n\r\nIn the frontend, I have tsx/typescript files. So I need to know if is this a good approach for this case or if I have a better solution for it. \r\n","title":"How can I effectively store and manage data related to quarters in a year for competency levels?","body":"<p>I have an architectural question about how to properly store data for future use. In general, I have a list of competencies, for example, developer, tester, manager, etc., and each competency has a level, for example, junior, middle, or senior.</p>\n<p>We need to develop a page where there will be a competence switch, and when we click on a competency, we get the salary limit for each level of competence. For example, a photos\n(In excel the exactly how it should look like and in another photo i display a competencies. Like switch between them and we have another salaries).</p>\n<p><a href=\"https://i.stack.imgur.com/mcGxw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mcGxw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6v7mP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6v7mP.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>So here is the main question, how to store data for quarters and levels? I have a guess that I need to store quarters in the map. But then my Competency entity should look like:</strong></p>\n<pre><code>@Entity\n@Builder(toBuilder = true)\n@Audited\n@TypeDef(\n        name = &quot;pgsql_enum&quot;,\n        typeClass = PostgreSQLEnumType.class\n)\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Setter\n@Getter\n@EntityListeners(AuditingEntityListener.class)\npublic class Competency implements Serializable {\n\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    private UUID id;\n\n    @NotNull\n    private String name;\n\n    private Level level;\n\n    @Type( type = &quot;json&quot; )\n    private HashMap&lt;String, Integer&gt; salaryCap;\n    \n    // Should I add year? because i need to have ability to change salary caps for the next years. \n\n}\n</code></pre>\n<p><strong>Here is Level class</strong></p>\n<pre><code>@RequiredArgsConstructor\n@Getter\npublic enum Level {\n\n  TRAINEE(&quot;Trainee&quot;),\n  JUNIOR(&quot;Junior&quot;),\n  INTERMEDIATE(&quot;Intermediate&quot;),\n  SENIOR(&quot;Senior&quot;),\n  EXPERT(&quot;Expert&quot;),\n  TL(&quot;Tech lead&quot;);\n\n  private final String name;\n\n  public static final Map&lt;String, Level&gt; LEVELS = Stream.of(values())\n          .collect(Collectors.toMap(Level::getName, k -&gt; k));\n\n}\n</code></pre>\n<p>In the frontend, I have tsx/typescript files. So I need to know if is this a good approach for this case or if I have a better solution for it.</p>\n"},{"tags":["java","spring","spring-boot","jar"],"comments":[{"owner":{"account_id":263358,"reputation":253,"user_id":3358586,"display_name":"Nord"},"score":0,"creation_date":1581987767,"post_id":58981148,"comment_id":106612909,"body_markdown":"Either give permissions to the user to write to tmp or change the tmp directory with the jvm option -Djava.io.tmpdir=&lt;some dir with rw privileges&gt;.","body":"Either give permissions to the user to write to tmp or change the tmp directory with the jvm option -Djava.io.tmpdir=&lt;some dir with rw privileges&gt;."}],"answers":[{"tags":[],"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574360337,"creation_date":1574360337,"answer_id":58981352,"question_id":58981148,"body_markdown":"your application user probably does not have sufficient permissions to crate anything in `/tmp` directory ... see last message `Caused by: java.io.IOException: Read-only file system`","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>your application user probably does not have sufficient permissions to crate anything in <code>/tmp</code> directory ... see last message <code>Caused by: java.io.IOException: Read-only file system</code></p>\n"},{"tags":[],"owner":{"account_id":17040681,"reputation":61,"user_id":12328657,"display_name":"Dilip G"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574363825,"creation_date":1574363825,"answer_id":58982233,"question_id":58981148,"body_markdown":"Try any of the following: \r\n\r\n1) Change permissions of /tmp to give access to your user.\r\nchmod -R 777 /tmp\r\nmake you sure you run above command with sudo access (root)\r\n\r\n2) add the user who is to the sudo group. \r\n","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>Try any of the following: </p>\n\n<p>1) Change permissions of /tmp to give access to your user.\nchmod -R 777 /tmp\nmake you sure you run above command with sudo access (root)</p>\n\n<p>2) add the user who is to the sudo group. </p>\n"},{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619482515,"creation_date":1619482515,"answer_id":67275307,"question_id":58981148,"body_markdown":"For ones who are getting same exception while running from Intellij IDEA when providing env variables as part of run/debug configuration:\r\nplease look if &quot;Include parent environment variables&quot; is checked","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>For ones who are getting same exception while running from Intellij IDEA when providing env variables as part of run/debug configuration:\nplease look if &quot;Include parent environment variables&quot; is checked</p>\n"},{"tags":[],"owner":{"account_id":9641139,"reputation":616,"user_id":7364381,"display_name":"Sukhmeet Sethi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1638354747,"creation_date":1638354747,"answer_id":70182630,"question_id":58981148,"body_markdown":"In case you are getting this issue while deploying Spring boot application in Kubernetes, one of configuration worth checking is *readOnlyRootFilesystem*. It must be set to false until you are trying to intentionally run read only containers.\r\n\r\nIt can be used in deployment config as following:\r\n\r\n```yaml\r\ntemplate:\r\n    metadata:\r\n      labels:\r\n        app: hello\r\n    spec:\r\n      containers:\r\n      - name: hello\r\n        image: hello-world\r\n        securityContext:\r\n          runAsUser: 1000\r\n          readOnlyRootFilesystem: false ## this should not be true\r\n```","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>In case you are getting this issue while deploying Spring boot application in Kubernetes, one of configuration worth checking is <em>readOnlyRootFilesystem</em>. It must be set to false until you are trying to intentionally run read only containers.</p>\n<p>It can be used in deployment config as following:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>template:\n    metadata:\n      labels:\n        app: hello\n    spec:\n      containers:\n      - name: hello\n        image: hello-world\n        securityContext:\n          runAsUser: 1000\n          readOnlyRootFilesystem: false ## this should not be true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200013,"reputation":883,"user_id":1944636,"accept_rate":92,"display_name":"MikeKulls"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649139756,"creation_date":1649139756,"answer_id":71747101,"question_id":58981148,"body_markdown":"The most likely explanation for this is that the root filesystem is full. It was the issue for me.","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>The most likely explanation for this is that the root filesystem is full. It was the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":15567971,"reputation":11,"user_id":11231187,"display_name":"G. Ionut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666350132,"creation_date":1666350132,"answer_id":74152670,"question_id":58981148,"body_markdown":"One reason for this error is that you not include system environments variables. Maybe you try to define a new configuration with different system variables that are defined in your java IDE and you disable default environments variable.\r\n \r\n[![enter image description here][1]][1] \r\n\r\nPlease enable checkbox:\r\nRun/Debug Configuration -&gt; select your configuration -&gt; press on the environment variables -&gt; check Include system environment variables (as in the picture added above).\r\n\r\nKeep in mind that you need to check if you have added the path of the Temp file in the system variables.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kZbMj.png\r\n  [2]: https://i.stack.imgur.com/O9SwX.png","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>One reason for this error is that you not include system environments variables. Maybe you try to define a new configuration with different system variables that are defined in your java IDE and you disable default environments variable.</p>\n<p><a href=\"https://i.stack.imgur.com/kZbMj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kZbMj.png\" alt=\"enter image description here\" /></a></p>\n<p>Please enable checkbox:\nRun/Debug Configuration -&gt; select your configuration -&gt; press on the environment variables -&gt; check Include system environment variables (as in the picture added above).</p>\n<p>Keep in mind that you need to check if you have added the path of the Temp file in the system variables.\n<a href=\"https://i.stack.imgur.com/O9SwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O9SwX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19400038,"reputation":11,"user_id":14186808,"display_name":"Alexey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694001390,"creation_date":1694001390,"answer_id":77051645,"question_id":58981148,"body_markdown":"In case you are deploying to Kubernetes and you need to set `securityContext.readOnlyRootFilesystem` to `true` you can create tmp dir by mounting volume\r\n\r\n    template:\r\n        metadata:\r\n          labels:\r\n            app: hello\r\n        spec:\r\n          containers:\r\n            - name: hello\r\n              image: hello-world\r\n              volumeMounts:\r\n                - name: tmp\r\n                  mountPath: /tmp\r\n              securityContext:\r\n                readOnlyRootFilesystem: true\r\n          volumes:\r\n            - name: tmp\r\n              emptyDir: { }\r\n\r\n","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>In case you are deploying to Kubernetes and you need to set <code>securityContext.readOnlyRootFilesystem</code> to <code>true</code> you can create tmp dir by mounting volume</p>\n<pre><code>template:\n    metadata:\n      labels:\n        app: hello\n    spec:\n      containers:\n        - name: hello\n          image: hello-world\n          volumeMounts:\n            - name: tmp\n              mountPath: /tmp\n          securityContext:\n            readOnlyRootFilesystem: true\n      volumes:\n        - name: tmp\n          emptyDir: { }\n</code></pre>\n"}],"owner":{"account_id":13310072,"reputation":581,"user_id":9608620,"display_name":"Erent"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21896,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":7,"score":4,"last_activity_date":1694001390,"creation_date":1574359543,"question_id":58981148,"body_markdown":"Running my springboot web service java jar app on ubuntu server results in the error shown below, I have done a bit of research about the error however I cannot get a solution. The command I am using to run the jar file is \r\n\r\n```\r\njava -jar mySpringBootApp.jar\r\n```\r\n\r\n\r\n\r\n```\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat aacctt.payments.org.Application.main(Application.java:18) [classes!/:0.0.1-SNAPSHOT]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_191]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_191]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_191]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_191]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\r\n\tat org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:182) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:162) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\t... 16 common frames omitted\r\nCaused by: java.io.IOException: Read-only file system\r\n\tat java.io.UnixFileSystem.createFileExclusively(Native Method) ~[na:1.8.0_191]\r\n\tat java.io.File.createTempFile(File.java:2024) ~[na:1.8.0_191]\r\n\tat java.io.File.createTempFile(File.java:2070) ~[na:1.8.0_191]\r\n\tat org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:173) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\r\n\t... 19 common frames omitted\r\n\r\n```","title":"Unable to create tempDir. java.io.tmpdir is set to /tmp","body":"<p>Running my springboot web service java jar app on ubuntu server results in the error shown below, I have done a bit of research about the error however I cannot get a solution. The command I am using to run the jar file is </p>\n\n<pre><code>java -jar mySpringBootApp.jar\n</code></pre>\n\n<pre><code>\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:157) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at aacctt.payments.org.Application.main(Application.java:18) [classes!/:0.0.1-SNAPSHOT]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_191]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_191]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_191]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_191]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [ mySpringBootApp-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\n    at org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:182) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:162) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    ... 16 common frames omitted\nCaused by: java.io.IOException: Read-only file system\n    at java.io.UnixFileSystem.createFileExclusively(Native Method) ~[na:1.8.0_191]\n    at java.io.File.createTempFile(File.java:2024) ~[na:1.8.0_191]\n    at java.io.File.createTempFile(File.java:2070) ~[na:1.8.0_191]\n    at org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:173) ~[spring-boot-2.1.1.RELEASE.jar!/:2.1.1.RELEASE]\n    ... 19 common frames omitted\n\n</code></pre>\n"},{"tags":["java","android","kotlin","firebase-realtime-database"],"owner":{"account_id":29379029,"reputation":11,"user_id":22509948,"display_name":"Elisha Prashanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694001341,"creation_date":1694001341,"question_id":77051639,"body_markdown":"I’m beginner level coder I’m a trying to build an application to take video from the YouTube put it on the recycler view and on click plays the video in the exoplayer. And also update the recycler view when a new video is uploaded. I’ll be adding new video regularly and needs to be updated inside the app. \r\n\r\nPlease help!!!\r\n\r\nI’ve tried using exoplayer but I didn’t knew it was migrated until now (like I said I am newbie at this) so please help me!","title":"Can I use YouTube video url to play it in exoplayer and update it everyday","body":"<p>I’m beginner level coder I’m a trying to build an application to take video from the YouTube put it on the recycler view and on click plays the video in the exoplayer. And also update the recycler view when a new video is uploaded. I’ll be adding new video regularly and needs to be updated inside the app.</p>\n<p>Please help!!!</p>\n<p>I’ve tried using exoplayer but I didn’t knew it was migrated until now (like I said I am newbie at this) so please help me!</p>\n"},{"tags":["java","maven","jar","properties"],"answers":[{"tags":[],"owner":{"account_id":328273,"reputation":14391,"user_id":651140,"display_name":"Andrzej Jozwik"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1401691966,"creation_date":1401691966,"answer_id":23988772,"question_id":23987633,"body_markdown":"Add file in the same package (folder) in `src/main/resources` instead of `src/main/java` or see my answer [With maven - clean package, xml source files are not included in classpath][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9800196/651140","title":"Maven add properties file to jar file","body":"<p>Add file in the same package (folder) in <code>src/main/resources</code> instead of <code>src/main/java</code> or see my answer <a href=\"https://stackoverflow.com/a/9800196/651140\">With maven - clean package, xml source files are not included in classpath</a></p>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1424363466,"creation_date":1424363466,"answer_id":28611662,"question_id":23987633,"body_markdown":"I did it this way and function perfectly.\r\n\r\n        &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.6&lt;/source&gt;\r\n                    &lt;target&gt;1.6&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;","title":"Maven add properties file to jar file","body":"<p>I did it this way and function perfectly.</p>\n\n<pre><code>    &lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":2892776,"reputation":3221,"user_id":2481153,"display_name":"HungNM2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694000685,"creation_date":1694000685,"answer_id":77051568,"question_id":23987633,"body_markdown":"    &lt;build&gt;\r\n    \t&lt;resources&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n    \t\t\t\t&lt;include&gt;**/*.yaml&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t\t&lt;include&gt;**/*&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t&lt;/resources&gt;\r\n    \r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;!-- java 8 = 1.8 --&gt;\r\n    \t\t\t\t&lt;!-- java 11 = 11 --&gt;\r\n    \t\t\t\t&lt;!-- java 17 = 17 --&gt;\r\n    \t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven add properties file to jar file","body":"<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n                &lt;include&gt;**/*.yaml&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;!-- java 8 = 1.8 --&gt;\n                &lt;!-- java 11 = 11 --&gt;\n                &lt;!-- java 17 = 17 --&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt;\n\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":273516,"reputation":856,"user_id":1409362,"accept_rate":39,"display_name":"AKZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53223,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":23988772,"answer_count":3,"score":11,"last_activity_date":1694000685,"creation_date":1401685546,"question_id":23987633,"body_markdown":"I am using the following plugin configuration to make a jar file and I want to include non-java src files in the same place in the output jar as described [here][1].\r\n\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;   \r\n\t\t\t\t&lt;!-- include non-java src files in the same place in the output jar --&gt;\r\n\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t&lt;/resources&gt;                                     \r\n            &lt;/configuration&gt;  \r\n\r\nThe above does not work and neither does the following:\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;!-- include non-java src files in the same place in the output jar --&gt;\r\n\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t&lt;/resources&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;        \r\n    \r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;                    \r\n            &lt;/configuration&gt;                \r\n        &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4509309/in-maven-how-can-i-include-non-java-src-files-in-the-same-place-in-the-output-ja","title":"Maven add properties file to jar file","body":"<p>I am using the following plugin configuration to make a jar file and I want to include non-java src files in the same place in the output jar as described <a href=\"https://stackoverflow.com/questions/4509309/in-maven-how-can-i-include-non-java-src-files-in-the-same-place-in-the-output-ja\">here</a>.</p>\n\n<pre><code>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;${java.version}&lt;/source&gt;\n            &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n            &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n            &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;   \n            &lt;!-- include non-java src files in the same place in the output jar --&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/java&lt;/directory&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*.properties&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;                                     \n        &lt;/configuration&gt;  \n</code></pre>\n\n<p>The above does not work and neither does the following:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;!-- include non-java src files in the same place in the output jar --&gt;\n            &lt;resources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/java&lt;/directory&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*.properties&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n            &lt;/resources&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;        \n\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;${java.version}&lt;/source&gt;\n            &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n            &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n            &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;                    \n        &lt;/configuration&gt;                \n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","alarm","lockscreen"],"owner":{"account_id":7993567,"reputation":23,"user_id":6030693,"display_name":"Hossam Maarek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694000424,"creation_date":1694000424,"question_id":77051547,"body_markdown":"I have an android alarm app that was working nice up to SDK 32. When I set the targetSdkVersion to 33 now when the alarm fires, and the app is in the background, system is locked, the Alarm sound is audible but the app cannot show on screen (screen keeps locked). The activity that should have been started with the AlarmReceiver is not even created. That activity is used to **dismiss** the alarm and display some other info to the user (*only when the screen is locked*).\r\nany one can help please? code snippets are below\r\n\r\nAndroidManifest.xml:\r\n```\r\n&lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\r\n&lt;!--\t&lt;uses-permission android:name=&quot;&quot;--&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.USE_FULL_SCREEN_INTENT&quot;/&gt;\r\n\r\n\t&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n```\r\n\r\nAlarmReciver.java:\r\n```\r\nif (isDeviceLocked(context))\r\n        {\r\n            Intent detailsIntent = new Intent(context, AlarmDetails.class);\r\n\r\n//do some extra stuff like setting text for the intent...\r\n//.....\r\n//...\r\ndetailsIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK |Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            detailsIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            context.startActivity(detailsIntent); //this doesn&#39;t even call create in the activity!!!\r\n}\r\nelse\r\n{ \r\n//display notifications only....\r\n}\r\n```\r\n\r\nfunction isDeviceLocked checks the status of the lock screen as documentation suggested (works very well).\r\n\r\nAppreciate any help I can get. This is wasting my time so far and I have to release against SDK 33 as per Mr. Google","title":"Alarm App not able to start Activity when Alarm fires and app is in background in SDK 33 and screen is locked","body":"<p>I have an android alarm app that was working nice up to SDK 32. When I set the targetSdkVersion to 33 now when the alarm fires, and the app is in the background, system is locked, the Alarm sound is audible but the app cannot show on screen (screen keeps locked). The activity that should have been started with the AlarmReceiver is not even created. That activity is used to <strong>dismiss</strong> the alarm and display some other info to the user (<em>only when the screen is locked</em>).\nany one can help please? code snippets are below</p>\n<p>AndroidManifest.xml:</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n&lt;!--    &lt;uses-permission android:name=&quot;&quot;--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USE_FULL_SCREEN_INTENT&quot;/&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n</code></pre>\n<p>AlarmReciver.java:</p>\n<pre><code>if (isDeviceLocked(context))\n        {\n            Intent detailsIntent = new Intent(context, AlarmDetails.class);\n\n//do some extra stuff like setting text for the intent...\n//.....\n//...\ndetailsIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK |Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            detailsIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            context.startActivity(detailsIntent); //this doesn't even call create in the activity!!!\n}\nelse\n{ \n//display notifications only....\n}\n</code></pre>\n<p>function isDeviceLocked checks the status of the lock screen as documentation suggested (works very well).</p>\n<p>Appreciate any help I can get. This is wasting my time so far and I have to release against SDK 33 as per Mr. Google</p>\n"},{"tags":["java","android","okhttp"],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570496201,"creation_date":1570496201,"answer_id":58278874,"question_id":58276056,"body_markdown":"Use `newBuilder(String)` to resolve relative links.\r\n\r\n     HttpUrl.get(&quot;https://example.com/a.html&quot;)\r\n         .newBuilder(&quot;b.html&quot;)\r\n\r\n ","title":"HttpUrl newBuilder(String) usage","body":"<p>Use <code>newBuilder(String)</code> to resolve relative links.</p>\n\n<pre><code> HttpUrl.get(\"https://example.com/a.html\")\n     .newBuilder(\"b.html\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4894139,"reputation":28946,"user_id":3944322,"accept_rate":75,"display_name":"Stef"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578915384,"creation_date":1578915384,"answer_id":59715876,"question_id":58276056,"body_markdown":"Use [`parse`][1] to create a new builder from an existing well-formed URL string:\r\n\r\n    HttpUrl.Builder urlBuilder = HttpUrl.parse(savedUrl).newBuilder();\r\n\r\nHere, you can add query parameters etc. and then call `urlBuilder.build()` to get the final `HttpUrl`.\r\n\r\n  [1]: https://square.github.io/okhttp/3.x/okhttp/okhttp3/HttpUrl.html#parse-java.lang.String-","title":"HttpUrl newBuilder(String) usage","body":"<p>Use <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/HttpUrl.html#parse-java.lang.String-\" rel=\"nofollow noreferrer\"><code>parse</code></a> to create a new builder from an existing well-formed URL string:</p>\n\n<pre><code>HttpUrl.Builder urlBuilder = HttpUrl.parse(savedUrl).newBuilder();\n</code></pre>\n\n<p>Here, you can add query parameters etc. and then call <code>urlBuilder.build()</code> to get the final <code>HttpUrl</code>.</p>\n"},{"tags":[],"owner":{"account_id":23631176,"reputation":1,"user_id":17662887,"display_name":"arkuzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694000341,"creation_date":1694000341,"answer_id":77051538,"question_id":58276056,"body_markdown":"Okhttp v3 provides String extension for Kotlin, so with Kotlin creating builder from URL string is as easy as:\r\n```kotlin\r\nsavedUrl.toHttpUrl().newBuilder()\r\n```\r\n","title":"HttpUrl newBuilder(String) usage","body":"<p>Okhttp v3 provides String extension for Kotlin, so with Kotlin creating builder from URL string is as easy as:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>savedUrl.toHttpUrl().newBuilder()\n</code></pre>\n"}],"owner":{"account_id":6593338,"reputation":737,"user_id":5093897,"display_name":"Andriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2621,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1694000341,"creation_date":1570476909,"question_id":58276056,"body_markdown":"To create new HttpUrl.Builder instance from existing URL I use [HttpUrl.newBuilder(String)][1]:\r\n\r\n    new HttpUrl().build().newBuilder(savedUrl)\r\n\r\nwhere savedUrl is a String containing well-formed URL.\r\n\r\nThe above fragment crashes in HttpUrl constructor because of scheme is undefined. As a workaround I use existing HttpUrl instance - less than ideal.\r\n\r\nThe questions are: \r\n\r\n 1. is newBuilder(String) the right tool for the job?\r\n 2. how newBuilder(String) should be used properly?\r\n\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-http-url/new-builder/","title":"HttpUrl newBuilder(String) usage","body":"<p>To create new HttpUrl.Builder instance from existing URL I use <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-http-url/new-builder/\" rel=\"noreferrer\">HttpUrl.newBuilder(String)</a>:</p>\n\n<pre><code>new HttpUrl().build().newBuilder(savedUrl)\n</code></pre>\n\n<p>where savedUrl is a String containing well-formed URL.</p>\n\n<p>The above fragment crashes in HttpUrl constructor because of scheme is undefined. As a workaround I use existing HttpUrl instance - less than ideal.</p>\n\n<p>The questions are: </p>\n\n<ol>\n<li>is newBuilder(String) the right tool for the job?</li>\n<li>how newBuilder(String) should be used properly?</li>\n</ol>\n"},{"tags":["java","spring","annotations","lombok"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692628359,"post_id":76946275,"comment_id":135645807,"body_markdown":"You need to configure the [Lombok compiler plugin](https://projectlombok.org/setup/maven) in that POM file too","body":"You need to configure the <a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">Lombok compiler plugin</a> in that POM file too"},{"owner":{"account_id":29010985,"reputation":151,"user_id":22222503,"display_name":"Yana Aziamblouskaya"},"score":0,"creation_date":1692634739,"post_id":76946275,"comment_id":135647265,"body_markdown":"I have lombok dependency and plugin in pom.xml,  but it doesn&#39;t work","body":"I have lombok dependency and plugin in pom.xml,  but it doesn&#39;t work"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1692683903,"post_id":76946275,"comment_id":135653490,"body_markdown":"Does this answer your question? [MapStruct and Lombok not working together](https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together\">MapStruct and Lombok not working together</a>"},{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1694000019,"post_id":76946275,"comment_id":135832895,"body_markdown":"where are you getting the &quot;issue&quot;?","body":"where are you getting the &quot;issue&quot;?"}],"answers":[{"tags":[],"owner":{"display_name":"user22423960"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692629952,"creation_date":1692629952,"answer_id":76946524,"question_id":76946275,"body_markdown":"I&#39;m not sure if your wording is slightly off here but when you say &quot;variable usersRepository not initialized in the default constructor&quot;, this implies you&#39;re creating an instance of UsersDetailsService by calling an empty constructor (no arguments).\r\n\r\nIf this is the case then usersRepository will be null since it is only initialized in the constructor created from @RequiredArgsConstructor.\r\n\r\nIf you are expecting the constructor created from @RequiredArgsConstructor to be called automatically through dependency injection and usersRepository is still null then check that you are creating a UsersRepository bean that can be injected. Annotating UsersRepository with @Repository will accomplish this if you are using a JPA repository.\r\n\r\nAlso, if you are using a JPA repository then ensure you have the @EnableJpaRepositories annotation in your app config, that points to the base package of your repositories.","title":"variable not initialized in the default constructor Lombok Spring","body":"<p>I'm not sure if your wording is slightly off here but when you say &quot;variable usersRepository not initialized in the default constructor&quot;, this implies you're creating an instance of UsersDetailsService by calling an empty constructor (no arguments).</p>\n<p>If this is the case then usersRepository will be null since it is only initialized in the constructor created from @RequiredArgsConstructor.</p>\n<p>If you are expecting the constructor created from @RequiredArgsConstructor to be called automatically through dependency injection and usersRepository is still null then check that you are creating a UsersRepository bean that can be injected. Annotating UsersRepository with @Repository will accomplish this if you are using a JPA repository.</p>\n<p>Also, if you are using a JPA repository then ensure you have the @EnableJpaRepositories annotation in your app config, that points to the base package of your repositories.</p>\n"},{"tags":[],"owner":{"account_id":1010706,"reputation":1264,"user_id":1023341,"display_name":"gkephorus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693999864,"creation_date":1693999864,"answer_id":77051483,"question_id":76946275,"body_markdown":"I bumped into this as well. I had to add the Maven artifact lombok-mapstruct-binding to the maven-compiler-plugin like so:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t&lt;path&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    \t\t\t&lt;/path&gt;\r\n    \t\t\t&lt;path&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t&lt;/path&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t&lt;compilerArgs&gt;\r\n    \t\t\t&lt;arg&gt;-parameters&lt;/arg&gt;\r\n    \t\t&lt;/compilerArgs&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis solved the issue for me. I read in the [changelog of lombok][1] I should have done this ever since version v1.18.16 (January 28th, 2021). I was just lucky I guess.\r\n\r\n\r\n  [1]: https://projectlombok.org/changelog","title":"variable not initialized in the default constructor Lombok Spring","body":"<p>I bumped into this as well. I had to add the Maven artifact lombok-mapstruct-binding to the maven-compiler-plugin like so:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                &lt;version&gt;0.2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/annotationProcessorPaths&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;-parameters&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This solved the issue for me. I read in the <a href=\"https://projectlombok.org/changelog\" rel=\"nofollow noreferrer\">changelog of lombok</a> I should have done this ever since version v1.18.16 (January 28th, 2021). I was just lucky I guess.</p>\n"}],"owner":{"account_id":29010985,"reputation":151,"user_id":22222503,"display_name":"Yana Aziamblouskaya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693999864,"creation_date":1692628224,"question_id":76946275,"body_markdown":"There is an issue **variable usersRepository not initialized in the default constructor** called in this class\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UsersDetailsService implements UserDetailsService {\r\n\r\n    private final UsersRepository usersRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;User&gt; user = usersRepository.findByEmail(username);\r\n\r\n        if(user.isEmpty())\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n\r\n        return new UsersDetails(user.get());\r\n    }\r\n}\r\n```\r\n\r\nAlso I have problems with all Lombok annotations during compilation my program. I think there is a problem with some versions. **I have already installed and updated lombok plugin, but the problem still hasn&#39;t solved**\r\n\r\nThere is my **pom.xml file**\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;CharityOrganizationSpringApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;CharityOrganizationSpringApp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;modelmapper.version&gt;3.0.0&lt;/modelmapper.version&gt;\r\n\t\t&lt;java-jwt.version&gt;4.4.0&lt;/java-jwt.version&gt;\r\n\t\t&lt;mapstruct.version&gt;1.5.3.final&lt;/mapstruct.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${modelmapper.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${java-jwt.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;16&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;16&lt;/target&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n ```\r\n\r\n\r\n\r\n","title":"variable not initialized in the default constructor Lombok Spring","body":"<p>There is an issue <strong>variable usersRepository not initialized in the default constructor</strong> called in this class</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UsersDetailsService implements UserDetailsService {\n\n    private final UsersRepository usersRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = usersRepository.findByEmail(username);\n\n        if(user.isEmpty())\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n\n        return new UsersDetails(user.get());\n    }\n}\n</code></pre>\n<p>Also I have problems with all Lombok annotations during compilation my program. I think there is a problem with some versions. <strong>I have already installed and updated lombok plugin, but the problem still hasn't solved</strong></p>\n<p>There is my <strong>pom.xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;CharityOrganizationSpringApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CharityOrganizationSpringApp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;modelmapper.version&gt;3.0.0&lt;/modelmapper.version&gt;\n        &lt;java-jwt.version&gt;4.4.0&lt;/java-jwt.version&gt;\n        &lt;mapstruct.version&gt;1.5.3.final&lt;/mapstruct.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;${modelmapper.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;${java-jwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693998126,"creation_date":1693993769,"answer_id":77050826,"question_id":77050300,"body_markdown":"The way I see it, an &quot;orthogonal concern&quot; is not a specifically Spring concept. I think the documentation here uses the idiom as meaning that the priorities determined when loading beans are distinct from the order in which beans are loaded by the Spring context. From http://veryfancy.net/blog/orthogonal-concerns/ : \r\n\r\n&gt; When a programmer refers to two factors as “orthogonal concerns”, it means that a change with regard to one factor doesn’t affect the other. We use the term “orthogonal” to mean something like “independent” or “unrelated”.\r\n\r\nWhat this means is that using the `@Order` annotation on beans will change the priority in which beans are used, and not the literal order in which they are loaded by the Spring framework.","title":"What&#39;s the orthogonal concern in Spring Framework?","body":"<p>The way I see it, an &quot;orthogonal concern&quot; is not a specifically Spring concept. I think the documentation here uses the idiom as meaning that the priorities determined when loading beans are distinct from the order in which beans are loaded by the Spring context. From <a href=\"http://veryfancy.net/blog/orthogonal-concerns/\" rel=\"nofollow noreferrer\">http://veryfancy.net/blog/orthogonal-concerns/</a> :</p>\n<blockquote>\n<p>When a programmer refers to two factors as “orthogonal concerns”, it means that a change with regard to one factor doesn’t affect the other. We use the term “orthogonal” to mean something like “independent” or “unrelated”.</p>\n</blockquote>\n<p>What this means is that using the <code>@Order</code> annotation on beans will change the priority in which beans are used, and not the literal order in which they are loaded by the Spring framework.</p>\n"},{"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693999728,"creation_date":1693999728,"answer_id":77051465,"question_id":77050300,"body_markdown":"As [freecodecamp][1] points out orthogonal in software means that &quot;a change in one does not affect the other&quot;.\r\n\r\nThus orthogonal is used here to mean that if the &quot;Order&quot; of the beans in the list is changed it does not affect the order in which they are instantiated and vice versa.\r\n\r\nFor further explanation on @Order see [here][2]\r\n\r\n\r\n  [1]: https://www.freecodecamp.org/news/orthogonality-in-software-engineering/#:~:text=In%20software%20design%2C%20two%20components,also%20cannot%20share%20global%20data.\r\n  [2]: https://www.baeldung.com/spring-order","title":"What&#39;s the orthogonal concern in Spring Framework?","body":"<p>As <a href=\"https://www.freecodecamp.org/news/orthogonality-in-software-engineering/#:%7E:text=In%20software%20design%2C%20two%20components,also%20cannot%20share%20global%20data.\" rel=\"nofollow noreferrer\">freecodecamp</a> points out orthogonal in software means that &quot;a change in one does not affect the other&quot;.</p>\n<p>Thus orthogonal is used here to mean that if the &quot;Order&quot; of the beans in the list is changed it does not affect the order in which they are instantiated and vice versa.</p>\n<p>For further explanation on @Order see <a href=\"https://www.baeldung.com/spring-order\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":19439755,"reputation":394,"user_id":14218416,"display_name":"OnlyWick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77050826,"answer_count":2,"score":1,"last_activity_date":1693999728,"creation_date":1693989626,"question_id":77050300,"body_markdown":"[Documentation is here!](https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired.html)\r\n\r\n&gt; You can declare the @Order annotation at the target class level and on @Bean methods, potentially for individual bean definitions (in case of multiple definitions that use the same bean class). @Order values may influence priorities at injection points, but be aware that they do not influence singleton startup order, which is an orthogonal concern determined by dependency relationships and @DependsOn declarations.\r\n\r\nI think I understand &quot;orthogonal concern&quot;, `Changing A does not change B`, just like Functional Programming, such as pure function.\r\n\r\nI just started learning the Spring framework, so I&#39;m not very familiar with some concepts.\r\n\r\nI have these ideas about orthogonal concerns, These ideas could be completely wrong, and I would appreciate it if you could point out my mistakes and let me know what concepts I might be missing.\r\n\r\nIf Bean B depends on Bean A, will Bean B be affected if Bean A undergoes changes? I think Bean B will be affect, but (I think) this goes against orthogonal concerns.\r\n\r\nOr if they have a dependency relationship, are they considered as a whole? If that&#39;s the case, then it wouldn&#39;t violate orthogonal concerns.\r\n\r\nIt would be even better if you could provide some examples!\r\n","title":"What&#39;s the orthogonal concern in Spring Framework?","body":"<p><a href=\"https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired.html\" rel=\"nofollow noreferrer\">Documentation is here!</a></p>\n<blockquote>\n<p>You can declare the @Order annotation at the target class level and on @Bean methods, potentially for individual bean definitions (in case of multiple definitions that use the same bean class). @Order values may influence priorities at injection points, but be aware that they do not influence singleton startup order, which is an orthogonal concern determined by dependency relationships and @DependsOn declarations.</p>\n</blockquote>\n<p>I think I understand &quot;orthogonal concern&quot;, <code>Changing A does not change B</code>, just like Functional Programming, such as pure function.</p>\n<p>I just started learning the Spring framework, so I'm not very familiar with some concepts.</p>\n<p>I have these ideas about orthogonal concerns, These ideas could be completely wrong, and I would appreciate it if you could point out my mistakes and let me know what concepts I might be missing.</p>\n<p>If Bean B depends on Bean A, will Bean B be affected if Bean A undergoes changes? I think Bean B will be affect, but (I think) this goes against orthogonal concerns.</p>\n<p>Or if they have a dependency relationship, are they considered as a whole? If that's the case, then it wouldn't violate orthogonal concerns.</p>\n<p>It would be even better if you could provide some examples!</p>\n"},{"tags":["java","xml","memory"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1693987938,"post_id":77049917,"comment_id":135830506,"body_markdown":"I doubt you&#39;ll be generating dynamic XSLT. Much more likely the XSLT will be static, and that you will merge some dynamic XML with the static XSLT to create HTML","body":"I doubt you&#39;ll be generating dynamic XSLT. Much more likely the XSLT will be static, and that you will merge some dynamic XML with the static XSLT to create HTML"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1693988053,"post_id":77049917,"comment_id":135830539,"body_markdown":"Have you considered using [freemarker](https://freemarker.apache.org/index.html) instead of XSLT? Much simpler to understand, and less verbose to maintain","body":"Have you considered using <a href=\"https://freemarker.apache.org/index.html\" rel=\"nofollow noreferrer\">freemarker</a> instead of XSLT? Much simpler to understand, and less verbose to maintain"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1694074080,"post_id":77049917,"comment_id":135844025,"body_markdown":"For a &quot;web application with many users&quot;, if the same XSLT stylesheet is being used again and again, then it&#39;s important to compile it once at start-of-day and reuse the compiled version. You approach doesn&#39;t seem to achieve that.","body":"For a &quot;web application with many users&quot;, if the same XSLT stylesheet is being used again and again, then it&#39;s important to compile it once at start-of-day and reuse the compiled version. You approach doesn&#39;t seem to achieve that."}],"answers":[{"tags":[],"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693999439,"creation_date":1693996407,"answer_id":77051096,"question_id":77049917,"body_markdown":"As I understand you have an XML document containing some data alongside a BASE64 encoded XSLT which should be used to format that data.\r\n\r\nThen this should do the job:\r\n```\r\n@Test\r\nbyte [] test() throws Exception {\r\n    byte[] incoming = ...; // Your XML document\r\n    \r\n    Document doc;\r\n    try(ByteArrayInputStream is = new ByteArrayInputStream(incoming)) {\r\n        doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(is);\r\n    }\r\n    \r\n    String encodedXslt = doc....getTextContent(); // Somehow fetch the encoded XSLT from the DOM.\r\n    byte[] xslt = Base64.getDecoder().decode(encodedXslt);\r\n    \r\n    Templates templates;\r\n    try(ByteArrayInputStream is = new ByteArrayInputStream(xslt)) {\r\n        templates = TransformerFactory.newInstance().newTemplates(new StreamSource(is));\r\n    }\r\n    \r\n    try(ByteArrayOutputStream os = new ByteArrayOutputStream()) {\r\n        templates.newTransformer().transform(new DOMSource(doc), new StreamResult(os));\r\n        return os.toByteArray(); // The HTML document\r\n    }\r\n}\r\n```\r\nCompletely in memory, but be aware that someone may use the XSLT to call Java code from your application.","title":"XML operations in memory","body":"<p>As I understand you have an XML document containing some data alongside a BASE64 encoded XSLT which should be used to format that data.</p>\n<p>Then this should do the job:</p>\n<pre><code>@Test\nbyte [] test() throws Exception {\n    byte[] incoming = ...; // Your XML document\n    \n    Document doc;\n    try(ByteArrayInputStream is = new ByteArrayInputStream(incoming)) {\n        doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(is);\n    }\n    \n    String encodedXslt = doc....getTextContent(); // Somehow fetch the encoded XSLT from the DOM.\n    byte[] xslt = Base64.getDecoder().decode(encodedXslt);\n    \n    Templates templates;\n    try(ByteArrayInputStream is = new ByteArrayInputStream(xslt)) {\n        templates = TransformerFactory.newInstance().newTemplates(new StreamSource(is));\n    }\n    \n    try(ByteArrayOutputStream os = new ByteArrayOutputStream()) {\n        templates.newTransformer().transform(new DOMSource(doc), new StreamResult(os));\n        return os.toByteArray(); // The HTML document\n    }\n}\n</code></pre>\n<p>Completely in memory, but be aware that someone may use the XSLT to call Java code from your application.</p>\n"}],"owner":{"account_id":24655790,"reputation":11,"user_id":18552475,"display_name":"neylersin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693999439,"creation_date":1693986241,"question_id":77049917,"body_markdown":"I want to process in memory to show a file with an invoice XML to users. I will generate XSLT from this XML file (embedded in XSLT as base64). With this XSLT, I will show HTML production to the user. After the user views it, it will be removed from memory.\r\n\r\nWhat is the best way to do this and how to do it?\r\n\r\nDoes it make sense to do these operations in memory for a web application with many users? If not, I am open to another method suggestion, but I still wonder how to do these operations in memory with XML.","title":"XML operations in memory","body":"<p>I want to process in memory to show a file with an invoice XML to users. I will generate XSLT from this XML file (embedded in XSLT as base64). With this XSLT, I will show HTML production to the user. After the user views it, it will be removed from memory.</p>\n<p>What is the best way to do this and how to do it?</p>\n<p>Does it make sense to do these operations in memory for a web application with many users? If not, I am open to another method suggestion, but I still wonder how to do these operations in memory with XML.</p>\n"},{"tags":["java","sql-server","spring-boot","kerberos","integrated-security"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1694004326,"post_id":77051339,"comment_id":135833857,"body_markdown":"Have you tried using `userName=user@REALM;` as per the [Kerberos connection using principal name, password, and realm](https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server#kerberos-connection-using-principal-name-password-and-realm) documentation?","body":"Have you tried using <code>userName=user@REALM;</code> as per the <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server#kerberos-connection-using-principal-name-password-and-realm\" rel=\"nofollow noreferrer\">Kerberos connection using principal name, password, and realm</a> documentation?"},{"owner":{"account_id":15303853,"reputation":93,"user_id":11041310,"display_name":"santal"},"score":0,"creation_date":1694010245,"post_id":77051339,"comment_id":135835341,"body_markdown":"Yes I have tried:\nCannot login with Kerberos principal user@REALM, check your credentials. Kerberos Login failed: Integrated authentication failed.","body":"Yes I have tried: Cannot login with Kerberos principal user@REALM, check your credentials. Kerberos Login failed: Integrated authentication failed."}],"owner":{"account_id":15303853,"reputation":93,"user_id":11041310,"display_name":"santal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694007413,"answer_count":0,"score":0,"last_activity_date":1693998693,"creation_date":1693998693,"question_id":77051339,"body_markdown":"I&#39;m trying to connect to sql server using integrated security with JavaKerberos authenticationScheme. It&#39;s because we want to connect from linux docker to ms sql.\r\n\r\nI read the documentation from: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server?view=sql-server-ver16&amp;redirectedfrom=MSDN\r\n\r\nI created new java project (spring-boot) and my code looks like this:\r\n```\r\n@SpringBootApplication\r\npublic class TestApplication implements CommandLineRunner {\r\n    private static Logger LOG = LoggerFactory\r\n            .getLogger(TestApplication.class);\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TestApplication.class, args);\r\n    }\r\n    @Override\r\n    public void run(String... args) throws SQLException {\r\n        DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\r\n        String dbURL = &quot;jdbc:sqlserver://xxx.ad.xxx.net;integratedSecurity=true;databaseName=xxxx;trustServerCertificate=true;&quot; +\r\n                &quot;authenticationScheme=JavaKerberos;userName=xxx;password=xxx;realm=REALM&quot;;\r\n        Connection conn = DriverManager.getConnection(dbURL);\r\n        if (conn != null) {\r\n            System.out.println(&quot;Connected&quot;);\r\n            Statement statement = conn.createStatement();\r\n            ResultSet rs = statement.executeQuery(&quot;select Id from xxx.Test&quot;);\r\n            while(rs.next())\r\n            {\r\n                System.out.println(&quot;id = &quot; + rs.getString(&quot;Id&quot;));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn documentation I can see, that I have to run my application with args like:\r\n```\r\nJava.exe -Djava.security.auth.login.config=SQLJDBCDriver.conf -Djava.security.krb5.conf=krb5.ini &lt;APPLICATION_NAME&gt;\r\n```\r\n\r\nBut I have an error:\r\n```\r\nPS C:\\xxx\\target&gt; Java.exe -Djava.security.auth.login.config=SQLJDBCDriver.conf -Djava.security.krb5.conf=krb5.ini MyAPP.jar\r\nError: Could not find or load main class .security.auth.login.config=SQLJDBCDriver.conf\r\nCaused by: java.lang.ClassNotFoundException: /security/auth/login/config=SQLJDBCDriver/conf\r\n```\r\n\r\nHow can I fix it?","title":"Connecting to SqlServer using integrated security and java kerberos","body":"<p>I'm trying to connect to sql server using integrated security with JavaKerberos authenticationScheme. It's because we want to connect from linux docker to ms sql.</p>\n<p>I read the documentation from: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server?view=sql-server-ver16&amp;redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server?view=sql-server-ver16&amp;redirectedfrom=MSDN</a></p>\n<p>I created new java project (spring-boot) and my code looks like this:</p>\n<pre><code>@SpringBootApplication\npublic class TestApplication implements CommandLineRunner {\n    private static Logger LOG = LoggerFactory\n            .getLogger(TestApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n    @Override\n    public void run(String... args) throws SQLException {\n        DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\n        String dbURL = &quot;jdbc:sqlserver://xxx.ad.xxx.net;integratedSecurity=true;databaseName=xxxx;trustServerCertificate=true;&quot; +\n                &quot;authenticationScheme=JavaKerberos;userName=xxx;password=xxx;realm=REALM&quot;;\n        Connection conn = DriverManager.getConnection(dbURL);\n        if (conn != null) {\n            System.out.println(&quot;Connected&quot;);\n            Statement statement = conn.createStatement();\n            ResultSet rs = statement.executeQuery(&quot;select Id from xxx.Test&quot;);\n            while(rs.next())\n            {\n                System.out.println(&quot;id = &quot; + rs.getString(&quot;Id&quot;));\n            }\n        }\n    }\n}\n</code></pre>\n<p>In documentation I can see, that I have to run my application with args like:</p>\n<pre><code>Java.exe -Djava.security.auth.login.config=SQLJDBCDriver.conf -Djava.security.krb5.conf=krb5.ini &lt;APPLICATION_NAME&gt;\n</code></pre>\n<p>But I have an error:</p>\n<pre><code>PS C:\\xxx\\target&gt; Java.exe -Djava.security.auth.login.config=SQLJDBCDriver.conf -Djava.security.krb5.conf=krb5.ini MyAPP.jar\nError: Could not find or load main class .security.auth.login.config=SQLJDBCDriver.conf\nCaused by: java.lang.ClassNotFoundException: /security/auth/login/config=SQLJDBCDriver/conf\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694022879,"post_id":77051324,"comment_id":135838040,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29378678,"reputation":1,"user_id":22509663,"display_name":"Jes&#250;s Morilla Ib&#225;&#241;ez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693998542,"creation_date":1693998542,"question_id":77051324,"body_markdown":"I&#39;m working on a project using Duo Navigation Drawer, and I want the edges of the Linear Layout to be rounded when the menu is opened. How can I achieve this?\r\n\r\nI tried with shape on the linear layout but i have an image in the background","title":"Styling corners Duo drawer navigation menu in android","body":"<p>I'm working on a project using Duo Navigation Drawer, and I want the edges of the Linear Layout to be rounded when the menu is opened. How can I achieve this?</p>\n<p>I tried with shape on the linear layout but i have an image in the background</p>\n"},{"tags":["javascript","java","websocket","java-websocket"],"comments":[{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":2,"creation_date":1489520926,"post_id":42779658,"comment_id":72705014,"body_markdown":"To keep the session active, use a timer to send data periodically.  The WebSocket protocol defines a ping/pong mechanism, but the WebSocket API in HTML5 does not expose direct access to that mechanism, though web browsers may handle it internally in their WebSocket implementation.","body":"To keep the session active, use a timer to send data periodically.  The WebSocket protocol defines a ping/pong mechanism, but the WebSocket API in HTML5 does not expose direct access to that mechanism, though web browsers may handle it internally in their WebSocket implementation."},{"owner":{"account_id":7097751,"reputation":151,"user_id":7509808,"display_name":"Shubham Dwivedi"},"score":0,"creation_date":1489578276,"post_id":42779658,"comment_id":72729819,"body_markdown":"Right now I am sending some value using websocket.send periodically but if it is a proper way? Is there any idle timeout or something?","body":"Right now I am sending some value using websocket.send periodically but if it is a proper way? Is there any idle timeout or something?"},{"owner":{"account_id":6317022,"reputation":3182,"user_id":4906586,"accept_rate":88,"display_name":"Al-un"},"score":0,"creation_date":1505002264,"post_id":42779658,"comment_id":79234733,"body_markdown":"you can configure the timeout of a websocket session: https://docs.oracle.com/javaee/7/api/javax/websocket/Session.html#setMaxIdleTimeout-long- but the client can be guilty as well (connectivity lost, application killed if on mobile, etc)","body":"you can configure the timeout of a websocket session: <a href=\"https://docs.oracle.com/javaee/7/api/javax/websocket/Session.html#setMaxIdleTimeout-long-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/websocket/&hellip;</a> but the client can be guilty as well (connectivity lost, application killed if on mobile, etc)"}],"answers":[{"tags":[],"owner":{"account_id":26843306,"reputation":1,"user_id":20429448,"display_name":"Mehdi "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667699393,"creation_date":1667699393,"answer_id":74332796,"question_id":42779658,"body_markdown":"you can disable the timeout in the server using a negative number in the IdleTimout\r\n\r\n    session.setMaxIdleTimeout(-1)\r\n\r\nSet the non-zero number of milliseconds before this session will be closed by the container if it is inactive, ie no messages are either sent or received. A value that is 0 or negative indicates the session will never timeout due to inactivity.","title":"How to keep websocket alive","body":"<p>you can disable the timeout in the server using a negative number in the IdleTimout</p>\n<pre><code>session.setMaxIdleTimeout(-1)\n</code></pre>\n<p>Set the non-zero number of milliseconds before this session will be closed by the container if it is inactive, ie no messages are either sent or received. A value that is 0 or negative indicates the session will never timeout due to inactivity.</p>\n"}],"owner":{"account_id":7097751,"reputation":151,"user_id":7509808,"display_name":"Shubham Dwivedi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14470,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1693998145,"creation_date":1489475119,"question_id":42779658,"body_markdown":"I am establishing WebSocket connectivity where the server is built using `javax.websocket` and the client is in JavaScript.\r\n\r\nThis code is working fine. But after some time session is closed. I want to keep this session alive. \r\n\r\nI have two questions:\r\n\r\n 1. If this connection is getting closed because of session idle time\r\n    out \r\n 2. How to keep this session alive.\r\n\r\nFollowing is the JavaScript code:\r\n\r\n&lt;!-- language: javascript --&gt;\r\n\r\n    var wsUri=&quot;ws://localhost/&quot;;\r\n    var websocket = new WebSocket(wsUri);\r\n\r\n    var datasocket;\r\n    var username;\r\n    websocket.onopen = function(evt) { onOpen(evt) };\r\n    websocket.onmessage = function(evt) { onMessage(evt) };\r\n    websocket.onerror = function(evt) { onError(evt) };\r\n    function join() {\r\n        username = textField.value;\r\n        websocket.send(username + &quot; joined&quot;);\r\n        console.log(&quot;joined&quot;);\r\n    }\r\n\r\n    function send_message() {\r\n        websocket.send(username + &quot;: &quot; + textField.value);\r\n    }\r\n\r\n    function onOpen() {\r\n        console.log(&quot;connected to url&quot;);\r\n        websocket.send(&quot;Hello&quot;);\r\n        //  writeToScreen(&quot;Connected to &quot; + wsUri);\r\n    }\r\n\r\n    function onMessage(evt) {\r\n    var res = {};\r\n        console.log(&quot;onMessage: &quot; + evt.data);\r\n        if (evt.data.indexOf(&quot;joined&quot;) != -1) {   \r\n        } else {\r\n            datasocket=evt.data\r\n            //getLatestData();\r\n            res = JSON.parse(event.data);\r\n            $scope.Impact = res[&quot;Impact&quot;];\r\n            $scope.Temperature = res[&quot;Temperature&quot;];\r\n            $scope.Humidity = res[&quot;Humidity&quot;];\r\n        }\r\n    }\r\n\r\n    function onError(evt) {\r\n        writeToScreen(&#39;&lt;span style=&quot;color: red;&quot;&gt;ERROR:&lt;/span&gt; &#39; + evt.data);\r\n    } \r\n\r\n    function writeToScreen(message) {\r\n    //    output.innerHTML += message + &quot;&lt;br&gt;&quot;;\r\n    }\r\n    function onClose(evt)\r\n    {\r\n        console.log(&quot;Disconnected&quot;);\r\n    }\r\n\r\nAnd Java code is following:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @javax.websocket.server.ServerEndpoint(&quot;/&quot;)\r\n    public class Endpoint {\r\n    \t \r\n        private static Queue&lt;Session&gt; queue = new ConcurrentLinkedQueue&lt;Session&gt;();\r\n        static StringBuilder sb = null;\r\n        ByteArrayOutputStream bytes = null;\r\n    \r\n        \r\n        @OnMessage\r\n        public void onMessage(Session session, String msg) {\r\n            // provided for completeness, in out scenario clients don&#39;t send any msg.\r\n            try {   \r\n                // System.out.println(&quot;received msg &quot;+msg+&quot; from &quot;+session.getId());\r\n        \r\n               sendAll(msg);  \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n       \r\n        private static void sendAll(String msg) {\r\n    \r\n            JSONParser parser = new JSONParser();\r\n            Object obj = null ;\r\n\r\n            try {\r\n                obj = parser.parse(msg);\r\n            } catch (ParseException e1) {\r\n                // TODO Auto-generated catch block\r\n                e1.printStackTrace();\r\n            }\r\n            JSONObject jsonObject = (JSONObject) obj;\r\n            \r\n            if (sb == null) {\r\n                sb = new StringBuilder();\r\n            }\r\n            sb.append(jsonObject.toString());\r\n         \r\n            //     System.out.println(jsonObject.toJSONString());\r\n            try {\r\n                /* Send the new rate to all open WebSocket sessions */  \r\n                ArrayList&lt;Session &gt; closedSessions= new ArrayList&lt;&gt;();\r\n                for (Session session : queue) {\r\n                    if(!session.isOpen()) {\r\n                         System.err.println(&quot;Closed session: &quot;+session.getId());\r\n                         closedSessions.add(session);\r\n                    }\r\n                    else {\r\n                        session.getBasicRemote().sendText(msg);\r\n                    }\r\n                }\r\n                queue.removeAll(closedSessions);\r\n                //\t   System.out.println(&quot;Sending &quot;+msg+&quot; to &quot;+queue.size()+&quot; clients&quot;);\r\n            } catch (Throwable e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            sb = null;\r\n            \r\n        }\r\n        \r\n        @OnOpen\r\n        public void open(Session session) {\r\n             queue.add(session);\r\n             System.out.println(&quot;New session opened: &quot;+session.getId());\r\n        }\r\n         \r\n        @OnError\r\n        public void error(Session session, Throwable t) {\r\n            queue.remove(session);\r\n            System.err.println(&quot;Error on session &quot;+session.getId());  \r\n        }\r\n        \r\n        @OnClose\r\n        public void closedConnection(Session session) { \r\n            queue.remove(session);\r\n            System.out.println(&quot;session closed: &quot;+session.getId());\r\n        }\r\n        \r\n    }\r\n\r\n","title":"How to keep websocket alive","body":"<p>I am establishing WebSocket connectivity where the server is built using <code>javax.websocket</code> and the client is in JavaScript.</p>\n<p>This code is working fine. But after some time session is closed. I want to keep this session alive.</p>\n<p>I have two questions:</p>\n<ol>\n<li>If this connection is getting closed because of session idle time\nout</li>\n<li>How to keep this session alive.</li>\n</ol>\n<p>Following is the JavaScript code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var wsUri=&quot;ws://localhost/&quot;;\nvar websocket = new WebSocket(wsUri);\n\nvar datasocket;\nvar username;\nwebsocket.onopen = function(evt) { onOpen(evt) };\nwebsocket.onmessage = function(evt) { onMessage(evt) };\nwebsocket.onerror = function(evt) { onError(evt) };\nfunction join() {\n    username = textField.value;\n    websocket.send(username + &quot; joined&quot;);\n    console.log(&quot;joined&quot;);\n}\n\nfunction send_message() {\n    websocket.send(username + &quot;: &quot; + textField.value);\n}\n\nfunction onOpen() {\n    console.log(&quot;connected to url&quot;);\n    websocket.send(&quot;Hello&quot;);\n    //  writeToScreen(&quot;Connected to &quot; + wsUri);\n}\n\nfunction onMessage(evt) {\nvar res = {};\n    console.log(&quot;onMessage: &quot; + evt.data);\n    if (evt.data.indexOf(&quot;joined&quot;) != -1) {   \n    } else {\n        datasocket=evt.data\n        //getLatestData();\n        res = JSON.parse(event.data);\n        $scope.Impact = res[&quot;Impact&quot;];\n        $scope.Temperature = res[&quot;Temperature&quot;];\n        $scope.Humidity = res[&quot;Humidity&quot;];\n    }\n}\n\nfunction onError(evt) {\n    writeToScreen('&lt;span style=&quot;color: red;&quot;&gt;ERROR:&lt;/span&gt; ' + evt.data);\n} \n\nfunction writeToScreen(message) {\n//    output.innerHTML += message + &quot;&lt;br&gt;&quot;;\n}\nfunction onClose(evt)\n{\n    console.log(&quot;Disconnected&quot;);\n}\n</code></pre>\n<p>And Java code is following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.websocket.server.ServerEndpoint(&quot;/&quot;)\npublic class Endpoint {\n     \n    private static Queue&lt;Session&gt; queue = new ConcurrentLinkedQueue&lt;Session&gt;();\n    static StringBuilder sb = null;\n    ByteArrayOutputStream bytes = null;\n\n    \n    @OnMessage\n    public void onMessage(Session session, String msg) {\n        // provided for completeness, in out scenario clients don't send any msg.\n        try {   \n            // System.out.println(&quot;received msg &quot;+msg+&quot; from &quot;+session.getId());\n    \n           sendAll(msg);  \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n   \n    private static void sendAll(String msg) {\n\n        JSONParser parser = new JSONParser();\n        Object obj = null ;\n\n        try {\n            obj = parser.parse(msg);\n        } catch (ParseException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n        JSONObject jsonObject = (JSONObject) obj;\n        \n        if (sb == null) {\n            sb = new StringBuilder();\n        }\n        sb.append(jsonObject.toString());\n     \n        //     System.out.println(jsonObject.toJSONString());\n        try {\n            /* Send the new rate to all open WebSocket sessions */  \n            ArrayList&lt;Session &gt; closedSessions= new ArrayList&lt;&gt;();\n            for (Session session : queue) {\n                if(!session.isOpen()) {\n                     System.err.println(&quot;Closed session: &quot;+session.getId());\n                     closedSessions.add(session);\n                }\n                else {\n                    session.getBasicRemote().sendText(msg);\n                }\n            }\n            queue.removeAll(closedSessions);\n            //     System.out.println(&quot;Sending &quot;+msg+&quot; to &quot;+queue.size()+&quot; clients&quot;);\n        } catch (Throwable e) {\n            e.printStackTrace();\n        }\n        \n        sb = null;\n        \n    }\n    \n    @OnOpen\n    public void open(Session session) {\n         queue.add(session);\n         System.out.println(&quot;New session opened: &quot;+session.getId());\n    }\n     \n    @OnError\n    public void error(Session session, Throwable t) {\n        queue.remove(session);\n        System.err.println(&quot;Error on session &quot;+session.getId());  \n    }\n    \n    @OnClose\n    public void closedConnection(Session session) { \n        queue.remove(session);\n        System.out.println(&quot;session closed: &quot;+session.getId());\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","jpa","java-8"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":2,"creation_date":1693988601,"post_id":77049942,"comment_id":135830646,"body_markdown":"If I understand your question correctly you are trying to parse the date `12/28/2022` (taken from your `fromDate`) using format `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX`. Your input date does not match the format. That won&#39;t work and you will get a Parse exception. It looks more like you should use format `MM/dd/yyyy` for parsing that input. \nAlso on a significant side note. Do not use SimpleDateFormat. It has been superseeded long ago. Use classes in the java.time.* package instead.","body":"If I understand your question correctly you are trying to parse the date <code>12&#47;28&#47;2022</code> (taken from your <code>fromDate</code>) using format <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX</code>. Your input date does not match the format. That won&#39;t work and you will get a Parse exception. It looks more like you should use format <code>MM&#47;dd&#47;yyyy</code> for parsing that input.  Also on a significant side note. Do not use SimpleDateFormat. It has been superseeded long ago. Use classes in the java.time.* package instead."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1693989111,"post_id":77049942,"comment_id":135830748,"body_markdown":"basically you need two *formatters*, one for parsing, a second for formatting (if you really need input and output as `String`) As already commented, it is better to **not** use the old `SimpleDateTime`, `Date`, and related classes - better use the classes from the `java.time` package (these also use ISO8601 as standard format, so you can avoid the 2nd formatter)","body":"basically you need two <i>formatters</i>, one for parsing, a second for formatting (if you really need input and output as <code>String</code>) As already commented, it is better to <b>not</b> use the old <code>SimpleDateTime</code>, <code>Date</code>, and related classes - better use the classes from the <code>java.time</code> package (these also use ISO8601 as standard format, so you can avoid the 2nd formatter)"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693998055,"creation_date":1693998055,"answer_id":77051284,"question_id":77049942,"body_markdown":"&gt; _&quot;How to convert String Date MM/DD/YYYY to IsoDateTime Format to fetch the Date from MongoDB which is in the mongoDB database ..._\r\n&gt;\r\n&gt; _... in format of_\r\n&gt;\r\n&gt; _e.g. this : `1991-01-29T11:01:43.577+00:00` ...&quot;_\r\n\r\nThe _[DateTimeFormatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html)_ class provides _[predefined formats](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#predefined)_, this specifically is available via the _[DateTimeFormatter#ISO_OFFSET_DATE_TIME](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME)_ field.\r\n\r\nYou&#39;ll need to parse the values with the _[LocalDate#parse](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter))_ method.  \r\nAdditionally, apply a _[ZoneOffset](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html)_ value.\r\n\r\n```java\r\nString fromDate = &quot;12/28/2022&quot;;\r\nString toDate = &quot;12/28/2023&quot;;\r\nDateTimeFormatter f = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\r\nDateTimeFormatter f1 = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\nLocalDateTime fromDateCalculated = LocalDate.parse(fromDate, f1).atStartOfDay();\r\nLocalDateTime toDateCalculated = LocalDate.parse(toDate, f1).atStartOfDay();\r\nOffsetDateTime x = fromDateCalculated.atOffset(ZoneOffset.UTC);\r\nOffsetDateTime y = toDateCalculated.atOffset(ZoneOffset.UTC);\r\nSystem.out.println(&quot;x = &quot; + f.format(x));\r\nSystem.out.println(&quot;y = &quot; + f.format(y));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nx = 2022-12-28T00:00:00Z\r\ny = 2023-12-28T00:00:00Z\r\n```","title":"How to convert String Date MM/DD/YYYY to IsoDateTime Format to fetch the Date from MongoDB which is in the mongoDB database","body":"<blockquote>\n<p><em>&quot;How to convert String Date MM/DD/YYYY to IsoDateTime Format to fetch the Date from MongoDB which is in the mongoDB database ...</em></p>\n<p><em>... in format of</em></p>\n<p><em>e.g. this : <code>1991-01-29T11:01:43.577+00:00</code> ...&quot;</em></p>\n</blockquote>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a></em> class provides <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#predefined\" rel=\"nofollow noreferrer\">predefined formats</a></em>, this specifically is available via the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_OFFSET_DATE_TIME\" rel=\"nofollow noreferrer\">DateTimeFormatter#ISO_OFFSET_DATE_TIME</a></em> field.</p>\n<p>You'll need to parse the values with the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)\" rel=\"nofollow noreferrer\">LocalDate#parse</a></em> method.<br />\nAdditionally, apply a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\">ZoneOffset</a></em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fromDate = &quot;12/28/2022&quot;;\nString toDate = &quot;12/28/2023&quot;;\nDateTimeFormatter f = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\nDateTimeFormatter f1 = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\nLocalDateTime fromDateCalculated = LocalDate.parse(fromDate, f1).atStartOfDay();\nLocalDateTime toDateCalculated = LocalDate.parse(toDate, f1).atStartOfDay();\nOffsetDateTime x = fromDateCalculated.atOffset(ZoneOffset.UTC);\nOffsetDateTime y = toDateCalculated.atOffset(ZoneOffset.UTC);\nSystem.out.println(&quot;x = &quot; + f.format(x));\nSystem.out.println(&quot;y = &quot; + f.format(y));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>x = 2022-12-28T00:00:00Z\ny = 2023-12-28T00:00:00Z\n</code></pre>\n"}],"owner":{"account_id":27597790,"reputation":11,"user_id":21063641,"display_name":"Vinod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693998055,"creation_date":1693986440,"question_id":77049942,"body_markdown":"      String fromDate = requestObject.get(&quot;fromDate&quot;);\r\n      String toDate = requestObject.get(&quot;toDate&quot;);\r\n    \r\n    \r\n      SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    \r\n      Date fromDateCalculated = simpleDateFormat.parse(fromDate);\r\n      Date toDateCalculated = simpleDateFormat.parse(toDate);\r\n\r\ni tried this but it did not worked its giving me parceExcpetion \r\n\r\nmy input string date is like MM/DD/YYYY format \r\n\r\n    {    \r\n        &quot;fromDate&quot;:&quot;12/28/2022&quot;;\r\n        &quot;toDate&quot;:&quot;12/28/2023&quot;;  \r\n    }\r\n\r\nhowever to retreive the date from mongoDB its in format of \r\n\r\ne.g. this : `1991-01-29T11:01:43.577+00:00`\r\n\r\nor u can say `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX`","title":"How to convert String Date MM/DD/YYYY to IsoDateTime Format to fetch the Date from MongoDB which is in the mongoDB database","body":"<pre><code>  String fromDate = requestObject.get(&quot;fromDate&quot;);\n  String toDate = requestObject.get(&quot;toDate&quot;);\n\n\n  SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n\n  Date fromDateCalculated = simpleDateFormat.parse(fromDate);\n  Date toDateCalculated = simpleDateFormat.parse(toDate);\n</code></pre>\n<p>i tried this but it did not worked its giving me parceExcpetion</p>\n<p>my input string date is like MM/DD/YYYY format</p>\n<pre><code>{    \n    &quot;fromDate&quot;:&quot;12/28/2022&quot;;\n    &quot;toDate&quot;:&quot;12/28/2023&quot;;  \n}\n</code></pre>\n<p>however to retreive the date from mongoDB its in format of</p>\n<p>e.g. this : <code>1991-01-29T11:01:43.577+00:00</code></p>\n<p>or u can say <code>yyyy-MM-dd'T'HH:mm:ss.SSSXXX</code></p>\n"},{"tags":["java","spring","apache-httpcomponents"],"answers":[{"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1586887192,"creation_date":1586887192,"answer_id":61214191,"question_id":61210545,"body_markdown":"Apache HttpClient 4.5 and HttpClient 5.0 classic are very similar but are fully API _incompatible_.  \r\n\r\nUntil Spring provides Apache HttpClient 5.x based `RequestFactory` implementation one cannot integrate HttpClient 5.x with Spring.","title":"How to set Spring HttpComponentsClientHttpRequestFactory with Apache httpcomponent5?","body":"<p>Apache HttpClient 4.5 and HttpClient 5.0 classic are very similar but are fully API <em>incompatible</em>.  </p>\n\n<p>Until Spring provides Apache HttpClient 5.x based <code>RequestFactory</code> implementation one cannot integrate HttpClient 5.x with Spring.</p>\n"},{"tags":[],"owner":{"account_id":26648222,"reputation":31,"user_id":20262886,"display_name":"Michał Maj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669035770,"creation_date":1669035770,"answer_id":74519399,"question_id":61210545,"body_markdown":"&gt; NOTE: Requires Apache HttpComponents 5.1 or higher, as of Spring 6.0.\r\n\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.html\r\n","title":"How to set Spring HttpComponentsClientHttpRequestFactory with Apache httpcomponent5?","body":"<blockquote>\n<p>NOTE: Requires Apache HttpComponents 5.1 or higher, as of Spring 6.0.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.html</a></p>\n"},{"tags":[],"owner":{"account_id":20342623,"reputation":91,"user_id":14921458,"display_name":"sudhansu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693997572,"creation_date":1693997572,"answer_id":77051232,"question_id":61210545,"body_markdown":"    public RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n    \t\treturn new RestTemplate(getClientHttpRequestFactory());\r\n    \t}\r\n    \r\n    \tprivate ClientHttpRequestFactory getClientHttpRequestFactory() {\r\n    \t\tSSLContext sslContext = null;\r\n    \t\ttry {\r\n    \t\t\tsslContext = SSLContextBuilder.create()\r\n    \t\t\t\t\t.loadKeyMaterial(ResourceUtils.getFile(keyStore), keyStorePassword.toCharArray(), keyPassword.toCharArray())\r\n    \t\t\t\t\t.loadTrustMaterial(ResourceUtils.getFile(trustStore), trustStorePassword.toCharArray()).build();\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tthrow new BatchException(ex, &quot;Unable to create SSL context&quot;);\r\n    \t\t}\r\n    \t\tRequestConfig config = RequestConfig.custom()\r\n    \t\t\t\t.setConnectTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\r\n    \t\t\t\t.setResponseTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\r\n    \t\t\t\t.setConnectionRequestTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\r\n    \t\t\t\t.build();\r\n    \t\tCloseableHttpClient httpClient = HttpClients.custom()\r\n    \t\t\t\t.setDefaultRequestConfig(config)\r\n    \t\t\t\t.setConnectionManager(PoolingHttpClientConnectionManagerBuilder.create()\r\n    \t\t\t\t\t\t.setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\r\n    \t\t\t\t\t\t\t\t.setSslContext(sslContext)\r\n    \t\t\t\t\t\t\t\t.setHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n    \t\t\t\t\t\t\t\t.build())\r\n    \t\t\t\t\t\t.build())\r\n    \t\t\t\t.build();\r\n    \t\treturn new HttpComponentsClientHttpRequestFactory(httpClient);\r\n    \r\n    \t}","title":"How to set Spring HttpComponentsClientHttpRequestFactory with Apache httpcomponent5?","body":"<pre><code>public RestTemplate restTemplate(RestTemplateBuilder builder) {\n        return new RestTemplate(getClientHttpRequestFactory());\n    }\n\n    private ClientHttpRequestFactory getClientHttpRequestFactory() {\n        SSLContext sslContext = null;\n        try {\n            sslContext = SSLContextBuilder.create()\n                    .loadKeyMaterial(ResourceUtils.getFile(keyStore), keyStorePassword.toCharArray(), keyPassword.toCharArray())\n                    .loadTrustMaterial(ResourceUtils.getFile(trustStore), trustStorePassword.toCharArray()).build();\n        } catch (Exception ex) {\n            throw new BatchException(ex, &quot;Unable to create SSL context&quot;);\n        }\n        RequestConfig config = RequestConfig.custom()\n                .setConnectTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\n                .setResponseTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\n                .setConnectionRequestTimeout(TIME_OUT,TimeUnit.MILLISECONDS)\n                .build();\n        CloseableHttpClient httpClient = HttpClients.custom()\n                .setDefaultRequestConfig(config)\n                .setConnectionManager(PoolingHttpClientConnectionManagerBuilder.create()\n                        .setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\n                                .setSslContext(sslContext)\n                                .setHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n                                .build())\n                        .build())\n                .build();\n        return new HttpComponentsClientHttpRequestFactory(httpClient);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7812280,"reputation":141,"user_id":5908133,"display_name":"fsimone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15021,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1693997572,"creation_date":1586875660,"question_id":61210545,"body_markdown":"I&#39;m trying to set httpClient5 in Spring ... I have the following code:\r\n\r\n    PoolingHttpClientConnectionManager connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\r\n                    .setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\r\n                            .setSslContext(SSLContexts.createSystemDefault())\r\n                            .setTlsVersions(TLS.V_1_3, TLS.V_1_2)\r\n                            .build())\r\n                    .setDefaultSocketConfig(SocketConfig.custom()\r\n                            .setSoTimeout(Timeout.ofSeconds(5))\r\n                            .build())\r\n                    .setPoolConcurrencyPolicy(PoolConcurrencyPolicy.STRICT)\r\n                    .setConnPoolPolicy(PoolReusePolicy.LIFO)\r\n                    .setConnectionTimeToLive(TimeValue.ofMinutes(1L))\r\n                    .build();\r\n            \r\n            CloseableHttpClient client = HttpClients.custom()\r\n                    .setConnectionManager(connectionManager)\r\n                    .setDefaultRequestConfig(RequestConfig.custom()\r\n                            .setConnectTimeout(Timeout.ofSeconds(5))\r\n                            .setResponseTimeout(Timeout.ofSeconds(5))\r\n                            .setCookieSpec(StandardCookieSpec.STRICT)\r\n                            .build())\r\n                    .build();\r\n            \r\n            CookieStore cookieStore = new BasicCookieStore();\r\n            \r\n            CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n               \r\n            HttpClientContext clientContext = HttpClientContext.create();\r\n            clientContext.setCookieStore(cookieStore);\r\n            clientContext.setCredentialsProvider(credentialsProvider);\r\n            clientContext.setRequestConfig(RequestConfig.custom()\r\n                    .setConnectTimeout(Timeout.ofSeconds(5000))\r\n                    .setResponseTimeout(Timeout.ofSeconds(5000))\r\n                    .build());\r\n    \r\n            \r\n            \r\n            // connect Spring httpComponent (client-side) with Apache httpClient\r\n            HttpComponentsClientHttpRequestFactory httpRequestFactory = new HttpComponentsClientHttpRequestFactory();\r\n            httpRequestFactory.setReadTimeout(60000);\r\n            httpRequestFactory.setConnectTimeout(60000);\r\n            httpRequestFactory.setHttpClient(client);\r\n\r\nthe class ClosableHttpClient implements the interface org.apache.hc.client5.http.classic.HttpClient that is not compatible with setHttpClient(client); this the runtime error:\r\n\r\n    java.lang.ClassCastException: class org.apache.hc.client5.http.impl.classic.InternalHttpClient cannot be cast to class org.apache.http.client.HttpClient (org.apache.hc.client5.http.impl.classic.InternalHttpClient and org.apache.http.client.HttpClient are in unnamed module of loader &#39;app&#39;)\r\n\r\n\r\nI&#39;m using Spring 5.0 and HttpComponents-client-5. How to convert HttpClient 4.X to HttpClient 5 ?","title":"How to set Spring HttpComponentsClientHttpRequestFactory with Apache httpcomponent5?","body":"<p>I'm trying to set httpClient5 in Spring ... I have the following code:</p>\n\n<pre><code>PoolingHttpClientConnectionManager connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\n                .setSSLSocketFactory(SSLConnectionSocketFactoryBuilder.create()\n                        .setSslContext(SSLContexts.createSystemDefault())\n                        .setTlsVersions(TLS.V_1_3, TLS.V_1_2)\n                        .build())\n                .setDefaultSocketConfig(SocketConfig.custom()\n                        .setSoTimeout(Timeout.ofSeconds(5))\n                        .build())\n                .setPoolConcurrencyPolicy(PoolConcurrencyPolicy.STRICT)\n                .setConnPoolPolicy(PoolReusePolicy.LIFO)\n                .setConnectionTimeToLive(TimeValue.ofMinutes(1L))\n                .build();\n\n        CloseableHttpClient client = HttpClients.custom()\n                .setConnectionManager(connectionManager)\n                .setDefaultRequestConfig(RequestConfig.custom()\n                        .setConnectTimeout(Timeout.ofSeconds(5))\n                        .setResponseTimeout(Timeout.ofSeconds(5))\n                        .setCookieSpec(StandardCookieSpec.STRICT)\n                        .build())\n                .build();\n\n        CookieStore cookieStore = new BasicCookieStore();\n\n        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n\n        HttpClientContext clientContext = HttpClientContext.create();\n        clientContext.setCookieStore(cookieStore);\n        clientContext.setCredentialsProvider(credentialsProvider);\n        clientContext.setRequestConfig(RequestConfig.custom()\n                .setConnectTimeout(Timeout.ofSeconds(5000))\n                .setResponseTimeout(Timeout.ofSeconds(5000))\n                .build());\n\n\n\n        // connect Spring httpComponent (client-side) with Apache httpClient\n        HttpComponentsClientHttpRequestFactory httpRequestFactory = new HttpComponentsClientHttpRequestFactory();\n        httpRequestFactory.setReadTimeout(60000);\n        httpRequestFactory.setConnectTimeout(60000);\n        httpRequestFactory.setHttpClient(client);\n</code></pre>\n\n<p>the class ClosableHttpClient implements the interface org.apache.hc.client5.http.classic.HttpClient that is not compatible with setHttpClient(client); this the runtime error:</p>\n\n<pre><code>java.lang.ClassCastException: class org.apache.hc.client5.http.impl.classic.InternalHttpClient cannot be cast to class org.apache.http.client.HttpClient (org.apache.hc.client5.http.impl.classic.InternalHttpClient and org.apache.http.client.HttpClient are in unnamed module of loader 'app')\n</code></pre>\n\n<p>I'm using Spring 5.0 and HttpComponents-client-5. How to convert HttpClient 4.X to HttpClient 5 ?</p>\n"},{"tags":["java","spring","intellij-idea","annotations","autowired"],"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1530608167,"post_id":51150316,"comment_id":89284385,"body_markdown":"You can&#39;t. `@Autowired` on a field means that Spring will set/init that field at some time. There is nothing to warn about :)","body":"You can&#39;t. <code>@Autowired</code> on a field means that Spring will set/init that field at some time. There is nothing to warn about :)"}],"answers":[{"tags":[],"owner":{"account_id":11774788,"reputation":440,"user_id":8616670,"display_name":"Mehul Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530608384,"creation_date":1530608384,"answer_id":51150514,"question_id":51150316,"body_markdown":"Use Spring-Facet in (File-&gt;Project Structure-&gt; facets) to enable Warnings. ","title":"Show warning for unused autowired field in IntelliJ IDEA","body":"<p>Use Spring-Facet in (File->Project Structure-> facets) to enable Warnings. </p>\n"},{"tags":[],"owner":{"account_id":11221837,"reputation":2208,"user_id":8232755,"display_name":"Thoomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530611149,"creation_date":1530611149,"answer_id":51151416,"question_id":51150316,"body_markdown":"You have to tick the inspection `Unused declaration` (inside `Java/Declaration redundancy` category).\r\n\r\n&gt; This inspection reports classes, methods or fields in the specified\r\n&gt; inspection scope that are not used or not reachable from entry points.\r\n\r\nYou can find this in Settings -&gt; Editor -&gt; Inspections.","title":"Show warning for unused autowired field in IntelliJ IDEA","body":"<p>You have to tick the inspection <code>Unused declaration</code> (inside <code>Java/Declaration redundancy</code> category).</p>\n\n<blockquote>\n  <p>This inspection reports classes, methods or fields in the specified\n  inspection scope that are not used or not reachable from entry points.</p>\n</blockquote>\n\n<p>You can find this in Settings -> Editor -> Inspections.</p>\n"},{"tags":[],"owner":{"account_id":14863303,"reputation":25,"user_id":10733300,"display_name":"Zhou Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693997043,"creation_date":1693997043,"answer_id":77051168,"question_id":51150316,"body_markdown":"Check the Settings | Editor | Inspections | Java -&gt; Unused declaration -&gt; Entry points -&gt; Annotations...","title":"Show warning for unused autowired field in IntelliJ IDEA","body":"<p>Check the Settings | Editor | Inspections | Java -&gt; Unused declaration -&gt; Entry points -&gt; Annotations...</p>\n"}],"owner":{"account_id":6485389,"reputation":467,"user_id":5021136,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1983,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1693997043,"creation_date":1530607804,"question_id":51150316,"body_markdown":"IntelliJ does not show &quot;Field is never used&quot; warning if it have `@Autowired` annotation. How to make it show warning?","title":"Show warning for unused autowired field in IntelliJ IDEA","body":"<p>IntelliJ does not show \"Field is never used\" warning if it have <code>@Autowired</code> annotation. How to make it show warning?</p>\n"},{"tags":["java","ant","ivy","antbuilder"],"owner":{"account_id":25868194,"reputation":1,"user_id":19599468,"display_name":"SkClass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693997041,"answer_count":0,"score":0,"last_activity_date":1693996735,"creation_date":1693996735,"question_id":77051132,"body_markdown":"I am trying to build the application but I am getting this error :\r\njava.lang.NoClassDefFoundError: org/apache/bcel/classfile/Visitor\r\n\r\nI have added the jar in ivy.xml \r\n\r\n```\r\n&lt;dependency org=&quot;org.apache.bcel&quot; name=&quot;bcel&quot; rev=&quot;6.7.0&quot;/&gt;\r\n```\r\n\r\nBut, When I am doing Ant build it is giving error.\r\n\r\nI tried with other version as well , added this as well :\r\n\r\n```\r\n&lt;jar destfile=&quot;output/atut.jar&quot; duplicate=&quot;preserve&quot; comment=&quot;Version: ${version}, Status: ${status}&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Version&quot; value=&quot;${version}&quot;/&gt;\r\n                &lt;attribute name=&quot;Status&quot; value=&quot;${status}&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;fileset refid=&quot;atut.classes&quot;/&gt;\r\n           \r\n            &lt;fileset dir=&quot;classes/Core&quot;/&gt;\r\n        \t\r\n        \t&lt;fileset dir=&quot;lib/compile&quot;&gt;\r\n        \t\t&lt;include name=&quot;bcel.jar&quot;/&gt;\r\n        \t&lt;/fileset&gt;\r\n        \t\r\n        &lt;/jar&gt;\r\n```\r\n\r\nBut, still unable to build it. \r\n","title":"java.lang.NoClassDefFoundError: org/apache/bcel/classfile/Visitor","body":"<p>I am trying to build the application but I am getting this error :\njava.lang.NoClassDefFoundError: org/apache/bcel/classfile/Visitor</p>\n<p>I have added the jar in ivy.xml</p>\n<pre><code>&lt;dependency org=&quot;org.apache.bcel&quot; name=&quot;bcel&quot; rev=&quot;6.7.0&quot;/&gt;\n</code></pre>\n<p>But, When I am doing Ant build it is giving error.</p>\n<p>I tried with other version as well , added this as well :</p>\n<pre><code>&lt;jar destfile=&quot;output/atut.jar&quot; duplicate=&quot;preserve&quot; comment=&quot;Version: ${version}, Status: ${status}&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Version&quot; value=&quot;${version}&quot;/&gt;\n                &lt;attribute name=&quot;Status&quot; value=&quot;${status}&quot;/&gt;\n            &lt;/manifest&gt;\n            &lt;fileset refid=&quot;atut.classes&quot;/&gt;\n           \n            &lt;fileset dir=&quot;classes/Core&quot;/&gt;\n            \n            &lt;fileset dir=&quot;lib/compile&quot;&gt;\n                &lt;include name=&quot;bcel.jar&quot;/&gt;\n            &lt;/fileset&gt;\n            \n        &lt;/jar&gt;\n</code></pre>\n<p>But, still unable to build it.</p>\n"},{"tags":["java","android","kotlin","user-interface","android-jetpack-compose"],"answers":[{"tags":[],"owner":{"account_id":7139664,"reputation":50256,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693996636,"creation_date":1693994175,"answer_id":77050872,"question_id":77050547,"body_markdown":"You can use Modifier.offset or Modifier.graphicsLayer to move a Composable.\r\n\r\n    @Preview\r\n    @Composable\r\n    fun OffsetSample() {\r\n        Box(\r\n            Modifier\r\n                // Alternative 1\r\n                .graphicsLayer {\r\n                    translationX = -355.dp.toPx() / 2\r\n                }\r\n                // Alternative 2\r\n    //            .offset((-355).dp / 2)\r\n                .shadow(\r\n                    elevation = 4.dp,\r\n                    spotColor = Color(0x40000000),\r\n                    ambientColor = Color(0x40000000),\r\n                    shape = RoundedCornerShape(size = 355.dp)\r\n                )\r\n    \r\n                .width(355.dp)\r\n                .height(355.dp)\r\n    \r\n                .background(\r\n                    color = Color(0xA300C2FF),\r\n                    shape = RoundedCornerShape(\r\n                        size = 355.dp\r\n                    ),\r\n                )\r\n        )\r\n    }\r\n\r\nAlso you can draw both Circles as\r\n\r\n\r\n    @Preview\r\n    @Composable\r\n    fun OffsetSample2() {\r\n        Box(\r\n            modifier = Modifier.fillMaxSize()\r\n        ) {\r\n            Box(\r\n                Modifier\r\n                    .padding(top =  30.dp)\r\n                    .align(Alignment.TopStart)\r\n                    .graphicsLayer {\r\n                        translationX = -355.dp.toPx() / 2\r\n                    }\r\n                    .shadow(\r\n                        elevation = 4.dp,\r\n                        spotColor = Color(0x40000000),\r\n                        ambientColor = Color(0x40000000),\r\n                        shape = RoundedCornerShape(size = 355.dp)\r\n                    )\r\n    \r\n                    .width(355.dp)\r\n                    .height(355.dp)\r\n    \r\n                    .background(\r\n                        color = Color(0xA300C2FF),\r\n                        shape = RoundedCornerShape(\r\n                            size = 355.dp\r\n                        ),\r\n                    )\r\n            )\r\n    \r\n            Box(\r\n                Modifier\r\n                    .padding(bottom =  30.dp)\r\n                    .align(Alignment.BottomEnd)\r\n                    .graphicsLayer {\r\n                        translationX = 355.dp.toPx() / 2\r\n                    }\r\n                    .shadow(\r\n                        elevation = 4.dp,\r\n                        spotColor = Color(0x40000000),\r\n                        ambientColor = Color(0x40000000),\r\n                        shape = RoundedCornerShape(size = 355.dp)\r\n                    )\r\n    \r\n                    .width(355.dp)\r\n                    .height(355.dp)\r\n    \r\n                    .background(\r\n                        color = Color(0xA300C2FF),\r\n                        shape = RoundedCornerShape(\r\n                            size = 355.dp\r\n                        ),\r\n                    )\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n&lt;h2&gt;Edit&lt;/h2&gt;\r\n\r\nShadow as other modifiers also is moved when it&#39;s placed after offset or graphicsLayer.\r\n\r\n\r\n    @Preview\r\n    @Composable\r\n    fun OffsetSample3() {\r\n       Column {\r\n    \r\n           Box(\r\n               Modifier\r\n                   .graphicsLayer {\r\n                       translationX = -355.dp.toPx() / 2\r\n                   }\r\n                   .shadow(\r\n                       elevation = 8.dp,\r\n                       spotColor = Color(0x40000000),\r\n                       ambientColor = Color(0x40000000),\r\n                       shape = RoundedCornerShape(size = 355.dp)\r\n                   )\r\n                   .width(355.dp)\r\n                   .height(355.dp)\r\n    \r\n                   .background(\r\n                       color = Color(0xA300C2FF),\r\n                       shape = RoundedCornerShape(\r\n                           size = 355.dp\r\n                       ),\r\n                   )\r\n           )\r\n           Box(\r\n               Modifier\r\n                   .shadow(\r\n                       elevation = 8.dp,\r\n                       spotColor = Color(0x40000000),\r\n                       ambientColor = Color(0x40000000),\r\n                       shape = RoundedCornerShape(size = 355.dp)\r\n                   )\r\n                   .graphicsLayer {\r\n                       translationX = -355.dp.toPx() / 2\r\n                   }\r\n    \r\n                   .width(355.dp)\r\n                   .height(355.dp)\r\n    \r\n                   .background(\r\n                       color = Color(0xA300C2FF),\r\n                       shape = RoundedCornerShape(\r\n                           size = 355.dp\r\n                       ),\r\n                   )\r\n           )\r\n       }\r\n    }\r\n\r\nSecond one doesn&#39;t move shadow and shadows in Jetpack Compose are similar to shapes assigned that are drawn with spot and ambient color and with some blur.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWithout shadow clip in second one\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7ao09.png\r\n  [2]: https://i.stack.imgur.com/fOIx3.png\r\n  [3]: https://i.stack.imgur.com/dlJFD.png","title":"Problem moving a shape off partly off screen","body":"<p>You can use Modifier.offset or Modifier.graphicsLayer to move a Composable.</p>\n<pre><code>@Preview\n@Composable\nfun OffsetSample() {\n    Box(\n        Modifier\n            // Alternative 1\n            .graphicsLayer {\n                translationX = -355.dp.toPx() / 2\n            }\n            // Alternative 2\n//            .offset((-355).dp / 2)\n            .shadow(\n                elevation = 4.dp,\n                spotColor = Color(0x40000000),\n                ambientColor = Color(0x40000000),\n                shape = RoundedCornerShape(size = 355.dp)\n            )\n\n            .width(355.dp)\n            .height(355.dp)\n\n            .background(\n                color = Color(0xA300C2FF),\n                shape = RoundedCornerShape(\n                    size = 355.dp\n                ),\n            )\n    )\n}\n</code></pre>\n<p>Also you can draw both Circles as</p>\n<pre><code>@Preview\n@Composable\nfun OffsetSample2() {\n    Box(\n        modifier = Modifier.fillMaxSize()\n    ) {\n        Box(\n            Modifier\n                .padding(top =  30.dp)\n                .align(Alignment.TopStart)\n                .graphicsLayer {\n                    translationX = -355.dp.toPx() / 2\n                }\n                .shadow(\n                    elevation = 4.dp,\n                    spotColor = Color(0x40000000),\n                    ambientColor = Color(0x40000000),\n                    shape = RoundedCornerShape(size = 355.dp)\n                )\n\n                .width(355.dp)\n                .height(355.dp)\n\n                .background(\n                    color = Color(0xA300C2FF),\n                    shape = RoundedCornerShape(\n                        size = 355.dp\n                    ),\n                )\n        )\n\n        Box(\n            Modifier\n                .padding(bottom =  30.dp)\n                .align(Alignment.BottomEnd)\n                .graphicsLayer {\n                    translationX = 355.dp.toPx() / 2\n                }\n                .shadow(\n                    elevation = 4.dp,\n                    spotColor = Color(0x40000000),\n                    ambientColor = Color(0x40000000),\n                    shape = RoundedCornerShape(size = 355.dp)\n                )\n\n                .width(355.dp)\n                .height(355.dp)\n\n                .background(\n                    color = Color(0xA300C2FF),\n                    shape = RoundedCornerShape(\n                        size = 355.dp\n                    ),\n                )\n        )\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7ao09.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ao09.png\" alt=\"enter image description here\" /></a></p>\n<h2>Edit</h2>\n<p>Shadow as other modifiers also is moved when it's placed after offset or graphicsLayer.</p>\n<pre><code>@Preview\n@Composable\nfun OffsetSample3() {\n   Column {\n\n       Box(\n           Modifier\n               .graphicsLayer {\n                   translationX = -355.dp.toPx() / 2\n               }\n               .shadow(\n                   elevation = 8.dp,\n                   spotColor = Color(0x40000000),\n                   ambientColor = Color(0x40000000),\n                   shape = RoundedCornerShape(size = 355.dp)\n               )\n               .width(355.dp)\n               .height(355.dp)\n\n               .background(\n                   color = Color(0xA300C2FF),\n                   shape = RoundedCornerShape(\n                       size = 355.dp\n                   ),\n               )\n       )\n       Box(\n           Modifier\n               .shadow(\n                   elevation = 8.dp,\n                   spotColor = Color(0x40000000),\n                   ambientColor = Color(0x40000000),\n                   shape = RoundedCornerShape(size = 355.dp)\n               )\n               .graphicsLayer {\n                   translationX = -355.dp.toPx() / 2\n               }\n\n               .width(355.dp)\n               .height(355.dp)\n\n               .background(\n                   color = Color(0xA300C2FF),\n                   shape = RoundedCornerShape(\n                       size = 355.dp\n                   ),\n               )\n       )\n   }\n}\n</code></pre>\n<p>Second one doesn't move shadow and shadows in Jetpack Compose are similar to shapes assigned that are drawn with spot and ambient color and with some blur.</p>\n<p><a href=\"https://i.stack.imgur.com/fOIx3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOIx3.png\" alt=\"enter image description here\" /></a></p>\n<p>Without shadow clip in second one</p>\n<p><a href=\"https://i.stack.imgur.com/dlJFD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dlJFD.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26459081,"reputation":13,"user_id":20101274,"display_name":"x_Kronos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77050872,"answer_count":1,"score":0,"last_activity_date":1693996636,"creation_date":1693991499,"question_id":77050547,"body_markdown":"I have recently started migrating an Android XML app to Jetpack Compose. As I have not used compose prior to this I still trying to get familiar to it.\r\n\r\nThe UI I have designed for the application incorporates circles that are partially cur off screen :\r\n[![Base UI of with partially cut off circles](https://i.stack.imgur.com/t7Mmj.jpg)](https://i.stack.imgur.com/t7Mmj.jpg)\r\n\r\nWhen trying to replicate this inside compose I have been able to make the circle but I can&#39;t quite position it without morphing the shape. Here is what I have in compose:\r\n[![Compose version of the UI](https://i.stack.imgur.com/ogrU0.png)](https://i.stack.imgur.com/ogrU0.png)\r\n\r\nHere is the code for the circle :\r\n\r\n```\r\nBox(\r\n            Modifier\r\n                .shadow(\r\n                    elevation = 4.dp,\r\n                    spotColor = Color(0x40000000),\r\n                    ambientColor = Color(0x40000000),\r\n                    shape = RoundedCornerShape(size = 355.dp)\r\n                )\r\n                .padding(\r\n                    end = 0.dp, // Ignore this as it was a placeholder while testing                     )\r\n                .width(355.dp)\r\n                .height(355.dp)\r\n                .background(\r\n                    color = Color(0xA300C2FF),\r\n                    shape = RoundedCornerShape(\r\n                        size = 355.dp\r\n                    ),\r\n                )\r\n        )\r\n```\r\n\r\nAny help would be greatly appreciated\r\nThanks","title":"Problem moving a shape off partly off screen","body":"<p>I have recently started migrating an Android XML app to Jetpack Compose. As I have not used compose prior to this I still trying to get familiar to it.</p>\n<p>The UI I have designed for the application incorporates circles that are partially cur off screen :\n<a href=\"https://i.stack.imgur.com/t7Mmj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t7Mmj.jpg\" alt=\"Base UI of with partially cut off circles\" /></a></p>\n<p>When trying to replicate this inside compose I have been able to make the circle but I can't quite position it without morphing the shape. Here is what I have in compose:\n<a href=\"https://i.stack.imgur.com/ogrU0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ogrU0.png\" alt=\"Compose version of the UI\" /></a></p>\n<p>Here is the code for the circle :</p>\n<pre><code>Box(\n            Modifier\n                .shadow(\n                    elevation = 4.dp,\n                    spotColor = Color(0x40000000),\n                    ambientColor = Color(0x40000000),\n                    shape = RoundedCornerShape(size = 355.dp)\n                )\n                .padding(\n                    end = 0.dp, // Ignore this as it was a placeholder while testing                     )\n                .width(355.dp)\n                .height(355.dp)\n                .background(\n                    color = Color(0xA300C2FF),\n                    shape = RoundedCornerShape(\n                        size = 355.dp\n                    ),\n                )\n        )\n</code></pre>\n<p>Any help would be greatly appreciated\nThanks</p>\n"},{"tags":["java","module","jar","resources","jpackage"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693681238,"post_id":77029614,"comment_id":135793778,"body_markdown":"As someone [just asked](https://stackoverflow.com/questions/77024408/i-cant-load-ressources-within-a-jar-even-though-i-used-getressourcesasstream), using getResource or getResourceAsStream to read a ‘directory’ was *never* supported functionality.  If it happened to work for you in the past, that was because you got lucky.  (Jar files and zip files do not actually have a concept of a directory.  Their entries are just strings, nothing more.)","body":"As someone <a href=\"https://stackoverflow.com/questions/77024408/i-cant-load-ressources-within-a-jar-even-though-i-used-getressourcesasstream\">just asked</a>, using getResource or getResourceAsStream to read a ‘directory’ was <i>never</i> supported functionality.  If it happened to work for you in the past, that was because you got lucky.  (Jar files and zip files do not actually have a concept of a directory.  Their entries are just strings, nothing more.)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693681283,"post_id":77029614,"comment_id":135793788,"body_markdown":"`--input src/main/resources` – This should not be there. Resources are embedded &quot;in&quot; the module, whether that&#39;s as a JAR or in the JRT image. Normal resource lookup should &quot;just work&quot;. But as noted by VGR, looking up a directory resource was never guaranteed to work, and in fact I believe it breaks in JRT images.","body":"<code>--input src&#47;main&#47;resources</code> – This should not be there. Resources are embedded &quot;in&quot; the module, whether that&#39;s as a JAR or in the JRT image. Normal resource lookup should &quot;just work&quot;. But as noted by VGR, looking up a directory resource was never guaranteed to work, and in fact I believe it breaks in JRT images."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693681474,"post_id":77029614,"comment_id":135793809,"body_markdown":"Thank you both for the response. I will type up an answer that goes into more depth, then vote to close this question as a duplicate.","body":"Thank you both for the response. I will type up an answer that goes into more depth, then vote to close this question as a duplicate."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693688265,"post_id":77029614,"comment_id":135794415,"body_markdown":"Hey, I am still working on the answer, but I asked another question in a new post. I am going to use the answer from that question to help me construct this one, so if either of you are available to take a look at it, I would appreciate it. Here is the link -- https://stackoverflow.com/questions/77030026/modulelayer-cant-find-my-resources-when-running-my-modular-program-but-it-can","body":"Hey, I am still working on the answer, but I asked another question in a new post. I am going to use the answer from that question to help me construct this one, so if either of you are available to take a look at it, I would appreciate it. Here is the link -- <a href=\"https://stackoverflow.com/questions/77030026/modulelayer-cant-find-my-resources-when-running-my-modular-program-but-it-can\" title=\"modulelayer cant find my resources when running my modular program but it can\">stackoverflow.com/questions/77030026/&hellip;</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693700099,"post_id":77029614,"comment_id":135795216,"body_markdown":"@Slaw Thank you for answering it! If both of you could review my answer to this question, I would appreciate it! Posted below.","body":"@Slaw Thank you for answering it! If both of you could review my answer to this question, I would appreciate it! Posted below."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693700149,"post_id":77029614,"comment_id":135795221,"body_markdown":"@VGR mentioning you so you get the notification for the above comment. Annoyingly enough, StackOverflow only lets me @ one person at a time.","body":"@VGR mentioning you so you get the notification for the above comment. Annoyingly enough, StackOverflow only lets me @ one person at a time."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693863752,"post_id":77029614,"comment_id":135813163,"body_markdown":"Ok, I&#39;m flagging my post as a duplicate. ty both for your help! @Slaw","body":"Ok, I&#39;m flagging my post as a duplicate. ty both for your help! @Slaw"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693863767,"post_id":77029614,"comment_id":135813165,"body_markdown":"and @VGR, if both of you could flag","body":"and @VGR, if both of you could flag"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693996635,"creation_date":1693700049,"answer_id":77030475,"question_id":77029614,"body_markdown":"You should not use `.getResource()` or `.getResourceAsStream()` to walk directories or view their contents. That was never part of their design. They are only meant to fetch files, not scan or see the contents of the directories.\r\n\r\nThat was the source of my bug. Yes, I can simply view the folder contents by doing `.getResource()` or `.getResourceAsStream()`, but that works for plain folders and jar files only because plain folders (obviously) have that functionality built in and jars can halfway simulate the same thing. But trying to do that for an executable file (.exe file), will just plain not work. Here is the real way to do it.\r\n\r\nModules are a beautiful thing. If you want to read the contents of your Module, just get an instance of a [`java.lang.module.ModuleReader`][1]. From there, you can get the directory searching abilities I was trying to get with `getResource()` or `.getResourceAsStream()`. Just call [`ModuleReader.list()`][2]. ***Please note, it implements AutoCloseable, so use Try-with-resources.*** I am also following suit with what @Slaw did in this answer. https://stackoverflow.com/a/77030323/10118965\r\n\r\n```java\r\npackage PackageName;\r\n\r\npublic class Main\r\n{\r\n\r\n   public static void main(String[] args) throws Exception\r\n   {\r\n   \r\n      new Main();\r\n   \r\n   }\r\n\r\n   public Main() throws Exception\r\n   {\r\n      var module = Main.class.getModule();\r\n      var reference = module.getLayer()\r\n              .configuration()\r\n              .findModule(module.getName())\r\n              .orElseThrow()\r\n              .reference();\r\n      try (var reader = reference.open()) {\r\n          reader.list().forEach(System.out::println);\r\n      }\r\n   }\r\n```\r\n\r\nFrom there, I can scan my directories and see the contents of my modules, and all I need to do is use a `ModuleReader`. I can pass the values into a `getResource` or `getResourceAsStream` call and it should work just fine. Ideally, one of the Module specific ones.\r\n\r\nSo, let&#39;s apply these new strategies to my problem. I have already pasted @Slaw &#39;s `Main.java` above in this answer. Here are my new shell scripts.\r\n\r\nFirst is the raw compile command. That remains unchanged for me.\r\n\r\n```\r\njavac                                      \\\r\n        --module-source-path=src/main/java \\\r\n        --module=ModuleName                \\\r\n        -d classes\r\n```\r\n\r\nNext is running the modular source code. This one needs to change slightly.\r\n\r\n```\r\njava                                                 \\\r\n        --module-path=&quot;classes&quot;                      \\\r\n        --module=ModuleName/PackageName.Main         \\\r\n        --patch-module ModuleName=src/main/resources\r\n```\r\n\r\nAs you can see, I added a `--patch-module` command line there. Special thanks (yet again!) to @Slaw &#39;s answer -- https://stackoverflow.com/a/77030323/10118965\r\n\r\nThe `--patch-module` command has documentation here -- https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html (Ctrl+F &quot;--patch-module&quot;)\r\n\r\nThis command is what you use to insert resources into modules. All you do is specify the module you want to &quot;patch&quot; on the left side of the equals, and then on the right, put the directory that you want to copy over, recursively.\r\n\r\nSo, in my case, I want to copy ***the contents of*** src/main/resources (not the directory itself, but its contents) into my module. So, I just call the above command when doing my run command, and things are good!\r\n\r\nI would encourage reading @Slaw &#39;s answer, it goes into more detail.\r\n\r\nNext is the script to create my jar file. This one will also change slightly.\r\n\r\n```\r\njar                                               \\\r\n        --verbose                                 \\\r\n        --create                                  \\\r\n        --file run/executable/jar/ProjectName.jar \\\r\n        --main-class PackageName.Main             \\\r\n        -C classes/ModuleName .                   \\\r\n        -C src/main/resources .\r\n```\r\n\r\nThe only new addition is the second `-C` call. The jar command does not have the `--patch-module` option, but you can think of the `-C` option as essentially an alias for `--patch-module`. By doing this, I achieve the exact same effect (to my understanding).\r\n\r\nNext is my run command for the jar. This one remains unchanged.\r\n\r\n```\r\njava                                                      \\\r\n        --module-path=&quot;run/executable/jar&quot;                \\\r\n        --module=ModuleName/PackageName.Main\r\n```\r\n\r\nThe reason why it is unchanged is because `-C` actually inserts the `src/main/resources` ***into*** the jar. So, no need to insert any special commands! Since we are ingesting the jar, then we are ingesting all of its contents too - which means that we get the resources too!\r\n\r\nFinally, is the jpackage shell script. This one actually gets simpler!\r\n\r\n```\r\njpackage                                                  \\\r\n    --verbose                                             \\\r\n    --type msi                                            \\\r\n    --name ProjectName                                    \\\r\n    --install-dir davidalayachew_applications/ProjectName \\\r\n    --vendor &quot;David Alayachew&quot;                            \\\r\n    --win-dir-chooser                                     \\\r\n    --module-path run/executable/jar                      \\\r\n    --module ModuleName/PackageName.Main                  \\\r\n    --win-console                                         \\\r\n    --java-options &quot;--enable-preview&quot;                     \\\r\n    --dest run/executable/installer\r\n```\r\n\r\nThe only change here is that I removed the `--input` option from the jpackage script. Special thanks to @VGR for pointing this out! `--input` is now redundant because we already have the resources inside of our jar -- no need to manually insert it!\r\n\r\nNow, when I run all of the above, things work out beautifully!\r\n\r\nHere is the output when I run my modular code (not a jar).\r\n\r\n```\r\nmodule-info.class\r\nPackageName/\r\nPackageName/Main.class\r\nResourceParentFolder/\r\nResourceParentFolder/ResourceSubFolderA/\r\nResourceParentFolder/ResourceSubFolderA/Resource1A.png\r\nResourceParentFolder/ResourceSubFolderA/Resource2A.png\r\nResourceParentFolder/ResourceSubFolderA/Resource3A.png\r\nResourceParentFolder/ResourceSubFolderB/\r\nResourceParentFolder/ResourceSubFolderB/Resource1B.png\r\nResourceParentFolder/ResourceSubFolderB/Resource2B.png\r\nResourceParentFolder/ResourceSubFolderB/Resource3B.png\r\n```\r\n\r\nRemember, I changed my output command to simply list the locations of all of my module contents. If I wanted to fetch any of these resources, I would just call my `getResource` or `getResourceAsStream` methods.\r\n\r\nBut to be absolutely sure, I can instead, make a call to actually fetch one of the resources.\r\n\r\nHere is my new `Main.java`.\r\n\r\n```java\r\npackage PackageName;\r\n   \r\npublic class Main\r\n{\r\n\r\n   public static void main(String[] args) throws Exception\r\n   {\r\n   \r\n      new Main();\r\n   \r\n   }\r\n\r\n   public Main() throws Exception\r\n   {\r\n   \r\n   \r\n      try\r\n      (\r\n         final java.lang.module.ModuleReader reader =\r\n            ModuleLayer\r\n            \t.boot()\r\n            \t.configuration()\r\n            \t.findModule(&quot;ModuleName&quot;)\r\n            \t.get()\r\n            \t.reference()\r\n            \t.open()\r\n      )\r\n      {\r\n      \r\n         final String firstResource =\r\n            reader\r\n               .list()\r\n               .filter(each -&gt; each.contains(&quot;ResourceParentFolder/ResourceSubFolderA/Resource1A.png&quot;))\r\n               .findFirst()\r\n               .orElseThrow()\r\n               ;\r\n      \r\n         final var myModule =\r\n            ModuleLayer\r\n               .boot()\r\n               .findModule(&quot;ModuleName&quot;)\r\n               .orElseThrow()\r\n               ;\r\n      \r\n         final var inputStream = myModule.getResourceAsStream(firstResource);\r\n      \r\n         final java.awt.Image image = javax.imageio.ImageIO.read(inputStream);\r\n      \r\n         System.out.println(image);\r\n      \r\n      }\r\n   \r\n   \r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nNow, instead of printing all resources with a [`Stream&lt;String&gt;`][3], I simply filter down to the one I want, and then load it.\r\n\r\nAnd when I do it like this, it all just works!\r\n\r\nHere is the output for my run command (no jar).\r\n\r\n```\r\nBufferedImage@3ecd23d9: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@569cfc36 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\r\n```\r\n\r\nIt successfully fetched the image! I can take the returned object and put into my GUI, and everything works just fine!\r\n\r\nHere is the output for my run command (yes jar).\r\n\r\n```\r\nBufferedImage@de0a01f: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@4c75cab9 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\r\n```\r\n\r\nA 1-to-1 match!\r\n\r\nAnd here is the output for my jpackage installation.\r\n\r\n```\r\nBufferedImage@1f554b06: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@694e1548 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\r\n```\r\n\r\nIt&#39;s a match! I now have a solution for querying my module and fetching resources from it! And the solution is uniform across all execution contexts -- whether I am running some just-compiled .class files, or I am running a jar file, or I am executing the application as a jpackage created executable binary, I am set!\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html#list()\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html","title":"How to make images, properties, and other resources available to my modular application after jpackage?","body":"<p>You should not use <code>.getResource()</code> or <code>.getResourceAsStream()</code> to walk directories or view their contents. That was never part of their design. They are only meant to fetch files, not scan or see the contents of the directories.</p>\n<p>That was the source of my bug. Yes, I can simply view the folder contents by doing <code>.getResource()</code> or <code>.getResourceAsStream()</code>, but that works for plain folders and jar files only because plain folders (obviously) have that functionality built in and jars can halfway simulate the same thing. But trying to do that for an executable file (.exe file), will just plain not work. Here is the real way to do it.</p>\n<p>Modules are a beautiful thing. If you want to read the contents of your Module, just get an instance of a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html\" rel=\"nofollow noreferrer\"><code>java.lang.module.ModuleReader</code></a>. From there, you can get the directory searching abilities I was trying to get with <code>getResource()</code> or <code>.getResourceAsStream()</code>. Just call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/module/ModuleReader.html#list()\" rel=\"nofollow noreferrer\"><code>ModuleReader.list()</code></a>. <em><strong>Please note, it implements AutoCloseable, so use Try-with-resources.</strong></em> I am also following suit with what @Slaw did in this answer. <a href=\"https://stackoverflow.com/a/77030323/10118965\">https://stackoverflow.com/a/77030323/10118965</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package PackageName;\n\npublic class Main\n{\n\n   public static void main(String[] args) throws Exception\n   {\n   \n      new Main();\n   \n   }\n\n   public Main() throws Exception\n   {\n      var module = Main.class.getModule();\n      var reference = module.getLayer()\n              .configuration()\n              .findModule(module.getName())\n              .orElseThrow()\n              .reference();\n      try (var reader = reference.open()) {\n          reader.list().forEach(System.out::println);\n      }\n   }\n</code></pre>\n<p>From there, I can scan my directories and see the contents of my modules, and all I need to do is use a <code>ModuleReader</code>. I can pass the values into a <code>getResource</code> or <code>getResourceAsStream</code> call and it should work just fine. Ideally, one of the Module specific ones.</p>\n<p>So, let's apply these new strategies to my problem. I have already pasted @Slaw 's <code>Main.java</code> above in this answer. Here are my new shell scripts.</p>\n<p>First is the raw compile command. That remains unchanged for me.</p>\n<pre><code>javac                                      \\\n        --module-source-path=src/main/java \\\n        --module=ModuleName                \\\n        -d classes\n</code></pre>\n<p>Next is running the modular source code. This one needs to change slightly.</p>\n<pre><code>java                                                 \\\n        --module-path=&quot;classes&quot;                      \\\n        --module=ModuleName/PackageName.Main         \\\n        --patch-module ModuleName=src/main/resources\n</code></pre>\n<p>As you can see, I added a <code>--patch-module</code> command line there. Special thanks (yet again!) to @Slaw 's answer -- <a href=\"https://stackoverflow.com/a/77030323/10118965\">https://stackoverflow.com/a/77030323/10118965</a></p>\n<p>The <code>--patch-module</code> command has documentation here -- <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html</a> (Ctrl+F &quot;--patch-module&quot;)</p>\n<p>This command is what you use to insert resources into modules. All you do is specify the module you want to &quot;patch&quot; on the left side of the equals, and then on the right, put the directory that you want to copy over, recursively.</p>\n<p>So, in my case, I want to copy <em><strong>the contents of</strong></em> src/main/resources (not the directory itself, but its contents) into my module. So, I just call the above command when doing my run command, and things are good!</p>\n<p>I would encourage reading @Slaw 's answer, it goes into more detail.</p>\n<p>Next is the script to create my jar file. This one will also change slightly.</p>\n<pre><code>jar                                               \\\n        --verbose                                 \\\n        --create                                  \\\n        --file run/executable/jar/ProjectName.jar \\\n        --main-class PackageName.Main             \\\n        -C classes/ModuleName .                   \\\n        -C src/main/resources .\n</code></pre>\n<p>The only new addition is the second <code>-C</code> call. The jar command does not have the <code>--patch-module</code> option, but you can think of the <code>-C</code> option as essentially an alias for <code>--patch-module</code>. By doing this, I achieve the exact same effect (to my understanding).</p>\n<p>Next is my run command for the jar. This one remains unchanged.</p>\n<pre><code>java                                                      \\\n        --module-path=&quot;run/executable/jar&quot;                \\\n        --module=ModuleName/PackageName.Main\n</code></pre>\n<p>The reason why it is unchanged is because <code>-C</code> actually inserts the <code>src/main/resources</code> <em><strong>into</strong></em> the jar. So, no need to insert any special commands! Since we are ingesting the jar, then we are ingesting all of its contents too - which means that we get the resources too!</p>\n<p>Finally, is the jpackage shell script. This one actually gets simpler!</p>\n<pre><code>jpackage                                                  \\\n    --verbose                                             \\\n    --type msi                                            \\\n    --name ProjectName                                    \\\n    --install-dir davidalayachew_applications/ProjectName \\\n    --vendor &quot;David Alayachew&quot;                            \\\n    --win-dir-chooser                                     \\\n    --module-path run/executable/jar                      \\\n    --module ModuleName/PackageName.Main                  \\\n    --win-console                                         \\\n    --java-options &quot;--enable-preview&quot;                     \\\n    --dest run/executable/installer\n</code></pre>\n<p>The only change here is that I removed the <code>--input</code> option from the jpackage script. Special thanks to @VGR for pointing this out! <code>--input</code> is now redundant because we already have the resources inside of our jar -- no need to manually insert it!</p>\n<p>Now, when I run all of the above, things work out beautifully!</p>\n<p>Here is the output when I run my modular code (not a jar).</p>\n<pre><code>module-info.class\nPackageName/\nPackageName/Main.class\nResourceParentFolder/\nResourceParentFolder/ResourceSubFolderA/\nResourceParentFolder/ResourceSubFolderA/Resource1A.png\nResourceParentFolder/ResourceSubFolderA/Resource2A.png\nResourceParentFolder/ResourceSubFolderA/Resource3A.png\nResourceParentFolder/ResourceSubFolderB/\nResourceParentFolder/ResourceSubFolderB/Resource1B.png\nResourceParentFolder/ResourceSubFolderB/Resource2B.png\nResourceParentFolder/ResourceSubFolderB/Resource3B.png\n</code></pre>\n<p>Remember, I changed my output command to simply list the locations of all of my module contents. If I wanted to fetch any of these resources, I would just call my <code>getResource</code> or <code>getResourceAsStream</code> methods.</p>\n<p>But to be absolutely sure, I can instead, make a call to actually fetch one of the resources.</p>\n<p>Here is my new <code>Main.java</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package PackageName;\n   \npublic class Main\n{\n\n   public static void main(String[] args) throws Exception\n   {\n   \n      new Main();\n   \n   }\n\n   public Main() throws Exception\n   {\n   \n   \n      try\n      (\n         final java.lang.module.ModuleReader reader =\n            ModuleLayer\n                .boot()\n                .configuration()\n                .findModule(&quot;ModuleName&quot;)\n                .get()\n                .reference()\n                .open()\n      )\n      {\n      \n         final String firstResource =\n            reader\n               .list()\n               .filter(each -&gt; each.contains(&quot;ResourceParentFolder/ResourceSubFolderA/Resource1A.png&quot;))\n               .findFirst()\n               .orElseThrow()\n               ;\n      \n         final var myModule =\n            ModuleLayer\n               .boot()\n               .findModule(&quot;ModuleName&quot;)\n               .orElseThrow()\n               ;\n      \n         final var inputStream = myModule.getResourceAsStream(firstResource);\n      \n         final java.awt.Image image = javax.imageio.ImageIO.read(inputStream);\n      \n         System.out.println(image);\n      \n      }\n   \n   \n   \n   }\n\n}\n</code></pre>\n<p>Now, instead of printing all resources with a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream&lt;String&gt;</code></a>, I simply filter down to the one I want, and then load it.</p>\n<p>And when I do it like this, it all just works!</p>\n<p>Here is the output for my run command (no jar).</p>\n<pre><code>BufferedImage@3ecd23d9: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@569cfc36 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\n</code></pre>\n<p>It successfully fetched the image! I can take the returned object and put into my GUI, and everything works just fine!</p>\n<p>Here is the output for my run command (yes jar).</p>\n<pre><code>BufferedImage@de0a01f: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@4c75cab9 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\n</code></pre>\n<p>A 1-to-1 match!</p>\n<p>And here is the output for my jpackage installation.</p>\n<pre><code>BufferedImage@1f554b06: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@694e1548 transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 96 height = 88 #numDataElements 4 dataOff[0] = 3\n</code></pre>\n<p>It's a match! I now have a solution for querying my module and fetching resources from it! And the solution is uniform across all execution contexts -- whether I am running some just-compiled .class files, or I am running a jar file, or I am executing the application as a jpackage created executable binary, I am set!</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1693905489,"accepted_answer_id":77030475,"answer_count":1,"score":1,"last_activity_date":1693996635,"creation_date":1693680216,"question_id":77029614,"body_markdown":"I have the following project structure.\r\n\r\n```\r\nProjectName\r\n|\r\n|---src\r\n\t|\r\n\t|---main\r\n\t\t|\r\n\t\t|---java\r\n\t\t|\t|\r\n\t\t|\t|---ModuleName\r\n\t\t|\t\t|\r\n\t\t|\t\t|---module-info.java\r\n\t\t|\t\t|\r\n\t\t|\t\t|---PackageName\r\n\t\t|\t\t\t|\r\n\t\t|\t\t\t|---Main.java\r\n\t\t|\r\n\t\t|---resources\r\n\t\t\t|\r\n\t\t\t|---ResourceParentFolder\r\n\t\t\t\t|\r\n\t\t\t\t|---ResourceSubFolderA\r\n\t\t\t\t|\t|\r\n\t\t\t\t|\t|---Resource1A.png\r\n\t\t\t\t|\t|---Resource2A.png\r\n\t\t\t\t|\t|---Resource3A.png\r\n\t\t\t\t|\r\n\t\t\t\t|---ResourceSubFolderB\r\n\t\t\t\t\t|\r\n\t\t\t\t\t|---Resource1B.png\r\n\t\t\t\t\t|---Resource2B.png\r\n\t\t\t\t\t|---Resource3B.png\r\n```\r\n\r\nHere is my `Main.java`.\r\n\r\n```java\r\npackage PackageName;\r\n\r\npublic class Main\r\n{\r\n\r\n   public static void main(String[] args) throws Exception\r\n   {\r\n   \r\n      new Main();\r\n   \r\n   }\r\n\r\n   public Main() throws Exception\r\n   {\r\n   \r\n      System.out.println(&quot;0  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;PackageName/Main.class&quot;)));\r\n      System.out.println(&quot;1  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;ResourceParentFolder&quot;)));\r\n      System.out.println(&quot;2  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;)));\r\n      System.out.println(&quot;3  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;/ResourceParentFolder&quot;)));\r\n      System.out.println(&quot;4  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;)));\r\n      System.out.println(&quot;4b - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getPackages()));\r\n      System.out.println(&quot;5  - &quot; + ModuleLayer.boot().modules());\r\n      System.out.println(&quot;6  - &quot; + ModuleLayer.boot().parents());\r\n      System.out.println(&quot;7  - &quot; + ModuleLayer.boot().toString());\r\n      System.out.println(&quot;8  - &quot; + Main.class.getClassLoader().getResource(&quot;ResourceParentFolder&quot;));\r\n      System.out.println(&quot;9  - &quot; + Main.class.getClassLoader().getResource(&quot;/ResourceParentFolder&quot;));\r\n      System.out.println(&quot;10 - &quot; + Main.class.getClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;));\r\n      System.out.println(&quot;11 - &quot; + Main.class.getClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;));\r\n      System.out.println(&quot;12 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;ResourceParentFolder&quot;));\r\n      System.out.println(&quot;13 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;/ResourceParentFolder&quot;));\r\n      System.out.println(&quot;14 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;));\r\n      System.out.println(&quot;15 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;));\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\n```java\r\nmodule ModuleName\r\n{\r\n\r\n   requires java.base;\r\n\r\n}\r\n```\r\n\r\nHere is my shell script which performs compilation, executes it, creates a modular jar, executes that, and then calls `jpackage`.\r\n\r\n```bash\r\necho &quot;STARTING TO COMPILE MODULAR SOURCE CODE&quot;\r\n\r\njavac                                      \\\r\n        --module-source-path=src/main/java \\\r\n        --module=ModuleName            \\\r\n        -d classes\r\n\r\necho &quot;STARTING TO RUN  MODULAR SOURCE CODE&quot;\r\n\r\njava                                             \\\r\n        --module-path=&quot;classes&quot;                  \\\r\n        --module=ModuleName/PackageName.Main\r\n\r\necho &quot;STARTING TO BUILD A MODULAR JAR&quot;\r\n\r\njar                                               \\\r\n        --verbose                                 \\\r\n        --create                                  \\\r\n        --file run/executable/jar/ProjectName.jar \\\r\n        --main-class PackageName.Main             \\\r\n        -C classes/ModuleName .\r\n\r\necho &quot;STARTING TO RUN  A MODULAR JAR&quot;\r\n\r\njava                                                      \\\r\n        --module-path=&quot;run/executable/jar&quot;                \\\r\n        --module=ModuleName/PackageName.Main\r\n\r\necho &quot;STARTING TO RUN JPACKAGE&quot;\r\n\r\njpackage                                                  \\\r\n    --verbose                                             \\\r\n    --type msi                                            \\\r\n    --name ProjectName                                    \\\r\n    --input src/main/resources                            \\\r\n    --install-dir davidalayachew_applications/ProjectName \\\r\n    --vendor &quot;David Alayachew&quot;                            \\\r\n    --win-dir-chooser                                     \\\r\n    --module-path run/executable/jar                      \\\r\n    --module ModuleName/PackageName.Main                  \\\r\n    --win-console                                         \\\r\n    --java-options &quot;--enable-preview&quot;                     \\\r\n    --dest run/executable/installer\r\n\r\n```\r\n\r\nAs you can see, it creates a few directories.\r\n\r\nNow, the output during executions is where my frustration is.\r\n\r\nHere is the output when running immediately after compiling.\r\n\r\n```\r\nSTARTING TO RUN  MODULAR SOURCE CODE\r\n0  - Optional[file:**ignore**/ProjectName/classes/ModuleName/PackageName/Main.class]\r\n1  - Optional[file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder]\r\n2  - Optional[file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA]\r\n3  - Optional.empty\r\n4  - Optional.empty\r\n4b - Optional[[PackageName]]\r\n5  - [**ignore**]\r\n6  - []\r\n7  - **ignore**\r\n8  - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder\r\n9  - null\r\n10 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA\r\n11 - null\r\n12 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder\r\n13 - null\r\n14 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA\r\n15 - null\r\n```\r\n\r\nOk, it found the folders. And since it is [`java.net.URLConnection`][1], I can traverse the directory by modifying the `URL`. So, things worked running the code immediately after compile.\r\n\r\nHere is the output when running the created jar file.\r\n\r\n```\r\nSTARTING TO RUN  A MODULAR JAR\r\n0  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/PackageName/Main.class]\r\n1  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/]\r\n2  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/]\r\n3  - Optional.empty\r\n4  - Optional.empty\r\n4b - Optional[[ResourceParentFolder.ResourceSubFolderB, ResourceParentFolder.ResourceSubFolderA, ResourceParentFolder, PackageName]]\r\n5  - [**ignore**]\r\n6  - []\r\n7  - **ignore**\r\n8  - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/\r\n9  - null\r\n10 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/\r\n11 - null\r\n12 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/\r\n13 - null\r\n14 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/\r\n15 - null\r\n```\r\n\r\nOk, a different type of connection, but we still found the same folders. I will likely have to do `URL` construction a little differently, but the path forward is fairly clear.\r\n\r\nNow, here is what happens after I run my newly installed `jpackage` version of my application.\r\n\r\n```\r\n0  - Optional[jrt:/ModuleName/PackageName/Main.class]\r\n1  - Optional.empty\r\n2  - Optional.empty\r\n3  - Optional.empty\r\n4  - Optional.empty\r\n4b - Optional[[ResourceParentFolder, PackageName, ResourceParentFolder.ResourceSubFolderA, ResourceParentFolder.ResourceSubFolderB]]\r\n5  - [module ModuleName, module java.base]\r\n6  - []\r\n7  - ModuleName, java.base\r\n8  - null\r\n9  - null\r\n10 - null\r\n11 - null\r\n12 - null\r\n13 - null\r\n14 - null\r\n15 - null\r\n```\r\n\r\nNothing can be found aside from the `.class` file I put as a sanity check.\r\n\r\nSo, I opened up the installation directory, and I see that my resources are definitely there. The whole directory, subdirectories, and files. Everything inside of and including `ResourceParentFolder` from my tree structure has been copied over to the C:/Program File/davidalayachew_applications/ProjectName/app folder.\r\n\r\nI tried a laundry list of configurations, like prepending the `getResource` parameters with app, but that was no good. I have cycled through &gt;100 permutations, and truthfully, I have forgotten most of them.\r\n\r\nCan someone give me a pointer on how to get my resources to be accessible to my application after calling jpackage? I specifically need to be able to see the contents of a folder. Not just fetching individual files.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLConnection.html","title":"How to make images, properties, and other resources available to my modular application after jpackage?","body":"<p>I have the following project structure.</p>\n<pre><code>ProjectName\n|\n|---src\n    |\n    |---main\n        |\n        |---java\n        |   |\n        |   |---ModuleName\n        |       |\n        |       |---module-info.java\n        |       |\n        |       |---PackageName\n        |           |\n        |           |---Main.java\n        |\n        |---resources\n            |\n            |---ResourceParentFolder\n                |\n                |---ResourceSubFolderA\n                |   |\n                |   |---Resource1A.png\n                |   |---Resource2A.png\n                |   |---Resource3A.png\n                |\n                |---ResourceSubFolderB\n                    |\n                    |---Resource1B.png\n                    |---Resource2B.png\n                    |---Resource3B.png\n</code></pre>\n<p>Here is my <code>Main.java</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package PackageName;\n\npublic class Main\n{\n\n   public static void main(String[] args) throws Exception\n   {\n   \n      new Main();\n   \n   }\n\n   public Main() throws Exception\n   {\n   \n      System.out.println(&quot;0  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;PackageName/Main.class&quot;)));\n      System.out.println(&quot;1  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;ResourceParentFolder&quot;)));\n      System.out.println(&quot;2  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;)));\n      System.out.println(&quot;3  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;/ResourceParentFolder&quot;)));\n      System.out.println(&quot;4  - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;)));\n      System.out.println(&quot;4b - &quot; + ModuleLayer.boot().findModule(&quot;ModuleName&quot;)     .map(o -&gt; o.getPackages()));\n      System.out.println(&quot;5  - &quot; + ModuleLayer.boot().modules());\n      System.out.println(&quot;6  - &quot; + ModuleLayer.boot().parents());\n      System.out.println(&quot;7  - &quot; + ModuleLayer.boot().toString());\n      System.out.println(&quot;8  - &quot; + Main.class.getClassLoader().getResource(&quot;ResourceParentFolder&quot;));\n      System.out.println(&quot;9  - &quot; + Main.class.getClassLoader().getResource(&quot;/ResourceParentFolder&quot;));\n      System.out.println(&quot;10 - &quot; + Main.class.getClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;));\n      System.out.println(&quot;11 - &quot; + Main.class.getClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;));\n      System.out.println(&quot;12 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;ResourceParentFolder&quot;));\n      System.out.println(&quot;13 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;/ResourceParentFolder&quot;));\n      System.out.println(&quot;14 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;ResourceParentFolder/ResourceSubFolderA&quot;));\n      System.out.println(&quot;15 - &quot; + Main.class.getClassLoader().getSystemClassLoader().getResource(&quot;/ResourceParentFolder/ResourceSubFolderA&quot;));\n   \n   }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>module ModuleName\n{\n\n   requires java.base;\n\n}\n</code></pre>\n<p>Here is my shell script which performs compilation, executes it, creates a modular jar, executes that, and then calls <code>jpackage</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo &quot;STARTING TO COMPILE MODULAR SOURCE CODE&quot;\n\njavac                                      \\\n        --module-source-path=src/main/java \\\n        --module=ModuleName            \\\n        -d classes\n\necho &quot;STARTING TO RUN  MODULAR SOURCE CODE&quot;\n\njava                                             \\\n        --module-path=&quot;classes&quot;                  \\\n        --module=ModuleName/PackageName.Main\n\necho &quot;STARTING TO BUILD A MODULAR JAR&quot;\n\njar                                               \\\n        --verbose                                 \\\n        --create                                  \\\n        --file run/executable/jar/ProjectName.jar \\\n        --main-class PackageName.Main             \\\n        -C classes/ModuleName .\n\necho &quot;STARTING TO RUN  A MODULAR JAR&quot;\n\njava                                                      \\\n        --module-path=&quot;run/executable/jar&quot;                \\\n        --module=ModuleName/PackageName.Main\n\necho &quot;STARTING TO RUN JPACKAGE&quot;\n\njpackage                                                  \\\n    --verbose                                             \\\n    --type msi                                            \\\n    --name ProjectName                                    \\\n    --input src/main/resources                            \\\n    --install-dir davidalayachew_applications/ProjectName \\\n    --vendor &quot;David Alayachew&quot;                            \\\n    --win-dir-chooser                                     \\\n    --module-path run/executable/jar                      \\\n    --module ModuleName/PackageName.Main                  \\\n    --win-console                                         \\\n    --java-options &quot;--enable-preview&quot;                     \\\n    --dest run/executable/installer\n\n</code></pre>\n<p>As you can see, it creates a few directories.</p>\n<p>Now, the output during executions is where my frustration is.</p>\n<p>Here is the output when running immediately after compiling.</p>\n<pre><code>STARTING TO RUN  MODULAR SOURCE CODE\n0  - Optional[file:**ignore**/ProjectName/classes/ModuleName/PackageName/Main.class]\n1  - Optional[file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder]\n2  - Optional[file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA]\n3  - Optional.empty\n4  - Optional.empty\n4b - Optional[[PackageName]]\n5  - [**ignore**]\n6  - []\n7  - **ignore**\n8  - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder\n9  - null\n10 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA\n11 - null\n12 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder\n13 - null\n14 - file:**ignore**/ProjectName/src/main/resources/ResourceParentFolder/ResourceSubFolderA\n15 - null\n</code></pre>\n<p>Ok, it found the folders. And since it is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLConnection.html\" rel=\"nofollow noreferrer\"><code>java.net.URLConnection</code></a>, I can traverse the directory by modifying the <code>URL</code>. So, things worked running the code immediately after compile.</p>\n<p>Here is the output when running the created jar file.</p>\n<pre><code>STARTING TO RUN  A MODULAR JAR\n0  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/PackageName/Main.class]\n1  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/]\n2  - Optional[jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/]\n3  - Optional.empty\n4  - Optional.empty\n4b - Optional[[ResourceParentFolder.ResourceSubFolderB, ResourceParentFolder.ResourceSubFolderA, ResourceParentFolder, PackageName]]\n5  - [**ignore**]\n6  - []\n7  - **ignore**\n8  - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/\n9  - null\n10 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/\n11 - null\n12 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/\n13 - null\n14 - jar:file:///**ignore**/ProjectName/run/executable/jar/ProjectName.jar!/ResourceParentFolder/ResourceSubFolderA/\n15 - null\n</code></pre>\n<p>Ok, a different type of connection, but we still found the same folders. I will likely have to do <code>URL</code> construction a little differently, but the path forward is fairly clear.</p>\n<p>Now, here is what happens after I run my newly installed <code>jpackage</code> version of my application.</p>\n<pre><code>0  - Optional[jrt:/ModuleName/PackageName/Main.class]\n1  - Optional.empty\n2  - Optional.empty\n3  - Optional.empty\n4  - Optional.empty\n4b - Optional[[ResourceParentFolder, PackageName, ResourceParentFolder.ResourceSubFolderA, ResourceParentFolder.ResourceSubFolderB]]\n5  - [module ModuleName, module java.base]\n6  - []\n7  - ModuleName, java.base\n8  - null\n9  - null\n10 - null\n11 - null\n12 - null\n13 - null\n14 - null\n15 - null\n</code></pre>\n<p>Nothing can be found aside from the <code>.class</code> file I put as a sanity check.</p>\n<p>So, I opened up the installation directory, and I see that my resources are definitely there. The whole directory, subdirectories, and files. Everything inside of and including <code>ResourceParentFolder</code> from my tree structure has been copied over to the C:/Program File/davidalayachew_applications/ProjectName/app folder.</p>\n<p>I tried a laundry list of configurations, like prepending the <code>getResource</code> parameters with app, but that was no good. I have cycled through &gt;100 permutations, and truthfully, I have forgotten most of them.</p>\n<p>Can someone give me a pointer on how to get my resources to be accessible to my application after calling jpackage? I specifically need to be able to see the contents of a folder. Not just fetching individual files.</p>\n"},{"tags":["java","pst"],"answers":[{"tags":[],"owner":{"account_id":95329,"reputation":2406,"user_id":259686,"display_name":"James McLeod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693996483,"creation_date":1602819088,"answer_id":64382549,"question_id":27374152,"body_markdown":"You have misinterpreted how PST files work. The [Message Store][1] contains very little data; in fact, [only five properties][2] are required to be present. The Display Name (returned by [com.pff.PSTMessageStore.getDisplayName][3] is the name of the PST file, but data the mailbox owner&#39;s identity (including email address and full name) is not stored here or in any other place in the PST file.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-pst/aa0539bd-e7bf-4cec-8bde-0b87c2a86baf\r\n  [2]: https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-pst/5493a0eb-0356-4e88-b4f5-0433ce0a93fa\r\n  [3]: http://rjohnsondev.github.io/java-libpst/com/pff/PSTMessageStore.html#getDisplayName--","title":"How can I get PST email address and name?","body":"<p>You have misinterpreted how PST files work. The <a href=\"https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-pst/aa0539bd-e7bf-4cec-8bde-0b87c2a86baf\" rel=\"nofollow noreferrer\">Message Store</a> contains very little data; in fact, <a href=\"https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-pst/5493a0eb-0356-4e88-b4f5-0433ce0a93fa\" rel=\"nofollow noreferrer\">only five properties</a> are required to be present. The Display Name (returned by <a href=\"http://rjohnsondev.github.io/java-libpst/com/pff/PSTMessageStore.html#getDisplayName--\" rel=\"nofollow noreferrer\">com.pff.PSTMessageStore.getDisplayName</a> is the name of the PST file, but data the mailbox owner's identity (including email address and full name) is not stored here or in any other place in the PST file.</p>\n"}],"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693996483,"creation_date":1418112841,"question_id":27374152,"body_markdown":"We are working on stuff that deal with PST, so we are trying to create using [java-libpst][1] sample code. It work fine for me, but we need to show the details of PST, like PST name, configured email account on given PST.\r\n\r\nI want to show email address and the name of given address of given PST.\r\n\r\n    public Test(String filename) {\r\n    \t\ttry {\r\n    \t\t\tPSTFile pstFile = new PSTFile(filename);\r\n                PSTFolder pstFolder=pstFile.getRootFolder();\r\n    \t\t\tSystem.out.println(pstFile.getMessageStore().getDisplayName());\r\n    \t\t\tprocessFolder(pstFile.getRootFolder());\r\n    \t\t} catch (Exception err) {\r\n    \t\t\terr.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\n`pstFile.getMessageStore().getDisplayName()` show **imap.gmail.com** and we want two more thing like my email address configured is : mymail@gmail.com and name is : My Name.\r\n\r\nHow can I get this two properties using java-libpst?\r\n\r\n  [1]: https://code.google.com/p/java-libpst/","title":"How can I get PST email address and name?","body":"<p>We are working on stuff that deal with PST, so we are trying to create using <a href=\"https://code.google.com/p/java-libpst/\" rel=\"nofollow\">java-libpst</a> sample code. It work fine for me, but we need to show the details of PST, like PST name, configured email account on given PST.</p>\n\n<p>I want to show email address and the name of given address of given PST.</p>\n\n<pre><code>public Test(String filename) {\n        try {\n            PSTFile pstFile = new PSTFile(filename);\n            PSTFolder pstFolder=pstFile.getRootFolder();\n            System.out.println(pstFile.getMessageStore().getDisplayName());\n            processFolder(pstFile.getRootFolder());\n        } catch (Exception err) {\n            err.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p><code>pstFile.getMessageStore().getDisplayName()</code> show <strong>imap.gmail.com</strong> and we want two more thing like my email address configured is : mymail@gmail.com and name is : My Name.</p>\n\n<p>How can I get this two properties using java-libpst?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1693984028,"post_id":77049672,"comment_id":135829838,"body_markdown":"In your last line, you&#39;re combining successfully strings and variables. Why don&#39;t you do the same with the line with `ausgabedSqrt`?","body":"In your last line, you&#39;re combining successfully strings and variables. Why don&#39;t you do the same with the line with <code>ausgabedSqrt</code>?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1693984540,"post_id":77049672,"comment_id":135829907,"body_markdown":"Note that you are creating an excessive amount of `Scanner` objects. `System.in` is one input stream and you should create only one `Scanner` for reading it.","body":"Note that you are creating an excessive amount of <code>Scanner</code> objects. <code>System.in</code> is one input stream and you should create only one <code>Scanner</code> for reading it."}],"answers":[{"tags":[],"owner":{"account_id":18357258,"reputation":11,"user_id":13370035,"display_name":"Aman Chaturvedi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693984965,"creation_date":1693984965,"answer_id":77049778,"question_id":77049672,"body_markdown":"Try creating a String or Integer/int variable (say decimalPlaces) and take its value from the user.\r\n\r\nThen, replace `&quot;%.5f&quot;` by `&quot;%.&quot; + decimalPlaces + &quot;f&quot;`\r\n\r\nYou can store this in a String like this:\r\n\r\n```\r\nString sf = &quot;%.&quot; + decimalPlaces + &quot;f&quot;;\r\n\r\nString AusgabedSqrt = String.format(sf, dSqrt);\r\n```\r\n","title":"Java String Format with Scanner Double","body":"<p>Try creating a String or Integer/int variable (say decimalPlaces) and take its value from the user.</p>\n<p>Then, replace <code>&quot;%.5f&quot;</code> by <code>&quot;%.&quot; + decimalPlaces + &quot;f&quot;</code></p>\n<p>You can store this in a String like this:</p>\n<pre><code>String sf = &quot;%.&quot; + decimalPlaces + &quot;f&quot;;\n\nString AusgabedSqrt = String.format(sf, dSqrt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23587351,"reputation":60,"user_id":17625629,"display_name":"Vled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693985046,"creation_date":1693985046,"answer_id":77049789,"question_id":77049672,"body_markdown":"You can ask the user to enter the number of decimal digits, then use it to **create a String** that will be **passed as the format**.\r\n\r\n        System.out.println(&quot;Enter the number of decimal digits you want to round to: &quot;);\r\n        Scanner digitsScanner = new Scanner(System.in);\r\n        int digits = digitsScanner.nextInt();\r\n\r\n        String format = &quot;%.&quot; + digits + &quot;f&quot;;\r\n\r\n        // RIGHT HERE!\r\n        String AusgabedSqrt = String.format(format, dSqrt);\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T0aC6.png\r\n\r\n\r\nHope this helps !!","title":"Java String Format with Scanner Double","body":"<p>You can ask the user to enter the number of decimal digits, then use it to <strong>create a String</strong> that will be <strong>passed as the format</strong>.</p>\n<pre><code>    System.out.println(&quot;Enter the number of decimal digits you want to round to: &quot;);\n    Scanner digitsScanner = new Scanner(System.in);\n    int digits = digitsScanner.nextInt();\n\n    String format = &quot;%.&quot; + digits + &quot;f&quot;;\n\n    // RIGHT HERE!\n    String AusgabedSqrt = String.format(format, dSqrt);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/T0aC6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T0aC6.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this helps !!</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693996364,"creation_date":1693991084,"answer_id":77050490,"question_id":77049672,"body_markdown":"&gt; _&quot;... I also want the user to enter how many decimal places should be calculated.\r\nI entered 5 as a placeholder. I want the `String.format` to only show the amount of decimal places entered in `sc2`.&quot;_\r\n\r\nI would just concatenate the values.\r\n\r\n```java\r\nString AusgabedSqrt = &quot;%%.%df&quot;.formatted((int) nKomma).formatted(dSqrt);\r\n```\r\n\r\nYou could also use the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html)_ class, to assure the decimal is computed.  \r\n\r\n```java\r\nSystem.out.printf(&quot;Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll! &quot;);\r\n\r\n//Scanner Funktionen\r\nScanner sc = new Scanner(System.in);\r\n\r\nSystem.out.println(&quot; &quot;);\r\nBigDecimal dVar = sc.nextBigDecimal().setScale(100, RoundingMode.HALF_UP);\r\nBigDecimal dSqrt = dVar.sqrt(MathContext.DECIMAL128);\r\n\r\n//Frage nach Nachkommastellen\r\n\r\nSystem.out.println(&quot;Bitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von %.1f&quot;.formatted(dVar) + &quot; Berechnet werden soll!&quot;);\r\nScanner sc2 = new Scanner(System.in);\r\nint nKomma = sc2.nextInt();\r\n\r\n// RIGHT HERE!\r\nString AusgabedSqrt = &quot;%%.%df&quot;.formatted(nKomma).formatted(dSqrt);\r\n// RIGHT HERE!\r\n\r\nSystem.out.println(&quot; &quot;);\r\nSystem.out.println(&quot;Die Quadratwurzel von %.1f&quot;.formatted(dVar) +\r\n                   &quot; ist: %%.%df&quot;.formatted(nKomma).formatted(dSqrt));\r\n```\r\nHere are two example input and outputs.\r\n\r\n```none\r\nBitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll!  \r\n2\r\nBitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von 2.0 Berechnet werden soll!\r\n10\r\n \r\nDie Quadratwurzel von 2.0 ist: 1.4142135624\r\n```\r\n\r\n```none\r\nBitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll!  \r\n9\r\nBitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von 9.0 Berechnet werden soll!\r\n5\r\n \r\nDie Quadratwurzel von 9.0 ist: 3.00000\r\n```","title":"Java String Format with Scanner Double","body":"<blockquote>\n<p><em>&quot;... I also want the user to enter how many decimal places should be calculated.\nI entered 5 as a placeholder. I want the <code>String.format</code> to only show the amount of decimal places entered in <code>sc2</code>.&quot;</em></p>\n</blockquote>\n<p>I would just concatenate the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String AusgabedSqrt = &quot;%%.%df&quot;.formatted((int) nKomma).formatted(dSqrt);\n</code></pre>\n<p>You could also use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></em> class, to assure the decimal is computed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll! &quot;);\n\n//Scanner Funktionen\nScanner sc = new Scanner(System.in);\n\nSystem.out.println(&quot; &quot;);\nBigDecimal dVar = sc.nextBigDecimal().setScale(100, RoundingMode.HALF_UP);\nBigDecimal dSqrt = dVar.sqrt(MathContext.DECIMAL128);\n\n//Frage nach Nachkommastellen\n\nSystem.out.println(&quot;Bitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von %.1f&quot;.formatted(dVar) + &quot; Berechnet werden soll!&quot;);\nScanner sc2 = new Scanner(System.in);\nint nKomma = sc2.nextInt();\n\n// RIGHT HERE!\nString AusgabedSqrt = &quot;%%.%df&quot;.formatted(nKomma).formatted(dSqrt);\n// RIGHT HERE!\n\nSystem.out.println(&quot; &quot;);\nSystem.out.println(&quot;Die Quadratwurzel von %.1f&quot;.formatted(dVar) +\n                   &quot; ist: %%.%df&quot;.formatted(nKomma).formatted(dSqrt));\n</code></pre>\n<p>Here are two example input and outputs.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll!  \n2\nBitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von 2.0 Berechnet werden soll!\n10\n \nDie Quadratwurzel von 2.0 ist: 1.4142135624\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll!  \n9\nBitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von 9.0 Berechnet werden soll!\n5\n \nDie Quadratwurzel von 9.0 ist: 3.00000\n</code></pre>\n"}],"owner":{"account_id":29362075,"reputation":3,"user_id":22496613,"display_name":"Johannes Achter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693998375,"accepted_answer_id":77050490,"answer_count":3,"score":-1,"last_activity_date":1693996364,"creation_date":1693983915,"question_id":77049672,"body_markdown":"In this program the square root of the double `dVar` gets calculated. Everything&#39;s fine here.\r\n\r\n\r\n```java\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        System.out.printf(&quot;Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll! &quot;);\r\n\r\n        //Scanner Funktionen\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(new Scanner(System.in));\r\n\r\n        System.out.println(&quot; &quot;);\r\n        double dVar = sc.nextDouble();\r\n        double dSqrt = Math.sqrt(dVar);\r\n\r\n        //Frage nach Nachkommastellen\r\n\r\n        System.out.println(&quot;Bitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von &quot; + dVar + &quot; Berechnet werden soll!&quot;);\r\n        Scanner sc2 = new Scanner(System.in);\r\n        double nKomma = sc2.nextDouble();\r\n\r\n        // RIGHT HERE!\r\n        String AusgabedSqrt = String.format(&quot;%.5f&quot;, dSqrt);\r\n        // RIGHT HERE!\r\n\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;Die Quadratwurzel von &quot; + dVar + &quot; ist: &quot; + AusgabedSqrt);\r\n    }\r\n}\r\n```\r\n\r\n\r\nBut I also want the user to enter how many decimal places should be calculated.\r\nI entered 5 as a placeholder. I want the `String.format` to only show the amount of decimal places entered in `sc2`. ","title":"Java String Format with Scanner Double","body":"<p>In this program the square root of the double <code>dVar</code> gets calculated. Everything's fine here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        System.out.printf(&quot;Bitte geben sie eine Beliebige Zahl ein, von welcher die Quadratwurzel berechnet werden soll! &quot;);\n\n        //Scanner Funktionen\n        Scanner sc = new Scanner(System.in);\n        System.out.println(new Scanner(System.in));\n\n        System.out.println(&quot; &quot;);\n        double dVar = sc.nextDouble();\n        double dSqrt = Math.sqrt(dVar);\n\n        //Frage nach Nachkommastellen\n\n        System.out.println(&quot;Bitte geben sie ein, auf wie viele Nachkommastellen die Quadratwurzel von &quot; + dVar + &quot; Berechnet werden soll!&quot;);\n        Scanner sc2 = new Scanner(System.in);\n        double nKomma = sc2.nextDouble();\n\n        // RIGHT HERE!\n        String AusgabedSqrt = String.format(&quot;%.5f&quot;, dSqrt);\n        // RIGHT HERE!\n\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Die Quadratwurzel von &quot; + dVar + &quot; ist: &quot; + AusgabedSqrt);\n    }\n}\n</code></pre>\n<p>But I also want the user to enter how many decimal places should be calculated.\nI entered 5 as a placeholder. I want the <code>String.format</code> to only show the amount of decimal places entered in <code>sc2</code>.</p>\n"},{"tags":["java","visual-studio-code","javafx","intellisense","openjfx"],"comments":[{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":2,"creation_date":1693269703,"post_id":76996609,"comment_id":135735535,"body_markdown":"JPMS module is not supported for the project without build tools right now. But you may have other options, see: &quot;JavaFX and Visual Studio Code&quot; in https://openjfx.io/openjfx-docs/","body":"JPMS module is not supported for the project without build tools right now. But you may have other options, see: &quot;JavaFX and Visual Studio Code&quot; in <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1693277533,"post_id":76996609,"comment_id":135736172,"body_markdown":"I don’t know VS code, but perhaps if you use a JDK that includes JavaFX like Azul Zulu JDK FX or BellSoft Liberica Full JDK, the Intellisense might work as you wish. That should require no VM options, IDE library settings or other configuration.","body":"I don’t know VS code, but perhaps if you use a JDK that includes JavaFX like Azul Zulu JDK FX or BellSoft Liberica Full JDK, the Intellisense might work as you wish. That should require no VM options, IDE library settings or other configuration."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":2,"creation_date":1693299265,"post_id":76996609,"comment_id":135738964,"body_markdown":"Does this [question](https://stackoverflow.com/questions/72625811/how-to-add-javafx-javadocs-to-vscode-when-not-using-build-tools) help?","body":"Does this <a href=\"https://stackoverflow.com/questions/72625811/how-to-add-javafx-javadocs-to-vscode-when-not-using-build-tools\">question</a> help?"},{"owner":{"account_id":26759950,"reputation":33,"user_id":20358077,"display_name":"StckSmsh"},"score":0,"creation_date":1693995798,"post_id":76996609,"comment_id":135832135,"body_markdown":"@JialeDu I have added the sources to the settings.json file as described in the question you linked, and it is now showing me javadocs for JavaFX. However it still says that the packages &quot;do not exist&quot; and that it &quot;Cannot find symbol&quot;s.","body":"@JialeDu I have added the sources to the settings.json file as described in the question you linked, and it is now showing me javadocs for JavaFX. However it still says that the packages &quot;do not exist&quot; and that it &quot;Cannot find symbol&quot;s."}],"owner":{"account_id":26759950,"reputation":33,"user_id":20358077,"display_name":"StckSmsh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1693996272,"creation_date":1693267086,"question_id":76996609,"body_markdown":"I have made an OpenJFX project and am running it with the following options:\r\n\r\n\r\n```sh\r\n--module-path ${JAVAFX_HOME} --add-modules=javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web\r\n```\r\n\r\nThis works as expected and creates the application upon running. The problem is with VSCode linting. It says that &quot;package javafx.application does not exist&quot; amongst other packages. Is there a way to point VSCode to the packages or something along those lines. How can I get intellisense to work with OpenJFX. \r\n\r\nI am running on Ubuntu 22.04.3 with java version openjdk 20.0.1.\r\n\r\nI have tried changing the classpath in VSCode and adding the jars to the referenced libraries.\r\n\r\nEdit:&lt;br&gt;\r\nAdded sources to settings.json as recommended by @JialeDu&lt;br&gt;\r\n```\r\n{\r\n    &quot;java.project.referencedLibraries&quot;: {\r\n        &quot;include&quot;: [\r\n            &quot;/usr/share/openjfx/lib/*.jar&quot;\r\n        ],\r\n        &quot;sources&quot;: {\r\n            &quot;/usr/share/openjfx/lib/javafx-swt.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.web.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.swing.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.media.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.graphics.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.fxml.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.controls.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\r\n            &quot;/usr/share/openjfx/lib/javafx.base.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;\r\n        }    \r\n    }\r\n}\r\n```\r\nI still have red lines under half of my code, even tough it runs properly\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f9nhp.png","title":"VSCode support for OpenJFX","body":"<p>I have made an OpenJFX project and am running it with the following options:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>--module-path ${JAVAFX_HOME} --add-modules=javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.swing,javafx.web\n</code></pre>\n<p>This works as expected and creates the application upon running. The problem is with VSCode linting. It says that &quot;package javafx.application does not exist&quot; amongst other packages. Is there a way to point VSCode to the packages or something along those lines. How can I get intellisense to work with OpenJFX.</p>\n<p>I am running on Ubuntu 22.04.3 with java version openjdk 20.0.1.</p>\n<p>I have tried changing the classpath in VSCode and adding the jars to the referenced libraries.</p>\n<p>Edit:<br>\nAdded sources to settings.json as recommended by @JialeDu<br></p>\n<pre><code>{\n    &quot;java.project.referencedLibraries&quot;: {\n        &quot;include&quot;: [\n            &quot;/usr/share/openjfx/lib/*.jar&quot;\n        ],\n        &quot;sources&quot;: {\n            &quot;/usr/share/openjfx/lib/javafx-swt.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.web.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.swing.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.media.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.graphics.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.fxml.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.controls.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;,\n            &quot;/usr/share/openjfx/lib/javafx.base.jar&quot;: &quot;/usr/share/openjfx/lib/src.zip&quot;\n        }    \n    }\n}\n</code></pre>\n<p>I still have red lines under half of my code, even tough it runs properly\n<a href=\"https://i.stack.imgur.com/f9nhp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f9nhp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging"],"answers":[{"tags":[],"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1558604696,"creation_date":1558604696,"answer_id":56272441,"question_id":56262887,"body_markdown":"You create a new class (e.g. ``UserLogger``) that extends the Logger and implements your methods, and instantiate your logger with this class.\r\n```java\r\npublic class UserLogger extends FluentLogger {\r\n\r\n  public UserLogger forUser(Object userId) {\r\n    return super.log(&quot;User %s&quot;);\r\n  }\r\n...\r\n}","title":"How does one extend the Flogger fluent API for domain-specific attributes?","body":"<p>You create a new class (e.g. <code>UserLogger</code>) that extends the Logger and implements your methods, and instantiate your logger with this class.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class UserLogger extends FluentLogger {\n\n  public UserLogger forUser(Object userId) {\n    return super.log(\"User %s\");\n  }\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2158186,"reputation":182,"user_id":1912944,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693996099,"creation_date":1693535201,"answer_id":77020174,"question_id":56262887,"body_markdown":"Use `ScopedLoggingContexts` to add the metadata to every log statement automatically within a scoped context.\r\n\r\nThat way you don&#39;t need to change any existing log statements and it will even work for Flogger log statements in library code you might be using.\r\n\r\n```java\r\nScopedLoggingContexts.newContext().withMetadata(TASK_KEY, value).run(mySubTask(...));\r\n```\r\n\r\nor with the simpler &quot;tags&quot; mechanism:\r\n\r\n```java\r\nScopedLoggingContexts.newContext().withTags(Tags.of(&quot;label&quot;, &quot;value&quot;)).run(mySubTask(...));\r\n```\r\n\r\nYou can also use contexts to do things like enable extra logging during debugging on a per-request basis.\r\n\r\nSee my new site dedicated to providing better Flogger documentation:&lt;br&gt;\r\nhttps://hagbard.github.io/the-flogger-manual/advanced/#metadata-contexts-and-scopes\r\n\r\nUpdate (discussing `MetadataKey` and extending the API):\r\n\r\nThe other way to get slightly more type safety with the API is to use `MetadataKey` instead of `Tags`. A `MetadataKey` is strongly typed, accepts any value type, and can be customized (by making subclasses of `MetadataKey`) as to what it emits.\r\n\r\n```java\r\nlogger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).log(&quot;product added to cart: %s&quot;, productId);\r\n```\r\n\r\ncould then be:\r\n\r\n```java\r\nlogger.atInfo().with(SESSION_ID, session).log(&quot;product added to cart: %s&quot;, productId);\r\n```\r\n\r\nwhere `SESSION_ID` is a `MetadataKey&lt;SessionInfo&gt;`, which contains the user, session and cart IDs. And if the key is a subclass with the `emit()` method overridden, it can control how the IDs are presented.\r\n\r\nBut if session information is something you want to add to every log statement, save yourself a lot of hassle and use `ScopedLoggingContents` to add it (automatically) to every log statement in the session.\r\n\r\nHowever, if you really want to, you can also create your own subclass of `AbstractLogger` with an extended API (this is what `GoogleLogger` is). This lets you change things like parsing, formatting, and the available API methods.\r\n\r\nIf you do this however, you probably still want to avoid using that custom logger in common libraries since it forces a new dependency on users. My philosophy in Google was always that &quot;if you really have a great use case that&#39;s helping your project do logging better, we should just roll it into the core library rather than having teams each make their own APIs&quot;. Logging is a very cross cutting concern and it&#39;s unlikely one project will have a problem nobody else has.\r\n\r\nIn Google many hundreds of projects use Flogger, and only one or two ever had a sufficiently distinct use case which made it worth extending the core API itself. API extension, while &quot;cool&quot; was considered a &quot;last resort&quot; due to the extra maintenance burden it created.\r\n\r\nOne *BIG* warning about extending the API however is that it opens you up to a new class of breaking changes (i.e. if Flogger ever also happens to pick a new API method with the same name/signature). So, make sure to name new methods with names that are very unlikely to be useful in the core API.","title":"How does one extend the Flogger fluent API for domain-specific attributes?","body":"<p>Use <code>ScopedLoggingContexts</code> to add the metadata to every log statement automatically within a scoped context.</p>\n<p>That way you don't need to change any existing log statements and it will even work for Flogger log statements in library code you might be using.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ScopedLoggingContexts.newContext().withMetadata(TASK_KEY, value).run(mySubTask(...));\n</code></pre>\n<p>or with the simpler &quot;tags&quot; mechanism:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ScopedLoggingContexts.newContext().withTags(Tags.of(&quot;label&quot;, &quot;value&quot;)).run(mySubTask(...));\n</code></pre>\n<p>You can also use contexts to do things like enable extra logging during debugging on a per-request basis.</p>\n<p>See my new site dedicated to providing better Flogger documentation:<br>\n<a href=\"https://hagbard.github.io/the-flogger-manual/advanced/#metadata-contexts-and-scopes\" rel=\"nofollow noreferrer\">https://hagbard.github.io/the-flogger-manual/advanced/#metadata-contexts-and-scopes</a></p>\n<p>Update (discussing <code>MetadataKey</code> and extending the API):</p>\n<p>The other way to get slightly more type safety with the API is to use <code>MetadataKey</code> instead of <code>Tags</code>. A <code>MetadataKey</code> is strongly typed, accepts any value type, and can be customized (by making subclasses of <code>MetadataKey</code>) as to what it emits.</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).log(&quot;product added to cart: %s&quot;, productId);\n</code></pre>\n<p>could then be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.atInfo().with(SESSION_ID, session).log(&quot;product added to cart: %s&quot;, productId);\n</code></pre>\n<p>where <code>SESSION_ID</code> is a <code>MetadataKey&lt;SessionInfo&gt;</code>, which contains the user, session and cart IDs. And if the key is a subclass with the <code>emit()</code> method overridden, it can control how the IDs are presented.</p>\n<p>But if session information is something you want to add to every log statement, save yourself a lot of hassle and use <code>ScopedLoggingContents</code> to add it (automatically) to every log statement in the session.</p>\n<p>However, if you really want to, you can also create your own subclass of <code>AbstractLogger</code> with an extended API (this is what <code>GoogleLogger</code> is). This lets you change things like parsing, formatting, and the available API methods.</p>\n<p>If you do this however, you probably still want to avoid using that custom logger in common libraries since it forces a new dependency on users. My philosophy in Google was always that &quot;if you really have a great use case that's helping your project do logging better, we should just roll it into the core library rather than having teams each make their own APIs&quot;. Logging is a very cross cutting concern and it's unlikely one project will have a problem nobody else has.</p>\n<p>In Google many hundreds of projects use Flogger, and only one or two ever had a sufficiently distinct use case which made it worth extending the core API itself. API extension, while &quot;cool&quot; was considered a &quot;last resort&quot; due to the extra maintenance burden it created.</p>\n<p>One <em>BIG</em> warning about extending the API however is that it opens you up to a new class of breaking changes (i.e. if Flogger ever also happens to pick a new API method with the same name/signature). So, make sure to name new methods with names that are very unlikely to be useful in the core API.</p>\n"}],"owner":{"account_id":310373,"reputation":2413,"user_id":623316,"display_name":"Jon Wolski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77020174,"answer_count":2,"score":1,"last_activity_date":1693996099,"creation_date":1558549607,"question_id":56262887,"body_markdown":"Suppose in my domain, every log statement occurs in the context of a Web request and every request has the context of a user ID, session ID, and cart ID.\r\n\r\nRather than log something like the following:\r\n\r\n    logger.atInfo().log(&quot;User %s (session: %s) added product %s to cart %s.&quot;, userId, sessionId, productId, cartId);\r\n\r\n\r\nI would prefer something more structured like the following:\r\n\r\n    logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).log(&quot;product added to cart: %s&quot;, productId);\r\n\r\nor better yet\r\n\r\n    logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).product(productId).action(PRODUCT_ADDED).log();\r\n\r\nhttps://google.github.io/flogger/benefits#extensibility seems to imply this is possible, but I don&#39;t see where.\r\n\r\nMy hope is that my logging back-end can send a JSON serialization of this info to my ELK stack.","title":"How does one extend the Flogger fluent API for domain-specific attributes?","body":"<p>Suppose in my domain, every log statement occurs in the context of a Web request and every request has the context of a user ID, session ID, and cart ID.</p>\n\n<p>Rather than log something like the following:</p>\n\n<pre><code>logger.atInfo().log(\"User %s (session: %s) added product %s to cart %s.\", userId, sessionId, productId, cartId);\n</code></pre>\n\n<p>I would prefer something more structured like the following:</p>\n\n<pre><code>logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).log(\"product added to cart: %s\", productId);\n</code></pre>\n\n<p>or better yet</p>\n\n<pre><code>logger.atInfo().forUser(userId).withSession(sessionId).withCart(cartId).product(productId).action(PRODUCT_ADDED).log();\n</code></pre>\n\n<p><a href=\"https://google.github.io/flogger/benefits#extensibility\" rel=\"nofollow noreferrer\">https://google.github.io/flogger/benefits#extensibility</a> seems to imply this is possible, but I don't see where.</p>\n\n<p>My hope is that my logging back-end can send a JSON serialization of this info to my ELK stack.</p>\n"},{"tags":["java","android","android-studio","kotlin","screen-orientation"],"comments":[{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":4,"creation_date":1509728555,"post_id":47100741,"comment_id":81151951,"body_markdown":"If you are using android studio (3.0 +), go to `Code` -&gt; `Convert Java File to Kotlin File`, or simply copy-paste the code in a kotlin file","body":"If you are using android studio (3.0 +), go to <code>Code</code> -&gt; <code>Convert Java File to Kotlin File</code>, or simply copy-paste the code in a kotlin file"},{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1559115171,"post_id":47100741,"comment_id":99314665,"body_markdown":"Currently copy-paste often doesn&#39;t convert.","body":"Currently copy-paste often doesn&#39;t convert."},{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1559115216,"post_id":47100741,"comment_id":99314689,"body_markdown":"See https://stackoverflow.com/questions/34588117/how-can-i-convert-a-part-of-java-source-file-to-kotlin.","body":"See <a href=\"https://stackoverflow.com/questions/34588117/how-can-i-convert-a-part-of-java-source-file-to-kotlin\" title=\"how can i convert a part of java source file to kotlin\">stackoverflow.com/questions/34588117/&hellip;</a>."},{"owner":{"account_id":9022704,"reputation":164,"user_id":6723193,"display_name":"Amg91"},"score":0,"creation_date":1579550269,"post_id":47100741,"comment_id":105796640,"body_markdown":"Check [this](https://stackoverflow.com/a/47125184/6723193) out.","body":"Check <a href=\"https://stackoverflow.com/a/47125184/6723193\">this</a> out."}],"answers":[{"tags":[],"owner":{"account_id":366024,"reputation":2524,"user_id":711299,"accept_rate":71,"display_name":"lase"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1509728568,"creation_date":1509728568,"answer_id":47100958,"question_id":47100741,"body_markdown":"If you&#39;ve got Kotlin already configured in your Android Studio project, you can follow the steps outlined here to automatically convert with the instructions [here][1]. \r\n\r\nFrom the site:\r\n\r\n - On the main menu, point to Code menu.\r\n - Choose Convert Java File to Kotlin File.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2016.3/converting-a-java-file-to-kotlin-file.html &quot;Jetbrains Help&quot;","title":"Converting code from Java to Kotlin in Android Studio","body":"<p>If you've got Kotlin already configured in your Android Studio project, you can follow the steps outlined here to automatically convert with the instructions <a href=\"https://www.jetbrains.com/help/idea/2016.3/converting-a-java-file-to-kotlin-file.html\" rel=\"noreferrer\" title=\"Jetbrains Help\">here</a>. </p>\n\n<p>From the site:</p>\n\n<ul>\n<li>On the main menu, point to Code menu.</li>\n<li>Choose Convert Java File to Kotlin File.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1442869,"reputation":2289,"user_id":1362418,"accept_rate":57,"display_name":"Khaled Saifullah"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1573556841,"creation_date":1573556841,"answer_id":58817408,"question_id":47100741,"body_markdown":"If you are using **android studio 3.5+**, Just select your java file from your package, right click on it and select **Convert Java file to Kotlin file** from the bottom of popup menu","title":"Converting code from Java to Kotlin in Android Studio","body":"<p>If you are using <strong>android studio 3.5+</strong>, Just select your java file from your package, right click on it and select <strong>Convert Java file to Kotlin file</strong> from the bottom of popup menu</p>\n"},{"tags":[],"owner":{"account_id":2053243,"reputation":833,"user_id":1831722,"accept_rate":56,"display_name":"vesperto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693995750,"creation_date":1693995750,"answer_id":77051037,"question_id":47100741,"body_markdown":"If you just want to convert a code block and not a whole file, see [this answer](https://stackoverflow.com/a/43308666/1831722) (TL;DR using a Java scratch file let&#39;s your code be interpreted as such by the IDE and when pasting will trigger the _Do you want to convert to Kotlin?_ pop-up).","title":"Converting code from Java to Kotlin in Android Studio","body":"<p>If you just want to convert a code block and not a whole file, see <a href=\"https://stackoverflow.com/a/43308666/1831722\">this answer</a> (TL;DR using a Java scratch file let's your code be interpreted as such by the IDE and when pasting will trigger the <em>Do you want to convert to Kotlin?</em> pop-up).</p>\n"}],"owner":{"account_id":11059864,"reputation":153,"user_id":8121548,"accept_rate":25,"display_name":"Flugrek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17734,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1693995750,"creation_date":1509727721,"question_id":47100741,"body_markdown":"Can anyone explain how to replace existing Java code with Kotlin within Android Studio?","title":"Converting code from Java to Kotlin in Android Studio","body":"<p>Can anyone explain how to replace existing Java code with Kotlin within Android Studio?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693992098,"creation_date":1693992098,"answer_id":77050629,"question_id":77050233,"body_markdown":"That seems not to be related to Hibernate 6:\r\n\r\n\r\n`repository.getOne(storedSample.getId())` method returns proxy object, actually not backed up by live entity, so any interaction with such proxy object is expected to fail with `EntityNotFoundException`, but the problem is your test case is actually checking junit assertions module. \r\n\r\n[Previous implementation](https://github.com/junit-team/junit5/commit/e91e5dc26b86d0fc0a92f747f0b5dcdc9e5fbec2#diff-56e4e14d0fd342fdb67f149ee65409cc54635a57fd382ce4dc166c9abef47fdbL48) of `assertNull` method was trying to report assertion failure via:\r\n\r\n```java\r\nString stringRepresentation = actual.toString();\r\nif (stringRepresentation == null || stringRepresentation.equals(&quot;null&quot;)) {\r\n    fail(format(null, actual, message), null, actual);\r\n} else {\r\n    fail(buildPrefix(message) + &quot;expected: &lt;null&gt; but was: &lt;&quot; + actual + &quot;&gt;&quot;, null, actual);\r\n}\r\n```\r\n\r\nwhere `actual.toString()` call was throwing `EntityNotFoundException`, now junit calls `#toString()` method using [more accurate way](https://github.com/junit-team/junit5/blob/cb3445283961678a18ada304d7a33aba4cc6736d/junit-platform-commons/src/main/java/org/junit/platform/commons/util/StringUtils.java#L197):\r\n\r\n```java\r\ncatch (Throwable throwable) {\r\n  UnrecoverableExceptions.rethrowIfUnrecoverable(throwable);\r\n\r\n  return defaultToString(obj);\r\n}\r\n```","title":"Hibernate does not throw EntityNotFoundException after deleting Entity","body":"<p>That seems not to be related to Hibernate 6:</p>\n<p><code>repository.getOne(storedSample.getId())</code> method returns proxy object, actually not backed up by live entity, so any interaction with such proxy object is expected to fail with <code>EntityNotFoundException</code>, but the problem is your test case is actually checking junit assertions module.</p>\n<p><a href=\"https://github.com/junit-team/junit5/commit/e91e5dc26b86d0fc0a92f747f0b5dcdc9e5fbec2#diff-56e4e14d0fd342fdb67f149ee65409cc54635a57fd382ce4dc166c9abef47fdbL48\" rel=\"nofollow noreferrer\">Previous implementation</a> of <code>assertNull</code> method was trying to report assertion failure via:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String stringRepresentation = actual.toString();\nif (stringRepresentation == null || stringRepresentation.equals(&quot;null&quot;)) {\n    fail(format(null, actual, message), null, actual);\n} else {\n    fail(buildPrefix(message) + &quot;expected: &lt;null&gt; but was: &lt;&quot; + actual + &quot;&gt;&quot;, null, actual);\n}\n</code></pre>\n<p>where <code>actual.toString()</code> call was throwing <code>EntityNotFoundException</code>, now junit calls <code>#toString()</code> method using <a href=\"https://github.com/junit-team/junit5/blob/cb3445283961678a18ada304d7a33aba4cc6736d/junit-platform-commons/src/main/java/org/junit/platform/commons/util/StringUtils.java#L197\" rel=\"nofollow noreferrer\">more accurate way</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>catch (Throwable throwable) {\n  UnrecoverableExceptions.rethrowIfUnrecoverable(throwable);\n\n  return defaultToString(obj);\n}\n</code></pre>\n"}],"owner":{"account_id":13894074,"reputation":123,"user_id":10031362,"display_name":"WorkingAccount"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77050629,"answer_count":1,"score":1,"last_activity_date":1693994086,"creation_date":1693989067,"question_id":77050233,"body_markdown":"In our Spring application, we use a set of generic repository tests to validate our most basic use cases for using Spring repositories. One of those tests validates that an EntityNotFoundException is thrown if you try to get a previously deleted entity.\r\n\r\nBefore our migration to Spring Boot 3 and Hibernate 6, these tests worked correctly, but after the update, the expected exception was not thrown anymore.\r\n\r\nYou can reproduce this behavior with the following setup:\r\n\r\n 1. Entity.java (A simple Entity) \r\n```\r\npackage de.test.hibernate_delete.repository;\r\nimport jakarta.persistence.*;\r\n@jakarta.persistence.Entity\r\n@Table(name = &quot;entity&quot;)\r\npublic class Entity {\r\n    @Id @GeneratedValue(strategy = GenerationType.SEQUENCE) Long id;\r\n    @Version long version;\r\n    @Column(name = &quot;data&quot;) String data;\r\n    public Entity(String data) {this.data = data;}\r\n    public Entity() {}\r\n    public Long getId() {return id;}\r\n    public void setId(Long id) {this.id = id;}\r\n    public long getVersion() {return version;}\r\n    public void setVersion(long version) {this.version = version;}\r\n    public String getData() {return data;}\r\n    public void setData(String data) {this.data = data;}\r\n}\r\n\r\n```\r\n 2. EntiryRepository.java (A simple JpaRepository)\r\n```\r\npackage de.test.hibernate_delete.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface EntityRepository extends JpaRepository&lt;Entity, Long&gt; {\r\n}\r\n\r\n```\r\n 3. EntityDeleteTest.java (The testcase resulting in the error)\r\n```\r\npackage de.test.hibernate_delete;\r\n\r\nimport de.test.hibernate_delete.repository.Entity;\r\nimport de.test.hibernate_delete.repository.EntityRepository;\r\nimport jakarta.persistence.EntityNotFoundException;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = HibernateDeleteApplication.class)\r\npublic class EntityDeleteTest {\r\n    @Autowired private EntityRepository repository;\r\n    @Test public void testDelete() {\r\n        Entity storedSample = repository.saveAndFlush(new Entity(&quot;data&quot;));\r\n        assertNotNull(storedSample.getId());\r\n        repository.delete(storedSample);\r\n        repository.flush();\r\n        assertThrows(EntityNotFoundException.class, () -&gt; assertNull(repository.getOne(storedSample.getId())));\r\n    }\r\n}\r\n```\r\n\r\nThe test results in the following fail-message:\r\n\r\n    org.opentest4j.AssertionFailedError: Unexpected exception type thrown, \r\n    Expected :class jakarta.persistence.EntityNotFoundException\r\n    Actual   :class org.opentest4j.AssertionFailedError\r\n\r\nI have also pushed my minimal example to a github repo: https://github.com/LorenzSLA/hibernate_delete_minimal_exampel\r\nThe failed test can be seen in this GitHub Actions Build: https://github.com/LorenzSLA/hibernate_delete_minimal_exampel/actions/runs/6094606983/job/16536481715\r\n\r\n*Has anyone had similar problems after migrating to Spring Boot 3?*\r\n\r\n## Update:\r\nThanks to [Andreys comment](https://stackoverflow.com/a/77050629/10031362) I changed the test case:\r\n\r\n```\r\n\t@Test\r\n\tpublic void testDelete() {\r\n\t\tT storedSample = getRepository().saveAndFlush(getSample());\r\n\t\tassertNotNull(storedSample.getId());\r\n\t\tgetRepository().delete(storedSample);\r\n\t\tgetRepository().flush();\r\n\r\n\t\tassertFalse(getRepository().existsById(storedSample.getId()));\r\n\t}\r\n```","title":"Hibernate does not throw EntityNotFoundException after deleting Entity","body":"<p>In our Spring application, we use a set of generic repository tests to validate our most basic use cases for using Spring repositories. One of those tests validates that an EntityNotFoundException is thrown if you try to get a previously deleted entity.</p>\n<p>Before our migration to Spring Boot 3 and Hibernate 6, these tests worked correctly, but after the update, the expected exception was not thrown anymore.</p>\n<p>You can reproduce this behavior with the following setup:</p>\n<ol>\n<li>Entity.java (A simple Entity)</li>\n</ol>\n<pre><code>package de.test.hibernate_delete.repository;\nimport jakarta.persistence.*;\n@jakarta.persistence.Entity\n@Table(name = &quot;entity&quot;)\npublic class Entity {\n    @Id @GeneratedValue(strategy = GenerationType.SEQUENCE) Long id;\n    @Version long version;\n    @Column(name = &quot;data&quot;) String data;\n    public Entity(String data) {this.data = data;}\n    public Entity() {}\n    public Long getId() {return id;}\n    public void setId(Long id) {this.id = id;}\n    public long getVersion() {return version;}\n    public void setVersion(long version) {this.version = version;}\n    public String getData() {return data;}\n    public void setData(String data) {this.data = data;}\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>EntiryRepository.java (A simple JpaRepository)</li>\n</ol>\n<pre><code>package de.test.hibernate_delete.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface EntityRepository extends JpaRepository&lt;Entity, Long&gt; {\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>EntityDeleteTest.java (The testcase resulting in the error)</li>\n</ol>\n<pre><code>package de.test.hibernate_delete;\n\nimport de.test.hibernate_delete.repository.Entity;\nimport de.test.hibernate_delete.repository.EntityRepository;\nimport jakarta.persistence.EntityNotFoundException;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = HibernateDeleteApplication.class)\npublic class EntityDeleteTest {\n    @Autowired private EntityRepository repository;\n    @Test public void testDelete() {\n        Entity storedSample = repository.saveAndFlush(new Entity(&quot;data&quot;));\n        assertNotNull(storedSample.getId());\n        repository.delete(storedSample);\n        repository.flush();\n        assertThrows(EntityNotFoundException.class, () -&gt; assertNull(repository.getOne(storedSample.getId())));\n    }\n}\n</code></pre>\n<p>The test results in the following fail-message:</p>\n<pre><code>org.opentest4j.AssertionFailedError: Unexpected exception type thrown, \nExpected :class jakarta.persistence.EntityNotFoundException\nActual   :class org.opentest4j.AssertionFailedError\n</code></pre>\n<p>I have also pushed my minimal example to a github repo: <a href=\"https://github.com/LorenzSLA/hibernate_delete_minimal_exampel\" rel=\"nofollow noreferrer\">https://github.com/LorenzSLA/hibernate_delete_minimal_exampel</a>\nThe failed test can be seen in this GitHub Actions Build: <a href=\"https://github.com/LorenzSLA/hibernate_delete_minimal_exampel/actions/runs/6094606983/job/16536481715\" rel=\"nofollow noreferrer\">https://github.com/LorenzSLA/hibernate_delete_minimal_exampel/actions/runs/6094606983/job/16536481715</a></p>\n<p><em>Has anyone had similar problems after migrating to Spring Boot 3?</em></p>\n<h2>Update:</h2>\n<p>Thanks to <a href=\"https://stackoverflow.com/a/77050629/10031362\">Andreys comment</a> I changed the test case:</p>\n<pre><code>    @Test\n    public void testDelete() {\n        T storedSample = getRepository().saveAndFlush(getSample());\n        assertNotNull(storedSample.getId());\n        getRepository().delete(storedSample);\n        getRepository().flush();\n\n        assertFalse(getRepository().existsById(storedSample.getId()));\n    }\n</code></pre>\n"},{"tags":["java","swagger","swagger-ui","vert.x"],"answers":[{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693993910,"creation_date":1693993910,"answer_id":77050839,"question_id":77050265,"body_markdown":"If you look into the `*-bundle.js`-files in browser, you will see that at the `262464` line there are some invalid characters.\r\nThis is a consequence of the encoding problem on your machine. I.e. the `StaticHandler` delivers the resources with header `Content-Type` of e.g. `text/html;charset=Windows1251` instead of `UTF-8`.\r\n\r\nTo fix this problem I added a system property into my Gradle config:\r\n```\r\nplugins {\r\n  id &#39;application&#39;\r\n}\r\n\r\napplicationDefaultJvmArgs = [ \r\n  &#39;-Dfile.encoding=UTF-8&#39;,\r\n]\r\n```\r\nOther options of setting file encoding are [described here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding","title":"Swagger UI not loading in Vert.X with Java","body":"<p>If you look into the <code>*-bundle.js</code>-files in browser, you will see that at the <code>262464</code> line there are some invalid characters.\nThis is a consequence of the encoding problem on your machine. I.e. the <code>StaticHandler</code> delivers the resources with header <code>Content-Type</code> of e.g. <code>text/html;charset=Windows1251</code> instead of <code>UTF-8</code>.</p>\n<p>To fix this problem I added a system property into my Gradle config:</p>\n<pre><code>plugins {\n  id 'application'\n}\n\napplicationDefaultJvmArgs = [ \n  '-Dfile.encoding=UTF-8',\n]\n</code></pre>\n<p>Other options of setting file encoding are <a href=\"https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\">described here</a></p>\n"}],"owner":{"account_id":14262420,"reputation":23,"user_id":10302726,"display_name":"Soumak Poddar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693993910,"creation_date":1693989343,"question_id":77050265,"body_markdown":"I have copied all files from https://github.com/swagger-api/swagger-ui/tree/master/dist in my resources/webroot folder. When I try to open Swagger UI on chrome I get these 3 errors with blank white screen. Also static handler is created to point at this folder.\r\n\r\n```\r\nrouter.route(&quot;/doc/*&quot;).handler(StaticHandler.create().setCachingEnabled(false).setWebRoot(&quot;webroot&quot;));\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/aGw1w.png)](https://i.stack.imgur.com/aGw1w.png)","title":"Swagger UI not loading in Vert.X with Java","body":"<p>I have copied all files from <a href=\"https://github.com/swagger-api/swagger-ui/tree/master/dist\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-ui/tree/master/dist</a> in my resources/webroot folder. When I try to open Swagger UI on chrome I get these 3 errors with blank white screen. Also static handler is created to point at this folder.</p>\n<pre><code>router.route(&quot;/doc/*&quot;).handler(StaticHandler.create().setCachingEnabled(false).setWebRoot(&quot;webroot&quot;));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aGw1w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aGw1w.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","glassfish","guice","jersey-2.0","jersey-1.0"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693993374,"creation_date":1693993374,"answer_id":77050779,"question_id":76914923,"body_markdown":"Jersey 2 relies on HK2 with injection. It is the [HK2-Guice bridge][1] that serves as a support for Guice integration if needed in Jersey 2.\r\n\r\n\r\n  [1]: https://javaee.github.io/hk2/guice-bridge.html","title":"With what to replace com.sun.jersey.guice.spi.container.servlet.GuiceContainer in Jersey version 2?","body":"<p>Jersey 2 relies on HK2 with injection. It is the <a href=\"https://javaee.github.io/hk2/guice-bridge.html\" rel=\"nofollow noreferrer\">HK2-Guice bridge</a> that serves as a support for Guice integration if needed in Jersey 2.</p>\n"}],"owner":{"account_id":14573074,"reputation":15,"user_id":10525801,"display_name":"Lia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693993374,"creation_date":1692198754,"question_id":76914923,"body_markdown":"I have a Java web application using Google Guice as a framework which is currently on Java 8, and I need to upgrade it to Java 17. I am currently replacing all old classes from com.sun.jersey version 1.19.4 to org.glassfish.jersey.core version 2.35 which is compatible with Java 17. I have a class which extends GuiceServletContextListener, and in this class I configure jersey. So I have this statement declared in the class which uses GuiceContainer from import com.sun.jersey.guice.spi.container.servlet.GuiceContainer;\r\n\r\n```Java\r\n            serve(&quot;/test/*&quot;).with(GuiceContainer.class, jerseyParams);\r\n```\r\n\r\nThe GuiceContainer is not available in jersey version 2. So I do not know how to replace it with something else in order for the application to run.Or do I need to implement something custom in order for this serve to work\r\n\r\nI tried looking for feasible solutions or ideas on how to replace the GuiceContainer but I could not find anything which could help me in any way. I could not find anything similar on stackOverflow.","title":"With what to replace com.sun.jersey.guice.spi.container.servlet.GuiceContainer in Jersey version 2?","body":"<p>I have a Java web application using Google Guice as a framework which is currently on Java 8, and I need to upgrade it to Java 17. I am currently replacing all old classes from com.sun.jersey version 1.19.4 to org.glassfish.jersey.core version 2.35 which is compatible with Java 17. I have a class which extends GuiceServletContextListener, and in this class I configure jersey. So I have this statement declared in the class which uses GuiceContainer from import com.sun.jersey.guice.spi.container.servlet.GuiceContainer;</p>\n<pre><code>            serve(&quot;/test/*&quot;).with(GuiceContainer.class, jerseyParams);\n</code></pre>\n<p>The GuiceContainer is not available in jersey version 2. So I do not know how to replace it with something else in order for the application to run.Or do I need to implement something custom in order for this serve to work</p>\n<p>I tried looking for feasible solutions or ideas on how to replace the GuiceContainer but I could not find anything which could help me in any way. I could not find anything similar on stackOverflow.</p>\n"},{"tags":["java","linux","opendj","cacerts"],"answers":[{"tags":[],"owner":{"account_id":383083,"reputation":4808,"user_id":738708,"display_name":"Ludovic Poitou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692172257,"creation_date":1692172257,"answer_id":76911535,"question_id":76874945,"body_markdown":"A change in JavaVM shouldn&#39;t affect the admin truststore which is located under the opends folder.\r\nI would suggest that you try to use the Java SSL debugging flag to obtain a more specific error message that will help you understand where the issue lies (for details see https://ludopoitou.com/2011/06/29/opendj-troubleshooting-ldap-ssl-connections/).\r\n","title":"OpenDJ Administration Port (4444) not able to authenticate Default User(Directory Manager) /any user","body":"<p>A change in JavaVM shouldn't affect the admin truststore which is located under the opends folder.\nI would suggest that you try to use the Java SSL debugging flag to obtain a more specific error message that will help you understand where the issue lies (for details see <a href=\"https://ludopoitou.com/2011/06/29/opendj-troubleshooting-ldap-ssl-connections/\" rel=\"nofollow noreferrer\">https://ludopoitou.com/2011/06/29/opendj-troubleshooting-ldap-ssl-connections/</a>).</p>\n"},{"tags":[],"owner":{"account_id":29378092,"reputation":11,"user_id":22509208,"display_name":"Rajthilak Ravi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693992644,"creation_date":1693992644,"answer_id":77050702,"question_id":76874945,"body_markdown":"I was having the same issue:\r\n\r\n2 things to resolve:\r\n\r\n1. disable ipv6( not sure was this the reason)\r\n2. on java (conf/java.security) comment out the jdk.tls.disabledAlgorithms","title":"OpenDJ Administration Port (4444) not able to authenticate Default User(Directory Manager) /any user","body":"<p>I was having the same issue:</p>\n<p>2 things to resolve:</p>\n<ol>\n<li>disable ipv6( not sure was this the reason)</li>\n<li>on java (conf/java.security) comment out the jdk.tls.disabledAlgorithms</li>\n</ol>\n"}],"owner":{"account_id":9657790,"reputation":35,"user_id":7166828,"display_name":"salim ep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693992644,"creation_date":1691663925,"question_id":76874945,"body_markdown":"Dears,\r\n\r\nCould you advise me on below situation, am having an issue with OpenDJ DS after change JVM to OpenJDK\r\nseems like the admin-certs has been removed from trusted store in Java \r\ncould you advise how we can recreate admin connector/certs in OpenDJ without re installing\r\n\r\n\r\n\r\nconfig.ldif\r\n\r\n```\r\ndn: cn=Administration Connector,cn=config\r\nobjectClass: top\r\nobjectClass: ds-cfg-administration-connector\r\nds-cfg-trust-manager-provider: cn=Administration,cn=Trust Manager Providers,cn=config\r\ncn: Administration Connector\r\nds-cfg-key-manager-provider: cn=Administration,cn=Key Manager Providers,cn=config\r\nds-cfg-listen-address: 0.0.0.0\r\nds-cfg-listen-port: 4444\r\nds-cfg-ssl-cert-nickname: admin-cert\r\n```\r\nError even i put correct password\r\n```\r\n./dsconfig -v\r\n\r\n\r\n&gt;&gt;&gt;&gt; Specify OpenDJ LDAP connection parameters\r\n\r\nDirectory server hostname or IP address [XXXX.XXX.XX]:\r\n\r\nDirectory server administration port number [4444]:\r\n\r\nAdministrator user bind DN [cn=Directory Manager]:\r\n\r\nPassword for user &#39;cn=Directory Manager&#39;:\r\nUnable to connect to the server at XXXX.XXX.XX on port 4444.\r\nCheck this port is an administration port\r\n```\r\nPort status\r\n\r\n```\r\nlsof -nPi :4444\r\n\r\nCOMMAND   PID USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME\r\njava    14530 ldap   87u  IPv6 4618018      0t0  TCP *:4444 (LISTEN)\r\n\r\n```","title":"OpenDJ Administration Port (4444) not able to authenticate Default User(Directory Manager) /any user","body":"<p>Dears,</p>\n<p>Could you advise me on below situation, am having an issue with OpenDJ DS after change JVM to OpenJDK\nseems like the admin-certs has been removed from trusted store in Java\ncould you advise how we can recreate admin connector/certs in OpenDJ without re installing</p>\n<p>config.ldif</p>\n<pre><code>dn: cn=Administration Connector,cn=config\nobjectClass: top\nobjectClass: ds-cfg-administration-connector\nds-cfg-trust-manager-provider: cn=Administration,cn=Trust Manager Providers,cn=config\ncn: Administration Connector\nds-cfg-key-manager-provider: cn=Administration,cn=Key Manager Providers,cn=config\nds-cfg-listen-address: 0.0.0.0\nds-cfg-listen-port: 4444\nds-cfg-ssl-cert-nickname: admin-cert\n</code></pre>\n<p>Error even i put correct password</p>\n<pre><code>./dsconfig -v\n\n\n&gt;&gt;&gt;&gt; Specify OpenDJ LDAP connection parameters\n\nDirectory server hostname or IP address [XXXX.XXX.XX]:\n\nDirectory server administration port number [4444]:\n\nAdministrator user bind DN [cn=Directory Manager]:\n\nPassword for user 'cn=Directory Manager':\nUnable to connect to the server at XXXX.XXX.XX on port 4444.\nCheck this port is an administration port\n</code></pre>\n<p>Port status</p>\n<pre><code>lsof -nPi :4444\n\nCOMMAND   PID USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME\njava    14530 ldap   87u  IPv6 4618018      0t0  TCP *:4444 (LISTEN)\n\n</code></pre>\n"},{"tags":["java","properties","resources","resourcebundle"],"answers":[{"tags":[],"owner":{"account_id":9235262,"reputation":780,"user_id":6860091,"accept_rate":100,"display_name":"krund"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1593650982,"creation_date":1515580598,"answer_id":48185438,"question_id":48184900,"body_markdown":"You probably using wrong `baseName` for your bundle. According to [documentation](https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html#getBundle-java.lang.String-java.util.Locale-):\r\n\r\n&gt; Gets a resource bundle using the specified base name, the default\r\n&gt; locale, and the caller&#39;s class loader\r\n\r\n&quot;Class loader&quot; means that resource loaded from folder with compiled classes. In the screenshot, the path to your resource is `src/logic/strings.properties`, so it should be located in `classes/logic/` folder, and as baseName you should use `logic/strings` (or `logic/strings.properties`, I&#39;m not sure about that).","title":"Can&#39;t find resource bundle exception","body":"<p>You probably using wrong <code>baseName</code> for your bundle. According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html#getBundle-java.lang.String-java.util.Locale-\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Gets a resource bundle using the specified base name, the default\nlocale, and the caller's class loader</p>\n</blockquote>\n<p>&quot;Class loader&quot; means that resource loaded from folder with compiled classes. In the screenshot, the path to your resource is <code>src/logic/strings.properties</code>, so it should be located in <code>classes/logic/</code> folder, and as baseName you should use <code>logic/strings</code> (or <code>logic/strings.properties</code>, I'm not sure about that).</p>\n"}],"owner":{"account_id":5218768,"reputation":683,"user_id":4172836,"accept_rate":75,"display_name":"DeMo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6941,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48185438,"answer_count":1,"score":4,"last_activity_date":1693992454,"creation_date":1515578885,"question_id":48184900,"body_markdown":"I want to use a resource bundle called `strings` but I get following error when running my main method in `MainApplication.java`:\r\n\r\n    java.util.MissingResourceException: Can&#39;t find bundle for base name strings, locale de_DE\r\n    \tat java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1564)\r\n    \tat java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1387)\r\n    \tat java.util.ResourceBundle.getBundle(ResourceBundle.java:845)\r\n    \tat logic.MainApplication.start(MainApplication.java:20) (...)\r\n\r\nMy project structure:\r\n\r\n[![project structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l8uIS.png\r\n\r\nThe two files `strings.properties` and `strings_de_DE.properties` are stored in the same directory as `MainApplication.java` and all three files are in the directory `pi_display/src/logic/` (IntelliJ puts them into a virtual &quot;Resource Bundle&quot; directory for a clearer display of the project structure).\r\n\r\nMain class/method: \r\n\r\n    public class MainApplication {\r\n        public static void main(String[] args) {\r\n            Locale locale = Locale.GERMANY;\r\n            ResourceBundle resources = ResourceBundle.getBundle(&quot;strings&quot;, locale);\r\n            // ...\r\n        }\r\n\r\nI&#39;ve already tried to move the files to other packages and specify the `baseName` of the bundle (i.e. `logic.strings` or other package structures if I moved them elsewhere). \r\n\r\nI don&#39;t understand why the bundle can&#39;t be found given `MainApplication` and the bundle files are in the same directory.","title":"Can&#39;t find resource bundle exception","body":"<p>I want to use a resource bundle called <code>strings</code> but I get following error when running my main method in <code>MainApplication.java</code>:</p>\n<pre><code>java.util.MissingResourceException: Can't find bundle for base name strings, locale de_DE\n    at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1564)\n    at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1387)\n    at java.util.ResourceBundle.getBundle(ResourceBundle.java:845)\n    at logic.MainApplication.start(MainApplication.java:20) (...)\n</code></pre>\n<p>My project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/l8uIS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l8uIS.png\" alt=\"project structure\" /></a></p>\n<p>The two files <code>strings.properties</code> and <code>strings_de_DE.properties</code> are stored in the same directory as <code>MainApplication.java</code> and all three files are in the directory <code>pi_display/src/logic/</code> (IntelliJ puts them into a virtual &quot;Resource Bundle&quot; directory for a clearer display of the project structure).</p>\n<p>Main class/method:</p>\n<pre><code>public class MainApplication {\n    public static void main(String[] args) {\n        Locale locale = Locale.GERMANY;\n        ResourceBundle resources = ResourceBundle.getBundle(&quot;strings&quot;, locale);\n        // ...\n    }\n</code></pre>\n<p>I've already tried to move the files to other packages and specify the <code>baseName</code> of the bundle (i.e. <code>logic.strings</code> or other package structures if I moved them elsewhere).</p>\n<p>I don't understand why the bundle can't be found given <code>MainApplication</code> and the bundle files are in the same directory.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1693976576,"post_id":77049101,"comment_id":135828900,"body_markdown":"the correct folder is `src/test/resources`. BTW: please share a [MCVE]","body":"the correct folder is <code>src&#47;test&#47;resources</code>. BTW: please share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693992296,"creation_date":1693978486,"answer_id":77049230,"question_id":77049101,"body_markdown":"By convention Maven uses the following directory structure:\r\n```none\r\nsrc\r\n|__ main            // production \r\n|    |__ java       // production code \r\n|    |__ resources  // production resources\r\n|\r\n|__ test            // test \r\n     |__ java       // test code \r\n     |__ resources  // test resources \r\n```\r\n\r\nSo the chances are that you&#39;ve placed your properties file in the wrong place.","title":"properties file in src/main/test is not being recognized by doing mvn clean test","body":"<p>By convention Maven uses the following directory structure:</p>\n<pre class=\"lang-none prettyprint-override\"><code>src\n|__ main            // production \n|    |__ java       // production code \n|    |__ resources  // production resources\n|\n|__ test            // test \n     |__ java       // test code \n     |__ resources  // test resources \n</code></pre>\n<p>So the chances are that you've placed your properties file in the wrong place.</p>\n"}],"owner":{"account_id":19160563,"reputation":39,"user_id":13996409,"display_name":"usha duddu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693992296,"creation_date":1693976266,"question_id":77049101,"body_markdown":"Failed to parse configuration class [com.visa.vbv.ds.dao.TestHibernateConfig]; nested exception is java.io.FileNotFoundException: class path resource [test.properties] cannot be opened because it does not exist\r\n\r\nI get above error on doing mvn test. File is present in my src/main/test","title":"properties file in src/main/test is not being recognized by doing mvn clean test","body":"<p>Failed to parse configuration class [com.visa.vbv.ds.dao.TestHibernateConfig]; nested exception is java.io.FileNotFoundException: class path resource [test.properties] cannot be opened because it does not exist</p>\n<p>I get above error on doing mvn test. File is present in my src/main/test</p>\n"},{"tags":["java","database","hibernate","jdbc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694033344,"post_id":77048746,"comment_id":135839818,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693992285,"creation_date":1693977057,"answer_id":77049146,"question_id":77048746,"body_markdown":"I have already figured out where the error is.\r\n\r\nSo the error based on the `animalDAO` class.\r\nIn the methods `selectAll`, `selectByID`, `insert`, `update` and `delete`, I forgot to surround with `try...catch`. The very important step so as to check if the methods got an error or not.\r\nSo after I surrounded all the methods in `try...catch`, the project can work properly.\r\n\r\nHere is an update of `animalDAO` class:\r\n\r\n    package DAO;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Query;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    \r\n    import model.animal;\r\n    import util.hibernateUtil;\r\n    \r\n    public class animalDAO implements interfaceDAO&lt;animal&gt; {\r\n    \r\n    // this is previous method code\r\n    //\t@Override\r\n    //\tpublic List&lt;animal&gt; sellectAll() {\r\n    //\t\tList&lt;animal&gt; list = new ArrayList();\r\n    //\t\ttry {\r\n    //\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\t// open &amp; begin transaction\r\n    //\t\t\t\tSession s = sf.openSession();\r\n    //\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\r\n    //\t\t\t\t// transaction\r\n    //\t\t\t\tString hql = &quot;from animal&quot;;\r\n    //\t\t\t\tQuery q = s.createQuery(hql);\r\n    //\t\t\t\tlist = q.getResultList();\r\n    //\t\t\t\t\r\n    //\t\t\t\t// commit &amp; close transaction\r\n    //\t\t\t\ttrans.commit();\r\n    //\t\t\t\tsf.close();\r\n    //\t\t\t}\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t}\r\n    //\t\treturn list;\r\n    //\t}\r\n    //\r\n    //\t@Override\r\n    //\tpublic animal selectByID(animal t) {\r\n    //\t\tList&lt;animal&gt; list = new ArrayList&lt;&gt;();\r\n    //\t\t\r\n    //\t\ttry {\r\n    //\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\tSession s = sf.openSession();\r\n    //\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\r\n    //\t\t\t\tString hql = &quot;from animal a where a.id=:id&quot;;\r\n    //\t\t\t\tQuery q = s.createQuery(hql);\r\n    //\t\t\t\tq.setParameter(&quot;id&quot;, t.getId());\r\n    //\t\t\t\tlist = q.getResultList();\r\n    //\t\t\t\t\r\n    //\t\t\t\ttrans.commit();\r\n    //\t\t\t\tsf.close();\r\n    //\t\t\t}\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t}\r\n    //\t\t\r\n    //\t\tif (list.size() &gt; 0) {\r\n    //\t\t\treturn list.get(0);\r\n    //\t\t}else {\r\n    //\t\t\treturn null;\r\n    //\t\t}\r\n    //\t}\r\n    //\r\n    //\r\n    //\t@Override\r\n    //\tpublic boolean insert(animal t) {\r\n    //\t\tboolean result = false;\r\n    //\t\t\r\n    //\t\ttry {\r\n    //\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\tSession s = sf.openSession();\r\n    //\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\r\n    //\t\t\t\t// save: chỉ lưu khi chưa tồn tại\r\n    ////\t\t\t\ts.save(t);\r\n    //\t\t\t\t\r\n    //\t\t\t\t//saveOrUpdate: th&#234;m mới khi chưa tồn tại, cập nhật dữ liệu khi đ&#227; tồn tại\r\n    //\t\t\t\ts.saveOrUpdate(t);\r\n    //\t\t\t\t\r\n    //\t\t\t\ttrans.commit();\r\n    //\t\t\t\tsf.close();\r\n    //\t\t\t\t\r\n    //\t\t\t\treturn true;\r\n    //\t\t\t}\r\n    //\t\t\t\r\n    //\t\t\t\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t}\r\n    //\t\treturn false;\r\n    //\t}\r\n    //\r\n    //\t@Override\r\n    //\tpublic boolean update(animal t) {\r\n    //\t\tboolean result = false;\r\n    //\t\t\r\n    //\t\ttry {\r\n    //\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\tSession s = sf.openSession();\r\n    //\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\r\n    //\t\t\t\t// save: chỉ lưu khi chưa tồn tại\r\n    ////\t\t\t\ts.save(t);\r\n    //\t\t\t\t\r\n    //\t\t\t\t//saveOrUpdate: th&#234;m mới khi chưa tồn tại, cập nhật dữ liệu khi đ&#227; tồn tại\r\n    //\t\t\t\ts.saveOrUpdate(t);\r\n    //\t\t\t\t\r\n    //\t\t\t\ttrans.commit();\r\n    //\t\t\t\tsf.close();\r\n    //\t\t\t\t\r\n    //\t\t\t\treturn true;\r\n    //\t\t\t}\r\n    //\t\t\t\r\n    //\t\t\t\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t}\r\n    //\t\treturn false;\r\n    //\t}\r\n    //\r\n    //\t@Override\r\n    //\tpublic boolean delete(animal t) {\r\n    //\t\ttry (SessionFactory sf = hibernateUtil.getSessionFactory()) {\r\n    //\t\t\tif (sf != null) {\r\n    //\t\t\t\ttry(Session s = sf.openSession()){\r\n    //\t\t\t\t\t\r\n    //\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n    //\t\t\t\t\t\r\n    //\t\t\t\t\ts.delete(t);\r\n    //\t\t\t\t\t\r\n    //\t\t\t\t\ttrans.commit();\r\n    //\t\t\t\t\tsf.close();\r\n    //\t\t\t\t}\r\n    //\t\t\t}\r\n    //\t\t} catch (Exception e) {\r\n    //\t\t\te.printStackTrace();\r\n    //\t\t\treturn false;\r\n    //\t\t}\r\n    //\t\treturn true;\r\n    //\t}\r\n    \t\r\n    \r\n    // this is new code after update\r\n    \t@Override\r\n    \tpublic List&lt;animal&gt; sellectAll() {\r\n    \t\tList&lt;animal&gt; list = new ArrayList();\r\n    \t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    \t\tif (sf != null) {\r\n    \t\t\ttry(Session s = sf.openSession();) {\r\n    \t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\t\r\n    \t\t\t\t// transaction\r\n    \t\t\t\tString hql = &quot;from animal&quot;;\r\n    \t\t\t\tQuery q = s.createQuery(hql);\r\n    \t\t\t\tlist = q.getResultList();\r\n    \t\t\t\ttrans.commit();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tsf.close();\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic animal selectByID(animal t) {\r\n    \t\tList&lt;animal&gt; list = new ArrayList&lt;&gt;();\r\n    \t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    \t\tif (sf != null) {\r\n    \t\t\ttry(Session s = sf.openSession();) {\r\n    \t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\t\r\n    \t\t\t\tString hql = &quot;from animal a where a.id=:id&quot;;\r\n    \t\t\t\tQuery q = s.createQuery(hql);\r\n    \t\t\t\tq.setParameter(&quot;id&quot;, t.getId());\r\n    \t\t\t\tlist = q.getResultList();\r\n    \t\t\t\t\r\n    \t\t\t\ttrans.commit();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tsf.close();\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (list.size() &gt; 0) {\r\n    \t\t\treturn list.get(0);\r\n    \t\t}else {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic boolean insert(animal t) {\r\n    \t\tboolean result = false;\r\n    \t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    \t\tif (sf != null) {\r\n    \t\t\ttry(Session s = sf.openSession();) {\r\n    \t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\ts.saveOrUpdate(t);\r\n    \t\t\t\t\r\n    \t\t\t\ttrans.commit();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tsf.close();\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean update(animal t) {\r\n    \t\tboolean result = false;\r\n    \t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n    \t\tif (sf != null) {\r\n    \t\t\ttry(Session s = sf.openSession();) {\r\n    \t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\ts.saveOrUpdate(t);\r\n    \t\t\t\t\r\n    \t\t\t\ttrans.commit();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tsf.close();\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean delete(animal t) {\r\n    \t\ttry (SessionFactory sf = hibernateUtil.getSessionFactory()) {\r\n    \t\t\tif (sf != null) {\r\n    \t\t\t\ttry(Session s = sf.openSession()){\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tTransaction trans = s.beginTransaction();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ts.delete(t);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\ttrans.commit();\r\n    \t\t\t\t\tsf.close();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    }\r\n\r\nSo the error has been fixed. Thanks.\r\n","title":"Java hibernate Unable to commit against JDBC Connection","body":"<p>I have already figured out where the error is.</p>\n<p>So the error based on the <code>animalDAO</code> class.\nIn the methods <code>selectAll</code>, <code>selectByID</code>, <code>insert</code>, <code>update</code> and <code>delete</code>, I forgot to surround with <code>try...catch</code>. The very important step so as to check if the methods got an error or not.\nSo after I surrounded all the methods in <code>try...catch</code>, the project can work properly.</p>\n<p>Here is an update of <code>animalDAO</code> class:</p>\n<pre><code>package DAO;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.Query;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\n\nimport model.animal;\nimport util.hibernateUtil;\n\npublic class animalDAO implements interfaceDAO&lt;animal&gt; {\n\n// this is previous method code\n//  @Override\n//  public List&lt;animal&gt; sellectAll() {\n//      List&lt;animal&gt; list = new ArrayList();\n//      try {\n//          SessionFactory sf = hibernateUtil.getSessionFactory();\n//          if (sf != null) {\n//              // open &amp; begin transaction\n//              Session s = sf.openSession();\n//              Transaction trans = s.beginTransaction();\n//              \n//              // transaction\n//              String hql = &quot;from animal&quot;;\n//              Query q = s.createQuery(hql);\n//              list = q.getResultList();\n//              \n//              // commit &amp; close transaction\n//              trans.commit();\n//              sf.close();\n//          }\n//      } catch (Exception e) {\n//          e.printStackTrace();\n//      }\n//      return list;\n//  }\n//\n//  @Override\n//  public animal selectByID(animal t) {\n//      List&lt;animal&gt; list = new ArrayList&lt;&gt;();\n//      \n//      try {\n//          SessionFactory sf = hibernateUtil.getSessionFactory();\n//          if (sf != null) {\n//              Session s = sf.openSession();\n//              Transaction trans = s.beginTransaction();\n//              \n//              String hql = &quot;from animal a where a.id=:id&quot;;\n//              Query q = s.createQuery(hql);\n//              q.setParameter(&quot;id&quot;, t.getId());\n//              list = q.getResultList();\n//              \n//              trans.commit();\n//              sf.close();\n//          }\n//      } catch (Exception e) {\n//          e.printStackTrace();\n//      }\n//      \n//      if (list.size() &gt; 0) {\n//          return list.get(0);\n//      }else {\n//          return null;\n//      }\n//  }\n//\n//\n//  @Override\n//  public boolean insert(animal t) {\n//      boolean result = false;\n//      \n//      try {\n//          SessionFactory sf = hibernateUtil.getSessionFactory();\n//          if (sf != null) {\n//              Session s = sf.openSession();\n//              Transaction trans = s.beginTransaction();\n//              \n//              // save: chỉ lưu khi chưa tồn tại\n////                s.save(t);\n//              \n//              //saveOrUpdate: thêm mới khi chưa tồn tại, cập nhật dữ liệu khi đã tồn tại\n//              s.saveOrUpdate(t);\n//              \n//              trans.commit();\n//              sf.close();\n//              \n//              return true;\n//          }\n//          \n//          \n//      } catch (Exception e) {\n//          e.printStackTrace();\n//      }\n//      return false;\n//  }\n//\n//  @Override\n//  public boolean update(animal t) {\n//      boolean result = false;\n//      \n//      try {\n//          SessionFactory sf = hibernateUtil.getSessionFactory();\n//          if (sf != null) {\n//              Session s = sf.openSession();\n//              Transaction trans = s.beginTransaction();\n//              \n//              // save: chỉ lưu khi chưa tồn tại\n////                s.save(t);\n//              \n//              //saveOrUpdate: thêm mới khi chưa tồn tại, cập nhật dữ liệu khi đã tồn tại\n//              s.saveOrUpdate(t);\n//              \n//              trans.commit();\n//              sf.close();\n//              \n//              return true;\n//          }\n//          \n//          \n//      } catch (Exception e) {\n//          e.printStackTrace();\n//      }\n//      return false;\n//  }\n//\n//  @Override\n//  public boolean delete(animal t) {\n//      try (SessionFactory sf = hibernateUtil.getSessionFactory()) {\n//          if (sf != null) {\n//              try(Session s = sf.openSession()){\n//                  \n//                  Transaction trans = s.beginTransaction();\n//                  \n//                  s.delete(t);\n//                  \n//                  trans.commit();\n//                  sf.close();\n//              }\n//          }\n//      } catch (Exception e) {\n//          e.printStackTrace();\n//          return false;\n//      }\n//      return true;\n//  }\n    \n\n// this is new code after update\n    @Override\n    public List&lt;animal&gt; sellectAll() {\n        List&lt;animal&gt; list = new ArrayList();\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        if (sf != null) {\n            try(Session s = sf.openSession();) {\n                Transaction trans = s.beginTransaction();\n                \n                // transaction\n                String hql = &quot;from animal&quot;;\n                Query q = s.createQuery(hql);\n                list = q.getResultList();\n                trans.commit();\n            } catch (Exception e) {\n                sf.close();\n                e.printStackTrace();\n            }\n        }\n        return list;\n    }\n\n    @Override\n    public animal selectByID(animal t) {\n        List&lt;animal&gt; list = new ArrayList&lt;&gt;();\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        if (sf != null) {\n            try(Session s = sf.openSession();) {\n                Transaction trans = s.beginTransaction();\n                \n                String hql = &quot;from animal a where a.id=:id&quot;;\n                Query q = s.createQuery(hql);\n                q.setParameter(&quot;id&quot;, t.getId());\n                list = q.getResultList();\n                \n                trans.commit();\n            } catch (Exception e) {\n                sf.close();\n                e.printStackTrace();\n            }\n        }\n        if (list.size() &gt; 0) {\n            return list.get(0);\n        }else {\n            return null;\n        }\n    }\n\n\n    @Override\n    public boolean insert(animal t) {\n        boolean result = false;\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        if (sf != null) {\n            try(Session s = sf.openSession();) {\n                Transaction trans = s.beginTransaction();\n                s.saveOrUpdate(t);\n                \n                trans.commit();\n            } catch (Exception e) {\n                sf.close();\n                e.printStackTrace();\n                return true;\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public boolean update(animal t) {\n        boolean result = false;\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        if (sf != null) {\n            try(Session s = sf.openSession();) {\n                Transaction trans = s.beginTransaction();\n                s.saveOrUpdate(t);\n                \n                trans.commit();\n            } catch (Exception e) {\n                sf.close();\n                e.printStackTrace();\n                return true;\n            }\n            \n        }\n        return false;\n    }\n\n    @Override\n    public boolean delete(animal t) {\n        try (SessionFactory sf = hibernateUtil.getSessionFactory()) {\n            if (sf != null) {\n                try(Session s = sf.openSession()){\n                    \n                    Transaction trans = s.beginTransaction();\n                    \n                    s.delete(t);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>So the error has been fixed. Thanks.</p>\n"}],"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693992285,"creation_date":1693968491,"question_id":77048746,"body_markdown":"`I have created a Hibernate project named &quot;animal&quot; in which I utilize Hibernate Query Language (HQL) to establish a connection with a SQL Server database. Within the project, I&#39;ve organized my code into packages, including &quot;DAO,&quot; which contains two classes: &quot;interfaceDAO&quot; and &quot;animalDAO.&quot; The latter class implements the methods defined in the &quot;interfaceDAO.&quot;\r\n\r\nInside the &quot;animalDAO,&quot; I&#39;ve implemented several functions to manage animal data, including:\r\n\r\nSelect All: Retrieve all animal records.\r\nSelect by ID: Fetch a specific animal by its ID.\r\nInsert: Add new animal records.\r\nUpdate: Modify existing animal records.\r\nDelete: Remove animal records from the database.\r\nTo facilitate database connectivity, I&#39;ve created a &quot;hibernate.cfg.xml&quot; configuration file. Additionally, I&#39;ve developed a &quot;hibernateUtil.java&quot; class to create a &quot;SessionFactory,&quot; a critical component for managing Hibernate sessions.\r\n\r\nFinally, I&#39;ve created a main test class, &quot;testAnimal.java,&quot; within the &quot;test&quot; package. This class allows me to execute the functions I&#39;ve defined in the &quot;animalDAO&quot; class. Despite successfully connecting to the database and displaying the menu, an error message persists.`\r\n\r\n\r\n\r\n```\r\nanimalDAO class\r\n\r\npackage DAO;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.persistence.Query;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\n\r\nimport model.animal;\r\nimport util.hibernateUtil;\r\n\r\npublic class animalDAO implements interfaceDAO&lt;animal&gt; {\r\n\r\n\t@Override\r\n\tpublic List&lt;animal&gt; sellectAll() {\r\n\t\tList&lt;animal&gt; list = new ArrayList();\r\n\t\ttry {\r\n\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\t\tif (sf != null) {\r\n\t\t\t\t// open &amp; begin transaction\r\n\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\t// transaction\r\n\t\t\t\tString hql = &quot;from animal&quot;;\r\n\t\t\t\tQuery q = s.createQuery(hql);\r\n\t\t\t\tlist = q.getResultList();\r\n\t\t\t\t\r\n\t\t\t\t// comit &amp; close transaction\r\n\t\t\t\ttrans.commit();\r\n\t\t\t\tsf.close();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic animal selectByID(animal t) {\r\n\t\tList&lt;animal&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\t\tif (sf != null) {\r\n\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\tString hql = &quot;from animal a where a.id=:id&quot;;\r\n\t\t\t\tQuery q = s.createQuery(hql);\r\n\t\t\t\tq.setParameter(&quot;id&quot;, t.getId());\r\n\t\t\t\tlist = q.getResultList();\r\n\t\t\t\t\r\n\t\t\t\ttrans.commit();\r\n\t\t\t\tsf.close();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tif (list.size() &gt; 0) {\r\n\t\t\treturn list.get(0);\r\n\t\t}else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic boolean insert(animal t) {\r\n\t\tboolean result = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\t\tif (sf != null) {\r\n\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\t// save: chỉ lưu khi chưa tồn tại\r\n//\t\t\t\ts.save(t);\r\n\t\t\t\t\r\n\t\t\t\t//saveOrUpdate: th&#234;m mới khi chưa tồn tại, cập nhật dữ liệu khi đ&#227; tồn tại\r\n\t\t\t\ts.saveOrUpdate(t);\r\n\t\t\t\t\r\n\t\t\t\ttrans.commit();\r\n\t\t\t\tsf.close();\r\n\t\t\t\t\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean update(animal t) {\r\n\t\tboolean result = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\t\tif (sf != null) {\r\n\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\t// save: chỉ lưu khi chưa tồn tại\r\n//\t\t\t\ts.save(t);\r\n\t\t\t\t\r\n\t\t\t\t//saveOrUpdate: th&#234;m mới khi chưa tồn tại, cập nhật dữ liệu khi đ&#227; tồn tại\r\n\t\t\t\ts.saveOrUpdate(t);\r\n\t\t\t\t\r\n\t\t\t\ttrans.commit();\r\n\t\t\t\tsf.close();\r\n\t\t\t\t\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean delete(animal t) {\r\n\t\ttry (SessionFactory sf = hibernateUtil.getSessionFactory()) {\r\n\t\t\tif (sf != null) {\r\n\t\t\t\ttry(Session s = sf.openSession()){\r\n\t\t\t\t\t\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\ts.delete(t);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\nhibernateUtil.java\r\n\r\npackage util;\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\npublic class hibernateUtil {\r\n\tprivate static final SessionFactory sessionFactory = buildSessionFactory();\r\n\r\n\tprivate static SessionFactory buildSessionFactory() {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\treturn new Configuration().configure().buildSessionFactory();\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Error&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static SessionFactory getSessionFactory() {\r\n\t\treturn sessionFactory;\r\n\t}\r\n\t\r\n\tpublic static void shutdown() {\r\n\t\tgetSessionFactory().close();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\nhibernate.cfg.xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n\t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n    \t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;123456789Thien_Phu&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        \r\n        &lt;mapping class=&quot;model.animal&quot;/&gt;\r\n        \r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\n```\r\n\r\n\r\n\r\n```\r\ntestAnimal.java class\r\n\r\npackage test;\r\n\r\nimport java.sql.Date;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\n\r\nimport DAO.animalDAO;\r\nimport model.animal;\r\nimport util.hibernateUtil;\r\n\r\npublic class testAnimal {\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSessionFactory sf = hibernateUtil.getSessionFactory();\r\n\t\tint choice = 0;\r\n\t\t\r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;============================== \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;1. Select All \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;2. Select by id \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;3. Insert \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;4. Update \\r\\n&quot;\r\n\t\t\t\t\t+ &quot;5. Delete \\r\\n&quot;);\r\n\t\t\tchoice = sc.nextInt();\r\n\t\t\tsc.nextLine();\r\n\t\t\t\r\n\t\t\tswitch (choice) {\r\n\t\t\tcase 0:\r\n\t\t\t\tSystem.out.println(&quot;exit!&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 1:\r\n\t\t\t\t\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tList&lt;animal&gt; list = ad.sellectAll();\r\n\t\t\t\t\tfor (animal a : list) {\r\n\t\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\t\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter ID: &quot;);\r\n\t\t\t\t\tint id = sc.nextInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimal a = new animal();\r\n\t\t\t\t\ta.setId(id);\r\n\t\t\t\t\tanimal result = ad.selectByID(a);\t\r\n\t\t\t\t\tSystem.out.println(result);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t    System.out.println(&quot;Enter animal name: &quot;);\r\n\t\t\t\t    String name = sc.nextLine();\r\n\t\t\t\t    \r\n\t\t\t\t    System.out.println(&quot;Enter animal date of birth [yyyy MM dd]: &quot;);\r\n\t\t\t\t    int year = sc.nextInt();\r\n\t\t\t\t    int month = sc.nextInt();\r\n\t\t\t\t    int day = sc.nextInt();\r\n\t\t\t\t    sc.nextLine();\r\n\t\t\t\t    \r\n\t\t\t\t    Date dob = new Date(year - 1900, month - 1, day);\r\n\r\n\t\t\t\t    System.out.println(&quot;Enter sex/gender [true / false]: &quot;);\r\n\t\t\t\t    boolean sex = sc.nextBoolean();\r\n\t\t\t\t    \r\n\t\t\t\t    animal a1 = new animal(name, dob, sex);\r\n\t\t\t\t    ad.insert(a1);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t    break;\r\n\t\t\t    \r\n\t\t\tcase 4:\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tSystem.out.println(&quot;enter new name for animal: &quot;);\r\n\t\t\t\t\tString name = sc.nextLine();\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Enter new date of birth for animal [xxxx xx xx]: &quot;);\r\n\t\t\t\t\tint year = sc.nextInt();\r\n\t\t\t\t\tint month = sc.nextInt();\r\n\t\t\t\t\tint day = sc.nextInt();\r\n\t\t\t\t\tsc.nextLine();\r\n\t\t\t\t\tDate dob = new Date(year - 1900, month - 1, day);\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;enter new sex/gender [true / false]: &quot;);\r\n\t\t\t\t\tboolean sex = sc.nextBoolean();\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Enter ID: &quot;);\r\n\t\t\t\t\tint id = sc.nextInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimal a2 = new animal(name, dob, sex);\r\n\t\t\t\t\ta2.setId(id);\r\n\t\t\t\t\tad.update(a2);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 5:\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter ID: &quot;);\r\n\t\t\t\t\tint id = sc.nextInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimal a3 = new animal(id);\r\n\t\t\t\t\ta3.setId(id);\r\n\t\t\t\t\tad.delete(a3);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} while (choice != 0);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nError log\r\n\r\nSep 06, 2023 9:04:46 AM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 5.6.15.Final\r\nSep 06, 2023 9:04:46 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: using driver [com.microsoft.sqlserver.jdbc.SQLServerDriver] at URL [jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;]\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {password=****, user=sa}\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\nSep 06, 2023 9:04:47 AM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect\r\nSep 06, 2023 9:04:47 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3b8ec001] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\nSep 06, 2023 9:04:48 AM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n============================== \r\n1. Select All \r\n2. Select by id \r\n3. Insert \r\n4. Update \r\n5. Delete \r\n\r\n1\r\nHibernate: select animal0_.id as id1_0_, animal0_.dateOfBirth as dateofbi2_0_, animal0_.name as name3_0_, animal0_.sex as sex4_0_ from animal animal0_\r\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\r\nINFO: HHH10001008: Cleaning up connection pool [jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;]\r\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections close\r\nERROR: Connection leak detected: there are 1 unclosed connections upon shutting down pool jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;\r\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl validateConnectionsReturned\r\nERROR: Connection leak detected: there are 1 unclosed connections!\r\nanimal [id=1, name=cat, dateOfBirth=null, sex=false]\r\nanimal [id=2, name=fish, dateOfBirth=2003-04-05, sex=true]\r\nanimal [id=6, name=carrovet, dateOfBirth=2003-12-02, sex=false]\r\nException in thread &quot;main&quot; org.hibernate.TransactionException: Unable to commit against JDBC Connection\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:92)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\tat test.testAnimal.main(testAnimal.java:49)\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The connection is closed.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:231)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed(SQLServerConnection.java:1728)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.commit(SQLServerConnection.java:4451)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.commit(SQLServerConnection.java:4432)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:86)\r\n\t... 3 more\r\n\r\n```\r\n\r\n`in the error log it said Exception in thread &quot;main&quot; org.hibernate.TransactionException: Unable to commit against JDBC Connection\r\nI try may way check all the jdbc connection but still not work`\r\n\r\n\r\nI try t change some main thing in the test class, \r\nI create a SessionFactory outside the loop do while\r\nthen invery case I open a new session and begin a new transaction \r\ncommit and close in that case also \r\n\r\n\r\n```\r\ncase 1:\r\n\t\t\t\t\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tList&lt;animal&gt; list = ad.sellectAll();\r\n\t\t\t\t\tfor (animal a : list) {\r\n\t\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\t\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter ID: &quot;);\r\n\t\t\t\t\tint id = sc.nextInt();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimal a = new animal();\r\n\t\t\t\t\ta.setId(id);\r\n\t\t\t\t\tanimal result = ad.selectByID(a);\t\r\n\t\t\t\t\tSystem.out.println(result);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tif (sf != null) {\r\n\t\t\t\t\tSession s = sf.openSession();\r\n\t\t\t\t\tTransaction trans = s.beginTransaction();\r\n\t\t\t\t\t\r\n\t\t\t\t\tanimalDAO ad = new animalDAO();\r\n\t\t\t\t    System.out.println(&quot;Enter animal name: &quot;);\r\n\t\t\t\t    String name = sc.nextLine();\r\n\t\t\t\t    \r\n\t\t\t\t    System.out.println(&quot;Enter animal date of birth [yyyy MM dd]: &quot;);\r\n\t\t\t\t    int year = sc.nextInt();\r\n\t\t\t\t    int month = sc.nextInt();\r\n\t\t\t\t    int day = sc.nextInt();\r\n\t\t\t\t    sc.nextLine();\r\n\t\t\t\t    \r\n\t\t\t\t    Date dob = new Date(year - 1900, month - 1, day);\r\n\r\n\t\t\t\t    System.out.println(&quot;Enter sex/gender [true / false]: &quot;);\r\n\t\t\t\t    boolean sex = sc.nextBoolean();\r\n\t\t\t\t    \r\n\t\t\t\t    animal a1 = new animal(name, dob, sex);\r\n\t\t\t\t    ad.insert(a1);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttrans.commit();\r\n\t\t\t\t\tsf.close();\r\n\t\t\t\t}\r\n\t\t\t    break;\r\n```\r\n\r\nbut seem it it wont work as this way\r\n","title":"Java hibernate Unable to commit against JDBC Connection","body":"<p>`I have created a Hibernate project named &quot;animal&quot; in which I utilize Hibernate Query Language (HQL) to establish a connection with a SQL Server database. Within the project, I've organized my code into packages, including &quot;DAO,&quot; which contains two classes: &quot;interfaceDAO&quot; and &quot;animalDAO.&quot; The latter class implements the methods defined in the &quot;interfaceDAO.&quot;</p>\n<p>Inside the &quot;animalDAO,&quot; I've implemented several functions to manage animal data, including:</p>\n<p>Select All: Retrieve all animal records.\nSelect by ID: Fetch a specific animal by its ID.\nInsert: Add new animal records.\nUpdate: Modify existing animal records.\nDelete: Remove animal records from the database.\nTo facilitate database connectivity, I've created a &quot;hibernate.cfg.xml&quot; configuration file. Additionally, I've developed a &quot;hibernateUtil.java&quot; class to create a &quot;SessionFactory,&quot; a critical component for managing Hibernate sessions.</p>\n<p>Finally, I've created a main test class, &quot;testAnimal.java,&quot; within the &quot;test&quot; package. This class allows me to execute the functions I've defined in the &quot;animalDAO&quot; class. Despite successfully connecting to the database and displaying the menu, an error message persists.`</p>\n<pre><code>animalDAO class\n\npackage DAO;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.Query;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\n\nimport model.animal;\nimport util.hibernateUtil;\n\npublic class animalDAO implements interfaceDAO&lt;animal&gt; {\n\n    @Override\n    public List&lt;animal&gt; sellectAll() {\n        List&lt;animal&gt; list = new ArrayList();\n        try {\n            SessionFactory sf = hibernateUtil.getSessionFactory();\n            if (sf != null) {\n                // open &amp; begin transaction\n                Session s = sf.openSession();\n                Transaction trans = s.beginTransaction();\n                \n                // transaction\n                String hql = &quot;from animal&quot;;\n                Query q = s.createQuery(hql);\n                list = q.getResultList();\n                \n                // comit &amp; close transaction\n                trans.commit();\n                sf.close();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return list;\n    }\n\n    @Override\n    public animal selectByID(animal t) {\n        List&lt;animal&gt; list = new ArrayList&lt;&gt;();\n        \n        try {\n            SessionFactory sf = hibernateUtil.getSessionFactory();\n            if (sf != null) {\n                Session s = sf.openSession();\n                Transaction trans = s.beginTransaction();\n                \n                String hql = &quot;from animal a where a.id=:id&quot;;\n                Query q = s.createQuery(hql);\n                q.setParameter(&quot;id&quot;, t.getId());\n                list = q.getResultList();\n                \n                trans.commit();\n                sf.close();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        if (list.size() &gt; 0) {\n            return list.get(0);\n        }else {\n            return null;\n        }\n    }\n\n\n    @Override\n    public boolean insert(animal t) {\n        boolean result = false;\n        \n        try {\n            SessionFactory sf = hibernateUtil.getSessionFactory();\n            if (sf != null) {\n                Session s = sf.openSession();\n                Transaction trans = s.beginTransaction();\n                \n                // save: chỉ lưu khi chưa tồn tại\n//              s.save(t);\n                \n                //saveOrUpdate: thêm mới khi chưa tồn tại, cập nhật dữ liệu khi đã tồn tại\n                s.saveOrUpdate(t);\n                \n                trans.commit();\n                sf.close();\n                \n                return true;\n            }\n            \n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    @Override\n    public boolean update(animal t) {\n        boolean result = false;\n        \n        try {\n            SessionFactory sf = hibernateUtil.getSessionFactory();\n            if (sf != null) {\n                Session s = sf.openSession();\n                Transaction trans = s.beginTransaction();\n                \n                // save: chỉ lưu khi chưa tồn tại\n//              s.save(t);\n                \n                //saveOrUpdate: thêm mới khi chưa tồn tại, cập nhật dữ liệu khi đã tồn tại\n                s.saveOrUpdate(t);\n                \n                trans.commit();\n                sf.close();\n                \n                return true;\n            }\n            \n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    @Override\n    public boolean delete(animal t) {\n        try (SessionFactory sf = hibernateUtil.getSessionFactory()) {\n            if (sf != null) {\n                try(Session s = sf.openSession()){\n                    \n                    Transaction trans = s.beginTransaction();\n                    \n                    s.delete(t);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n        return true;\n    }\n\n}\n\n</code></pre>\n<pre><code>hibernateUtil.java\n\npackage util;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class hibernateUtil {\n    private static final SessionFactory sessionFactory = buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory() {\n        try {\n            \n            return new Configuration().configure().buildSessionFactory();\n            \n        } catch (Exception e) {\n            System.out.println(&quot;Error&quot;);\n            return null;\n        }\n    }\n    \n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n    \n    public static void shutdown() {\n        getSessionFactory().close();\n    }\n}\n</code></pre>\n<pre><code>hibernate.cfg.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;123456789Thien_Phu&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        \n        &lt;mapping class=&quot;model.animal&quot;/&gt;\n        \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n\n</code></pre>\n<pre><code>testAnimal.java class\n\npackage test;\n\nimport java.sql.Date;\nimport java.util.List;\nimport java.util.Scanner;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\n\nimport DAO.animalDAO;\nimport model.animal;\nimport util.hibernateUtil;\n\npublic class testAnimal {\n    @SuppressWarnings(&quot;deprecation&quot;)\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        SessionFactory sf = hibernateUtil.getSessionFactory();\n        int choice = 0;\n        \n        do {\n            System.out.println(&quot;============================== \\r\\n&quot;\n                    + &quot;1. Select All \\r\\n&quot;\n                    + &quot;2. Select by id \\r\\n&quot;\n                    + &quot;3. Insert \\r\\n&quot;\n                    + &quot;4. Update \\r\\n&quot;\n                    + &quot;5. Delete \\r\\n&quot;);\n            choice = sc.nextInt();\n            sc.nextLine();\n            \n            switch (choice) {\n            case 0:\n                System.out.println(&quot;exit!&quot;);\n                break;\n                \n            case 1:\n                \n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    List&lt;animal&gt; list = ad.sellectAll();\n                    for (animal a : list) {\n                        System.out.println(a);\n                    }\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 2:\n                \n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter ID: &quot;);\n                    int id = sc.nextInt();\n                    \n                    animal a = new animal();\n                    a.setId(id);\n                    animal result = ad.selectByID(a);   \n                    System.out.println(result);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 3:\n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter animal name: &quot;);\n                    String name = sc.nextLine();\n                    \n                    System.out.println(&quot;Enter animal date of birth [yyyy MM dd]: &quot;);\n                    int year = sc.nextInt();\n                    int month = sc.nextInt();\n                    int day = sc.nextInt();\n                    sc.nextLine();\n                    \n                    Date dob = new Date(year - 1900, month - 1, day);\n\n                    System.out.println(&quot;Enter sex/gender [true / false]: &quot;);\n                    boolean sex = sc.nextBoolean();\n                    \n                    animal a1 = new animal(name, dob, sex);\n                    ad.insert(a1);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 4:\n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;enter new name for animal: &quot;);\n                    String name = sc.nextLine();\n                    \n                    System.out.println(&quot;Enter new date of birth for animal [xxxx xx xx]: &quot;);\n                    int year = sc.nextInt();\n                    int month = sc.nextInt();\n                    int day = sc.nextInt();\n                    sc.nextLine();\n                    Date dob = new Date(year - 1900, month - 1, day);\n                    \n                    System.out.println(&quot;enter new sex/gender [true / false]: &quot;);\n                    boolean sex = sc.nextBoolean();\n                    \n                    System.out.println(&quot;Enter ID: &quot;);\n                    int id = sc.nextInt();\n                    \n                    animal a2 = new animal(name, dob, sex);\n                    a2.setId(id);\n                    ad.update(a2);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                \n                \n                break;\n                \n            case 5:\n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter ID: &quot;);\n                    int id = sc.nextInt();\n                    \n                    animal a3 = new animal(id);\n                    a3.setId(id);\n                    ad.delete(a3);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n\n            default:\n                break;\n            }\n        } while (choice != 0);\n    }\n}\n\n</code></pre>\n<pre><code>Error log\n\nSep 06, 2023 9:04:46 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 5.6.15.Final\nSep 06, 2023 9:04:46 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.microsoft.sqlserver.jdbc.SQLServerDriver] at URL [jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;]\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=sa}\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nSep 06, 2023 9:04:47 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nSep 06, 2023 9:04:47 AM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect\nSep 06, 2023 9:04:47 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3b8ec001] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nSep 06, 2023 9:04:48 AM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n============================== \n1. Select All \n2. Select by id \n3. Insert \n4. Update \n5. Delete \n\n1\nHibernate: select animal0_.id as id1_0_, animal0_.dateOfBirth as dateofbi2_0_, animal0_.name as name3_0_, animal0_.sex as sex4_0_ from animal animal0_\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;]\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections close\nERROR: Connection leak detected: there are 1 unclosed connections upon shutting down pool jdbc:sqlserver://localhost:1433;DatabaseName=animal;encrypt=false;\nSep 06, 2023 9:04:50 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl validateConnectionsReturned\nERROR: Connection leak detected: there are 1 unclosed connections!\nanimal [id=1, name=cat, dateOfBirth=null, sex=false]\nanimal [id=2, name=fish, dateOfBirth=2003-04-05, sex=true]\nanimal [id=6, name=carrovet, dateOfBirth=2003-12-02, sex=false]\nException in thread &quot;main&quot; org.hibernate.TransactionException: Unable to commit against JDBC Connection\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:92)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at test.testAnimal.main(testAnimal.java:49)\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The connection is closed.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:231)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed(SQLServerConnection.java:1728)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.commit(SQLServerConnection.java:4451)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.commit(SQLServerConnection.java:4432)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:86)\n    ... 3 more\n\n</code></pre>\n<p><code>in the error log it said Exception in thread &quot;main&quot; org.hibernate.TransactionException: Unable to commit against JDBC Connection I try may way check all the jdbc connection but still not work</code></p>\n<p>I try t change some main thing in the test class,\nI create a SessionFactory outside the loop do while\nthen invery case I open a new session and begin a new transaction\ncommit and close in that case also</p>\n<pre><code>case 1:\n                \n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    List&lt;animal&gt; list = ad.sellectAll();\n                    for (animal a : list) {\n                        System.out.println(a);\n                    }\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 2:\n                \n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter ID: &quot;);\n                    int id = sc.nextInt();\n                    \n                    animal a = new animal();\n                    a.setId(id);\n                    animal result = ad.selectByID(a);   \n                    System.out.println(result);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n                \n            case 3:\n                if (sf != null) {\n                    Session s = sf.openSession();\n                    Transaction trans = s.beginTransaction();\n                    \n                    animalDAO ad = new animalDAO();\n                    System.out.println(&quot;Enter animal name: &quot;);\n                    String name = sc.nextLine();\n                    \n                    System.out.println(&quot;Enter animal date of birth [yyyy MM dd]: &quot;);\n                    int year = sc.nextInt();\n                    int month = sc.nextInt();\n                    int day = sc.nextInt();\n                    sc.nextLine();\n                    \n                    Date dob = new Date(year - 1900, month - 1, day);\n\n                    System.out.println(&quot;Enter sex/gender [true / false]: &quot;);\n                    boolean sex = sc.nextBoolean();\n                    \n                    animal a1 = new animal(name, dob, sex);\n                    ad.insert(a1);\n                    \n                    trans.commit();\n                    sf.close();\n                }\n                break;\n</code></pre>\n<p>but seem it it wont work as this way</p>\n"},{"tags":["java","android","geolocation","location"],"owner":{"account_id":8674669,"reputation":19,"user_id":6492394,"display_name":"hashim fajar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693992111,"creation_date":1693985296,"question_id":77049811,"body_markdown":"I am experiencing difficulties obtaining my current location when I am inside a building, and my SIM card is subject to IP filtering. However, when I switch my SIM card to public access, I am able to obtain my location successfully.\r\n\r\nI am curious if there are specific IP addresses that I should whitelist in order to acquire my location while indoors within any building?\r\n\r\n\r\n```\r\n@Override\r\npublic void onLocationChanged(@NonNull Location location) {\r\n    double latitude = location.getLatitude();\r\n    double longitude = location.getLongitude();\r\n    \r\n    String provider = location.getProvider();\r\n\r\n    Log.e(&quot;Latitude&quot;, String.valueOf(latitude));\r\n    Log.e(&quot;Longitude&quot;, String.valueOf(longitude));\r\n    Log.e(&quot;provider&quot;, provider);\r\n\r\n    if (LocationManager.GPS_PROVIDER.equals(provider)) {\r\n        editText1.setText(String.valueOf(latitude));\r\n        editText2.setText(String.valueOf(longitude));\r\n        editText3.setText(provider);\r\n    } else if (LocationManager.NETWORK_PROVIDER.equals(provider)) {\r\n        editText4.setText(String.valueOf(latitude));\r\n        editText5.setText(String.valueOf(longitude));\r\n        editText6.setText(provider);\r\n    }\r\n}\r\n```","title":"Location tracking issue inside buildings with IP filtered SIM card (NETWORK_PROVIDER)","body":"<p>I am experiencing difficulties obtaining my current location when I am inside a building, and my SIM card is subject to IP filtering. However, when I switch my SIM card to public access, I am able to obtain my location successfully.</p>\n<p>I am curious if there are specific IP addresses that I should whitelist in order to acquire my location while indoors within any building?</p>\n<pre><code>@Override\npublic void onLocationChanged(@NonNull Location location) {\n    double latitude = location.getLatitude();\n    double longitude = location.getLongitude();\n    \n    String provider = location.getProvider();\n\n    Log.e(&quot;Latitude&quot;, String.valueOf(latitude));\n    Log.e(&quot;Longitude&quot;, String.valueOf(longitude));\n    Log.e(&quot;provider&quot;, provider);\n\n    if (LocationManager.GPS_PROVIDER.equals(provider)) {\n        editText1.setText(String.valueOf(latitude));\n        editText2.setText(String.valueOf(longitude));\n        editText3.setText(provider);\n    } else if (LocationManager.NETWORK_PROVIDER.equals(provider)) {\n        editText4.setText(String.valueOf(latitude));\n        editText5.setText(String.valueOf(longitude));\n        editText6.setText(provider);\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1651587739,"post_id":72092996,"comment_id":127395423,"body_markdown":"My experiences have me believe this error is commonly because of class paths. Where is the persistence.xml file itself: are you able to load it in your java app&#39;s main method? Are you able to load the org.eclipse.persistence.jpa.PersistenceProvider class in it (new PersistenceProvider()) ? https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging shows how to turn on logging, but only helps if EclipseLink is trying to load the file and throwing an error doing so - you might have to use a debugger to see where and what the Persistence class is loading and if it gets that far.","body":"My experiences have me believe this error is commonly because of class paths. Where is the persistence.xml file itself: are you able to load it in your java app&#39;s main method? Are you able to load the org.eclipse.persistence.jpa.PersistenceProvider class in it (new PersistenceProvider()) ? <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a> shows how to turn on logging, but only helps if EclipseLink is trying to load the file and throwing an error doing so - you might have to use a debugger to see where and what the Persistence class is loading and if it gets that far."}],"answers":[{"tags":[],"owner":{"account_id":4018975,"reputation":11,"user_id":3310034,"display_name":"Said"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657025477,"creation_date":1656957721,"answer_id":72860543,"question_id":72092996,"body_markdown":"You use a latest version of persistence xml based on jakarta xsd (3.0) but you use javax.persistence to connect to your database. \r\n\r\nYou juste have to use :\r\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;Driver ...&quot;/&gt;\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:...&quot;/&gt;\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;user&quot;/&gt;\r\n    &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;psw&quot;/&gt;  \r\n\r\nand include the folloin artifacte in you&#39;r pom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.0.2&lt;/version&gt;\r\n\t &lt;/dependency&gt;\r\n\r\n    -- Or\r\n      \r\n\r\n\r\n     &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\r\n\t    &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n\t &lt;/dependency&gt;   \r\n","title":"EclipseLink &quot;No Persistence provider for EntityManager named ...&quot; exception","body":"<p>You use a latest version of persistence xml based on jakarta xsd (3.0) but you use javax.persistence to connect to your database.</p>\n<p>You juste have to use :\norg.hibernate.jpa.HibernatePersistenceProvider</p>\n<pre><code>&lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;Driver ...&quot;/&gt;\n&lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:...&quot;/&gt;\n&lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;user&quot;/&gt;\n&lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;psw&quot;/&gt;  \n</code></pre>\n<p>and include the folloin artifacte in you'r pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n-- Or\n  \n\n\n &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core-jakarta&lt;/artifactId&gt;\n    &lt;version&gt;5.6.9.Final&lt;/version&gt;\n &lt;/dependency&gt;   \n</code></pre>\n"}],"owner":{"account_id":23687021,"reputation":23,"user_id":18851366,"display_name":"0410"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693992066,"creation_date":1651530122,"question_id":72092996,"body_markdown":"I&#39;m trying to create a simple Java app, using JPA to communicate with a MySQL database, that allows me to insert new rows into the tables found in the database, retrieve the data inside them, etc. But when I try running it, I get this error:\r\n```\r\nException in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named default\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat com.lab9.Main.main(Main.java:9)\r\n```\r\n\r\nI know this question has already been asked a few times on here, but none of the older threads have been of any help to me. Usually, people seem to get this exception because they have their &lt;code&gt;persistence.xml&lt;/code&gt; file in the wrong directory, or because they forgot to specify a &lt;code&gt;\\&lt;provider\\&gt;&lt;/code&gt; in said file, neither of which is the case for me. This is what my project structure looks like in IntelliJ:\r\n&lt;br&gt;\r\n[![enter image description here][1]][1] \r\n\r\n  [1]: https://i.stack.imgur.com/5fYMj.png\r\n\r\nAs you can see, I have &lt;code&gt;persistence.xml&lt;/code&gt; in &lt;code&gt;src/main/resources/META-INF&lt;/code&gt;, where it&#39;s supposed to be. Inside this file, I have this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;default&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n        &lt;class&gt;com.lab9.Continent&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/cities&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nAnd finally, in my &lt;code&gt;pom.xml&lt;/code&gt; file, I added these dependencies:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.28&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nI&#39;ve tried pretty much everything: moving files around, adding and deleting dependencies, re-writing the whole program from scratch, yet nothing seems to work.","title":"EclipseLink &quot;No Persistence provider for EntityManager named ...&quot; exception","body":"<p>I'm trying to create a simple Java app, using JPA to communicate with a MySQL database, that allows me to insert new rows into the tables found in the database, retrieve the data inside them, etc. But when I try running it, I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named default\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at com.lab9.Main.main(Main.java:9)\n</code></pre>\n<p>I know this question has already been asked a few times on here, but none of the older threads have been of any help to me. Usually, people seem to get this exception because they have their <code>persistence.xml</code> file in the wrong directory, or because they forgot to specify a <code>&lt;provider&gt;</code> in said file, neither of which is the case for me. This is what my project structure looks like in IntelliJ:\n<br>\n<a href=\"https://i.stack.imgur.com/5fYMj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fYMj.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, I have <code>persistence.xml</code> in <code>src/main/resources/META-INF</code>, where it's supposed to be. Inside this file, I have this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n             version=&quot;3.0&quot;&gt;\n    &lt;persistence-unit name=&quot;default&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n        &lt;class&gt;com.lab9.Continent&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/cities&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>And finally, in my <code>pom.xml</code> file, I added these dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.28&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I've tried pretty much everything: moving files around, adding and deleting dependencies, re-writing the whole program from scratch, yet nothing seems to work.</p>\n"},{"tags":["java","intellij-idea","console","jline3"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1693989373,"post_id":77050180,"comment_id":135830808,"body_markdown":"Ensure that JLine-console-3.23.0.jar was added to the project / module libraries. Please see https://www.jetbrains.com/help/idea/library.html#define-a-project-library","body":"Ensure that JLine-console-3.23.0.jar was added to the project / module libraries. Please see <a href=\"https://www.jetbrains.com/help/idea/library.html#define-a-project-library\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/library.html#define-a-project-librar&zwnj;&#8203;y</a>"},{"owner":{"account_id":29328318,"reputation":1,"user_id":22470318,"display_name":"BE9INE"},"score":0,"creation_date":1693990988,"post_id":77050180,"comment_id":135831165,"body_markdown":"I did this, restarted IntelliJ and it still shows me the errors... :(","body":"I did this, restarted IntelliJ and it still shows me the errors... :("}],"owner":{"account_id":29328318,"reputation":1,"user_id":22470318,"display_name":"BE9INE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693992016,"answer_count":0,"score":0,"last_activity_date":1693991989,"creation_date":1693988559,"question_id":77050180,"body_markdown":"I&#39;ve been trying to build a console clear command into my final assignment for school.\r\n\r\nBeforehand I was trying to use a TerminalClear command; but this does not work as IntelliJ uses a Console instead of Terminal when running my application.\r\n\r\nWhen researching my issue, I came across this [Quora Post](https://www.quora.com/Is-there-any-way-to-clear-the-console-screen-in-Java-using-intellij-For-example-I-am-trying-to-make-it-look-like-how-it-happens-when-we-use-system-cls-in-C), and I saw Philip Gust&#39;s answer to it. \r\n\r\n \r\n\r\nI downloaded JLine-console-3.23.0.jar and I have been trying to get this to work based on the limited documentation on its functionalities (that I could find).\r\n\r\n\r\n```\r\nimport org.jline.*;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class TerminalClear {\r\n    public static void main(String[] args) throws IOException {\r\n        Terminal terminal = TerminalBuilder.builder().build();\r\n\r\n        // Clear the terminal screen using JLine\r\n        terminal.puts(InfoCmp.Capability.clear_screen);\r\n        terminal.flush();\r\n\r\n        // Display a message to indicate that the console has been cleared\r\n        System.out.println(&quot;Terminal cleared!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever its stricken with &quot;Cannot resolve method / symbol &#39;x&#39; &quot; errors.\r\nDoes anyone know how to fix this?","title":"Is there a way to use a console clear method in IntelliJ IDEA","body":"<p>I've been trying to build a console clear command into my final assignment for school.</p>\n<p>Beforehand I was trying to use a TerminalClear command; but this does not work as IntelliJ uses a Console instead of Terminal when running my application.</p>\n<p>When researching my issue, I came across this <a href=\"https://www.quora.com/Is-there-any-way-to-clear-the-console-screen-in-Java-using-intellij-For-example-I-am-trying-to-make-it-look-like-how-it-happens-when-we-use-system-cls-in-C\" rel=\"nofollow noreferrer\">Quora Post</a>, and I saw Philip Gust's answer to it.</p>\n<p>I downloaded JLine-console-3.23.0.jar and I have been trying to get this to work based on the limited documentation on its functionalities (that I could find).</p>\n<pre><code>import org.jline.*;\n\nimport java.io.IOException;\n\npublic class TerminalClear {\n    public static void main(String[] args) throws IOException {\n        Terminal terminal = TerminalBuilder.builder().build();\n\n        // Clear the terminal screen using JLine\n        terminal.puts(InfoCmp.Capability.clear_screen);\n        terminal.flush();\n\n        // Display a message to indicate that the console has been cleared\n        System.out.println(&quot;Terminal cleared!&quot;);\n    }\n}\n</code></pre>\n<p>However its stricken with &quot;Cannot resolve method / symbol 'x' &quot; errors.\nDoes anyone know how to fix this?</p>\n"},{"tags":["java","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":25644832,"reputation":11,"user_id":22124017,"display_name":"Ahmed Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693991648,"creation_date":1693991648,"answer_id":77050568,"question_id":77044851,"body_markdown":"I found that class `InputFile` has a constructor with this signature `public InputFile(InputStream mediaStream, String fileName)` which accepts input stream of the file and the file path as parameters so I tried this and it worked.\r\n\r\n    InputStream stream = new URL(myUrl).openStream();\r\n    SendPhoto sendPhoto = new SendPhoto();\r\n    sendPhoto.setChatId(chatId);\r\n    sendPhoto.setPhoto(new InputFile(stream, myUrl));\r\n\r\n","title":"How to send photo with Telegram bot API in Java","body":"<p>I found that class <code>InputFile</code> has a constructor with this signature <code>public InputFile(InputStream mediaStream, String fileName)</code> which accepts input stream of the file and the file path as parameters so I tried this and it worked.</p>\n<pre><code>InputStream stream = new URL(myUrl).openStream();\nSendPhoto sendPhoto = new SendPhoto();\nsendPhoto.setChatId(chatId);\nsendPhoto.setPhoto(new InputFile(stream, myUrl));\n</code></pre>\n"}],"owner":{"account_id":25644832,"reputation":11,"user_id":22124017,"display_name":"Ahmed Mohamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693991882,"creation_date":1693919914,"question_id":77044851,"body_markdown":"I have some API endpoint that contains photo and I want to send it to Telegram bot using my Telegram bot controller using `SendPhoto` class and I tried with the following code \r\n\r\n    SendPhoto sendPhoto = new SendPhoto();\r\n    sendPhoto.setChatId(chatId);\r\n    sendPhoto.setPhoto(&quot;http://localhost:3000/media/photo_97@05-06-2023_00-22-51.jpg&quot;);\r\n\r\nThis resulted in error of method setPhoto doesn&#39;t support String parameters and only supports InputFile type \r\n\r\nSo I tried the following \r\n\r\n    SendPhoto sendPhoto = new SendPhoto();\r\n    sendPhoto.setChatId(chatId);\r\n    sendPhoto.setPhoto(new InputFile(&quot;http://localhost:3000/media/photo_97@05-06-2023_00-22-51.jpg&quot;));\r\n\r\nThis gave me this error which I don&#39;t understand \r\n\r\n    Error executing org.telegram.telegrambots.meta.api.methods.send.SendPhoto query: [400] Bad Request: wrong HTTP URL specified\r\n\r\nI also tried to test the endpoint using Postman more than once and it seems to work properly.","title":"How to send photo with Telegram bot API in Java","body":"<p>I have some API endpoint that contains photo and I want to send it to Telegram bot using my Telegram bot controller using <code>SendPhoto</code> class and I tried with the following code</p>\n<pre><code>SendPhoto sendPhoto = new SendPhoto();\nsendPhoto.setChatId(chatId);\nsendPhoto.setPhoto(&quot;http://localhost:3000/media/photo_97@05-06-2023_00-22-51.jpg&quot;);\n</code></pre>\n<p>This resulted in error of method setPhoto doesn't support String parameters and only supports InputFile type</p>\n<p>So I tried the following</p>\n<pre><code>SendPhoto sendPhoto = new SendPhoto();\nsendPhoto.setChatId(chatId);\nsendPhoto.setPhoto(new InputFile(&quot;http://localhost:3000/media/photo_97@05-06-2023_00-22-51.jpg&quot;));\n</code></pre>\n<p>This gave me this error which I don't understand</p>\n<pre><code>Error executing org.telegram.telegrambots.meta.api.methods.send.SendPhoto query: [400] Bad Request: wrong HTTP URL specified\n</code></pre>\n<p>I also tried to test the endpoint using Postman more than once and it seems to work properly.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"score":2,"creation_date":1346000026,"post_id":12132003,"comment_id":16226096,"body_markdown":"Do you have the HUD class imported in both?","body":"Do you have the HUD class imported in both?"},{"owner":{"account_id":11834942,"reputation":71,"user_id":8660553,"display_name":"Sahil SInghal"},"score":1,"creation_date":1562646523,"post_id":12132003,"comment_id":100430242,"body_markdown":"this is the only solution for this problem which worked for me\nhttps://stackoverflow.com/a/56473166/8660553","body":"this is the only solution for this problem which worked for me <a href=\"https://stackoverflow.com/a/56473166/8660553\">stackoverflow.com/a/56473166/8660553</a>"}],"answers":[{"tags":[],"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1346000523,"creation_date":1346000067,"answer_id":12132027,"question_id":12132003,"body_markdown":"This is likely to be  your ../src folder is not marked as a &quot;source&quot; folder in Intellij IDEA, so it doesn&#39;t know to look there to find your class. You can right click the folder in the project explorer and choose &quot;mark as source folder&quot; to fix this.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>This is likely to be  your ../src folder is not marked as a \"source\" folder in Intellij IDEA, so it doesn't know to look there to find your class. You can right click the folder in the project explorer and choose \"mark as source folder\" to fix this.</p>\n"},{"tags":[],"owner":{"account_id":329940,"reputation":2209,"user_id":653755,"display_name":"joe"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1346004599,"creation_date":1346004599,"answer_id":12132633,"question_id":12132003,"body_markdown":"Thanks for the help so far, turns out the fix was to compile HUD.java first (right click on the file-&gt; Compile HUD.java). After compiling the java file the rest of the project could be  compiled without any problems.\r\n\r\nI don&#39;t really know why this fixed it, or why IntelliJ wouldn&#39;t do this automatically, but root error seems it has to do with IntelliJ not correctly handling having multiple classes in a single .java file.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Thanks for the help so far, turns out the fix was to compile HUD.java first (right click on the file-> Compile HUD.java). After compiling the java file the rest of the project could be  compiled without any problems.</p>\n\n<p>I don't really know why this fixed it, or why IntelliJ wouldn't do this automatically, but root error seems it has to do with IntelliJ not correctly handling having multiple classes in a single .java file.</p>\n"},{"tags":[],"owner":{"account_id":1009199,"reputation":709,"user_id":1022221,"display_name":"Sjoerd K"},"down_vote_count":1,"up_vote_count":61,"is_accepted":false,"score":60,"last_activity_date":1362561210,"creation_date":1362561210,"answer_id":15243151,"question_id":12132003,"body_markdown":"I had the same problem, and turns out I had never completely compiled the fresh project. So right-clicking and selecting Compile&#39;&lt;default&gt;&#39; (shift-cmd-F9 on mac) fixed it. It seems the compile on save does not &#39;see&#39; non-compiled files.\r\n\r\nMarking the src folder as source did _not_ help in my case.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I had the same problem, and turns out I had never completely compiled the fresh project. So right-clicking and selecting Compile'' (shift-cmd-F9 on mac) fixed it. It seems the compile on save does not 'see' non-compiled files.</p>\n\n<p>Marking the src folder as source did <em>not</em> help in my case.</p>\n"},{"tags":[],"owner":{"account_id":184453,"reputation":5652,"user_id":420504,"accept_rate":61,"display_name":"Moiz Raja"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366919931,"creation_date":1366919931,"answer_id":16223665,"question_id":12132003,"body_markdown":"I use maven in my project. For some reason IntelliJ was giving me these kind of wierd errors. I ran mvn clean and tried a resync and these errors disappeared.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I use maven in my project. For some reason IntelliJ was giving me these kind of wierd errors. I ran mvn clean and tried a resync and these errors disappeared.</p>\n"},{"tags":[],"owner":{"account_id":2132099,"reputation":171,"user_id":1892719,"accept_rate":75,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405352475,"creation_date":1405352475,"answer_id":24740392,"question_id":12132003,"body_markdown":"I know this is an old question, but as per my recent experience, this happens because the build resources are either deleted or Idea cannot recognize them as the source.\r\n\r\nWherever the error appears, provide sources for the folder/directory and this error must be resolved.\r\n\r\nSometimes even when we assign sources for the whole folder, individual classes might still be unavailable. For novice users simple solution is to import a fresh copy and build the application again to be good to go.\r\n\r\nIt is advisable to do a clean install after this.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I know this is an old question, but as per my recent experience, this happens because the build resources are either deleted or Idea cannot recognize them as the source.</p>\n\n<p>Wherever the error appears, provide sources for the folder/directory and this error must be resolved.</p>\n\n<p>Sometimes even when we assign sources for the whole folder, individual classes might still be unavailable. For novice users simple solution is to import a fresh copy and build the application again to be good to go.</p>\n\n<p>It is advisable to do a clean install after this.</p>\n"},{"tags":[],"owner":{"account_id":332110,"reputation":3723,"user_id":657205,"accept_rate":100,"display_name":"Christian Wilkie"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1413226096,"creation_date":1413225790,"answer_id":26346769,"question_id":12132003,"body_markdown":"I was getting the same &quot;cannot find symbol&quot; error when I did `Build -&gt; Make Project`. I fixed this by deleting my Maven `/target` folder, right clicking my project module and doing `Maven -&gt; Reimport`, and doing `Build -&gt; Rebuild Project`. This was on IntelliJ Idea 13.1.5.\r\n\r\nIt turns out the `Maven -&gt; Reimport` was key, since the problem resurfaced a few times before I finally did that.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I was getting the same \"cannot find symbol\" error when I did <code>Build -&gt; Make Project</code>. I fixed this by deleting my Maven <code>/target</code> folder, right clicking my project module and doing <code>Maven -&gt; Reimport</code>, and doing <code>Build -&gt; Rebuild Project</code>. This was on IntelliJ Idea 13.1.5.</p>\n\n<p>It turns out the <code>Maven -&gt; Reimport</code> was key, since the problem resurfaced a few times before I finally did that.</p>\n"},{"tags":[],"owner":{"account_id":6026139,"reputation":69,"user_id":4731786,"accept_rate":100,"display_name":"Pasha Shestakov"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1446424119,"creation_date":1446424119,"answer_id":33468930,"question_id":12132003,"body_markdown":"I know this is old, but for anyone else, make sure that the class that&#39;s missing is in the same package as the class where you get the error/where your calling it from.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I know this is old, but for anyone else, make sure that the class that's missing is in the same package as the class where you get the error/where your calling it from.</p>\n"},{"tags":[],"owner":{"account_id":2866905,"reputation":1561,"user_id":2461045,"accept_rate":65,"display_name":"ganninu93"},"down_vote_count":2,"up_vote_count":93,"is_accepted":false,"score":91,"last_activity_date":1462874598,"creation_date":1462874598,"answer_id":37135250,"question_id":12132003,"body_markdown":"I had the same problem and fixed it by clicking File&gt;Invalidate caches/ restart","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I had the same problem and fixed it by clicking File>Invalidate caches/ restart</p>\n"},{"tags":[],"owner":{"account_id":3297374,"reputation":57,"user_id":2774333,"accept_rate":86,"display_name":"Nimbrod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464599448,"creation_date":1464599448,"answer_id":37521799,"question_id":12132003,"body_markdown":"Since this is the first hit on Google searching for &quot;intelliJ cannot find symbol&quot; error, I&#39;m gonna throw in my solution as well. \r\n\r\nThe problem for me was that my project originated from Eclipse, and some files contained dependency on classes that were generated in `src/generated-sources` by specifications in pom.xml. For some reason, this was not properly executed when I first opened the project and rebuilding/re-importing did not help, so the files were never generated. \r\n\r\nThe solution was to right-click on the module, and select `Maven -&gt; Generate Sources and Update Folders` That solved the issue and I could compile. ","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Since this is the first hit on Google searching for \"intelliJ cannot find symbol\" error, I'm gonna throw in my solution as well. </p>\n\n<p>The problem for me was that my project originated from Eclipse, and some files contained dependency on classes that were generated in <code>src/generated-sources</code> by specifications in pom.xml. For some reason, this was not properly executed when I first opened the project and rebuilding/re-importing did not help, so the files were never generated. </p>\n\n<p>The solution was to right-click on the module, and select <code>Maven -&gt; Generate Sources and Update Folders</code> That solved the issue and I could compile. </p>\n"},{"tags":[],"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465939402,"creation_date":1465939402,"answer_id":37822367,"question_id":12132003,"body_markdown":"Make sure the source file of the java class you are trying to refer to has a `.java` extension. It was `.aj` in my case (I must have hit &quot;Create aspect&quot; instead of &quot;Create class&quot; when creating it). IntelliJ shows the same icon for this file as for &quot;normal&quot; class, but compiler does not see it when building.\r\n\r\nChanging `.aj` to `.java` fixed it in my case.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Make sure the source file of the java class you are trying to refer to has a <code>.java</code> extension. It was <code>.aj</code> in my case (I must have hit \"Create aspect\" instead of \"Create class\" when creating it). IntelliJ shows the same icon for this file as for \"normal\" class, but compiler does not see it when building.</p>\n\n<p>Changing <code>.aj</code> to <code>.java</code> fixed it in my case.</p>\n"},{"tags":[],"owner":{"account_id":104821,"reputation":8403,"user_id":280041,"accept_rate":84,"display_name":"zeroboo"},"down_vote_count":9,"up_vote_count":315,"is_accepted":false,"score":306,"last_activity_date":1481348066,"creation_date":1481348066,"answer_id":41072533,"question_id":12132003,"body_markdown":"Select Build-&gt;Rebuild Project will solve it","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Select Build->Rebuild Project will solve it</p>\n"},{"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486430119,"creation_date":1486430119,"answer_id":42080059,"question_id":12132003,"body_markdown":"Sometimes the class you want is in the `test` source directory. Happened to me, anyway…","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Sometimes the class you want is in the <code>test</code> source directory. Happened to me, anyway…</p>\n"},{"tags":[],"owner":{"account_id":1728052,"reputation":25,"user_id":1582290,"display_name":"MoneeK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534773150,"creation_date":1534773150,"answer_id":51932265,"question_id":12132003,"body_markdown":"I was having the same problem except that I was importing the classes for which dependencies were not resolving somehow. I refreshed maven projects, Rebuild Project. It still did not resolve.\r\nLooks like IntelliJ was caching something incorrectly.\r\nI restarted IntelliJ and that resolved the dependencies. I guess it cleared the cache somehow.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I was having the same problem except that I was importing the classes for which dependencies were not resolving somehow. I refreshed maven projects, Rebuild Project. It still did not resolve.\nLooks like IntelliJ was caching something incorrectly.\nI restarted IntelliJ and that resolved the dependencies. I guess it cleared the cache somehow.</p>\n"},{"tags":[],"owner":{"account_id":1002869,"reputation":391,"user_id":1017333,"accept_rate":78,"display_name":"bitsmcgee77"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1537387098,"creation_date":1537387098,"answer_id":52413367,"question_id":12132003,"body_markdown":"I had to right-click the project, and select &quot;Reimport&quot; under the &quot;Run Maven&quot; submenu.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I had to right-click the project, and select \"Reimport\" under the \"Run Maven\" submenu.</p>\n"},{"tags":[],"owner":{"account_id":483027,"reputation":191,"user_id":897832,"accept_rate":17,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538511642,"creation_date":1538511642,"answer_id":52615836,"question_id":12132003,"body_markdown":"For my case, the issue was with using Lombok&#39;s experimental feature @UtilityClass in my java project in Intellij Idea, to annotate a class methods as &quot;static&quot;. When I explicitly made each method of the class as &quot;static&quot; instead of using the annotation, all the compilation issues disappeared.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For my case, the issue was with using Lombok's experimental feature @UtilityClass in my java project in Intellij Idea, to annotate a class methods as \"static\". When I explicitly made each method of the class as \"static\" instead of using the annotation, all the compilation issues disappeared.</p>\n"},{"tags":[],"owner":{"account_id":7282472,"reputation":2550,"user_id":5551731,"accept_rate":52,"display_name":"Taranjit Kang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547965699,"creation_date":1547965699,"answer_id":54274139,"question_id":12132003,"body_markdown":"recompiling the main Application.java class did it for me, right click on class &gt; Recompile","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>recompiling the main Application.java class did it for me, right click on class > Recompile</p>\n"},{"tags":[],"owner":{"account_id":3579641,"reputation":36,"user_id":2988149,"display_name":"edmar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563542603,"creation_date":1563542603,"answer_id":57113424,"question_id":12132003,"body_markdown":"I know this thread is old but, another solution was to run\r\n```\r\n$ mvn clean install -Dmaven.test.skip=true\r\n```\r\n\r\nAnd on IntelliJ do CMD + Shift + A (mac os) -&gt; type &quot;Reimport all Maven projects&quot;.\r\n\r\nIf that doesn&#39;t work, try forcing maven dependencies to be re-downloaded\r\n```\r\n$ mvn clean -U install -Dmaven.test.skip=true\r\n```","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I know this thread is old but, another solution was to run</p>\n\n<pre><code>$ mvn clean install -Dmaven.test.skip=true\n</code></pre>\n\n<p>And on IntelliJ do CMD + Shift + A (mac os) -> type \"Reimport all Maven projects\".</p>\n\n<p>If that doesn't work, try forcing maven dependencies to be re-downloaded</p>\n\n<pre><code>$ mvn clean -U install -Dmaven.test.skip=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11016286,"reputation":1993,"user_id":8092044,"accept_rate":80,"display_name":"Tomas Lukac"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1565339154,"creation_date":1565339154,"answer_id":57426173,"question_id":12132003,"body_markdown":"This happened to me when I deleted a folder and then copy-pasted it back to the project.\r\n\r\n```Right-click project folder -&gt; Rebuild``` worked for me.\r\n","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>This happened to me when I deleted a folder and then copy-pasted it back to the project.</p>\n\n<p><code>Right-click project folder -&gt; Rebuild</code> worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1588685,"reputation":1941,"user_id":1472493,"accept_rate":42,"display_name":"R11G"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1572043092,"creation_date":1572043092,"answer_id":58566532,"question_id":12132003,"body_markdown":"For me - I tried these steps(Invalidate Cache &amp; Restart, Maven Reimport)) but they didn&#39;t work. So I deleted the `.idea`, `.settings`, and `.project` folder and tried - it worked.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For me - I tried these steps(Invalidate Cache &amp; Restart, Maven Reimport)) but they didn't work. So I deleted the <code>.idea</code>, <code>.settings</code>, and <code>.project</code> folder and tried - it worked.</p>\n"},{"tags":[],"owner":{"account_id":1117217,"reputation":427,"user_id":1106294,"display_name":"Muzammil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580744809,"creation_date":1580744809,"answer_id":60042598,"question_id":12132003,"body_markdown":"If you are using Lombok, make sure you have enabled annotation processing.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>If you are using Lombok, make sure you have enabled annotation processing.</p>\n"},{"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581603565,"creation_date":1581603565,"answer_id":60209963,"question_id":12132003,"body_markdown":"I&#39;m seeing a lot of answers proposing a build or a re-build but just in case this don&#39;t fix your problem just notice that IDEA can detect a method but it will not compile in case you have a `new` before as it will be expecting the instance.\r\n\r\n   \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XDYlj.png","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I'm seeing a lot of answers proposing a build or a re-build but just in case this don't fix your problem just notice that IDEA can detect a method but it will not compile in case you have a <code>new</code> before as it will be expecting the instance.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XDYlj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XDYlj.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7761380,"reputation":1421,"user_id":5874033,"display_name":"RaulDanielPopa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582794584,"creation_date":1582794584,"answer_id":60429696,"question_id":12132003,"body_markdown":"For me was a problem with Lombok, because it requires Annotation Processing to be enabled. You can find this checkbox on `Settings &gt; Build &gt; Compiler &gt; Annotation Processors`","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For me was a problem with Lombok, because it requires Annotation Processing to be enabled. You can find this checkbox on <code>Settings &gt; Build &gt; Compiler &gt; Annotation Processors</code></p>\n"},{"tags":[],"owner":{"account_id":3880403,"reputation":507,"user_id":7948652,"display_name":"nikiforovpizza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585061543,"creation_date":1585061543,"answer_id":60833489,"question_id":12132003,"body_markdown":"In my case, I had a problem with finding a class from another module. In `pom.xml`, I just had this dependency with `&lt;scope&gt;compile&lt;/scope&gt;` specified. Removing this line helped.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case, I had a problem with finding a class from another module. In <code>pom.xml</code>, I just had this dependency with <code>&lt;scope&gt;compile&lt;/scope&gt;</code> specified. Removing this line helped.</p>\n"},{"tags":[],"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1598948128,"creation_date":1592478632,"answer_id":62448630,"question_id":12132003,"body_markdown":"I faced the same problem, and there are a lot of solutions given in the answer, trying all these solutions took me quite some time, so here I would like to propose a methodical approach if you get this error.\r\n\r\n **Check for the following things, create/update if something is missing**\r\n\r\n 1. src folder is marked as the source folder\r\n 2. .imls files are present\r\n 3. Annotation processing is enabled\r\n 4. If you recently used @UtilityClass then it can also be the reason, [Bug Link](https://github.com/rzwitserloot/lombok/issues/2044)\r\n\r\n**If everything is fine, you can try following solutions in given order**\r\n\r\n 1. Recompile the file/module\r\n\r\n 2. If that didn&#39;t fix the issue, try refreshing maven dependency and building the project using `Maven -&gt; Reimport` and `Build -&gt; Rebuild Project`\r\n\r\n 3. Try `mvn clean install -DskipTests`\r\n\r\n 4. Try invalidating the IntelliJ cache and restarting the IDE, using `File &gt; Invalidate caches/ restart`\r\n\r\n 5. Delete the .idea folder and reimport the project\r\n\r\n\r\nCredit and Thanks to everyone who answered this question, you can refer to their answers for more description regarding each point.\r\n\r\n ","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I faced the same problem, and there are a lot of solutions given in the answer, trying all these solutions took me quite some time, so here I would like to propose a methodical approach if you get this error.</p>\n<p><strong>Check for the following things, create/update if something is missing</strong></p>\n<ol>\n<li>src folder is marked as the source folder</li>\n<li>.imls files are present</li>\n<li>Annotation processing is enabled</li>\n<li>If you recently used @UtilityClass then it can also be the reason, <a href=\"https://github.com/rzwitserloot/lombok/issues/2044\" rel=\"noreferrer\">Bug Link</a></li>\n</ol>\n<p><strong>If everything is fine, you can try following solutions in given order</strong></p>\n<ol>\n<li><p>Recompile the file/module</p>\n</li>\n<li><p>If that didn't fix the issue, try refreshing maven dependency and building the project using <code>Maven -&gt; Reimport</code> and <code>Build -&gt; Rebuild Project</code></p>\n</li>\n<li><p>Try <code>mvn clean install -DskipTests</code></p>\n</li>\n<li><p>Try invalidating the IntelliJ cache and restarting the IDE, using <code>File &gt; Invalidate caches/ restart</code></p>\n</li>\n<li><p>Delete the .idea folder and reimport the project</p>\n</li>\n</ol>\n<p>Credit and Thanks to everyone who answered this question, you can refer to their answers for more description regarding each point.</p>\n"},{"tags":[],"owner":{"account_id":6981729,"reputation":69,"user_id":5354382,"accept_rate":80,"display_name":"Raja aar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611409395,"creation_date":1611409395,"answer_id":65859872,"question_id":12132003,"body_markdown":"This works for me, say class A depends on class B(and class c, d etc) but the error throws on class A which does not have any errors. So I try to compile class A alone first -&gt;it shows error on the **package of class B**. So tried to compile whole package of class B. Now it throws which is the exact error class(on my case class B had error). Usually Intellj shows the exact error class with line number when compile/build. On some occasions it throws error in wrong place/class. Have a try.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>This works for me, say class A depends on class B(and class c, d etc) but the error throws on class A which does not have any errors. So I try to compile class A alone first -&gt;it shows error on the <strong>package of class B</strong>. So tried to compile whole package of class B. Now it throws which is the exact error class(on my case class B had error). Usually Intellj shows the exact error class with line number when compile/build. On some occasions it throws error in wrong place/class. Have a try.</p>\n"},{"tags":[],"owner":{"account_id":9019934,"reputation":51,"user_id":6721361,"display_name":"Sergei Ryzhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628154634,"creation_date":1614881061,"answer_id":66480621,"question_id":12132003,"body_markdown":"Once when *Maven Reimport*,  *Rebuild Project*, *Invalidate caches* didn&#39;t help I deleted subfolders `artifacts` and `libraries` from .idea folder, not whole one, so I saved custom project settings.\r\n\r\n...and when nothing written here helps check *idea.log* file as posted [here](https://stackoverflow.com/a/42427510/6721361)","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Once when <em>Maven Reimport</em>,  <em>Rebuild Project</em>, <em>Invalidate caches</em> didn't help I deleted subfolders <code>artifacts</code> and <code>libraries</code> from .idea folder, not whole one, so I saved custom project settings.</p>\n<p>...and when nothing written here helps check <em>idea.log</em> file as posted <a href=\"https://stackoverflow.com/a/42427510/6721361\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1304524,"reputation":405,"user_id":3255453,"display_name":"learnerer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621474318,"creation_date":1621474318,"answer_id":67612837,"question_id":12132003,"body_markdown":"For me, the error was coming from ```@RequiredArgsConstructor(onConstructor = @__(@Inject))```, and the message was ```cannot find symbol __```. The error message right above this was &quot;java: You aren&#39;t using a compiler supported by lombok, so lombok will not work and has been disabled&quot;. \r\n\r\nAdding argument below in VM options worked as suggested [here](https://stackoverflow.com/a/65188047/3255453) worked for me.\r\n\r\n```\r\n-Djps.track.ap.dependencies=false\r\n```\r\n\r\n","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For me, the error was coming from <code>@RequiredArgsConstructor(onConstructor = @__(@Inject))</code>, and the message was <code>cannot find symbol __</code>. The error message right above this was &quot;java: You aren't using a compiler supported by lombok, so lombok will not work and has been disabled&quot;.</p>\n<p>Adding argument below in VM options worked as suggested <a href=\"https://stackoverflow.com/a/65188047/3255453\">here</a> worked for me.</p>\n<pre><code>-Djps.track.ap.dependencies=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628158854,"creation_date":1628158854,"answer_id":68664784,"question_id":12132003,"body_markdown":"I tried everything and nothing worked for me. So, after wasting a couple of hours, I decided to **upgrade the IntelliJ** idea version, and finally, it worked!","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I tried everything and nothing worked for me. So, after wasting a couple of hours, I decided to <strong>upgrade the IntelliJ</strong> idea version, and finally, it worked!</p>\n"},{"tags":[],"owner":{"account_id":2736975,"reputation":1201,"user_id":2359447,"display_name":"Federico Traiman"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1637582471,"creation_date":1637582471,"answer_id":70065422,"question_id":12132003,"body_markdown":"I solved this problem doing right click on Java Folder and Rebuild &lt;default&gt;\r\n\r\n[![IntelliJ screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ghbag.png","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I solved this problem doing right click on Java Folder and Rebuild </p>\n<p><a href=\"https://i.stack.imgur.com/ghbag.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ghbag.png\" alt=\"IntelliJ screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1527660,"reputation":2400,"user_id":1579915,"display_name":"dr0i"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647362941,"creation_date":1647362941,"answer_id":71486001,"question_id":12132003,"body_markdown":"Delete all the contents inside `~/.m2` . Start `intellij-idea`.\r\n(Using IntelliJ IDEA 2021.3 (Community Edition))","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Delete all the contents inside <code>~/.m2</code> . Start <code>intellij-idea</code>.\n(Using IntelliJ IDEA 2021.3 (Community Edition))</p>\n"},{"tags":[],"owner":{"account_id":14556785,"reputation":392,"user_id":10514096,"display_name":"SpongeBob"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656568826,"creation_date":1656568826,"answer_id":72810952,"question_id":12132003,"body_markdown":"For me: I ran an `mvn clean install` in console(not with embedded IntelliJ maven). Then when I tried again in Intellji maven, it was working fine.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>For me: I ran an <code>mvn clean install</code> in console(not with embedded IntelliJ maven). Then when I tried again in Intellji maven, it was working fine.</p>\n"},{"tags":[],"owner":{"account_id":334900,"reputation":61,"user_id":331946,"accept_rate":60,"display_name":"coverboy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680395824,"creation_date":1680395824,"answer_id":75909566,"question_id":12132003,"body_markdown":"In my case,\r\n\r\n 1. close intelliJ.\r\n 2. delete &quot;.idea&quot; (which are hidden folders by default) from project root.\r\n 3. open IntelliJ\r\n 4. open settings --&gt; find annotation processors --&gt; check &quot;Enable annotation processing&quot;\r\n 5. Open Project structure from &quot;File&quot; menu. Set the appropriate JDK version.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case,</p>\n<ol>\n<li>close intelliJ.</li>\n<li>delete &quot;.idea&quot; (which are hidden folders by default) from project root.</li>\n<li>open IntelliJ</li>\n<li>open settings --&gt; find annotation processors --&gt; check &quot;Enable annotation processing&quot;</li>\n<li>Open Project structure from &quot;File&quot; menu. Set the appropriate JDK version.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10974567,"reputation":101,"user_id":8063630,"display_name":"Prashant_Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682230700,"creation_date":1682230700,"answer_id":76083404,"question_id":12132003,"body_markdown":"In my case, it had nothing to do with the project build or the JDK version mismatch for the project and modules. Giving some context about what I was building:\r\n\r\n 1. I was creating a REST Controller, and a PostMapping in that controller.\r\n2. Method accepts a couple of path parameters.\r\n3. @Valid and @Size(min, max) constraints were applied on these params.\r\n4. What I did wrong was that I used a non-constant type from the service constant file to pass in the value for the min and max allowed in the @Size() annotation. In the service constant I by mistake had defined min/max as the `public static final Integer` type instead of the `**int**` type. This is a compilation issue as @Size would need constant values for min and max. \r\n5. So, check for such silly mistakes as well. Might save you time and effort.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case, it had nothing to do with the project build or the JDK version mismatch for the project and modules. Giving some context about what I was building:</p>\n<ol>\n<li>I was creating a REST Controller, and a PostMapping in that controller.</li>\n<li>Method accepts a couple of path parameters.</li>\n<li>@Valid and @Size(min, max) constraints were applied on these params.</li>\n<li>What I did wrong was that I used a non-constant type from the service constant file to pass in the value for the min and max allowed in the @Size() annotation. In the service constant I by mistake had defined min/max as the <code>public static final Integer</code> type instead of the <code>**int**</code> type. This is a compilation issue as @Size would need constant values for min and max.</li>\n<li>So, check for such silly mistakes as well. Might save you time and effort.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":979607,"reputation":15,"user_id":999701,"display_name":"littlebooboo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686354289,"creation_date":1686354289,"answer_id":76444177,"question_id":12132003,"body_markdown":"Make sure the &quot;Target bytecode version&quot; in the Java Compiler settings is set to a java version that contains the feature you&#39;re trying to use. This value is normally set to &quot;Same as language level&quot; but can be overridden for individual modules. When that happens the code editor will show warnings based on the other language settings but the compiler will generate bytecode for the specified java version. If those language settings don&#39;t match it can be difficult to diagnose the problem.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>Make sure the &quot;Target bytecode version&quot; in the Java Compiler settings is set to a java version that contains the feature you're trying to use. This value is normally set to &quot;Same as language level&quot; but can be overridden for individual modules. When that happens the code editor will show warnings based on the other language settings but the compiler will generate bytecode for the specified java version. If those language settings don't match it can be difficult to diagnose the problem.</p>\n"},{"tags":[],"owner":{"account_id":13572135,"reputation":44,"user_id":9790600,"display_name":"Jack Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688404032,"creation_date":1688404032,"answer_id":76606878,"question_id":12132003,"body_markdown":"In my case, I accidentally added a file to the compiler exclusion list somehow. I went to Preferences -&gt; Compiler -&gt; Excludes, and then removed the file from the exclusion list.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case, I accidentally added a file to the compiler exclusion list somehow. I went to Preferences -&gt; Compiler -&gt; Excludes, and then removed the file from the exclusion list.</p>\n"},{"tags":[],"owner":{"account_id":358938,"reputation":611,"user_id":700043,"accept_rate":75,"display_name":"Seunghoon Baek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688480255,"creation_date":1688480255,"answer_id":76613556,"question_id":12132003,"body_markdown":"In my case, all packages of lombok were imported\r\nI removed this code and imported each required package separately and the problem was solved.\r\n\r\n    import lombok.*; // &lt;-- I just removed this line and reimport packages\r\n\r\nI also don&#39;t know why this solved the problem\r\nI tried all the solutions in the comments here, but it didn&#39;t work.","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>In my case, all packages of lombok were imported\nI removed this code and imported each required package separately and the problem was solved.</p>\n<pre><code>import lombok.*; // &lt;-- I just removed this line and reimport packages\n</code></pre>\n<p>I also don't know why this solved the problem\nI tried all the solutions in the comments here, but it didn't work.</p>\n"},{"tags":[],"owner":{"account_id":10771996,"reputation":67,"user_id":19547282,"display_name":"blm99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693991441,"creation_date":1693991441,"answer_id":77050543,"question_id":12132003,"body_markdown":"I had this problem and it was resolved by adding the following highlighted block into the pom.xml file.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nRemember to update maven afterwards\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QsQHa.png\r\n  [2]: https://i.stack.imgur.com/Ao24y.png","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I had this problem and it was resolved by adding the following highlighted block into the pom.xml file.</p>\n<p><a href=\"https://i.stack.imgur.com/QsQHa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QsQHa.png\" alt=\"enter image description here\" /></a></p>\n<p>Remember to update maven afterwards</p>\n<p><a href=\"https://i.stack.imgur.com/Ao24y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ao24y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":329940,"reputation":2209,"user_id":653755,"display_name":"joe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285811,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"answer_count":37,"score":173,"last_activity_date":1693991441,"creation_date":1345999833,"question_id":12132003,"body_markdown":"I make this call to a static singleton instance from the class `GameManager.java`.\r\n\r\n    HUD.getInstance().update(timeDelta);\r\n\r\n`HUD.java` contains the `HUD` class as well as two other related classes, `HUDTextElement` and `HUDElement`. All the classes are in the same root path `../src/org/mypackage`.\r\n\r\nHowever, when compiling this project in IntelliJ I get **cannot find Symbol HUD** on the line I make the `HUD.getInstance()` call.\r\n\r\nThis exact same code compiles just fine in Eclipse, any idea what the problem is?","title":"Getting &quot;cannot find Symbol&quot; in Java project in IntelliJ","body":"<p>I make this call to a static singleton instance from the class <code>GameManager.java</code>.</p>\n<pre><code>HUD.getInstance().update(timeDelta);\n</code></pre>\n<p><code>HUD.java</code> contains the <code>HUD</code> class as well as two other related classes, <code>HUDTextElement</code> and <code>HUDElement</code>. All the classes are in the same root path <code>../src/org/mypackage</code>.</p>\n<p>However, when compiling this project in IntelliJ I get <strong>cannot find Symbol HUD</strong> on the line I make the <code>HUD.getInstance()</code> call.</p>\n<p>This exact same code compiles just fine in Eclipse, any idea what the problem is?</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-boot-test","spring-context"],"answers":[{"tags":[],"owner":{"account_id":8608634,"reputation":36,"user_id":6447862,"display_name":"Pat Mogianesi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693940072,"creation_date":1693940072,"answer_id":77047079,"question_id":77045175,"body_markdown":"Check if the test configuration class is getting instanced and the beans are available to be injected. For test configuration classes I&#39;ve needed to use import annotation to describe which test configuration classes to use.\r\n\r\nFor example, to include the test-only configurations that I have under my test directory, I use the import like here:\r\n```\r\n@Slf4j\r\n@Import({ DynamoDbLocalServerConfig.class, RestMockServerConfig.class, DynamoDbTestClientConfig.class,\r\n        TestKafkaTemplateConfig.class })\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n        classes = PodsProcessorApplication.class)\r\n@EmbeddedKafka(brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9093&quot;, &quot;port=9093&quot; },\r\n        topics = { PROCESS_MARKER, PROCESS_MARKER_DEAD_LETTER })\r\n```","title":"Spring Boot tests: exclude one specific @Configuration class without using the @Profile annotation","body":"<p>Check if the test configuration class is getting instanced and the beans are available to be injected. For test configuration classes I've needed to use import annotation to describe which test configuration classes to use.</p>\n<p>For example, to include the test-only configurations that I have under my test directory, I use the import like here:</p>\n<pre><code>@Slf4j\n@Import({ DynamoDbLocalServerConfig.class, RestMockServerConfig.class, DynamoDbTestClientConfig.class,\n        TestKafkaTemplateConfig.class })\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n        classes = PodsProcessorApplication.class)\n@EmbeddedKafka(brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9093&quot;, &quot;port=9093&quot; },\n        topics = { PROCESS_MARKER, PROCESS_MARKER_DEAD_LETTER })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693940679,"creation_date":1693940679,"answer_id":77047136,"question_id":77045175,"body_markdown":"You say you have two configuration classes, each class contains definitions of some beans, but probably you&#39;ve decided to unify them into one configuration class for some business reason...\r\n\r\nSo here is my suggestion:\r\n\r\nUse `@ConditionalOnProperty` annotation on your configuration classes. The property will make sense because it can turn on / off some **business feature**\r\n\r\n```\r\n@ConditionalOnProperty(name=&quot;myFeature1&quot;, hasValue=true, matchIfMissing=true)\r\n@Configuration\r\npublic class MyConfigurationA {\r\n   ....\r\n}\r\n\r\n@ConditionalOnProperty(name=&quot;myFeature2&quot;, hasValue=true, matchIfMissing=true)\r\n@Configuration\r\npublic class MyConfigurationB {\r\n   ....\r\n}\r\n```\r\n\r\nIn runtime it will be resolved to be &quot;true&quot; and load all the beans.\r\n\r\nIn tests, however, let&#39;s say you want to exclude beans defined in `MyConfigurationB` from being loaded\r\n\r\nSo define `src/test/resources/application.yml` (or use any other way of property definitions in tests) where you you can write something like this:\r\n\r\n```\r\nmyFeature2=false\r\n```\r\nNow all beans from `MyConfigurationB` won&#39;t be loaded at all","title":"Spring Boot tests: exclude one specific @Configuration class without using the @Profile annotation","body":"<p>You say you have two configuration classes, each class contains definitions of some beans, but probably you've decided to unify them into one configuration class for some business reason...</p>\n<p>So here is my suggestion:</p>\n<p>Use <code>@ConditionalOnProperty</code> annotation on your configuration classes. The property will make sense because it can turn on / off some <strong>business feature</strong></p>\n<pre><code>@ConditionalOnProperty(name=&quot;myFeature1&quot;, hasValue=true, matchIfMissing=true)\n@Configuration\npublic class MyConfigurationA {\n   ....\n}\n\n@ConditionalOnProperty(name=&quot;myFeature2&quot;, hasValue=true, matchIfMissing=true)\n@Configuration\npublic class MyConfigurationB {\n   ....\n}\n</code></pre>\n<p>In runtime it will be resolved to be &quot;true&quot; and load all the beans.</p>\n<p>In tests, however, let's say you want to exclude beans defined in <code>MyConfigurationB</code> from being loaded</p>\n<p>So define <code>src/test/resources/application.yml</code> (or use any other way of property definitions in tests) where you you can write something like this:</p>\n<pre><code>myFeature2=false\n</code></pre>\n<p>Now all beans from <code>MyConfigurationB</code> won't be loaded at all</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693991175,"creation_date":1693944144,"answer_id":77047434,"question_id":77045175,"body_markdown":"You may have a misconception about `@Primary`. If multiple beans of the same type are defined, it does not mean that the one with `@Primary` will be created while the non-primary are ignored. `@Primary` is just useful for injection by type (e.g. `@Autowired`) which you have multiple beans of the same type defined but no `@Qualifier` are used to specify which bean to inject , then the `@Primary` one will be chosen to inject.\r\n\r\n\r\nThe current exception `BeanDefinitionOverrideException` is because you define multiple beans with the same bean name. It is not allowed because bean name is required to be a unique identifier. \r\n\r\n\r\nYou can configure `spring.main.allow-bean-definition-overriding=true` such that spring will not throw exception if it detects a bean with the same name is already defined before. Instead , it will override \r\nthe previous one with the current one. \r\n\r\nMeaning that change to the following should solve your problem : \r\n\r\n\r\n``` java\r\n@SpringBootTest(properties = {&quot;spring.main.allow-bean-definition-overriding=true&quot;}\r\n        , classes = {MyApplication.class, TestBeansConfiguration.class})\r\npublic class AppTest {\r\n\r\n\r\n}\r\n```\r\n\r\nThe bean processing order are based on the order of the context classes that are specified in `@SpringBootTest` .So beans defined due to the `TestBeansConfiguration` will override those due to `MyApplication` in case they have the same bean name.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot tests: exclude one specific @Configuration class without using the @Profile annotation","body":"<p>You may have a misconception about <code>@Primary</code>. If multiple beans of the same type are defined, it does not mean that the one with <code>@Primary</code> will be created while the non-primary are ignored. <code>@Primary</code> is just useful for injection by type (e.g. <code>@Autowired</code>) which you have multiple beans of the same type defined but no <code>@Qualifier</code> are used to specify which bean to inject , then the <code>@Primary</code> one will be chosen to inject.</p>\n<p>The current exception <code>BeanDefinitionOverrideException</code> is because you define multiple beans with the same bean name. It is not allowed because bean name is required to be a unique identifier.</p>\n<p>You can configure <code>spring.main.allow-bean-definition-overriding=true</code> such that spring will not throw exception if it detects a bean with the same name is already defined before. Instead , it will override\nthe previous one with the current one.</p>\n<p>Meaning that change to the following should solve your problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(properties = {&quot;spring.main.allow-bean-definition-overriding=true&quot;}\n        , classes = {MyApplication.class, TestBeansConfiguration.class})\npublic class AppTest {\n\n\n}\n</code></pre>\n<p>The bean processing order are based on the order of the context classes that are specified in <code>@SpringBootTest</code> .So beans defined due to the <code>TestBeansConfiguration</code> will override those due to <code>MyApplication</code> in case they have the same bean name.</p>\n"}],"owner":{"account_id":2650647,"reputation":1354,"user_id":3514976,"accept_rate":71,"display_name":"nonzaprej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77047434,"answer_count":3,"score":0,"last_activity_date":1693991175,"creation_date":1693922390,"question_id":77045175,"body_markdown":"My situation is this: I have a `@SpringBootApplication` class that defines some beans and configurations that are needed both at runtime and during tests, and (in the same package) a `@Configuration` class that defines the application&#39;s own beans.  \r\nIn unit tests, there are several of those beans that cannot be initialized and that I need to re-define and (partially) mock in a `@TestConfiguration` class.  \r\n  \r\nNow, using the `@Profile` annotation would easily solve my problem but I&#39;d prefer not writing any test-related code in the main application code. That includes the `&quot;test&quot;` profile in that annotation (or, well, `&quot;!test&quot;` I guess). Also I&#39;ve read that using it to manage beans like this is an anti-pattern.  \r\n  \r\nHere&#39;s some pseudo-code to make things clearer before saying what I tried:  \r\n  \r\nApplication class:\r\n\r\n```java\r\n    @SpringBootApplication\r\n    public class MyApplication extends SpringBootServletInitializer implements WebMvcConfigurer {\r\n        \r\n        public static void main(String[] args) throws IOException {\r\n            SpringApplication.run(MyApplication.class, args);\r\n        }\r\n        \r\n        // overrides some configuration methods and default Spring beans\r\n    }\r\n```\r\nConfiguration class with the app&#39;s own beans:\r\n```java\r\n    @Configuration\r\n    public class BeansConfiguration {\r\n        \r\n        @Bean\r\n        BeanInterface1 bean1(DataSource dataSource) {\r\n            return new BeanClass1(dataSource);\r\n        }\r\n\r\n        @Bean\r\n        BeanInterface2 bean2(SomeOtherDependency otherDep) {\r\n            return new BeanClass2(otherDep);\r\n        }\r\n        \r\n        // other beans...\r\n    }\r\n```\r\nTest configuration class that redefines these beans:\r\n```java\r\n    @TestConfiguration\r\n    public class TestBeansConfiguration {\r\n        \r\n        @Bean\r\n        @Primary\r\n        BeanInterface1 bean1(DataSource dataSource) {\r\n            // partial mock of the &quot;BeanClass1&quot; class, with a lot of custom code for tests\r\n            return new TestBeanClass1(dataSource);\r\n        }\r\n        \r\n        @Bean\r\n        @Primary\r\n        BeanInterface2 bean2(SomeOtherDependency otherDep) {\r\n            return new TestBeanClass2(otherDep);// same here\r\n        }\r\n        \r\n        // other beans more or less like this...\r\n    }\r\n```\r\nAnnotations on the abstract test class that is extended by most test classes:\r\n```java\r\n    @AutoConfigureMockMvc\r\n    @TestInstance(Lifecycle.PER_CLASS)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public abstract class MyTestClass {\r\n        // ...\r\n    }\r\n```\r\nIf you noticed the `@Primary` annotation on the test beans: it would work if I didn&#39;t have some beans in the `BeansConfiguration` class that completely fail to initialize and throw an exception in the test environment...  \r\n  \r\nNow, before you ask me &quot;why aren&#39;t you mocking these beans instead?&quot; it&#39;s because this application didn&#39;t have Spring, previously. There was A LOT of test code in the &quot;manual mocks&quot; that were made, that can&#39;t just be thrown away. I&#39;ve already adapted all such code to work in `@SpringBootTest`s, but I&#39;m having trouble here initializing the Spring context. \r\n  \r\nOne thing that I tried was defining the &quot;classes&quot; field in the `@SpringBootTest` annotation like so:  \r\n```java\r\n@SpringBootTest(classes = { MyApplication.class, TestBeansConfiguration.class },\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n```\r\nUnfortunately it seems that the `BeansConfiguration` class is still found and used because I get this error:  \r\n```\r\norg.springframework.beans.factory.support.BeanDefinitionOverrideException: \r\nInvalid bean definition with name &#39;bean1&#39; defined in com.example.TestBeansConfiguration:\r\nCannot register bean definition\r\n\r\n[Root bean: class [null]; scope=; abstract=false;\r\nlazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true;\r\nfactoryBeanName=testBeansConfiguration; factoryMethodName=bean1; initMethodName=null;\r\ndestroyMethodName=(inferred);\r\n\r\ndefined in com.example.TestBeansConfiguration] for bean &#39;bean1&#39;: There is already\r\n\r\n[Root bean: class [null]; scope=; abstract=false;\r\nlazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false;\r\nfactoryBeanName=beansConfiguration; factoryMethodName=bean1; initMethodName=null;\r\ndestroyMethodName=(inferred);\r\n\r\ndefined in class path resource [com/example/BeansConfiguration.class]] bound.\r\n```\r\n(I&#39;ve formatted the error message to make it easier to read)  \r\n  \r\nI&#39;ve also tried defining an `ApplicationContextInitializer` class to try to manually exclude the `BeansConfiguration` class, like so:  \r\n```java\r\n    public class ConfigExcludingContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext) {\r\n            applicationContext.getBeanFactory().registerResolvableDependency(BeansConfiguration.class, null);\r\n        }\r\n    }\r\n```\r\n```java\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ContextConfiguration(classes = {SpringMainConfiguration.class, TestSpringConfiguration.class}, \r\n            initializers = ConfigExcludingContextInitializer.class)\r\n```\r\nBut the result is the same.  \r\n\r\nI&#39;d really like to leave the `@Profile` annotation as a last resource. Is there really no other easy way to exclude a specific `@Configuration` class from unit tests?  \r\n\r\nThanks for any help.","title":"Spring Boot tests: exclude one specific @Configuration class without using the @Profile annotation","body":"<p>My situation is this: I have a <code>@SpringBootApplication</code> class that defines some beans and configurations that are needed both at runtime and during tests, and (in the same package) a <code>@Configuration</code> class that defines the application's own beans.<br />\nIn unit tests, there are several of those beans that cannot be initialized and that I need to re-define and (partially) mock in a <code>@TestConfiguration</code> class.</p>\n<p>Now, using the <code>@Profile</code> annotation would easily solve my problem but I'd prefer not writing any test-related code in the main application code. That includes the <code>&quot;test&quot;</code> profile in that annotation (or, well, <code>&quot;!test&quot;</code> I guess). Also I've read that using it to manage beans like this is an anti-pattern.</p>\n<p>Here's some pseudo-code to make things clearer before saying what I tried:</p>\n<p>Application class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SpringBootApplication\n    public class MyApplication extends SpringBootServletInitializer implements WebMvcConfigurer {\n        \n        public static void main(String[] args) throws IOException {\n            SpringApplication.run(MyApplication.class, args);\n        }\n        \n        // overrides some configuration methods and default Spring beans\n    }\n</code></pre>\n<p>Configuration class with the app's own beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    public class BeansConfiguration {\n        \n        @Bean\n        BeanInterface1 bean1(DataSource dataSource) {\n            return new BeanClass1(dataSource);\n        }\n\n        @Bean\n        BeanInterface2 bean2(SomeOtherDependency otherDep) {\n            return new BeanClass2(otherDep);\n        }\n        \n        // other beans...\n    }\n</code></pre>\n<p>Test configuration class that redefines these beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @TestConfiguration\n    public class TestBeansConfiguration {\n        \n        @Bean\n        @Primary\n        BeanInterface1 bean1(DataSource dataSource) {\n            // partial mock of the &quot;BeanClass1&quot; class, with a lot of custom code for tests\n            return new TestBeanClass1(dataSource);\n        }\n        \n        @Bean\n        @Primary\n        BeanInterface2 bean2(SomeOtherDependency otherDep) {\n            return new TestBeanClass2(otherDep);// same here\n        }\n        \n        // other beans more or less like this...\n    }\n</code></pre>\n<p>Annotations on the abstract test class that is extended by most test classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @AutoConfigureMockMvc\n    @TestInstance(Lifecycle.PER_CLASS)\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n    public abstract class MyTestClass {\n        // ...\n    }\n</code></pre>\n<p>If you noticed the <code>@Primary</code> annotation on the test beans: it would work if I didn't have some beans in the <code>BeansConfiguration</code> class that completely fail to initialize and throw an exception in the test environment...</p>\n<p>Now, before you ask me &quot;why aren't you mocking these beans instead?&quot; it's because this application didn't have Spring, previously. There was A LOT of test code in the &quot;manual mocks&quot; that were made, that can't just be thrown away. I've already adapted all such code to work in <code>@SpringBootTest</code>s, but I'm having trouble here initializing the Spring context.</p>\n<p>One thing that I tried was defining the &quot;classes&quot; field in the <code>@SpringBootTest</code> annotation like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = { MyApplication.class, TestBeansConfiguration.class },\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>Unfortunately it seems that the <code>BeansConfiguration</code> class is still found and used because I get this error:</p>\n<pre><code>org.springframework.beans.factory.support.BeanDefinitionOverrideException: \nInvalid bean definition with name 'bean1' defined in com.example.TestBeansConfiguration:\nCannot register bean definition\n\n[Root bean: class [null]; scope=; abstract=false;\nlazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true;\nfactoryBeanName=testBeansConfiguration; factoryMethodName=bean1; initMethodName=null;\ndestroyMethodName=(inferred);\n\ndefined in com.example.TestBeansConfiguration] for bean 'bean1': There is already\n\n[Root bean: class [null]; scope=; abstract=false;\nlazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false;\nfactoryBeanName=beansConfiguration; factoryMethodName=bean1; initMethodName=null;\ndestroyMethodName=(inferred);\n\ndefined in class path resource [com/example/BeansConfiguration.class]] bound.\n</code></pre>\n<p>(I've formatted the error message to make it easier to read)</p>\n<p>I've also tried defining an <code>ApplicationContextInitializer</code> class to try to manually exclude the <code>BeansConfiguration</code> class, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class ConfigExcludingContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        @Override\n        public void initialize(ConfigurableApplicationContext applicationContext) {\n            applicationContext.getBeanFactory().registerResolvableDependency(BeansConfiguration.class, null);\n        }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n    @ContextConfiguration(classes = {SpringMainConfiguration.class, TestSpringConfiguration.class}, \n            initializers = ConfigExcludingContextInitializer.class)\n</code></pre>\n<p>But the result is the same.</p>\n<p>I'd really like to leave the <code>@Profile</code> annotation as a last resource. Is there really no other easy way to exclude a specific <code>@Configuration</code> class from unit tests?</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","naming-conventions","javabeans","getter-setter"],"comments":[{"owner":{"display_name":"user719662"},"score":8,"creation_date":1415522896,"post_id":2948083,"comment_id":42221183,"body_markdown":"Name your field &quot;indexX&quot; or whatever else, your problem is solved... don&#39;t overcomplicate things - even if `setxIndex` is the correct way for Beans, having method named `setxIndex` increases the *WTF factor* of the code without giving you anything in return. If your car driver is sick, don&#39;t think how to fix the car, replace the driver.","body":"Name your field &quot;indexX&quot; or whatever else, your problem is solved... don&#39;t overcomplicate things - even if <code>setxIndex</code> is the correct way for Beans, having method named <code>setxIndex</code> increases the <i>WTF factor</i> of the code without giving you anything in return. If your car driver is sick, don&#39;t think how to fix the car, replace the driver."}],"answers":[{"tags":[],"owner":{"account_id":128218,"reputation":804,"user_id":325886,"display_name":"Samuel Yung"},"down_vote_count":16,"up_vote_count":20,"is_accepted":false,"score":4,"last_activity_date":1438924665,"creation_date":1275379423,"answer_id":2948102,"question_id":2948083,"body_markdown":"Should be:\r\n\r\n    getXIndex()\r\n    setXIndex(final int xIndex)\r\n\r\n","title":"Naming convention for getters/setters in Java","body":"<p>Should be:</p>\n\n<pre><code>getXIndex()\nsetXIndex(final int xIndex)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":200318,"reputation":8482,"user_id":446104,"accept_rate":87,"display_name":"m_pGladiator"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1275379788,"creation_date":1275379788,"answer_id":2948124,"question_id":2948083,"body_markdown":"I think `getXindex()` is the best way. The getter should start with &#39;get&#39;, followed by the member name, with its first letter capitalized. Also the latest conventions I heard of, say that we should avoid multiple capital letters one after another. For example `getHTMLtooltip` is wrong. it should be `getHtmlTooltip` instead. Also you should try to make all your members `final` and there should not be a need of setters, since the class will be immutable ;)\r\n","title":"Naming convention for getters/setters in Java","body":"<p>I think <code>getXindex()</code> is the best way. The getter should start with 'get', followed by the member name, with its first letter capitalized. Also the latest conventions I heard of, say that we should avoid multiple capital letters one after another. For example <code>getHTMLtooltip</code> is wrong. it should be <code>getHtmlTooltip</code> instead. Also you should try to make all your members <code>final</code> and there should not be a need of setters, since the class will be immutable ;)</p>\n"},{"tags":[],"owner":{"account_id":206144,"reputation":14410,"user_id":455257,"accept_rate":56,"display_name":"ayush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1275382516,"creation_date":1275382516,"answer_id":2948385,"question_id":2948083,"body_markdown":"Methods should be verbs, in mixed case with the first letter lowercase, with the first letter of each internal word capitalized. ","title":"Naming convention for getters/setters in Java","body":"<p>Methods should be verbs, in mixed case with the first letter lowercase, with the first letter of each internal word capitalized. </p>\n"},{"tags":[],"owner":{"account_id":14894,"reputation":8953,"user_id":30967,"accept_rate":67,"display_name":"Thomas Einwaller"},"down_vote_count":1,"up_vote_count":43,"is_accepted":true,"score":42,"last_activity_date":1507535137,"creation_date":1366630565,"answer_id":16146215,"question_id":2948083,"body_markdown":"The correct answer is\r\n\r\n    getxIndex()\r\n    setxIndex(int value)\r\n\r\nif you want them to be used as properties according to section ***8.8: Capitalization of inferred names*** of the [JavaBeans API specification](http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf) (e.g. access them via ${object.xIndex} in a JSP.\r\n\r\n","title":"Naming convention for getters/setters in Java","body":"<p>The correct answer is</p>\n\n<pre><code>getxIndex()\nsetxIndex(int value)\n</code></pre>\n\n<p>if you want them to be used as properties according to section <strong><em>8.8: Capitalization of inferred names</em></strong> of the <a href=\"http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf\" rel=\"noreferrer\">JavaBeans API specification</a> (e.g. access them via ${object.xIndex} in a JSP.</p>\n"},{"tags":[],"owner":{"account_id":464241,"reputation":441,"user_id":3849963,"accept_rate":62,"display_name":"Herv&#233; Darritchon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424703579,"creation_date":1424703579,"answer_id":28676628,"question_id":2948083,"body_markdown":"You should use  Introspector.decapitalize from package java.beans and you have no problem beacause it is compliant with java rules.\r\n","title":"Naming convention for getters/setters in Java","body":"<p>You should use  Introspector.decapitalize from package java.beans and you have no problem beacause it is compliant with java rules.</p>\n"},{"tags":[],"owner":{"account_id":6820142,"reputation":149,"user_id":5247559,"display_name":"Bipin Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463943156,"creation_date":1463942099,"answer_id":37378091,"question_id":2948083,"body_markdown":"Eclipse ide automatically generates setters and getters as:\r\n\r\n    getxIndex()\r\n    setxIndex(int value)\r\n\r\nWhich is according to the java beans API specification. ","title":"Naming convention for getters/setters in Java","body":"<p>Eclipse ide automatically generates setters and getters as:</p>\n\n<pre><code>getxIndex()\nsetxIndex(int value)\n</code></pre>\n\n<p>Which is according to the java beans API specification. </p>\n"},{"tags":[],"owner":{"account_id":1007528,"reputation":1729,"user_id":1020871,"accept_rate":86,"display_name":"Love"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1616923880,"creation_date":1521383132,"answer_id":49348966,"question_id":2948083,"body_markdown":"In accordance with [JavaBeans API specification from 1997](http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf)\r\nit should be as Thomas Einwaller describes:\r\n\r\n    // According to JavaBeans API specification\r\n    public int getxIndex() { return xIndex; }\r\n    public void setxIndex(int xIndex) { this.xIndex = xIndex; }\r\n\r\nThis is unfortunate, *getx* and *setx* are not words. In the rare case when this would form a word or acronym it would be disinformative, eg the method `setiMessage` most\r\nlikely has nothing to do with [SETI](https://en.wikipedia.org/wiki/Search_for_extraterrestrial_intelligence).\r\nUsing [the only valid measurement of code quality](http://www.osnews.com/story/19266/WTFs_m) (WTFs per minute),\r\nI assess that **this is bad code**.\r\n\r\nIf we modify this to follow the convention for\r\n[naming a method](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html) it would be:\r\n\r\n    // According to Java naming convention\r\n    public int getXIndex() { return xIndex; }\r\n    public void setXIndex(int xIndex) { this.xIndex = xIndex; }\r\n\r\nWhy does the JavaBeans specification violate the convention? It all comes down to this sentence of the JavaBeans specification:\r\n\r\n&gt; However to support the occasional use of all upper-case names, we check if the first two characters of the name are \r\n  both upper case and if so leave it alone.\r\n\r\nExactly what kind of use of all upper-case names this refers to is unclear to me. Field names should, according to\r\n[convention](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html#naming), be camel cased. It seems\r\nto me that we generate unconventional method names in order to support unconventional field names as decided by a\r\n20+ year old document.\r\n\r\nIt should also be noted that even though it seems to be an overwhelming support for the JavaBeans specification in tools,\r\nit is not exclusively used. Eg. Kotlin will not recognize `xIndex` as a property in the above example. Reversely, the\r\nKotlin property `var xIndex = 0` will result in the Java methods `getXIndex` and `setXIndex`. This seems to be a bug\r\naccording to the JetBrains support, but I fail to see how they can fix that without making a breaking change.\r\n\r\nSome tools that does support the JavaBeans specification has not always done so, eg [Jackson](https://github.com/fasterxml/jackson-databind/issues/653)\r\nand [Swagger Code Generator](https://github.com/swagger-api/swagger-codegen/issues/445) have been patched to conform to it.\r\nEven though IntelliJ generate accessors according to the JavaBeans specification, the [example](https://www.jetbrains.com/help/idea/generating-getters-and-setters.html#d258091e78)\r\nin the documentation differs from it. Probably because people don&#39;t know about the standard and naturally prefers the\r\nnormal method naming convention.\r\n\r\n*So when should we follow the JavaBeans specification?* When property names should be inferred by accessors by tools that\r\nrely on this standard, then we might want to use it. For instance, [Jackson](https://github.com/FasterXML/jackson) will rely\r\non the property `xIndex` being accessed through `getxIndex` and `setxIndex` methods unless we use annotations.\r\n\r\n*When should we avoid this standard?* Per my recommendation: When the code should be read and understood by humans.\r\nBecause to not use proper camel casing when naming methods is disinformative.\r\n\r\nIf I would have it my way, we would use normal naming conventions, ie `getXIndex` and `setXIndex`. But, given the state\r\nof things, the best solution I see is suggested by @vaxquis:\r\n\r\n&gt; Name your field &quot;indexX&quot; or whatever else, your problem is solved... don&#39;t overcomplicate things - even if setxIndex \r\n  is the correct way for Beans, having method named setxIndex increases the WTF factor of the code without giving you\r\n  anything in return.\r\n\r\nAny comments regarding the JavaBeans specification should, according the specification itself, be sent to\r\njava-beans@java.sun.com.","title":"Naming convention for getters/setters in Java","body":"<p>In accordance with <a href=\"http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf\" rel=\"nofollow noreferrer\">JavaBeans API specification from 1997</a>\nit should be as Thomas Einwaller describes:</p>\n<pre><code>// According to JavaBeans API specification\npublic int getxIndex() { return xIndex; }\npublic void setxIndex(int xIndex) { this.xIndex = xIndex; }\n</code></pre>\n<p>This is unfortunate, <em>getx</em> and <em>setx</em> are not words. In the rare case when this would form a word or acronym it would be disinformative, eg the method <code>setiMessage</code> most\nlikely has nothing to do with <a href=\"https://en.wikipedia.org/wiki/Search_for_extraterrestrial_intelligence\" rel=\"nofollow noreferrer\">SETI</a>.\nUsing <a href=\"http://www.osnews.com/story/19266/WTFs_m\" rel=\"nofollow noreferrer\">the only valid measurement of code quality</a> (WTFs per minute),\nI assess that <strong>this is bad code</strong>.</p>\n<p>If we modify this to follow the convention for\n<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">naming a method</a> it would be:</p>\n<pre><code>// According to Java naming convention\npublic int getXIndex() { return xIndex; }\npublic void setXIndex(int xIndex) { this.xIndex = xIndex; }\n</code></pre>\n<p>Why does the JavaBeans specification violate the convention? It all comes down to this sentence of the JavaBeans specification:</p>\n<blockquote>\n<p>However to support the occasional use of all upper-case names, we check if the first two characters of the name are\nboth upper case and if so leave it alone.</p>\n</blockquote>\n<p>Exactly what kind of use of all upper-case names this refers to is unclear to me. Field names should, according to\n<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html#naming\" rel=\"nofollow noreferrer\">convention</a>, be camel cased. It seems\nto me that we generate unconventional method names in order to support unconventional field names as decided by a\n20+ year old document.</p>\n<p>It should also be noted that even though it seems to be an overwhelming support for the JavaBeans specification in tools,\nit is not exclusively used. Eg. Kotlin will not recognize <code>xIndex</code> as a property in the above example. Reversely, the\nKotlin property <code>var xIndex = 0</code> will result in the Java methods <code>getXIndex</code> and <code>setXIndex</code>. This seems to be a bug\naccording to the JetBrains support, but I fail to see how they can fix that without making a breaking change.</p>\n<p>Some tools that does support the JavaBeans specification has not always done so, eg <a href=\"https://github.com/fasterxml/jackson-databind/issues/653\" rel=\"nofollow noreferrer\">Jackson</a>\nand <a href=\"https://github.com/swagger-api/swagger-codegen/issues/445\" rel=\"nofollow noreferrer\">Swagger Code Generator</a> have been patched to conform to it.\nEven though IntelliJ generate accessors according to the JavaBeans specification, the <a href=\"https://www.jetbrains.com/help/idea/generating-getters-and-setters.html#d258091e78\" rel=\"nofollow noreferrer\">example</a>\nin the documentation differs from it. Probably because people don't know about the standard and naturally prefers the\nnormal method naming convention.</p>\n<p><em>So when should we follow the JavaBeans specification?</em> When property names should be inferred by accessors by tools that\nrely on this standard, then we might want to use it. For instance, <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> will rely\non the property <code>xIndex</code> being accessed through <code>getxIndex</code> and <code>setxIndex</code> methods unless we use annotations.</p>\n<p><em>When should we avoid this standard?</em> Per my recommendation: When the code should be read and understood by humans.\nBecause to not use proper camel casing when naming methods is disinformative.</p>\n<p>If I would have it my way, we would use normal naming conventions, ie <code>getXIndex</code> and <code>setXIndex</code>. But, given the state\nof things, the best solution I see is suggested by @vaxquis:</p>\n<blockquote>\n<p>Name your field &quot;indexX&quot; or whatever else, your problem is solved... don't overcomplicate things - even if setxIndex\nis the correct way for Beans, having method named setxIndex increases the WTF factor of the code without giving you\nanything in return.</p>\n</blockquote>\n<p>Any comments regarding the JavaBeans specification should, according the specification itself, be sent to\njava-beans@java.sun.com.</p>\n"},{"tags":[],"owner":{"account_id":4916508,"reputation":696,"user_id":3960315,"accept_rate":100,"display_name":"Arash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693991134,"creation_date":1693990582,"answer_id":77050424,"question_id":2948083,"body_markdown":"I just wanted to point out the problem I encountered. I named the property of `cDate`, `getCDate()` and i got `PropertyNotFoundException`: **Property [cDate] not readable on type**. So The correct answer is:\r\n\r\n    public int getxIndex(){...}\r\n    public MyClass setxIndex(final int xIndex){...}\r\n\r\n[Thomas](https://stackoverflow.com/a/16146215/3960315) has explained more.","title":"Naming convention for getters/setters in Java","body":"<p>I just wanted to point out the problem I encountered. I named the property of <code>cDate</code>, <code>getCDate()</code> and i got <code>PropertyNotFoundException</code>: <strong>Property [cDate] not readable on type</strong>. So The correct answer is:</p>\n<pre><code>public int getxIndex(){...}\npublic MyClass setxIndex(final int xIndex){...}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/16146215/3960315\">Thomas</a> has explained more.</p>\n"}],"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27983,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":16146215,"answer_count":8,"score":39,"last_activity_date":1693991134,"creation_date":1275379273,"question_id":2948083,"body_markdown":"if I have the following private member:\r\n\r\n    private int xIndex;\r\n\r\nHow should I name my getter/setter:\r\n\r\n    getXindex()\r\n    setXindex(int value)\r\n\r\nor \r\n\r\n    getxIndex()\r\n    setxIndex(int value)\r\n\r\nEDIT: or\r\n\r\n    getXIndex()\r\n    setXIndex(int value);\r\n\r\n?","title":"Naming convention for getters/setters in Java","body":"<p>if I have the following private member:</p>\n\n<pre><code>private int xIndex;\n</code></pre>\n\n<p>How should I name my getter/setter:</p>\n\n<pre><code>getXindex()\nsetXindex(int value)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>getxIndex()\nsetxIndex(int value)\n</code></pre>\n\n<p>EDIT: or</p>\n\n<pre><code>getXIndex()\nsetXIndex(int value);\n</code></pre>\n\n<p>?</p>\n"},{"tags":["java","netbeans","glassfish"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1656563064,"post_id":72809401,"comment_id":128604614,"body_markdown":"Try activating Java SE first? Also, update your question to specify the version of Java being used.","body":"Try activating Java SE first? Also, update your question to specify the version of Java being used."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1656637399,"post_id":72809401,"comment_id":128627338,"body_markdown":"[1] I am also using NetBeans 14 and **Base IDE** is shown as installed but not active, yet if I check that entry my only option is to click **Uninstall**. That&#39;s not directly relevant to your question, but I see that you have successful activated **Base IDE**. [2] In my case, however, I can and have activated **Java Web and EE**. [3] So there is some evidence of a possible issue with plugin activation in NetBeans 14. Beyond raising it as [an issue with NetBeans on GitHub](https://github.com/apache/netbeans/issues/3447) I have no suggestions.","body":"[1] I am also using NetBeans 14 and <b>Base IDE</b> is shown as installed but not active, yet if I check that entry my only option is to click <b>Uninstall</b>. That&#39;s not directly relevant to your question, but I see that you have successful activated <b>Base IDE</b>. [2] In my case, however, I can and have activated <b>Java Web and EE</b>. [3] So there is some evidence of a possible issue with plugin activation in NetBeans 14. Beyond raising it as <a href=\"https://github.com/apache/netbeans/issues/3447\" rel=\"nofollow noreferrer\">an issue with NetBeans on GitHub</a> I have no suggestions."}],"answers":[{"tags":[],"owner":{"account_id":25702276,"reputation":121,"user_id":19462159,"display_name":"BigIO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656754049,"creation_date":1656754049,"answer_id":72837958,"question_id":72809401,"body_markdown":"You can try to uninstall netbeans and re-install then try activating Java Web &amp; EE .\r\nSometimes other 3rd party installed plugins creates issue with main features . Before uninstalling take a backup of all your projects in your system .\r\nIf the issue still persists then try to downgrade it to netbeans 12 or in the worst case Netbeans 8.2.","title":"Netbeans 14 - Won&#39;t Let Me Activate Java Web and EE","body":"<p>You can try to uninstall netbeans and re-install then try activating Java Web &amp; EE .\nSometimes other 3rd party installed plugins creates issue with main features . Before uninstalling take a backup of all your projects in your system .\nIf the issue still persists then try to downgrade it to netbeans 12 or in the worst case Netbeans 8.2.</p>\n"},{"tags":[],"owner":{"account_id":19518288,"reputation":3,"user_id":14280700,"display_name":"perere"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693989985,"creation_date":1693988116,"answer_id":77050131,"question_id":72809401,"body_markdown":"The problem was I was running NetBeans 18, which requires Java 11+, with Java 8.\r\n\r\nOnce I modified netbeans.conf with the proper JDK path, plugin activation came back to life.\r\n","title":"Netbeans 14 - Won&#39;t Let Me Activate Java Web and EE","body":"<p>The problem was I was running NetBeans 18, which requires Java 11+, with Java 8.</p>\n<p>Once I modified netbeans.conf with the proper JDK path, plugin activation came back to life.</p>\n"}],"owner":{"account_id":18020424,"reputation":31,"user_id":13097794,"display_name":"Arktos Uro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693989985,"creation_date":1656552519,"question_id":72809401,"body_markdown":"I can&#39;t activate the Java Web and EE. I&#39;m trying to start a project using Glassfish. Currently using Apache Netbeans 14.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DrwZh.png","title":"Netbeans 14 - Won&#39;t Let Me Activate Java Web and EE","body":"<p>I can't activate the Java Web and EE. I'm trying to start a project using Glassfish. Currently using Apache Netbeans 14.</p>\n<p><a href=\"https://i.stack.imgur.com/DrwZh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DrwZh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-manifest","android-permissions","android-13"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693985114,"post_id":77049448,"comment_id":135830005,"body_markdown":"`&quot;Please manually change permissions from phone settings&quot;.` Never saw that message. Where does it come from?","body":"<code>&quot;Please manually change permissions from phone settings&quot;.</code> Never saw that message. Where does it come from?"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1693989695,"post_id":77049448,"comment_id":135830878,"body_markdown":"@blackapps - Hi, I have updated my question, sorry for incorrect info earlier","body":"@blackapps - Hi, I have updated my question, sorry for incorrect info earlier"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693989891,"post_id":77049448,"comment_id":135830925,"body_markdown":"You should not talk abou your message alone. You should explain why and when your app displays a message. Now you let it to us to decode your code and find out what is going on. Tell us what happens!","body":"You should not talk abou your message alone. You should explain why and when your app displays a message. Now you let it to us to decode your code and find out what is going on. Tell us what happens!"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693989980,"post_id":77049448,"comment_id":135830955,"body_markdown":"We cannot even zee and you did not tell when this happens. Which permission are you requesting? All is unknown.","body":"We cannot even zee and you did not tell when this happens. Which permission are you requesting? All is unknown."},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1693990053,"post_id":77049448,"comment_id":135830977,"body_markdown":"@blackapps - I have stated &quot;This message is triggered when user denies any permission&quot;..","body":"@blackapps - I have stated &quot;This message is triggered when user denies any permission&quot;.."}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693989644,"creation_date":1693981620,"question_id":77049448,"body_markdown":"My android app is working fine on devices with OS 12 and below but the same is throwing a message &quot;Please manually change permissions from phone settings&quot; for device with OS 13 though at the begining all location and storage permissions are granted. This message is triggered when user denies any permission. I added the new permissions READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, and READ_MEDIA_AUDIO in manifest file but still unable to use the app due to the above message. What could I be missing out? Please guide. \r\n\r\n    if (ActivityCompat.checkSelfPermission(getApplicationContext(), Datafields.sPermission) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(FileMainPage.this, new String[]{Datafields.sPermission}, Datafields.REQUEST_CODE_PERMISSION);\r\n                    // If any permission above not allowed by user, this condition will execute every time, else your else part will work\r\n                } else {\r\n                    Intent intent = new Intent(getApplicationContext(), FileLeave.class);\r\n                    startActivity(intent);\r\n                }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == Datafields.REQUEST_CODE_PERMISSION) {\r\n            if (grantResults.length == 1 &amp;&amp;\r\n                    grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            } else {\r\n                System.out.println(&quot;denial of permssion&quot;);\r\n                String permission = permissions[0];\r\n                if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                    boolean showRationale = shouldShowRequestPermissionRationale(permission);\r\n                    if (!showRationale) {\r\n                        Toast.makeText(FileMainPage.this, &quot;please manually change the permissions from Phone settings&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.wifi&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;in.globalspace.android.gst_communicator_permission&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;","title":"Android OS 13 permission updates","body":"<p>My android app is working fine on devices with OS 12 and below but the same is throwing a message &quot;Please manually change permissions from phone settings&quot; for device with OS 13 though at the begining all location and storage permissions are granted. This message is triggered when user denies any permission. I added the new permissions READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, and READ_MEDIA_AUDIO in manifest file but still unable to use the app due to the above message. What could I be missing out? Please guide.</p>\n<pre><code>if (ActivityCompat.checkSelfPermission(getApplicationContext(), Datafields.sPermission) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(FileMainPage.this, new String[]{Datafields.sPermission}, Datafields.REQUEST_CODE_PERMISSION);\n                // If any permission above not allowed by user, this condition will execute every time, else your else part will work\n            } else {\n                Intent intent = new Intent(getApplicationContext(), FileLeave.class);\n                startActivity(intent);\n            }\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (requestCode == Datafields.REQUEST_CODE_PERMISSION) {\n        if (grantResults.length == 1 &amp;&amp;\n                grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n        } else {\n            System.out.println(&quot;denial of permssion&quot;);\n            String permission = permissions[0];\n            if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n                boolean showRationale = shouldShowRequestPermissionRationale(permission);\n                if (!showRationale) {\n                    Toast.makeText(FileMainPage.this, &quot;please manually change the permissions from Phone settings&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            }\n\n        }\n    }\n}\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n\n&lt;uses-feature android:name=&quot;android.hardware.wifi&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;in.globalspace.android.gst_communicator_permission&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1571484796,"creation_date":1571484318,"answer_id":58463182,"question_id":58463137,"body_markdown":"To get polymorphism you need to add an abstract method `getName()` to your base class, like so:\r\n\r\n    abstract class Animal {\r\n        abstract String getName();\r\n    }\r\n\r\nAnd then implement that method in your derived classes:\r\n\r\n    class Dog extends Animal {\r\n        private final String name;\r\n    \r\n        Dog(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n    class Cat extends Animal {\r\n        private final String name;\r\n    \r\n        Cat(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nFinally, you can use that method in your application:\r\n\r\n    class Application {\r\n        static String getAnimalName(Animal a) {\r\n            return a.getName();\r\n        }\r\n    }\r\n\r\nYou could also implement that method directly in your `Animal` class:\r\n\r\n    abstract class Animal {\r\n        private final String name;\r\n    \r\n        Animal(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        final String getName() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\n    class Dog extends Animal {\r\n        Dog(String name) {\r\n            super(name);\r\n        }\r\n    }\r\n\r\n    class Cat extends Animal {\r\n        Cat(String name) {\r\n            super(name);\r\n        }\r\n    }\r\n\r\nThis way, you don&#39;t have to implement the `getName` method multiple times, if the only thing is does anyway is to return the name.","title":"How can I modify a polymorphism program in java","body":"<p>To get polymorphism you need to add an abstract method <code>getName()</code> to your base class, like so:</p>\n\n<pre><code>abstract class Animal {\n    abstract String getName();\n}\n</code></pre>\n\n<p>And then implement that method in your derived classes:</p>\n\n<pre><code>class Dog extends Animal {\n    private final String name;\n\n    Dog(String name) {\n        this.name = name;\n    }\n\n    @Override\n    String getName() {\n        return name;\n    }\n}\n\nclass Cat extends Animal {\n    private final String name;\n\n    Cat(String name) {\n        this.name = name;\n    }\n\n    @Override\n    String getName() {\n        return name;\n    }\n}\n</code></pre>\n\n<p>Finally, you can use that method in your application:</p>\n\n<pre><code>class Application {\n    static String getAnimalName(Animal a) {\n        return a.getName();\n    }\n}\n</code></pre>\n\n<p>You could also implement that method directly in your <code>Animal</code> class:</p>\n\n<pre><code>abstract class Animal {\n    private final String name;\n\n    Animal(String name) {\n        this.name = name;\n    }\n\n    final String getName() {\n        return this.name;\n    }\n}\n\nclass Dog extends Animal {\n    Dog(String name) {\n        super(name);\n    }\n}\n\nclass Cat extends Animal {\n    Cat(String name) {\n        super(name);\n    }\n}\n</code></pre>\n\n<p>This way, you don't have to implement the <code>getName</code> method multiple times, if the only thing is does anyway is to return the name.</p>\n"},{"tags":[],"owner":{"account_id":6089782,"reputation":11,"user_id":4752497,"display_name":"captainprice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571507760,"creation_date":1571507760,"answer_id":58466504,"question_id":58463137,"body_markdown":"Abstract classes are used to define a behavioural framework. In this case, returning a name for cat is not different than returning it for the dog. If it was about their food habits then we would definitely require distinct implementations. For this reason, from design perspective, it makes sense to push all the common logic into the abstract class. \r\n\r\nThere is fundamental difference between abstraction and interfaces, you can read about it on lots of articles (e.g. https://www.geeksforgeeks.org/difference-between-abstract-class-and-interface-in-java/ )\r\n\r\nExample code as below -\r\n\r\n    abstract class Animal {\r\n    \r\n        String name;\r\n    \r\n        Animal(){\r\n    \r\n        }\r\n    \r\n        Animal(String name){\r\n            this.name = name;\r\n        }\r\n    \r\n        String getName(){\r\n            return this.name;\r\n        }\r\n    }\r\n\r\nAnd the deriving classes do not need to have the common logic re-defined in them. Note the commented out conditional logic - \r\n\r\n\r\n    class Dog extends Animal {\r\n    \r\n        Dog(String name){\r\n            this.name=name;\r\n        }\r\n    \r\n    }\r\n    \r\n    class Cat extends Animal {\r\n    \r\n        Cat(String name){\r\n            this.name=name;\r\n        }\r\n    \r\n    }\r\n    \r\n    class Application{\r\n        static String getAnimalName(Animal a){\r\n            String name=null;\r\n            /*if(a instanceof Dog){\r\n                name=((Dog)a).getName();\r\n            }\r\n            else if(a instanceof Cat){\r\n                name=((Cat)a).getName();\r\n            }*/\r\n            name=a.getName();\r\n            return name;\r\n        }\r\n    }\r\n\r\nFinally the Main class remains as it was -\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // write your code here\r\n            System.out.println(&quot;Hello PolyMorphism!!&quot;);\r\n    \r\n            Dog alex =new Dog(&quot;Alex&quot;);\r\n            Cat catty = new Cat(&quot;Catty&quot;);\r\n            System.out.println(Application.getAnimalName(alex));   //=&gt; Alex\r\n            System.out.println(Application.getAnimalName(catty)); //=&gt; Catty\r\n            System.out.println(&quot;Press &#39;Enter&#39; to continue. &quot;);\r\n            try {\r\n                System.in.read();\r\n            }catch(IOException ex){\r\n                System.out.println(&quot;IOException!!!&quot;);\r\n            }\r\n        }\r\n    }","title":"How can I modify a polymorphism program in java","body":"<p>Abstract classes are used to define a behavioural framework. In this case, returning a name for cat is not different than returning it for the dog. If it was about their food habits then we would definitely require distinct implementations. For this reason, from design perspective, it makes sense to push all the common logic into the abstract class. </p>\n\n<p>There is fundamental difference between abstraction and interfaces, you can read about it on lots of articles (e.g. <a href=\"https://www.geeksforgeeks.org/difference-between-abstract-class-and-interface-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/difference-between-abstract-class-and-interface-in-java/</a> )</p>\n\n<p>Example code as below -</p>\n\n<pre><code>abstract class Animal {\n\n    String name;\n\n    Animal(){\n\n    }\n\n    Animal(String name){\n        this.name = name;\n    }\n\n    String getName(){\n        return this.name;\n    }\n}\n</code></pre>\n\n<p>And the deriving classes do not need to have the common logic re-defined in them. Note the commented out conditional logic - </p>\n\n<pre><code>class Dog extends Animal {\n\n    Dog(String name){\n        this.name=name;\n    }\n\n}\n\nclass Cat extends Animal {\n\n    Cat(String name){\n        this.name=name;\n    }\n\n}\n\nclass Application{\n    static String getAnimalName(Animal a){\n        String name=null;\n        /*if(a instanceof Dog){\n            name=((Dog)a).getName();\n        }\n        else if(a instanceof Cat){\n            name=((Cat)a).getName();\n        }*/\n        name=a.getName();\n        return name;\n    }\n}\n</code></pre>\n\n<p>Finally the Main class remains as it was -</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        // write your code here\n        System.out.println(\"Hello PolyMorphism!!\");\n\n        Dog alex =new Dog(\"Alex\");\n        Cat catty = new Cat(\"Catty\");\n        System.out.println(Application.getAnimalName(alex));   //=&gt; Alex\n        System.out.println(Application.getAnimalName(catty)); //=&gt; Catty\n        System.out.println(\"Press 'Enter' to continue. \");\n        try {\n            System.in.read();\n        }catch(IOException ex){\n            System.out.println(\"IOException!!!\");\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5942025,"reputation":575,"user_id":4672898,"accept_rate":68,"display_name":"mak_doni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":58463182,"answer_count":2,"score":-1,"last_activity_date":1693989628,"creation_date":1571484035,"question_id":58463137,"body_markdown":"I have a question in a test, but I didn&#39;t find the solution. \r\nThe question is  how can I improve this code while maintaining the current behavior of the program :\r\n\r\n    class abstarct Animal {\r\n    }\r\n    \r\n    class Dog extends Animal {\r\n        String name;\r\n    \r\n        Dog(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        String getName() {\r\n            return name;\r\n        }\r\n    }\r\n    \r\n    class Cat extends Animal {\r\n        String name;\r\n    \r\n        Cat(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        String getName() {\r\n            return name;\r\n        }\r\n    }\r\n    \r\n    class Application {\r\n        static String getAnimalName(Animal a) {\r\n            String name = null;\r\n            if (a instanceof Dog) {\r\n                name = ((Dog) a).getName();\r\n            } else if (a instanceof Cat) {\r\n                name = ((Cat) a).getName();\r\n            }\r\n            return name;\r\n        }\r\n    }\r\n\r\nresult of code : \r\n\r\n    Dog alex =new Dog(&quot;Alex&quot;);\r\n    Cat catty = new Cat(&quot;Catty&quot;);\r\n    System.out.println(Application.getAnimalName(alex)); // Alex\r\n    System.out.println(Application.getAnimalName(catty )); // Catty \r\n","title":"How can I modify a polymorphism program in java","body":"<p>I have a question in a test, but I didn't find the solution.\nThe question is  how can I improve this code while maintaining the current behavior of the program :</p>\n<pre><code>class abstarct Animal {\n}\n\nclass Dog extends Animal {\n    String name;\n\n    Dog(String name) {\n        this.name = name;\n    }\n\n    String getName() {\n        return name;\n    }\n}\n\nclass Cat extends Animal {\n    String name;\n\n    Cat(String name) {\n        this.name = name;\n    }\n\n    String getName() {\n        return name;\n    }\n}\n\nclass Application {\n    static String getAnimalName(Animal a) {\n        String name = null;\n        if (a instanceof Dog) {\n            name = ((Dog) a).getName();\n        } else if (a instanceof Cat) {\n            name = ((Cat) a).getName();\n        }\n        return name;\n    }\n}\n</code></pre>\n<p>result of code :</p>\n<pre><code>Dog alex =new Dog(&quot;Alex&quot;);\nCat catty = new Cat(&quot;Catty&quot;);\nSystem.out.println(Application.getAnimalName(alex)); // Alex\nSystem.out.println(Application.getAnimalName(catty )); // Catty \n</code></pre>\n"},{"tags":["java","unit-testing","redis","mockito","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":2375461,"reputation":61,"user_id":2991432,"display_name":"MaximSadym"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493326612,"creation_date":1493326612,"answer_id":43667766,"question_id":43303212,"body_markdown":"You are creating redisTemplate via constructor, and it was not got by DI. Try to use @Spy annotation:\r\n\r\n    @Spy\r\n    private RedisTemplate redisTemplate = new RedisTemplate();\r\n\r\nIt will allow DI to inject your instance of RedisTemplate.","title":"Mock redis template","body":"<p>You are creating redisTemplate via constructor, and it was not got by DI. Try to use @Spy annotation:</p>\n\n<pre><code>@Spy\nprivate RedisTemplate redisTemplate = new RedisTemplate();\n</code></pre>\n\n<p>It will allow DI to inject your instance of RedisTemplate.</p>\n"},{"tags":[],"owner":{"account_id":12855824,"reputation":191,"user_id":9299201,"display_name":"张泽光"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1568705255,"creation_date":1517479373,"answer_id":48559985,"question_id":43303212,"body_markdown":"you can mock redisTemplate like this:\r\n\r\n    @Mock\r\n    RedisTemplate&lt;String, String&gt; redisTemplate;\r\n\r\n    @Mock\r\n    private ValueOperations valueOperations;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n        Mockito.when(redisTemplate.opsForValue()).thenReturn(valueOperations);\r\n        Mockito.doNothing().when(valueOperations).set(anyString(), anyString());\r\n    }","title":"Mock redis template","body":"<p>you can mock redisTemplate like this:</p>\n\n<pre><code>@Mock\nRedisTemplate&lt;String, String&gt; redisTemplate;\n\n@Mock\nprivate ValueOperations valueOperations;\n\n@Before\npublic void setUp() {\n    MockitoAnnotations.initMocks(this);\n    Mockito.when(redisTemplate.opsForValue()).thenReturn(valueOperations);\n    Mockito.doNothing().when(valueOperations).set(anyString(), anyString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17222077,"reputation":101,"user_id":12468633,"display_name":"Viacheslav Pryimak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575294581,"creation_date":1575294581,"answer_id":59140299,"question_id":43303212,"body_markdown":"While I faced with a similar task, I&#39;ve made a tool(annotation) based on [mock-jedis][1] to solve it in easy way. You could read about it here: https://github.com/incu6us/redis-mock-template or just add a dependency to your project:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.incu6us.redis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;redis-mock-template&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/50onRed/mock-jedis","title":"Mock redis template","body":"<p>While I faced with a similar task, I've made a tool(annotation) based on <a href=\"https://github.com/50onRed/mock-jedis\" rel=\"nofollow noreferrer\">mock-jedis</a> to solve it in easy way. You could read about it here: <a href=\"https://github.com/incu6us/redis-mock-template\" rel=\"nofollow noreferrer\">https://github.com/incu6us/redis-mock-template</a> or just add a dependency to your project:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.incu6us.redis&lt;/groupId&gt;\n  &lt;artifactId&gt;redis-mock-template&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118450,"reputation":1667,"user_id":309489,"accept_rate":67,"display_name":"webjockey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586836002,"creation_date":1586836002,"answer_id":61200404,"question_id":43303212,"body_markdown":"I tried various jedis mock libraries, this is the only one worked with pooled resource. Other libraries, the server did not even start and some required local redis to be up and running. this is the best for junit\r\n\r\nhttps://github.com/50onRed/mock-jedis","title":"Mock redis template","body":"<p>I tried various jedis mock libraries, this is the only one worked with pooled resource. Other libraries, the server did not even start and some required local redis to be up and running. this is the best for junit</p>\n\n<p><a href=\"https://github.com/50onRed/mock-jedis\" rel=\"nofollow noreferrer\">https://github.com/50onRed/mock-jedis</a></p>\n"},{"tags":[],"owner":{"account_id":9639998,"reputation":177,"user_id":7154585,"display_name":"Mitali Bhokare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597689588,"creation_date":1597689588,"answer_id":63456810,"question_id":43303212,"body_markdown":"Even I was facing a similar issue.\r\n\r\nSteps to the way I fixed it - \r\n1. Added @ExtendWith(SpringExtension.class) annotation to my test class.\r\n2. Anotated the RedisTemplate with @MockBean\r\n```\r\n@MockBean\r\nprivate RedisTemplate&lt;Integer, String&gt; redisTemplate;\r\n```\r\n3. In my test method, I used ReflectionTestUtils to set the redisTemplate field.\r\n```\r\nReflectionTestUtils.setField(rm, &quot;redisTemplate&quot;, redisTemplate);\r\n```","title":"Mock redis template","body":"<p>Even I was facing a similar issue.</p>\n<p>Steps to the way I fixed it -</p>\n<ol>\n<li>Added @ExtendWith(SpringExtension.class) annotation to my test class.</li>\n<li>Anotated the RedisTemplate with @MockBean</li>\n</ol>\n<pre><code>@MockBean\nprivate RedisTemplate&lt;Integer, String&gt; redisTemplate;\n</code></pre>\n<ol start=\"3\">\n<li>In my test method, I used ReflectionTestUtils to set the redisTemplate field.</li>\n</ol>\n<pre><code>ReflectionTestUtils.setField(rm, &quot;redisTemplate&quot;, redisTemplate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10855584,"reputation":531,"user_id":10597842,"display_name":"Adarsh D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637928098,"creation_date":1637928098,"answer_id":70124093,"question_id":43303212,"body_markdown":"For those who want to do the same with `HashOperations` `get()` and `put()` \r\n\r\n        @Mock\r\n        RedisTemplate&lt;String, String&gt; redisTemplate;\r\n        \r\n        @Mock\r\n        private HashOperations hashOperations;\r\n         \r\n        @Test\r\n        void getFromCache() {\r\n             Mockito.when(redisTemplate.opsForHash()).thenReturn(hashOperations);\r\n             when(hashOperations.get(&quot;test-key&quot;, &quot;test-hash-key&quot;)).thenReturn(&quot;value123&quot;);\r\n             RedisCacheServiceImpl cacheService = new RedisCacheServiceImpl(redisTemplate);\r\n             assertEquals(&quot;value123&quot;, cacheService.getFromCache(&quot;test-key&quot;, &quot;test-hash-key&quot;));\r\n        }\r\n\r\nHope it helps you ;)","title":"Mock redis template","body":"<p>For those who want to do the same with <code>HashOperations</code> <code>get()</code> and <code>put()</code></p>\n<pre><code>    @Mock\n    RedisTemplate&lt;String, String&gt; redisTemplate;\n    \n    @Mock\n    private HashOperations hashOperations;\n     \n    @Test\n    void getFromCache() {\n         Mockito.when(redisTemplate.opsForHash()).thenReturn(hashOperations);\n         when(hashOperations.get(&quot;test-key&quot;, &quot;test-hash-key&quot;)).thenReturn(&quot;value123&quot;);\n         RedisCacheServiceImpl cacheService = new RedisCacheServiceImpl(redisTemplate);\n         assertEquals(&quot;value123&quot;, cacheService.getFromCache(&quot;test-key&quot;, &quot;test-hash-key&quot;));\n    }\n</code></pre>\n<p>Hope it helps you ;)</p>\n"},{"tags":[],"owner":{"account_id":14086976,"reputation":13,"user_id":10176491,"display_name":"Nikhil Rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651044754,"creation_date":1651044754,"answer_id":72024903,"question_id":43303212,"body_markdown":"Arriving bit late here . My answer below with Junit5\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class CashRepoTest {\r\n       @InjectMocks\r\n       CashRepo cashRepo;\r\n\r\n       @Mock\r\n       RedisTemplate&lt;String, Object&gt; template;\r\n\r\n       @Mock\r\n\t   ValueOperations&lt;String, Object&gt; valueOperations;\r\n\r\n       @Test\r\n\t   void getTest() {\r\n          Mockito.when(template.opsForValue())\r\n            .thenReturn(valueOperations);\r\n\t\t  String expectedValue = &quot;ev&quot;;\r\n\t\t  when(valueOperations.get(&quot;test&quot;)).thenReturn(expectedValue);\r\n\t\t  assertEquals(expectedValue, cashRepo.getObject(&quot;test&quot;));\r\n\t  }\r\n    }","title":"Mock redis template","body":"<p>Arriving bit late here . My answer below with Junit5</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass CashRepoTest {\n   @InjectMocks\n   CashRepo cashRepo;\n\n   @Mock\n   RedisTemplate&lt;String, Object&gt; template;\n\n   @Mock\n   ValueOperations&lt;String, Object&gt; valueOperations;\n\n   @Test\n   void getTest() {\n      Mockito.when(template.opsForValue())\n        .thenReturn(valueOperations);\n      String expectedValue = &quot;ev&quot;;\n      when(valueOperations.get(&quot;test&quot;)).thenReturn(expectedValue);\n      assertEquals(expectedValue, cashRepo.getObject(&quot;test&quot;));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693989500,"creation_date":1693989500,"answer_id":77050282,"question_id":43303212,"body_markdown":"If you are using JUnit-5, these are the things which you need to take care of.\r\n\r\n        @BeforeEach\r\n        void setUp() {\r\n            MockitoAnnotations.openMocks(this);\r\n            Mockito.when(redisTemplate.opsForHash()).thenReturn(hashOperations);\r\n            \r\n        }\r\n\r\nHashOperations or ValueOperations is based on the requirement you have.","title":"Mock redis template","body":"<p>If you are using JUnit-5, these are the things which you need to take care of.</p>\n<pre><code>    @BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this);\n        Mockito.when(redisTemplate.opsForHash()).thenReturn(hashOperations);\n        \n    }\n</code></pre>\n<p>HashOperations or ValueOperations is based on the requirement you have.</p>\n"}],"owner":{"account_id":4807604,"reputation":173,"user_id":3882105,"display_name":"lahirumw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32184,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":8,"score":13,"last_activity_date":1693989500,"creation_date":1491713866,"question_id":43303212,"body_markdown":"I am facing a issue in mock redis template.\r\nCan any one help me to write unit test for below class.\r\n\r\n\r\n    @Repository\r\n    public class CasheRepo {\r\n    \r\n        @Autowired\r\n        private RedisTemplate&lt;String, Object&gt; template;\r\n    \r\n        public Object getObject(final String key) {\r\n    \treturn template.opsForValue().get(key);\r\n        }\r\n    }\r\n\r\nAnd below is unit test class. But it is not working. It shows null point exceptions\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CashRepoTest {\r\n        @InjectMocks\r\n        private CasheRepo casheRepo = new CasheRepo();\r\n    \r\n        private @Mock RedisConnection redisConnectionMock;\r\n        private @Mock RedisConnectionFactory redisConnectionFactoryMock;\r\n    \r\n        private RedisTemplate redisTemplate;\r\n    \r\n        @Before\r\n        public void setUp() { \tMockito.when(redisConnectionFactoryMock.getConnection()).thenReturn(redisConnectionMock);   \r\n    \tredisTemplate = new RedisTemplate();\r\n    \tredisTemplate.setConnectionFactory(redisConnectionFactoryMock);\r\n    \tredisTemplate.afterPropertiesSet();\r\n        }\r\n    \r\n        @Test\r\n        public void getObjectTest() {\r\n    \tMockito.doNothing().when(redisTemplate).opsForValue().set(&quot;spring&quot;, &quot;data&quot;);\r\n    \tredisTemplate.afterPropertiesSet();  \r\n    \tSystem.out.println(redisTemplate.opsForValue().get(&quot;spring&quot;));   \r\n        }    \r\n    }\r\n\r\n","title":"Mock redis template","body":"<p>I am facing a issue in mock redis template.\nCan any one help me to write unit test for below class.</p>\n\n<pre><code>@Repository\npublic class CasheRepo {\n\n    @Autowired\n    private RedisTemplate&lt;String, Object&gt; template;\n\n    public Object getObject(final String key) {\n    return template.opsForValue().get(key);\n    }\n}\n</code></pre>\n\n<p>And below is unit test class. But it is not working. It shows null point exceptions</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CashRepoTest {\n    @InjectMocks\n    private CasheRepo casheRepo = new CasheRepo();\n\n    private @Mock RedisConnection redisConnectionMock;\n    private @Mock RedisConnectionFactory redisConnectionFactoryMock;\n\n    private RedisTemplate redisTemplate;\n\n    @Before\n    public void setUp() {   Mockito.when(redisConnectionFactoryMock.getConnection()).thenReturn(redisConnectionMock);   \n    redisTemplate = new RedisTemplate();\n    redisTemplate.setConnectionFactory(redisConnectionFactoryMock);\n    redisTemplate.afterPropertiesSet();\n    }\n\n    @Test\n    public void getObjectTest() {\n    Mockito.doNothing().when(redisTemplate).opsForValue().set(\"spring\", \"data\");\n    redisTemplate.afterPropertiesSet();  \n    System.out.println(redisTemplate.opsForValue().get(\"spring\"));   \n    }    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1693984300,"post_id":77049699,"comment_id":135829872,"body_markdown":"all the code that is commented out in your question, is that also commented out in the code you run?","body":"all the code that is commented out in your question, is that also commented out in the code you run?"},{"owner":{"account_id":29377026,"reputation":33,"user_id":22508348,"display_name":"user22508348"},"score":0,"creation_date":1693986808,"post_id":77049699,"comment_id":135830303,"body_markdown":"yes, they are all commented out","body":"yes, they are all commented out"},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1694002451,"post_id":77049699,"comment_id":135833365,"body_markdown":"I don&#39;t know what AbstractGame does but the error message is complaining that it cannot load textures in the current GL Context or there is no Context. Too bad it doesn&#39;t tell you which of those things were the case! Most likely there is something wrong with the setup that gets the OpenGL native libraries loaded.","body":"I don&#39;t know what AbstractGame does but the error message is complaining that it cannot load textures in the current GL Context or there is no Context. Too bad it doesn&#39;t tell you which of those things were the case! Most likely there is something wrong with the setup that gets the OpenGL native libraries loaded."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1694002608,"post_id":77049699,"comment_id":135833407,"body_markdown":"also, I would add the tags OpenGL and whatever framework AbstractGame comes from to the tag list","body":"also, I would add the tags OpenGL and whatever framework AbstractGame comes from to the tag list"}],"owner":{"account_id":29377026,"reputation":33,"user_id":22508348,"display_name":"user22508348"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693989124,"creation_date":1693984153,"question_id":77049699,"body_markdown":"How can I fix this error message in java?\r\n\r\nThe notes will descend from the top vertically in the 4 lanes. The player has to press the corresponding arrow key\r\nwhen the note overlaps with the stationary note symbol at the bottom. The accuracy of how close\r\nthe note was to the stationary note when the key was pressed, will determine the points given.\r\nThere will be special hold notes that require the player to hold down the key. To win, the player\r\nneeds to beat the target score when all the notes have fallen. If the player’s score is lower, the\r\ngame ends.\r\n\r\nThanks\r\n\r\n`FATAL ERROR in native method: Thread[main,5,main]: No context is current or a function that is not available in the current context was called. The JVM will abort execution.\r\n\tat org.lwjgl.opengl.GL11C.nglGenTextures(Native Method)\r\n\tat org.lwjgl.opengl.GL11C.glGenTextures(GL11C.java:667)\r\n\tat org.lwjgl.opengl.GL11.glGenTextures(GL11.java:2439)`\r\n\r\n\r\n```\r\nimport bagel.*;\r\nimport bagel.util.Point;\r\nimport java.io.FileReader;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\n\r\n\r\n\r\npublic class ShadowDance extends AbstractGame  {\r\n    private final static int WINDOW_WIDTH = 1024;\r\n    private final static int WINDOW_HEIGHT = 768;\r\n    private final static String GAME_TITLE = &quot;SHADOW DANCE&quot;;\r\n    private final Image BACKGROUND_IMAGE = new Image(&quot;res/background.png&quot;);\r\n\r\n    private final static Font TITLE_FONT = new Font(&quot;res/FSO8BITR.ttf&quot;, 64);\r\n    private final static Font INSTRUCTION_FONT = new Font(&quot;res/FSO8BITR.ttf&quot;, 24);\r\n    private final static String INSTRUCTION = &quot;PRESS SPACE TO START\\nUSE ARROW KEYS TO PLAY&quot;;\r\n    private final static Point TITLE_POINT = new Point(220,260);\r\n    private final static Point INSTRUCTION_POINT = new Point(320,450);\r\n\r\n    private final static String WORLD_FILE = &quot;res/level1.csv&quot;;\r\n\r\n    //a value to indicate the game has started or not\r\n    private boolean start = false;\r\n\r\n    private LaneLeft laneLeft;\r\n    private LaneRight laneRight;\r\n    private LaneDown laneDown;\r\n    private LaneUp laneUp;\r\n    private final static String LEFT = &quot;Left&quot;;\r\n    private final static String RIGHT = &quot;Right&quot;;\r\n    private final static String DOWN = &quot;Down&quot;;\r\n    private final static String UP = &quot;Up&quot;;\r\n\r\n    public ShadowDance(){\r\n        super(WINDOW_WIDTH, WINDOW_HEIGHT, GAME_TITLE);\r\n        this.start = start;\r\n        readCSV();\r\n    }\r\n\r\n    /**\r\n     * Method used to read file and create objects (you can change\r\n     * this method as you wish).\r\n     */\r\n    private boolean readCSV() {\r\n       try (BufferedReader br = new BufferedReader(new FileReader(WORLD_FILE))) {\r\n            String text;\r\n            //find each lane&#39;s x coordinate\r\n\r\n            while ((text = br.readLine()) != null) {\r\n                String lanes[] = text.split(&quot;,&quot;);\r\n                if(lanes[0].equals(&quot;Lane&quot;)){\r\n                    if (lanes[1].equals(LEFT)){\r\n                        laneLeft = new LaneLeft(Double.parseDouble(lanes[2]));\r\n                    }else if (lanes[1].equals(RIGHT)){\r\n                        laneRight = new LaneRight(Double.parseDouble(lanes[2]));\r\n                    }else if (lanes[1].equals(UP)){\r\n                        laneUp = new LaneUp(Double.parseDouble(lanes[2]));\r\n                    }else if (lanes[1].equals(DOWN)){\r\n                        laneDown = new LaneDown(Double.parseDouble(lanes[2]));\r\n                    }\r\n                    start = true;\r\n                }       \r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return start;\r\n    }\r\n\r\n\r\n    /**\r\n     * The entry point for the program.\r\n     */\r\n    public static void main(String[] args) {\r\n        ShadowDance game = new ShadowDance();\r\n        game.run();\r\n    }\r\n\r\n    /**\r\n     * Performs a state update.\r\n     * Allows the game to exit when the escape key is pressed.\r\n     */\r\n    @Override\r\n    protected void update(Input input) {\r\n        if (input.wasPressed(Keys.ESCAPE)){\r\n            Window.close();\r\n        }\r\n\r\n        BACKGROUND_IMAGE.draw(Window.getWidth()/2.0, Window.getHeight()/2.0);\r\n\r\n        if (start == false){\r\n            /**\r\n             *render title and instruction message\r\n             */\r\n            TITLE_FONT .drawString(GAME_TITLE, TITLE_POINT.x, TITLE_POINT.y);\r\n            INSTRUCTION_FONT.drawString(INSTRUCTION, INSTRUCTION_POINT.x, INSTRUCTION_POINT.y);\r\n            if(input.wasPressed(Keys.SPACE)){\r\n                start = true;\r\n            }\r\n        }\r\n        else{\r\n            laneLeft.update();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried make a game called shadow dance now I am trying to load lane images","title":"how to fix FATAL ERROR in native method in java","body":"<p>How can I fix this error message in java?</p>\n<p>The notes will descend from the top vertically in the 4 lanes. The player has to press the corresponding arrow key\nwhen the note overlaps with the stationary note symbol at the bottom. The accuracy of how close\nthe note was to the stationary note when the key was pressed, will determine the points given.\nThere will be special hold notes that require the player to hold down the key. To win, the player\nneeds to beat the target score when all the notes have fallen. If the player’s score is lower, the\ngame ends.</p>\n<p>Thanks</p>\n<p><code>FATAL ERROR in native method: Thread[main,5,main]: No context is current or a function that is not available in the current context was called. The JVM will abort execution. at org.lwjgl.opengl.GL11C.nglGenTextures(Native Method) at org.lwjgl.opengl.GL11C.glGenTextures(GL11C.java:667) at org.lwjgl.opengl.GL11.glGenTextures(GL11.java:2439)</code></p>\n<pre><code>import bagel.*;\nimport bagel.util.Point;\nimport java.io.FileReader;\nimport java.io.BufferedReader;\nimport java.io.IOException;\n\n\n\npublic class ShadowDance extends AbstractGame  {\n    private final static int WINDOW_WIDTH = 1024;\n    private final static int WINDOW_HEIGHT = 768;\n    private final static String GAME_TITLE = &quot;SHADOW DANCE&quot;;\n    private final Image BACKGROUND_IMAGE = new Image(&quot;res/background.png&quot;);\n\n    private final static Font TITLE_FONT = new Font(&quot;res/FSO8BITR.ttf&quot;, 64);\n    private final static Font INSTRUCTION_FONT = new Font(&quot;res/FSO8BITR.ttf&quot;, 24);\n    private final static String INSTRUCTION = &quot;PRESS SPACE TO START\\nUSE ARROW KEYS TO PLAY&quot;;\n    private final static Point TITLE_POINT = new Point(220,260);\n    private final static Point INSTRUCTION_POINT = new Point(320,450);\n\n    private final static String WORLD_FILE = &quot;res/level1.csv&quot;;\n\n    //a value to indicate the game has started or not\n    private boolean start = false;\n\n    private LaneLeft laneLeft;\n    private LaneRight laneRight;\n    private LaneDown laneDown;\n    private LaneUp laneUp;\n    private final static String LEFT = &quot;Left&quot;;\n    private final static String RIGHT = &quot;Right&quot;;\n    private final static String DOWN = &quot;Down&quot;;\n    private final static String UP = &quot;Up&quot;;\n\n    public ShadowDance(){\n        super(WINDOW_WIDTH, WINDOW_HEIGHT, GAME_TITLE);\n        this.start = start;\n        readCSV();\n    }\n\n    /**\n     * Method used to read file and create objects (you can change\n     * this method as you wish).\n     */\n    private boolean readCSV() {\n       try (BufferedReader br = new BufferedReader(new FileReader(WORLD_FILE))) {\n            String text;\n            //find each lane's x coordinate\n\n            while ((text = br.readLine()) != null) {\n                String lanes[] = text.split(&quot;,&quot;);\n                if(lanes[0].equals(&quot;Lane&quot;)){\n                    if (lanes[1].equals(LEFT)){\n                        laneLeft = new LaneLeft(Double.parseDouble(lanes[2]));\n                    }else if (lanes[1].equals(RIGHT)){\n                        laneRight = new LaneRight(Double.parseDouble(lanes[2]));\n                    }else if (lanes[1].equals(UP)){\n                        laneUp = new LaneUp(Double.parseDouble(lanes[2]));\n                    }else if (lanes[1].equals(DOWN)){\n                        laneDown = new LaneDown(Double.parseDouble(lanes[2]));\n                    }\n                    start = true;\n                }       \n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return start;\n    }\n\n\n    /**\n     * The entry point for the program.\n     */\n    public static void main(String[] args) {\n        ShadowDance game = new ShadowDance();\n        game.run();\n    }\n\n    /**\n     * Performs a state update.\n     * Allows the game to exit when the escape key is pressed.\n     */\n    @Override\n    protected void update(Input input) {\n        if (input.wasPressed(Keys.ESCAPE)){\n            Window.close();\n        }\n\n        BACKGROUND_IMAGE.draw(Window.getWidth()/2.0, Window.getHeight()/2.0);\n\n        if (start == false){\n            /**\n             *render title and instruction message\n             */\n            TITLE_FONT .drawString(GAME_TITLE, TITLE_POINT.x, TITLE_POINT.y);\n            INSTRUCTION_FONT.drawString(INSTRUCTION, INSTRUCTION_POINT.x, INSTRUCTION_POINT.y);\n            if(input.wasPressed(Keys.SPACE)){\n                start = true;\n            }\n        }\n        else{\n            laneLeft.update();\n        }\n    }\n}\n\n</code></pre>\n<p>I tried make a game called shadow dance now I am trying to load lane images</p>\n"},{"tags":["java","hibernate","criteriaquery","criteriabuilder"],"answers":[{"tags":[],"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693988281,"creation_date":1693985828,"answer_id":77049867,"question_id":77049500,"body_markdown":"That is probably because you use `Predicate.getExpressions` to gather the predicates. According to the [documentation](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Predicate.html#getExpressions--), adding predicates directly to this list does not affect the query, i.e., the method most likely returns a defensive copy of the list of predicates. To fix it, I would create a list of `Predicate`s manually:\r\n```java\r\nfinal List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n```\r\nadd the individual predicates to it (based on the `if` conditions) and then use the `CriteriaBuilder.and` to get a conjunction:\r\n```java\r\ncriteria.select(root).where(predicates.toArray(Predicate[]::new));\r\n```\r\n","title":"CriteriaQuery and CriteriaBuilder not giving expected result","body":"<p>That is probably because you use <code>Predicate.getExpressions</code> to gather the predicates. According to the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Predicate.html#getExpressions--\" rel=\"nofollow noreferrer\">documentation</a>, adding predicates directly to this list does not affect the query, i.e., the method most likely returns a defensive copy of the list of predicates. To fix it, I would create a list of <code>Predicate</code>s manually:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n</code></pre>\n<p>add the individual predicates to it (based on the <code>if</code> conditions) and then use the <code>CriteriaBuilder.and</code> to get a conjunction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>criteria.select(root).where(predicates.toArray(Predicate[]::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693985957,"creation_date":1693985957,"answer_id":77049878,"question_id":77049500,"body_markdown":"You can&#39;t update the expressions of a `Predicate`. From [Predicate.getExpressions()][1] (emphasis added):\r\n&gt; Return the top-level conjuncts or disjuncts of the predicate. Returns empty list if there are no top-level conjuncts or disjuncts of the predicate. **Modifications to the list do not affect the query.**\r\n\r\nIt seems like [conjuction()][2] is not the way to go:\r\n&gt; Create a conjunction (with zero conjuncts). A conjunction with zero conjuncts is true.\r\n\r\nSo instead of using `conjuction()`, create a `List&lt;Predicate&gt;`, add to that, and then use it:\r\n```\r\ncriteria.where(predicateList.toArray(Predicate[]::new));\r\n```\r\n\r\nAlternatively, and I think this is why `conjuction()` exists, don&#39;t add to its expressions but replace the predicate itself:\r\n```\r\n// predFinal.getExpressions().add(predClasificacion);\r\npredFinal = builder.and(predFinal, predClasificacion);\r\n```\r\n\r\n  [1]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/criteria/predicate#getExpressions--\r\n  [2]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/criteria/criteriabuilder#conjunction--","title":"CriteriaQuery and CriteriaBuilder not giving expected result","body":"<p>You can't update the expressions of a <code>Predicate</code>. From <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/criteria/predicate#getExpressions--\" rel=\"nofollow noreferrer\">Predicate.getExpressions()</a> (emphasis added):</p>\n<blockquote>\n<p>Return the top-level conjuncts or disjuncts of the predicate. Returns empty list if there are no top-level conjuncts or disjuncts of the predicate. <strong>Modifications to the list do not affect the query.</strong></p>\n</blockquote>\n<p>It seems like <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/criteria/criteriabuilder#conjunction--\" rel=\"nofollow noreferrer\">conjuction()</a> is not the way to go:</p>\n<blockquote>\n<p>Create a conjunction (with zero conjuncts). A conjunction with zero conjuncts is true.</p>\n</blockquote>\n<p>So instead of using <code>conjuction()</code>, create a <code>List&lt;Predicate&gt;</code>, add to that, and then use it:</p>\n<pre><code>criteria.where(predicateList.toArray(Predicate[]::new));\n</code></pre>\n<p>Alternatively, and I think this is why <code>conjuction()</code> exists, don't add to its expressions but replace the predicate itself:</p>\n<pre><code>// predFinal.getExpressions().add(predClasificacion);\npredFinal = builder.and(predFinal, predClasificacion);\n</code></pre>\n"}],"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693988281,"creation_date":1693982162,"question_id":77049500,"body_markdown":"I&#39;m using CriteriaQuery and CriteriaBuilder to mount a dynamic where. I have some filtering values that user selects and can be informed or not. But using a conjunction predicate doesn&#39;t return a correct where clause.\r\nThis is my code:\r\n\r\n    // Create CriteriaBuilder\r\n    CriteriaBuilder builder = session.getCriteriaBuilder();\r\n    // Create CriteriaQuery\r\n    CriteriaQuery&lt;Tarea&gt; criteria = builder.createQuery(Tarea.class);\r\n    // Set root\r\n    Root&lt;Tarea&gt; root = criteria.from(Tarea.class);\r\n    criteria.select(root);\r\n    if(getSortColumn()!= null &amp;&amp; !getSortColumn().equals(&quot;&quot;)) {\r\n    \tcriteria.orderBy(builder.asc(root.get(getSortColumn())));\r\n    }\r\n    Predicate predFinal = builder.conjunction();\r\n    if(filtro.getClasificacionTarea() != null &amp;&amp; filtro.getClasificacionTarea().size()&gt;0) {\r\n    \tPredicate predClasificacion = builder.disjunction();\r\n    \tfor(Clasificacion clas : filtro.getClasificacionTarea()) {\r\n    \t\tpredClasificacion.getExpressions().add(builder.equal(root.get(&quot;clasificacion&quot;).get(&quot;id&quot;), clas.getId()));\r\n    \t}\r\n    \tpredFinal.getExpressions().add(predClasificacion);\r\n    }\r\n    if(filtro.getProyecto() != null) {\r\n    \tPredicate predicateProyecto;\r\n    \tpredicateProyecto = builder.and(builder.equal(root.get(&quot;OT&quot;).get(&quot;proyecto&quot;), filtro.getProyecto()));\r\n    \tpredFinal.getExpressions().add(predicateProyecto);\r\n    }\r\n    if(filtro.getCliente() != null) {\r\n    \tPredicate predicateCliente;\r\n    \tpredicateCliente = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;cliente&quot;).get(&quot;id&quot;), filtro.getCliente().getId()));\r\n    \tpredFinal.getExpressions().add(predicateCliente);\r\n    }\r\n    if(filtro.getProvincia() != null) {\r\n    \tPredicate predicateProvincia;\r\n    \tpredicateProvincia = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;provincia&quot;).get(&quot;id&quot;), filtro.getProvincia().getId()));\r\n    \tpredFinal.getExpressions().add(predicateProvincia);\r\n    }\r\n    if(filtro.getPais() != null) {\r\n    \tPredicate predicatePais;\r\n    \tpredicatePais = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;pais&quot;).get(&quot;id&quot;), filtro.getPais().getId()));\r\n    \tpredFinal.getExpressions().add(predicatePais);\r\n    }\r\n    predFinal.getExpressions().add(builder.and(builder.isNull(root.get(&quot;fechaBaja&quot;))));\r\n    criteria.where(predFinal);\r\n    // Query execution\r\n    Query&lt;Tarea&gt; query = session.createQuery(criteria);\r\n\r\nAnd the resulting query, when filtering by any of the fields:\r\n\r\n    Hibernate: \r\n        select\r\n            t1_0.id,\r\n            t1_0.fk_idPedidoVenta,\r\n            t1_0.fk_idClasificacionTarea,\r\n            t1_0.confirmado,\r\n            t1_0.fk_idUsuarioCreacion,\r\n            t1_0.fechaCreacion,\r\n            t1_0.fechaBaja,\r\n            t1_0.fechaInicio,\r\n            t1_0.fechaFin,\r\n            t1_0.finalizado,\r\n            t1_0.horaInicio,\r\n            t1_0.horaFin,\r\n            t1_0.observaciones,\r\n            t1_0.fk_idTipoTarea \r\n        from\r\n            Tarea t1_0 \r\n        where\r\n            1=1 \r\n        order by\r\n            t1_0.fechaInicio\r\n\r\nWhere clause is always 1=1 so it returns all records.\r\n\r\nIt&#39;s my first time using CriteriaBuilder so maybe I&#39;m using it wrong?\r\nThanks for your help","title":"CriteriaQuery and CriteriaBuilder not giving expected result","body":"<p>I'm using CriteriaQuery and CriteriaBuilder to mount a dynamic where. I have some filtering values that user selects and can be informed or not. But using a conjunction predicate doesn't return a correct where clause.\nThis is my code:</p>\n<pre><code>// Create CriteriaBuilder\nCriteriaBuilder builder = session.getCriteriaBuilder();\n// Create CriteriaQuery\nCriteriaQuery&lt;Tarea&gt; criteria = builder.createQuery(Tarea.class);\n// Set root\nRoot&lt;Tarea&gt; root = criteria.from(Tarea.class);\ncriteria.select(root);\nif(getSortColumn()!= null &amp;&amp; !getSortColumn().equals(&quot;&quot;)) {\n    criteria.orderBy(builder.asc(root.get(getSortColumn())));\n}\nPredicate predFinal = builder.conjunction();\nif(filtro.getClasificacionTarea() != null &amp;&amp; filtro.getClasificacionTarea().size()&gt;0) {\n    Predicate predClasificacion = builder.disjunction();\n    for(Clasificacion clas : filtro.getClasificacionTarea()) {\n        predClasificacion.getExpressions().add(builder.equal(root.get(&quot;clasificacion&quot;).get(&quot;id&quot;), clas.getId()));\n    }\n    predFinal.getExpressions().add(predClasificacion);\n}\nif(filtro.getProyecto() != null) {\n    Predicate predicateProyecto;\n    predicateProyecto = builder.and(builder.equal(root.get(&quot;OT&quot;).get(&quot;proyecto&quot;), filtro.getProyecto()));\n    predFinal.getExpressions().add(predicateProyecto);\n}\nif(filtro.getCliente() != null) {\n    Predicate predicateCliente;\n    predicateCliente = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;cliente&quot;).get(&quot;id&quot;), filtro.getCliente().getId()));\n    predFinal.getExpressions().add(predicateCliente);\n}\nif(filtro.getProvincia() != null) {\n    Predicate predicateProvincia;\n    predicateProvincia = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;provincia&quot;).get(&quot;id&quot;), filtro.getProvincia().getId()));\n    predFinal.getExpressions().add(predicateProvincia);\n}\nif(filtro.getPais() != null) {\n    Predicate predicatePais;\n    predicatePais = builder.and(builder.equal(root.get(&quot;ot&quot;).get(&quot;pais&quot;).get(&quot;id&quot;), filtro.getPais().getId()));\n    predFinal.getExpressions().add(predicatePais);\n}\npredFinal.getExpressions().add(builder.and(builder.isNull(root.get(&quot;fechaBaja&quot;))));\ncriteria.where(predFinal);\n// Query execution\nQuery&lt;Tarea&gt; query = session.createQuery(criteria);\n</code></pre>\n<p>And the resulting query, when filtering by any of the fields:</p>\n<pre><code>Hibernate: \n    select\n        t1_0.id,\n        t1_0.fk_idPedidoVenta,\n        t1_0.fk_idClasificacionTarea,\n        t1_0.confirmado,\n        t1_0.fk_idUsuarioCreacion,\n        t1_0.fechaCreacion,\n        t1_0.fechaBaja,\n        t1_0.fechaInicio,\n        t1_0.fechaFin,\n        t1_0.finalizado,\n        t1_0.horaInicio,\n        t1_0.horaFin,\n        t1_0.observaciones,\n        t1_0.fk_idTipoTarea \n    from\n        Tarea t1_0 \n    where\n        1=1 \n    order by\n        t1_0.fechaInicio\n</code></pre>\n<p>Where clause is always 1=1 so it returns all records.</p>\n<p>It's my first time using CriteriaBuilder so maybe I'm using it wrong?\nThanks for your help</p>\n"},{"tags":["java","search","subdirectory"],"comments":[{"owner":{"display_name":"user456814"},"score":0,"creation_date":1307362307,"post_id":6251762,"comment_id":7290504,"body_markdown":"Could you provide a link to where you found this code from?  I&#39;m not sure that FileUtils is part of the Java library, it might be someone else&#39;s custom class...never mind, found it, http://commons.apache.org/io/apidocs/org/apache/commons/io/FileUtils.html","body":"Could you provide a link to where you found this code from?  I&#39;m not sure that FileUtils is part of the Java library, it might be someone else&#39;s custom class...never mind, found it, <a href=\"http://commons.apache.org/io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/io/apidocs/org/apache/commons/io/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1307362291,"creation_date":1307362291,"answer_id":6251802,"question_id":6251762,"body_markdown":"Recursive directory search in Java is pretty darn easy. The `java.io.File` class has a `listFiles()` method that gives all the `File` children of a directory; there&#39;s also an `isDirectory()` method you call on a `File` to determine whether you should recursively search through a particular child.","title":"java: search file according to its name in directory and subdirectories","body":"<p>Recursive directory search in Java is pretty darn easy. The <code>java.io.File</code> class has a <code>listFiles()</code> method that gives all the <code>File</code> children of a directory; there's also an <code>isDirectory()</code> method you call on a <code>File</code> to determine whether you should recursively search through a particular child.</p>\n"},{"tags":[],"owner":{"account_id":61770,"reputation":1090,"user_id":183912,"accept_rate":64,"display_name":"Udi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307362464,"creation_date":1307362464,"answer_id":6251828,"question_id":6251762,"body_markdown":"I don&#39;t really know what FileUtils does, but how about changing &quot;txt&quot; in extenstions to &quot;yourfile.whatever&quot;?","title":"java: search file according to its name in directory and subdirectories","body":"<p>I don't really know what FileUtils does, but how about changing \"txt\" in extenstions to \"yourfile.whatever\"?</p>\n"},{"tags":[],"owner":{"account_id":61770,"reputation":1090,"user_id":183912,"accept_rate":64,"display_name":"Udi"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1307364721,"creation_date":1307362824,"answer_id":6251894,"question_id":6251762,"body_markdown":"    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFile root = new File(&quot;c:\\\\test&quot;);\r\n    \t\tString fileName = &quot;a.txt&quot;;\r\n    \t\ttry {\r\n    \t\t\tboolean recursive = true;\r\n    \r\n    \t\t\tCollection files = FileUtils.listFiles(root, null, recursive);\r\n    \r\n    \t\t\tfor (Iterator iterator = files.iterator(); iterator.hasNext();) {\r\n    \t\t\t\tFile file = (File) iterator.next();\r\n    \t\t\t\tif (file.getName().equals(fileName))\r\n    \t\t\t\t\tSystem.out.println(file.getAbsolutePath());\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"java: search file according to its name in directory and subdirectories","body":"<pre><code>public class Test {\n    public static void main(String[] args) {\n        File root = new File(\"c:\\\\test\");\n        String fileName = \"a.txt\";\n        try {\n            boolean recursive = true;\n\n            Collection files = FileUtils.listFiles(root, null, recursive);\n\n            for (Iterator iterator = files.iterator(); iterator.hasNext();) {\n                File file = (File) iterator.next();\n                if (file.getName().equals(fileName))\n                    System.out.println(file.getAbsolutePath());\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":384475,"reputation":2036,"user_id":741015,"display_name":"sudmong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620108846,"creation_date":1307362862,"answer_id":6251899,"question_id":6251762,"body_markdown":"You can use FileFilter Like this.\r\n\r\n    public class MyFileNameFilter implements FilenameFilter {\r\n\r\n\t@Override\r\n\tpublic boolean accept(File arg0, String arg1) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tboolean result =false;\r\n\t\tif(arg1.startsWith(&quot;KB24&quot;))\r\n\t\t\tresult = true;\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n\r\nAnd call it like this\r\n\r\n    File f = new File(&quot;C:\\\\WINDOWS&quot;);\r\n\t\tString []  files  = null;\r\n\t\tif(f.isDirectory()) {  \r\n\t\t\t\r\n\t\t\tfiles = f.list(new MyFileNameFilter());\r\n\t\t}\r\n\t\t\r\n\t\tfor(String s: files) {\r\n\t\t\t\r\n\t\t\tSystem.out.print(s);\r\n\t\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\t}\r\n\r\nJava 8 Lamda make this easier instead of using FileNameFilter, pass lambda expression\r\n\r\n       File[] filteredFiles =  f.listFiles((file, name) -&gt;name.endsWith(extn));\r\n       ","title":"java: search file according to its name in directory and subdirectories","body":"<p>You can use FileFilter Like this.</p>\n<pre><code>public class MyFileNameFilter implements FilenameFilter {\n\n@Override\npublic boolean accept(File arg0, String arg1) {\n    // TODO Auto-generated method stub\n    boolean result =false;\n    if(arg1.startsWith(&quot;KB24&quot;))\n        result = true;\n    return result;\n}\n</code></pre>\n<p>}</p>\n<p>And call it like this</p>\n<pre><code>File f = new File(&quot;C:\\\\WINDOWS&quot;);\n    String []  files  = null;\n    if(f.isDirectory()) {  \n        \n        files = f.list(new MyFileNameFilter());\n    }\n    \n    for(String s: files) {\n        \n        System.out.print(s);\n        System.out.print(&quot;\\t&quot;);\n    }\n</code></pre>\n<p>Java 8 Lamda make this easier instead of using FileNameFilter, pass lambda expression</p>\n<pre><code>   File[] filteredFiles =  f.listFiles((file, name) -&gt;name.endsWith(extn));\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1168425,"reputation":391,"user_id":1146178,"display_name":"Mar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431506087,"creation_date":1431506087,"answer_id":30209664,"question_id":6251762,"body_markdown":"    public static File find(String path, String fName) {\r\n        File f = new File(path);\r\n        if (fName.equalsIgnoreCase(f.getName())) return f;\r\n        if (f.isDirectory()) {\r\n            for (String aChild : f.list()) {\r\n                File ff = find(path + File.separator + aChild, fName);\r\n                if (ff != null) return ff;\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"java: search file according to its name in directory and subdirectories","body":"<pre><code>public static File find(String path, String fName) {\n    File f = new File(path);\n    if (fName.equalsIgnoreCase(f.getName())) return f;\n    if (f.isDirectory()) {\n        for (String aChild : f.list()) {\n            File ff = find(path + File.separator + aChild, fName);\n            if (ff != null) return ff;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693988255,"creation_date":1693988255,"answer_id":77050148,"question_id":6251762,"body_markdown":"Find File in a Directory and Nested Sub-Directories :\r\n\r\n    import java.io.File;\r\n    import java.util.Objects;\r\n    \r\n    public class Solution_LocateUniverseFormula {\r\n        public static void main(String[] args) {\r\n            System.out.println(locateUniverseFormula());\r\n        }\r\n    \r\n        public static String locateUniverseFormula() {\r\n            File root = new File(&quot;C:/tmp/documents/&quot;);\r\n            String fileName = &quot;universe-formula&quot;;\r\n    \r\n            File[] files = root.listFiles();\r\n    \r\n            for (File childFile : files) {\r\n                String filePath = find(childFile, fileName);\r\n                if (!Objects.isNull(filePath)) return filePath;\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public static String find(File file, String fileName) {\r\n            if (file.getName().startsWith(fileName)) return file.getAbsolutePath();\r\n            if (file.isDirectory()) {\r\n                for (File childFile : file.listFiles()) {\r\n                    String filePath = find(childFile, fileName);\r\n                    if (!Objects.isNull(childFile)) return filePath;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"java: search file according to its name in directory and subdirectories","body":"<p>Find File in a Directory and Nested Sub-Directories :</p>\n<pre><code>import java.io.File;\nimport java.util.Objects;\n\npublic class Solution_LocateUniverseFormula {\n    public static void main(String[] args) {\n        System.out.println(locateUniverseFormula());\n    }\n\n    public static String locateUniverseFormula() {\n        File root = new File(&quot;C:/tmp/documents/&quot;);\n        String fileName = &quot;universe-formula&quot;;\n\n        File[] files = root.listFiles();\n\n        for (File childFile : files) {\n            String filePath = find(childFile, fileName);\n            if (!Objects.isNull(filePath)) return filePath;\n        }\n\n        return null;\n    }\n\n    public static String find(File file, String fileName) {\n        if (file.getName().startsWith(fileName)) return file.getAbsolutePath();\n        if (file.isDirectory()) {\n            for (File childFile : file.listFiles()) {\n                String filePath = find(childFile, fileName);\n                if (!Objects.isNull(childFile)) return filePath;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":761634,"reputation":141,"user_id":776013,"accept_rate":60,"display_name":"skaryu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49814,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":6251894,"answer_count":6,"score":11,"last_activity_date":1693988255,"creation_date":1307362070,"question_id":6251762,"body_markdown":"I need a to find file according to its name in directory tree. And then show a path to this file. I found something like this, but it search according extension. Could anybody help me how can I rework this code to my needs...thanks\r\n\r\n    public class filesFinder {\r\n    public static void main(String[] args) {\r\n        File root = new File(&quot;c:\\\\test&quot;);\r\n\r\n        try {\r\n            String[] extensions = {&quot;txt&quot;};\r\n            boolean recursive = true;\r\n\r\n\r\n            Collection files = FileUtils.listFiles(root, extensions, recursive);\r\n\r\n            for (Iterator iterator = files.iterator(); iterator.hasNext();) {\r\n                File file = (File) iterator.next();\r\n                System.out.println(file.getAbsolutePath());\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }","title":"java: search file according to its name in directory and subdirectories","body":"<p>I need a to find file according to its name in directory tree. And then show a path to this file. I found something like this, but it search according extension. Could anybody help me how can I rework this code to my needs...thanks</p>\n\n<pre><code>public class filesFinder {\npublic static void main(String[] args) {\n    File root = new File(\"c:\\\\test\");\n\n    try {\n        String[] extensions = {\"txt\"};\n        boolean recursive = true;\n\n\n        Collection files = FileUtils.listFiles(root, extensions, recursive);\n\n        for (Iterator iterator = files.iterator(); iterator.hasNext();) {\n            File file = (File) iterator.next();\n            System.out.println(file.getAbsolutePath());\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n"},{"tags":["javascript","java","html","ajax","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":9130655,"reputation":118,"user_id":6792412,"display_name":"Nguyễn Ngọc T&#226;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693988028,"creation_date":1693987878,"answer_id":77050097,"question_id":76848607,"body_markdown":"It seems that you already have a Thymeleaf object called user in your code. To conditionally show the link based on the role attribute of this object and also authorize it using Spring Security, you can use both `th:if` and `sec:authorize` attributes together.\r\n\r\nHere&#39;s how you can modify the code:\r\n\r\n    actionColumn.append(&quot;&lt;a th:if=\\&quot;${user.role == &#39;ADMIN&#39;}\\&quot; sec:authorize=\\&quot;hasAuthority(&#39;ADMIN&#39;)\\&quot; href=&#39;/api/update/&#39;&quot; + ${user.userName} + &quot; class=&#39;settings&#39; title=&#39;Update&#39; data-toggle=&#39;tooltip&#39;&gt;&lt;/a&gt;&quot;);\r\n\r\nThis code will only render the link if the user object&#39;s role attribute is set to `&#39;ADMIN&#39;`, and it will also check if the currently authenticated user has the authority `&#39;ADMIN&#39;` using Spring Security&#39;s `sec:authorize`. This should help you control the visibility of the link based on distinct roles.","title":"sec:authorize in js append html as string not work","body":"<p>It seems that you already have a Thymeleaf object called user in your code. To conditionally show the link based on the role attribute of this object and also authorize it using Spring Security, you can use both <code>th:if</code> and <code>sec:authorize</code> attributes together.</p>\n<p>Here's how you can modify the code:</p>\n<pre><code>actionColumn.append(&quot;&lt;a th:if=\\&quot;${user.role == 'ADMIN'}\\&quot; sec:authorize=\\&quot;hasAuthority('ADMIN')\\&quot; href='/api/update/'&quot; + ${user.userName} + &quot; class='settings' title='Update' data-toggle='tooltip'&gt;&lt;/a&gt;&quot;);\n</code></pre>\n<p>This code will only render the link if the user object's role attribute is set to <code>'ADMIN'</code>, and it will also check if the currently authenticated user has the authority <code>'ADMIN'</code> using Spring Security's <code>sec:authorize</code>. This should help you control the visibility of the link based on distinct roles.</p>\n"}],"owner":{"account_id":22215254,"reputation":146,"user_id":16453806,"display_name":"wnotunas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77050097,"answer_count":1,"score":1,"last_activity_date":1693988028,"creation_date":1691378249,"question_id":76848607,"body_markdown":"I&#39;m new to JS HTML JQuery ajax and I currently have an issue with my HTML case. To describe the most exactly what I&#39;m facing right now first I&#39;ll talk about the process. The project is about SpringMVC + Thymeleaf &amp; Thymeleaf Security5 + Spring Security.\r\n\r\n- The time the user logs in, the user with role USER won&#39;t see the &lt;a&gt; tag by `sec:acthorize`, which works fine at first\r\n\r\nThe origin code work fine first when the user with role USER load into the page ( mean not show the &lt;a&gt; tag for the user with role USER):\r\n\r\n```\r\n&lt;tbody id=&quot;tableBody&quot;&gt;\r\n   &lt;tr&gt;\r\n      &lt;td&gt;\r\n         &lt;a sec:authorize=&quot;hasAuthority(&#39;ADMIN&#39;)&quot; href=&quot;#&quot; th:attr=&quot;onclick=&#39;showConfirmationPopup(\\&#39;&#39; + ${user.userName} + &#39;\\&#39;);&#39;&quot; class=&quot;delete&quot; title=&quot;Delete&quot; data-toggle=&quot;tooltip&quot;&gt;&lt;/a&gt;\r\n      &lt;/td&gt;\r\n   &lt;/tr&gt;\r\n&lt;/tbody&gt;\r\n```\r\n\r\n- But then after I sort the table of content which call Ajax JQuery for recreate the view like this :\r\n\r\n```\r\nfunction populateTable(data) {\r\n   $(&quot;#tableBody&quot;).empty();\r\n   var row = $(&quot;&lt;tr&gt;&quot;);\r\n   var actionColumn = $(&quot;&lt;td&gt;&quot;);\r\n   actionColumn.append(&quot;&lt;a sec:authorize=\\&quot;hasAuthority(&#39;ADMIN&#39;)\\&quot; href=&#39;/api/update/&quot; + user.userName + &quot;&#39; class=&#39;settings&#39; title=&#39;Update&#39; data-toggle=&#39;tooltip&#39;&gt;&lt;/a&gt;&quot;);\r\n   row.append(actionColumn);\r\n   $(&quot;#tableBody&quot;).append(row);\r\n}\r\n```\r\n\r\nAnd the result is it still shows the &lt;a&gt; tag although the current authentication user has the role USER.\r\n\r\nThe code which calls the function above is:\r\n\r\n```\r\n   $.ajax({\r\n      url: &quot;/rest/api/pagination-by-search&quot;,\r\n      type: &quot;GET&quot;,\r\n      data: formData,\r\n      success: function(data) {\r\n         populateTable(data);\r\n      }\r\n   });\r\n   function populateTable(data) {\r\n      $(&quot;#tableBody&quot;).empty();\r\n      var row = $(&quot;&lt;tr&gt;&quot;);\r\n      var actionColumn = $(&quot;&lt;td&gt;&quot;);\r\n      actionColumn.append(&quot;&lt;a sec:authorize=\\&quot;hasAuthority(&#39;ADMIN&#39;)\\&quot; href=&#39;/api/update/&quot; + user.userName + &quot;&#39; class=&#39;settings&#39; title=&#39;Update&#39; data-toggle=&#39;tooltip&#39;&gt;&lt;/a&gt;&quot;);\r\n      row.append(actionColumn);\r\n      $(&quot;#tableBody&quot;).append(row);\r\n   }\r\n```\r\n\r\nI tried to log the user&#39;s role, and it logs the role USER as expected. However, the view still shows for the user with role USER.\r\nThe version I used:\r\n\r\n - SpringBoot version: 2.7.14\r\n - thymeleaf-extras-springsecurity5\r\n - java-version: 1.8","title":"sec:authorize in js append html as string not work","body":"<p>I'm new to JS HTML JQuery ajax and I currently have an issue with my HTML case. To describe the most exactly what I'm facing right now first I'll talk about the process. The project is about SpringMVC + Thymeleaf &amp; Thymeleaf Security5 + Spring Security.</p>\n<ul>\n<li>The time the user logs in, the user with role USER won't see the  tag by <code>sec:acthorize</code>, which works fine at first</li>\n</ul>\n<p>The origin code work fine first when the user with role USER load into the page ( mean not show the  tag for the user with role USER):</p>\n<pre><code>&lt;tbody id=&quot;tableBody&quot;&gt;\n   &lt;tr&gt;\n      &lt;td&gt;\n         &lt;a sec:authorize=&quot;hasAuthority('ADMIN')&quot; href=&quot;#&quot; th:attr=&quot;onclick='showConfirmationPopup(\\'' + ${user.userName} + '\\');'&quot; class=&quot;delete&quot; title=&quot;Delete&quot; data-toggle=&quot;tooltip&quot;&gt;&lt;/a&gt;\n      &lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n<ul>\n<li>But then after I sort the table of content which call Ajax JQuery for recreate the view like this :</li>\n</ul>\n<pre><code>function populateTable(data) {\n   $(&quot;#tableBody&quot;).empty();\n   var row = $(&quot;&lt;tr&gt;&quot;);\n   var actionColumn = $(&quot;&lt;td&gt;&quot;);\n   actionColumn.append(&quot;&lt;a sec:authorize=\\&quot;hasAuthority('ADMIN')\\&quot; href='/api/update/&quot; + user.userName + &quot;' class='settings' title='Update' data-toggle='tooltip'&gt;&lt;/a&gt;&quot;);\n   row.append(actionColumn);\n   $(&quot;#tableBody&quot;).append(row);\n}\n</code></pre>\n<p>And the result is it still shows the  tag although the current authentication user has the role USER.</p>\n<p>The code which calls the function above is:</p>\n<pre><code>   $.ajax({\n      url: &quot;/rest/api/pagination-by-search&quot;,\n      type: &quot;GET&quot;,\n      data: formData,\n      success: function(data) {\n         populateTable(data);\n      }\n   });\n   function populateTable(data) {\n      $(&quot;#tableBody&quot;).empty();\n      var row = $(&quot;&lt;tr&gt;&quot;);\n      var actionColumn = $(&quot;&lt;td&gt;&quot;);\n      actionColumn.append(&quot;&lt;a sec:authorize=\\&quot;hasAuthority('ADMIN')\\&quot; href='/api/update/&quot; + user.userName + &quot;' class='settings' title='Update' data-toggle='tooltip'&gt;&lt;/a&gt;&quot;);\n      row.append(actionColumn);\n      $(&quot;#tableBody&quot;).append(row);\n   }\n</code></pre>\n<p>I tried to log the user's role, and it logs the role USER as expected. However, the view still shows for the user with role USER.\nThe version I used:</p>\n<ul>\n<li>SpringBoot version: 2.7.14</li>\n<li>thymeleaf-extras-springsecurity5</li>\n<li>java-version: 1.8</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9793,"page":199,"page_size":100}
