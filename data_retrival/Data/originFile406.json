{"items":[{"tags":["java","android","kotlin","interface","annotations"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1685226474,"post_id":76349266,"comment_id":134632785,"body_markdown":"You should read about annotations - Java or Kotlin, as they mostly have same uses. You will probably find more info for Java. This is a rather long story and explaining it would be pretty much copying the official documentation.","body":"You should read about annotations - Java or Kotlin, as they mostly have same uses. You will probably find more info for Java. This is a rather long story and explaining it would be pretty much copying the official documentation."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1685226510,"post_id":76349266,"comment_id":134632788,"body_markdown":"Also, Java is not Kotlin, so Java syntax will not necessarily work in a Kotlin source file.","body":"Also, Java is not Kotlin, so Java syntax will not necessarily work in a Kotlin source file."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":1,"creation_date":1685226670,"post_id":76349266,"comment_id":134632802,"body_markdown":"https://kotlinlang.org/docs/annotations.html#accessing-properties-of-an-annotation-instance","body":"<a href=\"https://kotlinlang.org/docs/annotations.html#accessing-properties-of-an-annotation-instance\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>"},{"owner":{"account_id":25329477,"reputation":169,"user_id":19149499,"display_name":"Tim Korelov"},"score":0,"creation_date":1685226747,"post_id":76349266,"comment_id":134632810,"body_markdown":"Right, I haven&#39;t thought about it that way. It seems like it is a standard annotation interface declaration in Java. I have not used java for quite a long time. Thanks for the hints. I mean I&#39;ve never used custom annotation interfaces in Java.","body":"Right, I haven&#39;t thought about it that way. It seems like it is a standard annotation interface declaration in Java. I have not used java for quite a long time. Thanks for the hints. I mean I&#39;ve never used custom annotation interfaces in Java."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1685226823,"post_id":76349266,"comment_id":134632816,"body_markdown":"Yes, this is how annotations are defined in Java. Nothing special about this specific annotation.","body":"Yes, this is how annotations are defined in Java. Nothing special about this specific annotation."}],"owner":{"account_id":25329477,"reputation":169,"user_id":19149499,"display_name":"Tim Korelov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685225988,"creation_date":1685225988,"question_id":76349266,"body_markdown":"I&#39;ve not found a single mention of this subject neither on SO, nor elsewhere. And I am really curious about this one. \r\n*Note: I am using Kotlin in my android project.*\r\n\r\nIn the **androidx.room** there is a **Dao.java** file with such content:\r\n\r\n    package androidx.room;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    /**\r\n     * Marks the class as a Data Access Object.\r\n     * &lt;p&gt;\r\n     * Data Access Objects are the main classes where you define your database interactions. They can\r\n     * include a variety of query methods.\r\n     * &lt;p&gt;\r\n     * The class marked with {@code @Dao} should either be an interface or an abstract class. At compile\r\n     * time, Room will generate an implementation of this class when it is referenced by a\r\n     * {@link Database}.\r\n     * &lt;p&gt;\r\n     * An abstract {@code @Dao} class can optionally have a constructor that takes a {@link Database}\r\n     * as its only parameter.\r\n     * &lt;p&gt;\r\n     * It is recommended to have multiple {@code Dao} classes in your codebase depending on the tables\r\n     * they touch.\r\n     *\r\n     * @see Query\r\n     * @see Delete\r\n     * @see Insert\r\n     */\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.CLASS)\r\n    public @interface Dao {\r\n    }\r\n\r\nI am confused about the `public @interface Dao {}` as it looks as if it could be just `public interface Dao{}`. But there is an `&quot;@&quot;` before the `&quot;interface&quot;` keyword.\r\n\r\nCreating my own interface in kotlin with this syntax produces a compilation error `&quot;expected annotation identifier after &#39;@&#39;&quot;` (example right below)\r\n\r\n\r\n\r\n    public @interface TestInterface {\r\n        \r\n    }\r\n\r\nIs this an equivalent of &quot;annotation class&quot; or something else?\r\n\r\nWhy is it allowed in Dao.java and what are its functions?\r\n\r\n","title":"Android, Kotlin: declaring an interface like &quot;public @interface&quot;","body":"<p>I've not found a single mention of this subject neither on SO, nor elsewhere. And I am really curious about this one.\n<em>Note: I am using Kotlin in my android project.</em></p>\n<p>In the <strong>androidx.room</strong> there is a <strong>Dao.java</strong> file with such content:</p>\n<pre><code>package androidx.room;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n/**\n * Marks the class as a Data Access Object.\n * &lt;p&gt;\n * Data Access Objects are the main classes where you define your database interactions. They can\n * include a variety of query methods.\n * &lt;p&gt;\n * The class marked with {@code @Dao} should either be an interface or an abstract class. At compile\n * time, Room will generate an implementation of this class when it is referenced by a\n * {@link Database}.\n * &lt;p&gt;\n * An abstract {@code @Dao} class can optionally have a constructor that takes a {@link Database}\n * as its only parameter.\n * &lt;p&gt;\n * It is recommended to have multiple {@code Dao} classes in your codebase depending on the tables\n * they touch.\n *\n * @see Query\n * @see Delete\n * @see Insert\n */\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.CLASS)\npublic @interface Dao {\n}\n</code></pre>\n<p>I am confused about the <code>public @interface Dao {}</code> as it looks as if it could be just <code>public interface Dao{}</code>. But there is an <code>&quot;@&quot;</code> before the <code>&quot;interface&quot;</code> keyword.</p>\n<p>Creating my own interface in kotlin with this syntax produces a compilation error <code>&quot;expected annotation identifier after '@'&quot;</code> (example right below)</p>\n<pre><code>public @interface TestInterface {\n    \n}\n</code></pre>\n<p>Is this an equivalent of &quot;annotation class&quot; or something else?</p>\n<p>Why is it allowed in Dao.java and what are its functions?</p>\n"},{"tags":["java","api","authentication"],"answers":[{"tags":[],"owner":{"account_id":1474041,"reputation":1667,"user_id":1384908,"accept_rate":67,"display_name":"pafau k."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685224887,"creation_date":1685224887,"answer_id":76349224,"question_id":76348899,"body_markdown":"Actually, I think there&#39;s nothing wrong with the Java code itself. I don&#39;t know why you&#39;re getting the authentication error, for me it&#39;s 422 &#39;unprocessable&#39; (I used some random picture I had on HDD), meaning there&#39;s some problems with JSON input.\r\n\r\nIn the documentation you posted the first example is to send `text: Alicia` as the input, and when you change your code to contain this text instead of file contents, it works with 201 returned.\r\n\r\nMaybe try and go the curl route first to make sure it works and then code it, but generally, the code to open connection and make a http request works. ","title":"You didn&#39;t pass an authentication token in java","body":"<p>Actually, I think there's nothing wrong with the Java code itself. I don't know why you're getting the authentication error, for me it's 422 'unprocessable' (I used some random picture I had on HDD), meaning there's some problems with JSON input.</p>\n<p>In the documentation you posted the first example is to send <code>text: Alicia</code> as the input, and when you change your code to contain this text instead of file contents, it works with 201 returned.</p>\n<p>Maybe try and go the curl route first to make sure it works and then code it, but generally, the code to open connection and make a http request works.</p>\n"}],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685224887,"creation_date":1685219219,"question_id":76348899,"body_markdown":"I am wanting to use the POST method. I have an API where I want POST using HttpConnection. But It not working. It shows &quot;You didn&#39;t pass an authentication token. Learn how to authenticate and get your API token here: https://replicate.com/docs/reference/http#authentication&quot;\r\n\r\nMy code is\r\n```\r\ntry {\r\n            String apiUrl = &quot;https://api.replicate.com/v1/predictions&quot;;\r\n            String apiToken = &quot;****************&quot;;\r\n\r\n            // Construct the JSON payload\r\n            JSONObject json = new JSONObject();\r\n\r\n            json.put(&quot;version&quot;, &quot;494ca4d578293b4b93945115601b6a38190519da18467556ca223d219c3af9f9&quot;);\r\n\r\n            JSONObject jsonObj = new JSONObject();\r\n            File file = new File(&quot;C:\\\\Users\\\\ruhul\\\\OneDrive\\\\ছবিগুলি\\\\ads.PNG&quot;);\r\n            FileBody fileBody = new FileBody(file, ContentType.DEFAULT_BINARY);\r\n\r\n            jsonObj.put(&quot;model&quot;, &quot;Image Denoising&quot;);\r\n            jsonObj.put(&quot;image&quot;, fileBody);\r\n            json.put(&quot;input&quot;, jsonObj);\r\n\r\n            String message = json.toString();\r\n\r\n\r\n            // Create the HTTP connection\r\n            URL url = new URL(apiUrl);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;POST&quot;);\r\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Token &quot; +  apiToken);\r\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            connection.setDoOutput(true);\r\n\r\n            // Send the JSON payload\r\n            OutputStream outputStream = connection.getOutputStream();\r\n            outputStream.write(message.getBytes());\r\n            outputStream.flush();\r\n            outputStream.close();\r\n\r\n            // Get the response\r\n            int responseCode = connection.getResponseCode();\r\n            System.out.println(responseCode);\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n            String line;\r\n            StringBuilder response = new StringBuilder();\r\n\r\n            while ((line = reader.readLine()) != null) {\r\n                response.append(line);\r\n            }\r\n\r\n            reader.close();\r\n\r\n            // Print the response\r\n            System.out.println(response.toString());\r\n        }catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n```\r\n\r\nWhat I can do now?","title":"You didn&#39;t pass an authentication token in java","body":"<p>I am wanting to use the POST method. I have an API where I want POST using HttpConnection. But It not working. It shows &quot;You didn't pass an authentication token. Learn how to authenticate and get your API token here: <a href=\"https://replicate.com/docs/reference/http#authentication%22\" rel=\"nofollow noreferrer\">https://replicate.com/docs/reference/http#authentication&quot;</a></p>\n<p>My code is</p>\n<pre><code>try {\n            String apiUrl = &quot;https://api.replicate.com/v1/predictions&quot;;\n            String apiToken = &quot;****************&quot;;\n\n            // Construct the JSON payload\n            JSONObject json = new JSONObject();\n\n            json.put(&quot;version&quot;, &quot;494ca4d578293b4b93945115601b6a38190519da18467556ca223d219c3af9f9&quot;);\n\n            JSONObject jsonObj = new JSONObject();\n            File file = new File(&quot;C:\\\\Users\\\\ruhul\\\\OneDrive\\\\ছবিগুলি\\\\ads.PNG&quot;);\n            FileBody fileBody = new FileBody(file, ContentType.DEFAULT_BINARY);\n\n            jsonObj.put(&quot;model&quot;, &quot;Image Denoising&quot;);\n            jsonObj.put(&quot;image&quot;, fileBody);\n            json.put(&quot;input&quot;, jsonObj);\n\n            String message = json.toString();\n\n\n            // Create the HTTP connection\n            URL url = new URL(apiUrl);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Token &quot; +  apiToken);\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            connection.setDoOutput(true);\n\n            // Send the JSON payload\n            OutputStream outputStream = connection.getOutputStream();\n            outputStream.write(message.getBytes());\n            outputStream.flush();\n            outputStream.close();\n\n            // Get the response\n            int responseCode = connection.getResponseCode();\n            System.out.println(responseCode);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line;\n            StringBuilder response = new StringBuilder();\n\n            while ((line = reader.readLine()) != null) {\n                response.append(line);\n            }\n\n            reader.close();\n\n            // Print the response\n            System.out.println(response.toString());\n        }catch (Exception e) {\n                e.printStackTrace();\n            }\n</code></pre>\n<p>What I can do now?</p>\n"},{"tags":["java","spring-boot","springdoc"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685222415,"post_id":76349025,"comment_id":134632445,"body_markdown":"could you provide more info about the project? how you coded the startup, any error message showed in the logs? maybe this article about [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) could help","body":"could you provide more info about the project? how you coded the startup, any error message showed in the logs? maybe this article about <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> could help"}],"answers":[{"tags":[],"owner":{"account_id":10718853,"reputation":31,"user_id":7888562,"display_name":"Susana Gonz&#225;lez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685224762,"creation_date":1685224762,"answer_id":76349218,"question_id":76349025,"body_markdown":"I found the problem. Not only the dependency `springdoc-openapi-starter-webmvc-ui` is needed. As I had Webflux as dependency I needed to add:\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\nAnd if validation probles appear, make sure you have\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;","title":"404 error on Spring Boot 3.0.2 and springdoc v2","body":"<p>I found the problem. Not only the dependency <code>springdoc-openapi-starter-webmvc-ui</code> is needed. As I had Webflux as dependency I needed to add:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And if validation probles appear, make sure you have</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10718853,"reputation":31,"user_id":7888562,"display_name":"Susana Gonz&#225;lez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685224762,"creation_date":1685221323,"question_id":76349025,"body_markdown":"I have the following springbootframework version:\r\n```\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n```\r\n\r\nand I have declared the dependency as the web sais (https://springdoc.org/v2/)\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nWhen I go to: http://localhost:8080/index.html I get error 404.\r\nI do not have any additional config. I don&#39;t have any context path overriden on application properties. What do you think I may be missing?\r\n\r\nUsing Java 17 (.jdks\\corretto-17.0.6\\bin\\java.exe)\r\nAccording to https://github.com/springdoc/springdoc-openapi/releases spring doc 2.1.0 should be compatible with spring-boot-starter-parent with 3.0.2","title":"404 error on Spring Boot 3.0.2 and springdoc v2","body":"<p>I have the following springbootframework version:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>and I have declared the dependency as the web sais (<a href=\"https://springdoc.org/v2/\" rel=\"nofollow noreferrer\">https://springdoc.org/v2/</a>)</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>When I go to: http://localhost:8080/index.html I get error 404.\nI do not have any additional config. I don't have any context path overriden on application properties. What do you think I may be missing?</p>\n<p>Using Java 17 (.jdks\\corretto-17.0.6\\bin\\java.exe)\nAccording to <a href=\"https://github.com/springdoc/springdoc-openapi/releases\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/releases</a> spring doc 2.1.0 should be compatible with spring-boot-starter-parent with 3.0.2</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685282420,"post_id":76349193,"comment_id":134637064,"body_markdown":"There is an `exists()` method on `snapshot` object, but you apparently are trying to call a static or instance method called `Snapshot` on the `giri` class ... and you apparently didn&#39;t declare it.  It is hard to know how to fix this, because (frankly) I cannot figure out what you are actually trying to do in that call.","body":"There is an <code>exists()</code> method on <code>snapshot</code> object, but you apparently are trying to call a static or instance method called <code>Snapshot</code> on the <code>giri</code> class ... and you apparently didn&#39;t declare it.  It is hard to know how to fix this, because (frankly) I cannot figure out what you are actually trying to do in that call."},{"owner":{"account_id":20287845,"reputation":3,"user_id":14880159,"display_name":"Kenan Kayıkci"},"score":0,"creation_date":1685308522,"post_id":76349193,"comment_id":134640035,"body_markdown":"Its for if there is a username input verification. if it has a value it turns true but if its not than it returns to else.","body":"Its for if there is a username input verification. if it has a value it turns true but if its not than it returns to else."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685314439,"post_id":76349193,"comment_id":134640494,"body_markdown":"But what is `Snapshot(kullaniciadiinput.getText().toString()).exists()` actually supposed to mean?  What is `Snapshot` supposed to be?  A method?  A class?  Where is it declared?  What does it return? How does this make sense?","body":"But what is <code>Snapshot(kullaniciadiinput.getText().toString()).exists()</code> actually supposed to mean?  What is <code>Snapshot</code> supposed to be?  A method?  A class?  Where is it declared?  What does it return? How does this make sense?"}],"owner":{"account_id":20287845,"reputation":3,"user_id":14880159,"display_name":"Kenan Kayıkci"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685224350,"creation_date":1685224350,"question_id":76349193,"body_markdown":"In my android application i want to take the user details and verify them in my firebase database. but im having *Cannot resolve method &#39;Snapshot(String)&#39;* problem.\r\nThere is my code\r\n\r\n```\r\npackage com.example.ise435finalv2;\r\n\r\nimport static Model.User.getPassword;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport Model.User;\r\n\r\npublic class giris extends AppCompatActivity {\r\n    EditText kullaniciadiinput,sifreinput;\r\n    Button Girisyap;\r\n\r\n    @Override\r\n    protected void onCreate (Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_giris);\r\n\r\n        sifreinput = findViewById(R.id.sifreinput);\r\n        kullaniciadiinput = findViewById(R.id.kullaniciadiinput);\r\n        Girisyap = findViewById(R.id.Girisyap);\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference table_user = database.getReference(&quot;User&quot;);\r\n\r\n        Girisyap.setOnClickListener((View view) -&gt; {\r\n\r\n            final ProgressDialog mDialog = new ProgressDialog(giris.this);\r\n            mDialog.setMessage(&quot;Please wait&quot;);\r\n            mDialog.show();\r\n\r\n            table_user.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange (@NonNull DataSnapshot snapshot) {\r\n\r\n                if(Snapshot(kullaniciadiinput.getText().toString()).exists()){\r\n                   mDialog.dismiss();\r\n                    User user = Snapshot(kullaniciadiinput.getText().toString()).getValue(User.class);\r\n                    if (getPassword().equals(sifreinput.getText().toString()))\r\n                        Toast.makeText(giris.this, &quot;Giris basarili&quot;, Toast.LENGTH_SHORT).show();\r\n                    else\r\n                        Toast.makeText(giris.this, &quot;Sifre yanlis&quot;, Toast.LENGTH_SHORT).show();}\r\n                else\r\n                      Toast.makeText(giris.this, &quot;Kullanici bulunamadi&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n\r\n                @Override\r\n                public void onCancelled (@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n        });\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd there is my json file that uploaded to firebase database.\r\n\r\n```\r\n{\r\n  &quot;User&quot;: {\r\n    &quot;kenankaykci&quot;: {\r\n      &quot;Name&quot;: &quot;Kenan&quot;,\r\n      &quot;password&quot;: &quot;admin123&quot;\r\n    },\r\n    &quot;admin&quot;: {\r\n      &quot;Name&quot;: &quot;admin&quot;,\r\n      &quot;password&quot;: &quot;admin&quot;\r\n    }\r\n  }\r\n}\r\n``` \r\n\r\nI tried `if(Snapshot(kullaniciadiinput.getText().toString()).exists()){`\r\nChange but before this i was using `Datasnapshot.child(kullaniciadiinput.getText().toString()).getValue(User.class);`\r\n\r\nWhen i had complier error i changed it to Snapshot. but it did&#39;nt help. I also tried from android studio&#39;s helping tool but it didnt help.\r\nLastly im having &#39;user&#39; variable is never used error but i have user.java file to send those parameters.\r\nI have tried to change it noncapital user (User-&gt;user) but it didnt worked also.  ","title":"Cannot resolve method &#39;Snapshot(String)&#39;","body":"<p>In my android application i want to take the user details and verify them in my firebase database. but im having <em>Cannot resolve method 'Snapshot(String)'</em> problem.\nThere is my code</p>\n<pre><code>package com.example.ise435finalv2;\n\nimport static Model.User.getPassword;\n\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport Model.User;\n\npublic class giris extends AppCompatActivity {\n    EditText kullaniciadiinput,sifreinput;\n    Button Girisyap;\n\n    @Override\n    protected void onCreate (Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_giris);\n\n        sifreinput = findViewById(R.id.sifreinput);\n        kullaniciadiinput = findViewById(R.id.kullaniciadiinput);\n        Girisyap = findViewById(R.id.Girisyap);\n\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n        DatabaseReference table_user = database.getReference(&quot;User&quot;);\n\n        Girisyap.setOnClickListener((View view) -&gt; {\n\n            final ProgressDialog mDialog = new ProgressDialog(giris.this);\n            mDialog.setMessage(&quot;Please wait&quot;);\n            mDialog.show();\n\n            table_user.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange (@NonNull DataSnapshot snapshot) {\n\n                if(Snapshot(kullaniciadiinput.getText().toString()).exists()){\n                   mDialog.dismiss();\n                    User user = Snapshot(kullaniciadiinput.getText().toString()).getValue(User.class);\n                    if (getPassword().equals(sifreinput.getText().toString()))\n                        Toast.makeText(giris.this, &quot;Giris basarili&quot;, Toast.LENGTH_SHORT).show();\n                    else\n                        Toast.makeText(giris.this, &quot;Sifre yanlis&quot;, Toast.LENGTH_SHORT).show();}\n                else\n                      Toast.makeText(giris.this, &quot;Kullanici bulunamadi&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n\n                @Override\n                public void onCancelled (@NonNull DatabaseError error) {\n\n                }\n            });\n        });\n\n\n    }\n}\n</code></pre>\n<p>And there is my json file that uploaded to firebase database.</p>\n<pre><code>{\n  &quot;User&quot;: {\n    &quot;kenankaykci&quot;: {\n      &quot;Name&quot;: &quot;Kenan&quot;,\n      &quot;password&quot;: &quot;admin123&quot;\n    },\n    &quot;admin&quot;: {\n      &quot;Name&quot;: &quot;admin&quot;,\n      &quot;password&quot;: &quot;admin&quot;\n    }\n  }\n}\n</code></pre>\n<p>I tried <code>if(Snapshot(kullaniciadiinput.getText().toString()).exists()){</code>\nChange but before this i was using <code>Datasnapshot.child(kullaniciadiinput.getText().toString()).getValue(User.class);</code></p>\n<p>When i had complier error i changed it to Snapshot. but it did'nt help. I also tried from android studio's helping tool but it didnt help.\nLastly im having 'user' variable is never used error but i have user.java file to send those parameters.\nI have tried to change it noncapital user (User-&gt;user) but it didnt worked also.</p>\n"},{"tags":["java","jax-rs","cxf","apache-karaf"],"answers":[{"tags":[],"owner":{"account_id":20524248,"reputation":105,"user_id":15063087,"display_name":"k4rnaj1k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685224313,"creation_date":1685223956,"answer_id":76349171,"question_id":76348700,"body_markdown":"As is turns out, project setup is not as hard as it seemed to be.\r\nOnly one dependency is required:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nAnd the annotations can be on the interface, should also add annotation `@Resource` for it to get picked up by cxf:\r\n```java\r\n@Resource\r\n@Path(&quot;/&quot;)\r\npublic interface MyService {\r\n    @Path(&quot;/hello&quot;)\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    String hello();\r\n}\r\n```\r\n(annotations should be from `javax.*`)\r\n\r\nComplete setup in case someone stumbles upon this question:\r\n\r\n1. feature:repo-add cxf\r\n1. feature:install cxf blueprint-web\r\n1. bundle:install {bundle}\r\n1. bundle:start {bundle-number}\r\n\r\nComplete maven-bundle plugin config:\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;5.1.9&lt;/version&gt;\r\n   &lt;extensions&gt;true&lt;/extensions&gt;\r\n   &lt;configuration&gt;\r\n      &lt;instructions&gt;\r\n         &lt;Embed-Dependency&gt;*;scope=compile|runtime;inline=false;artifactId=*&lt;/Embed-Dependency&gt;\r\n         &lt;Embed-Transitive&gt;false&lt;/Embed-Transitive&gt;\r\n         &lt;Bundle-SymbolicName&gt;${pom.groupId}.${pom.artifactId}&lt;/Bundle-SymbolicName&gt;\r\n         &lt;Bundle-Name&gt;${pom.name}&lt;/Bundle-Name&gt;\r\n         &lt;Bundle-Version&gt;${pom.version}&lt;/Bundle-Version&gt;\r\n         &lt;Export-Package&gt;my.package.*&lt;/Export-Package&gt;\r\n         &lt;Import-Package&gt;*&lt;/Import-Package&gt;\r\n      &lt;/instructions&gt;\r\n   &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Karaf, cxf and jax-rs - No services have been found","body":"<p>As is turns out, project setup is not as hard as it seemed to be.\nOnly one dependency is required:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And the annotations can be on the interface, should also add annotation <code>@Resource</code> for it to get picked up by cxf:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Resource\n@Path(&quot;/&quot;)\npublic interface MyService {\n    @Path(&quot;/hello&quot;)\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    String hello();\n}\n</code></pre>\n<p>(annotations should be from <code>javax.*</code>)</p>\n<p>Complete setup in case someone stumbles upon this question:</p>\n<ol>\n<li>feature:repo-add cxf</li>\n<li>feature:install cxf blueprint-web</li>\n<li>bundle:install {bundle}</li>\n<li>bundle:start {bundle-number}</li>\n</ol>\n<p>Complete maven-bundle plugin config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n   &lt;version&gt;5.1.9&lt;/version&gt;\n   &lt;extensions&gt;true&lt;/extensions&gt;\n   &lt;configuration&gt;\n      &lt;instructions&gt;\n         &lt;Embed-Dependency&gt;*;scope=compile|runtime;inline=false;artifactId=*&lt;/Embed-Dependency&gt;\n         &lt;Embed-Transitive&gt;false&lt;/Embed-Transitive&gt;\n         &lt;Bundle-SymbolicName&gt;${pom.groupId}.${pom.artifactId}&lt;/Bundle-SymbolicName&gt;\n         &lt;Bundle-Name&gt;${pom.name}&lt;/Bundle-Name&gt;\n         &lt;Bundle-Version&gt;${pom.version}&lt;/Bundle-Version&gt;\n         &lt;Export-Package&gt;my.package.*&lt;/Export-Package&gt;\n         &lt;Import-Package&gt;*&lt;/Import-Package&gt;\n      &lt;/instructions&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":20524248,"reputation":105,"user_id":15063087,"display_name":"k4rnaj1k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76349171,"answer_count":1,"score":1,"last_activity_date":1685224313,"creation_date":1685215968,"question_id":76348700,"body_markdown":"When I install and start the bundle, nothing happens, no output to the console and `bundle:list` reports it as &quot;Active&quot;. I&#39;ve tried using `blueprint-web` feature and I was getting `No resource classes found` exception in logs.\r\n\r\nMy setup:\r\n- jdk 11\r\n- karaf 4.4.3\r\n- cxf 3.3.5\r\n- `feature:install cxf http`\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n      &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.1&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.osgi&lt;/groupId&gt;\r\n      &lt;artifactId&gt;osgi.core&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\r\n      &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n      &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nI&#39;m using maven bundle plugin:\r\n```xml\r\n&lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n      &lt;extensions&gt;true&lt;/extensions&gt;\r\n      &lt;configuration&gt;\r\n         &lt;instructions&gt;\r\n            &lt;Embed-Dependency&gt;*;scope=compile|runtime;inline=false;artifactId=*&lt;/Embed-Dependency&gt;\r\n            &lt;Embed-Transitive&gt;true&lt;/Embed-Transitive&gt;\r\n            &lt;Bundle-SymbolicName&gt;${pom.groupId}.${pom.artifactId}&lt;/Bundle-SymbolicName&gt;\r\n            &lt;Bundle-Name&gt;${pom.name}&lt;/Bundle-Name&gt;\r\n            &lt;Bundle-Version&gt;${pom.version}&lt;/Bundle-Version&gt;\r\n            &lt;Export-Package&gt;my.base.package.*&lt;/Export-Package&gt;\r\n            &lt;Import-Package&gt;javax.ws.rs.*\r\n                            javax.jws.*\r\n                            *\r\n            &lt;/Import-Package&gt;\r\n         &lt;/instructions&gt;\r\n      &lt;/configuration&gt;\r\n   &lt;/plugin&gt;\r\n```\r\n`OSGI-INF/blueprint.xml`:\r\n```xml\r\n    &lt;cxf:bus&gt;\r\n        &lt;cxf:features&gt;\r\n            &lt;cxf:logging/&gt;\r\n        &lt;/cxf:features&gt;\r\n    &lt;/cxf:bus&gt;\r\n\r\n    &lt;jaxrs:server id=&quot;myService&quot; address=&quot;/test&quot;&gt;\r\n        &lt;jaxrs:serviceBeans&gt;\r\n            &lt;ref component-id=&quot;myServiceBean&quot; /&gt;\r\n        &lt;/jaxrs:serviceBeans&gt;\r\n    &lt;/jaxrs:server&gt;\r\n\r\n    &lt;bean id=&quot;myServiceBean&quot; class=&quot;my.base.package.impl.MyServiceImpl&quot;/&gt;\r\n```\r\nMyServiceImpl.java\r\n```java\r\n@Path(&quot;/&quot;)\r\npublic class MyServiceImpl implements MyService{\r\n    public AccountStorageServiceImpl() {\r\n        System.out.println(&quot;MyService starting...&quot;);\r\n    }\r\n\r\n    @Path(&quot;/hello&quot;)\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Override\r\n    public String hello() {\r\n        return &quot;Hello World!&quot;;\r\n    }\r\n}\r\n```\r\nI had annotations in the interface at first but moved to the impl class hoping it would help(it didn&#39;t).\r\nIs there some additional configuration/feature that I&#39;m missing?","title":"Karaf, cxf and jax-rs - No services have been found","body":"<p>When I install and start the bundle, nothing happens, no output to the console and <code>bundle:list</code> reports it as &quot;Active&quot;. I've tried using <code>blueprint-web</code> feature and I was getting <code>No resource classes found</code> exception in logs.</p>\n<p>My setup:</p>\n<ul>\n<li>jdk 11</li>\n<li>karaf 4.4.3</li>\n<li>cxf 3.3.5</li>\n<li><code>feature:install cxf http</code></li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n      &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n      &lt;version&gt;${cxf.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n      &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n      &lt;version&gt;1.1.1&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.osgi&lt;/groupId&gt;\n      &lt;artifactId&gt;osgi.core&lt;/artifactId&gt;\n      &lt;version&gt;8.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n      &lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\n      &lt;version&gt;${cxf.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n      &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n      &lt;version&gt;${cxf.version}&lt;/version&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I'm using maven bundle plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n      &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n      &lt;extensions&gt;true&lt;/extensions&gt;\n      &lt;configuration&gt;\n         &lt;instructions&gt;\n            &lt;Embed-Dependency&gt;*;scope=compile|runtime;inline=false;artifactId=*&lt;/Embed-Dependency&gt;\n            &lt;Embed-Transitive&gt;true&lt;/Embed-Transitive&gt;\n            &lt;Bundle-SymbolicName&gt;${pom.groupId}.${pom.artifactId}&lt;/Bundle-SymbolicName&gt;\n            &lt;Bundle-Name&gt;${pom.name}&lt;/Bundle-Name&gt;\n            &lt;Bundle-Version&gt;${pom.version}&lt;/Bundle-Version&gt;\n            &lt;Export-Package&gt;my.base.package.*&lt;/Export-Package&gt;\n            &lt;Import-Package&gt;javax.ws.rs.*\n                            javax.jws.*\n                            *\n            &lt;/Import-Package&gt;\n         &lt;/instructions&gt;\n      &lt;/configuration&gt;\n   &lt;/plugin&gt;\n</code></pre>\n<p><code>OSGI-INF/blueprint.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;cxf:bus&gt;\n        &lt;cxf:features&gt;\n            &lt;cxf:logging/&gt;\n        &lt;/cxf:features&gt;\n    &lt;/cxf:bus&gt;\n\n    &lt;jaxrs:server id=&quot;myService&quot; address=&quot;/test&quot;&gt;\n        &lt;jaxrs:serviceBeans&gt;\n            &lt;ref component-id=&quot;myServiceBean&quot; /&gt;\n        &lt;/jaxrs:serviceBeans&gt;\n    &lt;/jaxrs:server&gt;\n\n    &lt;bean id=&quot;myServiceBean&quot; class=&quot;my.base.package.impl.MyServiceImpl&quot;/&gt;\n</code></pre>\n<p>MyServiceImpl.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/&quot;)\npublic class MyServiceImpl implements MyService{\n    public AccountStorageServiceImpl() {\n        System.out.println(&quot;MyService starting...&quot;);\n    }\n\n    @Path(&quot;/hello&quot;)\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @Override\n    public String hello() {\n        return &quot;Hello World!&quot;;\n    }\n}\n</code></pre>\n<p>I had annotations in the interface at first but moved to the impl class hoping it would help(it didn't).\nIs there some additional configuration/feature that I'm missing?</p>\n"},{"tags":["java","spring-boot","cassandra","datastax-astra"],"answers":[{"tags":[],"owner":{"account_id":38661,"reputation":26799,"user_id":111124,"accept_rate":83,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685222870,"creation_date":1685222870,"answer_id":76349121,"question_id":76326629,"body_markdown":"The configuration is a bit contradictory - you have a secure bundle path, Astra Database ID and Astra Token - but then you specify a contact point, which would be for using cql-proxy when not connecting to Astra.\r\n\r\nAs per the docs (https://github.com/datastax/cql-proxy#configuration)\r\n\r\n     -c, --contact-points=CONTACT-POINTS,...                 \r\n    Contact points for cluster. Ignored if using the bundle path \r\n    or token option ($CONTACT_POINTS).\r\n\r\n\r\nThe error details from the original post are unclear but `must provide either bundle path, token, or contact points` indicates as above, you are specifying both.\r\n\r\nWhile it says &#39;ignored&#39; in the description, thats for a CLI parameter, I&#39;m not sure how the container would react to the variable. If connecting to Astra, remove the contact points environment variable, and provide the full error within the post please.","title":"cql-proxy: error: must provide either bundle path, token, or contact points","body":"<p>The configuration is a bit contradictory - you have a secure bundle path, Astra Database ID and Astra Token - but then you specify a contact point, which would be for using cql-proxy when not connecting to Astra.</p>\n<p>As per the docs (<a href=\"https://github.com/datastax/cql-proxy#configuration\" rel=\"nofollow noreferrer\">https://github.com/datastax/cql-proxy#configuration</a>)</p>\n<pre><code> -c, --contact-points=CONTACT-POINTS,...                 \nContact points for cluster. Ignored if using the bundle path \nor token option ($CONTACT_POINTS).\n</code></pre>\n<p>The error details from the original post are unclear but <code>must provide either bundle path, token, or contact points</code> indicates as above, you are specifying both.</p>\n<p>While it says 'ignored' in the description, thats for a CLI parameter, I'm not sure how the container would react to the variable. If connecting to Astra, remove the contact points environment variable, and provide the full error within the post please.</p>\n"}],"owner":{"account_id":16507750,"reputation":171,"user_id":11927366,"display_name":"alia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76349121,"answer_count":1,"score":1,"last_activity_date":1685222870,"creation_date":1684954575,"question_id":76326629,"body_markdown":"How to resolve this error:\r\ncql-proxy: error: must provide either bundle path, token, or contact points\r\nThis is my docker-compose.yml:\r\n```\r\ncassandra-service:\r\n    image: datastax/cql-proxy:v0.1.2\r\n    container_name: cassandra-container\r\n    hostname: cassandra-service\r\n    ports:\r\n    - 9042:9042\r\n    networks:\r\n    - clicknrate-network\r\n    restart: always\r\n    volumes:\r\n    - ./secure-connect-clicknrate.zip:/secrets/secure-connect-clicknrate.zip\r\n    environment:\r\n    - ASTRA-TOKEN=AstraCS:********\r\n    - ASTRA-DATABASE-ID=*******\r\n    - ASTRA-API-URL=https://api.astra.datastax.com\r\n    - PORT=9042\r\n    - DATA-CENTER=dc1\r\n    - USERNAME=******\r\n    - PASSWORD=*****\r\n    - KEYSPACE=clicknrate\r\n    - ASTRA-BUNDLE=/secrets/secure-connect-clicknrate.zip\r\n    - CONTACT-POINTS=cassandra-service\r\n    - SCHEMA_ACTION=CREATE_IF_NOT_EXISTS\r\n```\r\nMy application is a java spring boot application running with docker-compose.","title":"cql-proxy: error: must provide either bundle path, token, or contact points","body":"<p>How to resolve this error:\ncql-proxy: error: must provide either bundle path, token, or contact points\nThis is my docker-compose.yml:</p>\n<pre><code>cassandra-service:\n    image: datastax/cql-proxy:v0.1.2\n    container_name: cassandra-container\n    hostname: cassandra-service\n    ports:\n    - 9042:9042\n    networks:\n    - clicknrate-network\n    restart: always\n    volumes:\n    - ./secure-connect-clicknrate.zip:/secrets/secure-connect-clicknrate.zip\n    environment:\n    - ASTRA-TOKEN=AstraCS:********\n    - ASTRA-DATABASE-ID=*******\n    - ASTRA-API-URL=https://api.astra.datastax.com\n    - PORT=9042\n    - DATA-CENTER=dc1\n    - USERNAME=******\n    - PASSWORD=*****\n    - KEYSPACE=clicknrate\n    - ASTRA-BUNDLE=/secrets/secure-connect-clicknrate.zip\n    - CONTACT-POINTS=cassandra-service\n    - SCHEMA_ACTION=CREATE_IF_NOT_EXISTS\n</code></pre>\n<p>My application is a java spring boot application running with docker-compose.</p>\n"},{"tags":["java","docker","gitlab","gitlab-ci"],"comments":[{"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"score":1,"creation_date":1685112814,"post_id":76341804,"comment_id":134620668,"body_markdown":"Have you considered just installing `sed` in your job?","body":"Have you considered just installing <code>sed</code> in your job?"},{"owner":{"account_id":14462301,"reputation":673,"user_id":10446802,"display_name":"Fermi-4"},"score":0,"creation_date":1685114043,"post_id":76341804,"comment_id":134620950,"body_markdown":"Create a Docker image from the target image you are currently using and install sed i.e. \nFROM &lt;target image&gt;\nRUN apt-get install -y sed","body":"Create a Docker image from the target image you are currently using and install sed i.e.  FROM &lt;target image&gt; RUN apt-get install -y sed"}],"answers":[{"tags":[],"owner":{"account_id":9746432,"reputation":1333,"user_id":7226268,"accept_rate":31,"display_name":"dsax7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685212105,"creation_date":1685212105,"answer_id":76348417,"question_id":76341804,"body_markdown":"Strange, I just checked the `amazoncorretto:17` locally and it seems to have the `sed` command. You can, however, build your own docker image which is based on `amazoncorretto:17` (or any image for that matter) and install sed (even though when I checked locally it is already present). You can also use `&quot;java -jar openapi-generator-cli.jar generate -g spring -o out -i dispo.yaml | grep -q &#39;WARN&#39; &amp;&amp; exit 1&quot;` which should do the same. (I would assume `grep` is already present)","title":"Java Docker Container, how to check the output?","body":"<p>Strange, I just checked the <code>amazoncorretto:17</code> locally and it seems to have the <code>sed</code> command. You can, however, build your own docker image which is based on <code>amazoncorretto:17</code> (or any image for that matter) and install sed (even though when I checked locally it is already present). You can also use <code>&quot;java -jar openapi-generator-cli.jar generate -g spring -o out -i dispo.yaml | grep -q 'WARN' &amp;&amp; exit 1&quot;</code> which should do the same. (I would assume <code>grep</code> is already present)</p>\n"},{"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685222463,"creation_date":1685222463,"answer_id":76349093,"question_id":76341804,"body_markdown":"In the end the image had at least the `awk` program installed and so I could check Java&#39;s output by `awk`&#39;s help for a special character sequence and if there were matches then exit the program right away with exit code 1:\r\n\r\n```\r\njava -jar openapi-generator-cli.jar generate -g spring -o out -i dispo.yaml | awk &#39;{ print; } $0 ~ &quot;WARN&quot; { exit 1; }&#39;\r\n``` ","title":"Java Docker Container, how to check the output?","body":"<p>In the end the image had at least the <code>awk</code> program installed and so I could check Java's output by <code>awk</code>'s help for a special character sequence and if there were matches then exit the program right away with exit code 1:</p>\n<pre><code>java -jar openapi-generator-cli.jar generate -g spring -o out -i dispo.yaml | awk '{ print; } $0 ~ &quot;WARN&quot; { exit 1; }'\n</code></pre>\n"}],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685222463,"creation_date":1685111603,"question_id":76341804,"body_markdown":"We have a GitLab Pipeline with the following job which runs inside a Docker Container that has Java installed:\r\n\r\n```\r\ngenerate_openapi_server_code:\r\n  image: java:17\r\n  stage: validate\r\n  tags:\r\n    - test\r\n  script:\r\n    - &quot;wget https://&lt;artifactory-host-url&gt;/artifactory/Maven-Central-remote-cache/org/openapitools/openapi-generator-cli/6.3.0/openapi-generator-cli-6.3.0.jar -O openapi-generator-cli.jar&quot;\r\n    - &quot;java -jar openapi-generator-cli.jar generate -g spring -o out -i dispo.yaml | sed &#39;/WARN/q1&#39;&quot;\r\n```\r\nAs you can see in the first step it downloads the Java Lib from our Maven Repo and then starts the program. In order we can validate the outcome of the program we try to check the console output with the `sed` command tool. The problem is that `sed` is not available in that image so the job fails with: `sed: missing command`.\r\n\r\nDo you have an idea how to check the Java&#39;s output in a container? Do you know a better container which has all tools at hand, i.e. Java 17 and sed?\r\n","title":"Java Docker Container, how to check the output?","body":"<p>We have a GitLab Pipeline with the following job which runs inside a Docker Container that has Java installed:</p>\n<pre><code>generate_openapi_server_code:\n  image: java:17\n  stage: validate\n  tags:\n    - test\n  script:\n    - &quot;wget https://&lt;artifactory-host-url&gt;/artifactory/Maven-Central-remote-cache/org/openapitools/openapi-generator-cli/6.3.0/openapi-generator-cli-6.3.0.jar -O openapi-generator-cli.jar&quot;\n    - &quot;java -jar openapi-generator-cli.jar generate -g spring -o out -i dispo.yaml | sed '/WARN/q1'&quot;\n</code></pre>\n<p>As you can see in the first step it downloads the Java Lib from our Maven Repo and then starts the program. In order we can validate the outcome of the program we try to check the console output with the <code>sed</code> command tool. The problem is that <code>sed</code> is not available in that image so the job fails with: <code>sed: missing command</code>.</p>\n<p>Do you have an idea how to check the Java's output in a container? Do you know a better container which has all tools at hand, i.e. Java 17 and sed?</p>\n"},{"tags":["java","android","json","intellij-idea","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1455296651,"post_id":35366302,"comment_id":58442404,"body_markdown":"It looks like your Proguard config is not excepting libgdx classes. Since Skin loads classes by reflection, you must not allow Proguard to change the names of those classes.","body":"It looks like your Proguard config is not excepting libgdx classes. Since Skin loads classes by reflection, you must not allow Proguard to change the names of those classes."},{"owner":{"account_id":1391551,"reputation":8448,"user_id":1322271,"accept_rate":73,"display_name":"Madmenyo"},"score":0,"creation_date":1455297499,"post_id":35366302,"comment_id":58442956,"body_markdown":"You sure this exists? `skins/jsonSkin.json`","body":"You sure this exists? <code>skins&#47;jsonSkin.json</code>"},{"owner":{"account_id":7794155,"reputation":41,"user_id":5895975,"display_name":"user5895975"},"score":0,"creation_date":1455299371,"post_id":35366302,"comment_id":58444058,"body_markdown":"Menno Gouw -- I may had changed something when posting here but i can asure you that i put a jsonSkin.json in SKIN/ folder and assets too.","body":"Menno Gouw -- I may had changed something when posting here but i can asure you that i put a jsonSkin.json in SKIN/ folder and assets too."},{"owner":{"account_id":7794155,"reputation":41,"user_id":5895975,"display_name":"user5895975"},"score":0,"creation_date":1455299676,"post_id":35366302,"comment_id":58444247,"body_markdown":"Please `_-Tenfour-_` Can you tell me more about how can i not Allow proguard to change names ?? –","body":"Please <code>_-Tenfour-_</code> Can you tell me more about how can i not Allow proguard to change names ?? –"},{"owner":{"account_id":7794155,"reputation":41,"user_id":5895975,"display_name":"user5895975"},"score":0,"creation_date":1455475371,"post_id":35366302,"comment_id":58494853,"body_markdown":"I Diabled Proguard but there is still an error please can someone help ????","body":"I Diabled Proguard but there is still an error please can someone help ????"}],"answers":[{"tags":[],"owner":{"account_id":4206565,"reputation":20016,"user_id":3445320,"display_name":"AAryan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1530784945,"creation_date":1479639259,"answer_id":40703181,"question_id":35366302,"body_markdown":"Put this in your config:\r\n\r\n  \r\n\r\n     -keep class com.badlogic.**{\r\n       **[] $VALUES;\r\n        *;\r\n    }\r\n\r\nIt&#39;ll fix this issue, and issues with reflection.\r\n\r\nEDIT :\r\n------\r\n\r\nAbove is the top level rule that disables all of `ProGuard’s` goodness on particular package. No shrinking, no obfuscation; not for classes, not for members. \r\n\r\n`Proguard` obfuscate classes that we&#39;re using in our skin file, `Skin` loads classes by reflection, so we must **not allow** `Proguard` to change the names of those classes.\r\n\r\n1. double-asterisk in the package means every class under every package under that top-level package;\r\n2. asterisk inside the curly braces applies to every member (variables, methods, and constants) inside those class.","title":"LibGdx [FATAL EXCEPTION] Loading a skin .json file","body":"<p>Put this in your config:</p>\n\n<pre><code> -keep class com.badlogic.**{\n   **[] $VALUES;\n    *;\n}\n</code></pre>\n\n<p>It'll fix this issue, and issues with reflection.</p>\n\n<h2>EDIT :</h2>\n\n<p>Above is the top level rule that disables all of <code>ProGuard’s</code> goodness on particular package. No shrinking, no obfuscation; not for classes, not for members. </p>\n\n<p><code>Proguard</code> obfuscate classes that we're using in our skin file, <code>Skin</code> loads classes by reflection, so we must <strong>not allow</strong> <code>Proguard</code> to change the names of those classes.</p>\n\n<ol>\n<li>double-asterisk in the package means every class under every package under that top-level package;</li>\n<li>asterisk inside the curly braces applies to every member (variables, methods, and constants) inside those class.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1246922,"reputation":3572,"user_id":1208168,"display_name":"mili"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511184331,"creation_date":1511184331,"answer_id":47393132,"question_id":35366302,"body_markdown":"Problem is json serializer needs exact field name to do its job.\r\n\r\nAbhishek is correct but I just need to ignore shrinking only for scene2d package, so I put this on **proguard-rules.pro** file\r\n\r\n     -keep class com.badlogic.gdx.scenes.scene2d.ui.**{\r\n        **[] $VALUES;\r\n         *;\r\n     }\r\n\r\nIt will optimize all the other code except for skin loader and its components.\r\n\r\nAlso you need to put something similar if you are doing json de/serializing with your own classes.\r\n\r\n     -keep class com.your.game.data.**{\r\n        **[] $VALUES;\r\n         *;\r\n     }\r\n\r\nHere is a screenshot to find the **proguard-rules.pro** file on Android Studio for beginners \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HcukJ.jpg","title":"LibGdx [FATAL EXCEPTION] Loading a skin .json file","body":"<p>Problem is json serializer needs exact field name to do its job.</p>\n\n<p>Abhishek is correct but I just need to ignore shrinking only for scene2d package, so I put this on <strong>proguard-rules.pro</strong> file</p>\n\n<pre><code> -keep class com.badlogic.gdx.scenes.scene2d.ui.**{\n    **[] $VALUES;\n     *;\n }\n</code></pre>\n\n<p>It will optimize all the other code except for skin loader and its components.</p>\n\n<p>Also you need to put something similar if you are doing json de/serializing with your own classes.</p>\n\n<pre><code> -keep class com.your.game.data.**{\n    **[] $VALUES;\n     *;\n }\n</code></pre>\n\n<p>Here is a screenshot to find the <strong>proguard-rules.pro</strong> file on Android Studio for beginners \n<a href=\"https://i.stack.imgur.com/HcukJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HcukJ.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8315643,"reputation":156,"user_id":6249043,"display_name":"thebadassdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516368123,"creation_date":1516368123,"answer_id":48342121,"question_id":35366302,"body_markdown":"Put this in your **proguard rules** \r\n\r\n-keep class com.badlogic.gdx.graphics.g2d.BitmapFont\r\n","title":"LibGdx [FATAL EXCEPTION] Loading a skin .json file","body":"<p>Put this in your <strong>proguard rules</strong> </p>\n\n<p>-keep class com.badlogic.gdx.graphics.g2d.BitmapFont</p>\n"},{"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685221794,"creation_date":1685221794,"answer_id":76349058,"question_id":35366302,"body_markdown":"In my case in `build.gradle` i had this config for release build:\r\n\r\n      buildTypes {\r\n        release {\r\n          minifyEnabled true\r\n          proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n          debuggable true\r\n        }\r\n\r\nBut my `proguard-rules.pro` file was missing - the default is now `proguard-project.txt` instead. So I changed config to this:\r\n\r\n      buildTypes {\r\n        release {\r\n          minifyEnabled true\r\n          proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-project.txt&#39;\r\n          debuggable true\r\n        }\r\n\r\nAnd then applied proper proguard rules as in previous answers.","title":"LibGdx [FATAL EXCEPTION] Loading a skin .json file","body":"<p>In my case in <code>build.gradle</code> i had this config for release build:</p>\n<pre><code>  buildTypes {\n    release {\n      minifyEnabled true\n      proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n      debuggable true\n    }\n</code></pre>\n<p>But my <code>proguard-rules.pro</code> file was missing - the default is now <code>proguard-project.txt</code> instead. So I changed config to this:</p>\n<pre><code>  buildTypes {\n    release {\n      minifyEnabled true\n      proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-project.txt'\n      debuggable true\n    }\n</code></pre>\n<p>And then applied proper proguard rules as in previous answers.</p>\n"}],"owner":{"account_id":7794155,"reputation":41,"user_id":5895975,"display_name":"user5895975"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1685221794,"creation_date":1455290937,"question_id":35366302,"body_markdown":"I&#39;m using Intellij. Everything was working fine, and the APK is deployed in my Android but it just stays black screen and return to home saying that &quot;&#39;the game&#39; stopped:\r\n\r\n        1023-1051/? E/AndroidRuntime﹕ FATAL EXCEPTION: GLThread 1591\r\n    Process: net.mygdx.game.android, PID: 1023\r\n    com.badlogic.gdx.utils.ax: Error reading file: jsonSkin.json\r\n            at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\r\n            at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\r\n            at net.mygdx.game.a.a(Unknown Source)\r\n            at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\r\n            at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\r\n            at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\r\n     Caused by: com.badlogic.gdx.utils.ax: Error reading file: skins/jsonSkin.json\r\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\r\n                at org.mygdx.gam.a.a(Unknown Source)\r\n                at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\r\n                at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\r\n                at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\r\n     Caused by: com.badlogic.gdx.utils.ax:\r\n            at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\r\n            at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\r\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n            at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\r\n                at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\r\n                at net.mygdx.game.a.a(Unknown Source)\r\n                at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\r\n                at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\r\n                at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\r\n     Caused by: com.badlogic.gdx.utils.b.e: Class not found: com.badlogic.gdx.graphics.g2d.BitmapFont\r\n            at com.badlogic.gdx.utils.b.b.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\r\n                at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\r\n                at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\r\n                at net.mygdx.game.a.a(Unknown Source)\r\n                at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\r\n                at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\r\n                at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\r\n     Caused by: java.lang.ClassNotFoundException: com.badlogic.gdx.graphics.g2d.BitmapFont\r\n            at java.lang.Class.classForName(Native Method)\r\n            at java.lang.Class.forName(Class.java:251)\r\n            at java.lang.Class.forName(Class.java:216)\r\n                at com.badlogic.gdx.utils.b.b.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\r\n                at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\r\n                at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\r\n                at net.mygdx.game.a.a(Unknown Source)\r\n                at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\r\n                at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\r\n                at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\r\n     Caused by: java.lang.NoClassDefFoundError: com/badlogic/gdx/graphics/g2d/BitmapFont\r\n                at java.lang.Class.classForName(Native Method)\r\n                at java.lang.Class.forName(Class.java:251)\r\n                at java.lang.Class.forName(Class.java:216)\r\n                at com.badlogic.gdx.utils.b.b.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\r\n                at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\r\n                at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\r\n                at org.mygdx.gam.a.a(Unknown Source)\r\n                at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\r\n                at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\r\n                at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.badlogic.gdx.graphics.g2d.BitmapFont&quot; on path: DexPathList[[zip file &quot;/data/app/org.mygdx.gam.android-1.apk&quot;],nativeLibraryDirectories=[/data/app-lib/org.mygdx.gam.android-1, /vendor/lib, /system/lib]]\r\n            at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:497)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:457)\r\n                at java.lang.Class.classForName(Native Method)\r\n                at java.lang.Class.forName(Class.java:251)\r\n                at java.lang.Class.forName(Class.java:216)\r\n                at com.badlogic.gdx.utils.b.b.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\r\n                at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\r\n                at com.badlogic.gdx.utils.k.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\r\n                at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\r\n                at org.mygdx.gam.a.a(Unknown Source)\r\n                at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\r\n                at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\r\n                at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\r\n\r\nThis on is my .json file;\r\n\r\n    {\r\n    com.badlogic.gdx.graphics.g2d.BitmapFont: { default-font: { file: default.fnt } },\r\n    com.badlogic.gdx.graphics.Color: {\r\n    \tgreen: { a: 1, b: 0, g: 1, r: 0 },\r\n    \twhite: { a: 1, b: 1, g: 1, r: 1 },\r\n    \tred: { a: 1, b: 0, g: 0, r: 1 },\r\n    \tblack: { a: 1, b: 0, g: 0, r: 0 },\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.Skin$TintedDrawable: {\r\n    \tdialogDim: { name: white, color: { r: 0, g: 0, b: 0, a: 0.45 } },\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.Button$ButtonStyle: {\r\n    \tdefault: { down: default-round-down, up: default-round },\r\n    \ttoggle: { down: default-round-down, checked: default-round-down, up: default-round }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.TextButton$TextButtonStyle: {\r\n    \tdefault: { down: default-round-down, up: default-round, font: default-font, fontColor: white },\r\n    \ttoggle: { down: default-round-down, up: default-round, checked: default-round-down, font: default-font, fontColor: white, downFontColor: red }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.ScrollPane$ScrollPaneStyle: {\r\n    \tdefault: { vScroll: default-scroll, hScrollKnob: default-round-large, background: default-rect, hScroll: default-scroll, vScrollKnob: default-round-large }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.SelectBox$SelectBoxStyle: {\r\n    \tdefault: {\r\n    \t\tfont: default-font, fontColor: white, background: default-select,\r\n    \t\tscrollStyle: default,\r\n    \t\tlistStyle: { font: default-font, selection: default-select-selection }\r\n    \t}\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.SplitPane$SplitPaneStyle: {\r\n    \tdefault-vertical: { handle: default-splitpane-vertical },\r\n    \tdefault-horizontal: { handle: default-splitpane }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.Window$WindowStyle: {\r\n    \tdefault: { titleFont: default-font, background: default-window, titleFontColor: white },\r\n    \tdialog: { titleFont: default-font, background: default-window, titleFontColor: white, stageBackground: dialogDim }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.ProgressBar$ProgressBarStyle: {\r\n    \tdefault-horizontal: { background: default-slider, knob: default-slider-knob },\r\n    \tdefault-vertical: { background: default-slider, knob: default-round-large }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.Slider$SliderStyle: {\r\n    \tdefault-horizontal: { background: default-slider, knob: default-slider-knob },\r\n    \tdefault-vertical: { background: default-slider, knob: default-round-large }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.Label$LabelStyle: {\r\n    \tdefault: { font: default-font, fontColor: white }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.TextField$TextFieldStyle: {\r\n    \tdefault: { selection: selection, background: textfield, font: default-font, fontColor: white, cursor: cursor }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.CheckBox$CheckBoxStyle: {\r\n    \tdefault: { checkboxOn: check-on, checkboxOff: check-off, font: default-font, fontColor: white }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.List$ListStyle: {\r\n    \tdefault: { fontColorUnselected: white, selection: selection, fontColorSelected: white, font: default-font }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.Touchpad$TouchpadStyle: {\r\n    \tdefault: { background: default-pane, knob: default-round-large }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.Tree$TreeStyle: {\r\n    \tdefault: { minus: tree-minus, plus: tree-plus, selection: default-select-selection }\r\n    },\r\n    com.badlogic.gdx.scenes.scene2d.ui.TextTooltip$TextTooltipStyle: {\r\n    \tdefault: {\r\n    \t\tlabel: { font: default-font, fontColor: white },\r\n    \t\tbackground: default-pane, wrapWidth: 150\r\n    \t}\r\n    },\r\n    }\r\n\r\nAnd these lines are the ones who are weird because if I get rid of them the program works just fine except from the button that Obviously doesn&#39;t appear;\r\n\r\n    skin = new Skin(Gdx.files.internal(&quot;jsonSkin.json&quot;));\r\n    TextButton btnStart = new TextButton(&quot;Start!!&quot;, skin);\r\n    btnStart.setPosition(50f,400f);\r\n    btnStart.setSize(260f,60f);\r\n    mainMenu.addActor(btnStart);","title":"LibGdx [FATAL EXCEPTION] Loading a skin .json file","body":"<p>I'm using Intellij. Everything was working fine, and the APK is deployed in my Android but it just stays black screen and return to home saying that \"'the game' stopped:</p>\n\n<pre><code>    1023-1051/? E/AndroidRuntime﹕ FATAL EXCEPTION: GLThread 1591\nProcess: net.mygdx.game.android, PID: 1023\ncom.badlogic.gdx.utils.ax: Error reading file: jsonSkin.json\n        at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\n        at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\n        at net.mygdx.game.a.a(Unknown Source)\n        at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\n        at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\n        at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\n Caused by: com.badlogic.gdx.utils.ax: Error reading file: skins/jsonSkin.json\n        at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\n            at org.mygdx.gam.a.a(Unknown Source)\n            at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\n            at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\n            at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\n Caused by: com.badlogic.gdx.utils.ax:\n        at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\n        at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\n        at com.badlogic.gdx.utils.k.a(Unknown Source)\n        at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\n            at net.mygdx.game.a.a(Unknown Source)\n            at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\n            at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\n            at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\n Caused by: com.badlogic.gdx.utils.b.e: Class not found: com.badlogic.gdx.graphics.g2d.BitmapFont\n        at com.badlogic.gdx.utils.b.b.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\n            at net.mygdx.game.a.a(Unknown Source)\n            at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\n            at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\n            at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\n Caused by: java.lang.ClassNotFoundException: com.badlogic.gdx.graphics.g2d.BitmapFont\n        at java.lang.Class.classForName(Native Method)\n        at java.lang.Class.forName(Class.java:251)\n        at java.lang.Class.forName(Class.java:216)\n            at com.badlogic.gdx.utils.b.b.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\n            at net.mygdx.game.a.a(Unknown Source)\n            at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\n            at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\n            at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\n Caused by: java.lang.NoClassDefFoundError: com/badlogic/gdx/graphics/g2d/BitmapFont\n            at java.lang.Class.classForName(Native Method)\n            at java.lang.Class.forName(Class.java:251)\n            at java.lang.Class.forName(Class.java:216)\n            at com.badlogic.gdx.utils.b.b.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\n            at org.mygdx.gam.a.a(Unknown Source)\n            at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\n            at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\n            at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\n Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.badlogic.gdx.graphics.g2d.BitmapFont\" on path: DexPathList[[zip file \"/data/app/org.mygdx.gam.android-1.apk\"],nativeLibraryDirectories=[/data/app-lib/org.mygdx.gam.android-1, /vendor/lib, /system/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:497)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:457)\n            at java.lang.Class.classForName(Native Method)\n            at java.lang.Class.forName(Class.java:251)\n            at java.lang.Class.forName(Class.java:216)\n            at com.badlogic.gdx.utils.b.b.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.k.b(Unknown Source)\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.j.a(Unknown Source)\n            at com.badlogic.gdx.utils.k.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.a(Unknown Source)\n            at com.badlogic.gdx.e.a.a.i.&lt;init&gt;(Unknown Source)\n            at org.mygdx.gam.a.a(Unknown Source)\n            at com.badlogic.gdx.backends.android.i.onSurfaceChanged(Unknown Source)\n            at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1520)\n            at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1248)\n</code></pre>\n\n<p>This on is my .json file;</p>\n\n<pre><code>{\ncom.badlogic.gdx.graphics.g2d.BitmapFont: { default-font: { file: default.fnt } },\ncom.badlogic.gdx.graphics.Color: {\n    green: { a: 1, b: 0, g: 1, r: 0 },\n    white: { a: 1, b: 1, g: 1, r: 1 },\n    red: { a: 1, b: 0, g: 0, r: 1 },\n    black: { a: 1, b: 0, g: 0, r: 0 },\n},\ncom.badlogic.gdx.scenes.scene2d.ui.Skin$TintedDrawable: {\n    dialogDim: { name: white, color: { r: 0, g: 0, b: 0, a: 0.45 } },\n},\ncom.badlogic.gdx.scenes.scene2d.ui.Button$ButtonStyle: {\n    default: { down: default-round-down, up: default-round },\n    toggle: { down: default-round-down, checked: default-round-down, up: default-round }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.TextButton$TextButtonStyle: {\n    default: { down: default-round-down, up: default-round, font: default-font, fontColor: white },\n    toggle: { down: default-round-down, up: default-round, checked: default-round-down, font: default-font, fontColor: white, downFontColor: red }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.ScrollPane$ScrollPaneStyle: {\n    default: { vScroll: default-scroll, hScrollKnob: default-round-large, background: default-rect, hScroll: default-scroll, vScrollKnob: default-round-large }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.SelectBox$SelectBoxStyle: {\n    default: {\n        font: default-font, fontColor: white, background: default-select,\n        scrollStyle: default,\n        listStyle: { font: default-font, selection: default-select-selection }\n    }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.SplitPane$SplitPaneStyle: {\n    default-vertical: { handle: default-splitpane-vertical },\n    default-horizontal: { handle: default-splitpane }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.Window$WindowStyle: {\n    default: { titleFont: default-font, background: default-window, titleFontColor: white },\n    dialog: { titleFont: default-font, background: default-window, titleFontColor: white, stageBackground: dialogDim }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.ProgressBar$ProgressBarStyle: {\n    default-horizontal: { background: default-slider, knob: default-slider-knob },\n    default-vertical: { background: default-slider, knob: default-round-large }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.Slider$SliderStyle: {\n    default-horizontal: { background: default-slider, knob: default-slider-knob },\n    default-vertical: { background: default-slider, knob: default-round-large }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.Label$LabelStyle: {\n    default: { font: default-font, fontColor: white }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.TextField$TextFieldStyle: {\n    default: { selection: selection, background: textfield, font: default-font, fontColor: white, cursor: cursor }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.CheckBox$CheckBoxStyle: {\n    default: { checkboxOn: check-on, checkboxOff: check-off, font: default-font, fontColor: white }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.List$ListStyle: {\n    default: { fontColorUnselected: white, selection: selection, fontColorSelected: white, font: default-font }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.Touchpad$TouchpadStyle: {\n    default: { background: default-pane, knob: default-round-large }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.Tree$TreeStyle: {\n    default: { minus: tree-minus, plus: tree-plus, selection: default-select-selection }\n},\ncom.badlogic.gdx.scenes.scene2d.ui.TextTooltip$TextTooltipStyle: {\n    default: {\n        label: { font: default-font, fontColor: white },\n        background: default-pane, wrapWidth: 150\n    }\n},\n}\n</code></pre>\n\n<p>And these lines are the ones who are weird because if I get rid of them the program works just fine except from the button that Obviously doesn't appear;</p>\n\n<pre><code>skin = new Skin(Gdx.files.internal(\"jsonSkin.json\"));\nTextButton btnStart = new TextButton(\"Start!!\", skin);\nbtnStart.setPosition(50f,400f);\nbtnStart.setSize(260f,60f);\nmainMenu.addActor(btnStart);\n</code></pre>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1685187824,"post_id":76346748,"comment_id":134628540,"body_markdown":"&quot;*Can I enter elements in an array with the help of for-each loop in Java?*&quot; - No.","body":"&quot;<i>Can I enter elements in an array with the help of for-each loop in Java?</i>&quot; - No."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685188085,"post_id":76346748,"comment_id":134628567,"body_markdown":"A for each loop over an array is equivalent to a basic for loop over the indices; it just hides the index. You should just use a basic for loop if you need access to the index.","body":"A for each loop over an array is equivalent to a basic for loop over the indices; it just hides the index. You should just use a basic for loop if you need access to the index."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685187969,"creation_date":1685187969,"answer_id":76346757,"question_id":76346748,"body_markdown":"You can&#39;t update array&#39;s element using `for-each`. This is only for reading.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    int[] marks = new int[3];\r\n\r\n    for (int i = 0; i &lt; marks.length; i++)\r\n        marks[i] = sc.nextInt();\r\n\r\n    for (int ele : marks)\r\n        System.out.print(ele + &quot; &quot;);\r\n}\r\n```","title":"Can I enter elements in an array with the help of for-each loop in Java?","body":"<p>You can't update array's element using <code>for-each</code>. This is only for reading.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    int[] marks = new int[3];\n\n    for (int i = 0; i &lt; marks.length; i++)\n        marks[i] = sc.nextInt();\n\n    for (int ele : marks)\n        System.out.print(ele + &quot; &quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685220494,"creation_date":1685220494,"answer_id":76348970,"question_id":76346748,"body_markdown":"The error is in your first for-loop.  You are assigning _nextInt_ to _ele_.  \r\nRather, the _marks_ array is what you need to assign _ele_ to.\r\n\r\n```java\r\nfor (int ele : marks) {\r\n    ele = sc.nextInt();\r\n}\r\n```\r\n\r\nInstead of a loop, you can just assign the 3 values to their indices.\r\n\r\n```java\r\nmarks[0] = sc.nextInt();\r\nmarks[1] = sc.nextInt();\r\nmarks[2] = sc.nextInt();\r\n```","title":"Can I enter elements in an array with the help of for-each loop in Java?","body":"<p>The error is in your first for-loop.  You are assigning <em>nextInt</em> to <em>ele</em>.<br />\nRather, the <em>marks</em> array is what you need to assign <em>ele</em> to.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int ele : marks) {\n    ele = sc.nextInt();\n}\n</code></pre>\n<p>Instead of a loop, you can just assign the 3 values to their indices.</p>\n<pre class=\"lang-java prettyprint-override\"><code>marks[0] = sc.nextInt();\nmarks[1] = sc.nextInt();\nmarks[2] = sc.nextInt();\n</code></pre>\n"}],"owner":{"account_id":20114671,"reputation":1,"user_id":14750373,"display_name":"sarthak sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685220494,"creation_date":1685187766,"question_id":76346748,"body_markdown":"When i tried to enter values with help of for each loop , it ran fine and it ran for 3 times i.e the size of my array but when i printed values of array elements is prints the default value i.e 0 . Someone explain why this happens. Why can&#39;t I enter values in array with help of for each loop.\r\n\r\nthe code is : \r\n\r\n    import java.util.Scanner;\r\n\r\n        public class JavaArrays {\r\n        public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int marks[] = new int[3];\r\n\r\n       for(int ele: marks){\r\n           ele = sc.nextInt();\r\n       }\r\n\r\n        for (int ele : marks){\r\n            System.out.print(ele+&quot; &quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nthe output is : \r\n\r\n    //. 23 45 100 -&gt; values i entered\r\n    //. 0 0 0 -&gt; values that got printed\r\n\r\nPlease tell my why for each loop is not being able to enter values in the array? I expected output to be 23 45 100","title":"Can I enter elements in an array with the help of for-each loop in Java?","body":"<p>When i tried to enter values with help of for each loop , it ran fine and it ran for 3 times i.e the size of my array but when i printed values of array elements is prints the default value i.e 0 . Someone explain why this happens. Why can't I enter values in array with help of for each loop.</p>\n<p>the code is :</p>\n<pre><code>import java.util.Scanner;\n\n    public class JavaArrays {\n    public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    int marks[] = new int[3];\n\n   for(int ele: marks){\n       ele = sc.nextInt();\n   }\n\n    for (int ele : marks){\n        System.out.print(ele+&quot; &quot;);\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>the output is :</p>\n<pre><code>//. 23 45 100 -&gt; values i entered\n//. 0 0 0 -&gt; values that got printed\n</code></pre>\n<p>Please tell my why for each loop is not being able to enter values in the array? I expected output to be 23 45 100</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1685214314,"post_id":76348547,"comment_id":134631549,"body_markdown":"Do I understand you correctly: One of your dependencies needs version 3.0.1, the other one needs version 2.3.3?","body":"Do I understand you correctly: One of your dependencies needs version 3.0.1, the other one needs version 2.3.3?"},{"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"score":0,"creation_date":1685214354,"post_id":76348547,"comment_id":134631557,"body_markdown":"You are correct","body":"You are correct"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1685214643,"post_id":76348547,"comment_id":134631592,"body_markdown":"That won&#39;t work, you can only install one version of each dependency. You&#39;ll need to up- or downgrade one of you dependencies so both work with 2.3.3 or both work with 3.0.1.","body":"That won&#39;t work, you can only install one version of each dependency. You&#39;ll need to up- or downgrade one of you dependencies so both work with 2.3.3 or both work with 3.0.1."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685217036,"post_id":76348547,"comment_id":134631875,"body_markdown":"I have never used it personally, but perhaps https://imperceptiblethoughts.com/shadow/configuration/relocation/#filtering-relocation could help?","body":"I have never used it personally, but perhaps <a href=\"https://imperceptiblethoughts.com/shadow/configuration/relocation/#filtering-relocation\" rel=\"nofollow noreferrer\">imperceptiblethoughts.com/shadow/configuration/relocation/&hellip;</a> could help?"}],"answers":[{"tags":[],"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685220290,"creation_date":1685219920,"answer_id":76348935,"question_id":76348547,"body_markdown":"You should imagine if we were able to create two files with the same name inside some folder. How should computer handle such situations with naming? How to determine which file consists of which info? What about users ?\r\n\r\nSame applies to the dependencies. Their source and/or compiled byte code already contains classes full names (like hierarchy structure where it is located in the package) \r\n\r\nThe only one solution you can try - make changes in the lib to use needed version of dependency if it&#39;s open source and freely distributed, otherwise to wait official release of supported version","title":"Allowing multiple versions of a transitive gradle dependency","body":"<p>You should imagine if we were able to create two files with the same name inside some folder. How should computer handle such situations with naming? How to determine which file consists of which info? What about users ?</p>\n<p>Same applies to the dependencies. Their source and/or compiled byte code already contains classes full names (like hierarchy structure where it is located in the package)</p>\n<p>The only one solution you can try - make changes in the lib to use needed version of dependency if it's open source and freely distributed, otherwise to wait official release of supported version</p>\n"}],"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685220290,"creation_date":1685213928,"question_id":76348547,"body_markdown":"I&#39;m trying to use a gradle dependency which includes `jakarta.xml.bind-api:3.0.1`. However, I have another dependency which includes `jakarta.xml.bind-api:2.3.3`.\r\n\r\nv3 includes breaking changes, primarily a package rename from `javax` to `jakarta` so each dependency needs to exact bind-api version it links to function - otherwise ClassNotFound errors are thrown.\r\n\r\nIn the dependency graph, gradle is resolving v3 to 2.3.3: `jakarta.xml.bind:jakarta.xml.bind-api:3.0.1 -&gt; 2.3.3`. \r\n\r\nI can&#39;t seem to find any way to resolve this (module resolution, etc).\r\n\r\n","title":"Allowing multiple versions of a transitive gradle dependency","body":"<p>I'm trying to use a gradle dependency which includes <code>jakarta.xml.bind-api:3.0.1</code>. However, I have another dependency which includes <code>jakarta.xml.bind-api:2.3.3</code>.</p>\n<p>v3 includes breaking changes, primarily a package rename from <code>javax</code> to <code>jakarta</code> so each dependency needs to exact bind-api version it links to function - otherwise ClassNotFound errors are thrown.</p>\n<p>In the dependency graph, gradle is resolving v3 to 2.3.3: <code>jakarta.xml.bind:jakarta.xml.bind-api:3.0.1 -&gt; 2.3.3</code>.</p>\n<p>I can't seem to find any way to resolve this (module resolution, etc).</p>\n"},{"tags":["java","eclipse","windows-8.1","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":2181068,"reputation":2129,"user_id":1930552,"accept_rate":81,"display_name":"Musa Haidari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1405507637,"creation_date":1405507637,"answer_id":24778851,"question_id":24524941,"body_markdown":"I fixed the problem by: \r\n \r\n 1. Unistalling the window builder\r\n 2. Downloading the zip package of the new version of the window builder from &lt;a href=&quot;http://eclipse.org/windowbuilder/download.php&quot;&gt;here&lt;/a&gt;.\r\n 3. Then I extracted that and put its extracted directory inside dropins folder of eclipse. \r\n 4. Then restarted eclipse.\r\n\r\nAnd WindowBuilder worked fine.","title":"Design view of Eclipse windowbuilder pugin on Windows 8.1 x64 prompts &quot;Unknown GUI toolkit&quot;","body":"<p>I fixed the problem by: </p>\n\n<ol>\n<li>Unistalling the window builder</li>\n<li>Downloading the zip package of the new version of the window builder from <a href=\"http://eclipse.org/windowbuilder/download.php\" rel=\"nofollow\">here</a>.</li>\n<li>Then I extracted that and put its extracted directory inside dropins folder of eclipse. </li>\n<li>Then restarted eclipse.</li>\n</ol>\n\n<p>And WindowBuilder worked fine.</p>\n"},{"tags":[],"owner":{"account_id":6451830,"reputation":214,"user_id":4998532,"display_name":"MilkyWay"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1434015285,"creation_date":1434015285,"answer_id":30776931,"question_id":24524941,"body_markdown":"You don&#39;t need to reinstall the whole WindowBuilder. Your toolkit was probably SWT, and SWT designer might not come included in your eclipse download. All you need to do is to add SWT designer features to your WindowBuilder from &quot;Install New Software&quot; menu, selecting default Luna installation site, searching for &quot;SWT Designer&quot;.","title":"Design view of Eclipse windowbuilder pugin on Windows 8.1 x64 prompts &quot;Unknown GUI toolkit&quot;","body":"<p>You don't need to reinstall the whole WindowBuilder. Your toolkit was probably SWT, and SWT designer might not come included in your eclipse download. All you need to do is to add SWT designer features to your WindowBuilder from \"Install New Software\" menu, selecting default Luna installation site, searching for \"SWT Designer\".</p>\n"},{"tags":[],"owner":{"account_id":8787744,"reputation":45,"user_id":8312941,"accept_rate":60,"display_name":"Nyako"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542199630,"creation_date":1542199630,"answer_id":53300600,"question_id":24524941,"body_markdown":"What worked for me was getting the jfxswt.jar file and adding it into my library for that project.\r\n\r\nC Drive &gt; Program Files &gt; Java Folder &gt; jdk 1.8 . . .(Version may vary) &gt; jre &gt; lib","title":"Design view of Eclipse windowbuilder pugin on Windows 8.1 x64 prompts &quot;Unknown GUI toolkit&quot;","body":"<p>What worked for me was getting the jfxswt.jar file and adding it into my library for that project.</p>\n\n<p>C Drive > Program Files > Java Folder > jdk 1.8 . . .(Version may vary) > jre > lib</p>\n"},{"tags":[],"owner":{"account_id":20058457,"reputation":1,"user_id":14705666,"display_name":"Rutuja Ashok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606303846,"creation_date":1606300111,"answer_id":65002802,"question_id":24524941,"body_markdown":"I was facing the same problem so I deleted an entire folder of workspace as I was at the initial stage of learning so didn&#39;t have many files in the workspace. Then I uninstalled the WindowBuilder plugin and reinstalled it and created \r\nnew project--&gt;package--&gt;WindowBuilder--&gt;JFrame and it worked for me.","title":"Design view of Eclipse windowbuilder pugin on Windows 8.1 x64 prompts &quot;Unknown GUI toolkit&quot;","body":"<p>I was facing the same problem so I deleted an entire folder of workspace as I was at the initial stage of learning so didn't have many files in the workspace. Then I uninstalled the WindowBuilder plugin and reinstalled it and created\nnew project--&gt;package--&gt;WindowBuilder--&gt;JFrame and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":22249566,"reputation":1,"user_id":16482719,"display_name":"Rohit kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1628506450,"creation_date":1628420478,"answer_id":68700115,"question_id":24524941,"body_markdown":"1. Go to eclipse IDE\r\n2. Click project menu\r\n3. project properties\r\n4. Go to java build path\r\n5. chose module path and add library and choose 1.7 version.","title":"Design view of Eclipse windowbuilder pugin on Windows 8.1 x64 prompts &quot;Unknown GUI toolkit&quot;","body":"<ol>\n<li>Go to eclipse IDE</li>\n<li>Click project menu</li>\n<li>project properties</li>\n<li>Go to java build path</li>\n<li>chose module path and add library and choose 1.7 version.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7263023,"reputation":447,"user_id":5538923,"display_name":"marcor92"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685219176,"creation_date":1685219176,"answer_id":76348896,"question_id":24524941,"body_markdown":"In my case the solution was to add:\r\n\r\n\trequires java.desktop;\r\n\r\nto my module-info.java, as also suggested in another answer, here: https://stackoverflow.com/a/56729553/5538923 .","title":"Design view of Eclipse windowbuilder pugin on Windows 8.1 x64 prompts &quot;Unknown GUI toolkit&quot;","body":"<p>In my case the solution was to add:</p>\n<pre><code>requires java.desktop;\n</code></pre>\n<p>to my module-info.java, as also suggested in another answer, here: <a href=\"https://stackoverflow.com/a/56729553/5538923\">https://stackoverflow.com/a/56729553/5538923</a> .</p>\n"}],"owner":{"account_id":2181068,"reputation":2129,"user_id":1930552,"accept_rate":81,"display_name":"Musa Haidari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23178,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":30776931,"answer_count":6,"score":7,"last_activity_date":1685219176,"creation_date":1404285023,"question_id":24524941,"body_markdown":"I was using Eclipse Kepler Release 1 x64, wiht Java 7 x64 on Windows 4 pro x64 and I had no problems with Eclipse WindowBuilder plugin. But since I upgraded to Windows 8.1 pro x64, WindowBuilder has stopped working. \r\n\r\nFirst the follwoing button is freezed and does not respond to user clicks.\r\n![enter image description here][1]\r\n\r\nAnd if in project explorer I go to some java file that I have already created with WindowBuilder plugin in windows 7 x64, right click on it and choose: *Open with &gt; WindowBuilder Editor*, source code opens fine, but when I switch to *Design* view, I get `Unknown GUI toolkit`.\r\n![enter image description here][2]\r\n\r\nStacktrace:\r\n\r\n\r\n    org.eclipse.wb.internal.core.utils.exception.DesignerException: 103 (Unknown GUI toolkit). guis.UsersAll\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.prepareParseContext(JavaInfoParser.java:1195)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:242)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.access$9(JavaInfoParser.java:238)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:153)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:1)\r\n\tat org.eclipse.wb.internal.core.utils.execution.ExecutionUtils.runDesignTime(ExecutionUtils.java:159)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:151)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:534)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.access$9(DesignPage.java:522)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage$8$1.run(DesignPage.java:449)\r\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:180)\r\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:150)\r\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:4688)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage$8.run(DesignPage.java:446)\r\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:464)\r\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:372)\r\n\tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:507)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF_withProgress(DesignPage.java:465)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:415)\r\n\tat org.eclipse.wb.internal.core.editor.UndoManager.refreshDesignerEditor(UndoManager.java:381)\r\n\tat org.eclipse.wb.internal.core.editor.UndoManager.activate(UndoManager.java:90)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState_True(DesignPage.java:263)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState(DesignPage.java:241)\r\n\tat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode.showPage(DefaultMultiMode.java:125)\r\n\tat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode$1.widgetSelected(DefaultMultiMode.java:63)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1057)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1081)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:778)\r\n\tat org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3080)\r\n\tat org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1772)\r\n\tat org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:279)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1057)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4170)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3759)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1113)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:997)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:138)\r\n\tat org.eclipse.ui.internal.Workbench$5.run(Workbench.java:610)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:567)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1450)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1426)\r\n\r\n \r\nSo can anyone tell me how to get WindowBuilder work on Eclipse on Windows 8.1 pro x64?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lMPgF.png\r\n  [2]: http://i.stack.imgur.com/wKU3I.png","title":"Design view of Eclipse windowbuilder pugin on Windows 8.1 x64 prompts &quot;Unknown GUI toolkit&quot;","body":"<p>I was using Eclipse Kepler Release 1 x64, wiht Java 7 x64 on Windows 4 pro x64 and I had no problems with Eclipse WindowBuilder plugin. But since I upgraded to Windows 8.1 pro x64, WindowBuilder has stopped working. </p>\n\n<p>First the follwoing button is freezed and does not respond to user clicks.\n<img src=\"https://i.stack.imgur.com/lMPgF.png\" alt=\"enter image description here\"></p>\n\n<p>And if in project explorer I go to some java file that I have already created with WindowBuilder plugin in windows 7 x64, right click on it and choose: <em>Open with > WindowBuilder Editor</em>, source code opens fine, but when I switch to <em>Design</em> view, I get <code>Unknown GUI toolkit</code>.\n<img src=\"https://i.stack.imgur.com/wKU3I.png\" alt=\"enter image description here\"></p>\n\n<p>Stacktrace:</p>\n\n<pre><code>org.eclipse.wb.internal.core.utils.exception.DesignerException: 103 (Unknown GUI toolkit). guis.UsersAll\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.prepareParseContext(JavaInfoParser.java:1195)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:242)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.access$9(JavaInfoParser.java:238)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:153)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:1)\nat org.eclipse.wb.internal.core.utils.execution.ExecutionUtils.runDesignTime(ExecutionUtils.java:159)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:151)\nat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:534)\nat org.eclipse.wb.internal.core.editor.DesignPage.access$9(DesignPage.java:522)\nat org.eclipse.wb.internal.core.editor.DesignPage$8$1.run(DesignPage.java:449)\nat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:180)\nat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:150)\nat org.eclipse.swt.widgets.Display.syncExec(Display.java:4688)\nat org.eclipse.wb.internal.core.editor.DesignPage$8.run(DesignPage.java:446)\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:464)\nat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:372)\nat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:507)\nat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF_withProgress(DesignPage.java:465)\nat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:415)\nat org.eclipse.wb.internal.core.editor.UndoManager.refreshDesignerEditor(UndoManager.java:381)\nat org.eclipse.wb.internal.core.editor.UndoManager.activate(UndoManager.java:90)\nat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState_True(DesignPage.java:263)\nat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState(DesignPage.java:241)\nat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode.showPage(DefaultMultiMode.java:125)\nat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode$1.widgetSelected(DefaultMultiMode.java:63)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1057)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1081)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\nat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:778)\nat org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3080)\nat org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1772)\nat org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:279)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1057)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4170)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3759)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1113)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:997)\nat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:138)\nat org.eclipse.ui.internal.Workbench$5.run(Workbench.java:610)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:567)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1450)\nat org.eclipse.equinox.launcher.Main.main(Main.java:1426)\n</code></pre>\n\n<p>So can anyone tell me how to get WindowBuilder work on Eclipse on Windows 8.1 pro x64?</p>\n"},{"tags":["java","linux","docker","tomcat","google-cloud-run"],"comments":[{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1684120601,"post_id":76250597,"comment_id":134464995,"body_markdown":"Your deploy command specifies port 80 but the default for Catalina is 8000. https://github.com/apache/tomcat/blob/main/bin/catalina.sh","body":"Your deploy command specifies port 80 but the default for Catalina is 8000. <a href=\"https://github.com/apache/tomcat/blob/main/bin/catalina.sh\" rel=\"nofollow noreferrer\">github.com/apache/tomcat/blob/main/bin/catalina.sh</a>"},{"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"score":0,"creation_date":1684120900,"post_id":76250597,"comment_id":134465022,"body_markdown":"In my server.xml i have updated default port to 80. &quot; &lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot;\n\t    connectionTimeout=&quot;20000&quot;\n\t    useSendfile=&quot;false&quot;\n\t                compression=&quot;on&quot;\n\t\t\t            compressionMinSize=&quot;2048&quot;\n\t\t\t\t               noCompressionUserAgents=&quot;gozilla, traviata&quot;\n\t\t\t\t\t\t          compressableMimeType=&quot;text/html,text/xml,text/plain,text/css&quot;&quot;&gt;.          I am able to run the same on VM with PORT 80.","body":"In my server.xml i have updated default port to 80. &quot; &lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot; \t    connectionTimeout=&quot;20000&quot; \t    useSendfile=&quot;false&quot; \t                compression=&quot;on&quot; \t\t\t            compressionMinSize=&quot;2048&quot; \t\t\t\t               noCompressionUserAgents=&quot;gozilla, traviata&quot; \t\t\t\t\t\t          compressableMimeType=&quot;text/html,text/xml,text/plain,text/css&zwnj;&#8203;&quot;&quot;&gt;.          I am able to run the same on VM with PORT 80."},{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1684132277,"post_id":76250597,"comment_id":134466126,"body_markdown":"Have you tried enabling `firewall` as discussed [here](https://stackoverflow.com/a/45021525/18265570)?","body":"Have you tried enabling <code>firewall</code> as discussed <a href=\"https://stackoverflow.com/a/45021525/18265570\">here</a>?"},{"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"score":0,"creation_date":1684135148,"post_id":76250597,"comment_id":134466641,"body_markdown":"The link discuss the issue with tomcat on VM. My question is related to Google cloud run which is expected to support docker container. On the referred link it seems root cause was tomcat taking too long to start. But, on my local VM tomcat is in start status in approx. 23 seconds.  On google cloud run i have tried with the option to enable &quot;Use HTTP/2 end-to-end&quot;. However, the result is same.  Referring back to log details. I could see the following text &quot;Tomcat started&quot;. It is then followed by &quot;Container called exit(0)&quot;. There is nothing in the logs on why container crash.","body":"The link discuss the issue with tomcat on VM. My question is related to Google cloud run which is expected to support docker container. On the referred link it seems root cause was tomcat taking too long to start. But, on my local VM tomcat is in start status in approx. 23 seconds.  On google cloud run i have tried with the option to enable &quot;Use HTTP/2 end-to-end&quot;. However, the result is same.  Referring back to log details. I could see the following text &quot;Tomcat started&quot;. It is then followed by &quot;Container called exit(0)&quot;. There is nothing in the logs on why container crash."}],"answers":[{"tags":[],"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684137388,"creation_date":1684137388,"answer_id":76251969,"question_id":76250597,"body_markdown":"This could be due to bug in `gcloud`. It has been fixed in the [latest release][1]. Try updating to latest version by using below command\r\n\r\n```\r\ngcloud components update\r\n```\r\n\r\nIf this still doesn’t work, You could use the following flag `--format=export` in the command `gcloud run services describe --format=export &lt;SERVICE-NAME&gt;`\r\nwhich would return the `YAML` file containing the configuration of the `Cloud Run` service. On this file you would have to change manually the fields “containerPort” and the “port” variable under “tcpSocket” in “startupProbe”.\r\n\r\nOnce you have the YAML properly configured you can use the following command to update the configuration of the service, effectively changing the port.\r\n\r\n\r\n[```gcloud run services replace &lt;yaml-file&gt;```][2]\r\n\r\n\r\n\r\n  [1]: https://cloud.google.com/sdk/docs/release-notes#cloud_run\r\n  [2]: https://cloud.google.com/sdk/gcloud/reference/run/services/replace","title":"Google cloud run error &quot;The user-provided container failed to start and listen on the port defined provided by the PORT=80 environment variable&quot;","body":"<p>This could be due to bug in <code>gcloud</code>. It has been fixed in the <a href=\"https://cloud.google.com/sdk/docs/release-notes#cloud_run\" rel=\"nofollow noreferrer\">latest release</a>. Try updating to latest version by using below command</p>\n<pre><code>gcloud components update\n</code></pre>\n<p>If this still doesn’t work, You could use the following flag <code>--format=export</code> in the command <code>gcloud run services describe --format=export &lt;SERVICE-NAME&gt;</code>\nwhich would return the <code>YAML</code> file containing the configuration of the <code>Cloud Run</code> service. On this file you would have to change manually the fields “containerPort” and the “port” variable under “tcpSocket” in “startupProbe”.</p>\n<p>Once you have the YAML properly configured you can use the following command to update the configuration of the service, effectively changing the port.</p>\n<p><a href=\"https://cloud.google.com/sdk/gcloud/reference/run/services/replace\" rel=\"nofollow noreferrer\"><code>gcloud run services replace &lt;yaml-file&gt;</code></a></p>\n"},{"tags":[],"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685218032,"creation_date":1685218032,"answer_id":76348830,"question_id":76250597,"body_markdown":"The following combination worked on Google Cloud run.\r\n\r\n     1. openjdk version &quot;11.0.18&quot;  \r\n     2. apache-tomcat-10.1.8\r\n\r\nPlease note i was required to implement some additional steps for my app to migrate from 9.0.75 to 10.1.8. These are trivial changes to migrate from tomcat 9.x to 10.x. &lt;br&gt;\r\nSSL Connector needs an explicit tag  for SSLHostconfig\r\n\r\n \r\n\r\n        &lt;SSLHostConfig hostName=&quot;test.test&quot;\r\n                           protocols=&quot;TLSv1.2&quot;&gt;\r\n                &lt;Certificate certificateFile=&quot;/etc/letsencrypt/archive/miniimagesvideos.com/cert2.pem&quot;                  certificateKeyFile=&quot;/etc/letsencrypt/archive/miniimagesvideos.com/privkey2.pem&quot;              certificateChainFile=&quot;/etc/letsencrypt/archive/miniimagesvideos.com/chain2.pem&quot; /&gt;\r\n            &lt;/SSLHostConfig&gt;\r\n      &lt;/Connector&gt;\r\n\r\nIn the context.xml the following needs to be added\r\n\r\n    &lt;Loader jakartaConverter=&quot;TOMCAT&quot; /&gt; \r\n\r\n**Conclusion**\r\nAfter multiple troubleshooting, i could reach to the following conclusion\r\n\r\n 1. Google cloud run execute Catalina.sh in a manner that the tomcat is running the background. Log indicate &quot;Tomcat Started&quot; and then there is another log of &quot;container exited&quot;.\r\n\r\n 2. However, for 10.X version tomcat is kicked off as a foreground process.","title":"Google cloud run error &quot;The user-provided container failed to start and listen on the port defined provided by the PORT=80 environment variable&quot;","body":"<p>The following combination worked on Google Cloud run.</p>\n<pre><code> 1. openjdk version &quot;11.0.18&quot;  \n 2. apache-tomcat-10.1.8\n</code></pre>\n<p>Please note i was required to implement some additional steps for my app to migrate from 9.0.75 to 10.1.8. These are trivial changes to migrate from tomcat 9.x to 10.x. <br>\nSSL Connector needs an explicit tag  for SSLHostconfig</p>\n<pre><code>    &lt;SSLHostConfig hostName=&quot;test.test&quot;\n                       protocols=&quot;TLSv1.2&quot;&gt;\n            &lt;Certificate certificateFile=&quot;/etc/letsencrypt/archive/miniimagesvideos.com/cert2.pem&quot;                  certificateKeyFile=&quot;/etc/letsencrypt/archive/miniimagesvideos.com/privkey2.pem&quot;              certificateChainFile=&quot;/etc/letsencrypt/archive/miniimagesvideos.com/chain2.pem&quot; /&gt;\n        &lt;/SSLHostConfig&gt;\n  &lt;/Connector&gt;\n</code></pre>\n<p>In the context.xml the following needs to be added</p>\n<pre><code>&lt;Loader jakartaConverter=&quot;TOMCAT&quot; /&gt; \n</code></pre>\n<p><strong>Conclusion</strong>\nAfter multiple troubleshooting, i could reach to the following conclusion</p>\n<ol>\n<li><p>Google cloud run execute Catalina.sh in a manner that the tomcat is running the background. Log indicate &quot;Tomcat Started&quot; and then there is another log of &quot;container exited&quot;.</p>\n</li>\n<li><p>However, for 10.X version tomcat is kicked off as a foreground process.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76348830,"answer_count":2,"score":1,"last_activity_date":1685218032,"creation_date":1684118980,"question_id":76250597,"body_markdown":"I have build my application using the docker file on google gcp. I am trying to run my web application build/run on tomcat.\r\n\r\n*from ubuntu &lt;br&gt;\r\nCOPY /mnt/opt/apache-tomcat-9.0.5/ /mnt/opt/apache-tomcat-9.0.5/ &lt;br&gt;\r\nRUN apt update &lt;br&gt;\r\nCOPY cronjob /etc/cron.d/cronjob &lt;br&gt;\r\nRUN chmod 0644 /etc/cron.d/cronjob &lt;br&gt;\r\nRUN crontab /etc/cron.d/cronjob &lt;br&gt;\r\nENV CATALINA_HOME /mnt/opt/apache-tomcat-9.0.5 &lt;br&gt;\r\nENV PATH $CATALINA_HOME/bin:$PATH &lt;br&gt;\r\nENV PATH /mnt/opt/java/jdk-10.0.1/bin:$PATH &lt;br&gt;\r\nENV PORT 80 &lt;br&gt;\r\nENV HOST 0.0.0.0 &lt;br&gt;\r\nEXPOSE 80 443  &lt;br&gt;\r\nCMD /mnt/opt/apache-tomcat-9.0.5/bin/catalina.sh run &lt;br&gt;\r\n#ENTRYPOINT [&quot;/mnt/opt/apache-tomcat-9.0.5/bin/catalina.sh&quot;, &quot;run&quot;]*\r\n\r\nUsing the following approach to deploy on google cloud run.\r\n\r\n*docker tag miniimagesvideos gcr.io/serious-bearing-358305/miniimagesvideos &lt;br&gt; docker push gcr.io/serious-bearing-358305/miniimagesvideos  &lt;br&gt; gcloud run deploy --image=gcr.io/serious-bearing-358305/miniimagesvideos   --port=80 --region=asia-southeast2 --allow-unauthenticated  platform=managed   --command=/mnt/opt/apache-tomcat-9.0.5/bin/catalina.sh*\r\n\r\nI keep getting error mentioned in the subject line\r\n\r\n 1. I looked at the logs and there is no additional information.\r\n 2. As per the troubleshooting steps mentioned by Google document all the requirement seems to be ok. I am able to run my application successfully on Google cloud VM. The application is build on 64 bit.\r\n 3. I have tried multiple options like using the --command, port, host parameter while trying to deploy.\r\n 4. I have tried to use CMD, instead of ENTRYPOINT in dockerfile. However, the result remains the same. I have tried to invoke tomcat using startup.sh vs Catalina.sh. But the outcome remains the same.\r\n 5. I have tried to deploy the application from GUI, but the same error comes up.\r\n\r\nIt seem container shuts down immediately while trying to deploy on Google Cloud run. Whereas, there is no issue while trying to run docker container on a Google VM. \r\nIs there any additional configuration required for Google cloud run. Why tomcat is not able to run on Google cloud run?\r\n","title":"Google cloud run error &quot;The user-provided container failed to start and listen on the port defined provided by the PORT=80 environment variable&quot;","body":"<p>I have build my application using the docker file on google gcp. I am trying to run my web application build/run on tomcat.</p>\n<p><em>from ubuntu <br>\nCOPY /mnt/opt/apache-tomcat-9.0.5/ /mnt/opt/apache-tomcat-9.0.5/ <br>\nRUN apt update <br>\nCOPY cronjob /etc/cron.d/cronjob <br>\nRUN chmod 0644 /etc/cron.d/cronjob <br>\nRUN crontab /etc/cron.d/cronjob <br>\nENV CATALINA_HOME /mnt/opt/apache-tomcat-9.0.5 <br>\nENV PATH $CATALINA_HOME/bin:$PATH <br>\nENV PATH /mnt/opt/java/jdk-10.0.1/bin:$PATH <br>\nENV PORT 80 <br>\nENV HOST 0.0.0.0 <br>\nEXPOSE 80 443  <br>\nCMD /mnt/opt/apache-tomcat-9.0.5/bin/catalina.sh run <br>\n#ENTRYPOINT [&quot;/mnt/opt/apache-tomcat-9.0.5/bin/catalina.sh&quot;, &quot;run&quot;]</em></p>\n<p>Using the following approach to deploy on google cloud run.</p>\n<p><em>docker tag miniimagesvideos gcr.io/serious-bearing-358305/miniimagesvideos <br> docker push gcr.io/serious-bearing-358305/miniimagesvideos  <br> gcloud run deploy --image=gcr.io/serious-bearing-358305/miniimagesvideos   --port=80 --region=asia-southeast2 --allow-unauthenticated  platform=managed   --command=/mnt/opt/apache-tomcat-9.0.5/bin/catalina.sh</em></p>\n<p>I keep getting error mentioned in the subject line</p>\n<ol>\n<li>I looked at the logs and there is no additional information.</li>\n<li>As per the troubleshooting steps mentioned by Google document all the requirement seems to be ok. I am able to run my application successfully on Google cloud VM. The application is build on 64 bit.</li>\n<li>I have tried multiple options like using the --command, port, host parameter while trying to deploy.</li>\n<li>I have tried to use CMD, instead of ENTRYPOINT in dockerfile. However, the result remains the same. I have tried to invoke tomcat using startup.sh vs Catalina.sh. But the outcome remains the same.</li>\n<li>I have tried to deploy the application from GUI, but the same error comes up.</li>\n</ol>\n<p>It seem container shuts down immediately while trying to deploy on Google Cloud run. Whereas, there is no issue while trying to run docker container on a Google VM.\nIs there any additional configuration required for Google cloud run. Why tomcat is not able to run on Google cloud run?</p>\n"},{"tags":["java","https","jetty","http3","jetty-11"],"comments":[{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1698668377,"post_id":76337210,"comment_id":136430372,"body_markdown":"Do you have http/3 working?","body":"Do you have http/3 working?"},{"owner":{"account_id":67096,"reputation":24787,"user_id":196507,"accept_rate":90,"display_name":"lepe"},"score":0,"creation_date":1698713843,"post_id":76337210,"comment_id":136437583,"body_markdown":"@Horcrux7 I haven&#39;t tried again recently, but I believe it is not ready yet. If you find a way to do it, let me know.","body":"@Horcrux7 I haven&#39;t tried again recently, but I believe it is not ready yet. If you find a way to do it, let me know."}],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17217,"user_id":1215076,"display_name":"sbordet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685216835,"creation_date":1685216835,"answer_id":76348759,"question_id":76337210,"body_markdown":"I&#39;m afraid it is much more complicated than that, unfortunately.\r\n\r\nJetty&#39;s `HTTP3Client` can communicate with HTTP/3 servers such as Google and others.\r\nIn the same way, Jetty&#39;s `HTTP3Client` can communicate with Jetty&#39;s HTTP/3 server.\r\nBecause Jetty&#39;s implementation of HTTP/3 is shared between client and server, one would think it is a breeze to make a browser talk to a Jetty HTTP/3 server.\r\n\r\nHowever, each browser has a secret sauce that (to my knowledge) needs to be reverse engineered, and each sauce is different.\r\n\r\nFor example, it is quite common that browsers refuse self-signed certificates, so your server must have a CA-signed certificate for a legit domain in order to work with a browser.\r\n\r\nFurthermore, it is also common that browsers do not allow HTTP/3 communication other than on port 443, so you must start your server with admin/root privileges.\r\nWe also believe that the strength of the ciphers negotiated plays a role.\r\n\r\nThere&#39;s more: browser do not establish a first direct communication via QUIC.\r\nThey first try HTTP/2, and if the server announces support for HTTP/3, then the browser may switch to use HTTP/3.\r\nHowever, it is unclear what is exactly the policy to switch, for example whether a [HTTP/2 ALTSVC][1] frame is necessary, or the `Alt-Svc` header is enough, or if both are required.\r\n\r\nBottom line, it is going to be a daunting task, and even if the secret is unveiled for one browser, it may not work for other browsers.\r\n\r\nThe Jetty team is committed to discover and document at least 1 secret sauce, but so far we have been unsuccessful.\r\n\r\nI for one would be very happy if someone knowing a browser&#39;s secret sauce would share it, but the information out there seems sparse and often outdated.\r\nWe will insist and find it, eventually.\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc7838","title":"HTTP/3 Server using Jetty 11 not responding","body":"<p>I'm afraid it is much more complicated than that, unfortunately.</p>\n<p>Jetty's <code>HTTP3Client</code> can communicate with HTTP/3 servers such as Google and others.\nIn the same way, Jetty's <code>HTTP3Client</code> can communicate with Jetty's HTTP/3 server.\nBecause Jetty's implementation of HTTP/3 is shared between client and server, one would think it is a breeze to make a browser talk to a Jetty HTTP/3 server.</p>\n<p>However, each browser has a secret sauce that (to my knowledge) needs to be reverse engineered, and each sauce is different.</p>\n<p>For example, it is quite common that browsers refuse self-signed certificates, so your server must have a CA-signed certificate for a legit domain in order to work with a browser.</p>\n<p>Furthermore, it is also common that browsers do not allow HTTP/3 communication other than on port 443, so you must start your server with admin/root privileges.\nWe also believe that the strength of the ciphers negotiated plays a role.</p>\n<p>There's more: browser do not establish a first direct communication via QUIC.\nThey first try HTTP/2, and if the server announces support for HTTP/3, then the browser may switch to use HTTP/3.\nHowever, it is unclear what is exactly the policy to switch, for example whether a <a href=\"https://datatracker.ietf.org/doc/html/rfc7838\" rel=\"nofollow noreferrer\">HTTP/2 ALTSVC</a> frame is necessary, or the <code>Alt-Svc</code> header is enough, or if both are required.</p>\n<p>Bottom line, it is going to be a daunting task, and even if the secret is unveiled for one browser, it may not work for other browsers.</p>\n<p>The Jetty team is committed to discover and document at least 1 secret sauce, but so far we have been unsuccessful.</p>\n<p>I for one would be very happy if someone knowing a browser's secret sauce would share it, but the information out there seems sparse and often outdated.\nWe will insist and find it, eventually.</p>\n"}],"owner":{"account_id":67096,"reputation":24787,"user_id":196507,"accept_rate":90,"display_name":"lepe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76348759,"answer_count":1,"score":4,"last_activity_date":1685216835,"creation_date":1685066408,"question_id":76337210,"body_markdown":"I&#39;m trying to implement a HTTP/3 test server using Jetty 11 with Java 11 (as experiment). I&#39;m following the code [in the documentation](https://www.eclipse.org/jetty/documentation/jetty-10/programming-guide/index.html#pg-server-http-connector-protocol-http3):\r\n\r\n```java\r\npublic class HTTP3Server {\r\n    public static void main(String[] args) {\r\n        Server server = new Server();\r\n\r\n        // The SSL Context\r\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\r\n        sslContextFactory.setKeyStorePath(&quot;/etc/java/keystore.jks&quot;);\r\n        sslContextFactory.setKeyStorePassword(&quot;password&quot;);\r\n\r\n        // The HTTP configuration object\r\n        HttpConfiguration httpConfig = new HttpConfiguration();\r\n        SecureRequestCustomizer src = new SecureRequestCustomizer();\r\n        src.setSniHostCheck(false);\r\n        httpConfig.addCustomizer(src);\r\n\r\n        // Create and configure the HTTP/3 connector.\r\n        HTTP3ServerConnectionFactory h3Factory = new HTTP3ServerConnectionFactory(httpConfig);\r\n        HTTP3ServerConnector connector = new HTTP3ServerConnector(server, sslContextFactory, h3Factory);\r\n        connector.setPort(3443);\r\n        server.addConnector(connector);\r\n\r\n        // Create and configure a ResourceHandler.\r\n        ResourceHandler handler = new ResourceHandler();\r\n\r\n        // Configure the directory where static resources are located.\r\n        handler.setBaseResource(Resource.newResource(&quot;/var/www/&quot;));\r\n\r\n        // Configure directory listing.\r\n        handler.setDirectoriesListed(false);\r\n\r\n        // Configure welcome files.\r\n        handler.setWelcomeFiles(new String[]{&quot;index.html&quot;});\r\n\r\n        // Configure whether to accept range requests.\r\n        handler.setAcceptRanges(true);\r\n        server.setHandler(handler);\r\n\r\n        // Start server\r\n        server.start();\r\n    }\r\n}\r\n```\r\n\r\n * The keystore works fine when used in HTTP/1.1 or HTTP/2 (do I need to do anything different for HTTP/3 here?).\r\n * `/var/www/index.html` exists.\r\n * The server is launched without warnings or errors:\r\n\r\n```\r\n2023-05-25 10:31:06.305:INFO :oejs.Server:main: jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 11.0.19+7-post-Ubuntu-0ubuntu122.04.1\r\n2023-05-25 10:31:06.338:INFO :oejhs.HTTP3ServerConnector:main: HTTP/3+QUIC support is experimental and not suited for production use.\r\n2023-05-25 10:31:06.623:INFO :oejus.SslContextFactory:main: x509=X509@4af0df05(localhost,h=[icl test],a=[],w=[]) for Server@674bd420[provider=null,keyStore=file:///etc/java/keystore.jks,trustStore=null]\r\n2023-05-25 10:31:06.661:INFO :oejs.AbstractConnector:main: Started HTTP3ServerConnector@4bd31064{h3, (h3)}{0.0.0.0:3443}\r\n2023-05-25 10:31:06.733:INFO :oejs.Server:main: Started Server@30c93896{STARTING}[11.0.15,sto=0] @1189ms\r\n```\r\n* The UDP port 3443 seems open (while TCP port 3443 is closed):\r\n```\r\nPORT     STATE         SERVICE\r\n3443/udp open|filtered ov-nnm-websrv\r\n```\r\nI&#39;m not sure if that is expected or not.\r\n\r\n* Finally, opening https://localhost:3443/ in Chrome fails as if it doesn&#39;t exists (no activity is registered in the server logs).\r\n\r\nWhat do I need to do to make it work?\r\n","title":"HTTP/3 Server using Jetty 11 not responding","body":"<p>I'm trying to implement a HTTP/3 test server using Jetty 11 with Java 11 (as experiment). I'm following the code <a href=\"https://www.eclipse.org/jetty/documentation/jetty-10/programming-guide/index.html#pg-server-http-connector-protocol-http3\" rel=\"nofollow noreferrer\">in the documentation</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HTTP3Server {\n    public static void main(String[] args) {\n        Server server = new Server();\n\n        // The SSL Context\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\n        sslContextFactory.setKeyStorePath(&quot;/etc/java/keystore.jks&quot;);\n        sslContextFactory.setKeyStorePassword(&quot;password&quot;);\n\n        // The HTTP configuration object\n        HttpConfiguration httpConfig = new HttpConfiguration();\n        SecureRequestCustomizer src = new SecureRequestCustomizer();\n        src.setSniHostCheck(false);\n        httpConfig.addCustomizer(src);\n\n        // Create and configure the HTTP/3 connector.\n        HTTP3ServerConnectionFactory h3Factory = new HTTP3ServerConnectionFactory(httpConfig);\n        HTTP3ServerConnector connector = new HTTP3ServerConnector(server, sslContextFactory, h3Factory);\n        connector.setPort(3443);\n        server.addConnector(connector);\n\n        // Create and configure a ResourceHandler.\n        ResourceHandler handler = new ResourceHandler();\n\n        // Configure the directory where static resources are located.\n        handler.setBaseResource(Resource.newResource(&quot;/var/www/&quot;));\n\n        // Configure directory listing.\n        handler.setDirectoriesListed(false);\n\n        // Configure welcome files.\n        handler.setWelcomeFiles(new String[]{&quot;index.html&quot;});\n\n        // Configure whether to accept range requests.\n        handler.setAcceptRanges(true);\n        server.setHandler(handler);\n\n        // Start server\n        server.start();\n    }\n}\n</code></pre>\n<ul>\n<li>The keystore works fine when used in HTTP/1.1 or HTTP/2 (do I need to do anything different for HTTP/3 here?).</li>\n<li><code>/var/www/index.html</code> exists.</li>\n<li>The server is launched without warnings or errors:</li>\n</ul>\n<pre><code>2023-05-25 10:31:06.305:INFO :oejs.Server:main: jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 11.0.19+7-post-Ubuntu-0ubuntu122.04.1\n2023-05-25 10:31:06.338:INFO :oejhs.HTTP3ServerConnector:main: HTTP/3+QUIC support is experimental and not suited for production use.\n2023-05-25 10:31:06.623:INFO :oejus.SslContextFactory:main: x509=X509@4af0df05(localhost,h=[icl test],a=[],w=[]) for Server@674bd420[provider=null,keyStore=file:///etc/java/keystore.jks,trustStore=null]\n2023-05-25 10:31:06.661:INFO :oejs.AbstractConnector:main: Started HTTP3ServerConnector@4bd31064{h3, (h3)}{0.0.0.0:3443}\n2023-05-25 10:31:06.733:INFO :oejs.Server:main: Started Server@30c93896{STARTING}[11.0.15,sto=0] @1189ms\n</code></pre>\n<ul>\n<li>The UDP port 3443 seems open (while TCP port 3443 is closed):</li>\n</ul>\n<pre><code>PORT     STATE         SERVICE\n3443/udp open|filtered ov-nnm-websrv\n</code></pre>\n<p>I'm not sure if that is expected or not.</p>\n<ul>\n<li>Finally, opening https://localhost:3443/ in Chrome fails as if it doesn't exists (no activity is registered in the server logs).</li>\n</ul>\n<p>What do I need to do to make it work?</p>\n"},{"tags":["java","string","javafx","encoding","character-encoding"],"comments":[{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":1,"creation_date":1567693891,"post_id":57807708,"comment_id":102047103,"body_markdown":"This solution is horrible, remove it entirely. &quot;I see strange characters&quot; -&gt; be more specific, and let&#39;s figure out where is the encoding problem, then eliminate the encoding problem rather than try to clean after it.","body":"This solution is horrible, remove it entirely. &quot;I see strange characters&quot; -&gt; be more specific, and let&#39;s figure out where is the encoding problem, then eliminate the encoding problem rather than try to clean after it."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1567694864,"post_id":57807708,"comment_id":102047655,"body_markdown":"Your `getUTF` method is unnecessary and probably actively harmful. A `String` is already a decoded character sequence. You only need to worry about encoding when actually converting a character sequence into bytes and vice versa; for instance, when reading from, or writing to, an external location (e.g. file, network, etc.). Note that if you have a string literal in your Java source code make sure both the source file and `javac` are using the appropriate encoding (see Joop&#39;s answer).","body":"Your <code>getUTF</code> method is unnecessary and probably actively harmful. A <code>String</code> is already a decoded character sequence. You only need to worry about encoding when actually converting a character sequence into bytes and vice versa; for instance, when reading from, or writing to, an external location (e.g. file, network, etc.). Note that if you have a string literal in your Java source code make sure both the source file and <code>javac</code> are using the appropriate encoding (see Joop&#39;s answer)."},{"owner":{"account_id":7518837,"reputation":222,"user_id":10095065,"display_name":"Ali Majed HA"},"score":0,"creation_date":1567694965,"post_id":57807708,"comment_id":102047711,"body_markdown":"@Slaw How should I check if source file and `javac` are using the appropriate encoding. I am using IntelliJ.","body":"@Slaw How should I check if source file and <code>javac</code> are using the appropriate encoding. I am using IntelliJ."},{"owner":{"account_id":2567288,"reputation":20405,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1567736756,"post_id":57807708,"comment_id":102061096,"body_markdown":"Note: Text datatypes (`String`, `char`) in Java (and JavaScript, .NET, VB4/5/6, …) are counted sequences of UTF-16 code units. UTF-16 is a character encoding for the Unicode character set. So the code you found, taken naturally, makes no sense. (With appropriate comments and naming, it could be used to untwist a very twisted encoding scheme.)","body":"Note: Text datatypes (<code>String</code>, <code>char</code>) in Java (and JavaScript, .NET, VB4/5/6, …) are counted sequences of UTF-16 code units. UTF-16 is a character encoding for the Unicode character set. So the code you found, taken naturally, makes no sense. (With appropriate comments and naming, it could be used to untwist a very twisted encoding scheme.)"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1567694213,"creation_date":1567694213,"answer_id":57807845,"question_id":57807708,"body_markdown":"For hard coded string literals you need to tell the javac compiler to use the same encoding as the java source, say **UTF-8**. Check the IDE / build settings. You can u-escape some Farsi symbols,\r\n`\\u062f` for Dal, `د`. If the escaped characters come thru correctly, the compiler uses the wrong encoding.\r\n\r\n`String` will always contain Unicode, no `new String`s with hacking reconversion needed.\r\n\r\nReading files with text, one needs to convert those bytes (byte/InputStream) to java text (String/Reader) specifying the _encoding_ of those bytes.","title":"Encoding string doesn&#39;t work properly in java","body":"<p>For hard coded string literals you need to tell the javac compiler to use the same encoding as the java source, say <strong>UTF-8</strong>. Check the IDE / build settings. You can u-escape some Farsi symbols,\n<code>\\u062f</code> for Dal, <code>د</code>. If the escaped characters come thru correctly, the compiler uses the wrong encoding.</p>\n\n<p><code>String</code> will always contain Unicode, no <code>new String</code>s with hacking reconversion needed.</p>\n\n<p>Reading files with text, one needs to convert those bytes (byte/InputStream) to java text (String/Reader) specifying the <em>encoding</em> of those bytes.</p>\n"},{"tags":[],"owner":{"account_id":19485502,"reputation":26,"user_id":14254956,"display_name":"Rey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685215577,"creation_date":1685215577,"answer_id":76348671,"question_id":57807708,"body_markdown":"If someone would have problem with Polish characters, check if POM has \r\n\r\n     &lt;properties&gt;\r\n       &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n       ...\r\n     &lt;/properties&gt;","title":"Encoding string doesn&#39;t work properly in java","body":"<p>If someone would have problem with Polish characters, check if POM has</p>\n<pre><code> &lt;properties&gt;\n   &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n   ...\n &lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":7518837,"reputation":222,"user_id":10095065,"display_name":"Ali Majed HA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57807845,"answer_count":2,"score":1,"last_activity_date":1685215577,"creation_date":1567693740,"question_id":57807708,"body_markdown":"I am developing a JavaFX application. I need to create a `TreeView` programmatically using Persian language as it&#39;s nodes&#39; name.  \r\nThe problem is I see strange characters when I run the application. I have searched through the web and SO same questions. I code a function to do the encoding based on the answers to same question:\r\n\r\n    public static String getUTF(String encodeString) {\r\n            return new String(encodeString.getBytes(StandardCharsets.ISO_8859_1),\r\n                             StandardCharsets.UTF_8);\r\n    }\r\n\r\nAnd I use it to convert my string to build the `TreeView`:\r\n\r\n    CheckBoxTreeItem&lt;String&gt; userManagement = \r\n                 new CheckBoxTreeItem&lt;&gt;(GlobalItems.getUTF(&quot;کاربران&quot;));\r\n\r\nThis answer dowsn&#39;t work properly for some characters:  \r\n\r\n[![enter image description here][1]][1]  \r\n\r\nI still get strange results. If I don&#39;t use encoding, I get:  \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qBAtF.png\r\n  [2]: https://i.stack.imgur.com/FIkwA.png","title":"Encoding string doesn&#39;t work properly in java","body":"<p>I am developing a JavaFX application. I need to create a <code>TreeView</code> programmatically using Persian language as it's nodes' name.<br>\nThe problem is I see strange characters when I run the application. I have searched through the web and SO same questions. I code a function to do the encoding based on the answers to same question:</p>\n\n<pre><code>public static String getUTF(String encodeString) {\n        return new String(encodeString.getBytes(StandardCharsets.ISO_8859_1),\n                         StandardCharsets.UTF_8);\n}\n</code></pre>\n\n<p>And I use it to convert my string to build the <code>TreeView</code>:</p>\n\n<pre><code>CheckBoxTreeItem&lt;String&gt; userManagement = \n             new CheckBoxTreeItem&lt;&gt;(GlobalItems.getUTF(\"کاربران\"));\n</code></pre>\n\n<p>This answer dowsn't work properly for some characters:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/qBAtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qBAtF.png\" alt=\"enter image description here\"></a>  </p>\n\n<p>I still get strange results. If I don't use encoding, I get:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/FIkwA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FIkwA.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685288126,"post_id":76348477,"comment_id":134637681,"body_markdown":"Casting is required here because [Swing](https://en.wikipedia.org/wiki/Swing_(Java)) predates the invention of [Java Generics](https://en.wikipedia.org/wiki/Generics_in_Java). Swing’s modern replacement [JavaFX](https://en.wikipedia.org/wiki/JavaFX) does support Generics, so no casting needed with its [`ComboBox`](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/ComboBox.html).","body":"Casting is required here because <a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"nofollow noreferrer\">Swing</a> predates the invention of <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Java Generics</a>. Swing’s modern replacement <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> does support Generics, so no casting needed with its <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/ComboBox.html\" rel=\"nofollow noreferrer\"><code>ComboBox</code></a>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1685288783,"post_id":76348477,"comment_id":134637748,"body_markdown":"@BasilBourque technically, there is a way without casting - see my comment to the answer (it&#39;s the ItemSelectable that&#39;s not generified, JComboBox and its model are)","body":"@BasilBourque technically, there is a way without casting - see my comment to the answer (it&#39;s the ItemSelectable that&#39;s not generified, JComboBox and its model are)"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1685213934,"creation_date":1685213390,"answer_id":76348509,"question_id":76348477,"body_markdown":"Cast you&#39;re _selected_value_ to the enum type.\r\n\r\n```java\r\nSpawnMode value = (SpawnMode) selected_value\r\n```\r\n\r\nIn this case, use _[JComboBox#getSelectedItem](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JComboBox.html#getSelectedItem())_.\r\n\r\n\r\n```java\r\nSpawnMode value = (SpawnMode) mode.getSelectedItem();\r\n```","title":"How to get JComboBox value as enum value","body":"<p>Cast you're <em>selected_value</em> to the enum type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpawnMode value = (SpawnMode) selected_value\n</code></pre>\n<p>In this case, use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JComboBox.html#getSelectedItem()\" rel=\"nofollow noreferrer\">JComboBox#getSelectedItem</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpawnMode value = (SpawnMode) mode.getSelectedItem();\n</code></pre>\n"}],"owner":{"account_id":17717355,"reputation":89,"user_id":12863342,"display_name":"Fabian_Olczak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685213934,"creation_date":1685212962,"question_id":76348477,"body_markdown":"I&#39;ve created JComboBox like this:\r\n\r\n    mode = new JComboBox(SpawnMode.values());\r\n\r\nSpawnMode enum looks like this:\r\n\r\n    public enum SpawnMode {\r\n       POINT,\r\n       RANDOM,\r\n       INWARD_CIRCLE,\r\n       RANDOM_CIRCLE\r\n    }\r\nHow do I get selected value from JComboBox as a enum value to assign it like below?\r\n\r\n    SpawnMode value = selected_value","title":"How to get JComboBox value as enum value","body":"<p>I've created JComboBox like this:</p>\n<pre><code>mode = new JComboBox(SpawnMode.values());\n</code></pre>\n<p>SpawnMode enum looks like this:</p>\n<pre><code>public enum SpawnMode {\n   POINT,\n   RANDOM,\n   INWARD_CIRCLE,\n   RANDOM_CIRCLE\n}\n</code></pre>\n<p>How do I get selected value from JComboBox as a enum value to assign it like below?</p>\n<pre><code>SpawnMode value = selected_value\n</code></pre>\n"},{"tags":["java","spring","websocket","stomp"],"comments":[{"owner":{"account_id":24280390,"reputation":39,"user_id":18227003,"display_name":"Ponta"},"score":0,"creation_date":1680261574,"post_id":75897565,"comment_id":133872250,"body_markdown":"I just now got this error &quot;Could not find session id in GenericMessage [payload=user specifiq, headers={simpMessageType=MESSAGE, simpDestination=/user/[7]/queue/friend-requests}]&quot; if that is to any help","body":"I just now got this error &quot;Could not find session id in GenericMessage [payload=user specifiq, headers={simpMessageType=MESSAGE, simpDestination=/user/[7]/queue/friend-requests}]&quot; if that is to any help"}],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685213693,"creation_date":1685213693,"answer_id":76348529,"question_id":75897565,"body_markdown":"The server should send like this:\r\n\r\n```lang-java\r\nsimpMessagingTemplate.convertAndSendToUser(principal.getName(), &quot;/queue/friend-requests&quot;, &quot;user specific&quot;);\r\n```\r\n\r\nand the client should subscribe `/user/queue/friend-requests`.","title":"Not recieving message from SimpMessagingTemplate","body":"<p>The server should send like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>simpMessagingTemplate.convertAndSendToUser(principal.getName(), &quot;/queue/friend-requests&quot;, &quot;user specific&quot;);\n</code></pre>\n<p>and the client should subscribe <code>/user/queue/friend-requests</code>.</p>\n"}],"owner":{"account_id":24280390,"reputation":39,"user_id":18227003,"display_name":"Ponta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685213693,"creation_date":1680259060,"question_id":75897565,"body_markdown":"I&#39;m trying to send a message intended for a specific user by having the client subscribe to a topic and then have the server send a message to that destination.\r\n\r\nOn the client side, the user will subscribe to: `/user/{userId}/queue/friend-requests`, in this case `/user/7/queue/friend-requests`. \r\n\r\nOn the server side, I would first when the websocket connection is established set the principal name to the `{userId}`. So after the connection when I print inside the server `userRegistry.getUsers()` I get this printed `[name=[7], sessions={e0a8db6b-90e9-c464-5409-c1ac71560e8d=id=e0a8db6b-90e9-c464-5409-c1ac71560e8d, subscriptions={0=destination=/user/7/queue/friend-requests, 1=destination=/topic}}]` where `name = [7]` would be the users unique userID.\r\n\r\nOn the server side, when I send a message to `&quot;/app/friend-requests&quot;` it get sucessfully recieved by this controller class:\r\n\r\n    @Controller\r\n    public class FriendRequestController {\r\n        private SessionToken sessionToken;\r\n        @Autowired\r\n        private SimpMessagingTemplate simpMessagingTemplate;\r\n        @Autowired\r\n        private SimpUserRegistry userRegistry;\r\n        @Autowired\r\n        private FriendRequestService friendRequestService;\r\n\r\n    @MessageMapping(&quot;/friend-requests&quot;)\r\n    public void sendFriendRequest(@Payload FriendRequest friendRequest, Principal principal) throws InvalidSessionTokenException{\r\n\r\n        System.out.println(userRegistry.getUsers());\r\n        System.out.println(principal.getName());\r\n\r\n        System.out.println(&quot;- - - - - - - - - -&quot;);\r\n\r\n        simpMessagingTemplate.convertAndSendToUser(&quot;7&quot;, &quot;/queue/friend-requests&quot;, &quot;user specific&quot;);\r\n        simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;topic&quot;);\r\n\r\n        System.out.println(&quot;- - - - - - - - - -&quot;);\r\n\r\n\r\nHowever when I use `simpMessagingTemplate.convertAndSendToUser(7, &quot;/queue/friend-requests&quot;, &quot;user specifiq&quot;);` to send the message to the user which would subscribe to `/user/7/queue/friend-requests` nothing happens. the client doesnt recieve the message and nothing gets printed inside the server either. \r\n\r\nThis is the configuration class:\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    @ComponentScan(basePackages = {&quot;com/swoosh/springbootchatapp/chatapp/friend/system/stomp/friendrequest/controller&quot;})\r\n    public class StompConfig implements WebSocketMessageBrokerConfigurer\r\n\r\n \r\n\r\n    {\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry){\r\n        registry.addEndpoint(&quot;/friend-requests&quot;).setAllowedOrigins(&quot;*&quot;).setHandshakeHandler(new StompHandshakeHandler());\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry){\r\n        registry.enableSimpleBroker(&quot;/queue&quot;, &quot;/topic&quot;, &quot;/user&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        registry.setUserDestinationPrefix(&quot;/user&quot;);\r\n\r\n    }\r\n\r\nAnd this is the subcribtion on the client side:\r\n\r\n            String destination = &quot;/user/&quot; + Main.getApplicationState().getUserId() + &quot;/queue/friend-requests&quot;;\r\n        stompFriendRequestsHandler.getSession().subscribe(destination, new StompFrameHandler() {\r\n            @Override\r\n            public Type getPayloadType(StompHeaders headers) {\r\n                // Return the expected payload type of the message\r\n                return String.class;\r\n            }\r\n\r\n            @Override\r\n            public void handleFrame(StompHeaders headers, Object payload) {\r\n                System.out.println(&quot;- - - - - - - - - - - - - - - - - - -&quot;);\r\n                System.out.println(&quot;recived the user specifiq&quot;);\r\n                System.out.println(payload);\r\n            }\r\n        });\r\n\r\n        stompFriendRequestsHandler.getSession().subscribe(&quot;/topic&quot;, new StompFrameHandler() {\r\n            @Override\r\n            public Type getPayloadType(StompHeaders headers) {\r\n                return String.class;\r\n            }\r\n\r\n            @Override\r\n            public void handleFrame(StompHeaders headers, Object payload) {\r\n                System.out.println(&quot;- - - - - - - - - - - - - - - - - - -&quot;);\r\n                System.out.println(&quot;recieved the topic&quot;);\r\n                System.out.println(payload);\r\n            }\r\n        });\r\n    }\r\n\r\nDoes anyone know why. And also, when using `convertAndSendToUser`, will the first argument be used to find the `name` value for the specific websocket session?","title":"Not recieving message from SimpMessagingTemplate","body":"<p>I'm trying to send a message intended for a specific user by having the client subscribe to a topic and then have the server send a message to that destination.</p>\n<p>On the client side, the user will subscribe to: <code>/user/{userId}/queue/friend-requests</code>, in this case <code>/user/7/queue/friend-requests</code>.</p>\n<p>On the server side, I would first when the websocket connection is established set the principal name to the <code>{userId}</code>. So after the connection when I print inside the server <code>userRegistry.getUsers()</code> I get this printed <code>[name=[7], sessions={e0a8db6b-90e9-c464-5409-c1ac71560e8d=id=e0a8db6b-90e9-c464-5409-c1ac71560e8d, subscriptions={0=destination=/user/7/queue/friend-requests, 1=destination=/topic}}]</code> where <code>name = [7]</code> would be the users unique userID.</p>\n<p>On the server side, when I send a message to <code>&quot;/app/friend-requests&quot;</code> it get sucessfully recieved by this controller class:</p>\n<pre><code>@Controller\npublic class FriendRequestController {\n    private SessionToken sessionToken;\n    @Autowired\n    private SimpMessagingTemplate simpMessagingTemplate;\n    @Autowired\n    private SimpUserRegistry userRegistry;\n    @Autowired\n    private FriendRequestService friendRequestService;\n\n@MessageMapping(&quot;/friend-requests&quot;)\npublic void sendFriendRequest(@Payload FriendRequest friendRequest, Principal principal) throws InvalidSessionTokenException{\n\n    System.out.println(userRegistry.getUsers());\n    System.out.println(principal.getName());\n\n    System.out.println(&quot;- - - - - - - - - -&quot;);\n\n    simpMessagingTemplate.convertAndSendToUser(&quot;7&quot;, &quot;/queue/friend-requests&quot;, &quot;user specific&quot;);\n    simpMessagingTemplate.convertAndSend(&quot;/topic&quot;, &quot;topic&quot;);\n\n    System.out.println(&quot;- - - - - - - - - -&quot;);\n</code></pre>\n<p>However when I use <code>simpMessagingTemplate.convertAndSendToUser(7, &quot;/queue/friend-requests&quot;, &quot;user specifiq&quot;);</code> to send the message to the user which would subscribe to <code>/user/7/queue/friend-requests</code> nothing happens. the client doesnt recieve the message and nothing gets printed inside the server either.</p>\n<p>This is the configuration class:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\n@ComponentScan(basePackages = {&quot;com/swoosh/springbootchatapp/chatapp/friend/system/stomp/friendrequest/controller&quot;})\npublic class StompConfig implements WebSocketMessageBrokerConfigurer\n\n\n\n{\n\n@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry){\n    registry.addEndpoint(&quot;/friend-requests&quot;).setAllowedOrigins(&quot;*&quot;).setHandshakeHandler(new StompHandshakeHandler());\n}\n\n@Override\npublic void configureMessageBroker(MessageBrokerRegistry registry){\n    registry.enableSimpleBroker(&quot;/queue&quot;, &quot;/topic&quot;, &quot;/user&quot;);\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    registry.setUserDestinationPrefix(&quot;/user&quot;);\n\n}\n</code></pre>\n<p>And this is the subcribtion on the client side:</p>\n<pre><code>        String destination = &quot;/user/&quot; + Main.getApplicationState().getUserId() + &quot;/queue/friend-requests&quot;;\n    stompFriendRequestsHandler.getSession().subscribe(destination, new StompFrameHandler() {\n        @Override\n        public Type getPayloadType(StompHeaders headers) {\n            // Return the expected payload type of the message\n            return String.class;\n        }\n\n        @Override\n        public void handleFrame(StompHeaders headers, Object payload) {\n            System.out.println(&quot;- - - - - - - - - - - - - - - - - - -&quot;);\n            System.out.println(&quot;recived the user specifiq&quot;);\n            System.out.println(payload);\n        }\n    });\n\n    stompFriendRequestsHandler.getSession().subscribe(&quot;/topic&quot;, new StompFrameHandler() {\n        @Override\n        public Type getPayloadType(StompHeaders headers) {\n            return String.class;\n        }\n\n        @Override\n        public void handleFrame(StompHeaders headers, Object payload) {\n            System.out.println(&quot;- - - - - - - - - - - - - - - - - - -&quot;);\n            System.out.println(&quot;recieved the topic&quot;);\n            System.out.println(payload);\n        }\n    });\n}\n</code></pre>\n<p>Does anyone know why. And also, when using <code>convertAndSendToUser</code>, will the first argument be used to find the <code>name</code> value for the specific websocket session?</p>\n"},{"tags":["java","digital-signature","saml","public-key-encryption","shibboleth"],"answers":[{"tags":[],"owner":{"account_id":2500427,"reputation":198,"user_id":2175695,"display_name":"A K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1458848972,"creation_date":1458848972,"answer_id":36208869,"question_id":36204141,"body_markdown":"You only need to verify the &#39;SignedInfo&#39; portion of the XML","title":"Verify Signature of SAML Response","body":"<p>You only need to verify the 'SignedInfo' portion of the XML</p>\n"}],"owner":{"account_id":83625,"reputation":5032,"user_id":234307,"accept_rate":89,"display_name":"jn1kk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3610,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36208869,"answer_count":1,"score":5,"last_activity_date":1685213665,"creation_date":1458833804,"question_id":36204141,"body_markdown":"I&#39;m trying to follow the following spec to verify the signature of the SAML response: https://www.w3.org/TR/xmldsig-core/#sec-PKCS1\r\n\r\nHere is my workflow: I get the SAML Response. I get rid of the signature envelope, I canonicalize it, I check the digest and then I check the signature. I was able to successfully calculate SHA1 digest of the transformed SAML response and verify it. However, RSA-SHA1 signature checking still eludes me.\r\n\r\nSAML Response included signature method algorithm: http://www.w3.org/2000/09/xmldsig#rsa-sha1\r\n\r\nI have this method to check the signature:\r\n\r\n    public static boolean verifySignature(String signatureType, PublicKey publicKey, byte[] contentBytes, byte[] sigBytes) {\r\n        try {\r\n            Signature sig = Signature.getInstance(signatureType);\r\n            sig.initVerify(publicKey);\r\n            sig.update(contentBytes);\r\n            return sig.verify(sigBytes);\r\n        } catch (Exception e) {\r\n            Logger.log(e);\r\n            return false;\r\n        }\r\n    }\r\n\r\nI do something like this to call it:\r\n\r\n    String publicKeyStr =  &quot;MIIDNDCCAhwCCQCEk14scLMSGjANBgkqhkiG9w0BAQsFADBcMR8wHQYDVQQDDBZhdXRoLnJldHJvZmljaWVuY3kuY29tMQ4wDAYDVQQKDAVSZXRybzELMAkGA1UEBhMCVVMxCzAJBgNVBAgMAk1BMQ8wDQYDVQQHDAZCb3N0b24wHhcNMTYwMzAyMTU1NTQ4WhcNMTcwMzAyMTU1NTQ4WjBcMR8wHQYDVQQDDBZhdXRoLnJldHJvZmljaWVuY3kuY29tMQ4wDAYDVQQKDAVSZXRybzELMAkGA1UEBhMCVVMxCzAJBgNVBAgMAk1BMQ8wDQYDVQQHDAZCb3N0b24wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDwUlZ+qOA61kYh0MGHKTe4JtSL1qJVT/8/i6sWFqbAiGdV33pxSm8iBpqLNPG+fr8aZKugik8mN3y0kZEDwD+EATXGUpqT1v1R6Wr4rRUwsC0wl6d6EiWfdSsu66T11hdrugXF/psjyy4mmvIMMU4RlSaZmT2+gpe57IWPO522Y1HqbuvSvKJgjdyrlhIKLmw7HvZ1ZrQ1j01Hd3/rdK41+zWpSCLuSellHowiDmOzNnyFpTw+SZA0GKE+cm3BOTj/cM36GR2XJd0kIRqj1qqu29cGMlBjQ3cMleG6HoHR9oPNFwYtW1fDTHG6MnxRXYCfZiPeBdX3eBDSuz7GQAv5AgMBAAEwDQYJKoZIhvcNAQELBQADggEBAEuQEPhpWdAGg46PSbE20bNt4YH+PjiIzPaXzN5UmpJjyl2kbR18HYXZHEtAXc+ItrYnK+oe+6FhwJ9aiwlrf1/p+U61iyvA9/HWzyW4vflaLWRQ8FxNhAJiVu57IQObjZ13EQfu1O8RK4wzNUVJhOz+pp9toqTHn8wmUPApzqMIl0KpDCPy1TNrwItaiy/gzWQngBMgIcrDeycR8wK2EH6txT8BzI+aqdIc3gBXsn/kS90lelbvYreXqF7VHoMs8fVEPN5fTRjqT9oZb60b1DxcniiTEknZtqprYuMpgEzpOHrzmlbCoNU2yBHuNTQWBz3lG+XtSMtgh16v5Vm48ag=&quot;;\r\n    PublicKey publicKey = Security.getPublicKey(publicKeyStr); // uses Certificate class\r\n    String sig = &quot;QfAcRJM2P65JucyBpqn6j48/zd1oSLPBJ0lYI1grH5/xenwBEh0D4Eh0S1J3535OUmldpW7D+G7DW6eAT5N8TdoqUvMXuIAUpFHHDR45KZykPXJPUtli+z2rwlCCHypZWnniT/wrcQYdpp1zzNJBBtKdkaqQg0NMktPSQ/0ti+ruMI3qwfTaL9kDQ3Zyi/a2J3RCAPA0RfviLnDLlid0PthiV1NEbs0AvnguDi57fWXAILk0L1Cx20sliQckxlFQ9u4OaHeMscXdjh3SfESkM9m0Y9PppisZWTrCYzGmvDwsZTCBPD3f/ZFIit+Smgh2fi1u8/gZq0yizPyacR3Y/A==&quot;;\r\n    String newXMLToOperateOn = &quot;&lt;saml2:Assertion xmlns:saml2=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; ID=&quot;_420cc1a25a3890bd5df1f4c04bd7e986&quot; ...&quot;;\r\n\r\n    boolean sign = Security.verifySignature(&quot;SHA1withRSA&quot;, pk, newXMLToOperateOn.getBytes(), Util.base64DecodeAsBytes(sig));\r\n    // SIGN IS FALSE!!!!\r\n\r\n`newXMLToOperateOn` is the correct canonicalized string XML of the SAMLResponse. This is what I use to generate the correct SHA1 digest. Security.verify() works correctly since I use to for OpenID SSO checking and that works.\r\n\r\n**I also tried to substitute the data to check instead of the entire XML to the bytes of the SHA1 digest, but didn&#39;t work either.** E.G. `verify(algo, pk, sha1Digest.getBytes(), sig.getBytes()`.\r\n\r\n***Can someone tell me if there is something that I&#39;m doing horribly wrong when checking the signature?*** The spec linked above tells me the signing method does this:\r\n\r\n       CRYPT (PAD (ASN.1 (OID, DIGEST (data))))\r\n\r\nWhich doesn&#39;t help me a ton when I&#39;m verifying the signature. I cannot recreate the signature since I can&#39;t find what private key they use in their examples.\r\n\r\nThanks for any help.\r\n","title":"Verify Signature of SAML Response","body":"<p>I'm trying to follow the following spec to verify the signature of the SAML response: <a href=\"https://www.w3.org/TR/xmldsig-core/#sec-PKCS1\" rel=\"noreferrer\">https://www.w3.org/TR/xmldsig-core/#sec-PKCS1</a></p>\n\n<p>Here is my workflow: I get the SAML Response. I get rid of the signature envelope, I canonicalize it, I check the digest and then I check the signature. I was able to successfully calculate SHA1 digest of the transformed SAML response and verify it. However, RSA-SHA1 signature checking still eludes me.</p>\n\n<p>SAML Response included signature method algorithm: <a href=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" rel=\"noreferrer\">http://www.w3.org/2000/09/xmldsig#rsa-sha1</a></p>\n\n<p>I have this method to check the signature:</p>\n\n<pre><code>public static boolean verifySignature(String signatureType, PublicKey publicKey, byte[] contentBytes, byte[] sigBytes) {\n    try {\n        Signature sig = Signature.getInstance(signatureType);\n        sig.initVerify(publicKey);\n        sig.update(contentBytes);\n        return sig.verify(sigBytes);\n    } catch (Exception e) {\n        Logger.log(e);\n        return false;\n    }\n}\n</code></pre>\n\n<p>I do something like this to call it:</p>\n\n<pre><code>String publicKeyStr =  \"MIIDNDCCAhwCCQCEk14scLMSGjANBgkqhkiG9w0BAQsFADBcMR8wHQYDVQQDDBZhdXRoLnJldHJvZmljaWVuY3kuY29tMQ4wDAYDVQQKDAVSZXRybzELMAkGA1UEBhMCVVMxCzAJBgNVBAgMAk1BMQ8wDQYDVQQHDAZCb3N0b24wHhcNMTYwMzAyMTU1NTQ4WhcNMTcwMzAyMTU1NTQ4WjBcMR8wHQYDVQQDDBZhdXRoLnJldHJvZmljaWVuY3kuY29tMQ4wDAYDVQQKDAVSZXRybzELMAkGA1UEBhMCVVMxCzAJBgNVBAgMAk1BMQ8wDQYDVQQHDAZCb3N0b24wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDwUlZ+qOA61kYh0MGHKTe4JtSL1qJVT/8/i6sWFqbAiGdV33pxSm8iBpqLNPG+fr8aZKugik8mN3y0kZEDwD+EATXGUpqT1v1R6Wr4rRUwsC0wl6d6EiWfdSsu66T11hdrugXF/psjyy4mmvIMMU4RlSaZmT2+gpe57IWPO522Y1HqbuvSvKJgjdyrlhIKLmw7HvZ1ZrQ1j01Hd3/rdK41+zWpSCLuSellHowiDmOzNnyFpTw+SZA0GKE+cm3BOTj/cM36GR2XJd0kIRqj1qqu29cGMlBjQ3cMleG6HoHR9oPNFwYtW1fDTHG6MnxRXYCfZiPeBdX3eBDSuz7GQAv5AgMBAAEwDQYJKoZIhvcNAQELBQADggEBAEuQEPhpWdAGg46PSbE20bNt4YH+PjiIzPaXzN5UmpJjyl2kbR18HYXZHEtAXc+ItrYnK+oe+6FhwJ9aiwlrf1/p+U61iyvA9/HWzyW4vflaLWRQ8FxNhAJiVu57IQObjZ13EQfu1O8RK4wzNUVJhOz+pp9toqTHn8wmUPApzqMIl0KpDCPy1TNrwItaiy/gzWQngBMgIcrDeycR8wK2EH6txT8BzI+aqdIc3gBXsn/kS90lelbvYreXqF7VHoMs8fVEPN5fTRjqT9oZb60b1DxcniiTEknZtqprYuMpgEzpOHrzmlbCoNU2yBHuNTQWBz3lG+XtSMtgh16v5Vm48ag=\";\nPublicKey publicKey = Security.getPublicKey(publicKeyStr); // uses Certificate class\nString sig = \"QfAcRJM2P65JucyBpqn6j48/zd1oSLPBJ0lYI1grH5/xenwBEh0D4Eh0S1J3535OUmldpW7D+G7DW6eAT5N8TdoqUvMXuIAUpFHHDR45KZykPXJPUtli+z2rwlCCHypZWnniT/wrcQYdpp1zzNJBBtKdkaqQg0NMktPSQ/0ti+ruMI3qwfTaL9kDQ3Zyi/a2J3RCAPA0RfviLnDLlid0PthiV1NEbs0AvnguDi57fWXAILk0L1Cx20sliQckxlFQ9u4OaHeMscXdjh3SfESkM9m0Y9PppisZWTrCYzGmvDwsZTCBPD3f/ZFIit+Smgh2fi1u8/gZq0yizPyacR3Y/A==\";\nString newXMLToOperateOn = \"&lt;saml2:Assertion xmlns:saml2=\"urn:oasis:names:tc:SAML:2.0:assertion\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" ID=\"_420cc1a25a3890bd5df1f4c04bd7e986\" ...\";\n\nboolean sign = Security.verifySignature(\"SHA1withRSA\", pk, newXMLToOperateOn.getBytes(), Util.base64DecodeAsBytes(sig));\n// SIGN IS FALSE!!!!\n</code></pre>\n\n<p><code>newXMLToOperateOn</code> is the correct canonicalized string XML of the SAMLResponse. This is what I use to generate the correct SHA1 digest. Security.verify() works correctly since I use to for OpenID SSO checking and that works.</p>\n\n<p><strong>I also tried to substitute the data to check instead of the entire XML to the bytes of the SHA1 digest, but didn't work either.</strong> E.G. <code>verify(algo, pk, sha1Digest.getBytes(), sig.getBytes()</code>.</p>\n\n<p><strong><em>Can someone tell me if there is something that I'm doing horribly wrong when checking the signature?</em></strong> The spec linked above tells me the signing method does this:</p>\n\n<pre><code>   CRYPT (PAD (ASN.1 (OID, DIGEST (data))))\n</code></pre>\n\n<p>Which doesn't help me a ton when I'm verifying the signature. I cannot recreate the signature since I can't find what private key they use in their examples.</p>\n\n<p>Thanks for any help.</p>\n"},{"tags":["java","websocket","stomp"],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685213469,"creation_date":1685213469,"answer_id":76348512,"question_id":75900536,"body_markdown":"I use a queue to catch the message:\r\n\r\n```lang-java\r\n    private static ArrayBlockingQueue&lt;String&gt; subscribe(StompSession session, String destination) {\r\n        var queue = new ArrayBlockingQueue&lt;String&gt;(10);\r\n\r\n        session.subscribe(destination, new StompFrameHandler() {\r\n            @Override\r\n            public Type getPayloadType(StompHeaders headers) {\r\n                return String.class;\r\n            }\r\n\r\n            @Override\r\n            @SneakyThrows\r\n            public void handleFrame(StompHeaders headers, Object payload) {\r\n                queue.add((String) payload);\r\n            }\r\n        });\r\n\r\n        return queue;\r\n    }\r\n```\r\n\r\nThen the flow can be blocked somehow:\r\n\r\n```lang-java\r\nvar message = subscribe(session, &quot;/all/messages&quot;);\r\nvar response = message.poll(5, TimeUnit.SECONDS);\r\nassertNotNull(response);\r\n```","title":"Message broker wont broadcast messages","body":"<p>I use a queue to catch the message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static ArrayBlockingQueue&lt;String&gt; subscribe(StompSession session, String destination) {\n        var queue = new ArrayBlockingQueue&lt;String&gt;(10);\n\n        session.subscribe(destination, new StompFrameHandler() {\n            @Override\n            public Type getPayloadType(StompHeaders headers) {\n                return String.class;\n            }\n\n            @Override\n            @SneakyThrows\n            public void handleFrame(StompHeaders headers, Object payload) {\n                queue.add((String) payload);\n            }\n        });\n\n        return queue;\n    }\n</code></pre>\n<p>Then the flow can be blocked somehow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var message = subscribe(session, &quot;/all/messages&quot;);\nvar response = message.poll(5, TimeUnit.SECONDS);\nassertNotNull(response);\n</code></pre>\n"}],"owner":{"account_id":24280390,"reputation":39,"user_id":18227003,"display_name":"Ponta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685213469,"creation_date":1680278253,"question_id":75900536,"body_markdown":"I have sat for hours trying to get my message broker to work, but I cannot find any solution. I have followed tutorials on youtube and on springs own webpage but nothing works. I am able to subscribe to destinations and send messages to the server, which gets recieved, but as soon as I try to send that message to either a specific client or to broadcast the message to all connected clients, nothing happens.\r\n\r\n    WebSocketStompClient stompClient = new WebSocketStompClient(new StandardWebSocketClient());\r\n        stompFriendRequestsHandler = new WebsocketHandler();\r\n        WebSocketHttpHeaders stompFriendRequestHeader = createWebsocketHeader(headerForFriendRequestStomp);\r\n\r\n        System.out.println(stompFriendRequestHeader);\r\n\r\n        stompClient.connect(&quot;ws://localhost:8080/ws&quot;, stompFriendRequestHeader, stompFriendRequestsHandler);\r\n\r\n        StompSession session = stompFriendRequestsHandler.getSession();\r\n        session.subscribe(&quot;/all/messages&quot;, new StompFrameHandler() {\r\n            @Override\r\n            public Type getPayloadType(StompHeaders headers) {\r\n                System.out.println(&quot;getPayLoadType!&quot;);\r\n                return String.class;\r\n            }\r\n\r\n            @Override\r\n            public void handleFrame(StompHeaders headers, Object payload) {\r\n                System.out.println(&quot;YAY! We got the broadcast&quot;);\r\n                System.out.println(payload);\r\n\r\n            }\r\n        });\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n        ObjectNode objectNode = objectMapper.createObjectNode();\r\n        objectNode.put(&quot;friendRequestUsername&quot;, 1);\r\n        try {\r\n            byte[] payload = objectMapper.writeValueAsBytes(objectNode);\r\n            stompFriendRequestsHandler.getSession().send(&quot;/app/application&quot;, payload);\r\n        } catch (JsonProcessingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\nThis code will send a message to `/app/application` and the message does get mapped to the right class and the printstatements inside the method which handles the messages gets printed.\r\n\r\n    @MessageMapping(&quot;/application&quot;)\r\n    @SendTo(&quot;/all/messages&quot;)\r\n    public Message send(final Message message)throws Exception{\r\n        System.out.println(&quot;BROADCASTER&quot;);\r\n        System.out.println(message);\r\n        return message;\r\n    }\r\n\r\nHowever nothing gets sent back to the client... All that happens is that `System.out.println(&quot;getPayLoadType!&quot;);` gets printed inside the `@Override\r\n            public Type getPayloadType(StompHeaders headers)` of the subscription, but nothing else.\r\n\r\nthis is my config class on the server:\r\n\r\n    Configuration\r\n    @EnableWebSocketMessageBroker\r\n    @ComponentScan(basePackages = {&quot;com/swoosh/springbootchatapp/chatapp/friend/system/stomp/friendrequest/controller&quot;})\r\n    public class StompConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry){\r\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;);\r\n    //.setHandshakeHandler(new StompHandshakeHandler());\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry){\r\n        registry.enableSimpleBroker(&quot;/all&quot;, &quot;/specific&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n\r\n    }","title":"Message broker wont broadcast messages","body":"<p>I have sat for hours trying to get my message broker to work, but I cannot find any solution. I have followed tutorials on youtube and on springs own webpage but nothing works. I am able to subscribe to destinations and send messages to the server, which gets recieved, but as soon as I try to send that message to either a specific client or to broadcast the message to all connected clients, nothing happens.</p>\n<pre><code>WebSocketStompClient stompClient = new WebSocketStompClient(new StandardWebSocketClient());\n    stompFriendRequestsHandler = new WebsocketHandler();\n    WebSocketHttpHeaders stompFriendRequestHeader = createWebsocketHeader(headerForFriendRequestStomp);\n\n    System.out.println(stompFriendRequestHeader);\n\n    stompClient.connect(&quot;ws://localhost:8080/ws&quot;, stompFriendRequestHeader, stompFriendRequestsHandler);\n\n    StompSession session = stompFriendRequestsHandler.getSession();\n    session.subscribe(&quot;/all/messages&quot;, new StompFrameHandler() {\n        @Override\n        public Type getPayloadType(StompHeaders headers) {\n            System.out.println(&quot;getPayLoadType!&quot;);\n            return String.class;\n        }\n\n        @Override\n        public void handleFrame(StompHeaders headers, Object payload) {\n            System.out.println(&quot;YAY! We got the broadcast&quot;);\n            System.out.println(payload);\n\n        }\n    });\nObjectMapper objectMapper = new ObjectMapper();\n    ObjectNode objectNode = objectMapper.createObjectNode();\n    objectNode.put(&quot;friendRequestUsername&quot;, 1);\n    try {\n        byte[] payload = objectMapper.writeValueAsBytes(objectNode);\n        stompFriendRequestsHandler.getSession().send(&quot;/app/application&quot;, payload);\n    } catch (JsonProcessingException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>This code will send a message to <code>/app/application</code> and the message does get mapped to the right class and the printstatements inside the method which handles the messages gets printed.</p>\n<pre><code>@MessageMapping(&quot;/application&quot;)\n@SendTo(&quot;/all/messages&quot;)\npublic Message send(final Message message)throws Exception{\n    System.out.println(&quot;BROADCASTER&quot;);\n    System.out.println(message);\n    return message;\n}\n</code></pre>\n<p>However nothing gets sent back to the client... All that happens is that <code>System.out.println(&quot;getPayLoadType!&quot;);</code> gets printed inside the <code>@Override public Type getPayloadType(StompHeaders headers)</code> of the subscription, but nothing else.</p>\n<p>this is my config class on the server:</p>\n<pre><code>Configuration\n@EnableWebSocketMessageBroker\n@ComponentScan(basePackages = {&quot;com/swoosh/springbootchatapp/chatapp/friend/system/stomp/friendrequest/controller&quot;})\npublic class StompConfig implements WebSocketMessageBrokerConfigurer {\n\n@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry){\n    registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;);\n//.setHandshakeHandler(new StompHandshakeHandler());\n}\n\n@Override\npublic void configureMessageBroker(MessageBrokerRegistry registry){\n    registry.enableSimpleBroker(&quot;/all&quot;, &quot;/specific&quot;);\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n\n}\n</code></pre>\n"},{"tags":["java","servlets","jakarta-ee","forward"],"comments":[{"owner":{"account_id":100076,"reputation":6521,"user_id":2684342,"accept_rate":92,"display_name":"WoodenKitty"},"score":16,"creation_date":1413607904,"post_id":9432912,"comment_id":41517315,"body_markdown":"I did a Google search, and that&#39;s how I got here. Almost any question can be answered with &quot;RTFM&quot; or &quot;STFW&quot; but stackoverflow has become a fantastic resource for me because it offers succinct explanations and multiple perspectives in digestible sized chunks. I&#39;m glad people ask questions that already have available answers.","body":"I did a Google search, and that&#39;s how I got here. Almost any question can be answered with &quot;RTFM&quot; or &quot;STFW&quot; but stackoverflow has become a fantastic resource for me because it offers succinct explanations and multiple perspectives in digestible sized chunks. I&#39;m glad people ask questions that already have available answers."},{"owner":{"account_id":4675104,"reputation":191,"user_id":3785712,"display_name":"A B"},"score":2,"creation_date":1506581195,"post_id":9432912,"comment_id":79879960,"body_markdown":"Few things are more irritating than doing a Google search to find an answer and finding &quot;Did you try something called Google search ?&quot;","body":"Few things are more irritating than doing a Google search to find an answer and finding &quot;Did you try something called Google search ?&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1155134,"reputation":13311,"user_id":1135954,"accept_rate":68,"display_name":"mtk"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1330096363,"creation_date":1330096363,"answer_id":9433063,"question_id":9432912,"body_markdown":"The main difference is that when you use *forward* the control is transferred to the next servlet/jsp you are calling, while *include* retains the control with the current servlet, it just includes the processing done by the calling servlet/jsp(like doing any out.println or other processing).","title":"Difference between include and forward mechanism for request dispatching concept?","body":"<p>The main difference is that when you use <em>forward</em> the control is transferred to the next servlet/jsp you are calling, while <em>include</em> retains the control with the current servlet, it just includes the processing done by the calling servlet/jsp(like doing any out.println or other processing).</p>\n"},{"tags":[],"owner":{"account_id":1660515,"reputation":879,"user_id":1528898,"display_name":"AmrAngry"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1460360157,"creation_date":1355509610,"answer_id":13884301,"question_id":9432912,"body_markdown":"The difference  between the two tags is that the way they work. Well, I will\r\nsay an example so that you can imagine it better.\r\n\r\nAssume you have two pages, pageA, and pageB. In pageA you wrote the include tag.\r\nIn this case the control was in pageA til you called the include tag. At this\r\npoint the full control goes to pageB. When It&#39;s done, control is returned to\r\npageA starting from the next point of coding after the include tag and\r\ncontinuing to the rest of pageA.\r\n\r\nWell, to get things much clearer, let&#39;s say that we have the same pages, pageA\r\nand pageB, but this time we will use the forward tag in pageA, not the include\r\ntag. Again, the control will begin in pageA till we call the forward tag in\r\npageA, at this point, control is transfered to pageB, just like the include tag.\r\nBut the difference is what happens when pageB completes. In case of the forward\r\ntag, control doesn&#39;t go back to pageA again.","title":"Difference between include and forward mechanism for request dispatching concept?","body":"<p>The difference  between the two tags is that the way they work. Well, I will\nsay an example so that you can imagine it better.</p>\n\n<p>Assume you have two pages, pageA, and pageB. In pageA you wrote the include tag.\nIn this case the control was in pageA til you called the include tag. At this\npoint the full control goes to pageB. When It's done, control is returned to\npageA starting from the next point of coding after the include tag and\ncontinuing to the rest of pageA.</p>\n\n<p>Well, to get things much clearer, let's say that we have the same pages, pageA\nand pageB, but this time we will use the forward tag in pageA, not the include\ntag. Again, the control will begin in pageA till we call the forward tag in\npageA, at this point, control is transfered to pageB, just like the include tag.\nBut the difference is what happens when pageB completes. In case of the forward\ntag, control doesn't go back to pageA again.</p>\n"},{"tags":[],"owner":{"account_id":1021804,"reputation":12875,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1385645267,"creation_date":1385645267,"answer_id":20267473,"question_id":9432912,"body_markdown":"# [include(request, response);][1]\n \n&gt;If the resource is static, the include method enables programmatic server-side includes. If the resource is a web component, the effect of the method is to send the request to the included web component, execute the web component, and then include the result of the execution in the response from the containing servlet.  \n\nAn included web component has access to the request object but is limited in what it can do with the response object.\n\n - It can write to the body of the response and commit a response.\n - It cannot set headers or call any method, such as setCookie, that affects the headers of the response.\n\nIt is often useful to include another web resource, such as banner content or copyright information) in the response returned from a web component.\n\n# [forward(request, response);][2]  \n\n&gt; In some applications, you might want to have one web component do preliminary processing of a request and have another component generate the response. For example, you might want to partially process a request and then transfer to another component, depending on the nature of the request.  \n&gt;\n&gt;To transfer control to another web component, you invoke the forward method of a RequestDispatcher. When a request is forwarded, the request URL is set to the path of the forwarded page. The original URI and its constituent parts are saved as request attributes.\n\n    javax.servlet.forward.[request-uri|context-path|servlet-path|path-info|query-string]  \nThe forward method should be used to give another resource responsibility for replying to the user. If you have already accessed a [ServletOutputStream][3] or [PrintWriter][4] object within the servlet, you cannot use this method; doing so throws an [IllegalStateException][5].\n\n**Related links**  \n\n - [RequestDispatcher#forward(javax.servlet.ServletRequest, javax.servlet.ServletResponse)][6]\n - [RequestDispatcher#include(javax.servlet.ServletRequest, javax.servlet.ServletResponse)][7]\n - [Java EE 6 Tutorial ][8]\n\n\n  [1]: http://docs.oracle.com/javaee/6/tutorial/doc/bnagi.html#bnagj\n  [2]: http://docs.oracle.com/javaee/6/tutorial/doc/bnagi.html#bnagk\n  [3]: http://docs.oracle.com/javaee/6/api/javax/servlet/ServletOutputStream.html\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html\n  [6]: http://docs.oracle.com/javaee/6/api/javax/servlet/RequestDispatcher.html#forward%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29\n  [7]: http://docs.oracle.com/javaee/6/api/javax/servlet/RequestDispatcher.html#include%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29\n  [8]: http://docs.oracle.com/javaee/6/tutorial/doc/bnagi.html","title":"Difference between include and forward mechanism for request dispatching concept?","body":"<h1><a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnagi.html#bnagj\" rel=\"noreferrer\">include(request, response);</a></h1>\n<blockquote>\n<p>If the resource is static, the include method enables programmatic server-side includes. If the resource is a web component, the effect of the method is to send the request to the included web component, execute the web component, and then include the result of the execution in the response from the containing servlet.</p>\n</blockquote>\n<p>An included web component has access to the request object but is limited in what it can do with the response object.</p>\n<ul>\n<li>It can write to the body of the response and commit a response.</li>\n<li>It cannot set headers or call any method, such as setCookie, that affects the headers of the response.</li>\n</ul>\n<p>It is often useful to include another web resource, such as banner content or copyright information) in the response returned from a web component.</p>\n<h1><a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnagi.html#bnagk\" rel=\"noreferrer\">forward(request, response);</a></h1>\n<blockquote>\n<p>In some applications, you might want to have one web component do preliminary processing of a request and have another component generate the response. For example, you might want to partially process a request and then transfer to another component, depending on the nature of the request.</p>\n<p>To transfer control to another web component, you invoke the forward method of a RequestDispatcher. When a request is forwarded, the request URL is set to the path of the forwarded page. The original URI and its constituent parts are saved as request attributes.</p>\n</blockquote>\n<pre><code>javax.servlet.forward.[request-uri|context-path|servlet-path|path-info|query-string]  \n</code></pre>\n<p>The forward method should be used to give another resource responsibility for replying to the user. If you have already accessed a <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/ServletOutputStream.html\" rel=\"noreferrer\">ServletOutputStream</a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html\" rel=\"noreferrer\">PrintWriter</a> object within the servlet, you cannot use this method; doing so throws an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html\" rel=\"noreferrer\">IllegalStateException</a>.</p>\n<p><strong>Related links</strong></p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/RequestDispatcher.html#forward%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29\" rel=\"noreferrer\">RequestDispatcher#forward(javax.servlet.ServletRequest, javax.servlet.ServletResponse)</a></li>\n<li><a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/RequestDispatcher.html#include%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29\" rel=\"noreferrer\">RequestDispatcher#include(javax.servlet.ServletRequest, javax.servlet.ServletResponse)</a></li>\n<li><a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnagi.html\" rel=\"noreferrer\">Java EE 6 Tutorial </a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7713005,"reputation":169,"user_id":5841724,"display_name":"uttsav"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1465313973,"creation_date":1465313973,"answer_id":37683740,"question_id":9432912,"body_markdown":"The key difference between the two is that \r\nthe forward() method will CLOSE the output stream after it has been invoked, \r\nwhereas the include method leaves the output stream OPEN.\r\n\r\nanswering with an example : \r\n lets have a servlet page named xxx.java and a jsp page named yy.jsp\r\n\r\n**In the yy.jsp**\r\n\r\n    WELCOME to yy.jsp\r\n\r\n**In the xxx.java** //using forward()\r\n\r\n    \r\n`   RequestDispatcher rd = request.getRequestDispatcher(&quot;yy.jsp&quot;);\r\n    rd.forward(request,response);\r\n    out.println(&quot;back to servlet&quot;); //this wont b displayed `\r\n\r\n**output**\r\n\r\n    WELCOME to yy.jsp \r\n\r\n**In the xxx.java** //using include()\r\n\r\n   `  RequestDispatcher rd = request.getRequestDispatcher(&quot;yy.jsp&quot;);\r\n      rd.include(request,response);\r\n      out.println(&quot;back to servlet&quot;);  `\r\n\r\n**output**\r\n\r\n    WELCOME to yy.jsp back to servlet\r\nBUT MOST IMPORTANTLY ITS NOT ABOUT THE CONTROL, BECAUSE IF WE PUT a\r\n\r\n  `  System.out.println(&quot;console output&quot;);` \r\n\r\nafter either of the `.forward()` or `.include()` invocation, the console output will get generated on each case.**Its about the response to the client**\r\n\r\nSo, the basic part is \r\n if we are processing in a server side component and then forward to a JSP or Servlet in order to generate markup for a client, once that JSP or Servlet has finished processing, we can no longer call on any other components to generate markup that can be **sent to the client. Once we have performed a forward, markup generation for the current request and response cycle is finished.**\r\n\r\nAlternatively, with an include, the output stream remains open, so we can call on as many different files to generate client side markup that we need. So we can include two or three JSP files and even a Servlet in the chain of components that generate client based markup. When we use an include, the output stream is not closed after invocation.","title":"Difference between include and forward mechanism for request dispatching concept?","body":"<p>The key difference between the two is that \nthe forward() method will CLOSE the output stream after it has been invoked, \nwhereas the include method leaves the output stream OPEN.</p>\n\n<p>answering with an example : \n lets have a servlet page named xxx.java and a jsp page named yy.jsp</p>\n\n<p><strong>In the yy.jsp</strong></p>\n\n<pre><code>WELCOME to yy.jsp\n</code></pre>\n\n<p><strong>In the xxx.java</strong> //using forward()</p>\n\n<p><code>RequestDispatcher rd = request.getRequestDispatcher(\"yy.jsp\");\n    rd.forward(request,response);\n    out.println(\"back to servlet\"); //this wont b displayed</code></p>\n\n<p><strong>output</strong></p>\n\n<pre><code>WELCOME to yy.jsp \n</code></pre>\n\n<p><strong>In the xxx.java</strong> //using include()</p>\n\n<p><code>RequestDispatcher rd = request.getRequestDispatcher(\"yy.jsp\");\n      rd.include(request,response);\n      out.println(\"back to servlet\");</code></p>\n\n<p><strong>output</strong></p>\n\n<pre><code>WELCOME to yy.jsp back to servlet\n</code></pre>\n\n<p>BUT MOST IMPORTANTLY ITS NOT ABOUT THE CONTROL, BECAUSE IF WE PUT a</p>\n\n<p><code>System.out.println(\"console output\");</code> </p>\n\n<p>after either of the <code>.forward()</code> or <code>.include()</code> invocation, the console output will get generated on each case.<strong>Its about the response to the client</strong></p>\n\n<p>So, the basic part is \n if we are processing in a server side component and then forward to a JSP or Servlet in order to generate markup for a client, once that JSP or Servlet has finished processing, we can no longer call on any other components to generate markup that can be <strong>sent to the client. Once we have performed a forward, markup generation for the current request and response cycle is finished.</strong></p>\n\n<p>Alternatively, with an include, the output stream remains open, so we can call on as many different files to generate client side markup that we need. So we can include two or three JSP files and even a Servlet in the chain of components that generate client based markup. When we use an include, the output stream is not closed after invocation.</p>\n"},{"tags":[],"owner":{"account_id":28693240,"reputation":1,"user_id":21972019,"display_name":"Omkar Gole"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685213259,"creation_date":1685213259,"answer_id":76348494,"question_id":9432912,"body_markdown":"forward() will transfer the control to targeted resource and targeted resource will directly send response to client.\r\n\r\ninclude() will send transfer the control to targeted resource and targeted resource will send the response to source resource .Then Source resource will capture the targeted source&#39;s response and forward it back to client.","title":"Difference between include and forward mechanism for request dispatching concept?","body":"<p>forward() will transfer the control to targeted resource and targeted resource will directly send response to client.</p>\n<p>include() will send transfer the control to targeted resource and targeted resource will send the response to source resource .Then Source resource will capture the targeted source's response and forward it back to client.</p>\n"}],"owner":{"account_id":463980,"reputation":6162,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81243,"favorite_count":0,"down_vote_count":4,"up_vote_count":56,"accepted_answer_id":9433063,"answer_count":5,"score":52,"last_activity_date":1685213259,"creation_date":1330095786,"question_id":9432912,"body_markdown":"Forward() : This can be done in two ways by Request &amp; \r\nServeletContext. \r\nForwarding a request from a servlet to another resource \r\n(servlet, JSP\r\nfile, or HTML file) on the server. Forward is done at \r\nserver side, without the client&#39;s knowledge.\r\n\r\nWhen you invoke a forward request, the request is sent to \r\nanother\r\nresource on the server, without the client being informed \r\nthat a\r\ndifferent resource is going to process the request. This \r\nprocess occurs\r\ncompletely with in the web container.\r\n\r\n\r\nSimply \r\n\r\ninclude: will include another file in our current file\r\n\r\nforward: will forward the current request to the forwarding page\r\n","title":"Difference between include and forward mechanism for request dispatching concept?","body":"<p>Forward() : This can be done in two ways by Request &amp; \nServeletContext. \nForwarding a request from a servlet to another resource \n(servlet, JSP\nfile, or HTML file) on the server. Forward is done at \nserver side, without the client's knowledge.</p>\n\n<p>When you invoke a forward request, the request is sent to \nanother\nresource on the server, without the client being informed \nthat a\ndifferent resource is going to process the request. This \nprocess occurs\ncompletely with in the web container.</p>\n\n<p>Simply </p>\n\n<p>include: will include another file in our current file</p>\n\n<p>forward: will forward the current request to the forwarding page</p>\n"},{"tags":["java","spring","testing","design-patterns","dependency-injection"],"comments":[{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":0,"creation_date":1685159980,"post_id":76345240,"comment_id":134626289,"body_markdown":"You could have a factory for the builder that has the dependency injected and creates the builder.","body":"You could have a factory for the builder that has the dependency injected and creates the builder."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1685160038,"post_id":76345240,"comment_id":134626294,"body_markdown":"@ChristianHujer Do you think you can put your idea in code?","body":"@ChristianHujer Do you think you can put your idea in code?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685212740,"creation_date":1685190723,"answer_id":76346934,"question_id":76345240,"body_markdown":"To make `ObjectMapper` can be autowired into a class , that class is required to be defined as the spring bean first. \r\n\r\nFor your case , it is more natural to define the `Builder` as a prototype spring bean and auto-wire the `ObjectMapper` into it :\r\n\r\n``` java\r\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\npublic static class Builder {\r\n\r\n\r\n   @Autowired\r\n   private ObjectMapper objectMapper; \r\n\r\n    public GetCommentPageExpectationTester build() {\r\n          return new GetCommentPageExpectationTester(this, objectMapper);\r\n     }\r\n}\r\n\r\n\r\npublic class GetCommentPageExpectationTester implements ExpectationTester {\r\n\r\n    private GetCommentPageExpectationTester(Builder builder, ObjectMapper obhjectMapper) {\r\n        .........\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThen define the `Builder` as a spring bean by `@Import` :\r\n\r\n\r\n``` java\r\n@SpringBootTest\r\n@Import(GetCommentPageExpectationTester.Builder.class)\r\npublic class FooTest {\r\n\r\n    @Autowired\r\n    private ObjectFactory&lt;GetCommentPageExpectationTester.Builder&gt; builder;\r\n\r\n\r\n}\r\n```\r\n\r\nNote that as it is in the prototype scope, you have to use `ObjectFactory` to inject it to the test such that whenever you use `builder.getObject()` to get the builder instance , it will always ensure you will get a new instance.\r\n\r\n\r\n----------\r\nBy the way , feel like the purpose of `ExpectationTester` is just for reusing the code to assert `MockHttpServletResponse` which seem to looks complicated to me. Instead I will try to look into defining the [custom AssertJ assertion][1] to see if it will be more helpful.\r\n\r\n  [1]: https://assertj.github.io/doc/#assertj-core-custom-assertions","title":"How do I make the &quot;builder&quot; design pattern and Spring dependency injection compatible with each other?","body":"<p>To make <code>ObjectMapper</code> can be autowired into a class , that class is required to be defined as the spring bean first.</p>\n<p>For your case , it is more natural to define the <code>Builder</code> as a prototype spring bean and auto-wire the <code>ObjectMapper</code> into it :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic static class Builder {\n\n\n   @Autowired\n   private ObjectMapper objectMapper; \n\n    public GetCommentPageExpectationTester build() {\n          return new GetCommentPageExpectationTester(this, objectMapper);\n     }\n}\n\n\npublic class GetCommentPageExpectationTester implements ExpectationTester {\n\n    private GetCommentPageExpectationTester(Builder builder, ObjectMapper obhjectMapper) {\n        .........\n        this.objectMapper = objectMapper;\n    }\n\n}\n</code></pre>\n<p>Then define the <code>Builder</code> as a spring bean by <code>@Import</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@Import(GetCommentPageExpectationTester.Builder.class)\npublic class FooTest {\n\n    @Autowired\n    private ObjectFactory&lt;GetCommentPageExpectationTester.Builder&gt; builder;\n\n\n}\n</code></pre>\n<p>Note that as it is in the prototype scope, you have to use <code>ObjectFactory</code> to inject it to the test such that whenever you use <code>builder.getObject()</code> to get the builder instance , it will always ensure you will get a new instance.</p>\n<hr />\n<p>By the way , feel like the purpose of <code>ExpectationTester</code> is just for reusing the code to assert <code>MockHttpServletResponse</code> which seem to looks complicated to me. Instead I will try to look into defining the <a href=\"https://assertj.github.io/doc/#assertj-core-custom-assertions\" rel=\"nofollow noreferrer\">custom AssertJ assertion</a> to see if it will be more helpful.</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76346934,"answer_count":1,"score":0,"last_activity_date":1685212740,"creation_date":1685159321,"question_id":76345240,"body_markdown":"How compatible are the &quot;builder&quot; design pattern and Spring dependency injection? Consider this code\r\n```java\r\n    @Test\r\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // inserting sample rows\r\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;) // truncating\r\n    private void getPageOneDefaultTest() throws Exception {\r\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + &quot;page/&quot; + 1)\r\n                        .header(HttpHeaders.AUTHORIZATION, token))\r\n                .andExpect(status().isOk())\r\n                .andReturn()\r\n                .getResponse();\r\n\r\n        /*\r\n        The whole idea with &quot;expectation testers&quot; may look a bit unusual, but if you consider that\r\n        I also have methods getPageOneSizeFiveTest(), getPageTwoSizeFiveTest() (probably, I\r\n        should add more of them for a better coverage), you should realize it removes a lot of\r\n        code duplication\r\n        */\r\n\r\n        expectationTester = new GetCommentPageExpectationTester.Builder(response)\r\n                .setExpectedPageCount(10)\r\n                .setExpectedPageDtoListSize(10)\r\n                .setExpectedOwnerUsername(&quot;mickey_m&quot;)\r\n                .build();\r\n\r\n        expectationTester.test();\r\n    }\r\n```\r\n```java\r\npublic class GetCommentPageExpectationTester implements ExpectationTester {\r\n    private final String serializedResponseBody;\r\n    private final int expectedPageCount;\r\n    private final int expectedPageDtoListSize;\r\n    private final int expectedFirstCommentId;\r\n    private final String expectedCommentText;\r\n    private final int expectedQuestionId;\r\n    private final int expectedOwnerId;\r\n    private final String expectedOwnerUsername;\r\n    private final ObjectMapper objectMapper;\r\n\r\n    private GetCommentPageExpectationTester(Builder builder) {\r\n        this.serializedResponseBody = builder.serializedResponseBody;\r\n        this.expectedPageCount = builder.expectedPageCount;\r\n        this.expectedPageDtoListSize = builder.expectedPageDtoListSize;\r\n        this.expectedFirstCommentId = builder.expectedFirstCommentId;\r\n        this.expectedCommentText = builder.expectedCommentText;\r\n        this.expectedQuestionId = builder.expectedQuestionId;\r\n        this.expectedOwnerId = builder.expectedOwnerId;\r\n        this.expectedOwnerUsername = builder.expectedOwnerUsername;\r\n        this.objectMapper = new ObjectMapper();\r\n    }\r\n    @Override\r\n    public void test() throws JsonProcessingException {\r\n        Data&lt;Page&lt;QuestionCommentResponseDto&gt;&gt; deserializedResponseBody =\r\n                objectMapper.readValue(serializedResponseBody, Data.class); // once I post it on CodeReview, you may comment on this unchecked cast\r\n        assertNotNull(deserializedResponseBody.getData());\r\n        Page&lt;QuestionCommentResponseDto&gt; page = deserializedResponseBody.getData();\r\n        assertEquals(expectedPageCount, page.getCount());\r\n        assertNotNull(page.getDtos());\r\n        List&lt;QuestionCommentResponseDto&gt; dtoList = page.getDtos();\r\n        assertEquals(expectedPageDtoListSize, dtoList.size());\r\n\r\n        QuestionCommentResponseDto dto;\r\n        for (int i = 1; i &lt;= dtoList.size(); i++) {\r\n            dto = dtoList.get(i);\r\n            assertEquals(expectedFirstCommentId, dto.getId());\r\n            assertEquals(expectedQuestionId, dto.getQuestionId());\r\n            assertEquals(expectedCommentText, dto.getText());\r\n            assertNotNull(dto.getCreatedDate());\r\n            assertNotNull(dto.getModifiedDate());\r\n\r\n            AccountResponseDto actualOwner = dto.getOwner();\r\n            assertEquals(expectedOwnerId, actualOwner.getId());\r\n            assertEquals(expectedOwnerUsername, actualOwner.getUsername());\r\n        }\r\n    }\r\n    public static class Builder {\r\n        private final String serializedResponseBody;\r\n        private int expectedPageCount;\r\n        private int expectedPageDtoListSize;\r\n        private int expectedFirstCommentId = 1;\r\n        private String expectedCommentText = &quot;text&quot;;\r\n        private int expectedQuestionId = 1;\r\n        private int expectedOwnerId = 1;\r\n        private String expectedOwnerUsername;\r\n\r\n        public Builder(MockHttpServletResponse response) throws UnsupportedEncodingException {\r\n            this.serializedResponseBody = response.getContentAsString();\r\n        }\r\n\r\n        public Builder setExpectedPageCount(int expectedPageCount) {\r\n            this.expectedPageCount = expectedPageCount;\r\n            return this;\r\n        }\r\n        public Builder setExpectedPageDtoListSize(int expectedPageDtoListSize) {\r\n            this.expectedPageDtoListSize = expectedPageDtoListSize;\r\n            return this;\r\n        }\r\n        // the rest of the setters are omitted\r\n        public GetCommentPageExpectationTester build() {\r\n            return new GetCommentPageExpectationTester(this);\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I call `build()`, it invokes a private constructor and returns the instance of the top-level class copying the field values of the `Builder`. Now, suppose I want `ObjectMapper` autowired. I annotate both the top-level class and the `Builder` as `@Component`s. Then if I call `build()`, `ObjectMapper` isn&#39;t going to be injected, is it?, since the top-level class instance is going to be created with a simple constructor call, it&#39;s not coming from the Spring container, is it? **Can I have a builder like that while also autowiring dependencies?** While in this case I can simply initialize the `ObjectMapper` field with a no-args constructor (hoping it&#39;s going to be the same `ObjectMapper` as the autowired one), it may make sense for &quot;expectation testers&quot; that use an `EntityManager`\r\n```java\r\n// most fields are omitted for brevity\r\n@Component\r\npublic class GetCommentExpectationTester implements ExpectationTester {\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n    @Override\r\n    public void test() {\r\n        assertTrue(entityManager.createQuery(&quot;&quot;&quot;\r\n                SELECT COUNT(qc.id) = 1\r\n                FROM QuestionComment qc\r\n                JOIN qc.owner ow\r\n                JOIN qc.question q\r\n                WHERE qc.createdDate IS NOT NULL\r\n                AND qc.modifiedDate IS NOT NULL\r\n                AND qc.text = &#39;text&#39;\r\n                AND ow.id = 1\r\n                AND q.id = 1\r\n                &quot;&quot;&quot;, Boolean.class)\r\n                .getSingleResult());\r\n    }\r\n```\r\nI can autowire a field, an `ObjectMapper` or an `EntityManager` for example, at the `Builder` level. But then I won&#39;t be able to create a `Builder` instance and pass a response right in a test method like that, will I?\r\n\r\nI can also simply pass the autowired `EntityManager` as a method argument (the test class has one) when creating a `Builder` instance. But since reading Robert Martin&#39;s books, I am super-wary of passing anything. The less you pass, the better, that&#39;s my takeaway","title":"How do I make the &quot;builder&quot; design pattern and Spring dependency injection compatible with each other?","body":"<p>How compatible are the &quot;builder&quot; design pattern and Spring dependency injection? Consider this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // inserting sample rows\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;) // truncating\n    private void getPageOneDefaultTest() throws Exception {\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + &quot;page/&quot; + 1)\n                        .header(HttpHeaders.AUTHORIZATION, token))\n                .andExpect(status().isOk())\n                .andReturn()\n                .getResponse();\n\n        /*\n        The whole idea with &quot;expectation testers&quot; may look a bit unusual, but if you consider that\n        I also have methods getPageOneSizeFiveTest(), getPageTwoSizeFiveTest() (probably, I\n        should add more of them for a better coverage), you should realize it removes a lot of\n        code duplication\n        */\n\n        expectationTester = new GetCommentPageExpectationTester.Builder(response)\n                .setExpectedPageCount(10)\n                .setExpectedPageDtoListSize(10)\n                .setExpectedOwnerUsername(&quot;mickey_m&quot;)\n                .build();\n\n        expectationTester.test();\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class GetCommentPageExpectationTester implements ExpectationTester {\n    private final String serializedResponseBody;\n    private final int expectedPageCount;\n    private final int expectedPageDtoListSize;\n    private final int expectedFirstCommentId;\n    private final String expectedCommentText;\n    private final int expectedQuestionId;\n    private final int expectedOwnerId;\n    private final String expectedOwnerUsername;\n    private final ObjectMapper objectMapper;\n\n    private GetCommentPageExpectationTester(Builder builder) {\n        this.serializedResponseBody = builder.serializedResponseBody;\n        this.expectedPageCount = builder.expectedPageCount;\n        this.expectedPageDtoListSize = builder.expectedPageDtoListSize;\n        this.expectedFirstCommentId = builder.expectedFirstCommentId;\n        this.expectedCommentText = builder.expectedCommentText;\n        this.expectedQuestionId = builder.expectedQuestionId;\n        this.expectedOwnerId = builder.expectedOwnerId;\n        this.expectedOwnerUsername = builder.expectedOwnerUsername;\n        this.objectMapper = new ObjectMapper();\n    }\n    @Override\n    public void test() throws JsonProcessingException {\n        Data&lt;Page&lt;QuestionCommentResponseDto&gt;&gt; deserializedResponseBody =\n                objectMapper.readValue(serializedResponseBody, Data.class); // once I post it on CodeReview, you may comment on this unchecked cast\n        assertNotNull(deserializedResponseBody.getData());\n        Page&lt;QuestionCommentResponseDto&gt; page = deserializedResponseBody.getData();\n        assertEquals(expectedPageCount, page.getCount());\n        assertNotNull(page.getDtos());\n        List&lt;QuestionCommentResponseDto&gt; dtoList = page.getDtos();\n        assertEquals(expectedPageDtoListSize, dtoList.size());\n\n        QuestionCommentResponseDto dto;\n        for (int i = 1; i &lt;= dtoList.size(); i++) {\n            dto = dtoList.get(i);\n            assertEquals(expectedFirstCommentId, dto.getId());\n            assertEquals(expectedQuestionId, dto.getQuestionId());\n            assertEquals(expectedCommentText, dto.getText());\n            assertNotNull(dto.getCreatedDate());\n            assertNotNull(dto.getModifiedDate());\n\n            AccountResponseDto actualOwner = dto.getOwner();\n            assertEquals(expectedOwnerId, actualOwner.getId());\n            assertEquals(expectedOwnerUsername, actualOwner.getUsername());\n        }\n    }\n    public static class Builder {\n        private final String serializedResponseBody;\n        private int expectedPageCount;\n        private int expectedPageDtoListSize;\n        private int expectedFirstCommentId = 1;\n        private String expectedCommentText = &quot;text&quot;;\n        private int expectedQuestionId = 1;\n        private int expectedOwnerId = 1;\n        private String expectedOwnerUsername;\n\n        public Builder(MockHttpServletResponse response) throws UnsupportedEncodingException {\n            this.serializedResponseBody = response.getContentAsString();\n        }\n\n        public Builder setExpectedPageCount(int expectedPageCount) {\n            this.expectedPageCount = expectedPageCount;\n            return this;\n        }\n        public Builder setExpectedPageDtoListSize(int expectedPageDtoListSize) {\n            this.expectedPageDtoListSize = expectedPageDtoListSize;\n            return this;\n        }\n        // the rest of the setters are omitted\n        public GetCommentPageExpectationTester build() {\n            return new GetCommentPageExpectationTester(this);\n        }\n    }\n}\n</code></pre>\n<p>When I call <code>build()</code>, it invokes a private constructor and returns the instance of the top-level class copying the field values of the <code>Builder</code>. Now, suppose I want <code>ObjectMapper</code> autowired. I annotate both the top-level class and the <code>Builder</code> as <code>@Component</code>s. Then if I call <code>build()</code>, <code>ObjectMapper</code> isn't going to be injected, is it?, since the top-level class instance is going to be created with a simple constructor call, it's not coming from the Spring container, is it? <strong>Can I have a builder like that while also autowiring dependencies?</strong> While in this case I can simply initialize the <code>ObjectMapper</code> field with a no-args constructor (hoping it's going to be the same <code>ObjectMapper</code> as the autowired one), it may make sense for &quot;expectation testers&quot; that use an <code>EntityManager</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>// most fields are omitted for brevity\n@Component\npublic class GetCommentExpectationTester implements ExpectationTester {\n    @PersistenceContext\n    private EntityManager entityManager;\n    @Override\n    public void test() {\n        assertTrue(entityManager.createQuery(&quot;&quot;&quot;\n                SELECT COUNT(qc.id) = 1\n                FROM QuestionComment qc\n                JOIN qc.owner ow\n                JOIN qc.question q\n                WHERE qc.createdDate IS NOT NULL\n                AND qc.modifiedDate IS NOT NULL\n                AND qc.text = 'text'\n                AND ow.id = 1\n                AND q.id = 1\n                &quot;&quot;&quot;, Boolean.class)\n                .getSingleResult());\n    }\n</code></pre>\n<p>I can autowire a field, an <code>ObjectMapper</code> or an <code>EntityManager</code> for example, at the <code>Builder</code> level. But then I won't be able to create a <code>Builder</code> instance and pass a response right in a test method like that, will I?</p>\n<p>I can also simply pass the autowired <code>EntityManager</code> as a method argument (the test class has one) when creating a <code>Builder</code> instance. But since reading Robert Martin's books, I am super-wary of passing anything. The less you pass, the better, that's my takeaway</p>\n"},{"tags":["java","htmlunit","htmlunit-driver"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685203827,"post_id":76347317,"comment_id":134630403,"body_markdown":"Is there a specific line that the exception is propagating from?","body":"Is there a specific line that the exception is propagating from?"},{"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"score":0,"creation_date":1685206404,"post_id":76347317,"comment_id":134630724,"body_markdown":"@Reilas Hi, I have added more details to the question, from the exception that I&#39;m getting. I think it is happening when driver clicks on the submit button and next page starts loading. I&#39;m just trying to find if I can set some config or whatever not to fail because of that kind of errors, if that&#39;s possible. Thanks","body":"@Reilas Hi, I have added more details to the question, from the exception that I&#39;m getting. I think it is happening when driver clicks on the submit button and next page starts loading. I&#39;m just trying to find if I can set some config or whatever not to fail because of that kind of errors, if that&#39;s possible. Thanks"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685213009,"post_id":76347317,"comment_id":134631425,"body_markdown":"You&#39;re _try-catch_ is missing a bracket.","body":"You&#39;re <i>try-catch</i> is missing a bracket."}],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685209640,"creation_date":1685209640,"answer_id":76348257,"question_id":76347317,"body_markdown":"    webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\nprevents throwing the exception but still logs the exception.\r\n\r\nSo you did everything right - just ignore the log output (if you are sure that this js is not used) or disable the logging.\r\n\r\nTechnical details:\r\nThe exception is triggered by the js engine, catched by HtmlUnit, always logged (like the browsers doing in the console) and if ThrowExceptionOnScriptError is true the exception is thrown - otherwise ignored.","title":"How to prevent HtmlUnit from throwing an error that is in the javascript?","body":"<pre><code>webClient.getOptions().setThrowExceptionOnScriptError(false);\n</code></pre>\n<p>prevents throwing the exception but still logs the exception.</p>\n<p>So you did everything right - just ignore the log output (if you are sure that this js is not used) or disable the logging.</p>\n<p>Technical details:\nThe exception is triggered by the js engine, catched by HtmlUnit, always logged (like the browsers doing in the console) and if ThrowExceptionOnScriptError is true the exception is thrown - otherwise ignored.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685212702,"creation_date":1685212702,"answer_id":76348461,"question_id":76347317,"body_markdown":"\r\n\r\nI used _[JSLint.com](https://www.jslint.com/)_ for this.\r\n\r\nYou are missing a closing block bracket, `}`, for the _try_ portion of your try-catch block.\r\n\r\n```javascript\r\ncatch (Exception e){\r\n    System.out.println(&quot;ERROR &quot; + e);\r\n}\r\n```\r\n\r\nShould be\r\n\r\n```javascript\r\n} catch (Exception e){\r\n    System.out.println(&quot;ERROR &quot; + e);\r\n}\r\n```","title":"How to prevent HtmlUnit from throwing an error that is in the javascript?","body":"<p>I used <em><a href=\"https://www.jslint.com/\" rel=\"nofollow noreferrer\">JSLint.com</a></em> for this.</p>\n<p>You are missing a closing block bracket, <code>}</code>, for the <em>try</em> portion of your try-catch block.</p>\n<pre class=\"lang-js prettyprint-override\"><code>catch (Exception e){\n    System.out.println(&quot;ERROR &quot; + e);\n}\n</code></pre>\n<p>Should be</p>\n<pre class=\"lang-js prettyprint-override\"><code>} catch (Exception e){\n    System.out.println(&quot;ERROR &quot; + e);\n}\n</code></pre>\n"}],"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76348257,"answer_count":2,"score":1,"last_activity_date":1685212702,"creation_date":1685196555,"question_id":76347317,"body_markdown":"I&#39;m trying to login to one website, and after entering successfully username and password, and after clicking on submit button, I&#39;m getting the following:\r\n\r\n```\r\n2023-05-27 16:46:41.864 ERROR 296 --- [nio-8080-exec-2] c.g.h.j.DefaultJavaScriptErrorListener   : Error during JavaScript execution\r\n\r\ncom.gargoylesoftware.htmlunit.ScriptException: ReferenceError: &quot;scp&quot; is not defined. (https://me.scp.com/resources/~202305241435~/scp-ui-custom-3.js#17293)\r\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001) ~[htmlunit-2.70.0.jar:2.70.0]\r\n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590) ~[htmlunit-core-js-2.70.0.jar:na]\r\n...\r\ncaused by: 2023-05-27 16:46:40.968 ERROR 296 --- [nio-8080-exec-2] c.g.h.j.DefaultJavaScriptErrorListener   : Error during JavaScript execution\r\ncom.gargoylesoftware.htmlunit.ScriptException: missing ; before statement (https://me.ssp.com/resources/~202305241435~/scp-ui-custom-2.js#58)\r\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001) ~[htmlunit-2.70.0.jar:2.70.0]\r\n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590) ~[htmlunit-core-js-2.70.0.jar:na] \r\n```\r\n\r\n\r\nI don&#39;t care if there is some error in some Javascript code on that site, I just want to get some element when the page loads. And the page is loading just fine, when I go to it manually.\r\n\r\nHere is my code, and what I have tried:\r\n\r\n\r\n         try (final WebClient webClient = new WebClient(BrowserVersion.FIREFOX)) {\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n    \r\n            HtmlPage page = webClient.getPage(&quot;https://me.spc.com/systems&quot;);\r\n\r\n            HtmlForm loginForm = (HtmlForm) page.getElementById(&quot;logOnForm&quot;);\r\n\r\n            loginForm.getInputByName(&quot;j_username&quot;).type(&quot;my_username&quot;);\r\n\r\n            HtmlElement userNameSubmit = (HtmlElement) page.getElementById(&quot;logOnFormSubmit&quot;);\r\n            page = (HtmlPage) userNameSubmit.click();\r\n\r\n            HtmlForm passForm = (HtmlForm) page.getElementById(&quot;logOnForm&quot;);\r\n\r\n            passForm.getInputByName(&quot;j_password&quot;).type(&quot;password123&quot;);\r\n\r\n            HtmlElement passwordSubmit = (HtmlElement) page.getElementById(&quot;logOnFormSubmit&quot;);\r\n            \r\n            page = (HtmlPage) passwordSubmit.click();\r\n\r\n        catch (Exception e){\r\n            System.out.println(&quot;ERROR &quot; + e);\r\n        }\r\n\r\nAs you can see, I&#39;ve added the webClient.getOptions().setThrowExceptionOnScriptError(false), but it didn&#39;t help.\r\n\r\nThanks","title":"How to prevent HtmlUnit from throwing an error that is in the javascript?","body":"<p>I'm trying to login to one website, and after entering successfully username and password, and after clicking on submit button, I'm getting the following:</p>\n<pre><code>2023-05-27 16:46:41.864 ERROR 296 --- [nio-8080-exec-2] c.g.h.j.DefaultJavaScriptErrorListener   : Error during JavaScript execution\n\ncom.gargoylesoftware.htmlunit.ScriptException: ReferenceError: &quot;scp&quot; is not defined. (https://me.scp.com/resources/~202305241435~/scp-ui-custom-3.js#17293)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001) ~[htmlunit-2.70.0.jar:2.70.0]\n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590) ~[htmlunit-core-js-2.70.0.jar:na]\n...\ncaused by: 2023-05-27 16:46:40.968 ERROR 296 --- [nio-8080-exec-2] c.g.h.j.DefaultJavaScriptErrorListener   : Error during JavaScript execution\ncom.gargoylesoftware.htmlunit.ScriptException: missing ; before statement (https://me.ssp.com/resources/~202305241435~/scp-ui-custom-2.js#58)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001) ~[htmlunit-2.70.0.jar:2.70.0]\n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590) ~[htmlunit-core-js-2.70.0.jar:na] \n</code></pre>\n<p>I don't care if there is some error in some Javascript code on that site, I just want to get some element when the page loads. And the page is loading just fine, when I go to it manually.</p>\n<p>Here is my code, and what I have tried:</p>\n<pre><code>     try (final WebClient webClient = new WebClient(BrowserVersion.FIREFOX)) {\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n\n        HtmlPage page = webClient.getPage(&quot;https://me.spc.com/systems&quot;);\n\n        HtmlForm loginForm = (HtmlForm) page.getElementById(&quot;logOnForm&quot;);\n\n        loginForm.getInputByName(&quot;j_username&quot;).type(&quot;my_username&quot;);\n\n        HtmlElement userNameSubmit = (HtmlElement) page.getElementById(&quot;logOnFormSubmit&quot;);\n        page = (HtmlPage) userNameSubmit.click();\n\n        HtmlForm passForm = (HtmlForm) page.getElementById(&quot;logOnForm&quot;);\n\n        passForm.getInputByName(&quot;j_password&quot;).type(&quot;password123&quot;);\n\n        HtmlElement passwordSubmit = (HtmlElement) page.getElementById(&quot;logOnFormSubmit&quot;);\n        \n        page = (HtmlPage) passwordSubmit.click();\n\n    catch (Exception e){\n        System.out.println(&quot;ERROR &quot; + e);\n    }\n</code></pre>\n<p>As you can see, I've added the webClient.getOptions().setThrowExceptionOnScriptError(false), but it didn't help.</p>\n<p>Thanks</p>\n"},{"tags":["java","dictionary","hashmap"],"comments":[{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1634532086,"post_id":922528,"comment_id":123040340,"body_markdown":"Provided you cannot use TreeMap, in Java 8 we can make use of toMap() method : https://stackoverflow.com/a/40649809/1216775","body":"Provided you cannot use TreeMap, in Java 8 we can make use of toMap() method : <a href=\"https://stackoverflow.com/a/40649809/1216775\">stackoverflow.com/a/40649809/1216775</a>"}],"answers":[{"tags":[],"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"down_vote_count":0,"up_vote_count":726,"is_accepted":false,"score":726,"last_activity_date":1652817599,"creation_date":1243536239,"answer_id":922533,"question_id":922528,"body_markdown":"Short answer\r\n------------\r\n\r\nUse a [`TreeMap`][1].  This is precisely what it&#39;s for.  \r\n\r\nIf this map is passed to you and you cannot determine the type, then you can do the following:\r\n\r\n    SortedSet&lt;String&gt; keys = new TreeSet&lt;&gt;(map.keySet());\r\n    for (String key : keys) { \r\n       String value = map.get(key);\r\n       // do something\r\n    }\r\n\r\nThis will iterate across the map in natural order of the keys.\r\n\r\n----------\r\n\r\nLonger answer\r\n-------------\r\n\r\nTechnically, you can use anything that implements `SortedMap`, but except for rare cases this amounts to `TreeMap`, just as using a `Map` implementation typically amounts to `HashMap`.  \r\n\r\nFor cases where your keys are a complex type that doesn&#39;t implement Comparable or you don&#39;t want to use the natural order then `TreeMap` and `TreeSet` have additional constructors that let you pass in a `Comparator`:\r\n\r\n    // placed inline for the demonstration, but doesn&#39;t have to be a lambda expression\r\n    Comparator&lt;Foo&gt; comparator = (Foo o1, Foo o2) -&gt; {\r\n            ...\r\n        }\r\n    \r\n    SortedSet&lt;Foo&gt; keys = new TreeSet&lt;&gt;(comparator);\r\n    keys.addAll(map.keySet());\r\n\r\nRemember when using a `TreeMap` or `TreeSet` that it will have different performance characteristics than `HashMap` or `HashSet`.  Roughly speaking operations that find or insert an element will go from **O(1)** to **O(Log(N))**.\r\n\r\nIn a `HashMap`, moving from 1000 items to 10,000 doesn&#39;t really affect your time to lookup an element, but for a `TreeMap` the lookup time will be about 1.3 times slower (assuming Log&lt;sub&gt;2&lt;/sub&gt;).  Moving from 1000 to 100,000 will be about 1.6 times slower for every element lookup.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html","title":"How can I sort Map values by key in Java?","body":"<h2>Short answer</h2>\n<p>Use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"noreferrer\"><code>TreeMap</code></a>.  This is precisely what it's for.</p>\n<p>If this map is passed to you and you cannot determine the type, then you can do the following:</p>\n<pre><code>SortedSet&lt;String&gt; keys = new TreeSet&lt;&gt;(map.keySet());\nfor (String key : keys) { \n   String value = map.get(key);\n   // do something\n}\n</code></pre>\n<p>This will iterate across the map in natural order of the keys.</p>\n<hr />\n<h2>Longer answer</h2>\n<p>Technically, you can use anything that implements <code>SortedMap</code>, but except for rare cases this amounts to <code>TreeMap</code>, just as using a <code>Map</code> implementation typically amounts to <code>HashMap</code>.</p>\n<p>For cases where your keys are a complex type that doesn't implement Comparable or you don't want to use the natural order then <code>TreeMap</code> and <code>TreeSet</code> have additional constructors that let you pass in a <code>Comparator</code>:</p>\n<pre><code>// placed inline for the demonstration, but doesn't have to be a lambda expression\nComparator&lt;Foo&gt; comparator = (Foo o1, Foo o2) -&gt; {\n        ...\n    }\n\nSortedSet&lt;Foo&gt; keys = new TreeSet&lt;&gt;(comparator);\nkeys.addAll(map.keySet());\n</code></pre>\n<p>Remember when using a <code>TreeMap</code> or <code>TreeSet</code> that it will have different performance characteristics than <code>HashMap</code> or <code>HashSet</code>.  Roughly speaking operations that find or insert an element will go from <strong>O(1)</strong> to <strong>O(Log(N))</strong>.</p>\n<p>In a <code>HashMap</code>, moving from 1000 items to 10,000 doesn't really affect your time to lookup an element, but for a <code>TreeMap</code> the lookup time will be about 1.3 times slower (assuming Log<sub>2</sub>).  Moving from 1000 to 100,000 will be about 1.6 times slower for every element lookup.</p>\n"},{"tags":[],"owner":{"account_id":1071,"reputation":53188,"user_id":1423,"accept_rate":71,"display_name":"AgileJon"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1326340091,"creation_date":1243536283,"answer_id":922537,"question_id":922528,"body_markdown":"Use a [TreeMap][1]!\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/TreeMap.html","title":"How can I sort Map values by key in Java?","body":"<p>Use a <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/TreeMap.html\" rel=\"noreferrer\">TreeMap</a>!</p>\n"},{"tags":[],"owner":{"account_id":25758,"reputation":7242,"user_id":66490,"display_name":"TrayMan"},"down_vote_count":2,"up_vote_count":163,"is_accepted":false,"score":161,"last_activity_date":1243581458,"creation_date":1243537401,"answer_id":922624,"question_id":922528,"body_markdown":"Assuming TreeMap is not good for you (and assuming you can&#39;t use generics):\r\n\r\n    List sortedKeys=new ArrayList(yourMap.keySet());\r\n    Collections.sort(sortedKeys);\r\n    // Do what you need with sortedKeys.\r\n","title":"How can I sort Map values by key in Java?","body":"<p>Assuming TreeMap is not good for you (and assuming you can't use generics):</p>\n\n<pre><code>List sortedKeys=new ArrayList(yourMap.keySet());\nCollections.sort(sortedKeys);\n// Do what you need with sortedKeys.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023933,"reputation":857,"user_id":1033646,"display_name":"Manoj Singh"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1660574975,"creation_date":1320665661,"answer_id":8035899,"question_id":922528,"body_markdown":"    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    for (String str : map.keySet()) {\r\n      list.add(str);\r\n    }\r\n\r\n    Collections.sort(list);\r\n\r\n    for (String str : list) {\r\n      System.out.println(str);\r\n    }\r\n\r\n","title":"How can I sort Map values by key in Java?","body":"<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nfor (String str : map.keySet()) {\n  list.add(str);\n}\n\nCollections.sort(list);\n\nfor (String str : list) {\n  System.out.println(str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023933,"reputation":857,"user_id":1033646,"display_name":"Manoj Singh"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1660575033,"creation_date":1320665856,"answer_id":8035932,"question_id":922528,"body_markdown":"We can also sort the key by using Arrays.sort method.\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    Object[] objArr = new Object[map.size()];\r\n\r\n    for (int i = 0; i &lt; map.size(); i++) {\r\n        objArr[i] = map.get(i);\r\n    }\r\n\r\n    Arrays.sort(objArr);\r\n\r\n    for (Object str : objArr) {\r\n        System.out.println(str);\r\n    }\r\n\r\n\r\n","title":"How can I sort Map values by key in Java?","body":"<p>We can also sort the key by using Arrays.sort method.</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nObject[] objArr = new Object[map.size()];\n\nfor (int i = 0; i &lt; map.size(); i++) {\n    objArr[i] = map.get(i);\n}\n\nArrays.sort(objArr);\n\nfor (Object str : objArr) {\n    System.out.println(str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023933,"reputation":857,"user_id":1033646,"display_name":"Manoj Singh"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1520422647,"creation_date":1320666692,"answer_id":8036079,"question_id":922528,"body_markdown":"Using the `TreeMap` you can sort the map.\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();        \r\n    Map&lt;String, String&gt; treeMap = new TreeMap&lt;&gt;(map);\r\n    for (String str : treeMap.keySet()) {\r\n        System.out.println(str);\r\n    }\r\n\r\n","title":"How can I sort Map values by key in Java?","body":"<p>Using the <code>TreeMap</code> you can sort the map.</p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();        \nMap&lt;String, String&gt; treeMap = new TreeMap&lt;&gt;(map);\nfor (String str : treeMap.keySet()) {\n    System.out.println(str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096223,"reputation":10257,"user_id":1089770,"accept_rate":50,"display_name":"M-D"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1660575188,"creation_date":1377064733,"answer_id":18349840,"question_id":922528,"body_markdown":"If you already have a map and would like to sort it on keys, simply use:\r\n\r\n    Map&lt;String, String&gt; treeMap = new TreeMap&lt;String, String&gt;(yourMap);\r\n\r\nA complete working example:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Set;\r\n    import java.util.Map;\r\n    import java.util.TreeMap;\r\n    import java.util.Iterator;\r\n\r\n    class SortOnKey {\r\n\r\n        public static void main(String[] args) {\r\n           HashMap&lt;String, String&gt; hm = new HashMap&lt;String, String&gt;();\r\n           hm.put(&quot;3&quot;, &quot;three&quot;);\r\n           hm.put(&quot;1&quot;, &quot;one&quot;);\r\n           hm.put(&quot;4&quot;, &quot;four&quot;);\r\n           hm.put(&quot;2&quot;, &quot;two&quot;);\r\n           printMap(hm);\r\n           Map&lt;String, String&gt; treeMap = new TreeMap&lt;String, String&gt;(hm);\r\n           printMap(treeMap);\r\n        } // main\r\n\r\n        public static void printMap(Map&lt;String, String&gt; map) {\r\n            Set s = map.entrySet();\r\n            Iterator it = s.iterator();\r\n            while (it.hasNext()) {\r\n               Map.Entry entry = (Map.Entry) it.next();\r\n               String key = (String) entry.getKey();\r\n               String value = (String) entry.getValue();\r\n               System.out.println(key + &quot; =&gt; &quot; + value);\r\n            } // while\r\n            System.out.println(&quot;========================&quot;);\r\n        } // printMap\r\n\r\n    } // class\r\n\r\n\r\n\r\n","title":"How can I sort Map values by key in Java?","body":"<p>If you already have a map and would like to sort it on keys, simply use:</p>\n<pre><code>Map&lt;String, String&gt; treeMap = new TreeMap&lt;String, String&gt;(yourMap);\n</code></pre>\n<p>A complete working example:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Set;\nimport java.util.Map;\nimport java.util.TreeMap;\nimport java.util.Iterator;\n\nclass SortOnKey {\n\n    public static void main(String[] args) {\n       HashMap&lt;String, String&gt; hm = new HashMap&lt;String, String&gt;();\n       hm.put(&quot;3&quot;, &quot;three&quot;);\n       hm.put(&quot;1&quot;, &quot;one&quot;);\n       hm.put(&quot;4&quot;, &quot;four&quot;);\n       hm.put(&quot;2&quot;, &quot;two&quot;);\n       printMap(hm);\n       Map&lt;String, String&gt; treeMap = new TreeMap&lt;String, String&gt;(hm);\n       printMap(treeMap);\n    } // main\n\n    public static void printMap(Map&lt;String, String&gt; map) {\n        Set s = map.entrySet();\n        Iterator it = s.iterator();\n        while (it.hasNext()) {\n           Map.Entry entry = (Map.Entry) it.next();\n           String key = (String) entry.getKey();\n           String value = (String) entry.getValue();\n           System.out.println(key + &quot; =&gt; &quot; + value);\n        } // while\n        System.out.println(&quot;========================&quot;);\n    } // printMap\n\n} // class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392882,"reputation":2045,"user_id":754426,"accept_rate":92,"display_name":"Aliti"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1660575217,"creation_date":1424270236,"answer_id":28586236,"question_id":922528,"body_markdown":"Just use TreeMap:\r\n\r\n    new TreeMap&lt;String, String&gt;(unsortMap);\r\n\r\nBe aware that the TreeMap is sorted according to the natural ordering of its &#39;keys&#39;.\r\n\r\n\r\n\r\n","title":"How can I sort Map values by key in Java?","body":"<p>Just use TreeMap:</p>\n<pre><code>new TreeMap&lt;String, String&gt;(unsortMap);\n</code></pre>\n<p>Be aware that the TreeMap is sorted according to the natural ordering of its 'keys'.</p>\n"},{"tags":[],"owner":{"account_id":6958148,"reputation":934,"user_id":5338542,"accept_rate":78,"display_name":"Morteza Mashayekhi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660575270,"creation_date":1448398581,"answer_id":33903633,"question_id":922528,"body_markdown":"This code can sort a key-value map in both orders, i.e., ascending and descending.\r\n\r\n    &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortByValues\r\n         (final Map&lt;K, V&gt; map, int ascending)\r\n    {\r\n         Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\r\n            private int ascending;\r\n            public int compare(K k1, K k2) {\r\n                int compare = map.get(k2).compareTo(map.get(k1));\r\n                if (compare == 0)\r\n                    return 1;\r\n                else\r\n                    return ascending*compare;\r\n            }\r\n            public Comparator&lt;K&gt; setParam(int ascending)\r\n            {\r\n                  this.ascending = ascending;\r\n                  return this;\r\n            }\r\n        }.setParam(ascending);\r\n\r\n        Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\r\n        sortedByValues.putAll(map);\r\n        return sortedByValues;\r\n    }\r\n\r\nAs an example:\r\n\r\n    Map&lt;Integer, Double&gt; recommWarrVals = new HashMap&lt;Integer, Double&gt;();\r\n    recommWarrVals = sortByValues(recommWarrVals, 1);  // Ascending order\r\n    recommWarrVals = sortByValues(recommWarrVals, -1);  // Descending order\r\n\r\n\r\n\r\n\r\n","title":"How can I sort Map values by key in Java?","body":"<p>This code can sort a key-value map in both orders, i.e., ascending and descending.</p>\n<pre><code>&lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sortByValues\n     (final Map&lt;K, V&gt; map, int ascending)\n{\n     Comparator&lt;K&gt; valueComparator =  new Comparator&lt;K&gt;() {\n        private int ascending;\n        public int compare(K k1, K k2) {\n            int compare = map.get(k2).compareTo(map.get(k1));\n            if (compare == 0)\n                return 1;\n            else\n                return ascending*compare;\n        }\n        public Comparator&lt;K&gt; setParam(int ascending)\n        {\n              this.ascending = ascending;\n              return this;\n        }\n    }.setParam(ascending);\n\n    Map&lt;K, V&gt; sortedByValues = new TreeMap&lt;K, V&gt;(valueComparator);\n    sortedByValues.putAll(map);\n    return sortedByValues;\n}\n</code></pre>\n<p>As an example:</p>\n<pre><code>Map&lt;Integer, Double&gt; recommWarrVals = new HashMap&lt;Integer, Double&gt;();\nrecommWarrVals = sortByValues(recommWarrVals, 1);  // Ascending order\nrecommWarrVals = sortByValues(recommWarrVals, -1);  // Descending order\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1660575376,"creation_date":1479370867,"answer_id":40649809,"question_id":922528,"body_markdown":"Provided you cannot use `TreeMap`, in **Java 8** we can make use of the [toMap()][1] method in `Collectors` which takes the following parameters:\r\n\r\n - **keymapper**: mapping function to produce keys\r\n - **valuemapper**: mapping function to produce values\r\n - **mergeFunction**: a merge function, used to resolve collisions between values associated with the same key\r\n - **mapSupplier**: a function which returns a new, empty Map into which the\r\n   results will be inserted.\r\n\r\n**Java 8 Example**\r\n\r\n    Map&lt;String, String&gt; sample = new HashMap&lt;&gt;(); // Push some values to map\r\n    Map&lt;String, String&gt; newMapSortedByKey = sample.entrySet().stream()\r\n                        .sorted(Map.Entry.&lt;String, String&gt;comparingByKey().reversed())\r\n                        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n    Map&lt;String, String&gt; newMapSortedByValue = sample.entrySet().stream()\r\n                            .sorted(Map.Entry.&lt;String, String&gt;comparingByValue().reversed())\r\n                            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\nWe can modify the example to use custom comparator and to sort based on keys as:\r\n\r\n    Map&lt;String, String&gt; newMapSortedByKey = sample.entrySet().stream()\r\n                    .sorted((e1, e2) -&gt; e1.getKey().compareTo(e2.getKey()))\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\r\n\r\n\r\n\r\n\r\n","title":"How can I sort Map values by key in Java?","body":"<p>Provided you cannot use <code>TreeMap</code>, in <strong>Java 8</strong> we can make use of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">toMap()</a> method in <code>Collectors</code> which takes the following parameters:</p>\n<ul>\n<li><strong>keymapper</strong>: mapping function to produce keys</li>\n<li><strong>valuemapper</strong>: mapping function to produce values</li>\n<li><strong>mergeFunction</strong>: a merge function, used to resolve collisions between values associated with the same key</li>\n<li><strong>mapSupplier</strong>: a function which returns a new, empty Map into which the\nresults will be inserted.</li>\n</ul>\n<p><strong>Java 8 Example</strong></p>\n<pre><code>Map&lt;String, String&gt; sample = new HashMap&lt;&gt;(); // Push some values to map\nMap&lt;String, String&gt; newMapSortedByKey = sample.entrySet().stream()\n                    .sorted(Map.Entry.&lt;String, String&gt;comparingByKey().reversed())\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\nMap&lt;String, String&gt; newMapSortedByValue = sample.entrySet().stream()\n                        .sorted(Map.Entry.&lt;String, String&gt;comparingByValue().reversed())\n                        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n<p>We can modify the example to use custom comparator and to sort based on keys as:</p>\n<pre><code>Map&lt;String, String&gt; newMapSortedByKey = sample.entrySet().stream()\n                .sorted((e1, e2) -&gt; e1.getKey().compareTo(e2.getKey()))\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517934401,"creation_date":1517934401,"answer_id":48647557,"question_id":922528,"body_markdown":"In Java 8 you can also use .stream().sorted():\r\n\r\n    myMap.keySet().stream().sorted().forEach(key -&gt; {\r\n            String value = myMap.get(key);\r\n    \r\n            System.out.println(&quot;key: &quot; + key);\r\n            System.out.println(&quot;value: &quot; + value);\r\n        }\r\n    );","title":"How can I sort Map values by key in Java?","body":"<p>In Java 8 you can also use .stream().sorted():</p>\n\n<pre><code>myMap.keySet().stream().sorted().forEach(key -&gt; {\n        String value = myMap.get(key);\n\n        System.out.println(\"key: \" + key);\n        System.out.println(\"value: \" + value);\n    }\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1530739642,"creation_date":1523722972,"answer_id":49833590,"question_id":922528,"body_markdown":"In Java 8\r\n---\r\n\r\nTo sort a `Map&lt;K, V&gt;` by key, putting keys into a `List&lt;K&gt;`:\r\n\r\n    List&lt;K&gt; result = map.keySet().stream().sorted().collect(Collectors.toList());\r\n\r\nTo sort a `Map&lt;K, V&gt;` by key, putting entries into a `List&lt;Map.Entry&lt;K, V&gt;&gt;`:\r\n\r\n    List&lt;Map.Entry&lt;K, V&gt;&gt; result =\r\n        map.entrySet()\r\n           .stream()\r\n           .sorted(Map.Entry.comparingByKey())\r\n           .collect(Collectors.toList());\r\n\r\nLast but not least: to sort **strings** in a locale-sensitive manner - use a [Collator][1] (comparator) class:\r\n\r\n    Collator collator = Collator.getInstance(Locale.US);\r\n    collator.setStrength(Collator.PRIMARY); // case insensitive collator\r\n\r\n    List&lt;Map.Entry&lt;String, String&gt;&gt; result =\r\n        map.entrySet()\r\n           .stream()\r\n           .sorted(Map.Entry.comparingByKey(collator))\r\n           .collect(Collectors.toList());\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html","title":"How can I sort Map values by key in Java?","body":"<h2>In Java 8</h2>\n\n<p>To sort a <code>Map&lt;K, V&gt;</code> by key, putting keys into a <code>List&lt;K&gt;</code>:</p>\n\n<pre><code>List&lt;K&gt; result = map.keySet().stream().sorted().collect(Collectors.toList());\n</code></pre>\n\n<p>To sort a <code>Map&lt;K, V&gt;</code> by key, putting entries into a <code>List&lt;Map.Entry&lt;K, V&gt;&gt;</code>:</p>\n\n<pre><code>List&lt;Map.Entry&lt;K, V&gt;&gt; result =\n    map.entrySet()\n       .stream()\n       .sorted(Map.Entry.comparingByKey())\n       .collect(Collectors.toList());\n</code></pre>\n\n<p>Last but not least: to sort <strong>strings</strong> in a locale-sensitive manner - use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html\" rel=\"noreferrer\">Collator</a> (comparator) class:</p>\n\n<pre><code>Collator collator = Collator.getInstance(Locale.US);\ncollator.setStrength(Collator.PRIMARY); // case insensitive collator\n\nList&lt;Map.Entry&lt;String, String&gt;&gt; result =\n    map.entrySet()\n       .stream()\n       .sorted(Map.Entry.comparingByKey(collator))\n       .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6177253,"reputation":3097,"user_id":4813777,"display_name":"Taras Melnyk"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1525197176,"creation_date":1525197176,"answer_id":50121315,"question_id":922528,"body_markdown":"Using **Java 8:**\r\n\r\n    Map&lt;String, Integer&gt; sortedMap = unsortMap.entrySet().stream()\r\n                .sorted(Map.Entry.comparingByKey())\r\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\r\n                        (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));","title":"How can I sort Map values by key in Java?","body":"<p>Using <strong>Java 8:</strong></p>\n\n<pre><code>Map&lt;String, Integer&gt; sortedMap = unsortMap.entrySet().stream()\n            .sorted(Map.Entry.comparingByKey())\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue,\n                    (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660575568,"creation_date":1574353371,"answer_id":58979402,"question_id":922528,"body_markdown":"Just in case you don&#39;t want to use a `TreeMap`:\r\n\r\n```java\r\npublic static Map&lt;Integer, Integer&gt; sortByKey(Map&lt;Integer, Integer&gt; map) {\r\n    List&lt;Map.Entry&lt;Integer, Integer&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\r\n    list.sort(Comparator.comparingInt(Map.Entry::getKey));\r\n    Map&lt;Integer, Integer&gt; sortedMap = new LinkedHashMap&lt;&gt;();\r\n    list.forEach(e -&gt; sortedMap.put(e.getKey(), e.getValue()));\r\n    return sortedMap;\r\n}\r\n```\r\n\r\nAlso, in case you wanted to sort your map on the basis of `values`, just change `Map.Entry::getKey` to `Map.Entry::getValue`.\r\n\r\n\r\n","title":"How can I sort Map values by key in Java?","body":"<p>Just in case you don't want to use a <code>TreeMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;Integer, Integer&gt; sortByKey(Map&lt;Integer, Integer&gt; map) {\n    List&lt;Map.Entry&lt;Integer, Integer&gt;&gt; list = new ArrayList&lt;&gt;(map.entrySet());\n    list.sort(Comparator.comparingInt(Map.Entry::getKey));\n    Map&lt;Integer, Integer&gt; sortedMap = new LinkedHashMap&lt;&gt;();\n    list.forEach(e -&gt; sortedMap.put(e.getKey(), e.getValue()));\n    return sortedMap;\n}\n</code></pre>\n<p>Also, in case you wanted to sort your map on the basis of <code>values</code>, just change <code>Map.Entry::getKey</code> to <code>Map.Entry::getValue</code>.</p>\n"},{"tags":[],"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599582604,"creation_date":1599582604,"answer_id":63798028,"question_id":922528,"body_markdown":"A good solution is provided [here][1].  We have a `HashMap` that stores values in unspecified order.  We define an auxiliary `TreeMap` and we copy all data from HashMap into TreeMap using the `putAll` method.  The resulting entries in the TreeMap are in the key-order.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/sorting-hashmap-according-key-value-java/","title":"How can I sort Map values by key in Java?","body":"<p>A good solution is provided <a href=\"https://www.geeksforgeeks.org/sorting-hashmap-according-key-value-java/\" rel=\"nofollow noreferrer\">here</a>.  We have a <code>HashMap</code> that stores values in unspecified order.  We define an auxiliary <code>TreeMap</code> and we copy all data from HashMap into TreeMap using the <code>putAll</code> method.  The resulting entries in the TreeMap are in the key-order.</p>\n"},{"tags":[],"owner":{"account_id":5329367,"reputation":1271,"user_id":4450211,"display_name":"iamdual"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1660676731,"creation_date":1615375614,"answer_id":66563815,"question_id":922528,"body_markdown":"Use `LinkedHashMap`, which provides the key ordering. It&#39;s also gives the same performance as `HashMap`. They both implement the `Map` interface, so you can just replace the initialization object `HashMap` to `LinkedHashMap`.\r\n","title":"How can I sort Map values by key in Java?","body":"<p>Use <code>LinkedHashMap</code>, which provides the key ordering. It's also gives the same performance as <code>HashMap</code>. They both implement the <code>Map</code> interface, so you can just replace the initialization object <code>HashMap</code> to <code>LinkedHashMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":1984972,"reputation":407,"user_id":1780480,"accept_rate":60,"display_name":"matio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660576068,"creation_date":1620327983,"answer_id":67424495,"question_id":922528,"body_markdown":"Use the below tree map:\r\n\r\n    Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;(Comparator.comparingInt(String::length)\r\n        .thenComparing(Function.identity()));\r\n\r\nWhatever you put in this sortedMap, it will be sorted automatically. First of all, ```TreeMap``` is sorted implementation of ```Map``` Interface.\r\n\r\nThere is a *but* as it sorts keys in the [natural order fashion][1]. As the Java documentation says, ```String``` type is a *lexicographic natural* order type. Imagine the below list of numbers with the String type. It means the below list will *not* be sorted as expected.\r\n\r\n`List&lt;String&gt; notSortedList = List.of(&quot;78&quot;,&quot;0&quot;, &quot;24&quot;, &quot;39&quot;, &quot;4&quot;,&quot;53&quot;,&quot;32&quot;);`\r\n\r\nIf you just use the default `TreeMap` constructor like below and push each element one-by-one like below:\r\n\r\n    Map&lt;String, String&gt; map = new TreeMap&lt;&gt;();\r\n    for (String s : notSortedList) {\r\n        map.put(s, s);\r\n    }\r\n\r\n    System.out.println(map);\r\n\r\nThe output is: `{0=0, 14=14, 24=24, 32=32, 39=39, 4=4, 48=48, 53=53, 54=54, 78=78}`\r\n\r\nAs you see, number *4*, for example, comes after &#39;39&#39;. This is the nature of the lexicographic data types, like String. If that one was an *Integer* data type then that was okay though.\r\n\r\nTo fix this, use an argument to first check the length of the String and then compare them. In [Java&amp;nbsp;8][2] it is done like this:\r\n\r\n    Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;(Comparator.comparingInt(String::length)\r\n        .thenComparing(Function.identity()));\r\n\r\nIt first compares each element by length then apply check by ```compareTo``` as the input the same as the element to compare with.\r\n\r\nIf you prefer to use a more understandable method, the above code will be equivalent with the below code:\r\n\r\n   Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;(\r\n     new Comparator&lt;String&gt;() {\r\n        @Override\r\n        public int compare(String o1, String o2) {\r\n            int lengthDifference = o1.length() - o2.length();\r\n            if (lengthDifference != 0)\r\n                return lengthDifference;\r\n            return o1.compareTo(o2);\r\n        }\r\n    }\r\n    );\r\n\r\nBecause the `TreeMap` constructor accepts the comparator Interface, you can build up any an even more complex implementation of Composite classes.\r\n\r\nThis is also another form for a simpler version.\r\n\r\n    Map&lt;String,String&gt; sortedMap = new TreeMap&lt;&gt;(\r\n       (Comparator&lt;String&gt;) (o1, o2) -&gt;\r\n        {\r\n            int lengthDifference = o1.length() - o2.length();\r\n            if (lengthDifference != 0)\r\n                return lengthDifference;\r\n            return o1.compareTo(o2);\r\n        }\r\n    );\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n\r\n","title":"How can I sort Map values by key in Java?","body":"<p>Use the below tree map:</p>\n<pre><code>Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;(Comparator.comparingInt(String::length)\n    .thenComparing(Function.identity()));\n</code></pre>\n<p>Whatever you put in this sortedMap, it will be sorted automatically. First of all, <code>TreeMap</code> is sorted implementation of <code>Map</code> Interface.</p>\n<p>There is a <em>but</em> as it sorts keys in the <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\" rel=\"nofollow noreferrer\">natural order fashion</a>. As the Java documentation says, <code>String</code> type is a <em>lexicographic natural</em> order type. Imagine the below list of numbers with the String type. It means the below list will <em>not</em> be sorted as expected.</p>\n<p><code>List&lt;String&gt; notSortedList = List.of(&quot;78&quot;,&quot;0&quot;, &quot;24&quot;, &quot;39&quot;, &quot;4&quot;,&quot;53&quot;,&quot;32&quot;);</code></p>\n<p>If you just use the default <code>TreeMap</code> constructor like below and push each element one-by-one like below:</p>\n<pre><code>Map&lt;String, String&gt; map = new TreeMap&lt;&gt;();\nfor (String s : notSortedList) {\n    map.put(s, s);\n}\n\nSystem.out.println(map);\n</code></pre>\n<p>The output is: <code>{0=0, 14=14, 24=24, 32=32, 39=39, 4=4, 48=48, 53=53, 54=54, 78=78}</code></p>\n<p>As you see, number <em>4</em>, for example, comes after '39'. This is the nature of the lexicographic data types, like String. If that one was an <em>Integer</em> data type then that was okay though.</p>\n<p>To fix this, use an argument to first check the length of the String and then compare them. In <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\">Java 8</a> it is done like this:</p>\n<pre><code>Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;(Comparator.comparingInt(String::length)\n    .thenComparing(Function.identity()));\n</code></pre>\n<p>It first compares each element by length then apply check by <code>compareTo</code> as the input the same as the element to compare with.</p>\n<p>If you prefer to use a more understandable method, the above code will be equivalent with the below code:</p>\n<p>Map&lt;String, String&gt; sortedMap = new TreeMap&lt;&gt;(\nnew Comparator() {\n@Override\npublic int compare(String o1, String o2) {\nint lengthDifference = o1.length() - o2.length();\nif (lengthDifference != 0)\nreturn lengthDifference;\nreturn o1.compareTo(o2);\n}\n}\n);</p>\n<p>Because the <code>TreeMap</code> constructor accepts the comparator Interface, you can build up any an even more complex implementation of Composite classes.</p>\n<p>This is also another form for a simpler version.</p>\n<pre><code>Map&lt;String,String&gt; sortedMap = new TreeMap&lt;&gt;(\n   (Comparator&lt;String&gt;) (o1, o2) -&gt;\n    {\n        int lengthDifference = o1.length() - o2.length();\n        if (lengthDifference != 0)\n            return lengthDifference;\n        return o1.compareTo(o2);\n    }\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3000988,"reputation":728,"user_id":2546511,"display_name":"Ashish Lahoti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685212267,"creation_date":1685212267,"answer_id":76348431,"question_id":922528,"body_markdown":"## Using `TreeMap`\r\nLet&#39;s initialize a map with some random key-value pairs\r\n```java\r\nMap&lt;String, String&gt; map = Map.of(&quot;key5&quot;, &quot;value5&quot;,\r\n            &quot;key2&quot;, &quot;value2&quot;,\r\n            &quot;key4&quot;, &quot;value4&quot;,\r\n            &quot;key1&quot;, &quot;value1&quot;,\r\n            &quot;key3&quot;, &quot;value3&quot;);\r\n```\r\n#### Sort by map&#39;s key in ascending order\r\n```java\r\nMap&lt;String, String&gt; sortedTreeMap = new TreeMap&lt;&gt;(map);\r\n\r\nSystem.out.println(sortedTreeMap);\r\n// {key1=value1, key2=value2, key3=value3, key4=value4, key5=value5}\r\n```\r\n#### Sort by map&#39;s key in descending order\r\n```java\r\nMap&lt;String, String&gt; reverseSortedTreeMap = new TreeMap&lt;&gt;(Comparator.reverseOrder());\r\nreverseSortedTreeMap.putAll(map);\r\n\r\nSystem.out.print(reverseSortedTreeMap);\r\n// {key5=value5, key4=value4, key3=value3, key2=value2, key1=value1}\r\n```\r\nSource: [Sort Map by Key using TreeMap in Java](https://codingnconcepts.com/java/sort-map-by-key-using-treemap/)","title":"How can I sort Map values by key in Java?","body":"<h2>Using <code>TreeMap</code></h2>\n<p>Let's initialize a map with some random key-value pairs</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = Map.of(&quot;key5&quot;, &quot;value5&quot;,\n            &quot;key2&quot;, &quot;value2&quot;,\n            &quot;key4&quot;, &quot;value4&quot;,\n            &quot;key1&quot;, &quot;value1&quot;,\n            &quot;key3&quot;, &quot;value3&quot;);\n</code></pre>\n<h4>Sort by map's key in ascending order</h4>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; sortedTreeMap = new TreeMap&lt;&gt;(map);\n\nSystem.out.println(sortedTreeMap);\n// {key1=value1, key2=value2, key3=value3, key4=value4, key5=value5}\n</code></pre>\n<h4>Sort by map's key in descending order</h4>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; reverseSortedTreeMap = new TreeMap&lt;&gt;(Comparator.reverseOrder());\nreverseSortedTreeMap.putAll(map);\n\nSystem.out.print(reverseSortedTreeMap);\n// {key5=value5, key4=value4, key3=value3, key2=value2, key1=value1}\n</code></pre>\n<p>Source: <a href=\"https://codingnconcepts.com/java/sort-map-by-key-using-treemap/\" rel=\"nofollow noreferrer\">Sort Map by Key using TreeMap in Java</a></p>\n"}],"owner":{"account_id":560347,"reputation":4813,"user_id":111583,"accept_rate":43,"display_name":"n00bstackie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785815,"favorite_count":0,"down_vote_count":1,"up_vote_count":455,"answer_count":18,"score":454,"last_activity_date":1685212267,"creation_date":1243536186,"question_id":922528,"body_markdown":"I have a Map that has strings for both keys and values.\r\n\r\nThe data is like the following:\r\n\r\n&gt; &quot;question1&quot;, &quot;1&quot;  \r\n&gt; &quot;question9&quot;, &quot;1&quot;  \r\n&gt; &quot;question2&quot;, &quot;4&quot;  \r\n&gt; &quot;question5&quot;, &quot;2&quot;\r\n\r\nI want to sort the map based on its keys. So, in the end, I will have `question1, question2, question3`, and so on.\r\n\r\nEventually, I am trying to get two strings out of this Map:\r\n\r\n - First String: Questions (in order 1 .. 10)\r\n - Second String: Answers (in the same order as the question)\r\n\r\nRight now I have the following:\r\n\r\n    Iterator it = paramMap.entrySet().iterator();\r\n    while (it.hasNext()) {\r\n        Map.Entry pairs = (Map.Entry) it.next();\r\n        questionAnswers += pairs.getKey() + &quot;,&quot;;\r\n    }\r\n\r\nThis gets me the questions in a string, but they are not in order.","title":"How can I sort Map values by key in Java?","body":"<p>I have a Map that has strings for both keys and values.</p>\n<p>The data is like the following:</p>\n<blockquote>\n<p>&quot;question1&quot;, &quot;1&quot;<br />\n&quot;question9&quot;, &quot;1&quot;<br />\n&quot;question2&quot;, &quot;4&quot;<br />\n&quot;question5&quot;, &quot;2&quot;</p>\n</blockquote>\n<p>I want to sort the map based on its keys. So, in the end, I will have <code>question1, question2, question3</code>, and so on.</p>\n<p>Eventually, I am trying to get two strings out of this Map:</p>\n<ul>\n<li>First String: Questions (in order 1 .. 10)</li>\n<li>Second String: Answers (in the same order as the question)</li>\n</ul>\n<p>Right now I have the following:</p>\n<pre><code>Iterator it = paramMap.entrySet().iterator();\nwhile (it.hasNext()) {\n    Map.Entry pairs = (Map.Entry) it.next();\n    questionAnswers += pairs.getKey() + &quot;,&quot;;\n}\n</code></pre>\n<p>This gets me the questions in a string, but they are not in order.</p>\n"},{"tags":["java","apache-spark","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685089318,"post_id":76334970,"comment_id":134615489,"body_markdown":"Note: SparkSQL has a built-in JSON parser; you shouldn&#39;t use Gson, let alone construct a new instance of that for every one Kafka record","body":"Note: SparkSQL has a built-in JSON parser; you shouldn&#39;t use Gson, let alone construct a new instance of that for every one Kafka record"},{"owner":{"account_id":2320018,"reputation":512,"user_id":2036041,"accept_rate":27,"display_name":"BJ5"},"score":0,"creation_date":1685159318,"post_id":76334970,"comment_id":134626259,"body_markdown":"Okay got it, but is there a way when we map a Dataset&lt;Row&gt; we can specify the column names also. Currently when I map the dataset, it is getting created with only one column which is value.","body":"Okay got it, but is there a way when we map a Dataset&lt;Row&gt; we can specify the column names also. Currently when I map the dataset, it is getting created with only one column which is value."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1685161938,"post_id":76334970,"comment_id":134626411,"body_markdown":"As mentioned, you shouldn&#39;t use Row objects at all. `withColumn` function in SparkSQL can define columns, yes, or you can use something like `selectExpr(&quot;get_json_object(value, &#39;$.cabName&#39;) AS cab_name&quot;)`. See pyspark example with creating custom columns - https://github.com/OneCricketeer/docker-stacks/blob/master/hadoop-spark/spark-notebooks/kafka-sql.ipynb","body":"As mentioned, you shouldn&#39;t use Row objects at all. <code>withColumn</code> function in SparkSQL can define columns, yes, or you can use something like <code>selectExpr(&quot;get_json_object(value, &#39;$.cabName&#39;) AS cab_name&quot;)</code>. See pyspark example with creating custom columns - <a href=\"https://github.com/OneCricketeer/docker-stacks/blob/master/hadoop-spark/spark-notebooks/kafka-sql.ipynb\" rel=\"nofollow noreferrer\">github.com/OneCricketeer/docker-stacks/blob/master/hadoop-sp&zwnj;&#8203;ark/&hellip;</a>"},{"owner":{"account_id":2320018,"reputation":512,"user_id":2036041,"accept_rate":27,"display_name":"BJ5"},"score":1,"creation_date":1685175105,"post_id":76334970,"comment_id":134627295,"body_markdown":"Thank you .withColumn suggestion worked. Also I didnt&#39; have convert Dataset&lt;Tuple2&lt;String,String&gt;&gt; to Dataset&lt;Row&gt;","body":"Thank you .withColumn suggestion worked. Also I didnt&#39; have convert Dataset&lt;Tuple2&lt;String,String&gt;&gt; to Dataset&lt;Row&gt;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685189436,"post_id":76334970,"comment_id":134628707,"body_markdown":"Feel free to show your working solution below","body":"Feel free to show your working solution below"}],"answers":[{"tags":[],"owner":{"account_id":2320018,"reputation":512,"user_id":2036041,"accept_rate":27,"display_name":"BJ5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685210175,"creation_date":1685210175,"answer_id":76348292,"question_id":76334970,"body_markdown":"Thank you @OneCricketeer with the suggestion.\r\nBelow is the code which worked\r\n\r\nAs discussed added the .withColumn to add column key and value from tuple columns _1 and _2\r\n \r\n      Dataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;)\r\n    \t\t\t\t.option(&quot;kafka.bootstrap.servers&quot;, &quot;kafka:9092&quot;)\r\n    \t\t\t\t.option(&quot;subscribe&quot;, &quot;cab-location&quot;)\r\n    \t\t\t\t.option(&quot;startingOffsets&quot;, &quot;earliest&quot;).load();\r\n    \t\tDataset&lt;Tuple2&lt;String, String&gt;&gt; df2 = df\r\n    \t\t.selectExpr(&quot;CAST(key AS STRING)&quot;, &quot;CAST(value AS STRING)&quot;)\r\n    \t\t.map(new MapFunction&lt;Row, Tuple2&lt;String,String&gt;&gt;() {\r\n    \r\n    \t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic Tuple2&lt;String, String&gt; call(Row value) throws Exception {\r\n    \t\t\t\tGson g = new Gson();  \r\n    \t\t\t\tCabLocationData cabLocationData = g.fromJson(value.getString(1), CabLocationData.class);\r\n    \t\t\t\treturn new Tuple2&lt;String, String&gt;(value.getString(0), cabLocationData.getCabName());\r\n    \t\t\t}\r\n    \t\t}, Encoders.tuple(Encoders.STRING(), Encoders.STRING()));\r\n    \t\t\r\n    \t\tdf2\r\n    \t\t.withColumn(&quot;key&quot;, df2.col(&quot;_1&quot;))\r\n    \t\t.withColumn(&quot;value&quot;, df2.col(&quot;_2&quot;))\r\n    \t\t.writeStream()\r\n    \t\t.format(&quot;kafka&quot;)\r\n    \t\t.option(&quot;kafka.bootstrap.servers&quot;, &quot;kafka:9092&quot;)\r\n    \t\t.option(&quot;checkpointLocation&quot;, &quot;C:\\\\Workspace\\\\Java\\\\app\\\\ch&quot;)\r\n    \t\t.option(&quot;topic&quot;, &quot;location-output&quot;)\r\n    \t\t.outputMode(&quot;append&quot;).start().awaitTermination();","title":"Spark: Convert a Dataset&lt;Row&gt; to key and value to be added in Kafka","body":"<p>Thank you @OneCricketeer with the suggestion.\nBelow is the code which worked</p>\n<p>As discussed added the .withColumn to add column key and value from tuple columns _1 and _2</p>\n<pre><code>  Dataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;)\n                .option(&quot;kafka.bootstrap.servers&quot;, &quot;kafka:9092&quot;)\n                .option(&quot;subscribe&quot;, &quot;cab-location&quot;)\n                .option(&quot;startingOffsets&quot;, &quot;earliest&quot;).load();\n        Dataset&lt;Tuple2&lt;String, String&gt;&gt; df2 = df\n        .selectExpr(&quot;CAST(key AS STRING)&quot;, &quot;CAST(value AS STRING)&quot;)\n        .map(new MapFunction&lt;Row, Tuple2&lt;String,String&gt;&gt;() {\n\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public Tuple2&lt;String, String&gt; call(Row value) throws Exception {\n                Gson g = new Gson();  \n                CabLocationData cabLocationData = g.fromJson(value.getString(1), CabLocationData.class);\n                return new Tuple2&lt;String, String&gt;(value.getString(0), cabLocationData.getCabName());\n            }\n        }, Encoders.tuple(Encoders.STRING(), Encoders.STRING()));\n        \n        df2\n        .withColumn(&quot;key&quot;, df2.col(&quot;_1&quot;))\n        .withColumn(&quot;value&quot;, df2.col(&quot;_2&quot;))\n        .writeStream()\n        .format(&quot;kafka&quot;)\n        .option(&quot;kafka.bootstrap.servers&quot;, &quot;kafka:9092&quot;)\n        .option(&quot;checkpointLocation&quot;, &quot;C:\\\\Workspace\\\\Java\\\\app\\\\ch&quot;)\n        .option(&quot;topic&quot;, &quot;location-output&quot;)\n        .outputMode(&quot;append&quot;).start().awaitTermination();\n</code></pre>\n"}],"owner":{"account_id":2320018,"reputation":512,"user_id":2036041,"accept_rate":27,"display_name":"BJ5"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76348292,"answer_count":1,"score":0,"last_activity_date":1685210175,"creation_date":1685036538,"question_id":76334970,"body_markdown":"I am trying Spark connected to a Kafka topic which has Location Data.\r\nI want to convert the df (the dataframe result) to key value pairs so that i can output it to another Kafka topic\r\n\r\n    Dataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;)\r\n\t\t\t\t.option(&quot;kafka.bootstrap.servers&quot;, &quot;kafka:9092&quot;)\r\n\t\t\t\t.option(&quot;subscribe&quot;, &quot;cab-location&quot;)\r\n\t\t\t\t.option(&quot;startingOffsets&quot;, &quot;earliest&quot;).load();\r\n\t\tdf = df.selectExpr(&quot;CAST(key AS STRING)&quot;, &quot;CAST(value AS STRING)&quot;)\r\n\t\t.map(new MapFunction&lt;Row, Tuple2&lt;String,String&gt;&gt;() {\r\n\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Tuple2&lt;String, String&gt; call(Row value) throws Exception {\r\n\t\t\t\tGson g = new Gson();  \r\n\t\t\t\tCabLocationData cabLocationData = g.fromJson(value.getString(1), CabLocationData.class);\r\n\t\t\t\treturn new Tuple2&lt;String, String&gt;(value.getString(0), cabLocationData.getCabName());\r\n\t\t\t}\r\n\t\t}, Encoders.tuple(Encoders.STRING(), Encoders.STRING()))\r\n\t\t.map(new MapFunction&lt;Tuple2&lt;String,String&gt;, Row&gt;(){\r\n\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Row call(Tuple2&lt;String, String&gt; value) throws Exception {\r\n\t\t\t\treturn RowFactory.create(value._1.toString(), value._2);\r\n\t\t\t}\r\n\t\t}, Encoders.javaSerialization(Row.class));\r\n\r\nWhen I check df.columns() it shows only 1 column which is value. \r\n\r\n\r\nCould you help to convert the Dataset&lt;Row&gt; to have 2 columns 1 for key and 1 for value so I can push it as key value pair to another Kafka topic","title":"Spark: Convert a Dataset&lt;Row&gt; to key and value to be added in Kafka","body":"<p>I am trying Spark connected to a Kafka topic which has Location Data.\nI want to convert the df (the dataframe result) to key value pairs so that i can output it to another Kafka topic</p>\n<pre><code>Dataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;)\n            .option(&quot;kafka.bootstrap.servers&quot;, &quot;kafka:9092&quot;)\n            .option(&quot;subscribe&quot;, &quot;cab-location&quot;)\n            .option(&quot;startingOffsets&quot;, &quot;earliest&quot;).load();\n    df = df.selectExpr(&quot;CAST(key AS STRING)&quot;, &quot;CAST(value AS STRING)&quot;)\n    .map(new MapFunction&lt;Row, Tuple2&lt;String,String&gt;&gt;() {\n\n        private static final long serialVersionUID = 1L;\n\n        @Override\n        public Tuple2&lt;String, String&gt; call(Row value) throws Exception {\n            Gson g = new Gson();  \n            CabLocationData cabLocationData = g.fromJson(value.getString(1), CabLocationData.class);\n            return new Tuple2&lt;String, String&gt;(value.getString(0), cabLocationData.getCabName());\n        }\n    }, Encoders.tuple(Encoders.STRING(), Encoders.STRING()))\n    .map(new MapFunction&lt;Tuple2&lt;String,String&gt;, Row&gt;(){\n\n        private static final long serialVersionUID = 1L;\n\n        @Override\n        public Row call(Tuple2&lt;String, String&gt; value) throws Exception {\n            return RowFactory.create(value._1.toString(), value._2);\n        }\n    }, Encoders.javaSerialization(Row.class));\n</code></pre>\n<p>When I check df.columns() it shows only 1 column which is value.</p>\n<p>Could you help to convert the Dataset to have 2 columns 1 for key and 1 for value so I can push it as key value pair to another Kafka topic</p>\n"},{"tags":["java","ubuntu","glassfish"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":1,"creation_date":1612219469,"post_id":66000505,"comment_id":116693834,"body_markdown":"Which JDK are you using? GF 5 only supports up to JDK 8 if I am not mistaken.","body":"Which JDK are you using? GF 5 only supports up to JDK 8 if I am not mistaken."},{"owner":{"account_id":11898855,"reputation":1137,"user_id":8707412,"display_name":"Jonathan Coustick"},"score":0,"creation_date":1612260142,"post_id":66000505,"comment_id":116704722,"body_markdown":"Does this answer your question? [Glassfish server does not start. NullPointeException](https://stackoverflow.com/questions/47458119/glassfish-server-does-not-start-nullpointeexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47458119/glassfish-server-does-not-start-nullpointeexception\">Glassfish server does not start. NullPointeException</a>"},{"owner":{"account_id":20605403,"reputation":105,"user_id":15125772,"display_name":"Drago Ban"},"score":0,"creation_date":1612282739,"post_id":66000505,"comment_id":116715545,"body_markdown":"@ChristophJohn java -version -&gt;  java version &quot;15.0.2&quot; 2021-01-19\nJava(TM) SE Runtime Environment (build 15.0.2+7-27)\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing  \\n javac -version : javac 15.0.2\ndoes these infos clarify the problem ?","body":"@ChristophJohn java -version -&gt;  java version &quot;15.0.2&quot; 2021-01-19 Java(TM) SE Runtime Environment (build 15.0.2+7-27) Java HotSpot(TM) 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing  \\n javac -version : javac 15.0.2 does these infos clarify the problem ?"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1612284210,"post_id":66000505,"comment_id":116716328,"body_markdown":"Yes. See my comment and the comment from Jonathan.","body":"Yes. See my comment and the comment from Jonathan."},{"owner":{"account_id":20605403,"reputation":105,"user_id":15125772,"display_name":"Drago Ban"},"score":0,"creation_date":1612284949,"post_id":66000505,"comment_id":116716686,"body_markdown":"@JonathanCoustick i did and i edit asevent.bat/conf but i didn&#39;t work the same problem occurs","body":"@JonathanCoustick i did and i edit asevent.bat/conf but i didn&#39;t work the same problem occurs"}],"answers":[{"tags":[],"owner":{"account_id":17748968,"reputation":1,"user_id":12887630,"display_name":"Goran Ferbišek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615103709,"creation_date":1612906492,"answer_id":66127514,"question_id":66000505,"body_markdown":"I had the same problem with glassfish 6. Make sure you have JDK installed.\r\n\r\nAlso the glassfish documentation says you have to set JAVA_HOME environment variable an then the PATH variable to point to JAVA_HOME/bin.\r\n\r\nOn Linux I edited my `~/.bash_profile`:\r\n```\r\nexport JAVA_HOME=/usr/lib64/jvm/java-8-openjdk\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n```\r\n","title":"Glassfish5 Error: Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p>I had the same problem with glassfish 6. Make sure you have JDK installed.</p>\n<p>Also the glassfish documentation says you have to set JAVA_HOME environment variable an then the PATH variable to point to JAVA_HOME/bin.</p>\n<p>On Linux I edited my <code>~/.bash_profile</code>:</p>\n<pre><code>export JAVA_HOME=/usr/lib64/jvm/java-8-openjdk\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18679997,"reputation":41,"user_id":13616756,"display_name":"Bryam Guzm&#225;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619133100,"creation_date":1619133100,"answer_id":67221921,"question_id":66000505,"body_markdown":"You have to put\r\n\r\nset AS_JAVA=C:\\Program Files\\Java\\jdk1.5.0_16\r\n\r\non this directory of you glassfish server:\r\n\r\nC:\\Users\\Usuario\\Documents\\glassfish-5.0.1\\glassfish5\\glassfish\\config\\asenv\r\n\r\n","title":"Glassfish5 Error: Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p>You have to put</p>\n<p>set AS_JAVA=C:\\Program Files\\Java\\jdk1.5.0_16</p>\n<p>on this directory of you glassfish server:</p>\n<p>C:\\Users\\Usuario\\Documents\\glassfish-5.0.1\\glassfish5\\glassfish\\config\\asenv</p>\n"},{"tags":[],"owner":{"account_id":4831287,"reputation":11388,"user_id":3899431,"display_name":"Luis Colorado"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1629876472,"creation_date":1629876472,"answer_id":68918584,"question_id":66000505,"body_markdown":"Glassfish version 5 shows that behaviour when run with openjdk15 (at least in my machine)  I have configured (see below) it to run with JDK-8 and it starts correctly.\r\n\r\n```\r\nset JAVA_HOME=&quot;Your_path_to_jdk8&quot;\r\nset PATH=&quot;%JAVA_HOME%/bin;%PATH%&quot;\r\n```\r\nin windows, or\r\n```\r\nexport JAVA_HOME=&quot;Your_path_to_jdk8&quot;\r\nexport PATH=&quot;${JAVA_HOME}/bin:${PATH}&quot;\r\n```\r\nin unix/linux.  Add this to the script you use to start it, so the environment directs Glassfish to the proper place to find java binaries.","title":"Glassfish5 Error: Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p>Glassfish version 5 shows that behaviour when run with openjdk15 (at least in my machine)  I have configured (see below) it to run with JDK-8 and it starts correctly.</p>\n<pre><code>set JAVA_HOME=&quot;Your_path_to_jdk8&quot;\nset PATH=&quot;%JAVA_HOME%/bin;%PATH%&quot;\n</code></pre>\n<p>in windows, or</p>\n<pre><code>export JAVA_HOME=&quot;Your_path_to_jdk8&quot;\nexport PATH=&quot;${JAVA_HOME}/bin:${PATH}&quot;\n</code></pre>\n<p>in unix/linux.  Add this to the script you use to start it, so the environment directs Glassfish to the proper place to find java binaries.</p>\n"},{"tags":[],"owner":{"account_id":7607844,"reputation":1645,"user_id":5769874,"display_name":"mouserat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685209277,"creation_date":1685209277,"answer_id":76348237,"question_id":66000505,"body_markdown":"Downgrading form JDK 17 to JDK 8 worked. JDK 11 also didn&#39;t work. ","title":"Glassfish5 Error: Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p>Downgrading form JDK 17 to JDK 8 worked. JDK 11 also didn't work.</p>\n"}],"owner":{"account_id":20605403,"reputation":105,"user_id":15125772,"display_name":"Drago Ban"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9612,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68918584,"answer_count":4,"score":2,"last_activity_date":1685209277,"creation_date":1612215446,"question_id":66000505,"body_markdown":"I have installed glassfish 5 in ubuntu and put it under the directory `/opt`, but when I typed `asadmin start-domain` I face this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.glassfish.hk2.api.DynamicConfigurationService.createDynamicConfiguration()&quot; because &quot;dcs&quot; is null\r\n    at com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.initializeServiceLocator(AbstractModulesRegistryImpl.java:152) \t\r\n    at com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.newServiceLocator(AbstractModulesRegistryImpl.java:144) \t\r\n    at com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:218) \t\r\n    at com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:224) \t\r\n    at com.sun.enterprise.module.single.StaticModulesRegistry.createServiceLocator(StaticModulesRegistry.java:88) \t\r\n    at com.sun.enterprise.admin.cli.CLIContainer.getServiceLocator(CLIContainer.java:217) \t\r\n    at com.sun.enterprise.admin.cli.CLIContainer.getLocalCommand(CLIContainer.java:255) \t\r\n    at com.sun.enterprise.admin.cli.CLICommand.getCommand(CLICommand.java:231) \t\r\n    at com.sun.enterprise.admin.cli.AdminMain.executeCommand(AdminMain.java:371) \t\r\n    at com.sun.enterprise.admin.cli.AdminMain.doMain(AdminMain.java:306) \t\r\n    at org.glassfish.admin.cli.AsadminMain.main(AsadminMain.java:57)\r\n\r\n\r\nHow can I solve this problem?","title":"Glassfish5 Error: Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p>I have installed glassfish 5 in ubuntu and put it under the directory <code>/opt</code>, but when I typed <code>asadmin start-domain</code> I face this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.glassfish.hk2.api.DynamicConfigurationService.createDynamicConfiguration()&quot; because &quot;dcs&quot; is null\nat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.initializeServiceLocator(AbstractModulesRegistryImpl.java:152)     \nat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.newServiceLocator(AbstractModulesRegistryImpl.java:144)    \nat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:218)     \nat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:224)     \nat com.sun.enterprise.module.single.StaticModulesRegistry.createServiceLocator(StaticModulesRegistry.java:88)   \nat com.sun.enterprise.admin.cli.CLIContainer.getServiceLocator(CLIContainer.java:217)   \nat com.sun.enterprise.admin.cli.CLIContainer.getLocalCommand(CLIContainer.java:255)     \nat com.sun.enterprise.admin.cli.CLICommand.getCommand(CLICommand.java:231)  \nat com.sun.enterprise.admin.cli.AdminMain.executeCommand(AdminMain.java:371)    \nat com.sun.enterprise.admin.cli.AdminMain.doMain(AdminMain.java:306)    \nat org.glassfish.admin.cli.AsadminMain.main(AsadminMain.java:57)\n</code></pre>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597333290,"creation_date":1597333290,"answer_id":63398587,"question_id":63398170,"body_markdown":"It can&#39;t be done directly with Spring Cloud Stream via properties.\r\n\r\nYou would have to declare `Exchange`, `Queue` and `Binding` `@Bean`s with the required routing keys and then configure the consumer binding to not declare the queue and binding) and then set `s.c.s.consumer.multiplex=true` and `s.c.s.destination=queue1,queue2,queue3`.\r\n\r\nSee [Using Existing Queues/Exhanges](https://cloud.spring.io/spring-cloud-static/spring-cloud-stream-binder-rabbit/3.0.6.RELEASE/reference/html/spring-cloud-stream-binder-rabbit.html#_using_existing_queuesexchanges) for how to disable binder provisioning.\r\n","title":"Create and bind queues dynamically to a single Exchange","body":"<p>It can't be done directly with Spring Cloud Stream via properties.</p>\n<p>You would have to declare <code>Exchange</code>, <code>Queue</code> and <code>Binding</code> <code>@Bean</code>s with the required routing keys and then configure the consumer binding to not declare the queue and binding) and then set <code>s.c.s.consumer.multiplex=true</code> and <code>s.c.s.destination=queue1,queue2,queue3</code>.</p>\n<p>See <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-stream-binder-rabbit/3.0.6.RELEASE/reference/html/spring-cloud-stream-binder-rabbit.html#_using_existing_queuesexchanges\" rel=\"nofollow noreferrer\">Using Existing Queues/Exhanges</a> for how to disable binder provisioning.</p>\n"},{"tags":[],"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599830354,"creation_date":1599830354,"answer_id":63847911,"question_id":63398170,"body_markdown":"It can be easily done using Spring-AMQP plugin in Spring boot. I have enclosed a below snippet how it can be achieved. (I believe code speaks more than theoritical words) :\r\n\r\n\r\n    package com.savk.workout.spring.rabbitmqconversendreceivefanoutproducer;\r\n    \r\n    import org.springframework.amqp.core.*;\r\n    import org.springframework.amqp.rabbit.core.RabbitAdmin;\r\n    import org.springframework.amqp.rabbit.core.RabbitTemplate;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class DynamicBindingDemo {\r\n    \r\n        @Autowired\r\n        private RabbitAdmin rabbitAdmin;\r\n    \r\n        @Autowired\r\n        private RabbitTemplate rabbitTemplate;\r\n    \r\n        private boolean switchedOn = true;\r\n    \r\n        //Toggle binding programatically\r\n        @Scheduled(fixedRate = 10000L)\r\n        public void manipulateBinding() {\r\n            Exchange exchange = ExchangeBuilder.directExchange(&quot;exchange&quot;).autoDelete().build();\r\n            Queue queue = QueueBuilder.nonDurable(&quot;queue&quot;).build();\r\n        \r\n            Binding binding = BindingBuilder.bind(queue).to(exchange).with(&quot;routingkey&quot;).noargs();\r\n            \r\n            if(switchedOn) {\r\n                rabbitAdmin.declareBinding(binding);\r\n            } else {\r\n                rabbitAdmin.removeBinding(binding);\r\n            }\r\n        }\r\n    \r\n        @Bean\r\n        public RabbitAdmin rabbitAdmin() {\r\n            return new RabbitAdmin(rabbitTemplate.getConnectionFactory());\r\n        }\r\n    \r\n    }\r\n\r\nMake sure you also have corresponding RabbitListener for it :\r\n\r\n    @RabbitListener(queues = &quot;queuename&quot;)\r\n    @RabbitHandler\r\n    public String handle(String msg)  {\r\n        System.out.println(&quot;RCVD :: &quot; + msg);\r\n        String response = &quot;PONG { &quot; + msg + &quot; } from INSTANCE &quot; + INSTANCE;\r\n        return response;\r\n    }\r\n\r\nYou see everything can be done dynamically. All you need is to manipulate with bindings.","title":"Create and bind queues dynamically to a single Exchange","body":"<p>It can be easily done using Spring-AMQP plugin in Spring boot. I have enclosed a below snippet how it can be achieved. (I believe code speaks more than theoritical words) :</p>\n<pre><code>package com.savk.workout.spring.rabbitmqconversendreceivefanoutproducer;\n\nimport org.springframework.amqp.core.*;\nimport org.springframework.amqp.rabbit.core.RabbitAdmin;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class DynamicBindingDemo {\n\n    @Autowired\n    private RabbitAdmin rabbitAdmin;\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    private boolean switchedOn = true;\n\n    //Toggle binding programatically\n    @Scheduled(fixedRate = 10000L)\n    public void manipulateBinding() {\n        Exchange exchange = ExchangeBuilder.directExchange(&quot;exchange&quot;).autoDelete().build();\n        Queue queue = QueueBuilder.nonDurable(&quot;queue&quot;).build();\n    \n        Binding binding = BindingBuilder.bind(queue).to(exchange).with(&quot;routingkey&quot;).noargs();\n        \n        if(switchedOn) {\n            rabbitAdmin.declareBinding(binding);\n        } else {\n            rabbitAdmin.removeBinding(binding);\n        }\n    }\n\n    @Bean\n    public RabbitAdmin rabbitAdmin() {\n        return new RabbitAdmin(rabbitTemplate.getConnectionFactory());\n    }\n\n}\n</code></pre>\n<p>Make sure you also have corresponding RabbitListener for it :</p>\n<pre><code>@RabbitListener(queues = &quot;queuename&quot;)\n@RabbitHandler\npublic String handle(String msg)  {\n    System.out.println(&quot;RCVD :: &quot; + msg);\n    String response = &quot;PONG { &quot; + msg + &quot; } from INSTANCE &quot; + INSTANCE;\n    return response;\n}\n</code></pre>\n<p>You see everything can be done dynamically. All you need is to manipulate with bindings.</p>\n"}],"owner":{"account_id":16862175,"reputation":5,"user_id":12192708,"display_name":"Naga venu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63398587,"answer_count":2,"score":0,"last_activity_date":1685209142,"creation_date":1597331842,"question_id":63398170,"body_markdown":"I have an exchange (`exchange1`) and it can be routed to `n` different queues based on routing-key-expression.\r\n\r\n1. All Images messages should go to queue1 \r\n2. All Document messages should go to queue2\r\n3. All video messages should go to default queue3\r\n\r\nand in future, the queue number can be increased like (all video and mp4 extensions should go to `queue4`)\r\n\r\n\r\nHow we can create and bind queues dynamically to one particular exchange and should use only one stream Listener?","title":"Create and bind queues dynamically to a single Exchange","body":"<p>I have an exchange (<code>exchange1</code>) and it can be routed to <code>n</code> different queues based on routing-key-expression.</p>\n<ol>\n<li>All Images messages should go to queue1</li>\n<li>All Document messages should go to queue2</li>\n<li>All video messages should go to default queue3</li>\n</ol>\n<p>and in future, the queue number can be increased like (all video and mp4 extensions should go to <code>queue4</code>)</p>\n<p>How we can create and bind queues dynamically to one particular exchange and should use only one stream Listener?</p>\n"},{"tags":["java","list","polymorphism","extends"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1389717100,"post_id":21118680,"comment_id":31775926,"body_markdown":"`List&lt;MyClass&gt; list = ...// pick your favorite`.","body":"<code>List&lt;MyClass&gt; list = ...&#47;&#47; pick your favorite</code>."},{"owner":{"account_id":2817901,"reputation":133,"user_id":2422464,"accept_rate":87,"display_name":"bamboo10"},"score":1,"creation_date":1389717192,"post_id":21118680,"comment_id":31775995,"body_markdown":"It does not like that, I get an error &quot;Required List&lt;MyClass&gt; but found List&lt;MyClassA&gt;&quot;","body":"It does not like that, I get an error &quot;Required List&lt;MyClass&gt; but found List&lt;MyClassA&gt;&quot;"},{"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"score":1,"creation_date":1389717210,"post_id":21118680,"comment_id":31776006,"body_markdown":"List&lt;? extends MyClass&gt; also works.","body":"List&lt;? extends MyClass&gt; also works."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1389717398,"post_id":21118680,"comment_id":31776147,"body_markdown":"A `List&lt;MyClassA&gt;` cannot work with `MyClassB` or `MyClass` objects so what you are doing is wrong. We could further explain it if you showed us.","body":"A <code>List&lt;MyClassA&gt;</code> cannot work with <code>MyClassB</code> or <code>MyClass</code> objects so what you are doing is wrong. We could further explain it if you showed us."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1389717575,"post_id":21118680,"comment_id":31776288,"body_markdown":"Read this: http://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-arent-javas-generics-implicitly-p","body":"Read this: <a href=\"http://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-arent-javas-generics-implicitly-p\" title=\"is listdog a subclass of listanimal why arent javas generics implicitly p\">stackoverflow.com/questions/2745265/&hellip;</a>"},{"owner":{"account_id":2817901,"reputation":133,"user_id":2422464,"accept_rate":87,"display_name":"bamboo10"},"score":0,"creation_date":1389718802,"post_id":21118680,"comment_id":31777106,"body_markdown":"Thanks Sotirios, that really helped, want to put it as the answer?","body":"Thanks Sotirios, that really helped, want to put it as the answer?"}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389717790,"creation_date":1389717188,"answer_id":21118730,"question_id":21118680,"body_markdown":"Polymorphism is the ability of an object to take on many forms. The most common use of polymorphism in OOP occurs when a parent class reference is used to refer to a child class object. A parent class reference can hold the objects of any of its subclasses. So a collection of a parent can hold the child classes objects. For example:\r\n\r\n     List&lt;MyClass&gt; myClassList = new ArrayList&lt;MyClass&gt;();\r\n\r\n","title":"Java polymorphism and lists","body":"<p>Polymorphism is the ability of an object to take on many forms. The most common use of polymorphism in OOP occurs when a parent class reference is used to refer to a child class object. A parent class reference can hold the objects of any of its subclasses. So a collection of a parent can hold the child classes objects. For example:</p>\n\n<pre><code> List&lt;MyClass&gt; myClassList = new ArrayList&lt;MyClass&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1703262,"reputation":1263,"user_id":1562850,"display_name":"Qadir Hussain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389717456,"creation_date":1389717456,"answer_id":21118829,"question_id":21118680,"body_markdown":"Use `List` interface to implement your concrete/abstract classes. Something like this.\r\n\r\n    List&lt;MyClass&gt; list = new ArrayList&lt;MyClass&gt;();","title":"Java polymorphism and lists","body":"<p>Use <code>List</code> interface to implement your concrete/abstract classes. Something like this.</p>\n\n<pre><code>List&lt;MyClass&gt; list = new ArrayList&lt;MyClass&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354057,"reputation":6245,"user_id":692168,"accept_rate":79,"display_name":"AxiomaticNexus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389719521,"creation_date":1389717489,"answer_id":21118841,"question_id":21118680,"body_markdown":"You can use wildcards like `List&lt;? extends MyClass&gt; myList = new ArrayList&lt;MyClassA&gt;();` but that will only let you get items from the list. Adding items is not safe since you can&#39;t know what&#39;s the underlying type of the `List`. You will have to add your items to the actual instance of your list directly like:\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n\r\n    List&lt;? extends MyClass&gt; myList = null;\r\n\r\n    ArrayList&lt;MyClassA&gt; actualListA = new ArrayList&lt;MyClassA&gt;();\r\n    myList = actualListA;\r\n    MyClassA myClassA = new MyClassA();\r\n    actualListA.add(myClassA);\r\n    myList.add(new MyClassA()); //Nope, you can&#39;t do this because myList could be assigned to an array of MyClassB items like the following.\r\n    \r\n    //Reassign\r\n    ArrayList&lt;MyClassB&gt; actualListB = new ArrayList&lt;MyClassB&gt;();\r\n    myList = actualListB;\r\n    MyClassB myClassB = new MyClassB();\r\n    actualListB.add(myClassB);\r\n\r\n    //Get item\r\n    MyClass item = myList.get(0);// This will give you the myClassB object.\r\n    ","title":"Java polymorphism and lists","body":"<p>You can use wildcards like <code>List&lt;? extends MyClass&gt; myList = new ArrayList&lt;MyClassA&gt;();</code> but that will only let you get items from the list. Adding items is not safe since you can't know what's the underlying type of the <code>List</code>. You will have to add your items to the actual instance of your list directly like:\n<br/>\n<br/></p>\n\n<pre><code>List&lt;? extends MyClass&gt; myList = null;\n\nArrayList&lt;MyClassA&gt; actualListA = new ArrayList&lt;MyClassA&gt;();\nmyList = actualListA;\nMyClassA myClassA = new MyClassA();\nactualListA.add(myClassA);\nmyList.add(new MyClassA()); //Nope, you can't do this because myList could be assigned to an array of MyClassB items like the following.\n\n//Reassign\nArrayList&lt;MyClassB&gt; actualListB = new ArrayList&lt;MyClassB&gt;();\nmyList = actualListB;\nMyClassB myClassB = new MyClassB();\nactualListB.add(myClassB);\n\n//Get item\nMyClass item = myList.get(0);// This will give you the myClassB object.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243079,"reputation":5382,"user_id":515029,"accept_rate":78,"display_name":"Kallja"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1389720552,"creation_date":1389720095,"answer_id":21119825,"question_id":21118680,"body_markdown":"Depending on your needs you have several options. You can either use plain `List&lt;MyClass&gt;` type objects. This allows you to add objects of types `MyClassA` and `MyClassB`. You can&#39;t set a List&lt;MyClassA&gt; type object to a variable whose type is `List&lt;MyClass&gt;`. This is due to a concept called **variance**. Three types of variance exist in most programming languages that support generics (parametrized polymofism).\r\n\r\n\r\nInvariance\r\n----------\r\n\r\nInvariance *does not allow one to deviate from a type* in either direction. This is the case with generics in Java by default and that&#39;s why you can&#39;t assign a `List&lt;MyClassA&gt;` to a variable of `List&lt;MyClass&gt;`.\r\nImagine the following scenario:\r\n\r\n    List&lt;MyClassA&gt; listA = new List&lt;MyClassA&gt;();\r\n    List&lt;MyClass&gt; list = (List&lt;MyClass&gt;) listA; // Produces a compilation error...\r\n    list.add(new MyClassB()); // ... because this would be a big no-no\r\n\r\nCovariance\r\n----------\r\n\r\nCovariance *allows you to use a the designated parameter type or any subtype thereof*. In Java, you use the extends keyword to designate covariance: `List&lt;? extends MyClass&gt;`. It is allowed to assign a List&lt;MyClassA&gt; type object into such a variable. With covariance, however, you can not add any objects to your generic object instance without an explicit cast. That is you can not do the following:\r\n\r\n    List&lt;? extends MyClass&gt; list = new LinkedList&lt;MyClassA&gt;();\r\n    list.add(new MyClassA());\r\n\r\nThis is only logical. After all, you can not know exactly what type of a List you are dealing with. It might as well be a `List&lt;MyClassB&gt;`.\r\n\r\nContravariance\r\n--------------\r\n\r\nContravariance is *the opposite of covariance* and is designated using the super keyword: `List&lt;? super MyClassA&gt;`. It is allowed to assign a `List&lt;MyClass&gt;` (but not a `List&lt;MyClassB&gt;`) type object into such a variable. With contravariance you can add any subtype of the designated type parameter (lower limit in the type hierarchy). That is, it&#39;s allowed to do the following:\r\n\r\n    List&lt;? super MyClass&gt; list = new LinkedList&lt;MyClass&gt;();\r\n    list.add(new ChildA());\r\n\r\nYou can not, however, know exactly what type of a List the object is. That is you can only direclty assign an object stored in the list into a variable of type Object without an explicit cast:\r\n\r\n    Object o = list.get(0);\r\n    if (o instanceof MyClassA) {\r\n      MyClassA mca = (MyClassA) o;\r\n      //...\r\n    }\r\n\r\nI hope this helps to clarify things a bit.","title":"Java polymorphism and lists","body":"<p>Depending on your needs you have several options. You can either use plain <code>List&lt;MyClass&gt;</code> type objects. This allows you to add objects of types <code>MyClassA</code> and <code>MyClassB</code>. You can't set a List type object to a variable whose type is <code>List&lt;MyClass&gt;</code>. This is due to a concept called <strong>variance</strong>. Three types of variance exist in most programming languages that support generics (parametrized polymofism).</p>\n\n<h2>Invariance</h2>\n\n<p>Invariance <em>does not allow one to deviate from a type</em> in either direction. This is the case with generics in Java by default and that's why you can't assign a <code>List&lt;MyClassA&gt;</code> to a variable of <code>List&lt;MyClass&gt;</code>.\nImagine the following scenario:</p>\n\n<pre><code>List&lt;MyClassA&gt; listA = new List&lt;MyClassA&gt;();\nList&lt;MyClass&gt; list = (List&lt;MyClass&gt;) listA; // Produces a compilation error...\nlist.add(new MyClassB()); // ... because this would be a big no-no\n</code></pre>\n\n<h2>Covariance</h2>\n\n<p>Covariance <em>allows you to use a the designated parameter type or any subtype thereof</em>. In Java, you use the extends keyword to designate covariance: <code>List&lt;? extends MyClass&gt;</code>. It is allowed to assign a List type object into such a variable. With covariance, however, you can not add any objects to your generic object instance without an explicit cast. That is you can not do the following:</p>\n\n<pre><code>List&lt;? extends MyClass&gt; list = new LinkedList&lt;MyClassA&gt;();\nlist.add(new MyClassA());\n</code></pre>\n\n<p>This is only logical. After all, you can not know exactly what type of a List you are dealing with. It might as well be a <code>List&lt;MyClassB&gt;</code>.</p>\n\n<h2>Contravariance</h2>\n\n<p>Contravariance is <em>the opposite of covariance</em> and is designated using the super keyword: <code>List&lt;? super MyClassA&gt;</code>. It is allowed to assign a <code>List&lt;MyClass&gt;</code> (but not a <code>List&lt;MyClassB&gt;</code>) type object into such a variable. With contravariance you can add any subtype of the designated type parameter (lower limit in the type hierarchy). That is, it's allowed to do the following:</p>\n\n<pre><code>List&lt;? super MyClass&gt; list = new LinkedList&lt;MyClass&gt;();\nlist.add(new ChildA());\n</code></pre>\n\n<p>You can not, however, know exactly what type of a List the object is. That is you can only direclty assign an object stored in the list into a variable of type Object without an explicit cast:</p>\n\n<pre><code>Object o = list.get(0);\nif (o instanceof MyClassA) {\n  MyClassA mca = (MyClassA) o;\n  //...\n}\n</code></pre>\n\n<p>I hope this helps to clarify things a bit.</p>\n"},{"tags":[],"owner":{"account_id":26168200,"reputation":1,"user_id":19853675,"display_name":"patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685209085,"creation_date":1685209085,"answer_id":76348221,"question_id":21118680,"body_markdown":"**Covariance**\r\nCovariance allows you to use a the designated parameter type or any subtype thereof. In Java, you use the extends keyword to designate covariance: List&lt;? extends MyClass&gt;.\r\n\r\nThis works for me as a type cast for a list","title":"Java polymorphism and lists","body":"<p><strong>Covariance</strong>\nCovariance allows you to use a the designated parameter type or any subtype thereof. In Java, you use the extends keyword to designate covariance: List&lt;? extends MyClass&gt;.</p>\n<p>This works for me as a type cast for a list</p>\n"}],"owner":{"account_id":2817901,"reputation":133,"user_id":2422464,"accept_rate":87,"display_name":"bamboo10"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6427,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":21119825,"answer_count":5,"score":2,"last_activity_date":1685209085,"creation_date":1389717080,"question_id":21118680,"body_markdown":"Say I have the following class structure\r\n\r\n    public abstract class MyClass{}\r\n\r\n    public class MyClassA extends MyClass{}\r\n\r\n    public class MyClassB extends MyClass{}\r\n\r\n\r\nHow do I create a list of MyClass elements that contains both MyClassA and MyClassB elements without objections?\r\n\r\ne.g.\r\n      \r\n        List&lt;MyClass&gt; myList = new LinkedList&lt;MyClassA&gt;();","title":"Java polymorphism and lists","body":"<p>Say I have the following class structure</p>\n\n<pre><code>public abstract class MyClass{}\n\npublic class MyClassA extends MyClass{}\n\npublic class MyClassB extends MyClass{}\n</code></pre>\n\n<p>How do I create a list of MyClass elements that contains both MyClassA and MyClassB elements without objections?</p>\n\n<p>e.g.</p>\n\n<pre><code>    List&lt;MyClass&gt; myList = new LinkedList&lt;MyClassA&gt;();\n</code></pre>\n"},{"tags":["java","pom.xml","cdi","quarkus","reactive"],"comments":[{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1651155778,"post_id":72045349,"comment_id":127300848,"body_markdown":"Hello, could you please add your pom.xml ?","body":"Hello, could you please add your pom.xml ?"},{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1651159873,"post_id":72045349,"comment_id":127302685,"body_markdown":"This might seem a bit silly, but could you add ```io.quarkus:quarkus-vertx``` and try again please ?","body":"This might seem a bit silly, but could you add <code>io.quarkus:quarkus-vertx</code> and try again please ?"},{"owner":{"account_id":25129024,"reputation":11,"user_id":18976488,"display_name":"krz00"},"score":0,"creation_date":1651161135,"post_id":72045349,"comment_id":127303231,"body_markdown":"Added, but nothing changed. :\\","body":"Added, but nothing changed. :\\"}],"answers":[{"tags":[],"owner":{"account_id":28692840,"reputation":1,"user_id":21971711,"display_name":"generic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685208924,"creation_date":1685208924,"answer_id":76348197,"question_id":72045349,"body_markdown":"I know this is a late reply.\r\n\r\nRemove the following in your ```pom.xml``` file:\r\n```\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n       &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.smallrye.reactive&lt;/groupId&gt;\r\n       &lt;artifactId&gt;smallrye-mutiny-vertx-sql-client&lt;/artifactId&gt;\r\n       &lt;version&gt;2.21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nReplace with:\r\n```\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n       &lt;artifactId&gt;quarkus-reactive-mysql-client&lt;/artifactId&gt;\r\n       &lt;version&gt;3.1.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n","title":"Problem using quarkus and io.vertx.mutiny.mysqlclient.MySQLPool","body":"<p>I know this is a late reply.</p>\n<p>Remove the following in your <code>pom.xml</code> file:</p>\n<pre><code>    &lt;dependency&gt;\n       &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n       &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n       &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;io.smallrye.reactive&lt;/groupId&gt;\n       &lt;artifactId&gt;smallrye-mutiny-vertx-sql-client&lt;/artifactId&gt;\n       &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Replace with:</p>\n<pre><code>    &lt;dependency&gt;\n       &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n       &lt;artifactId&gt;quarkus-reactive-mysql-client&lt;/artifactId&gt;\n       &lt;version&gt;3.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":25129024,"reputation":11,"user_id":18976488,"display_name":"krz00"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685208924,"creation_date":1651155531,"question_id":72045349,"body_markdown":"I have problem using quarkus using in persistence layer io.vertx.mutiny.mysqlclient.MySQLPool \r\n\r\nThis is the repo class: \r\n\r\n    @ApplicationScoped\r\n    public class OrderDaoImpl implements OrderDao {\r\n    \r\n    @Inject\r\n    MySQLPool client;\r\n    \r\n        @Override\r\n        public Uni&lt;OrderTransaction&gt; retrieveOrderByTrackingNumberReactive(String hashOrder) throws OrderException {\r\n    \r\n            try {\r\n                return client\r\n                        .preparedQuery(SELECT_ORDER_ID_BY_HASH)\r\n                        .execute(Tuple.of(hashOrder))\r\n                        .onItem()\r\n                        .transform(m -&gt; m.iterator().hasNext() ? OrderTransaction.from(m.iterator().next()) : null);\r\n    \r\n            } catch (Exception e) {\r\n                throw new OrderException(&quot;Error during retrieve order&quot;);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nand this is the error:\r\n\r\n\r\n    [ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:2.7.5.Final:build (default) on project quarkus-root: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n    [ERROR]         [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: Found 2 deployment problems: \r\n    [ERROR] [1] Unsatisfied dependency for type io.vertx.mutiny.mysqlclient.MySQLPool and qualifiers [@Default]\r\n\r\n\r\n\r\nHave you got any suggestions?\r\nThank you!\r\n\r\n\r\nthis is the pom.xml of submodel where i launch :\r\n\r\nmvn compile quarkus:dev\r\n\r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-resteasy-jsonb&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.smallrye.reactive&lt;/groupId&gt;\r\n                &lt;artifactId&gt;smallrye-mutiny-vertx-sql-client&lt;/artifactId&gt;\r\n                &lt;version&gt;2.21.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n\r\nAdded just the dependency.\r\n\r\n","title":"Problem using quarkus and io.vertx.mutiny.mysqlclient.MySQLPool","body":"<p>I have problem using quarkus using in persistence layer io.vertx.mutiny.mysqlclient.MySQLPool</p>\n<p>This is the repo class:</p>\n<pre><code>@ApplicationScoped\npublic class OrderDaoImpl implements OrderDao {\n\n@Inject\nMySQLPool client;\n\n    @Override\n    public Uni&lt;OrderTransaction&gt; retrieveOrderByTrackingNumberReactive(String hashOrder) throws OrderException {\n\n        try {\n            return client\n                    .preparedQuery(SELECT_ORDER_ID_BY_HASH)\n                    .execute(Tuple.of(hashOrder))\n                    .onItem()\n                    .transform(m -&gt; m.iterator().hasNext() ? OrderTransaction.from(m.iterator().next()) : null);\n\n        } catch (Exception e) {\n            throw new OrderException(&quot;Error during retrieve order&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>and this is the error:</p>\n<pre><code>[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:2.7.5.Final:build (default) on project quarkus-root: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n[ERROR]         [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: Found 2 deployment problems: \n[ERROR] [1] Unsatisfied dependency for type io.vertx.mutiny.mysqlclient.MySQLPool and qualifiers [@Default]\n</code></pre>\n<p>Have you got any suggestions?\nThank you!</p>\n<p>this is the pom.xml of submodel where i launch :</p>\n<p>mvn compile quarkus:dev</p>\n<pre><code>    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-jsonb&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.smallrye.reactive&lt;/groupId&gt;\n            &lt;artifactId&gt;smallrye-mutiny-vertx-sql-client&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Added just the dependency.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":2,"creation_date":1384856585,"post_id":20068852,"comment_id":29894316,"body_markdown":"You can parse the json on the client side and get the number from the JSONArray right? How difficult would that be?","body":"You can parse the json on the client side and get the number from the JSONArray right? How difficult would that be?"},{"owner":{"account_id":454779,"reputation":5505,"user_id":852571,"accept_rate":89,"display_name":"Noam Rathaus"},"score":1,"creation_date":1384856627,"post_id":20068852,"comment_id":29894349,"body_markdown":"As @benzonico said, you can just access the JSON object&#39;s &quot;numbers&quot; element and gain access to the array","body":"As @benzonico said, you can just access the JSON object&#39;s &quot;numbers&quot; element and gain access to the array"},{"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"score":0,"creation_date":1384885660,"post_id":20068852,"comment_id":29912737,"body_markdown":"Do you really think what you expect is different from what it is returning?\n\nIf yes, then please type in the JSON object you are expecting :)","body":"Do you really think what you expect is different from what it is returning?  If yes, then please type in the JSON object you are expecting :)"}],"answers":[{"tags":[],"owner":{"account_id":3113660,"reputation":323,"user_id":2634916,"display_name":"TR1"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1384882445,"creation_date":1384882445,"answer_id":20078187,"question_id":20068852,"body_markdown":"Instead of -\r\n\r\n    result.put(&quot;numbers&quot;, numbers);\r\n\r\nyou can try (I haven&#39;t tested this though)\r\n\r\n    result.put(numbers);\r\n\r\nOr iterate through the array &quot;numbers&quot; and put each one individually into the &quot;result&quot;.","title":"How to cast JSONArray to int array?","body":"<p>Instead of -</p>\n\n<pre><code>result.put(\"numbers\", numbers);\n</code></pre>\n\n<p>you can try (I haven't tested this though)</p>\n\n<pre><code>result.put(numbers);\n</code></pre>\n\n<p>Or iterate through the array \"numbers\" and put each one individually into the \"result\".</p>\n"},{"tags":[],"owner":{"account_id":2388379,"reputation":5178,"user_id":2088822,"accept_rate":93,"display_name":"afsantos"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1384887438,"creation_date":1384887438,"answer_id":20079750,"question_id":20068852,"body_markdown":"I&#39;ve never used this, nor have I tested it, but looking at your code and the documentation for [`JSONObject`][1] and [`JSONArray`][2], this is what I suggest.\r\n\r\n    // Receive JSON from server and parse it.\r\n    String jsonString = service.path(&quot;rest&quot;).path(&quot;hello&quot;)\r\n        .accept(MediaType.APPLICATION_JSON).get(String.class);\r\n    JSONObject obj = new JSONObject(jsonString);\r\n\r\n    // Retrieve number array from JSON object.\r\n    JSONArray array = obj.optJSONArray(&quot;numbers&quot;);\r\n\r\n    // Deal with the case of a non-array value.\r\n    if (array == null) { /*...*/ }\r\n\r\n    // Create an int array to accomodate the numbers.\r\n    int[] numbers = new int[array.length()];\r\n\r\n    // Extract numbers from JSON array.\r\n    for (int i = 0; i &lt; array.length(); ++i) {\r\n        numbers[i] = array.optInt(i);\r\n    }\r\n\r\nThis should work for your case. On a more serious application, you may want to check if the values are indeed integers, as `optInt` returns `0` when the value does not exist, or isn&#39;t an integer.\r\n\r\n  &gt; Get the optional int value associated with an index. Zero is returned if there is no value for the index, or if the value is not a number and cannot be converted to a number.\r\n\r\n\r\n  [1]: http://www.json.org/javadoc/org/json/JSONObject.html\r\n  [2]: http://www.json.org/javadoc/org/json/JSONArray.html","title":"How to cast JSONArray to int array?","body":"<p>I've never used this, nor have I tested it, but looking at your code and the documentation for <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\"><code>JSONObject</code></a> and <a href=\"http://www.json.org/javadoc/org/json/JSONArray.html\"><code>JSONArray</code></a>, this is what I suggest.</p>\n\n<pre><code>// Receive JSON from server and parse it.\nString jsonString = service.path(\"rest\").path(\"hello\")\n    .accept(MediaType.APPLICATION_JSON).get(String.class);\nJSONObject obj = new JSONObject(jsonString);\n\n// Retrieve number array from JSON object.\nJSONArray array = obj.optJSONArray(\"numbers\");\n\n// Deal with the case of a non-array value.\nif (array == null) { /*...*/ }\n\n// Create an int array to accomodate the numbers.\nint[] numbers = new int[array.length()];\n\n// Extract numbers from JSON array.\nfor (int i = 0; i &lt; array.length(); ++i) {\n    numbers[i] = array.optInt(i);\n}\n</code></pre>\n\n<p>This should work for your case. On a more serious application, you may want to check if the values are indeed integers, as <code>optInt</code> returns <code>0</code> when the value does not exist, or isn't an integer.</p>\n\n<blockquote>\n  <p>Get the optional int value associated with an index. Zero is returned if there is no value for the index, or if the value is not a number and cannot be converted to a number.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1449670687,"creation_date":1449670687,"answer_id":34181060,"question_id":20068852,"body_markdown":"If you can accept a List&lt;Integer&gt; as a result, and also can accept using Gson, there is a pretty easy way of doing this, in just a few lines of code:\r\n\r\n    Type listType = new TypeToken&lt;LinkedList&lt;Integer&gt;&gt;() {}.getType();\r\n    List&lt;Integer&gt; numbers = new Gson().fromJson(jobj.get(&quot;numbers&quot;), listType);\r\n\r\n\r\nI realize this is not exactly what you are asking for, but in my experience, a list of integers can be used in many of the same ways as a basic int[]. Further info on how to convert a linkedlist to an array, can be found here: https://stackoverflow.com/questions/2304242/how-to-convert-linkedlist-to-array-using-toarray","title":"How to cast JSONArray to int array?","body":"<p>If you can accept a List as a result, and also can accept using Gson, there is a pretty easy way of doing this, in just a few lines of code:</p>\n\n<pre><code>Type listType = new TypeToken&lt;LinkedList&lt;Integer&gt;&gt;() {}.getType();\nList&lt;Integer&gt; numbers = new Gson().fromJson(jobj.get(\"numbers\"), listType);\n</code></pre>\n\n<p>I realize this is not exactly what you are asking for, but in my experience, a list of integers can be used in many of the same ways as a basic int[]. Further info on how to convert a linkedlist to an array, can be found here: <a href=\"https://stackoverflow.com/questions/2304242/how-to-convert-linkedlist-to-array-using-toarray\">How to convert linkedlist to array using `toArray()`?</a></p>\n"},{"tags":[],"owner":{"account_id":6540710,"reputation":37,"user_id":5058398,"accept_rate":50,"display_name":"Aniket Patil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1493793809,"creation_date":1493793809,"answer_id":43752912,"question_id":20068852,"body_markdown":"You can also do this\r\n\r\n    JSONArray numberArr=jsonObject.getJSONArray(&quot;numbers&quot;);\r\n    \r\n                int[] arr=new int[numberArr.length()];\r\n                for(int k=0;k&lt;numberArr.length();k++)\r\n                     arr[k]=numberArr.getInt(k);","title":"How to cast JSONArray to int array?","body":"<p>You can also do this</p>\n\n<pre><code>JSONArray numberArr=jsonObject.getJSONArray(\"numbers\");\n\n            int[] arr=new int[numberArr.length()];\n            for(int k=0;k&lt;numberArr.length();k++)\n                 arr[k]=numberArr.getInt(k);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685207911,"creation_date":1522947455,"answer_id":49677727,"question_id":20068852,"body_markdown":"**May, 2023**\r\n\r\n**Java :**\r\n\r\nHere is a simple **method** that handles `JSONArray` converting to `Int Array` :\r\n\r\n    public static int[] JSonArray2IntArray(JSONArray jsonArray){\r\n        int[] intArray = new int[jsonArray.length()];\r\n        for (int i = 0; i &lt; intArray.length; ++i) {\r\n            intArray[i] = jsonArray.optInt(i);\r\n        }\r\n        return intArray;\r\n    }\r\n\r\n**Kotlin :**\r\n\r\n    val intArr = Array(jsonArr.length()) {jsonArr.getInt(it)}\r\n* `intArr` is an `Array&lt;Int&gt; `\r\n* `it` The High-order function is called for each array element sequentially starting from the first one. It should return the value for an array element given its index.","title":"How to cast JSONArray to int array?","body":"<p><strong>May, 2023</strong></p>\n<p><strong>Java :</strong></p>\n<p>Here is a simple <strong>method</strong> that handles <code>JSONArray</code> converting to <code>Int Array</code> :</p>\n<pre><code>public static int[] JSonArray2IntArray(JSONArray jsonArray){\n    int[] intArray = new int[jsonArray.length()];\n    for (int i = 0; i &lt; intArray.length; ++i) {\n        intArray[i] = jsonArray.optInt(i);\n    }\n    return intArray;\n}\n</code></pre>\n<p><strong>Kotlin :</strong></p>\n<pre><code>val intArr = Array(jsonArr.length()) {jsonArr.getInt(it)}\n</code></pre>\n<ul>\n<li><code>intArr</code> is an <code>Array&lt;Int&gt; </code></li>\n<li><code>it</code> The High-order function is called for each array element sequentially starting from the first one. It should return the value for an array element given its index.</li>\n</ul>\n"}],"owner":{"account_id":3130679,"reputation":147,"user_id":2648866,"accept_rate":18,"display_name":"volly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49945,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":20079750,"answer_count":5,"score":11,"last_activity_date":1685207911,"creation_date":1384856413,"question_id":20068852,"body_markdown":"I&#39;m having problems with the method `JSONObject sayJSONHello()`.\r\n\r\n    @Path(&quot;/hello&quot;)\r\n    public class SimplyHello {\r\n\r\n        @GET\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n\r\n         public JSONObject sayJSONHello() {      \r\n\r\n            JSONArray numbers = new JSONArray();\r\n\r\n            numbers.put(1);\r\n            numbers.put(2);\r\n            numbers.put(3);\r\n            numbers.put(4);             \r\n\r\n            JSONObject result = new JSONObject();\r\n\r\n            try {\r\n                result.put(&quot;numbers&quot;, numbers);\r\n            } catch (JSONException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\nIn the client side, I want to get an `int` array, `[1, 2, 3, 4] `, instead of the JSON\r\n\r\n    {&quot;numbers&quot;:[1,2,3,4]}\r\n\r\nHow can I do that?\r\n\r\nClient code:\r\n\r\n    System.out.println(service.path(&quot;rest&quot;).path(&quot;hello&quot;)\r\n        .accept(MediaType.APPLICATION_JSON).get(String.class));\r\n\r\nMy method returns a `JSONObject`, but I want to extract the numbers from it, in order to perform calculations with these (e.g as an `int[]`).\r\n\r\n---\r\n\r\n  I reveive function as a JSONObject.\r\n\r\n     String y = service.path(&quot;rest&quot;).path(&quot;hello&quot;).accept(MediaType.APPLICATION_JSON).get(String.class);   \r\n    JSONObject jobj = new JSONObject(y);   \r\n    int [] id = new int[50];\r\n     id = (int [] ) jobj.optJSONObject(&quot;numbers:&quot;); \r\n  \r\nAnd then i get error: Cannot cast from JSONObject to int[]\r\n\r\n2 other way \r\n       \r\n    String y = service.path(&quot;rest&quot;).path(&quot;hello&quot;).accept(MediaType.APPLICATION_JSON).get(String.class);   \r\n    JSONArray obj = new JSONArray(y);  \r\n    int [] id = new int[50];      \r\n     id = (int [] ) obj.optJSONArray(0);                                                     \r\n\r\nAnd this time i get: Cannot cast from JSONArray to int[]...\r\n\r\nIt doesn&#39;t work anyway..","title":"How to cast JSONArray to int array?","body":"<p>I'm having problems with the method <code>JSONObject sayJSONHello()</code>.</p>\n\n<pre><code>@Path(\"/hello\")\npublic class SimplyHello {\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n\n     public JSONObject sayJSONHello() {      \n\n        JSONArray numbers = new JSONArray();\n\n        numbers.put(1);\n        numbers.put(2);\n        numbers.put(3);\n        numbers.put(4);             \n\n        JSONObject result = new JSONObject();\n\n        try {\n            result.put(\"numbers\", numbers);\n        } catch (JSONException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return result;\n    }\n}\n</code></pre>\n\n<p>In the client side, I want to get an <code>int</code> array, <code>[1, 2, 3, 4]</code>, instead of the JSON</p>\n\n<pre><code>{\"numbers\":[1,2,3,4]}\n</code></pre>\n\n<p>How can I do that?</p>\n\n<p>Client code:</p>\n\n<pre><code>System.out.println(service.path(\"rest\").path(\"hello\")\n    .accept(MediaType.APPLICATION_JSON).get(String.class));\n</code></pre>\n\n<p>My method returns a <code>JSONObject</code>, but I want to extract the numbers from it, in order to perform calculations with these (e.g as an <code>int[]</code>).</p>\n\n<hr>\n\n<p>I reveive function as a JSONObject.</p>\n\n<pre><code> String y = service.path(\"rest\").path(\"hello\").accept(MediaType.APPLICATION_JSON).get(String.class);   \nJSONObject jobj = new JSONObject(y);   \nint [] id = new int[50];\n id = (int [] ) jobj.optJSONObject(\"numbers:\"); \n</code></pre>\n\n<p>And then i get error: Cannot cast from JSONObject to int[]</p>\n\n<p>2 other way </p>\n\n<pre><code>String y = service.path(\"rest\").path(\"hello\").accept(MediaType.APPLICATION_JSON).get(String.class);   \nJSONArray obj = new JSONArray(y);  \nint [] id = new int[50];      \n id = (int [] ) obj.optJSONArray(0);                                                     \n</code></pre>\n\n<p>And this time i get: Cannot cast from JSONArray to int[]...</p>\n\n<p>It doesn't work anyway..</p>\n"},{"tags":["java","file","redirect","log4j","stdout"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1248873779,"creation_date":1248873779,"answer_id":1200231,"question_id":1200175,"body_markdown":"I presume you&#39;re logging stacktraces via `e.printStackTrace()` ? You can pass an exception object into the Log4j logging methods and those will appear in your log (see [Logger.error(Object obj, Throwable t)][1])\r\n\r\nNote that you can change System.out and System.err to another [PrintStream][2] that redirects to Log4j. That would be a straightforward change and save you converting all your `System.out.println()` statements.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Category.html#error%28java.lang.Object,%20java.lang.Throwable%29\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/io/PrintStream.html","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>I presume you're logging stacktraces via <code>e.printStackTrace()</code> ? You can pass an exception object into the Log4j logging methods and those will appear in your log (see <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Category.html#error%28java.lang.Object,%20java.lang.Throwable%29\" rel=\"nofollow noreferrer\">Logger.error(Object obj, Throwable t)</a>)</p>\n\n<p>Note that you can change System.out and System.err to another <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">PrintStream</a> that redirects to Log4j. That would be a straightforward change and save you converting all your <code>System.out.println()</code> statements.</p>\n"},{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1248873988,"creation_date":1248873988,"answer_id":1200249,"question_id":1200175,"body_markdown":"Standard output and error streams are managed from your container. For example Tomcat uses JULI to log output and error streams.\r\n\r\nMy recommendation is to leave these as it is. Avoid using System.out.print in your application. See [here][1] for stack traces.\r\n\r\n\r\n  [1]: http://www.mail-archive.com/log4j-user@logging.apache.org/msg07442.html","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>Standard output and error streams are managed from your container. For example Tomcat uses JULI to log output and error streams.</p>\n\n<p>My recommendation is to leave these as it is. Avoid using System.out.print in your application. See <a href=\"http://www.mail-archive.com/log4j-user@logging.apache.org/msg07442.html\" rel=\"nofollow noreferrer\">here</a> for stack traces.</p>\n"},{"tags":[],"owner":{"account_id":1078,"reputation":33615,"user_id":1431,"accept_rate":71,"display_name":"Juha Syrj&#228;l&#228;"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1338357631,"creation_date":1248874523,"answer_id":1200321,"question_id":1200175,"body_markdown":"If you are using an application server, servlet container or something similar, see &lt;a href=&quot;https://stackoverflow.com/questions/1200175/log4j-redirect-stdout-to-dailyrollingfileappender/1200231#1200231&quot;&gt;kgiannakakis&#39;s answer&lt;/a&gt;.\r\n\r\nFor standalone apps see &lt;a href=&quot;http://www.exampledepot.com/egs/java.lang/Redirect.html&quot;&gt;this&lt;/a&gt;. You can reassing &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/System.html#setIn(java.io.InputStream)&quot;&gt;stdin&lt;/a&gt;, &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/System.html#setOut(java.io.PrintStream)&quot;&gt;stdout&lt;/a&gt; and &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/System.html#setErr(java.io.PrintStream)&quot;&gt;stderr&lt;/a&gt; using &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/System.html&quot;&gt;java.lang.System&lt;/a&gt; class. Basically you create a new subclass of PrintStream and set that instance to System.out.\r\n\r\nSomething along these lines in start of your app (untested).\r\n\r\n    // PrintStream object that prints stuff to log4j logger\r\n    public class Log4jStream extends PrintStream {\r\n          public void write(byte buf[], int off, int len) {\r\n            try {\r\n               // write stuff to Log4J logger\r\n            } catch (Exception e) {\r\n           }\r\n        }\r\n    }\r\n\r\n    // reassign standard output to go to log4j\r\n    System.setOut(new Log4jStream());","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>If you are using an application server, servlet container or something similar, see <a href=\"https://stackoverflow.com/questions/1200175/log4j-redirect-stdout-to-dailyrollingfileappender/1200231#1200231\">kgiannakakis's answer</a>.</p>\n\n<p>For standalone apps see <a href=\"http://www.exampledepot.com/egs/java.lang/Redirect.html\" rel=\"nofollow noreferrer\">this</a>. You can reassing <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#setIn(java.io.InputStream)\" rel=\"nofollow noreferrer\">stdin</a>, <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#setOut(java.io.PrintStream)\" rel=\"nofollow noreferrer\">stdout</a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#setErr(java.io.PrintStream)\" rel=\"nofollow noreferrer\">stderr</a> using <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\">java.lang.System</a> class. Basically you create a new subclass of PrintStream and set that instance to System.out.</p>\n\n<p>Something along these lines in start of your app (untested).</p>\n\n<pre><code>// PrintStream object that prints stuff to log4j logger\npublic class Log4jStream extends PrintStream {\n      public void write(byte buf[], int off, int len) {\n        try {\n           // write stuff to Log4J logger\n        } catch (Exception e) {\n       }\n    }\n}\n\n// reassign standard output to go to log4j\nSystem.setOut(new Log4jStream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":563789,"reputation":1124,"user_id":167489,"display_name":"Michael S."},"down_vote_count":1,"up_vote_count":111,"is_accepted":true,"score":110,"last_activity_date":1251925166,"creation_date":1251924708,"answer_id":1370033,"question_id":1200175,"body_markdown":"    // I set up a ConsoleAppender in Log4J to format Stdout/Stderr\r\n    log4j.rootLogger=DEBUG, CONSOLE\r\n    log4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.CONSOLE.layout.ConversionPattern=[%t] %-5p %c - %m%n\r\n\r\n\r\n    // And I call this StdOutErrLog.tieSystemOutAndErrToLog() on startup\r\n     \r\n    public class StdOutErrLog {\r\n    \r\n        private static final Logger logger = Logger.getLogger(StdOutErrLog.class);\r\n    \r\n        public static void tieSystemOutAndErrToLog() {\r\n            System.setOut(createLoggingProxy(System.out));\r\n            System.setErr(createLoggingProxy(System.err));\r\n        }\r\n    \r\n        public static PrintStream createLoggingProxy(final PrintStream realPrintStream) {\r\n            return new PrintStream(realPrintStream) {\r\n                public void print(final String string) {\r\n                    realPrintStream.print(string);\r\n                    logger.info(string);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<pre><code>// I set up a ConsoleAppender in Log4J to format Stdout/Stderr\nlog4j.rootLogger=DEBUG, CONSOLE\nlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\nlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CONSOLE.layout.ConversionPattern=[%t] %-5p %c - %m%n\n\n\n// And I call this StdOutErrLog.tieSystemOutAndErrToLog() on startup\n\npublic class StdOutErrLog {\n\n    private static final Logger logger = Logger.getLogger(StdOutErrLog.class);\n\n    public static void tieSystemOutAndErrToLog() {\n        System.setOut(createLoggingProxy(System.out));\n        System.setErr(createLoggingProxy(System.err));\n    }\n\n    public static PrintStream createLoggingProxy(final PrintStream realPrintStream) {\n        return new PrintStream(realPrintStream) {\n            public void print(final String string) {\n                realPrintStream.print(string);\n                logger.info(string);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1316481624,"creation_date":1316481624,"answer_id":7479094,"question_id":1200175,"body_markdown":"I picked up the idea from Michael S., but like mentioned in one comment, it has some problems: it doesn&#39;t capture everything, and it prints some empty lines.\r\n\r\nAlso I wanted to separate `System.out` and `System.err`, so that `System.out` gets logged with log level `&#39;INFO&#39;` and `System.err` gets logged with `&#39;ERROR&#39;` (or `&#39;WARN&#39;` if you like).\r\n\r\nSo this is my solution:\r\nFirst a class that extends `OutputStream` (it&#39;s easier to override all methods for `OutputStream` than for `PrintStream`). It logs with a specified log level and also copies everything to another `OutputStream`. And also it detects &quot;empty&quot; strings (containing whitespace only) and does not log them.\r\n\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n\r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.Logger;\r\n\r\n    public class LoggerStream extends OutputStream\r\n    {\r\n\tprivate final Logger logger;\r\n\tprivate final Level logLevel;\r\n\tprivate final OutputStream outputStream;\r\n\r\n\tpublic LoggerStream(Logger logger, Level logLevel, OutputStream outputStream)\r\n\t{\r\n\t\tsuper();\r\n\r\n\t\tthis.logger = logger;\r\n\t\tthis.logLevel = logLevel;\r\n\t\tthis.outputStream = outputStream;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void write(byte[] b) throws IOException\r\n\t{\r\n\t\toutputStream.write(b);\r\n\t\tString string = new String(b);\r\n\t\tif (!string.trim().isEmpty())\r\n\t\t\tlogger.log(logLevel, string);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void write(byte[] b, int off, int len) throws IOException\r\n\t{\r\n\t\toutputStream.write(b, off, len);\r\n\t\tString string = new String(b, off, len);\r\n\t\tif (!string.trim().isEmpty())\r\n\t\t\tlogger.log(logLevel, string);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void write(int b) throws IOException\r\n\t{\r\n\t\toutputStream.write(b);\r\n\t\tString string = String.valueOf((char) b);\r\n\t\tif (!string.trim().isEmpty())\r\n\t\t\tlogger.log(logLevel, string);\r\n\t}\r\n    }\r\n\r\nAnd then a very simple utility class to set `out` and `err`:\r\n\r\n    import java.io.PrintStream;\r\n\r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.Logger;\r\n\r\n    public class OutErrLogger\r\n    {\r\n\tpublic static void setOutAndErrToLog()\r\n\t{\r\n\t\tsetOutToLog();\r\n\t\tsetErrToLog();\r\n\t}\r\n\r\n\tpublic static void setOutToLog()\r\n\t{\r\n\t\tSystem.setOut(new PrintStream(new LoggerStream(Logger.getLogger(&quot;out&quot;), Level.INFO, System.out)));\r\n\t}\r\n\r\n\tpublic static void setErrToLog()\r\n\t{\r\n\t\tSystem.setErr(new PrintStream(new LoggerStream(Logger.getLogger(&quot;err&quot;), Level.ERROR, System.err)));\r\n\t}\r\n\r\n    }\r\n","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>I picked up the idea from Michael S., but like mentioned in one comment, it has some problems: it doesn't capture everything, and it prints some empty lines.</p>\n\n<p>Also I wanted to separate <code>System.out</code> and <code>System.err</code>, so that <code>System.out</code> gets logged with log level <code>'INFO'</code> and <code>System.err</code> gets logged with <code>'ERROR'</code> (or <code>'WARN'</code> if you like).</p>\n\n<p>So this is my solution:\nFirst a class that extends <code>OutputStream</code> (it's easier to override all methods for <code>OutputStream</code> than for <code>PrintStream</code>). It logs with a specified log level and also copies everything to another <code>OutputStream</code>. And also it detects \"empty\" strings (containing whitespace only) and does not log them.</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.OutputStream;\n\nimport org.apache.log4j.Level;\nimport org.apache.log4j.Logger;\n\npublic class LoggerStream extends OutputStream\n{\nprivate final Logger logger;\nprivate final Level logLevel;\nprivate final OutputStream outputStream;\n\npublic LoggerStream(Logger logger, Level logLevel, OutputStream outputStream)\n{\n    super();\n\n    this.logger = logger;\n    this.logLevel = logLevel;\n    this.outputStream = outputStream;\n}\n\n@Override\npublic void write(byte[] b) throws IOException\n{\n    outputStream.write(b);\n    String string = new String(b);\n    if (!string.trim().isEmpty())\n        logger.log(logLevel, string);\n}\n\n@Override\npublic void write(byte[] b, int off, int len) throws IOException\n{\n    outputStream.write(b, off, len);\n    String string = new String(b, off, len);\n    if (!string.trim().isEmpty())\n        logger.log(logLevel, string);\n}\n\n@Override\npublic void write(int b) throws IOException\n{\n    outputStream.write(b);\n    String string = String.valueOf((char) b);\n    if (!string.trim().isEmpty())\n        logger.log(logLevel, string);\n}\n}\n</code></pre>\n\n<p>And then a very simple utility class to set <code>out</code> and <code>err</code>:</p>\n\n<pre><code>import java.io.PrintStream;\n\nimport org.apache.log4j.Level;\nimport org.apache.log4j.Logger;\n\npublic class OutErrLogger\n{\npublic static void setOutAndErrToLog()\n{\n    setOutToLog();\n    setErrToLog();\n}\n\npublic static void setOutToLog()\n{\n    System.setOut(new PrintStream(new LoggerStream(Logger.getLogger(\"out\"), Level.INFO, System.out)));\n}\n\npublic static void setErrToLog()\n{\n    System.setErr(new PrintStream(new LoggerStream(Logger.getLogger(\"err\"), Level.ERROR, System.err)));\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":454194,"reputation":1542,"user_id":851602,"accept_rate":88,"display_name":"itshorty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340016203,"creation_date":1340016203,"answer_id":11081186,"question_id":1200175,"body_markdown":"The anser of @Michael is a good Point. But extending PrintStream is not very nice, because it uses a internal method `void write(String)` to write all things to an OutputStream.\r\n\r\nI prefer to use the [`LoggingOutputStream` Class][1] from the Log4J Contrib package.\r\n\r\nThen i redirect the system-streams like this:\r\n\r\n    public class SysStreamsLogger {\r\n    \tprivate static Logger sysOutLogger = Logger.getLogger(&quot;SYSOUT&quot;);\r\n    \tprivate static Logger sysErrLogger = Logger.getLogger(&quot;SYSERR&quot;);\r\n\r\n    \tpublic static final PrintStream sysout = System.out;\r\n    \tpublic static final PrintStream syserr = System.err;\r\n\t\r\n    \tpublic static void bindSystemStreams() {\r\n    \t\t// Enable autoflush\r\n    \t\tSystem.setOut(new PrintStream(new LoggingOutputStream(sysOutLogger, LogLevel.INFO), true));\r\n    \t\tSystem.setErr(new PrintStream(new LoggingOutputStream(sysErrLogger, LogLevel.ERROR), true));\r\n    \t}\r\n    \r\n    \tpublic static void unbindSystemStreams() {\r\n    \t\tSystem.setOut(sysout);\r\n    \t\tSystem.setErr(syserr);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://svn.apache.org/viewvc/logging/log4j/trunk/contribs/JimMoore/LoggingOutputStream.java?view=co","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>The anser of @Michael is a good Point. But extending PrintStream is not very nice, because it uses a internal method <code>void write(String)</code> to write all things to an OutputStream.</p>\n\n<p>I prefer to use the <a href=\"https://svn.apache.org/viewvc/logging/log4j/trunk/contribs/JimMoore/LoggingOutputStream.java?view=co\" rel=\"nofollow\"><code>LoggingOutputStream</code> Class</a> from the Log4J Contrib package.</p>\n\n<p>Then i redirect the system-streams like this:</p>\n\n<pre><code>public class SysStreamsLogger {\n    private static Logger sysOutLogger = Logger.getLogger(\"SYSOUT\");\n    private static Logger sysErrLogger = Logger.getLogger(\"SYSERR\");\n\n    public static final PrintStream sysout = System.out;\n    public static final PrintStream syserr = System.err;\n\n    public static void bindSystemStreams() {\n        // Enable autoflush\n        System.setOut(new PrintStream(new LoggingOutputStream(sysOutLogger, LogLevel.INFO), true));\n        System.setErr(new PrintStream(new LoggingOutputStream(sysErrLogger, LogLevel.ERROR), true));\n    }\n\n    public static void unbindSystemStreams() {\n        System.setOut(sysout);\n        System.setErr(syserr);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1831577,"reputation":121,"user_id":1662867,"display_name":"Fizou"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1348640012,"creation_date":1347367164,"answer_id":12369929,"question_id":1200175,"body_markdown":"In Skaffman code : To remove empty lines in log4j logs, just add &quot;println&quot; method to PrintStream of createLoggingProxy\r\n           \r\n    public static PrintStream createLoggingProxy(final PrintStream realPrintStream) {\r\n        return new PrintStream(realPrintStream) {\r\n            public void print(final String string) {\r\n                logger.warn(string);\r\n            }\r\n            public void println(final String string) {\r\n                logger.warn(string);\r\n            }\r\n        };\r\n    }\r\n\r\n","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>In Skaffman code : To remove empty lines in log4j logs, just add \"println\" method to PrintStream of createLoggingProxy</p>\n\n<pre><code>public static PrintStream createLoggingProxy(final PrintStream realPrintStream) {\n    return new PrintStream(realPrintStream) {\n        public void print(final String string) {\n            logger.warn(string);\n        }\n        public void println(final String string) {\n            logger.warn(string);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1002329,"reputation":71,"user_id":4454769,"display_name":"MarkG"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1421262291,"creation_date":1421262291,"answer_id":27950562,"question_id":1200175,"body_markdown":"The answers above give an excellent idea to use proxy for the STDOUT/ERR logging. However provided implementation examples do not work nicely for all cases. For example, try\r\n    \r\n\r\n&gt; System.out.printf(&quot;Testing %s\\n&quot;, &quot;ABC&quot;);\r\n\r\nThe code from examples above will cut the output into separate pieces on a console and in multiple not readable Log4j entries.\r\n\r\nThe solution is to buffer the output until a trigger &#39;\\n&#39; is found at buffer&#39;s end. Sometimes the buffer ends with &#39;\\r\\n&#39;.\r\nThe class below addresses this issue. It is fully functional. Call the static method bind() to activate it.\r\n\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.io.PrintStream;\r\n    \r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.Logger;\r\n    \r\n    // Based on\r\n    // http://stackoverflow.com/questions/1200175/log4j-redirect-stdout-to-dailyrollingfileappender\r\n    public class Log4jStdOutErrProxy {\r\n     \r\n      public static void bind() {\r\n        bind(Logger.getLogger(&quot;STDOUT&quot;), Logger.getLogger(&quot;STDERR&quot;));\r\n      }\r\n      \r\n      @SuppressWarnings(&quot;resource&quot;)\r\n      public static void bind(Logger loggerOut, Logger loggerErr) {\r\n        System.setOut(new PrintStream(new LoggerStream(loggerOut, Level.INFO,  System.out), true));\r\n        System.setErr(new PrintStream(new LoggerStream(loggerErr, Level.ERROR, System.err), true));\r\n      }\r\n      \r\n      private static class LoggerStream extends OutputStream {\r\n        private final Logger logger;\r\n        private final Level logLevel;\r\n        private final OutputStream outputStream;\r\n        private StringBuilder sbBuffer;\r\n    \r\n        public LoggerStream(Logger logger, Level logLevel, OutputStream outputStream) {\r\n          this.logger = logger;\r\n          this.logLevel = logLevel;\r\n          this.outputStream = outputStream;\r\n          sbBuffer = new StringBuilder();\r\n        }\r\n    \r\n        @Override\r\n        public void write(byte[] b) throws IOException {\r\n          doWrite(new String(b));\r\n        }\r\n    \r\n        @Override\r\n        public void write(byte[] b, int off, int len) throws IOException {\r\n          doWrite(new String(b, off, len));\r\n        }\r\n    \r\n        @Override\r\n        public void write(int b) throws IOException {\r\n          doWrite(String.valueOf((char)b));\r\n        }\r\n    \r\n        private void doWrite(String str) throws IOException {\r\n          sbBuffer.append(str);\r\n          if (sbBuffer.charAt(sbBuffer.length() - 1) == &#39;\\n&#39;) {\r\n            // The output is ready\r\n            sbBuffer.setLength(sbBuffer.length() - 1); // remove &#39;\\n&#39;\r\n            if (sbBuffer.charAt(sbBuffer.length() - 1) == &#39;\\r&#39;) {\r\n              sbBuffer.setLength(sbBuffer.length() - 1); // remove &#39;\\r&#39;\r\n            }\r\n            String buf = sbBuffer.toString();\r\n            sbBuffer.setLength(0);\r\n            outputStream.write(buf.getBytes());\r\n            outputStream.write(&#39;\\n&#39;);\r\n            logger.log(logLevel, buf);\r\n          }\r\n        }\r\n      } // inner class LoggerStream  \r\n       \r\n    }\r\n\r\n","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>The answers above give an excellent idea to use proxy for the STDOUT/ERR logging. However provided implementation examples do not work nicely for all cases. For example, try</p>\n\n<blockquote>\n  <p>System.out.printf(\"Testing %s\\n\", \"ABC\");</p>\n</blockquote>\n\n<p>The code from examples above will cut the output into separate pieces on a console and in multiple not readable Log4j entries.</p>\n\n<p>The solution is to buffer the output until a trigger '\\n' is found at buffer's end. Sometimes the buffer ends with '\\r\\n'.\nThe class below addresses this issue. It is fully functional. Call the static method bind() to activate it.</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.OutputStream;\nimport java.io.PrintStream;\n\nimport org.apache.log4j.Level;\nimport org.apache.log4j.Logger;\n\n// Based on\n// http://stackoverflow.com/questions/1200175/log4j-redirect-stdout-to-dailyrollingfileappender\npublic class Log4jStdOutErrProxy {\n\n  public static void bind() {\n    bind(Logger.getLogger(\"STDOUT\"), Logger.getLogger(\"STDERR\"));\n  }\n\n  @SuppressWarnings(\"resource\")\n  public static void bind(Logger loggerOut, Logger loggerErr) {\n    System.setOut(new PrintStream(new LoggerStream(loggerOut, Level.INFO,  System.out), true));\n    System.setErr(new PrintStream(new LoggerStream(loggerErr, Level.ERROR, System.err), true));\n  }\n\n  private static class LoggerStream extends OutputStream {\n    private final Logger logger;\n    private final Level logLevel;\n    private final OutputStream outputStream;\n    private StringBuilder sbBuffer;\n\n    public LoggerStream(Logger logger, Level logLevel, OutputStream outputStream) {\n      this.logger = logger;\n      this.logLevel = logLevel;\n      this.outputStream = outputStream;\n      sbBuffer = new StringBuilder();\n    }\n\n    @Override\n    public void write(byte[] b) throws IOException {\n      doWrite(new String(b));\n    }\n\n    @Override\n    public void write(byte[] b, int off, int len) throws IOException {\n      doWrite(new String(b, off, len));\n    }\n\n    @Override\n    public void write(int b) throws IOException {\n      doWrite(String.valueOf((char)b));\n    }\n\n    private void doWrite(String str) throws IOException {\n      sbBuffer.append(str);\n      if (sbBuffer.charAt(sbBuffer.length() - 1) == '\\n') {\n        // The output is ready\n        sbBuffer.setLength(sbBuffer.length() - 1); // remove '\\n'\n        if (sbBuffer.charAt(sbBuffer.length() - 1) == '\\r') {\n          sbBuffer.setLength(sbBuffer.length() - 1); // remove '\\r'\n        }\n        String buf = sbBuffer.toString();\n        sbBuffer.setLength(0);\n        outputStream.write(buf.getBytes());\n        outputStream.write('\\n');\n        logger.log(logLevel, buf);\n      }\n    }\n  } // inner class LoggerStream  \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9973328,"reputation":1,"user_id":7378729,"display_name":"Vinoth Sakthivadivel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1494163238,"creation_date":1494163238,"answer_id":43831997,"question_id":1200175,"body_markdown":"Before using the System.setOut and System.setErr method we should reset the java.util.logging.LogManager object by using reset() method.\r\n\r\n\tpublic static void tieSystemOutAndErrToLog() {\r\n\r\n\t\ttry{\r\n\t\t\t\r\n\t        // initialize logging to go to rolling log file\r\n\t        LogManager logManager = LogManager.getLogManager();\r\n\t        logManager.reset();\r\n\r\n\t        // and output on the original stdout\r\n\t        System.out.println(&quot;Hello on old stdout&quot;);\r\n\t\t\tSystem.setOut(createLoggingProxy(System.out));\r\n\t\t\tSystem.setErr(createLoggingProxy(System.err));\r\n\t\t\t\r\n\t\t\t//Following is to make sure whether system.out and system.err is redirecting to the stdlog.log file\r\n\t\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n\t\t\t\r\n\t\t\ttry {\r\n\t            throw new RuntimeException(&quot;Test&quot;);\r\n\t        } catch (Exception e) {\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t        \r\n\t\t}catch(Exception e){\r\n\t\t\tlogger.error(&quot;Caught exception at StdOutErrLog &quot;,e);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>Before using the System.setOut and System.setErr method we should reset the java.util.logging.LogManager object by using reset() method.</p>\n\n<pre><code>public static void tieSystemOutAndErrToLog() {\n\n    try{\n\n        // initialize logging to go to rolling log file\n        LogManager logManager = LogManager.getLogManager();\n        logManager.reset();\n\n        // and output on the original stdout\n        System.out.println(\"Hello on old stdout\");\n        System.setOut(createLoggingProxy(System.out));\n        System.setErr(createLoggingProxy(System.err));\n\n        //Following is to make sure whether system.out and system.err is redirecting to the stdlog.log file\n        System.out.println(\"Hello world!\");\n\n        try {\n            throw new RuntimeException(\"Test\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }catch(Exception e){\n        logger.error(\"Caught exception at StdOutErrLog \",e);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1903065,"reputation":598,"user_id":1718501,"display_name":"Rowan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1685207437,"creation_date":1575421302,"answer_id":59167538,"question_id":1200175,"body_markdown":"For those looking for how to do this in log4j2. There is now a component to create these streams for you.\r\n\r\nRequires including the log4j-iostreams jar  \r\nSee: https://logging.apache.org/log4j/2.x/log4j-iostreams.html\r\n\r\n\r\nExample:\r\n\r\n    PrintStream logger = IoBuilder.forLogger(&quot;System.out&quot;).setLevel(Level.DEBUG).buildPrintStream();\r\n    PrintStream errorLogger = IoBuilder.forLogger(&quot;System.err&quot;).setLevel(Level.ERROR).buildPrintStream();\r\n    System.setOut(logger);\r\n    System.setErr(errorLogger);","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>For those looking for how to do this in log4j2. There is now a component to create these streams for you.</p>\n<p>Requires including the log4j-iostreams jar<br />\nSee: <a href=\"https://logging.apache.org/log4j/2.x/log4j-iostreams.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/log4j-iostreams.html</a></p>\n<p>Example:</p>\n<pre><code>PrintStream logger = IoBuilder.forLogger(&quot;System.out&quot;).setLevel(Level.DEBUG).buildPrintStream();\nPrintStream errorLogger = IoBuilder.forLogger(&quot;System.err&quot;).setLevel(Level.ERROR).buildPrintStream();\nSystem.setOut(logger);\nSystem.setErr(errorLogger);\n</code></pre>\n"}],"owner":{"account_id":41179,"reputation":9052,"user_id":119622,"accept_rate":51,"display_name":"letronje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98588,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":1370033,"answer_count":10,"score":75,"last_activity_date":1685207437,"creation_date":1248873345,"question_id":1200175,"body_markdown":"I have a java app that uses log4j. \r\n\r\nConfig:\r\n\r\n    log4j.rootLogger=info, file\r\n    \r\n    log4j.appender.file=org.apache.log4j.DailyRollingFileAppender\r\n    log4j.appender.file.File=${user.home}/logs/app.log\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d [%t] %c %p %m%n\r\n\r\nSo all the log statements are correctly appended to the file, but i am losing stdout and stderr. How do i redirect exception stack traces and sysouts to the daily rolled file ?  ","title":"log4j redirect stdout to DailyRollingFileAppender","body":"<p>I have a java app that uses log4j. </p>\n\n<p>Config:</p>\n\n<pre><code>log4j.rootLogger=info, file\n\nlog4j.appender.file=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.file.File=${user.home}/logs/app.log\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d [%t] %c %p %m%n\n</code></pre>\n\n<p>So all the log statements are correctly appended to the file, but i am losing stdout and stderr. How do i redirect exception stack traces and sysouts to the daily rolled file ?  </p>\n"},{"tags":["java","spring-boot","encryption","bouncycastle"],"comments":[{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1685314007,"post_id":76348080,"comment_id":134640462,"body_markdown":"Does this answer your question? [JCE cannot authenticate the provider BC in java swing application](https://stackoverflow.com/questions/13721579/jce-cannot-authenticate-the-provider-bc-in-java-swing-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13721579/jce-cannot-authenticate-the-provider-bc-in-java-swing-application\">JCE cannot authenticate the provider BC in java swing application</a>"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685207321,"creation_date":1685207321,"question_id":76348080,"body_markdown":"I am using Bouncy Castle Provider downloaded from https://www.bouncycastle.org/latest_releases.html. I am packaging the executable jar as an .exe file using [jar2exe][1] The bouncy castle jar files are in same folder as exe file. They are not inside executable jar. Will adding source code for these files to main project help?\r\n\r\n    2023-05-27 22:18:10:724 [ERROR] [main:ID=1]:[OpcUaServerServiceImpl.java:297] org.bouncycastle.openssl.PEMException: Unable to create OpenSSL PBDKF: JCE cannot authenticate the provider BC\r\n    \tat org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.PEMUtilities.crypt(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.JcePEMEncryptorBuilder$1.encrypt(Unknown Source)\r\n    \tat org.bouncycastle.openssl.MiscPEMGenerator.createPemObject(Unknown Source)\r\n    \tat org.bouncycastle.openssl.MiscPEMGenerator.generate(Unknown Source)\r\n    \tat org.bouncycastle.util.io.pem.PemWriter.writeObject(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.JcaPEMWriter.writeObject(Unknown Source)\r\n    \tat com.prosysopc.ua.stack.transport.security.BcCertificateProvider.writePrivateKey(SourceFile:271)\r\n    \tat com.prosysopc.ua.stack.utils.CertificateUtils.writePrivateKey(SourceFile:1080)\r\n    \tat com.prosysopc.ua.stack.utils.CertificateUtils.writePrivateKey(SourceFile:1064)\r\n    \tat com.prosysopc.ua.stack.transport.security.PrivKey.save(SourceFile:380)\r\n    \tat com.prosysopc.ua.ApplicationIdentity.saveCertificate(SourceFile:1358)\r\n    \tat com.prosysopc.ua.ApplicationIdentity.loadOrCreateIssuerCertificate(SourceFile:872)\r\n    \tat opcuaserver.services.OpcUaServerServiceImpl.initialize(OpcUaServerServiceImpl.java:592)\r\n    \tat opcuaserver.services.OpcUaServerServiceImpl.startServer(OpcUaServerServiceImpl.java:276)\r\n    \tat opcuaserver.OpcUaServerApplication.run(OpcUaServerApplication.java:54)\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    \tat opcuaserver.OpcUaServerApplication.main(OpcUaServerApplication.java:35)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: java.security.NoSuchProviderException: JCE cannot authenticate the provider BC\r\n    \tat java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:131)\r\n    \tat java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:208)\r\n    \tat org.bouncycastle.jcajce.util.NamedJcaJceHelper.createSecretKeyFactory(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.PEMUtilities.crypt(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.JcePEMEncryptorBuilder$1.encrypt(Unknown Source)\r\n    \tat org.bouncycastle.openssl.MiscPEMGenerator.createPemObject(Unknown Source)\r\n    \tat org.bouncycastle.openssl.MiscPEMGenerator.generate(Unknown Source)\r\n    \t...\r\n\r\n\r\n  [1]: https://www.jar2exe.com/","title":"How to fix org.bouncycastle.openssl.PEMException: Unable to create OpenSSL PBDKF: JCE cannot authenticate the provider BC error in Spring boot?","body":"<p>I am using Bouncy Castle Provider downloaded from <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">https://www.bouncycastle.org/latest_releases.html</a>. I am packaging the executable jar as an .exe file using <a href=\"https://www.jar2exe.com/\" rel=\"nofollow noreferrer\">jar2exe</a> The bouncy castle jar files are in same folder as exe file. They are not inside executable jar. Will adding source code for these files to main project help?</p>\n<pre><code>2023-05-27 22:18:10:724 [ERROR] [main:ID=1]:[OpcUaServerServiceImpl.java:297] org.bouncycastle.openssl.PEMException: Unable to create OpenSSL PBDKF: JCE cannot authenticate the provider BC\n    at org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.PEMUtilities.crypt(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.JcePEMEncryptorBuilder$1.encrypt(Unknown Source)\n    at org.bouncycastle.openssl.MiscPEMGenerator.createPemObject(Unknown Source)\n    at org.bouncycastle.openssl.MiscPEMGenerator.generate(Unknown Source)\n    at org.bouncycastle.util.io.pem.PemWriter.writeObject(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.JcaPEMWriter.writeObject(Unknown Source)\n    at com.prosysopc.ua.stack.transport.security.BcCertificateProvider.writePrivateKey(SourceFile:271)\n    at com.prosysopc.ua.stack.utils.CertificateUtils.writePrivateKey(SourceFile:1080)\n    at com.prosysopc.ua.stack.utils.CertificateUtils.writePrivateKey(SourceFile:1064)\n    at com.prosysopc.ua.stack.transport.security.PrivKey.save(SourceFile:380)\n    at com.prosysopc.ua.ApplicationIdentity.saveCertificate(SourceFile:1358)\n    at com.prosysopc.ua.ApplicationIdentity.loadOrCreateIssuerCertificate(SourceFile:872)\n    at opcuaserver.services.OpcUaServerServiceImpl.initialize(OpcUaServerServiceImpl.java:592)\n    at opcuaserver.services.OpcUaServerServiceImpl.startServer(OpcUaServerServiceImpl.java:276)\n    at opcuaserver.OpcUaServerApplication.run(OpcUaServerApplication.java:54)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at opcuaserver.OpcUaServerApplication.main(OpcUaServerApplication.java:35)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.security.NoSuchProviderException: JCE cannot authenticate the provider BC\n    at java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:131)\n    at java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:208)\n    at org.bouncycastle.jcajce.util.NamedJcaJceHelper.createSecretKeyFactory(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.PEMUtilities.crypt(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.JcePEMEncryptorBuilder$1.encrypt(Unknown Source)\n    at org.bouncycastle.openssl.MiscPEMGenerator.createPemObject(Unknown Source)\n    at org.bouncycastle.openssl.MiscPEMGenerator.generate(Unknown Source)\n    ...\n</code></pre>\n"},{"tags":["java","exception","jsf"],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685279134,"answer_count":0,"score":0,"last_activity_date":1685205886,"creation_date":1685200850,"question_id":76347610,"body_markdown":"```JAVA\r\npublic void downloadFileType2(RequestWildCard requestDTO, String endPath) {\r\n    try {\r\n        FacesContext facesContext = FacesContext.getCurrentInstance();\r\n        ExternalContext externalContext = facesContext.getExternalContext();\r\n        HttpServletResponse response = (HttpServletResponse) externalContext.getResponse();\r\n\r\n        String url = &quot;someurl&quot; + endPath;\r\n        URL myurl = new URL(url);\r\n\r\n        HttpURLConnection conn = (HttpURLConnection) myurl.openConnection();\r\n        conn.setUseCaches(false);\r\n        conn.setDoInput(true);\r\n        conn.setDoOutput(true);\r\n        conn.setConnectTimeout(5000);\r\n\r\n        conn.setRequestMethod(&quot;POST&quot;);\r\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        conn.setRequestProperty(&quot;Authorization&quot;, &quot;Basic XYZ&quot;);\r\n\r\n        String payLoad = mapper.writeValueAsString(requestDTO);\r\n        OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());\r\n        wr.write(payLoad);\r\n        wr.flush();\r\n\r\n        InputStream in = null;\r\n        int responseCode = conn.getResponseCode();\r\n        if (responseCode == 200) {\r\n            in = conn.getInputStream();\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            byte[] buffer = new byte[4096];\r\n            int bytesRead;\r\n            while ((bytesRead = in.read(buffer)) != -1) {\r\n                outputStream.write(buffer, 0, bytesRead);\r\n            }\r\n            byte[] excelData = outputStream.toByteArray();\r\n\r\n            // Set the response headers\r\n            response.setContentType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n            String fileName = requestDTO.getFileName();\r\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;.xlsx\\&quot;&quot;);\r\n            response.setContentLength(excelData.length);\r\n\r\n            // Write the byte array to the response output stream\r\n            ServletOutputStream responseOutputStream = response.getOutputStream();\r\n            responseOutputStream.write(excelData);\r\n            responseOutputStream.flush();\r\n            responseOutputStream.close();\r\n        } else {\r\n            in = conn.getErrorStream();\r\n            // Handle error response\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nI am using this piece of code to download an excel from another application.\r\nThe excel gets downloaded but I get following error:\r\n\r\n```ERROR\r\nSevere:   Error Rendering View[/somePage.xhtml]\r\njava.lang.IllegalStateException\r\n\tat org.apache.catalina.connector.ResponseFacade.setBufferSize(ResponseFacade.java:285)\r\n\tat javax.servlet.ServletResponseWrapper.setBufferSize(ServletResponseWrapper.java:198)\r\n\tat com.sun.faces.context.ExternalContextImpl.setResponseBufferSize(ExternalContextImpl.java:922)\r\n\tat javax.faces.context.ExternalContextWrapper.setResponseBufferSize(ExternalContextWrapper.java:857)\r\n\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.createResponseWriter(FaceletViewHandlingStrategy.java:1162)\r\n\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:403)\r\n\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133)\r\n\tat javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\r\n\tat javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\r\n\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)\r\n\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:647)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:78)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\r\n\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nInfo:   Exception when handling error trying to reset the response.\r\njava.lang.IllegalStateException\r\n\tat org.apache.catalina.connector.ResponseFacade.setBufferSize(ResponseFacade.java:285)\r\n\tat javax.servlet.ServletResponseWrapper.setBufferSize(ServletResponseWrapper.java:198)\r\n\tat com.sun.faces.context.ExternalContextImpl.setResponseBufferSize(ExternalContextImpl.java:922)\r\n\tat javax.faces.context.ExternalContextWrapper.setResponseBufferSize(ExternalContextWrapper.java:857)\r\n\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.createResponseWriter(FaceletViewHandlingStrategy.java:1162)\r\n\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:403)\r\n\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133)\r\n\tat javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\r\n\tat javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\r\n\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)\r\n\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:647)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:78)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\r\n\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nWarning:   StandardWrapperValve[Faces Servlet]: Servlet.service() for servlet Faces Servlet threw exception\r\njava.lang.IllegalStateException\r\n\tat org.apache.catalina.connector.ResponseFacade.setBufferSize(ResponseFacade.java:285)\r\n\tat javax.servlet.ServletResponseWrapper.setBufferSize(ServletResponseWrapper.java:198)\r\n\tat com.sun.faces.context.ExternalContextImpl.setResponseBufferSize(ExternalContextImpl.java:922)\r\n\tat javax.faces.context.ExternalContextWrapper.setResponseBufferSize(ExternalContextWrapper.java:857)\r\n\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.createResponseWriter(FaceletViewHandlingStrategy.java:1162)\r\n\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:403)\r\n\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133)\r\n\tat javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\r\n\tat javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\r\n\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)\r\n\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:647)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:78)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\r\n\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n```\r\n\r\nI don&#39;t want this log to be printed on my console or glassfish log\r\n\r\nI am using:\r\nJSF 2.2\r\nGlassfish 4.1\r\nPrimeface 6.1","title":"Error Rendering View java.lang.IllegalStateException","body":"<pre><code>public void downloadFileType2(RequestWildCard requestDTO, String endPath) {\n    try {\n        FacesContext facesContext = FacesContext.getCurrentInstance();\n        ExternalContext externalContext = facesContext.getExternalContext();\n        HttpServletResponse response = (HttpServletResponse) externalContext.getResponse();\n\n        String url = &quot;someurl&quot; + endPath;\n        URL myurl = new URL(url);\n\n        HttpURLConnection conn = (HttpURLConnection) myurl.openConnection();\n        conn.setUseCaches(false);\n        conn.setDoInput(true);\n        conn.setDoOutput(true);\n        conn.setConnectTimeout(5000);\n\n        conn.setRequestMethod(&quot;POST&quot;);\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        conn.setRequestProperty(&quot;Authorization&quot;, &quot;Basic XYZ&quot;);\n\n        String payLoad = mapper.writeValueAsString(requestDTO);\n        OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());\n        wr.write(payLoad);\n        wr.flush();\n\n        InputStream in = null;\n        int responseCode = conn.getResponseCode();\n        if (responseCode == 200) {\n            in = conn.getInputStream();\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n            byte[] buffer = new byte[4096];\n            int bytesRead;\n            while ((bytesRead = in.read(buffer)) != -1) {\n                outputStream.write(buffer, 0, bytesRead);\n            }\n            byte[] excelData = outputStream.toByteArray();\n\n            // Set the response headers\n            response.setContentType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\n            String fileName = requestDTO.getFileName();\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;.xlsx\\&quot;&quot;);\n            response.setContentLength(excelData.length);\n\n            // Write the byte array to the response output stream\n            ServletOutputStream responseOutputStream = response.getOutputStream();\n            responseOutputStream.write(excelData);\n            responseOutputStream.flush();\n            responseOutputStream.close();\n        } else {\n            in = conn.getErrorStream();\n            // Handle error response\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I am using this piece of code to download an excel from another application.\nThe excel gets downloaded but I get following error:</p>\n<pre><code>Severe:   Error Rendering View[/somePage.xhtml]\njava.lang.IllegalStateException\n    at org.apache.catalina.connector.ResponseFacade.setBufferSize(ResponseFacade.java:285)\n    at javax.servlet.ServletResponseWrapper.setBufferSize(ServletResponseWrapper.java:198)\n    at com.sun.faces.context.ExternalContextImpl.setResponseBufferSize(ExternalContextImpl.java:922)\n    at javax.faces.context.ExternalContextWrapper.setResponseBufferSize(ExternalContextWrapper.java:857)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.createResponseWriter(FaceletViewHandlingStrategy.java:1162)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:403)\n    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133)\n    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\n    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\n    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647)\n    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n    at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:78)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\n    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\n    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\n    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n    at java.lang.Thread.run(Thread.java:748)\n\nInfo:   Exception when handling error trying to reset the response.\njava.lang.IllegalStateException\n    at org.apache.catalina.connector.ResponseFacade.setBufferSize(ResponseFacade.java:285)\n    at javax.servlet.ServletResponseWrapper.setBufferSize(ServletResponseWrapper.java:198)\n    at com.sun.faces.context.ExternalContextImpl.setResponseBufferSize(ExternalContextImpl.java:922)\n    at javax.faces.context.ExternalContextWrapper.setResponseBufferSize(ExternalContextWrapper.java:857)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.createResponseWriter(FaceletViewHandlingStrategy.java:1162)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:403)\n    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133)\n    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\n    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\n    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647)\n    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n    at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:78)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\n    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\n    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\n    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n    at java.lang.Thread.run(Thread.java:748)\n\nWarning:   StandardWrapperValve[Faces Servlet]: Servlet.service() for servlet Faces Servlet threw exception\njava.lang.IllegalStateException\n    at org.apache.catalina.connector.ResponseFacade.setBufferSize(ResponseFacade.java:285)\n    at javax.servlet.ServletResponseWrapper.setBufferSize(ServletResponseWrapper.java:198)\n    at com.sun.faces.context.ExternalContextImpl.setResponseBufferSize(ExternalContextImpl.java:922)\n    at javax.faces.context.ExternalContextWrapper.setResponseBufferSize(ExternalContextWrapper.java:857)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.createResponseWriter(FaceletViewHandlingStrategy.java:1162)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:403)\n    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133)\n    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\n    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)\n    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647)\n    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n    at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:78)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\n    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\n    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\n    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n    at java.lang.Thread.run(Thread.java:748)\n\n</code></pre>\n<p>I don't want this log to be printed on my console or glassfish log</p>\n<p>I am using:\nJSF 2.2\nGlassfish 4.1\nPrimeface 6.1</p>\n"},{"tags":["java","parquet"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1685135381,"post_id":76344152,"comment_id":134624452,"body_markdown":"How are you parsing the parquet file? Will you show a [mcve] that illustrates what you have done so far?","body":"How are you parsing the parquet file? Will you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that illustrates what you have done so far?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1685135519,"post_id":76344152,"comment_id":134624472,"body_markdown":"I ask because my first suggestion is to find a library that gives you a date object rather than the string. If you are already using a library for parsing the file, see if it has a function for this conversion. If you are not relying on a library and insist on doing all the work yourself, then you might need to use base64 decoding to turn the string into an array of bytes. This is just a guess because the example you give looks like it might be base64 encoded.","body":"I ask because my first suggestion is to find a library that gives you a date object rather than the string. If you are already using a library for parsing the file, see if it has a function for this conversion. If you are not relying on a library and insist on doing all the work yourself, then you might need to use base64 decoding to turn the string into an array of bytes. This is just a guess because the example you give looks like it might be base64 encoded."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1685136896,"post_id":76344152,"comment_id":134624639,"body_markdown":"That String looks like it is Base64 encoded... `Base64.getDecoder().decode(&quot;ACrpbPIZAABOfyUA&quot;)` will return a 12 byte array","body":"That String looks like it is Base64 encoded... <code>Base64.getDecoder().decode(&quot;ACrpbPIZAABOfyUA&quot;)</code> will return a 12 byte array"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685144047,"post_id":76344152,"comment_id":134625352,"body_markdown":"I found a Java solution [here](https://stackoverflow.com/questions/53690299/int96value-to-date-string).  You&#39;ll need to find a way to convert the `String` value to a byte-array.","body":"I found a Java solution <a href=\"https://stackoverflow.com/questions/53690299/int96value-to-date-string\">here</a>.  You&#39;ll need to find a way to convert the <code>String</code> value to a byte-array."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1685149896,"post_id":76344152,"comment_id":134625802,"body_markdown":"If I decode _&quot;ACrpbPIZAABOfyUA&quot;_ from _Base64_, I get _&quot;2016-02-03T07:55:29&quot;_.","body":"If I decode <i>&quot;ACrpbPIZAABOfyUA&quot;</i> from <i>Base64</i>, I get <i>&quot;2016-02-03T07:55:29&quot;</i>."},{"owner":{"account_id":12744720,"reputation":1,"user_id":21967700,"display_name":"etcxuyr"},"score":0,"creation_date":1685375949,"post_id":76344152,"comment_id":134648300,"body_markdown":"@user16320675, you are correct that the string is base64 encoded. I tested it that I can successfully parse the string to timestamp format.","body":"@user16320675, you are correct that the string is base64 encoded. I tested it that I can successfully parse the string to timestamp format."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685149101,"creation_date":1685149101,"answer_id":76344943,"question_id":76344152,"body_markdown":"I converted the _Go_ code from [here](https://stackoverflow.com/a/53133964/17758716).\r\n\r\n```java\r\nLocalDateTime int96ToJulian(byte[] parquetDate) {\r\n    ByteBuffer buffer;\r\n    buffer = ByteBuffer.wrap(Arrays.copyOfRange(parquetDate, 0, 8));\r\n    buffer.order(ByteOrder.LITTLE_ENDIAN);\r\n    long nano = buffer.getLong();\r\n    buffer = ByteBuffer.wrap(Arrays.copyOfRange(parquetDate, 8, parquetDate.length));\r\n    buffer.order(ByteOrder.LITTLE_ENDIAN);\r\n    int dt = buffer.getInt();\r\n\r\n    long l = dt + 68569;\r\n    long n = 4 * l / 146097;\r\n    l = l - (146097*n+3)/4;\r\n    long i = 4000 * (l + 1) / 1461001;\r\n    l = l - 1461*i/4 + 31;\r\n    long j = 80 * l / 2447;\r\n    long k = l - 2447*j/80;\r\n    l = j / 11;\r\n    j = j + 2 - 12*l;\r\n    i = 100*(n-49) + i + l;\r\n\r\n    LocalDateTime localDateTime = LocalDateTime.of((int) i, (int) j, (int) k, 0, 0, 0);\r\n    return localDateTime.plusNanos(nano);\r\n}\r\n```\r\n\r\nExample using _&quot;2000-01-01 12:34:56&quot;_, [here](https://stackoverflow.com/a/53104516/17758716).\r\n\r\n```java\r\nbyte[] bytes = { 0x00, 0x60, (byte) 0xfd, 0x4b, 0x32, 0x29, 0x00, 0x00, 0x59, 0x68, 0x25, 0x00 };\r\nSystem.out.println(int96ToJulian(bytes).format(DateTimeFormatter.ISO_DATE_TIME));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n2000-01-01T12:34:56\r\n```","title":"How can I convert a 16 character long string INT96 timestamp value from a parquet file into a readable timestamp format in Java?","body":"<p>I converted the <em>Go</em> code from <a href=\"https://stackoverflow.com/a/53133964/17758716\">here</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime int96ToJulian(byte[] parquetDate) {\n    ByteBuffer buffer;\n    buffer = ByteBuffer.wrap(Arrays.copyOfRange(parquetDate, 0, 8));\n    buffer.order(ByteOrder.LITTLE_ENDIAN);\n    long nano = buffer.getLong();\n    buffer = ByteBuffer.wrap(Arrays.copyOfRange(parquetDate, 8, parquetDate.length));\n    buffer.order(ByteOrder.LITTLE_ENDIAN);\n    int dt = buffer.getInt();\n\n    long l = dt + 68569;\n    long n = 4 * l / 146097;\n    l = l - (146097*n+3)/4;\n    long i = 4000 * (l + 1) / 1461001;\n    l = l - 1461*i/4 + 31;\n    long j = 80 * l / 2447;\n    long k = l - 2447*j/80;\n    l = j / 11;\n    j = j + 2 - 12*l;\n    i = 100*(n-49) + i + l;\n\n    LocalDateTime localDateTime = LocalDateTime.of((int) i, (int) j, (int) k, 0, 0, 0);\n    return localDateTime.plusNanos(nano);\n}\n</code></pre>\n<p>Example using <em>&quot;2000-01-01 12:34:56&quot;</em>, <a href=\"https://stackoverflow.com/a/53104516/17758716\">here</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = { 0x00, 0x60, (byte) 0xfd, 0x4b, 0x32, 0x29, 0x00, 0x00, 0x59, 0x68, 0x25, 0x00 };\nSystem.out.println(int96ToJulian(bytes).format(DateTimeFormatter.ISO_DATE_TIME));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>2000-01-01T12:34:56\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685205001,"creation_date":1685187718,"answer_id":76346742,"question_id":76344152,"body_markdown":"Here&#39;s another way of slicing it. I&#39;m not 100% happy as there&#39;s possibly something more solid in the `java.util.time` package when it comes to treating the Julian date, but as I said above, my results correspond with those of @Reilas:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.LocalDateTime;\r\n    import java.util.Base64;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.ByteOrder;\r\n    \r\n    public class Int69 {\r\n        /*\r\n         * Julian Day is a well-known system that represents the count of whole days\r\n         * since day 0, which is defined to be January 1, 4713 BCE in the Julian\r\n         * calendar, and -4713-11-24 Gregorian.\r\n         */\r\n        public final static LocalDate JULIAN_YEAR_ZERO = LocalDate.parse(&quot;-4713-11-24&quot;);\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                LocalDateTime a = Int96.int69ToLocalDateTime(&quot;ACrpbPIZAABOfyUA&quot;);\r\n                System.out.println(a);\r\n                byte[] bytes = { 0x00, 0x60, (byte) 0xfd, 0x4b, 0x32, 0x29, 0x00, 0x00, 0x59, 0x68, 0x25, 0x00 };\r\n    \r\n                LocalDateTime b = Int96.int69ToLocalDateTime(bytes);\r\n                System.out.println(b);\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static LocalDateTime int69ToLocalDateTime(byte[] int69) {\r\n            ByteBuffer bb = ByteBuffer.wrap(int69).order(ByteOrder.LITTLE_ENDIAN);\r\n            long nanoSeconds = bb.getLong();\r\n            int daysSinceYearZero = bb.getInt();\r\n            LocalTime time = LocalTime.MIN.plusNanos(nanoSeconds);\r\n            return JULIAN_YEAR_ZERO.plusDays(daysSinceYearZero).atTime(time);\r\n        }\r\n    \r\n        public static LocalDateTime int69ToLocalDateTime(String base64) {\r\n            return int69ToLocalDateTime(Base64.getDecoder().decode(base64));\r\n        }\r\n    \r\n    }","title":"How can I convert a 16 character long string INT96 timestamp value from a parquet file into a readable timestamp format in Java?","body":"<p>Here's another way of slicing it. I'm not 100% happy as there's possibly something more solid in the <code>java.util.time</code> package when it comes to treating the Julian date, but as I said above, my results correspond with those of @Reilas:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.LocalDateTime;\nimport java.util.Base64;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\n\npublic class Int69 {\n    /*\n     * Julian Day is a well-known system that represents the count of whole days\n     * since day 0, which is defined to be January 1, 4713 BCE in the Julian\n     * calendar, and -4713-11-24 Gregorian.\n     */\n    public final static LocalDate JULIAN_YEAR_ZERO = LocalDate.parse(&quot;-4713-11-24&quot;);\n\n    public static void main(String[] args) {\n        try {\n            LocalDateTime a = Int96.int69ToLocalDateTime(&quot;ACrpbPIZAABOfyUA&quot;);\n            System.out.println(a);\n            byte[] bytes = { 0x00, 0x60, (byte) 0xfd, 0x4b, 0x32, 0x29, 0x00, 0x00, 0x59, 0x68, 0x25, 0x00 };\n\n            LocalDateTime b = Int96.int69ToLocalDateTime(bytes);\n            System.out.println(b);\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public static LocalDateTime int69ToLocalDateTime(byte[] int69) {\n        ByteBuffer bb = ByteBuffer.wrap(int69).order(ByteOrder.LITTLE_ENDIAN);\n        long nanoSeconds = bb.getLong();\n        int daysSinceYearZero = bb.getInt();\n        LocalTime time = LocalTime.MIN.plusNanos(nanoSeconds);\n        return JULIAN_YEAR_ZERO.plusDays(daysSinceYearZero).atTime(time);\n    }\n\n    public static LocalDateTime int69ToLocalDateTime(String base64) {\n        return int69ToLocalDateTime(Base64.getDecoder().decode(base64));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12744720,"reputation":1,"user_id":21967700,"display_name":"etcxuyr"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685205001,"creation_date":1685134757,"question_id":76344152,"body_markdown":"**Issue**\r\nAfter I parse the parquet file, the timestamp value is showing as 16 character long string, e.g. &quot;ACrpbPIZAABOfyUA&quot;. I would like to convert it into a readable timestamp format like 2017-10-24T03:01:50 in Java. \r\n\r\n**SO Search**\r\nIn SO, I find that my question is similar to https://stackoverflow.com/questions/60698056/parquet-int96-timestamp-conversion-to-datetime-date-via-python. However, I need to programmatically convert the string value into timestamp in Java. So, the solution for Doug to use spark-shell or parquet-tools command line in the mentioned post doesn&#39;t work for me. \r\n\r\n**Further Search**\r\nI also found that if the timestamp value is in 12 byte array format, I can convert it following https://stackoverflow.com/questions/53103762/cast-int96-timestamp-from-parquet-to-golang/53104516#53104516. However, I got stuck on understanding the string format or figuring out a way to convert the string into the 12 byte array format.\r\n\r\nYour help is highly appreciated!","title":"How can I convert a 16 character long string INT96 timestamp value from a parquet file into a readable timestamp format in Java?","body":"<p><strong>Issue</strong>\nAfter I parse the parquet file, the timestamp value is showing as 16 character long string, e.g. &quot;ACrpbPIZAABOfyUA&quot;. I would like to convert it into a readable timestamp format like 2017-10-24T03:01:50 in Java.</p>\n<p><strong>SO Search</strong>\nIn SO, I find that my question is similar to <a href=\"https://stackoverflow.com/questions/60698056/parquet-int96-timestamp-conversion-to-datetime-date-via-python\">parquet int96 timestamp conversion to datetime/date via python</a>. However, I need to programmatically convert the string value into timestamp in Java. So, the solution for Doug to use spark-shell or parquet-tools command line in the mentioned post doesn't work for me.</p>\n<p><strong>Further Search</strong>\nI also found that if the timestamp value is in 12 byte array format, I can convert it following <a href=\"https://stackoverflow.com/questions/53103762/cast-int96-timestamp-from-parquet-to-golang/53104516#53104516\">Cast int96 timestamp from parquet to golang</a>. However, I got stuck on understanding the string format or figuring out a way to convert the string into the 12 byte array format.</p>\n<p>Your help is highly appreciated!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1685207258,"post_id":76347848,"comment_id":134630805,"body_markdown":"`addValueEventListener` is asynchronous and never throws an exception. try/catch will not work here.  Errors will surface in the `onCancelled` callback. Query results will surface in the `onDataChange` callback. Those callbacks are not immediate.","body":"<code>addValueEventListener</code> is asynchronous and never throws an exception. try/catch will not work here.  Errors will surface in the <code>onCancelled</code> callback. Query results will surface in the <code>onDataChange</code> callback. Those callbacks are not immediate."},{"owner":{"account_id":27435415,"reputation":1,"user_id":20931364,"display_name":"ליאן ברק"},"score":0,"creation_date":1685277542,"post_id":76347848,"comment_id":134636483,"body_markdown":"it skips onCancelled is being skipped too","body":"it skips onCancelled is being skipped too"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1685347168,"post_id":76347848,"comment_id":134643402,"body_markdown":"Have you tried to get the code out of the try-catch? Does it work that way?","body":"Have you tried to get the code out of the try-catch? Does it work that way?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1685347204,"post_id":76347848,"comment_id":134643407,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953) will help. Here is the corresponding [repo](https://github.com/alexmamo/CloudFirestore/).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudFirestore/\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":27435415,"reputation":1,"user_id":20931364,"display_name":"ליאן ברק"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685204522,"creation_date":1685204464,"question_id":76347848,"body_markdown":"I use firebase realtime database and my code skips .addListenerForSingleValueEvent.\r\n \r\n\r\n\r\n\r\n I tried to catch exception and debugging but it always skips it. there is a connection to the db because I can insert values just not retrieve.\r\n\r\nhere&#39;s the function: \r\n\r\n\r\n```\r\npublic void getAllUsers(final DatabaseCallback&lt;ArrayList&lt;User&gt;&gt; callback) {\r\n        try {\r\n            ArrayList&lt;User&gt; userArrayList = new ArrayList&lt;&gt;();\r\n            DatabaseReference usersRef = database.child(TABLE_USERS);\r\n            usersRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    for (DataSnapshot usersSnapshot : dataSnapshot.getChildren()) {\r\n                        User user = usersSnapshot.getValue(User.class);\r\n                        userArrayList.add(user);\r\n                    }\r\n                    callback.onSuccess(userArrayList);\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    callback.onFailure(error.toException());\r\n                }\r\n            });\r\n        } catch (Throwable e) {\r\n            callback.onFailure(new Exception(e));\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\n```\r\npublic interface DatabaseCallback&lt;T&gt; {\r\n        void onSuccess(T result);\r\n        void onFailure(Exception e);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"my program skips .addListenerForSingleValueEvent when trying get data from firebase realtime database","body":"<p>I use firebase realtime database and my code skips .addListenerForSingleValueEvent.</p>\n<p>I tried to catch exception and debugging but it always skips it. there is a connection to the db because I can insert values just not retrieve.</p>\n<p>here's the function:</p>\n<pre><code>public void getAllUsers(final DatabaseCallback&lt;ArrayList&lt;User&gt;&gt; callback) {\n        try {\n            ArrayList&lt;User&gt; userArrayList = new ArrayList&lt;&gt;();\n            DatabaseReference usersRef = database.child(TABLE_USERS);\n            usersRef.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                    for (DataSnapshot usersSnapshot : dataSnapshot.getChildren()) {\n                        User user = usersSnapshot.getValue(User.class);\n                        userArrayList.add(user);\n                    }\n                    callback.onSuccess(userArrayList);\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n                    callback.onFailure(error.toException());\n                }\n            });\n        } catch (Throwable e) {\n            callback.onFailure(new Exception(e));\n        }\n    }\n\n</code></pre>\n<pre><code>public interface DatabaseCallback&lt;T&gt; {\n        void onSuccess(T result);\n        void onFailure(Exception e);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","netflix-eureka"],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685203484,"creation_date":1685203484,"question_id":76347785,"body_markdown":"I have the following `pom.xml`:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!--  Copyright (c) 2023, Oracle and/or its affiliates.  --&gt;\r\n&lt;!--  Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl/  --&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.12&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;accounts&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;accounts&lt;/name&gt;\r\n\t&lt;description&gt;Account Service&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;liquibase.version&gt;4.19.0&lt;/liquibase.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;oracle-spring-boot-starter-ucp&lt;/artifactId&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.oracle.database.spring&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;oracle-spring-boot-starter-wallet&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.microprofile.lra&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;microprofile-lra-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.narayana.rts&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;narayana-lra&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.13.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nAnd when running my Spring application I get the following error:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1201)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;java.lang.String javax.servlet.ServletContext.getVirtualServerName()&#39;\r\n\r\nThe calling method&#39;s class, org.apache.catalina.authenticator.AuthenticatorBase, was loaded from the following location:\r\n\r\n    jar:file:/app/classpath/account-0.0.1.jar!/BOOT-INF/lib/tomcat-embed-core-9.0.75.jar!/org/apache/catalina/authenticator/AuthenticatorBase.class\r\n\r\nThe called method&#39;s class, javax.servlet.ServletContext, is available from the following locations:\r\n\r\n    jar:file:/app/classpath/account-0.0.1.jar!/BOOT-INF/lib/servlet-api-2.5.jar!/javax/servlet/ServletContext.class\r\n    jar:file:/app/classpath/account-0.0.1.jar!/BOOT-INF/lib/tomcat-embed-core-9.0.75.jar!/javax/servlet/ServletContext.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    javax.servlet.ServletContext: jar:file:/app/classpath/account-0.0.1.jar!/BOOT-INF/lib/servlet-api-2.5.jar!/\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext\r\n```\r\nIf I comment out this section the application starts:\r\n```\t\t\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\t\r\n\t\t&lt;/dependency&gt;\r\n```\r\nI&#39;m not sure what could be wrong, I&#39;m guessing some version issues but I can&#39;t figure what? I&#39;ve tried all kinds of 3.x versions for the `spring-cloud-starter-netflix-eureka-client` but no difference.\r\n\r\nAnyone seen this before an can help?\r\n\r\nThanks\r\nAndy","title":"Compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext error","body":"<p>I have the following <code>pom.xml</code>:</p>\n<pre><code>&lt;!--  Copyright (c) 2023, Oracle and/or its affiliates.  --&gt;\n&lt;!--  Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl/  --&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.12&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;accounts&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;accounts&lt;/name&gt;\n    &lt;description&gt;Account Service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;liquibase.version&gt;4.19.0&lt;/liquibase.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n                    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;   \n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;oracle-spring-boot-starter-ucp&lt;/artifactId&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;oracle-spring-boot-starter-wallet&lt;/artifactId&gt;\n            &lt;version&gt;2.7.7&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.lra&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-lra-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.narayana.rts&lt;/groupId&gt;\n            &lt;artifactId&gt;narayana-lra&lt;/artifactId&gt;\n            &lt;version&gt;5.13.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And when running my Spring application I get the following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1201)\n\nThe following method did not exist:\n\n    'java.lang.String javax.servlet.ServletContext.getVirtualServerName()'\n\nThe calling method's class, org.apache.catalina.authenticator.AuthenticatorBase, was loaded from the following location:\n\n    jar:file:/app/classpath/account-0.0.1.jar!/BOOT-INF/lib/tomcat-embed-core-9.0.75.jar!/org/apache/catalina/authenticator/AuthenticatorBase.class\n\nThe called method's class, javax.servlet.ServletContext, is available from the following locations:\n\n    jar:file:/app/classpath/account-0.0.1.jar!/BOOT-INF/lib/servlet-api-2.5.jar!/javax/servlet/ServletContext.class\n    jar:file:/app/classpath/account-0.0.1.jar!/BOOT-INF/lib/tomcat-embed-core-9.0.75.jar!/javax/servlet/ServletContext.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    javax.servlet.ServletContext: jar:file:/app/classpath/account-0.0.1.jar!/BOOT-INF/lib/servlet-api-2.5.jar!/\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext\n</code></pre>\n<p>If I comment out this section the application starts:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n                    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;   \n        &lt;/dependency&gt;\n</code></pre>\n<p>I'm not sure what could be wrong, I'm guessing some version issues but I can't figure what? I've tried all kinds of 3.x versions for the <code>spring-cloud-starter-netflix-eureka-client</code> but no difference.</p>\n<p>Anyone seen this before an can help?</p>\n<p>Thanks\nAndy</p>\n"},{"tags":["java","ssl","tomcat","https"],"answers":[{"tags":[],"owner":{"account_id":7405297,"reputation":91,"user_id":5634388,"display_name":"Nigel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1648636519,"creation_date":1648636519,"answer_id":71675645,"question_id":71675079,"body_markdown":"I figured it out - so will answer my own question for the benefit of future readers.\r\n\r\nThe parsing issue was down to format. I&#39;m so used to editing other XML files such as maven, where the above format I tried is typical. tomcat was new to me, so I realised it needs to be:\r\n```\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot;\r\n               maxThreads=&quot;20&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; clientAuth=&quot;true&quot; defaultSSLHostConfigName=&quot;test&quot;&gt;\r\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n        &lt;SSLHostConfig hostName=&quot;test&quot; protocols=&quot;TLSv1.2&quot; certificateVerification=&quot;required&quot;&gt;\r\n            &lt;Certificate\r\n                caCertificateFile=&quot;/Users/jonesn/src/egeria/master/open-metadata-resources/open-metadata-deployment/certificates/EgeriaRootCA.p12&quot;\r\n                certificateFile=&quot;/Users/jonesn/src/egeria/master/open-metadata-resources/open-metadata-deployment/certificates/EgeriaServerChassis.p12&quot;\r\n                certificateKeyPassword=&quot;egeria&quot;\r\n            /&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n```\r\n\r\nI now get other exceptions - but that is specific to the certs, something I&#39;m debugging. I share this to answer the question specifically on why the properties could not be found.","title":"Tomcat 10 SSLHostConfig problem - protocol handler fails to start - attribute certificateFile must be defined","body":"<p>I figured it out - so will answer my own question for the benefit of future readers.</p>\n<p>The parsing issue was down to format. I'm so used to editing other XML files such as maven, where the above format I tried is typical. tomcat was new to me, so I realised it needs to be:</p>\n<pre><code>    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot;\n               maxThreads=&quot;20&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; clientAuth=&quot;true&quot; defaultSSLHostConfigName=&quot;test&quot;&gt;\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n        &lt;SSLHostConfig hostName=&quot;test&quot; protocols=&quot;TLSv1.2&quot; certificateVerification=&quot;required&quot;&gt;\n            &lt;Certificate\n                caCertificateFile=&quot;/Users/jonesn/src/egeria/master/open-metadata-resources/open-metadata-deployment/certificates/EgeriaRootCA.p12&quot;\n                certificateFile=&quot;/Users/jonesn/src/egeria/master/open-metadata-resources/open-metadata-deployment/certificates/EgeriaServerChassis.p12&quot;\n                certificateKeyPassword=&quot;egeria&quot;\n            /&gt;\n        &lt;/SSLHostConfig&gt;\n    &lt;/Connector&gt;\n</code></pre>\n<p>I now get other exceptions - but that is specific to the certs, something I'm debugging. I share this to answer the question specifically on why the properties could not be found.</p>\n"}],"owner":{"account_id":7405297,"reputation":91,"user_id":5634388,"display_name":"Nigel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4570,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1685202767,"creation_date":1648633963,"question_id":71675079,"body_markdown":"I have Tomcat 10.0.18 on macOS (via Homebrew).\r\n\r\nIn my `server.xml` I have\r\n```\r\n &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot;\r\n            maxThreads=&quot;20&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; clientAuth=&quot;true&quot; defaultSSLHostConfigName=&quot;test&quot;&gt;\r\n     &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n     &lt;SSLHostConfig&gt;\r\n         &lt;hostName&gt;test&lt;/hostName&gt;\r\n         &lt;protocols&gt;TLSv1.2&lt;/protocols&gt;\r\n         &lt;certificateVerification&gt;required&lt;/certificateVerification&gt;\r\n         &lt;Certificate&gt;\r\n             &lt;caCertificateFile&gt;/Users/jonesn/src/egeria/master/open-metadata-resources/open-metadata-deployment/certificates/EgeriaRootCA.p12&lt;/caCertificateFile&gt;\r\n             &lt;certificateFile&gt;/Users/jonesn/src/egeria/master/open-metadata-resources/open-metadata-deployment/certificates/EgeriaServerChassis.p12&lt;/certificateFile&gt;\r\n             &lt;certificateKeyPassword&gt;egeria&lt;/certificateKeyPassword&gt;\r\n         &lt;/Certificate&gt;\r\n     &lt;/SSLHostConfig&gt;\r\n &lt;/Connector&gt;\r\n```\r\nHowever when I start &amp; connect I see an error:\r\n```\r\n30-Mar-2022 09:51:08.547 INFO [main] org.apache.coyote.http11.AbstractHttp11Protocol.configureUpgradeProtocol The [&quot;https-jsse-nio2-8443&quot;] connector has been configured to\r\nsupport negotiation to [h2] via ALPN\r\n30-Mar-2022 09:51:08.547 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio2-8443&quot;]\r\n30-Mar-2022 09:51:21.162 WARNING [main] org.apache.tomcat.util.net.Nio2Endpoint.shutdownExecutor The executor associated with thread pool [https-jsse-nio2-8443] has not ful\r\nly shutdown. Some application threads may still be running.\r\n30-Mar-2022 09:51:21.163 SEVERE [main] org.apache.catalina.util.LifecycleBase.handleSubClassException Failed to initialize component [Connector[org.apache.coyote.http11.Htt\r\np11Nio2Protocol-8443]]\r\n        org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n                at org.apache.catalina.connector.Connector.initInternal(Connector.java:1055)\r\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n                at org.apache.catalina.core.StandardService.initInternal(StandardService.java:556)\r\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n                at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:1042)\r\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:747)\r\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:769)\r\n                at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n                at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n                at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\r\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\r\n        Caused by: java.lang.IllegalArgumentException: SSLHostConfig attribute certificateFile must be defined when using an SSL connector\r\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99)\r\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\r\n                at org.apache.tomcat.util.net.Nio2Endpoint.bind(Nio2Endpoint.java:132)\r\n                at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1192)\r\n                at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1205)\r\n                at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:580)\r\n                at org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:82)\r\n                at org.apache.catalina.connector.Connector.initInternal(Connector.java:1052)\r\n                ... 11 more\r\n        Caused by: java.io.IOException: SSLHostConfig attribute certificateFile must be defined when using an SSL connector\r\n                at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:310)\r\n                at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:245)\r\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97)\r\n                ... 18 more\r\n30-Mar-2022 09:51:21.164 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [13255] milliseconds\r\n```\r\n\r\nYes as best I can see, I do have the value assigned. \r\n\r\nBackground -- just testing some mutual SSL config for our open-source project with some *self-signed* certs I generated. We use Spring Boot server-side, a variety of Java, Python, Go, Node etc client-side -- but for debugging/understanding I&#39;m just trying base Tomcat, with curl/HTTPie clients.\r\n\r\nThe `.p12` files above should contain the right combination of certs/keys, but this is the area I&#39;m exploring. I can adapt, use individual PEMs, try a chain via a directory, but this first issue seems more about the basics of defining a config and is what I&#39;m trying to understand - being fairly new to Tomcat.","title":"Tomcat 10 SSLHostConfig problem - protocol handler fails to start - attribute certificateFile must be defined","body":"<p>I have Tomcat 10.0.18 on macOS (via Homebrew).</p>\n<p>In my <code>server.xml</code> I have</p>\n<pre><code> &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot;\n            maxThreads=&quot;20&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; clientAuth=&quot;true&quot; defaultSSLHostConfigName=&quot;test&quot;&gt;\n     &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n     &lt;SSLHostConfig&gt;\n         &lt;hostName&gt;test&lt;/hostName&gt;\n         &lt;protocols&gt;TLSv1.2&lt;/protocols&gt;\n         &lt;certificateVerification&gt;required&lt;/certificateVerification&gt;\n         &lt;Certificate&gt;\n             &lt;caCertificateFile&gt;/Users/jonesn/src/egeria/master/open-metadata-resources/open-metadata-deployment/certificates/EgeriaRootCA.p12&lt;/caCertificateFile&gt;\n             &lt;certificateFile&gt;/Users/jonesn/src/egeria/master/open-metadata-resources/open-metadata-deployment/certificates/EgeriaServerChassis.p12&lt;/certificateFile&gt;\n             &lt;certificateKeyPassword&gt;egeria&lt;/certificateKeyPassword&gt;\n         &lt;/Certificate&gt;\n     &lt;/SSLHostConfig&gt;\n &lt;/Connector&gt;\n</code></pre>\n<p>However when I start &amp; connect I see an error:</p>\n<pre><code>30-Mar-2022 09:51:08.547 INFO [main] org.apache.coyote.http11.AbstractHttp11Protocol.configureUpgradeProtocol The [&quot;https-jsse-nio2-8443&quot;] connector has been configured to\nsupport negotiation to [h2] via ALPN\n30-Mar-2022 09:51:08.547 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio2-8443&quot;]\n30-Mar-2022 09:51:21.162 WARNING [main] org.apache.tomcat.util.net.Nio2Endpoint.shutdownExecutor The executor associated with thread pool [https-jsse-nio2-8443] has not ful\nly shutdown. Some application threads may still be running.\n30-Mar-2022 09:51:21.163 SEVERE [main] org.apache.catalina.util.LifecycleBase.handleSubClassException Failed to initialize component [Connector[org.apache.coyote.http11.Htt\np11Nio2Protocol-8443]]\n        org.apache.catalina.LifecycleException: Protocol handler initialization failed\n                at org.apache.catalina.connector.Connector.initInternal(Connector.java:1055)\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n                at org.apache.catalina.core.StandardService.initInternal(StandardService.java:556)\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n                at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:1042)\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:747)\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:769)\n                at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n                at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\n        Caused by: java.lang.IllegalArgumentException: SSLHostConfig attribute certificateFile must be defined when using an SSL connector\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99)\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\n                at org.apache.tomcat.util.net.Nio2Endpoint.bind(Nio2Endpoint.java:132)\n                at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1192)\n                at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1205)\n                at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:580)\n                at org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:82)\n                at org.apache.catalina.connector.Connector.initInternal(Connector.java:1052)\n                ... 11 more\n        Caused by: java.io.IOException: SSLHostConfig attribute certificateFile must be defined when using an SSL connector\n                at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:310)\n                at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:245)\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97)\n                ... 18 more\n30-Mar-2022 09:51:21.164 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [13255] milliseconds\n</code></pre>\n<p>Yes as best I can see, I do have the value assigned.</p>\n<p>Background -- just testing some mutual SSL config for our open-source project with some <em>self-signed</em> certs I generated. We use Spring Boot server-side, a variety of Java, Python, Go, Node etc client-side -- but for debugging/understanding I'm just trying base Tomcat, with curl/HTTPie clients.</p>\n<p>The <code>.p12</code> files above should contain the right combination of certs/keys, but this is the area I'm exploring. I can adapt, use individual PEMs, try a chain via a directory, but this first issue seems more about the basics of defining a config and is what I'm trying to understand - being fairly new to Tomcat.</p>\n"},{"tags":["java","spring-boot","api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685243434,"post_id":76347631,"comment_id":134633695,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685202200,"creation_date":1685202200,"answer_id":76347702,"question_id":76347631,"body_markdown":"You can create one API called `/example/fetch` and decide what to return based on `@RequestParam`. take look below reference code.\r\n\r\nAdd @RequestParam with required attribute as false for non mandatory param.\r\n\r\n    @RequestMapping(&quot;/example/fetch&quot;)\r\n    public List&lt;UserDetail&gt; fetchUsersDetails(@RequestParam(required = false) String userId) {\r\n    \r\n    \tif(userId == null || userId.isEmpaty()) {\r\n    \t   // call FetchAll API and return List from DB\r\n    \t} else {\r\n    \t  // call fetchById API and return List which has only one value if it present in to DB other wise empty list\r\n    \t}\r\n    }","title":"To create only one endpoint which will work for two endpoints","body":"<p>You can create one API called <code>/example/fetch</code> and decide what to return based on <code>@RequestParam</code>. take look below reference code.</p>\n<p>Add @RequestParam with required attribute as false for non mandatory param.</p>\n<pre><code>@RequestMapping(&quot;/example/fetch&quot;)\npublic List&lt;UserDetail&gt; fetchUsersDetails(@RequestParam(required = false) String userId) {\n\n    if(userId == null || userId.isEmpaty()) {\n       // call FetchAll API and return List from DB\n    } else {\n      // call fetchById API and return List which has only one value if it present in to DB other wise empty list\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27626686,"reputation":3,"user_id":21086537,"display_name":"Nikita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76347702,"answer_count":1,"score":-1,"last_activity_date":1685202200,"creation_date":1685201198,"question_id":76347631,"body_markdown":"Spring -&gt; How to user request parameter in fetch all endpoint?\r\n(If i want to make only one endpoint for fetch all and fetch by Id)\r\n\r\n\r\nI&#39;m not understanding how to do it in service. I&#39;ve tried to do it with if-else condition but it&#39;s not working because I&#39;ve passed an argument in service so for fetch all it will not work.\r\n","title":"To create only one endpoint which will work for two endpoints","body":"<p>Spring -&gt; How to user request parameter in fetch all endpoint?\n(If i want to make only one endpoint for fetch all and fetch by Id)</p>\n<p>I'm not understanding how to do it in service. I've tried to do it with if-else condition but it's not working because I've passed an argument in service so for fetch all it will not work.</p>\n"},{"tags":["java","android","audio","media-player"],"comments":[{"owner":{"account_id":2050051,"reputation":6047,"user_id":1829251,"accept_rate":96,"display_name":"Brian Var"},"score":0,"creation_date":1365691210,"post_id":15951639,"comment_id":22731206,"body_markdown":"What format is the media file? Supported Android media files are here: http://developer.android.com/guide/appendix/media-formats.html","body":"What format is the media file? Supported Android media files are here: <a href=\"http://developer.android.com/guide/appendix/media-formats.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/appendix/media-formats.html</a>"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1365692465,"post_id":15951639,"comment_id":22732200,"body_markdown":"`-19` is `NO_INIT` as far as I can tell.","body":"<code>-19</code> is <code>NO_INIT</code> as far as I can tell."},{"owner":{"account_id":2009443,"reputation":3774,"user_id":1798304,"accept_rate":92,"display_name":"MalaKa"},"score":0,"creation_date":1365693917,"post_id":15951639,"comment_id":22733213,"body_markdown":"Does the error occur on the first time you click? Otherwize, it could be that you (maybe) don&#39;t release the resources (and get out of memory). At least, this is what I get from [here](http://stackoverflow.com/questions/9888510/mediaplayer-error-19-0-after-repeated-plays).","body":"Does the error occur on the first time you click? Otherwize, it could be that you (maybe) don&#39;t release the resources (and get out of memory). At least, this is what I get from <a href=\"http://stackoverflow.com/questions/9888510/mediaplayer-error-19-0-after-repeated-plays\">here</a>."},{"owner":{"account_id":2493855,"reputation":666,"user_id":2170795,"accept_rate":72,"display_name":"Phil"},"score":0,"creation_date":1365695010,"post_id":15951639,"comment_id":22733926,"body_markdown":"Error occurs since the first click","body":"Error occurs since the first click"}],"answers":[{"tags":[],"owner":{"account_id":2657374,"reputation":1039,"user_id":2297767,"display_name":"Gabriel Kaffka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1366358075,"creation_date":1366358075,"answer_id":16099899,"question_id":15951639,"body_markdown":"I was getting the same problem, I solved it by adding the following code:\r\n\r\n    mp1 = MediaPlayer.create(sound.this, R.raw.pan1);\r\n    mp1.start();\r\n        mp1.setOnCompletionListener(new OnCompletionListener() {\r\n            public void onCompletion(MediaPlayer mp) {\r\n            mp.release();\r\n\r\n            };\r\n        });","title":"Android Mediaplayer Error (-19, 0)","body":"<p>I was getting the same problem, I solved it by adding the following code:</p>\n\n<pre><code>mp1 = MediaPlayer.create(sound.this, R.raw.pan1);\nmp1.start();\n    mp1.setOnCompletionListener(new OnCompletionListener() {\n        public void onCompletion(MediaPlayer mp) {\n        mp.release();\n\n        };\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4640232,"reputation":5623,"user_id":3760297,"accept_rate":67,"display_name":"Iman Marashi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1421699915,"creation_date":1421699915,"answer_id":28033091,"question_id":15951639,"body_markdown":"I sloved this problem by this code:\r\n\r\n    \tpublic static void playSound() {\r\n\t\tmMediaPlayer = new MediaPlayer();\r\n\t\ttry {\r\n\t\t\tAssetFileDescriptor afd = context.getAssets().openFd(&quot;type.mp3&quot;);\r\n\t\t\tmMediaPlayer.setDataSource(afd.getFileDescriptor(),\r\n\t\t\t\t\tafd.getStartOffset(), afd.getLength());\r\n\t\t\tmMediaPlayer.prepare();\r\n\t\t\tmMediaPlayer.start();\r\n\t\t\tmMediaPlayer.setOnCompletionListener(new OnCompletionListener() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onCompletion(MediaPlayer arg0) {\r\n\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\targ0.release();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (IllegalArgumentException | IllegalStateException | IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\ni hope to help you.","title":"Android Mediaplayer Error (-19, 0)","body":"<p>I sloved this problem by this code:</p>\n\n<pre><code>    public static void playSound() {\n    mMediaPlayer = new MediaPlayer();\n    try {\n        AssetFileDescriptor afd = context.getAssets().openFd(\"type.mp3\");\n        mMediaPlayer.setDataSource(afd.getFileDescriptor(),\n                afd.getStartOffset(), afd.getLength());\n        mMediaPlayer.prepare();\n        mMediaPlayer.start();\n        mMediaPlayer.setOnCompletionListener(new OnCompletionListener() {\n\n            @Override\n            public void onCompletion(MediaPlayer arg0) {\n                // TODO Auto-generated method stub\n                arg0.release();\n            }\n        });\n    } catch (IllegalArgumentException | IllegalStateException | IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>i hope to help you.</p>\n"},{"tags":[],"owner":{"account_id":1916795,"reputation":15528,"user_id":1729237,"accept_rate":77,"display_name":"Dan Andreasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481120789,"creation_date":1481120789,"answer_id":41019957,"question_id":15951639,"body_markdown":"You need to release the previous media player before starting the new one. \r\n\r\nDeclare `MediaPlayer` as a instance variable and then:\r\n\r\n    mp = null;\r\n    final Button xxx = (Button)findViewById(R.id.xxx);\r\n    \r\n            xxx.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    if (mp != null) {\r\n                      mp.stop();\r\n                      mp.release();\r\n                    }\r\n    \r\n                    mp = MediaPlayer.create(getApplicationContext(), R.raw.plop); \r\n                    mp.start();\r\n                }\r\n            });\r\n\r\nOr in your case, since you always play the same sound you don&#39;t need to release the player and create a new one, simply reuse the old one.\r\n\r\n    final MediaPlayer mp = MediaPlayer.create(getApplicationContext(), R.raw.plop);\r\n    mp.prepare(); // Blocking method. Consider to use prepareAsync\r\n\r\n    final Button xxx = (Button)findViewById(R.id.xxx);\r\n    \r\n            xxx.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    mp.stop();\r\n                    mp.start();\r\n                }\r\n            });","title":"Android Mediaplayer Error (-19, 0)","body":"<p>You need to release the previous media player before starting the new one. </p>\n\n<p>Declare <code>MediaPlayer</code> as a instance variable and then:</p>\n\n<pre><code>mp = null;\nfinal Button xxx = (Button)findViewById(R.id.xxx);\n\n        xxx.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                if (mp != null) {\n                  mp.stop();\n                  mp.release();\n                }\n\n                mp = MediaPlayer.create(getApplicationContext(), R.raw.plop); \n                mp.start();\n            }\n        });\n</code></pre>\n\n<p>Or in your case, since you always play the same sound you don't need to release the player and create a new one, simply reuse the old one.</p>\n\n<pre><code>final MediaPlayer mp = MediaPlayer.create(getApplicationContext(), R.raw.plop);\nmp.prepare(); // Blocking method. Consider to use prepareAsync\n\nfinal Button xxx = (Button)findViewById(R.id.xxx);\n\n        xxx.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                mp.stop();\n                mp.start();\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27942922,"reputation":1,"user_id":21338563,"display_name":"lacy025"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685201853,"creation_date":1678054496,"answer_id":75645681,"question_id":15951639,"body_markdown":"        public static MediaPlayer audiostop;\r\n        void stopcard() {\r\n            if (audiostop != null) {\r\n                audiostop.reset();\r\n                audiostop.release();\r\n                audiostop = null;\r\n            }\r\n            audiostop = MediaPlayer.create(this, R.raw.stop);\r\n            audiostop.start();\r\n        }\r\n","title":"Android Mediaplayer Error (-19, 0)","body":"<pre><code>    public static MediaPlayer audiostop;\n    void stopcard() {\n        if (audiostop != null) {\n            audiostop.reset();\n            audiostop.release();\n            audiostop = null;\n        }\n        audiostop = MediaPlayer.create(this, R.raw.stop);\n        audiostop.start();\n    }\n</code></pre>\n"}],"owner":{"account_id":2493855,"reputation":666,"user_id":2170795,"accept_rate":72,"display_name":"Phil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4632,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16099899,"answer_count":4,"score":2,"last_activity_date":1685201853,"creation_date":1365691097,"question_id":15951639,"body_markdown":"I try to replay a sound when I click on a button. But I get the Error (-19, 0) (what ever this means^^) \r\n\r\nMy code:\r\n\r\n    final Button xxx = (Button)findViewById(R.id.xxx);\r\n    \t\t\r\n    \t    xxx.setOnClickListener(new View.OnClickListener() {\r\n    \t        public void onClick(View v) {\r\n    \t        \tMediaPlayer mp = MediaPlayer.create(getApplicationContext(), R.raw.plop); \r\n    \t        \tmp.start();\r\n    \t        }\r\n    \t    });\r\n\r\nWhat is my mistake?","title":"Android Mediaplayer Error (-19, 0)","body":"<p>I try to replay a sound when I click on a button. But I get the Error (-19, 0) (what ever this means^^) </p>\n\n<p>My code:</p>\n\n<pre><code>final Button xxx = (Button)findViewById(R.id.xxx);\n\n        xxx.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                MediaPlayer mp = MediaPlayer.create(getApplicationContext(), R.raw.plop); \n                mp.start();\n            }\n        });\n</code></pre>\n\n<p>What is my mistake?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685243617,"post_id":76347613,"comment_id":134633708,"body_markdown":"If it is not working, do you at least get some kind of error message?! if yes then share it as well","body":"If it is not working, do you at least get some kind of error message?! if yes then share it as well"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685245382,"post_id":76347613,"comment_id":134633831,"body_markdown":"`if (!dir.mkdir()) return;`","body":"<code>if (!dir.mkdir()) return;</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685245426,"post_id":76347613,"comment_id":134633833,"body_markdown":"https://stackoverflow.com/questions/75370900/storage-emulated-0-yourname-png-open-failed-eperm-operation-not-permitted/75372243#75372243","body":"<a href=\"https://stackoverflow.com/questions/75370900/storage-emulated-0-yourname-png-open-failed-eperm-operation-not-permitted/75372243#75372243\" title=\"storage emulated 0 yourname png open failed eperm operation not permitted\">stackoverflow.com/questions/75370900/&hellip;</a>"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1685252859,"post_id":76347613,"comment_id":134634213,"body_markdown":"do you declare &quot;android.manifest.permission.MANAGE_EXTERNAL_STORAGE&quot; in manifest and also granted in application?","body":"do you declare &quot;android.manifest.permission.MANAGE_EXTERNAL_STORAGE&quot; in manifest and also granted in application?"},{"owner":{"account_id":2818396,"reputation":7,"user_id":2422812,"display_name":"ali"},"score":0,"creation_date":1685627974,"post_id":76347613,"comment_id":134689301,"body_markdown":"I use this code   \nroot=Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\nbut when i delete file from &quot;pdf&quot; folder  and  create file again i have this error message \n&quot;open failed: EEXIST (File exists)&quot;","body":"I use this code    root=Environment.getExternalStoragePublicDirectory(Environme&zwnj;&#8203;nt.DIRECTORY_DOCUMEN&zwnj;&#8203;TS); but when i delete file from &quot;pdf&quot; folder  and  create file again i have this error message  &quot;open failed: EEXIST (File exists)&quot;"}],"owner":{"account_id":2818396,"reputation":7,"user_id":2422812,"display_name":"ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685200876,"creation_date":1685200876,"question_id":76347613,"body_markdown":"I wrote an app for android 7 and it worked good. \r\nBut in android 12 my app is not working .Because in my app i create  directory pdf and write to pdf file with below code. \r\nWhy it&#39;s not working on android 12.\r\nI add this code to manifests \r\n\r\n    `requestLegacyExternalStorage=&quot;true&quot;\r\n    FileOutputStream fOut = null;\r\n    File root = null;\r\n    root = Environment.getExternalStorageDirectory();\r\n    File dir = new File(root.getAbsolutePath() + &quot;/pdf&quot;);\r\n    if (!dir.exists()) {\r\n    dir.mkdir();\r\n    }\r\n    filename = CustomerName + &quot;.pdf&quot;;\r\n    myFile = new File(dir, filename);\r\n    fOut = new FileOutputStream(myFile);\r\n    requestLegacyExternalStorage=&quot;true&quot;\r\n`\r\n","title":"how to create dir and File in Android Studio api 30 or higher with java","body":"<p>I wrote an app for android 7 and it worked good.\nBut in android 12 my app is not working .Because in my app i create  directory pdf and write to pdf file with below code.\nWhy it's not working on android 12.\nI add this code to manifests</p>\n<pre><code>`requestLegacyExternalStorage=&quot;true&quot;\nFileOutputStream fOut = null;\nFile root = null;\nroot = Environment.getExternalStorageDirectory();\nFile dir = new File(root.getAbsolutePath() + &quot;/pdf&quot;);\nif (!dir.exists()) {\ndir.mkdir();\n}\nfilename = CustomerName + &quot;.pdf&quot;;\nmyFile = new File(dir, filename);\nfOut = new FileOutputStream(myFile);\nrequestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p>`</p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685198740,"creation_date":1685198740,"answer_id":76347462,"question_id":76346788,"body_markdown":"Make the following changes:\r\n\r\n1) Add `package-info.java` to the package containing your classes:\r\n\r\n```java\r\n@jakarta.xml.bind.annotation.XmlSchema(\r\n        namespace = &quot;http://rejestrymedyczne.ezdrowie.gov.pl/rpl/eksport-danych-v1.0&quot;,\r\n        elementFormDefault = XmlNsForm.QUALIFIED\r\n)\r\npackage YOUR_PACKAGE_NAME_HERE;\r\n\r\nimport jakarta.xml.bind.annotation.XmlNsForm;\r\n```\r\n\r\n2) Once you have done this, you can change the `@XmlRootElement` annotation on your `ProduktyLecznicze` class:\r\n\r\n```java\r\n...\r\n@XmlRootElement\r\npublic class ProduktyLecznicze {\r\n    ...\r\n}\r\n```\r\n\r\nYou don&#39;t need the `name` or `namespace` attributes.\r\n\r\n3) Remove the `@XmlRootElement` annotation from the `ProduktyLeczniczy` class.\r\n\r\nBasically, let the `package-info` handle the namespace. And only use `@XmlRootElement` on the actual root class.\r\n\r\nNow, when you unmarshal the XML you will see the element values which are currently `null`.\r\n\r\n---\r\n\r\nProbably don&#39;t need to add this, but: if you want to see the rest of the XML data (nested below `&lt;produktLeczniczy&gt;`), you will need to create those equivalent classes: `Opakowania`, `Opakowanie`, and `SubstancjeCzynne`.","title":"JAXB returns null for list of nested elements","body":"<p>Make the following changes:</p>\n<ol>\n<li>Add <code>package-info.java</code> to the package containing your classes:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@jakarta.xml.bind.annotation.XmlSchema(\n        namespace = &quot;http://rejestrymedyczne.ezdrowie.gov.pl/rpl/eksport-danych-v1.0&quot;,\n        elementFormDefault = XmlNsForm.QUALIFIED\n)\npackage YOUR_PACKAGE_NAME_HERE;\n\nimport jakarta.xml.bind.annotation.XmlNsForm;\n</code></pre>\n<ol start=\"2\">\n<li>Once you have done this, you can change the <code>@XmlRootElement</code> annotation on your <code>ProduktyLecznicze</code> class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>...\n@XmlRootElement\npublic class ProduktyLecznicze {\n    ...\n}\n</code></pre>\n<p>You don't need the <code>name</code> or <code>namespace</code> attributes.</p>\n<ol start=\"3\">\n<li>Remove the <code>@XmlRootElement</code> annotation from the <code>ProduktyLeczniczy</code> class.</li>\n</ol>\n<p>Basically, let the <code>package-info</code> handle the namespace. And only use <code>@XmlRootElement</code> on the actual root class.</p>\n<p>Now, when you unmarshal the XML you will see the element values which are currently <code>null</code>.</p>\n<hr />\n<p>Probably don't need to add this, but: if you want to see the rest of the XML data (nested below <code>&lt;produktLeczniczy&gt;</code>), you will need to create those equivalent classes: <code>Opakowania</code>, <code>Opakowanie</code>, and <code>SubstancjeCzynne</code>.</p>\n"}],"owner":{"account_id":27550541,"reputation":61,"user_id":21025690,"display_name":"wazzupek01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76347462,"answer_count":1,"score":1,"last_activity_date":1685198740,"creation_date":1685188508,"question_id":76346788,"body_markdown":"I&#39;m using xml with one element which contains all other elements, all described with attributes like this: \r\n```\r\n&lt;produktyLecznicze stanNaDzien=&quot;2023-05-26&quot; xmlns=&quot;http://rejestrymedyczne.ezdrowie.gov.pl/rpl/eksport-danych-v1.0&quot;&gt;\r\n    &lt;produktLeczniczy nazwaProduktu=&quot;Zoledronic acid Fresenius Kabi&quot; rodzajPreparatu=&quot;ludzki&quot; nazwaPowszechnieStosowana=&quot;Acidum zoledronicum&quot; moc=&quot;4 mg/5 ml&quot; postac=&quot;Koncentrat do sporządzania roztworu do infuzji&quot; podmiotOdpowiedzialny=&quot;Fresenius Kabi Polska Sp. z o.o.&quot; typProcedury=&quot;DCP&quot; numerPozwolenia=&quot;20708&quot; waznoscPozwolenia=&quot;Bezterminowy&quot; kodATC=&quot;M05BA08&quot; id=&quot;100000014&quot;&gt;\r\n        &lt;opakowania&gt;\r\n            &lt;opakowanie wielkosc=&quot;1&quot; jednostkaWielkosci=&quot;fiol. 5 ml &quot; kodEAN=&quot;05909991023652&quot; kategoriaDostepnosci=&quot;Rpz&quot; skasowane=&quot;NIE&quot; numerEu=&quot;&quot; dystrybutorRownolegly=&quot;&quot; id=&quot;2&quot;/&gt;\r\n            &lt;opakowanie wielkosc=&quot;4&quot; jednostkaWielkosci=&quot;fiol. 5 ml &quot; kodEAN=&quot;05909991023669&quot; kategoriaDostepnosci=&quot;Rpz&quot; skasowane=&quot;NIE&quot; numerEu=&quot;&quot; dystrybutorRownolegly=&quot;&quot; id=&quot;3&quot;/&gt;\r\n            &lt;opakowanie wielkosc=&quot;10&quot; jednostkaWielkosci=&quot;fiol. 5 ml &quot; kodEAN=&quot;05909991023676&quot; kategoriaDostepnosci=&quot;Rpz&quot; skasowane=&quot;NIE&quot; numerEu=&quot;&quot; dystrybutorRownolegly=&quot;&quot; id=&quot;4&quot;/&gt;\r\n        &lt;/opakowania&gt;\r\n        &lt;substancjeCzynne&gt;\r\n            &lt;substancjaCzynna&gt;Acidum zoledronicum&lt;/substancjaCzynna&gt;\r\n        &lt;/substancjeCzynne&gt;\r\n    &lt;/produktLeczniczy&gt;\r\n...\r\n&lt;/produktyLecznicze&gt;\r\n```\r\nTill now I&#39;ve made classes for container element and subelement like this:\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlRootElement(name = &quot;produktyLecznicze&quot;, namespace=&quot;http://rejestrymedyczne.ezdrowie.gov.pl/rpl/eksport-danych-v1.0&quot;)\r\npublic class ProduktyLecznicze {\r\n\r\n    @XmlAttribute(name = &quot;stanNaDzien&quot;)\r\n    private String stanNaDzien;\r\n\r\n    @XmlElement(name = &quot;produktLeczniczy&quot;)\r\n    private List&lt;ProduktLeczniczy&gt; produktyLecznicze;\r\n\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlRootElement(name = &quot;produktLeczniczy&quot;, namespace = &quot;http://rejestrymedyczne.ezdrowie.gov.pl/rpl/eksport-danych-v1.0&quot;)\r\npublic class ProduktLeczniczy {\r\n\r\n    @XmlAttribute(name =&quot;nazwaProduktu&quot;)\r\n    private String nazwaProduktu;\r\n    @XmlAttribute(name =&quot;rodzajPreparatu&quot;)\r\n    private String rodzajPreparatu;\r\n    @XmlAttribute(name =&quot;nazwaPowszechnieStosowana&quot;)\r\n    private String nazwaPowszechnieStosowana;\r\n    @XmlAttribute(name =&quot;moc&quot;)\r\n    private String moc;\r\n    @XmlAttribute(name =&quot;postac&quot;)\r\n    private String postac;\r\n    @XmlAttribute(name =&quot;podmiotOdpowiedzialny&quot;)\r\n    private String podmiotOdpowiedzialny;\r\n    @XmlAttribute(name =&quot;typProcedury&quot;)\r\n    private String typProcedury;\r\n    @XmlAttribute(name =&quot;numerPozwolenia&quot;)\r\n    private String numerPozwolenia;\r\n    @XmlAttribute(name =&quot;waznoscPozwolenia&quot;)\r\n    private String waznoscPozwolenia;\r\n    @XmlAttribute(name =&quot;kodATC&quot;)\r\n    private String kodATC;\r\n    @XmlAttribute(name =&quot;id&quot;)\r\n    private int id;\r\n}\r\n```\r\nJAXB reads attribute of container element properly but returns null for list of nested elements.\r\nI want to find out why does it happen, and what to do in order to read this nested element properly.","title":"JAXB returns null for list of nested elements","body":"<p>I'm using xml with one element which contains all other elements, all described with attributes like this:</p>\n<pre><code>&lt;produktyLecznicze stanNaDzien=&quot;2023-05-26&quot; xmlns=&quot;http://rejestrymedyczne.ezdrowie.gov.pl/rpl/eksport-danych-v1.0&quot;&gt;\n    &lt;produktLeczniczy nazwaProduktu=&quot;Zoledronic acid Fresenius Kabi&quot; rodzajPreparatu=&quot;ludzki&quot; nazwaPowszechnieStosowana=&quot;Acidum zoledronicum&quot; moc=&quot;4 mg/5 ml&quot; postac=&quot;Koncentrat do sporządzania roztworu do infuzji&quot; podmiotOdpowiedzialny=&quot;Fresenius Kabi Polska Sp. z o.o.&quot; typProcedury=&quot;DCP&quot; numerPozwolenia=&quot;20708&quot; waznoscPozwolenia=&quot;Bezterminowy&quot; kodATC=&quot;M05BA08&quot; id=&quot;100000014&quot;&gt;\n        &lt;opakowania&gt;\n            &lt;opakowanie wielkosc=&quot;1&quot; jednostkaWielkosci=&quot;fiol. 5 ml &quot; kodEAN=&quot;05909991023652&quot; kategoriaDostepnosci=&quot;Rpz&quot; skasowane=&quot;NIE&quot; numerEu=&quot;&quot; dystrybutorRownolegly=&quot;&quot; id=&quot;2&quot;/&gt;\n            &lt;opakowanie wielkosc=&quot;4&quot; jednostkaWielkosci=&quot;fiol. 5 ml &quot; kodEAN=&quot;05909991023669&quot; kategoriaDostepnosci=&quot;Rpz&quot; skasowane=&quot;NIE&quot; numerEu=&quot;&quot; dystrybutorRownolegly=&quot;&quot; id=&quot;3&quot;/&gt;\n            &lt;opakowanie wielkosc=&quot;10&quot; jednostkaWielkosci=&quot;fiol. 5 ml &quot; kodEAN=&quot;05909991023676&quot; kategoriaDostepnosci=&quot;Rpz&quot; skasowane=&quot;NIE&quot; numerEu=&quot;&quot; dystrybutorRownolegly=&quot;&quot; id=&quot;4&quot;/&gt;\n        &lt;/opakowania&gt;\n        &lt;substancjeCzynne&gt;\n            &lt;substancjaCzynna&gt;Acidum zoledronicum&lt;/substancjaCzynna&gt;\n        &lt;/substancjeCzynne&gt;\n    &lt;/produktLeczniczy&gt;\n...\n&lt;/produktyLecznicze&gt;\n</code></pre>\n<p>Till now I've made classes for container element and subelement like this:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;produktyLecznicze&quot;, namespace=&quot;http://rejestrymedyczne.ezdrowie.gov.pl/rpl/eksport-danych-v1.0&quot;)\npublic class ProduktyLecznicze {\n\n    @XmlAttribute(name = &quot;stanNaDzien&quot;)\n    private String stanNaDzien;\n\n    @XmlElement(name = &quot;produktLeczniczy&quot;)\n    private List&lt;ProduktLeczniczy&gt; produktyLecznicze;\n\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;produktLeczniczy&quot;, namespace = &quot;http://rejestrymedyczne.ezdrowie.gov.pl/rpl/eksport-danych-v1.0&quot;)\npublic class ProduktLeczniczy {\n\n    @XmlAttribute(name =&quot;nazwaProduktu&quot;)\n    private String nazwaProduktu;\n    @XmlAttribute(name =&quot;rodzajPreparatu&quot;)\n    private String rodzajPreparatu;\n    @XmlAttribute(name =&quot;nazwaPowszechnieStosowana&quot;)\n    private String nazwaPowszechnieStosowana;\n    @XmlAttribute(name =&quot;moc&quot;)\n    private String moc;\n    @XmlAttribute(name =&quot;postac&quot;)\n    private String postac;\n    @XmlAttribute(name =&quot;podmiotOdpowiedzialny&quot;)\n    private String podmiotOdpowiedzialny;\n    @XmlAttribute(name =&quot;typProcedury&quot;)\n    private String typProcedury;\n    @XmlAttribute(name =&quot;numerPozwolenia&quot;)\n    private String numerPozwolenia;\n    @XmlAttribute(name =&quot;waznoscPozwolenia&quot;)\n    private String waznoscPozwolenia;\n    @XmlAttribute(name =&quot;kodATC&quot;)\n    private String kodATC;\n    @XmlAttribute(name =&quot;id&quot;)\n    private int id;\n}\n</code></pre>\n<p>JAXB reads attribute of container element properly but returns null for list of nested elements.\nI want to find out why does it happen, and what to do in order to read this nested element properly.</p>\n"},{"tags":["java","image","inputstream"],"comments":[{"owner":{"account_id":32370,"reputation":6343,"user_id":89769,"display_name":"h3xStream"},"score":0,"creation_date":1281982923,"post_id":3495942,"comment_id":3652409,"body_markdown":"Since ByteArrayInputStream are construct from byte[] http://stackoverflow.com/questions/2163644/in-java-how-can-i-convert-an-inputstream-into-a-byte-array-byte http://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-in-java","body":"Since ByteArrayInputStream are construct from byte[] <a href=\"http://stackoverflow.com/questions/2163644/in-java-how-can-i-convert-an-inputstream-into-a-byte-array-byte\" title=\"in java how can i convert an inputstream into a byte array byte\">stackoverflow.com/questions/2163644/&hellip;</a> <a href=\"http://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-in-java\" title=\"convert inputstream to byte in java\">stackoverflow.com/questions/1264709/&hellip;</a>"},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1281985143,"post_id":3495942,"comment_id":3652748,"body_markdown":"What exactly are you doing with images where you wouldn&#39;t be using the `javax.imageio` classes?","body":"What exactly are you doing with images where you wouldn&#39;t be using the <code>javax.imageio</code> classes?"},{"owner":{"account_id":171148,"reputation":855,"user_id":398371,"accept_rate":71,"display_name":"user398371"},"score":0,"creation_date":1282059912,"post_id":3495942,"comment_id":3662050,"body_markdown":"Uploading to Amazon S3... The Java library I&#39;m using required ByteArrayInputStream for all non-string based data","body":"Uploading to Amazon S3... The Java library I&#39;m using required ByteArrayInputStream for all non-string based data"}],"answers":[{"tags":[],"owner":{"account_id":117006,"reputation":24352,"user_id":306602,"display_name":"naikus"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1281983645,"creation_date":1281982654,"answer_id":3496025,"question_id":3495942,"body_markdown":"Read from input stream and write to a [ByteArrayOutputStream][1], then call its `toByteArray()` to obtain the byte array. \r\n\r\n\r\nCreate a [ByteArrayInputStream][2] around the byte array to read from it.\r\n\r\n\r\nHere&#39;s a quick test:\r\n\r\n    import java.io.*;\r\n    \r\n    public class Test {\r\n     \r\n       \r\n           public static void main(String[] arg) throws Throwable {\r\n              File f = new File(arg[0]);\r\n              InputStream in = new FileInputStream(f);\r\n              \r\n              byte[] buff = new byte[8000];\r\n              \r\n              int bytesRead = 0;\r\n              \r\n              ByteArrayOutputStream bao = new ByteArrayOutputStream();\r\n              \r\n              while((bytesRead = in.read(buff)) != -1) {\r\n                 bao.write(buff, 0, bytesRead);\r\n              }\r\n              \r\n              byte[] data = bao.toByteArray();\r\n              \r\n              ByteArrayInputStream bin = new ByteArrayInputStream(data);\r\n              System.out.println(bin.available());\r\n           }\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#ByteArrayOutputStream%28int%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/io/ByteArrayInputStream.html","title":"Convert InputStream(Image) to ByteArrayInputStream","body":"<p>Read from input stream and write to a <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#ByteArrayOutputStream%28int%29\" rel=\"noreferrer\">ByteArrayOutputStream</a>, then call its <code>toByteArray()</code> to obtain the byte array. </p>\n\n<p>Create a <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/ByteArrayInputStream.html\" rel=\"noreferrer\">ByteArrayInputStream</a> around the byte array to read from it.</p>\n\n<p>Here's a quick test:</p>\n\n<pre><code>import java.io.*;\n\npublic class Test {\n\n\n       public static void main(String[] arg) throws Throwable {\n          File f = new File(arg[0]);\n          InputStream in = new FileInputStream(f);\n\n          byte[] buff = new byte[8000];\n\n          int bytesRead = 0;\n\n          ByteArrayOutputStream bao = new ByteArrayOutputStream();\n\n          while((bytesRead = in.read(buff)) != -1) {\n             bao.write(buff, 0, bytesRead);\n          }\n\n          byte[] data = bao.toByteArray();\n\n          ByteArrayInputStream bin = new ByteArrayInputStream(data);\n          System.out.println(bin.available());\n       }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096497,"reputation":6427,"user_id":1089987,"accept_rate":76,"display_name":"anvarik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1352292954,"creation_date":1352292954,"answer_id":13270239,"question_id":3495942,"body_markdown":"Or first convert it to a byte array, then to a bytearrayinputstream.\r\n    \r\n    File f = new File(arg[0]);\r\n    InputStream in = new FileInputStream(f);\r\n    // convert the inpustream to a byte array\r\n    byte[] buf = null;\r\n    try {\r\n        buf = new byte[in.available()];\r\n        while (in.read(buf) != -1) {\r\n        }\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;Got exception while is -&gt; bytearr conversion: &quot; + e);\r\n    }\r\n    // now convert it to a bytearrayinputstream\r\n    ByteArrayInputStream bin = new ByteArrayInputStream(buf);\r\n    ","title":"Convert InputStream(Image) to ByteArrayInputStream","body":"<p>Or first convert it to a byte array, then to a bytearrayinputstream.</p>\n\n<pre><code>File f = new File(arg[0]);\nInputStream in = new FileInputStream(f);\n// convert the inpustream to a byte array\nbyte[] buf = null;\ntry {\n    buf = new byte[in.available()];\n    while (in.read(buf) != -1) {\n    }\n} catch (Exception e) {\n    System.out.println(\"Got exception while is -&gt; bytearr conversion: \" + e);\n}\n// now convert it to a bytearrayinputstream\nByteArrayInputStream bin = new ByteArrayInputStream(buf);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2674203,"reputation":877,"user_id":2310954,"display_name":"Jaroslav"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1571308950,"creation_date":1571308950,"answer_id":58430703,"question_id":3495942,"body_markdown":"You can use org.apache.commons.io.**IOUtils#toByteArray**(java.io.InputStream)\r\n\r\n\r\n    InputStream is = getMyInputStream();\r\n    ByteArrayInputStream bais = new ByteArrayInputStream(IOUtils.toByteArray(is));\r\n","title":"Convert InputStream(Image) to ByteArrayInputStream","body":"<p>You can use org.apache.commons.io.<strong>IOUtils#toByteArray</strong>(java.io.InputStream)</p>\n\n<pre><code>InputStream is = getMyInputStream();\nByteArrayInputStream bais = new ByteArrayInputStream(IOUtils.toByteArray(is));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3140971,"reputation":344,"user_id":2656447,"display_name":"zyc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685198550,"creation_date":1685198550,"answer_id":76347450,"question_id":3495942,"body_markdown":"Using Kotlin and `org.apache.commons.io.IOUtils` `v2` is simple like that:\r\n\r\n```\r\nIOUtils.toByteArray(is).inputStream()\r\n```\r\n\r\nI guess is the same way in Java too.","title":"Convert InputStream(Image) to ByteArrayInputStream","body":"<p>Using Kotlin and <code>org.apache.commons.io.IOUtils</code> <code>v2</code> is simple like that:</p>\n<pre><code>IOUtils.toByteArray(is).inputStream()\n</code></pre>\n<p>I guess is the same way in Java too.</p>\n"}],"owner":{"account_id":171148,"reputation":855,"user_id":398371,"accept_rate":71,"display_name":"user398371"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64597,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":3496025,"answer_count":4,"score":27,"last_activity_date":1685198550,"creation_date":1281982105,"question_id":3495942,"body_markdown":"Not sure about how I am supposed to do this. Any help would be appreciated","title":"Convert InputStream(Image) to ByteArrayInputStream","body":"<p>Not sure about how I am supposed to do this. Any help would be appreciated</p>\n"},{"tags":["java","maven","inheritance","interface","jaxb"],"comments":[{"owner":{"account_id":1010706,"reputation":1264,"user_id":1023341,"display_name":"gkephorus"},"score":0,"creation_date":1681319614,"post_id":73677508,"comment_id":134038605,"body_markdown":"Any joy on this? Have you found a solution you can share here?","body":"Any joy on this? Have you found a solution you can share here?"},{"owner":{"account_id":10239203,"reputation":111,"user_id":7557143,"display_name":"SreeNath"},"score":0,"creation_date":1693312235,"post_id":73677508,"comment_id":135741428,"body_markdown":"Did you find any solution for this issue?, please do share it, i am also facing same issue","body":"Did you find any solution for this issue?, please do share it, i am also facing same issue"}],"answers":[{"tags":[],"owner":{"account_id":23863037,"reputation":66,"user_id":17865734,"display_name":"DmitriyMX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685196627,"creation_date":1685196627,"answer_id":76347320,"question_id":73677508,"body_markdown":"Try something like this\r\n\r\n    &lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n              xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n              xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n              extensionBindingPrefixes=&quot;xjc&quot;\r\n              version=&quot;3.0&quot;&gt;\r\n        &lt;bindings schemaLocation=&quot;../xsd/my-schema.xsd&quot; version=&quot;1.0&quot;&gt;\r\n            &lt;globalBindings&gt;\r\n                &lt;xjc:superInterface name=&quot;java.io.Serializable&quot;/&gt; &lt;!-- Just example! --&gt;\r\n            &lt;/globalBindings&gt;\r\n            &lt;bindings node=&quot;//xs:element[@name=&#39;myobject&#39;]&quot;&gt;\r\n                &lt;!-- ... --&gt;\r\n            &lt;/bindings&gt;\r\n        &lt;/bindings&gt;\r\n    &lt;/bindings&gt;\r\n\r\nMaven dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"JAXB maven plugin bindings does not generate classes with interface","body":"<p>Try something like this</p>\n<pre><code>&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n          xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\n          extensionBindingPrefixes=&quot;xjc&quot;\n          version=&quot;3.0&quot;&gt;\n    &lt;bindings schemaLocation=&quot;../xsd/my-schema.xsd&quot; version=&quot;1.0&quot;&gt;\n        &lt;globalBindings&gt;\n            &lt;xjc:superInterface name=&quot;java.io.Serializable&quot;/&gt; &lt;!-- Just example! --&gt;\n        &lt;/globalBindings&gt;\n        &lt;bindings node=&quot;//xs:element[@name='myobject']&quot;&gt;\n            &lt;!-- ... --&gt;\n        &lt;/bindings&gt;\n    &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n<p>Maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8877206,"reputation":93,"user_id":6628911,"display_name":"Petr Štechm&#252;ller"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685196627,"creation_date":1662880818,"question_id":73677508,"body_markdown":"I&#39;m trying to generate the java files from XSD with use of jaxb2-maven-plugin. This works without any issues and I can see generated classes in target directory.\r\n\r\nNow I decided to let all generated classes implement some interface. So I set up **bindings.xjb** file where I&#39;m defining the interface. The issue is the plugin can not recognize correct namespace which defines inheritance.\r\n\r\n&gt; Unsupported binding namespace &quot;http://jaxb2-commons.dev.java.net/basic/inheritance&quot;. Perhaps you meant &quot;http://jaxb.dev.java.net/plugin/code-injector&quot;?\r\n\r\nI think **code-injector** is not what I&#39;m looking for, since this allow to define custom pieces of code to add to generated file.\r\n\r\nI&#39;m trying to use latest maven plugin:\r\n\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n\r\nThe bindings.xjb file contains following content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n                   xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n                   xmlns:inheritance=&quot;http://jaxb2-commons.dev.java.net/basic/inheritance&quot;\r\n                   jaxb:extensionBindingPrefixes=&quot;inheritance&quot;\r\n                   version=&quot;3.0&quot;&gt;\r\n    \r\n        &lt;jaxb:bindings schemaLocation=&quot;application.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n            &lt;jaxb:bindings node=&quot;//xs:complexType[@name=&#39;applicationType&#39;]&quot;&gt;\r\n                &lt;inheritance:implements&gt;com.example.SomeInterface&lt;/inheritance:implements&gt;\r\n                &lt;jaxb:property name=&quot;inheritance&quot;/&gt;\r\n            &lt;/jaxb:bindings&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    \r\n    &lt;/jaxb:bindings&gt;\r\n\r\nAnd the application.xsd file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;xs:element name=&quot;application&quot; type=&quot;applicationType&quot;/&gt;\r\n    \r\n        &lt;xs:complexType name=&quot;applicationType&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element type=&quot;xs:string&quot; name=&quot;language&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\nI have found this namespace xmlns:inheritance=&quot;http://jaxb2-commons.dev.java.net/basic/inheritance&quot; on the internet.\r\n\r\nAlso notice plugin requires version 3.0 of bindings.xjb file.\r\n\r\n**What is the correct definition of namespace to let plugin generate classes with interface?**","title":"JAXB maven plugin bindings does not generate classes with interface","body":"<p>I'm trying to generate the java files from XSD with use of jaxb2-maven-plugin. This works without any issues and I can see generated classes in target directory.</p>\n<p>Now I decided to let all generated classes implement some interface. So I set up <strong>bindings.xjb</strong> file where I'm defining the interface. The issue is the plugin can not recognize correct namespace which defines inheritance.</p>\n<blockquote>\n<p>Unsupported binding namespace &quot;http://jaxb2-commons.dev.java.net/basic/inheritance&quot;. Perhaps you meant &quot;http://jaxb.dev.java.net/plugin/code-injector&quot;?</p>\n</blockquote>\n<p>I think <strong>code-injector</strong> is not what I'm looking for, since this allow to define custom pieces of code to add to generated file.</p>\n<p>I'm trying to use latest maven plugin:</p>\n<pre><code>&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.1.0&lt;/version&gt;\n</code></pre>\n<p>The bindings.xjb file contains following content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jaxb:bindings xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n               xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n               xmlns:inheritance=&quot;http://jaxb2-commons.dev.java.net/basic/inheritance&quot;\n               jaxb:extensionBindingPrefixes=&quot;inheritance&quot;\n               version=&quot;3.0&quot;&gt;\n\n    &lt;jaxb:bindings schemaLocation=&quot;application.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:complexType[@name='applicationType']&quot;&gt;\n            &lt;inheritance:implements&gt;com.example.SomeInterface&lt;/inheritance:implements&gt;\n            &lt;jaxb:property name=&quot;inheritance&quot;/&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>And the application.xsd file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:element name=&quot;application&quot; type=&quot;applicationType&quot;/&gt;\n\n    &lt;xs:complexType name=&quot;applicationType&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;language&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>I have found this namespace xmlns:inheritance=&quot;http://jaxb2-commons.dev.java.net/basic/inheritance&quot; on the internet.</p>\n<p>Also notice plugin requires version 3.0 of bindings.xjb file.</p>\n<p><strong>What is the correct definition of namespace to let plugin generate classes with interface?</strong></p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685220081,"post_id":76347023,"comment_id":134632183,"body_markdown":"Use _`catch (Throwable t)`_, instead.","body":"Use <i><code>catch (Throwable t)</code></i>, instead."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685196335,"creation_date":1685192727,"answer_id":76347064,"question_id":76347023,"body_markdown":"[`ExceptionInInitializerError`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ExceptionInInitializerError.html) isn&#39;t a subclass of [`Exception`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Exception.html), so it can&#39;t be caught by `catch (Exception e)` since it doesn&#39;t match the `catch`. You *could* use `catch (Error e)` or even `catch (Throwable t)`, both of which work in at least some implementations ([proof][1]), but in general it&#39;s best not to catch `Error` subclasses or `RuntimeException` subclasses.\r\n\r\nBut note [Irremediable&#39;s answer](https://stackoverflow.com/a/76347141/157247)&amp;nbsp;&amp;mdash; you can&#39;t rely on this being the first access to any of `Bar`&#39;s static features, nor can you rely on the JVM not having had this failure before your `Test.foo` occurs. Nor *should* you rely on those things. :-) Instead, ensure that `Bar` loads correctly.\r\n\r\nFor details about why you shouldn&#39;t rely on the error occuring in code where you can have a `try`/`catch`, see [*Loading of Classes and Interfaces*](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.2) in the Java Language Specification and [Chapter 5](https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-5.html) of the Java Virtual Machine Specification.\r\n\r\n  [1]: https://ideone.com/od6uW6","title":"Java static method not caught by try-catch block - why?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ExceptionInInitializerError.html\" rel=\"nofollow noreferrer\"><code>ExceptionInInitializerError</code></a> isn't a subclass of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Exception.html\" rel=\"nofollow noreferrer\"><code>Exception</code></a>, so it can't be caught by <code>catch (Exception e)</code> since it doesn't match the <code>catch</code>. You <em>could</em> use <code>catch (Error e)</code> or even <code>catch (Throwable t)</code>, both of which work in at least some implementations (<a href=\"https://ideone.com/od6uW6\" rel=\"nofollow noreferrer\">proof</a>), but in general it's best not to catch <code>Error</code> subclasses or <code>RuntimeException</code> subclasses.</p>\n<p>But note <a href=\"https://stackoverflow.com/a/76347141/157247\">Irremediable's answer</a> — you can't rely on this being the first access to any of <code>Bar</code>'s static features, nor can you rely on the JVM not having had this failure before your <code>Test.foo</code> occurs. Nor <em>should</em> you rely on those things. :-) Instead, ensure that <code>Bar</code> loads correctly.</p>\n<p>For details about why you shouldn't rely on the error occuring in code where you can have a <code>try</code>/<code>catch</code>, see <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.2\" rel=\"nofollow noreferrer\"><em>Loading of Classes and Interfaces</em></a> in the Java Language Specification and <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-5.html\" rel=\"nofollow noreferrer\">Chapter 5</a> of the Java Virtual Machine Specification.</p>\n"},{"tags":[],"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685193777,"creation_date":1685193777,"answer_id":76347141,"question_id":76347023,"body_markdown":"Along with other answers: there are only one guarantee by JLS - class will be initialized BEFORE first access of its members/methods/constructors or at the moment of invoking Class.forName() method. \r\nSo, you can&#39;t be sure that Bar class will be initialized exactly in your try-catch clause :)","title":"Java static method not caught by try-catch block - why?","body":"<p>Along with other answers: there are only one guarantee by JLS - class will be initialized BEFORE first access of its members/methods/constructors or at the moment of invoking Class.forName() method.\nSo, you can't be sure that Bar class will be initialized exactly in your try-catch clause :)</p>\n"}],"owner":{"account_id":25908900,"reputation":11,"user_id":19633528,"display_name":"greenhand96"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76347064,"answer_count":2,"score":1,"last_activity_date":1685196335,"creation_date":1685192165,"question_id":76347023,"body_markdown":"Why Java try-catch didn&#39;t catch this Exception\r\n\r\nHere is code:\r\n\r\nclass A construct producing a divide zero Exception, which is unexpected in my situation.\r\n\r\nand Bar is a class for offering A STATIC method，it will create a static A object. because I only wish A being create once when my program run in his lifetime.\r\n\r\n```\r\npublic class Test{\r\n    public void foo(){\r\n        try{\r\n            Bar.bar();\r\n        }catch (Exception e) {\r\n            System.out.println(&quot;catch Exception&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Test obj = new Test();\r\n        obj.foo();\r\n    }\r\n}\r\n\r\nclass Bar{\r\n    private static A a;\r\n    static {\r\n        a = new A();\r\n    }\r\n    public static void bar() {\r\n    }\r\n}\r\n\r\nclass A {\r\n    public A(){\r\n        int x = 1/0;\r\n    }\r\n}\r\n```\r\n\r\nAnd on the top of all, I call Bar.bar() method in a big try-catch code block。And I out this Exception infos, I want to know why this try-catch Block didn&#39;t catch this Exception and lead to program exit abnormally\r\n\r\n```\r\nat.java/jdt_ws/JavaSample_805682b8/bin Test \r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at Test.foo(Test.java:4)\r\n        at Test.main(Test.java:12)\r\nCaused by: java.lang.ArithmeticException: / by zero\r\n        at A.&lt;init&gt;(Test.java:28)\r\n        at Bar.&lt;clinit&gt;(Test.java:19)\r\n        ... 2 more\r\n```\r\n\r\nany ideas, will be helpful. Is this about static modifier？","title":"Java static method not caught by try-catch block - why?","body":"<p>Why Java try-catch didn't catch this Exception</p>\n<p>Here is code:</p>\n<p>class A construct producing a divide zero Exception, which is unexpected in my situation.</p>\n<p>and Bar is a class for offering A STATIC method，it will create a static A object. because I only wish A being create once when my program run in his lifetime.</p>\n<pre><code>public class Test{\n    public void foo(){\n        try{\n            Bar.bar();\n        }catch (Exception e) {\n            System.out.println(&quot;catch Exception&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        Test obj = new Test();\n        obj.foo();\n    }\n}\n\nclass Bar{\n    private static A a;\n    static {\n        a = new A();\n    }\n    public static void bar() {\n    }\n}\n\nclass A {\n    public A(){\n        int x = 1/0;\n    }\n}\n</code></pre>\n<p>And on the top of all, I call Bar.bar() method in a big try-catch code block。And I out this Exception infos, I want to know why this try-catch Block didn't catch this Exception and lead to program exit abnormally</p>\n<pre><code>at.java/jdt_ws/JavaSample_805682b8/bin Test \nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at Test.foo(Test.java:4)\n        at Test.main(Test.java:12)\nCaused by: java.lang.ArithmeticException: / by zero\n        at A.&lt;init&gt;(Test.java:28)\n        at Bar.&lt;clinit&gt;(Test.java:19)\n        ... 2 more\n</code></pre>\n<p>any ideas, will be helpful. Is this about static modifier？</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1684743966,"post_id":76302080,"comment_id":134556047,"body_markdown":"Please put the necessary details to reproduce the problem in the question itself rather than providing a link to it.","body":"Please put the necessary details to reproduce the problem in the question itself rather than providing a link to it."},{"owner":{"account_id":28437616,"reputation":1,"user_id":21757466,"display_name":"mohamed sherif"},"score":0,"creation_date":1685026554,"post_id":76302080,"comment_id":134606514,"body_markdown":"@DanielBarbarian The problem seems to be with the dependencies or the configuration that&#39;s why I added the link to the project also the error shown in the terminal is : java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;","body":"@DanielBarbarian The problem seems to be with the dependencies or the configuration that&#39;s why I added the link to the project also the error shown in the terminal is : java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping(&zwnj;&#8203;)&#39;"},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1685103984,"post_id":76302080,"comment_id":134618538,"body_markdown":"Again, put such details in the question. As it is written the question runs a high risk of getting closed and not receiving any attention. The detail/exception you added in your comment is a great example of something that should be part of the question but it is not limited to that. \nRead more about [how to ask a good question](https://stackoverflow.com/help/how-to-ask).","body":"Again, put such details in the question. As it is written the question runs a high risk of getting closed and not receiving any attention. The detail/exception you added in your comment is a great example of something that should be part of the question but it is not limited to that.  Read more about <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>."},{"owner":{"account_id":28437616,"reputation":1,"user_id":21757466,"display_name":"mohamed sherif"},"score":0,"creation_date":1685196388,"post_id":76302080,"comment_id":134629509,"body_markdown":"@DanielBarbarian Thank you for your advice. I have edited the question and added more details check it now and till me if it need more details.","body":"@DanielBarbarian Thank you for your advice. I have edited the question and added more details check it now and till me if it need more details."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1685429802,"post_id":76302080,"comment_id":134654350,"body_markdown":"The most likely reason is that you have two versions of `HttpServletMapping` on your classpath. Do you need to have `javax.servlet-api` dependency explicitly defined considering you already have all the spring boot stuff there? What happens when you try to remove that dependency?","body":"The most likely reason is that you have two versions of <code>HttpServletMapping</code> on your classpath. Do you need to have <code>javax.servlet-api</code> dependency explicitly defined considering you already have all the spring boot stuff there? What happens when you try to remove that dependency?"},{"owner":{"account_id":28437616,"reputation":1,"user_id":21757466,"display_name":"mohamed sherif"},"score":0,"creation_date":1685917265,"post_id":76302080,"comment_id":134724022,"body_markdown":"@DanielBarbarian If I removed the javax.servlet-api  I will get the the same error there is no Change :  Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler processing failed; nested exception is java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;] with root cause\n\njava.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;","body":"@DanielBarbarian If I removed the javax.servlet-api  I will get the the same error there is no Change :  Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler processing failed; nested exception is java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping(&zwnj;&#8203;)&#39;] with root cause  java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping(&zwnj;&#8203;)&#39;"}],"owner":{"account_id":28437616,"reputation":1,"user_id":21757466,"display_name":"mohamed sherif"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685196233,"creation_date":1684706244,"question_id":76302080,"body_markdown":"Guys I have cloned a spring boot project but every time I try to launch the app and enter the url for the index page it give me alot of errors\r\nthe url is 127.0.0.1:8070\r\n\r\n I tried to change the dependencies but the problem continues , please if anyone can helps or have a solution i would appreciate it\r\n\r\nthe error shown in the terminal is : java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;\r\n\r\nand here are the dependencies of the App:\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.24&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.2-b02&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.5.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n \r\nhere is the project link \r\nhttps://drive.google.com/file/d/1_UhYiPaBKfaARj1ZIA8JLFKSP5-8aOfP/view?usp=share_link","title":"Why does the index page don&#39;t appear when entering the url after launching the app?","body":"<p>Guys I have cloned a spring boot project but every time I try to launch the app and enter the url for the index page it give me alot of errors\nthe url is 127.0.0.1:8070</p>\n<p>I tried to change the dependencies but the problem continues , please if anyone can helps or have a solution i would appreciate it</p>\n<p>the error shown in the terminal is : java.lang.NoSuchMethodError: 'javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()'</p>\n<p>and here are the dependencies of the App:</p>\n<pre><code>&lt;dependencies&gt;\n    \n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2-b02&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n            &lt;version&gt;5.5.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>here is the project link\n<a href=\"https://drive.google.com/file/d/1_UhYiPaBKfaARj1ZIA8JLFKSP5-8aOfP/view?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1_UhYiPaBKfaARj1ZIA8JLFKSP5-8aOfP/view?usp=share_link</a></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":19112024,"reputation":159,"user_id":13957834,"display_name":"juran.maurice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685196071,"creation_date":1685196071,"answer_id":76347288,"question_id":76347099,"body_markdown":"Try the following in your code:\r\n\r\n    List fsFFDB = refDataRdsSession.createNativeQuery(DBQueries.GET_FTOS_FROM_BOB, VendorPrioritizedData.class).setParameter(&quot;investmentId&quot;, investmentId).list();\r\n\r\nYou have to tell the result, which class the objects should be passed in.","title":"Getting java.lang.ClassCastException Hibernate Java","body":"<p>Try the following in your code:</p>\n<pre><code>List fsFFDB = refDataRdsSession.createNativeQuery(DBQueries.GET_FTOS_FROM_BOB, VendorPrioritizedData.class).setParameter(&quot;investmentId&quot;, investmentId).list();\n</code></pre>\n<p>You have to tell the result, which class the objects should be passed in.</p>\n"}],"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76347288,"answer_count":1,"score":0,"last_activity_date":1685196071,"creation_date":1685193039,"question_id":76347099,"body_markdown":"Following is my code. I am using one bean hibernate entity class which represents table VendorPrioritizedData and the class is as follows.\r\n\r\n    package com.mt.indexes.hibernateEntities;\r\n    \r\n    import lombok.Data;\r\n    \r\n    import javax.persistence.*;\r\n    import java.io.Serializable;\r\n    import java.time.LocalDate;\r\n    \r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;vendor_prioritized_data&quot;)\r\n    public class VendorPrioritizedData implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sc_id_seq&quot;)\r\n        @SequenceGenerator(name = &quot;sc_id_seq&quot;, sequenceName = &quot;vendor_prioritized_data_id_seq1&quot;, allocationSize = 1)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;record_id&quot;)\r\n        private String recordId;\r\n    \r\n        @Column(name = &quot;start_date&quot;)\r\n        private LocalDate startDate;\r\n    \r\n        @Column(name = &quot;end_date&quot;)\r\n        private LocalDate endDate;\r\n    \r\n        @Column(name = &quot;entity_id&quot;)\r\n        private String entityId;\r\n    \r\n        @Column(name = &quot;attribute_code&quot;)\r\n        private String attributeCode;\r\n    \r\n        @Column(name = &quot;attribute_type&quot;)\r\n        private String attributeType;\r\n    \r\n        @Column(name = &quot;val&quot;)\r\n        private String val;\r\n    \r\n        @Column(name = &quot;source&quot;)\r\n        private String source;\r\n        \r\n     \r\n    }\r\n\r\nThen I am using this class in one of my method in the code and that is as follows.\r\n\r\nList&lt;VendorPrioritizedData&gt; fsFFDB = refDataRdsSession.createNativeQuery(DBQueries.GET_FTOS_FROM_BOB)\r\n\t\t\t\t\t.setParameter(&quot;investmentId&quot;, investmentId)\r\n\t\t\t\t\t.list();\r\n\r\n\t\t\tList&lt;LocalDate&gt; tosstartDateList = new ArrayList&lt;&gt;();\r\n\t\t\tfor (VendorPrioritizedData tosStartDate : fsFFDB) {\r\n\t\t\t\ttosstartDateList.add(tosStartDate.getStartDate());\r\n\t\t\t}\r\n\r\nI am getting the following error now which is landing me in confusion.\r\n\r\n    java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class com.mst.indexes.hibernateEntities.VendorPrioritizedData ([Ljava.lang.Object; is in module java.base of loader &#39;bootstrap&#39;; com.mst.indexes.hibernateEntities.VendorPrioritizedData is in unnamed module of loader &#39;app&#39;)\r\n\r\nI am getting this error on line &#39;for (VendorPrioritizedData tosStartDate : fsFFDB) {&#39;\r\n","title":"Getting java.lang.ClassCastException Hibernate Java","body":"<p>Following is my code. I am using one bean hibernate entity class which represents table VendorPrioritizedData and the class is as follows.</p>\n<pre><code>package com.mt.indexes.hibernateEntities;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\nimport java.time.LocalDate;\n\n@Data\n@Entity\n@Table(name = &quot;vendor_prioritized_data&quot;)\npublic class VendorPrioritizedData implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sc_id_seq&quot;)\n    @SequenceGenerator(name = &quot;sc_id_seq&quot;, sequenceName = &quot;vendor_prioritized_data_id_seq1&quot;, allocationSize = 1)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;record_id&quot;)\n    private String recordId;\n\n    @Column(name = &quot;start_date&quot;)\n    private LocalDate startDate;\n\n    @Column(name = &quot;end_date&quot;)\n    private LocalDate endDate;\n\n    @Column(name = &quot;entity_id&quot;)\n    private String entityId;\n\n    @Column(name = &quot;attribute_code&quot;)\n    private String attributeCode;\n\n    @Column(name = &quot;attribute_type&quot;)\n    private String attributeType;\n\n    @Column(name = &quot;val&quot;)\n    private String val;\n\n    @Column(name = &quot;source&quot;)\n    private String source;\n    \n \n}\n</code></pre>\n<p>Then I am using this class in one of my method in the code and that is as follows.</p>\n<p>List fsFFDB = refDataRdsSession.createNativeQuery(DBQueries.GET_FTOS_FROM_BOB)\n.setParameter(&quot;investmentId&quot;, investmentId)\n.list();</p>\n<pre><code>        List&lt;LocalDate&gt; tosstartDateList = new ArrayList&lt;&gt;();\n        for (VendorPrioritizedData tosStartDate : fsFFDB) {\n            tosstartDateList.add(tosStartDate.getStartDate());\n        }\n</code></pre>\n<p>I am getting the following error now which is landing me in confusion.</p>\n<pre><code>java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class com.mst.indexes.hibernateEntities.VendorPrioritizedData ([Ljava.lang.Object; is in module java.base of loader 'bootstrap'; com.mst.indexes.hibernateEntities.VendorPrioritizedData is in unnamed module of loader 'app')\n</code></pre>\n<p>I am getting this error on line 'for (VendorPrioritizedData tosStartDate : fsFFDB) {'</p>\n"},{"tags":["java","spring-boot","mockito","integration-testing","junit5"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1685193282,"post_id":76347086,"comment_id":134629133,"body_markdown":"You need to post the code for OkResponseDto","body":"You need to post the code for OkResponseDto"},{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1685193360,"post_id":76347086,"comment_id":134629146,"body_markdown":"Also if you call the endpoint manually is it actually returning a 201?","body":"Also if you call the endpoint manually is it actually returning a 201?"},{"owner":{"account_id":28691686,"reputation":1,"user_id":21970785,"display_name":"NetGamer"},"score":1,"creation_date":1685193937,"post_id":76347086,"comment_id":134629209,"body_markdown":"@possum I have edited the post and added the OkResponseDto","body":"@possum I have edited the post and added the OkResponseDto"},{"owner":{"account_id":28691686,"reputation":1,"user_id":21970785,"display_name":"NetGamer"},"score":1,"creation_date":1685193959,"post_id":76347086,"comment_id":134629212,"body_markdown":"Yes, In postman Im getting 201 back as a response","body":"Yes, In postman Im getting 201 back as a response"}],"answers":[{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685194293,"creation_date":1685194293,"answer_id":76347178,"question_id":76347086,"body_markdown":"\r\n\r\n    @MockBean\r\n    private PostController postController;\r\n\r\nTry to `@Autowire` PostController instead of mocking it.\r\n\r\nYou&#39;re using a mocked version of PostController and then not assigning any behavior to it. The rest controller framework is going to call the mock bean&#39;s post() method which will just return null. The code in the real PostController which returns a CREATED response won&#39;t run.","title":"Integration test fails - getting 200 status code instead of 201 (Spring Boot, Java, Junit, Mockito)","body":"<pre><code>@MockBean\nprivate PostController postController;\n</code></pre>\n<p>Try to <code>@Autowire</code> PostController instead of mocking it.</p>\n<p>You're using a mocked version of PostController and then not assigning any behavior to it. The rest controller framework is going to call the mock bean's post() method which will just return null. The code in the real PostController which returns a CREATED response won't run.</p>\n"},{"tags":[],"owner":{"account_id":28691686,"reputation":1,"user_id":21970785,"display_name":"NetGamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685195559,"creation_date":1685195559,"answer_id":76347257,"question_id":76347086,"body_markdown":"Thanks to @Kenster I was able to make it work. His answer was right and then I only needed to add this line of code to make it work. `Mockito.when(userRepository.getReferenceById(Mockito.any())).thenReturn(user);`\r\n\r\nThank you, otherwise I would be still bumping my head into the wall :)","title":"Integration test fails - getting 200 status code instead of 201 (Spring Boot, Java, Junit, Mockito)","body":"<p>Thanks to @Kenster I was able to make it work. His answer was right and then I only needed to add this line of code to make it work. <code>Mockito.when(userRepository.getReferenceById(Mockito.any())).thenReturn(user);</code></p>\n<p>Thank you, otherwise I would be still bumping my head into the wall :)</p>\n"}],"owner":{"account_id":28691686,"reputation":1,"user_id":21970785,"display_name":"NetGamer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685195559,"creation_date":1685192928,"question_id":76347086,"body_markdown":"I&#39;m trying to test my **Controller** (with Junit and Mockito) in Java, but I&#39;m not exactly sure what&#39;s going on and I need some help because Im getting stuck for quite some time right now.\r\n\r\n**The problem:**\r\nMy test fails because **I&#39;m expecting 201 status code** (which I&#39;m also correctly getting when using this endpoint in postman) but the MockMvc response **returns 200 status code.**\r\n\r\n\r\nSo here is the **Controller** I&#39;m trying to test:\r\n\r\n\r\n```\r\npackage com.example.redditclone.posts.controllers;\r\n\r\nimport com.example.redditclone.dtos.*;\r\nimport com.example.redditclone.posts.models.Post;\r\nimport com.example.redditclone.posts.repositories.PostRepository;\r\nimport com.example.redditclone.posts.services.PostService;\r\nimport com.example.redditclone.posts.services.PostValidator;\r\nimport com.example.redditclone.users.models.User;\r\nimport com.example.redditclone.users.repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/posts&quot;)\r\npublic class PostController {\r\n    private PostValidator postValidator;\r\n    private PostService postService;\r\n    private PostRepository postRepository;\r\n    private UserRepository userRepository;\r\n    \r\n    @Autowired\r\n    public PostController(PostValidator postValidator, PostService postService, PostRepository postRepository, UserRepository userRepository) {\r\n        this.postValidator = postValidator;\r\n        this.postService = postService;\r\n        this.postRepository = postRepository;\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @GetMapping(&quot;get&quot;)\r\n    public ResponseEntity&lt;List&lt;Post&gt;&gt; getAllPosts() {\r\n        List&lt;Post&gt; storedPosts = postRepository.findAll();\r\n        storedPosts.sort(Comparator.comparing(Post::getReputation, Collections.reverseOrder()));\r\n\r\n        return ResponseEntity.ok(storedPosts);\r\n    }\r\n\r\n    @PostMapping(&quot;add&quot;)\r\n    public ResponseEntity&lt;ResponseDto&gt; post(@RequestBody PostDto postDto) {\r\n        User owner = userRepository.getReferenceById(postDto.getUserId());\r\n\r\n        Post newPost = new Post(\r\n                postDto.getTitle(),\r\n                postDto.getContent(),\r\n                owner.getUsername());\r\n        try {\r\n            postValidator.postThePost(newPost);\r\n        } catch (ResponseStatusException e) {\r\n            return ResponseEntity.status(e.getStatusCode()).body(new ErrorResponseDto(e.getReason()));\r\n        }\r\n        return new ResponseEntity&lt;&gt;(new OkResponseDto(201, &quot;Post was successfully added&quot;), HttpStatus.CREATED);\r\n    }\r\n    // other endpoints\r\n}\r\n```\r\n\r\nHere is **PostValidator** used in Controller:\r\n\r\n```\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Service\r\npublic class PostValidatorImp implements PostValidator{\r\n\r\n    private PostRepository postRepository;\r\n\r\n    @Autowired\r\n    public PostValidatorImp(PostRepository postRepository) {\r\n        this.postRepository = postRepository;\r\n    }\r\n\r\n    @Override\r\n    public boolean validateTitle(Post post) {\r\n        if (post.getTitle().length() &lt; 8) {\r\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;The title must be at least 8 characters long&quot;);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean validateContent(Post post) {\r\n        if (post.getContent().length() &lt; 8) {\r\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;The content must be at least 8 characters long&quot;);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean postThePost(Post post) {\r\n        boolean isTitleValid = validateTitle(post);\r\n        boolean isContentValid = validateContent(post);\r\n        if (isTitleValid &amp;&amp; isContentValid) {\r\n            Post newPost = new Post(post.getTitle(), post.getContent(), post.getOwner());\r\n            postRepository.save(newPost);\r\n            return true;\r\n        } else {\r\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Unknown error&quot;);\r\n        }\r\n    }\r\n\r\n    //other methods\r\n}\r\n```\r\n\r\nThis is the **test file**: \r\n```\r\npackage com.example.redditclone.posts.controllers;\r\n\r\nimport com.example.redditclone.dtos.PostDto;\r\nimport com.example.redditclone.posts.repositories.PostRepository;\r\nimport com.example.redditclone.posts.services.PostService;\r\nimport com.example.redditclone.posts.services.PostValidator;\r\nimport com.example.redditclone.users.repositories.UserRepository;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n\r\nimport static org.hamcrest.Matchers.is;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\r\n\r\n@WebMvcTest(controllers = PostController.class)\r\n@AutoConfigureMockMvc(addFilters = false)\r\n@ExtendWith(MockitoExtension.class)\r\nclass PostControllerTest {\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @MockBean\r\n    private PostValidator postValidator;\r\n    @MockBean\r\n    private PostService postService;\r\n    @MockBean\r\n    private PostController postController;\r\n    @MockBean\r\n    private UserRepository userRepository;\r\n    @MockBean\r\n    private PostRepository postRepository;\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @Test\r\n    public void PostController_Returns_Created_When_Adding_Post() throws Exception {\r\n        PostDto postDto = new PostDto(&quot;This is test Title&quot;, &quot;This is the first sentence.&quot;, 1L);\r\n\r\n        Mockito.when(postValidator.postThePost(Mockito.any())).thenReturn(true);\r\n\r\n        mockMvc.perform(MockMvcRequestBuilders\r\n                        .post(&quot;/posts/add&quot;)\r\n                        .content(objectMapper.writeValueAsString(postDto))\r\n                        .contentType(MediaType.APPLICATION_JSON))\r\n\r\n                .andExpect(status().isCreated())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(jsonPath(&quot;$.status&quot;, is(201)))\r\n                .andExpect(jsonPath(&quot;$.message&quot;, is(&quot;Post was successfully added&quot;)));\r\n    }\r\n}\r\n```\r\n\r\nAnd lastly this is the **stack trace** when running the test: \r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /posts/add\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json&quot;, Content-Length:&quot;81&quot;]\r\n             Body = &lt;no character encoding set&gt;\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.example.redditclone.posts.controllers.PostController$MockitoMock$EnMNRmjC\r\n           Method = com.example.redditclone.posts.controllers.PostController$MockitoMock$EnMNRmjC#post(PostDto)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\nStatus expected:&lt;201&gt; but was:&lt;200&gt;\r\nExpected :201\r\nActual   :200\r\n&lt;Click to see difference&gt;\r\n\r\njava.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;200&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\r\n\tat com.example.redditclone.posts.controllers.PostControllerTest.PostController_Returns_Created_When_Adding_Post(PostControllerTest.java:56)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n```\r\n\r\nEdit:\r\nHere is the code for **OkResponseDto**:\r\n```\r\npackage com.example.redditclone.dtos;\r\n\r\npublic class OkResponseDto extends ResponseDto{\r\n    private Integer status;\r\n    private String message;\r\n\r\n    public OkResponseDto() {\r\n    }\r\n\r\n    public OkResponseDto(Integer status, String message) {\r\n        this.status = status;\r\n        this.message = message;\r\n    }\r\n\r\n    public Integer getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n}\r\n```\r\n   \r\nI have other controllers setup **the same way** and also their testing and tests are **passing** as expected. I&#39;m not exactly sure what I&#39;m missing here so I would very much appreciate your help :)\r\n\r\nI tried looking up for other similar topics as always but haven&#39;t found one that would help me solve my problem.","title":"Integration test fails - getting 200 status code instead of 201 (Spring Boot, Java, Junit, Mockito)","body":"<p>I'm trying to test my <strong>Controller</strong> (with Junit and Mockito) in Java, but I'm not exactly sure what's going on and I need some help because Im getting stuck for quite some time right now.</p>\n<p><strong>The problem:</strong>\nMy test fails because <strong>I'm expecting 201 status code</strong> (which I'm also correctly getting when using this endpoint in postman) but the MockMvc response <strong>returns 200 status code.</strong></p>\n<p>So here is the <strong>Controller</strong> I'm trying to test:</p>\n<pre><code>package com.example.redditclone.posts.controllers;\n\nimport com.example.redditclone.dtos.*;\nimport com.example.redditclone.posts.models.Post;\nimport com.example.redditclone.posts.repositories.PostRepository;\nimport com.example.redditclone.posts.services.PostService;\nimport com.example.redditclone.posts.services.PostValidator;\nimport com.example.redditclone.users.models.User;\nimport com.example.redditclone.users.repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/posts&quot;)\npublic class PostController {\n    private PostValidator postValidator;\n    private PostService postService;\n    private PostRepository postRepository;\n    private UserRepository userRepository;\n    \n    @Autowired\n    public PostController(PostValidator postValidator, PostService postService, PostRepository postRepository, UserRepository userRepository) {\n        this.postValidator = postValidator;\n        this.postService = postService;\n        this.postRepository = postRepository;\n        this.userRepository = userRepository;\n    }\n\n    @GetMapping(&quot;get&quot;)\n    public ResponseEntity&lt;List&lt;Post&gt;&gt; getAllPosts() {\n        List&lt;Post&gt; storedPosts = postRepository.findAll();\n        storedPosts.sort(Comparator.comparing(Post::getReputation, Collections.reverseOrder()));\n\n        return ResponseEntity.ok(storedPosts);\n    }\n\n    @PostMapping(&quot;add&quot;)\n    public ResponseEntity&lt;ResponseDto&gt; post(@RequestBody PostDto postDto) {\n        User owner = userRepository.getReferenceById(postDto.getUserId());\n\n        Post newPost = new Post(\n                postDto.getTitle(),\n                postDto.getContent(),\n                owner.getUsername());\n        try {\n            postValidator.postThePost(newPost);\n        } catch (ResponseStatusException e) {\n            return ResponseEntity.status(e.getStatusCode()).body(new ErrorResponseDto(e.getReason()));\n        }\n        return new ResponseEntity&lt;&gt;(new OkResponseDto(201, &quot;Post was successfully added&quot;), HttpStatus.CREATED);\n    }\n    // other endpoints\n}\n</code></pre>\n<p>Here is <strong>PostValidator</strong> used in Controller:</p>\n<pre><code>import org.springframework.web.server.ResponseStatusException;\n\nimport java.time.LocalDateTime;\n\n@Service\npublic class PostValidatorImp implements PostValidator{\n\n    private PostRepository postRepository;\n\n    @Autowired\n    public PostValidatorImp(PostRepository postRepository) {\n        this.postRepository = postRepository;\n    }\n\n    @Override\n    public boolean validateTitle(Post post) {\n        if (post.getTitle().length() &lt; 8) {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;The title must be at least 8 characters long&quot;);\n        }\n        return true;\n    }\n\n    @Override\n    public boolean validateContent(Post post) {\n        if (post.getContent().length() &lt; 8) {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;The content must be at least 8 characters long&quot;);\n        }\n        return true;\n    }\n\n    @Override\n    public boolean postThePost(Post post) {\n        boolean isTitleValid = validateTitle(post);\n        boolean isContentValid = validateContent(post);\n        if (isTitleValid &amp;&amp; isContentValid) {\n            Post newPost = new Post(post.getTitle(), post.getContent(), post.getOwner());\n            postRepository.save(newPost);\n            return true;\n        } else {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Unknown error&quot;);\n        }\n    }\n\n    //other methods\n}\n</code></pre>\n<p>This is the <strong>test file</strong>:</p>\n<pre><code>package com.example.redditclone.posts.controllers;\n\nimport com.example.redditclone.dtos.PostDto;\nimport com.example.redditclone.posts.repositories.PostRepository;\nimport com.example.redditclone.posts.services.PostService;\nimport com.example.redditclone.posts.services.PostValidator;\nimport com.example.redditclone.users.repositories.UserRepository;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mockito;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\n\nimport static org.hamcrest.Matchers.is;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\n\n@WebMvcTest(controllers = PostController.class)\n@AutoConfigureMockMvc(addFilters = false)\n@ExtendWith(MockitoExtension.class)\nclass PostControllerTest {\n    @Autowired\n    private MockMvc mockMvc;\n    @MockBean\n    private PostValidator postValidator;\n    @MockBean\n    private PostService postService;\n    @MockBean\n    private PostController postController;\n    @MockBean\n    private UserRepository userRepository;\n    @MockBean\n    private PostRepository postRepository;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Test\n    public void PostController_Returns_Created_When_Adding_Post() throws Exception {\n        PostDto postDto = new PostDto(&quot;This is test Title&quot;, &quot;This is the first sentence.&quot;, 1L);\n\n        Mockito.when(postValidator.postThePost(Mockito.any())).thenReturn(true);\n\n        mockMvc.perform(MockMvcRequestBuilders\n                        .post(&quot;/posts/add&quot;)\n                        .content(objectMapper.writeValueAsString(postDto))\n                        .contentType(MediaType.APPLICATION_JSON))\n\n                .andExpect(status().isCreated())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n                .andExpect(jsonPath(&quot;$.status&quot;, is(201)))\n                .andExpect(jsonPath(&quot;$.message&quot;, is(&quot;Post was successfully added&quot;)));\n    }\n}\n</code></pre>\n<p>And lastly this is the <strong>stack trace</strong> when running the test:</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /posts/add\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json&quot;, Content-Length:&quot;81&quot;]\n             Body = &lt;no character encoding set&gt;\n    Session Attrs = {}\n\nHandler:\n             Type = com.example.redditclone.posts.controllers.PostController$MockitoMock$EnMNRmjC\n           Method = com.example.redditclone.posts.controllers.PostController$MockitoMock$EnMNRmjC#post(PostDto)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\nStatus expected:&lt;201&gt; but was:&lt;200&gt;\nExpected :201\nActual   :200\n&lt;Click to see difference&gt;\n\njava.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;200&gt;\n    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\n    at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\n    at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)\n    at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\n    at com.example.redditclone.posts.controllers.PostControllerTest.PostController_Returns_Created_When_Adding_Post(PostControllerTest.java:56)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n<p>Edit:\nHere is the code for <strong>OkResponseDto</strong>:</p>\n<pre><code>package com.example.redditclone.dtos;\n\npublic class OkResponseDto extends ResponseDto{\n    private Integer status;\n    private String message;\n\n    public OkResponseDto() {\n    }\n\n    public OkResponseDto(Integer status, String message) {\n        this.status = status;\n        this.message = message;\n    }\n\n    public Integer getStatus() {\n        return status;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n<p>I have other controllers setup <strong>the same way</strong> and also their testing and tests are <strong>passing</strong> as expected. I'm not exactly sure what I'm missing here so I would very much appreciate your help :)</p>\n<p>I tried looking up for other similar topics as always but haven't found one that would help me solve my problem.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3009896,"reputation":1246,"user_id":2553639,"display_name":"drembert"},"score":1,"creation_date":1409429458,"post_id":25585601,"comment_id":39963567,"body_markdown":"What version of Java are you using? This can make a difference when using a byte code manipulation library like ASM.","body":"What version of Java are you using? This can make a difference when using a byte code manipulation library like ASM."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1409430503,"post_id":25585601,"comment_id":39963780,"body_markdown":"Spring version? They&#39;re shading some of the bytecode manipulation now.","body":"Spring version? They&#39;re shading some of the bytecode manipulation now."},{"owner":{"account_id":3494182,"reputation":505,"user_id":2922970,"accept_rate":90,"display_name":"Kurtiss"},"score":0,"creation_date":1409438348,"post_id":25585601,"comment_id":39965400,"body_markdown":"@drembert JavaSE-1.7","body":"@drembert JavaSE-1.7"},{"owner":{"account_id":3494182,"reputation":505,"user_id":2922970,"accept_rate":90,"display_name":"Kurtiss"},"score":0,"creation_date":1409469529,"post_id":25585601,"comment_id":39969977,"body_markdown":"@chrylis sorry that was the Spring Tool Suite version, the IDE I am using in order to use Spring. The Spring version is 4.0.2.","body":"@chrylis sorry that was the Spring Tool Suite version, the IDE I am using in order to use Spring. The Spring version is 4.0.2."}],"answers":[{"tags":[],"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409438157,"creation_date":1409438157,"answer_id":25587320,"question_id":25585601,"body_markdown":"So, i would say the &quot;other&quot; you mentioned, has an different problem.&lt;br&gt;\r\nEven when the &quot;Last-Shown-Exception&quot; is the same as yours.&lt;br&gt;\r\nBut as you can see in your stacktrace, the &quot;source&quot; is a **SecurityException**.&lt;br&gt;\r\n\r\nThe \\*Cannot load configuration class\\*-Error is a aftereffect\r\n\r\nI assume there is something wrong with the &quot;code signation&quot; in your project&lt;br&gt;\r\nor, due to ByteCode-Manipulation, the signation is broken.\r\n\r\n**PS**:&lt;br&gt;\r\nSometimes this also can happen, when you reference &quot;SignedLibs&quot; **and** &quot;UnsignedLibs&quot; in your project.&lt;br&gt;\r\nin this case remove the signation from the signed libs.","title":"Cannot load configuration class","body":"<p>So, i would say the \"other\" you mentioned, has an different problem.<br>\nEven when the \"Last-Shown-Exception\" is the same as yours.<br>\nBut as you can see in your stacktrace, the \"source\" is a <strong>SecurityException</strong>.<br></p>\n\n<p>The *Cannot load configuration class*-Error is a aftereffect</p>\n\n<p>I assume there is something wrong with the \"code signation\" in your project<br>\nor, due to ByteCode-Manipulation, the signation is broken.</p>\n\n<p><strong>PS</strong>:<br>\nSometimes this also can happen, when you reference \"SignedLibs\" <strong>and</strong> \"UnsignedLibs\" in your project.<br>\nin this case remove the signation from the signed libs.</p>\n"},{"tags":[],"owner":{"account_id":4785512,"reputation":31,"user_id":3866141,"display_name":"User"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561390063,"creation_date":1561390063,"answer_id":56739757,"question_id":25585601,"body_markdown":" All jars required for this project to run: &lt;br/&gt;\r\n    1) org.springframework.core-3.0.1.RELEASE-A.jar &lt;br/&gt;\r\n    2) spring-context-3.0.4.RELEASE.jar &lt;br/&gt;\r\n    3) org.springframework.beans-3.0.1.RELEASE-A.jar &lt;br/&gt;\r\n    4) commons-logging-1.1.1.jar &lt;br/&gt;\r\n    5) asm-3.3.1.jar &lt;br/&gt;\r\n    6) cglib-2.2.2.jar &lt;br/&gt;\r\n  \r\n  \r\n  To get these jars,either add the downloaded jars to your project directly, or provide the following dependencies in the pom.xml to get them automatically downloaded for you.\r\n    \r\n        &lt;dependencies&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.1.RELEASE&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.1.RELEASE&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n Add this to your maven settings.xml file if not already present:\r\n    \r\n        &lt;profiles&gt;\r\n        \t&lt;profile&gt;\r\n        \t\t&lt;id&gt;SPRINGLEARN&lt;/id&gt;\r\n        \t\t&lt;activation&gt;\r\n        \t\t\t&lt;jdk&gt;1.8&lt;/jdk&gt;\r\n        \t\t&lt;/activation&gt;\r\n        \t\t&lt;repositories&gt;\r\n        \t\t\t&lt;repository&gt;\r\n        \t\t\t\t&lt;id&gt;thirdPartyRepo&lt;/id&gt;\r\n        \t\t\t\t&lt;name&gt;Third party repository&lt;/name&gt;\r\n        \t\t\t\t&lt;url&gt;https://repo.spring.io/libs-release/&lt;/url&gt;\r\n        \t\t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n        \t\t\t\t&lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;\r\n        \t\t\t&lt;/repository&gt;\r\n        \t\t&lt;/repositories&gt;\r\n        \t\t&lt;pluginRepositories&gt;\r\n        \t\t\t&lt;pluginRepository&gt;\r\n        \t\t\t\t&lt;id&gt;thirdPartyPluginRepo&lt;/id&gt;\r\n        \t\t\t\t&lt;name&gt;Third party plugin repository&lt;/name&gt;\r\n        \t\t\t\t&lt;url&gt;https://repo.spring.io/libs-release/&lt;/url&gt;\r\n        \t\t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n        \t\t\t\t&lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;\r\n        \t\t\t&lt;/pluginRepository&gt;\r\n        \t\t&lt;/pluginRepositories&gt;\r\n        \t&lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\nAfter this, just run your project.&lt;br/&gt;\r\n-Right click on your project -&gt; Run as -&gt; Maven clean &lt;br/&gt;\r\n-Right click on your project -&gt; Run as -&gt; Maven install &lt;br/&gt;\r\n-Right click on your project -&gt; Run as -&gt; Java application &lt;br/&gt; \r\n\r\n","title":"Cannot load configuration class","body":"<p>All jars required for this project to run: <br/>\n    1) org.springframework.core-3.0.1.RELEASE-A.jar <br/>\n    2) spring-context-3.0.4.RELEASE.jar <br/>\n    3) org.springframework.beans-3.0.1.RELEASE-A.jar <br/>\n    4) commons-logging-1.1.1.jar <br/>\n    5) asm-3.3.1.jar <br/>\n    6) cglib-2.2.2.jar <br/></p>\n\n<p>To get these jars,either add the downloaded jars to your project directly, or provide the following dependencies in the pom.xml to get them automatically downloaded for you.</p>\n\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>Add this to your maven settings.xml file if not already present:</p>\n\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;SPRINGLEARN&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;jdk&gt;1.8&lt;/jdk&gt;\n            &lt;/activation&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;thirdPartyRepo&lt;/id&gt;\n                    &lt;name&gt;Third party repository&lt;/name&gt;\n                    &lt;url&gt;https://repo.spring.io/libs-release/&lt;/url&gt;\n                    &lt;layout&gt;default&lt;/layout&gt;\n                    &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n            &lt;pluginRepositories&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;thirdPartyPluginRepo&lt;/id&gt;\n                    &lt;name&gt;Third party plugin repository&lt;/name&gt;\n                    &lt;url&gt;https://repo.spring.io/libs-release/&lt;/url&gt;\n                    &lt;layout&gt;default&lt;/layout&gt;\n                    &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;\n                &lt;/pluginRepository&gt;\n            &lt;/pluginRepositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n\n<p>After this, just run your project.<br/>\n-Right click on your project -> Run as -> Maven clean <br/>\n-Right click on your project -> Run as -> Maven install <br/>\n-Right click on your project -> Run as -> Java application <br/> </p>\n"},{"tags":[],"owner":{"account_id":16834674,"reputation":41,"user_id":12171691,"display_name":"kings royal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1649241746,"creation_date":1649241746,"answer_id":71765299,"question_id":25585601,"body_markdown":"    This problem occurred due to spring dependency problem, I too used below dependency facing same issue, the configuration classes didn&#39;t loaded\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    Try below one: for me it is working \r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n        ","title":"Cannot load configuration class","body":"<pre><code>This problem occurred due to spring dependency problem, I too used below dependency facing same issue, the configuration classes didn't loaded\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\nTry below one: for me it is working \n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;5.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n    \n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3645558,"reputation":198,"user_id":3038660,"display_name":"Mahesh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1649284486,"creation_date":1649284486,"answer_id":71774342,"question_id":25585601,"body_markdown":"I had the same problem and realized the JRE version I have in the POM.xml or the default one associated with the project was not set in the class path. So updated the same under Preferences -&gt; Installed JREs and ran the application it worked.","title":"Cannot load configuration class","body":"<p>I had the same problem and realized the JRE version I have in the POM.xml or the default one associated with the project was not set in the class path. So updated the same under Preferences -&gt; Installed JREs and ran the application it worked.</p>\n"},{"tags":[],"owner":{"account_id":19075845,"reputation":61,"user_id":13929153,"display_name":"Hritik manbattulwar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1657940234,"creation_date":1657940234,"answer_id":73001218,"question_id":25585601,"body_markdown":"Gone through this problem yesterday and\r\nHere is the solution.\r\n\r\n 1. Open Eclipse\r\n 2. Open window in menu bar -&gt; preferences -&gt; java -&gt;installed jre\r\n 3. add new jre which is installed in system(c:program_files-&gt;java-&gt;jre-&gt;bin) add it.\r\n 4.  Select the new added jre and BOOOM &#128293;&#128293;\r\n\r\n\r\n","title":"Cannot load configuration class","body":"<p>Gone through this problem yesterday and\nHere is the solution.</p>\n<ol>\n<li>Open Eclipse</li>\n<li>Open window in menu bar -&gt; preferences -&gt; java -&gt;installed jre</li>\n<li>add new jre which is installed in system(c:program_files-&gt;java-&gt;jre-&gt;bin) add it.</li>\n<li>Select the new added jre and BOOOM 🔥🔥</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16748683,"reputation":1,"user_id":12106260,"display_name":"PRAVIN G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667890091,"creation_date":1667890091,"answer_id":74356641,"question_id":25585601,"body_markdown":"I too faced this issue.\r\nUse the latest version of spring. works in versions of 5.","title":"Cannot load configuration class","body":"<p>I too faced this issue.\nUse the latest version of spring. works in versions of 5.</p>\n"},{"tags":[],"owner":{"account_id":27499957,"reputation":1,"user_id":20983876,"display_name":"ZNguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673448359,"creation_date":1673448359,"answer_id":75084848,"question_id":25585601,"body_markdown":"Check out the POM.xml for suitable dependencies\r\n[enter image description here][1]\r\nand also JRE as well... it will work with java 1.7\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4WTVc.png","title":"Cannot load configuration class","body":"<p>Check out the POM.xml for suitable dependencies\n<a href=\"https://i.stack.imgur.com/4WTVc.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nand also JRE as well... it will work with java 1.7</p>\n"},{"tags":[],"owner":{"account_id":28685814,"reputation":11,"user_id":21966124,"display_name":"pujitha chiguluri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685194582,"creation_date":1685104062,"answer_id":76340823,"question_id":25585601,"body_markdown":"I too encountered the same problem. I tried working with different versions.\r\nBut same error occured when I used versions below 5.1.0.RELEASE...\r\nBut It is working fine for all the versions from 5.1.0.RELEASE\r\n\r\nSample code:\r\n   \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Cannot load configuration class","body":"<p>I too encountered the same problem. I tried working with different versions.\nBut same error occured when I used versions below 5.1.0.RELEASE...\nBut It is working fine for all the versions from 5.1.0.RELEASE</p>\n<p>Sample code:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3494182,"reputation":505,"user_id":2922970,"accept_rate":90,"display_name":"Kurtiss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86582,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":8,"score":12,"last_activity_date":1685194582,"creation_date":1409423731,"question_id":25585601,"body_markdown":"I am following [this](http://www.tutorialspoint.com/spring/spring_java_based_configuration.htm) tutorial about how to use Spring and based on the provided example, I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Cannot load configuration class: com.tutorialspoint.HelloWorldConfig\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:378)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:263)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:265)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:126)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:609)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n    \tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\r\n    \tat com.tutorialspoint.MainApp.main(MainApp.java:9)\r\n    Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:237)\r\n    \tat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:377)\r\n    \tat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:317)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:128)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:100)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:368)\r\n    \t... 7 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:384)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:219)\r\n    \t... 12 more\r\n    Caused by: java.lang.SecurityException: class &quot;com.tutorialspoint.HelloWorldConfig$$EnhancerBySpringCGLIB$$b5aece24&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n    \tat java.lang.ClassLoader.checkCerts(ClassLoader.java:952)\r\n    \tat java.lang.ClassLoader.preDefineClass(ClassLoader.java:666)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:794)\r\n    \t... 18 more\r\n\r\nI have researched my problem and have found [this](https://stackoverflow.com/questions/11681188/spring-3-1-java-based-configuration-illegalstateexception); someone also has had the same problem as me, and it has something to do with ensuring that ASM is compatible with CGLIB. However I have tried this solution and it has  not worked, I even went as far as using the exact same versions as the one provided (GBLIB 2.2.2 and ASM 3.3.1).\r\n\r\nWhat do I need to do in order to correct this?\r\n___\r\nFor simplicity, here are the files which I am using that were extracted from the provided tutorial.\r\n\r\nHelloWorldConfig.java\r\n\r\n    package com.tutorialspoint;\r\n    import org.springframework.context.annotation.*;\r\n    \r\n    @Configuration\r\n    public class HelloWorldConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic HelloWorld helloWorld() {\r\n    \t\treturn new HelloWorld();\r\n    \t}\r\n    }\r\n\r\nHelloWorld.java\r\n\r\n    package com.tutorialspoint;\r\n    \r\n    public class HelloWorld {\r\n    \tprivate String message;\r\n    \r\n    \tpublic void setMessage(String message) {\r\n    \t\tthis.message = message;\r\n    \t}\r\n    \r\n    \tpublic void getMessage() {\r\n    \t\tSystem.out.println(&quot;Your Message : &quot; + message);\r\n    \t}\r\n    }\r\n\r\nMainApp.java\r\n\r\n    package com.tutorialspoint;\r\n    \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.*;\r\n    \r\n    public class MainApp {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t@SuppressWarnings(&quot;resource&quot;)\r\n    \t\tApplicationContext ctx = new AnnotationConfigApplicationContext(\r\n    \t\t\t\tHelloWorldConfig.class);\r\n    \r\n    \t\tHelloWorld helloWorld = ctx.getBean(HelloWorld.class);\r\n    \r\n    \t\thelloWorld.setMessage(&quot;Hello World!&quot;);\r\n    \t\thelloWorld.getMessage();\r\n    \t}\r\n    }\r\n\r\nAlso by saying &#39;However I have tried this solution and it has  not worked&#39; I mean that the exact same error is returned.","title":"Cannot load configuration class","body":"<p>I am following <a href=\"http://www.tutorialspoint.com/spring/spring_java_based_configuration.htm\" rel=\"noreferrer\">this</a> tutorial about how to use Spring and based on the provided example, I get the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: Cannot load configuration class: com.tutorialspoint.HelloWorldConfig\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:378)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:263)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:265)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:126)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:609)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\n    at com.tutorialspoint.MainApp.main(MainApp.java:9)\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:237)\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:377)\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:317)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:128)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:100)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:368)\n    ... 7 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:384)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:219)\n    ... 12 more\nCaused by: java.lang.SecurityException: class \"com.tutorialspoint.HelloWorldConfig$$EnhancerBySpringCGLIB$$b5aece24\"'s signer information does not match signer information of other classes in the same package\n    at java.lang.ClassLoader.checkCerts(ClassLoader.java:952)\n    at java.lang.ClassLoader.preDefineClass(ClassLoader.java:666)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:794)\n    ... 18 more\n</code></pre>\n\n<p>I have researched my problem and have found <a href=\"https://stackoverflow.com/questions/11681188/spring-3-1-java-based-configuration-illegalstateexception\">this</a>; someone also has had the same problem as me, and it has something to do with ensuring that ASM is compatible with CGLIB. However I have tried this solution and it has  not worked, I even went as far as using the exact same versions as the one provided (GBLIB 2.2.2 and ASM 3.3.1).</p>\n\n<p>What do I need to do in order to correct this?</p>\n\n<hr>\n\n<p>For simplicity, here are the files which I am using that were extracted from the provided tutorial.</p>\n\n<p>HelloWorldConfig.java</p>\n\n<pre><code>package com.tutorialspoint;\nimport org.springframework.context.annotation.*;\n\n@Configuration\npublic class HelloWorldConfig {\n\n    @Bean\n    public HelloWorld helloWorld() {\n        return new HelloWorld();\n    }\n}\n</code></pre>\n\n<p>HelloWorld.java</p>\n\n<pre><code>package com.tutorialspoint;\n\npublic class HelloWorld {\n    private String message;\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public void getMessage() {\n        System.out.println(\"Your Message : \" + message);\n    }\n}\n</code></pre>\n\n<p>MainApp.java</p>\n\n<pre><code>package com.tutorialspoint;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.*;\n\npublic class MainApp {\n    public static void main(String[] args) {\n        @SuppressWarnings(\"resource\")\n        ApplicationContext ctx = new AnnotationConfigApplicationContext(\n                HelloWorldConfig.class);\n\n        HelloWorld helloWorld = ctx.getBean(HelloWorld.class);\n\n        helloWorld.setMessage(\"Hello World!\");\n        helloWorld.getMessage();\n    }\n}\n</code></pre>\n\n<p>Also by saying 'However I have tried this solution and it has  not worked' I mean that the exact same error is returned.</p>\n"},{"tags":["java","android","android-manifest"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685193561,"creation_date":1685193561,"answer_id":76347128,"question_id":76346510,"body_markdown":"`allowBackup` is an entry in the app&#39;s `AndroidManifest.xml`. This file is part of the APK and can not be changed after the app APK has ben built.\r\n\r\nThere is only the option I see would be to create two flavors, one with `allowBackup=true` and the other with `allowBackup=false`.\r\n\r\nNote that is your app has a `targetSdk` of 31 or higher it doesn&#39;t matter if your set `allowBackup` to true or false, `adb backup` will ignore the app because [Google changed the adb backup behavior in Android 12][1]. So it only affects online backup.\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/12/behavior-changes-12#adb-backup-restrictions","title":"How can I dynamically toggle the allowBackup attribute from an Activity in Android?","body":"<p><code>allowBackup</code> is an entry in the app's <code>AndroidManifest.xml</code>. This file is part of the APK and can not be changed after the app APK has ben built.</p>\n<p>There is only the option I see would be to create two flavors, one with <code>allowBackup=true</code> and the other with <code>allowBackup=false</code>.</p>\n<p>Note that is your app has a <code>targetSdk</code> of 31 or higher it doesn't matter if your set <code>allowBackup</code> to true or false, <code>adb backup</code> will ignore the app because <a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#adb-backup-restrictions\" rel=\"nofollow noreferrer\">Google changed the adb backup behavior in Android 12</a>. So it only affects online backup.</p>\n"}],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685193561,"creation_date":1685184286,"question_id":76346510,"body_markdown":"How to dynamically change allowbackup to true or false from the Activity class.\r\n\r\nI know we can change it from manifest but I want to provide my user a toggle button so he decides weather or not he wants to allow the back or not.","title":"How can I dynamically toggle the allowBackup attribute from an Activity in Android?","body":"<p>How to dynamically change allowbackup to true or false from the Activity class.</p>\n<p>I know we can change it from manifest but I want to provide my user a toggle button so he decides weather or not he wants to allow the back or not.</p>\n"},{"tags":["java","selenium-webdriver","svg","xpath","selenium-chromedriver"],"comments":[{"owner":{"account_id":1029387,"reputation":119820,"user_id":1038015,"display_name":"Robert Longson"},"score":1,"creation_date":1685218287,"post_id":76347025,"comment_id":134631984,"body_markdown":"Only HTML elements have a click method.","body":"Only HTML elements have a click method."}],"owner":{"account_id":6783365,"reputation":5546,"user_id":5222902,"accept_rate":100,"display_name":"AVI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685192835,"creation_date":1685192186,"question_id":76347025,"body_markdown":"Im trying to click a specific state in this svg map.\r\nhttps://petdiseasealerts.org/forecast-map#/\r\n\r\n\r\nBut even when i give the correct xpath, it still says \r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: (//*[local-name()=&#39;svg&#39;])[5]/*[@id=&#39;features&#39;]/*[@id=&#39;regions&#39;]/*[@id=&#39;alabama&#39;] (tried for 10 second(s) with 500 milliseconds interval)\r\n\r\n\r\nWhat will be the solution for this\r\n\r\nThis is my code.\r\n\r\n    package org.example;\r\n    \r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    import java.time.Duration;\r\n    \r\n    \r\n    /**\r\n     * Hello world!\r\n     *\r\n     */\r\n    public class App \r\n    {\r\n    \r\n        public static void main( String[] args ) throws InterruptedException {\r\n    \r\n            String state =&quot;alabama&quot;;\r\n    \r\n            String stateElement = &quot;(//*[local-name()=&#39;svg&#39;])[5]/*[@id=&#39;features&#39;]/*[@id=&#39;regions&#39;]/*[@id=&#39;&quot;+state+&quot;&#39;]&quot;;\r\n    \r\n    \r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n            chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n            System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n            WebDriverManager.chromedriver().setup();\r\n            WebDriver driver = new ChromeDriver(chromeOptions);\r\n            driver.get(&quot;https://petdiseasealerts.org/forecast-map#/&quot;);\r\n            driver.manage().window().maximize();\r\n    \r\n            new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(stateElement))).click();\r\n    \r\n            driver.quit();\r\n    \r\n            System.out.println( &quot;End&quot; );\r\n        }\r\n    }\r\n\r\n","title":"Clicking a SVG element in Selenium","body":"<p>Im trying to click a specific state in this svg map.\n<a href=\"https://petdiseasealerts.org/forecast-map#/\" rel=\"nofollow noreferrer\">https://petdiseasealerts.org/forecast-map#/</a></p>\n<p>But even when i give the correct xpath, it still says</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: (//*[local-name()='svg'])[5]/*[@id='features']/*[@id='regions']/*[@id='alabama'] (tried for 10 second(s) with 500 milliseconds interval)\n</code></pre>\n<p>What will be the solution for this</p>\n<p>This is my code.</p>\n<pre><code>package org.example;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\n\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport java.time.Duration;\n\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n\n    public static void main( String[] args ) throws InterruptedException {\n\n        String state =&quot;alabama&quot;;\n\n        String stateElement = &quot;(//*[local-name()='svg'])[5]/*[@id='features']/*[@id='regions']/*[@id='&quot;+state+&quot;']&quot;;\n\n\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n        System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n        WebDriverManager.chromedriver().setup();\n        WebDriver driver = new ChromeDriver(chromeOptions);\n        driver.get(&quot;https://petdiseasealerts.org/forecast-map#/&quot;);\n        driver.manage().window().maximize();\n\n        new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(stateElement))).click();\n\n        driver.quit();\n\n        System.out.println( &quot;End&quot; );\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","android-recyclerview","onscrolllistener"],"answers":[{"tags":[],"owner":{"account_id":1374590,"reputation":3325,"user_id":1308850,"accept_rate":37,"display_name":"FractalBob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685191607,"creation_date":1685191607,"answer_id":76346994,"question_id":76324141,"body_markdown":"It turned out I had code TWO onScrollListeners: one in onCreate() in the activity and the other in a dialog window. The one in the activity was getting called, but I only noticed it when I accidentally tried to scroll the main page. I removed the onScrollListener() in onCreate() and the listener in the dialog window is getting called, as expected.","title":"RecyclerView.addOnScrollListener() not getting called when scrolling down","body":"<p>It turned out I had code TWO onScrollListeners: one in onCreate() in the activity and the other in a dialog window. The one in the activity was getting called, but I only noticed it when I accidentally tried to scroll the main page. I removed the onScrollListener() in onCreate() and the listener in the dialog window is getting called, as expected.</p>\n"}],"owner":{"account_id":1374590,"reputation":3325,"user_id":1308850,"accept_rate":37,"display_name":"FractalBob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76346994,"answer_count":1,"score":0,"last_activity_date":1685191607,"creation_date":1684935352,"question_id":76324141,"body_markdown":"My app uses a RecyclerView to load and display items in a list, 20 at a time. I attached a scroll listener like so:\r\n\r\n            recentItemArrayAdapter = new RecentCommentsAdapter(this, activity, itemList);\r\n            recent_comments_view = findViewById(R.id.recent_comments_view);\r\n            recent_comments_view.setAdapter(recentItemArrayAdapter);\r\n            recent_comments_view.addItemDecoration(new DividerItemDecoration(activity,\r\n                DividerItemDecoration.VERTICAL));\r\n            recent_comments_view.setLayoutManager(new LinearLayoutManager(this));\r\n           // Add the scroll listener to RecyclerView\r\n            recent_comments_view.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n                super.onScrolled(recyclerView, dx, dy);\r\n\r\n                LinearLayoutManager layoutManager = (LinearLayoutManager) recyclerView.getLayoutManager();\r\n\r\n                if (layoutManager != null &amp;&amp; \r\n                    layoutManager.findLastCompletelyVisibleItemPosition() == \r\n                    itemList.size() - 1) {\r\n                    // End of the list is reached, load more data\r\n                    fetchNextBatch(documents.get(documents.size() -1));\r\n                }\r\n            }\r\n        });\r\nWhen I scroll down, I expect the listener to be called, but it doesn&#39;t. FWIW, I&#39;m using Android Studio Flamingo version 2022.2.1 Patch 1 on a Linux laptop.","title":"RecyclerView.addOnScrollListener() not getting called when scrolling down","body":"<p>My app uses a RecyclerView to load and display items in a list, 20 at a time. I attached a scroll listener like so:</p>\n<pre><code>        recentItemArrayAdapter = new RecentCommentsAdapter(this, activity, itemList);\n        recent_comments_view = findViewById(R.id.recent_comments_view);\n        recent_comments_view.setAdapter(recentItemArrayAdapter);\n        recent_comments_view.addItemDecoration(new DividerItemDecoration(activity,\n            DividerItemDecoration.VERTICAL));\n        recent_comments_view.setLayoutManager(new LinearLayoutManager(this));\n       // Add the scroll listener to RecyclerView\n        recent_comments_view.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n\n            LinearLayoutManager layoutManager = (LinearLayoutManager) recyclerView.getLayoutManager();\n\n            if (layoutManager != null &amp;&amp; \n                layoutManager.findLastCompletelyVisibleItemPosition() == \n                itemList.size() - 1) {\n                // End of the list is reached, load more data\n                fetchNextBatch(documents.get(documents.size() -1));\n            }\n        }\n    });\n</code></pre>\n<p>When I scroll down, I expect the listener to be called, but it doesn't. FWIW, I'm using Android Studio Flamingo version 2022.2.1 Patch 1 on a Linux laptop.</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1684565269,"post_id":76293872,"comment_id":134538437,"body_markdown":"Don’t forget to annotate your test class, depending On whether you are using Junit4 or 5 - see : https://stackoverflow.com/a/49655834/681444","body":"Don’t forget to annotate your test class, depending On whether you are using Junit4 or 5 - see : <a href=\"https://stackoverflow.com/a/49655834/681444\">stackoverflow.com/a/49655834/681444</a>"},{"owner":{"account_id":4989265,"reputation":87,"user_id":13970753,"display_name":"raj basilio"},"score":0,"creation_date":1684568523,"post_id":76293872,"comment_id":134538720,"body_markdown":"@racraman I have added `@ExtendWith(MockitoExtension.class)` and also `@BeforeEach\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n    }` still the actual function is getting called.","body":"@racraman I have added <code>@ExtendWith(MockitoExtension.class)</code> and also <code>@BeforeEach     public void setUp() {         MockitoAnnotations.initMocks(this);     }</code> still the actual function is getting called."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1684568798,"post_id":76293872,"comment_id":134538758,"body_markdown":"Are you using JUnit 4 or JUnit 5?  You shouldn&#39;t need to do both of those things, since the MockitoExtension actually calls initMocks.","body":"Are you using JUnit 4 or JUnit 5?  You shouldn&#39;t need to do both of those things, since the MockitoExtension actually calls initMocks."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1684568994,"post_id":76293872,"comment_id":134538787,"body_markdown":"And can you show us the `EncSercice` class?  There might be something about it that stops it from being stubbed, for example, if it&#39;s final.","body":"And can you show us the <code>EncSercice</code> class?  There might be something about it that stops it from being stubbed, for example, if it&#39;s final."},{"owner":{"account_id":4989265,"reputation":87,"user_id":13970753,"display_name":"raj basilio"},"score":0,"creation_date":1684571344,"post_id":76293872,"comment_id":134539006,"body_markdown":"I have updated the question and provided `EncService`.  I use `spring-boot-starter-test`. I think it has `junit 5x`. Spring verion 2.7.8.","body":"I have updated the question and provided <code>EncService</code>.  I use <code>spring-boot-starter-test</code>. I think it has <code>junit 5x</code>. Spring verion 2.7.8."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":1,"creation_date":1684576453,"post_id":76293872,"comment_id":134539458,"body_markdown":"How does this even work? you provide 2 parameters for the method callFn() in test, but this method needs only one","body":"How does this even work? you provide 2 parameters for the method callFn() in test, but this method needs only one"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1684577520,"post_id":76293872,"comment_id":134539561,"body_markdown":"In addition to the above question about parameters, must also ask how `ServiceClass` is calling `EncSercice` - is it calling `callFn` directly, or only via `execute` ?  If the latter, then even if Mockito was set up correctly, then your `when` would never have any effect (since the mock object does not have the actual `execute` code), so you would need to add a`when` for the `execute` call.","body":"In addition to the above question about parameters, must also ask how <code>ServiceClass</code> is calling <code>EncSercice</code> - is it calling <code>callFn</code> directly, or only via <code>execute</code> ?  If the latter, then even if Mockito was set up correctly, then your <code>when</code> would never have any effect (since the mock object does not have the actual <code>execute</code> code), so you would need to add a<code>when</code> for the <code>execute</code> call."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684629065,"post_id":76293872,"comment_id":134545007,"body_markdown":"You still haven&#39;t shown the annotation you are using. Please edit your question with your actual code. Also, please add the code for ServiceClass. And answer the question @Feelfree asked.","body":"You still haven&#39;t shown the annotation you are using. Please edit your question with your actual code. Also, please add the code for ServiceClass. And answer the question @Feelfree asked."},{"owner":{"account_id":4989265,"reputation":87,"user_id":13970753,"display_name":"raj basilio"},"score":0,"creation_date":1684651214,"post_id":76293872,"comment_id":134546139,"body_markdown":"Feelfree, I have edited the question. I had to mask some code. \nFor service code, I&#39;m just using @Service annotation.","body":"Feelfree, I have edited the question. I had to mask some code.  For service code, I&#39;m just using @Service annotation."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1684819147,"post_id":76293872,"comment_id":134568382,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test) You create a `new` instance in your method → the Mockito mock is never used (definitely a dupe)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a> You create a <code>new</code> instance in your method → the Mockito mock is never used (definitely a dupe)"},{"owner":{"account_id":4989265,"reputation":87,"user_id":13970753,"display_name":"raj basilio"},"score":0,"creation_date":1685189692,"post_id":76293872,"comment_id":134628738,"body_markdown":"yes, I was creating `new` instance of EncService. I have used `@Autowired` for `EncService`  on service class, then the test case passed.","body":"yes, I was creating <code>new</code> instance of EncService. I have used <code>@Autowired</code> for <code>EncService</code>  on service class, then the test case passed."}],"answers":[{"tags":[],"owner":{"account_id":7919401,"reputation":61,"user_id":5980871,"display_name":"dontForgetTheJoker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684665687,"creation_date":1684665687,"answer_id":76299463,"question_id":76293872,"body_markdown":"The class being tested, ServiceClass, should have EncsService as a field, so that mockito could inject it as a dependency.\r\n\r\n    public class ServiceClass {\r\n       private EncSercice encService;\r\n       public SeviceClass(EncSercice enc) \r\n       {\r\n          this.encService = enc;\r\n       }\r\n\r\n       public void sendPayload(final ValidRequest  req) {\r\n\r\n        // some code imp...\r\n        String str = encService.call(req, keys);\r\n    \r\n\r\n","title":"Instead of Stubing, Mockito is calling the action method","body":"<p>The class being tested, ServiceClass, should have EncsService as a field, so that mockito could inject it as a dependency.</p>\n<pre><code>public class ServiceClass {\n   private EncSercice encService;\n   public SeviceClass(EncSercice enc) \n   {\n      this.encService = enc;\n   }\n\n   public void sendPayload(final ValidRequest  req) {\n\n    // some code imp...\n    String str = encService.call(req, keys);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4989265,"reputation":87,"user_id":13970753,"display_name":"raj basilio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685190020,"creation_date":1685190020,"answer_id":76346882,"question_id":76293872,"body_markdown":"On my service class I have created object instance with `new` keyword. \r\nInstead of that, When I have used \r\n\r\n    @Autowired\r\n    private EncService encService;\r\n\r\nThen the test case passed.","title":"Instead of Stubing, Mockito is calling the action method","body":"<p>On my service class I have created object instance with <code>new</code> keyword.\nInstead of that, When I have used</p>\n<pre><code>@Autowired\nprivate EncService encService;\n</code></pre>\n<p>Then the test case passed.</p>\n"}],"owner":{"account_id":4989265,"reputation":87,"user_id":13970753,"display_name":"raj basilio"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76346882,"answer_count":2,"score":1,"last_activity_date":1685190020,"creation_date":1684564995,"question_id":76293872,"body_markdown":"Below is my test code. \r\n\r\n    import org.junit.Test;\r\n    import org.mockito.Mockito;\r\n    \r\n    public class classA {\r\n    \r\n        @Mock\r\n        EncSercice encService;\r\n    \r\n        @InjectMocks\r\n        ServiceClass service;\r\n        @BeforeEach\r\n        public void setUp() {\r\n          MockitoAnnotations.initMocks(this);\r\n        }\r\n\r\n    \r\n        @Test\r\n        public void testEncryptRegisterTransactionPayload() {\r\n            \r\n            ValidRequest request = new ValidRequest();\r\n    \r\n            try {\r\n                \r\n                Mockito.when(encService.callFn(Mockito.anyString(), Mockito.any(String[].class)))\r\n                        .thenReturn(&quot;Stubbed encrypted message&quot;);\r\n    \r\n                service.sendPayload(request);\r\n                Mockito.verify(encService).callFn(Mockito.anyString(), Mockito.any(String[].class));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nHere I&#39;m trying to mock/stub the `encService.callFn` method. But when i run it, It&#39;s actually calling method. I can see the logs which I have mentioned in `callFn` method. Even i have tried using `doReturn().when()`, Still it&#39;s calling the actual method. How can I solve this?\r\n\r\nEncService class: \r\n\r\n    \r\n    class EncSercice implements EncSerciceImp {\r\n        public String callFn(final String req, final String[] keys) throws Exception {\r\n        byte[] output = // calling a private method and passing req and keys as args....\r\n        return new String(output);\r\n    }\r\n    }\r\n\r\n    // ServiceClass  code \r\n    public void sendPayload(final ValidRequest  req) {\r\n    \r\n        // some code imp..\r\n        EncSercice encService = new EncSercice();\r\n        String str = encService.callFn(req, keys);\r\n    }\r\n\r\nnote: `callFn` will return a dynamic string.\r\n","title":"Instead of Stubing, Mockito is calling the action method","body":"<p>Below is my test code.</p>\n<pre><code>import org.junit.Test;\nimport org.mockito.Mockito;\n\npublic class classA {\n\n    @Mock\n    EncSercice encService;\n\n    @InjectMocks\n    ServiceClass service;\n    @BeforeEach\n    public void setUp() {\n      MockitoAnnotations.initMocks(this);\n    }\n\n\n    @Test\n    public void testEncryptRegisterTransactionPayload() {\n        \n        ValidRequest request = new ValidRequest();\n\n        try {\n            \n            Mockito.when(encService.callFn(Mockito.anyString(), Mockito.any(String[].class)))\n                    .thenReturn(&quot;Stubbed encrypted message&quot;);\n\n            service.sendPayload(request);\n            Mockito.verify(encService).callFn(Mockito.anyString(), Mockito.any(String[].class));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here I'm trying to mock/stub the <code>encService.callFn</code> method. But when i run it, It's actually calling method. I can see the logs which I have mentioned in <code>callFn</code> method. Even i have tried using <code>doReturn().when()</code>, Still it's calling the actual method. How can I solve this?</p>\n<p>EncService class:</p>\n<pre><code>class EncSercice implements EncSerciceImp {\n    public String callFn(final String req, final String[] keys) throws Exception {\n    byte[] output = // calling a private method and passing req and keys as args....\n    return new String(output);\n}\n}\n\n// ServiceClass  code \npublic void sendPayload(final ValidRequest  req) {\n\n    // some code imp..\n    EncSercice encService = new EncSercice();\n    String str = encService.callFn(req, keys);\n}\n</code></pre>\n<p>note: <code>callFn</code> will return a dynamic string.</p>\n"},{"tags":["java","eclipse","checkstyle"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685189914,"post_id":76346854,"comment_id":134628758,"body_markdown":"I don&#39;t think so. But you could rename your package so it comes last lexically. `zzz.iauko` is legal, valid and perfectly acceptable.","body":"I don&#39;t think so. But you could rename your package so it comes last lexically. <code>zzz.iauko</code> is legal, valid and perfectly acceptable."},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":1,"creation_date":1685190273,"post_id":76346854,"comment_id":134628788,"body_markdown":"You can find all options to control the import rule in the docs: https://checkstyle.org/config_imports.html\n\nI never used it, but it may help you to reach your goal. But I would go with the standard setting because most IDEs come with that. If you want others to join your project, project-specific non-standard formatting rules are never a good choice.","body":"You can find all options to control the import rule in the docs: <a href=\"https://checkstyle.org/config_imports.html\" rel=\"nofollow noreferrer\">checkstyle.org/config_imports.html</a>  I never used it, but it may help you to reach your goal. But I would go with the standard setting because most IDEs come with that. If you want others to join your project, project-specific non-standard formatting rules are never a good choice."}],"owner":{"account_id":13596089,"reputation":2860,"user_id":9808098,"display_name":"vesii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685189523,"creation_date":1685189523,"question_id":76346854,"body_markdown":"I have the following Java import statements:\r\n```\r\nimport java.io.BufferedReader;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.eclipse.core.runtime.jobs.Job;\r\nimport org.eclipse.ui.PlatformUI;\r\n\r\nimport com.iauko.commons.Resources;\r\n```\r\nThe package &quot;com.iauko.commons.Resources&quot; is my local package, part of the Java project, while all other imports are external packages. I would like to organize the imports so that the external packages appear first, followed by my own package. The checkstyle warns me with  the following warning:\r\n&gt; Wrong lexicographical order for `&#39;com.iauko.commons.Resources&#39;` import. Should be before `&#39;org.eclipse.ui.PlatformUI&#39;`&quot;.\r\n\r\nIs there a way to modify the checkstyle file so that I will have the &quot;external packages&quot; first and the my own packages? Maybe somehow by using the fact the all my own packages are starting with `&quot;com.iauko&quot;`?","title":"How to separate between own and external packages in checkstyle?","body":"<p>I have the following Java import statements:</p>\n<pre><code>import java.io.BufferedReader;\n\nimport org.apache.commons.io.FileUtils;\nimport org.eclipse.core.runtime.jobs.Job;\nimport org.eclipse.ui.PlatformUI;\n\nimport com.iauko.commons.Resources;\n</code></pre>\n<p>The package &quot;com.iauko.commons.Resources&quot; is my local package, part of the Java project, while all other imports are external packages. I would like to organize the imports so that the external packages appear first, followed by my own package. The checkstyle warns me with  the following warning:</p>\n<blockquote>\n<p>Wrong lexicographical order for <code>'com.iauko.commons.Resources'</code> import. Should be before <code>'org.eclipse.ui.PlatformUI'</code>&quot;.</p>\n</blockquote>\n<p>Is there a way to modify the checkstyle file so that I will have the &quot;external packages&quot; first and the my own packages? Maybe somehow by using the fact the all my own packages are starting with <code>&quot;com.iauko&quot;</code>?</p>\n"},{"tags":["java","dto","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":2007859,"reputation":894,"user_id":1797200,"accept_rate":75,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685186689,"creation_date":1685186689,"answer_id":76346665,"question_id":76295149,"body_markdown":"The answer is: ModelMapper does not seem to work well with interfaces extending other interfaces. What at first I did not see is that when mapping the proxy to the DTO, ModelMapper mapped attributes from the base interface, except ID, but did not map attributes of subinterfaces correctly. So the behaviour of ModelMapper in these cases seems erratic, because I can&#39;t really tell whicht fields are going to be mapped (and why) and which arent. After explicitly putting all the getters and setters in all interface it works.\r\n\r\nFor example:\r\n```java\r\npublic interface BaseInterface {\r\n\r\n    Long getId();\r\n    void setId(Long id);\r\n\r\n    Boolean getDeleted();\r\n    void setDeleted(Boolean deleted);\r\n\r\n}\r\n\r\npublic interface PersonListInterface extends BaseInterface {\r\n\r\n    Long getId();\r\n    void setId(Long id);\r\n\r\n    Boolean getDeleted();\r\n    void setDeleted(Boolean deleted);\r\n\r\n    String getName();\r\n}\r\n\r\npublic interface PersonEditInterface extends PersonListInterface {\r\n\r\n    Long getId();\r\n    void setId(Long id);\r\n\r\n    Boolean getDeleted();\r\n    void setDeleted(Boolean deleted);\r\n\r\n    String getName();\r\n    void setName(String name);\r\n\r\n}\r\n\r\npublic class PersonEditDTO implements PersonEditInterface {\r\n\r\n    // Regular DTO implementation\r\n\r\n}\r\n\r\n```","title":"Why does ModelMapper skip getId/setId even with explicit PropertyMap/TypeMap on superclass/-interface","body":"<p>The answer is: ModelMapper does not seem to work well with interfaces extending other interfaces. What at first I did not see is that when mapping the proxy to the DTO, ModelMapper mapped attributes from the base interface, except ID, but did not map attributes of subinterfaces correctly. So the behaviour of ModelMapper in these cases seems erratic, because I can't really tell whicht fields are going to be mapped (and why) and which arent. After explicitly putting all the getters and setters in all interface it works.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BaseInterface {\n\n    Long getId();\n    void setId(Long id);\n\n    Boolean getDeleted();\n    void setDeleted(Boolean deleted);\n\n}\n\npublic interface PersonListInterface extends BaseInterface {\n\n    Long getId();\n    void setId(Long id);\n\n    Boolean getDeleted();\n    void setDeleted(Boolean deleted);\n\n    String getName();\n}\n\npublic interface PersonEditInterface extends PersonListInterface {\n\n    Long getId();\n    void setId(Long id);\n\n    Boolean getDeleted();\n    void setDeleted(Boolean deleted);\n\n    String getName();\n    void setName(String name);\n\n}\n\npublic class PersonEditDTO implements PersonEditInterface {\n\n    // Regular DTO implementation\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":2007859,"reputation":894,"user_id":1797200,"accept_rate":75,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76346665,"answer_count":1,"score":0,"last_activity_date":1685186689,"creation_date":1684584445,"question_id":76295149,"body_markdown":"I retrieve proxy objects from the database (using Spring Data neo4j) using an interface projection. Then I map those proxy objects to DTOs using ModelMapper. All interfaces and classes implement the same BaseInterface that has a getter and setter for the id attribute.\r\n\r\n```java\r\npublic interface BaseInterface {\r\n\r\n    Long getId();\r\n    void setId(Long id);\r\n    Boolean getVisible();\r\n    void setVisible(Boolean visible);\r\n\r\n}\r\n```\r\n\r\nI am mapping like this inside my abstract generic service class:\r\n\r\n```java\r\nrepository.findAll(statement, interfaceType).stream().map(proxy -&gt; modelMapper.map(proxy, dtoType));\r\n```\r\n\r\nThe mapping for all attributes from the BaseInterface works (I have included &quot;visible&quot; in this example), also mapping for the attributes of the subclasses does work. But ModelMapper never maps the id attribute, even when explicitly configured:\r\n\r\n```java\r\nvar modelMapper = new ModelMapper();\r\n\r\nPropertyMap&lt;BaseInterface, BaseNode&gt; basePropertyMap = new PropertyMap&lt;BaseInterface, BaseNode&gt;() {\r\n    @Override\r\n    protected void configure() {\r\n        map().setId(source.getId());\r\n    }\r\n};\r\n\r\nmodelMapper.addMappings(basePropertyMap);\r\n```\r\n\r\nI also tried:\r\n```java\r\nTypeMap&lt;BaseInterface, BaseNode&gt; baseTypeMap = modelMapper.createTypeMap(BaseInterface.class, BaseNode.class);\r\nbaseTypeMap.addMapping(BaseInterface::getId, BaseNode::setId);\r\n```\r\n\r\nI have come around to a really terrible hack, that works.\r\n\r\n```java\r\nrepository.findAll(statement, interfaceType).stream().map(proxy -&gt; {\r\n    var theMappedObject = modelMapper.map(proxy, dtoType);\r\n    var id = ((BaseInterface) proxy).getId();\r\n    ((BaseNode) theMappedObject).setId(id);\r\n    return theMappedObject;\r\n});\r\n```\r\nWhat also works, is explicitly mapping for the subclasses, but this creates a lot of boilerplate code - I&#39;d rather go with the hack above than this:\r\n\r\n```java\r\nTypeMap&lt;PersonListInterface, PersonListDTO&gt; baseTypeMap = modelMapper.createTypeMap(PersonListInterface.class, PersonListDTO.class);\r\nbaseTypeMap.addMapping(BaseInterface::getId, BaseInterface::setId);\r\n```\r\n\r\nWhy does ModelMapper skip the id attribute and how can I make it not skip it?\r\nI&#39;m using ModelMapper v3.1.1.","title":"Why does ModelMapper skip getId/setId even with explicit PropertyMap/TypeMap on superclass/-interface","body":"<p>I retrieve proxy objects from the database (using Spring Data neo4j) using an interface projection. Then I map those proxy objects to DTOs using ModelMapper. All interfaces and classes implement the same BaseInterface that has a getter and setter for the id attribute.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BaseInterface {\n\n    Long getId();\n    void setId(Long id);\n    Boolean getVisible();\n    void setVisible(Boolean visible);\n\n}\n</code></pre>\n<p>I am mapping like this inside my abstract generic service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>repository.findAll(statement, interfaceType).stream().map(proxy -&gt; modelMapper.map(proxy, dtoType));\n</code></pre>\n<p>The mapping for all attributes from the BaseInterface works (I have included &quot;visible&quot; in this example), also mapping for the attributes of the subclasses does work. But ModelMapper never maps the id attribute, even when explicitly configured:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var modelMapper = new ModelMapper();\n\nPropertyMap&lt;BaseInterface, BaseNode&gt; basePropertyMap = new PropertyMap&lt;BaseInterface, BaseNode&gt;() {\n    @Override\n    protected void configure() {\n        map().setId(source.getId());\n    }\n};\n\nmodelMapper.addMappings(basePropertyMap);\n</code></pre>\n<p>I also tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypeMap&lt;BaseInterface, BaseNode&gt; baseTypeMap = modelMapper.createTypeMap(BaseInterface.class, BaseNode.class);\nbaseTypeMap.addMapping(BaseInterface::getId, BaseNode::setId);\n</code></pre>\n<p>I have come around to a really terrible hack, that works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>repository.findAll(statement, interfaceType).stream().map(proxy -&gt; {\n    var theMappedObject = modelMapper.map(proxy, dtoType);\n    var id = ((BaseInterface) proxy).getId();\n    ((BaseNode) theMappedObject).setId(id);\n    return theMappedObject;\n});\n</code></pre>\n<p>What also works, is explicitly mapping for the subclasses, but this creates a lot of boilerplate code - I'd rather go with the hack above than this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypeMap&lt;PersonListInterface, PersonListDTO&gt; baseTypeMap = modelMapper.createTypeMap(PersonListInterface.class, PersonListDTO.class);\nbaseTypeMap.addMapping(BaseInterface::getId, BaseInterface::setId);\n</code></pre>\n<p>Why does ModelMapper skip the id attribute and how can I make it not skip it?\nI'm using ModelMapper v3.1.1.</p>\n"},{"tags":["java","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685186675,"creation_date":1685186675,"answer_id":76346664,"question_id":76346119,"body_markdown":"You have to edit messages using `getHook()`. For instance:\r\n\r\n```java\r\nevent.deferEdit().queue();\r\nevent.getHook().editOriginal(&quot;abc&quot;).queue();\r\n```\r\n\r\nUsing the message instead, will use a bot endpoint rather than an interaction endpoint.","title":"Editing ephemeral messages in discord jda","body":"<p>You have to edit messages using <code>getHook()</code>. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>event.deferEdit().queue();\nevent.getHook().editOriginal(&quot;abc&quot;).queue();\n</code></pre>\n<p>Using the message instead, will use a bot endpoint rather than an interaction endpoint.</p>\n"}],"owner":{"account_id":27521195,"reputation":15,"user_id":21931651,"display_name":"Николай"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76346664,"answer_count":1,"score":1,"last_activity_date":1685186675,"creation_date":1685177954,"question_id":76346119,"body_markdown":"I am sending an ephemeral message with an EntitySelectMenu. When the user selects the items in this menu, I need to change the content of the ephemeral message to some text like &quot;abc&quot;.\r\nI tried doing it like this:\r\n\r\nIn EntitySelectInterection\r\n```\r\nevent.deferEdit().queue(); // defer editing to make sure menu is disabled\r\nevent.getHook().retrieveOriginal().queue(message -&gt; { // get original message\r\n    String content = &quot;abc&quot;;\r\n    message.editMessage(content).queue(); // update message content\r\n});\r\n```\r\nBut this edits the text of the message to which the ephemeral is attached, but not the ephemeral itself.\r\nWould be grateful for any help.","title":"Editing ephemeral messages in discord jda","body":"<p>I am sending an ephemeral message with an EntitySelectMenu. When the user selects the items in this menu, I need to change the content of the ephemeral message to some text like &quot;abc&quot;.\nI tried doing it like this:</p>\n<p>In EntitySelectInterection</p>\n<pre><code>event.deferEdit().queue(); // defer editing to make sure menu is disabled\nevent.getHook().retrieveOriginal().queue(message -&gt; { // get original message\n    String content = &quot;abc&quot;;\n    message.editMessage(content).queue(); // update message content\n});\n</code></pre>\n<p>But this edits the text of the message to which the ephemeral is attached, but not the ephemeral itself.\nWould be grateful for any help.</p>\n"},{"tags":["java","intellij-idea","console","output"],"answers":[{"tags":[],"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1438009825,"creation_date":1438009825,"answer_id":31656754,"question_id":31656596,"body_markdown":"`System.out` and `System.err` output is written to either the `Run` or the `Debug` tool window depending on whether you launch the run/debug configuration as Run or Debug. See https://www.jetbrains.com/idea/help/running-and-debugging.html and https://www.jetbrains.com/idea/help/run-tool-window.html for more information (Same information is in the Help guide of the IntelliJ IDEA Ultimate version).","title":"System.out.println where does it write to in Intellij Idea?","body":"<p><code>System.out</code> and <code>System.err</code> output is written to either the <code>Run</code> or the <code>Debug</code> tool window depending on whether you launch the run/debug configuration as Run or Debug. See <a href=\"https://www.jetbrains.com/idea/help/running-and-debugging.html\" rel=\"noreferrer\">https://www.jetbrains.com/idea/help/running-and-debugging.html</a> and <a href=\"https://www.jetbrains.com/idea/help/run-tool-window.html\" rel=\"noreferrer\">https://www.jetbrains.com/idea/help/run-tool-window.html</a> for more information (Same information is in the Help guide of the IntelliJ IDEA Ultimate version).</p>\n"},{"tags":[],"owner":{"account_id":1895890,"reputation":4097,"user_id":1712880,"accept_rate":27,"display_name":"Hamid Mohayeji"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501794329,"creation_date":1501794329,"answer_id":45494495,"question_id":31656596,"body_markdown":"In Java EE applications with Tomcat container, if you want to see the result of prints like ```System.out.println()```, first go to Run &gt; Edit Configurations and select your tomcat server in the left menu, then open Logs tab and check &#39;Show console when a message is printed to standard output stream&#39;","title":"System.out.println where does it write to in Intellij Idea?","body":"<p>In Java EE applications with Tomcat container, if you want to see the result of prints like <code>System.out.println()</code>, first go to Run > Edit Configurations and select your tomcat server in the left menu, then open Logs tab and check 'Show console when a message is printed to standard output stream'</p>\n"},{"tags":[],"owner":{"account_id":1789331,"reputation":1792,"user_id":1630096,"accept_rate":89,"display_name":"Anastasios Vlasopoulos"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1501850590,"creation_date":1501850590,"answer_id":45507168,"question_id":31656596,"body_markdown":"Click on the below image to figure out. \r\n\r\nFor running mode: \r\n\r\n**View -&gt; Tool Windows -&gt; Run**\r\n\r\nFor debugging mode: \r\n\r\n**View -&gt; Tool Windows -&gt; Debug**\r\n\r\nYou must be on one of the above two states in order to accomplish this action.\r\n\r\n\r\n[![How to show the terminal window on IntelliJ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FqSo0.jpg","title":"System.out.println where does it write to in Intellij Idea?","body":"<p>Click on the below image to figure out. </p>\n\n<p>For running mode: </p>\n\n<p><strong>View -> Tool Windows -> Run</strong></p>\n\n<p>For debugging mode: </p>\n\n<p><strong>View -> Tool Windows -> Debug</strong></p>\n\n<p>You must be on one of the above two states in order to accomplish this action.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FqSo0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FqSo0.jpg\" alt=\"How to show the terminal window on IntelliJ\"></a></p>\n"},{"tags":[],"owner":{"account_id":7701456,"reputation":1,"user_id":5833862,"display_name":"shivam  bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685186132,"creation_date":1685186132,"answer_id":76346625,"question_id":31656596,"body_markdown":"This can be happening because the IDE is delegating the task to another build tool like Maven.\r\n\r\nIf this is the case then you would not see any output in the run window of IntelliJ.\r\n\r\nThis flag is present at - **setting -&gt; build,execution,deployment -&gt; build tool -&gt; maven (in my case) -&gt; runner -&gt; delegate actions to maven**\r\n","title":"System.out.println where does it write to in Intellij Idea?","body":"<p>This can be happening because the IDE is delegating the task to another build tool like Maven.</p>\n<p>If this is the case then you would not see any output in the run window of IntelliJ.</p>\n<p>This flag is present at - <strong>setting -&gt; build,execution,deployment -&gt; build tool -&gt; maven (in my case) -&gt; runner -&gt; delegate actions to maven</strong></p>\n"}],"owner":{"account_id":3104003,"reputation":1901,"user_id":2627343,"accept_rate":69,"display_name":"Greyshack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40949,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":31656754,"answer_count":4,"score":22,"last_activity_date":1685186132,"creation_date":1438009372,"question_id":31656596,"body_markdown":"I can&#39;t find the terminal where the message is supposed to show. How is it called?\r\nI&#39;m guessing it should be in View-&gt;Tool Windows but nothing from there seems to work. It&#39;s a Maven project and all I can see is GlassFish log.","title":"System.out.println where does it write to in Intellij Idea?","body":"<p>I can't find the terminal where the message is supposed to show. How is it called?\nI'm guessing it should be in View->Tool Windows but nothing from there seems to work. It's a Maven project and all I can see is GlassFish log.</p>\n"},{"tags":["java","arrays","structure"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678802154,"post_id":75734006,"comment_id":133601163,"body_markdown":"All data structures have data and a way (or ways) to reference that data. You can reference data by an offset or by &quot;absolute&quot; location. There&#39;s (typically) no other options.","body":"All data structures have data and a way (or ways) to reference that data. You can reference data by an offset or by &quot;absolute&quot; location. There&#39;s (typically) no other options."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678802255,"post_id":75734006,"comment_id":133601196,"body_markdown":"If you equate &quot;linked list&quot; to &quot;whatever can be implemented with references&quot;, then you&#39;re throwing an incredibly wide net. And if you add &quot;arrays&quot; as the other option then yes, I believe these two will cover all possible implementations of ADTs. But that doesn&#39;t really **say** much, since *what you do with them* can vary wildly.","body":"If you equate &quot;linked list&quot; to &quot;whatever can be implemented with references&quot;, then you&#39;re throwing an incredibly wide net. And if you add &quot;arrays&quot; as the other option then yes, I believe these two will cover all possible implementations of ADTs. But that doesn&#39;t really <b>say</b> much, since <i>what you do with them</i> can vary wildly."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1678802490,"post_id":75734006,"comment_id":133601275,"body_markdown":"It&#39;s a little bit like asking &quot;Does all music really boil down to vibrating air at various frequencies?&quot; Yes, it does, but that doesn&#39;t really tell you *anything interesting* about music.","body":"It&#39;s a little bit like asking &quot;Does all music really boil down to vibrating air at various frequencies?&quot; Yes, it does, but that doesn&#39;t really tell you <i>anything interesting</i> about music."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1678806654,"post_id":75734006,"comment_id":133602696,"body_markdown":"In fairness, that noise is just vibrating air is kinda interesting.","body":"In fairness, that noise is just vibrating air is kinda interesting."},{"owner":{"account_id":16239154,"reputation":11,"user_id":11725943,"display_name":"Daniil Kirichenko"},"score":0,"creation_date":1678808549,"post_id":75734006,"comment_id":133603261,"body_markdown":"@DaveNewton I just wonder if Information theory or Computer Science have something to say about it. Some formal answer or theorem.","body":"@DaveNewton I just wonder if Information theory or Computer Science have something to say about it. Some formal answer or theorem."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678809177,"post_id":75734006,"comment_id":133603498,"body_markdown":"You defined &quot;linked list&quot; so it covers anything that references data--seems tautological.","body":"You defined &quot;linked list&quot; so it covers anything that references data--seems tautological."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683975849,"post_id":75734006,"comment_id":134451036,"body_markdown":"@DaniilKirichenko &quot;linked structures&quot; is very different from &quot;linked lists&quot; (as was the original version of the question). The &quot;theorem&quot; probably boils down to &quot;everything must be in a computer&#39;s memory. You need to get those memory addresses somehow: by storing them (a &quot;link&quot;) or by computing them (array base address + offset). And memory can be viewed as one big array with base address 0).","body":"@DaniilKirichenko &quot;linked structures&quot; is very different from &quot;linked lists&quot; (as was the original version of the question). The &quot;theorem&quot; probably boils down to &quot;everything must be in a computer&#39;s memory. You need to get those memory addresses somehow: by storing them (a &quot;link&quot;) or by computing them (array base address + offset). And memory can be viewed as one big array with base address 0)."}],"answers":[{"tags":[],"owner":{"account_id":6574915,"reputation":372,"user_id":5081388,"accept_rate":46,"display_name":"desperado06"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678801838,"creation_date":1678801838,"answer_id":75734039,"question_id":75734006,"body_markdown":"Map is a very efficient and useful data structure provided by many platforms.\r\nSet is another one.Both are efficient in terms of time complexity\r\n","title":"Are all data structures implemented with arrays and linked structures?","body":"<p>Map is a very efficient and useful data structure provided by many platforms.\nSet is another one.Both are efficient in terms of time complexity</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685184895,"creation_date":1679941652,"answer_id":75859165,"question_id":75734006,"body_markdown":"Ultimately yes. You could even go one step further and claim that everything is implemented with an &quot;array&quot;. Let me explain why.\r\n\r\nMemory is a bunch of bytes. Many, many bytes in modern computers (e.g. 68,719,476,736 bytes in a beefy laptop and many many more in a server). Usually, you don&#39;t address specific bytes, but larger units, e.g. 4 bytes can represent the common 32-bit integer. 8 bytes can hold a double-precision floating point number.\r\n\r\nAn array is a contiguous space in memory with many values in it. Each value in an array is the same size, which makes it quite efficient to access a single value, by taking the start address of the array and adding the offset (the index) multiplied by the size of your value (your data type, e.g. an integer = 4 bytes).\r\n\r\nWhat if you assume that the start address of your array is 0 and the data type is &quot;byte&quot;? Now you can pretend all of your memory is one big array. And if you read 8 consecutive bytes from that big array, you have a 64 bit &quot;long&quot; value. A long value can be interpreted as offset for your big array (i.e. your memory). Congratulations, you can now add &quot;pointers&quot; or &quot;references&quot; to your array, allowing you to build linked data structures.\r\n\r\nLinked data structures such as a linked list, which is just a special case of a binary tree with only one side of each node set to the next value. If you generalize a tree you get a graph. A graph allows cycles, which a tree does not. And once you can represent a graph, you can basically represent anything and everything.\r\n\r\nSo basically you have contiguous memory blocks, a.k.a. an array; and memory which points to memory elsewhere, but you could consider this just being an offset in one big array.\r\n\r\nPS Arrays are an abstraction too. They only exist for us humans to write code that is easy to understand. Compilers will turn arrays into memory accesses. CPUs executing your code will never know that this piece of code was an array initially; CPUs only care about memory addresses (and registers).","title":"Are all data structures implemented with arrays and linked structures?","body":"<p>Ultimately yes. You could even go one step further and claim that everything is implemented with an &quot;array&quot;. Let me explain why.</p>\n<p>Memory is a bunch of bytes. Many, many bytes in modern computers (e.g. 68,719,476,736 bytes in a beefy laptop and many many more in a server). Usually, you don't address specific bytes, but larger units, e.g. 4 bytes can represent the common 32-bit integer. 8 bytes can hold a double-precision floating point number.</p>\n<p>An array is a contiguous space in memory with many values in it. Each value in an array is the same size, which makes it quite efficient to access a single value, by taking the start address of the array and adding the offset (the index) multiplied by the size of your value (your data type, e.g. an integer = 4 bytes).</p>\n<p>What if you assume that the start address of your array is 0 and the data type is &quot;byte&quot;? Now you can pretend all of your memory is one big array. And if you read 8 consecutive bytes from that big array, you have a 64 bit &quot;long&quot; value. A long value can be interpreted as offset for your big array (i.e. your memory). Congratulations, you can now add &quot;pointers&quot; or &quot;references&quot; to your array, allowing you to build linked data structures.</p>\n<p>Linked data structures such as a linked list, which is just a special case of a binary tree with only one side of each node set to the next value. If you generalize a tree you get a graph. A graph allows cycles, which a tree does not. And once you can represent a graph, you can basically represent anything and everything.</p>\n<p>So basically you have contiguous memory blocks, a.k.a. an array; and memory which points to memory elsewhere, but you could consider this just being an offset in one big array.</p>\n<p>PS Arrays are an abstraction too. They only exist for us humans to write code that is easy to understand. Compilers will turn arrays into memory accesses. CPUs executing your code will never know that this piece of code was an array initially; CPUs only care about memory addresses (and registers).</p>\n"},{"tags":[],"owner":{"account_id":20692183,"reputation":56,"user_id":17001958,"display_name":"Junaid Aslam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685186096,"creation_date":1685186096,"answer_id":76346623,"question_id":75734006,"body_markdown":"These are considered to be basic Data structures from where a newbie can start learning. There are others Data Structures as well Like HashMaps, Sets, Lists. While solving complex problems one or more of these basic Data Structures are used. My Suggestion is to just learn basic Data structures and try to explore there applications in java programming. By doing that, you can easily understood which Data Structure to implement in a specific problem. Implementation would become easy once you learn basic ones with their applications well. ","title":"Are all data structures implemented with arrays and linked structures?","body":"<p>These are considered to be basic Data structures from where a newbie can start learning. There are others Data Structures as well Like HashMaps, Sets, Lists. While solving complex problems one or more of these basic Data Structures are used. My Suggestion is to just learn basic Data structures and try to explore there applications in java programming. By doing that, you can easily understood which Data Structure to implement in a specific problem. Implementation would become easy once you learn basic ones with their applications well.</p>\n"}],"owner":{"account_id":16239154,"reputation":11,"user_id":11725943,"display_name":"Daniil Kirichenko"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1685186096,"creation_date":1678801604,"question_id":75734006,"body_markdown":"I&#39;m studying data structures in Java and so far, all of them are implemented with either an **array**, a **linked structure** or both. By linked structure I mean all kinds of structures, where a node can have one or more links to other nodes. \r\n\r\nSo, is it true, that in a language like Java these two data structures are the only ones that are used for implementing other data structures? I wonder if there is some other basic data structure. Or is there some theorem that proves that all data structures boil down to these two?","title":"Are all data structures implemented with arrays and linked structures?","body":"<p>I'm studying data structures in Java and so far, all of them are implemented with either an <strong>array</strong>, a <strong>linked structure</strong> or both. By linked structure I mean all kinds of structures, where a node can have one or more links to other nodes.</p>\n<p>So, is it true, that in a language like Java these two data structures are the only ones that are used for implementing other data structures? I wonder if there is some other basic data structure. Or is there some theorem that proves that all data structures boil down to these two?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685137331,"post_id":76344183,"comment_id":134624686,"body_markdown":"That script seems Gradle, not Maven. Also that seems unrelated to the publishing task. Please explain and provide a minimal reproducible example.","body":"That script seems Gradle, not Maven. Also that seems unrelated to the publishing task. Please explain and provide a minimal reproducible example."},{"owner":{"account_id":7799917,"reputation":311,"user_id":5899746,"accept_rate":36,"display_name":"Shankar"},"score":0,"creation_date":1685190289,"post_id":76344183,"comment_id":134628789,"body_markdown":"This is the option which I used - https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven","body":"This is the option which I used - <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"}],"owner":{"account_id":7799917,"reputation":311,"user_id":5899746,"accept_rate":36,"display_name":"Shankar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685185636,"creation_date":1685135305,"question_id":76344183,"body_markdown":"I am creating simple jar like app.jar with following build.gradle \r\n\r\n    jar{\r\n        from{\r\n            configurations.runtimeClasspath.collect {it.isDirectory() ? it : zipTree(it)}\r\n        }\r\n    }\r\n    \r\n    jar {\r\n        archiveFileName = &#39;app.jar&#39;\r\n    }\r\n    \r\n    jar{\r\n        duplicatesStrategy = &#39;exclude&#39;\r\n    }\r\n\r\nJar got created successfully but when I tried to publish into nexus getting following error,\r\n\r\n    Execution failed for task &#39;:publishMavenPublicationToMavenRepository&#39;.\r\n    &gt; Failed to publish publication &#39;maven&#39; to repository &#39;maven&#39;\r\n    &gt; Invalid publication &#39;maven&#39;: multiple artifacts with the identical extension and classifier (&#39;jar&#39;, &#39;null&#39;).\r\n\r\nI have checked inside the build/libs/ - having only app.jar, no multiple artifacts were created.\r\nPlease guide me if you were faced any issues similar.","title":"Maven build failure with identical extension and classifier (&#39;jar&#39;, &#39;null&#39;) error","body":"<p>I am creating simple jar like app.jar with following build.gradle</p>\n<pre><code>jar{\n    from{\n        configurations.runtimeClasspath.collect {it.isDirectory() ? it : zipTree(it)}\n    }\n}\n\njar {\n    archiveFileName = 'app.jar'\n}\n\njar{\n    duplicatesStrategy = 'exclude'\n}\n</code></pre>\n<p>Jar got created successfully but when I tried to publish into nexus getting following error,</p>\n<pre><code>Execution failed for task ':publishMavenPublicationToMavenRepository'.\n&gt; Failed to publish publication 'maven' to repository 'maven'\n&gt; Invalid publication 'maven': multiple artifacts with the identical extension and classifier ('jar', 'null').\n</code></pre>\n<p>I have checked inside the build/libs/ - having only app.jar, no multiple artifacts were created.\nPlease guide me if you were faced any issues similar.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-criteria"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1675684073,"post_id":75345248,"comment_id":132975279,"body_markdown":"Let&#39;s continue that discussion on Zulip: https://hibernate.zulipchat.com/#narrow/stream/132094-hibernate-orm-dev/topic/Illegal.20pop.28.29.20error","body":"Let&#39;s continue that discussion on Zulip: <a href=\"https://hibernate.zulipchat.com/#narrow/stream/132094-hibernate-orm-dev/topic/Illegal.20pop.28.29.20error\" rel=\"nofollow noreferrer\">hibernate.zulipchat.com/#narrow/stream/132094-hibernate-orm-&zwnj;&#8203;dev/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27751999,"reputation":11,"user_id":21186254,"display_name":"Bartek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676022581,"creation_date":1676022581,"answer_id":75409349,"question_id":75345248,"body_markdown":"We stumbled upon the same problem in our project where we were passing entity with OneToMany and ManyToOne relations with lazy loading to a method returning CompletableFuture. As a workaround we prepared DTO used for further operations outside of the method, passed it instead of the entity object and it worked like a charm","title":"Hibernate 6 Error InvalidDataAccessApiUsageException: Illegal pop() with non-matching JdbcValuesSourceProcessingState","body":"<p>We stumbled upon the same problem in our project where we were passing entity with OneToMany and ManyToOne relations with lazy loading to a method returning CompletableFuture. As a workaround we prepared DTO used for further operations outside of the method, passed it instead of the entity object and it worked like a charm</p>\n"},{"tags":[],"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679568275,"creation_date":1679568275,"answer_id":75822010,"question_id":75345248,"body_markdown":"In my system Spring Boot and Hibernate manage the database. To still get access to the entity manager I have to use\r\n```\r\n@PersistenceContext(type = PersistenceContextType.TRANSACTION)\r\nprivate final EntityManager entityManager;\r\n```\r\nThe important part here is `PersistenceContextType.TRANSACTION`, when I used `PersistenceContextType.EXTENDED` I got that error. Especially in connection with other transactions.\r\n\r\nSo I added `@Transactional(propagation = Propagation.REQUIRES_NEW)` to my methods to be safe.\r\n\r\nNow I&#39;m completely error free.","title":"Hibernate 6 Error InvalidDataAccessApiUsageException: Illegal pop() with non-matching JdbcValuesSourceProcessingState","body":"<p>In my system Spring Boot and Hibernate manage the database. To still get access to the entity manager I have to use</p>\n<pre><code>@PersistenceContext(type = PersistenceContextType.TRANSACTION)\nprivate final EntityManager entityManager;\n</code></pre>\n<p>The important part here is <code>PersistenceContextType.TRANSACTION</code>, when I used <code>PersistenceContextType.EXTENDED</code> I got that error. Especially in connection with other transactions.</p>\n<p>So I added <code>@Transactional(propagation = Propagation.REQUIRES_NEW)</code> to my methods to be safe.</p>\n<p>Now I'm completely error free.</p>\n"},{"tags":[],"owner":{"account_id":13798474,"reputation":31,"user_id":9959059,"display_name":"user9959059"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685185539,"creation_date":1680958626,"answer_id":75965338,"question_id":75345248,"body_markdown":"For everyone who has this problem and uses Quarkus 3 with [Vertx bare Api][1].\r\n\r\nI fix this error by forcing the JDBC Call to the [Vertx Eventbus][2] thread by wrapping it in a EvenBus Consuming function as described in the [official documentation][3], and fiddling around with [@WithTransaction, @WithSession, @WithSessionOnDemand or Panache.withTransaction{}][4]. \r\n\r\nThis results in code which I&#39;m sure gives me cancer in the long run, as the revenge of karma and the coding gods. *But hey, it&#39;s temporary code as I migrate my vertx code to mainly quarkus with sparkles of vertx.*\r\n``` lang-kt\r\n\r\n    fun createToken(userId: String): Future&lt;String&gt; {\r\n        val promise = Promise.promise&lt;String&gt;()\r\n        eventBus.request&lt;String&gt;(&quot;createTokenMsg&quot;, userId)\r\n            .onSuccess { msg -&gt; promise.complete(msg.body()) }\r\n            .onFailure(promise::fail)\r\n        return promise.future()\r\n    }\r\n\r\n    @ConsumeEvent(&quot;createTokenMsg&quot;)\r\n    fun createTokenMsgConsume(msg: Message&lt;String&gt;) {\r\n        val userId = msg.body()\r\n\r\n        createToken(userId).subscribe().with(\r\n            { msg.reply(it.token) },\r\n            { error: Throwable -&gt;\r\n                val txt = &quot;Fail to create token for user id $userId&quot;\r\n                logger.log(Level.SEVERE, txt, error)\r\n                msg.fail(500, txt)\r\n            }\r\n        )\r\n    }\r\n\r\n    @WithSession\r\n    fun createToken(userId: String): Uni&lt;TokenIdEntity&gt; {\r\n        return Panache\r\n            .withTransaction { repository.findByUserId(userId) }\r\n            .chain { found: TokenIdEntity? -&gt;\r\n            val token = found ?: TokenIdEntity(userId = userId)\r\n            token.regenrateToken()\r\n\r\n            Panache.withTransaction { repository.persistAndFlush(token) }\r\n        }\r\n    }\r\n```\r\nYou can use it with Objects to, you hate to use the JsonObject\r\n\r\nNot an ideal solution because:\r\n\r\n- You misuse the eventbus for something which should be a function call (which introduce a lot of overhead)\r\n- If your code runs in a vertx cluster, it may be consumed by another instance\r\n- You loose your stacktrace at this point, you can log the .onFailure method of the eventbus.request-Future but the trace is lost at this point. (which sucks big time for debugging) \r\n\r\n**Disclaimer**\r\n\r\nI am not a very experienced user of Hibernate-Reactive, Panache and Quarkus so maybe this solution is shooting a sparrow with a shotgun , where you miss all of your 7 rounds and the bird dies of old age, but it works for me at a point where the other answers , were not descriptive enough or does not work. \r\n\r\nThe @Transactional solution does not work for me because quarkus takes an issue to call JTA transactions from an io Thread\r\n\r\n    io.quarkus.runtime.BlockingOperationNotAllowedException: Cannot start a JTA transaction from the IO thread.\r\n\r\n \r\nBut I&#39;m curious about better solutions and hope that my solution maybe leads in a direction for a better solution. \r\n\r\n\r\n  [1]: https://quarkus.io/guides/vertx-reference\r\n  [2]: https://vertx.io/docs/vertx-core/java/#event_bus\r\n  [3]: https://quarkus.io/guides/vertx-reference#configuring-the-address\r\n  [4]: https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0#sessions-and-transactions","title":"Hibernate 6 Error InvalidDataAccessApiUsageException: Illegal pop() with non-matching JdbcValuesSourceProcessingState","body":"<p>For everyone who has this problem and uses Quarkus 3 with <a href=\"https://quarkus.io/guides/vertx-reference\" rel=\"nofollow noreferrer\">Vertx bare Api</a>.</p>\n<p>I fix this error by forcing the JDBC Call to the <a href=\"https://vertx.io/docs/vertx-core/java/#event_bus\" rel=\"nofollow noreferrer\">Vertx Eventbus</a> thread by wrapping it in a EvenBus Consuming function as described in the <a href=\"https://quarkus.io/guides/vertx-reference#configuring-the-address\" rel=\"nofollow noreferrer\">official documentation</a>, and fiddling around with <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0#sessions-and-transactions\" rel=\"nofollow noreferrer\">@WithTransaction, @WithSession, @WithSessionOnDemand or Panache.withTransaction{}</a>.</p>\n<p>This results in code which I'm sure gives me cancer in the long run, as the revenge of karma and the coding gods. <em>But hey, it's temporary code as I migrate my vertx code to mainly quarkus with sparkles of vertx.</em></p>\n<pre class=\"lang-kt prettyprint-override\"><code>\n    fun createToken(userId: String): Future&lt;String&gt; {\n        val promise = Promise.promise&lt;String&gt;()\n        eventBus.request&lt;String&gt;(&quot;createTokenMsg&quot;, userId)\n            .onSuccess { msg -&gt; promise.complete(msg.body()) }\n            .onFailure(promise::fail)\n        return promise.future()\n    }\n\n    @ConsumeEvent(&quot;createTokenMsg&quot;)\n    fun createTokenMsgConsume(msg: Message&lt;String&gt;) {\n        val userId = msg.body()\n\n        createToken(userId).subscribe().with(\n            { msg.reply(it.token) },\n            { error: Throwable -&gt;\n                val txt = &quot;Fail to create token for user id $userId&quot;\n                logger.log(Level.SEVERE, txt, error)\n                msg.fail(500, txt)\n            }\n        )\n    }\n\n    @WithSession\n    fun createToken(userId: String): Uni&lt;TokenIdEntity&gt; {\n        return Panache\n            .withTransaction { repository.findByUserId(userId) }\n            .chain { found: TokenIdEntity? -&gt;\n            val token = found ?: TokenIdEntity(userId = userId)\n            token.regenrateToken()\n\n            Panache.withTransaction { repository.persistAndFlush(token) }\n        }\n    }\n</code></pre>\n<p>You can use it with Objects to, you hate to use the JsonObject</p>\n<p>Not an ideal solution because:</p>\n<ul>\n<li>You misuse the eventbus for something which should be a function call (which introduce a lot of overhead)</li>\n<li>If your code runs in a vertx cluster, it may be consumed by another instance</li>\n<li>You loose your stacktrace at this point, you can log the .onFailure method of the eventbus.request-Future but the trace is lost at this point. (which sucks big time for debugging)</li>\n</ul>\n<p><strong>Disclaimer</strong></p>\n<p>I am not a very experienced user of Hibernate-Reactive, Panache and Quarkus so maybe this solution is shooting a sparrow with a shotgun , where you miss all of your 7 rounds and the bird dies of old age, but it works for me at a point where the other answers , were not descriptive enough or does not work.</p>\n<p>The @Transactional solution does not work for me because quarkus takes an issue to call JTA transactions from an io Thread</p>\n<pre><code>io.quarkus.runtime.BlockingOperationNotAllowedException: Cannot start a JTA transaction from the IO thread.\n</code></pre>\n<p>But I'm curious about better solutions and hope that my solution maybe leads in a direction for a better solution.</p>\n"}],"owner":{"account_id":3871013,"reputation":239,"user_id":3206292,"display_name":"Jana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4851,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1685185539,"creation_date":1675515370,"question_id":75345248,"body_markdown":"Getting Below error , while calling JPA method, frequently in Hibernate 6\r\n\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Illegal pop() with non-matching JdbcValuesSourceProcessingState\r\nat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)","title":"Hibernate 6 Error InvalidDataAccessApiUsageException: Illegal pop() with non-matching JdbcValuesSourceProcessingState","body":"<p>Getting Below error , while calling JPA method, frequently in Hibernate 6</p>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: Illegal pop() with non-matching JdbcValuesSourceProcessingState\nat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:368)</p>\n"},{"tags":["java","jvm","decompiling"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":2,"creation_date":1515660787,"post_id":48202814,"comment_id":83386904,"body_markdown":"I don&#39;t remember any circumstance under which javac would generate a static bridge method, but if I recall correctly, JDO post-processors do.","body":"I don&#39;t remember any circumstance under which javac would generate a static bridge method, but if I recall correctly, JDO post-processors do."}],"answers":[{"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515664756,"creation_date":1515664756,"answer_id":48204234,"question_id":48202814,"body_markdown":"Yes, javac generates static bridge methods to allow inner classes to access private outer class methods.\r\n\r\nTake for example this source:\r\n\r\n    package bridge;\r\n    \r\n    public class C {\r\n        private void doIt() {\r\n        }\r\n    \r\n        class D {\r\n            {\r\n                doIt();\r\n            }\r\n        }\r\n    }\r\n\r\nJavap shows you the static `access$0` method that was generated:\r\n\r\n    $ javap -p -cp target/classes bridge.C\r\n    Compiled from &quot;C.java&quot;\r\n    public class bridge.C {\r\n      public bridge.C();\r\n      private void doIt();\r\n      static void access$0(bridge.C);\r\n    }\r\n\r\nIt&#39;s content:\r\n\r\n      static void access$0(bridge.C);\r\n        descriptor: (Lbridge/C;)V\r\n        flags: ACC_STATIC, ACC_SYNTHETIC\r\n        Code:\r\n          stack=1, locals=1, args_size=1\r\n             0: aload_0\r\n             1: invokespecial #17                 // Method doIt:()V\r\n             4: return\r\n\r\n","title":"Does javac ever generate static bridge methods?","body":"<p>Yes, javac generates static bridge methods to allow inner classes to access private outer class methods.</p>\n\n<p>Take for example this source:</p>\n\n<pre><code>package bridge;\n\npublic class C {\n    private void doIt() {\n    }\n\n    class D {\n        {\n            doIt();\n        }\n    }\n}\n</code></pre>\n\n<p>Javap shows you the static <code>access$0</code> method that was generated:</p>\n\n<pre><code>$ javap -p -cp target/classes bridge.C\nCompiled from \"C.java\"\npublic class bridge.C {\n  public bridge.C();\n  private void doIt();\n  static void access$0(bridge.C);\n}\n</code></pre>\n\n<p>It's content:</p>\n\n<pre><code>  static void access$0(bridge.C);\n    descriptor: (Lbridge/C;)V\n    flags: ACC_STATIC, ACC_SYNTHETIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #17                 // Method doIt:()V\n         4: return\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515677453,"creation_date":1515677453,"answer_id":48208287,"question_id":48202814,"body_markdown":"AFAIK `javac` will not generate bridge methods as *static* at the moment, this does not mean that in future there will no case for the bridge methods to be static (I am not aware of even a hypothetical example though).\r\n\r\nBridge methods are used in two cases : when you are dealing with generics as you have shown it and covariant return types when overriding. \r\n\r\nIn the first case, bridge methods are created when you implement a generic interface or extend a generic class. \r\n\r\nFor interfaces, when you override a generic method (which has to be non-static), there will be a bridge method created, but since it will delegate to the *non-static* one, it is itself non-static. Well, java-8, allows static method inside interfaces, but, being static, these are non-overridable (they are not even inherited, as opposed to static methods from classes).\r\n\r\nFor generic classes, same story stands. Only *instance* methods are overridable, and even if such a bridge method is created, since it will call a non-static method, it will itself be such. The small caveat is that static methods from classes are inherited, but they are not overridable (as opposed to interface ones), thus no bridge methods.\r\n\r\nThe last example is covariant return types:\r\n\r\n\r\n    static class Parent {\r\n\r\n    }\r\n\r\n    static class Child extends Parent {\r\n\r\n    }\r\n\r\n    static class First {\r\n        public Parent go() {\r\n            return new Parent();\r\n        }\r\n    }\r\n\r\n    static class SubFirst extends First {\r\n        @Override\r\n        public Child go() {\r\n            return new Child();\r\n        }\r\n    }\r\n\r\nHere a bridge method will be created in `SubFirst`, but since you can only override instance methods (how many times have I said this already?), there is no need for the bridge method to be itself static.\r\n\r\n\r\n\r\n\r\n    ","title":"Does javac ever generate static bridge methods?","body":"<p>AFAIK <code>javac</code> will not generate bridge methods as <em>static</em> at the moment, this does not mean that in future there will no case for the bridge methods to be static (I am not aware of even a hypothetical example though).</p>\n\n<p>Bridge methods are used in two cases : when you are dealing with generics as you have shown it and covariant return types when overriding. </p>\n\n<p>In the first case, bridge methods are created when you implement a generic interface or extend a generic class. </p>\n\n<p>For interfaces, when you override a generic method (which has to be non-static), there will be a bridge method created, but since it will delegate to the <em>non-static</em> one, it is itself non-static. Well, java-8, allows static method inside interfaces, but, being static, these are non-overridable (they are not even inherited, as opposed to static methods from classes).</p>\n\n<p>For generic classes, same story stands. Only <em>instance</em> methods are overridable, and even if such a bridge method is created, since it will call a non-static method, it will itself be such. The small caveat is that static methods from classes are inherited, but they are not overridable (as opposed to interface ones), thus no bridge methods.</p>\n\n<p>The last example is covariant return types:</p>\n\n<pre><code>static class Parent {\n\n}\n\nstatic class Child extends Parent {\n\n}\n\nstatic class First {\n    public Parent go() {\n        return new Parent();\n    }\n}\n\nstatic class SubFirst extends First {\n    @Override\n    public Child go() {\n        return new Child();\n    }\n}\n</code></pre>\n\n<p>Here a bridge method will be created in <code>SubFirst</code>, but since you can only override instance methods (how many times have I said this already?), there is no need for the bridge method to be itself static.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1515694286,"creation_date":1515694286,"answer_id":48213426,"question_id":48202814,"body_markdown":"Bridge methods according to the Java Language Specification, which are the methods that should be annotated with `ACC_BRIDGE`, are there to ensure an *override compatible signature*, so that code invoking the method using the original signature will end up at the overridden method even if it has a different method signature at the bytecode level. The only applications in the Java programming language are type erasure and covariant return types.\r\n\r\nSince `static` methods can not be overridden in that way that a caller could get redirected, there is no scenario in which a bridge method in the sense of the Java Language Specification can occur for a `static` method. Therefore, `javac` never produces a method that has `ACC_BRIDGE` and `ACC_STATIC` set.\r\n\r\nIt’s also a very questionable behavior to mark methods as bridge method on behalf of another language’s semantics. As [the JVM specification](https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-4.html#jvms-4.6-200-A.7) says:\r\n\r\n&gt; The `ACC_BRIDGE` flag is used to indicate a bridge method generated by a compiler for the Java programming language.\r\n\r\nThere are other synthetic delegate methods that might be `static`, like nested class accessors or adapters for method references (e.g. for *varargs* or intersection types). These do not count as bridge methods.\r\n","title":"Does javac ever generate static bridge methods?","body":"<p>Bridge methods according to the Java Language Specification, which are the methods that should be annotated with <code>ACC_BRIDGE</code>, are there to ensure an <em>override compatible signature</em>, so that code invoking the method using the original signature will end up at the overridden method even if it has a different method signature at the bytecode level. The only applications in the Java programming language are type erasure and covariant return types.</p>\n\n<p>Since <code>static</code> methods can not be overridden in that way that a caller could get redirected, there is no scenario in which a bridge method in the sense of the Java Language Specification can occur for a <code>static</code> method. Therefore, <code>javac</code> never produces a method that has <code>ACC_BRIDGE</code> and <code>ACC_STATIC</code> set.</p>\n\n<p>It’s also a very questionable behavior to mark methods as bridge method on behalf of another language’s semantics. As <a href=\"https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-4.html#jvms-4.6-200-A.7\" rel=\"nofollow noreferrer\">the JVM specification</a> says:</p>\n\n<blockquote>\n  <p>The <code>ACC_BRIDGE</code> flag is used to indicate a bridge method generated by a compiler for the Java programming language.</p>\n</blockquote>\n\n<p>There are other synthetic delegate methods that might be <code>static</code>, like nested class accessors or adapters for method references (e.g. for <em>varargs</em> or intersection types). These do not count as bridge methods.</p>\n"},{"tags":[],"owner":{"account_id":2182945,"reputation":1298,"user_id":1932017,"display_name":"YujiSoftware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685182956,"creation_date":1685182956,"answer_id":76346429,"question_id":48202814,"body_markdown":"&gt; See [the tutorial on bridge methods](https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html)… \r\n&gt; @Holger  \r\n&gt; [comment 83410934_48213426](https://stackoverflow.com/questions/48202814/does-javac-ever-generate-static-bridge-methods/76346429#comment83410934_48213426)\r\n\r\nI simplified this document and tried it.\r\n\r\n```java\r\npublic class Main {\r\n    public static abstract class Node&lt;T&gt; {\r\n        public abstract void setData(T data);\r\n    }\r\n\r\n    public static class MyNode extends Node&lt;Integer&gt; {\r\n        private Integer data;\r\n\r\n        @Override\r\n        public void setData(Integer data) {\r\n            this.data = data;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRun `javac Main.java`, and `javap -v &#39;Main$MyNode&#39;`.  \r\nAs a result, found `ACC_BRIDGE!`\r\n\r\n```\r\npublic void setData(java.lang.Object);\r\n  descriptor: (Ljava/lang/Object;)V\r\n  flags: (0x1041) ACC_PUBLIC, ACC_BRIDGE, ACC_SYNTHETIC\r\n  Code:\r\n    stack=2, locals=2, args_size=2\r\n        0: aload_0\r\n        1: aload_1\r\n        2: checkcast     #13                 // class java/lang/Integer\r\n        5: invokevirtual #15                 // Method setData:(Ljava/lang/Integer;)V\r\n        8: return\r\n    LineNumberTable:\r\n      line 6: 0\r\n\r\npublic void setData(java.lang.Integer);\r\n  descriptor: (Ljava/lang/Integer;)V\r\n  flags: (0x0001) ACC_PUBLIC\r\n  Code:\r\n    stack=2, locals=2, args_size=2\r\n        0: aload_0\r\n        1: aload_1\r\n        2: putfield      #7                  // Field data:Ljava/lang/Integer;\r\n        5: return\r\n    LineNumberTable:\r\n      line 11: 0\r\n      line 12: 5\r\n```","title":"Does javac ever generate static bridge methods?","body":"<blockquote>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html\" rel=\"nofollow noreferrer\">the tutorial on bridge methods</a>…\n@Holger<br />\n<a href=\"https://stackoverflow.com/questions/48202814/does-javac-ever-generate-static-bridge-methods/76346429#comment83410934_48213426\">comment 83410934_48213426</a></p>\n</blockquote>\n<p>I simplified this document and tried it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static abstract class Node&lt;T&gt; {\n        public abstract void setData(T data);\n    }\n\n    public static class MyNode extends Node&lt;Integer&gt; {\n        private Integer data;\n\n        @Override\n        public void setData(Integer data) {\n            this.data = data;\n        }\n    }\n}\n</code></pre>\n<p>Run <code>javac Main.java</code>, and <code>javap -v 'Main$MyNode'</code>.<br />\nAs a result, found <code>ACC_BRIDGE!</code></p>\n<pre><code>public void setData(java.lang.Object);\n  descriptor: (Ljava/lang/Object;)V\n  flags: (0x1041) ACC_PUBLIC, ACC_BRIDGE, ACC_SYNTHETIC\n  Code:\n    stack=2, locals=2, args_size=2\n        0: aload_0\n        1: aload_1\n        2: checkcast     #13                 // class java/lang/Integer\n        5: invokevirtual #15                 // Method setData:(Ljava/lang/Integer;)V\n        8: return\n    LineNumberTable:\n      line 6: 0\n\npublic void setData(java.lang.Integer);\n  descriptor: (Ljava/lang/Integer;)V\n  flags: (0x0001) ACC_PUBLIC\n  Code:\n    stack=2, locals=2, args_size=2\n        0: aload_0\n        1: aload_1\n        2: putfield      #7                  // Field data:Ljava/lang/Integer;\n        5: return\n    LineNumberTable:\n      line 11: 0\n      line 12: 5\n</code></pre>\n"}],"owner":{"account_id":128416,"reputation":513,"user_id":326230,"accept_rate":25,"display_name":"lab27"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48213426,"answer_count":4,"score":7,"last_activity_date":1685182956,"creation_date":1515660069,"question_id":48202814,"body_markdown":"Bridge methods are used in java to handle covariance in derived methods, and to change visibility on derived methods.\r\n\r\nHowever, both of these cases are for **instance** methods (as you can&#39;t derive static methods).\r\n\r\nI was looking at how Kotlin generates argument defaults, and I was struck that it uses **static** bridge methods.\r\n\r\n*I can&#39;t think of a circumstance under which Javac generates **static** bridge methods - can anyone else?*  (by this, I mean a method which has the ACC_BRIDGE flag (0x40) set, not just a semantically bridging method)\r\n\r\n\r\n\r\n(fwiw - example code and decompilations (using cfr 0_124 with --hidebridgemethods false))\r\n\r\n**Variance**\r\n\r\n    public class BridgeTest1Base&lt;T&gt; {\r\n     public T frob() {\r\n        return null;\r\n     }\r\n    }\r\n   \r\n    public class BridgeTest1Derived extends BridgeTest1Base&lt;Integer&gt; {\r\n     public Integer frob() {\r\n        return null;\r\n     }\r\n    }\r\n\r\ndecompiles to\r\n\r\n    public class BridgeTest1Derived extends BridgeTest1Base&lt;Integer&gt; {\r\n     @Override\r\n     public Integer frob() {\r\n        return null;\r\n     }\r\n\r\n     @Override\r\n     public /* bridge */ /* synthetic */ Object frob() {\r\n        return this.frob();\r\n     }\r\n    }\r\n\r\n**Visibility**\r\n\r\n    class BridgeTest2Base {\r\n        public void frob() {\r\n        }\r\n    }\r\n\r\n    public class BridgeTest2Derived extends BridgeTest2Base {}\r\n\r\ndecompiles to\r\n\r\n    public class BridgeTest2Derived extends BridgeTest2Base {\r\n     @Override\r\n     public /* bridge */ /* synthetic */ void frob() {\r\n        super.frob();\r\n     }\r\n    }\r\n\r\n**Kotlin defaults - yum!**\r\n\r\n    class frob2() {\r\n\r\n    fun fred2(x: Int = 300, y: frob2 = mkFrob2(x)) {\r\n        println(&quot;{this}{x}{y}&quot;)\r\n    }\r\n\r\n    fun mkFrob2(x: Int): frob2 {\r\n        return this;\r\n    }\r\n\r\n    fun foobar() {\r\n        fred2();\r\n        fred2(100);\r\n        fred2(100, frob2());\r\n    }\r\n    }\r\n\r\ndecompiles (into java) to (note the static bridge)\r\n\r\n    public final class frob2 {\r\n    public final void fred2(int x, @NotNull frob2 y) {\r\n        Intrinsics.checkParameterIsNotNull((Object)y, (String)&quot;y&quot;);\r\n        String string = &quot;{this}{x}{y}&quot;;\r\n        System.out.println((Object)string);\r\n    }\r\n\r\n    public static /* bridge */ /* synthetic */ void fred2$default(frob2 frob22, int n, frob2 frob23, int n2, Object object) {\r\n        if ((n2 &amp; 1) != 0) {\r\n            n = 300;\r\n        }\r\n        if ((n2 &amp; 2) != 0) {\r\n            frob23 = frob22.mkFrob2(n);\r\n        }\r\n        frob22.fred2(n, frob23);\r\n    }\r\n\r\n    @NotNull\r\n    public final frob2 mkFrob2(int x) {\r\n        return this;\r\n    }\r\n\r\n    public final void foobar() {\r\n        frob2.fred2$default(this, 0, null, 3, null);\r\n        frob2.fred2$default(this, 100, null, 2, null);\r\n        this.fred2(100, new frob2());\r\n    }\r\n    }\r\n","title":"Does javac ever generate static bridge methods?","body":"<p>Bridge methods are used in java to handle covariance in derived methods, and to change visibility on derived methods.</p>\n\n<p>However, both of these cases are for <strong>instance</strong> methods (as you can't derive static methods).</p>\n\n<p>I was looking at how Kotlin generates argument defaults, and I was struck that it uses <strong>static</strong> bridge methods.</p>\n\n<p><em>I can't think of a circumstance under which Javac generates <strong>static</strong> bridge methods - can anyone else?</em>  (by this, I mean a method which has the ACC_BRIDGE flag (0x40) set, not just a semantically bridging method)</p>\n\n<p>(fwiw - example code and decompilations (using cfr 0_124 with --hidebridgemethods false))</p>\n\n<p><strong>Variance</strong></p>\n\n<pre><code>public class BridgeTest1Base&lt;T&gt; {\n public T frob() {\n    return null;\n }\n}\n\npublic class BridgeTest1Derived extends BridgeTest1Base&lt;Integer&gt; {\n public Integer frob() {\n    return null;\n }\n}\n</code></pre>\n\n<p>decompiles to</p>\n\n<pre><code>public class BridgeTest1Derived extends BridgeTest1Base&lt;Integer&gt; {\n @Override\n public Integer frob() {\n    return null;\n }\n\n @Override\n public /* bridge */ /* synthetic */ Object frob() {\n    return this.frob();\n }\n}\n</code></pre>\n\n<p><strong>Visibility</strong></p>\n\n<pre><code>class BridgeTest2Base {\n    public void frob() {\n    }\n}\n\npublic class BridgeTest2Derived extends BridgeTest2Base {}\n</code></pre>\n\n<p>decompiles to</p>\n\n<pre><code>public class BridgeTest2Derived extends BridgeTest2Base {\n @Override\n public /* bridge */ /* synthetic */ void frob() {\n    super.frob();\n }\n}\n</code></pre>\n\n<p><strong>Kotlin defaults - yum!</strong></p>\n\n<pre><code>class frob2() {\n\nfun fred2(x: Int = 300, y: frob2 = mkFrob2(x)) {\n    println(\"{this}{x}{y}\")\n}\n\nfun mkFrob2(x: Int): frob2 {\n    return this;\n}\n\nfun foobar() {\n    fred2();\n    fred2(100);\n    fred2(100, frob2());\n}\n}\n</code></pre>\n\n<p>decompiles (into java) to (note the static bridge)</p>\n\n<pre><code>public final class frob2 {\npublic final void fred2(int x, @NotNull frob2 y) {\n    Intrinsics.checkParameterIsNotNull((Object)y, (String)\"y\");\n    String string = \"{this}{x}{y}\";\n    System.out.println((Object)string);\n}\n\npublic static /* bridge */ /* synthetic */ void fred2$default(frob2 frob22, int n, frob2 frob23, int n2, Object object) {\n    if ((n2 &amp; 1) != 0) {\n        n = 300;\n    }\n    if ((n2 &amp; 2) != 0) {\n        frob23 = frob22.mkFrob2(n);\n    }\n    frob22.fred2(n, frob23);\n}\n\n@NotNull\npublic final frob2 mkFrob2(int x) {\n    return this;\n}\n\npublic final void foobar() {\n    frob2.fred2$default(this, 0, null, 3, null);\n    frob2.fred2$default(this, 100, null, 2, null);\n    this.fred2(100, new frob2());\n}\n}\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1674,"reputation":41469,"user_id":2257,"accept_rate":86,"display_name":"Espo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1223559211,"creation_date":1219406005,"answer_id":22132,"question_id":22115,"body_markdown":"You&#39;ll have to write your own parser, like the author of String::Random (Perl) did. In fact, he doesn&#39;t use regexes anywhere in that module, it&#39;s just what perl-coders are used to.\n\nOn the other hand, maybe you can have a look at [the source][1], to get some pointers.\n\n\n----------\n\n\nEDIT: Damn, blair beat me to the punch by 15 seconds.\n\n  [1]: http://search.cpan.org/~steve/String-Random-0.20/Random.pm","title":"Using Regex to generate Strings rather than match them","body":"<p>You'll have to write your own parser, like the author of String::Random (Perl) did. In fact, he doesn't use regexes anywhere in that module, it's just what perl-coders are used to.</p>\n<p>On the other hand, maybe you can have a look at <a href=\"http://search.cpan.org/%7Esteve/String-Random-0.20/Random.pm\" rel=\"nofollow noreferrer\">the source</a>, to get some pointers.</p>\n<hr />\n<p>EDIT: Damn, blair beat me to the punch by 15 seconds.</p>\n"},{"tags":[],"owner":{"account_id":1364,"reputation":35374,"user_id":1820,"accept_rate":94,"display_name":"Cheekysoft"},"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1685182727,"creation_date":1219406046,"answer_id":22133,"question_id":22115,"body_markdown":"Firstly, with a complex enough regexp, I believe this can be impossible. But you should be able to put something together for simple regexps.\r\n\r\nIf you take a look at the source code of the class java.util.regex.Pattern, you&#39;ll see that it uses an internal representation of Node instances. Each of the different pattern components have their own implementation of a Node subclass. These Nodes are organised into a tree.\r\n\r\nBy producing a visitor that traverses this tree, you should be able to call an overloaded generator method or some kind of Builder that cobbles something together.\r\n\r\n  [1]: https://stackoverflow.com/a/24659605/1820\r\n","title":"Using Regex to generate Strings rather than match them","body":"<p>Firstly, with a complex enough regexp, I believe this can be impossible. But you should be able to put something together for simple regexps.</p>\n<p>If you take a look at the source code of the class java.util.regex.Pattern, you'll see that it uses an internal representation of Node instances. Each of the different pattern components have their own implementation of a Node subclass. These Nodes are organised into a tree.</p>\n<p>By producing a visitor that traverses this tree, you should be able to call an overloaded generator method or some kind of Builder that cobbles something together.</p>\n"},{"tags":[],"owner":{"account_id":1211,"reputation":1406,"user_id":1611,"accept_rate":80,"display_name":"Craig"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1219406875,"creation_date":1219406875,"answer_id":22163,"question_id":22115,"body_markdown":"On stackoverflow podcast 11:\r\n&gt;Spolsky:  Yep.  There&#39;s a new product also, if you don&#39;t want to use the Team System there our friends at Redgate have a product called SQL Data Generator [http://www.red-gate.com/products/sql_data_generator/index.htm].  It&#39;s $295, and it just generates some realistic test data.  And it does things like actually generate real cities in the city column that actually exist, and then when it generates those it&#39;ll get the state right, instead of getting the state wrong, or putting states into German cities and stuff like... you know, it generates pretty realistic looking data.  I&#39;m not really sure what all the features are.\r\n\r\nThis is probably not what you are looking for, but it might be a good starting off point, instead of creating your own.\r\n\r\nI can&#39;t seem to find anything in google, so I would suggest tackling the problem by parsing a given regular expression into the smallest units of work (\\w, [x-x], \\d, etc) and writing some basic methods to support those regular expression phrases.\r\n\r\nSo for \\w you would have a method getRandomLetter() which returns any random letter, and you would also have getRandomLetter(char startLetter, char endLetter) which gives you a random letter between the two values.\r\n\r\n","title":"Using Regex to generate Strings rather than match them","body":"<p>On stackoverflow podcast 11:</p>\n\n<blockquote>\n  <p>Spolsky:  Yep.  There's a new product also, if you don't want to use the Team System there our friends at Redgate have a product called SQL Data Generator [<a href=\"http://www.red-gate.com/products/sql_data_generator/index.htm]\" rel=\"nofollow noreferrer\">http://www.red-gate.com/products/sql_data_generator/index.htm]</a>.  It's $295, and it just generates some realistic test data.  And it does things like actually generate real cities in the city column that actually exist, and then when it generates those it'll get the state right, instead of getting the state wrong, or putting states into German cities and stuff like... you know, it generates pretty realistic looking data.  I'm not really sure what all the features are.</p>\n</blockquote>\n\n<p>This is probably not what you are looking for, but it might be a good starting off point, instead of creating your own.</p>\n\n<p>I can't seem to find anything in google, so I would suggest tackling the problem by parsing a given regular expression into the smallest units of work (\\w, [x-x], \\d, etc) and writing some basic methods to support those regular expression phrases.</p>\n\n<p>So for \\w you would have a method getRandomLetter() which returns any random letter, and you would also have getRandomLetter(char startLetter, char endLetter) which gives you a random letter between the two values.</p>\n"},{"tags":[],"owner":{"account_id":860,"reputation":10514,"user_id":1124,"accept_rate":71,"display_name":"J Wynia"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1322122397,"creation_date":1225240071,"answer_id":245381,"question_id":22115,"body_markdown":"I know there&#39;s already an accepted answer, but I&#39;ve been using **RedGate&#39;s Data Generator** (the one mentioned in Craig&#39;s answer) and it works REALLY well for everything I&#39;ve thrown at it. It&#39;s quick and that leaves me wanting to use the same regex to generate the real data for things like registration codes that this thing spits out.\r\n\r\nIt takes a regex like:\r\n\r\n    [A-Z0-9]{3,3}-[A-Z0-9]{3,3}\r\n\r\nand it generates tons of unique codes like:\r\n\r\n    LLK-32U\r\n\r\nIs this some big secret algorithm that RedGate figured out and we&#39;re all out of luck or is it something that us mere mortals actually could do?","title":"Using Regex to generate Strings rather than match them","body":"<p>I know there's already an accepted answer, but I've been using <strong>RedGate's Data Generator</strong> (the one mentioned in Craig's answer) and it works REALLY well for everything I've thrown at it. It's quick and that leaves me wanting to use the same regex to generate the real data for things like registration codes that this thing spits out.</p>\n\n<p>It takes a regex like:</p>\n\n<pre><code>[A-Z0-9]{3,3}-[A-Z0-9]{3,3}\n</code></pre>\n\n<p>and it generates tons of unique codes like:</p>\n\n<pre><code>LLK-32U\n</code></pre>\n\n<p>Is this some big secret algorithm that RedGate figured out and we're all out of luck or is it something that us mere mortals actually could do?</p>\n"},{"tags":[],"owner":{"display_name":"Gavin Kistner"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1226381493,"creation_date":1226381493,"answer_id":280105,"question_id":22115,"body_markdown":"It&#39;s far from supporting a full PCRE regexp, but I wrote the following Ruby method to take a regexp-like string and produce a variation on it. (For language-based CAPTCHA.)\r\n\r\n&lt;pre&gt;&lt;code&gt;# q = &quot;(How (much|many)|What) is (the (value|result) of)? :num1 :op :num2?&quot;\r\n# values = { :num1=&gt;42, :op=&gt;&quot;plus&quot;, :num2=&gt;17 }\r\n# 4.times{ puts q.variation( values ) }\r\n# =&gt; What is 42 plus 17?\r\n# =&gt; How many is the result of 42 plus 17?\r\n# =&gt; What is the result of 42 plus 17?\r\n# =&gt; How much is the value of 42 plus 17?\r\nclass String\r\n  def variation( values={} )\r\n    out = self.dup\r\n    while out.gsub!( /\\(([^())?]+)\\)(\\?)?/ ){\r\n      ( $2 &amp;&amp; ( rand &gt; 0.5 ) ) ? &#39;&#39; : $1.split( &#39;|&#39; ).random\r\n    }; end\r\n    out.gsub!( /:(#{values.keys.join(&#39;|&#39;)})\\b/ ){ values[$1.intern] }\r\n    out.gsub!( /\\s{2,}/, &#39; &#39; )\r\n    out\r\n  end\r\nend\r\n\r\nclass Array\r\n  def random\r\n    self[ rand( self.length ) ]\r\n  end\r\nend&lt;/code&gt;&lt;/pre&gt;\r\n","title":"Using Regex to generate Strings rather than match them","body":"<p>It's far from supporting a full PCRE regexp, but I wrote the following Ruby method to take a regexp-like string and produce a variation on it. (For language-based CAPTCHA.)</p>\n\n<pre><code># q = \"(How (much|many)|What) is (the (value|result) of)? :num1 :op :num2?\"\n# values = { :num1=>42, :op=>\"plus\", :num2=>17 }\n# 4.times{ puts q.variation( values ) }\n# => What is 42 plus 17?\n# => How many is the result of 42 plus 17?\n# => What is the result of 42 plus 17?\n# => How much is the value of 42 plus 17?\nclass String\n  def variation( values={} )\n    out = self.dup\n    while out.gsub!( /\\(([^())?]+)\\)(\\?)?/ ){\n      ( $2 && ( rand > 0.5 ) ) ? '' : $1.split( '|' ).random\n    }; end\n    out.gsub!( /:(#{values.keys.join('|')})\\b/ ){ values[$1.intern] }\n    out.gsub!( /\\s{2,}/, ' ' )\n    out\n  end\nend\n\nclass Array\n  def random\n    self[ rand( self.length ) ]\n  end\nend</code></pre>\n"},{"tags":[],"owner":{"account_id":11901,"reputation":6808,"user_id":23164,"accept_rate":83,"display_name":"Goran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1441349776,"creation_date":1231159142,"answer_id":412989,"question_id":22115,"body_markdown":"I&#39;ve gone the root of rolling my [own][1] library for that (In c# but should be easy to understand for a Java developer).\r\n\r\nRxrdg started as a solution to a problem of creating test data for a real life project. The basic idea is to leverage the existing (regular expression) validation patterns to create random data that conforms to such patterns. This way valid random data is created. \r\n\r\nIt is not that difficult to write a parser for simple regex patterns. Using an abstract syntax tree to generate strings should be even easier.\r\n\r\n  [1]: https://github.com/GoranSiska/rxrdg","title":"Using Regex to generate Strings rather than match them","body":"<p>I've gone the root of rolling my <a href=\"https://github.com/GoranSiska/rxrdg\" rel=\"nofollow noreferrer\">own</a> library for that (In c# but should be easy to understand for a Java developer).</p>\n\n<p>Rxrdg started as a solution to a problem of creating test data for a real life project. The basic idea is to leverage the existing (regular expression) validation patterns to create random data that conforms to such patterns. This way valid random data is created. </p>\n\n<p>It is not that difficult to write a parser for simple regex patterns. Using an abstract syntax tree to generate strings should be even easier.</p>\n"},{"tags":[],"owner":{"account_id":46225,"reputation":10889,"user_id":136476,"accept_rate":66,"display_name":"Wilfred Springer"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1473199722,"creation_date":1255980751,"answer_id":1590630,"question_id":22115,"body_markdown":"[Xeger (Java)][1] is capable of doing it as well:\r\n\r\n    String regex = &quot;[ab]{4,6}c&quot;;\r\n    Xeger generator = new Xeger(regex);\r\n    String result = generator.generate();\r\n    assert result.matches(regex);\r\n\r\n\r\n  [1]: https://github.com/MukulShukla/xeger","title":"Using Regex to generate Strings rather than match them","body":"<p><a href=\"https://github.com/MukulShukla/xeger\" rel=\"noreferrer\">Xeger (Java)</a> is capable of doing it as well:</p>\n\n<pre><code>String regex = \"[ab]{4,6}c\";\nXeger generator = new Xeger(regex);\nString result = generator.generate();\nassert result.matches(regex);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1788059,"reputation":41,"user_id":1629062,"display_name":"R dhabalia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348783678,"creation_date":1346117909,"answer_id":12151715,"question_id":22115,"body_markdown":"I am on flight and just saw the question: I have written easiest but inefficient and incomplete solution. I hope it may help you to start writing your own parser:\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString line = &quot;[A-Z0-9]{16}&quot;;\r\n\t\tString[] tokens = line.split(line);\r\n\t\tchar[] pattern = new char[100];\r\n\t\tint i = 0;\r\n\t\tint len = tokens.length;\r\n\t\tString sep1 = &quot;[{&quot;;\r\n\t\tStringTokenizer st = new StringTokenizer(line, sep1);\r\n\t\t\r\n\t\twhile (st.hasMoreTokens()) {\r\n\t\t\tString token = st.nextToken();\r\n\t\t\tSystem.out.println(token);\r\n\t\t\t\r\n\t\t\tif (token.contains(&quot;]&quot;)) {\r\n\t\t\t\tchar[] endStr = null;\r\n\t\t\t\t\r\n\t\t\t\tif (!token.endsWith(&quot;]&quot;)) {\r\n\t\t\t\t\tString[] subTokens = token.split(&quot;]&quot;);\r\n\t\t\t\t\ttoken = subTokens[0];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!subTokens[1].equalsIgnoreCase(&quot;*&quot;)) {\r\n\t\t\t\t\t\tendStr = subTokens[1].toCharArray();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (token.startsWith(&quot;^&quot;)) {\r\n\t\t\t\t\tString subStr = token.substring(1, token.length() - 1);\r\n\t\t\t\t\tchar[] subChar = subStr.toCharArray();\r\n\t\t\t\t\tSet set = new HashSet&lt;Character&gt;();\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (int p = 0; p &lt; subChar.length; p++) {\r\n\t\t\t\t\t\tset.add(subChar[p]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tint asci = 1;\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\tchar newChar = (char) (subChar[0] + (asci++));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!set.contains(newChar)) {\r\n\t\t\t\t\t\t\tpattern[i++] = newChar;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (endStr != null) {\r\n\t\t\t\t\t\tfor (int r = 0; r &lt; endStr.length; r++) {\r\n\t\t\t\t\t\t\tpattern[i++] = endStr[r];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpattern[i++] = token.charAt(0);\r\n\t\t\t\t}\r\n\t\t\t} else if (token.contains(&quot;}&quot;)) {\r\n\t\t\t\tchar[] endStr = null;\r\n\t\t\t\t\r\n\t\t\t\tif (!token.endsWith(&quot;}&quot;)) {\r\n\t\t\t\t\tString[] subTokens = token.split(&quot;}&quot;);\r\n\t\t\t\t\ttoken = subTokens[0];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!subTokens[1].equalsIgnoreCase(&quot;*&quot;)) {\r\n\t\t\t\t\t\tendStr = subTokens[1].toCharArray();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tint length = Integer.parseInt((new StringTokenizer(token, (&quot;,}&quot;))).nextToken());\r\n\t\t\t\tchar element = pattern[i - 1];\r\n\t\t\t\t\r\n\t\t\t\tfor (int j = 0; j &lt; length - 1; j++) {\r\n\t\t\t\t\tpattern[i++] = element;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (endStr != null) {\r\n\t\t\t\t\tfor (int r = 0; r &lt; endStr.length; r++) {\r\n\t\t\t\t\t\tpattern[i++] = endStr[r];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tchar[] temp = token.toCharArray();\r\n\t\t\t\t\r\n\t\t\t\tfor (int q = 0; q &lt; temp.length; q++) {\r\n\t\t\t\t\tpattern[i++] = temp[q];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tString result = &quot;&quot;;\r\n\t\t\r\n\t\tfor (int j = 0; j &lt; i; j++) {\r\n\t\t\tresult += pattern[j];\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.print(result);\r\n\t}","title":"Using Regex to generate Strings rather than match them","body":"<p>I am on flight and just saw the question: I have written easiest but inefficient and incomplete solution. I hope it may help you to start writing your own parser:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String line = \"[A-Z0-9]{16}\";\n    String[] tokens = line.split(line);\n    char[] pattern = new char[100];\n    int i = 0;\n    int len = tokens.length;\n    String sep1 = \"[{\";\n    StringTokenizer st = new StringTokenizer(line, sep1);\n\n    while (st.hasMoreTokens()) {\n        String token = st.nextToken();\n        System.out.println(token);\n\n        if (token.contains(\"]\")) {\n            char[] endStr = null;\n\n            if (!token.endsWith(\"]\")) {\n                String[] subTokens = token.split(\"]\");\n                token = subTokens[0];\n\n                if (!subTokens[1].equalsIgnoreCase(\"*\")) {\n                    endStr = subTokens[1].toCharArray();\n                }\n            }\n\n            if (token.startsWith(\"^\")) {\n                String subStr = token.substring(1, token.length() - 1);\n                char[] subChar = subStr.toCharArray();\n                Set set = new HashSet&lt;Character&gt;();\n\n                for (int p = 0; p &lt; subChar.length; p++) {\n                    set.add(subChar[p]);\n                }\n\n                int asci = 1;\n\n                while (true) {\n                    char newChar = (char) (subChar[0] + (asci++));\n\n                    if (!set.contains(newChar)) {\n                        pattern[i++] = newChar;\n                        break;\n                    }\n                }\n                if (endStr != null) {\n                    for (int r = 0; r &lt; endStr.length; r++) {\n                        pattern[i++] = endStr[r];\n                    }\n                }\n\n            } else {\n                pattern[i++] = token.charAt(0);\n            }\n        } else if (token.contains(\"}\")) {\n            char[] endStr = null;\n\n            if (!token.endsWith(\"}\")) {\n                String[] subTokens = token.split(\"}\");\n                token = subTokens[0];\n\n                if (!subTokens[1].equalsIgnoreCase(\"*\")) {\n                    endStr = subTokens[1].toCharArray();\n                }\n            }\n\n            int length = Integer.parseInt((new StringTokenizer(token, (\",}\"))).nextToken());\n            char element = pattern[i - 1];\n\n            for (int j = 0; j &lt; length - 1; j++) {\n                pattern[i++] = element;\n            }\n\n            if (endStr != null) {\n                for (int r = 0; r &lt; endStr.length; r++) {\n                    pattern[i++] = endStr[r];\n                }\n            }\n        } else {\n            char[] temp = token.toCharArray();\n\n            for (int q = 0; q &lt; temp.length; q++) {\n                pattern[i++] = temp[q];\n            }\n        }\n    }\n\n    String result = \"\";\n\n    for (int j = 0; j &lt; i; j++) {\n        result += pattern[j];\n    }\n\n    System.out.print(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1300126,"reputation":3092,"user_id":1250229,"display_name":"Mifmif"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1569566804,"creation_date":1404925082,"answer_id":24659605,"question_id":22115,"body_markdown":"It&#39;s too late to help the original poster, but it could help a newcomer. [Generex][1] is a useful java library that provides many features for using regexes to generate strings (random generation, generating a string based on its index, generating all strings...).\r\n\r\nExample :\r\n\r\n    Generex generex = new Generex(&quot;[0-3]([a-c]|[e-g]{1,2})&quot;);\r\n\r\n    // generate the second String in lexicographical order that matches the given Regex.\r\n    String secondString = generex.getMatchedString(2);\r\n    System.out.println(secondString);// it print &#39;0b&#39;\r\n\r\n    // Generate all String that matches the given Regex.\r\n    List&lt;String&gt; matchedStrs = generex.getAllMatchedStrings();\r\n\r\n    // Using Generex iterator\r\n    Iterator iterator = generex.iterator();\r\n    while (iterator.hasNext()) {\r\n        System.out.print(iterator.next() + &quot; &quot;);\r\n    }\r\n    // it prints 0a 0b 0c 0e 0ee 0e 0e 0f 0fe 0f 0f 0g 0ge 0g 0g 1a 1b 1c 1e\r\n    // 1ee 1e 1e 1f 1fe 1f 1f 1g 1ge 1g 1g 2a 2b 2c 2e 2ee 2e 2e 2f 2fe 2f 2f 2g\r\n    // 2ge 2g 2g 3a 3b 3c 3e 3ee 3e 3e 3f 3fe 3f 3f 3g 3ge 3g 3g 1ee\r\n\r\n    // Generate random String\r\n    String randomStr = generex.random();\r\n    System.out.println(randomStr);// a random value from the previous String list\r\n\r\n**Disclosure**\r\n\r\nThe project mentioned on this post belongs to the user answering (Mifmif) the question. As per the [rules][2], this need to be brought up.\r\n\r\n\r\n  [1]: https://github.com/mifmif/Generex\r\n  [2]: https://stackoverflow.com/help/behavior","title":"Using Regex to generate Strings rather than match them","body":"<p>It's too late to help the original poster, but it could help a newcomer. <a href=\"https://github.com/mifmif/Generex\" rel=\"noreferrer\">Generex</a> is a useful java library that provides many features for using regexes to generate strings (random generation, generating a string based on its index, generating all strings...).</p>\n\n<p>Example :</p>\n\n<pre><code>Generex generex = new Generex(\"[0-3]([a-c]|[e-g]{1,2})\");\n\n// generate the second String in lexicographical order that matches the given Regex.\nString secondString = generex.getMatchedString(2);\nSystem.out.println(secondString);// it print '0b'\n\n// Generate all String that matches the given Regex.\nList&lt;String&gt; matchedStrs = generex.getAllMatchedStrings();\n\n// Using Generex iterator\nIterator iterator = generex.iterator();\nwhile (iterator.hasNext()) {\n    System.out.print(iterator.next() + \" \");\n}\n// it prints 0a 0b 0c 0e 0ee 0e 0e 0f 0fe 0f 0f 0g 0ge 0g 0g 1a 1b 1c 1e\n// 1ee 1e 1e 1f 1fe 1f 1f 1g 1ge 1g 1g 2a 2b 2c 2e 2ee 2e 2e 2f 2fe 2f 2f 2g\n// 2ge 2g 2g 3a 3b 3c 3e 3ee 3e 3e 3f 3fe 3f 3f 3g 3ge 3g 3g 1ee\n\n// Generate random String\nString randomStr = generex.random();\nSystem.out.println(randomStr);// a random value from the previous String list\n</code></pre>\n\n<p><strong>Disclosure</strong></p>\n\n<p>The project mentioned on this post belongs to the user answering (Mifmif) the question. As per the <a href=\"https://stackoverflow.com/help/behavior\">rules</a>, this need to be brought up.</p>\n"},{"tags":[],"owner":{"account_id":10278183,"reputation":39,"user_id":7584324,"display_name":"Angelo Gargantini"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1489633848,"creation_date":1489633848,"answer_id":42824600,"question_id":22115,"body_markdown":"If you want to generate &quot;critical&quot; strings, you may want to consider:\r\n\r\nEGRET http://elarson.pythonanywhere.com/\r\nthat generates &quot;evil&quot; strings covering your regular expressions\r\n\r\nMUTREX http://cs.unibg.it/mutrex/\r\nthat generates fault-detecting strings by regex mutation\r\n\r\nBoth are academic tools (I am one of the authors of the latter) and work reasonably well.","title":"Using Regex to generate Strings rather than match them","body":"<p>If you want to generate \"critical\" strings, you may want to consider:</p>\n\n<p>EGRET <a href=\"http://elarson.pythonanywhere.com/\" rel=\"nofollow noreferrer\">http://elarson.pythonanywhere.com/</a>\nthat generates \"evil\" strings covering your regular expressions</p>\n\n<p>MUTREX <a href=\"http://cs.unibg.it/mutrex/\" rel=\"nofollow noreferrer\">http://cs.unibg.it/mutrex/</a>\nthat generates fault-detecting strings by regex mutation</p>\n\n<p>Both are academic tools (I am one of the authors of the latter) and work reasonably well.</p>\n"},{"tags":[],"owner":{"account_id":101994,"reputation":8987,"user_id":274030,"display_name":"Everett"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1500257249,"creation_date":1500257249,"answer_id":45135063,"question_id":22115,"body_markdown":"This question is very old, but I stumbled across it on my own search, so I will include a couple links for others who might be searching for the same functionality in other languages.\r\n\r\n- There is a Node.js library here: https://github.com/fent/randexp.js\r\n- There is a PHP library here: https://github.com/icomefromthenet/ReverseRegex\r\n- The PHP faker package includes a &quot;regexify&quot; method that accomplishes this: https://packagist.org/packages/fzaninotto/faker","title":"Using Regex to generate Strings rather than match them","body":"<p>This question is very old, but I stumbled across it on my own search, so I will include a couple links for others who might be searching for the same functionality in other languages.</p>\n\n<ul>\n<li>There is a Node.js library here: <a href=\"https://github.com/fent/randexp.js\" rel=\"nofollow noreferrer\">https://github.com/fent/randexp.js</a></li>\n<li>There is a PHP library here: <a href=\"https://github.com/icomefromthenet/ReverseRegex\" rel=\"nofollow noreferrer\">https://github.com/icomefromthenet/ReverseRegex</a></li>\n<li>The PHP faker package includes a \"regexify\" method that accomplishes this: <a href=\"https://packagist.org/packages/fzaninotto/faker\" rel=\"nofollow noreferrer\">https://packagist.org/packages/fzaninotto/faker</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5220346,"reputation":2825,"user_id":4174003,"display_name":"Vladislav Varslavans"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1661129932,"creation_date":1573542812,"answer_id":58813696,"question_id":22115,"body_markdown":"This question is really old, though the problem was actual for me.\r\nI&#39;ve tried [xeger][1] and [Generex][2] and they doesn&#39;t seem to meet my reguirements. \r\nThey actually fail to process some of the regex patterns (like `a{60000}`) or for others (e.g. `(A|B|C|D|E|F)`) they just don&#39;t produce all possible values. Since I didn&#39;t find any another appropriate solution - I&#39;ve created my own library.\r\n\r\nhttps://github.com/curious-odd-man/RgxGen\r\n\r\nThis library can be used to generate both matching and non-matching string.\r\n\r\nThere is also artifact on maven central available. \r\n\r\nUsage example:\r\n\r\n    RgxGen rgxGen = new RgxGen(aRegex);                     // Create generator\r\n    String s = rgxGen.generate();                           // Generate new random value\r\n\r\n\r\n\r\n  [1]: http://code.google.com/p/xeger\r\n  [2]: https://github.com/mifmif/Generex","title":"Using Regex to generate Strings rather than match them","body":"<p>This question is really old, though the problem was actual for me.\nI've tried <a href=\"http://code.google.com/p/xeger\" rel=\"noreferrer\">xeger</a> and <a href=\"https://github.com/mifmif/Generex\" rel=\"noreferrer\">Generex</a> and they doesn't seem to meet my reguirements.\nThey actually fail to process some of the regex patterns (like <code>a{60000}</code>) or for others (e.g. <code>(A|B|C|D|E|F)</code>) they just don't produce all possible values. Since I didn't find any another appropriate solution - I've created my own library.</p>\n<p><a href=\"https://github.com/curious-odd-man/RgxGen\" rel=\"noreferrer\">https://github.com/curious-odd-man/RgxGen</a></p>\n<p>This library can be used to generate both matching and non-matching string.</p>\n<p>There is also artifact on maven central available.</p>\n<p>Usage example:</p>\n<pre><code>RgxGen rgxGen = new RgxGen(aRegex);                     // Create generator\nString s = rgxGen.generate();                           // Generate new random value\n</code></pre>\n"}],"owner":{"account_id":1789,"reputation":7779,"user_id":2455,"accept_rate":82,"display_name":"Andrew Harmel-Law"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111991,"favorite_count":0,"down_vote_count":0,"up_vote_count":133,"closed_date":1685106228,"accepted_answer_id":22133,"answer_count":12,"score":133,"last_activity_date":1685182727,"creation_date":1219404941,"question_id":22115,"body_markdown":"I am writing a Java utility that helps me to generate loads of data for performance testing. It would be *really* cool to be able to specify a regex for Strings so that my generator spits out things that match this. \r\n\r\nIs something out there already baked that I can use to do this?  Or is there a library that gets me most of the way there?","title":"Using Regex to generate Strings rather than match them","body":"<p>I am writing a Java utility that helps me to generate loads of data for performance testing. It would be <em>really</em> cool to be able to specify a regex for Strings so that my generator spits out things that match this.</p>\n<p>Is something out there already baked that I can use to do this?  Or is there a library that gets me most of the way there?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":26294109,"reputation":242,"user_id":19960660,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685181466,"creation_date":1684803578,"answer_id":76310699,"question_id":76309903,"body_markdown":"Reading the error, this might take place when the jackson library (responsible for (de-)serializing the incoming and outgoing request/response objects from json to their respective objects and vice versa.\r\n\r\nThe problem you have might be one of two things, or both:\r\n - You didn&#39;t set the property content-type when making a request to the backend\r\n - You didn&#39;t annotate the motivationFile properly\r\n\r\nWhen sending the request, be sure to use the form data content type.\r\nFor your entity class, you&#39;d have to annotate the field with @Lob and optionally define what type of file you&#39;re saving.\r\nE.g.\r\n```java\r\n//...\r\n    @Lob\r\n    @Column(... , columnDefiniton=&quot;BLOB&quot;)\r\n    @JdbcTypeCode(SqlTypes.BLOB)\r\n    private Blob motivationFile\r\n//...\r\n```","title":"InvalidDefinitionException: No serializer found for class java.io.ByteArrayInputStream when storing files in Blob column with Spring Boot","body":"<p>Reading the error, this might take place when the jackson library (responsible for (de-)serializing the incoming and outgoing request/response objects from json to their respective objects and vice versa.</p>\n<p>The problem you have might be one of two things, or both:</p>\n<ul>\n<li>You didn't set the property content-type when making a request to the backend</li>\n<li>You didn't annotate the motivationFile properly</li>\n</ul>\n<p>When sending the request, be sure to use the form data content type.\nFor your entity class, you'd have to annotate the field with @Lob and optionally define what type of file you're saving.\nE.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\n    @Lob\n    @Column(... , columnDefiniton=&quot;BLOB&quot;)\n    @JdbcTypeCode(SqlTypes.BLOB)\n    private Blob motivationFile\n//...\n</code></pre>\n"}],"owner":{"account_id":27109365,"reputation":11,"user_id":20654745,"display_name":"Laure Vigouroux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685181466,"creation_date":1684789550,"question_id":76309903,"body_markdown":"I am starting to work on a project with spring boot and angular, and I have a database where I want to store a file. I have set this column to Blob, but after populating my database, with files, Spring does not want to work anymore.\r\n\r\nHere is the error I got :\r\n\r\n    ERROR[0;39m [35m19036[0;39m [2m---[0;39m [2m[nio-8080-exec-7][0;39m [36mo.a.c.c.C.[.[.[.[dispatcherServlet]     [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/alternance] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.io.ByteArrayInputStream]] with root cause  com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[7]-&gt;com.alternance.dto.StageDTO[&quot;motivationFile&quot;]-&gt;jdk.proxy2.$Proxy134[&quot;wrappedBlob&quot;]-&gt;com.mysql.cj.jdbc.Blob[&quot;binaryStream&quot;]) \t\r\n\r\nHere is the code that seems to be the problem :\r\n\r\n```\r\nimport java.sql.Blob;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Stage {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue (strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate Blob motivationFile;\r\n```\r\n\r\n  Can someone help me ?","title":"InvalidDefinitionException: No serializer found for class java.io.ByteArrayInputStream when storing files in Blob column with Spring Boot","body":"<p>I am starting to work on a project with spring boot and angular, and I have a database where I want to store a file. I have set this column to Blob, but after populating my database, with files, Spring does not want to work anymore.</p>\n<p>Here is the error I got :</p>\n<pre><code>ERROR[0;39m [35m19036[0;39m [2m---[0;39m [2m[nio-8080-exec-7][0;39m [36mo.a.c.c.C.[.[.[.[dispatcherServlet]     [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/alternance] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.io.ByteArrayInputStream]] with root cause  com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[7]-&gt;com.alternance.dto.StageDTO[&quot;motivationFile&quot;]-&gt;jdk.proxy2.$Proxy134[&quot;wrappedBlob&quot;]-&gt;com.mysql.cj.jdbc.Blob[&quot;binaryStream&quot;])   \n</code></pre>\n<p>Here is the code that seems to be the problem :</p>\n<pre><code>import java.sql.Blob;\nimport java.util.Date;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Stage {\n    \n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private Long id;\n    private Blob motivationFile;\n</code></pre>\n<p>Can someone help me ?</p>\n"},{"tags":["java","spring-boot","okhttp","spring-cloud-feign"],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685181201,"creation_date":1685181201,"question_id":76346331,"body_markdown":"We are using springboot app and using feign-okhttp for rest calls, everything is working fine but performance stats are not that good. Performance scenario is based on single user calling the api maybe only 2-3 times a day. I know okhttpclient uses connection pool as default with 5 ideal connection. But on every first hit the getconnection() method of okhttpclient is returning 0 , so in every case it is creating a new connection.\r\n\r\nI want a way to load the okhttp connection pool with some warm threads so that first call will take the connection from there. I have checked dispatcher but not very confident to use a executor of my own.","title":"Okhttpclient first call creating new connection","body":"<p>We are using springboot app and using feign-okhttp for rest calls, everything is working fine but performance stats are not that good. Performance scenario is based on single user calling the api maybe only 2-3 times a day. I know okhttpclient uses connection pool as default with 5 ideal connection. But on every first hit the getconnection() method of okhttpclient is returning 0 , so in every case it is creating a new connection.</p>\n<p>I want a way to load the okhttp connection pool with some warm threads so that first call will take the connection from there. I have checked dispatcher but not very confident to use a executor of my own.</p>\n"},{"tags":["java","apache-kafka","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685181368,"post_id":76346329,"comment_id":134627914,"body_markdown":"not sure if this is the root cause of the issue. Instead of `@Transactional`, we should use `@WithTransaction`. See the [corresponding `quarkus.io` documentation](https://quarkus.io/guides/hibernate-reactive-panache#transactions). I am also not sure whether the `@Blocking` is then still necessary (I assume not).","body":"not sure if this is the root cause of the issue. Instead of <code>@Transactional</code>, we should use <code>@WithTransaction</code>. See the <a href=\"https://quarkus.io/guides/hibernate-reactive-panache#transactions\" rel=\"nofollow noreferrer\">corresponding <code>quarkus.io</code> documentation</a>. I am also not sure whether the <code>@Blocking</code> is then still necessary (I assume not)."}],"owner":{"account_id":7058415,"reputation":138,"user_id":5404744,"display_name":"Daniel Bauer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685181128,"creation_date":1685181128,"question_id":76346329,"body_markdown":"I have a Quarkus application that receives messages from Kafka and persists them in a PostgreSQL database. The application uses the non-reactive flavor of Panache. Upon receiving a message, the message is mapped to a Panache entity which is then merged into the database. This works and looks (simplified) like this:\r\n```\r\n  @Incoming(&quot;input-channel&quot;)\r\n  @Transactional(TxType.REQUIRES_NEW)\r\n  @Blocking\r\n  public void consume(Event event) {\r\n    if (event.isInsertOrUpdate()) {\r\n      Entity entity = new Entity()\r\n      /* fill in entity attributes */\r\n      Panache.getEntityManager().merge(entity);\r\n    } else {\r\n      Entity.delete(&quot;id&quot;, event.getId());\r\n    }\r\n  }\r\n```\r\n\r\nAs expected, the performance is not great. Using batch processing, I&#39;ve tried the following approach:\r\n```\r\n  @Incoming(&quot;input-channel&quot;)\r\n  @Acknowledgment(Strategy.MANUAL)\r\n  @Transactional(TxType.REQUIRES_NEW)\r\n  @Blocking\r\n  @OnOverflow(value = OnOverflow.Strategy.BUFFER, bufferSize = 2048)\r\n  public CompletionStage&lt;Void&gt; consume(Message&lt;List&lt;Event&gt;&gt; msgs) {\r\n    var batch = msgs.getPayload();\r\n    return Uni.createFrom()\r\n        .item(batch)\r\n        .onItem()\r\n        .transform(function(this::storeEvents))\r\n        .onItem()\r\n        .invoke(msgs::ack)\r\n        .onFailure()\r\n        .invoke(failure -&gt; logger.info(&quot;Processing failed with &quot;, failure))\r\n        .subscribeAsCompletionStage();\r\n  }\r\n\r\n  private Void storeEvents(List&lt;Event&gt; batch) {\r\n    for (Event event : batch) {\r\n      if (event.isInsertOrUpdate()) {\r\n        Entity entity = new Entity()\r\n        /* fill in entity attributes */\r\n        Panache.getEntityManager().merge(entity);\r\n      } else {\r\n        Entity.delete(&quot;id&quot;, event.getId());\r\n      }\r\n    }\r\n```\r\n\r\nWhen running this for some time (sometimes hours), the following exception appears:\r\n```\r\n2023-05-27 08:26:13,809 WARN  [com.arj.ats.arjuna] (executor-thread-1) ARJUNA012094: Commit of action id 0:ffffac1ebe13:8d07:6471bc2f:2376 invoked while multiple threads active within it.\r\n2023-05-27 08:26:13,811 WARN  [com.arj.ats.arjuna] (executor-thread-1) ARJUNA012107: CheckedAction::check - atomic action 0:ffffac1ebe13:8d07:6471bc2f:2376 commiting with 2 threads active!\r\n2023-05-27 08:26:13,816 WARN  [com.arj.ats.jta] (executor-thread-1) ARJUNA016039: onePhaseCommit on &lt; formatId=131077, gtrid_length=35, bqual_length=36, tx_uid=0:ffffac1ebe13:8d07:6471bc2f:2376, node_name=quarkus, branch_uid=0:ffffac1ebe13:8d07:6471bc2f:2379, subordinatenodename=null, eis_name=0 &gt; (io.agroal.narayana.LocalXAResource@2d332e1b) failed with exception XAException.XA_RBROLLBACK: javax.transaction.xa.XAException: Error trying to transactionCommit local transaction: Enlisted connection used without active transaction\r\n\tat io.agroal.narayana.LocalXAResource.xaException(LocalXAResource.java:140)\r\n\tat io.agroal.narayana.LocalXAResource.xaException(LocalXAResource.java:134)\r\n\tat io.agroal.narayana.LocalXAResource.commit(LocalXAResource.java:72)\r\n\tat com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord.topLevelOnePhaseCommit(XAResourceRecord.java:702)\r\n\tat com.arjuna.ats.arjuna.coordinator.BasicAction.onePhaseCommit(BasicAction.java:2400)\r\n\tat com.arjuna.ats.arjuna.coordinator.BasicAction.End(BasicAction.java:1502)\r\n\tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:96)\r\n\tat com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)\r\n\tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1295)\r\n\tat com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:128)\r\n\tat io.quarkus.narayana.jta.runtime.NotifyingTransactionManager.commit(NotifyingTransactionManager.java:70)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.endTransaction(TransactionalInterceptorBase.java:406)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.lambda$handleAsync$2(TransactionalInterceptorBase.java:254)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.doInTransaction(TransactionalInterceptorBase.java:324)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.lambda$handleAsync$3(TransactionalInterceptorBase.java:251)\r\n\tat io.smallrye.context.impl.wrappers.SlowContextualBiFunction.apply(SlowContextualBiFunction.java:21)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniHandleStage(CompletableFuture.java:950)\r\n\tat java.base/java.util.concurrent.CompletableFuture.handle(CompletableFuture.java:2340)\r\n\tat io.smallrye.context.CompletableFutureWrapper.handle(CompletableFutureWrapper.java:192)\r\n\tat io.smallrye.context.CompletableFutureWrapper.handle(CompletableFutureWrapper.java:17)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.handleAsync(TransactionalInterceptorBase.java:249)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:157)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequiresNew.doIntercept(TransactionalInterceptorRequiresNew.java:41)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequiresNew.intercept(TransactionalInterceptorRequiresNew.java:32)\r\n\tat io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequiresNew_Bean.intercept(Unknown Source)\r\n\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\r\n\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:38)\r\n\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:26)\r\n\tat org.acme.test.PostgresqlController_Subclass.consume(Unknown Source)\r\n```\r\n\r\nThis happens using Quarkus 3.0.4.Final with extensions `quarkus-hibernate-orm-panache`, `quarkus-jdbc-postgresql`, `quarkus-smallrye-reactive-messaging-kafka`.\r\n\r\nMy question: What am I doing wrong? Is batch processing supported in combination with Panache (or Hibernate)?\r\n","title":"Transaction failure when persisting Kafka messages in batch mode using Quarkus Panache","body":"<p>I have a Quarkus application that receives messages from Kafka and persists them in a PostgreSQL database. The application uses the non-reactive flavor of Panache. Upon receiving a message, the message is mapped to a Panache entity which is then merged into the database. This works and looks (simplified) like this:</p>\n<pre><code>  @Incoming(&quot;input-channel&quot;)\n  @Transactional(TxType.REQUIRES_NEW)\n  @Blocking\n  public void consume(Event event) {\n    if (event.isInsertOrUpdate()) {\n      Entity entity = new Entity()\n      /* fill in entity attributes */\n      Panache.getEntityManager().merge(entity);\n    } else {\n      Entity.delete(&quot;id&quot;, event.getId());\n    }\n  }\n</code></pre>\n<p>As expected, the performance is not great. Using batch processing, I've tried the following approach:</p>\n<pre><code>  @Incoming(&quot;input-channel&quot;)\n  @Acknowledgment(Strategy.MANUAL)\n  @Transactional(TxType.REQUIRES_NEW)\n  @Blocking\n  @OnOverflow(value = OnOverflow.Strategy.BUFFER, bufferSize = 2048)\n  public CompletionStage&lt;Void&gt; consume(Message&lt;List&lt;Event&gt;&gt; msgs) {\n    var batch = msgs.getPayload();\n    return Uni.createFrom()\n        .item(batch)\n        .onItem()\n        .transform(function(this::storeEvents))\n        .onItem()\n        .invoke(msgs::ack)\n        .onFailure()\n        .invoke(failure -&gt; logger.info(&quot;Processing failed with &quot;, failure))\n        .subscribeAsCompletionStage();\n  }\n\n  private Void storeEvents(List&lt;Event&gt; batch) {\n    for (Event event : batch) {\n      if (event.isInsertOrUpdate()) {\n        Entity entity = new Entity()\n        /* fill in entity attributes */\n        Panache.getEntityManager().merge(entity);\n      } else {\n        Entity.delete(&quot;id&quot;, event.getId());\n      }\n    }\n</code></pre>\n<p>When running this for some time (sometimes hours), the following exception appears:</p>\n<pre><code>2023-05-27 08:26:13,809 WARN  [com.arj.ats.arjuna] (executor-thread-1) ARJUNA012094: Commit of action id 0:ffffac1ebe13:8d07:6471bc2f:2376 invoked while multiple threads active within it.\n2023-05-27 08:26:13,811 WARN  [com.arj.ats.arjuna] (executor-thread-1) ARJUNA012107: CheckedAction::check - atomic action 0:ffffac1ebe13:8d07:6471bc2f:2376 commiting with 2 threads active!\n2023-05-27 08:26:13,816 WARN  [com.arj.ats.jta] (executor-thread-1) ARJUNA016039: onePhaseCommit on &lt; formatId=131077, gtrid_length=35, bqual_length=36, tx_uid=0:ffffac1ebe13:8d07:6471bc2f:2376, node_name=quarkus, branch_uid=0:ffffac1ebe13:8d07:6471bc2f:2379, subordinatenodename=null, eis_name=0 &gt; (io.agroal.narayana.LocalXAResource@2d332e1b) failed with exception XAException.XA_RBROLLBACK: javax.transaction.xa.XAException: Error trying to transactionCommit local transaction: Enlisted connection used without active transaction\n    at io.agroal.narayana.LocalXAResource.xaException(LocalXAResource.java:140)\n    at io.agroal.narayana.LocalXAResource.xaException(LocalXAResource.java:134)\n    at io.agroal.narayana.LocalXAResource.commit(LocalXAResource.java:72)\n    at com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord.topLevelOnePhaseCommit(XAResourceRecord.java:702)\n    at com.arjuna.ats.arjuna.coordinator.BasicAction.onePhaseCommit(BasicAction.java:2400)\n    at com.arjuna.ats.arjuna.coordinator.BasicAction.End(BasicAction.java:1502)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:96)\n    at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1295)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:128)\n    at io.quarkus.narayana.jta.runtime.NotifyingTransactionManager.commit(NotifyingTransactionManager.java:70)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.endTransaction(TransactionalInterceptorBase.java:406)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.lambda$handleAsync$2(TransactionalInterceptorBase.java:254)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.doInTransaction(TransactionalInterceptorBase.java:324)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.lambda$handleAsync$3(TransactionalInterceptorBase.java:251)\n    at io.smallrye.context.impl.wrappers.SlowContextualBiFunction.apply(SlowContextualBiFunction.java:21)\n    at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)\n    at java.base/java.util.concurrent.CompletableFuture.uniHandleStage(CompletableFuture.java:950)\n    at java.base/java.util.concurrent.CompletableFuture.handle(CompletableFuture.java:2340)\n    at io.smallrye.context.CompletableFutureWrapper.handle(CompletableFutureWrapper.java:192)\n    at io.smallrye.context.CompletableFutureWrapper.handle(CompletableFutureWrapper.java:17)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.handleAsync(TransactionalInterceptorBase.java:249)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:157)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequiresNew.doIntercept(TransactionalInterceptorRequiresNew.java:41)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequiresNew.intercept(TransactionalInterceptorRequiresNew.java:32)\n    at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequiresNew_Bean.intercept(Unknown Source)\n    at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\n    at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:38)\n    at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:26)\n    at org.acme.test.PostgresqlController_Subclass.consume(Unknown Source)\n</code></pre>\n<p>This happens using Quarkus 3.0.4.Final with extensions <code>quarkus-hibernate-orm-panache</code>, <code>quarkus-jdbc-postgresql</code>, <code>quarkus-smallrye-reactive-messaging-kafka</code>.</p>\n<p>My question: What am I doing wrong? Is batch processing supported in combination with Panache (or Hibernate)?</p>\n"},{"tags":["java","jpeg","javax.imageio","color-profile"],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1613408604,"creation_date":1613388274,"answer_id":66207152,"question_id":66081438,"body_markdown":"Short answer: If you discard the ICC color profile from the JPEG, there&#39;s no way to ensure the colors will be correct (unless you also fully control the reading of these files). \r\n\r\nHowever, the current code does not just &quot;discard&quot; ICC profiles, instead the images will always end up as plain RGB color space, using sRGB profile, and will be properly converted by Java2D along the way. As the sRGB profile will typically not be embedded, your images will display as intended using software that uses sRGB as default profile.\r\n\r\n---\r\n\r\nLong answer: \r\n\r\n1. Passing `true` for the `ignoreMetadata` of `ImageReader.setInput` method, is simply a *hint* to the reader that it *may* ignore meta data. It does not enforce skipping meta data (and most likely, an ICC profile should not be considered metadata anyway). From the JavaDoc: \r\n\r\n   &gt; The `ignoreMetadata` parameter, if set to `true`, allows the reader to disregard any metadata encountered during the read. [...] The reader may choose to disregard this setting and return metadata normally.\r\n\r\n2. When dealing with `BufferedImage`s in Java, images will always use a color profile. Your `oldImage` should *either* have its original color profile from the JPEG, or be converted from this profile to sRGB. Exactly how this works (if at all) is entirely plugin dependent. But to the best of my understanding, the standard ImageIO JPEG plugin will read the embedded ICC profile, and convert the results to sRGB. \r\n\r\n3. Exactly what happens when you use `Image.getScaledImage` I&#39;m not sure, as the old AWT `Image` API is not something I use. Most likely, the image was already using sRGB and will still use sRGB profile. It should not modify color.\r\n\r\n4. In any case, `newImage` will always be RGB in sRGB profile, as there is no profile information carried over to the `BufferedImage` constructor used. Non-RGB images will always be `TYPE_CUSTOM`, and thus converted to `TYPE_INT_(A)RGB`. Note that images with alpha channels will typically not be interpreted as intended by other JPEG software, and I believe support was removed from recent JDKs, so my advice is to always remove any alpha channel before writing as JPEG.\r\n\r\n5. Finally, `writer.write` (without any metadata) will, for the standard ImageIO JPEG plugin simply write the image as JPEG in JFIF format (if possible). It will only write an ICC profile if the image to be written is in a non-standard profile. For sRGB it will not write one (I&#39;m assuming `imageWriteParam` are all defaults). \r\n\r\nPS: The original JFIF format did not specify a default color profile, but I believe later amendments (like IEC 61966-2-1) does specify sRGB as default. The Exif format allows specifying sRGB as the color profile without actually embedding it, by setting the Exif `ColorSpace` tag (tag `40961`) to `1`. The standard JPEG plugin does not write Exif files (without significant code on your part). \r\n\r\nYou can verify most of the statements above by carefully studying the source code for the JDK. \r\n","title":"Safely discarding ICC profile information in Java Image I/O","body":"<p>Short answer: If you discard the ICC color profile from the JPEG, there's no way to ensure the colors will be correct (unless you also fully control the reading of these files).</p>\n<p>However, the current code does not just &quot;discard&quot; ICC profiles, instead the images will always end up as plain RGB color space, using sRGB profile, and will be properly converted by Java2D along the way. As the sRGB profile will typically not be embedded, your images will display as intended using software that uses sRGB as default profile.</p>\n<hr />\n<p>Long answer:</p>\n<ol>\n<li><p>Passing <code>true</code> for the <code>ignoreMetadata</code> of <code>ImageReader.setInput</code> method, is simply a <em>hint</em> to the reader that it <em>may</em> ignore meta data. It does not enforce skipping meta data (and most likely, an ICC profile should not be considered metadata anyway). From the JavaDoc:</p>\n<blockquote>\n<p>The <code>ignoreMetadata</code> parameter, if set to <code>true</code>, allows the reader to disregard any metadata encountered during the read. [...] The reader may choose to disregard this setting and return metadata normally.</p>\n</blockquote>\n</li>\n<li><p>When dealing with <code>BufferedImage</code>s in Java, images will always use a color profile. Your <code>oldImage</code> should <em>either</em> have its original color profile from the JPEG, or be converted from this profile to sRGB. Exactly how this works (if at all) is entirely plugin dependent. But to the best of my understanding, the standard ImageIO JPEG plugin will read the embedded ICC profile, and convert the results to sRGB.</p>\n</li>\n<li><p>Exactly what happens when you use <code>Image.getScaledImage</code> I'm not sure, as the old AWT <code>Image</code> API is not something I use. Most likely, the image was already using sRGB and will still use sRGB profile. It should not modify color.</p>\n</li>\n<li><p>In any case, <code>newImage</code> will always be RGB in sRGB profile, as there is no profile information carried over to the <code>BufferedImage</code> constructor used. Non-RGB images will always be <code>TYPE_CUSTOM</code>, and thus converted to <code>TYPE_INT_(A)RGB</code>. Note that images with alpha channels will typically not be interpreted as intended by other JPEG software, and I believe support was removed from recent JDKs, so my advice is to always remove any alpha channel before writing as JPEG.</p>\n</li>\n<li><p>Finally, <code>writer.write</code> (without any metadata) will, for the standard ImageIO JPEG plugin simply write the image as JPEG in JFIF format (if possible). It will only write an ICC profile if the image to be written is in a non-standard profile. For sRGB it will not write one (I'm assuming <code>imageWriteParam</code> are all defaults).</p>\n</li>\n</ol>\n<p>PS: The original JFIF format did not specify a default color profile, but I believe later amendments (like IEC 61966-2-1) does specify sRGB as default. The Exif format allows specifying sRGB as the color profile without actually embedding it, by setting the Exif <code>ColorSpace</code> tag (tag <code>40961</code>) to <code>1</code>. The standard JPEG plugin does not write Exif files (without significant code on your part).</p>\n<p>You can verify most of the statements above by carefully studying the source code for the JDK.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66207152,"answer_count":1,"score":1,"last_activity_date":1685180593,"creation_date":1612642190,"question_id":66081438,"body_markdown":"I&#39;m using Java Image I/O with Java 11 to read a JPEG image, scale it by drawing a scaled version, and then writing it. (I am using [this technique][1] because it produces good results and the JAI subsample average technique I tried left black borders on some sides of the image.)\r\n\r\nImportantly I am _discarding all metadata._ (I separately write a tiny bit of metadata back to the final image later, but that is not relevant to this discussion.)\r\n\r\n\r\n```java\r\n…\r\nimageReader.setInput(imageInputStream, true, true); //ignore metadata\r\noldImage = imageReader.read(0, imageReadParam);\r\n…\r\nImage scaledImage = oldImage.getScaledInstance(newWidth, newHeight, Image.SCALE_SMOOTH);\r\nint oldImageType = oldImage.getType();\r\nint newImageType = oldImageType != BufferedImage.TYPE_CUSTOM ? oldImageType //use the existing image type if it isn&#39;t custom\r\n    : (oldImage.getTransparency() == Transparency.OPAQUE) ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB; //otherwise use RGB unless ARGB is needed for transparency\r\nnewImage = new BufferedImage(newWidth, newHeight, newImageType);\r\nfinal Graphics2D graphics = newImage.createGraphics();\r\ntry {\r\n  graphics.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n  graphics.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n  graphics.drawImage(scaledImage, null, null);\r\n} finally {\r\n  graphics.dispose();\r\n}\r\nscaledImage.flush();\r\n…\r\nimageWriter.setOutput(imageOutputStream);\r\nIIOImage iioImage = new IIOImage(newImage, null, null); //write with no thumbnails and no metadata\r\nimageWriter.write(null, iioImage, imageWriteParam);\r\n…\r\n```\r\n\r\nSome of the input images have ICC profile metadata section. I worry whether discarding the ICC profile metadata will change how the resulting image will appear. I understand what image color profiles are conceptually, but I don&#39;t know how they work in files and how they interact with color spaces.\r\n\r\nMy question summarized: **If I invariably discard ICC profile and other profile-related metadata sections when processing images using Java Image I/O, how can I ensure that my resulting image colors will be correct?**\r\n\r\nFrom a discussion with someone, I inferred that these ICC profiles may be for color spaces other than sRGB. (Is that true?) If so, does converting the image to sRGB with Java Image I/O take the ICC profile into account so that I can discard it? And if so, how do I know if I&#39;m converting to sRGB or not?\r\n\r\nIn the code above I try to use the existing image type (because I thought it was a good idea not to change anything) unless the type is &quot;custom&quot;, in which case I choose one of the simple RGB types.\r\n\r\n```java\r\nint newImageType = oldImageType != BufferedImage.TYPE_CUSTOM ? oldImageType //use the existing image type if it isn&#39;t custom\r\n    : (oldImage.getTransparency() == Transparency.OPAQUE) ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB; //otherwise use RGB unless ARGB is needed for transparency\r\n```\r\n\r\nBut if I use the old image type if possible, might that use a color space other than RGB, needing the ICC profile? And then would the image colors be incorrect if I discard the ICC profile? Should I somehow force Java Image I/O to convert to RGB?\r\n\r\nPart of my doubt is undoubtedly due to my not understanding how color profiles work in files, so a reference to some simplified overview would also be appreciated if you know of a good one (that doesn&#39;t get lost down in the mud with byte-level details).\r\n\r\n  [1]: http://www.hanhuy.com/pfn/java-image-thumbnail-comparison","title":"Safely discarding ICC profile information in Java Image I/O","body":"<p>I'm using Java Image I/O with Java 11 to read a JPEG image, scale it by drawing a scaled version, and then writing it. (I am using <a href=\"http://www.hanhuy.com/pfn/java-image-thumbnail-comparison\" rel=\"nofollow noreferrer\">this technique</a> because it produces good results and the JAI subsample average technique I tried left black borders on some sides of the image.)</p>\n<p>Importantly I am <em>discarding all metadata.</em> (I separately write a tiny bit of metadata back to the final image later, but that is not relevant to this discussion.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>…\nimageReader.setInput(imageInputStream, true, true); //ignore metadata\noldImage = imageReader.read(0, imageReadParam);\n…\nImage scaledImage = oldImage.getScaledInstance(newWidth, newHeight, Image.SCALE_SMOOTH);\nint oldImageType = oldImage.getType();\nint newImageType = oldImageType != BufferedImage.TYPE_CUSTOM ? oldImageType //use the existing image type if it isn't custom\n    : (oldImage.getTransparency() == Transparency.OPAQUE) ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB; //otherwise use RGB unless ARGB is needed for transparency\nnewImage = new BufferedImage(newWidth, newHeight, newImageType);\nfinal Graphics2D graphics = newImage.createGraphics();\ntry {\n  graphics.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n  graphics.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n  graphics.drawImage(scaledImage, null, null);\n} finally {\n  graphics.dispose();\n}\nscaledImage.flush();\n…\nimageWriter.setOutput(imageOutputStream);\nIIOImage iioImage = new IIOImage(newImage, null, null); //write with no thumbnails and no metadata\nimageWriter.write(null, iioImage, imageWriteParam);\n…\n</code></pre>\n<p>Some of the input images have ICC profile metadata section. I worry whether discarding the ICC profile metadata will change how the resulting image will appear. I understand what image color profiles are conceptually, but I don't know how they work in files and how they interact with color spaces.</p>\n<p>My question summarized: <strong>If I invariably discard ICC profile and other profile-related metadata sections when processing images using Java Image I/O, how can I ensure that my resulting image colors will be correct?</strong></p>\n<p>From a discussion with someone, I inferred that these ICC profiles may be for color spaces other than sRGB. (Is that true?) If so, does converting the image to sRGB with Java Image I/O take the ICC profile into account so that I can discard it? And if so, how do I know if I'm converting to sRGB or not?</p>\n<p>In the code above I try to use the existing image type (because I thought it was a good idea not to change anything) unless the type is &quot;custom&quot;, in which case I choose one of the simple RGB types.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int newImageType = oldImageType != BufferedImage.TYPE_CUSTOM ? oldImageType //use the existing image type if it isn't custom\n    : (oldImage.getTransparency() == Transparency.OPAQUE) ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB; //otherwise use RGB unless ARGB is needed for transparency\n</code></pre>\n<p>But if I use the old image type if possible, might that use a color space other than RGB, needing the ICC profile? And then would the image colors be incorrect if I discard the ICC profile? Should I somehow force Java Image I/O to convert to RGB?</p>\n<p>Part of my doubt is undoubtedly due to my not understanding how color profiles work in files, so a reference to some simplified overview would also be appreciated if you know of a good one (that doesn't get lost down in the mud with byte-level details).</p>\n"},{"tags":["java","android","authentication","google-oauth","google-signin"],"owner":{"account_id":28690666,"reputation":1,"user_id":21969979,"display_name":"Simuffa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685180391,"creation_date":1685180391,"question_id":76346283,"body_markdown":"I am writing to you because I could not find any answer to my problem. I&#39;m creating an android (java) application for a school that involves logging in with google to get only email, name, surname and id. I used the example google-service-master -SignInActivity- to create the login and everything works. The problem is for those devices that are managed by the parent through the family link. On these devices it is possible to add a school account but it gives the error signInResult:failed code=12500 when trying to log in. I set the user type as internal in the OAuth consent screen because I want to make the application usable only by users of my organization, but even setting it as test the error still appears. I also tried to use the google-service-master example directly and it works by logging in with the child&#39;s managed account, but not with the added school account which always returns the same 12500 error. Could anyone tell me how I can proceed? Thank you","title":"Android Google SignIn error 12500 while signing in with school account in a family link managed device","body":"<p>I am writing to you because I could not find any answer to my problem. I'm creating an android (java) application for a school that involves logging in with google to get only email, name, surname and id. I used the example google-service-master -SignInActivity- to create the login and everything works. The problem is for those devices that are managed by the parent through the family link. On these devices it is possible to add a school account but it gives the error signInResult:failed code=12500 when trying to log in. I set the user type as internal in the OAuth consent screen because I want to make the application usable only by users of my organization, but even setting it as test the error still appears. I also tried to use the google-service-master example directly and it works by logging in with the child's managed account, but not with the added school account which always returns the same 12500 error. Could anyone tell me how I can proceed? Thank you</p>\n"},{"tags":["java","eclipse-cdt","ubuntu-18.04"],"answers":[{"tags":[],"owner":{"account_id":18304023,"reputation":2622,"user_id":13328195,"display_name":"Roshin Raphel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612243889,"creation_date":1612243889,"answer_id":66004120,"question_id":54486396,"body_markdown":"Issue is with the version of Eclipse, download the [2020-12 version][1] and navigate to the download folder and unpack the file with :\r\n```\r\ntar -xvf eclipse-inst-jre-linux64.tar.gz\r\n```\r\nNow go into the `eclipse-installer` folder and type :\r\n```\r\n./eclipse-inst\r\n```\r\nThis will prompt the installer and you are good to go after that.\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/download.php?file=/oomph/epp/2020-12/R/eclipse-inst-jre-linux64.tar.gz","title":"Error when starting Eclipse from favorites toolbar java.lang.ClassNotFoundException: org.eclipse.core.runtime.adaptor.EclipseStarter","body":"<p>Issue is with the version of Eclipse, download the <a href=\"https://www.eclipse.org/downloads/download.php?file=/oomph/epp/2020-12/R/eclipse-inst-jre-linux64.tar.gz\" rel=\"nofollow noreferrer\">2020-12 version</a> and navigate to the download folder and unpack the file with :</p>\n<pre><code>tar -xvf eclipse-inst-jre-linux64.tar.gz\n</code></pre>\n<p>Now go into the <code>eclipse-installer</code> folder and type :</p>\n<pre><code>./eclipse-inst\n</code></pre>\n<p>This will prompt the installer and you are good to go after that.</p>\n"}],"owner":{"account_id":4220962,"reputation":61,"user_id":10519643,"display_name":"MasterMind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685180108,"creation_date":1549051037,"question_id":54486396,"body_markdown":"When I run Eclipse CDT 2018-12 from the directory it works perfectly fine:\r\n\r\n/home/fatih/eclipse/cpp-2018-12/eclipse/eclipse\r\n\r\nWhen I add the very same, i.e. the recently started session of Eclipse, to the favorites toolbar, I cannot start by clicking on the eclipse icon on the favorites toolbar.\r\n\r\nI want to ask how I can still start from the favorites toolbar by solving these errors.\r\n\r\nI get the following error message:\r\n\r\n    An error has occurred.  See the log file\r\n    /home/fatih/.eclipse/org.eclipse.platform_3.8_155965261/configuration/1549048971236.log\r\n    \r\n        !SESSION Fri Feb 01 20:22:51 CET 2019 ------------------------------------------\r\n    !ENTRY org.eclipse.equinox.launcher 4 0 2019-02-01 20:22:51.266\r\n    !MESSAGE Exception launching the Eclipse Platform:\r\n    !STACK\r\n\r\n\r\nWhen I open the log message the following can be found:\r\n\r\n\r\n    java.lang.ClassNotFoundException: org.eclipse.core.runtime.adaptor.EclipseStarter\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:626)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1438)\r\n    \tat org.eclipse.equinox.launcher.Main.main(Main.java:1414)\r\n\r\n\r\nI have also followed the contents from [this][1] and [this][2] other threads. However, this also does not solve the problem in my case. Therefore, it is also not a double of those two threads. Just for completeness, I would also like to add the content of the config.ini and eclipse.ini files below:\r\n\r\nconfig.ini\r\n\r\n    #This configuration file was written by: org.eclipse.oomph.p2.internal.core.AgentImpl\r\n    #Fri Feb 01 19:51:30 CET 2019\r\n    eclipse.product=org.eclipse.platform.ide\r\n    osgi.splashPath=file\\:/home/fatih/.p2/pool/plugins/org.eclipse.platform_4.10.0.v20181206-0815\r\n    org.eclipse.equinox.simpleconfigurator.configUrl=file\\:org.eclipse.equinox.simpleconfigurator/bundles.info\r\n    osgi.bundles.defaultStartLevel=4\r\n    eclipse.application=org.eclipse.ui.ide.workbench\r\n    osgi.instance.area.default=@user.home/workspace\r\n    osgi.bundles=reference\\:file\\:/home/fatih/.p2/pool/plugins/org.eclipse.equinox.simpleconfigurator_1.3.200.v20181101-1115.jar@1\\:start\r\n    eclipse.p2.data.area=file\\:/home/fatih/.p2/\r\n    eclipse.p2.profile=_home_fatih_eclipse_cpp-2018-12_eclipse\r\n    osgi.framework=file\\:/home/fatih/.p2/pool/plugins/org.eclipse.osgi_3.13.200.v20181130-2106.jar\r\n    osgi.framework.extensions=reference\\:file\\:/home/fatih/.p2/pool/plugins/org.eclipse.osgi.compatibility.state_1.1.300.v20181116-1550.jar\r\n    eclipse.buildId=4.10.0.I20181206-0815\r\n\r\neclipse.ini\r\n\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.5.200.v20180922-1751.jar\r\n    --launcher.library\r\n    /home/fatih/.p2/pool/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.900.v20180922-1751\r\n    -product\r\n    org.eclipse.epp.package.cpp.product\r\n    -showsplash\r\n    org.eclipse.epp.package.common\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vm\r\n    /usr/lib/jvm/java-11-openjdk-amd64/bin\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.8\r\n    -Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n    -XX:+UseG1GC\r\n    -XX:+UseStringDeduplication\r\n    --add-modules=ALL-SYSTEM\r\n    -Dosgi.requiredJavaVersion=1.8\r\n    -Dosgi.dataAreaRequiresExplicitInit=true\r\n    -Xms256m\r\n    -Xmx1024m\r\n    --add-modules=ALL-SYSTEM\r\n    -Declipse.p2.max.threads=10\r\n    -Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\r\n    -Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\r\n\r\n  [1]: https://stackoverflow.com/questions/3412617/java-lang-classnotfoundexception-org-eclipse-core-runtime-adaptor-eclipsestarte\r\n  [2]: https://stackoverflow.com/questions/3412617/java-lang-classnotfoundexception-org-eclipse-core-runtime-adaptor-eclipsestarte/42517122\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error when starting Eclipse from favorites toolbar java.lang.ClassNotFoundException: org.eclipse.core.runtime.adaptor.EclipseStarter","body":"<p>When I run Eclipse CDT 2018-12 from the directory it works perfectly fine:</p>\n<p>/home/fatih/eclipse/cpp-2018-12/eclipse/eclipse</p>\n<p>When I add the very same, i.e. the recently started session of Eclipse, to the favorites toolbar, I cannot start by clicking on the eclipse icon on the favorites toolbar.</p>\n<p>I want to ask how I can still start from the favorites toolbar by solving these errors.</p>\n<p>I get the following error message:</p>\n<pre><code>An error has occurred.  See the log file\n/home/fatih/.eclipse/org.eclipse.platform_3.8_155965261/configuration/1549048971236.log\n\n    !SESSION Fri Feb 01 20:22:51 CET 2019 ------------------------------------------\n!ENTRY org.eclipse.equinox.launcher 4 0 2019-02-01 20:22:51.266\n!MESSAGE Exception launching the Eclipse Platform:\n!STACK\n</code></pre>\n<p>When I open the log message the following can be found:</p>\n<pre><code>java.lang.ClassNotFoundException: org.eclipse.core.runtime.adaptor.EclipseStarter\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:626)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1414)\n</code></pre>\n<p>I have also followed the contents from <a href=\"https://stackoverflow.com/questions/3412617/java-lang-classnotfoundexception-org-eclipse-core-runtime-adaptor-eclipsestarte\">this</a> and <a href=\"https://stackoverflow.com/questions/3412617/java-lang-classnotfoundexception-org-eclipse-core-runtime-adaptor-eclipsestarte/42517122\">this</a> other threads. However, this also does not solve the problem in my case. Therefore, it is also not a double of those two threads. Just for completeness, I would also like to add the content of the config.ini and eclipse.ini files below:</p>\n<p>config.ini</p>\n<pre><code>#This configuration file was written by: org.eclipse.oomph.p2.internal.core.AgentImpl\n#Fri Feb 01 19:51:30 CET 2019\neclipse.product=org.eclipse.platform.ide\nosgi.splashPath=file\\:/home/fatih/.p2/pool/plugins/org.eclipse.platform_4.10.0.v20181206-0815\norg.eclipse.equinox.simpleconfigurator.configUrl=file\\:org.eclipse.equinox.simpleconfigurator/bundles.info\nosgi.bundles.defaultStartLevel=4\neclipse.application=org.eclipse.ui.ide.workbench\nosgi.instance.area.default=@user.home/workspace\nosgi.bundles=reference\\:file\\:/home/fatih/.p2/pool/plugins/org.eclipse.equinox.simpleconfigurator_1.3.200.v20181101-1115.jar@1\\:start\neclipse.p2.data.area=file\\:/home/fatih/.p2/\neclipse.p2.profile=_home_fatih_eclipse_cpp-2018-12_eclipse\nosgi.framework=file\\:/home/fatih/.p2/pool/plugins/org.eclipse.osgi_3.13.200.v20181130-2106.jar\nosgi.framework.extensions=reference\\:file\\:/home/fatih/.p2/pool/plugins/org.eclipse.osgi.compatibility.state_1.1.300.v20181116-1550.jar\neclipse.buildId=4.10.0.I20181206-0815\n</code></pre>\n<p>eclipse.ini</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.5.200.v20180922-1751.jar\n--launcher.library\n/home/fatih/.p2/pool/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.900.v20180922-1751\n-product\norg.eclipse.epp.package.cpp.product\n-showsplash\norg.eclipse.epp.package.common\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm\n/usr/lib/jvm/java-11-openjdk-amd64/bin\n-vmargs\n-Dosgi.requiredJavaVersion=1.8\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=1.8\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Xms256m\n-Xmx1024m\n--add-modules=ALL-SYSTEM\n-Declipse.p2.max.threads=10\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\n</code></pre>\n"},{"tags":["java","quarkus","bazel","bazel-java"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1685179687,"post_id":76345851,"comment_id":134627706,"body_markdown":"This is not going to work. Quarkus performs massive amount of work during application build, for which there is a Maven plugin and a Gradle plugin. Other ways of running a Quarkus application, such as for testing or dev mode or IDE launch, have special code paths that do the same. You&#39;d need a Bazel plugin for Quarkus I&#39;m afraid.","body":"This is not going to work. Quarkus performs massive amount of work during application build, for which there is a Maven plugin and a Gradle plugin. Other ways of running a Quarkus application, such as for testing or dev mode or IDE launch, have special code paths that do the same. You&#39;d need a Bazel plugin for Quarkus I&#39;m afraid."},{"owner":{"account_id":1576731,"reputation":1842,"user_id":1462968,"accept_rate":60,"display_name":"Debopam Mitra"},"score":0,"creation_date":1685607679,"post_id":76345851,"comment_id":134684588,"body_markdown":"Thank you for this information. Will try out some other approaches.","body":"Thank you for this information. Will try out some other approaches."}],"owner":{"account_id":1576731,"reputation":1842,"user_id":1462968,"accept_rate":60,"display_name":"Debopam Mitra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685179864,"creation_date":1685173299,"question_id":76345851,"body_markdown":"We have a monorepo where we have recently added the MAVEN_REPOS to be used with Bazel. We are using Quarkus 2.9.2.Final. So I am planning to create a CLI Application using Quarkus. But whenever I am running them I am getting a runtime exception. Following how my code looks like - \r\n\r\nBUILD.bazel\r\n\r\n    load(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_binary&quot;, &quot;java_library&quot;)\r\n    load(&quot;//build/bazel/rule_app_launcher:task_master.bzl&quot;, &quot;tm_task&quot;)\r\n    \r\n    java_binary(\r\n        name = &quot;MyApp&quot;,\r\n        srcs = [&quot;Main.java&quot;],\r\n        main_class = &quot;&lt;package to the Main class&gt;.Main&quot;,\r\n        resources = [&quot;&lt;references to the application properties&gt;&quot;],\r\n        visibility = [&quot;//visibility:public&quot;],\r\n        deps = [\r\n            &quot;@maven//:io_quarkus_quarkus_arc&quot;,\r\n            &quot;@maven//:io_quarkus_quarkus_core&quot;,\r\n        ],\r\n    )\r\n\r\n\r\nMain.java\r\n\r\n    import io.quarkus.runtime.Quarkus;\r\n    import io.quarkus.runtime.QuarkusApplication;\r\n    import io.quarkus.runtime.annotations.QuarkusMain;\r\n    \r\n    @QuarkusMain\r\n    public class Main {\r\n    \r\n        public static void main(String... args) {\r\n            Quarkus.run(HelloWorldMain.class, args);\r\n        }\r\n    \r\n    \r\n        public class HelloWorldMain implements QuarkusApplication {\r\n            @Override\r\n            public int run(String... args) throws Exception {\r\n                System.out.println(&quot;Hello &quot; + args[0]);\r\n                return 0;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nFollowing is the error I am getting when running bazel run //&lt;path to component&gt;:MyApp\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n            at io.quarkus.launcher.QuarkusLauncher.launch(QuarkusLauncher.java:58)\r\n            at io.quarkus.runtime.Quarkus.launchFromIDE(Quarkus.java:97)\r\n            at io.quarkus.runtime.Quarkus.run(Quarkus.java:84)\r\n            at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\n            at &lt;package to the Main class&gt;.Main.main(Main.java:12)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at io.quarkus.launcher.QuarkusLauncher.launch(QuarkusLauncher.java:56)\r\n            ... 4 more\r\n    Caused by: java.lang.IllegalStateException: Failed to locate project dir for /home/User123/.cache/bazel/_bazel_User123/b0cc32ca6725cc3e1476fd4087bd3d1d/execroot/app/bazel-out/k8-fastbuild/bin/&lt;component path&gt;/MyApp.jar\r\n            at io.quarkus.bootstrap.IDELauncherImpl.launch(IDELauncherImpl.java:38)\r\n            ... 9 more\r\n\r\n\r\n\r\nAppreciate for any clues to solve this problem. \r\n\r\nThanks. ","title":"java.lang.RuntimeException while running Quarkus with Bazel","body":"<p>We have a monorepo where we have recently added the MAVEN_REPOS to be used with Bazel. We are using Quarkus 2.9.2.Final. So I am planning to create a CLI Application using Quarkus. But whenever I am running them I am getting a runtime exception. Following how my code looks like -</p>\n<p>BUILD.bazel</p>\n<pre><code>load(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_binary&quot;, &quot;java_library&quot;)\nload(&quot;//build/bazel/rule_app_launcher:task_master.bzl&quot;, &quot;tm_task&quot;)\n\njava_binary(\n    name = &quot;MyApp&quot;,\n    srcs = [&quot;Main.java&quot;],\n    main_class = &quot;&lt;package to the Main class&gt;.Main&quot;,\n    resources = [&quot;&lt;references to the application properties&gt;&quot;],\n    visibility = [&quot;//visibility:public&quot;],\n    deps = [\n        &quot;@maven//:io_quarkus_quarkus_arc&quot;,\n        &quot;@maven//:io_quarkus_quarkus_core&quot;,\n    ],\n)\n</code></pre>\n<p>Main.java</p>\n<pre><code>import io.quarkus.runtime.Quarkus;\nimport io.quarkus.runtime.QuarkusApplication;\nimport io.quarkus.runtime.annotations.QuarkusMain;\n\n@QuarkusMain\npublic class Main {\n\n    public static void main(String... args) {\n        Quarkus.run(HelloWorldMain.class, args);\n    }\n\n\n    public class HelloWorldMain implements QuarkusApplication {\n        @Override\n        public int run(String... args) throws Exception {\n            System.out.println(&quot;Hello &quot; + args[0]);\n            return 0;\n        }\n    }\n\n}\n</code></pre>\n<p>Following is the error I am getting when running bazel run //:MyApp</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n        at io.quarkus.launcher.QuarkusLauncher.launch(QuarkusLauncher.java:58)\n        at io.quarkus.runtime.Quarkus.launchFromIDE(Quarkus.java:97)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:84)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\n        at &lt;package to the Main class&gt;.Main.main(Main.java:12)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at io.quarkus.launcher.QuarkusLauncher.launch(QuarkusLauncher.java:56)\n        ... 4 more\nCaused by: java.lang.IllegalStateException: Failed to locate project dir for /home/User123/.cache/bazel/_bazel_User123/b0cc32ca6725cc3e1476fd4087bd3d1d/execroot/app/bazel-out/k8-fastbuild/bin/&lt;component path&gt;/MyApp.jar\n        at io.quarkus.bootstrap.IDELauncherImpl.launch(IDELauncherImpl.java:38)\n        ... 9 more\n</code></pre>\n<p>Appreciate for any clues to solve this problem.</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":10297068,"reputation":1003,"user_id":7596874,"accept_rate":20,"display_name":"Rathan Naik"},"score":0,"creation_date":1685174006,"post_id":76345751,"comment_id":134627207,"body_markdown":"Seems like the id credentials have expired.\nCan u generate new id and secret and try it out","body":"Seems like the id credentials have expired. Can u generate new id and secret and try it out"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685179863,"creation_date":1685179162,"answer_id":76346192,"question_id":76345751,"body_markdown":"`MultiValueMap` is for submitting parameters (form or query that can have multiple values). You should use `Map` instead.\r\n\r\n\r\nIf you listen to your MultiValueMap based request body with Fiddler it contains the following. Each field contains an array of values.\r\n\r\n    {\r\n       &quot;client_id&quot;:[\r\n          &quot;xoy6LAdnT1wNyo1SijmhZLACrwAgdfyv&quot;\r\n       ],\r\n       &quot;client_secret&quot;:[\r\n          &quot;o6FWAhS3crc0Vu9ueTpKDBCWWdUelrQAkbIGdsocyqiwfgwS6x6XeyZ5iLQYo1X3&quot;\r\n       ],\r\n       &quot;audience&quot;:[\r\n          &quot;https://contacts-api.com&quot;\r\n       ],\r\n       &quot;grant_type&quot;:[\r\n          &quot;client_credentials&quot;\r\n       ]\r\n    }\r\n\r\nAs you show in the Postman POST payload the JSON should be as follows:\r\n\r\n    {\r\n       &quot;client_id&quot;:&quot;xoy6LAdnT1wNyo1SijmhZLACrwAgdfyv&quot;,\r\n       &quot;client_secret&quot;:&quot;o6FWAhS3crc0Vu9ueTpKDBCWWdUelrQAkbIGdsocyqiwfgwS6x6XeyZ5iLQYo1X3&quot;,\r\n       &quot;audience&quot;:&quot;https://contacts-api.com&quot;,\r\n       &quot;grant_type&quot;:&quot;client_credentials&quot;\r\n    }\r\n\r\nThis code works:\r\n\r\n    Map&lt;String, String&gt; map= new HashMap&lt;&gt;();\r\n    map.put(&quot;client_id&quot;, &quot;xoy6LAdnT1wNyo1SijmhZLACrwAgdfyv&quot;);\r\n    map.put(&quot;client_secret&quot;,&quot;o6FWAhS3crc0Vu9ueTpKDBCWWdUelrQAkbIGdsocyqiwfgwS6x6XeyZ5iLQYo1X3&quot;);\r\n    map.put(&quot;audience&quot;,&quot;https://contacts-api.com&quot;);\r\n    map.put(&quot;grant_type&quot;,&quot;client_credentials&quot;);\r\n    HttpEntity&lt;Map&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\r\n\r\n\r\n","title":"RestTemplate request to get JWT token gives unauthorized response","body":"<p><code>MultiValueMap</code> is for submitting parameters (form or query that can have multiple values). You should use <code>Map</code> instead.</p>\n<p>If you listen to your MultiValueMap based request body with Fiddler it contains the following. Each field contains an array of values.</p>\n<pre><code>{\n   &quot;client_id&quot;:[\n      &quot;xoy6LAdnT1wNyo1SijmhZLACrwAgdfyv&quot;\n   ],\n   &quot;client_secret&quot;:[\n      &quot;o6FWAhS3crc0Vu9ueTpKDBCWWdUelrQAkbIGdsocyqiwfgwS6x6XeyZ5iLQYo1X3&quot;\n   ],\n   &quot;audience&quot;:[\n      &quot;https://contacts-api.com&quot;\n   ],\n   &quot;grant_type&quot;:[\n      &quot;client_credentials&quot;\n   ]\n}\n</code></pre>\n<p>As you show in the Postman POST payload the JSON should be as follows:</p>\n<pre><code>{\n   &quot;client_id&quot;:&quot;xoy6LAdnT1wNyo1SijmhZLACrwAgdfyv&quot;,\n   &quot;client_secret&quot;:&quot;o6FWAhS3crc0Vu9ueTpKDBCWWdUelrQAkbIGdsocyqiwfgwS6x6XeyZ5iLQYo1X3&quot;,\n   &quot;audience&quot;:&quot;https://contacts-api.com&quot;,\n   &quot;grant_type&quot;:&quot;client_credentials&quot;\n}\n</code></pre>\n<p>This code works:</p>\n<pre><code>Map&lt;String, String&gt; map= new HashMap&lt;&gt;();\nmap.put(&quot;client_id&quot;, &quot;xoy6LAdnT1wNyo1SijmhZLACrwAgdfyv&quot;);\nmap.put(&quot;client_secret&quot;,&quot;o6FWAhS3crc0Vu9ueTpKDBCWWdUelrQAkbIGdsocyqiwfgwS6x6XeyZ5iLQYo1X3&quot;);\nmap.put(&quot;audience&quot;,&quot;https://contacts-api.com&quot;);\nmap.put(&quot;grant_type&quot;,&quot;client_credentials&quot;);\nHttpEntity&lt;Map&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\n</code></pre>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76346192,"answer_count":1,"score":1,"last_activity_date":1685179863,"creation_date":1685171464,"question_id":76345751,"body_markdown":"I am trying to generate JWT token from auth0. When I send the request from Postman I get the token in response but when I am trying to send the same request using `RestTemplate` I get 401 response. Please advise how to achieve this.\r\n\r\nI successfully receive token in Postman.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/91UmY.png\r\n\r\n\r\nBelow is the code I am using to send the same request from my controller.\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String login(){\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;&gt;();\r\n        map.add(&quot;client_id&quot;, &quot;xoy6LAdnT1wNyo1SijmhZLACrwAgdfyv&quot;);\r\n        map.add(&quot;client_secret&quot;,&quot;o6FWAhS3crc0Vu9ueTpKDBCWWdUelrQAkbIGdsocyqiwfgwS6x6XeyZ5iLQYo1X3&quot;);\r\n        map.add(&quot;audience&quot;,&quot;https://contacts-api.com&quot;);\r\n        map.add(&quot;grant_type&quot;,&quot;client_credentials&quot;);\r\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\r\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n                &quot;https://dev-giudnqk2.us.auth0.com/oauth/token&quot;,  HttpMethod.POST, request , String.class);\r\n        return response.getBody().toString();\r\n\r\nwhich generates the below error.\r\n\r\n    path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: [no body]] with root cause\r\n    \r\n    org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: [no body]\r\n    \tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:646) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat com.shivam.learn.scope.ScopeController.login(ScopeController.java:57) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n\r\n","title":"RestTemplate request to get JWT token gives unauthorized response","body":"<p>I am trying to generate JWT token from auth0. When I send the request from Postman I get the token in response but when I am trying to send the same request using <code>RestTemplate</code> I get 401 response. Please advise how to achieve this.</p>\n<p>I successfully receive token in Postman.\n<a href=\"https://i.stack.imgur.com/91UmY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/91UmY.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the code I am using to send the same request from my controller.</p>\n<pre><code>@GetMapping(&quot;/login&quot;)\npublic String login(){\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;&gt;();\n    map.add(&quot;client_id&quot;, &quot;xoy6LAdnT1wNyo1SijmhZLACrwAgdfyv&quot;);\n    map.add(&quot;client_secret&quot;,&quot;o6FWAhS3crc0Vu9ueTpKDBCWWdUelrQAkbIGdsocyqiwfgwS6x6XeyZ5iLQYo1X3&quot;);\n    map.add(&quot;audience&quot;,&quot;https://contacts-api.com&quot;);\n    map.add(&quot;grant_type&quot;,&quot;client_credentials&quot;);\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n            &quot;https://dev-giudnqk2.us.auth0.com/oauth/token&quot;,  HttpMethod.POST, request , String.class);\n    return response.getBody().toString();\n</code></pre>\n<p>which generates the below error.</p>\n<pre><code>path [] threw exception [Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: [no body]] with root cause\n\norg.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: [no body]\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:646) ~[spring-web-6.0.8.jar:6.0.8]\n    at com.shivam.learn.scope.ScopeController.login(ScopeController.java:57) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":21988000,"reputation":11,"user_id":16261948,"display_name":"Divz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685179845,"creation_date":1685179845,"question_id":76346246,"body_markdown":"Why &#39;null&#39; is returned while using &#39;style&#39; as a parameter in getAttribute() in Selenium?\r\nThis is my code:\r\n\r\n**WebElement buttonColor= driver.findElement(By.xpath(&quot;//*[@id=\\&quot;j_idt88:j_idt100\\&quot;]/span&quot;));\r\nString color= buttonColor.getAttribute(&quot;style&quot;);**\r\n\r\nThe solution is to use getCssValue() but I want to know the reason why getAttribute() doesn&#39;t work.","title":"Why &#39;null&#39; is returned while using &#39;style&#39; as a parameter in getAttribute() in Selenium?","body":"<p>Why 'null' is returned while using 'style' as a parameter in getAttribute() in Selenium?\nThis is my code:</p>\n<p><strong>WebElement buttonColor= driver.findElement(By.xpath(&quot;//*[@id=&quot;j_idt88:j_idt100&quot;]/span&quot;));\nString color= buttonColor.getAttribute(&quot;style&quot;);</strong></p>\n<p>The solution is to use getCssValue() but I want to know the reason why getAttribute() doesn't work.</p>\n"},{"tags":["java","maven-2","markdown","javascript"],"comments":[{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1281674029,"post_id":3472834,"comment_id":3625049,"body_markdown":"Just in case: [Why did you stop using Tapestry?](http://stackoverflow.com/questions/1303438/why-did-you-stop-using-tapestry/1310032#1310032) :) Stripes FTW!","body":"Just in case: <a href=\"http://stackoverflow.com/questions/1303438/why-did-you-stop-using-tapestry/1310032#1310032\">Why did you stop using Tapestry?</a> :) Stripes FTW!"}],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1281673894,"creation_date":1281673894,"answer_id":3473897,"question_id":3472834,"body_markdown":"&gt; What javascript library can I use for the client side? I&#39;m thinking on using Cletus&#39; port of MarkDownSharp\r\n\r\n[ShowDown][1], [WMD][2] (still not open sourced) and [markItUp!][3] seem to be the most *famous* options, the later being maybe the closest to what you&#39;re looking for.\r\n\r\n&gt; What strategy should I follow to add JMD to my code base (it is a Maven project already). If it were available for maven I would just create a dependency on that, but In this case, Should I merge it with my code base?\r\n\r\nHmm... what? I&#39;m not sure I understood the question, but I&#39;ll try. If JMD is available in a known repository, just add a dependency on it. If it isn&#39;t I would get the sources and add them to my codebase as a module (not a bid deal, there are less than 10 classes) and sync them from time to time.\r\n\r\n### Related questions\r\n\r\n- [Is there any good Markdown Javascript library or control?][4] \r\n- [JavaScript libraries for Markdown, Textile and others; Anchor references][5] \r\n\r\n\r\n  [1]: http://attacklab.net/showdown/\r\n  [2]: http://wmd-editor.com/\r\n  [3]: http://markitup.jaysalvat.com/home/\r\n  [4]: https://stackoverflow.com/questions/134235/is-there-any-good-markdown-javascript-library-or-control\r\n  [5]: https://stackoverflow.com/questions/895135/javascript-libraries-for-markdown-textile-and-others-anchor-references","title":"What do I need to use Markdown in a Java webapp?","body":"<blockquote>\n  <p>What javascript library can I use for the client side? I'm thinking on using Cletus' port of MarkDownSharp</p>\n</blockquote>\n\n<p><a href=\"http://attacklab.net/showdown/\" rel=\"nofollow noreferrer\">ShowDown</a>, <a href=\"http://wmd-editor.com/\" rel=\"nofollow noreferrer\">WMD</a> (still not open sourced) and <a href=\"http://markitup.jaysalvat.com/home/\" rel=\"nofollow noreferrer\">markItUp!</a> seem to be the most <em>famous</em> options, the later being maybe the closest to what you're looking for.</p>\n\n<blockquote>\n  <p>What strategy should I follow to add JMD to my code base (it is a Maven project already). If it were available for maven I would just create a dependency on that, but In this case, Should I merge it with my code base?</p>\n</blockquote>\n\n<p>Hmm... what? I'm not sure I understood the question, but I'll try. If JMD is available in a known repository, just add a dependency on it. If it isn't I would get the sources and add them to my codebase as a module (not a bid deal, there are less than 10 classes) and sync them from time to time.</p>\n\n<h3>Related questions</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/134235/is-there-any-good-markdown-javascript-library-or-control\">Is there any good Markdown Javascript library or control?</a> </li>\n<li><a href=\"https://stackoverflow.com/questions/895135/javascript-libraries-for-markdown-textile-and-others-anchor-references\">JavaScript libraries for Markdown, Textile and others; Anchor references</a> </li>\n</ul>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1318,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3473897,"answer_count":1,"score":3,"last_activity_date":1685179517,"creation_date":1281656086,"question_id":3472834,"body_markdown":"I&#39;m thinking on adding Markdown to a Java project using: \r\n\r\n - Tapestry 5 \r\n - Spring \r\n - Maven \r\n - ( Among other technologies ) \r\n\r\nQuestions:\r\n\r\n1. What JavaScript library can I use for the client side?  I&#39;m thinking on using Cletus&#39; &lt;img src=&quot;https://www.gravatar.com/avatar/2f364c2e36b52bc80296cbf23da8b231?s=140&amp;d=http%3A%2F%2Fgithub.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; width=&quot;25&quot; height=&quot;25&quot;&gt; [port of MarkDownSharp][2]  for the backend.\r\n\r\n2. What strategy should I follow to add [JMD][3] to my project? My code it&#39;s a Maven project already. If JMD were available for Maven I would just create a dependency on that, but it is not.  So, should I merge it with my code base?\r\n\r\n\r\n  [2]: http://github.com/cletus/jmd\r\n  [3]: http://github.com/cletus/jmd","title":"What do I need to use Markdown in a Java webapp?","body":"<p>I'm thinking on adding Markdown to a Java project using:</p>\n<ul>\n<li>Tapestry 5</li>\n<li>Spring</li>\n<li>Maven</li>\n<li>( Among other technologies )</li>\n</ul>\n<p>Questions:</p>\n<ol>\n<li><p>What JavaScript library can I use for the client side?  I'm thinking on using Cletus' <img src=\"https://www.gravatar.com/avatar/2f364c2e36b52bc80296cbf23da8b231?s=140&d=http%3A%2F%2Fgithub.com%2Fimages%2Fgravatars%2Fgravatar-140.png\" width=\"25\" height=\"25\"> <a href=\"http://github.com/cletus/jmd\" rel=\"nofollow noreferrer\">port of MarkDownSharp</a>  for the backend.</p>\n</li>\n<li><p>What strategy should I follow to add <a href=\"http://github.com/cletus/jmd\" rel=\"nofollow noreferrer\">JMD</a> to my project? My code it's a Maven project already. If JMD were available for Maven I would just create a dependency on that, but it is not.  So, should I merge it with my code base?</p>\n</li>\n</ol>\n"},{"tags":["java","android","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":4647468,"reputation":1239,"user_id":3765267,"accept_rate":57,"display_name":"Alexander Dyagilev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685178844,"creation_date":1685178844,"answer_id":76346168,"question_id":76033526,"body_markdown":"[Appcompat][1]&#39;s library version you are using is too old. You need to switch to a newer one. \r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/appcompat","title":"Cannot find symbol setForegroundServiceBehavior","body":"<p><a href=\"https://developer.android.com/jetpack/androidx/releases/appcompat\" rel=\"nofollow noreferrer\">Appcompat</a>'s library version you are using is too old. You need to switch to a newer one.</p>\n"}],"owner":{"account_id":26324057,"reputation":11,"user_id":19985677,"display_name":"Mert Babur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685178844,"creation_date":1681722989,"question_id":76033526,"body_markdown":"I have a foreground service. When it started, notification showed with delay. Then I searched this issue. I found setForegroundServiceBehavior. But when I started the app, I have mistake that setForegroundServiceBehavior cannot find symbol. Why?\r\n```java\r\nNotificationCompat.Builder builder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\r\n                .setForegroundServiceBehavior(FOREGROUND_SERVICE_IMMEDIATE)\r\n                .setSmallIcon(R.drawable.ic_launcherr)\r\n                .setContentTitle(getString(R.string.app_name))\r\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(getString(R.string.str)))\r\n                .setContentText(getString(R.string.str))\r\n                .setAutoCancel(true);\r\n```","title":"Cannot find symbol setForegroundServiceBehavior","body":"<p>I have a foreground service. When it started, notification showed with delay. Then I searched this issue. I found setForegroundServiceBehavior. But when I started the app, I have mistake that setForegroundServiceBehavior cannot find symbol. Why?</p>\n<pre class=\"lang-java prettyprint-override\"><code>NotificationCompat.Builder builder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\n                .setForegroundServiceBehavior(FOREGROUND_SERVICE_IMMEDIATE)\n                .setSmallIcon(R.drawable.ic_launcherr)\n                .setContentTitle(getString(R.string.app_name))\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(getString(R.string.str)))\n                .setContentText(getString(R.string.str))\n                .setAutoCancel(true);\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","spring-initializr"],"answers":[{"tags":[],"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644867575,"creation_date":1644867575,"answer_id":71117396,"question_id":71114443,"body_markdown":"The `build.gradle` in your question matches the expected output from [start.spring.io](https://start.spring.io) except these two lines:\r\n\r\n```gradle\r\n// https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies\r\nimport group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-dependencies&#39;, version: &#39;2021.0.0&#39;, ext: &#39;pom&#39;\r\n```\r\n\r\nThis is not valid Gradle syntax. Simply removing them will fix the issue at hand. ","title":"build.gradle created by Spring Initializr error message on &quot;import&quot; function","body":"<p>The <code>build.gradle</code> in your question matches the expected output from <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> except these two lines:</p>\n<pre><code>// https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies\nimport group: 'org.springframework.cloud', name: 'spring-cloud-dependencies', version: '2021.0.0', ext: 'pom'\n</code></pre>\n<p>This is not valid Gradle syntax. Simply removing them will fix the issue at hand.</p>\n"}],"owner":{"account_id":5411133,"reputation":885,"user_id":4307872,"accept_rate":60,"display_name":"von spotz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71117396,"answer_count":1,"score":0,"last_activity_date":1685178533,"creation_date":1644853265,"question_id":71114443,"body_markdown":"I am new to Gradle and I followed the instructions of a tutorial, just that instead of Maven I chose Gradle in Spring.Initializr.\r\n\r\nIt produced following code for the build.gradle\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.6.3&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.microservicetest&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;2021.0.0&quot;)\r\n    }\r\n    \r\n    // https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies\r\n    import group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-dependencies&#39;, version: &#39;2021.0.0&#39;, ext: &#39;pom&#39;\r\n    \r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-config-server&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-server&#39;\r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nI receive the error message\r\n\r\n    Could not compile build file &#39;/home/max/IdeaProjects/Restaurant Rating App/build.gradle&#39;.\r\n    &gt; startup failed:\r\n      build file &#39;/home/max/IdeaProjects/Restaurant Rating App/build.gradle&#39;: 20: Unexpected input: &#39;:&#39; @ line 20, column 13.\r\n         import group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-dependencies&#39;, version: &#39;2021.0.0&#39;, ext: &#39;pom&#39;\r\n\r\nWhat is wrong with the autogenerated code?\r\n","title":"build.gradle created by Spring Initializr error message on &quot;import&quot; function","body":"<p>I am new to Gradle and I followed the instructions of a tutorial, just that instead of Maven I chose Gradle in Spring.Initializr.</p>\n<p>It produced following code for the build.gradle</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.microservicetest'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.0&quot;)\n}\n\n// https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies\nimport group: 'org.springframework.cloud', name: 'spring-cloud-dependencies', version: '2021.0.0', ext: 'pom'\n\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.cloud:spring-cloud-config-server'\n    implementation 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-server'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I receive the error message</p>\n<pre><code>Could not compile build file '/home/max/IdeaProjects/Restaurant Rating App/build.gradle'.\n&gt; startup failed:\n  build file '/home/max/IdeaProjects/Restaurant Rating App/build.gradle': 20: Unexpected input: ':' @ line 20, column 13.\n     import group: 'org.springframework.cloud', name: 'spring-cloud-dependencies', version: '2021.0.0', ext: 'pom'\n</code></pre>\n<p>What is wrong with the autogenerated code?</p>\n"},{"tags":["java","multithreading","javafx","progress-bar","runnable"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":4,"creation_date":1685174372,"post_id":76345894,"comment_id":134627232,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1685174474,"post_id":76345894,"comment_id":134627245,"body_markdown":"Show code here, not a download link.","body":"Show code here, not a download link."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685177917,"post_id":76345894,"comment_id":134627539,"body_markdown":"Some of the content of your question suggests a [mre] should be present. Such an example must be in the question itself, as text and formatted in code blocks. You may want to take the [tour] and perhaps read [ask]. That said, much of your question seems more concept-oriented rather than asking about any specific code. As I was in a good mood, I decided to post an answer addressing the general concept you&#39;re asking about.","body":"Some of the content of your question suggests a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be present. Such an example must be in the question itself, as text and formatted in code blocks. You may want to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and perhaps read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. That said, much of your question seems more concept-oriented rather than asking about any specific code. As I was in a good mood, I decided to post an answer addressing the general concept you&#39;re asking about."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1685236506,"post_id":76345894,"comment_id":134633364,"body_markdown":"Example [task based progress](https://gist.github.com/jewelsea/2305098).  There will be more concise examples with more explanation on StackOverflow, but the linked example will probably be OK for now.  You can study Slaw&#39;s answer or research the stuff in the example you don&#39;t understand on your own.","body":"Example <a href=\"https://gist.github.com/jewelsea/2305098\" rel=\"nofollow noreferrer\">task based progress</a>.  There will be more concise examples with more explanation on StackOverflow, but the linked example will probably be OK for now.  You can study Slaw&#39;s answer or research the stuff in the example you don&#39;t understand on your own."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1685256186,"post_id":76345894,"comment_id":134634459,"body_markdown":"Related: [Can I pause a background Task / Service?](https://stackoverflow.com/questions/14941084/javafx2-can-i-pause-a-background-task-service/14967912#14967912), for: handling “calculations I must stop and ask the user informations”.  That is kind of irrelevant to the question title, but pertinent to the body text.  Please try to focus on one question per question.","body":"Related: <a href=\"https://stackoverflow.com/questions/14941084/javafx2-can-i-pause-a-background-task-service/14967912#14967912\">Can I pause a background Task / Service?</a>, for: handling “calculations I must stop and ask the user informations”.  That is kind of irrelevant to the question title, but pertinent to the body text.  Please try to focus on one question per question."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685178107,"creation_date":1685177390,"answer_id":76346081,"question_id":76345894,"body_markdown":"**Golden Rule of JavaFX:** Any and all interactions with a live scene graph _must_ occur on the _JavaFX Application Thread_. No exceptions.\r\n\r\n---\r\n\r\nIn JavaFX, if you&#39;re going to run work on a background thread, and you need that work to report progress back to the user, then you should first consider using a `javafx.concurrent.Task`. It provides a nice API for publishing messages, progress, and a result on the _JavaFX Application Thread_. From there, you just need to figure out how to prompt the user for more information in the middle of the task executing on a background thread.\r\n\r\nThe _simplest_ solution, at least in my opinion, is to use a `CompletableFuture`. You can configure it to execute a `Supplier` on the FX thread and have the background thread call `join()` to wait for a result. This only requires that you provide some sort of callback to your `Task` for the future to invoke. That callback could be anything. Some options include:\r\n\r\n* `java.util.function.Supplier`\r\n\r\n* `java.util.function.Function`\r\n\r\n* `javafx.util.Callback` (essentially equivalent to a `Function`)\r\n\r\n* ...\r\n\r\n* Or even your own interface/class. It doesn&#39;t have to be a functional interface, by the way.\r\n\r\nNote this callback/listener idea can be applied to more than just prompting the user. For instance, if you&#39;ve created a model/business class to perform the actual work, and you don&#39;t want this class to know anything about JavaFX, then you can adapt it to report messages/progress in its own way. The `Task` would then register listeners/callbacks as needed. That essentially makes the `Task` just a lightweight adapter allowing JavaFX to observe the progress and update the UI accordingly.\r\n\r\n## Proof of Concept\r\n\r\nThe code below launches a task that fakes long-running work. This task will prompt the user to ask if the task should continue upon half the work being completed. The task then waits for a response, and whether or not it will continue depends on said response.\r\n\r\nThe primary window is displaying a progress bar and message label to show such things still work as expected. When the task prompts the user, a modal alert will be displayed that will wait for the user to respond.\r\n\r\n#### MockTask.java\r\n\r\nNote I use a `Callback&lt;String, Boolean&gt;` for simplicity. But that interface is generic, and so it can be used with any types you want.\r\n\r\n```lang-java\r\nimport javafx.application.Platform;\r\nimport javafx.concurrent.Task;\r\nimport javafx.util.Callback;\r\n\r\nimport java.util.Objects;\r\nimport java.util.concurrent.CancellationException;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.function.Supplier;\r\n\r\npublic class MockTask extends Task&lt;Void&gt; {\r\n\r\n    private final Callback&lt;String, Boolean&gt; promptCallback;\r\n\r\n    public MockTask(Callback&lt;String, Boolean&gt; promptCallback) {\r\n        this.promptCallback = Objects.requireNonNull(promptCallback);\r\n    }\r\n\r\n    @Override\r\n    protected Void call() throws Exception {\r\n        int iterations = 10_000;\r\n\r\n        updateProgress(0, iterations);\r\n        for (int i = 0; i &lt; iterations; i++) {\r\n            updateMessage(&quot;Processing &quot; + i + &quot;...&quot;);\r\n            Thread.sleep(1L);\r\n            updateProgress(i + 1, iterations);\r\n\r\n            if (i == iterations / 2) {\r\n                boolean shouldContinue = promptUser(&quot;Should task continue?&quot;);\r\n                if (!shouldContinue) {\r\n                    throw new CancellationException();\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private boolean promptUser(String prompt) {\r\n        Supplier&lt;Boolean&gt; supplier = () -&gt; promptCallback.call(prompt); // adapt Callback to Supplier\r\n        Executor executor = Platform::runLater; // tells CompletableFuture to execute on FX thread\r\n\r\n        // Calls the supplier on the FX thread and waits for a result\r\n        return CompletableFuture.supplyAsync(supplier, executor).join();\r\n    }\r\n}\r\n```\r\n\r\n#### Main.java\r\n\r\n```lang-java\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ProgressIndicator;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    private Stage primaryStage;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        this.primaryStage = primaryStage;\r\n\r\n        var progIndicator = new ProgressIndicator();\r\n        var msgLabel = new Label();\r\n\r\n        var root = new VBox(progIndicator, msgLabel);\r\n        root.setAlignment(Pos.CENTER);\r\n        root.setSpacing(10);\r\n\r\n        primaryStage.setScene(new Scene(root, 500, 300));\r\n        primaryStage.show();\r\n\r\n        var task = new MockTask(this::handlePrompt);\r\n        progIndicator.progressProperty().bind(task.progressProperty());\r\n        msgLabel.textProperty().bind(task.messageProperty());\r\n\r\n        var thread = new Thread(task, &quot;task-thread&quot;);\r\n        thread.setDaemon(true);\r\n        thread.start();\r\n    }\r\n\r\n    private boolean handlePrompt(String prompt) {\r\n        var alert = new Alert(Alert.AlertType.CONFIRMATION, prompt, ButtonType.YES, ButtonType.NO);\r\n        alert.initOwner(primaryStage);\r\n        alert.setHeaderText(null);\r\n        return alert.showAndWait().map(bt -&gt; bt == ButtonType.YES).orElse(false);\r\n    }\r\n}\r\n```","title":"Can we have a long process in a thread updates a progress bar?","body":"<p><strong>Golden Rule of JavaFX:</strong> Any and all interactions with a live scene graph <em>must</em> occur on the <em>JavaFX Application Thread</em>. No exceptions.</p>\n<hr />\n<p>In JavaFX, if you're going to run work on a background thread, and you need that work to report progress back to the user, then you should first consider using a <code>javafx.concurrent.Task</code>. It provides a nice API for publishing messages, progress, and a result on the <em>JavaFX Application Thread</em>. From there, you just need to figure out how to prompt the user for more information in the middle of the task executing on a background thread.</p>\n<p>The <em>simplest</em> solution, at least in my opinion, is to use a <code>CompletableFuture</code>. You can configure it to execute a <code>Supplier</code> on the FX thread and have the background thread call <code>join()</code> to wait for a result. This only requires that you provide some sort of callback to your <code>Task</code> for the future to invoke. That callback could be anything. Some options include:</p>\n<ul>\n<li><p><code>java.util.function.Supplier</code></p>\n</li>\n<li><p><code>java.util.function.Function</code></p>\n</li>\n<li><p><code>javafx.util.Callback</code> (essentially equivalent to a <code>Function</code>)</p>\n</li>\n<li><p>...</p>\n</li>\n<li><p>Or even your own interface/class. It doesn't have to be a functional interface, by the way.</p>\n</li>\n</ul>\n<p>Note this callback/listener idea can be applied to more than just prompting the user. For instance, if you've created a model/business class to perform the actual work, and you don't want this class to know anything about JavaFX, then you can adapt it to report messages/progress in its own way. The <code>Task</code> would then register listeners/callbacks as needed. That essentially makes the <code>Task</code> just a lightweight adapter allowing JavaFX to observe the progress and update the UI accordingly.</p>\n<h2>Proof of Concept</h2>\n<p>The code below launches a task that fakes long-running work. This task will prompt the user to ask if the task should continue upon half the work being completed. The task then waits for a response, and whether or not it will continue depends on said response.</p>\n<p>The primary window is displaying a progress bar and message label to show such things still work as expected. When the task prompts the user, a modal alert will be displayed that will wait for the user to respond.</p>\n<h4>MockTask.java</h4>\n<p>Note I use a <code>Callback&lt;String, Boolean&gt;</code> for simplicity. But that interface is generic, and so it can be used with any types you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Platform;\nimport javafx.concurrent.Task;\nimport javafx.util.Callback;\n\nimport java.util.Objects;\nimport java.util.concurrent.CancellationException;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.Executor;\nimport java.util.function.Supplier;\n\npublic class MockTask extends Task&lt;Void&gt; {\n\n    private final Callback&lt;String, Boolean&gt; promptCallback;\n\n    public MockTask(Callback&lt;String, Boolean&gt; promptCallback) {\n        this.promptCallback = Objects.requireNonNull(promptCallback);\n    }\n\n    @Override\n    protected Void call() throws Exception {\n        int iterations = 10_000;\n\n        updateProgress(0, iterations);\n        for (int i = 0; i &lt; iterations; i++) {\n            updateMessage(&quot;Processing &quot; + i + &quot;...&quot;);\n            Thread.sleep(1L);\n            updateProgress(i + 1, iterations);\n\n            if (i == iterations / 2) {\n                boolean shouldContinue = promptUser(&quot;Should task continue?&quot;);\n                if (!shouldContinue) {\n                    throw new CancellationException();\n                }\n            }\n        }\n\n        return null;\n    }\n\n    private boolean promptUser(String prompt) {\n        Supplier&lt;Boolean&gt; supplier = () -&gt; promptCallback.call(prompt); // adapt Callback to Supplier\n        Executor executor = Platform::runLater; // tells CompletableFuture to execute on FX thread\n\n        // Calls the supplier on the FX thread and waits for a result\n        return CompletableFuture.supplyAsync(supplier, executor).join();\n    }\n}\n</code></pre>\n<h4>Main.java</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ProgressIndicator;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private Stage primaryStage;\n\n    @Override\n    public void start(Stage primaryStage) {\n        this.primaryStage = primaryStage;\n\n        var progIndicator = new ProgressIndicator();\n        var msgLabel = new Label();\n\n        var root = new VBox(progIndicator, msgLabel);\n        root.setAlignment(Pos.CENTER);\n        root.setSpacing(10);\n\n        primaryStage.setScene(new Scene(root, 500, 300));\n        primaryStage.show();\n\n        var task = new MockTask(this::handlePrompt);\n        progIndicator.progressProperty().bind(task.progressProperty());\n        msgLabel.textProperty().bind(task.messageProperty());\n\n        var thread = new Thread(task, &quot;task-thread&quot;);\n        thread.setDaemon(true);\n        thread.start();\n    }\n\n    private boolean handlePrompt(String prompt) {\n        var alert = new Alert(Alert.AlertType.CONFIRMATION, prompt, ButtonType.YES, ButtonType.NO);\n        alert.initOwner(primaryStage);\n        alert.setHeaderText(null);\n        return alert.showAndWait().map(bt -&gt; bt == ButtonType.YES).orElse(false);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12916204,"reputation":3,"user_id":9340380,"display_name":"4E71-NOP"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685177773,"accepted_answer_id":76346081,"answer_count":1,"score":-2,"last_activity_date":1685178107,"creation_date":1685174095,"question_id":76345894,"body_markdown":"I’m facing a problem with thread and interface.\r\n\r\n\r\nIn my example I have a long process. Along calculations I must stop and ask the user informations. I cannot do that before. So I have to open a window and retrieve the user answer.\r\n\r\nThere are 2 ways that I know of &#160;:\r\n 1. create a new Thread. \r\n 2. create a Runnable along with the use of Platform.RunLater.\r\n\r\nThe &#171;&#160;copy multiple file&#160;&#187; process will be a good example to explain what’s the problem. In this example we know we have to &#171;&#160;launch&#160;&#187; a long process&#160;: Copy every single file (one by one). The main interface has a ProgressBar. The goal is to update the ProgressBar on a regular basis.\r\nThen&#160;; along the computation emerges a specific case which require the user attention. \r\n\r\n\r\nIf I used the Thread approach&#160;: The ProgressBar updates properly (using bound properties). I end up with the exception &#171;&#160;not a JavaFx application&#160;&#187; as soon as I try to open a new window (from this side process). This is normal and documented on this very website.\r\n\r\n\r\nIf I used the Runnable approach&#160;: the problem is about updates. The new window opens but the progress bar isn’t changed until a &#171;&#160;refresh&#160;&#187; occurs (see code example in the zip file linked below).\r\n\r\nAny other suggestion I could find is not well documented or even explained properly (like service). So I&#39;m stuck.\r\n\r\nI’m a surprised not to be able to do that. I’m wondering if I’m doing something wrong or if I don’t use the right approach. Maybe this is JavaFx limitation. Any help **greatly** appreciated.\r\n\r\n\r\n[zip file][1]\r\n\r\n\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1I7E1MvKIjC6f6OZVWDhXu_bw6pCQPiuN/view?usp=drive_link","title":"Can we have a long process in a thread updates a progress bar?","body":"<p>I’m facing a problem with thread and interface.</p>\n<p>In my example I have a long process. Along calculations I must stop and ask the user informations. I cannot do that before. So I have to open a window and retrieve the user answer.</p>\n<p>There are 2 ways that I know of  :</p>\n<ol>\n<li>create a new Thread.</li>\n<li>create a Runnable along with the use of Platform.RunLater.</li>\n</ol>\n<p>The « copy multiple file » process will be a good example to explain what’s the problem. In this example we know we have to « launch » a long process : Copy every single file (one by one). The main interface has a ProgressBar. The goal is to update the ProgressBar on a regular basis.\nThen ; along the computation emerges a specific case which require the user attention.</p>\n<p>If I used the Thread approach : The ProgressBar updates properly (using bound properties). I end up with the exception « not a JavaFx application » as soon as I try to open a new window (from this side process). This is normal and documented on this very website.</p>\n<p>If I used the Runnable approach : the problem is about updates. The new window opens but the progress bar isn’t changed until a « refresh » occurs (see code example in the zip file linked below).</p>\n<p>Any other suggestion I could find is not well documented or even explained properly (like service). So I'm stuck.</p>\n<p>I’m a surprised not to be able to do that. I’m wondering if I’m doing something wrong or if I don’t use the right approach. Maybe this is JavaFx limitation. Any help <strong>greatly</strong> appreciated.</p>\n<p><a href=\"https://drive.google.com/file/d/1I7E1MvKIjC6f6OZVWDhXu_bw6pCQPiuN/view?usp=drive_link\" rel=\"nofollow noreferrer\">zip file</a></p>\n<p>Thanks.</p>\n"},{"tags":["java","oauth-2.0","wso2-api-manager"],"answers":[{"tags":[],"owner":{"account_id":8749148,"reputation":274,"user_id":6543121,"accept_rate":85,"display_name":"J D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469230291,"creation_date":1469230291,"answer_id":38536610,"question_id":38524547,"body_markdown":"You may look into its [token API][1]:\r\n\r\n\r\nUsers need access tokens to invoke APIs subscribed under an application. Access tokens are passed in the HTTP header when invoking APIs. The API Manager provides a Token API that you can  use to generate and renew user and application access tokens. The response of the Token API is a JSON message. You extract the token from the JSON and pass it with an HTTP Authorization header to access the API.\r\n\r\nThe following topic explain how to generate/renew access tokens and authorize them. WSO2 API Manager supports the four most common authorization grant types and you can also define additional types.\r\n\r\n -  Exchanging SAML2 Bearer Tokens with OAuth2 - SAML Extension Grant Type\r\n -  Generating Access Tokens with Authorization Code - Authorization Code Grant Type\r\n -  Generating Access Tokens with NT LAN Manager - NTLM Grant Type\r\n -  Generating Access Tokens with User Credentials - Password Grant Type\r\n\r\n\r\n  [1]: https://docs.wso2.com/display/AM190/Token+API","title":"Obtain Bearer token, using only Client ID and Secret. Is it possible","body":"<p>You may look into its <a href=\"https://docs.wso2.com/display/AM190/Token+API\" rel=\"nofollow\">token API</a>:</p>\n\n<p>Users need access tokens to invoke APIs subscribed under an application. Access tokens are passed in the HTTP header when invoking APIs. The API Manager provides a Token API that you can  use to generate and renew user and application access tokens. The response of the Token API is a JSON message. You extract the token from the JSON and pass it with an HTTP Authorization header to access the API.</p>\n\n<p>The following topic explain how to generate/renew access tokens and authorize them. WSO2 API Manager supports the four most common authorization grant types and you can also define additional types.</p>\n\n<ul>\n<li>Exchanging SAML2 Bearer Tokens with OAuth2 - SAML Extension Grant Type</li>\n<li>Generating Access Tokens with Authorization Code - Authorization Code Grant Type</li>\n<li>Generating Access Tokens with NT LAN Manager - NTLM Grant Type</li>\n<li>Generating Access Tokens with User Credentials - Password Grant Type</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1122194,"reputation":3608,"user_id":1110305,"accept_rate":67,"display_name":"Chamila Adhikarinayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469243280,"creation_date":1469243280,"answer_id":38537743,"question_id":38524547,"body_markdown":"If you check the Oauth2 grant types, you could find an answer for this. WSO2 API manager supports all grant types (Authorization Code,  Implicit, Resource Owner Password Credentials, Client Credentials mentioned in [OAuth 2.0 spec][1]). Each grant type has different flow to generate access token.\r\n\r\nResource Owner Password Credentials grant type (or password grant type) which you are using now needs username and password to generate the token. If you want to use client secret and client id, then you can use client credential grant type. see [client credential grant type section][2]\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6749#page-8\r\n  [2]: https://www.rfc-editor.org/rfc/rfc6749#section-4.4","title":"Obtain Bearer token, using only Client ID and Secret. Is it possible","body":"<p>If you check the Oauth2 grant types, you could find an answer for this. WSO2 API manager supports all grant types (Authorization Code,  Implicit, Resource Owner Password Credentials, Client Credentials mentioned in <a href=\"https://www.rfc-editor.org/rfc/rfc6749#page-8\" rel=\"nofollow noreferrer\">OAuth 2.0 spec</a>). Each grant type has different flow to generate access token.</p>\n<p>Resource Owner Password Credentials grant type (or password grant type) which you are using now needs username and password to generate the token. If you want to use client secret and client id, then you can use client credential grant type. see <a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-4.4\" rel=\"nofollow noreferrer\">client credential grant type section</a></p>\n"},{"tags":[],"owner":{"account_id":14602063,"reputation":1,"user_id":13555146,"display_name":"Akshay Pokharkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685176968,"creation_date":1685097793,"answer_id":76340024,"question_id":38524547,"body_markdown":"Yes, it&#39;s Possible.\r\n\r\nReference : &lt;br&gt;\r\n1) https://stackoverflow.com/questions/52238839/access-keycloak-rest-admin-api-using-a-service-account-client-credential-grant\r\n\r\n2) https://www.keycloak.org/docs/latest/server_admin/index.html#_service_accounts\r\n\r\nSteps to do in Keycloak : &lt;br&gt;\r\nStep 1: Click Clients in the menu&lt;br&gt; \r\n - Click the Settings tab&lt;br&gt; \r\n - Select your client&lt;br&gt; \r\n - Enable Service  Account to On.&lt;br&gt;\r\n\r\nStep 2 : Click the Scope tab, &lt;br&gt;\r\n - Verify that you have roles or toggle `Full Scope Allowed` to ON.&lt;br&gt;\r\n&lt;br&gt;\r\n\r\nCode:&lt;br&gt; \r\n\r\n\r\n        public AuthenticationResponse getAccessTokenByClientIdAndClientSecret(AuthorizationRequest authorizationRequest) {\r\n        try {\r\n            log.trace(&quot;Generating authentication token using client credentials&quot;);\r\n            RestTemplate restTemplate = restTemplateBuilder.build();\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\r\n            MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n            body.add(GRANT_TYPE, CLIENT_CREDENTIALS);\r\n            body.add(CLIENT_ID, authorizationRequest.getClientId());\r\n            body.add(CLIENT_SECRET, authorizationRequest.getClientSecret());\r\n\r\n            HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n            ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(keycloakUrl + REALMS + keycloakRealm + PROTOCOL_OPENID_CONNECT_TOKEN,\r\n                    request, String.class);\r\n\r\n            ObjectMapper mapper = new ObjectMapper().disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n            AuthenticationResponse authenticationResponse = mapper.readValue(response.getBody(), AuthenticationResponse.class);\r\n            log.trace(&quot;Token generated successfully, now returning to calling function&quot;);\r\n            return authenticationResponse;\r\n        } catch (Exception ex) {\r\n            log.error(&quot;Exception occurred while generating access token: {}&quot;, ex.getMessage());\r\n            throw ex;\r\n        }\r\n    }\r\n","title":"Obtain Bearer token, using only Client ID and Secret. Is it possible","body":"<p>Yes, it's Possible.</p>\n<p>Reference : <br></p>\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/52238839/access-keycloak-rest-admin-api-using-a-service-account-client-credential-grant\">Access Keycloak REST Admin API using a service account (client credential grant)</a></p>\n</li>\n<li><p><a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#_service_accounts\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/latest/server_admin/index.html#_service_accounts</a></p>\n</li>\n</ol>\n<p>Steps to do in Keycloak : <br>\nStep 1: Click Clients in the menu<br></p>\n<ul>\n<li>Click the Settings tab<br></li>\n<li>Select your client<br></li>\n<li>Enable Service  Account to On.<br></li>\n</ul>\n<p>Step 2 : Click the Scope tab, <br></p>\n<ul>\n<li>Verify that you have roles or toggle <code>Full Scope Allowed</code> to ON.<br>\n<br></li>\n</ul>\n<p>Code:<br></p>\n<pre><code>    public AuthenticationResponse getAccessTokenByClientIdAndClientSecret(AuthorizationRequest authorizationRequest) {\n    try {\n        log.trace(&quot;Generating authentication token using client credentials&quot;);\n        RestTemplate restTemplate = restTemplateBuilder.build();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\n        MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;();\n        body.add(GRANT_TYPE, CLIENT_CREDENTIALS);\n        body.add(CLIENT_ID, authorizationRequest.getClientId());\n        body.add(CLIENT_SECRET, authorizationRequest.getClientSecret());\n\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\n\n        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(keycloakUrl + REALMS + keycloakRealm + PROTOCOL_OPENID_CONNECT_TOKEN,\n                request, String.class);\n\n        ObjectMapper mapper = new ObjectMapper().disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        AuthenticationResponse authenticationResponse = mapper.readValue(response.getBody(), AuthenticationResponse.class);\n        log.trace(&quot;Token generated successfully, now returning to calling function&quot;);\n        return authenticationResponse;\n    } catch (Exception ex) {\n        log.error(&quot;Exception occurred while generating access token: {}&quot;, ex.getMessage());\n        throw ex;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8515945,"reputation":69,"user_id":6384360,"accept_rate":70,"display_name":"sreedhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1685176968,"creation_date":1469184481,"question_id":38524547,"body_markdown":"I have WSO2 API Manager on a standalone machine. I have a java client (Assume PSVM) with necessary Client Id and Secret of the registered application on APIM. Can we obtain the Bearer Token using only Client Id and Secret in Java. \r\n\r\nHelp appreciated, please. \r\n\r\nI have following code but, it requires username and password.\r\n\r\n\r\n  public Token getToken(String username, String password, String scopes){\r\n    \t\r\n        String submitUrl = GenarateAccessTokenConfiguration.getInstance().getLoginURL();\r\n        String consumerKey = GenarateAccessTokenConfiguration.getInstance().getConsumerKey();\r\n        String consumerSecret = GenarateAccessTokenConfiguration.getInstance().getConsumerSecret();\r\n        \r\n        try {\r\n            String applicationToken = consumerKey + &quot;:&quot; + consumerSecret;\r\n            BASE64Encoder base64Encoder = new BASE64Encoder();\r\n            applicationToken = &quot;Basic &quot; + base64Encoder.encode(applicationToken.getBytes()).trim();\r\n\r\n            String payload = &quot;grant_type=password&amp;username=&quot;+username+&quot;&amp;password=&quot;+password+&quot;&amp;scope=&quot;+scopes;\r\n            HttpResponse httpResponse = httpClient.doPost(submitUrl,applicationToken,\r\n            \t\tpayload,&quot;application/x-www-form-urlencoded&quot;);\r\n            if (httpResponse.getStatusLine().getStatusCode() != 200) {\r\n            \treturn null;\r\n            }\r\n            String response = httpClient.getResponsePayload(httpResponse);\r\n            \r\n            \r\n            System.out.println(&quot;JSON Response : &quot;+response);\r\n            \r\n            \r\n            return JSONClient.getAccessToken(response);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public Token getTokenWithScopes(String username, String password, String scopes){\r\n        String submitUrl = GenarateAccessTokenConfiguration.getInstance().getLoginURL();\r\n        String consumerKey = GenarateAccessTokenConfiguration.getInstance().getConsumerKey();\r\n        String consumerSecret = GenarateAccessTokenConfiguration.getInstance().getConsumerSecret();\r\n        try {\r\n            String applicationToken = consumerKey + &quot;:&quot; + consumerSecret;\r\n            BASE64Encoder base64Encoder = new BASE64Encoder();\r\n            applicationToken = &quot;Basic &quot; + base64Encoder.encode(applicationToken.getBytes()).trim();\r\n\r\n            String payload = &quot;grant_type=password&amp;username=&quot;+username+&quot;&amp;password=&quot;+password+&quot;&amp;scope=&quot;+scopes;\r\n            HttpResponse httpResponse = httpClient.doPost(submitUrl,applicationToken,\r\n                    payload,&quot;application/x-www-form-urlencoded&quot;);\r\n            if (httpResponse.getStatusLine().getStatusCode() != 200) {\r\n                return null;\r\n            }\r\n            String response = httpClient.getResponsePayload(httpResponse);\r\n            return JSONClient.getAccessToken(response);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }","title":"Obtain Bearer token, using only Client ID and Secret. Is it possible","body":"<p>I have WSO2 API Manager on a standalone machine. I have a java client (Assume PSVM) with necessary Client Id and Secret of the registered application on APIM. Can we obtain the Bearer Token using only Client Id and Secret in Java. </p>\n\n<p>Help appreciated, please. </p>\n\n<p>I have following code but, it requires username and password.</p>\n\n<p>public Token getToken(String username, String password, String scopes){</p>\n\n<pre><code>    String submitUrl = GenarateAccessTokenConfiguration.getInstance().getLoginURL();\n    String consumerKey = GenarateAccessTokenConfiguration.getInstance().getConsumerKey();\n    String consumerSecret = GenarateAccessTokenConfiguration.getInstance().getConsumerSecret();\n\n    try {\n        String applicationToken = consumerKey + \":\" + consumerSecret;\n        BASE64Encoder base64Encoder = new BASE64Encoder();\n        applicationToken = \"Basic \" + base64Encoder.encode(applicationToken.getBytes()).trim();\n\n        String payload = \"grant_type=password&amp;username=\"+username+\"&amp;password=\"+password+\"&amp;scope=\"+scopes;\n        HttpResponse httpResponse = httpClient.doPost(submitUrl,applicationToken,\n                payload,\"application/x-www-form-urlencoded\");\n        if (httpResponse.getStatusLine().getStatusCode() != 200) {\n            return null;\n        }\n        String response = httpClient.getResponsePayload(httpResponse);\n\n\n        System.out.println(\"JSON Response : \"+response);\n\n\n        return JSONClient.getAccessToken(response);\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n\npublic Token getTokenWithScopes(String username, String password, String scopes){\n    String submitUrl = GenarateAccessTokenConfiguration.getInstance().getLoginURL();\n    String consumerKey = GenarateAccessTokenConfiguration.getInstance().getConsumerKey();\n    String consumerSecret = GenarateAccessTokenConfiguration.getInstance().getConsumerSecret();\n    try {\n        String applicationToken = consumerKey + \":\" + consumerSecret;\n        BASE64Encoder base64Encoder = new BASE64Encoder();\n        applicationToken = \"Basic \" + base64Encoder.encode(applicationToken.getBytes()).trim();\n\n        String payload = \"grant_type=password&amp;username=\"+username+\"&amp;password=\"+password+\"&amp;scope=\"+scopes;\n        HttpResponse httpResponse = httpClient.doPost(submitUrl,applicationToken,\n                payload,\"application/x-www-form-urlencoded\");\n        if (httpResponse.getStatusLine().getStatusCode() != 200) {\n            return null;\n        }\n        String response = httpClient.getResponsePayload(httpResponse);\n        return JSONClient.getAccessToken(response);\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","mocking","mockito","powermockito"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685176483,"creation_date":1685117798,"answer_id":76342632,"question_id":76342172,"body_markdown":"According to this example [working with private methods][1]. You \r\nused the method  when() incorrectly in PowerMockito. And globstatus returns FileStatus[]. so the test should look like this. \r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(value = { FilesMgr.class, FileSystem.class })\r\n    public class HdfsFilesManagerTest {\r\n    \r\n        @Mock\r\n        private FileSystem mockFileSystem;\r\n    \r\n        @InjectMocks\r\n        private FilesMgr hdfsmgr;\r\n    \r\n        private final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            PowerMockito.mockStatic(FileSystem.class);\r\n            PowerMockito.when(FileSystem.get(PowerMockito.any())).thenReturn(mockFileSystem);\r\n            hdfsmgr = new FilesMgr(&quot;mockPath&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testGetFilesWithSizes() throws IOException {\r\n            String hdfsPath = &quot;/path/to/files&quot;;\r\n            String pattern = &quot;.dat&quot;;\r\n            Map&lt;String, List&lt;String&gt;&gt; expectedFiles = new HashMap&lt;&gt;();\r\n            List&lt;String&gt; fileInfo = new ArrayList&lt;&gt;();\r\n            fileInfo.add(&quot;100&quot;);\r\n            fileInfo.add(&quot;2023-05-01 12:00:00&quot;);\r\n            expectedFiles.put(&quot;file1.dat&quot;, fileInfo);\r\n    \r\n            PowerMockito.when(mockFileSystem.isDirectory(new Path(hdfsPath))).thenReturn(true);\r\n            FileStatus mockFileStatus = mock(FileStatus.class);\r\n            PowerMockito.when(mockFileStatus.getPath()).thenReturn(new Path(hdfsPath + &quot;/file1.dat&quot;));\r\n            PowerMockito.when(mockFileStatus.getLen()).thenReturn(100L);\r\n            PowerMockito.when(mockFileSystem.globStatus(new Path(hdfsPath + &quot;/*&quot; + pattern)))\r\n                    .thenReturn(new FileStatus[] { mockFileStatus });\r\n            PowerMockito.when(hdfsmgr, &quot;getLastModificationTime&quot;, mockFileStatus).thenReturn(&quot;2023-05-01 12:00:00&quot;);\r\n    \r\n            Map&lt;String, List&lt;String&gt;&gt; result = hdfsmgr.getFilesWithSizes(hdfsPath, pattern);\r\n    \r\n            assertEquals(expectedFiles, result);\r\n        }\r\n    }\r\n\r\nACcording to comment. We can create a new FIlestatus like mockFileStatus and then use it in assertion\r\n\r\n    @Test\r\n    public void testGetFilesWithSizes() throws IOException {\r\n        String hdfsPath = &quot;/path/to/files&quot;;\r\n        String pattern = &quot;.dat&quot;;\r\n        Map&lt;String, List&lt;String&gt;&gt; expectedFiles = new HashMap&lt;&gt;();\r\n        List&lt;String&gt; fileInfo = new ArrayList&lt;&gt;();\r\n        fileInfo.add(&quot;100&quot;);\r\n        fileInfo.add(&quot;2023-05-01 12:00:00&quot;);\r\n        expectedFiles.put(&quot;file1.dat&quot;, fileInfo);\r\n    \r\n        PowerMockito.when(mockFileSystem.isDirectory(new Path(hdfsPath))).thenReturn(true);\r\n        FileStatus mockFileStatus = mock(FileStatus.class);\r\n        Path mockFilePath = new Path(hdfsPath + &quot;/file1.dat&quot;);\r\n        PowerMockito.when(mockFileStatus.getPath()).thenReturn(mockFilePath);\r\n        PowerMockito.when(mockFileStatus.getLen()).thenReturn(100L);\r\n        PowerMockito.when(mockFileSystem.globStatus(new Path(hdfsPath + &quot;/*&quot; + pattern)))\r\n                .thenReturn(new FileStatus[] { mockFileStatus });\r\n        PowerMockito.when(hdfsmgr, &quot;getLastModificationTime&quot;, mockFileStatus).thenReturn(&quot;2023-05-01 12:00:00&quot;);\r\n    \r\n        Map&lt;String, List&lt;String&gt;&gt; result = hdfsmgr.getFilesWithSizes(hdfsPath, pattern);\r\n    \r\n        assertEquals(expectedFiles.size(), result.size());\r\n        assertTrue(result.containsKey(&quot;file1.dat&quot;));\r\n    \r\n        List&lt;String&gt; actualFileInfo = result.get(&quot;file1.dat&quot;);\r\n        assertEquals(fileInfo.get(0), actualFileInfo.get(0));\r\n        assertEquals(fileInfo.get(1), actualFileInfo.get(1));\r\n    } \r\n\r\n\r\n  [1]: https://www.baeldung.com/powermock-private-method","title":"Junit giving error related to private access in a class FilesMgr and as well as thenReturn(FileStatus)","body":"<p>According to this example <a href=\"https://www.baeldung.com/powermock-private-method\" rel=\"nofollow noreferrer\">working with private methods</a>. You\nused the method  when() incorrectly in PowerMockito. And globstatus returns FileStatus[]. so the test should look like this.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(value = { FilesMgr.class, FileSystem.class })\npublic class HdfsFilesManagerTest {\n\n    @Mock\n    private FileSystem mockFileSystem;\n\n    @InjectMocks\n    private FilesMgr hdfsmgr;\n\n    private final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\n\n    @Before\n    public void setUp() throws Exception {\n        PowerMockito.mockStatic(FileSystem.class);\n        PowerMockito.when(FileSystem.get(PowerMockito.any())).thenReturn(mockFileSystem);\n        hdfsmgr = new FilesMgr(&quot;mockPath&quot;);\n    }\n\n    @Test\n    public void testGetFilesWithSizes() throws IOException {\n        String hdfsPath = &quot;/path/to/files&quot;;\n        String pattern = &quot;.dat&quot;;\n        Map&lt;String, List&lt;String&gt;&gt; expectedFiles = new HashMap&lt;&gt;();\n        List&lt;String&gt; fileInfo = new ArrayList&lt;&gt;();\n        fileInfo.add(&quot;100&quot;);\n        fileInfo.add(&quot;2023-05-01 12:00:00&quot;);\n        expectedFiles.put(&quot;file1.dat&quot;, fileInfo);\n\n        PowerMockito.when(mockFileSystem.isDirectory(new Path(hdfsPath))).thenReturn(true);\n        FileStatus mockFileStatus = mock(FileStatus.class);\n        PowerMockito.when(mockFileStatus.getPath()).thenReturn(new Path(hdfsPath + &quot;/file1.dat&quot;));\n        PowerMockito.when(mockFileStatus.getLen()).thenReturn(100L);\n        PowerMockito.when(mockFileSystem.globStatus(new Path(hdfsPath + &quot;/*&quot; + pattern)))\n                .thenReturn(new FileStatus[] { mockFileStatus });\n        PowerMockito.when(hdfsmgr, &quot;getLastModificationTime&quot;, mockFileStatus).thenReturn(&quot;2023-05-01 12:00:00&quot;);\n\n        Map&lt;String, List&lt;String&gt;&gt; result = hdfsmgr.getFilesWithSizes(hdfsPath, pattern);\n\n        assertEquals(expectedFiles, result);\n    }\n}\n</code></pre>\n<p>ACcording to comment. We can create a new FIlestatus like mockFileStatus and then use it in assertion</p>\n<pre><code>@Test\npublic void testGetFilesWithSizes() throws IOException {\n    String hdfsPath = &quot;/path/to/files&quot;;\n    String pattern = &quot;.dat&quot;;\n    Map&lt;String, List&lt;String&gt;&gt; expectedFiles = new HashMap&lt;&gt;();\n    List&lt;String&gt; fileInfo = new ArrayList&lt;&gt;();\n    fileInfo.add(&quot;100&quot;);\n    fileInfo.add(&quot;2023-05-01 12:00:00&quot;);\n    expectedFiles.put(&quot;file1.dat&quot;, fileInfo);\n\n    PowerMockito.when(mockFileSystem.isDirectory(new Path(hdfsPath))).thenReturn(true);\n    FileStatus mockFileStatus = mock(FileStatus.class);\n    Path mockFilePath = new Path(hdfsPath + &quot;/file1.dat&quot;);\n    PowerMockito.when(mockFileStatus.getPath()).thenReturn(mockFilePath);\n    PowerMockito.when(mockFileStatus.getLen()).thenReturn(100L);\n    PowerMockito.when(mockFileSystem.globStatus(new Path(hdfsPath + &quot;/*&quot; + pattern)))\n            .thenReturn(new FileStatus[] { mockFileStatus });\n    PowerMockito.when(hdfsmgr, &quot;getLastModificationTime&quot;, mockFileStatus).thenReturn(&quot;2023-05-01 12:00:00&quot;);\n\n    Map&lt;String, List&lt;String&gt;&gt; result = hdfsmgr.getFilesWithSizes(hdfsPath, pattern);\n\n    assertEquals(expectedFiles.size(), result.size());\n    assertTrue(result.containsKey(&quot;file1.dat&quot;));\n\n    List&lt;String&gt; actualFileInfo = result.get(&quot;file1.dat&quot;);\n    assertEquals(fileInfo.get(0), actualFileInfo.get(0));\n    assertEquals(fileInfo.get(1), actualFileInfo.get(1));\n} \n</code></pre>\n"}],"owner":{"account_id":28686679,"reputation":1,"user_id":21966810,"display_name":"Dheeru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685176483,"creation_date":1685114531,"question_id":76342172,"body_markdown":"Junit giving error related to private access in a class FilesMgr and as well as thenReturn(FileStatus)\r\n\r\nHello All,\r\n\r\nHere is the below original class, I&#39;ve written Junit for `getFilesWithSizes()` method.\r\n\r\n\r\n```\r\n\r\npackage com.ms.ets.hive;\r\n\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\nimport org.apache.hadoop.fs.FileStatus;\r\nimport org.apache.hadoop.fs.FileSystem;\r\nimport org.apache.hadoop.fs.Path;\r\n\r\n\r\npublic class FilesMgr \r\n\t\textends HdfsManager {\r\n\r\n\tprivate FileSystem fs;\r\n\r\n\tprivate final SimpleDateFormat sdf = new SimpleDateFormat(\r\n\t\t\t&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n\r\n\tpublic FilesMgr (\r\n\t\tString hadoopConfigurationPath)\r\n\t\tthrows IOException {\r\n\r\n\t\tsuper(hadoopConfigurationPath);\r\n\t\tthis.fs = getFileSystem();\r\n\t}\r\n\r\n\r\n\tpublic Map&lt;String, List&lt;String&gt;&gt; getFilesWithSizes(\r\n\t\tString hdfsPath,\r\n\t\tString pattern)\r\n\t\tthrows IOException {\r\n\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; files = new HashMap&lt;&gt;();\r\n\t\tList&lt;String&gt; fileInfo = null;\r\n\t\tPath dirPath = new Path(hdfsPath);\r\n\t\tif (fs.isDirectory(dirPath)) {\r\n\t\t\tPath filter = new Path(String.format(&quot;%s/*%s&quot;, hdfsPath, pattern));\r\n\t\t\tFileStatus[] matches = fs.globStatus(filter);\r\n\t\t\tif (matches != null) {\r\n\t\t\t\tfor (FileStatus match : matches) {\r\n\t\t\t\t\tfileInfo = new ArrayList&lt;&gt;();\r\n\t\t\t\t\tString fileName = match.getPath().getName();\r\n\t\t\t\t\tfileInfo.add(String.format(&quot;%d&quot;, match.getLen()));\r\n\t\t\t\t\tfileInfo.add(getLastModificationTime(match));\r\n\t\t\t\t\tfiles.put(fileName, fileInfo);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn files;\r\n\t}\r\n\r\n\r\n\tprivate String getLastModificationTime(\r\n\t\tFileStatus status) {\r\n\r\n\t\tlong modificationTime = status.getModificationTime();\r\n\t\tDate modificationTimestamp = new Date(modificationTime);\r\n\t\treturn sdf.format(modificationTimestamp);\r\n\t}\r\n}\r\n```\r\n\r\nBelow is my Junit for this:\r\n\r\n\r\n```\r\n\r\npackage com.ms.ets.hive;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\n\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.text.SimpleDateFormat;  \r\nimport java.util.Date;\r\n\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.FileStatus;\r\nimport org.apache.hadoop.fs.FileSystem;\r\nimport org.apache.hadoop.fs.Path;\r\nimport org.apache.hadoop.security.UserGroupInformation;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.powermock.api.mockito.PowerMockito;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Spy;\r\n\r\nimport com.ms.ets.BacklogManager;\r\nimport com.ms.ets.FilesMgr;\r\nimport com.ms.ets.HdfsManager;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(value = { FilesMgr.class, UserGroupInformation.class,\r\n\t\tFileSystem.class, HdfsManager.class })\r\npublic class HdfsFilesManagerTest {\r\n\r\n\tprivate FilesMgr hdfsmgr;\r\n\t\r\n\tprivate final SimpleDateFormat sdf = new SimpleDateFormat(\r\n\t\t\t&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n\r\n\tString mockHadoopConfigurationPath;\r\n\r\n\tMap&lt;String, String&gt; filesWithModTime;\r\n\t\r\n\tList&lt;Map&lt;String, String&gt;&gt; files;\r\n\r\n\t@Mock\r\n\tprivate FileSystem mockFileSystem;\r\n\r\n\t@Mock\r\n\tprivate Configuration mockConfiguration;\r\n\r\n\t@Before\r\n\tpublic void setUp() throws Exception {\r\n\t\tmockHadoopConfigurationPath = &quot;mockPath&quot;;\r\n\t\tPowerMockito.whenNew(Configuration.class).withNoArguments()\r\n\t\t\t\t.thenReturn(mockConfiguration);\r\n\t\tPowerMockito.mockStatic(UserGroupInformation.class);\r\n\t\tPowerMockito.mockStatic(FileSystem.class);\r\n\t\tPowerMockito.when(FileSystem.get(mockConfiguration))\r\n\t\t\t\t.thenReturn(mockFileSystem);\r\n\t\thdfsmgr = new HdfsFilesManager(mockHadoopConfigurationPath);\r\n\t}\r\n\r\n\r\n\t@Test\r\n    public void testGetFilesWithSizes() throws IOException {\r\n\t\t\r\n        String hdfsPath = &quot;/path/to/files&quot;;\r\n        String pattern = &quot;.dat&quot;;\r\n        Map&lt;String, List&lt;String&gt;&gt; expectedFiles = new HashMap&lt;&gt;();\r\n        List&lt;String&gt; fileInfo = new ArrayList&lt;&gt;();\r\n        fileInfo.add(&quot;100&quot;);\r\n        fileInfo.add(&quot;2023-05-01 12:00:00&quot;);\r\n        expectedFiles.put(&quot;file1.dat&quot;, fileInfo);\r\n\r\n        PowerMockito.when(mockFileSystem.isDirectory(new Path(hdfsPath))).thenReturn(true);\r\n        FileStatus mockFileStatus = mock(FileStatus.class);\r\n        PowerMockito.when(mockFileStatus.getPath()).thenReturn(new Path(hdfsPath + &quot;/file1.dat&quot;));\r\n        PowerMockito.when(mockFileStatus.getLen()).thenReturn(100L);\r\n        PowerMockito.when(mockFileSystem.globStatus(new Path(hdfsPath + &quot;/*&quot; + pattern))).thenReturn(new FileStatus(100, true, 1, 100, 1355252400000L, new Path(&quot;file1.dat&quot;) ));\r\n        PowerMockito.when(hdfsmgr.getLastModificationTime(mockFileStatus)).thenReturn(&quot;2023-05-01 12:00:00&quot;);\r\n\r\n        Map&lt;String, List&lt;String&gt;&gt; result = hdfsmgr.getFilesWithSizes(hdfsPath, pattern);\r\n\r\n        assertEquals(expectedFiles, result);\t\t\r\n\t\t\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis Junit fails with below 2 errors:\r\n\r\n1. No suitable method found for thenReturn(FileStatus)\r\n2. getLastModificationTime(FileStatus) has private access in FilesMgr\r\n\r\ncan you please help me out what is wrong in my Junit and give the corrected code?\r\n\r\nThanks.\r\n","title":"Junit giving error related to private access in a class FilesMgr and as well as thenReturn(FileStatus)","body":"<p>Junit giving error related to private access in a class FilesMgr and as well as thenReturn(FileStatus)</p>\n<p>Hello All,</p>\n<p>Here is the below original class, I've written Junit for <code>getFilesWithSizes()</code> method.</p>\n<pre><code>\npackage com.ms.ets.hive;\n\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.Map;\n\nimport org.apache.hadoop.fs.FileStatus;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\n\n\npublic class FilesMgr \n        extends HdfsManager {\n\n    private FileSystem fs;\n\n    private final SimpleDateFormat sdf = new SimpleDateFormat(\n            &quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\n\n    public FilesMgr (\n        String hadoopConfigurationPath)\n        throws IOException {\n\n        super(hadoopConfigurationPath);\n        this.fs = getFileSystem();\n    }\n\n\n    public Map&lt;String, List&lt;String&gt;&gt; getFilesWithSizes(\n        String hdfsPath,\n        String pattern)\n        throws IOException {\n\n        Map&lt;String, List&lt;String&gt;&gt; files = new HashMap&lt;&gt;();\n        List&lt;String&gt; fileInfo = null;\n        Path dirPath = new Path(hdfsPath);\n        if (fs.isDirectory(dirPath)) {\n            Path filter = new Path(String.format(&quot;%s/*%s&quot;, hdfsPath, pattern));\n            FileStatus[] matches = fs.globStatus(filter);\n            if (matches != null) {\n                for (FileStatus match : matches) {\n                    fileInfo = new ArrayList&lt;&gt;();\n                    String fileName = match.getPath().getName();\n                    fileInfo.add(String.format(&quot;%d&quot;, match.getLen()));\n                    fileInfo.add(getLastModificationTime(match));\n                    files.put(fileName, fileInfo);\n                }\n            }\n        }\n        return files;\n    }\n\n\n    private String getLastModificationTime(\n        FileStatus status) {\n\n        long modificationTime = status.getModificationTime();\n        Date modificationTimestamp = new Date(modificationTime);\n        return sdf.format(modificationTimestamp);\n    }\n}\n</code></pre>\n<p>Below is my Junit for this:</p>\n<pre><code>\npackage com.ms.ets.hive;\n\nimport static org.junit.Assert.assertEquals;\n\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\nimport java.text.SimpleDateFormat;  \nimport java.util.Date;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.FileStatus;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.security.UserGroupInformation;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.mockito.InjectMocks;\nimport org.mockito.Spy;\n\nimport com.ms.ets.BacklogManager;\nimport com.ms.ets.FilesMgr;\nimport com.ms.ets.HdfsManager;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(value = { FilesMgr.class, UserGroupInformation.class,\n        FileSystem.class, HdfsManager.class })\npublic class HdfsFilesManagerTest {\n\n    private FilesMgr hdfsmgr;\n    \n    private final SimpleDateFormat sdf = new SimpleDateFormat(\n            &quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\n\n    String mockHadoopConfigurationPath;\n\n    Map&lt;String, String&gt; filesWithModTime;\n    \n    List&lt;Map&lt;String, String&gt;&gt; files;\n\n    @Mock\n    private FileSystem mockFileSystem;\n\n    @Mock\n    private Configuration mockConfiguration;\n\n    @Before\n    public void setUp() throws Exception {\n        mockHadoopConfigurationPath = &quot;mockPath&quot;;\n        PowerMockito.whenNew(Configuration.class).withNoArguments()\n                .thenReturn(mockConfiguration);\n        PowerMockito.mockStatic(UserGroupInformation.class);\n        PowerMockito.mockStatic(FileSystem.class);\n        PowerMockito.when(FileSystem.get(mockConfiguration))\n                .thenReturn(mockFileSystem);\n        hdfsmgr = new HdfsFilesManager(mockHadoopConfigurationPath);\n    }\n\n\n    @Test\n    public void testGetFilesWithSizes() throws IOException {\n        \n        String hdfsPath = &quot;/path/to/files&quot;;\n        String pattern = &quot;.dat&quot;;\n        Map&lt;String, List&lt;String&gt;&gt; expectedFiles = new HashMap&lt;&gt;();\n        List&lt;String&gt; fileInfo = new ArrayList&lt;&gt;();\n        fileInfo.add(&quot;100&quot;);\n        fileInfo.add(&quot;2023-05-01 12:00:00&quot;);\n        expectedFiles.put(&quot;file1.dat&quot;, fileInfo);\n\n        PowerMockito.when(mockFileSystem.isDirectory(new Path(hdfsPath))).thenReturn(true);\n        FileStatus mockFileStatus = mock(FileStatus.class);\n        PowerMockito.when(mockFileStatus.getPath()).thenReturn(new Path(hdfsPath + &quot;/file1.dat&quot;));\n        PowerMockito.when(mockFileStatus.getLen()).thenReturn(100L);\n        PowerMockito.when(mockFileSystem.globStatus(new Path(hdfsPath + &quot;/*&quot; + pattern))).thenReturn(new FileStatus(100, true, 1, 100, 1355252400000L, new Path(&quot;file1.dat&quot;) ));\n        PowerMockito.when(hdfsmgr.getLastModificationTime(mockFileStatus)).thenReturn(&quot;2023-05-01 12:00:00&quot;);\n\n        Map&lt;String, List&lt;String&gt;&gt; result = hdfsmgr.getFilesWithSizes(hdfsPath, pattern);\n\n        assertEquals(expectedFiles, result);        \n        \n    }\n}\n\n</code></pre>\n<p>This Junit fails with below 2 errors:</p>\n<ol>\n<li>No suitable method found for thenReturn(FileStatus)</li>\n<li>getLastModificationTime(FileStatus) has private access in FilesMgr</li>\n</ol>\n<p>can you please help me out what is wrong in my Junit and give the corrected code?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1685587184,"post_id":76345986,"comment_id":134681995,"body_markdown":"This answer explain how these two approach works . I want to know that why CGLib is more efficient than JDK dynamic proxy .","body":"This answer explain how these two approach works . I want to know that why CGLib is more efficient than JDK dynamic proxy ."}],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685783914,"answer_count":0,"score":0,"last_activity_date":1685175805,"creation_date":1685175805,"question_id":76345986,"body_markdown":"could someone help me to understand difference between JDK dynamic proxy and CGLib ? \r\nand what is the default in spring ? \r\n\r\n\r\nI know that JDK proxies support interface and CGLib supports subclasses . my goal is to understand memory usage of them ","title":"What are the differences between JDK dynamic proxy and CGLib in Spring and how do they impact memory usage?","body":"<p>could someone help me to understand difference between JDK dynamic proxy and CGLib ?\nand what is the default in spring ?</p>\n<p>I know that JDK proxies support interface and CGLib supports subclasses . my goal is to understand memory usage of them</p>\n"},{"tags":["java","caffeine-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1685109737,"post_id":76339345,"comment_id":134619927,"body_markdown":"The expiry maintains a single timestamp per entry, so each of those calls return what the next value should be. Your code example says that the insert or update set the timestamp to now + 1 second, and on a read do not change that value. That sounds like what you want, also equivalent to `expireAfterWrite(1 sec)`. Sometimes people get confused thinking it is maintaining 3 timestamps and not a single one, if that was your confusion? You can use `ticker` to fake time and experiment to see the behavior, if that helps.","body":"The expiry maintains a single timestamp per entry, so each of those calls return what the next value should be. Your code example says that the insert or update set the timestamp to now + 1 second, and on a read do not change that value. That sounds like what you want, also equivalent to <code>expireAfterWrite(1 sec)</code>. Sometimes people get confused thinking it is maintaining 3 timestamps and not a single one, if that was your confusion? You can use <code>ticker</code> to fake time and experiment to see the behavior, if that helps."},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1685122993,"post_id":76339345,"comment_id":134622544,"body_markdown":"Hi @BenManes Thank you very much for your reply - I have worked through the example on your documentation, relating to the Ticker (FakeTicker) and can see using  `.expireAfterWrite(1, TimeUnit.SECONDS)` works as expected - but it never seems to give me a call back to  `removalListener((key, value, cause) ` - is this expexted behaviour? The call back is essential to what I am trying to achieve. I have added my sample test code to the original post - Thanks","body":"Hi @BenManes Thank you very much for your reply - I have worked through the example on your documentation, relating to the Ticker (FakeTicker) and can see using  <code>.expireAfterWrite(1, TimeUnit.SECONDS)</code> works as expected - but it never seems to give me a call back to  <code>removalListener((key, value, cause) </code> - is this expexted behaviour? The call back is essential to what I am trying to achieve. I have added my sample test code to the original post - Thanks"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1685149944,"post_id":76339345,"comment_id":134625805,"body_markdown":"You have to specify a `scheduler` if you want prompt notification. The cache does not create its own threads an a plain `Executor` lacks scheduling capabilities. `Scheduler.systemScheduler()` will use a shared JVM-wide thread introduced in Java 9. If not set, then the cache will piggyback on other reads or writes to perform maintenance work to eventually remove the expired entry.","body":"You have to specify a <code>scheduler</code> if you want prompt notification. The cache does not create its own threads an a plain <code>Executor</code> lacks scheduling capabilities. <code>Scheduler.systemScheduler()</code> will use a shared JVM-wide thread introduced in Java 9. If not set, then the cache will piggyback on other reads or writes to perform maintenance work to eventually remove the expired entry."},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1685174814,"post_id":76339345,"comment_id":134627275,"body_markdown":"Thank you very much for replying @BenManes i really appreciate it - I have pasted an example under Example 2 to demonstrate my next lack of understanding :) Assuming that &quot;a&quot; get&#39;s populated consistently but b does not then ideally b should be evicted for expiry but the call back does not get triggered (when thread.sleep &lt; 1 second) if i set a break point in the removal listener b is then removed - i assume it is because there is a chance of the worker thread to catchup? What tweaks do i need to enable in order to ensure that writes do not effect removal detection please? Anything &gt;=1 works","body":"Thank you very much for replying @BenManes i really appreciate it - I have pasted an example under Example 2 to demonstrate my next lack of understanding :) Assuming that &quot;a&quot; get&#39;s populated consistently but b does not then ideally b should be evicted for expiry but the call back does not get triggered (when thread.sleep &lt; 1 second) if i set a break point in the removal listener b is then removed - i assume it is because there is a chance of the worker thread to catchup? What tweaks do i need to enable in order to ensure that writes do not effect removal detection please? Anything &gt;=1 works"},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1685174895,"post_id":76339345,"comment_id":134627283,"body_markdown":"Just to further the above - I have tried `forScheduledExecutorService(newScheduledThreadPool(Runtime.getRuntime().availableProcessors()));` but this did not seem to help - i had assumed the single thread approach was too busy with the `RemovalCause.REPLACED` events?","body":"Just to further the above - I have tried <code>forScheduledExecutorService(newScheduledThreadPool(Runtime.g&zwnj;&#8203;etRuntime().availabl&zwnj;&#8203;eProcessors()));</code> but this did not seem to help - i had assumed the single thread approach was too busy with the <code>RemovalCause.REPLACED</code> events?"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1685205455,"post_id":76339345,"comment_id":134630602,"body_markdown":"Your test exposes a flaw in an [optimization](https://github.com/ben-manes/caffeine/commit/2c5c1d96106cebb8d036043ffdd897f053fd32bb) that tries to avoid overwhelming the cache on writes. There is a 1 second tolerance to update the  timestamp directly and not reorder the entry on the expiration queue. At 0.9s it always falls within this threshold and &quot;a&quot; stays ordered before &quot;b&quot;, causing expirations to stop searching. This applies to `expireAfterWrite` which reorders on a doubly-linked list so it only has to scan the first few elements. If absent it caused writes performance to degrade.","body":"Your test exposes a flaw in an <a href=\"https://github.com/ben-manes/caffeine/commit/2c5c1d96106cebb8d036043ffdd897f053fd32bb\" rel=\"nofollow noreferrer\">optimization</a> that tries to avoid overwhelming the cache on writes. There is a 1 second tolerance to update the  timestamp directly and not reorder the entry on the expiration queue. At 0.9s it always falls within this threshold and &quot;a&quot; stays ordered before &quot;b&quot;, causing expirations to stop searching. This applies to <code>expireAfterWrite</code> which reorders on a doubly-linked list so it only has to scan the first few elements. If absent it caused writes performance to degrade."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1685205714,"post_id":76339345,"comment_id":134630632,"body_markdown":"That flaw is not present if you use `expireAfter(expiry)` which came later and uses a more advanced data structure, a timing wheel. That has the same optimization but is not a naive ordering, yet is still O(1) so very fast. Using that configuration and your tests works perfectly. \n\nI&#39;ll have to explore improvements here. Had the timing wheel been implemented first then `expireAfterWrite` would simply be a convenience configuration. It wasn&#39;t, so I did not refactor working code away. Either it could switch or the optimization could be probabilistic to not get pinned in a bad state.","body":"That flaw is not present if you use <code>expireAfter(expiry)</code> which came later and uses a more advanced data structure, a timing wheel. That has the same optimization but is not a naive ordering, yet is still O(1) so very fast. Using that configuration and your tests works perfectly.   I&#39;ll have to explore improvements here. Had the timing wheel been implemented first then <code>expireAfterWrite</code> would simply be a convenience configuration. It wasn&#39;t, so I did not refactor working code away. Either it could switch or the optimization could be probabilistic to not get pinned in a bad state."},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1685294894,"post_id":76339345,"comment_id":134638444,"body_markdown":"@BenManes very interesting - thank you for the information - unfortunately i am constrained to java 8 due to company so am stuck with `expireAfterWrite` it seems. My actual problem definition is to pull quotes from market if no tick within a period - these tick at a ms interval.","body":"@BenManes very interesting - thank you for the information - unfortunately i am constrained to java 8 due to company so am stuck with <code>expireAfterWrite</code> it seems. My actual problem definition is to pull quotes from market if no tick within a period - these tick at a ms interval."},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1685294948,"post_id":76339345,"comment_id":134638448,"body_markdown":"On the first invocation of `removalListener` i need to grab all of the keys - but it appears as if they all get GC&#39;ed before i have chance to grab them - do you know if this is possible at all? I have tried cloning with the copy constructor as well as `cache.asMap().keySet().stream().collect(Collectors.toSet())` but before i get a chance to do anything they are already gone - do you have any suggestions for this at all? This is probably my last question - sorry for so many!","body":"On the first invocation of <code>removalListener</code> i need to grab all of the keys - but it appears as if they all get GC&#39;ed before i have chance to grab them - do you know if this is possible at all? I have tried cloning with the copy constructor as well as <code>cache.asMap().keySet().stream().collect(Collectors.toSet())</code> but before i get a chance to do anything they are already gone - do you have any suggestions for this at all? This is probably my last question - sorry for so many!"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1685295547,"post_id":76339345,"comment_id":134638504,"body_markdown":"`expireAfter(expiry)` was added in v2.5.0, which was Java 8 based, so you could still use that like your original example to workaround this bug. I&#39;ll fix it going forward also. Thanks for being patient as I know it can get frustrating to figure out a library and its quirks.","body":"<code>expireAfter(expiry)</code> was added in v2.5.0, which was Java 8 based, so you could still use that like your original example to workaround this bug. I&#39;ll fix it going forward also. Thanks for being patient as I know it can get frustrating to figure out a library and its quirks."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1685295747,"post_id":76339345,"comment_id":134638531,"body_markdown":"Do you really need weak keys/values? The GC can be aggressive and you have an expiration policy, so it seems unnecessary. Weak keys means that if there is no strong reference to the key then it can be discard, and weak values is likewise for the value. That is helpful for life cycle logic of closeable resources, but most caches are for data reuse where the reference will be used only during a user request so held shortly. You probably don&#39;t need either weak variant enabled.","body":"Do you really need weak keys/values? The GC can be aggressive and you have an expiration policy, so it seems unnecessary. Weak keys means that if there is no strong reference to the key then it can be discard, and weak values is likewise for the value. That is helpful for life cycle logic of closeable resources, but most caches are for data reuse where the reference will be used only during a user request so held shortly. You probably don&#39;t need either weak variant enabled."},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1685355195,"post_id":76339345,"comment_id":134644585,"body_markdown":"@BenManes i think the issue is that i am trying to get the keys from the cache using `cache.asMap().keySet(()` from within the `evictionListener` at which point it is too late? Ultimately trying to say, given the first indication of an expiry - grab everything and perform some action then clear the cache contents manually via `invalidateAll()` or some such","body":"@BenManes i think the issue is that i am trying to get the keys from the cache using <code>cache.asMap().keySet(()</code> from within the <code>evictionListener</code> at which point it is too late? Ultimately trying to say, given the first indication of an expiry - grab everything and perform some action then clear the cache contents manually via <code>invalidateAll()</code> or some such"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1685380463,"post_id":76339345,"comment_id":134648983,"body_markdown":"Oh, the cache does suppress entries that are pending eviction as they shouldn&#39;t be usable and may reside until automatically removed. `Cache.policy()` has some methods to review or you could coalesce evictions into a batch for that action. Otherwise it sounds like you need a custom cache where you control the eviction process. Maybe you just need a map and a scheduled executor with a periodic task?","body":"Oh, the cache does suppress entries that are pending eviction as they shouldn&#39;t be usable and may reside until automatically removed. <code>Cache.policy()</code> has some methods to review or you could coalesce evictions into a batch for that action. Otherwise it sounds like you need a custom cache where you control the eviction process. Maybe you just need a map and a scheduled executor with a periodic task?"}],"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685174577,"creation_date":1685092439,"question_id":76339345,"body_markdown":"I have a Caffeine Cache of String id and LocalDateTime (when record was inserted)\r\n\r\nI am trying to follow the principle of implementing expiry interface in order to manage expiry times \r\n\r\nA code snippet i took from stackoverflow is below\r\n\r\n    LoadingCache&lt;Key, Graph&gt; graphs = Caffeine.newBuilder()\r\n        .expireAfter(new Expiry&lt;Key, Graph&gt;() {\r\n          public long expireAfterCreate(Key key, Graph graph, long currentTime) {\r\n            return 1000;\r\n          }\r\n          public long expireAfterUpdate(Key key, Graph graph, \r\n              long currentTime, long currentDuration) {\r\n            return 1000;\r\n          }\r\n          public long expireAfterRead(Key key, Graph graph,\r\n              long currentTime, long currentDuration) {\r\n            return currentDuration;\r\n          }\r\n        })\r\n        .build(key -&gt; createExpensiveGraph(key));\r\n\r\nWhat I am struggling to understand is; lets say I put a key in the map, of &quot;A&quot; and a `LocalDateTime.now()` - it will expire after one second, but assuming i keep repopulating the map with `LocalDateTime.now()` for key A then I would like the timer to be reset \r\n\r\nSo in theory, if I infinitely called `cache.put(&quot;A&quot;, LocalDateTime.now())` then I would never get an expiry notification \r\n\r\nThe actual problem I am trying to solve is, we get an initial update for some keys, and every n number of seconds they should update - hence re adding them to my cache. I don&#39;t want the initial insert to trigger the expiry, only the most recent insert for a given key if it exceeds the imposed time constraint\r\n\r\nI hope the above makes sense - it is quite difficult to explain\r\n\r\nSample test code - \r\n\r\n    final Cache&lt;String, LocalDateTime&gt; cache = Caffeine.newBuilder()\r\n            .executor(Runnable::run)\r\n            .ticker(ticker::read)\r\n            .removalListener((key, value, cause) -&gt; {\r\n                if (cause.wasEvicted()) {\r\n                    System.out.printf(&quot;key=%s, value=%s&quot;, key, value);\r\n                }\r\n            })\r\n            .expireAfterWrite(1, TimeUnit.SECONDS)\r\n            .weakKeys()\r\n            .weakValues()\r\n            .build();\r\n\r\n\r\n\r\n**Example 2**\r\n\r\n    public class Main implements Runnable{\r\n    \r\n        final Cache&lt;String, LocalDateTime&gt; cache = Caffeine.newBuilder()\r\n                .executor(Runnable::run)\r\n                .scheduler(createScheduler())\r\n                .removalListener((key, value, cause) -&gt; {\r\n                    if (cause == RemovalCause.EXPIRED) {\r\n                        System.out.printf(&quot;key=%s, value=%s&quot;, key, value);\r\n                    }\r\n                })\r\n                .weakKeys()\r\n                .weakValues()\r\n                .expireAfterWrite(10, TimeUnit.SECONDS)\r\n                .build();\r\n    \r\n        private Scheduler createScheduler() {\r\n            return forScheduledExecutorService(newSingleThreadScheduledExecutor());\r\n        }\r\n    \r\n    \r\n        LocalDateTime create(String k) {\r\n            return LocalDateTime.now();\r\n        }\r\n    \r\n        public void add(String a) {\r\n            cache.put(a, LocalDateTime.now());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Thread thread = new Thread(new Main());\r\n            thread.start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            add(&quot;a&quot;);\r\n            add(&quot;b&quot;);\r\n            for(int i = 0; i &lt; 100; i++) {\r\n                System.out.println(&quot;adding a&quot; + i);\r\n                add(&quot;a&quot;);\r\n                try {\r\n                    Thread.sleep(900);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to specify Expiry in Caffeine Cache but only for most recent instance of a given key / value mapping","body":"<p>I have a Caffeine Cache of String id and LocalDateTime (when record was inserted)</p>\n<p>I am trying to follow the principle of implementing expiry interface in order to manage expiry times</p>\n<p>A code snippet i took from stackoverflow is below</p>\n<pre><code>LoadingCache&lt;Key, Graph&gt; graphs = Caffeine.newBuilder()\n    .expireAfter(new Expiry&lt;Key, Graph&gt;() {\n      public long expireAfterCreate(Key key, Graph graph, long currentTime) {\n        return 1000;\n      }\n      public long expireAfterUpdate(Key key, Graph graph, \n          long currentTime, long currentDuration) {\n        return 1000;\n      }\n      public long expireAfterRead(Key key, Graph graph,\n          long currentTime, long currentDuration) {\n        return currentDuration;\n      }\n    })\n    .build(key -&gt; createExpensiveGraph(key));\n</code></pre>\n<p>What I am struggling to understand is; lets say I put a key in the map, of &quot;A&quot; and a <code>LocalDateTime.now()</code> - it will expire after one second, but assuming i keep repopulating the map with <code>LocalDateTime.now()</code> for key A then I would like the timer to be reset</p>\n<p>So in theory, if I infinitely called <code>cache.put(&quot;A&quot;, LocalDateTime.now())</code> then I would never get an expiry notification</p>\n<p>The actual problem I am trying to solve is, we get an initial update for some keys, and every n number of seconds they should update - hence re adding them to my cache. I don't want the initial insert to trigger the expiry, only the most recent insert for a given key if it exceeds the imposed time constraint</p>\n<p>I hope the above makes sense - it is quite difficult to explain</p>\n<p>Sample test code -</p>\n<pre><code>final Cache&lt;String, LocalDateTime&gt; cache = Caffeine.newBuilder()\n        .executor(Runnable::run)\n        .ticker(ticker::read)\n        .removalListener((key, value, cause) -&gt; {\n            if (cause.wasEvicted()) {\n                System.out.printf(&quot;key=%s, value=%s&quot;, key, value);\n            }\n        })\n        .expireAfterWrite(1, TimeUnit.SECONDS)\n        .weakKeys()\n        .weakValues()\n        .build();\n</code></pre>\n<p><strong>Example 2</strong></p>\n<pre><code>public class Main implements Runnable{\n\n    final Cache&lt;String, LocalDateTime&gt; cache = Caffeine.newBuilder()\n            .executor(Runnable::run)\n            .scheduler(createScheduler())\n            .removalListener((key, value, cause) -&gt; {\n                if (cause == RemovalCause.EXPIRED) {\n                    System.out.printf(&quot;key=%s, value=%s&quot;, key, value);\n                }\n            })\n            .weakKeys()\n            .weakValues()\n            .expireAfterWrite(10, TimeUnit.SECONDS)\n            .build();\n\n    private Scheduler createScheduler() {\n        return forScheduledExecutorService(newSingleThreadScheduledExecutor());\n    }\n\n\n    LocalDateTime create(String k) {\n        return LocalDateTime.now();\n    }\n\n    public void add(String a) {\n        cache.put(a, LocalDateTime.now());\n    }\n\n    public static void main(String[] args) {\n        Thread thread = new Thread(new Main());\n        thread.start();\n    }\n\n    @Override\n    public void run() {\n        add(&quot;a&quot;);\n        add(&quot;b&quot;);\n        for(int i = 0; i &lt; 100; i++) {\n            System.out.println(&quot;adding a&quot; + i);\n            add(&quot;a&quot;);\n            try {\n                Thread.sleep(900);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","mockito","junit5","spring-mvc-test"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684579215,"post_id":76294619,"comment_id":134539720,"body_markdown":"as a first step, you need to find out: how/why `jpaAuditingHandler` is in your (test) context...and exclude it. The test (outline) &quot;looks ok&quot;/reasonable, except: the &quot;missing stubbings&quot; (Mock.when(...))","body":"as a first step, you need to find out: how/why <code>jpaAuditingHandler</code> is in your (test) context...and exclude it. The test (outline) &quot;looks ok&quot;/reasonable, except: the &quot;missing stubbings&quot; (Mock.when(...))"},{"owner":{"account_id":6815463,"reputation":791,"user_id":5244324,"accept_rate":21,"display_name":"Krzysztof Michalski"},"score":1,"creation_date":1684579478,"post_id":76294619,"comment_id":134539742,"body_markdown":"How to achieve that? Can I maybe mark that in test application.properties?","body":"How to achieve that? Can I maybe mark that in test application.properties?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684579598,"post_id":76294619,"comment_id":134539748,"body_markdown":"even simpler/stronger: `@WebMvcTest( properties = {&quot;my.foo=hello&quot;, &quot;my.bar=world&quot;} , ...`","body":"even simpler/stronger: <code>@WebMvcTest( properties = {&quot;my.foo=hello&quot;, &quot;my.bar=world&quot;} , ...</code>"},{"owner":{"account_id":6815463,"reputation":791,"user_id":5244324,"accept_rate":21,"display_name":"Krzysztof Michalski"},"score":0,"creation_date":1684580711,"post_id":76294619,"comment_id":134539854,"body_markdown":"That&#39;s not meaningful for me. Instead of introducing side topics help me pelase with excluding JPA from context.","body":"That&#39;s not meaningful for me. Instead of introducing side topics help me pelase with excluding JPA from context."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684582129,"post_id":76294619,"comment_id":134540010,"body_markdown":"ok, more purposeful: how (exactly) did you enable/configure &quot;jpa auditing&quot;? ([mre])","body":"ok, more purposeful: how (exactly) did you enable/configure &quot;jpa auditing&quot;? (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)"},{"owner":{"account_id":23089415,"reputation":83,"user_id":17200488,"display_name":"kehsihba19"},"score":0,"creation_date":1684774899,"post_id":76294619,"comment_id":134562798,"body_markdown":"You need to mock the repository layer or its behaviour to make it work, since the application context is not loaded up, the showStrategyDetails() test cannot access the files as you should expect. Ideally, you should mock the service layer and only test the code inside the controller file. Otherwise you will have to use @SpringBootTest annotation to load context and then test complete request.","body":"You need to mock the repository layer or its behaviour to make it work, since the application context is not loaded up, the showStrategyDetails() test cannot access the files as you should expect. Ideally, you should mock the service layer and only test the code inside the controller file. Otherwise you will have to use @SpringBootTest annotation to load context and then test complete request."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685174444,"creation_date":1685174444,"answer_id":76345907,"question_id":76294619,"body_markdown":"You want to extract an interface from your service class and then create a mock bean for this interface (not for the implmentation).\r\n\r\n```\r\npublic interface StrategyService {\r\n  Map&lt;Strategy.Category, List&lt;StrategyWithoutDescriptionDTO&gt;&gt; getStrategiesGroupedByCategories();\r\n  List&lt;Strategy&gt; getStrategies();\r\n  boolean saveStrategy(Strategy strategy);\r\n}\r\n\r\n@Service\r\npublic class StrategyServiceImpl implements StrategyService {\r\n\r\n    private final StrategyRepository strategyRepository;\r\n\r\n    @Autowired\r\n    StrategyService(StrategyRepository strategyRepository) {\r\n        this.strategyRepository = strategyRepository;\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;Strategy.Category, List&lt;StrategyWithoutDescriptionDTO&gt;&gt; getStrategiesGroupedByCategories() {\r\n        // ...\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Strategy&gt; getStrategies() {\r\n        // ...\r\n    }\r\n\r\n    @Override\r\n    public boolean saveStrategy(Strategy strategy) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nIn the test:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@WebMvcTest(StrategyController.class)\r\nclass StrategyControllerTest {\r\n\r\n    @MockBean\r\n    private StrategyService strategyService; // `StrategyService` is the interface!\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    // ...\r\n}\r\n```","title":"Mock mvc test with repository dependency","body":"<p>You want to extract an interface from your service class and then create a mock bean for this interface (not for the implmentation).</p>\n<pre><code>public interface StrategyService {\n  Map&lt;Strategy.Category, List&lt;StrategyWithoutDescriptionDTO&gt;&gt; getStrategiesGroupedByCategories();\n  List&lt;Strategy&gt; getStrategies();\n  boolean saveStrategy(Strategy strategy);\n}\n\n@Service\npublic class StrategyServiceImpl implements StrategyService {\n\n    private final StrategyRepository strategyRepository;\n\n    @Autowired\n    StrategyService(StrategyRepository strategyRepository) {\n        this.strategyRepository = strategyRepository;\n    }\n\n    @Override\n    public Map&lt;Strategy.Category, List&lt;StrategyWithoutDescriptionDTO&gt;&gt; getStrategiesGroupedByCategories() {\n        // ...\n    }\n\n    @Override\n    public List&lt;Strategy&gt; getStrategies() {\n        // ...\n    }\n\n    @Override\n    public boolean saveStrategy(Strategy strategy) {\n        // ...\n    }\n}\n</code></pre>\n<p>In the test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@WebMvcTest(StrategyController.class)\nclass StrategyControllerTest {\n\n    @MockBean\n    private StrategyService strategyService; // `StrategyService` is the interface!\n\n    @Autowired\n    MockMvc mockMvc;\n\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":6815463,"reputation":791,"user_id":5244324,"accept_rate":21,"display_name":"Krzysztof Michalski"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685174444,"creation_date":1684577241,"question_id":76294619,"body_markdown":"I&#39;m trying to write mock mvc controler test in Spring boot. I&#39;m not able to boot test because my service: `StrategyService` which I&#39;m going to inject in controller via `@MockBean` annotation has repository dependency `StrategyRepository`: \r\n\r\n    @Service\r\n    public class StrategyService {\r\n    \r\n        private final StrategyRepository strategyRepository;\r\n    \r\n        @Autowired\r\n        StrategyService(StrategyRepository strategyRepository) {\r\n            this.strategyRepository = strategyRepository;\r\n        }\r\n    \r\n        public Map&lt;Strategy.Category, List&lt;StrategyWithoutDescriptionDTO&gt;&gt; getStrategiesGroupedByCategories() {\r\n            List&lt;StrategyWithoutDescriptionDTO&gt; strategies = strategyRepository.getStrategiesWithoutDescription();\r\n            return strategies\r\n                    .stream()\r\n                    .collect(Collectors.groupingBy(StrategyWithoutDescriptionDTO::getCategory));\r\n        }\r\n    \r\n        public List&lt;Strategy&gt; getStrategies() {\r\n            return StreamSupport.stream(strategyRepository.findAll().spliterator(), false).toList();\r\n        }\r\n    \r\n        public boolean saveStrategy(Strategy strategy) {\r\n            strategyRepository.save(strategy);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\nTests code looks like:\r\n\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    @WebMvcTest(StrategyController.class)\r\n    class StrategyControllerTest {\r\n    \r\n        @MockBean\r\n        private StrategyService strategyService;\r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @Test\r\n        void showStrategyDetails() throws Exception {\r\n            long strategyId = 2L;\r\n            mockMvc\r\n                    .perform(get(&quot;showStrategyDetails/{strategyId}&quot;, strategyId))\r\n                    .andExpect(\r\n                            status().isOk()\r\n                    );\r\n        }\r\n    }\r\n\r\nError in console: \r\n\r\n    Error creating bean with name &#39;jpaAuditingHandler&#39;: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting constructor argument\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:515)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n    \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: JPA metamodel must not be empty\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)\r\n    \t... 99 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: JPA metamodel must not be empty\r\n    \tat org.springframework.util.Assert.notEmpty(Assert.java:479)\r\n    \tat org.springframework.data.jpa.mapping.JpaMetamodelMappingContext.&lt;init&gt;(JpaMetamodelMappingContext.java:58)\r\n    \tat org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:68)\r\n    \tat org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:44)\r\n    \tat org.springframework.beans.factory.config.AbstractFactoryBean.afterPropertiesSet(AbstractFactoryBean.java:142)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\r\n    \t... 106 common frames omitted\r\n\r\n\r\nHow can I properly inject `StrategyRepository` as a mock in this test so that it would behave as a mock?","title":"Mock mvc test with repository dependency","body":"<p>I'm trying to write mock mvc controler test in Spring boot. I'm not able to boot test because my service: <code>StrategyService</code> which I'm going to inject in controller via <code>@MockBean</code> annotation has repository dependency <code>StrategyRepository</code>:</p>\n<pre><code>@Service\npublic class StrategyService {\n\n    private final StrategyRepository strategyRepository;\n\n    @Autowired\n    StrategyService(StrategyRepository strategyRepository) {\n        this.strategyRepository = strategyRepository;\n    }\n\n    public Map&lt;Strategy.Category, List&lt;StrategyWithoutDescriptionDTO&gt;&gt; getStrategiesGroupedByCategories() {\n        List&lt;StrategyWithoutDescriptionDTO&gt; strategies = strategyRepository.getStrategiesWithoutDescription();\n        return strategies\n                .stream()\n                .collect(Collectors.groupingBy(StrategyWithoutDescriptionDTO::getCategory));\n    }\n\n    public List&lt;Strategy&gt; getStrategies() {\n        return StreamSupport.stream(strategyRepository.findAll().spliterator(), false).toList();\n    }\n\n    public boolean saveStrategy(Strategy strategy) {\n        strategyRepository.save(strategy);\n        return true;\n    }\n}\n</code></pre>\n<p>Tests code looks like:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@WebMvcTest(StrategyController.class)\nclass StrategyControllerTest {\n\n    @MockBean\n    private StrategyService strategyService;\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    void showStrategyDetails() throws Exception {\n        long strategyId = 2L;\n        mockMvc\n                .perform(get(&quot;showStrategyDetails/{strategyId}&quot;, strategyId))\n                .andExpect(\n                        status().isOk()\n                );\n    }\n}\n</code></pre>\n<p>Error in console:</p>\n<pre><code>Error creating bean with name 'jpaAuditingHandler': Cannot resolve reference to bean 'jpaMappingContext' while setting constructor argument\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:515)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': JPA metamodel must not be empty\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)\n    ... 99 common frames omitted\nCaused by: java.lang.IllegalArgumentException: JPA metamodel must not be empty\n    at org.springframework.util.Assert.notEmpty(Assert.java:479)\n    at org.springframework.data.jpa.mapping.JpaMetamodelMappingContext.&lt;init&gt;(JpaMetamodelMappingContext.java:58)\n    at org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:68)\n    at org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:44)\n    at org.springframework.beans.factory.config.AbstractFactoryBean.afterPropertiesSet(AbstractFactoryBean.java:142)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\n    ... 106 common frames omitted\n</code></pre>\n<p>How can I properly inject <code>StrategyRepository</code> as a mock in this test so that it would behave as a mock?</p>\n"},{"tags":["java","spring-boot","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":28690276,"reputation":1,"user_id":21969651,"display_name":"tafice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685171999,"creation_date":1685171999,"answer_id":76345782,"question_id":68756942,"body_markdown":"problem is in your cron expression:\r\n\r\n    * */3 * * * ?\r\n\r\nyour job will execute every seconds, every 3 minutes, every hours, every day\r\nlike: 15:03:00 15:03:01 15:03:02 ...\r\nso change to\r\n\r\n    0 */3 * * * ?","title":"Same cron job with same trigger runs in multiple worker threads","body":"<p>problem is in your cron expression:</p>\n<pre><code>* */3 * * * ?\n</code></pre>\n<p>your job will execute every seconds, every 3 minutes, every hours, every day\nlike: 15:03:00 15:03:01 15:03:02 ...\nso change to</p>\n<pre><code>0 */3 * * * ?\n</code></pre>\n"}],"owner":{"account_id":9234446,"reputation":11,"user_id":6859533,"display_name":"Narasimha Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685171999,"creation_date":1628769021,"question_id":68756942,"body_markdown":"I am seeing this issue where the same job with same job key and same job trigger is firing multiple times when running the job based on cron defined.\r\n\r\nQuartz is defined with ThreadPool size of 3 and whenever the job runs quartz is using these 3 threads and runs the job almost 38 times ( this number is dynamic every time quartz runs the job).\r\n\r\nSpring boot: 2.5.3\r\nQuartz-scheduler: 2.3.2\r\n\r\nCron Expression:\r\n```\r\nGiven the Quartz cron &#39;* */3 * * * ? (every 3 minutes)&#39; and reference date &#39;2021-08-08T13:03:22.541936-04:00[America/New_York]&#39;\r\n```\r\n\r\nJob execution output when running the job at every 3 mins:\r\n```\r\n=============== executing cron job =====================\r\nJob Key: email-jobs.email-cron-job\r\nJob Trigger Key: email-triggers.email-cron-job\r\nScheduler Name: service_ml_scheduler\r\nScheduler Id: nsimha-mac-11628442202262\r\nFire Instance Id: nsimha-mac-116284422022621628442202250\r\nThread Id: service_ml_scheduler_Worker-1\r\n========================================================\r\n=============== executing cron job =====================\r\nJob Key : email-jobs.email-cron-job\r\nJob Trigger Key: email-triggers.email-cron-job\r\nScheduler Name: service_ml_scheduler\r\nScheduler Id: nsimha-mac-11628442202262\r\nFire Instance Id: nsimha-mac-116284422022621628442202251\r\nThread Id: service_ml_scheduler_Worker-2\r\n========================================================\r\n=============== executing cron job =====================\r\nJob Key: email-jobs.email-cron-job\r\nJob Trigger Key: email-triggers.email-cron-job\r\nScheduler Name: service_ml_scheduler\r\nScheduler Id: nsimha-mac-11628442202262\r\nFire Instance Id: nsimha-mac-116284422022621628442202252\r\nThread Id: service_ml_scheduler_Worker-3\r\n========================================================\r\n=============== executing cron job =====================\r\nJob Key: email-jobs.email-cron-job\r\nJob Trigger Key: email-triggers.email-cron-job\r\nScheduler Name: service_ml_scheduler\r\nScheduler Id: nsimha-mac-11628442202262\r\nFire Instance Id: nsimha-mac-116284422022621628442202253\r\nThread Id: service_ml_scheduler_Worker-1\r\n========================================================\r\n=============== executing cron job =====================\r\nJob Key: email-jobs.email-cron-job\r\nJob Trigger Key: email-triggers.email-cron-job\r\nScheduler Name: service_ml_scheduler\r\nScheduler Id: nsimha-mac-11628442202262\r\nFire Instance Id: nsimha-mac-116284422022621628442202254\r\nThread Id: service_ml_scheduler_Worker-2\r\n========================================================\r\n=============== executing cron job =====================\r\nJob Key: email-jobs.email-cron-job\r\nJob Trigger Key: email-triggers.email-cron-job\r\nScheduler Name: service_ml_scheduler\r\nScheduler Id: nsimha-mac-11628442202262\r\nFire Instance Id: nsimha-mac-116284422022621628442202255\r\nThread Id: service_ml_scheduler_Worker-3\r\n========================================================\r\n```\r\n\r\n```\r\nmysql&gt; select * from QRTZ_TRIGGERS;\r\n+----------------------+----------------+----------------+----------------+------------+--------------------+----------------+----------------+----------+---------------+--------------+---------------+----------+---------------+---------------+--------------------+\r\n| SCHED_NAME           | TRIGGER_NAME   | TRIGGER_GROUP  | JOB_NAME       | JOB_GROUP  | DESCRIPTION        | NEXT_FIRE_TIME | PREV_FIRE_TIME | PRIORITY | TRIGGER_STATE | TRIGGER_TYPE | START_TIME    | END_TIME | CALENDAR_NAME | MISFIRE_INSTR | JOB_DATA           |\r\n+----------------------+----------------+----------------+----------------+------------+--------------------+----------------+----------------+----------+---------------+--------------+---------------+----------+---------------+---------------+--------------------+\r\n| service_ml_scheduler | email-cron-job | email-triggers | email-cron-job | email-jobs | Send Email Trigger |  1628443488000 |  1628443487000 |        5 | ACQUIRED      | CRON         | 1628443286000 |        0 | NULL          |             0 | NULL               |\r\n+----------------------+----------------+----------------+----------------+------------+--------------------+----------------+----------------+----------+---------------+--------------+---------------+----------+---------------+---------------+--------------------+\r\n1 row in set (0.00 sec)\r\n\r\nmysql&gt; select * from QRTZ_CRON_TRIGGERS;\r\n+----------------------+----------------+----------------+-----------------+------------------+\r\n| SCHED_NAME           | TRIGGER_NAME   | TRIGGER_GROUP  | CRON_EXPRESSION | TIME_ZONE_ID     |\r\n+----------------------+----------------+----------------+-----------------+------------------+\r\n| service_ml_scheduler | email-cron-job | email-triggers | * */3 * * * ?   | America/New_York |\r\n+----------------------+----------------+----------------+-----------------+------------------+\r\n1 row in set (0.00 sec)\r\n\r\n mysql&gt; select SCHED_NAME, JOB_NAME, JOB_GROUP, DESCRIPTION, JOB_CLASS_NAME, IS_DURABLE, IS_NONCONCURRENT, IS_UPDATE_DATA, REQUESTS_RECOVERY from QRTZ_JOB_DETAILS;\r\n+----------------------+----------------+------------+----------------+------------------------------------------+------------+------------------+----------------+-------------------+\r\n| SCHED_NAME           | JOB_NAME       | JOB_GROUP  | DESCRIPTION    | JOB_CLASS_NAME                           | IS_DURABLE | IS_NONCONCURRENT | IS_UPDATE_DATA | REQUESTS_RECOVERY |\r\n+----------------------+----------------+------------+----------------+------------------------------------------+------------+------------------+----------------+-------------------+\r\n| service_ml_scheduler | email-cron-job | email-jobs | Send Email Job | com.example.springquartz.crons.SampleJob | 1          | 1                | 0              | 0                 |\r\n+----------------------+----------------+------------+----------------+------------------------------------------+------------+------------------+----------------+-------------------+\r\n1 row in set (0.00 sec)\r\n```\r\n\r\n```\r\n private static JobDetail buildJobDetail() {\r\n        return JobBuilder.newJob(SampleJob.class)\r\n                .withIdentity(&quot;email-cron-job&quot;, &quot;email-jobs&quot;)\r\n                .withDescription(&quot;Send Email Job&quot;)\r\n                .usingJobData(new JobDataMap())\r\n                .storeDurably()\r\n                .build();\r\n    }\r\n```\r\n```\r\n    private static Trigger buildJobTrigger(JobDetail jobDetail, ZonedDateTime startAt) {\r\n        return TriggerBuilder.newTrigger()\r\n                .forJob(jobDetail)\r\n                .withIdentity(jobDetail.getKey().getName(), &quot;email-triggers&quot;)\r\n                .withDescription(&quot;Send Email Trigger&quot;)\r\n                .startAt(Date.from(startAt.toInstant()))\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(&quot;* */3 * * * ?&quot;)\r\n                        .withMisfireHandlingInstructionIgnoreMisfires())\r\n                .build();\r\n}\r\n```\r\n\r\n```\r\n@DisallowConcurrentExecution\r\npublic class SampleJob extends QuartzJobBean {\r\n\r\n    @Override\r\n    protected void executeInternal(JobExecutionContext context) throws JobExecutionException {\r\n        String jobKey = context.getJobDetail().getKey().toString();\r\n        String jobTrigger = context.getTrigger().getKey().toString();\r\n\r\n        String schedulerName = &quot;&quot;;\r\n        String schedulerId = &quot;&quot;;\r\n        try {\r\n            schedulerName = context.getScheduler().getSchedulerName();\r\n            schedulerId = context.getScheduler().getSchedulerInstanceId();\r\n        } catch (SchedulerException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;=============== executing cron job =====================&quot;);\r\n        System.out.println(&quot;Job Key: &quot; + jobKey);\r\n        System.out.println(&quot;Job Trigger Key : &quot; + jobTrigger);\r\n        System.out.println(&quot;Scheduler Name: &quot; + schedulerName);\r\n        System.out.println(&quot;Scheduler Id: &quot; + schedulerId);\r\n        System.out.println(&quot;Fire Instance Id: &quot; + context.getFireInstanceId());\r\n        System.out.println(&quot;Thread Id: &quot; + Thread.currentThread().getName());\r\n        System.out.println(&quot;========================================================&quot;);\r\n\r\n        //System.out.println(&quot;this is inside the job execution &quot; + Thread.currentThread().getName());\r\n    }\r\n}\r\n```\r\n\r\nSample application can be found at https://github.com/quartz-scheduler/quartz/files/6954758/SpringQuartz.tar.gz\r\n","title":"Same cron job with same trigger runs in multiple worker threads","body":"<p>I am seeing this issue where the same job with same job key and same job trigger is firing multiple times when running the job based on cron defined.</p>\n<p>Quartz is defined with ThreadPool size of 3 and whenever the job runs quartz is using these 3 threads and runs the job almost 38 times ( this number is dynamic every time quartz runs the job).</p>\n<p>Spring boot: 2.5.3\nQuartz-scheduler: 2.3.2</p>\n<p>Cron Expression:</p>\n<pre><code>Given the Quartz cron '* */3 * * * ? (every 3 minutes)' and reference date '2021-08-08T13:03:22.541936-04:00[America/New_York]'\n</code></pre>\n<p>Job execution output when running the job at every 3 mins:</p>\n<pre><code>=============== executing cron job =====================\nJob Key: email-jobs.email-cron-job\nJob Trigger Key: email-triggers.email-cron-job\nScheduler Name: service_ml_scheduler\nScheduler Id: nsimha-mac-11628442202262\nFire Instance Id: nsimha-mac-116284422022621628442202250\nThread Id: service_ml_scheduler_Worker-1\n========================================================\n=============== executing cron job =====================\nJob Key : email-jobs.email-cron-job\nJob Trigger Key: email-triggers.email-cron-job\nScheduler Name: service_ml_scheduler\nScheduler Id: nsimha-mac-11628442202262\nFire Instance Id: nsimha-mac-116284422022621628442202251\nThread Id: service_ml_scheduler_Worker-2\n========================================================\n=============== executing cron job =====================\nJob Key: email-jobs.email-cron-job\nJob Trigger Key: email-triggers.email-cron-job\nScheduler Name: service_ml_scheduler\nScheduler Id: nsimha-mac-11628442202262\nFire Instance Id: nsimha-mac-116284422022621628442202252\nThread Id: service_ml_scheduler_Worker-3\n========================================================\n=============== executing cron job =====================\nJob Key: email-jobs.email-cron-job\nJob Trigger Key: email-triggers.email-cron-job\nScheduler Name: service_ml_scheduler\nScheduler Id: nsimha-mac-11628442202262\nFire Instance Id: nsimha-mac-116284422022621628442202253\nThread Id: service_ml_scheduler_Worker-1\n========================================================\n=============== executing cron job =====================\nJob Key: email-jobs.email-cron-job\nJob Trigger Key: email-triggers.email-cron-job\nScheduler Name: service_ml_scheduler\nScheduler Id: nsimha-mac-11628442202262\nFire Instance Id: nsimha-mac-116284422022621628442202254\nThread Id: service_ml_scheduler_Worker-2\n========================================================\n=============== executing cron job =====================\nJob Key: email-jobs.email-cron-job\nJob Trigger Key: email-triggers.email-cron-job\nScheduler Name: service_ml_scheduler\nScheduler Id: nsimha-mac-11628442202262\nFire Instance Id: nsimha-mac-116284422022621628442202255\nThread Id: service_ml_scheduler_Worker-3\n========================================================\n</code></pre>\n<pre><code>mysql&gt; select * from QRTZ_TRIGGERS;\n+----------------------+----------------+----------------+----------------+------------+--------------------+----------------+----------------+----------+---------------+--------------+---------------+----------+---------------+---------------+--------------------+\n| SCHED_NAME           | TRIGGER_NAME   | TRIGGER_GROUP  | JOB_NAME       | JOB_GROUP  | DESCRIPTION        | NEXT_FIRE_TIME | PREV_FIRE_TIME | PRIORITY | TRIGGER_STATE | TRIGGER_TYPE | START_TIME    | END_TIME | CALENDAR_NAME | MISFIRE_INSTR | JOB_DATA           |\n+----------------------+----------------+----------------+----------------+------------+--------------------+----------------+----------------+----------+---------------+--------------+---------------+----------+---------------+---------------+--------------------+\n| service_ml_scheduler | email-cron-job | email-triggers | email-cron-job | email-jobs | Send Email Trigger |  1628443488000 |  1628443487000 |        5 | ACQUIRED      | CRON         | 1628443286000 |        0 | NULL          |             0 | NULL               |\n+----------------------+----------------+----------------+----------------+------------+--------------------+----------------+----------------+----------+---------------+--------------+---------------+----------+---------------+---------------+--------------------+\n1 row in set (0.00 sec)\n\nmysql&gt; select * from QRTZ_CRON_TRIGGERS;\n+----------------------+----------------+----------------+-----------------+------------------+\n| SCHED_NAME           | TRIGGER_NAME   | TRIGGER_GROUP  | CRON_EXPRESSION | TIME_ZONE_ID     |\n+----------------------+----------------+----------------+-----------------+------------------+\n| service_ml_scheduler | email-cron-job | email-triggers | * */3 * * * ?   | America/New_York |\n+----------------------+----------------+----------------+-----------------+------------------+\n1 row in set (0.00 sec)\n\n mysql&gt; select SCHED_NAME, JOB_NAME, JOB_GROUP, DESCRIPTION, JOB_CLASS_NAME, IS_DURABLE, IS_NONCONCURRENT, IS_UPDATE_DATA, REQUESTS_RECOVERY from QRTZ_JOB_DETAILS;\n+----------------------+----------------+------------+----------------+------------------------------------------+------------+------------------+----------------+-------------------+\n| SCHED_NAME           | JOB_NAME       | JOB_GROUP  | DESCRIPTION    | JOB_CLASS_NAME                           | IS_DURABLE | IS_NONCONCURRENT | IS_UPDATE_DATA | REQUESTS_RECOVERY |\n+----------------------+----------------+------------+----------------+------------------------------------------+------------+------------------+----------------+-------------------+\n| service_ml_scheduler | email-cron-job | email-jobs | Send Email Job | com.example.springquartz.crons.SampleJob | 1          | 1                | 0              | 0                 |\n+----------------------+----------------+------------+----------------+------------------------------------------+------------+------------------+----------------+-------------------+\n1 row in set (0.00 sec)\n</code></pre>\n<pre><code> private static JobDetail buildJobDetail() {\n        return JobBuilder.newJob(SampleJob.class)\n                .withIdentity(&quot;email-cron-job&quot;, &quot;email-jobs&quot;)\n                .withDescription(&quot;Send Email Job&quot;)\n                .usingJobData(new JobDataMap())\n                .storeDurably()\n                .build();\n    }\n</code></pre>\n<pre><code>    private static Trigger buildJobTrigger(JobDetail jobDetail, ZonedDateTime startAt) {\n        return TriggerBuilder.newTrigger()\n                .forJob(jobDetail)\n                .withIdentity(jobDetail.getKey().getName(), &quot;email-triggers&quot;)\n                .withDescription(&quot;Send Email Trigger&quot;)\n                .startAt(Date.from(startAt.toInstant()))\n                .withSchedule(CronScheduleBuilder.cronSchedule(&quot;* */3 * * * ?&quot;)\n                        .withMisfireHandlingInstructionIgnoreMisfires())\n                .build();\n}\n</code></pre>\n<pre><code>@DisallowConcurrentExecution\npublic class SampleJob extends QuartzJobBean {\n\n    @Override\n    protected void executeInternal(JobExecutionContext context) throws JobExecutionException {\n        String jobKey = context.getJobDetail().getKey().toString();\n        String jobTrigger = context.getTrigger().getKey().toString();\n\n        String schedulerName = &quot;&quot;;\n        String schedulerId = &quot;&quot;;\n        try {\n            schedulerName = context.getScheduler().getSchedulerName();\n            schedulerId = context.getScheduler().getSchedulerInstanceId();\n        } catch (SchedulerException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;=============== executing cron job =====================&quot;);\n        System.out.println(&quot;Job Key: &quot; + jobKey);\n        System.out.println(&quot;Job Trigger Key : &quot; + jobTrigger);\n        System.out.println(&quot;Scheduler Name: &quot; + schedulerName);\n        System.out.println(&quot;Scheduler Id: &quot; + schedulerId);\n        System.out.println(&quot;Fire Instance Id: &quot; + context.getFireInstanceId());\n        System.out.println(&quot;Thread Id: &quot; + Thread.currentThread().getName());\n        System.out.println(&quot;========================================================&quot;);\n\n        //System.out.println(&quot;this is inside the job execution &quot; + Thread.currentThread().getName());\n    }\n}\n</code></pre>\n<p>Sample application can be found at <a href=\"https://github.com/quartz-scheduler/quartz/files/6954758/SpringQuartz.tar.gz\" rel=\"nofollow noreferrer\">https://github.com/quartz-scheduler/quartz/files/6954758/SpringQuartz.tar.gz</a></p>\n"},{"tags":["java","spring-boot","spring-websocket"],"owner":{"account_id":14069299,"reputation":21,"user_id":10163227,"display_name":"Agam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685171427,"creation_date":1685171427,"question_id":76345747,"body_markdown":"i build websocket server using spring websocket ,but there is couple case this error is showing\r\n\r\n\r\n    o.s.w.s.h.ExceptionWebSocketHandlerDecorator||ERROR|Closing session due to exception for StandardWebSocketSession[id=, uri=ws://]\r\n        java.lang.IllegalStateException: WebSocketHandler not found for StandardWebSocketSession[id=eb047472-8d50-861a-138e-8c01c9729754, uri=]\r\n        \tat org.springframework.web.socket.handler.PerConnectionWebSocketHandler.getHandler(PerConnectionWebSocketHandler.java:113)\r\n        \tat org.springframework.web.socket.handler.PerConnectionWebSocketHandler.handleTransportError(PerConnectionWebSocketHandler.java:91)\r\n        \r\n\r\nhere is the handler \r\n\r\n    public class PerConnectionWebSocketHandler extends PerConnectionWebSocketHandler {\r\n    \t\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(ConnectionWebSocketHandler.class);\r\n    \t\r\n    \tprivate static final AtomicInteger sessionCount = new AtomicInteger(0);\r\n    \t\r\n    \tpublic PerConnectionWebSocketHandler(Class&lt;? extends WebSocketHandler&gt; handlerType) {\r\n    \t\tsuper(handlerType);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n    \t\t\r\n    \t\tlogger.info(&quot;New connection. Session count: [{}]&quot;,sessionCount.incrementAndGet());\r\n    \t\t\r\n    \t\tsuper.afterConnectionEstablished(session);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\r\n    \t\t\r\n    \t\tlogger.info(&quot;Close connection. Session count: [{}]&quot;,sessionCount.decrementAndGet());\r\n    \t\t\r\n    \t\tsuper.afterConnectionClosed(session, closeStatus);\r\n    \t}\r\n\r\n\r\nanyone know how handle this error ? thank you\r\n","title":"what cause of Closing session due to exception for StandardWebSocketSession springboot websocket","body":"<p>i build websocket server using spring websocket ,but there is couple case this error is showing</p>\n<pre><code>o.s.w.s.h.ExceptionWebSocketHandlerDecorator||ERROR|Closing session due to exception for StandardWebSocketSession[id=, uri=ws://]\n    java.lang.IllegalStateException: WebSocketHandler not found for StandardWebSocketSession[id=eb047472-8d50-861a-138e-8c01c9729754, uri=]\n        at org.springframework.web.socket.handler.PerConnectionWebSocketHandler.getHandler(PerConnectionWebSocketHandler.java:113)\n        at org.springframework.web.socket.handler.PerConnectionWebSocketHandler.handleTransportError(PerConnectionWebSocketHandler.java:91)\n    \n</code></pre>\n<p>here is the handler</p>\n<pre><code>public class PerConnectionWebSocketHandler extends PerConnectionWebSocketHandler {\n    \n    private static final Logger logger = LoggerFactory.getLogger(ConnectionWebSocketHandler.class);\n    \n    private static final AtomicInteger sessionCount = new AtomicInteger(0);\n    \n    public PerConnectionWebSocketHandler(Class&lt;? extends WebSocketHandler&gt; handlerType) {\n        super(handlerType);\n    }\n\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        \n        logger.info(&quot;New connection. Session count: [{}]&quot;,sessionCount.incrementAndGet());\n        \n        super.afterConnectionEstablished(session);\n    }\n    \n    @Override\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\n        \n        logger.info(&quot;Close connection. Session count: [{}]&quot;,sessionCount.decrementAndGet());\n        \n        super.afterConnectionClosed(session, closeStatus);\n    }\n</code></pre>\n<p>anyone know how handle this error ? thank you</p>\n"},{"tags":["java","android","kotlin","android-databinding"],"comments":[{"owner":{"account_id":458518,"reputation":1653,"user_id":858448,"accept_rate":60,"display_name":"Ghedeon"},"score":3,"creation_date":1445036480,"post_id":33165324,"comment_id":54168645,"body_markdown":"Please, feel free to vote for the corresponding issue: [https://youtrack.jetbrains.com/issue/KT-8007](https://youtrack.jetbrains.com/issue/KT-8007)","body":"Please, feel free to vote for the corresponding issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-8007\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-8007</a>"},{"owner":{"account_id":242113,"reputation":52552,"user_id":513413,"accept_rate":74,"display_name":"Hesam"},"score":1,"creation_date":1533341414,"post_id":33165324,"comment_id":90325816,"body_markdown":"You only need to have `apply plugin: &#39;kotlin-kapt&#39;` in app gradle file in most recent version.","body":"You only need to have <code>apply plugin: &#39;kotlin-kapt&#39;</code> in app gradle file in most recent version."},{"owner":{"account_id":9141095,"reputation":941,"user_id":6798905,"display_name":"Dino Sunny"},"score":0,"creation_date":1592215284,"post_id":33165324,"comment_id":110334951,"body_markdown":"private lateinit var binding : FragmentDataBinding \nIs a better way of initializing","body":"private lateinit var binding : FragmentDataBinding  Is a better way of initializing"}],"answers":[{"tags":[],"owner":{"account_id":1128390,"reputation":2915,"user_id":1115059,"accept_rate":64,"display_name":"Jaydeep Solanki"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1495572370,"creation_date":1446098303,"answer_id":33406937,"question_id":33165324,"body_markdown":"&lt;h2&gt;Update 2: This is a really old answer, instead refer to lrampazzo&#39;s answer.&lt;/h2&gt;\r\n\r\nIt works with 1.0-rc4, put\r\n\r\n    kapt &#39;com.android.databinding:compiler:1.0-rc4&#39; \r\n\r\ninto your dependencies\r\n\r\nThanks Ghedeon, for the link in comments\r\n\r\n**Update**: [Here&#39;s][1] a really simple hello world example project\r\n\r\n\r\n  [1]: https://github.com/jaydeep17/KotlinDataBinding","title":"Kotlin-android: unresolved reference databinding","body":"<h2>Update 2: This is a really old answer, instead refer to lrampazzo's answer.</h2>\n\n<p>It works with 1.0-rc4, put</p>\n\n<pre><code>kapt 'com.android.databinding:compiler:1.0-rc4' \n</code></pre>\n\n<p>into your dependencies</p>\n\n<p>Thanks Ghedeon, for the link in comments</p>\n\n<p><strong>Update</strong>: <a href=\"https://github.com/jaydeep17/KotlinDataBinding\" rel=\"noreferrer\">Here's</a> a really simple hello world example project</p>\n"},{"tags":[],"owner":{"account_id":4307003,"reputation":608,"user_id":3519135,"accept_rate":86,"display_name":"Garf1eld"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1461916944,"creation_date":1461916944,"answer_id":36932861,"question_id":33165324,"body_markdown":"Try this.Andrid studio 2.0(2.1)\r\n\r\nIn **build.gradle**\r\n\r\n    android{\r\n       dataBinding {\r\n            enabled = true\r\n        }\r\n    ...\r\n    }\r\n    dependencies {\r\n     kapt &#39;com.android.databinding:compiler:2.0.0-rc1&#39;\r\n    ....\r\n    }\r\n\r\n    kapt {\r\n        generateStubs = true\r\n    }\r\n\r\nIn my project:    `buildToolsVersion = &quot;23.0.3&quot;`\r\n\r\nin top level build.gradle\r\n\r\n  \r\n\r\n    dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.0.0&#39;\r\n        }","title":"Kotlin-android: unresolved reference databinding","body":"<p>Try this.Andrid studio 2.0(2.1)</p>\n\n<p>In <strong>build.gradle</strong></p>\n\n<pre><code>android{\n   dataBinding {\n        enabled = true\n    }\n...\n}\ndependencies {\n kapt 'com.android.databinding:compiler:2.0.0-rc1'\n....\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>In my project:    <code>buildToolsVersion = \"23.0.3\"</code></p>\n\n<p>in top level build.gradle</p>\n\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:2.0.0'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5779163,"reputation":1219,"user_id":5368013,"display_name":"lrampazzo"},"down_vote_count":1,"up_vote_count":97,"is_accepted":false,"score":96,"last_activity_date":1467402173,"creation_date":1462432801,"answer_id":37044756,"question_id":33165324,"body_markdown":"Try use this configuration:\r\n\r\nIn main **build.gradle**:\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;&lt;kotlin-version&gt;&#39;\r\n        ext.android_plugin_version = &#39;2.2.0-alpha4&#39;\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:$android_plugin_version&quot;\r\n        //... rest of the content\r\n        }\r\n    }\r\n\r\nApp **build.gradle**:\r\n\r\n    \r\n    android {\r\n        dataBinding {\r\n            enabled = true\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        kapt &quot;com.android.databinding:compiler:$android_plugin_version&quot;\r\n    }\r\n\r\n    kapt {\r\n        generateStubs = true\r\n    }\r\n\r\n","title":"Kotlin-android: unresolved reference databinding","body":"<p>Try use this configuration:</p>\n\n<p>In main <strong>build.gradle</strong>:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '&lt;kotlin-version&gt;'\n    ext.android_plugin_version = '2.2.0-alpha4'\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$android_plugin_version\"\n    //... rest of the content\n    }\n}\n</code></pre>\n\n<p>App <strong>build.gradle</strong>:</p>\n\n<pre><code>android {\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    kapt \"com.android.databinding:compiler:$android_plugin_version\"\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"down_vote_count":1,"up_vote_count":93,"is_accepted":false,"score":92,"last_activity_date":1631303214,"creation_date":1497434434,"answer_id":44541497,"question_id":33165324,"body_markdown":"I found new solution, hope it will helps you.\r\n\r\nFirst of all check whether plugin applied: \r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n\r\nthen \r\n\r\n    android {\r\n        ...\r\n        ...\r\n        dataBinding {\r\n            enabled = true\r\n        }\r\n        ...\r\n        ...\r\n    }\r\n\r\nYou might have an error in dependency:\r\n\r\n**USE**\r\n\r\n    kapt &#39;com.android.databinding:compiler:3.1.4&#39;\r\n\r\n*instead of*\r\n\r\n    compile &#39;com.android.databinding:compiler:3.1.4&#39;\r\n\r\nYou can visit [here][1] for new version\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.android.databinding/compiler?repo=google\r\n\r\nAnd use layout tags in layout file before using its binding class , you can easily do that :\r\nIn layout file your root view (e.g.- Constraint Layout) ALT+Enter -&gt;  convert to data binding class","title":"Kotlin-android: unresolved reference databinding","body":"<p>I found new solution, hope it will helps you.</p>\n<p>First of all check whether plugin applied:</p>\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n<p>then</p>\n<pre><code>android {\n    ...\n    ...\n    dataBinding {\n        enabled = true\n    }\n    ...\n    ...\n}\n</code></pre>\n<p>You might have an error in dependency:</p>\n<p><strong>USE</strong></p>\n<pre><code>kapt 'com.android.databinding:compiler:3.1.4'\n</code></pre>\n<p><em>instead of</em></p>\n<pre><code>compile 'com.android.databinding:compiler:3.1.4'\n</code></pre>\n<p>You can visit <a href=\"https://mvnrepository.com/artifact/com.android.databinding/compiler?repo=google\" rel=\"noreferrer\">here</a> for new version</p>\n<p>Thank you.</p>\n<p>And use layout tags in layout file before using its binding class , you can easily do that :\nIn layout file your root view (e.g.- Constraint Layout) ALT+Enter -&gt;  convert to data binding class</p>\n"},{"tags":[],"owner":{"account_id":2442650,"reputation":308,"user_id":2130708,"display_name":"Mahamudul Hasan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1506062968,"creation_date":1506062968,"answer_id":46358483,"question_id":33165324,"body_markdown":"The version of Data Binding compiler is same as gradle version in your project build.gradle file:\r\n\r\n    // at the top of file \r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n\r\n\r\n    android {\r\n      dataBinding.enabled = true\r\n    }\r\n\r\n    dependencies {\r\n      kapt &quot;com.android.databinding:compiler:3.0.0-beta1&quot;\r\n    }\r\n\r\nand the gradle version is\r\n\r\n    classpath &#39;com.android.tools.build:gradle:3.0.0-beta1&#39;\r\n\r\n\r\nHere is an example link to complete using of databinding library in kotlin.\r\n\r\nhttps://proandroiddev.com/modern-android-development-with-kotlin-september-2017-part-1-f976483f7bd6","title":"Kotlin-android: unresolved reference databinding","body":"<p>The version of Data Binding compiler is same as gradle version in your project build.gradle file:</p>\n\n<pre><code>// at the top of file \napply plugin: 'kotlin-kapt'\n\n\nandroid {\n  dataBinding.enabled = true\n}\n\ndependencies {\n  kapt \"com.android.databinding:compiler:3.0.0-beta1\"\n}\n</code></pre>\n\n<p>and the gradle version is</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.0.0-beta1'\n</code></pre>\n\n<p>Here is an example link to complete using of databinding library in kotlin.</p>\n\n<p><a href=\"https://proandroiddev.com/modern-android-development-with-kotlin-september-2017-part-1-f976483f7bd6\" rel=\"noreferrer\">https://proandroiddev.com/modern-android-development-with-kotlin-september-2017-part-1-f976483f7bd6</a></p>\n"},{"tags":[],"owner":{"account_id":5505810,"reputation":11,"user_id":4373696,"display_name":"Shripal Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518428918,"creation_date":1518428918,"answer_id":48743495,"question_id":33165324,"body_markdown":"Add Databinding in android Project using when you have use kotlin language.\r\n\r\n**Below steps**\r\n\r\n--First you need to add the below plugin\r\n\r\n    **apply plugin: &#39;kotlin-kapt&#39;**\r\n\r\n--Second dataBinding enabled true\r\n\r\n    **dataBinding {\r\n            enabled = true\r\n        }**\r\n\r\nAll this point added in app.build.gradle\r\nafter hit &quot;SYNC NOW&quot;\r\n\r\nLets For example you have edit profile activity then how to define binding variable in kotlin??\r\n\r\n    lateinit var buildProfileBinding: ActivityBuildProfileBinding\r\n\r\n    buildProfileBinding = getBinding()\r\n\r\nHere,get binding is method to handle which type of binding object \r\n\r\n     \r\n    protected &lt;T extends ViewDataBinding&gt; T getBinding() {\r\n                    return (T) binding;\r\n                }\r\n\r\n\r\n","title":"Kotlin-android: unresolved reference databinding","body":"<p>Add Databinding in android Project using when you have use kotlin language.</p>\n\n<p><strong>Below steps</strong></p>\n\n<p>--First you need to add the below plugin</p>\n\n<pre><code>**apply plugin: 'kotlin-kapt'**\n</code></pre>\n\n<p>--Second dataBinding enabled true</p>\n\n<pre><code>**dataBinding {\n        enabled = true\n    }**\n</code></pre>\n\n<p>All this point added in app.build.gradle\nafter hit \"SYNC NOW\"</p>\n\n<p>Lets For example you have edit profile activity then how to define binding variable in kotlin??</p>\n\n<pre><code>lateinit var buildProfileBinding: ActivityBuildProfileBinding\n\nbuildProfileBinding = getBinding()\n</code></pre>\n\n<p>Here,get binding is method to handle which type of binding object </p>\n\n<pre><code>protected &lt;T extends ViewDataBinding&gt; T getBinding() {\n                return (T) binding;\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5483890,"reputation":1387,"user_id":4359687,"accept_rate":100,"display_name":"Rickless"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520173891,"creation_date":1520173891,"answer_id":49096495,"question_id":33165324,"body_markdown":"In my case, adding\r\n\r\n    kapt {\r\n        generateStubs = true\r\n    }\r\nSolved the problem for me. I ignored it the first time, I thought it&#39;s irrelevant to the problem:&lt;br/&gt;\r\n&gt;Unresolved reference databinding\r\n\r\nBut now, data-binding is working just fine.","title":"Kotlin-android: unresolved reference databinding","body":"<p>In my case, adding</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>Solved the problem for me. I ignored it the first time, I thought it's irrelevant to the problem:<br/></p>\n\n<blockquote>\n  <p>Unresolved reference databinding</p>\n</blockquote>\n\n<p>But now, data-binding is working just fine.</p>\n"},{"tags":[],"owner":{"account_id":4313647,"reputation":1004,"user_id":3524134,"display_name":"Randheer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526534929,"creation_date":1526534929,"answer_id":50383909,"question_id":33165324,"body_markdown":"Add following in you `app build.gradle`\r\n\r\n    kapt &quot;com.android.databinding:compiler:$android_plugin_version&quot;\r\n    apply plugin: &#39;kotlin-kapt&#39; // This one at top where plugin belong to\r\n\r\nThis will do the trick.\r\n\r\n`$android_plugin_version` is version of `com.android.tools.build:gradle` in `application build.gradle`\r\n\r\nAlso, add this to your module `build.gradle`\r\n\r\n`android {\r\n    /// Existing Code\r\n    kapt {\r\n        generateStubs = true\r\n    }\r\n}`\r\n","title":"Kotlin-android: unresolved reference databinding","body":"<p>Add following in you <code>app build.gradle</code></p>\n\n<pre><code>kapt \"com.android.databinding:compiler:$android_plugin_version\"\napply plugin: 'kotlin-kapt' // This one at top where plugin belong to\n</code></pre>\n\n<p>This will do the trick.</p>\n\n<p><code>$android_plugin_version</code> is version of <code>com.android.tools.build:gradle</code> in <code>application build.gradle</code></p>\n\n<p>Also, add this to your module <code>build.gradle</code></p>\n\n<p><code>android {\n    /// Existing Code\n    kapt {\n        generateStubs = true\n    }\n}</code></p>\n"},{"tags":[],"owner":{"account_id":6145043,"reputation":202,"user_id":4791260,"display_name":"Sowattana Sigen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1528431460,"creation_date":1528430194,"answer_id":50753135,"question_id":33165324,"body_markdown":"To Solve the problem, you have to put \r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\nat the top of build.gradle (Module: app), then put this line in dependencies\r\n\r\n    kapt &quot;com.android.databinding:compiler:[YOUR_ANDROID_PLUGIN_VERSION]&quot;\r\nYou can find android plugin version by go to menu \r\n\r\n    File &gt; Project Structure &gt; Project\r\nThen Sync Again. If you see this warning, ignore it.\r\n\r\n&gt; 3rd-party Gradle plug-ins may be the cause","title":"Kotlin-android: unresolved reference databinding","body":"<p>To Solve the problem, you have to put </p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>at the top of build.gradle (Module: app), then put this line in dependencies</p>\n\n<pre><code>kapt \"com.android.databinding:compiler:[YOUR_ANDROID_PLUGIN_VERSION]\"\n</code></pre>\n\n<p>You can find android plugin version by go to menu </p>\n\n<pre><code>File &gt; Project Structure &gt; Project\n</code></pre>\n\n<p>Then Sync Again. If you see this warning, ignore it.</p>\n\n<blockquote>\n  <p>3rd-party Gradle plug-ins may be the cause</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6026102,"reputation":69,"user_id":4731759,"display_name":"Jedsada Tiwongvorakul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529824151,"creation_date":1529824151,"answer_id":51007708,"question_id":33165324,"body_markdown":"Configuration data binding in kotlin\r\n\r\n\r\n**build.gradle (folder app)**\r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n\r\n    android {\r\n       ...\r\n       dataBinding {\r\n          enabled = true\r\n       }\r\n    }\r\n\r\n    dependencies {\r\n       // data binding\r\n       kapt &quot;com.android.databinding:compiler:3.1.3&quot;\r\n    }\r\n\r\nEnjoy Kotlin...\r\n","title":"Kotlin-android: unresolved reference databinding","body":"<p>Configuration data binding in kotlin</p>\n\n<p><strong>build.gradle (folder app)</strong></p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\nandroid {\n   ...\n   dataBinding {\n      enabled = true\n   }\n}\n\ndependencies {\n   // data binding\n   kapt \"com.android.databinding:compiler:3.1.3\"\n}\n</code></pre>\n\n<p>Enjoy Kotlin...</p>\n"},{"tags":[],"owner":{"account_id":10860994,"reputation":654,"user_id":7985871,"display_name":"emad pirayesh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556374808,"creation_date":1537347794,"answer_id":52402051,"question_id":33165324,"body_markdown":"this work for me in androidStudio ver3.1.3\r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n\r\n    dataBinding {\r\n        enabled = true\r\n    }\r\n\r\n![show usage sample][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zrwdn.jpg","title":"Kotlin-android: unresolved reference databinding","body":"<p>this work for me in androidStudio ver3.1.3</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\ndataBinding {\n    enabled = true\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/zrwdn.jpg\" alt=\"show usage sample\"></p>\n"},{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1548320024,"creation_date":1538548084,"answer_id":52620923,"question_id":33165324,"body_markdown":"#Important Update\r\n\r\nYou can see in [documentation of Android.][1]\r\n\r\n&gt; The new compiler in version 3.2 is enabled by default.\r\n\r\nSo **Just Update** your **Android Studio to V3.2** or [newer][2]. and remove all unnecessary config.\r\n\r\n##So just enable dataBinding in app level `build.gradle`.\r\n\r\n    android {\r\n        dataBinding {\r\n            enabled = true\r\n        }\r\n    }\r\n\r\nIt will do all things for you automatically.\r\n\r\n###You can SAFELY REMOVE below lines-\r\n\r\n - Remove **databinding.compiler**\r\n\r\n        kapt &#39;com.android.databinding:compiler:3.0.1&#39;\r\n - Remove `kapt `\r\n\r\n        kapt {\r\n            generateStubs = true\r\n        }\r\n\r\n##My complete config\r\n\r\n**build.gradle (Project)** \r\n\r\n    kotlin_version = &#39;1.2.71&#39;    \r\n    classpath &#39;com.android.tools.build:gradle:3.2.0&#39;\r\n\r\nUse [gradle latest version][3].\r\nUse [kotlin latest version][4].\r\n\r\n**build.gradle (App)**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply plugin: &#39;kotlin-android-extensions&#39;\r\n    \r\n    compileSdkVersion 28\r\n    targetSdkVersion 28\r\n    \r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n\r\n**Important** Do not just copy and paste config. See [this answer][4] for setting up Kotlin version.\r\n\r\n**gradle-wrapper.properties**\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-4.6-all.zip\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/data-binding/start\r\n  [2]: https://developer.android.com/studio/releases/\r\n  [3]: https://developer.android.com/studio/releases/gradle-plugin\r\n  [4]: https://stackoverflow.com/a/52585894/6891563","title":"Kotlin-android: unresolved reference databinding","body":"<h1>Important Update</h1>\n\n<p>You can see in <a href=\"https://developer.android.com/topic/libraries/data-binding/start\" rel=\"nofollow noreferrer\">documentation of Android.</a></p>\n\n<blockquote>\n  <p>The new compiler in version 3.2 is enabled by default.</p>\n</blockquote>\n\n<p>So <strong>Just Update</strong> your <strong>Android Studio to V3.2</strong> or <a href=\"https://developer.android.com/studio/releases/\" rel=\"nofollow noreferrer\">newer</a>. and remove all unnecessary config.</p>\n\n<h2>So just enable dataBinding in app level <code>build.gradle</code>.</h2>\n\n<pre><code>android {\n    dataBinding {\n        enabled = true\n    }\n}\n</code></pre>\n\n<p>It will do all things for you automatically.</p>\n\n<h3>You can SAFELY REMOVE below lines-</h3>\n\n<ul>\n<li><p>Remove <strong>databinding.compiler</strong></p>\n\n<pre><code>kapt 'com.android.databinding:compiler:3.0.1'\n</code></pre></li>\n<li><p>Remove <code>kapt</code></p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre></li>\n</ul>\n\n<h2>My complete config</h2>\n\n<p><strong>build.gradle (Project)</strong> </p>\n\n<pre><code>kotlin_version = '1.2.71'    \nclasspath 'com.android.tools.build:gradle:3.2.0'\n</code></pre>\n\n<p>Use <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">gradle latest version</a>.\nUse <a href=\"https://stackoverflow.com/a/52585894/6891563\">kotlin latest version</a>.</p>\n\n<p><strong>build.gradle (App)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\ncompileSdkVersion 28\ntargetSdkVersion 28\n\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n\n<p><strong>Important</strong> Do not just copy and paste config. See <a href=\"https://stackoverflow.com/a/52585894/6891563\">this answer</a> for setting up Kotlin version.</p>\n\n<p><strong>gradle-wrapper.properties</strong></p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.6-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9788288,"reputation":31,"user_id":7253881,"display_name":"gloomyad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556374798,"creation_date":1556373992,"answer_id":55881358,"question_id":33165324,"body_markdown":"I want to share my own expirience. To use data databinding with Kotlin in android studio is enough to add \r\n\r\n    dataBinding {\r\n        enabled = true\r\n    }\r\n\r\nAfter that &quot;sync it&quot; and, it&#39;s very important, to  &quot;make Project&quot;. After that all your object will be active to use.","title":"Kotlin-android: unresolved reference databinding","body":"<p>I want to share my own expirience. To use data databinding with Kotlin in android studio is enough to add </p>\n\n<pre><code>dataBinding {\n    enabled = true\n}\n</code></pre>\n\n<p>After that \"sync it\" and, it's very important, to  \"make Project\". After that all your object will be active to use.</p>\n"},{"tags":[],"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564392398,"creation_date":1564198199,"answer_id":57228909,"question_id":33165324,"body_markdown":"In my case, the error was `Unresolved reference: RegisterationUserBinding` I just used my layout name `fragment_registeration_user` like this `FragmentRegisterationUserBinding` and made it in the Databinding layout and the error went away.","title":"Kotlin-android: unresolved reference databinding","body":"<p>In my case, the error was <code>Unresolved reference: RegisterationUserBinding</code> I just used my layout name <code>fragment_registeration_user</code> like this <code>FragmentRegisterationUserBinding</code> and made it in the Databinding layout and the error went away.</p>\n"},{"tags":[],"owner":{"account_id":12192333,"reputation":757,"user_id":8899344,"display_name":"TarekB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580325318,"creation_date":1580325318,"answer_id":59974070,"question_id":33165324,"body_markdown":"Before you try to use FragmentDetailsBinding you have to make sure you converted the corresponding layout( fragment_details.xml  ) to data binding layout by wrapping the whole layout in &quot;&lt;layout ..&gt;&quot; tag parent and move all of xmlns to layout tag then build the project and thats it","title":"Kotlin-android: unresolved reference databinding","body":"<p>Before you try to use FragmentDetailsBinding you have to make sure you converted the corresponding layout( fragment_details.xml  ) to data binding layout by wrapping the whole layout in \"\" tag parent and move all of xmlns to layout tag then build the project and thats it</p>\n"},{"tags":[],"owner":{"account_id":6015349,"reputation":368,"user_id":4724407,"accept_rate":25,"display_name":"Alexey Simchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604238536,"creation_date":1604238536,"answer_id":64632602,"question_id":33165324,"body_markdown":"In my case I only forgot to add in layout file the header:\r\n\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    ....\r\n\r\n&lt;/layout&gt;","title":"Kotlin-android: unresolved reference databinding","body":"<p>In my case I only forgot to add in layout file the header:</p>\n<pre><code>&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n....\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":16914309,"reputation":146,"user_id":12232679,"display_name":"Victor Loveday"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629103106,"creation_date":1612775010,"answer_id":66098591,"question_id":33165324,"body_markdown":"Try adding this to your **gradle.properties**\r\n\r\n    android.databinding.enableV2=true\r\n\r\n\r\n","title":"Kotlin-android: unresolved reference databinding","body":"<p>Try adding this to your <strong>gradle.properties</strong></p>\n<pre><code>android.databinding.enableV2=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4438683,"reputation":484,"user_id":3613808,"display_name":"Panayot"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1613546213,"creation_date":1613546213,"answer_id":66237310,"question_id":33165324,"body_markdown":"In my case, this solved my problem.\r\n\r\nI added this in the app build.gradle:\r\n\r\n    buildFeatures {\r\n        dataBinding true\r\n        viewBinding true \r\n    }\r\n\r\n","title":"Kotlin-android: unresolved reference databinding","body":"<p>In my case, this solved my problem.</p>\n<p>I added this in the app build.gradle:</p>\n<pre><code>buildFeatures {\n    dataBinding true\n    viewBinding true \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17211136,"reputation":193,"user_id":12460439,"display_name":"Hitesh Patel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628677303,"creation_date":1628672402,"answer_id":68738980,"question_id":33165324,"body_markdown":"In the Gradle module file add this \r\n\r\n```\r\nandroid {\r\n    ...\r\n    buildFeatures {\r\n        dataBinding true\r\n    }\r\n}\r\n```\r\n\r\nTo use databinding in Kotlin you need to configure your app to use data binding, enable the dataBinding build option in your build.gradle file in the .app module and you can replace your code with this:\r\n\r\n```\r\nimport com.example.app.databinding.FragmentDataBdinding\r\n\r\nclass ProfileFragment : Fragment() {\r\n\r\n    private lateint var mBinding: FragmentProfileBinding\r\n\r\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\r\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_data, container, false)\r\n\r\n        return mBinding.getRoot()\r\n    }\r\n}\r\n```\r\n\r\nFor more help check the databinding documentation link: https://developer.android.com/topic/libraries/data-binding.","title":"Kotlin-android: unresolved reference databinding","body":"<p>In the Gradle module file add this</p>\n<pre><code>android {\n    ...\n    buildFeatures {\n        dataBinding true\n    }\n}\n</code></pre>\n<p>To use databinding in Kotlin you need to configure your app to use data binding, enable the dataBinding build option in your build.gradle file in the .app module and you can replace your code with this:</p>\n<pre><code>import com.example.app.databinding.FragmentDataBdinding\n\nclass ProfileFragment : Fragment() {\n\n    private lateint var mBinding: FragmentProfileBinding\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_data, container, false)\n\n        return mBinding.getRoot()\n    }\n}\n</code></pre>\n<p>For more help check the databinding documentation link: <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/data-binding</a>.</p>\n"},{"tags":[],"owner":{"account_id":1924907,"reputation":1979,"user_id":1735603,"accept_rate":67,"display_name":"Firzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644945016,"creation_date":1644940922,"answer_id":71129602,"question_id":33165324,"body_markdown":"In your Gradle module (app) file add\r\n\r\n    android {\r\n        ...\r\n        buildFeatures {\r\n            dataBinding true\r\n        }\r\n    }\r\n\r\n**BTW, keep in mind: Generated view binding name is based on name of your layout file, NOT on name of your class!**\r\n\r\nThat means, if you have `MainActivity` class with corresponding `activity_main.xml`, the binding will be called `ActivityMainBinding`.\r\n\r\nAlso, do not forget to initialize your `binding` variable by adding\r\n\r\n    binding = ActivityMainBinding.inflate(layoutInflater)\r\n\r\ninto your `onCreate()` method.\r\n\r\nDo not forget to add this as well:\r\n\r\n    setContentView(binding.root)\r\n\r\ninstead of `setContentView(R.layout.activity_main)` (that would cause your listeners to not work at all)","title":"Kotlin-android: unresolved reference databinding","body":"<p>In your Gradle module (app) file add</p>\n<pre><code>android {\n    ...\n    buildFeatures {\n        dataBinding true\n    }\n}\n</code></pre>\n<p><strong>BTW, keep in mind: Generated view binding name is based on name of your layout file, NOT on name of your class!</strong></p>\n<p>That means, if you have <code>MainActivity</code> class with corresponding <code>activity_main.xml</code>, the binding will be called <code>ActivityMainBinding</code>.</p>\n<p>Also, do not forget to initialize your <code>binding</code> variable by adding</p>\n<pre><code>binding = ActivityMainBinding.inflate(layoutInflater)\n</code></pre>\n<p>into your <code>onCreate()</code> method.</p>\n<p>Do not forget to add this as well:</p>\n<pre><code>setContentView(binding.root)\n</code></pre>\n<p>instead of <code>setContentView(R.layout.activity_main)</code> (that would cause your listeners to not work at all)</p>\n"},{"tags":[],"owner":{"account_id":21108481,"reputation":11,"user_id":15516982,"display_name":"Stephen Kaguri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674357179,"creation_date":1673879832,"answer_id":75135758,"question_id":33165324,"body_markdown":"Add below build features in your app `build.gradle` file:\r\n\r\n```gradle\r\nandroid {\r\n    ...\r\n  buildFeatures {\r\n      viewBinding true\r\n  }\r\n}\r\n```\r\n\r\nThen in your activity `onCreate` method:\r\n\r\n```kotlin\r\nbinding = ActivityMainBinding.inflate(layoutInflater)\r\nsetContentView(binding.root)\r\n```","title":"Kotlin-android: unresolved reference databinding","body":"<p>Add below build features in your app <code>build.gradle</code> file:</p>\n<pre><code>android {\n    ...\n  buildFeatures {\n      viewBinding true\n  }\n}\n</code></pre>\n<p>Then in your activity <code>onCreate</code> method:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>binding = ActivityMainBinding.inflate(layoutInflater)\nsetContentView(binding.root)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11085811,"reputation":124,"user_id":8139569,"display_name":"Daniel Cettour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685171175,"creation_date":1683408167,"answer_id":76191211,"question_id":33165324,"body_markdown":"I tried everything in this post and other parts of the internet but continued with the problem. Finally figured out that the folder name was too long, and when I built the app this &quot;unresolved reference databinding&quot; error appeared, but there was nothing on logcat about long name folders. I was about to give up when for some reason I tried moving the project to the desktop and inside a short name folder and problem solved!\r\n\r\nSo if your project is inside a destination like this:\r\n\r\n    C:\\Users\\Daniel\\Documents\\Udemy\\Kotlin courses\\2023\\...very long name folder and very nested...\\databindingProject\r\n\r\nJust move it to:\r\n\r\n    C:\\Users\\Daniel\\Desktop\\Kotlin courses\\databindingProject\r\n\r\nOpen it and it should build. If not try invalidate caches and restart.\r\n\r\nBut what caused it? I think that when Android Studio do the build process it generates a lot of files and maybe because of the long name folders and the folders nested inside other folders, some files are not created because Windows doesn&#39;t allow it, and that causes the error at the end.","title":"Kotlin-android: unresolved reference databinding","body":"<p>I tried everything in this post and other parts of the internet but continued with the problem. Finally figured out that the folder name was too long, and when I built the app this &quot;unresolved reference databinding&quot; error appeared, but there was nothing on logcat about long name folders. I was about to give up when for some reason I tried moving the project to the desktop and inside a short name folder and problem solved!</p>\n<p>So if your project is inside a destination like this:</p>\n<pre><code>C:\\Users\\Daniel\\Documents\\Udemy\\Kotlin courses\\2023\\...very long name folder and very nested...\\databindingProject\n</code></pre>\n<p>Just move it to:</p>\n<pre><code>C:\\Users\\Daniel\\Desktop\\Kotlin courses\\databindingProject\n</code></pre>\n<p>Open it and it should build. If not try invalidate caches and restart.</p>\n<p>But what caused it? I think that when Android Studio do the build process it generates a lot of files and maybe because of the long name folders and the folders nested inside other folders, some files are not created because Windows doesn't allow it, and that causes the error at the end.</p>\n"}],"owner":{"account_id":5346091,"reputation":3706,"user_id":4261613,"accept_rate":74,"display_name":"Mikhail"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107131,"favorite_count":0,"down_vote_count":0,"up_vote_count":176,"answer_count":22,"score":176,"last_activity_date":1685171175,"creation_date":1444982322,"question_id":33165324,"body_markdown":"I have following fragment class written in Java using the new databinding library\r\n\r\n    import com.example.app.databinding.FragmentDataBdinding;\r\n    \r\n    public class DataFragment extends Fragment {\r\n\r\n        @Nullable\r\n        private FragmentDataBinding mBinding;\r\n\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_data, container, false);\r\n            return mBinding.getRoot();\r\n        }\r\n    }\r\n\r\nIt compiles and runs fine.  \r\nI tried to rewrite it in Kotlin and came up with the following:\r\n\r\n    import com.example.app.databinding.FragmentDataBdinding\r\n\r\n    class ProfileFragment : Fragment() {\r\n    \r\n        private var mBinding: FragmentDataBinding? = null\r\n\r\n        override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\r\n            mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_data, container, false)\r\n            return mBinding!!.getRoot()\r\n        }\r\n    }\r\n\r\nBut now step `:app:compileDebugKotlin` outputs the following:\r\n\r\n&gt; Error:(16, 38) Unresolved reference: databinding  \r\n&gt; Error:(37, 27) Unresolved reference: FragmentDataBinding\r\n\r\nHow can I use android-databinding library with Kotlin?\r\n\r\nMy top-level `build.gradle`:\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:1.3.0&#39;\r\n            classpath &#39;com.android.databinding:dataBinder:1.0-rc4&#39;\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\nMy `build.gradle` in app dir (only relevant parts):\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.android.databinding&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n\r\n    dependencies {\r\n        compile &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n    }\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;0.14.451&#39;\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n\r\n        dependencies {\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version&quot;\r\n        }\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n        maven {\r\n            url &#39;http://oss.sonatype.org/content/repositories/snapshots&#39;\r\n        }\r\n    }\r\n\r\nI&#39;m using Android Studio 1.4, Build tools version 23.0.1, Android SDK 23, SDK tools 24.4.0","title":"Kotlin-android: unresolved reference databinding","body":"<p>I have following fragment class written in Java using the new databinding library</p>\n\n<pre><code>import com.example.app.databinding.FragmentDataBdinding;\n\npublic class DataFragment extends Fragment {\n\n    @Nullable\n    private FragmentDataBinding mBinding;\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_data, container, false);\n        return mBinding.getRoot();\n    }\n}\n</code></pre>\n\n<p>It compiles and runs fine.<br>\nI tried to rewrite it in Kotlin and came up with the following:</p>\n\n<pre><code>import com.example.app.databinding.FragmentDataBdinding\n\nclass ProfileFragment : Fragment() {\n\n    private var mBinding: FragmentDataBinding? = null\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_data, container, false)\n        return mBinding!!.getRoot()\n    }\n}\n</code></pre>\n\n<p>But now step <code>:app:compileDebugKotlin</code> outputs the following:</p>\n\n<blockquote>\n  <p>Error:(16, 38) Unresolved reference: databinding<br>\n  Error:(37, 27) Unresolved reference: FragmentDataBinding</p>\n</blockquote>\n\n<p>How can I use android-databinding library with Kotlin?</p>\n\n<p>My top-level <code>build.gradle</code>:</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.3.0'\n        classpath 'com.android.databinding:dataBinder:1.0-rc4'\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>My <code>build.gradle</code> in app dir (only relevant parts):</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.android.databinding'\napply plugin: 'kotlin-android'\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n\nbuildscript {\n    ext.kotlin_version = '0.14.451'\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n    }\n}\nrepositories {\n    mavenCentral()\n    maven {\n        url 'http://oss.sonatype.org/content/repositories/snapshots'\n    }\n}\n</code></pre>\n\n<p>I'm using Android Studio 1.4, Build tools version 23.0.1, Android SDK 23, SDK tools 24.4.0</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","testng","ui-automation"],"answers":[{"tags":[],"owner":{"account_id":10767434,"reputation":31,"user_id":7921931,"display_name":"shaidyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685170658,"creation_date":1685170658,"answer_id":76345712,"question_id":76344622,"body_markdown":"Just for the purposes of testing, I created an xpath that finds the table in question:\r\n\r\n    //div[@id=&#39;content&#39;]//form//table[@class=&#39;table table-bordered&#39;]\r\n\r\nI&#39;m not a fan of looping if I can avoid it. Causes clutter. If we know the text of the item we want to find, and we know that there will only be one such item, we can just find that item on the list specifically, like so:\r\n\r\n    //div[@id=&#39;content&#39;]//form//table[@class=&#39;table table-bordered&#39;]//a[text()=&#39;iMac&#39;]\r\n\r\nNow we just need to go &#39;up&#39; the hierarchy to our table data, and then &#39;down&#39; our hierarchy to the button we want.\r\n\r\n    //div[@id=&#39;content&#39;]//form//table[@class=&#39;table table-bordered&#39;]//a[text()=&#39;iMac&#39;]/ancestor::td//following-sibling::td//button[@data-original-title=&#39;Remove&#39;]\r\n\r\nAncestor takes us &#39;up&#39; a level, following-sibling takes us &#39;across&#39; a level (four levels really), and //button takes us down to the remove button.","title":"How to find the correct row with a specific name and click the remove button on the found row? Selenium+Java","body":"<p>Just for the purposes of testing, I created an xpath that finds the table in question:</p>\n<pre><code>//div[@id='content']//form//table[@class='table table-bordered']\n</code></pre>\n<p>I'm not a fan of looping if I can avoid it. Causes clutter. If we know the text of the item we want to find, and we know that there will only be one such item, we can just find that item on the list specifically, like so:</p>\n<pre><code>//div[@id='content']//form//table[@class='table table-bordered']//a[text()='iMac']\n</code></pre>\n<p>Now we just need to go 'up' the hierarchy to our table data, and then 'down' our hierarchy to the button we want.</p>\n<pre><code>//div[@id='content']//form//table[@class='table table-bordered']//a[text()='iMac']/ancestor::td//following-sibling::td//button[@data-original-title='Remove']\n</code></pre>\n<p>Ancestor takes us 'up' a level, following-sibling takes us 'across' a level (four levels really), and //button takes us down to the remove button.</p>\n"}],"owner":{"account_id":15714906,"reputation":11,"user_id":21968341,"display_name":"Ade Ale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685170658,"creation_date":1685142191,"question_id":76344622,"body_markdown":"# **How to find the correct row with a specific name and click the remove button on the found row?**\r\n\r\nWebsite: http://opencart.abstracta.us/\r\n\r\nThe test added two items to Cart, it&#39;s looks like: [image](https://i.stack.imgur.com/ZwiuL.jpg)\r\n\r\nI’d like to delete the iMac item and check that this item was deleted\r\n\r\n**How can I find the row with the name iMac and delete the iMac item?**\r\n\r\n```\r\n@Test\r\n    public void removeProductFromCart(){\r\n        String productName = &quot;Samsung SyncMaster 941BW&quot;;\r\n        String text = &quot;iMac&quot;;\r\n        SearchResults searchResults = homePage.searchProducts(productName);\r\n        searchResults.addItemToCart(); // &quot;Samsung SyncMaster 941BW&quot; added to Cart\r\n        searchResults = homePage.searchProductsEnter(text);\r\n        searchResults.addItemToCart(); // &quot;iMac&quot; added to Cart\r\n        var cartPage = homePage.goToShoppingCart();\r\n        cartPage.removeItem(text);\r\n        Assert.assertFalse(cartPage.isProductTextListed(text), &quot;error&quot;);\r\n    }\r\n```\r\n\r\nI wrote two methods:\r\n\r\n```\r\nBy baseTable = By.xpath(&quot;//div[@class=&#39;table-responsive&#39;]/table[@class=&#39;table table-bordered&#39;]&quot;);\r\nBy tableRows = By.xpath(&quot;//div[@class=&#39;table-responsive&#39;]/table/tbody/tr&quot;);\r\nBy productNamesInCart = By.xpath(&quot;//div[@class=&#39;table-responsive&#39;]/table/tbody/tr/td[2]&quot;);\r\nBy removeBtn = By.xpath(&quot;//button[@type=&#39;button&#39; and @class=&#39;btn btn-danger&#39;]&quot;);\r\n\r\n  public void clickRemoveBtn(){\r\n         driver.findElement(removeBtn).click();\r\n  }\r\n\r\n  public void removeItem(String text){\r\n        WebElement table = driver.findElement(baseTable);\r\n        List&lt;WebElement&gt; rows = table.findElements(tableRows);\r\n        for(WebElement row : rows){\r\n            List&lt;WebElement&gt; cols = row.findElements(productNamesInCart);\r\n            for(WebElement col :cols){\r\n                if(col.getText().equals(text)){\r\n                    clickRemoveBtn();\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nSo we found a table, after we found a row with the name iMac I guess. But the clicked button is not in the found row.\r\n\r\n**I don&#39;t know how to find the correct row with name iMac and click the remove button on the found row.**\r\n\r\n- *removeBtn* locator looking for all buttons on every row. [image](https://i.stack.imgur.com/wUXvg.jpg)\r\n- *productNamesInCart* locator looking for all names as well.[image](https://i.stack.imgur.com/Z1hfE.jpg)\r\n- xpath for every row //div\\[@class=&#39;table-responsive&#39;\\]/table/tbody/tr\r\n\r\nAssert methods:\r\n\r\n```\r\npublic boolean isProductTextListed(String text){\r\n        return checkProductNames(text) !=null;\r\n    }\r\npublic Object checkTextNames(String text){\r\n        List&lt;WebElement&gt; itemNames = driver.findElements(productNamesInCart);\r\n        for(WebElement itemName : itemNames){\r\n            String name = itemName.getText();\r\n            //System.out.println(name);\r\n            if(name.equals(text)){\r\n                return itemName;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```","title":"How to find the correct row with a specific name and click the remove button on the found row? Selenium+Java","body":"<h1><strong>How to find the correct row with a specific name and click the remove button on the found row?</strong></h1>\n<p>Website: <a href=\"http://opencart.abstracta.us/\" rel=\"nofollow noreferrer\">http://opencart.abstracta.us/</a></p>\n<p>The test added two items to Cart, it's looks like: <a href=\"https://i.stack.imgur.com/ZwiuL.jpg\" rel=\"nofollow noreferrer\">image</a></p>\n<p>I’d like to delete the iMac item and check that this item was deleted</p>\n<p><strong>How can I find the row with the name iMac and delete the iMac item?</strong></p>\n<pre><code>@Test\n    public void removeProductFromCart(){\n        String productName = &quot;Samsung SyncMaster 941BW&quot;;\n        String text = &quot;iMac&quot;;\n        SearchResults searchResults = homePage.searchProducts(productName);\n        searchResults.addItemToCart(); // &quot;Samsung SyncMaster 941BW&quot; added to Cart\n        searchResults = homePage.searchProductsEnter(text);\n        searchResults.addItemToCart(); // &quot;iMac&quot; added to Cart\n        var cartPage = homePage.goToShoppingCart();\n        cartPage.removeItem(text);\n        Assert.assertFalse(cartPage.isProductTextListed(text), &quot;error&quot;);\n    }\n</code></pre>\n<p>I wrote two methods:</p>\n<pre><code>By baseTable = By.xpath(&quot;//div[@class='table-responsive']/table[@class='table table-bordered']&quot;);\nBy tableRows = By.xpath(&quot;//div[@class='table-responsive']/table/tbody/tr&quot;);\nBy productNamesInCart = By.xpath(&quot;//div[@class='table-responsive']/table/tbody/tr/td[2]&quot;);\nBy removeBtn = By.xpath(&quot;//button[@type='button' and @class='btn btn-danger']&quot;);\n\n  public void clickRemoveBtn(){\n         driver.findElement(removeBtn).click();\n  }\n\n  public void removeItem(String text){\n        WebElement table = driver.findElement(baseTable);\n        List&lt;WebElement&gt; rows = table.findElements(tableRows);\n        for(WebElement row : rows){\n            List&lt;WebElement&gt; cols = row.findElements(productNamesInCart);\n            for(WebElement col :cols){\n                if(col.getText().equals(text)){\n                    clickRemoveBtn();\n                }\n            }\n        }\n\n    }\n</code></pre>\n<p>So we found a table, after we found a row with the name iMac I guess. But the clicked button is not in the found row.</p>\n<p><strong>I don't know how to find the correct row with name iMac and click the remove button on the found row.</strong></p>\n<ul>\n<li><em>removeBtn</em> locator looking for all buttons on every row. <a href=\"https://i.stack.imgur.com/wUXvg.jpg\" rel=\"nofollow noreferrer\">image</a></li>\n<li><em>productNamesInCart</em> locator looking for all names as well.<a href=\"https://i.stack.imgur.com/Z1hfE.jpg\" rel=\"nofollow noreferrer\">image</a></li>\n<li>xpath for every row //div[@class='table-responsive']/table/tbody/tr</li>\n</ul>\n<p>Assert methods:</p>\n<pre><code>public boolean isProductTextListed(String text){\n        return checkProductNames(text) !=null;\n    }\npublic Object checkTextNames(String text){\n        List&lt;WebElement&gt; itemNames = driver.findElements(productNamesInCart);\n        for(WebElement itemName : itemNames){\n            String name = itemName.getText();\n            //System.out.println(name);\n            if(name.equals(text)){\n                return itemName;\n            }\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":10297068,"reputation":1003,"user_id":7596874,"accept_rate":20,"display_name":"Rathan Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685170602,"creation_date":1685170602,"answer_id":76345707,"question_id":76263243,"body_markdown":"Could be an issue with the way IntelliJ is considering the dependency can you try downgrading the dependency `software.amazon.awssdk` core to **2.20.57** and same version of `kms` dependency to **2.20.57** in pom","title":"AWS Java Exception: Library source does not match the bytecode for class KmsMasterKeyProvider","body":"<p>Could be an issue with the way IntelliJ is considering the dependency can you try downgrading the dependency <code>software.amazon.awssdk</code> core to <strong>2.20.57</strong> and same version of <code>kms</code> dependency to <strong>2.20.57</strong> in pom</p>\n"}],"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685170602,"creation_date":1684241606,"question_id":76263243,"body_markdown":"I am working with this example: https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java-example-code.html\r\n\r\nThere is some strange error when I call code from the example:\r\n\r\n&gt; org.springframework.web.util.NestedServletException: Handler dispatch\r\n&gt; failed; nested exception is java.lang.NoClassDefFoundError:\r\n&gt; software/amazon/awssdk/core/interceptor/ExecutionInterceptor \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\r\n...\r\n\r\n&gt; Caused by: java.lang.NoClassDefFoundError:\r\n&gt; software/amazon/awssdk/core/interceptor/ExecutionInterceptor \tat\r\n&gt; com.amazonaws.encryptionsdk.kmssdkv2.KmsMasterKeyProvider.builder(KmsMasterKeyProvider.java:243)\r\n\r\nI have installed this dependency:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-encryption-sdk-java&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nVersion `2.4.0` is current version, I tried `2.3.3` but the problem is same. \r\n\r\nAnd when I go into class `KmsMasterKeyProvider` (that causes the problem) IntelliJ IDEA show this error. I reinstalled all Maven dependencies but with no luck. What is wrong?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yOX4I.png","title":"AWS Java Exception: Library source does not match the bytecode for class KmsMasterKeyProvider","body":"<p>I am working with this example: <a href=\"https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java-example-code.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java-example-code.html</a></p>\n<p>There is some strange error when I call code from the example:</p>\n<blockquote>\n<p>org.springframework.web.util.NestedServletException: Handler dispatch\nfailed; nested exception is java.lang.NoClassDefFoundError:\nsoftware/amazon/awssdk/core/interceptor/ExecutionInterceptor  at\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087)\nat\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\nat\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)</p>\n</blockquote>\n<p>...</p>\n<blockquote>\n<p>Caused by: java.lang.NoClassDefFoundError:\nsoftware/amazon/awssdk/core/interceptor/ExecutionInterceptor  at\ncom.amazonaws.encryptionsdk.kmssdkv2.KmsMasterKeyProvider.builder(KmsMasterKeyProvider.java:243)</p>\n</blockquote>\n<p>I have installed this dependency:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-encryption-sdk-java&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Version <code>2.4.0</code> is current version, I tried <code>2.3.3</code> but the problem is same.</p>\n<p>And when I go into class <code>KmsMasterKeyProvider</code> (that causes the problem) IntelliJ IDEA show this error. I reinstalled all Maven dependencies but with no luck. What is wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/yOX4I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yOX4I.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1685167596,"post_id":76345535,"comment_id":134626718,"body_markdown":"are you using build tools like Maven or Gradle to configure libraries? or its a jar manually copied and referred?","body":"are you using build tools like Maven or Gradle to configure libraries? or its a jar manually copied and referred?"},{"owner":{"account_id":23644163,"reputation":40,"user_id":18596910,"display_name":"Yuri"},"score":0,"creation_date":1685167639,"post_id":76345535,"comment_id":134626722,"body_markdown":"I just added a jar from disk","body":"I just added a jar from disk"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1685167680,"post_id":76345535,"comment_id":134626728,"body_markdown":"can you please try - Right click that jar and choose &quot;Add as Library&quot;","body":"can you please try - Right click that jar and choose &quot;Add as Library&quot;"}],"answers":[{"tags":[],"owner":{"account_id":23644163,"reputation":40,"user_id":18596910,"display_name":"Yuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685168093,"creation_date":1685167732,"answer_id":76345567,"question_id":76345535,"body_markdown":"Okay, I decompiled the library and added the source jar, now everything works... But this approach will only work if the code is not obfuscated, as in my case. So, in principle, the question remains open.\r\n\r\nEdit: Oh, the decompilers are smart nowadays, especially Fernflower, so they can rename invalid and conflicting identifiers.\r\n\r\nThere is a plugin that does it automatically, but it is old and I am not sure it works now: https://plugins.jetbrains.com/plugin/8047-decompile-and-attach","title":"IntelliJ IDEA Find Usages","body":"<p>Okay, I decompiled the library and added the source jar, now everything works... But this approach will only work if the code is not obfuscated, as in my case. So, in principle, the question remains open.</p>\n<p>Edit: Oh, the decompilers are smart nowadays, especially Fernflower, so they can rename invalid and conflicting identifiers.</p>\n<p>There is a plugin that does it automatically, but it is old and I am not sure it works now: <a href=\"https://plugins.jetbrains.com/plugin/8047-decompile-and-attach\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/8047-decompile-and-attach</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685170427,"creation_date":1685170427,"answer_id":76345698,"question_id":76345535,"body_markdown":"You&#39;ll need to index the module.\r\n\r\nHere is the IntelliJ documentation on indexing.  \r\n[Indexing | IntelliJ IDEA Documentation](https://www.jetbrains.com/help/idea/indexing.html#unload).\r\n\r\n&gt; ___Unload modules﻿___\r\n&gt; \r\n&gt; _... right-click [the module] in the __Project__ tool window and select __Load/Unload Modules__._\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YrTtu.png","title":"IntelliJ IDEA Find Usages","body":"<p>You'll need to index the module.</p>\n<p>Here is the IntelliJ documentation on indexing.<br />\n<a href=\"https://www.jetbrains.com/help/idea/indexing.html#unload\" rel=\"nofollow noreferrer\">Indexing | IntelliJ IDEA Documentation</a>.</p>\n<blockquote>\n<p><em><strong>Unload modules﻿</strong></em></p>\n<p><em>... right-click [the module] in the <strong>Project</strong> tool window and select <strong>Load/Unload Modules</strong>.</em></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/YrTtu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YrTtu.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23644163,"reputation":40,"user_id":18596910,"display_name":"Yuri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76345567,"answer_count":2,"score":0,"last_activity_date":1685170427,"creation_date":1685167124,"question_id":76345535,"body_markdown":"How to find usage of a class or method in IntelliJ IDEA in a library? I could be wrong, but I remember what worked, but now it doesn&#39;t. I can find the method definition with Ctrl+LMB, but not the other way around. I am using IntelliJ IDEA 2023.1.2.\r\n\r\nI tried invalidating caches and changing the place where to look for, tried removing and adding the library again, but nothing worked. When searching for usages in my project sources everything works fine. I know, that I can decompile library and open it as a project, to be able to search for usages, but it kinda uncomfortable.\r\n\r\nMaybe there is a way to enable that or somehow index the library?\r\n\r\nThanks for any help.","title":"IntelliJ IDEA Find Usages","body":"<p>How to find usage of a class or method in IntelliJ IDEA in a library? I could be wrong, but I remember what worked, but now it doesn't. I can find the method definition with Ctrl+LMB, but not the other way around. I am using IntelliJ IDEA 2023.1.2.</p>\n<p>I tried invalidating caches and changing the place where to look for, tried removing and adding the library again, but nothing worked. When searching for usages in my project sources everything works fine. I know, that I can decompile library and open it as a project, to be able to search for usages, but it kinda uncomfortable.</p>\n<p>Maybe there is a way to enable that or somehow index the library?</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":2,"creation_date":1684906953,"post_id":76318193,"comment_id":134583968,"body_markdown":"Does this answer your question? [JPA EmptyResultDataAccessException handling](https://stackoverflow.com/questions/39233648/jpa-emptyresultdataaccessexception-handling)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39233648/jpa-emptyresultdataaccessexception-handling\">JPA EmptyResultDataAccessException handling</a>"},{"owner":{"account_id":24566710,"reputation":47,"user_id":18473757,"display_name":"Tokoro-San"},"score":0,"creation_date":1684914244,"post_id":76318193,"comment_id":134585275,"body_markdown":"@ArunSudhakaran it partialy answer my question. Ill do that but i still don&#39;t understand why those methods throws an exception when they have to ignore this case. Thank you for your help","body":"@ArunSudhakaran it partialy answer my question. Ill do that but i still don&#39;t understand why those methods throws an exception when they have to ignore this case. Thank you for your help"}],"answers":[{"tags":[],"owner":{"account_id":23983528,"reputation":11,"user_id":17970623,"display_name":"Mahmood Cherukavil"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1684907025,"creation_date":1684905657,"answer_id":76320279,"question_id":76318193,"body_markdown":"You can handle the case like this\r\n\r\n    public void deleteById(String id) {\r\n        if (yourEntityRepository.existsById(id)) {\r\n            yourEntityRepository.deleteById(id);\r\n        } else {\r\n            // Handle the case where the entity does not exist\r\n            // You can throw a custom exception or perform any other logic\r\n        }\r\n    }","title":"Spring Data JPA - Exception thrown when using DeleteById with a non existing id","body":"<p>You can handle the case like this</p>\n<pre><code>public void deleteById(String id) {\n    if (yourEntityRepository.existsById(id)) {\n        yourEntityRepository.deleteById(id);\n    } else {\n        // Handle the case where the entity does not exist\n        // You can throw a custom exception or perform any other logic\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1685169343,"creation_date":1684907047,"answer_id":76320392,"question_id":76318193,"body_markdown":"there is a sample code hope it work : \r\n\r\n    try{\r\n    if(repository.existsById(id){\r\n       repository.deleteById(id);\r\n    }\r\n    }catch(EmptyResultDataAccessException ex){\r\n    throws new NotFoundException\r\n    }","title":"Spring Data JPA - Exception thrown when using DeleteById with a non existing id","body":"<p>there is a sample code hope it work :</p>\n<pre><code>try{\nif(repository.existsById(id){\n   repository.deleteById(id);\n}\n}catch(EmptyResultDataAccessException ex){\nthrows new NotFoundException\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4641422,"reputation":1287,"user_id":3761154,"display_name":"R&#233;da Housni Alaoui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684966320,"creation_date":1684966320,"answer_id":76327720,"question_id":76318193,"body_markdown":"I think you are hit by https://github.com/spring-projects/spring-data-jpa/issues/2719\r\n\r\nFixed in 3.0.2+","title":"Spring Data JPA - Exception thrown when using DeleteById with a non existing id","body":"<p>I think you are hit by <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2719\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2719</a></p>\n<p>Fixed in 3.0.2+</p>\n"}],"owner":{"account_id":24566710,"reputation":47,"user_id":18473757,"display_name":"Tokoro-San"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76327720,"answer_count":3,"score":1,"last_activity_date":1685169343,"creation_date":1684871421,"question_id":76318193,"body_markdown":"I am using a spring data JPA with a Postgresql db. I have an elementary table, a primary key (varchar) and some attributes. I have a repository and a service using this repository. \r\n\r\nI am facing an issue when using deleteById or by using deleteAllById. Indeed, the method should ignore a non-existing id. But when I&#39;m using one of those methods an exception is thrown **EmptyResultDataAccessException**. \r\n\r\nI would like to know how to set jpa to ignore if an id doesn&#39;t exist in my table as explained in the doc of **CrudRepository**.\r\n\r\nThank you in advance for your answers","title":"Spring Data JPA - Exception thrown when using DeleteById with a non existing id","body":"<p>I am using a spring data JPA with a Postgresql db. I have an elementary table, a primary key (varchar) and some attributes. I have a repository and a service using this repository.</p>\n<p>I am facing an issue when using deleteById or by using deleteAllById. Indeed, the method should ignore a non-existing id. But when I'm using one of those methods an exception is thrown <strong>EmptyResultDataAccessException</strong>.</p>\n<p>I would like to know how to set jpa to ignore if an id doesn't exist in my table as explained in the doc of <strong>CrudRepository</strong>.</p>\n<p>Thank you in advance for your answers</p>\n"},{"tags":["java","android","location","android-service"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685166928,"post_id":76345492,"comment_id":134626670,"body_markdown":"`created this service` Please add the line where you extend Service. Also show how and where you start your service. And tell Android version of used device.","body":"<code>created this service</code> Please add the line where you extend Service. Also show how and where you start your service. And tell Android version of used device."},{"owner":{"account_id":28675668,"reputation":1,"user_id":21957810,"display_name":"Timelabs DevApp"},"score":0,"creation_date":1685167747,"post_id":76345492,"comment_id":134626731,"body_markdown":"My service is working perfectly this is only case when no cache of app and io start the app with internet off\n` @Override\n            public void onLocationAvailability(@NonNull LocationAvailability locationAvailability) {\n\n                super.onLocationAvailability(locationAvailability);\n                Log.d(TAG, &quot;onLocationAvailability: &quot;+locationAvailability.isLocationAvailable());\n                enableLocation(locationAvailability.isLocationAvailable()); }`\n\ni am getting false here","body":"My service is working perfectly this is only case when no cache of app and io start the app with internet off ` @Override             public void onLocationAvailability(@NonNull LocationAvailability locationAvailability) {                  super.onLocationAvailability(locationAvailability);                 Log.d(TAG, &quot;onLocationAvailability: &quot;+locationAvailability.isLocationAvailable());                 enableLocation(locationAvailability.isLocationAvailable()); }`  i am getting false here"},{"owner":{"account_id":28675668,"reputation":1,"user_id":21957810,"display_name":"Timelabs DevApp"},"score":0,"creation_date":1685168425,"post_id":76345492,"comment_id":134626785,"body_markdown":"Using android 12","body":"Using android 12"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685169353,"post_id":76345492,"comment_id":134626849,"body_markdown":"Please post your code in your post. Not unreadable in comments.","body":"Please post your code in your post. Not unreadable in comments."}],"owner":{"account_id":28675668,"reputation":1,"user_id":21957810,"display_name":"Timelabs DevApp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685168601,"creation_date":1685166122,"question_id":76345492,"body_markdown":"`I&#39;m facing an issue with my Android app where the map fails to load and I&#39;m unable to obtain the user&#39;s location after rebooting the device when there is no internet connection. I have ensured that the GPS is turned on and have requested location updates. However, the map remains blank and the location data is not available.\r\n\r\nMy service is getting started I logged it only location data is not available\r\n\r\nIs there a way to handle this situation gracefully and ensure that the map loads and location updates work even if there is no internet connection after a device reboot? Are there any specific considerations or code snippets that I should implement to tackle this issue effectively? Any help or guidance would be greatly appreciated. Thank you!  \r\n\r\n\r\n```public class LocationUpdatesService extends Service {\r\n    private static final String CHANNEL_ID = &quot;channel_01&quot;;\r\n    public static final String ACTION_BROADCAST = PACKAGE_NAME + &quot;.broadcast&quot;;\r\n    public static final String EXTRA_LOCATION = PACKAGE_NAME + &quot;.location&quot;;\r\n    public static final String EXTRA_TIME = PACKAGE_NAME + &quot;.time&quot;;\r\n    public static final String EVENT = &quot;event&quot;;\r\n    private static final String EXTRA_STARTED_FROM_NOTIFICATION = PACKAGE_NAME +&quot;.started_from_notification&quot;;\r\n    private static final long UPDATE_INTERVAL_IN_MILLISECONDS = 5000;\r\n    private static final long FASTEST_UPDATE_INTERVAL_IN_MILLISECONDS = UPDATE_INTERVAL_IN_MILLISECONDS / 2;\r\n    private static final int NOTIFICATION_ID = 12345678;\r\n    private boolean mChangingConfiguration = false;\r\n    private NotificationManager mNotificationManager;\r\n    private LocationRequest mLocationRequest;\r\n    private FusedLocationProviderClient mFusedLocationClient;\r\n    private LocationCallback mLocationCallback;\r\n    private Handler mServiceHandler;\r\n    private Location mLocation;\r\n\r\n    private final IBinder mBinder = new LocalBinder();\r\n    private static final String TAG = &quot;ttttttttttttttttttt&quot;;\r\n    String trip_id;\r\n    Timer timer;\r\n    int count = 0;\r\n    double distance;\r\n    List&lt;Location&gt; data = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n        mLocationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationRes\r\n \r\nult) {\r\n                super.onLocationResult(locationResult);\r\n                onNewLocation(locationResult.getLastLocation());\r\n            }\r\n\r\n            @Override\r\n            public void onLocationAvailability(@NonNull LocationAvailability locationAvailability) {\r\n\r\n                super.onLocationAvailability(locationAvailability);\r\n                Log.d(TAG, &quot;onLocationAvailability: &quot;+locationAvailability.isLocationAvailable());\r\n                enableLocation(locationAvailability.isLocationAvailable());\r\n            }\r\n        };\r\n        createLocationRequest();\r\n        getLastLocation();\r\n        HandlerThread handlerThread = new HandlerThread(TAG);\r\n        handlerThread.start();\r\n        mServiceHandler = new Handler(handlerThread.getLooper());\r\n        mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n\r\n        // Android O requires a Notification Channel.\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = getString(R.string.app_name);\r\n            // Create the channel for the notification\r\n            NotificationChannel mChannel = new NotificationChannel(CHANNEL_ID, name, NotificationManager.IMPORTANCE_DEFAULT);\r\n\r\n            // Set the Notification Channel for the Notification Manager.\r\n            mNotificationManager.createNotificationChannel(mChannel);\r\n        }\r\n    }\r\n\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        Log.i(TAG, &quot;Service started&quot;);\r\n\r\n        try {\r\n            boolean startedFromNotification = intent.getBooleanExtra(EXTRA_STARTED_FROM_NOTIFICATION, false);\r\n\r\n            // We got here because the user decided to remove location updates from the notification.\r\n            if (startedFromNotification) {\r\n                removeLocationUpdates();\r\n                stopSelf();\r\n            }\r\n        } catch (Exception ignored) {\r\n\r\n        }\r\n        // Tells the system to not try to recreate the service after it has been killed.\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n        mChangingConfiguration = true;\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        // Called when a client (MainActivity in case of this sample) comes to the foreground\r\n        // and binds with this service. The service should cease to be a foreground service\r\n        // when that happens.\r\n        Log.i(TAG, &quot;in onBind()&quot;);\r\n        stopForeground(true);\r\n        mChangingConfiguration = false;\r\n        return mBinder;\r\n    }\r\n\r\n    @Override\r\n    public void onRebind(Intent intent) {\r\n        // Called when a client (MainActivity in case of this sample) returns to the foreground\r\n        // and binds once again with this service. The service should cease to be a foreground\r\n        // service when that happens.\r\n        Log.i(TAG, &quot;in onRebind()&quot;);\r\n        stopForeground(true);\r\n        mChangingConfiguration = false;\r\n        super.onRebind(intent);\r\n    }\r\n\r\n    @Override\r\n    public boolean onUnbind(Intent intent) {\r\n        Log.i(TAG, &quot;Last client unbound from service&quot;);\r\n\r\n        // Called when the last client (MainActivity in case of this sample) unbinds from this\r\n        // service. If this method is called due to a configuration change in MainActivity, we\r\n        // do nothing. Otherwise, we make this service a foreground service.\r\n        if (!mChangingConfiguration &amp;&amp; ExtraUtils.requestingLocationUpdates(this)) {\r\n            Log.i(TAG, &quot;Starting foreground service&quot;);\r\n            /*\r\n            // TODO(developer). If targeting O, use the following code.\r\n            if (Build.VERSION.SDK_INT == Build.VERSION_CODES.O) {\r\n                mNotificationManager.startServiceInForeground(new Intent(this,\r\n                        LocationUpdatesService.class), NOTIFICATION_ID, getNotification());\r\n            } else {\r\n                startForeground(NOTIFICATION_ID, getNotification());\r\n            }\r\n             */\r\n            startForeground(NOTIFICATION_ID, getNotification());\r\n        }\r\n        return true; // Ensures onRebind() is called when a client re-binds.\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        mServiceHandler.removeCallbacksAndMessages(null);\r\n        new DbHelper(this).updateTripEnd();\r\n    }\r\n\r\n    public void removeLocationUpdates() {\r\n        Log.i(TAG, &quot;Removing location updates&quot;);\r\n        try {\r\n            mFusedLocationClient.removeLocationUpdates(mLocationCallback);\r\n            stopTimer();\r\n            ExtraUtils.setRequestingLocationUpdates(this, false);\r\n            new SharedDB(this).setLocationRequest(false);\r\n            stopSelf();\r\n        } catch (SecurityException unlikely) {\r\n\r\n            new SharedDB(this).setLocationRequest(true);\r\n            ExtraUtils.setRequestingLocationUpdates(this, true);\r\n            Log.e(TAG, &quot;Lost location permission. Could not remove updates. &quot; + unlikely);\r\n\r\n        }\r\n    }\r\n\r\n    public void requestLocationUpdates(String trip_id) {\r\n        Log.i(TAG, &quot;Requesting location updates&quot;);\r\n        this.trip_id = trip_id;\r\n        timer = new Timer();\r\n        ExtraUtils.setRequestingLocationUpdates(this, true);\r\n        new SharedDB(this).setLocationRequest(true);\r\n\r\n        startService(new Intent(getApplicationContext(), LocationUpdatesService.class));\r\n        try {\r\n            mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\r\n            startTimer();\r\n        } catch (SecurityException unlikely) {\r\n            ExtraUtils.setRequestingLocationUpdates(this, false);\r\n            new SharedDB(this).setLocationRequest(false);\r\n            Log.e(&quot;updateTimer&quot;, &quot;Lost location permission. Could not request updates. &quot; + unlikely);\r\n        }\r\n    }\r\n\r\n    private void getLastLocation() {\r\n        try {\r\n            mFusedLocationClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Location&gt; task) {\r\n                    if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\r\n                        mLocation = task.getResult();\r\n                    } else {\r\n                        // TODO: 5/16/2023 if requroes do if location not recived\r\n                    }\r\n                }\r\n            });\r\n        } catch (SecurityException unlikely) {\r\n            // TODO: 5/16/2023 ask permission or stop ride\r\n        }\r\n    }\r\n\r\n    private void createLocationRequest() {\r\n        mLocationRequest = new LocationRequest();\r\n        mLocationRequest.setInterval(UPDATE_INTERVAL_IN_MILLISECONDS);\r\n        mLocationRequest.setFastestInterval(FASTEST_UPDATE_INTERVAL_IN_MILLISECONDS);\r\n        mLocationRequest.setPriority(Priority.PRIORITY_HIGH_ACCURACY);\r\n    }\r\n\r\n    @SuppressLint(&quot;NotificationPermission&quot;)\r\n    public void onNewLocation(Location location) {\r\n        boolean isMock = false;\r\n        isMock = location.isFromMockProvider();\r\n        if (isMock) {\r\n            new DbHelper(LocationUpdatesService.this).updateTripEnd();\r\n            removeLocationUpdates();\r\n            new DbHelper(this).updateRemark(&quot;Tried fake location&quot;, trip_id);\r\n\r\n            if (!serviceIsRunningInForeground(LocationUpdatesService.this)) {\r\n                tripEndBroadcast();\r\n            }\r\n\r\n            stopSelf();\r\n            return;\r\n        }\r\n        try {\r\n            LocationManager locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n\r\n            if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\r\n                return;\r\n            }\r\n        } catch (Exception exception) {\r\n\r\n        }\r\n\r\n        mLocation = location;\r\n\r\n        if (data.size() != 0) {\r\n\r\n            distance = distance + (distanceBetween(new LatLng(data.get(data.size() - 1).getLatitude(), data.get(data.size() - 1).getLongitude()), new LatLng(location.getLatitude(), location.getLongitude()))) / 1000;\r\n\r\n        }\r\n        insertData(new DbHelper(this), location);\r\n\r\n        data.add(location);\r\n\r\n        // Notify anyone listening for broadcasts about the new location.\r\n        Intent intent = new Intent(ACTION_BROADCAST);\r\n        intent.putExtra(EVENT, &quot;location&quot;);\r\n        intent.putExtra(&quot;distance&quot;, distance);\r\n        intent.putExtra(EXTRA_LOCATION, location);\r\n        LocalBroadcastManager.getInstance(getApplicationContext()).sendBroadcast(intent);\r\n\r\n        // Update notification content if running as a foreground service.\r\n        if (serviceIsRunningInForeground(this)) {\r\n            mNotificationManager.notify(NOTIFICATION_ID, getNotification());\r\n        }\r\n    }\r\n\r\n    public boolean serviceIsRunningInForeground(Context context) {\r\n        ActivityManager manager = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\r\n        for (ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\r\n            if (getClass().getName().equals(service.service.getClassName())) {\r\n                if (service.foreground) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private Notification getNotification() {\r\n        Intent intent = new Intent(this, LocationUpdatesService.class);\r\n\r\n\r\n        // Extra to help us figure out if we arrived in onStartCommand via the notification or not.\r\n        intent.putExtra(EXTRA_STARTED_FROM_NOTIFICATION, true);\r\n\r\n        // The PendingIntent that leads to a call to onStartCommand() in this service.\r\n        PendingIntent servicePendingIntent = PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        // The PendingIntent to launch activity.\r\n        PendingIntent activityPendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, TripMapsActivity.class), 0);\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this)\r\n                .addAction(R.drawable.dl_thumb, &quot;Open Trip&quot;, activityPendingIntent)\r\n                .addAction(R.drawable.dl_back, &quot;End Trip&quot;, servicePendingIntent)\r\n                .setContentText(&quot;Trip started&quot;)\r\n                .setOngoing(true)\r\n                .setSound(null)\r\n                .setSilent(true)\r\n                .setPriority(Notification.PRIORITY_HIGH)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setTicker(&quot;setTicker&quot;)\r\n                .setWhen(System.currentTimeMillis());\r\n\r\n        // Set the Channel ID for Android O.\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            builder.setChannelId(CHANNEL_ID); // Channel ID\r\n        }\r\n\r\n        return builder.build();\r\n    }\r\n\r\n\r\n    public class LocalBinder extends Binder {\r\n        public LocationUpdatesService getService() {\r\n            return LocationUpdatesService.this;\r\n        }\r\n    }\r\n\r\n \r\n\r\n    private void startTimer() {\r\n        timer.scheduleAtFixedRate(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                count += 1;\r\n                if (count &gt; 16 * 60 * 60) {\r\n                    new DbHelper(LocationUpdatesService.this).updateTripEnd();\r\n                    removeLocationUpdates();\r\n                    stopSelf();\r\n                    if (!serviceIsRunningInForeground(LocationUpdatesService.this)) {\r\n                        tripEndBroadcast();\r\n                    }\r\n                }\r\n//                if (!serviceIsRunningInForeground(LocationUpdatesService.this)) {\r\n//                    updateTimer(count);\r\n//                }else {\r\n//                    Log.d(TAG, &quot;run: &quot;+count);\r\n//                }\r\n                updateTimer(count);\r\n\r\n            }\r\n        }, 0, 1000);\r\n    }\r\n\r\n    private void stopTimer() {\r\n        if (timer != null) {\r\n            count = 0;\r\n            distance = 0;\r\n            data.clear();\r\n            timer.cancel();\r\n            timer.purge();\r\n            timer = null;\r\n        }\r\n    }\r\n}\r\n```\r\nI created this service for getting location in background and foreground . issue i am facing is when i reboot my phone and internet is not available my map doesnot load and it didnot give me my location update even if gps is on`","title":"Unable to get location after reboot the phone and internet stays off Android , Service Location","body":"<p>`I'm facing an issue with my Android app where the map fails to load and I'm unable to obtain the user's location after rebooting the device when there is no internet connection. I have ensured that the GPS is turned on and have requested location updates. However, the map remains blank and the location data is not available.</p>\n<p>My service is getting started I logged it only location data is not available</p>\n<p>Is there a way to handle this situation gracefully and ensure that the map loads and location updates work even if there is no internet connection after a device reboot? Are there any specific considerations or code snippets that I should implement to tackle this issue effectively? Any help or guidance would be greatly appreciated. Thank you!</p>\n<pre><code>    private static final String CHANNEL_ID = &quot;channel_01&quot;;\n    public static final String ACTION_BROADCAST = PACKAGE_NAME + &quot;.broadcast&quot;;\n    public static final String EXTRA_LOCATION = PACKAGE_NAME + &quot;.location&quot;;\n    public static final String EXTRA_TIME = PACKAGE_NAME + &quot;.time&quot;;\n    public static final String EVENT = &quot;event&quot;;\n    private static final String EXTRA_STARTED_FROM_NOTIFICATION = PACKAGE_NAME +&quot;.started_from_notification&quot;;\n    private static final long UPDATE_INTERVAL_IN_MILLISECONDS = 5000;\n    private static final long FASTEST_UPDATE_INTERVAL_IN_MILLISECONDS = UPDATE_INTERVAL_IN_MILLISECONDS / 2;\n    private static final int NOTIFICATION_ID = 12345678;\n    private boolean mChangingConfiguration = false;\n    private NotificationManager mNotificationManager;\n    private LocationRequest mLocationRequest;\n    private FusedLocationProviderClient mFusedLocationClient;\n    private LocationCallback mLocationCallback;\n    private Handler mServiceHandler;\n    private Location mLocation;\n\n    private final IBinder mBinder = new LocalBinder();\n    private static final String TAG = &quot;ttttttttttttttttttt&quot;;\n    String trip_id;\n    Timer timer;\n    int count = 0;\n    double distance;\n    List&lt;Location&gt; data = new ArrayList&lt;&gt;();\n\n    @Override\n    public void onCreate() {\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n        mLocationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(LocationResult locationRes\n \nult) {\n                super.onLocationResult(locationResult);\n                onNewLocation(locationResult.getLastLocation());\n            }\n\n            @Override\n            public void onLocationAvailability(@NonNull LocationAvailability locationAvailability) {\n\n                super.onLocationAvailability(locationAvailability);\n                Log.d(TAG, &quot;onLocationAvailability: &quot;+locationAvailability.isLocationAvailable());\n                enableLocation(locationAvailability.isLocationAvailable());\n            }\n        };\n        createLocationRequest();\n        getLastLocation();\n        HandlerThread handlerThread = new HandlerThread(TAG);\n        handlerThread.start();\n        mServiceHandler = new Handler(handlerThread.getLooper());\n        mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n\n        // Android O requires a Notification Channel.\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            CharSequence name = getString(R.string.app_name);\n            // Create the channel for the notification\n            NotificationChannel mChannel = new NotificationChannel(CHANNEL_ID, name, NotificationManager.IMPORTANCE_DEFAULT);\n\n            // Set the Notification Channel for the Notification Manager.\n            mNotificationManager.createNotificationChannel(mChannel);\n        }\n    }\n\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Log.i(TAG, &quot;Service started&quot;);\n\n        try {\n            boolean startedFromNotification = intent.getBooleanExtra(EXTRA_STARTED_FROM_NOTIFICATION, false);\n\n            // We got here because the user decided to remove location updates from the notification.\n            if (startedFromNotification) {\n                removeLocationUpdates();\n                stopSelf();\n            }\n        } catch (Exception ignored) {\n\n        }\n        // Tells the system to not try to recreate the service after it has been killed.\n        return START_STICKY;\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n        mChangingConfiguration = true;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // Called when a client (MainActivity in case of this sample) comes to the foreground\n        // and binds with this service. The service should cease to be a foreground service\n        // when that happens.\n        Log.i(TAG, &quot;in onBind()&quot;);\n        stopForeground(true);\n        mChangingConfiguration = false;\n        return mBinder;\n    }\n\n    @Override\n    public void onRebind(Intent intent) {\n        // Called when a client (MainActivity in case of this sample) returns to the foreground\n        // and binds once again with this service. The service should cease to be a foreground\n        // service when that happens.\n        Log.i(TAG, &quot;in onRebind()&quot;);\n        stopForeground(true);\n        mChangingConfiguration = false;\n        super.onRebind(intent);\n    }\n\n    @Override\n    public boolean onUnbind(Intent intent) {\n        Log.i(TAG, &quot;Last client unbound from service&quot;);\n\n        // Called when the last client (MainActivity in case of this sample) unbinds from this\n        // service. If this method is called due to a configuration change in MainActivity, we\n        // do nothing. Otherwise, we make this service a foreground service.\n        if (!mChangingConfiguration &amp;&amp; ExtraUtils.requestingLocationUpdates(this)) {\n            Log.i(TAG, &quot;Starting foreground service&quot;);\n            /*\n            // TODO(developer). If targeting O, use the following code.\n            if (Build.VERSION.SDK_INT == Build.VERSION_CODES.O) {\n                mNotificationManager.startServiceInForeground(new Intent(this,\n                        LocationUpdatesService.class), NOTIFICATION_ID, getNotification());\n            } else {\n                startForeground(NOTIFICATION_ID, getNotification());\n            }\n             */\n            startForeground(NOTIFICATION_ID, getNotification());\n        }\n        return true; // Ensures onRebind() is called when a client re-binds.\n    }\n\n    @Override\n    public void onDestroy() {\n        mServiceHandler.removeCallbacksAndMessages(null);\n        new DbHelper(this).updateTripEnd();\n    }\n\n    public void removeLocationUpdates() {\n        Log.i(TAG, &quot;Removing location updates&quot;);\n        try {\n            mFusedLocationClient.removeLocationUpdates(mLocationCallback);\n            stopTimer();\n            ExtraUtils.setRequestingLocationUpdates(this, false);\n            new SharedDB(this).setLocationRequest(false);\n            stopSelf();\n        } catch (SecurityException unlikely) {\n\n            new SharedDB(this).setLocationRequest(true);\n            ExtraUtils.setRequestingLocationUpdates(this, true);\n            Log.e(TAG, &quot;Lost location permission. Could not remove updates. &quot; + unlikely);\n\n        }\n    }\n\n    public void requestLocationUpdates(String trip_id) {\n        Log.i(TAG, &quot;Requesting location updates&quot;);\n        this.trip_id = trip_id;\n        timer = new Timer();\n        ExtraUtils.setRequestingLocationUpdates(this, true);\n        new SharedDB(this).setLocationRequest(true);\n\n        startService(new Intent(getApplicationContext(), LocationUpdatesService.class));\n        try {\n            mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\n            startTimer();\n        } catch (SecurityException unlikely) {\n            ExtraUtils.setRequestingLocationUpdates(this, false);\n            new SharedDB(this).setLocationRequest(false);\n            Log.e(&quot;updateTimer&quot;, &quot;Lost location permission. Could not request updates. &quot; + unlikely);\n        }\n    }\n\n    private void getLastLocation() {\n        try {\n            mFusedLocationClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Location&gt; task) {\n                    if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\n                        mLocation = task.getResult();\n                    } else {\n                        // TODO: 5/16/2023 if requroes do if location not recived\n                    }\n                }\n            });\n        } catch (SecurityException unlikely) {\n            // TODO: 5/16/2023 ask permission or stop ride\n        }\n    }\n\n    private void createLocationRequest() {\n        mLocationRequest = new LocationRequest();\n        mLocationRequest.setInterval(UPDATE_INTERVAL_IN_MILLISECONDS);\n        mLocationRequest.setFastestInterval(FASTEST_UPDATE_INTERVAL_IN_MILLISECONDS);\n        mLocationRequest.setPriority(Priority.PRIORITY_HIGH_ACCURACY);\n    }\n\n    @SuppressLint(&quot;NotificationPermission&quot;)\n    public void onNewLocation(Location location) {\n        boolean isMock = false;\n        isMock = location.isFromMockProvider();\n        if (isMock) {\n            new DbHelper(LocationUpdatesService.this).updateTripEnd();\n            removeLocationUpdates();\n            new DbHelper(this).updateRemark(&quot;Tried fake location&quot;, trip_id);\n\n            if (!serviceIsRunningInForeground(LocationUpdatesService.this)) {\n                tripEndBroadcast();\n            }\n\n            stopSelf();\n            return;\n        }\n        try {\n            LocationManager locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n\n            if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n                return;\n            }\n        } catch (Exception exception) {\n\n        }\n\n        mLocation = location;\n\n        if (data.size() != 0) {\n\n            distance = distance + (distanceBetween(new LatLng(data.get(data.size() - 1).getLatitude(), data.get(data.size() - 1).getLongitude()), new LatLng(location.getLatitude(), location.getLongitude()))) / 1000;\n\n        }\n        insertData(new DbHelper(this), location);\n\n        data.add(location);\n\n        // Notify anyone listening for broadcasts about the new location.\n        Intent intent = new Intent(ACTION_BROADCAST);\n        intent.putExtra(EVENT, &quot;location&quot;);\n        intent.putExtra(&quot;distance&quot;, distance);\n        intent.putExtra(EXTRA_LOCATION, location);\n        LocalBroadcastManager.getInstance(getApplicationContext()).sendBroadcast(intent);\n\n        // Update notification content if running as a foreground service.\n        if (serviceIsRunningInForeground(this)) {\n            mNotificationManager.notify(NOTIFICATION_ID, getNotification());\n        }\n    }\n\n    public boolean serviceIsRunningInForeground(Context context) {\n        ActivityManager manager = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\n        for (ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\n            if (getClass().getName().equals(service.service.getClassName())) {\n                if (service.foreground) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    private Notification getNotification() {\n        Intent intent = new Intent(this, LocationUpdatesService.class);\n\n\n        // Extra to help us figure out if we arrived in onStartCommand via the notification or not.\n        intent.putExtra(EXTRA_STARTED_FROM_NOTIFICATION, true);\n\n        // The PendingIntent that leads to a call to onStartCommand() in this service.\n        PendingIntent servicePendingIntent = PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        // The PendingIntent to launch activity.\n        PendingIntent activityPendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, TripMapsActivity.class), 0);\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this)\n                .addAction(R.drawable.dl_thumb, &quot;Open Trip&quot;, activityPendingIntent)\n                .addAction(R.drawable.dl_back, &quot;End Trip&quot;, servicePendingIntent)\n                .setContentText(&quot;Trip started&quot;)\n                .setOngoing(true)\n                .setSound(null)\n                .setSilent(true)\n                .setPriority(Notification.PRIORITY_HIGH)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setTicker(&quot;setTicker&quot;)\n                .setWhen(System.currentTimeMillis());\n\n        // Set the Channel ID for Android O.\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            builder.setChannelId(CHANNEL_ID); // Channel ID\n        }\n\n        return builder.build();\n    }\n\n\n    public class LocalBinder extends Binder {\n        public LocationUpdatesService getService() {\n            return LocationUpdatesService.this;\n        }\n    }\n\n \n\n    private void startTimer() {\n        timer.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                count += 1;\n                if (count &gt; 16 * 60 * 60) {\n                    new DbHelper(LocationUpdatesService.this).updateTripEnd();\n                    removeLocationUpdates();\n                    stopSelf();\n                    if (!serviceIsRunningInForeground(LocationUpdatesService.this)) {\n                        tripEndBroadcast();\n                    }\n                }\n//                if (!serviceIsRunningInForeground(LocationUpdatesService.this)) {\n//                    updateTimer(count);\n//                }else {\n//                    Log.d(TAG, &quot;run: &quot;+count);\n//                }\n                updateTimer(count);\n\n            }\n        }, 0, 1000);\n    }\n\n    private void stopTimer() {\n        if (timer != null) {\n            count = 0;\n            distance = 0;\n            data.clear();\n            timer.cancel();\n            timer.purge();\n            timer = null;\n        }\n    }\n}\n</code></pre>\n<p>I created this service for getting location in background and foreground . issue i am facing is when i reboot my phone and internet is not available my map doesnot load and it didnot give me my location update even if gps is on`</p>\n"},{"tags":["java","multithreading","scheduled-tasks","cancellation"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685153771,"post_id":76344633,"comment_id":134625990,"body_markdown":"Oracle offers a great documentation on threading.  [Lesson: Concurrency (The Java™ Tutorials &gt; Essential Java Classes)](https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html).  And, more specifically, _[Executor Interfaces (The Java™ Tutorials &gt; Essential Java Classes &gt; Concurrency](https://docs.oracle.com/javase/tutorial/essential/concurrency/exinter.html)_.","body":"Oracle offers a great documentation on threading.  <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html\" rel=\"nofollow noreferrer\">Lesson: Concurrency (The Java™ Tutorials &gt; Essential Java Classes)</a>.  And, more specifically, <i><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/exinter.html\" rel=\"nofollow noreferrer\">Executor Interfaces (The Java™ Tutorials &gt; Essential Java Classes &gt; Concurrency</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":8400492,"reputation":120,"user_id":6305882,"display_name":"David Rosario"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1685151292,"creation_date":1685144069,"answer_id":76344723,"question_id":76344633,"body_markdown":"You&#39;re on the right track; you can definitely do this with ExecutorService. You can use `awaitTermination()` with a timeout, check if the threads have completed with `isTerminated()` (after `shutdown()`), and request to terminate any threads that have not terminated.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html","title":"How do I run a Java thread at an interval and cancel it if it exceeds a time limit?","body":"<p>You're on the right track; you can definitely do this with ExecutorService. You can use <code>awaitTermination()</code> with a timeout, check if the threads have completed with <code>isTerminated()</code> (after <code>shutdown()</code>), and request to terminate any threads that have not terminated.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685168435,"creation_date":1685151387,"answer_id":76345026,"question_id":76344633,"body_markdown":"# `ScheduledExecutorService`\r\n\r\n&gt;have a Thread execute at a certain interval of time (e.g. 10 seconds)\r\n\r\n**You can.** \r\n\r\nUse a [`ScheduledExecutorService`][1] to repeatedly execute a task at a specified period of time. \r\n\r\nThis has been covered extensively on Stack Overflow. Search to learn more.  \r\n\r\n# Forcibly halt a thread\r\n\r\n&gt;have it cancelled at a certain time if it overruns a time limit (e.g. 5 seconds). \r\n\r\n**You cannot.** \r\n\r\nJava provides no way to forcibly halt the execution of a thread. \r\n\r\nJava concurrency allows only for cooperative cancellation. You can signal your intention for another thread to halt by “interrupting”. But this interrupt attempt merely sets a flag, and wakes the thread if sleeping. The task must be coded to regularly look for the interrupt flag. If flag is set, the task must be coded to then &#128073; end its own execution. \r\n\r\nThis too has been covered extensively on Stack Overflow. Search to learn more.  \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html","title":"How do I run a Java thread at an interval and cancel it if it exceeds a time limit?","body":"<h1><code>ScheduledExecutorService</code></h1>\n<blockquote>\n<p>have a Thread execute at a certain interval of time (e.g. 10 seconds)</p>\n</blockquote>\n<p><strong>You can.</strong></p>\n<p>Use a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> to repeatedly execute a task at a specified period of time.</p>\n<p>This has been covered extensively on Stack Overflow. Search to learn more.</p>\n<h1>Forcibly halt a thread</h1>\n<blockquote>\n<p>have it cancelled at a certain time if it overruns a time limit (e.g. 5 seconds).</p>\n</blockquote>\n<p><strong>You cannot.</strong></p>\n<p>Java provides no way to forcibly halt the execution of a thread.</p>\n<p>Java concurrency allows only for cooperative cancellation. You can signal your intention for another thread to halt by “interrupting”. But this interrupt attempt merely sets a flag, and wakes the thread if sleeping. The task must be coded to regularly look for the interrupt flag. If flag is set, the task must be coded to then 👉 end its own execution.</p>\n<p>This too has been covered extensively on Stack Overflow. Search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685155325,"creation_date":1685155325,"answer_id":76345127,"question_id":76344633,"body_markdown":"First read this post:\r\n\r\nhttps://stackoverflow.com/questions/20691933/how-do-i-interrupt-a-thread-given-a-future-object/62439075#62439075\r\n\r\n\r\nThe main thing you need to make sure of is that your threads **act responsibly** when the thread is interrupted.\r\n\r\n\r\nIn other words, your code&#39;s responsibility is to be ready for any interruptions. I&#39;d go so far to say that whenever you have a long running task, that you insert some interrupt ready code like this:\r\n\r\n```java\r\nwhile (... something long...) {\r\n\r\n     ... do something long\r\n\r\n     if (Thread.interrupted()) {\r\n         ... stop doing what I&#39;m doing...\r\n     }\r\n}\r\n```\r\n\r\nIf your code checks for `Thread.interrupted` frequently and if it handles InterruptedExceptions correctly (ie. it stops the thread loop) like this:\r\n\r\n```\r\nprivate void someMethodDeepDown() {\r\n    while (.. long running task .. ) {\r\n          try {\r\n              ... do lots of work ...\r\n    \r\n          // or just let it propagate up!\r\n          } catch (InterruptedException e) {\r\n             // oh no! an interrupt! \r\n             Thread.currentThread().interrupt();\r\n             throw new StopTheThreadRuntimeException(...);\r\n          }\r\n     }\r\n}\r\n```\r\n\r\nThen that will make your threads interruptible. And then it&#39;s just a matter of tracking each thread, and when it exceeds its allotted time you can call Thread.interrupt() and it will die.\r\n\r\n**Big Caveat**\r\n\r\nUnfortunately, there are many libraries that don&#39;t handle InterruptedException correctly, by just suppressing it, or not checking for Thread.interrupted() in long running tasks. \r\n\r\nSo there&#39;s no guarantee your thread will die quickly unless you have full control of the thread&#39;s code.","title":"How do I run a Java thread at an interval and cancel it if it exceeds a time limit?","body":"<p>First read this post:</p>\n<p><a href=\"https://stackoverflow.com/questions/20691933/how-do-i-interrupt-a-thread-given-a-future-object/62439075#62439075\">How do I interrupt a thread given a Future object?</a></p>\n<p>The main thing you need to make sure of is that your threads <strong>act responsibly</strong> when the thread is interrupted.</p>\n<p>In other words, your code's responsibility is to be ready for any interruptions. I'd go so far to say that whenever you have a long running task, that you insert some interrupt ready code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (... something long...) {\n\n     ... do something long\n\n     if (Thread.interrupted()) {\n         ... stop doing what I'm doing...\n     }\n}\n</code></pre>\n<p>If your code checks for <code>Thread.interrupted</code> frequently and if it handles InterruptedExceptions correctly (ie. it stops the thread loop) like this:</p>\n<pre><code>private void someMethodDeepDown() {\n    while (.. long running task .. ) {\n          try {\n              ... do lots of work ...\n    \n          // or just let it propagate up!\n          } catch (InterruptedException e) {\n             // oh no! an interrupt! \n             Thread.currentThread().interrupt();\n             throw new StopTheThreadRuntimeException(...);\n          }\n     }\n}\n</code></pre>\n<p>Then that will make your threads interruptible. And then it's just a matter of tracking each thread, and when it exceeds its allotted time you can call Thread.interrupt() and it will die.</p>\n<p><strong>Big Caveat</strong></p>\n<p>Unfortunately, there are many libraries that don't handle InterruptedException correctly, by just suppressing it, or not checking for Thread.interrupted() in long running tasks.</p>\n<p>So there's no guarantee your thread will die quickly unless you have full control of the thread's code.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685159637,"creation_date":1685157648,"answer_id":76345204,"question_id":76344633,"body_markdown":"If you have a basic task, this might be a pattern you can adapt and apply to a _[ScheduledExecutorService](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html)_.\r\n\r\nFor a comprehensive tutorial on concurrency, see the following.  \r\n[Lesson: Concurrency (The Java&amp;trade; Tutorials &amp;gt; Essential Java Classes)](https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html)\r\n\r\nIt involves a parent thread that will interrupt its sub-thread after a specified amount of time.\r\n\r\nYou can use the _[Thread#join](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#join(long))_ method to have the calling thread wait a specified amount of time before continuing its execution.\r\n\r\nConsider the following class, _ThreadA_.  \r\nFor demonstration purposes, I&#39;m going to use _Thread#sleep_ to simulate some sort of computation.\r\n\r\n```java\r\nclass ThreadA extends Thread {\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            Thread.sleep(2000);\r\n            System.out.println(&quot;thread-A completed&quot;);\r\n        } catch (InterruptedException exception) {\r\n            System.out.println(&quot;thread-A interrupted&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn total, _ThreadA_ is going to take 2 seconds to complete, printing _&quot;thread-A completed&quot;_ to the standard-out.\r\n\r\nFrom our parent thread, we can instantiate this thread, and have the parent thread wait for a specified amount of time before continuing.\r\n\r\nWe&#39;ll start the thread by calling the _[Thread#start](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#start())_ method.  \r\nAdditionally, we&#39;ll call _Thread#join_ and specify the amount of time to wait before returning, in this case _1,000_ milliseconds.  \r\nFinally, upon return, we&#39;ll make a call to _[Thread#interrupt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#interrupt())_, notifying the thread to terminate its execution.\r\n\r\n```java\r\nThreadA threadA = new ThreadA();\r\nthreadA.start();\r\nthreadA.join(1000);\r\nthreadA.interrupt();\r\nSystem.out.println(&quot;parent thread completed&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nparent thread completed\r\nthread-A interrupted\r\n```\r\n\r\nAs an example, if we increased our _join_ time to _2,500_, we&#39;ll get the following.\r\n\r\n```none\r\nthread-A completed\r\nparent thread completed\r\n```","title":"How do I run a Java thread at an interval and cancel it if it exceeds a time limit?","body":"<p>If you have a basic task, this might be a pattern you can adapt and apply to a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a></em>.</p>\n<p>For a comprehensive tutorial on concurrency, see the following.<br />\n<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html\" rel=\"nofollow noreferrer\">Lesson: Concurrency (The Java™ Tutorials &gt; Essential Java Classes)</a></p>\n<p>It involves a parent thread that will interrupt its sub-thread after a specified amount of time.</p>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#join(long)\" rel=\"nofollow noreferrer\">Thread#join</a></em> method to have the calling thread wait a specified amount of time before continuing its execution.</p>\n<p>Consider the following class, <em>ThreadA</em>.<br />\nFor demonstration purposes, I'm going to use <em>Thread#sleep</em> to simulate some sort of computation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ThreadA extends Thread {\n    @Override\n    public void run() {\n        try {\n            Thread.sleep(2000);\n            System.out.println(&quot;thread-A completed&quot;);\n        } catch (InterruptedException exception) {\n            System.out.println(&quot;thread-A interrupted&quot;);\n        }\n    }\n}\n</code></pre>\n<p>In total, <em>ThreadA</em> is going to take 2 seconds to complete, printing <em>&quot;thread-A completed&quot;</em> to the standard-out.</p>\n<p>From our parent thread, we can instantiate this thread, and have the parent thread wait for a specified amount of time before continuing.</p>\n<p>We'll start the thread by calling the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#start()\" rel=\"nofollow noreferrer\">Thread#start</a></em> method.<br />\nAdditionally, we'll call <em>Thread#join</em> and specify the amount of time to wait before returning, in this case <em>1,000</em> milliseconds.<br />\nFinally, upon return, we'll make a call to <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#interrupt()\" rel=\"nofollow noreferrer\">Thread#interrupt</a></em>, notifying the thread to terminate its execution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ThreadA threadA = new ThreadA();\nthreadA.start();\nthreadA.join(1000);\nthreadA.interrupt();\nSystem.out.println(&quot;parent thread completed&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>parent thread completed\nthread-A interrupted\n</code></pre>\n<p>As an example, if we increased our <em>join</em> time to <em>2,500</em>, we'll get the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>thread-A completed\nparent thread completed\n</code></pre>\n"}],"owner":{"account_id":26834339,"reputation":53,"user_id":20421822,"display_name":"Jelatinone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"closed_date":1685189617,"answer_count":4,"score":0,"last_activity_date":1685168435,"creation_date":1685142358,"question_id":76344633,"body_markdown":"I&#39;m trying to design a system by which I can have a Thread execute at a certain interval of time (e.g. 10 seconds), and also have it cancelled at a certain time if it overruns a time limit (e.g. 5 seconds). Maybe this isn&#39;t the right way to do what i&#39;m looking for but id like some help nonetheless.\r\n\r\nI thought about using the `ExectuorService` to perform this, but will I run into problems with it?","title":"How do I run a Java thread at an interval and cancel it if it exceeds a time limit?","body":"<p>I'm trying to design a system by which I can have a Thread execute at a certain interval of time (e.g. 10 seconds), and also have it cancelled at a certain time if it overruns a time limit (e.g. 5 seconds). Maybe this isn't the right way to do what i'm looking for but id like some help nonetheless.</p>\n<p>I thought about using the <code>ExectuorService</code> to perform this, but will I run into problems with it?</p>\n"},{"tags":["java","inheritance"],"answers":[{"tags":[],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685167154,"creation_date":1685167154,"answer_id":76345536,"question_id":76345514,"body_markdown":"It&#39;s because your `Builder` in the abstract parent is `protected`. As a result, it is not accessible by classes that do not extend it, including your test class. I suggest you change the `protected` modifer to `public`. It resolves the issue\r\n```java\r\npublic abstract class AbstractGetCommentExpectationTester implements ExpectationTester {\r\n// ...\r\npublic abstract static class Builder {\r\n```","title":"&quot;Cannot access [abstract method] in [abstract parent]&quot;","body":"<p>It's because your <code>Builder</code> in the abstract parent is <code>protected</code>. As a result, it is not accessible by classes that do not extend it, including your test class. I suggest you change the <code>protected</code> modifer to <code>public</code>. It resolves the issue</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractGetCommentExpectationTester implements ExpectationTester {\n// ...\npublic abstract static class Builder {\n</code></pre>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76345536,"answer_count":1,"score":1,"last_activity_date":1685167154,"creation_date":1685166668,"question_id":76345514,"body_markdown":"Consider this code\r\n```java\r\npublic interface ExpectationTester {\r\n    void test() throws JsonProcessingException;\r\n}\r\n```\r\n```java\r\npublic abstract class AbstractGetCommentExpectationTester implements ExpectationTester {\r\n    protected final String serializedResponseBody;\r\n    protected final String expectedCommentText;\r\n    protected final int expectedQuestionId;\r\n    protected final int expectedOwnerId;\r\n    protected final String expectedOwnerUsername;\r\n    protected final ObjectMapper objectMapper;\r\n    protected AbstractGetCommentExpectationTester(Builder builder) {\r\n        this.serializedResponseBody = builder.serializedResponseBody;\r\n        this.expectedOwnerId = builder.expectedOwnerId;\r\n        this.expectedOwnerUsername = builder.expectedOwnerUsername;\r\n        this.expectedQuestionId = builder.expectedQuestionId;\r\n        this.expectedCommentText = builder.expectedCommentText;\r\n        this.objectMapper = new ObjectMapper();\r\n    }\r\n    public abstract void test() throws JsonProcessingException;\r\n    protected abstract static class Builder {\r\n        protected final String serializedResponseBody;\r\n        protected String expectedCommentText = &quot;text&quot;;\r\n        protected int expectedQuestionId = 1;\r\n        protected int expectedOwnerId = 1;\r\n        protected String expectedOwnerUsername = &quot;user&quot;;\r\n        protected Builder(MockHttpServletResponse response) throws UnsupportedEncodingException {\r\n            this.serializedResponseBody = response.getContentAsString();\r\n        }\r\n        public Builder setExpectedOwnerUsername(String expectedOwnerUsername) {\r\n            this.expectedOwnerUsername = expectedOwnerUsername;\r\n            return this;\r\n        }\r\n        public Builder setExpectedOwnerId(int expectedOwnerId) {\r\n            this.expectedOwnerId = expectedOwnerId;\r\n            return this;\r\n        }\r\n        public Builder setExpectedQuestionId(int expectedQuestionId) {\r\n            this.expectedQuestionId = expectedQuestionId;\r\n            return this;\r\n        }\r\n        public Builder setExpectedCommentText(String expectedCommentText) {\r\n            this.expectedCommentText = expectedCommentText;\r\n            return this;\r\n        }\r\n        public abstract AbstractGetCommentExpectationTester build();\r\n    }\r\n}\r\n```\r\n```java\r\n// one of the two descendants\r\npublic class GetCommentExpectationTester extends AbstractGetCommentExpectationTester {\r\n    public GetCommentExpectationTester(Builder builder) {\r\n        super(builder);\r\n    }\r\n    @Override\r\n    public void test() throws JsonProcessingException {\r\n        Data&lt;QuestionCommentResponseDto&gt; deserializedResponseBody =\r\n                objectMapper.readValue(serializedResponseBody, Data.class);\r\n        assertNotNull(deserializedResponseBody.getData());\r\n        QuestionCommentResponseDto dto = deserializedResponseBody.getData();\r\n        assertEquals(expectedQuestionId, dto.getQuestionId());\r\n        assertEquals(expectedCommentText, dto.getText());\r\n        assertNotNull(dto.getOwner());\r\n\r\n        AccountResponseDto owner = dto.getOwner();\r\n        assertEquals(expectedOwnerId, owner.getId());\r\n        assertEquals(expectedOwnerUsername, owner.getUsername());\r\n    }\r\n    public static class Builder extends AbstractGetCommentExpectationTester.Builder {\r\n        public Builder(MockHttpServletResponse response) throws UnsupportedEncodingException {\r\n            super(response);\r\n        }\r\n        @Override\r\n        public GetCommentExpectationTester build() {\r\n            return new GetCommentExpectationTester(this);\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\n@Test\r\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;)\r\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\r\n    public void getCommentTest() throws Exception {\r\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\r\n                        .header(HttpHeaders.AUTHORIZATION, token))\r\n                .andExpect(status().isOk())\r\n                .andReturn()\r\n                .getResponse();\r\n\r\n        expectationTester = new GetCommentExpectationTester.Builder(response)\r\n                .setExpectedOwnerUsername(&quot;mickey&quot;)\r\n                .build(); // this line is problematic\r\n\r\n        expectationTester.test();\r\n    }\r\n```\r\nAs you can see, I use a simple hierarchy to reduce code duplication in my test methods. The base parent class has a nested abstract builder that, in turn, has an abstract `build()` method. The problem is I can&#39;t call it, and the error message in not very informative to me\r\n\r\n**Why can&#39;t I call the `build()` method inherited from the abstract parent?**\r\n\r\n&gt; Cannot access &#39;build()&#39; in &#39;stack.overflow.controller.expectationTesters.AbstractGetCommentExpectationTester.Builder&#39;","title":"&quot;Cannot access [abstract method] in [abstract parent]&quot;","body":"<p>Consider this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ExpectationTester {\n    void test() throws JsonProcessingException;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractGetCommentExpectationTester implements ExpectationTester {\n    protected final String serializedResponseBody;\n    protected final String expectedCommentText;\n    protected final int expectedQuestionId;\n    protected final int expectedOwnerId;\n    protected final String expectedOwnerUsername;\n    protected final ObjectMapper objectMapper;\n    protected AbstractGetCommentExpectationTester(Builder builder) {\n        this.serializedResponseBody = builder.serializedResponseBody;\n        this.expectedOwnerId = builder.expectedOwnerId;\n        this.expectedOwnerUsername = builder.expectedOwnerUsername;\n        this.expectedQuestionId = builder.expectedQuestionId;\n        this.expectedCommentText = builder.expectedCommentText;\n        this.objectMapper = new ObjectMapper();\n    }\n    public abstract void test() throws JsonProcessingException;\n    protected abstract static class Builder {\n        protected final String serializedResponseBody;\n        protected String expectedCommentText = &quot;text&quot;;\n        protected int expectedQuestionId = 1;\n        protected int expectedOwnerId = 1;\n        protected String expectedOwnerUsername = &quot;user&quot;;\n        protected Builder(MockHttpServletResponse response) throws UnsupportedEncodingException {\n            this.serializedResponseBody = response.getContentAsString();\n        }\n        public Builder setExpectedOwnerUsername(String expectedOwnerUsername) {\n            this.expectedOwnerUsername = expectedOwnerUsername;\n            return this;\n        }\n        public Builder setExpectedOwnerId(int expectedOwnerId) {\n            this.expectedOwnerId = expectedOwnerId;\n            return this;\n        }\n        public Builder setExpectedQuestionId(int expectedQuestionId) {\n            this.expectedQuestionId = expectedQuestionId;\n            return this;\n        }\n        public Builder setExpectedCommentText(String expectedCommentText) {\n            this.expectedCommentText = expectedCommentText;\n            return this;\n        }\n        public abstract AbstractGetCommentExpectationTester build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// one of the two descendants\npublic class GetCommentExpectationTester extends AbstractGetCommentExpectationTester {\n    public GetCommentExpectationTester(Builder builder) {\n        super(builder);\n    }\n    @Override\n    public void test() throws JsonProcessingException {\n        Data&lt;QuestionCommentResponseDto&gt; deserializedResponseBody =\n                objectMapper.readValue(serializedResponseBody, Data.class);\n        assertNotNull(deserializedResponseBody.getData());\n        QuestionCommentResponseDto dto = deserializedResponseBody.getData();\n        assertEquals(expectedQuestionId, dto.getQuestionId());\n        assertEquals(expectedCommentText, dto.getText());\n        assertNotNull(dto.getOwner());\n\n        AccountResponseDto owner = dto.getOwner();\n        assertEquals(expectedOwnerId, owner.getId());\n        assertEquals(expectedOwnerUsername, owner.getUsername());\n    }\n    public static class Builder extends AbstractGetCommentExpectationTester.Builder {\n        public Builder(MockHttpServletResponse response) throws UnsupportedEncodingException {\n            super(response);\n        }\n        @Override\n        public GetCommentExpectationTester build() {\n            return new GetCommentExpectationTester(this);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;)\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\n    public void getCommentTest() throws Exception {\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\n                        .header(HttpHeaders.AUTHORIZATION, token))\n                .andExpect(status().isOk())\n                .andReturn()\n                .getResponse();\n\n        expectationTester = new GetCommentExpectationTester.Builder(response)\n                .setExpectedOwnerUsername(&quot;mickey&quot;)\n                .build(); // this line is problematic\n\n        expectationTester.test();\n    }\n</code></pre>\n<p>As you can see, I use a simple hierarchy to reduce code duplication in my test methods. The base parent class has a nested abstract builder that, in turn, has an abstract <code>build()</code> method. The problem is I can't call it, and the error message in not very informative to me</p>\n<p><strong>Why can't I call the <code>build()</code> method inherited from the abstract parent?</strong></p>\n<blockquote>\n<p>Cannot access 'build()' in 'stack.overflow.controller.expectationTesters.AbstractGetCommentExpectationTester.Builder'</p>\n</blockquote>\n"},{"tags":["java","math","iteration","spherical-coordinate"],"comments":[{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1672997059,"post_id":75025938,"comment_id":132403143,"body_markdown":"doing this with concentric squares is easy, but concentric spheres are problem because if you render voxelized sphere of radius `r` and `r+1` they will most likely share some voxels (that have distances between `r` and `r+1` from center ... so iterating through radius is a problem as with increasing `r` the step will be finer and finer (much less then 1) so how to handle that? You might compute all the combinations of integer coordinate distances between `r` and `r+1` ... now how to deal with continuity of points between neighboring spheres ? zig zag order of layers? what patter you aim for?","body":"doing this with concentric squares is easy, but concentric spheres are problem because if you render voxelized sphere of radius <code>r</code> and <code>r+1</code> they will most likely share some voxels (that have distances between <code>r</code> and <code>r+1</code> from center ... so iterating through radius is a problem as with increasing <code>r</code> the step will be finer and finer (much less then 1) so how to handle that? You might compute all the combinations of integer coordinate distances between <code>r</code> and <code>r+1</code> ... now how to deal with continuity of points between neighboring spheres ? zig zag order of layers? what patter you aim for?"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1672997128,"post_id":75025938,"comment_id":132403160,"body_markdown":"however putting all this together will be probably really slooooow without &quot;huge&quot; LUTs ... You might also round down or up the radiuses to ease up a bit however that would lead to holes in spheres which is not known if desired?","body":"however putting all this together will be probably really slooooow without &quot;huge&quot; LUTs ... You might also round down or up the radiuses to ease up a bit however that would lead to holes in spheres which is not known if desired?"},{"owner":{"account_id":8253333,"reputation":83,"user_id":6207231,"display_name":"klaytonme"},"score":0,"creation_date":1673053604,"post_id":75025938,"comment_id":132418520,"body_markdown":"I actually don&#39;t mind the overlap between shells as much because including those would be less of a waste of processing than trying to eliminate them. If I&#39;m fine with the overlap, how would I iterate each spherical shell?","body":"I actually don&#39;t mind the overlap between shells as much because including those would be less of a waste of processing than trying to eliminate them. If I&#39;m fine with the overlap, how would I iterate each spherical shell?"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1673079263,"post_id":75025938,"comment_id":132420910,"body_markdown":"for example similar to [Drawing 3D sphere in C/C++](https://stackoverflow.com/a/25135125/2521214) you just iterate in single direction in order: `r = &lt;0,???&gt;, x=&lt;-r,+r&gt;, y=&lt;-r,+r&gt;` and compute `z = sqrt(r*r-x*x-y*y)` or discard if `x*x+y*y&gt;r*r` and for each surface voxel `x,y,z` emit voxels `x,y,z` and `x,y,-z`   spherical coordinates would just slow and mess things (in higher radiuses due rounding) up if you want to consequent voxels to be neighboring each other then just iterate in zig-zag pattern. If youre interested in such approach comment me and I would bust up something simple in C++","body":"for example similar to <a href=\"https://stackoverflow.com/a/25135125/2521214\">Drawing 3D sphere in C/C++</a> you just iterate in single direction in order: <code>r = &lt;0,???&gt;, x=&lt;-r,+r&gt;, y=&lt;-r,+r&gt;</code> and compute <code>z = sqrt(r*r-x*x-y*y)</code> or discard if <code>x*x+y*y&gt;r*r</code> and for each surface voxel <code>x,y,z</code> emit voxels <code>x,y,z</code> and <code>x,y,-z</code>   spherical coordinates would just slow and mess things (in higher radiuses due rounding) up if you want to consequent voxels to be neighboring each other then just iterate in zig-zag pattern. If youre interested in such approach comment me and I would bust up something simple in C++"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1673079645,"post_id":75025938,"comment_id":132420953,"body_markdown":"you need only to handle the edge case once you hit near circumference of XY plane circle where might be more voxels in the same line instead of just `x,y,+z` and `x,y,-z` detecting such case need some more thinking but the output is just line between those two points (so one for loop through `z`)","body":"you need only to handle the edge case once you hit near circumference of XY plane circle where might be more voxels in the same line instead of just <code>x,y,+z</code> and <code>x,y,-z</code> detecting such case need some more thinking but the output is just line between those two points (so one for loop through <code>z</code>)"}],"answers":[{"tags":[],"owner":{"account_id":11730609,"reputation":36976,"user_id":8586227,"display_name":"Davis Herring"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685165749,"creation_date":1685165749,"answer_id":76345473,"question_id":75025938,"body_markdown":"This is an application for a [**priority queue**](https://docs.oracle.com/javase/9/docs/api/java/util/PriorityQueue.html) with (squared) radius as the priority.  Initialize it with the pair (0,(0,0,0)) and then, when dequeuing an element, consider each of its 3 neighbors with exactly one coordinate increased by 1.  For each of those, compute its squared radius and insert it into the queue if that is no greater than _r_&lt;sup&gt;2&lt;/sup&gt;.  Some neighbor of some visited point must have the next smallest radius, so every point will be visited in order.\r\n\r\nBy symmetry, you can emit (&amp;pm;_i_,&amp;pm;_j_,&amp;pm;_k_) every time you dequeue a point (producing 1, 2, 4, or 8 values depending on how many coordinates are 0); you can also add (_x_,_y_,_z_) then.  If you want to be even more sophisticated, you can require that _i_&amp;ge;_j_&amp;ge;_k_ as you generate points and then additionally **permute** them on output, producing 48 points from (3,2,1).\r\n\r\nIf you break radius ties with the coordinates themselves, remembering the last value emitted is sufficient to discard **duplicates** even for multiple points with the same radius like (6,5,1) and (7,3,2).  Each point is generated at most 3 times, so the number of duplicates is not excessive.","title":"Iterate Through Voxels in Spherical Volume from Center Out","body":"<p>This is an application for a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><strong>priority queue</strong></a> with (squared) radius as the priority.  Initialize it with the pair (0,(0,0,0)) and then, when dequeuing an element, consider each of its 3 neighbors with exactly one coordinate increased by 1.  For each of those, compute its squared radius and insert it into the queue if that is no greater than <em>r</em><sup>2</sup>.  Some neighbor of some visited point must have the next smallest radius, so every point will be visited in order.</p>\n<p>By symmetry, you can emit (±_i_,±_j_,±_k_) every time you dequeue a point (producing 1, 2, 4, or 8 values depending on how many coordinates are 0); you can also add (<em>x</em>,<em>y</em>,<em>z</em>) then.  If you want to be even more sophisticated, you can require that <em>i_≥_j_≥_k</em> as you generate points and then additionally <strong>permute</strong> them on output, producing 48 points from (3,2,1).</p>\n<p>If you break radius ties with the coordinates themselves, remembering the last value emitted is sufficient to discard <strong>duplicates</strong> even for multiple points with the same radius like (6,5,1) and (7,3,2).  Each point is generated at most 3 times, so the number of duplicates is not excessive.</p>\n"}],"owner":{"account_id":8253333,"reputation":83,"user_id":6207231,"display_name":"klaytonme"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685165749,"creation_date":1672966851,"question_id":75025938,"body_markdown":"I&#39;m not quite sure the best way to articulate this question, but I am trying to find a relatively simple way programmatically (in Java ideally, though theory is welcome too) to iterate through voxels one at a time starting from a center point and radiating out spherically. The idea is that I can specify a final radius (r) and starting coordinate &lt;x, y, z&gt; and at any given point in the process, the code will have iterated through each point within a radius that grows from 0 to r over the course of the function.\r\n\r\nTo be clear, I know how to search every coordinate in a spherical volume using spherical coordinates, but I don&#39;t know how to do it in the right order (starting from the center and moving outward.) Also, because it&#39;s voxels, I don&#39;t want to waste a bunch of time rounding iterations in the center just so the resolution can be complete on the outer surface. Ideally, each iteration should cover a new voxel and each voxel should be iterated exactly once (although I am open to compromise if that isn&#39;t possible).\r\n\r\nThanks for your help, let me know if I need to specify any further.","title":"Iterate Through Voxels in Spherical Volume from Center Out","body":"<p>I'm not quite sure the best way to articulate this question, but I am trying to find a relatively simple way programmatically (in Java ideally, though theory is welcome too) to iterate through voxels one at a time starting from a center point and radiating out spherically. The idea is that I can specify a final radius (r) and starting coordinate &lt;x, y, z&gt; and at any given point in the process, the code will have iterated through each point within a radius that grows from 0 to r over the course of the function.</p>\n<p>To be clear, I know how to search every coordinate in a spherical volume using spherical coordinates, but I don't know how to do it in the right order (starting from the center and moving outward.) Also, because it's voxels, I don't want to waste a bunch of time rounding iterations in the center just so the resolution can be complete on the outer surface. Ideally, each iteration should cover a new voxel and each voxel should be iterated exactly once (although I am open to compromise if that isn't possible).</p>\n<p>Thanks for your help, let me know if I need to specify any further.</p>\n"},{"tags":["java","android","kotlin","crash"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685112799,"post_id":76339189,"comment_id":134620659,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28684389,"reputation":1,"user_id":21964931,"display_name":"ki44321"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685165655,"creation_date":1685091133,"question_id":76339189,"body_markdown":"I have received a lot of crashes on Android 13, which I can not reproduce.\r\n\r\ntargetSdkVersion 33\r\n\r\ncompileSdkVersion 33\r\n\r\nI&#39;m using view binding.\r\n\r\n```\r\nException java.lang.RuntimeException: Unable to start activity ComponentInfo{com.app.my/com.app.my.ui.activities.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.widget.ContentFrameLayout.setDecorPadding(int, int, int, int)&#39; on a null object reference\r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3868)\r\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4010)\r\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:111)\r\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\r\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\r\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2466)\r\n  at android.os.Handler.dispatchMessage (Handler.java:106)\r\n  at android.os.Looper.loopOnce (Looper.java:240)\r\n  at android.os.Looper.loop (Looper.java:351)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8380)\r\n  at java.lang.reflect.Method.invoke\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\r\nCaused by java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.widget.ContentFrameLayout.setDecorPadding(int, int, int, int)&#39; on a null object reference\r\n  at androidx.appcompat.app.AppCompatDelegateImpl.applyFixedSizeWindow (AppCompatDelegateImpl.java:1109)\r\n  at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor (AppCompatDelegateImpl.java:903)\r\n  at androidx.appcompat.app.AppCompatDelegateImpl.setContentView (AppCompatDelegateImpl.java:763)\r\n  at androidx.appcompat.app.AppCompatActivity.setContentView (AppCompatActivity.java:203)\r\n  at com.app.my.ui.activities.MainActivity.initBinding (MainActivity.kt:794)\r\n  at com.app.core.ui.base.BaseActivity.onCreate (BaseActivity.kt:131)\r\n  at com.app.my.ui.activities.MainActivity.onCreate (MainActivity.kt:262)\r\n  at android.app.Activity.performCreate (Activity.java:8397)\r\n  at android.app.Activity.performCreate (Activity.java:8370)\r\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1403)\r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3841)\r\n```\r\n\r\n\r\n\r\n```\r\nFatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.app.my/com.app.my.ui.activities.MainActivity}: java.lang.IllegalStateException: AppCompat has already installed itself into the Window\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3822)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3968)\r\n       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n       at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2386)\r\n       at android.os.Handler.dispatchMessage(Handler.java:106)\r\n       at android.os.Looper.loopOnce(Looper.java:210)\r\n       at android.os.Looper.loop(Looper.java:299)\r\n       at android.app.ActivityThread.main(ActivityThread.java:8252)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:559)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:954)\r\n```\r\n\r\n\r\n```\r\nFatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.app.my/com.app.my.ui.activities.MainActivity}: java.lang.RuntimeException: Window couldn&#39;t find content container view\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4169)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)\r\n       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n       at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)\r\n       at android.os.Handler.dispatchMessage(Handler.java:106)\r\n       at android.os.Looper.loopOnce(Looper.java:226)\r\n       at android.os.Looper.loop(Looper.java:313)\r\n       at android.app.ActivityThread.main(ActivityThread.java:8757)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n```\r\n\r\n\r\nI tryed to reproduce, but not success.\r\nI tryed use window.decorView inside onCreate, as suggested, but crashes still present.","title":"Early crashes on Android 13","body":"<p>I have received a lot of crashes on Android 13, which I can not reproduce.</p>\n<p>targetSdkVersion 33</p>\n<p>compileSdkVersion 33</p>\n<p>I'm using view binding.</p>\n<pre><code>Exception java.lang.RuntimeException: Unable to start activity ComponentInfo{com.app.my/com.app.my.ui.activities.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.widget.ContentFrameLayout.setDecorPadding(int, int, int, int)' on a null object reference\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3868)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4010)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:111)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2466)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loopOnce (Looper.java:240)\n  at android.os.Looper.loop (Looper.java:351)\n  at android.app.ActivityThread.main (ActivityThread.java:8380)\n  at java.lang.reflect.Method.invoke\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\nCaused by java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.widget.ContentFrameLayout.setDecorPadding(int, int, int, int)' on a null object reference\n  at androidx.appcompat.app.AppCompatDelegateImpl.applyFixedSizeWindow (AppCompatDelegateImpl.java:1109)\n  at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor (AppCompatDelegateImpl.java:903)\n  at androidx.appcompat.app.AppCompatDelegateImpl.setContentView (AppCompatDelegateImpl.java:763)\n  at androidx.appcompat.app.AppCompatActivity.setContentView (AppCompatActivity.java:203)\n  at com.app.my.ui.activities.MainActivity.initBinding (MainActivity.kt:794)\n  at com.app.core.ui.base.BaseActivity.onCreate (BaseActivity.kt:131)\n  at com.app.my.ui.activities.MainActivity.onCreate (MainActivity.kt:262)\n  at android.app.Activity.performCreate (Activity.java:8397)\n  at android.app.Activity.performCreate (Activity.java:8370)\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1403)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3841)\n</code></pre>\n<pre><code>Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.app.my/com.app.my.ui.activities.MainActivity}: java.lang.IllegalStateException: AppCompat has already installed itself into the Window\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3822)\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3968)\n       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n       at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2386)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loopOnce(Looper.java:210)\n       at android.os.Looper.loop(Looper.java:299)\n       at android.app.ActivityThread.main(ActivityThread.java:8252)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:559)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:954)\n</code></pre>\n<pre><code>Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.app.my/com.app.my.ui.activities.MainActivity}: java.lang.RuntimeException: Window couldn't find content container view\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4169)\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)\n       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n       at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loopOnce(Looper.java:226)\n       at android.os.Looper.loop(Looper.java:313)\n       at android.app.ActivityThread.main(ActivityThread.java:8757)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\n</code></pre>\n<p>I tryed to reproduce, but not success.\nI tryed use window.decorView inside onCreate, as suggested, but crashes still present.</p>\n"},{"tags":["java","postgresql","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1557180808,"post_id":56012948,"comment_id":98670995,"body_markdown":"Did you add this library to the module dependencies? https://www.jetbrains.com/help/idea/creating-and-managing-modules.html#working-with-module-dependencies.","body":"Did you add this library to the module dependencies? <a href=\"https://www.jetbrains.com/help/idea/creating-and-managing-modules.html#working-with-module-dependencies\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>."},{"owner":{"account_id":5377954,"reputation":361,"user_id":4284179,"accept_rate":67,"display_name":"Willi"},"score":0,"creation_date":1557181442,"post_id":56012948,"comment_id":98671134,"body_markdown":"No, I hadn&#39;t. But adding it does not seem to make a difference. I added a screenshot in an update.","body":"No, I hadn&#39;t. But adding it does not seem to make a difference. I added a screenshot in an update."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1557181580,"post_id":56012948,"comment_id":98671167,"body_markdown":"Are you configuring/building your project with a tool such as Maven or Gradle?","body":"Are you configuring/building your project with a tool such as Maven or Gradle?"},{"owner":{"account_id":5377954,"reputation":361,"user_id":4284179,"accept_rate":67,"display_name":"Willi"},"score":0,"creation_date":1557182136,"post_id":56012948,"comment_id":98671295,"body_markdown":"No. I am simply using a plain Java project. All I am trying to do is read some data from some files and put it into the database. That&#39;s probably one class since the files are already structured.","body":"No. I am simply using a plain Java project. All I am trying to do is read some data from some files and put it into the database. That&#39;s probably one class since the files are already structured."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1557185939,"post_id":56012948,"comment_id":98671980,"body_markdown":"@Willi Please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"@Willi Please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}],"answers":[{"tags":[],"owner":{"account_id":13506446,"reputation":1137,"user_id":9744335,"display_name":"hce"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557187464,"creation_date":1557187060,"answer_id":56013789,"question_id":56012948,"body_markdown":"It seems like you are missing the postgres jar file in your project dependencies.\r\n\r\n - Open the Project Structure (Ctrl+Alt+Shift+S on Windows)\r\n - Select modules / dependencies tab\r\n - You should see something like the following:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf the postgres dependency is missing:\r\n\r\n - Klick on the + sign on the right side of the screenshot\r\n - Choose Library/Project Library and your postgres jar file\r\n\r\nYour code should now run. Let me know if it helps. \r\n\r\n**Note**: Please provide your minmal working code on GitHub for a quicker response. \r\n\r\n  [1]: https://i.stack.imgur.com/WUOwW.png","title":"IntelliJ - Problem connecting to PostgreSQL","body":"<p>It seems like you are missing the postgres jar file in your project dependencies.</p>\n\n<ul>\n<li>Open the Project Structure (Ctrl+Alt+Shift+S on Windows)</li>\n<li>Select modules / dependencies tab</li>\n<li>You should see something like the following:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/WUOwW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WUOwW.png\" alt=\"enter image description here\"></a></p>\n\n<p>If the postgres dependency is missing:</p>\n\n<ul>\n<li>Klick on the + sign on the right side of the screenshot</li>\n<li>Choose Library/Project Library and your postgres jar file</li>\n</ul>\n\n<p>Your code should now run. Let me know if it helps. </p>\n\n<p><strong>Note</strong>: Please provide your minmal working code on GitHub for a quicker response. </p>\n"},{"tags":[],"owner":{"account_id":5377954,"reputation":361,"user_id":4284179,"accept_rate":67,"display_name":"Willi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1557234844,"creation_date":1557223703,"answer_id":56020237,"question_id":56012948,"body_markdown":"The main problem was that I used a command line parameter as the database url without prefixing it with **`jdbc:postgresql://`**. Additionally, I had to reinstall postgresql because of some odd behavior I could not figure out the reason for.","title":"IntelliJ - Problem connecting to PostgreSQL","body":"<p>The main problem was that I used a command line parameter as the database url without prefixing it with <strong><code>jdbc:postgresql://</code></strong>. Additionally, I had to reinstall postgresql because of some odd behavior I could not figure out the reason for.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557235121,"creation_date":1557235121,"answer_id":56023572,"question_id":56012948,"body_markdown":"This is the message you get when the URL syntax is incorrect.  \r\n\r\n[This][1] is the requirement.\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/80/connect.html","title":"IntelliJ - Problem connecting to PostgreSQL","body":"<p>This is the message you get when the URL syntax is incorrect.  </p>\n\n<p><a href=\"https://jdbc.postgresql.org/documentation/80/connect.html\" rel=\"nofollow noreferrer\">This</a> is the requirement.</p>\n"},{"tags":[],"owner":{"account_id":10114466,"reputation":151,"user_id":7473616,"display_name":"Kiran Maharjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685164152,"creation_date":1685164152,"answer_id":76345402,"question_id":56012948,"body_markdown":"I realized I was using statis IP address, which prevented to access some url.\r\nChanging to automatic IP assign fixed it.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jaief.png","title":"IntelliJ - Problem connecting to PostgreSQL","body":"<p>I realized I was using statis IP address, which prevented to access some url.\nChanging to automatic IP assign fixed it.\n<a href=\"https://i.stack.imgur.com/jaief.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jaief.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5377954,"reputation":361,"user_id":4284179,"accept_rate":67,"display_name":"Willi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56020237,"answer_count":4,"score":0,"last_activity_date":1685164152,"creation_date":1557180117,"question_id":56012948,"body_markdown":"I am new to PostgreSQL (I normally use other database engines), and I also do not use Java often.\r\n\r\nMy Problem is that I get the following exception:\r\n\r\n    java.sql.SQLException: No suitable driver found for DATABASE_NAME\r\n     java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\r\n    \tat\r\n     java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\r\nI followed this tutorial: http://www.postgresqltutorial.com/postgresql-jdbc/connecting-to-postgresql-database/ and added postgresql-42.2.5.jar as a library.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe problem is that adding the driver as a library, as can be seen in the screenshot, has no effect.\r\n\r\nSo my question is: how do I connect to a PostgreSQL database using Java and the latest IntelliJ?\r\n\r\nAny help would be appreciated.\r\n\r\nUPDATE 1:\r\n[![enter image description here][2]][2]\r\n\r\nUPDATE 2:\r\nSince the code has been requested: I have replaced the original code by a minimal code that will cause the error:\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    public class IngestData\r\n    {\r\n        protected static String url;\r\n        protected static final String user = &quot;user&quot;;\r\n        protected static final String password = &quot;password&quot;;\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            Connection connection = null;\r\n            url = args[args.length-1];\r\n            try\r\n            {\r\n                connection = DriverManager.getConnection(url, user, password);\r\n                System.out.println(&quot;SUCCESS&quot;);\r\n    \r\n            } catch (SQLException e)\r\n            {\r\n                System.out.println(&quot;ERROR&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThe console output is:\r\n\r\n    ERROR\r\n    java.sql.SQLException: No suitable driver found for http://127.0.0.1:10282/db01617792\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n    \tat IngestData.main(IngestData.java:17)\r\n    \r\n    Process finished with exit code 0\r\n\r\nHere is the link to the git repository containing the code:\r\nhttps://github.com/ka6555/StackOverflow-Postgresql-Problem.git\r\n\r\nUPDATE 3:\r\nI found the error:\r\n\r\nI need to change \r\n\r\n    protected static String url;\r\n\r\nto\r\n\r\n    protected static String url = &quot;jdbc:postgresql://&quot;;\r\nand\r\n\r\n    url = args[args.length-1];\r\n\r\nto\r\n\r\n    url += args[args.length-1];\r\n\r\nWhile this solves my original problem, the program is now stuck executing the following line:\r\n\r\n    connection = DriverManager.getConnection(url, user, password);\r\nThere is no error but the program will simply run like with an endless loop never going beyond this code line.\r\n\r\nUPDATE 4:\r\nI have fixed all problems now.\r\n\r\n  [1]: https://i.stack.imgur.com/9ldVc.png\r\n  [2]: https://i.stack.imgur.com/xZAVh.png","title":"IntelliJ - Problem connecting to PostgreSQL","body":"<p>I am new to PostgreSQL (I normally use other database engines), and I also do not use Java often.</p>\n\n<p>My Problem is that I get the following exception:</p>\n\n<pre><code>java.sql.SQLException: No suitable driver found for DATABASE_NAME\n java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\n    at\n java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n</code></pre>\n\n<p>I followed this tutorial: <a href=\"http://www.postgresqltutorial.com/postgresql-jdbc/connecting-to-postgresql-database/\" rel=\"nofollow noreferrer\">http://www.postgresqltutorial.com/postgresql-jdbc/connecting-to-postgresql-database/</a> and added postgresql-42.2.5.jar as a library.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9ldVc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ldVc.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is that adding the driver as a library, as can be seen in the screenshot, has no effect.</p>\n\n<p>So my question is: how do I connect to a PostgreSQL database using Java and the latest IntelliJ?</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>UPDATE 1:\n<a href=\"https://i.stack.imgur.com/xZAVh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZAVh.png\" alt=\"enter image description here\"></a></p>\n\n<p>UPDATE 2:\nSince the code has been requested: I have replaced the original code by a minimal code that will cause the error:</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class IngestData\n{\n    protected static String url;\n    protected static final String user = \"user\";\n    protected static final String password = \"password\";\n\n    public static void main(String[] args)\n    {\n        Connection connection = null;\n        url = args[args.length-1];\n        try\n        {\n            connection = DriverManager.getConnection(url, user, password);\n            System.out.println(\"SUCCESS\");\n\n        } catch (SQLException e)\n        {\n            System.out.println(\"ERROR\");\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>The console output is:</p>\n\n<pre><code>ERROR\njava.sql.SQLException: No suitable driver found for http://127.0.0.1:10282/db01617792\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at IngestData.main(IngestData.java:17)\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>Here is the link to the git repository containing the code:\n<a href=\"https://github.com/ka6555/StackOverflow-Postgresql-Problem.git\" rel=\"nofollow noreferrer\">https://github.com/ka6555/StackOverflow-Postgresql-Problem.git</a></p>\n\n<p>UPDATE 3:\nI found the error:</p>\n\n<p>I need to change </p>\n\n<pre><code>protected static String url;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>protected static String url = \"jdbc:postgresql://\";\n</code></pre>\n\n<p>and</p>\n\n<pre><code>url = args[args.length-1];\n</code></pre>\n\n<p>to</p>\n\n<pre><code>url += args[args.length-1];\n</code></pre>\n\n<p>While this solves my original problem, the program is now stuck executing the following line:</p>\n\n<pre><code>connection = DriverManager.getConnection(url, user, password);\n</code></pre>\n\n<p>There is no error but the program will simply run like with an endless loop never going beyond this code line.</p>\n\n<p>UPDATE 4:\nI have fixed all problems now.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data","thymeleaf"],"comments":[{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1685127795,"post_id":76343498,"comment_id":134623333,"body_markdown":"Using `@Transactional` annotation may fix the issue, [read this article](https://www.baeldung.com/transaction-configuration-with-jpa-and-spring)","body":"Using <code>@Transactional</code> annotation may fix the issue, <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">read this article</a>"}],"answers":[{"tags":[],"owner":{"account_id":15171047,"reputation":11,"user_id":21967010,"display_name":"Archil Odishelidze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685126854,"creation_date":1685126854,"answer_id":76343528,"question_id":76343498,"body_markdown":"    @DeleteMapping(&quot;{id}&quot;)\r\n    public ResponseEntity&lt;HttpStatus&gt; deleteEmployee(@PathVariable long id){\r\n        Employee employee = employeeRepository.findById(id)\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not exist id: &quot;+id));\r\n        employeeRepository.delete(employee);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\nyou can use example from this code","title":"Spring Boot/JPA - How i can delete a record from database with DeleteMapping?","body":"<pre><code>@DeleteMapping(&quot;{id}&quot;)\npublic ResponseEntity&lt;HttpStatus&gt; deleteEmployee(@PathVariable long id){\n    Employee employee = employeeRepository.findById(id)\n            .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not exist id: &quot;+id));\n    employeeRepository.delete(employee);\n    return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n}\n</code></pre>\n<p>you can use example from this code</p>\n"},{"tags":[],"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685131239,"creation_date":1685131239,"answer_id":76343916,"question_id":76343498,"body_markdown":"The error is really self-descriptive. It says that ***Message Method &#39;GET&#39; is not supported.*** This indicates that you are potentially trying to execute a GET request, but the `GET` endpoint is not registered... And indeed, that is the case, because of this line:\r\n\r\n    &lt;a th:href=&quot;@{/delete/{idUser}(idUser=${user.idUser})}&quot;&gt;Delete user&lt;/a&gt;\r\n\r\nThis will execute the GET request and fail with `405`. The solution would be simple, try executing the `DELETE` request instead of `GET` and it should work then.\r\n\r\nThe other (not optimal) solution would be to change `@DeleteMapping` to `@GetMapping`, which should also work (but goes against REST principles!!).","title":"Spring Boot/JPA - How i can delete a record from database with DeleteMapping?","body":"<p>The error is really self-descriptive. It says that <em><strong>Message Method 'GET' is not supported.</strong></em> This indicates that you are potentially trying to execute a GET request, but the <code>GET</code> endpoint is not registered... And indeed, that is the case, because of this line:</p>\n<pre><code>&lt;a th:href=&quot;@{/delete/{idUser}(idUser=${user.idUser})}&quot;&gt;Delete user&lt;/a&gt;\n</code></pre>\n<p>This will execute the GET request and fail with <code>405</code>. The solution would be simple, try executing the <code>DELETE</code> request instead of <code>GET</code> and it should work then.</p>\n<p>The other (not optimal) solution would be to change <code>@DeleteMapping</code> to <code>@GetMapping</code>, which should also work (but goes against REST principles!!).</p>\n"},{"tags":[],"owner":{"account_id":18903887,"reputation":51,"user_id":13791411,"display_name":"siddhartha agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685161335,"creation_date":1685161335,"answer_id":76345303,"question_id":76343498,"body_markdown":"The error you&#39;re encountering indicates that the method &#39;GET&#39; is not supported for the URL you&#39;re accessing. `The reason for this is that by default, HTML links (anchor tags) use the &#39;GET&#39; method when clicked`. However, your Spring controller method is mapped to handle the &#39;DELETE&#39; method.\r\n\r\nTo resolve this issue, you can change your approach and `use JavaScript to send a &#39;DELETE&#39; request instead` of relying on a link. Here&#39;s an example of how you can modify your code to achieve this:\r\n\r\nThymeleaf:\r\n```\r\n&lt;td&gt;\r\n    &lt;button onclick=&quot;deleteUser([[${user.idUser}]])&quot;&gt;Delete user&lt;/button&gt;\r\n&lt;/td&gt;\r\n```\r\n\r\nJavaScript:\r\n```\r\nfunction deleteUser(id) {\r\n    if (confirm(&quot;Are you sure you want to delete this user?&quot;)) {\r\n        fetch(&#39;/delete/&#39; + id, {\r\n            method: &#39;DELETE&#39;\r\n        })\r\n        .then(response =&gt; {\r\n            if (response.ok) {\r\n                window.location.href = &#39;/userList?success&#39;;\r\n            } else {\r\n                throw new Error(&#39;Error deleting user&#39;);\r\n            }\r\n        })\r\n        .catch(error =&gt; {\r\n            console.error(error);\r\n            // Handle error case\r\n        });\r\n    }\r\n}\r\n```\r\nController:\r\n\r\n```\r\n@DeleteMapping(&quot;/delete/{id}&quot;)\r\npublic ResponseEntity&lt;String&gt; deleteMailbox(@PathVariable(&quot;id&quot;) Long id) {\r\n    repo.deleteById(id);\r\n    return ResponseEntity.ok().build();\r\n}\r\n```\r\n\r\nBy using JavaScript and the fetch API, we can send a &#39;DELETE&#39; request to the server when the button is clicked. The fetch request is configured to send a &#39;DELETE&#39; method to the specified URL, and upon receiving a successful response, it redirects the user to the &#39;/userList?success&#39; page.\r\n\r\nAdditionally, the controller method returns a ResponseEntity with a status of 200 (OK) to indicate a successful deletion.\r\n\r\n**Note**: Make sure to include the JavaScript code in a &lt;script&gt; tag or an external JavaScript file within your HTML file.\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot/JPA - How i can delete a record from database with DeleteMapping?","body":"<p>The error you're encountering indicates that the method 'GET' is not supported for the URL you're accessing. <code>The reason for this is that by default, HTML links (anchor tags) use the 'GET' method when clicked</code>. However, your Spring controller method is mapped to handle the 'DELETE' method.</p>\n<p>To resolve this issue, you can change your approach and <code>use JavaScript to send a 'DELETE' request instead</code> of relying on a link. Here's an example of how you can modify your code to achieve this:</p>\n<p>Thymeleaf:</p>\n<pre><code>&lt;td&gt;\n    &lt;button onclick=&quot;deleteUser([[${user.idUser}]])&quot;&gt;Delete user&lt;/button&gt;\n&lt;/td&gt;\n</code></pre>\n<p>JavaScript:</p>\n<pre><code>function deleteUser(id) {\n    if (confirm(&quot;Are you sure you want to delete this user?&quot;)) {\n        fetch('/delete/' + id, {\n            method: 'DELETE'\n        })\n        .then(response =&gt; {\n            if (response.ok) {\n                window.location.href = '/userList?success';\n            } else {\n                throw new Error('Error deleting user');\n            }\n        })\n        .catch(error =&gt; {\n            console.error(error);\n            // Handle error case\n        });\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@DeleteMapping(&quot;/delete/{id}&quot;)\npublic ResponseEntity&lt;String&gt; deleteMailbox(@PathVariable(&quot;id&quot;) Long id) {\n    repo.deleteById(id);\n    return ResponseEntity.ok().build();\n}\n</code></pre>\n<p>By using JavaScript and the fetch API, we can send a 'DELETE' request to the server when the button is clicked. The fetch request is configured to send a 'DELETE' method to the specified URL, and upon receiving a successful response, it redirects the user to the '/userList?success' page.</p>\n<p>Additionally, the controller method returns a ResponseEntity with a status of 200 (OK) to indicate a successful deletion.</p>\n<p><strong>Note</strong>: Make sure to include the JavaScript code in a  tag or an external JavaScript file within your HTML file.</p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685163138,"creation_date":1685162727,"answer_id":76345347,"question_id":76343498,"body_markdown":"Spring WebMVC/WebFlux has built-in `HiddenHttpMethodFilter` to map a HTTP `POST` method in the pages(eg. JSPs, Freemarker, Thymeleaf, etc) to other HTTP methods(eps. `PUT` and `DELETE`) in the controller. It makes the traditional controller path and naming look like RESTful style.\r\n\r\n*All the following steps are based traditional Spring WebMvc.*\r\n\r\n1. Wrap the deletion link into a form, put a hidden `_method` field in the form, and set value to `DELETE`. The following is a JSP page fragment.\r\n\r\n   ```xml\r\n   &lt;p&gt;\r\n\t\t&lt;c:url var=&quot;deleteUrl&quot; value=&quot;/users/${user.id}&quot; /&gt;\r\n\t\t&lt;form action=&quot;${deleteUrl}&quot; method=&quot;post&quot;&gt;\r\n\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;DELETE&quot;&gt;&lt;/input&gt;\r\n\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-sm btn-danger&quot;&gt;\r\n\t\t\t\t&lt;span class=&quot;glyphicon glyphicon-trash&quot; aria-hidden=&quot;true&quot;&gt;&lt;jsp:text /&gt;&lt;/span&gt;\r\n\t\t\t\tDELETE\r\n\t\t\t&lt;/button&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;/p&gt;\r\n   ```\r\n\r\n2. Enable Spring built-in `HiddenHttpMethodFilter` to handle the hidden method. NOTE: Spring Boot users just need to add `spring.mvc.hiddenmethod.filter.enabled=true` to your *application.properties* to enable it.\r\n\r\n\r\n   ```java \r\n\t@Order(0)\r\n\tpublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n\r\n\t\t@Override\r\n\t\tprotected Filter[] getServletFilters() {\r\n\t\t\tHiddenHttpMethodFilter httpMethodFilter = new HiddenHttpMethodFilter();\r\n\t\t\t//....\r\n\r\n\t\t\treturn new Filter[] { httpMethodFilter, ... };\r\n\t\t}\r\n\r\n\t}\r\n\t```\r\n\r\n3. Then your controller `@DeleteMapping` will handle the deletion post in the page.","title":"Spring Boot/JPA - How i can delete a record from database with DeleteMapping?","body":"<p>Spring WebMVC/WebFlux has built-in <code>HiddenHttpMethodFilter</code> to map a HTTP <code>POST</code> method in the pages(eg. JSPs, Freemarker, Thymeleaf, etc) to other HTTP methods(eps. <code>PUT</code> and <code>DELETE</code>) in the controller. It makes the traditional controller path and naming look like RESTful style.</p>\n<p><em>All the following steps are based traditional Spring WebMvc.</em></p>\n<ol>\n<li><p>Wrap the deletion link into a form, put a hidden <code>_method</code> field in the form, and set value to <code>DELETE</code>. The following is a JSP page fragment.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;p&gt;\n     &lt;c:url var=&quot;deleteUrl&quot; value=&quot;/users/${user.id}&quot; /&gt;\n     &lt;form action=&quot;${deleteUrl}&quot; method=&quot;post&quot;&gt;\n         &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;DELETE&quot;&gt;&lt;/input&gt;\n         &lt;button type=&quot;submit&quot; class=&quot;btn btn-sm btn-danger&quot;&gt;\n             &lt;span class=&quot;glyphicon glyphicon-trash&quot; aria-hidden=&quot;true&quot;&gt;&lt;jsp:text /&gt;&lt;/span&gt;\n             DELETE\n         &lt;/button&gt;\n     &lt;/form&gt;\n &lt;/p&gt;\n</code></pre>\n</li>\n<li><p>Enable Spring built-in <code>HiddenHttpMethodFilter</code> to handle the hidden method. NOTE: Spring Boot users just need to add <code>spring.mvc.hiddenmethod.filter.enabled=true</code> to your <em>application.properties</em> to enable it.</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Order(0)\n public class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n\n     @Override\n     protected Filter[] getServletFilters() {\n         HiddenHttpMethodFilter httpMethodFilter = new HiddenHttpMethodFilter();\n         //....\n\n         return new Filter[] { httpMethodFilter, ... };\n     }\n\n }\n</code></pre>\n</li>\n<li><p>Then your controller <code>@DeleteMapping</code> will handle the deletion post in the page.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":21477997,"reputation":51,"user_id":15825902,"display_name":"Djorkaeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76343916,"answer_count":4,"score":0,"last_activity_date":1685163138,"creation_date":1685126535,"question_id":76343498,"body_markdown":"my problem is that I want to delete a record from the database by id by selecting a button, but when I click the button to delete the corresponding record with the parameter id I get this error:\r\n\r\n    &gt;     HTTP Status 405 – Method Not Allowed\r\n    &gt;     Type Status Report\r\n    &gt;     \r\n    &gt;     Message Method &#39;GET&#39; is not supported.\r\n    &gt;     \r\n    &gt;     Description The method received in the request-line is known by the origin server but not supported by the target resource.\r\n\r\nThis is my code:\r\n\r\nThymeleaf:\r\n\r\n    &lt;td&gt;\r\n       &lt;a th:href=&quot;@{/delete/{idUser}(idUser=${user.idUser})}&quot;&gt;Delete user&lt;/a&gt;\r\n    &lt;/td&gt;\r\n\r\nController:\r\n\r\n    @DeleteMapping(&quot;/delete/{id}&quot;)\r\n\tpublic String deleteMailbox(@PathVariable(&quot;id&quot;) Long id) {\r\n\t\trepo.deleteById(id);\r\n\t\treturn &quot;redirect:/userList?success&quot;;\r\n\t}\r\n\r\nRepository:\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n    }\r\n\r\nI don&#39;t know what I&#39;m doing wrong in my code, or if I forget a specific command or parameter, I would appreciate any help you can give me.","title":"Spring Boot/JPA - How i can delete a record from database with DeleteMapping?","body":"<p>my problem is that I want to delete a record from the database by id by selecting a button, but when I click the button to delete the corresponding record with the parameter id I get this error:</p>\n<pre><code>&gt;     HTTP Status 405 – Method Not Allowed\n&gt;     Type Status Report\n&gt;     \n&gt;     Message Method 'GET' is not supported.\n&gt;     \n&gt;     Description The method received in the request-line is known by the origin server but not supported by the target resource.\n</code></pre>\n<p>This is my code:</p>\n<p>Thymeleaf:</p>\n<pre><code>&lt;td&gt;\n   &lt;a th:href=&quot;@{/delete/{idUser}(idUser=${user.idUser})}&quot;&gt;Delete user&lt;/a&gt;\n&lt;/td&gt;\n</code></pre>\n<p>Controller:</p>\n<pre><code>@DeleteMapping(&quot;/delete/{id}&quot;)\npublic String deleteMailbox(@PathVariable(&quot;id&quot;) Long id) {\n    repo.deleteById(id);\n    return &quot;redirect:/userList?success&quot;;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n}\n</code></pre>\n<p>I don't know what I'm doing wrong in my code, or if I forget a specific command or parameter, I would appreciate any help you can give me.</p>\n"},{"tags":["java","android"],"owner":{"account_id":27408756,"reputation":1,"user_id":20908986,"display_name":"JOO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685162160,"creation_date":1685162160,"question_id":76345330,"body_markdown":"How should the marker display function be implemented? First of all, please understand that I am not good at English and I am a beginner in understanding Java code.\r\n\r\n\r\n\r\n```\r\npackage com.example.myapplication_wdd;\r\n\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.graphics.PointF;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.view.KeyEvent;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\n\r\nimport com.naver.maps.geometry.LatLng;\r\nimport com.naver.maps.map.CameraUpdate;\r\nimport com.naver.maps.map.LocationTrackingMode;\r\nimport com.naver.maps.map.MapFragment;\r\nimport com.naver.maps.map.NaverMap;\r\nimport com.naver.maps.map.OnMapReadyCallback;\r\nimport com.naver.maps.map.UiSettings;\r\nimport com.naver.maps.map.overlay.InfoWindow;\r\nimport com.naver.maps.map.overlay.Marker;\r\nimport com.naver.maps.map.overlay.Overlay;\r\nimport com.naver.maps.map.util.FusedLocationSource;\r\n\r\nimport org.xmlpull.v1.XmlPullParser;\r\nimport org.xmlpull.v1.XmlPullParserFactory;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.StringReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\npublic class Button1Activity extends FragmentActivity implements OnMapReadyCallback, Overlay.OnClickListener, NaverMap.OnCameraChangeListener, NaverMap.OnCameraIdleListener, NaverMap.OnMapClickListener {\r\n\r\n    NaverMap nMap;\r\n    private InfoWindow infoWindow;\r\n    private FusedLocationSource locationSource;\r\n\r\n\r\n    LatLng[] latlng = new LatLng[126];\r\n    private boolean isCameraAnimated = false;\r\n    private static final int LOCATION_PERMISSION_REQUEST_CODE = 1000;\r\n    private static final String[] PERMISSIONS = {\r\n            android.Manifest.permission.ACCESS_FINE_LOCATION,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION\r\n    };\r\n\r\n    TextView tv;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.button1);\r\n\r\n\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        MapFragment mapFragment = (MapFragment)fm.findFragmentById(R.id.map1);\r\n        if (mapFragment == null) {\r\n            fm.beginTransaction().add(R.id.map1, mapFragment).commit();\r\n        }\r\n        mapFragment.getMapAsync(this);\r\n        locationSource = new FusedLocationSource(this, LOCATION_PERMISSION_REQUEST_CODE);\r\n\r\n        tv = (TextView)findViewById(R.id.tv);\r\n    }\r\n\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        if (event.getAction() == KeyEvent.ACTION_DOWN) {\r\n            if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n                Intent intent = new Intent(this, MainActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n\r\n        }\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull NaverMap naverMap) {\r\n        nMap = naverMap;\r\n        naverMap.setMapType(NaverMap.MapType.Basic);\r\n\r\n\r\n//        LatLng latlng_center = new LatLng(37, 127);\r\n//        CameraUpdate cameraUpdate1 = CameraUpdate.scrollTo(latlng_center);\r\n//        naverMap.moveCamera(cameraUpdate1);\r\n\r\n\r\n        CameraUpdate cameraUpdate2 = CameraUpdate.zoomTo(13);\r\n        naverMap.moveCamera(cameraUpdate2);\r\n\r\n        this.nMap = naverMap;\r\n        naverMap.setLocationSource(locationSource); \r\n        ActivityCompat.requestPermissions(this, PERMISSIONS, LOCATION_PERMISSION_REQUEST_CODE);\r\n\r\n        UiSettings uiSettings = naverMap.getUiSettings();\r\n        uiSettings.setLocationButtonEnabled(true);\r\n\r\n        naverMap.addOnCameraChangeListener(this);\r\n        naverMap.addOnCameraIdleListener(this);\r\n        naverMap.setOnMapClickListener(this);\r\n\r\n        LatLng mapCenter = naverMap.getCameraPosition().target;\r\n\r\n\r\n        String api = &quot;https://openapi.gg.go.kr/Dspsnweeklgprotefaclt?KEY=d1387b0db9bc48699aeb227c5e47e323&quot;;\r\n\r\n        DownloadWebpageTask task = new DownloadWebpageTask();\r\n\r\n        task.execute(api);\r\n\r\n    }\r\n    private void fetchStoreSale(double lat, double lng, int m) {\r\n        Retrofit retrofit = new Retrofit.Builder().baseUrl(&quot;https://openapi.gg.go.kr/Dspsnweeklgprotefaclt&quot;).addConverterFactory(GsonConverterFactory.create()).build();\r\n        J_weekApi maskApi = retrofit.create(J_weekApi.class);\r\n        maskApi.getStoresByGeo(lat, lng, m).enqueue(new Callback&lt;J_week&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;J_week&gt; call, Response&lt;J_week&gt; response) {\r\n                if (response.code() == 200) {\r\n                    J_week result = response.body();\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(Call&lt;J_week&gt; call, Throwable t) {\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if(locationSource.onRequestPermissionsResult(requestCode, permissions, grantResults)) {\r\n            if(!locationSource.isActivated()) {\r\n                nMap.setLocationTrackingMode(LocationTrackingMode.None);\r\n                return;\r\n            } else {\r\n                nMap.setLocationTrackingMode(LocationTrackingMode.Follow);\r\n            }\r\n\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        switch (requestCode) {\r\n            case LOCATION_PERMISSION_REQUEST_CODE:\r\n                locationSource.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n                return;\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCameraChange(int i, boolean animated) {\r\n        isCameraAnimated = animated;\r\n    }\r\n\r\n    @Override\r\n    public void onCameraIdle() {\r\n        if (isCameraAnimated) {\r\n            LatLng mapCenter = nMap.getCameraPosition().target;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onMapClick(@NonNull PointF pointF, @NonNull LatLng latLng) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onClick(@NonNull Overlay overlay) {\r\n        return true;\r\n    }\r\n\r\n\r\n    private class DownloadWebpageTask extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(String... urls) {\r\n            try {\r\n\r\n                String txt =  (String) downloadUrl((String) urls[0]);\r\n                return txt;\r\n            } catch (IOException e) {\r\n                return &quot;fail&quot;;\r\n            }\r\n        }\r\n\r\n        protected void onPostExecute(String result) {\r\n            tv.setText(&quot;&quot;);\r\n            boolean bSet_SIGUN_NM = false;\r\nboolean bSet_SIGUN_CD = false;\t\r\n            boolean bSet_BIZPLC_NM = false;\t\r\n            boolean bSet_LICENSG_DE = false;\t\r\n            boolean bSet_BSN_STATE_NM = false; \r\n            boolean bSet_ENTRNC_PSN_CAPA = false;\t\r\n            boolean bSet_QUALFCTN_POSESN_PSN_CNT = false;\t\r\n            boolean bSet_TOT_PSN_CNT = false;\t\r\n            boolean bSet_REFINE_ROADNM_ADDR = false;\t\r\n            boolean bSet_REFINE_LOTNO_ADDR = false;\t\r\n            boolean bSet_REFINE_ZIP_CD = false;\t\r\n            boolean bSet_REFINE_WGS84_LAT = false;\t\r\n            boolean bSet_REFINE_WGS84_LOGT = false; \r\n\r\n\r\n            String SIGUN_NM = &quot;&quot;;\r\n            String tag_name = &quot;&quot;;\r\n            String REFINE_WGS84_LAT = &quot;&quot;;\r\n            String REFINE_WGS84_LOGT = &quot;&quot;;\r\n\r\n            int SIGUN_NM_no = 0;\r\n            int REFINE_WGS84_LAT_no = 0;\r\n\r\n            try {\r\n                XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\r\n                factory.setNamespaceAware(true);\r\n                XmlPullParser xpp = factory.newPullParser();\r\n\r\n                xpp.setInput(new StringReader(result));\r\n\r\n                int eventType = xpp.getEventType();\r\n\r\n                while (eventType != XmlPullParser.END_DOCUMENT) {\r\n                    if (eventType == XmlPullParser.START_DOCUMENT) {\r\n                        ;\r\n\r\n                    } else if (eventType == XmlPullParser.START_TAG) {\r\n                        tag_name = xpp.getName();\r\n                        if (bSet_SIGUN_NM == false &amp;&amp; tag_name.equals(&quot;SIGUN_NM&quot;))\r\n                            bSet_SIGUN_NM = true;\r\n                        if (bSet_SIGUN_CD == false &amp;&amp; tag_name.equals(&quot;SIGUN_CD&quot;))\r\n                            bSet_SIGUN_CD = true;\r\n                        if (bSet_BIZPLC_NM == false &amp;&amp; tag_name.equals(&quot;BIZPLC_NM&quot;))\r\n                            bSet_BIZPLC_NM = true;\r\n                        if (bSet_LICENSG_DE == false &amp;&amp; tag_name.equals(&quot;LICENSG_DE&quot;))\r\n                            bSet_LICENSG_DE = true;\r\n                        if (bSet_BSN_STATE_NM == false &amp;&amp; tag_name.equals(&quot;BSN_STATE_NM&quot;))\r\n                            bSet_BSN_STATE_NM = true;\r\n                        if (bSet_ENTRNC_PSN_CAPA == false &amp;&amp; tag_name.equals(&quot;ENTRNC_PSN_CAPA&quot;))\r\n                            bSet_ENTRNC_PSN_CAPA = true;\r\n                        if (bSet_QUALFCTN_POSESN_PSN_CNT == false &amp;&amp; tag_name.equals(&quot;QUALFCTN_POSESN_PSN_CNT&quot;))\r\n                            bSet_QUALFCTN_POSESN_PSN_CNT = true;\r\n                        if (bSet_TOT_PSN_CNT == false &amp;&amp; tag_name.equals(&quot;TOT_PSN_CNT&quot;))\r\n                            bSet_TOT_PSN_CNT = true;\r\n                        if (bSet_REFINE_ROADNM_ADDR == false &amp;&amp; tag_name.equals(&quot;REFINE_ROADNM_ADDR&quot;))\r\n                            bSet_REFINE_ROADNM_ADDR = true;\r\n                        if (bSet_REFINE_LOTNO_ADDR == false &amp;&amp; tag_name.equals(&quot;REFINE_LOTNO_ADDR&quot;))\r\n                            bSet_REFINE_LOTNO_ADDR = true;\r\n                        if (bSet_REFINE_ZIP_CD == false &amp;&amp; tag_name.equals(&quot;REFINE_ZIP_CD&quot;))\r\n                            bSet_REFINE_ZIP_CD = true;\r\n                        if (bSet_REFINE_WGS84_LOGT == false &amp;&amp; tag_name.equals(&quot;REFINE_WGS84_LOGT&quot;))\r\n                            bSet_REFINE_WGS84_LOGT = true;\r\n                        if (bSet_REFINE_WGS84_LAT == false &amp;&amp; tag_name.equals(&quot;REFINE_WGS84_LAT&quot;))\r\n                            bSet_REFINE_WGS84_LAT = true;\r\n\r\n                    } else if (eventType == XmlPullParser.TEXT) {\r\n                        if (bSet_SIGUN_NM) {\r\n                            SIGUN_NM = xpp.getText();\r\n\r\n                            //addInfo(latlng[SIGUN_NM_no], SIGUN_NM);\r\n                            tv.append(&quot;n: &quot; + SIGUN_NM );\r\n                            SIGUN_NM_no++;\r\n                            bSet_SIGUN_NM = false;\r\n                        }\r\n                        if (bSet_REFINE_WGS84_LAT) {\r\n                            REFINE_WGS84_LAT = xpp.getText();\r\n                            REFINE_WGS84_LOGT = xpp.getText();\r\n                            double REFINE_WGS84_LAT_Double = Double.parseDouble(REFINE_WGS84_LAT);\r\n                            double REFINE_WGS84_LOGT_Double = Double.parseDouble(REFINE_WGS84_LOGT);\r\n                            latlng[REFINE_WGS84_LAT_no] = new LatLng(REFINE_WGS84_LAT_Double, REFINE_WGS84_LOGT_Double);\r\n\r\n                            Marker marker = new Marker();\r\n                            marker.setPosition(latlng[REFINE_WGS84_LAT_no]);\r\n                            marker.setMap(nMap);\r\n\r\n                            //tv.append(&quot;w: &quot; + REFINE_WGS84_LAT + &quot;, &quot; + &quot;g: &quot; + REFINE_WGS84_LOGT);\r\n\r\n                            REFINE_WGS84_LAT_no++;\r\n                            bSet_REFINE_WGS84_LAT = false;\r\n                            bSet_REFINE_WGS84_LOGT = false;\r\n                        }\r\n\r\n                    } else if (eventType == XmlPullParser.END_TAG) {\r\n                        ;\r\n                    }\r\n\r\n                    eventType = xpp.next();\r\n                }\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n\r\n\r\n        private String downloadUrl(String api) throws IOException {\r\n            HttpURLConnection conn = null;\r\n            try {\r\n\r\n                URL url = new URL(api);\r\n                conn = (HttpURLConnection) url.openConnection();\r\n                BufferedInputStream buf = new BufferedInputStream(conn.getInputStream());\r\n                BufferedReader bufreader = new BufferedReader(new InputStreamReader(buf, &quot;utf-8&quot;));\r\n\r\n                String line = null;\r\n                String page = &quot;&quot;;\r\n                while ((line = bufreader.readLine()) != null) {\r\n                    page += line;\r\n                }\r\n\r\n                return page;\r\n\r\n            } finally {\r\n                conn.disconnect();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public void addInfo(LatLng latlng, String SIGUN_NM) {\r\n        final String polution = SIGUN_NM;\r\n\r\n        Marker marker = new Marker();\r\n        marker.setPosition(latlng);\r\n        marker.setMap(nMap);\r\n\r\n        //marker.setSubCaptionText();\r\n        marker.setSubCaptionColor(Color.RED);\r\n        marker.setSubCaptionHaloColor(Color.YELLOW);\r\n        marker.setSubCaptionTextSize(20);\r\n\r\n        InfoWindow infoWindow1 = new InfoWindow();\r\n        infoWindow1.setAdapter(new InfoWindow.DefaultTextAdapter(this) {\r\n            @NonNull\r\n            @Override\r\n            public CharSequence getText(@NonNull InfoWindow infoWindow) {\r\n                return polution;\r\n            }\r\n        });\r\n        infoWindow1.open(marker);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI brought a public data api with latitude and longitude values, and I&#39;m going to show this information on my phone screen. But it doesn&#39;t show properly. It is a university task, so I did my best to investigate, but it is difficult to apply. I would appreciate it if you could help me.","title":"how to apply it so that I can see the marker mark","body":"<p>How should the marker display function be implemented? First of all, please understand that I am not good at English and I am a beginner in understanding Java code.</p>\n<pre><code>package com.example.myapplication_wdd;\n\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.graphics.PointF;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.view.KeyEvent;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.app.ActivityCompat;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.fragment.app.FragmentManager;\n\nimport com.naver.maps.geometry.LatLng;\nimport com.naver.maps.map.CameraUpdate;\nimport com.naver.maps.map.LocationTrackingMode;\nimport com.naver.maps.map.MapFragment;\nimport com.naver.maps.map.NaverMap;\nimport com.naver.maps.map.OnMapReadyCallback;\nimport com.naver.maps.map.UiSettings;\nimport com.naver.maps.map.overlay.InfoWindow;\nimport com.naver.maps.map.overlay.Marker;\nimport com.naver.maps.map.overlay.Overlay;\nimport com.naver.maps.map.util.FusedLocationSource;\n\nimport org.xmlpull.v1.XmlPullParser;\nimport org.xmlpull.v1.XmlPullParserFactory;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.StringReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\npublic class Button1Activity extends FragmentActivity implements OnMapReadyCallback, Overlay.OnClickListener, NaverMap.OnCameraChangeListener, NaverMap.OnCameraIdleListener, NaverMap.OnMapClickListener {\n\n    NaverMap nMap;\n    private InfoWindow infoWindow;\n    private FusedLocationSource locationSource;\n\n\n    LatLng[] latlng = new LatLng[126];\n    private boolean isCameraAnimated = false;\n    private static final int LOCATION_PERMISSION_REQUEST_CODE = 1000;\n    private static final String[] PERMISSIONS = {\n            android.Manifest.permission.ACCESS_FINE_LOCATION,\n            Manifest.permission.ACCESS_COARSE_LOCATION\n    };\n\n    TextView tv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.button1);\n\n\n        FragmentManager fm = getSupportFragmentManager();\n        MapFragment mapFragment = (MapFragment)fm.findFragmentById(R.id.map1);\n        if (mapFragment == null) {\n            fm.beginTransaction().add(R.id.map1, mapFragment).commit();\n        }\n        mapFragment.getMapAsync(this);\n        locationSource = new FusedLocationSource(this, LOCATION_PERMISSION_REQUEST_CODE);\n\n        tv = (TextView)findViewById(R.id.tv);\n    }\n\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n        if (event.getAction() == KeyEvent.ACTION_DOWN) {\n            if (keyCode == KeyEvent.KEYCODE_BACK) {\n                Intent intent = new Intent(this, MainActivity.class);\n                startActivity(intent);\n                finish();\n            }\n\n        }\n        return super.onKeyDown(keyCode, event);\n    }\n\n\n    @Override\n    public void onMapReady(@NonNull NaverMap naverMap) {\n        nMap = naverMap;\n        naverMap.setMapType(NaverMap.MapType.Basic);\n\n\n//        LatLng latlng_center = new LatLng(37, 127);\n//        CameraUpdate cameraUpdate1 = CameraUpdate.scrollTo(latlng_center);\n//        naverMap.moveCamera(cameraUpdate1);\n\n\n        CameraUpdate cameraUpdate2 = CameraUpdate.zoomTo(13);\n        naverMap.moveCamera(cameraUpdate2);\n\n        this.nMap = naverMap;\n        naverMap.setLocationSource(locationSource); \n        ActivityCompat.requestPermissions(this, PERMISSIONS, LOCATION_PERMISSION_REQUEST_CODE);\n\n        UiSettings uiSettings = naverMap.getUiSettings();\n        uiSettings.setLocationButtonEnabled(true);\n\n        naverMap.addOnCameraChangeListener(this);\n        naverMap.addOnCameraIdleListener(this);\n        naverMap.setOnMapClickListener(this);\n\n        LatLng mapCenter = naverMap.getCameraPosition().target;\n\n\n        String api = &quot;https://openapi.gg.go.kr/Dspsnweeklgprotefaclt?KEY=d1387b0db9bc48699aeb227c5e47e323&quot;;\n\n        DownloadWebpageTask task = new DownloadWebpageTask();\n\n        task.execute(api);\n\n    }\n    private void fetchStoreSale(double lat, double lng, int m) {\n        Retrofit retrofit = new Retrofit.Builder().baseUrl(&quot;https://openapi.gg.go.kr/Dspsnweeklgprotefaclt&quot;).addConverterFactory(GsonConverterFactory.create()).build();\n        J_weekApi maskApi = retrofit.create(J_weekApi.class);\n        maskApi.getStoresByGeo(lat, lng, m).enqueue(new Callback&lt;J_week&gt;() {\n            @Override\n            public void onResponse(Call&lt;J_week&gt; call, Response&lt;J_week&gt; response) {\n                if (response.code() == 200) {\n                    J_week result = response.body();\n                }\n            }\n            @Override\n            public void onFailure(Call&lt;J_week&gt; call, Throwable t) {\n            }\n        });\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        if(locationSource.onRequestPermissionsResult(requestCode, permissions, grantResults)) {\n            if(!locationSource.isActivated()) {\n                nMap.setLocationTrackingMode(LocationTrackingMode.None);\n                return;\n            } else {\n                nMap.setLocationTrackingMode(LocationTrackingMode.Follow);\n            }\n\n        }\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        switch (requestCode) {\n            case LOCATION_PERMISSION_REQUEST_CODE:\n                locationSource.onRequestPermissionsResult(requestCode, permissions, grantResults);\n                return;\n        }\n\n    }\n\n    @Override\n    public void onCameraChange(int i, boolean animated) {\n        isCameraAnimated = animated;\n    }\n\n    @Override\n    public void onCameraIdle() {\n        if (isCameraAnimated) {\n            LatLng mapCenter = nMap.getCameraPosition().target;\n        }\n    }\n\n    @Override\n    public void onMapClick(@NonNull PointF pointF, @NonNull LatLng latLng) {\n\n    }\n\n    @Override\n    public boolean onClick(@NonNull Overlay overlay) {\n        return true;\n    }\n\n\n    private class DownloadWebpageTask extends AsyncTask&lt;String, Void, String&gt; {\n\n        @Override\n        protected String doInBackground(String... urls) {\n            try {\n\n                String txt =  (String) downloadUrl((String) urls[0]);\n                return txt;\n            } catch (IOException e) {\n                return &quot;fail&quot;;\n            }\n        }\n\n        protected void onPostExecute(String result) {\n            tv.setText(&quot;&quot;);\n            boolean bSet_SIGUN_NM = false;\nboolean bSet_SIGUN_CD = false;  \n            boolean bSet_BIZPLC_NM = false; \n            boolean bSet_LICENSG_DE = false;    \n            boolean bSet_BSN_STATE_NM = false; \n            boolean bSet_ENTRNC_PSN_CAPA = false;   \n            boolean bSet_QUALFCTN_POSESN_PSN_CNT = false;   \n            boolean bSet_TOT_PSN_CNT = false;   \n            boolean bSet_REFINE_ROADNM_ADDR = false;    \n            boolean bSet_REFINE_LOTNO_ADDR = false; \n            boolean bSet_REFINE_ZIP_CD = false; \n            boolean bSet_REFINE_WGS84_LAT = false;  \n            boolean bSet_REFINE_WGS84_LOGT = false; \n\n\n            String SIGUN_NM = &quot;&quot;;\n            String tag_name = &quot;&quot;;\n            String REFINE_WGS84_LAT = &quot;&quot;;\n            String REFINE_WGS84_LOGT = &quot;&quot;;\n\n            int SIGUN_NM_no = 0;\n            int REFINE_WGS84_LAT_no = 0;\n\n            try {\n                XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\n                factory.setNamespaceAware(true);\n                XmlPullParser xpp = factory.newPullParser();\n\n                xpp.setInput(new StringReader(result));\n\n                int eventType = xpp.getEventType();\n\n                while (eventType != XmlPullParser.END_DOCUMENT) {\n                    if (eventType == XmlPullParser.START_DOCUMENT) {\n                        ;\n\n                    } else if (eventType == XmlPullParser.START_TAG) {\n                        tag_name = xpp.getName();\n                        if (bSet_SIGUN_NM == false &amp;&amp; tag_name.equals(&quot;SIGUN_NM&quot;))\n                            bSet_SIGUN_NM = true;\n                        if (bSet_SIGUN_CD == false &amp;&amp; tag_name.equals(&quot;SIGUN_CD&quot;))\n                            bSet_SIGUN_CD = true;\n                        if (bSet_BIZPLC_NM == false &amp;&amp; tag_name.equals(&quot;BIZPLC_NM&quot;))\n                            bSet_BIZPLC_NM = true;\n                        if (bSet_LICENSG_DE == false &amp;&amp; tag_name.equals(&quot;LICENSG_DE&quot;))\n                            bSet_LICENSG_DE = true;\n                        if (bSet_BSN_STATE_NM == false &amp;&amp; tag_name.equals(&quot;BSN_STATE_NM&quot;))\n                            bSet_BSN_STATE_NM = true;\n                        if (bSet_ENTRNC_PSN_CAPA == false &amp;&amp; tag_name.equals(&quot;ENTRNC_PSN_CAPA&quot;))\n                            bSet_ENTRNC_PSN_CAPA = true;\n                        if (bSet_QUALFCTN_POSESN_PSN_CNT == false &amp;&amp; tag_name.equals(&quot;QUALFCTN_POSESN_PSN_CNT&quot;))\n                            bSet_QUALFCTN_POSESN_PSN_CNT = true;\n                        if (bSet_TOT_PSN_CNT == false &amp;&amp; tag_name.equals(&quot;TOT_PSN_CNT&quot;))\n                            bSet_TOT_PSN_CNT = true;\n                        if (bSet_REFINE_ROADNM_ADDR == false &amp;&amp; tag_name.equals(&quot;REFINE_ROADNM_ADDR&quot;))\n                            bSet_REFINE_ROADNM_ADDR = true;\n                        if (bSet_REFINE_LOTNO_ADDR == false &amp;&amp; tag_name.equals(&quot;REFINE_LOTNO_ADDR&quot;))\n                            bSet_REFINE_LOTNO_ADDR = true;\n                        if (bSet_REFINE_ZIP_CD == false &amp;&amp; tag_name.equals(&quot;REFINE_ZIP_CD&quot;))\n                            bSet_REFINE_ZIP_CD = true;\n                        if (bSet_REFINE_WGS84_LOGT == false &amp;&amp; tag_name.equals(&quot;REFINE_WGS84_LOGT&quot;))\n                            bSet_REFINE_WGS84_LOGT = true;\n                        if (bSet_REFINE_WGS84_LAT == false &amp;&amp; tag_name.equals(&quot;REFINE_WGS84_LAT&quot;))\n                            bSet_REFINE_WGS84_LAT = true;\n\n                    } else if (eventType == XmlPullParser.TEXT) {\n                        if (bSet_SIGUN_NM) {\n                            SIGUN_NM = xpp.getText();\n\n                            //addInfo(latlng[SIGUN_NM_no], SIGUN_NM);\n                            tv.append(&quot;n: &quot; + SIGUN_NM );\n                            SIGUN_NM_no++;\n                            bSet_SIGUN_NM = false;\n                        }\n                        if (bSet_REFINE_WGS84_LAT) {\n                            REFINE_WGS84_LAT = xpp.getText();\n                            REFINE_WGS84_LOGT = xpp.getText();\n                            double REFINE_WGS84_LAT_Double = Double.parseDouble(REFINE_WGS84_LAT);\n                            double REFINE_WGS84_LOGT_Double = Double.parseDouble(REFINE_WGS84_LOGT);\n                            latlng[REFINE_WGS84_LAT_no] = new LatLng(REFINE_WGS84_LAT_Double, REFINE_WGS84_LOGT_Double);\n\n                            Marker marker = new Marker();\n                            marker.setPosition(latlng[REFINE_WGS84_LAT_no]);\n                            marker.setMap(nMap);\n\n                            //tv.append(&quot;w: &quot; + REFINE_WGS84_LAT + &quot;, &quot; + &quot;g: &quot; + REFINE_WGS84_LOGT);\n\n                            REFINE_WGS84_LAT_no++;\n                            bSet_REFINE_WGS84_LAT = false;\n                            bSet_REFINE_WGS84_LOGT = false;\n                        }\n\n                    } else if (eventType == XmlPullParser.END_TAG) {\n                        ;\n                    }\n\n                    eventType = xpp.next();\n                }\n            } catch (Exception e) {\n            }\n        }\n\n\n        private String downloadUrl(String api) throws IOException {\n            HttpURLConnection conn = null;\n            try {\n\n                URL url = new URL(api);\n                conn = (HttpURLConnection) url.openConnection();\n                BufferedInputStream buf = new BufferedInputStream(conn.getInputStream());\n                BufferedReader bufreader = new BufferedReader(new InputStreamReader(buf, &quot;utf-8&quot;));\n\n                String line = null;\n                String page = &quot;&quot;;\n                while ((line = bufreader.readLine()) != null) {\n                    page += line;\n                }\n\n                return page;\n\n            } finally {\n                conn.disconnect();\n            }\n        }\n    }\n\n\n    public void addInfo(LatLng latlng, String SIGUN_NM) {\n        final String polution = SIGUN_NM;\n\n        Marker marker = new Marker();\n        marker.setPosition(latlng);\n        marker.setMap(nMap);\n\n        //marker.setSubCaptionText();\n        marker.setSubCaptionColor(Color.RED);\n        marker.setSubCaptionHaloColor(Color.YELLOW);\n        marker.setSubCaptionTextSize(20);\n\n        InfoWindow infoWindow1 = new InfoWindow();\n        infoWindow1.setAdapter(new InfoWindow.DefaultTextAdapter(this) {\n            @NonNull\n            @Override\n            public CharSequence getText(@NonNull InfoWindow infoWindow) {\n                return polution;\n            }\n        });\n        infoWindow1.open(marker);\n\n    }\n\n}\n\n</code></pre>\n<p>I brought a public data api with latitude and longitude values, and I'm going to show this information on my phone screen. But it doesn't show properly. It is a university task, so I did my best to investigate, but it is difficult to apply. I would appreciate it if you could help me.</p>\n"},{"tags":["java","xml","logging","properties","log4j"],"answers":[{"tags":[],"owner":{"account_id":4170192,"reputation":35,"user_id":3418149,"accept_rate":100,"display_name":"user3418149"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398320574,"creation_date":1398320574,"answer_id":23261294,"question_id":23261020,"body_markdown":"about log4j,  this type of configuration that XML configuration which embed the property file is not supported in current version.\r\n\r\nfor details, you can view the log4j&#39;s source code . the XML parse details is in class \r\nDOMConfigurator.configure","title":"How to set value in log4j.xml using property file?","body":"<p>about log4j,  this type of configuration that XML configuration which embed the property file is not supported in current version.</p>\n\n<p>for details, you can view the log4j's source code . the XML parse details is in class \nDOMConfigurator.configure</p>\n"},{"tags":[],"owner":{"account_id":1172729,"reputation":5492,"user_id":1149528,"accept_rate":92,"display_name":"xav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398375672,"creation_date":1398367215,"answer_id":23277944,"question_id":23261020,"body_markdown":"You can use Log4j `Lookups` with `PropertySubstitution`:\r\n\r\nSee http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution and http://logging.apache.org/log4j/2.x/manual/lookups.html\r\n\r\nHere is an example on StackOverflow: https://stackoverflow.com/questions/22028399/log4j2-property-substitution-default\r\n(to make it short, you can use, as far as I know, the System Property using `-Dkey=value`)\r\n\r\nYou can also try to use the `${bundle:com.package.Messages:MyKey}` syntax to use a properties file (using log4j 2.0-rc1 or greater), see https://stackoverflow.com/a/19303208/1149528.","title":"How to set value in log4j.xml using property file?","body":"<p>You can use Log4j <code>Lookups</code> with <code>PropertySubstitution</code>:</p>\n\n<p>See <a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution</a> and <a href=\"http://logging.apache.org/log4j/2.x/manual/lookups.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/lookups.html</a></p>\n\n<p>Here is an example on StackOverflow: <a href=\"https://stackoverflow.com/questions/22028399/log4j2-property-substitution-default\">Log4J2 property substitution - default</a>\n(to make it short, you can use, as far as I know, the System Property using <code>-Dkey=value</code>)</p>\n\n<p>You can also try to use the <code>${bundle:com.package.Messages:MyKey}</code> syntax to use a properties file (using log4j 2.0-rc1 or greater), see <a href=\"https://stackoverflow.com/a/19303208/1149528\">https://stackoverflow.com/a/19303208/1149528</a>.</p>\n"}],"owner":{"account_id":4230332,"reputation":161,"user_id":3462765,"accept_rate":21,"display_name":"Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11152,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1685160215,"creation_date":1398319566,"question_id":23261020,"body_markdown":"I would like to know if there is possibility to set an attribute in log4j.xml by using property file. For example the log4j.xml: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    &lt;log4j:configuration&gt;\r\n     &lt;appender name=&quot;CONSOLE&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;param name=&quot;target&quot; value=&quot;System.out&quot; /&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{ISO8601} %-5p [%c{1}] - %l - %m%n &quot;/&gt;\r\n        &lt;/layout&gt;        \r\n    &lt;/appender&gt;\r\n       &lt;appender name=&quot;FILE&quot; class=&quot;org.apache.log4j.FileAppender&quot;&gt;\r\n    &lt;param name=&quot;File&quot; value=&quot;\\D:\\ReadText_File\\log4jlogss.txt&quot;/&gt;\r\n    &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{ISO8601} %-5p [%c{1}]- %l - %m%n&quot;/&gt;\r\n\t\t\t&lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n    &lt;logger name=&quot;org.apache&quot;&gt;\r\n    &lt;level value=&quot;WARN&quot;/&gt;\r\n    &lt;/logger&gt;\r\n    &lt;root&gt;\r\n\t\t&lt;level value=&quot;DEBUG&quot;/&gt;\r\n\t\t&lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n\t\t&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n\t\t&lt;/root&gt;\r\n       &lt;/log4j:configuration&gt;\r\n\r\nI wan to specify the path for the file using Properties file \r\nAny idea how can we do it ????","title":"How to set value in log4j.xml using property file?","body":"<p>I would like to know if there is possibility to set an attribute in log4j.xml by using property file. For example the log4j.xml: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"iso-8859-1\"?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n&lt;log4j:configuration&gt;\n &lt;appender name=\"CONSOLE\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n    &lt;param name=\"target\" value=\"System.out\" /&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n        &lt;param name=\"ConversionPattern\" value=\"%d{ISO8601} %-5p [%c{1}] - %l - %m%n \"/&gt;\n    &lt;/layout&gt;        \n&lt;/appender&gt;\n   &lt;appender name=\"FILE\" class=\"org.apache.log4j.FileAppender\"&gt;\n&lt;param name=\"File\" value=\"\\D:\\ReadText_File\\log4jlogss.txt\"/&gt;\n&lt;param name=\"Append\" value=\"true\"/&gt;\n         &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n                    &lt;param name=\"ConversionPattern\" value=\"%d{ISO8601} %-5p [%c{1}]- %l - %m%n\"/&gt;\n        &lt;/layout&gt;\n&lt;/appender&gt;\n&lt;logger name=\"org.apache\"&gt;\n&lt;level value=\"WARN\"/&gt;\n&lt;/logger&gt;\n&lt;root&gt;\n    &lt;level value=\"DEBUG\"/&gt;\n    &lt;appender-ref ref=\"FILE\"/&gt;\n    &lt;appender-ref ref=\"CONSOLE\"/&gt;\n    &lt;/root&gt;\n   &lt;/log4j:configuration&gt;\n</code></pre>\n\n<p>I wan to specify the path for the file using Properties file \nAny idea how can we do it ????</p>\n"},{"tags":["java","lambda","coding-style","naming-conventions","naming"],"comments":[{"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":1,"creation_date":1616046513,"post_id":66685276,"comment_id":117881593,"body_markdown":"You can see from [this](https://stackoverflow.com/questions/23523946/underscore-is-a-reserved-keyword) that `_` was intended to do this, but it appears to have been forgotten. A comment there suggests `$`.","body":"You can see from <a href=\"https://stackoverflow.com/questions/23523946/underscore-is-a-reserved-keyword\">this</a> that <code>_</code> was intended to do this, but it appears to have been forgotten. A comment there suggests <code>$</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1616049284,"post_id":66685276,"comment_id":117882219,"body_markdown":"It hasn&#39;t been &quot;forgotten&quot;.  You can see from [JLS 3.9](https://docs.oracle.com/javase/specs/jls/se16/html/jls-3.html#jls-3.9) that it is reserved for **possible** future use.  Frankly, any single character identifier will work as well as any other one.","body":"It hasn&#39;t been &quot;forgotten&quot;.  You can see from <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-3.html#jls-3.9\" rel=\"nofollow noreferrer\">JLS 3.9</a> that it is reserved for <b>possible</b> future use.  Frankly, any single character identifier will work as well as any other one."},{"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":0,"creation_date":1616061572,"post_id":66685276,"comment_id":117887216,"body_markdown":"@StephenC: The link I posted has a link to an email that I am almost certain is the origin of JLS 3.9, and gives explicitly just one example of the those possible future uses: *things it might be used for include things like &quot;I don&#39;t want to give this variable a name&quot;* (pretty much exactly what this question asks about). AFAIK `_` remained &quot;reserved for possible future uses&quot; for almost eight years now, with none of them being implemented, so... I think &quot;forgotten&quot; might be an adequate description of the situation.","body":"@StephenC: The link I posted has a link to an email that I am almost certain is the origin of JLS 3.9, and gives explicitly just one example of the those possible future uses: <i>things it might be used for include things like &quot;I don&#39;t want to give this variable a name&quot;</i> (pretty much exactly what this question asks about). AFAIK <code>_</code> remained &quot;reserved for possible future uses&quot; for almost eight years now, with none of them being implemented, so... I think &quot;forgotten&quot; might be an adequate description of the situation."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1616074375,"post_id":66685276,"comment_id":117893220,"body_markdown":"An alternative reading is that they thought better of that particular idea.  Reading the Brian Goetz email, the take away is that they were reclaiming `_` ... not that they had specific plans to use it.  Note given that they decided to reclaim `_`, it was best that they did it ASAP ... to stop it spreading through everyone&#39;s codebase (like `$` has done in javascript.)  The longer they left it, the harder it would have been to reclaim.","body":"An alternative reading is that they thought better of that particular idea.  Reading the Brian Goetz email, the take away is that they were reclaiming <code>_</code> ... not that they had specific plans to use it.  Note given that they decided to reclaim <code>_</code>, it was best that they did it ASAP ... to stop it spreading through everyone&#39;s codebase (like <code>$</code> has done in javascript.)  The longer they left it, the harder it would have been to reclaim."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685158103,"creation_date":1616053970,"answer_id":66686845,"question_id":66685276,"body_markdown":"Currently, Java syntax doesn&#39;t provide a way to have no identifier at all if the argument is to be ignored.\r\n\r\nA single `_` *may* serve that purpose in the future, but as of Java 16 `_` is just a keyword that is *&quot;reserved for possible future use in parameter declarations.&quot;*; see [JLS 3.9](https://docs.oracle.com/javase/specs/jls/se16/html/jls-3.html#jls-3.9).)\r\n\r\nIt is inadvisable to use `$` because all identifiers that contain `$` are reserved for use by source code generators or for legacy purposes; see [JLS 3.8](https://docs.oracle.com/javase/specs/jls/se16/html/jls-3.html#jls-3.9)\r\n\r\nAlso, there isn&#39;t an established conventional name for a dummy argument to a lambda expression.\r\n\r\n-------------------------\r\n\r\nMy advice would be to just use a single letter identifier; e.g. `x`.  A lambda expression will typically be small enough that you can easily see that (say) `x` is not used in the expression.  \r\n\r\nAlternatively, you could pick a name like `unused` or `dummy` or `ignore` to flag your intent to not use the value.\r\n\r\n","title":"What is the convention for variable names in lambda expressions when the variable is not used?","body":"<p>Currently, Java syntax doesn't provide a way to have no identifier at all if the argument is to be ignored.</p>\n<p>A single <code>_</code> <em>may</em> serve that purpose in the future, but as of Java 16 <code>_</code> is just a keyword that is <em>&quot;reserved for possible future use in parameter declarations.&quot;</em>; see <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-3.html#jls-3.9\" rel=\"nofollow noreferrer\">JLS 3.9</a>.)</p>\n<p>It is inadvisable to use <code>$</code> because all identifiers that contain <code>$</code> are reserved for use by source code generators or for legacy purposes; see <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-3.html#jls-3.9\" rel=\"nofollow noreferrer\">JLS 3.8</a></p>\n<p>Also, there isn't an established conventional name for a dummy argument to a lambda expression.</p>\n<hr />\n<p>My advice would be to just use a single letter identifier; e.g. <code>x</code>.  A lambda expression will typically be small enough that you can easily see that (say) <code>x</code> is not used in the expression.</p>\n<p>Alternatively, you could pick a name like <code>unused</code> or <code>dummy</code> or <code>ignore</code> to flag your intent to not use the value.</p>\n"}],"owner":{"account_id":39854,"reputation":539,"user_id":115164,"display_name":"omax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66686845,"answer_count":1,"score":2,"last_activity_date":1685158103,"creation_date":1616045335,"question_id":66685276,"body_markdown":"I&#39;m trying to find a name similar to what `i,j` are for loops, or `x,y` is for coordinates etc.\r\n\r\nI have a code like this:\r\n```\r\nDbSetup.setupCommon(x -&gt; HibernateHelper.addResource(SpecificEntityHelper.HIBERNATE_RESOURCE, schemaName));\r\n```\r\nIn this case `x` is not a required variable name and I found it is used in few places in code base of our project, so probably is\r\nOf course in this specific case I can not use a static reference to the function `HibernateHelper::addResource` and it sounds like there is no other way to not to have a name of the variable at all.","title":"What is the convention for variable names in lambda expressions when the variable is not used?","body":"<p>I'm trying to find a name similar to what <code>i,j</code> are for loops, or <code>x,y</code> is for coordinates etc.</p>\n<p>I have a code like this:</p>\n<pre><code>DbSetup.setupCommon(x -&gt; HibernateHelper.addResource(SpecificEntityHelper.HIBERNATE_RESOURCE, schemaName));\n</code></pre>\n<p>In this case <code>x</code> is not a required variable name and I found it is used in few places in code base of our project, so probably is\nOf course in this specific case I can not use a static reference to the function <code>HibernateHelper::addResource</code> and it sounds like there is no other way to not to have a name of the variable at all.</p>\n"},{"tags":["java"],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685158468,"answer_count":0,"score":0,"last_activity_date":1685157943,"creation_date":1685157038,"question_id":76345182,"body_markdown":"I know there are options to control the size of on heap size, which are `-Xmx, -Xms`,\r\n\r\nBut I wonder whether there are option to control the overall size of off heap size.\r\n\r\nI know that `DirectMemory, JNI, Thread...` all use off heap, I would like to know whether there are options to control the overall size of off heap size.\r\n\r\nSo that, I could control the memory usage of the whole Java Process, which is off heap memory + off heap memory.","title":"Is it possible to control the overall size of off heap memory","body":"<p>I know there are options to control the size of on heap size, which are <code>-Xmx, -Xms</code>,</p>\n<p>But I wonder whether there are option to control the overall size of off heap size.</p>\n<p>I know that <code>DirectMemory, JNI, Thread...</code> all use off heap, I would like to know whether there are options to control the overall size of off heap size.</p>\n<p>So that, I could control the memory usage of the whole Java Process, which is off heap memory + off heap memory.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8065312,"reputation":530,"user_id":6079673,"display_name":"Lakshi"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1538596277,"creation_date":1538596277,"answer_id":52634693,"question_id":52634362,"body_markdown":"Spring documentation defines methods getOne as follows\r\n\r\n    &lt;S extends T&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example)\r\nIn your method your input parameter is &#39;id&#39; of type int but not bounded to interface Example. \r\n\r\nTo find an entity with it &#39;id&#39; you can use the method \r\n\r\n    Optional&lt;T&gt; findById(ID id)\r\nAccording to your implementation you may write it \r\n\r\n \r\n\r\n    @Override\r\n    public Country findOne(int id) {\r\n        return dao.findById(id);\r\n    }","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country","body":"<p>Spring documentation defines methods getOne as follows</p>\n\n<pre><code>&lt;S extends T&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example)\n</code></pre>\n\n<p>In your method your input parameter is 'id' of type int but not bounded to interface Example. </p>\n\n<p>To find an entity with it 'id' you can use the method </p>\n\n<pre><code>Optional&lt;T&gt; findById(ID id)\n</code></pre>\n\n<p>According to your implementation you may write it </p>\n\n<pre><code>@Override\npublic Country findOne(int id) {\n    return dao.findById(id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10366146,"reputation":41,"user_id":7645156,"display_name":"yang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552982244,"creation_date":1552982244,"answer_id":55235979,"question_id":52634362,"body_markdown":"It is possible to be relevant about spring-boot version. I meet the same issue when my spring-boot version is 2.0.1.RELEASE. But after change the spring-boot version to the 1.5.9.RELEASE, it is resolved.","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country","body":"<p>It is possible to be relevant about spring-boot version. I meet the same issue when my spring-boot version is 2.0.1.RELEASE. But after change the spring-boot version to the 1.5.9.RELEASE, it is resolved.</p>\n"},{"tags":[],"owner":{"account_id":16549449,"reputation":112,"user_id":11958177,"display_name":"Ihsan Ullah Khan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677551565,"creation_date":1566404429,"answer_id":57595734,"question_id":52634362,"body_markdown":"A 100% working solution is following:\r\n\r\n    @Override\r\n    public Country findOne(int id) {\r\n        return dao.findById(id).orElse(null);\r\n    }\r\n\r\n\r\n\r\n","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country","body":"<p>A 100% working solution is following:</p>\n<pre><code>@Override\npublic Country findOne(int id) {\n    return dao.findById(id).orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574403922,"creation_date":1574403922,"answer_id":58988614,"question_id":52634362,"body_markdown":"You need to change \r\nfrom \r\n\r\n    public T getOne(ID id) {\r\n            return repository.getOne(id);\r\n    }\r\n\r\nTo\r\n\r\n\r\n    public Optional&lt;T&gt; getOne(ID id) {\r\n            return repository.findById(id);\r\n    }\r\n\r\n","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country","body":"<p>You need to change \nfrom </p>\n\n<pre><code>public T getOne(ID id) {\n        return repository.getOne(id);\n}\n</code></pre>\n\n<p>To</p>\n\n<pre><code>public Optional&lt;T&gt; getOne(ID id) {\n        return repository.findById(id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19102675,"reputation":31,"user_id":13950591,"display_name":"Sean Tunell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1595021003,"creation_date":1595021003,"answer_id":62961929,"question_id":52634362,"body_markdown":"I just solved this problem in my program. I don&#39;t use the findOne method, I was just saving initial data with the save method. It turns out that I had copied my repo interface from another repo interface, and forgot to update the object in &quot;extends JpaRepository&lt;Object, Long&gt;&quot; to the new object. ","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country","body":"<p>I just solved this problem in my program. I don't use the findOne method, I was just saving initial data with the save method. It turns out that I had copied my repo interface from another repo interface, and forgot to update the object in &quot;extends JpaRepository&lt;Object, Long&gt;&quot; to the new object.</p>\n"},{"tags":[],"owner":{"account_id":13814341,"reputation":3543,"user_id":9971280,"display_name":"Niroshan Ratnayake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596530303,"creation_date":1596530303,"answer_id":63243093,"question_id":52634362,"body_markdown":"This Worked for me...\r\n\r\n\r\n----------\r\n\r\n\r\n```\r\n  @Override\r\n    public Country findOne(int id) {\r\n        return dao.findById(id).orElse(null);\r\n    }\r\n```\r\n\r\n\r\n----------\r\n","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country","body":"<p>This Worked for me...</p>\n<hr />\n<pre><code>  @Override\n    public Country findOne(int id) {\n        return dao.findById(id).orElse(null);\n    }\n</code></pre>\n<hr />\n"},{"tags":[],"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636037184,"creation_date":1636037184,"answer_id":69841102,"question_id":52634362,"body_markdown":"I got the same problem.\r\n\r\n\r\nua.com.store.entity.Country -&gt; It&#39;s like adding an external entity\r\n\r\nYou must import the correct directory of the entity &quot;Counrty&quot; that you will use in your project.\r\ne.g\r\n\r\n    import com.RomanSyhock.Entity.Country;\r\n\r\n","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country","body":"<p>I got the same problem.</p>\n<p>ua.com.store.entity.Country -&gt; It's like adding an external entity</p>\n<p>You must import the correct directory of the entity &quot;Counrty&quot; that you will use in your project.\ne.g</p>\n<pre><code>import com.RomanSyhock.Entity.Country;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18036517,"reputation":1,"user_id":13109799,"display_name":"Mishaa Sunchalyaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685155953,"creation_date":1685155953,"answer_id":76345148,"question_id":52634362,"body_markdown":"Additionally inherit another interface for Repository, namely JpaSpecificationExecutor&lt;T&gt;\r\n```\r\npublic interface CountryDAO extends JpaRepository&lt;Country, Integer&gt;, JpaSpecificationExecutor&lt;Country&gt; {\r\n\r\n    @Query(&quot;from Country c where c.countryName=:name&quot;)\r\n    Country findByCountryName(@Param(&quot;name&quot;) String name);\r\n}\r\n```","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country","body":"<p>Additionally inherit another interface for Repository, namely JpaSpecificationExecutor</p>\n<pre><code>public interface CountryDAO extends JpaRepository&lt;Country, Integer&gt;, JpaSpecificationExecutor&lt;Country&gt; {\n\n    @Query(&quot;from Country c where c.countryName=:name&quot;)\n    Country findByCountryName(@Param(&quot;name&quot;) String name);\n}\n</code></pre>\n"}],"owner":{"account_id":10942183,"reputation":339,"user_id":8055324,"display_name":"Roman Sychok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77810,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":52634693,"answer_count":8,"score":21,"last_activity_date":1685155953,"creation_date":1538594844,"question_id":52634362,"body_markdown":"I have a problem with my CountryServiceImpl,when I want realize method findOne in CountryServiceImpl it tells me &quot;Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country&quot;. \r\n\r\nI wanted to fix by myself, but I don&#39;t understand what this means.\r\nCould you please help me with this issue.\r\n\r\nThank you.\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@ToString\r\npublic class Country {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    private String countryName;\r\n\r\n    @OneToMany(mappedBy = &quot;country&quot;)\r\n    private Set&lt;Brand&gt; brands = new HashSet&lt;Brand&gt;();\r\n}\r\n\r\n\r\npublic interface CountryDAO extends JpaRepository&lt;Country, Integer&gt; {\r\n\r\n    @Query(&quot;from Country c where c.countryName=:name&quot;)\r\n    Country findByCountryName(@Param(&quot;name&quot;) String name);\r\n}\r\n\r\n\r\npublic interface CountryService {\r\n\r\n    void save(Country country);\r\n    void delete(Country country);\r\n    List&lt;Country&gt; findAll();\r\n    Country findOne(int id);\r\n    Country findByCountryName(String name);\r\n}\r\n\r\n\r\n@Service\r\npublic class CountryServiceImpl implements CountryService {\r\n\r\n    @Autowired\r\n    private CountryDAO dao;\r\n\r\n    @Override\r\n    public void save(Country country) {\r\n        dao.save(country);\r\n    }\r\n\r\n    @Override\r\n    public void delete(Country country) {\r\n        dao.delete(country);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Country&gt; findAll() {\r\n        return dao.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Country findOne(int id) {\r\n        return dao.findOne(id);\r\n    }\r\n\r\n    @Override\r\n    public Country findByCountryName(String name) {\r\n        return dao.findByCountryName(name);\r\n    }\r\n}\r\n```","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;ua.com.store.entity.Country","body":"<p>I have a problem with my CountryServiceImpl,when I want realize method findOne in CountryServiceImpl it tells me \"Inferred type 'S' for type parameter 'S' is not within its bound; should extend 'ua.com.store.entity.Country\". </p>\n\n<p>I wanted to fix by myself, but I don't understand what this means.\nCould you please help me with this issue.</p>\n\n<p>Thank you.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class Country {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private String countryName;\n\n    @OneToMany(mappedBy = \"country\")\n    private Set&lt;Brand&gt; brands = new HashSet&lt;Brand&gt;();\n}\n\n\npublic interface CountryDAO extends JpaRepository&lt;Country, Integer&gt; {\n\n    @Query(\"from Country c where c.countryName=:name\")\n    Country findByCountryName(@Param(\"name\") String name);\n}\n\n\npublic interface CountryService {\n\n    void save(Country country);\n    void delete(Country country);\n    List&lt;Country&gt; findAll();\n    Country findOne(int id);\n    Country findByCountryName(String name);\n}\n\n\n@Service\npublic class CountryServiceImpl implements CountryService {\n\n    @Autowired\n    private CountryDAO dao;\n\n    @Override\n    public void save(Country country) {\n        dao.save(country);\n    }\n\n    @Override\n    public void delete(Country country) {\n        dao.delete(country);\n    }\n\n    @Override\n    public List&lt;Country&gt; findAll() {\n        return dao.findAll();\n    }\n\n    @Override\n    public Country findOne(int id) {\n        return dao.findOne(id);\n    }\n\n    @Override\n    public Country findByCountryName(String name) {\n        return dao.findByCountryName(name);\n    }\n}\n</code></pre>\n"},{"tags":["java","testing","testng","dataprovider"],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1544952857,"creation_date":1544952857,"answer_id":53800977,"question_id":53781839,"body_markdown":"**Note: This solution will not work when you try to run your data driven tests in parallel. This will only work if you run your data driven tests in sequential order.**\r\n\r\nHere&#39;s how you can do this.\r\n\r\n 1. Make sure you are using TestNG `7.0.0-beta1` (This is the latest released version as of today Dec 16 2018)\r\n 2. Have your test class implement `org.testng.IHookable` interface.\r\n 3. Now within the `run()` method set a boolean flag to indicate that downstream methods should be failed, if you found an exception (TestNG by default marks a test method as failed if it raises an exception)\r\n\r\nBelow is a sample that shows all of this in action.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.Arrays;\r\n    import org.testng.Assert;\r\n    import org.testng.IHookCallBack;\r\n    import org.testng.IHookable;\r\n    import org.testng.ITestListener;\r\n    import org.testng.ITestResult;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Listeners;\r\n    import org.testng.annotations.Test;\r\n    \r\n    @Listeners(TestReporter.class)\r\n    public class TestclassExample implements IHookable {\r\n      private boolean hasFailures = false;\r\n    \r\n      @Test(dataProvider = &quot;getData&quot;)\r\n      public void test(String data) {\r\n        if (data.equals(&quot;Three&quot;)) {\r\n          Assert.fail(&quot;Simulating a failure for [&quot; + data + &quot;]&quot;);\r\n        }\r\n        System.err.println(&quot;executing test  for data [&quot; + data + &quot;]&quot;);\r\n      }\r\n    \r\n      @DataProvider\r\n      public Object[][] getData() {\r\n        return new Object[][] {{&quot;One&quot;}, {&quot;Two&quot;}, {&quot;Three&quot;}, {&quot;Four&quot;}, {&quot;Five&quot;}};\r\n      }\r\n    \r\n      @Override\r\n      public void run(IHookCallBack callBack, ITestResult testResult) {\r\n        if (hasFailures) {\r\n          testResult.setStatus(ITestResult.FAILURE);\r\n        } else {\r\n          callBack.runTestMethod(testResult);\r\n          if (testResult.getThrowable() != null) {\r\n            hasFailures = true;\r\n          }\r\n        }\r\n      }\r\n    \r\n      public static class TestReporter implements ITestListener {\r\n    \r\n        @Override\r\n        public void onTestFailure(ITestResult result) {\r\n          String msg =\r\n              String.format(\r\n                  &quot;[%s()] failed for data %s&quot;,\r\n                  result.getMethod().getMethodName(), Arrays.toString(result.getParameters()));\r\n          System.err.println(msg);\r\n        }\r\n      }\r\n    }\r\n\r\nHere&#39;s the output for the above code execution.\r\n\r\n    executing test  for data [One]\r\n    executing test  for data [Two]\r\n    [test()] failed for data [Three]\r\n    \r\n    [test()] failed for data [Four]\r\n    \r\n    [test()] failed for data [Five]\r\n    \r\n    java.lang.AssertionError: Simulating a failure for [Three]\r\n    \r\n    \tat org.testng.Assert.fail(Assert.java:97)\r\n    \tat com.rationaleemotions.stackoverflow.qn53781839.TestclassExample.test(TestclassExample.java:21)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:131)\r\n    \tat org.testng.internal.MethodInvocationHelper$1.runTestMethod(MethodInvocationHelper.java:237)\r\n    \tat com.rationaleemotions.stackoverflow.qn53781839.TestclassExample.run(TestclassExample.java:36)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeHookable(MethodInvocationHelper.java:249)\r\n    \tat org.testng.internal.Invoker.invokeMethod(Invoker.java:654)\r\n    \tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:792)\r\n    \tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1103)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:140)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:739)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:589)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:398)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:392)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:354)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:302)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1145)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1067)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:997)\r\n    \tat org.testng.TestNG.run(TestNG.java:965)\r\n    \tat org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:73)\r\n    \tat org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:123)\r\n    \r\n    \r\n    ===============================================\r\n    Default Suite\r\n    Total tests run: 5, Passes: 2, Failures: 3, Skips: 0\r\n    ===============================================\r\n\r\n","title":"TestNG dataprovider skip after fail","body":"<p><strong>Note: This solution will not work when you try to run your data driven tests in parallel. This will only work if you run your data driven tests in sequential order.</strong></p>\n\n<p>Here's how you can do this.</p>\n\n<ol>\n<li>Make sure you are using TestNG <code>7.0.0-beta1</code> (This is the latest released version as of today Dec 16 2018)</li>\n<li>Have your test class implement <code>org.testng.IHookable</code> interface.</li>\n<li>Now within the <code>run()</code> method set a boolean flag to indicate that downstream methods should be failed, if you found an exception (TestNG by default marks a test method as failed if it raises an exception)</li>\n</ol>\n\n<p>Below is a sample that shows all of this in action.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport org.testng.Assert;\nimport org.testng.IHookCallBack;\nimport org.testng.IHookable;\nimport org.testng.ITestListener;\nimport org.testng.ITestResult;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Listeners;\nimport org.testng.annotations.Test;\n\n@Listeners(TestReporter.class)\npublic class TestclassExample implements IHookable {\n  private boolean hasFailures = false;\n\n  @Test(dataProvider = \"getData\")\n  public void test(String data) {\n    if (data.equals(\"Three\")) {\n      Assert.fail(\"Simulating a failure for [\" + data + \"]\");\n    }\n    System.err.println(\"executing test  for data [\" + data + \"]\");\n  }\n\n  @DataProvider\n  public Object[][] getData() {\n    return new Object[][] {{\"One\"}, {\"Two\"}, {\"Three\"}, {\"Four\"}, {\"Five\"}};\n  }\n\n  @Override\n  public void run(IHookCallBack callBack, ITestResult testResult) {\n    if (hasFailures) {\n      testResult.setStatus(ITestResult.FAILURE);\n    } else {\n      callBack.runTestMethod(testResult);\n      if (testResult.getThrowable() != null) {\n        hasFailures = true;\n      }\n    }\n  }\n\n  public static class TestReporter implements ITestListener {\n\n    @Override\n    public void onTestFailure(ITestResult result) {\n      String msg =\n          String.format(\n              \"[%s()] failed for data %s\",\n              result.getMethod().getMethodName(), Arrays.toString(result.getParameters()));\n      System.err.println(msg);\n    }\n  }\n}\n</code></pre>\n\n<p>Here's the output for the above code execution.</p>\n\n<pre><code>executing test  for data [One]\nexecuting test  for data [Two]\n[test()] failed for data [Three]\n\n[test()] failed for data [Four]\n\n[test()] failed for data [Five]\n\njava.lang.AssertionError: Simulating a failure for [Three]\n\n    at org.testng.Assert.fail(Assert.java:97)\n    at com.rationaleemotions.stackoverflow.qn53781839.TestclassExample.test(TestclassExample.java:21)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:131)\n    at org.testng.internal.MethodInvocationHelper$1.runTestMethod(MethodInvocationHelper.java:237)\n    at com.rationaleemotions.stackoverflow.qn53781839.TestclassExample.run(TestclassExample.java:36)\n    at org.testng.internal.MethodInvocationHelper.invokeHookable(MethodInvocationHelper.java:249)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:654)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:792)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1103)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:140)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:122)\n    at org.testng.TestRunner.privateRun(TestRunner.java:739)\n    at org.testng.TestRunner.run(TestRunner.java:589)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:398)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:392)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:354)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:302)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1145)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1067)\n    at org.testng.TestNG.runSuites(TestNG.java:997)\n    at org.testng.TestNG.run(TestNG.java:965)\n    at org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:73)\n    at org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:123)\n\n\n===============================================\nDefault Suite\nTotal tests run: 5, Passes: 2, Failures: 3, Skips: 0\n===============================================\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3128505,"reputation":1160,"user_id":2646919,"display_name":"zAlbee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685155309,"creation_date":1685155309,"answer_id":76345124,"question_id":53781839,"body_markdown":"There&#39;s an easier way. You can declare an `@AfterMethod` method with a `ITestResult` parameter -- this parameter will get auto-injected with the test result. Call `isSuccess()` to see if the method passed or failed. You can then do whatever you want with that information, such as causing future tests to be skipped by throwing a `SkipException`.\r\n\r\n```java\r\nimport org.testng.ITestResult;\r\nimport org.testng.SkipException;\r\nimport org.testng.annotations.AfterMethod;\r\nimport org.testng.annotations.DataProvider;\r\nimport org.testng.annotations.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\n\r\npublic class TestTest {\r\n\r\n\tboolean hasFailures = false;\r\n\r\n\t@AfterMethod\r\n\tpublic void afterMethod(ITestResult result) {\r\n\t\tif (!result.isSuccess()) {\r\n\t\t\thasFailures = true;\r\n\t\t}\r\n\t}\r\n\r\n\t@DataProvider\r\n\tpublic Object[][] params() {\r\n\t\treturn new Object[][] {\r\n\t\t\t{ 1 }, { 2 }, { 3 }, { 4 }, { 5 },\r\n\t\t};\r\n\t}\r\n\r\n\t@Test(dataProvider = &quot;params&quot;)\r\n\tpublic void test(Integer n) {\r\n\t\tif (hasFailures) {\r\n\t\t\tthrow new SkipException(&quot;a previous test failed&quot;);\r\n\t\t}\r\n\t\tif (n == 2) {\r\n\t\t\tfail();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nResult:\r\n```\r\nPASSED: TestTest.test(1)\r\nFAILED: TestTest.test(2)\r\n&lt;stack trace omitted&gt;\r\n\r\nSKIPPED: TestTest.test(3)\r\norg.testng.SkipException: a previous test failed\r\n&lt;stack trace omitted&gt;\r\n\r\nSKIPPED: TestTest.test(4)\r\norg.testng.SkipException: a previous test failed\r\n&lt;stack trace omitted&gt;\r\n\r\nSKIPPED: TestTest.test(5)\r\norg.testng.SkipException: a previous test failed\r\n&lt;stack trace omitted&gt;\r\n\r\n===============================================\r\n    Default test\r\n    Tests run: 1, Failures: 1, Skips: 3\r\n===============================================\r\n\r\n===============================================\r\nDefault suite\r\nTotal tests run: 5, Passes: 1, Failures: 1, Skips: 3\r\n===============================================","title":"TestNG dataprovider skip after fail","body":"<p>There's an easier way. You can declare an <code>@AfterMethod</code> method with a <code>ITestResult</code> parameter -- this parameter will get auto-injected with the test result. Call <code>isSuccess()</code> to see if the method passed or failed. You can then do whatever you want with that information, such as causing future tests to be skipped by throwing a <code>SkipException</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.testng.ITestResult;\nimport org.testng.SkipException;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\nimport static org.junit.jupiter.api.Assertions.fail;\n\npublic class TestTest {\n\n    boolean hasFailures = false;\n\n    @AfterMethod\n    public void afterMethod(ITestResult result) {\n        if (!result.isSuccess()) {\n            hasFailures = true;\n        }\n    }\n\n    @DataProvider\n    public Object[][] params() {\n        return new Object[][] {\n            { 1 }, { 2 }, { 3 }, { 4 }, { 5 },\n        };\n    }\n\n    @Test(dataProvider = &quot;params&quot;)\n    public void test(Integer n) {\n        if (hasFailures) {\n            throw new SkipException(&quot;a previous test failed&quot;);\n        }\n        if (n == 2) {\n            fail();\n        }\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>PASSED: TestTest.test(1)\nFAILED: TestTest.test(2)\n&lt;stack trace omitted&gt;\n\nSKIPPED: TestTest.test(3)\norg.testng.SkipException: a previous test failed\n&lt;stack trace omitted&gt;\n\nSKIPPED: TestTest.test(4)\norg.testng.SkipException: a previous test failed\n&lt;stack trace omitted&gt;\n\nSKIPPED: TestTest.test(5)\norg.testng.SkipException: a previous test failed\n&lt;stack trace omitted&gt;\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 1, Skips: 3\n===============================================\n\n===============================================\nDefault suite\nTotal tests run: 5, Passes: 1, Failures: 1, Skips: 3\n===============================================\n</code></pre>\n"}],"owner":{"account_id":2039015,"reputation":13,"user_id":1820672,"display_name":"Veronika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53800977,"answer_count":2,"score":0,"last_activity_date":1685155309,"creation_date":1544798588,"question_id":53781839,"body_markdown":"For example I have code for test\r\n\r\n    @Test(dataprovider = &quot;getData&quot;)\r\n    public void test(String data) {\r\n        //perform some action using &#39;data&#39;\r\n    }\r\n    \r\n    @DataProvider\r\n    public Object[][] getData(){\r\n        return new Object[][]{\r\n            {&quot;One&quot;},\r\n            {&quot;Two&quot;},\r\n            {&quot;Three&quot;},\r\n            {&quot;Four&quot;},\r\n            {&quot;Five&quot;}\r\n        };      \r\n    }\r\n\r\nFor example test with data {&quot;Three&quot;} will be failed.\r\nI need that tests for  {&quot;Four&quot;}, {&quot;Five&quot;} will skipped or failed(if {&quot;Three&quot;} was failed).\r\nHow can I do that?\r\nThanks.","title":"TestNG dataprovider skip after fail","body":"<p>For example I have code for test</p>\n\n<pre><code>@Test(dataprovider = \"getData\")\npublic void test(String data) {\n    //perform some action using 'data'\n}\n\n@DataProvider\npublic Object[][] getData(){\n    return new Object[][]{\n        {\"One\"},\n        {\"Two\"},\n        {\"Three\"},\n        {\"Four\"},\n        {\"Five\"}\n    };      \n}\n</code></pre>\n\n<p>For example test with data {\"Three\"} will be failed.\nI need that tests for  {\"Four\"}, {\"Five\"} will skipped or failed(if {\"Three\"} was failed).\nHow can I do that?\nThanks.</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1487066771,"post_id":42223159,"comment_id":71606179,"body_markdown":"Sure. `test2.name = &quot;ASD&quot;; test2.disp();` It&#39;s a static method, printing a static variable.","body":"Sure. <code>test2.name = &quot;ASD&quot;; test2.disp();</code> It&#39;s a static method, printing a static variable."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1487067846,"post_id":42223159,"comment_id":71606930,"body_markdown":"Short answer: no, you cannot invoke a constructor like a normal method.","body":"Short answer: no, you cannot invoke a constructor like a normal method."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1487067875,"post_id":42223159,"comment_id":71606954,"body_markdown":"name is not initialized, so I guess it will print &quot;Printing data null&quot;","body":"name is not initialized, so I guess it will print &quot;Printing data null&quot;"},{"owner":{"account_id":8847858,"reputation":1120,"user_id":6791449,"accept_rate":39,"display_name":"Prashant Prabhakar Singh"},"score":0,"creation_date":1487068591,"post_id":42223159,"comment_id":71607464,"body_markdown":"Just advice: Class name should start with upperCase like `Test1` and `Test2` not `test1`.","body":"Just advice: Class name should start with upperCase like <code>Test1</code> and <code>Test2</code> not <code>test1</code>."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1685155545,"post_id":42223159,"comment_id":134626075,"body_markdown":"The purpose of a constructor is to construct. The end.","body":"The purpose of a constructor is to construct. The end."}],"answers":[{"tags":[],"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487067172,"creation_date":1487067172,"answer_id":42223317,"question_id":42223159,"body_markdown":"Assign a value to the name object of test 2 class. It will work.\r\n\r\n    public static void main(String[] args) {\r\n    \t\ttest2.name = &quot;ASD&quot;;\r\n    \t\tdisp();\r\n    \t}","title":"Can we invoke a constructor without creating its object","body":"<p>Assign a value to the name object of test 2 class. It will work.</p>\n\n<pre><code>public static void main(String[] args) {\n        test2.name = \"ASD\";\n        disp();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8847858,"reputation":1120,"user_id":6791449,"accept_rate":39,"display_name":"Prashant Prabhakar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487070024,"creation_date":1487068516,"answer_id":42223847,"question_id":42223159,"body_markdown":"**NO**. You can&#39;t invoke a constructor without creating an object.&lt;br&gt;\r\nUnless you create object of test2 by `test2 = new test2();`, you will get `null` in name. &lt;br&gt;\r\n\r\nThe only way you would have invoked a constructor if it was static, but [constructors in Java can&#39;t be static.][1] So you have create an object to invoke constructor.\r\n\r\n\r\n  [1]: http://beginnersbook.com/2013/05/static-constructor/","title":"Can we invoke a constructor without creating its object","body":"<p><strong>NO</strong>. You can't invoke a constructor without creating an object.<br>\nUnless you create object of test2 by <code>test2 = new test2();</code>, you will get <code>null</code> in name. <br></p>\n\n<p>The only way you would have invoked a constructor if it was static, but <a href=\"http://beginnersbook.com/2013/05/static-constructor/\" rel=\"nofollow noreferrer\">constructors in Java can't be static.</a> So you have create an object to invoke constructor.</p>\n"},{"tags":[],"owner":{"account_id":3484321,"reputation":540,"user_id":2915624,"accept_rate":87,"display_name":"IfOnly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487068914,"creation_date":1487068914,"answer_id":42223998,"question_id":42223159,"body_markdown":"    public class MainJava extends Test{\r\n\r\n        public static void main(String[] args){\r\n            //Option 1\r\n            disp();\r\n\r\n            //Option 2\r\n            name = &quot;ABCD&quot;;\r\n            disp();\r\n            \r\n            //Option 3\r\n            new Test();\r\n            disp();\r\n        }\r\n\r\n        }\r\n\r\n        class Test {\r\n        public static String name = &quot;TEMP&quot;;\r\n        \r\n        public Test() {\r\n            // Will not get called. Unless you create Object\r\n            name = &quot;ASD&quot;;\r\n        }\r\n        \r\n        public static void disp() {\r\n            System.out.println(&quot;Printing Data &quot; + name);\r\n        }\r\n    }\r\n\r\n","title":"Can we invoke a constructor without creating its object","body":"<pre><code>public class MainJava extends Test{\n\n    public static void main(String[] args){\n        //Option 1\n        disp();\n\n        //Option 2\n        name = \"ABCD\";\n        disp();\n\n        //Option 3\n        new Test();\n        disp();\n    }\n\n    }\n\n    class Test {\n    public static String name = \"TEMP\";\n\n    public Test() {\n        // Will not get called. Unless you create Object\n        name = \"ASD\";\n    }\n\n    public static void disp() {\n        System.out.println(\"Printing Data \" + name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5373501,"reputation":6127,"user_id":4281239,"accept_rate":45,"display_name":"AADProgramming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487425934,"creation_date":1487425606,"answer_id":42315948,"question_id":42223159,"body_markdown":"You don&#39;t have to invoke the constructor of parent class at all, \r\nif all you want in your child class is an initialised value of `name` class member, then you can do the declaration + initializations in one go as below.\r\n\r\n    public static String name = &quot;ASD&quot;;\r\n\r\nThe above style makes it clear at a glance how the variable is initialised and it will also print the expected output.\r\n\r\nOf course, if the initialization value is different in different constructors, you must do it in the constructor. You can read more about object initialisation in [this article][1].\r\n\r\n\r\n  [1]: http://www.javaworld.com/article/2076614/core-java/object-initialization-in-java.html","title":"Can we invoke a constructor without creating its object","body":"<p>You don't have to invoke the constructor of parent class at all, \nif all you want in your child class is an initialised value of <code>name</code> class member, then you can do the declaration + initializations in one go as below.</p>\n\n<pre><code>public static String name = \"ASD\";\n</code></pre>\n\n<p>The above style makes it clear at a glance how the variable is initialised and it will also print the expected output.</p>\n\n<p>Of course, if the initialization value is different in different constructors, you must do it in the constructor. You can read more about object initialisation in <a href=\"http://www.javaworld.com/article/2076614/core-java/object-initialization-in-java.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n"},{"tags":[],"owner":{"account_id":28657151,"reputation":1,"user_id":21942878,"display_name":"Manjunath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685154829,"creation_date":1685154779,"answer_id":76345103,"question_id":42223159,"body_markdown":"No, Without the creation of an object we cannot invoke a constructor","title":"Can we invoke a constructor without creating its object","body":"<p>No, Without the creation of an object we cannot invoke a constructor</p>\n"}],"owner":{"account_id":7302276,"reputation":886,"user_id":5564537,"display_name":"Prasad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4680,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1685154829,"creation_date":1487066739,"question_id":42223159,"body_markdown":"What is happening in this code? I want to display the output as &quot;Printing data ASD&quot; without invoking the constructor. \r\n\r\nThe child class:\r\n\r\n    package com.javatraining;\r\n\r\n    public class test1 extends test2{\r\n\r\n        public static void main(String[] args) {\r\n            disp();\r\n        }\r\n    }\r\n\r\nThe parent class:\r\n\r\n    package com.javatraining;\r\n\r\n    public class test2\r\n    {\r\n        public static String name;\t\r\n\t\r\n        public test2(){\r\n            name=&quot;ASD&quot;;\r\n        }\r\n\t\r\n        public static void disp(){\r\n            //test2 t=new test2();\r\n            System.out.println(&quot;Printing data &quot;+name);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Can we invoke a constructor without creating its object","body":"<p>What is happening in this code? I want to display the output as \"Printing data ASD\" without invoking the constructor. </p>\n\n<p>The child class:</p>\n\n<pre><code>package com.javatraining;\n\npublic class test1 extends test2{\n\n    public static void main(String[] args) {\n        disp();\n    }\n}\n</code></pre>\n\n<p>The parent class:</p>\n\n<pre><code>package com.javatraining;\n\npublic class test2\n{\n    public static String name;  \n\n    public test2(){\n        name=\"ASD\";\n    }\n\n    public static void disp(){\n        //test2 t=new test2();\n        System.out.println(\"Printing data \"+name);\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1685056400,"post_id":76336729,"comment_id":134611880,"body_markdown":"I think we NEED a minimal reproducible example to confirm that there *really* is a difference between the OpenJDK an Oracle versions ... as you are claiming. Why?  Because OpenJDK and Oracle JDK are (we are told) built from the same source code.  So, short of a major stuff-up in running the respective builds, it is hard to see how there *could* be a difference like this.  (Note: I haven&#39;t looked at the source code for this fix ...)","body":"I think we NEED a minimal reproducible example to confirm that there <i>really</i> is a difference between the OpenJDK an Oracle versions ... as you are claiming. Why?  Because OpenJDK and Oracle JDK are (we are told) built from the same source code.  So, short of a major stuff-up in running the respective builds, it is hard to see how there <i>could</i> be a difference like this.  (Note: I haven&#39;t looked at the source code for this fix ...)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685057810,"post_id":76336729,"comment_id":134612017,"body_markdown":"And ... you should have a minimal reproducible example before you submit a bug.","body":"And ... you should have a minimal reproducible example before you submit a bug."},{"owner":{"account_id":10555074,"reputation":51,"user_id":7776567,"display_name":"dimizuno"},"score":0,"creation_date":1685097424,"post_id":76336729,"comment_id":134617271,"body_markdown":"Thank you Stephen. That makes totally sense. I have included an MRE now.","body":"Thank you Stephen. That makes totally sense. I have included an MRE now."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685105721,"post_id":76336729,"comment_id":134618956,"body_markdown":"Thanks.  Hopefully, someone will take the time to reproduce / confirm this for you.  Unfortunately, I don&#39;t have a Windows box.  (Sorry.)","body":"Thanks.  Hopefully, someone will take the time to reproduce / confirm this for you.  Unfortunately, I don&#39;t have a Windows box.  (Sorry.)"}],"owner":{"account_id":10555074,"reputation":51,"user_id":7776567,"display_name":"dimizuno"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1685152788,"creation_date":1685055917,"question_id":76336729,"body_markdown":"I recently found a difference in the behavior between Oracle JDK and OpenJDK that really surprised me. Maybe someone who is more familiar with the process could explain if this is a bug or a feature. \r\n\r\nWith release 8u311 ([change log](https://www.oracle.com/java/technologies/javase/8u311-relnotes.html#JDK-8161016)) Oracle introduced a fix for this issue: [JDK-8161016](https://bugs.openjdk.org/browse/JDK-8161016)\r\nIn short, if a connection via proxy would not work, the HttpURLConnection class would fall back to a direct connection. With this release, the default behavior was changed to throw an exception instead. As you can see from the change log and the sub-task in the bug tracker on openjdk.org, there should also be a property called `sun.net.http.fallbackToDirect` that re-activates the old behavior if you need it.\r\n\r\n\r\nI have tested the property in Oracle JDK and the property works fine (&lt;s&gt;unfortunately I don&#39;t have an MRE right now&lt;/s&gt;). However, with OpenJDK 8u312 (there is no 311 mind you) the property does not work. If we look into the [source code](https://github.com/openjdk/jdk8u/commits/master/jdk/src/share/classes/sun/net/www/protocol/http/HttpURLConnection.java), it looks like only the first sub-task of the above mentioned bug fix was implemented and the second one wasn&#39;t. The bug tracker also only is mentioning version 8u311 as the fixed version which does not exist in OpenJDK at all.\r\n\r\nSo is this difference between the JDKs on purpose or unintended? I wanted to ask here first before reporting it as a bug.\r\n\r\n\r\n**EDIT 1:**\r\n\r\nI have created an MRE based on the test class that was created in the [original bug fix](https://hg.openjdk.org/jdk8u/jdk8u/jdk/rev/e091a3b3405d). If you run it with Oracle&#39;s 8u311 the property works fine, i.e. a timeout on the proxy results in a fallback to a direct connection attempt. With OpenJDK 8u312-b07 (Adoptium build) the property is ignored, i.e. a SocketTimeoutException is thrown. I&#39;m testing on Windows 10.\r\n\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n\r\n    public class ProxyMRE {\r\n\t    public static void main(String... arg) {\r\n\t\t    // Remove the default nonProxyHosts to use localhost for testing\r\n\t\t    System.setProperty(&quot;http.nonProxyHosts&quot;, &quot;&quot;);\r\n\t\t    System.setProperty(&quot;http.proxyHost&quot;, &quot;1.1.1.1&quot;);\r\n\t\t    System.setProperty(&quot;http.proxyPort&quot;, &quot;1111&quot;);\r\n\t\t\r\n\t\t    // Set the fallback property (does not exist in OpenJDK)\r\n\t\t    System.setProperty(&quot;sun.net.http.fallbackToDirect&quot;, &quot;true&quot;);\r\n\r\n\t\t    ServerSocket ss;\r\n\t\t    URL url;\r\n\t\t    URLConnection con;\r\n\r\n\t\t    // Test: using Proxy set by System Property\r\n\t\t    try {\r\n\t\t\t    ss = new ServerSocket(0);\r\n\t\t\t    url = new URL(&quot;http://localhost:&quot; + ss.getLocalPort());\r\n\t\t\t    con = url.openConnection();\r\n\t\t\t    con.setConnectTimeout(10 * 1000);\r\n\t\t\t    con.connect();\r\n\t\t\t    System.out.println(&quot;Fallback to DIRECT connection works!&quot;);\r\n\t\t    } catch (IOException ie) {\r\n\t\t\t    System.out.println(&quot;There is no fallback to a DIRECT connection attempt.&quot;);\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\n\r\n**EDIT 2:**\r\n\r\nI did some additional testing and I tried to understand the chronology of this change. The original fix, i.e. not falling back to a DIRECT connection attempt if the connection via proxy fails, was [introduced](https://bugs.openjdk.org/browse/JDK-8161016) in 2016 during the development of Java 9. The [change log](https://www.oracle.com/java/technologies/javase/9-all-relnotes.html#JDK-8161016) of the first release in 2017 clearly addresses the change and does not mention any property that would allow to reintroduce the fallback.\r\n\r\nIn 2021 the change was back-ported to Java 7 and 8. This is apparently the point in time when the `sun.net.http.fallbackToDirect` property was introduced. We can see it being mentioned in a [sub-task](https://bugs.openjdk.org/browse/JDK-8268881), in the release notes for [8u311](https://www.oracle.com/java/technologies/javase/8u311-relnotes.html) and [7u321](https://www.oracle.com/java/technologies/javase/7u321-relnotes.html), but it never made it into the OpenJDK source code. So the above mentioned difference between Oracle JDK and OpenJDK is still present in Java 8 up until the latest release 8u361. In all subsequent Java versions this is not the case.","title":"Is the difference in HTTPURLConnection behavior between Oracle JDK and OpenJDK intentional or a bug?","body":"<p>I recently found a difference in the behavior between Oracle JDK and OpenJDK that really surprised me. Maybe someone who is more familiar with the process could explain if this is a bug or a feature.</p>\n<p>With release 8u311 (<a href=\"https://www.oracle.com/java/technologies/javase/8u311-relnotes.html#JDK-8161016\" rel=\"nofollow noreferrer\">change log</a>) Oracle introduced a fix for this issue: <a href=\"https://bugs.openjdk.org/browse/JDK-8161016\" rel=\"nofollow noreferrer\">JDK-8161016</a>\nIn short, if a connection via proxy would not work, the HttpURLConnection class would fall back to a direct connection. With this release, the default behavior was changed to throw an exception instead. As you can see from the change log and the sub-task in the bug tracker on openjdk.org, there should also be a property called <code>sun.net.http.fallbackToDirect</code> that re-activates the old behavior if you need it.</p>\n<p>I have tested the property in Oracle JDK and the property works fine (<s>unfortunately I don't have an MRE right now</s>). However, with OpenJDK 8u312 (there is no 311 mind you) the property does not work. If we look into the <a href=\"https://github.com/openjdk/jdk8u/commits/master/jdk/src/share/classes/sun/net/www/protocol/http/HttpURLConnection.java\" rel=\"nofollow noreferrer\">source code</a>, it looks like only the first sub-task of the above mentioned bug fix was implemented and the second one wasn't. The bug tracker also only is mentioning version 8u311 as the fixed version which does not exist in OpenJDK at all.</p>\n<p>So is this difference between the JDKs on purpose or unintended? I wanted to ask here first before reporting it as a bug.</p>\n<p><strong>EDIT 1:</strong></p>\n<p>I have created an MRE based on the test class that was created in the <a href=\"https://hg.openjdk.org/jdk8u/jdk8u/jdk/rev/e091a3b3405d\" rel=\"nofollow noreferrer\">original bug fix</a>. If you run it with Oracle's 8u311 the property works fine, i.e. a timeout on the proxy results in a fallback to a direct connection attempt. With OpenJDK 8u312-b07 (Adoptium build) the property is ignored, i.e. a SocketTimeoutException is thrown. I'm testing on Windows 10.</p>\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class ProxyMRE {\n    public static void main(String... arg) {\n        // Remove the default nonProxyHosts to use localhost for testing\n        System.setProperty(&quot;http.nonProxyHosts&quot;, &quot;&quot;);\n        System.setProperty(&quot;http.proxyHost&quot;, &quot;1.1.1.1&quot;);\n        System.setProperty(&quot;http.proxyPort&quot;, &quot;1111&quot;);\n    \n        // Set the fallback property (does not exist in OpenJDK)\n        System.setProperty(&quot;sun.net.http.fallbackToDirect&quot;, &quot;true&quot;);\n\n        ServerSocket ss;\n        URL url;\n        URLConnection con;\n\n        // Test: using Proxy set by System Property\n        try {\n            ss = new ServerSocket(0);\n            url = new URL(&quot;http://localhost:&quot; + ss.getLocalPort());\n            con = url.openConnection();\n            con.setConnectTimeout(10 * 1000);\n            con.connect();\n            System.out.println(&quot;Fallback to DIRECT connection works!&quot;);\n        } catch (IOException ie) {\n            System.out.println(&quot;There is no fallback to a DIRECT connection attempt.&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>EDIT 2:</strong></p>\n<p>I did some additional testing and I tried to understand the chronology of this change. The original fix, i.e. not falling back to a DIRECT connection attempt if the connection via proxy fails, was <a href=\"https://bugs.openjdk.org/browse/JDK-8161016\" rel=\"nofollow noreferrer\">introduced</a> in 2016 during the development of Java 9. The <a href=\"https://www.oracle.com/java/technologies/javase/9-all-relnotes.html#JDK-8161016\" rel=\"nofollow noreferrer\">change log</a> of the first release in 2017 clearly addresses the change and does not mention any property that would allow to reintroduce the fallback.</p>\n<p>In 2021 the change was back-ported to Java 7 and 8. This is apparently the point in time when the <code>sun.net.http.fallbackToDirect</code> property was introduced. We can see it being mentioned in a <a href=\"https://bugs.openjdk.org/browse/JDK-8268881\" rel=\"nofollow noreferrer\">sub-task</a>, in the release notes for <a href=\"https://www.oracle.com/java/technologies/javase/8u311-relnotes.html\" rel=\"nofollow noreferrer\">8u311</a> and <a href=\"https://www.oracle.com/java/technologies/javase/7u321-relnotes.html\" rel=\"nofollow noreferrer\">7u321</a>, but it never made it into the OpenJDK source code. So the above mentioned difference between Oracle JDK and OpenJDK is still present in Java 8 up until the latest release 8u361. In all subsequent Java versions this is not the case.</p>\n"},{"tags":["java","android","kotlin","retrofit","rx-java2"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1685163232,"post_id":76345027,"comment_id":134626464,"body_markdown":"WHen you&#39;re using a random library off github that hasn&#39;t had a release in 5 years, this is what you get.  I suggest not using this library, it appears completely abandoned.  Use something with far more support in the field, like Retrofit or even Volley.","body":"WHen you&#39;re using a random library off github that hasn&#39;t had a release in 5 years, this is what you get.  I suggest not using this library, it appears completely abandoned.  Use something with far more support in the field, like Retrofit or even Volley."},{"owner":{"account_id":13882612,"reputation":1495,"user_id":10022587,"display_name":"Hamdy Abd El Fattah"},"score":0,"creation_date":1685178202,"post_id":76345027,"comment_id":134627570,"body_markdown":"I agree with you but this legacy project i should fix it and change library with retrofit will be a very high cost.","body":"I agree with you but this legacy project i should fix it and change library with retrofit will be a very high cost."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1685194585,"post_id":76345027,"comment_id":134629286,"body_markdown":"It may be worth that cost anyway.  The alternative is to fork this library and fix it yourself.  That also has a cost, and if another issue pops up in the future it will have that cost again.  I&#39;d also worry about it&#39;s dependencies-  is it using an outdated version of OkHTTP (what it uses to make the actual calls)?  If so, you&#39;re going to have any security bug found since that version.  Networking libraries are the last thing you want to let go obsolete.","body":"It may be worth that cost anyway.  The alternative is to fork this library and fix it yourself.  That also has a cost, and if another issue pops up in the future it will have that cost again.  I&#39;d also worry about it&#39;s dependencies-  is it using an outdated version of OkHTTP (what it uses to make the actual calls)?  If so, you&#39;re going to have any security bug found since that version.  Networking libraries are the last thing you want to let go obsolete."}],"owner":{"account_id":13882612,"reputation":1495,"user_id":10022587,"display_name":"Hamdy Abd El Fattah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685151442,"creation_date":1685151442,"question_id":76345027,"body_markdown":"**I get this error message when making a request by Rx2AndroidNetworking.**\r\n\r\n\r\njava.lang.IllegalArgumentException: com.gomini.gominipassenger: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n                                                                                                    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\n**This my code**\r\n\r\n    public static Observable&lt;AppVersion&gt; checkAppVersion() {\r\n        return Rx2AndroidNetworking.post(Constant.Api.Url.BASE_URL + Constant.Api.Url.CHECK_APP_VERSION)\r\n                .addBodyParameter(Constant.Api.CheckAppVersion.APP_VERSION, String.valueOf(BuildConfig.VERSION_CODE))\r\n                .addBodyParameter(Constant.Api.CheckAppVersion.DEVICE_TYPE, Constant.DEVICE_TYPE)\r\n                .setOkHttpClient(client)\r\n                .build()\r\n                .getObjectObservable(AppVersion.class)\r\n                .compose(RxUtils.applyNetworkSchedulers());\r\n\r\n**This is used library**\r\n\r\n    implementation &#39;com.amitshekhar.android:rx2-android-networking:1.0.2&#39;\r\n","title":"Rx2AndroidNetworking that created by amitshekhar not work with android version 31 and above","body":"<p><strong>I get this error message when making a request by Rx2AndroidNetworking.</strong></p>\n<p>java.lang.IllegalArgumentException: com.gomini.gominipassenger: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.</p>\n<p><strong>This my code</strong></p>\n<pre><code>public static Observable&lt;AppVersion&gt; checkAppVersion() {\n    return Rx2AndroidNetworking.post(Constant.Api.Url.BASE_URL + Constant.Api.Url.CHECK_APP_VERSION)\n            .addBodyParameter(Constant.Api.CheckAppVersion.APP_VERSION, String.valueOf(BuildConfig.VERSION_CODE))\n            .addBodyParameter(Constant.Api.CheckAppVersion.DEVICE_TYPE, Constant.DEVICE_TYPE)\n            .setOkHttpClient(client)\n            .build()\n            .getObjectObservable(AppVersion.class)\n            .compose(RxUtils.applyNetworkSchedulers());\n</code></pre>\n<p><strong>This is used library</strong></p>\n<pre><code>implementation 'com.amitshekhar.android:rx2-android-networking:1.0.2'\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9586,"page":406,"page_size":100}
