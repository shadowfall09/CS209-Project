{"items":[{"tags":["java","spring","spring-boot","spring-aop"],"comments":[{"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1618043301,"post_id":67032089,"comment_id":118486689,"body_markdown":"This someStream.forEach(this::doSomething); works?","body":"This someStream.forEach(this::doSomething); works?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1618044671,"post_id":67032089,"comment_id":118486989,"body_markdown":"But if `doSomething` is called in a different thread (which is a possibility when using an action on a parallel stream), shouldn&#39;t it be expected that `instance` will be of a different thread? How do you make sure that the thread-local is initialized in all those threads?","body":"But if <code>doSomething</code> is called in a different thread (which is a possibility when using an action on a parallel stream), shouldn&#39;t it be expected that <code>instance</code> will be of a different thread? How do you make sure that the thread-local is initialized in all those threads?"},{"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"score":0,"creation_date":1618082650,"post_id":67032089,"comment_id":118496774,"body_markdown":"@dreamcrash yes, someStream.forEach works but I need parallel eecution.","body":"@dreamcrash yes, someStream.forEach works but I need parallel eecution."},{"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"score":0,"creation_date":1618082756,"post_id":67032089,"comment_id":118496801,"body_markdown":"@ernest_k If I understand correctly InheritableThreadLocal need to add this value to child treads automatically, I am able to see this value in all child threads in all methods except in AOP method","body":"@ernest_k If I understand correctly InheritableThreadLocal need to add this value to child treads automatically, I am able to see this value in all child threads in all methods except in AOP method"},{"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1618084361,"post_id":67032089,"comment_id":118497164,"body_markdown":"@AkifHadziabdic did you try with parallelStream() ?","body":"@AkifHadziabdic did you try with parallelStream() ?"},{"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"score":0,"creation_date":1618084872,"post_id":67032089,"comment_id":118497260,"body_markdown":"No, I thought it is the same.","body":"No, I thought it is the same."},{"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":1,"creation_date":1618085538,"post_id":67032089,"comment_id":118497405,"body_markdown":"@AkifHadziabdic In theory, yes but I would tried anyway just in case","body":"@AkifHadziabdic In theory, yes but I would tried anyway just in case"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1618284850,"post_id":67032089,"comment_id":118549176,"body_markdown":"Please learn how to ask good questions using an [MCVE](https://stackoverflow.com/help/mcve). There is way too much information hiding here. Where is the thread-local defined? How is it initialised? What does the intercepted method do? What does the stream contain? With an incoherent set of arbitrary code snippets I cannot answer these questions. Just give me an MCVE to work with and I shall be happy to answer your question. I am quite sure it is not an AOP problem but false understanding about how to do multi-threading with thread-locals.","body":"Please learn how to ask good questions using an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. There is way too much information hiding here. Where is the thread-local defined? How is it initialised? What does the intercepted method do? What does the stream contain? With an incoherent set of arbitrary code snippets I cannot answer these questions. Just give me an MCVE to work with and I shall be happy to answer your question. I am quite sure it is not an AOP problem but false understanding about how to do multi-threading with thread-locals."}],"answers":[{"tags":[],"owner":{"account_id":5220693,"reputation":53,"user_id":4174254,"display_name":"Arno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643704337,"creation_date":1643704337,"answer_id":70937496,"question_id":67032089,"body_markdown":"From the little information shared on this issue, I need to do some guessing:\r\nsomeStream.parallel() will use the default Threadpool, which is ForkJoinPool.commonPool(). These Threads get reused. When using InheritableThreadLocal, then &#39;inheriting&#39;/sharing of the values from the parent Threads only happens if the ChildThread is created. When the Value of the ParentThread changes later on, the ChildThreads, value is not changed anymore.\r\n\r\nSo I guess AOP is using the defaultThread pool as well and the ChildThreads are generated before you code executes and before you set the value for the parentThread (which is supposed to be inherited to the childs, but wont, because the Threads are reused instead of recreated).\r\n\r\nUsing InheritableThreadLocal and the default Threadpool doesnt make sense to me. You may want to look into using custom thread pools like this\r\nhttps://www.baeldung.com/java-8-parallel-streams-custom-threadpool\r\n","title":"InheritableThreadLocal with parallel stream and AOP","body":"<p>From the little information shared on this issue, I need to do some guessing:\nsomeStream.parallel() will use the default Threadpool, which is ForkJoinPool.commonPool(). These Threads get reused. When using InheritableThreadLocal, then 'inheriting'/sharing of the values from the parent Threads only happens if the ChildThread is created. When the Value of the ParentThread changes later on, the ChildThreads, value is not changed anymore.</p>\n<p>So I guess AOP is using the defaultThread pool as well and the ChildThreads are generated before you code executes and before you set the value for the parentThread (which is supposed to be inherited to the childs, but wont, because the Threads are reused instead of recreated).</p>\n<p>Using InheritableThreadLocal and the default Threadpool doesnt make sense to me. You may want to look into using custom thread pools like this\n<a href=\"https://www.baeldung.com/java-8-parallel-streams-custom-threadpool\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-8-parallel-streams-custom-threadpool</a></p>\n"}],"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643704337,"creation_date":1618041783,"question_id":67032089,"body_markdown":"I am using InheritableThreadLocal in order to prepare data for thread and child threads.\r\n\r\n    static InheritableThreadLocal&lt;SomeType&gt; instance\r\n\r\nAlso, I am using parallel stream something like this:\r\n\r\n    someStream.parallel().forEach(this::doSomething);\r\nAlso, I am using spring AOP, which will be triggerd by doSomething method:\r\n\r\n    @Around(value = &quot;within(package.SomeService+)&quot;)\r\n    public Object execution(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n       instance.get(); // sometimes value is null sometimes not\r\n    }\r\n\r\nInheritableThreadLocal works fine everywhere except inside the AOP execution method. Sometimes instance does not contain a value. Do you have any idea why?\r\nThis is related to parallel stream if I set the value to the instance as the first line of the parallel stream function I do not have a problem. Do you know the reason or I miss something to do?  ","title":"InheritableThreadLocal with parallel stream and AOP","body":"<p>I am using InheritableThreadLocal in order to prepare data for thread and child threads.</p>\n<pre><code>static InheritableThreadLocal&lt;SomeType&gt; instance\n</code></pre>\n<p>Also, I am using parallel stream something like this:</p>\n<pre><code>someStream.parallel().forEach(this::doSomething);\n</code></pre>\n<p>Also, I am using spring AOP, which will be triggerd by doSomething method:</p>\n<pre><code>@Around(value = &quot;within(package.SomeService+)&quot;)\npublic Object execution(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n   instance.get(); // sometimes value is null sometimes not\n}\n</code></pre>\n<p>InheritableThreadLocal works fine everywhere except inside the AOP execution method. Sometimes instance does not contain a value. Do you have any idea why?\nThis is related to parallel stream if I set the value to the instance as the first line of the parallel stream function I do not have a problem. Do you know the reason or I miss something to do?</p>\n"},{"tags":["java","jobrunr"],"comments":[{"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"score":0,"creation_date":1643658190,"post_id":70929225,"comment_id":125394295,"body_markdown":"It appears you do not have the complete JobRunr jar in your classpath. Did you alter or change this JobRunr jar?","body":"It appears you do not have the complete JobRunr jar in your classpath. Did you alter or change this JobRunr jar?"},{"owner":{"account_id":1031465,"reputation":51,"user_id":1039712,"display_name":"Sivakumar"},"score":0,"creation_date":1643681608,"post_id":70929225,"comment_id":125399900,"body_markdown":"Nope, I use maven and I have mentioned the Jackson Bind and Jobrunr in the pom.xml. Included the above code to be called on the server startup.","body":"Nope, I use maven and I have mentioned the Jackson Bind and Jobrunr in the pom.xml. Included the above code to be called on the server startup."}],"answers":[{"tags":[],"owner":{"account_id":1031465,"reputation":51,"user_id":1039712,"display_name":"Sivakumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643704050,"creation_date":1643704050,"answer_id":70937444,"question_id":70929225,"body_markdown":"Below workaround made it work for me,\r\n\r\nadd the below snippet in jboss-deployment-structure.xml \r\n\r\n            &lt;system&gt;\r\n                &lt;paths&gt;\r\n                    &lt;path name=&quot;com/sun/net/httpserver&quot;/&gt;\r\n                &lt;/paths&gt;\r\n            &lt;/system&gt;\r\n\r\nTo the server startup add,\r\n\r\n        public JobRunrConfiguration.JobRunrConfigurationResult initJobRunr() {\r\n        InMemoryStorageProvider storageProvider = new InMemoryStorageProvider();\r\n        (new InMemoryStorageProvider()).setJobMapper(new JobMapper(new JacksonJsonMapper()));\r\n        return JobRunr.configure()\r\n                .useStorageProvider(storageProvider)\r\n                .useBackgroundJobServer()\r\n                .useDashboard(5000)// if you want to customize the port\r\n                .useJmxExtensions()\r\n                .initialize();\r\n    }","title":"Jobrunr with non-spring-based java web application","body":"<p>Below workaround made it work for me,</p>\n<p>add the below snippet in jboss-deployment-structure.xml</p>\n<pre><code>        &lt;system&gt;\n            &lt;paths&gt;\n                &lt;path name=&quot;com/sun/net/httpserver&quot;/&gt;\n            &lt;/paths&gt;\n        &lt;/system&gt;\n</code></pre>\n<p>To the server startup add,</p>\n<pre><code>    public JobRunrConfiguration.JobRunrConfigurationResult initJobRunr() {\n    InMemoryStorageProvider storageProvider = new InMemoryStorageProvider();\n    (new InMemoryStorageProvider()).setJobMapper(new JobMapper(new JacksonJsonMapper()));\n    return JobRunr.configure()\n            .useStorageProvider(storageProvider)\n            .useBackgroundJobServer()\n            .useDashboard(5000)// if you want to customize the port\n            .useJmxExtensions()\n            .initialize();\n}\n</code></pre>\n"}],"owner":{"account_id":1031465,"reputation":51,"user_id":1039712,"display_name":"Sivakumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643704050,"creation_date":1643645775,"question_id":70929225,"body_markdown":"How can the jobrunr be integrated with non-spring-based java applications? I am trying to integrate jobrunr 4.0.6 with non-spring-based Java application but facing issues in getting the dashboard and the background server working. \r\n\r\nAny help / direction regarding this is appreciated. Thanks in advance.\r\n\r\n    public JobRunrConfiguration.JobRunrConfigurationResult initJobRunr() {\r\n    InMemoryStorageProvider storageProvider = new InMemoryStorageProvider();\r\n    (new InMemoryStorageProvider()).setJobMapper(new JobMapper(new JacksonJsonMapper()));\r\n    return JobRunr.configure()\r\n            .useStorageProvider(storageProvider)\r\n            .useBackgroundJobServer()\r\n            .useDashboard()\r\n            .initialize();\r\n}\r\n\r\nError: No classDef found error for obrunr/core/src/main/java/org/jobrunr/dashboard/server/HttpExchangeHandler","title":"Jobrunr with non-spring-based java web application","body":"<p>How can the jobrunr be integrated with non-spring-based java applications? I am trying to integrate jobrunr 4.0.6 with non-spring-based Java application but facing issues in getting the dashboard and the background server working.</p>\n<p>Any help / direction regarding this is appreciated. Thanks in advance.</p>\n<pre><code>public JobRunrConfiguration.JobRunrConfigurationResult initJobRunr() {\nInMemoryStorageProvider storageProvider = new InMemoryStorageProvider();\n(new InMemoryStorageProvider()).setJobMapper(new JobMapper(new JacksonJsonMapper()));\nreturn JobRunr.configure()\n        .useStorageProvider(storageProvider)\n        .useBackgroundJobServer()\n        .useDashboard()\n        .initialize();\n</code></pre>\n<p>}</p>\n<p>Error: No classDef found error for obrunr/core/src/main/java/org/jobrunr/dashboard/server/HttpExchangeHandler</p>\n"},{"tags":["java","string","nlp"],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643703763,"creation_date":1643703763,"answer_id":70937395,"question_id":70931155,"body_markdown":"Option 1\r\n------------\r\n\r\nUse [Diff Match Patch][1] library. It offers the following features:\r\n\r\n 1. **Diff:** Compare two blocks of plain text and efficiently return a list of differences\r\n2. **Match:** Given a search string, find its best fuzzy match in a block of plain text. Weighted for both accuracy and location.\r\n3. **Patch:** Apply a list of patches onto plain text. Use best-effort to apply patch even when the underlying text doesn&#39;t match.\r\n\r\n**Example** based on [this][2]:\r\n\r\n    import java.util.LinkedList;\r\n    import name.fraser.neil.plaintext.diff_match_patch;\r\n    \r\n    public class Test {\r\n      public static void main(String args[]) {\r\n        diff_match_patch dmp = new diff_match_patch();\r\n        LinkedList&lt;diff_match_patch.Diff&gt; diff = dmp.diff_main(&quot;This is a sentence&quot;, &quot;This was a sentences&quot;);\r\n        dmp.diff_cleanupSemantic(diff);\r\n        System.out.println(diff);\r\n      }\r\n    }\r\n\r\n**Output:**\r\n\r\n    [Diff(EQUAL,&quot;This &quot;), Diff(DELETE,&quot;i&quot;), Diff(INSERT,&quot;wa&quot;), Diff(EQUAL,&quot;s a sentence&quot;), Diff(INSERT,&quot;s&quot;)]\r\n\r\n\r\nOption 2\r\n--------\r\n\r\nUse [Diff Utils][3] library, which is an actively maintained fork of [java-diff-utils from Google Code Archive][4]. Diff Utils allows comparison operations between texts: computing diffs, applying patches, etc.\r\n\r\n**Example** (for more examples have a look [here][5]):\r\n\r\n    import com.github.difflib.text.*;\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// create a configured DiffRowGenerator\r\n    \t\tDiffRowGenerator generator = DiffRowGenerator.create().showInlineDiffs(true).mergeOriginalRevised(true)\r\n    \t\t\t\t.inlineDiffByWord(true).oldTag(f -&gt; &quot;~&quot;) // introduce markdown style for strikethrough\r\n    \t\t\t\t.newTag(f -&gt; &quot;**&quot;) // introduce markdown style for bold\r\n    \t\t\t\t.build();\r\n    \r\n    \t\t// compute the differences for two test texts.\r\n    \t\tList&lt;DiffRow&gt; rows = generator.generateDiffRows(Arrays.asList(&quot;This is a sentence&quot;),\r\n    \t\t\t\tArrays.asList(&quot;This was a sentences&quot;));\r\n    \r\n    \t\tSystem.out.println(rows.get(0).getOldLine());\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    This ~is~**was** a ~sentence~**sentences**\r\n\r\nOption 3\r\n--------\r\n\r\nCreate your own Diff utility, such as the one described [here][6]. The code below is as given in the above source, and uses [Longest Common Subsequence (LCS)][7] - which is a variation of [Edit distance][9] ([Levenshtein distance][8]) - to solve this problem.\r\n\r\n**Example:**\r\n\r\n\r\n    public class Main {\r\n    \t// Function to display the differences between two strings\r\n    \tpublic static void diff(String X, String Y, int m, int n, int[][] lookup) {\r\n    \t\t// if the last character of `X` and `Y` matches\r\n    \t\tif (m &gt; 0 &amp;&amp; n &gt; 0 &amp;&amp; X.charAt(m - 1) == Y.charAt(n - 1)) {\r\n    \t\t\tdiff(X, Y, m - 1, n - 1, lookup);\r\n    \t\t\tSystem.out.print(&quot; &quot; + X.charAt(m - 1));\r\n    \t\t}\r\n    \r\n    \t\t// if the current character of `Y` is not present in `X`\r\n    \t\telse if (n &gt; 0 &amp;&amp; (m == 0 || lookup[m][n - 1] &gt;= lookup[m - 1][n])) {\r\n    \t\t\tdiff(X, Y, m, n - 1, lookup);\r\n    \t\t\tSystem.out.print(&quot; +&quot; + Y.charAt(n - 1));\r\n    \t\t}\r\n    \r\n    \t\t// if the current character of `X` is not present in `Y`\r\n    \t\telse if (m &gt; 0 &amp;&amp; (n == 0 || lookup[m][n - 1] &lt; lookup[m - 1][n])) {\r\n    \t\t\tdiff(X, Y, m - 1, n, lookup);\r\n    \t\t\tSystem.out.print(&quot; -&quot; + X.charAt(m - 1));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// Function to fill the lookup table by finding the length of LCS\r\n        // of substring X[0…m-1] and Y[0…n-1]\r\n    \tpublic static int[][] findLCS(String X, String Y, int m, int n) {\r\n            // lookup[i][j] stores the length of LCS of substring X[0…i-1] and Y[0…j-1]\r\n    \t\tint[][] lookup = new int[X.length() + 1][Y.length() + 1];\r\n    \r\n    \t\t// first column of the lookup table will be all 0\r\n    \t\tfor (int i = 0; i &lt;= m; i++) {\r\n    \t\t\tlookup[i][0] = 0;\r\n    \t\t}\r\n    \r\n    \t\t// first row of the lookup table will be all 0\r\n    \t\tfor (int j = 0; j &lt;= n; j++) {\r\n    \t\t\tlookup[0][j] = 0;\r\n    \t\t}\r\n    \r\n    \t\t// fill the lookup table in a bottom-up manner\r\n    \t\tfor (int i = 1; i &lt;= m; i++) {\r\n    \t\t\tfor (int j = 1; j &lt;= n; j++) {\r\n    \t\t\t\t// if current character of `X` and `Y` matches\r\n    \t\t\t\tif (X.charAt(i - 1) == Y.charAt(j - 1)) {\r\n    \t\t\t\t\tlookup[i][j] = lookup[i - 1][j - 1] + 1;\r\n    \t\t\t\t}\r\n    \t\t\t\t// otherwise, if the current character of `X` and `Y` don&#39;t match\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tlookup[i][j] = Integer.max(lookup[i - 1][j], lookup[i][j - 1]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn lookup;\r\n    \t}\r\n    \r\n    \t// Implement diff utility in Java\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString X = &quot;This is a sentence&quot;;\r\n    \t\tString Y = &quot;This was a sentences&quot;;\r\n    \r\n            // lookup[i][j] stores the length of LCS of substring X[0…i-1] and Y[0…j-1]\r\n    \t\tint[][] lookup = findLCS(X, Y, X.length(), Y.length());\r\n    \r\n    \t\t// find the difference\r\n    \t\tdiff(X, Y, X.length(), Y.length(), lookup);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n     T h i s   -i +w +a s   a   s e n t e n c e +s\r\n\r\n\r\n  [1]: https://github.com/google/diff-match-patch\r\n  [2]: https://github.com/google/diff-match-patch/wiki/Language:-Java\r\n  [3]: https://github.com/java-diff-utils/java-diff-utils\r\n  [4]: https://code.google.com/archive/p/java-diff-utils/\r\n  [5]: https://github.com/java-diff-utils/java-diff-utils/wiki/Examples\r\n  [6]: https://www.techiedelight.com/implement-diff-utility/\r\n  [7]: https://en.wikipedia.org/wiki/Longest_common_subsequence_problem\r\n  [8]: https://en.wikipedia.org/wiki/Levenshtein_distance\r\n  [9]: https://en.wikipedia.org/wiki/Edit_distance","title":"API to get edits that transform string A to string B in java","body":"<h2>Option 1</h2>\n<p>Use <a href=\"https://github.com/google/diff-match-patch\" rel=\"nofollow noreferrer\">Diff Match Patch</a> library. It offers the following features:</p>\n<ol>\n<li><strong>Diff:</strong> Compare two blocks of plain text and efficiently return a list of differences</li>\n<li><strong>Match:</strong> Given a search string, find its best fuzzy match in a block of plain text. Weighted for both accuracy and location.</li>\n<li><strong>Patch:</strong> Apply a list of patches onto plain text. Use best-effort to apply patch even when the underlying text doesn't match.</li>\n</ol>\n<p><strong>Example</strong> based on <a href=\"https://github.com/google/diff-match-patch/wiki/Language:-Java\" rel=\"nofollow noreferrer\">this</a>:</p>\n<pre><code>import java.util.LinkedList;\nimport name.fraser.neil.plaintext.diff_match_patch;\n\npublic class Test {\n  public static void main(String args[]) {\n    diff_match_patch dmp = new diff_match_patch();\n    LinkedList&lt;diff_match_patch.Diff&gt; diff = dmp.diff_main(&quot;This is a sentence&quot;, &quot;This was a sentences&quot;);\n    dmp.diff_cleanupSemantic(diff);\n    System.out.println(diff);\n  }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[Diff(EQUAL,&quot;This &quot;), Diff(DELETE,&quot;i&quot;), Diff(INSERT,&quot;wa&quot;), Diff(EQUAL,&quot;s a sentence&quot;), Diff(INSERT,&quot;s&quot;)]\n</code></pre>\n<h2>Option 2</h2>\n<p>Use <a href=\"https://github.com/java-diff-utils/java-diff-utils\" rel=\"nofollow noreferrer\">Diff Utils</a> library, which is an actively maintained fork of <a href=\"https://code.google.com/archive/p/java-diff-utils/\" rel=\"nofollow noreferrer\">java-diff-utils from Google Code Archive</a>. Diff Utils allows comparison operations between texts: computing diffs, applying patches, etc.</p>\n<p><strong>Example</strong> (for more examples have a look <a href=\"https://github.com/java-diff-utils/java-diff-utils/wiki/Examples\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>import com.github.difflib.text.*;\nimport java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        // create a configured DiffRowGenerator\n        DiffRowGenerator generator = DiffRowGenerator.create().showInlineDiffs(true).mergeOriginalRevised(true)\n                .inlineDiffByWord(true).oldTag(f -&gt; &quot;~&quot;) // introduce markdown style for strikethrough\n                .newTag(f -&gt; &quot;**&quot;) // introduce markdown style for bold\n                .build();\n\n        // compute the differences for two test texts.\n        List&lt;DiffRow&gt; rows = generator.generateDiffRows(Arrays.asList(&quot;This is a sentence&quot;),\n                Arrays.asList(&quot;This was a sentences&quot;));\n\n        System.out.println(rows.get(0).getOldLine());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>This ~is~**was** a ~sentence~**sentences**\n</code></pre>\n<h2>Option 3</h2>\n<p>Create your own Diff utility, such as the one described <a href=\"https://www.techiedelight.com/implement-diff-utility/\" rel=\"nofollow noreferrer\">here</a>. The code below is as given in the above source, and uses <a href=\"https://en.wikipedia.org/wiki/Longest_common_subsequence_problem\" rel=\"nofollow noreferrer\">Longest Common Subsequence (LCS)</a> - which is a variation of <a href=\"https://en.wikipedia.org/wiki/Edit_distance\" rel=\"nofollow noreferrer\">Edit distance</a> (<a href=\"https://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"nofollow noreferrer\">Levenshtein distance</a>) - to solve this problem.</p>\n<p><strong>Example:</strong></p>\n<pre><code>public class Main {\n    // Function to display the differences between two strings\n    public static void diff(String X, String Y, int m, int n, int[][] lookup) {\n        // if the last character of `X` and `Y` matches\n        if (m &gt; 0 &amp;&amp; n &gt; 0 &amp;&amp; X.charAt(m - 1) == Y.charAt(n - 1)) {\n            diff(X, Y, m - 1, n - 1, lookup);\n            System.out.print(&quot; &quot; + X.charAt(m - 1));\n        }\n\n        // if the current character of `Y` is not present in `X`\n        else if (n &gt; 0 &amp;&amp; (m == 0 || lookup[m][n - 1] &gt;= lookup[m - 1][n])) {\n            diff(X, Y, m, n - 1, lookup);\n            System.out.print(&quot; +&quot; + Y.charAt(n - 1));\n        }\n\n        // if the current character of `X` is not present in `Y`\n        else if (m &gt; 0 &amp;&amp; (n == 0 || lookup[m][n - 1] &lt; lookup[m - 1][n])) {\n            diff(X, Y, m - 1, n, lookup);\n            System.out.print(&quot; -&quot; + X.charAt(m - 1));\n        }\n    }\n\n    // Function to fill the lookup table by finding the length of LCS\n    // of substring X[0…m-1] and Y[0…n-1]\n    public static int[][] findLCS(String X, String Y, int m, int n) {\n        // lookup[i][j] stores the length of LCS of substring X[0…i-1] and Y[0…j-1]\n        int[][] lookup = new int[X.length() + 1][Y.length() + 1];\n\n        // first column of the lookup table will be all 0\n        for (int i = 0; i &lt;= m; i++) {\n            lookup[i][0] = 0;\n        }\n\n        // first row of the lookup table will be all 0\n        for (int j = 0; j &lt;= n; j++) {\n            lookup[0][j] = 0;\n        }\n\n        // fill the lookup table in a bottom-up manner\n        for (int i = 1; i &lt;= m; i++) {\n            for (int j = 1; j &lt;= n; j++) {\n                // if current character of `X` and `Y` matches\n                if (X.charAt(i - 1) == Y.charAt(j - 1)) {\n                    lookup[i][j] = lookup[i - 1][j - 1] + 1;\n                }\n                // otherwise, if the current character of `X` and `Y` don't match\n                else {\n                    lookup[i][j] = Integer.max(lookup[i - 1][j], lookup[i][j - 1]);\n                }\n            }\n        }\n\n        return lookup;\n    }\n\n    // Implement diff utility in Java\n    public static void main(String[] args) {\n        String X = &quot;This is a sentence&quot;;\n        String Y = &quot;This was a sentences&quot;;\n\n        // lookup[i][j] stores the length of LCS of substring X[0…i-1] and Y[0…j-1]\n        int[][] lookup = findLCS(X, Y, X.length(), Y.length());\n\n        // find the difference\n        diff(X, Y, X.length(), Y.length(), lookup);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code> T h i s   -i +w +a s   a   s e n t e n c e +s\n</code></pre>\n"}],"owner":{"account_id":13184706,"reputation":545,"user_id":9523121,"display_name":"Caleb Hillary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70937395,"answer_count":1,"score":1,"last_activity_date":1643703763,"creation_date":1643654336,"question_id":70931155,"body_markdown":"What is the best API to get the edits required to transform string A to string B\r\n\r\n    A: This is a sentence\r\n    B: This was a sentences\r\n\r\nSomething like this\\\r\nEdits: \r\n\r\n1. {\r\n    start: 5,\r\n    end: 7,\r\n    action: &quot;replace&quot;\r\n    text: &quot;was&quot;\r\n}\r\n2. {\r\n    start: 18,\r\n    action: &quot;insert&quot;,\r\n    text: &quot;s&quot;\r\n}\r\n\r\nI know that I can do this on my own using Levenshtein distance algo, but I want to go with an industry-standard\r\nIf someone knows about any NLP/String Util or API that I can use in java, please help me out.\r\n\r\n`Spacey errant` is an option, but that is for python. I am looking for something similar to that in java.","title":"API to get edits that transform string A to string B in java","body":"<p>What is the best API to get the edits required to transform string A to string B</p>\n<pre><code>A: This is a sentence\nB: This was a sentences\n</code></pre>\n<p>Something like this<br />\nEdits:</p>\n<ol>\n<li>{\nstart: 5,\nend: 7,\naction: &quot;replace&quot;\ntext: &quot;was&quot;\n}</li>\n<li>{\nstart: 18,\naction: &quot;insert&quot;,\ntext: &quot;s&quot;\n}</li>\n</ol>\n<p>I know that I can do this on my own using Levenshtein distance algo, but I want to go with an industry-standard\nIf someone knows about any NLP/String Util or API that I can use in java, please help me out.</p>\n<p><code>Spacey errant</code> is an option, but that is for python. I am looking for something similar to that in java.</p>\n"},{"tags":["java","annotations","big-o","code-snippets"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":8,"creation_date":1643702719,"post_id":70937209,"comment_id":125403564,"body_markdown":"It is `n/5`, which is `O(n)`, so you are not wrong.","body":"It is <code>n&#47;5</code>, which is <code>O(n)</code>, so you are not wrong."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1643703460,"post_id":70937209,"comment_id":125403815,"body_markdown":"Care to explain what someone told you it should be?","body":"Care to explain what someone told you it should be?"},{"owner":{"account_id":24118816,"reputation":11,"user_id":18088308,"display_name":"ScientisT"},"score":0,"creation_date":1643781300,"post_id":70937209,"comment_id":125427450,"body_markdown":"The correct answer is T(n)=log O(n).","body":"The correct answer is T(n)=log O(n)."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1643879749,"post_id":70937209,"comment_id":125458107,"body_markdown":"What is `log O(n)` supposed to mean? Do you mean `O(log n)`? But it is definitely **not** `O(log n)`, it is clearly `O(n)`: the work done is proportional to `n/5` which is proportional to n by a constant factor which is the definition for `O(n)`","body":"What is <code>log O(n)</code> supposed to mean? Do you mean <code>O(log n)</code>? But it is definitely <b>not</b> <code>O(log n)</code>, it is clearly <code>O(n)</code>: the work done is proportional to <code>n&#47;5</code> which is proportional to n by a constant factor which is the definition for <code>O(n)</code>"}],"answers":[{"tags":[],"owner":{"account_id":23705653,"reputation":28,"user_id":17728160,"display_name":"Jackson Kerr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643703464,"creation_date":1643703464,"answer_id":70937347,"question_id":70937209,"body_markdown":"The time complexity is O(n/5).\r\n\r\nLet&#39;s take the simplified example (in javascript) below where n is 10\r\n\r\n    var n = 10;\r\n    for (var i = 0; i &lt; n; i += 5)\r\n        console.log(i);\r\n\r\nThe loop will run twice. \r\n\r\n    First i is 0, \r\n    then i is 5, \r\n    then i is 10 and 10 &lt; 10 == false so we stop.\r\n\r\nEffectively we are moving i towards n in steps of 5.","title":"I thought answer of these time complexity is O(n) but it is wrong. Can someone explain?","body":"<p>The time complexity is O(n/5).</p>\n<p>Let's take the simplified example (in javascript) below where n is 10</p>\n<pre><code>var n = 10;\nfor (var i = 0; i &lt; n; i += 5)\n    console.log(i);\n</code></pre>\n<p>The loop will run twice.</p>\n<pre><code>First i is 0, \nthen i is 5, \nthen i is 10 and 10 &lt; 10 == false so we stop.\n</code></pre>\n<p>Effectively we are moving i towards n in steps of 5.</p>\n"}],"owner":{"account_id":24118816,"reputation":11,"user_id":18088308,"display_name":"ScientisT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643703464,"creation_date":1643702569,"question_id":70937209,"body_markdown":"What is the big-O notation of the given code snippet?\r\n\r\n    void snippet() { \r\n      for (int i = 0; i &lt; n; i=i+5)    \r\n        a[i] = i;  \r\n    }","title":"I thought answer of these time complexity is O(n) but it is wrong. Can someone explain?","body":"<p>What is the big-O notation of the given code snippet?</p>\n<pre><code>void snippet() { \n  for (int i = 0; i &lt; n; i=i+5)    \n    a[i] = i;  \n}\n</code></pre>\n"},{"tags":["java","exception","checked-exceptions"],"comments":[{"owner":{"account_id":18105791,"reputation":460,"user_id":13163131,"display_name":"humble_barnacle"},"score":0,"creation_date":1643700263,"post_id":70936771,"comment_id":125402932,"body_markdown":"Since the syntax of Java is such that if it is defined that a function throws an Exception, you must either handle the Exception or also make your function throw a Checked Exception using the `throws` keyword in function signature so that it is handled by JVM when thrown. But remember that Exception in Java is always handled, either its you that is handling it or the JVM(which shall crash the program &amp; is generally a bad practice which is why we have checked Exception)","body":"Since the syntax of Java is such that if it is defined that a function throws an Exception, you must either handle the Exception or also make your function throw a Checked Exception using the <code>throws</code> keyword in function signature so that it is handled by JVM when thrown. But remember that Exception in Java is always handled, either its you that is handling it or the JVM(which shall crash the program &amp; is generally a bad practice which is why we have checked Exception)"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1643700266,"post_id":70936771,"comment_id":125402935,"body_markdown":"In a perfect world where everyone only writes correct code, then we would not need exceptions, but we don&#39;t write perfect code so checked exceptions are a great way to easily pick up the most common and obvious errors that would quite likely crash your application at some point in time. Also, in response to &quot;we should not just open it&quot; what should your code do in a situation where your code depends on a file to function?","body":"In a perfect world where everyone only writes correct code, then we would not need exceptions, but we don&#39;t write perfect code so checked exceptions are a great way to easily pick up the most common and obvious errors that would quite likely crash your application at some point in time. Also, in response to &quot;we should not just open it&quot; what should your code do in a situation where your code depends on a file to function?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643700332,"post_id":70936771,"comment_id":125402950,"body_markdown":"*&quot;In a perfect world where everyone only writes correct code ...&quot;* and user&#39;s don&#39;t give incorrect pathnames for files, etc.","body":"<i>&quot;In a perfect world where everyone only writes correct code ...&quot;</i> and user&#39;s don&#39;t give incorrect pathnames for files, etc."},{"owner":{"account_id":12285036,"reputation":57,"user_id":14610397,"display_name":"wholesome"},"score":0,"creation_date":1643700515,"post_id":70936771,"comment_id":125402993,"body_markdown":"@StephenC if there is incorrect pathnames to files, the compiler prompts that and we can correct it in the code itself.","body":"@StephenC if there is incorrect pathnames to files, the compiler prompts that and we can correct it in the code itself."},{"owner":{"account_id":18105791,"reputation":460,"user_id":13163131,"display_name":"humble_barnacle"},"score":1,"creation_date":1643700545,"post_id":70936771,"comment_id":125403001,"body_markdown":"&quot;.... and user&#39;s don&#39;t give incorrect pathnames for files, etc&quot; and the pathname works across all platforms","body":"&quot;.... and user&#39;s don&#39;t give incorrect pathnames for files, etc&quot; and the pathname works across all platforms"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1643700694,"post_id":70936771,"comment_id":125403041,"body_markdown":"And what happens if the file disappears between checking the pathname and actually loading it, or while reading it, for example, if a USB drive containing the file is unplugged? A checked exception solves this issue and lets us define how our code should behave.","body":"And what happens if the file disappears between checking the pathname and actually loading it, or while reading it, for example, if a USB drive containing the file is unplugged? A checked exception solves this issue and lets us define how our code should behave."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1643700713,"post_id":70936771,"comment_id":125403046,"body_markdown":"@soumyadip_poddar -  Really? Really?  The compiler can check that the pathname that a user supplies as a command line argument is correct.  The pathname is not known at compile time.","body":"@soumyadip_poddar -  Really? Really?  The compiler can check that the pathname that a user supplies as a command line argument is correct.  The pathname is not known at compile time."},{"owner":{"account_id":12285036,"reputation":57,"user_id":14610397,"display_name":"wholesome"},"score":0,"creation_date":1643700787,"post_id":70936771,"comment_id":125403065,"body_markdown":"@StephenC No, not the correct pathname, but the file is not present in the given pathname.","body":"@StephenC No, not the correct pathname, but the file is not present in the given pathname."},{"owner":{"account_id":12285036,"reputation":57,"user_id":14610397,"display_name":"wholesome"},"score":0,"creation_date":1643700843,"post_id":70936771,"comment_id":125403083,"body_markdown":"@sorifiend Yes this example sounds relatable to me. Thankyou.","body":"@sorifiend Yes this example sounds relatable to me. Thankyou."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643700848,"post_id":70936771,"comment_id":125403084,"body_markdown":"I don&#39;t understand the distinction that you are making.","body":"I don&#39;t understand the distinction that you are making."},{"owner":{"account_id":12285036,"reputation":57,"user_id":14610397,"display_name":"wholesome"},"score":0,"creation_date":1643700939,"post_id":70936771,"comment_id":125403111,"body_markdown":"@StephenC I am using eclipse if I am giving a file name which is not present in the desired location then, the program itself will not compile. I am not saying that compiler will say the pathname where the file actually is, but it will say that the file is not present where it is checking.","body":"@StephenC I am using eclipse if I am giving a file name which is not present in the desired location then, the program itself will not compile. I am not saying that compiler will say the pathname where the file actually is, but it will say that the file is not present where it is checking."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1643701101,"post_id":70936771,"comment_id":125403153,"body_markdown":"A FileNotFoundException is thrown **at runtime** which the program attempts to open a file.  At compile time, the compiler probably doesn&#39;t even know what the pathname is.  So how can it check it?  (And even if it did know, it **doesn&#39;t** check it.  The compiler doesn&#39;t attempt to open the file.  It wouldn&#39;t be a useful thing to do.  The user may not have created it yet.)","body":"A FileNotFoundException is thrown <b>at runtime</b> which the program attempts to open a file.  At compile time, the compiler probably doesn&#39;t even know what the pathname is.  So how can it check it?  (And even if it did know, it <b>doesn&#39;t</b> check it.  The compiler doesn&#39;t attempt to open the file.  It wouldn&#39;t be a useful thing to do.  The user may not have created it yet.)"}],"answers":[{"tags":[],"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643701148,"creation_date":1643700519,"answer_id":70936872,"question_id":70936771,"body_markdown":"Checked exception in Java have to be handled, that is why the compiler will complain about and didn&#39;t compile the code.\r\n\r\nBut the exception itselfs will not be raised until runtime, in case it happens.\r\n\r\nWhen you write your code you should just handle properly all your checked exception, so you have to write a `try catch` block or just return the exception from the method.\r\n\r\nIf you use some library that raises checked exception you can just handle in one of the 2 ways I have already explained.\r\n\r\nBut in your code you can choose to use unchecked exceptions.\r\n\r\nThose kind of exceptions can be ignored and the compiler will be just fine.\r\nOf course your app will crash if one of those unchecked exception is raised while execution and it is not caught.\r\n\r\nBut that can be desirable in certain situation, where there is no right way to handle the Exception and it is generally a subclass of `Error`.\r\n\r\nAnyway you should not think about on how to handle the error cases in your code but only Exceptions.\r\n\r\nMore: [Exception class](https://docs.oracle.com/javase/9/docs/api/java/lang/Exception.html), [Error class](https://docs.oracle.com/javase/9/docs/api/java/lang/Error.html)","title":"Why we need to handle or throw checked exceptions in Java?","body":"<p>Checked exception in Java have to be handled, that is why the compiler will complain about and didn't compile the code.</p>\n<p>But the exception itselfs will not be raised until runtime, in case it happens.</p>\n<p>When you write your code you should just handle properly all your checked exception, so you have to write a <code>try catch</code> block or just return the exception from the method.</p>\n<p>If you use some library that raises checked exception you can just handle in one of the 2 ways I have already explained.</p>\n<p>But in your code you can choose to use unchecked exceptions.</p>\n<p>Those kind of exceptions can be ignored and the compiler will be just fine.\nOf course your app will crash if one of those unchecked exception is raised while execution and it is not caught.</p>\n<p>But that can be desirable in certain situation, where there is no right way to handle the Exception and it is generally a subclass of <code>Error</code>.</p>\n<p>Anyway you should not think about on how to handle the error cases in your code but only Exceptions.</p>\n<p>More: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Exception.html\" rel=\"nofollow noreferrer\">Exception class</a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Error.html\" rel=\"nofollow noreferrer\">Error class</a></p>\n"},{"tags":[],"owner":{"account_id":5613065,"reputation":183,"user_id":4445260,"display_name":"ktul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643701835,"creation_date":1643701374,"answer_id":70937012,"question_id":70936771,"body_markdown":"You shouldn&#39;t see exception handling as a problem but as a feature.\r\n\r\nAssume exceptions wouldn&#39;t exist. \r\n\r\n    var file = new File(&quot;test.txt&quot;);\r\n    if (!file.exists()) {\r\n        file.createNewFile();\r\n    }\r\n    var writer = new FileWriter(file);\r\n    // ...\r\n\r\nWhat could go wrong?\r\n - Between the check whether the file exists and opening the reader, the file might have been removed by another thread/process. So even though you created it, it&#39;s gone -&gt; you need to somehow lock the file\r\n - Your memory is full, hence the file could not be created -&gt; you need to check the result of `createNewFile` for that.\r\n - The file exists, but is a directory.\r\n - The file is locked, because another process is writing to it -&gt; You need to check if it is being written to.\r\n\r\nThis would do it (still assuming no exceptions):\r\n\r\n    var file = new File(&quot;test.txt&quot;);\r\n    if (!file.exists()) {\r\n        if(file.createNewFile()) {\r\n            if (!file.isDirectory()) {\r\n                if (!isUsed(file)) {\r\n                    var writer = new FileWriter(file);\r\n                    // ...\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis is a lot of code and still doesn&#39;t handle the first problem.\r\n\r\nWhereas\r\n\r\n    var file = new File(&quot;test.txt&quot;);\r\n    try {\r\n        var writer = new Filewriter(file);\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nis way shorter, clearer, easier to understand.\r\n\r\nAlso, usually, it is more likely that everything works as supposed that that any of these problems occur. So instead of assuming all the worst and doing multiple checks beforehand, one just assumes the best and if something fails, you look for the reason.\r\n\r\nThis also impacts the runtime. If you run the no-exception code 1000 times, all these checks will be run a 1000 times, no matter if they fail or not. For the exception-code this is not the case, the might never be run at all.\r\n    \r\n\r\n\r\n","title":"Why we need to handle or throw checked exceptions in Java?","body":"<p>You shouldn't see exception handling as a problem but as a feature.</p>\n<p>Assume exceptions wouldn't exist.</p>\n<pre><code>var file = new File(&quot;test.txt&quot;);\nif (!file.exists()) {\n    file.createNewFile();\n}\nvar writer = new FileWriter(file);\n// ...\n</code></pre>\n<p>What could go wrong?</p>\n<ul>\n<li>Between the check whether the file exists and opening the reader, the file might have been removed by another thread/process. So even though you created it, it's gone -&gt; you need to somehow lock the file</li>\n<li>Your memory is full, hence the file could not be created -&gt; you need to check the result of <code>createNewFile</code> for that.</li>\n<li>The file exists, but is a directory.</li>\n<li>The file is locked, because another process is writing to it -&gt; You need to check if it is being written to.</li>\n</ul>\n<p>This would do it (still assuming no exceptions):</p>\n<pre><code>var file = new File(&quot;test.txt&quot;);\nif (!file.exists()) {\n    if(file.createNewFile()) {\n        if (!file.isDirectory()) {\n            if (!isUsed(file)) {\n                var writer = new FileWriter(file);\n                // ...\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is a lot of code and still doesn't handle the first problem.</p>\n<p>Whereas</p>\n<pre><code>var file = new File(&quot;test.txt&quot;);\ntry {\n    var writer = new Filewriter(file);\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>is way shorter, clearer, easier to understand.</p>\n<p>Also, usually, it is more likely that everything works as supposed that that any of these problems occur. So instead of assuming all the worst and doing multiple checks beforehand, one just assumes the best and if something fails, you look for the reason.</p>\n<p>This also impacts the runtime. If you run the no-exception code 1000 times, all these checks will be run a 1000 times, no matter if they fail or not. For the exception-code this is not the case, the might never be run at all.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1643702447,"creation_date":1643702109,"answer_id":70937136,"question_id":70936771,"body_markdown":"Your conceptual problem here is that you are conflating what happens at compile time and what happens at runtime; i.e.  when the program is compiled *by the programmer* and when it is run *by the user*.\r\n\r\nAt compile time the compiler analyses the program to determine what exceptions *could be thrown*.  For example\r\n\r\n    public static void main(String[] args) {\r\n        FileInputStream fis = new FileInputStream(args[0]);  // HERE\r\n    }\r\n\r\nThe `FileInputStream(String)` constructor is declared as `throws IOException`.  (Look it up.)  So the compiler knows that the statement at `HERE` *could* throw an `IOException`.  And `IOException` is a checked exception.  (Look it up.)\r\n\r\nIt doesn&#39;t know that it *will*.  It cannot possibly know that it *will* ... because it doesn&#39;t know what `args[0]` will contain.  That is only known at runtime; i.e. when the program is run and the user supplies some command line arguments.\r\n\r\nQ: What does *checked exception* mean here?\r\n\r\nWell it means the `main` method either has to be declared as (for example) `throws IOException`, or it must catch it in a *try-catch* statement.\r\n\r\nQ: So why is is a **checked** exception?  \r\n\r\nBecause it was declared that way!\r\n\r\nQ: Why was it declared that way?\r\n\r\nTo **force** the programmer to do deal with the *possibility* that the file being opened does not exist, is not readable, and so on.  When the program is (eventually) run.\r\n\r\nThe compiler is saying &quot;do something about this thing that might happen ...&quot;.\r\n\r\n---------------------\r\n\r\nJust to reiterate.  The compiler **cannot** check that the file exists because it doesn&#39;t know what pathname the user is **going to** provide.  And even if it did know, AND it checked&lt;sup&gt;1&lt;/sup&gt; that the file existed at compile, it **couldn&#39;t** know if the file was **going** to still exist at runtime, possibly on a completely different machine on a different network ... many years in the future.\r\n\r\n&lt;sup&gt;1 - This is hypothetical.  It doesn&#39;t check.  It would be pointless.&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why we need to handle or throw checked exceptions in Java?","body":"<p>Your conceptual problem here is that you are conflating what happens at compile time and what happens at runtime; i.e.  when the program is compiled <em>by the programmer</em> and when it is run <em>by the user</em>.</p>\n<p>At compile time the compiler analyses the program to determine what exceptions <em>could be thrown</em>.  For example</p>\n<pre><code>public static void main(String[] args) {\n    FileInputStream fis = new FileInputStream(args[0]);  // HERE\n}\n</code></pre>\n<p>The <code>FileInputStream(String)</code> constructor is declared as <code>throws IOException</code>.  (Look it up.)  So the compiler knows that the statement at <code>HERE</code> <em>could</em> throw an <code>IOException</code>.  And <code>IOException</code> is a checked exception.  (Look it up.)</p>\n<p>It doesn't know that it <em>will</em>.  It cannot possibly know that it <em>will</em> ... because it doesn't know what <code>args[0]</code> will contain.  That is only known at runtime; i.e. when the program is run and the user supplies some command line arguments.</p>\n<p>Q: What does <em>checked exception</em> mean here?</p>\n<p>Well it means the <code>main</code> method either has to be declared as (for example) <code>throws IOException</code>, or it must catch it in a <em>try-catch</em> statement.</p>\n<p>Q: So why is is a <strong>checked</strong> exception?</p>\n<p>Because it was declared that way!</p>\n<p>Q: Why was it declared that way?</p>\n<p>To <strong>force</strong> the programmer to do deal with the <em>possibility</em> that the file being opened does not exist, is not readable, and so on.  When the program is (eventually) run.</p>\n<p>The compiler is saying &quot;do something about this thing that might happen ...&quot;.</p>\n<hr />\n<p>Just to reiterate.  The compiler <strong>cannot</strong> check that the file exists because it doesn't know what pathname the user is <strong>going to</strong> provide.  And even if it did know, AND it checked<sup>1</sup> that the file existed at compile, it <strong>couldn't</strong> know if the file was <strong>going</strong> to still exist at runtime, possibly on a completely different machine on a different network ... many years in the future.</p>\n<p><sup>1 - This is hypothetical.  It doesn't check.  It would be pointless.</sup></p>\n"}],"owner":{"account_id":12285036,"reputation":57,"user_id":14610397,"display_name":"wholesome"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1059,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70937136,"answer_count":3,"score":-1,"last_activity_date":1643702447,"creation_date":1643699806,"question_id":70936771,"body_markdown":"I am new to Java, I read that checked exception get raised during compile time only i.e. program will not compile successfully if there is a checked exception which is not handled or thrown.\r\nIf something is preventing a compiler to compile a code, then we could just erase it or recode it in another way so that problem doesn&#39;t exist.\r\n\r\nFor example, if we are trying to open a file which is not there in system, we should not just open  it. So why the need to handle/throw these exceptions ?","title":"Why we need to handle or throw checked exceptions in Java?","body":"<p>I am new to Java, I read that checked exception get raised during compile time only i.e. program will not compile successfully if there is a checked exception which is not handled or thrown.\nIf something is preventing a compiler to compile a code, then we could just erase it or recode it in another way so that problem doesn't exist.</p>\n<p>For example, if we are trying to open a file which is not there in system, we should not just open  it. So why the need to handle/throw these exceptions ?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1055494,"reputation":10205,"user_id":1058319,"accept_rate":98,"display_name":"Adel Boutros"},"score":0,"creation_date":1376163474,"post_id":15995458,"comment_id":26612268,"body_markdown":"I think the chose solution is incomplete. it is still missing something! What if the min number is present multiple times? It is after all a list. So I think it should return a List if indices for the min value","body":"I think the chose solution is incomplete. it is still missing something! What if the min number is present multiple times? It is after all a list. So I think it should return a List if indices for the min value"}],"answers":[{"tags":[],"owner":{"account_id":1972020,"reputation":3099,"user_id":1770716,"accept_rate":50,"display_name":"BlackJoker"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1365910424,"creation_date":1365910424,"answer_id":15995493,"question_id":15995458,"body_markdown":"try this:\r\n\r\n   \r\n\r\n    public int getIndexOfMin(List&lt;Float&gt; data) {\r\n\t\tfloat min = Float.MAX_VALUE;\r\n\t\tint index = -1;\r\n\t\tfor (int i = 0; i &lt; data.size(); i++) {\r\n\t\t\tFloat f = data.get(i);\r\n\t\t\tif (Float.compare(f.floatValue(), min) &lt; 0) {\r\n\t\t\t\tmin = f.floatValue();\r\n\t\t\t\tindex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t}","title":"How to find the minimum value in an ArrayList, along with the index number? (Java)","body":"<p>try this:</p>\n\n<pre><code>public int getIndexOfMin(List&lt;Float&gt; data) {\n    float min = Float.MAX_VALUE;\n    int index = -1;\n    for (int i = 0; i &lt; data.size(); i++) {\n        Float f = data.get(i);\n        if (Float.compare(f.floatValue(), min) &lt; 0) {\n            min = f.floatValue();\n            index = i;\n        }\n    }\n    return index;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152839,"reputation":13216,"user_id":367649,"accept_rate":88,"display_name":"Marimuthu Madasamy"},"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1454541631,"creation_date":1365910484,"answer_id":15995501,"question_id":15995458,"body_markdown":"You can use [Collections.min][1] and [List.indexOf][2]:\r\n\r\n    int minIndex = list.indexOf(Collections.min(list));\r\n\r\nIf you want to traverse the list only once (the above may traverse it twice):\r\n\r\n\tpublic static &lt;T extends Comparable&lt;T&gt;&gt; int findMinIndex(final List&lt;T&gt; xs) {\r\n\t\tint minIndex;\r\n\t\tif (xs.isEmpty()) {\r\n\t\t\tminIndex = -1;\r\n\t\t} else {\r\n\t\t\tfinal ListIterator&lt;T&gt; itr = xs.listIterator();\r\n\t\t\tT min = itr.next(); // first element as the current minimum\r\n\t\t\tminIndex = itr.previousIndex();\r\n\t\t\twhile (itr.hasNext()) {\r\n\t\t\t\tfinal T curr = itr.next();\r\n\t\t\t\tif (curr.compareTo(min) &lt; 0) {\r\n\t\t\t\t\tmin = curr;\r\n\t\t\t\t\tminIndex = itr.previousIndex();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn minIndex;\r\n\t}\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#min%28java.util.Collection%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#indexOf%28java.lang.Object%29","title":"How to find the minimum value in an ArrayList, along with the index number? (Java)","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#min%28java.util.Collection%29\" rel=\"noreferrer\">Collections.min</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#indexOf%28java.lang.Object%29\" rel=\"noreferrer\">List.indexOf</a>:</p>\n\n<pre><code>int minIndex = list.indexOf(Collections.min(list));\n</code></pre>\n\n<p>If you want to traverse the list only once (the above may traverse it twice):</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; int findMinIndex(final List&lt;T&gt; xs) {\n    int minIndex;\n    if (xs.isEmpty()) {\n        minIndex = -1;\n    } else {\n        final ListIterator&lt;T&gt; itr = xs.listIterator();\n        T min = itr.next(); // first element as the current minimum\n        minIndex = itr.previousIndex();\n        while (itr.hasNext()) {\n            final T curr = itr.next();\n            if (curr.compareTo(min) &lt; 0) {\n                min = curr;\n                minIndex = itr.previousIndex();\n            }\n        }\n    }\n    return minIndex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1345865,"reputation":68498,"user_id":1286639,"accept_rate":64,"display_name":"GoZoner"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1365910654,"creation_date":1365910654,"answer_id":15995521,"question_id":15995458,"body_markdown":"This should do it using built in functions.\r\n\r\n    public static int minIndex (ArrayList&lt;Float&gt; list) {\r\n      return list.indexOf (Collections.min(list)); }\r\n","title":"How to find the minimum value in an ArrayList, along with the index number? (Java)","body":"<p>This should do it using built in functions.</p>\n\n<pre><code>public static int minIndex (ArrayList&lt;Float&gt; list) {\n  return list.indexOf (Collections.min(list)); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2624820,"reputation":1023,"user_id":2272069,"accept_rate":57,"display_name":"cockypup"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1365911429,"creation_date":1365911429,"answer_id":15995589,"question_id":15995458,"body_markdown":"You have to traverse the whole array and keep two auxiliary values: \r\n\r\n - The minimum value you find (on your way towards the end)\r\n - The index of the place where you found the min value\r\n\r\nSuppose your array is called *myArray*. At the end of this code *minIndex* has the index of the smallest value.\r\n\r\n    var min = Number.MAX_VALUE; //the largest number possible in JavaScript\r\n    var minIndex = -1;\r\n    \r\n    for (int i=0; i&lt;myArray.length; i++){\r\n       if (myArray[i] &lt; min){\r\n          min = myArray[i];\r\n          minIndex = i;\r\n       }\r\n    }\r\n\r\nThis is assuming the worst case scenario: a totally random array. It is an O(n) algorithm or *order n* algorithm, meaning that if you have *n* elements in your array, then you have to look at all of them before knowing your answer. O(n) algorithms are the worst ones because they take a lot of time to solve the problem.\r\n\r\nIf your array is sorted or has any other specific structure, then the algorithm can be optimized to be faster.\r\n\r\nHaving said that, though, unless you have a huge array of thousands of values then don&#39;t worry about optimization since the difference between an O(n) algorithm and a faster one would not be noticeable.","title":"How to find the minimum value in an ArrayList, along with the index number? (Java)","body":"<p>You have to traverse the whole array and keep two auxiliary values: </p>\n\n<ul>\n<li>The minimum value you find (on your way towards the end)</li>\n<li>The index of the place where you found the min value</li>\n</ul>\n\n<p>Suppose your array is called <em>myArray</em>. At the end of this code <em>minIndex</em> has the index of the smallest value.</p>\n\n<pre><code>var min = Number.MAX_VALUE; //the largest number possible in JavaScript\nvar minIndex = -1;\n\nfor (int i=0; i&lt;myArray.length; i++){\n   if (myArray[i] &lt; min){\n      min = myArray[i];\n      minIndex = i;\n   }\n}\n</code></pre>\n\n<p>This is assuming the worst case scenario: a totally random array. It is an O(n) algorithm or <em>order n</em> algorithm, meaning that if you have <em>n</em> elements in your array, then you have to look at all of them before knowing your answer. O(n) algorithms are the worst ones because they take a lot of time to solve the problem.</p>\n\n<p>If your array is sorted or has any other specific structure, then the algorithm can be optimized to be faster.</p>\n\n<p>Having said that, though, unless you have a huge array of thousands of values then don't worry about optimization since the difference between an O(n) algorithm and a faster one would not be noticeable.</p>\n"},{"tags":[],"owner":{"account_id":7703919,"reputation":113,"user_id":5835440,"accept_rate":50,"display_name":"Baurzhan Kozhaev"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1453700125,"creation_date":1453700125,"answer_id":34985766,"question_id":15995458,"body_markdown":"There is an easier way to find a min integer in array list:\r\n\r\n    int min = array.get(0);\r\n            for (int i : array){\r\n                min = min &lt; i ? min : i;\r\n            }","title":"How to find the minimum value in an ArrayList, along with the index number? (Java)","body":"<p>There is an easier way to find a min integer in array list:</p>\n\n<pre><code>int min = array.get(0);\n        for (int i : array){\n            min = min &lt; i ? min : i;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":901789,"reputation":436,"user_id":937749,"display_name":"Arwan Khoiruddin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1557378464,"creation_date":1557378464,"answer_id":56052546,"question_id":15995458,"body_markdown":"Here&#39;s what I do. I find the minimum first then after the minimum is found, it is removed from ArrayList. \r\n\r\n    ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\n    a.add(3);\r\n    a.add(6);\r\n    a.add(2);\r\n    a.add(5);\r\n\r\n    while (a.size() &gt; 0) {\r\n        int min = 1000;\r\n        for (int b:a) {\r\n            if (b &lt; min)\r\n                min = b;\r\n        }\r\n        System.out.println(&quot;minimum: &quot; + min);\r\n        System.out.println(&quot;index of min: &quot; + a.indexOf((Integer) min));\r\n        a.remove((Integer) min);\r\n    }","title":"How to find the minimum value in an ArrayList, along with the index number? (Java)","body":"<p>Here's what I do. I find the minimum first then after the minimum is found, it is removed from ArrayList. </p>\n\n<pre><code>ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\na.add(3);\na.add(6);\na.add(2);\na.add(5);\n\nwhile (a.size() &gt; 0) {\n    int min = 1000;\n    for (int b:a) {\n        if (b &lt; min)\n            min = b;\n    }\n    System.out.println(\"minimum: \" + min);\n    System.out.println(\"index of min: \" + a.indexOf((Integer) min));\n    a.remove((Integer) min);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11983304,"reputation":843,"user_id":8768524,"display_name":"M E S A B O"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611143703,"creation_date":1611143703,"answer_id":65809063,"question_id":15995458,"body_markdown":"    public static int minIndex (ArrayList&lt;Float&gt; list) {\r\n      return list.indexOf (Collections.min(list));\r\n     }\r\n    System.out.println(&quot;Min = &quot; + list.get(minIndex(list));\r\n\r\n","title":"How to find the minimum value in an ArrayList, along with the index number? (Java)","body":"<pre><code>public static int minIndex (ArrayList&lt;Float&gt; list) {\n  return list.indexOf (Collections.min(list));\n }\nSystem.out.println(&quot;Min = &quot; + list.get(minIndex(list));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22367125,"reputation":82,"user_id":16582714,"display_name":"Indhuja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643702167,"creation_date":1643694163,"answer_id":70936026,"question_id":15995458,"body_markdown":"1. Declare a arraylist with Floats.\r\n\r\n2. `Collection.min()` - finding the minimum element in the list.\r\n\r\n3. `List.indexOf()` - finding the index of the minimum element.\r\n\r\n\r\n```\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tArrayList&lt;Float&gt; ary = new ArrayList&lt;Float&gt;();\r\n\t\tary.add((float) 3.0);\r\n\t\tary.add((float) 6);\r\n\t\tary.add((float) 2);\r\n\t\tary.add((float) 1.3);\r\n\t\tary.add((float) 4.2);\r\n\t\tint indx = minIndex(a);\r\n\t\tSystem.out.println(indx);\r\n\t}\r\n\r\n\tpublic static int minIndex(ArrayList&lt;Float&gt; list) {\r\n\t\treturn list.indexOf(Collections.min(list));\r\n\t}\r\n\r\n}\r\n```","title":"How to find the minimum value in an ArrayList, along with the index number? (Java)","body":"<ol>\n<li><p>Declare a arraylist with Floats.</p>\n</li>\n<li><p><code>Collection.min()</code> - finding the minimum element in the list.</p>\n</li>\n<li><p><code>List.indexOf()</code> - finding the index of the minimum element.</p>\n</li>\n</ol>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        ArrayList&lt;Float&gt; ary = new ArrayList&lt;Float&gt;();\n        ary.add((float) 3.0);\n        ary.add((float) 6);\n        ary.add((float) 2);\n        ary.add((float) 1.3);\n        ary.add((float) 4.2);\n        int indx = minIndex(a);\n        System.out.println(indx);\n    }\n\n    public static int minIndex(ArrayList&lt;Float&gt; list) {\n        return list.indexOf(Collections.min(list));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2442372,"reputation":697,"user_id":2130496,"display_name":"user2130496"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218436,"favorite_count":0,"down_vote_count":1,"up_vote_count":70,"accepted_answer_id":15995501,"answer_count":8,"score":69,"last_activity_date":1643702167,"creation_date":1365910057,"question_id":15995458,"body_markdown":"I need to get the index value of the minimum value in my arraylist in Java. MY arraylist holds several floats, and I&#39;m trying to think of a way I can get the index number of the smallest float so I can use that index number elsewhere in my code. I&#39;m a beginner, so please don&#39;t hate me. Thanks!","title":"How to find the minimum value in an ArrayList, along with the index number? (Java)","body":"<p>I need to get the index value of the minimum value in my arraylist in Java. MY arraylist holds several floats, and I'm trying to think of a way I can get the index number of the smallest float so I can use that index number elsewhere in my code. I'm a beginner, so please don't hate me. Thanks!</p>\n"},{"tags":["java","sql","postgresql"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":2,"creation_date":1643602073,"post_id":70921172,"comment_id":125375347,"body_markdown":"Have you tried using `LEFT JOIN` instead?","body":"Have you tried using <code>LEFT JOIN</code> instead?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1643602210,"post_id":70921172,"comment_id":125375368,"body_markdown":"By the way, a tip: [text blocks](https://openjdk.java.net/jeps/378) makes embedding SQL easier.","body":"By the way, a tip: <a href=\"https://openjdk.java.net/jeps/378\" rel=\"nofollow noreferrer\">text blocks</a> makes embedding SQL easier."},{"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"score":1,"creation_date":1643602400,"post_id":70921172,"comment_id":125375394,"body_markdown":"By having your JOIN conditions in a WHERE clause instead of an ON clause in your join statement, you are excluding and Tags that don&#39;t meet that where clause (aka: that don&#39;t have questions).","body":"By having your JOIN conditions in a WHERE clause instead of an ON clause in your join statement, you are excluding and Tags that don&#39;t meet that where clause (aka: that don&#39;t have questions)."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1643604513,"post_id":70921172,"comment_id":125375684,"body_markdown":"Please provide a few rows of sample data and the expected result.","body":"Please provide a few rows of sample data and the expected result."},{"owner":{"account_id":24106150,"reputation":21,"user_id":18077315,"display_name":"Andrei Gaina"},"score":0,"creation_date":1643638733,"post_id":70921172,"comment_id":125386355,"body_markdown":"@TheImpaler I have provided some datasets and the expected json, sorry for the wait","body":"@TheImpaler I have provided some datasets and the expected json, sorry for the wait"},{"owner":{"account_id":24106150,"reputation":21,"user_id":18077315,"display_name":"Andrei Gaina"},"score":0,"creation_date":1643638737,"post_id":70921172,"comment_id":125386357,"body_markdown":"@JohnGlenn that seems to work but weirdly. Tags that, for example, have 7 questions with a persist date of 2021-01-31 and 3 questions with 2022-01-31, display their daily question count still as 10. The weekly count seems to be fine, yet sometimes it still displays questions incorrectly, although for the most part it works","body":"@JohnGlenn that seems to work but weirdly. Tags that, for example, have 7 questions with a persist date of 2021-01-31 and 3 questions with 2022-01-31, display their daily question count still as 10. The weekly count seems to be fine, yet sometimes it still displays questions incorrectly, although for the most part it works"},{"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"score":0,"creation_date":1643640595,"post_id":70921172,"comment_id":125387117,"body_markdown":"@AndreiGaina - Your joins should also include the tag ID, right? Without it, your question counts won&#39;t be restricted to questions from that tag.","body":"@AndreiGaina - Your joins should also include the tag ID, right? Without it, your question counts won&#39;t be restricted to questions from that tag."},{"owner":{"account_id":24106150,"reputation":21,"user_id":18077315,"display_name":"Andrei Gaina"},"score":0,"creation_date":1643641137,"post_id":70921172,"comment_id":125387313,"body_markdown":"@JohnGlenn Restriction works fine, I probably phrased it wrong. Say a tag has 4 questions, two submitted a year ago, two submitted just now. It&#39;ll still show the questionCountOneDay still as 4, while the questionCountOneWeek works just fine, showing only 2. As it is now, there is no problem with which question belongs to which tag","body":"@JohnGlenn Restriction works fine, I probably phrased it wrong. Say a tag has 4 questions, two submitted a year ago, two submitted just now. It&#39;ll still show the questionCountOneDay still as 4, while the questionCountOneWeek works just fine, showing only 2. As it is now, there is no problem with which question belongs to which tag"},{"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"score":1,"creation_date":1643643478,"post_id":70921172,"comment_id":125388302,"body_markdown":"What about this:\n```SELECT new com.myproject.rs.platform.models.dto.TagViewDto(\n\tt.id, t.name, t.description,\n\t( SELECT COUNT(*) FROM t.questions qa ),\n\t( SELECT COUNT(*) FROM t.questions qd WHERE qd.persistDateTime BETWEEN :oneDay AND :now ),\n\t( SELECT COUNT(*) FROM t.questions qw WHERE qw.persistDateTime BETWEEN :oneWeek AND :now )\nFROM Tag t```","body":"What about this: <code>SELECT new com.myproject.rs.platform.models.dto.TagViewDto( \tt.id, t.name, t.description, \t( SELECT COUNT(*) FROM t.questions qa ), \t( SELECT COUNT(*) FROM t.questions qd WHERE qd.persistDateTime BETWEEN :oneDay AND :now ), \t( SELECT COUNT(*) FROM t.questions qw WHERE qw.persistDateTime BETWEEN :oneWeek AND :now ) FROM Tag t</code>"},{"owner":{"account_id":24106150,"reputation":21,"user_id":18077315,"display_name":"Andrei Gaina"},"score":0,"creation_date":1643645430,"post_id":70921172,"comment_id":125389147,"body_markdown":"@JohnGlenn Thank you for the answer, but apparently the issue was more stupid than I thought)\nThe ON clauses should&#39;ve been placed right after the joins","body":"@JohnGlenn Thank you for the answer, but apparently the issue was more stupid than I thought) The ON clauses should&#39;ve been placed right after the joins"}],"answers":[{"tags":[],"owner":{"account_id":24106150,"reputation":21,"user_id":18077315,"display_name":"Andrei Gaina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643645308,"creation_date":1643645308,"answer_id":70929116,"question_id":70921172,"body_markdown":"For anyone who stumbled on this question and is looking for an answer, you should use ON clause instead of WHERE, and also the ON clauses should be right after the LEFT JOINS:\r\n\r\n    &quot;LEFT JOIN t.questions qa &quot; +\r\n    &quot;LEFT JOIN t.questions qd ON qd.persistDateTime &lt; :now and :oneDay &lt; qd.persistDateTime &quot; + \r\n    &quot;LEFT JOIN t.questions qw ON qw.persistDateTime &lt; :now and :oneWeek &lt; qw.persistDateTime&quot;\r\n\r\n","title":"SQL Joins not working correctly when no data present","body":"<p>For anyone who stumbled on this question and is looking for an answer, you should use ON clause instead of WHERE, and also the ON clauses should be right after the LEFT JOINS:</p>\n<pre><code>&quot;LEFT JOIN t.questions qa &quot; +\n&quot;LEFT JOIN t.questions qd ON qd.persistDateTime &lt; :now and :oneDay &lt; qd.persistDateTime &quot; + \n&quot;LEFT JOIN t.questions qw ON qw.persistDateTime &lt; :now and :oneWeek &lt; qw.persistDateTime&quot;\n</code></pre>\n"}],"owner":{"account_id":24106150,"reputation":21,"user_id":18077315,"display_name":"Andrei Gaina"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70929116,"answer_count":1,"score":2,"last_activity_date":1643702043,"creation_date":1643601918,"question_id":70921172,"body_markdown":"I&#39;ve got the following code, where I build a tag from an entity\r\n```\r\nentityManager.createQuery(&quot;SELECT new com.myproject.rs.platform.models.dto.TagViewDto&quot; +\r\n    &quot;(t.id, t.name, t.description, count(DISTINCT qa.id) , count(DISTINCT qd.id), count(DISTINCT qw.id)) FROM Tag t &quot; +\r\n    &quot;LEFT JOIN t.questions qa LEFT JOIN t.questions qd LEFT JOIN t.questions qw &quot; +\r\n    &quot;WHERE qd.persistDateTime &lt; :now and :oneDay &lt; qd.persistDateTime &quot; +\r\n    &quot;and qw.persistDateTime &lt; :now and :oneWeek &lt; qw.persistDateTime &quot; +\r\n    &quot;GROUP BY t &quot; +\r\n    &quot;ORDER BY t.persistDateTime DESC&quot;, TagViewDto.class)\r\n        .setParameter(&quot;oneDay&quot;, localDateTime.minusHours(24))\r\n        .setParameter(&quot;now&quot;, localDateTime)\r\n        .setParameter(&quot;oneWeek&quot;, localDateTime.minusDays(7))\r\n        .setFirstResult((curPageNumber - 1) * itemsOnPage).setMaxResults(itemsOnPage)\r\n        .getResultList();\r\n```\r\nEach tag has an id, name, description and how many questions it has, how many it has in a day, and how many it has in a week.\r\n\r\nThe problem is, I can&#39;t seem to display tags that have no questions tied to them, and also if a tag doesn&#39;t have any daily or weekly question, the tag itself is also not displayed.\r\nI tried writing a coalesce() in the constructor itself, with the arguments of count and then 0, but it does not seem to work, and coalesce returns an int instead of a long.\r\n\r\nHow would I make tags with no questions or with no recent(in a day&#39;s or week&#39;s time) questions still get displayed? Preferably with these null values being replaced with a 0\r\n\r\nEDIT: Here are some example datasets\r\n```\r\ntag:\r\n  - id: 1\r\n    name: &quot;one&quot;\r\n    description: &quot;javascript&quot;\r\n    persist_date: 2021-10-29 14:04:39\r\n\r\n  - id: 2\r\n    name: &quot;two&quot;\r\n    description: &quot;java&quot;\r\n    persist_date: 2017-03-12 00:00:00\r\n\r\n  - id: 3 \r\n    name: &quot;three&quot;\r\n    description: &quot;c&quot;\r\n    persist_date: 2023-08-29 00:00:00\r\n\r\n  - id: 4\r\n    name: &quot;four&quot;\r\n    description: &quot;cpp&quot;\r\n    persist_date: 2020-21-29 00:00:00\r\n\r\n  - id: 5\r\n    name: &quot;five&quot;\r\n    description: &quot;python&quot;\r\n    persist_date: 2021-06-20 00:00:00\r\n\r\n  - id: 6\r\n    name: &quot;six&quot;\r\n    description: &quot;go&quot;\r\n    persist_date: 2021-04-29 00:00:00\r\nquestion:\r\n  - id: 1 #current\r\n    title: &quot;one&quot;\r\n    description: &quot;javascript&quot;\r\n    persist_date: 2022-01-31 12:00:00\r\n\r\n  - id: 2 #current\r\n    title: &quot;two&quot;\r\n    description: &quot;java&quot;\r\n    persist_date: 2022-01-31 12:00:00\r\n\r\n  - id: 3  #current    \r\n    title: &quot;three&quot;\r\n    description: &quot;c&quot;\r\n    persist_date: 2022-01-31 12:00:00\r\n\r\n  - id: 4 #threeDaysAgo\r\n    title: &quot;four&quot;\r\n    description: &quot;cpp&quot;\r\n    persist_date: 2022-01-28 12:00:00\r\n\r\n  - id: 5 #TwoDaysAgo\r\n    title: &quot;five&quot;\r\n    description: &quot;python&quot;\r\n    persist_date: 2022-01-29 12:00:00\r\n\r\n  - id: 6 #weekAndADayAgo\r\n    title: &quot;six&quot;\r\n    description: &quot;go&quot;\r\n    persist_date: 2022-01-23 12:00:00\r\nquestionHasTag:\r\n  - tag_id: 1\r\n    question_id: 6\r\n\r\n  - tag_id: 1\r\n    question_id: 5    \r\n\r\n  - tag_id: 1\r\n    question_id: 4\r\n\r\n  - tag_id: 3\r\n    question_id: 6\r\n\r\n  - tag_id: 3\r\n    question_id: 2\r\n\r\n  - tag_id: 3\r\n    question_id: 1\r\n\r\n  - tag_id: 4\r\n    question_id: 6\r\n\r\n  - tag_id: 2\r\n    question_id: 2\r\n\r\n  - tag_id: 2\r\n    question_id: 6\r\n```\r\nand the expected tag json:\r\n```\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;one&quot;,\r\n      &quot;description&quot;: &quot;javascript &quot;,\r\n      &quot;questionCount&quot;: 3,\r\n      &quot;questionCountOneDay&quot;: 0,\r\n      &quot;questionCountOneWeek&quot;: 2\r\n    }\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;name&quot;: &quot;two&quot;,\r\n      &quot;description&quot;: &quot;java &quot;,\r\n      &quot;questionCount&quot;: 2,\r\n      &quot;questionCountOneDay&quot;: 1,\r\n      &quot;questionCountOneWeek&quot;: 1\r\n    }\r\n    {\r\n      &quot;id&quot;: 3,\r\n      &quot;name&quot;: &quot;three&quot;,\r\n      &quot;description&quot;: &quot;c &quot;,\r\n      &quot;questionCount&quot;: 3,\r\n      &quot;questionCountOneDay&quot;: 2,\r\n      &quot;questionCountOneWeek&quot;: 2\r\n    }\r\n    {\r\n      &quot;id&quot;: 4,\r\n      &quot;name&quot;: &quot;four&quot;,\r\n      &quot;description&quot;: &quot;cpp &quot;,\r\n      &quot;questionCount&quot;: 1,\r\n      &quot;questionCountOneDay&quot;: 0,\r\n      &quot;questionCountOneWeek&quot;: 0\r\n    }\r\n    {\r\n      &quot;id&quot;: 5,\r\n      &quot;name&quot;: &quot;five&quot;,\r\n      &quot;description&quot;: &quot;python &quot;,\r\n      &quot;questionCount&quot;: 0,\r\n      &quot;questionCountOneDay&quot;: 0,\r\n      &quot;questionCountOneWeek&quot;: 0\r\n    }\r\n    {\r\n      &quot;id&quot;: 6,\r\n      &quot;name&quot;: &quot;six&quot;,\r\n      &quot;description&quot;: &quot;go &quot;,\r\n      &quot;questionCount&quot;: 0,\r\n      &quot;questionCountOneDay&quot;: 0,\r\n      &quot;questionCountOneWeek&quot;: 0\r\n    }\r\n```","title":"SQL Joins not working correctly when no data present","body":"<p>I've got the following code, where I build a tag from an entity</p>\n<pre><code>entityManager.createQuery(&quot;SELECT new com.myproject.rs.platform.models.dto.TagViewDto&quot; +\n    &quot;(t.id, t.name, t.description, count(DISTINCT qa.id) , count(DISTINCT qd.id), count(DISTINCT qw.id)) FROM Tag t &quot; +\n    &quot;LEFT JOIN t.questions qa LEFT JOIN t.questions qd LEFT JOIN t.questions qw &quot; +\n    &quot;WHERE qd.persistDateTime &lt; :now and :oneDay &lt; qd.persistDateTime &quot; +\n    &quot;and qw.persistDateTime &lt; :now and :oneWeek &lt; qw.persistDateTime &quot; +\n    &quot;GROUP BY t &quot; +\n    &quot;ORDER BY t.persistDateTime DESC&quot;, TagViewDto.class)\n        .setParameter(&quot;oneDay&quot;, localDateTime.minusHours(24))\n        .setParameter(&quot;now&quot;, localDateTime)\n        .setParameter(&quot;oneWeek&quot;, localDateTime.minusDays(7))\n        .setFirstResult((curPageNumber - 1) * itemsOnPage).setMaxResults(itemsOnPage)\n        .getResultList();\n</code></pre>\n<p>Each tag has an id, name, description and how many questions it has, how many it has in a day, and how many it has in a week.</p>\n<p>The problem is, I can't seem to display tags that have no questions tied to them, and also if a tag doesn't have any daily or weekly question, the tag itself is also not displayed.\nI tried writing a coalesce() in the constructor itself, with the arguments of count and then 0, but it does not seem to work, and coalesce returns an int instead of a long.</p>\n<p>How would I make tags with no questions or with no recent(in a day's or week's time) questions still get displayed? Preferably with these null values being replaced with a 0</p>\n<p>EDIT: Here are some example datasets</p>\n<pre><code>tag:\n  - id: 1\n    name: &quot;one&quot;\n    description: &quot;javascript&quot;\n    persist_date: 2021-10-29 14:04:39\n\n  - id: 2\n    name: &quot;two&quot;\n    description: &quot;java&quot;\n    persist_date: 2017-03-12 00:00:00\n\n  - id: 3 \n    name: &quot;three&quot;\n    description: &quot;c&quot;\n    persist_date: 2023-08-29 00:00:00\n\n  - id: 4\n    name: &quot;four&quot;\n    description: &quot;cpp&quot;\n    persist_date: 2020-21-29 00:00:00\n\n  - id: 5\n    name: &quot;five&quot;\n    description: &quot;python&quot;\n    persist_date: 2021-06-20 00:00:00\n\n  - id: 6\n    name: &quot;six&quot;\n    description: &quot;go&quot;\n    persist_date: 2021-04-29 00:00:00\nquestion:\n  - id: 1 #current\n    title: &quot;one&quot;\n    description: &quot;javascript&quot;\n    persist_date: 2022-01-31 12:00:00\n\n  - id: 2 #current\n    title: &quot;two&quot;\n    description: &quot;java&quot;\n    persist_date: 2022-01-31 12:00:00\n\n  - id: 3  #current    \n    title: &quot;three&quot;\n    description: &quot;c&quot;\n    persist_date: 2022-01-31 12:00:00\n\n  - id: 4 #threeDaysAgo\n    title: &quot;four&quot;\n    description: &quot;cpp&quot;\n    persist_date: 2022-01-28 12:00:00\n\n  - id: 5 #TwoDaysAgo\n    title: &quot;five&quot;\n    description: &quot;python&quot;\n    persist_date: 2022-01-29 12:00:00\n\n  - id: 6 #weekAndADayAgo\n    title: &quot;six&quot;\n    description: &quot;go&quot;\n    persist_date: 2022-01-23 12:00:00\nquestionHasTag:\n  - tag_id: 1\n    question_id: 6\n\n  - tag_id: 1\n    question_id: 5    \n\n  - tag_id: 1\n    question_id: 4\n\n  - tag_id: 3\n    question_id: 6\n\n  - tag_id: 3\n    question_id: 2\n\n  - tag_id: 3\n    question_id: 1\n\n  - tag_id: 4\n    question_id: 6\n\n  - tag_id: 2\n    question_id: 2\n\n  - tag_id: 2\n    question_id: 6\n</code></pre>\n<p>and the expected tag json:</p>\n<pre><code>    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;one&quot;,\n      &quot;description&quot;: &quot;javascript &quot;,\n      &quot;questionCount&quot;: 3,\n      &quot;questionCountOneDay&quot;: 0,\n      &quot;questionCountOneWeek&quot;: 2\n    }\n    {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;two&quot;,\n      &quot;description&quot;: &quot;java &quot;,\n      &quot;questionCount&quot;: 2,\n      &quot;questionCountOneDay&quot;: 1,\n      &quot;questionCountOneWeek&quot;: 1\n    }\n    {\n      &quot;id&quot;: 3,\n      &quot;name&quot;: &quot;three&quot;,\n      &quot;description&quot;: &quot;c &quot;,\n      &quot;questionCount&quot;: 3,\n      &quot;questionCountOneDay&quot;: 2,\n      &quot;questionCountOneWeek&quot;: 2\n    }\n    {\n      &quot;id&quot;: 4,\n      &quot;name&quot;: &quot;four&quot;,\n      &quot;description&quot;: &quot;cpp &quot;,\n      &quot;questionCount&quot;: 1,\n      &quot;questionCountOneDay&quot;: 0,\n      &quot;questionCountOneWeek&quot;: 0\n    }\n    {\n      &quot;id&quot;: 5,\n      &quot;name&quot;: &quot;five&quot;,\n      &quot;description&quot;: &quot;python &quot;,\n      &quot;questionCount&quot;: 0,\n      &quot;questionCountOneDay&quot;: 0,\n      &quot;questionCountOneWeek&quot;: 0\n    }\n    {\n      &quot;id&quot;: 6,\n      &quot;name&quot;: &quot;six&quot;,\n      &quot;description&quot;: &quot;go &quot;,\n      &quot;questionCount&quot;: 0,\n      &quot;questionCountOneDay&quot;: 0,\n      &quot;questionCountOneWeek&quot;: 0\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1643701425,"post_id":70936952,"comment_id":125403228,"body_markdown":"what&#39;s the issue?","body":"what&#39;s the issue?"},{"owner":{"account_id":22959390,"reputation":1,"user_id":17089518,"display_name":"Diksha"},"score":0,"creation_date":1643701671,"post_id":70936952,"comment_id":125403285,"body_markdown":"Above code was used in  log4j 1.2.17 version and after migrating to log4j2 2.17.1 I am getting compilation error for Pattern Layout and File Appender class","body":"Above code was used in  log4j 1.2.17 version and after migrating to log4j2 2.17.1 I am getting compilation error for Pattern Layout and File Appender class"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1643702639,"post_id":70936952,"comment_id":125403540,"body_markdown":"Log4j version 2.x is a major new version. This means that you shouldn&#39;t expect upgrading to work by just changing the version number from 1.2.17 to 2.17.1. You&#39;ll need to modify your code as well. See the [Migrating from Log4j 1.x to 2.x](https://logging.apache.org/log4j/2.x/manual/migration.html) guide on the Log4J website.","body":"Log4j version 2.x is a major new version. This means that you shouldn&#39;t expect upgrading to work by just changing the version number from 1.2.17 to 2.17.1. You&#39;ll need to modify your code as well. See the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">Migrating from Log4j 1.x to 2.x</a> guide on the Log4J website."}],"owner":{"account_id":22959390,"reputation":1,"user_id":17089518,"display_name":"Diksha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643701920,"creation_date":1643700969,"question_id":70936952,"body_markdown":"Migrated from log4j 1.2.17 to log4j2 2.17.1 and getting issue in Pattern Layout class.\r\n\r\n```\r\n    PatternLayout pl = PatternLayout();\r\n    \t\tpl.setConversionPattern(&quot;%m  :%d%n&quot;);\r\n    \t\t// setFile(new File(theQFileName));\r\n    \t\tFileAppender appender;\r\n    \t\ttry {\r\n    \t\t\tappender = new FileAppender(pl, theQFileName, false);\r\n    \t\t\tlLogger.addAppender(appender);\r\n    \t\t} \r\n```\r\n\r\nAbove snippet was used in log4j 1.2.17 version and after migration getting compilation error for Pattern Layout and File Appender class.\r\n\r\n    [ERROR]         PatternLayout pl = new PatternLayout();\r\n    [ERROR]                            ^^^^^^^^^^^^^^^^^^^\r\n    [ERROR] The constructor PatternLayout() is undefined\r\n\r\n    [ERROR]         pl.setConversionPattern(&quot;%m  :%d%n&quot;);\r\n    [ERROR]            ^^^^^^^^^^^^^^^^^^^^\r\n    [ERROR] The method setConversionPattern(String) is undefined for the type PatternLayout\r\n\r\n    [ERROR]         appender = new FileAppender(pl, theQFileName, false);\r\n    [ERROR]                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    [ERROR] The constructor FileAppender(PatternLayout, String, boolean) is undefined\r\n\r\n","title":"How to implement Pattern Layout in log4j2 2.17.1 migrated from log4j 1.2.17 version?","body":"<p>Migrated from log4j 1.2.17 to log4j2 2.17.1 and getting issue in Pattern Layout class.</p>\n<pre><code>    PatternLayout pl = PatternLayout();\n            pl.setConversionPattern(&quot;%m  :%d%n&quot;);\n            // setFile(new File(theQFileName));\n            FileAppender appender;\n            try {\n                appender = new FileAppender(pl, theQFileName, false);\n                lLogger.addAppender(appender);\n            } \n</code></pre>\n<p>Above snippet was used in log4j 1.2.17 version and after migration getting compilation error for Pattern Layout and File Appender class.</p>\n<pre><code>[ERROR]         PatternLayout pl = new PatternLayout();\n[ERROR]                            ^^^^^^^^^^^^^^^^^^^\n[ERROR] The constructor PatternLayout() is undefined\n\n[ERROR]         pl.setConversionPattern(&quot;%m  :%d%n&quot;);\n[ERROR]            ^^^^^^^^^^^^^^^^^^^^\n[ERROR] The method setConversionPattern(String) is undefined for the type PatternLayout\n\n[ERROR]         appender = new FileAppender(pl, theQFileName, false);\n[ERROR]                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n[ERROR] The constructor FileAppender(PatternLayout, String, boolean) is undefined\n</code></pre>\n"},{"tags":["java","date","time","converters"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1634215806,"post_id":69570933,"comment_id":122968991,"body_markdown":"Could you add which pattern(s) you tried? See also the JavaDocs for [DateTimeFormatter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html). You did try 4 letters to trigger the &quot;full&quot; text form, e.g. `MMMM`?","body":"Could you add which pattern(s) you tried? See also the JavaDocs for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a>. You did try 4 letters to trigger the &quot;full&quot; text form, e.g. <code>MMMM</code>?"},{"owner":{"account_id":11691155,"reputation":646,"user_id":8562854,"display_name":"Nfernandez"},"score":0,"creation_date":1634216104,"post_id":69570933,"comment_id":122969149,"body_markdown":"I tried this format: &quot;hh:mm:ss MMMM dd yyyy&quot; based on the reformat string that I do &quot;10:57:20 October 13 2020&quot;.","body":"I tried this format: &quot;hh:mm:ss MMMM dd yyyy&quot; based on the reformat string that I do &quot;10:57:20 October 13 2020&quot;."},{"owner":{"account_id":22871909,"reputation":1,"user_id":17014822,"display_name":"Styles"},"score":0,"creation_date":1634220047,"post_id":69570933,"comment_id":122971078,"body_markdown":"More details on string to date conversion is available [here](https://stackoverflow.com/questions/4216745/java-string-to-date-conversion)","body":"More details on string to date conversion is available <a href=\"https://stackoverflow.com/questions/4216745/java-string-to-date-conversion\">here</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634227425,"post_id":69570933,"comment_id":122974460,"body_markdown":"We can give you tips, but to address all of your issues we need a [mre], please.","body":"We can give you tips, but to address all of your issues we need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1634253406,"post_id":69570933,"comment_id":122982428,"body_markdown":"*to Date object* If you meant `java.util.Date`, I recommend that you do not use that class. It is poorly designed and long outdated. Instead use `LocalDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). And use the `DateTimeFormatter` that you already mention for parsing (you don’t need the builder in this case).","body":"<i>to Date object</i> If you meant <code>java.util.Date</code>, I recommend that you do not use that class. It is poorly designed and long outdated. Instead use <code>LocalDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. And use the <code>DateTimeFormatter</code> that you already mention for parsing (you don’t need the builder in this case)."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634216341,"creation_date":1634216341,"answer_id":69571173,"question_id":69570933,"body_markdown":"You can place fixed letters in apostrophes.\r\n\r\n    &quot;HH&#39;h&#39; mm&#39;m&#39; ss&#39;s&#39; MMMM dd yyyy&quot;\r\n\r\nFurthermore `hh` is the 12 hour format to be combined wiht `a` AM/PM.\r\n`HH` is the 24 hour format.\r\n\r\nAlso the locale must be correct, maybe explicitly set. Here English.","title":"How to convert a String data and time including month name to Date object in Java?","body":"<p>You can place fixed letters in apostrophes.</p>\n<pre><code>&quot;HH'h' mm'm' ss's' MMMM dd yyyy&quot;\n</code></pre>\n<p>Furthermore <code>hh</code> is the 12 hour format to be combined wiht <code>a</code> AM/PM.\n<code>HH</code> is the 24 hour format.</p>\n<p>Also the locale must be correct, maybe explicitly set. Here English.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634253683,"creation_date":1634253683,"answer_id":69578360,"question_id":69570933,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date and time work. Like Joop Eggen already wrote, put the letters that are part of your format in single quotes in the format pattern string:\r\n\r\n\tprivate static final DateTimeFormatter FORMATTER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;H&#39;h&#39; m&#39;m&#39; s&#39;s&#39; MMMM d y&quot;, Locale.ENGLISH);\r\n\r\nThis will allow you to parse like this:\r\n\r\n\t\tString dateInString = &quot;10h 57m 20s October 13 2020&quot;;\r\n\t\tLocalDateTime dateTime = LocalDateTime.parse(dateInString, FORMATTER);\r\n\t\tSystem.out.println(dateTime);\r\n\r\nOutput:\r\n\r\n&gt; 2020-10-13T10:57:20\r\n\r\nYou shouldn’t take any interest in the old-fashioned `Date` class. However, sometimes we need to pass a `Date` to a legacy API not yet upgraded to java.time. The conversion requires that we know the time zone assumed for the parsed date and time. For example:\r\n\r\n\t\tZoneId zone = ZoneId.of(&quot;America/Tegucigalpa&quot;);\r\n\t\tInstant i = dateTime.atZone(zone).toInstant();\r\n\t\tDate oldfashionedDate = Date.from(i);\r\n\t\tSystem.out.println(oldfashionedDate);\r\n\r\nExample output:\r\n\r\n&gt; Tue Oct 13 10:57:20 CST 2020\r\n\r\n## Tutorial link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"How to convert a String data and time including month name to Date object in Java?","body":"<h2>java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date and time work. Like Joop Eggen already wrote, put the letters that are part of your format in single quotes in the format pattern string:</p>\n<pre><code>private static final DateTimeFormatter FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;H'h' m'm' s's' MMMM d y&quot;, Locale.ENGLISH);\n</code></pre>\n<p>This will allow you to parse like this:</p>\n<pre><code>    String dateInString = &quot;10h 57m 20s October 13 2020&quot;;\n    LocalDateTime dateTime = LocalDateTime.parse(dateInString, FORMATTER);\n    System.out.println(dateTime);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>2020-10-13T10:57:20</p>\n</blockquote>\n<p>You shouldn’t take any interest in the old-fashioned <code>Date</code> class. However, sometimes we need to pass a <code>Date</code> to a legacy API not yet upgraded to java.time. The conversion requires that we know the time zone assumed for the parsed date and time. For example:</p>\n<pre><code>    ZoneId zone = ZoneId.of(&quot;America/Tegucigalpa&quot;);\n    Instant i = dateTime.atZone(zone).toInstant();\n    Date oldfashionedDate = Date.from(i);\n    System.out.println(oldfashionedDate);\n</code></pre>\n<p>Example output:</p>\n<blockquote>\n<p>Tue Oct 13 10:57:20 CST 2020</p>\n</blockquote>\n<h2>Tutorial link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":11691155,"reputation":646,"user_id":8562854,"display_name":"Nfernandez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69578360,"answer_count":2,"score":-1,"last_activity_date":1643701249,"creation_date":1634215402,"question_id":69570933,"body_markdown":"I want to convert the date in string to date object being the string &quot;10h 57m 20s October 13 2020&quot;. How can be done? may replace firstly the h, m and s to get the format &quot;10:57:20 October 13 2020&quot;? As well, I tried the last format  &quot;10:57:20 October 13 2020&quot; to get the date with DateTimeFormat and DateTimeFormatterBuilder() but is does not work with the month or it works but the hour coverts to 00:00:00.\r\n\r\nThanks","title":"How to convert a String data and time including month name to Date object in Java?","body":"<p>I want to convert the date in string to date object being the string &quot;10h 57m 20s October 13 2020&quot;. How can be done? may replace firstly the h, m and s to get the format &quot;10:57:20 October 13 2020&quot;? As well, I tried the last format  &quot;10:57:20 October 13 2020&quot; to get the date with DateTimeFormat and DateTimeFormatterBuilder() but is does not work with the month or it works but the hour coverts to 00:00:00.</p>\n<p>Thanks</p>\n"},{"tags":["java","hibernate","intellij-idea"],"comments":[{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1681873362,"post_id":32123723,"comment_id":134125582,"body_markdown":"I have a similar problem with my `@ManyToMany` relationship. The code works, though","body":"I have a similar problem with my <code>@ManyToMany</code> relationship. The code works, though"}],"answers":[{"tags":[],"owner":{"account_id":7249431,"reputation":1295,"user_id":5530285,"display_name":"Phil Carter"},"down_vote_count":0,"up_vote_count":113,"is_accepted":true,"score":113,"last_activity_date":1446742690,"creation_date":1446742690,"answer_id":33550463,"question_id":32123723,"body_markdown":"I found this to be caused by the child entity not being defined in hibernate.cfg.xml.  The error message could be improved.","title":"&#39;Many To One&#39; attribute type should not be &#39;Persistence Entity&#39;","body":"<p>I found this to be caused by the child entity not being defined in hibernate.cfg.xml.  The error message could be improved.</p>\n"},{"tags":[],"owner":{"account_id":3602137,"reputation":427,"user_id":3005230,"accept_rate":75,"display_name":"Travieso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517237241,"creation_date":1517237241,"answer_id":48503951,"question_id":32123723,"body_markdown":"This question is a bit old, but I just wanted to add that this can also be caused by a conflicting hibernate .hbm mapping file and JPA annotations. I ran into this error message when converting old mapping files to annotations and forgot to comment out one of the old mapping files.","title":"&#39;Many To One&#39; attribute type should not be &#39;Persistence Entity&#39;","body":"<p>This question is a bit old, but I just wanted to add that this can also be caused by a conflicting hibernate .hbm mapping file and JPA annotations. I ran into this error message when converting old mapping files to annotations and forgot to comment out one of the old mapping files.</p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643701226,"creation_date":1643701226,"answer_id":70936992,"question_id":32123723,"body_markdown":"I&#39;m getting this issue in my **multi-module Gradle** project with **Quarkus** in **IntelliJ**,\r\nwhere I have a OneToOne reference from an entity of module A to an entity of module B.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**The code works, so I guess it could be a false flag of IntelliJ**\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3b5Rb.png","title":"&#39;Many To One&#39; attribute type should not be &#39;Persistence Entity&#39;","body":"<p>I'm getting this issue in my <strong>multi-module Gradle</strong> project with <strong>Quarkus</strong> in <strong>IntelliJ</strong>,\nwhere I have a OneToOne reference from an entity of module A to an entity of module B.</p>\n<p><a href=\"https://i.stack.imgur.com/3b5Rb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3b5Rb.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>The code works, so I guess it could be a false flag of IntelliJ</strong></p>\n"}],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59700,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":33550463,"answer_count":3,"score":43,"last_activity_date":1643701226,"creation_date":1440088693,"question_id":32123723,"body_markdown":"I&#39;m trying out IntelliJ IDEA and it&#39;s warning me of a Hibernate association that I don&#39;t quite understand.  \r\n\r\nOne Side:\r\n\r\n    @Entity\r\n    @Table(name = &quot;MY_REQ_ASSIGNEE&quot;)\r\n    public class MyRequestAssignee extends BaseUser {\r\n        //...\r\n        @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.ALL}, mappedBy = &quot;myRequestAssignee&quot;)\r\n        private Collection&lt;MyRequest&gt; myRequests = new ArrayList&lt;&gt;();\r\n        //...\r\n    }\r\n\r\nMany Side:\r\n\r\n    @Entity\r\n    @Table(name = &quot;MY_REQUEST&quot;)\r\n    public class MyRequest implements Persistable {\r\n\r\n       //...\r\n       @ManyToOne(fetch=FetchType.EAGER)\r\n       @JoinColumn(name=&quot;ASSIGNEE_ID&quot;)\r\n       private MyRequestAssignee myRequestAssignee;\r\n       //...\r\n    }\r\n\r\n(`Persistable` is just an interface that has the `id` property to make sure Hibernate has access to it.)\r\n\r\nI see the `MyRequestAssignee` type underlined in red and the message reads `&#39;Many To One&#39; attribute type should not be &#39;Persistence Entity&#39;.`  Are there something wrong with my relationships?  \r\n\r\n\r\nFor a sanity check, I looked at [this post][1] and [this post][2] too.  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16500776/one-to-many-attribute-value-type-should-not-be-persistence-entity\r\n  [2]: https://stackoverflow.com/questions/11938253/jpa-joincolumn-vs-mappedby","title":"&#39;Many To One&#39; attribute type should not be &#39;Persistence Entity&#39;","body":"<p>I'm trying out IntelliJ IDEA and it's warning me of a Hibernate association that I don't quite understand.  </p>\n\n<p>One Side:</p>\n\n<pre><code>@Entity\n@Table(name = \"MY_REQ_ASSIGNEE\")\npublic class MyRequestAssignee extends BaseUser {\n    //...\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.ALL}, mappedBy = \"myRequestAssignee\")\n    private Collection&lt;MyRequest&gt; myRequests = new ArrayList&lt;&gt;();\n    //...\n}\n</code></pre>\n\n<p>Many Side:</p>\n\n<pre><code>@Entity\n@Table(name = \"MY_REQUEST\")\npublic class MyRequest implements Persistable {\n\n   //...\n   @ManyToOne(fetch=FetchType.EAGER)\n   @JoinColumn(name=\"ASSIGNEE_ID\")\n   private MyRequestAssignee myRequestAssignee;\n   //...\n}\n</code></pre>\n\n<p>(<code>Persistable</code> is just an interface that has the <code>id</code> property to make sure Hibernate has access to it.)</p>\n\n<p>I see the <code>MyRequestAssignee</code> type underlined in red and the message reads <code>'Many To One' attribute type should not be 'Persistence Entity'.</code>  Are there something wrong with my relationships?  </p>\n\n<p>For a sanity check, I looked at <a href=\"https://stackoverflow.com/questions/16500776/one-to-many-attribute-value-type-should-not-be-persistence-entity\">this post</a> and <a href=\"https://stackoverflow.com/questions/11938253/jpa-joincolumn-vs-mappedby\">this post</a> too.  </p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1643697919,"post_id":70934287,"comment_id":125402352,"body_markdown":"Why is this a problem?  The child artifact&#39;s pom isn&#39;t complete without the parent, and anyone using the child artifact will end up downloading the parent to get those versions, among other things.    If you want actual numbers, hard code them and use something like dependabot to keep them updated.","body":"Why is this a problem?  The child artifact&#39;s pom isn&#39;t complete without the parent, and anyone using the child artifact will end up downloading the parent to get those versions, among other things.    If you want actual numbers, hard code them and use something like dependabot to keep them updated."}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643699373,"creation_date":1643699373,"answer_id":70936704,"question_id":70934287,"body_markdown":"This behavior is expected. \r\n\r\nSub-module&#39;s pom-files not built like resources files with the property values resolved. They always refer to the parent-pom.\r\n\r\nIf you add some module A which is a sub-module (contains `&lt;parent&gt;` definition) to the project dependency, it will download the parent-pom, like transitive dependency, and will take the property value from the parent pom.\r\n\r\nLook at some released pom in maven central (FasterXML Jackson), e.g.\r\n\r\nproperty `javax.activation.version` defined in parent pom\r\n\r\nhttps://repo1.maven.org/maven2/com/fasterxml/jackson/jackson-bom/2.13.1/jackson-bom-2.13.1.pom\r\n\r\nand referenced in child pom\r\n\r\nhttps://repo1.maven.org/maven2/com/fasterxml/jackson/jackson-base/2.13.1/jackson-base-2.13.1.pom","title":"How to propagate properties in parent POM to child POM post build","body":"<p>This behavior is expected.</p>\n<p>Sub-module's pom-files not built like resources files with the property values resolved. They always refer to the parent-pom.</p>\n<p>If you add some module A which is a sub-module (contains <code>&lt;parent&gt;</code> definition) to the project dependency, it will download the parent-pom, like transitive dependency, and will take the property value from the parent pom.</p>\n<p>Look at some released pom in maven central (FasterXML Jackson), e.g.</p>\n<p>property <code>javax.activation.version</code> defined in parent pom</p>\n<p><a href=\"https://repo1.maven.org/maven2/com/fasterxml/jackson/jackson-bom/2.13.1/jackson-bom-2.13.1.pom\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/fasterxml/jackson/jackson-bom/2.13.1/jackson-bom-2.13.1.pom</a></p>\n<p>and referenced in child pom</p>\n<p><a href=\"https://repo1.maven.org/maven2/com/fasterxml/jackson/jackson-base/2.13.1/jackson-base-2.13.1.pom\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/fasterxml/jackson/jackson-base/2.13.1/jackson-base-2.13.1.pom</a></p>\n"}],"owner":{"account_id":14789509,"reputation":320,"user_id":10680850,"display_name":"Stubborn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70936704,"answer_count":1,"score":1,"last_activity_date":1643699373,"creation_date":1643674086,"question_id":70934287,"body_markdown":"Have many shared libraries (jar) that use a common parent POM. \r\n\r\nParent POM has property log4j.version defined as 2.17.1\r\n\r\nChild projects A and B have log4j dependency defined with version ${log4j.version}\r\n\r\nmvn clean install works fine. But when I look at the generated artifact for projects A or B, their POM still says log4j version in dependencies section as ${log4j.version}. That won&#39;t have the desired effect of going with version 2.17.1 if other projects start using library A or B. What is a way to keep the version definition in parent, yet have the child projects specify the version in the built artifact?\r\n\r\nAnd I don&#39;t want to add log4j dependency in parent POM because I have few child projects that do not need/use log4j at all. Also, that doesn&#39;t solve the problem because even then the child projects after build will not call out the dependency to log4j at all? Probably worse than what I have now","title":"How to propagate properties in parent POM to child POM post build","body":"<p>Have many shared libraries (jar) that use a common parent POM.</p>\n<p>Parent POM has property log4j.version defined as 2.17.1</p>\n<p>Child projects A and B have log4j dependency defined with version ${log4j.version}</p>\n<p>mvn clean install works fine. But when I look at the generated artifact for projects A or B, their POM still says log4j version in dependencies section as ${log4j.version}. That won't have the desired effect of going with version 2.17.1 if other projects start using library A or B. What is a way to keep the version definition in parent, yet have the child projects specify the version in the built artifact?</p>\n<p>And I don't want to add log4j dependency in parent POM because I have few child projects that do not need/use log4j at all. Also, that doesn't solve the problem because even then the child projects after build will not call out the dependency to log4j at all? Probably worse than what I have now</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8185,"reputation":74392,"user_id":14606,"accept_rate":70,"display_name":"MusiGenesis"},"score":3,"creation_date":1301501066,"post_id":5488885,"comment_id":6226515,"body_markdown":"80000010 isn&#39;t a negative number in my universe.","body":"80000010 isn&#39;t a negative number in my universe."},{"owner":{"account_id":30523,"reputation":37697,"user_id":83264,"accept_rate":100,"display_name":"Paul Ruane"},"score":3,"creation_date":1301501094,"post_id":5488885,"comment_id":6226527,"body_markdown":"You say in the title &#39;negative numbers&#39; but the example is of a positive number.","body":"You say in the title &#39;negative numbers&#39; but the example is of a positive number."},{"owner":{"account_id":174677,"reputation":1614,"user_id":404192,"accept_rate":93,"display_name":"LiuYan 刘研"},"score":1,"creation_date":1301503755,"post_id":5488885,"comment_id":6227198,"body_markdown":"it&#39;s something &#39;evil&#39; that Java does not support unsigned int","body":"it&#39;s something &#39;evil&#39; that Java does not support unsigned int"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1301504055,"post_id":5488885,"comment_id":6227279,"body_markdown":"A lack of unsigned is easy to work around. But I agree you shouldn&#39;t have to. ;)","body":"A lack of unsigned is easy to work around. But I agree you shouldn&#39;t have to. ;)"}],"answers":[{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1301501181,"creation_date":1301501181,"answer_id":5488936,"question_id":5488885,"body_markdown":"Because parseInt &quot;parses the string argument as a signed integer&quot;, as specified in the API documentation. The value 80000010 with radix 16 is outside the valid range for a signed 32 byte value.","title":"Integer.parseInt() doesn&#39;t parse large negative numbers","body":"<p>Because parseInt \"parses the string argument as a signed integer\", as specified in the API documentation. The value 80000010 with radix 16 is outside the valid range for a signed 32 byte value.</p>\n"},{"tags":[],"owner":{"account_id":345037,"reputation":1624,"user_id":677719,"display_name":"xappymah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301501671,"creation_date":1301501190,"answer_id":5488939,"question_id":5488885,"body_markdown":"It is because the first parameter is signed integer, so for negative numbers you have to give minus sign explicitly. And in your case you have big **unsgined** number outside the integer range.","title":"Integer.parseInt() doesn&#39;t parse large negative numbers","body":"<p>It is because the first parameter is signed integer, so for negative numbers you have to give minus sign explicitly. And in your case you have big <strong>unsgined</strong> number outside the integer range.</p>\n"},{"tags":[],"owner":{"account_id":143638,"reputation":2719,"user_id":352109,"accept_rate":81,"display_name":"Riccardo Cossu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301501198,"creation_date":1301501198,"answer_id":5488941,"question_id":5488885,"body_markdown":"You&#39;re parsing it with base 16. So it is greater than the maximum for integer.","title":"Integer.parseInt() doesn&#39;t parse large negative numbers","body":"<p>You're parsing it with base 16. So it is greater than the maximum for integer.</p>\n"},{"tags":[],"owner":{"account_id":30523,"reputation":37697,"user_id":83264,"accept_rate":100,"display_name":"Paul Ruane"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301501281,"creation_date":1301501281,"answer_id":5488962,"question_id":5488885,"body_markdown":"80,00,00,10&lt;sub&gt;16&lt;/sub&gt; = 2,147,483,664&lt;sub&gt;10&lt;/sub&gt;\r\n\r\nWhilst a Java integer has a range of -2,147,483,648&lt;sub&gt;10&lt;/sub&gt; to 2,147,483,647&lt;sub&gt;10&lt;/sub&gt;.","title":"Integer.parseInt() doesn&#39;t parse large negative numbers","body":"<p>80,00,00,10<sub>16</sub> = 2,147,483,664<sub>10</sub></p>\n\n<p>Whilst a Java integer has a range of -2,147,483,648<sub>10</sub> to 2,147,483,647<sub>10</sub>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1405981440,"creation_date":1301504558,"answer_id":5489567,"question_id":5488885,"body_markdown":"You can do\r\n\r\n    int value = (int) Long.parseLong(&quot;80000010&quot;, 16)\r\n\r\n**Update:**\r\n\r\nWith [Java 8 update][1] (2014) you can write\r\n\r\n    int value = Integer.parseUnsignedInt(&quot;80000010&quot;, 16);\r\n\r\n\r\n  [1]: https://blogs.oracle.com/thejavatutorials/entry/jdk_8_is_released","title":"Integer.parseInt() doesn&#39;t parse large negative numbers","body":"<p>You can do</p>\n\n<pre><code>int value = (int) Long.parseLong(\"80000010\", 16)\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>With <a href=\"https://blogs.oracle.com/thejavatutorials/entry/jdk_8_is_released\" rel=\"nofollow\">Java 8 update</a> (2014) you can write</p>\n\n<pre><code>int value = Integer.parseUnsignedInt(\"80000010\", 16);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433768381,"creation_date":1433768381,"answer_id":30709814,"question_id":5488885,"body_markdown":"For those stuck with Java &lt;= 7, [Guava][1] provides a utility for parsing ints as\r\nunsigned:\r\n\r\n    UnsignedInts.parseUnsignedInt(&quot;ffffffff&quot;, 16);\r\n    &gt; -1\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/primitives/UnsignedInts.html#parseUnsignedInt(java.lang.String)","title":"Integer.parseInt() doesn&#39;t parse large negative numbers","body":"<p>For those stuck with Java &lt;= 7, <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/primitives/UnsignedInts.html#parseUnsignedInt(java.lang.String)\" rel=\"nofollow\">Guava</a> provides a utility for parsing ints as\nunsigned:</p>\n\n<pre><code>UnsignedInts.parseUnsignedInt(\"ffffffff\", 16);\n&gt; -1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17913984,"reputation":1,"user_id":13015415,"display_name":"Daniel Commins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643699053,"creation_date":1643312900,"answer_id":70884830,"question_id":5488885,"body_markdown":"Integer.parseInt() takes in a signed integer as it&#39;s input. This means the input has to be between `&quot;7FFFFFFF&quot;` and `&quot;-80000000&quot;`. Note the negative sign before `0x80000000`. The input you want for `-2147483632` is the positive `2147483632 (0x7FFFFFF0)` with a negative sign in front, so `Integer.parseInt(&quot;-7FFFFFF0&quot;, 16)`.","title":"Integer.parseInt() doesn&#39;t parse large negative numbers","body":"<p>Integer.parseInt() takes in a signed integer as it's input. This means the input has to be between <code>&quot;7FFFFFFF&quot;</code> and <code>&quot;-80000000&quot;</code>. Note the negative sign before <code>0x80000000</code>. The input you want for <code>-2147483632</code> is the positive <code>2147483632 (0x7FFFFFF0)</code> with a negative sign in front, so <code>Integer.parseInt(&quot;-7FFFFFF0&quot;, 16)</code>.</p>\n"}],"owner":{"account_id":203212,"reputation":2374,"user_id":450741,"accept_rate":63,"display_name":"Saideira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5341,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5489567,"answer_count":7,"score":3,"last_activity_date":1643699053,"creation_date":1301500972,"question_id":5488885,"body_markdown":"Why is NumberFormatException is thrown when i try `Integer.parseInt(&quot;80000010&quot;, 16)`?? That &lt;b&gt;IS&lt;/b&gt; a 32-bit number, which is the size of java&#39;s int.\r\n\r\n\r\nEDIT: \r\nThe best part is this...\r\n\r\n    int z = 0x80000010;\r\n    System.err.println(&quot;equal to &quot; + z);\r\n\r\nPrints `-2147483632` which is indeed `0x80000010` according to my calculator ;)","title":"Integer.parseInt() doesn&#39;t parse large negative numbers","body":"<p>Why is NumberFormatException is thrown when i try <code>Integer.parseInt(\"80000010\", 16)</code>?? That <b>IS</b> a 32-bit number, which is the size of java's int.</p>\n\n<p>EDIT: \nThe best part is this...</p>\n\n<pre><code>int z = 0x80000010;\nSystem.err.println(\"equal to \" + z);\n</code></pre>\n\n<p>Prints <code>-2147483632</code> which is indeed <code>0x80000010</code> according to my calculator ;)</p>\n"},{"tags":["java","android","xml","user-interface"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1643698720,"post_id":70936580,"comment_id":125402522,"body_markdown":"what have you tried ? there are loads of posts explaining how to handle text input and validation, what are you struggling with ?","body":"what have you tried ? there are loads of posts explaining how to handle text input and validation, what are you struggling with ?"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1643699486,"post_id":70936580,"comment_id":125402717,"body_markdown":"Does this answer your question? [How can restrict my EditText input to some special character like backslash(/),tild(~) etc by soft keyboard in android programmatically](https://stackoverflow.com/questions/21828323/how-can-restrict-my-edittext-input-to-some-special-character-like-backslash-t)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21828323/how-can-restrict-my-edittext-input-to-some-special-character-like-backslash-t\">How can restrict my EditText input to some special character like backslash(/),tild(~) etc by soft keyboard in android programmatically</a>"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1643779496,"post_id":70936580,"comment_id":125427140,"body_markdown":"i don&#39;t know how to restrict these characters or numbers so I did not use anything.","body":"i don&#39;t know how to restrict these characters or numbers so I did not use anything."}],"answers":[{"tags":[],"owner":{"account_id":5563914,"reputation":593,"user_id":4411893,"display_name":"Moklesur Rahman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643698931,"creation_date":1643698931,"answer_id":70936651,"question_id":70936580,"body_markdown":"Use this code:\r\n\r\n\r\n            \r\n\r\n    android:digits=&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;\r\n    android:inputType=&quot;text&quot;","title":"How can I restrict someone from entering numbers or special characters in my NAME edittext","body":"<p>Use this code:</p>\n<pre><code>android:digits=&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;\nandroid:inputType=&quot;text&quot;\n</code></pre>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643698931,"creation_date":1643698455,"question_id":70936580,"body_markdown":"**I am facing this problem, I don&#39;t want someone to enter any special char or numbers in my name field.**\r\n\r\nI want to restrict people from entering any numbers or special characters in my name edittext. Please help me resolve this issue. I am creating a setup profile form for my users.\r\n\r\n**This is My XML file**\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout2&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox.Dense&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:hint=&quot;Enter your Name&quot;\r\n        android:textColorHint=&quot;@color/edittxtline&quot;\r\n        app:boxStrokeColor=&quot;@color/edittxtline&quot;\r\n        app:errorTextColor=&quot;@color/reddark&quot;\r\n        app:hintTextColor=&quot;#5A20CB&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:imeOptions=&quot;actionNext&quot;\r\n            android:inputType=&quot;textPersonName&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout4&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        app:boxStrokeColor=&quot;@color/edittxtline&quot;\r\n        app:hintTextColor=&quot;#5A20CB&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout2&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter Email&quot;\r\n            android:inputType=&quot;textEmailAddress&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout5&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:textColorHint=&quot;@color/edittxtline&quot;\r\n        app:boxStrokeColor=&quot;@color/edittxtline&quot;\r\n        app:endIconMode=&quot;password_toggle&quot;\r\n        app:hintTextColor=&quot;#5A20CB&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout4&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter Password&quot;\r\n            android:inputType=&quot;textPassword&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:backgroundTint=&quot;@color/reddark&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:text=&quot;Update&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        app:cornerRadius=&quot;5dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout5&quot; /&gt;\r\n\r\n\r\n**This is the Image**[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NmIrb.jpg","title":"How can I restrict someone from entering numbers or special characters in my NAME edittext","body":"<p><strong>I am facing this problem, I don't want someone to enter any special char or numbers in my name field.</strong></p>\n<p>I want to restrict people from entering any numbers or special characters in my name edittext. Please help me resolve this issue. I am creating a setup profile form for my users.</p>\n<p><strong>This is My XML file</strong></p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/textInputLayout2&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox.Dense&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    android:hint=&quot;Enter your Name&quot;\n    android:textColorHint=&quot;@color/edittxtline&quot;\n    app:boxStrokeColor=&quot;@color/edittxtline&quot;\n    app:errorTextColor=&quot;@color/reddark&quot;\n    app:hintTextColor=&quot;#5A20CB&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:imeOptions=&quot;actionNext&quot;\n        android:inputType=&quot;textPersonName&quot; /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/textInputLayout4&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    app:boxStrokeColor=&quot;@color/edittxtline&quot;\n    app:hintTextColor=&quot;#5A20CB&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout2&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter Email&quot;\n        android:inputType=&quot;textEmailAddress&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/textInputLayout5&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.FilledBox&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    android:textColorHint=&quot;@color/edittxtline&quot;\n    app:boxStrokeColor=&quot;@color/edittxtline&quot;\n    app:endIconMode=&quot;password_toggle&quot;\n    app:hintTextColor=&quot;#5A20CB&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout4&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter Password&quot;\n        android:inputType=&quot;textPassword&quot; /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    android:backgroundTint=&quot;@color/reddark&quot;\n    android:padding=&quot;10dp&quot;\n    android:text=&quot;Update&quot;\n    android:textAllCaps=&quot;false&quot;\n    android:textColor=&quot;#FFFFFF&quot;\n    android:textSize=&quot;15sp&quot;\n    app:cornerRadius=&quot;5dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout5&quot; /&gt;\n</code></pre>\n<p><strong>This is the Image</strong><a href=\"https://i.stack.imgur.com/NmIrb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NmIrb.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","architecture","facade","application-design"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1628329952,"post_id":68691149,"comment_id":121394839,"body_markdown":"&quot;*When the call comes to the REST Controller, is it still popular to populate a TO (POJO) and then make Service call, which in turn populates a BusinessObject and then calls a Repository service?*&quot; - Yes. The input channel (e.g. HTTP) is of no concern to the business layer. The business layer expects some request as input, does operations (possibly loading/creating/modifying business objects) and returns some response as output. The business object should not cross the service boundary.","body":"&quot;<i>When the call comes to the REST Controller, is it still popular to populate a TO (POJO) and then make Service call, which in turn populates a BusinessObject and then calls a Repository service?</i>&quot; - Yes. The input channel (e.g. HTTP) is of no concern to the business layer. The business layer expects some request as input, does operations (possibly loading/creating/modifying business objects) and returns some response as output. The business object should not cross the service boundary."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1628330181,"post_id":68691149,"comment_id":121394880,"body_markdown":"While we are on the topic: same reasoning goes for the persistence layer. Do not pass business objects 1:1 to the pesistence layer. Rather, pass requests and expect responses. Map between them and the business entities.","body":"While we are on the topic: same reasoning goes for the persistence layer. Do not pass business objects 1:1 to the pesistence layer. Rather, pass requests and expect responses. Map between them and the business entities."},{"owner":{"account_id":4662993,"reputation":1515,"user_id":3776810,"accept_rate":76,"display_name":"Jaims"},"score":1,"creation_date":1628330416,"post_id":68691149,"comment_id":121394921,"body_markdown":"If you don&#39;t want to write exactly similar properties for BeanUtils, take a look at other libraries such as `MapStruct`. It gives you great freedom in how you wish to map properties.","body":"If you don&#39;t want to write exactly similar properties for BeanUtils, take a look at other libraries such as <code>MapStruct</code>. It gives you great freedom in how you wish to map properties."},{"owner":{"account_id":5754790,"reputation":101,"user_id":4543123,"display_name":"Arijit Datta"},"score":0,"creation_date":1628331926,"post_id":68691149,"comment_id":121395215,"body_markdown":"@Turing85 &quot;_italic_ While we are on the topic: same reasoning goes for the persistence layer. Do not pass business objects 1:1 to the pesistence layer. Rather, pass requests and expect responses. Map between them and the business entities._italic_ &quot; - sorry you lost me there. So with this design we have CustomerTO, CustomerBO and CustomerEntity? Can you please elaborate?","body":"@Turing85 &quot;<i>italic</i> While we are on the topic: same reasoning goes for the persistence layer. Do not pass business objects 1:1 to the pesistence layer. Rather, pass requests and expect responses. Map between them and the business entities._italic_ &quot; - sorry you lost me there. So with this design we have CustomerTO, CustomerBO and CustomerEntity? Can you please elaborate?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1628332032,"post_id":68691149,"comment_id":121395237,"body_markdown":"Nothing more to elaborate. You pretty much summed it up. If you need some buzzwords, search for hexagonal architecture, onion architecture, clean architecture or ports and adapters.","body":"Nothing more to elaborate. You pretty much summed it up. If you need some buzzwords, search for hexagonal architecture, onion architecture, clean architecture or ports and adapters."},{"owner":{"account_id":5754790,"reputation":101,"user_id":4543123,"display_name":"Arijit Datta"},"score":0,"creation_date":1628332149,"post_id":68691149,"comment_id":121395262,"body_markdown":"@Turing85 arent we duplicating a lot of code for that. It easily shows up in the CopyPasteDetector.","body":"@Turing85 arent we duplicating a lot of code for that. It easily shows up in the CopyPasteDetector."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1628332332,"post_id":68691149,"comment_id":121395293,"body_markdown":"Counter-question: What is more important? [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself) or [Separation of Concerns](https://en.wikipedia.org/wiki/Separation_of_concerns)? You be the judge. The answer is inherently opinion-based.","body":"Counter-question: What is more important? <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY</a> or <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">Separation of Concerns</a>? You be the judge. The answer is inherently opinion-based."},{"owner":{"account_id":5754790,"reputation":101,"user_id":4543123,"display_name":"Arijit Datta"},"score":0,"creation_date":1628332758,"post_id":68691149,"comment_id":121395380,"body_markdown":"@Turing85 would this be a viable design? CustomerBase (containing only the private fields), CustomerTO extends CustomerBase (contains the g/s); CustomerBO extends CustomerBase (another set of g/s), CustomerEntity will be separate ofcourse. Then again, if custMailing1 changes to custStreet1, then it has to be done in all the POJOs. With the above approach, you avoid that somewhat. Yes I agree, its a fine line between DRY or Sep of Concerns. It drives me mad these days.","body":"@Turing85 would this be a viable design? CustomerBase (containing only the private fields), CustomerTO extends CustomerBase (contains the g/s); CustomerBO extends CustomerBase (another set of g/s), CustomerEntity will be separate ofcourse. Then again, if custMailing1 changes to custStreet1, then it has to be done in all the POJOs. With the above approach, you avoid that somewhat. Yes I agree, its a fine line between DRY or Sep of Concerns. It drives me mad these days."},{"owner":{"account_id":5754790,"reputation":101,"user_id":4543123,"display_name":"Arijit Datta"},"score":0,"creation_date":1628332887,"post_id":68691149,"comment_id":121395407,"body_markdown":"@Jaims I will have to study this. Thank you for introducing me to it.","body":"@Jaims I will have to study this. Thank you for introducing me to it."},{"owner":{"account_id":17461,"reputation":9900,"user_id":39094,"accept_rate":78,"display_name":"Adrian K"},"score":0,"creation_date":1628462189,"post_id":68691149,"comment_id":121419973,"body_markdown":"@Turing85 - you should be putting your comments into an answer, IMHO.","body":"@Turing85 - you should be putting your comments into an answer, IMHO."}],"answers":[{"tags":[],"owner":{"account_id":17461,"reputation":9900,"user_id":39094,"accept_rate":78,"display_name":"Adrian K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628463459,"creation_date":1628463459,"answer_id":68705306,"question_id":68691149,"body_markdown":"To elaborate on @Turing85&#39;s comments...\r\n\r\nOption 1 usually (see the end of my answer) makes infinitely more sense.  It&#39;s a question of responsibility (purpose) and change; the two logical components you refer to, a REST API and a repository / system service:\r\n\r\n - **Responsibility**: a REST service cares about working with its callers, so ideally when designing a REST API you should be involving someone from the client-side (client as in caller), because if the API doesn&#39;t work for them it&#39;s not going to be an effective API.  On the other hand, repositories are somewhat self-centered, and may need to consider things that are or no interest to API callers (and vis-versa).\r\n- **Change**: if you pay attention to design principles, like SOLID, you&#39;ll know that part of a system should do one job - as a way of limiting the reasons why it needs to change (see: [SRP][1]).  Trying to use one object across both outward-facing API&#39;s, and inward-facing repositories, is asking for trouble because it&#39;s trying to do too much - its trying to help solve problems in two very different parts of the wider solution, and thee both have very different change drivers working against them.  Turning85&#39;s comment about the persistence layer stems from the same idea.\r\n\r\n**&quot;Option 1 usually makes infinitely more sense&quot;:** \r\n\r\nOne case where the REST API&#39;s objects will / can bear a very close resemblance to those that hit the actual repository (or even be reused, I guess) is when the REST API is a **System API** - i.e. a dedicated fa&#231;ade / proxy to the repository.  In this case, the System API is largely driven by the repository i.e. the main change driver is just the repository.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Single-responsibility_principle","title":"In modern application design, how do you implement / between TransferOject and BusinessObject","body":"<p>To elaborate on @Turing85's comments...</p>\n<p>Option 1 usually (see the end of my answer) makes infinitely more sense.  It's a question of responsibility (purpose) and change; the two logical components you refer to, a REST API and a repository / system service:</p>\n<ul>\n<li><strong>Responsibility</strong>: a REST service cares about working with its callers, so ideally when designing a REST API you should be involving someone from the client-side (client as in caller), because if the API doesn't work for them it's not going to be an effective API.  On the other hand, repositories are somewhat self-centered, and may need to consider things that are or no interest to API callers (and vis-versa).</li>\n<li><strong>Change</strong>: if you pay attention to design principles, like SOLID, you'll know that part of a system should do one job - as a way of limiting the reasons why it needs to change (see: <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\">SRP</a>).  Trying to use one object across both outward-facing API's, and inward-facing repositories, is asking for trouble because it's trying to do too much - its trying to help solve problems in two very different parts of the wider solution, and thee both have very different change drivers working against them.  Turning85's comment about the persistence layer stems from the same idea.</li>\n</ul>\n<p><strong>&quot;Option 1 usually makes infinitely more sense&quot;:</strong></p>\n<p>One case where the REST API's objects will / can bear a very close resemblance to those that hit the actual repository (or even be reused, I guess) is when the REST API is a <strong>System API</strong> - i.e. a dedicated façade / proxy to the repository.  In this case, the System API is largely driven by the repository i.e. the main change driver is just the repository.</p>\n"},{"tags":[],"owner":{"account_id":5754790,"reputation":101,"user_id":4543123,"display_name":"Arijit Datta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643698926,"creation_date":1643698926,"answer_id":70936649,"question_id":68691149,"body_markdown":"After researching a bit I agree, keeping things simple will result in simpler code. I found a nice simple way to take care of this manual work.\r\n\r\nhttps://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application","title":"In modern application design, how do you implement / between TransferOject and BusinessObject","body":"<p>After researching a bit I agree, keeping things simple will result in simpler code. I found a nice simple way to take care of this manual work.</p>\n<p><a href=\"https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\" rel=\"nofollow noreferrer\">https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application</a></p>\n"}],"owner":{"account_id":5754790,"reputation":101,"user_id":4543123,"display_name":"Arijit Datta"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643698926,"creation_date":1628329131,"question_id":68691149,"body_markdown":"With organizations which are slow to adapt to modern technology finally junking EJBs and getting ready to transform to SpringBoot, Microservices, REST, Angular, there are some some questions application design. One being about TransferObjects and Business Objects\r\n\r\n1. When the call comes to the REST Controller, is it still popular to populate a TO (POJO) and then make Service call, which in turn populates a BusinessObject and then calls a Repository service? \r\n\r\n***OR***\r\n\r\n2. At the REST Controller layer do we directly populate the BO and send it to the Service (This does not make any sense to me, because a BO is populated only during the execution business logic). \r\n\r\nIf nowadays its still Option 1, then how do we avoid writing to exactly similar POJO classes in most cases (in order to use BeanUtils.copyProperties()), with the BO decorated with @Id, @Column etc. \r\n","title":"In modern application design, how do you implement / between TransferOject and BusinessObject","body":"<p>With organizations which are slow to adapt to modern technology finally junking EJBs and getting ready to transform to SpringBoot, Microservices, REST, Angular, there are some some questions application design. One being about TransferObjects and Business Objects</p>\n<ol>\n<li>When the call comes to the REST Controller, is it still popular to populate a TO (POJO) and then make Service call, which in turn populates a BusinessObject and then calls a Repository service?</li>\n</ol>\n<p><em><strong>OR</strong></em></p>\n<ol start=\"2\">\n<li>At the REST Controller layer do we directly populate the BO and send it to the Service (This does not make any sense to me, because a BO is populated only during the execution business logic).</li>\n</ol>\n<p>If nowadays its still Option 1, then how do we avoid writing to exactly similar POJO classes in most cases (in order to use BeanUtils.copyProperties()), with the BO decorated with @Id, @Column etc.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643698275,"post_id":70936542,"comment_id":125402425,"body_markdown":"It is not stated in any specification that it *always* does ... therefore it is not guaranteed.  (But *in practice* it could always be the case that ...)","body":"It is not stated in any specification that it <i>always</i> does ... therefore it is not guaranteed.  (But <i>in practice</i> it could always be the case that ...)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643698831,"creation_date":1643698831,"answer_id":70936625,"question_id":70936542,"body_markdown":"I second like Stephen C that this is no guarantee but a solid practice.\r\nHowever the different vendors are likely to follow one pattern in their line, and there are just a few relevant vendors anyway.\r\n\r\nIt would not be too tyring to check relevant vendor&#39;s distribution (and their names for sure show up) and implement it from there.\r\n\r\nIf you want a fully standardized solution you could also create a java class that is to be executed with the JVM in question. This java class would print the content of the system properties. These are standardized and contain specification version as well as implementation version.","title":"Is it guaranteed that the term &quot;version&quot; appears in the output of `java -version`?","body":"<p>I second like Stephen C that this is no guarantee but a solid practice.\nHowever the different vendors are likely to follow one pattern in their line, and there are just a few relevant vendors anyway.</p>\n<p>It would not be too tyring to check relevant vendor's distribution (and their names for sure show up) and implement it from there.</p>\n<p>If you want a fully standardized solution you could also create a java class that is to be executed with the JVM in question. This java class would print the content of the system properties. These are standardized and contain specification version as well as implementation version.</p>\n"}],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643698831,"creation_date":1643698080,"question_id":70936542,"body_markdown":"There&#39;s a 10 year old question, [Correct way to check Java version from BASH script](https://stackoverflow.com/questions/7334754/correct-way-to-check-java-version-from-bash-script). Obviously some flaws of that approach were already pointed out, since we no longer have &quot;the Java&quot;, but also OpenJDK and others.\r\n\r\nDoes Java guarantee that the output always contains the term &quot;version&quot;, i.e. it must neither be translated, nor abbreviated (&quot;v.&quot;) and also not omitted?","title":"Is it guaranteed that the term &quot;version&quot; appears in the output of `java -version`?","body":"<p>There's a 10 year old question, <a href=\"https://stackoverflow.com/questions/7334754/correct-way-to-check-java-version-from-bash-script\">Correct way to check Java version from BASH script</a>. Obviously some flaws of that approach were already pointed out, since we no longer have &quot;the Java&quot;, but also OpenJDK and others.</p>\n<p>Does Java guarantee that the output always contains the term &quot;version&quot;, i.e. it must neither be translated, nor abbreviated (&quot;v.&quot;) and also not omitted?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","avro","hive-serde"],"comments":[{"owner":{"account_id":11451920,"reputation":103,"user_id":8394088,"display_name":"Venkata Madhu"},"score":0,"creation_date":1637197696,"post_id":70007489,"comment_id":123764784,"body_markdown":"@OneCricketeer, the way Serde is implemented by confluent API (io.confluent.kafka.streams.serdes.avro.GenericAvroSerde), which i am using in my code, mandates schema registry. If i want to run the same code base on Apache Kafka, it requires custom Serde to by-pass schema validation with Schema Registry.","body":"@OneCricketeer, the way Serde is implemented by confluent API (io.confluent.kafka.streams.serdes.avro.GenericAvroSerde), which i am using in my code, mandates schema registry. If i want to run the same code base on Apache Kafka, it requires custom Serde to by-pass schema validation with Schema Registry."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637331284,"post_id":70007489,"comment_id":123804818,"body_markdown":"Apache Kafka comes with Confluent Platform. It doesn&#39;t care if you have Avro data, as long as it becomes bytes. That being said, yes, the Schema Registry serializers require the Registry URL to be configured. I don&#39;t understand your specific problem of needing to define your own Serde when Confluent already provides it. In order words, &quot;targetType&quot; is not needed, and if you really wanted this, you should be using a SpecificRecord subclass, not GenericRecord... Again, please show your NPE stacktrace in the question","body":"Apache Kafka comes with Confluent Platform. It doesn&#39;t care if you have Avro data, as long as it becomes bytes. That being said, yes, the Schema Registry serializers require the Registry URL to be configured. I don&#39;t understand your specific problem of needing to define your own Serde when Confluent already provides it. In order words, &quot;targetType&quot; is not needed, and if you really wanted this, you should be using a SpecificRecord subclass, not GenericRecord... Again, please show your NPE stacktrace in the question"},{"owner":{"account_id":11451920,"reputation":103,"user_id":8394088,"display_name":"Venkata Madhu"},"score":0,"creation_date":1637583887,"post_id":70007489,"comment_id":123856975,"body_markdown":"Hi @OneCricketeer, edited the query with 2 of the scenarios tried with SpecificRecord. Pls find the updated query.","body":"Hi @OneCricketeer, edited the query with 2 of the scenarios tried with SpecificRecord. Pls find the updated query."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637588034,"post_id":70007489,"comment_id":123858611,"body_markdown":"Are you using the Schema Registry, or not? Why do you want by &quot;bypass schema validation&quot;? You can set the compatibility level of the subject to NONE to do that on the server side, and therefore won&#39;t require your own Serde","body":"Are you using the Schema Registry, or not? Why do you want by &quot;bypass schema validation&quot;? You can set the compatibility level of the subject to NONE to do that on the server side, and therefore won&#39;t require your own Serde"},{"owner":{"account_id":11451920,"reputation":103,"user_id":8394088,"display_name":"Venkata Madhu"},"score":0,"creation_date":1637590693,"post_id":70007489,"comment_id":123859675,"body_markdown":"Want to by-pass schema registry. Assume that, want to use plain vanilla kafka and want to have my own implementation of Serde.","body":"Want to by-pass schema registry. Assume that, want to use plain vanilla kafka and want to have my own implementation of Serde."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637603477,"post_id":70007489,"comment_id":123865200,"body_markdown":"As mentioned previously, there is no difference between &quot;vanilla Kafka&quot; and any vendor supplied version of it. The Schema Registry is an addon that works with any Kafka installation and if you do end up using or &quot;wrapping&quot; `io.confluent.kafka.streams.serdes` classes, then you **are required** to use the Confluent Schema Registry, and thus cannot bypass, and really don&#39;t need to [re-write their source code](https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroSerializer.java#L129-L149)","body":"As mentioned previously, there is no difference between &quot;vanilla Kafka&quot; and any vendor supplied version of it. The Schema Registry is an addon that works with any Kafka installation and if you do end up using or &quot;wrapping&quot; <code>io.confluent.kafka.streams.serdes</code> classes, then you <b>are required</b> to use the Confluent Schema Registry, and thus cannot bypass, and really don&#39;t need to <a href=\"https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroSerializer.java#L129-L149\" rel=\"nofollow noreferrer\">re-write their source code</a>"}],"owner":{"account_id":11451920,"reputation":103,"user_id":8394088,"display_name":"Venkata Madhu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643698818,"creation_date":1637163989,"question_id":70007489,"body_markdown":"I have a stream processing application using AVRO message format. For serialization and deserialization (Serde) it is using **io.confluent.kafka.streams.serdes.avro.GenericAvroSerde**. \r\n\r\nI was trying to create custom AVRO Serde as something like below\r\n\r\n\r\n    public class CustomAvroSerde implements Serde&lt;SpecificRecord&gt; {\r\n\r\n\t\tClass&lt;SpecificRecord&gt; targetType;\r\n\r\n\t\tpublic CustomAvroSerde() {\r\n             \r\n\t\t}\r\n\r\n\t\tpublic CustomAvroSerde(Class&lt;SpecificRecord&gt; targetType) {\r\n\t\t\tthis.targetType = targetType;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Serializer&lt;SpecificRecord&gt; serializer() {\r\n\t\t\treturn new Serializer&lt;SpecificRecord&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic byte[] serialize(String s, SpecificRecord data) {\r\n\t\t\t\t\tbyte[] result = null;\r\n\t\t\t\t\tif (data != null) {\r\n\t\t\t\t\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\t\t\t\t\tBinaryEncoder binaryEncoder =\r\n\t\t\t\t\t\t\t\tEncoderFactory.get().binaryEncoder(byteArrayOutputStream, null);\r\n\r\n\t\t\t\t\t\tDatumWriter&lt;SpecificRecord&gt; datumWriter = new SpecificDatumWriter&lt;&gt;(data.getSchema());\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tdatumWriter.write(data, binaryEncoder);\r\n\t\t\t\t\t\t\tbinaryEncoder.flush();\r\n\t\t\t\t\t\t\tbyteArrayOutputStream.close();\r\n\t\t\t\t\t\t} catch (IOException ioException) {\r\n\t\t\t\t\t\t\tioException.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tresult = byteArrayOutputStream.toByteArray();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Deserializer&lt;SpecificRecord&gt; deserializer() {\r\n\t\t\treturn new Deserializer&lt;SpecificRecord&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic SpecificRecord deserialize(String s, byte[] data) {\r\n\t\t\t\t\tSpecificRecord result = null;\r\n\t\t\t\t\tif (data != null) {\r\n\t\t\t\t\t\tDatumReader&lt;SpecificRecord&gt; datumReader;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tBinaryDecoder binaryDecoder = new DecoderFactory().createBinaryDecoder(data, null);\r\n\t\t\t\t\t\t\tdatumReader = new SpecificDatumReader&lt;&gt;()\r\n                            //also tried with supplying schema as below commented line\r\n                            //datumReader = new SpecificDatumReader&lt;&gt;(new Schema.Parser().parse(&quot;avro schema in string form&quot;));\r\n\t\t\t\t\t\t\tDecoder decoder = DecoderFactory.get().binaryDecoder(data, binaryDecoder);\r\n\t\t\t\t\t\t\tresult = datumReader.read(null, decoder);\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\nThe process of serialization is working good, but while performing deserialization throwing Nullpointer, as the serde is not having reference of AVRO schema in targetType during de-serialization.\r\n\r\nI will not be having schema details until runtime, hence looking for a generalized schema to be provided at deserialization. \r\n\r\nConfluent Serde is initializing the targetType with KafkaAvroDeserializer. How to handle is this case. Any clue?\r\n\r\n**Edited content**&lt;br&gt;\r\nChanged serialization and deserialization to use SpecificRecord.\r\nAfter the code change, it was giving Nullpointer exception as given below\r\n\r\n    java.lang.NullPointerException\r\n\t\t\tat org.apache.avro.Schema.applyAliases(Schema.java:1787)\r\n\t\t\tat org.apache.avro.generic.GenericDatumReader.getResolver(GenericDatumReader.java:130)\r\n\t\t\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:151)\r\n\t\t\tat com.hcl.test.CustomAvroSerde$2.deserialize(CustomAvroSerde.java:74)\r\n\t\t\tat com.hcl.test.CustomAvroSerde$2.deserialize(CustomAvroSerde.java:56)\r\n\t\t\tat org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\r\n\t\t\tat org.apache.kafka.streams.processor.internals.SourceNode.deserializeValue(SourceNode.java:63)\r\n\t\t\tat org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:66)\r\n\t\t\tat org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:175)\r\n\t\t\tat org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:112)\r\n\r\n\r\n\r\nAs commented in the code, tried with Schema by passing it to SpecificDatumReader while constructing. When tried that, it was giving Casting exception as below,\r\n\r\n    java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to org.apache.avro.specific.SpecificRecord\r\n        at com.hcl.test.CustomAvroSerde$2.deserialize(CustomAvroSerde.java:74)\r\n        at com.hcl.test.CustomAvroSerde$2.deserialize(CustomAvroSerde.java:56)\r\n        at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\r\n        at org.apache.kafka.streams.processor.internals.SourceNode.deserializeValue(SourceNode.java:63)\r\n\r\n\r\nAlso enabled **specific.avro.reader** flag to **true**. &lt;br&gt;\r\n**End of Edited content**\r\n\r\nThanks&lt;br&gt;\r\nVenkata","title":"kafka stream with custom AVRO Serde (without schema","body":"<p>I have a stream processing application using AVRO message format. For serialization and deserialization (Serde) it is using <strong>io.confluent.kafka.streams.serdes.avro.GenericAvroSerde</strong>.</p>\n<p>I was trying to create custom AVRO Serde as something like below</p>\n<pre><code>public class CustomAvroSerde implements Serde&lt;SpecificRecord&gt; {\n\n    Class&lt;SpecificRecord&gt; targetType;\n\n    public CustomAvroSerde() {\n         \n    }\n\n    public CustomAvroSerde(Class&lt;SpecificRecord&gt; targetType) {\n        this.targetType = targetType;\n    }\n\n    @Override\n    public Serializer&lt;SpecificRecord&gt; serializer() {\n        return new Serializer&lt;SpecificRecord&gt;() {\n            @Override\n            public byte[] serialize(String s, SpecificRecord data) {\n                byte[] result = null;\n                if (data != null) {\n                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                    BinaryEncoder binaryEncoder =\n                            EncoderFactory.get().binaryEncoder(byteArrayOutputStream, null);\n\n                    DatumWriter&lt;SpecificRecord&gt; datumWriter = new SpecificDatumWriter&lt;&gt;(data.getSchema());\n\n                    try {\n                        datumWriter.write(data, binaryEncoder);\n                        binaryEncoder.flush();\n                        byteArrayOutputStream.close();\n                    } catch (IOException ioException) {\n                        ioException.printStackTrace();\n                    }\n\n                    result = byteArrayOutputStream.toByteArray();\n                }\n                return result;\n            }\n        };\n    }\n\n    @Override\n    public Deserializer&lt;SpecificRecord&gt; deserializer() {\n        return new Deserializer&lt;SpecificRecord&gt;() {\n            @Override\n            public SpecificRecord deserialize(String s, byte[] data) {\n                SpecificRecord result = null;\n                if (data != null) {\n                    DatumReader&lt;SpecificRecord&gt; datumReader;\n                    try {\n                        BinaryDecoder binaryDecoder = new DecoderFactory().createBinaryDecoder(data, null);\n                        datumReader = new SpecificDatumReader&lt;&gt;()\n                        //also tried with supplying schema as below commented line\n                        //datumReader = new SpecificDatumReader&lt;&gt;(new Schema.Parser().parse(&quot;avro schema in string form&quot;));\n                        Decoder decoder = DecoderFactory.get().binaryDecoder(data, binaryDecoder);\n                        result = datumReader.read(null, decoder);\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n                return result;\n            }\n        };\n    }\n}\n</code></pre>\n<p>The process of serialization is working good, but while performing deserialization throwing Nullpointer, as the serde is not having reference of AVRO schema in targetType during de-serialization.</p>\n<p>I will not be having schema details until runtime, hence looking for a generalized schema to be provided at deserialization.</p>\n<p>Confluent Serde is initializing the targetType with KafkaAvroDeserializer. How to handle is this case. Any clue?</p>\n<p><strong>Edited content</strong><br>\nChanged serialization and deserialization to use SpecificRecord.\nAfter the code change, it was giving Nullpointer exception as given below</p>\n<pre><code>java.lang.NullPointerException\n        at org.apache.avro.Schema.applyAliases(Schema.java:1787)\n        at org.apache.avro.generic.GenericDatumReader.getResolver(GenericDatumReader.java:130)\n        at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:151)\n        at com.hcl.test.CustomAvroSerde$2.deserialize(CustomAvroSerde.java:74)\n        at com.hcl.test.CustomAvroSerde$2.deserialize(CustomAvroSerde.java:56)\n        at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\n        at org.apache.kafka.streams.processor.internals.SourceNode.deserializeValue(SourceNode.java:63)\n        at org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:66)\n        at org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:175)\n        at org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:112)\n</code></pre>\n<p>As commented in the code, tried with Schema by passing it to SpecificDatumReader while constructing. When tried that, it was giving Casting exception as below,</p>\n<pre><code>java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to org.apache.avro.specific.SpecificRecord\n    at com.hcl.test.CustomAvroSerde$2.deserialize(CustomAvroSerde.java:74)\n    at com.hcl.test.CustomAvroSerde$2.deserialize(CustomAvroSerde.java:56)\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\n    at org.apache.kafka.streams.processor.internals.SourceNode.deserializeValue(SourceNode.java:63)\n</code></pre>\n<p>Also enabled <strong>specific.avro.reader</strong> flag to <strong>true</strong>. <br>\n<strong>End of Edited content</strong></p>\n<p>Thanks<br>\nVenkata</p>\n"},{"tags":["java","linux","memory","jvm","heap-memory"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1620632983,"post_id":67466636,"comment_id":119248001,"body_markdown":"A server doesn&#39;t have &quot;heap&quot;.  It has memory.","body":"A server doesn&#39;t have &quot;heap&quot;.  It has memory."},{"owner":{"account_id":10728466,"reputation":150,"user_id":7895273,"display_name":"Roopashree"},"score":0,"creation_date":1620633972,"post_id":67466636,"comment_id":119248407,"body_markdown":"Oh Okay. This is what I see in Linux server ```uintx MaxHeapSize := 8311013376``` when I execute ```java -XX:+PrintFlagsFinal -version | grep HeapSize```. Hence, I thought that is the max heap size allowed in the server. Please correct me, if I&#39;m wrong.","body":"Oh Okay. This is what I see in Linux server <code>uintx MaxHeapSize := 8311013376</code> when I execute <code>java -XX:+PrintFlagsFinal -version | grep HeapSize</code>. Hence, I thought that is the max heap size allowed in the server. Please correct me, if I&#39;m wrong."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1620635873,"post_id":67466636,"comment_id":119249162,"body_markdown":"It is reporting the actual max heap size for the JVM.  See https://stackoverflow.com/questions/26631498/understanding-java-heap.  (And even if it was the largest allowed heap size, that is still a JVM heap size ... not anything to do with the hardware or the OS.  The OS doesn&#39;t have any idea what a process does with its memory.)","body":"It is reporting the actual max heap size for the JVM.  See <a href=\"https://stackoverflow.com/questions/26631498/understanding-java-heap\" title=\"understanding java heap\">stackoverflow.com/questions/26631498/understanding-java-heap</a>&zwnj;&#8203;.  (And even if it was the largest allowed heap size, that is still a JVM heap size ... not anything to do with the hardware or the OS.  The OS doesn&#39;t have any idea what a process does with its memory.)"},{"owner":{"account_id":10728466,"reputation":150,"user_id":7895273,"display_name":"Roopashree"},"score":0,"creation_date":1620636720,"post_id":67466636,"comment_id":119249516,"body_markdown":"Got it @Stephan C ! Thank you ! :) Now I understand.","body":"Got it @Stephan C ! Thank you ! :) Now I understand."}],"answers":[{"tags":[],"owner":{"account_id":21495595,"reputation":54,"user_id":15840660,"display_name":"Waterdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620633371,"creation_date":1620633371,"answer_id":67466757,"question_id":67466636,"body_markdown":"First of: the Ram a server has is called memory not heap size ;)\r\nAnd the thing you define with -Xmx is how much memory a application can use. This means that you will use 10GB of ram of 32GB of ram for your applications which isn&#39;t nearly touching the limits of your server. \r\n\r\nEdit: But it still could lead to problems if you would allocate more than 32GB like stephen wrote.","title":"Java Heap Memory Allocation for multiple applications in Single Server","body":"<p>First of: the Ram a server has is called memory not heap size ;)\nAnd the thing you define with -Xmx is how much memory a application can use. This means that you will use 10GB of ram of 32GB of ram for your applications which isn't nearly touching the limits of your server.</p>\n<p>Edit: But it still could lead to problems if you would allocate more than 32GB like stephen wrote.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643697649,"creation_date":1620633397,"answer_id":67466759,"question_id":67466636,"body_markdown":"&gt; Is it fine to allocate max heap size like this? Will this lead to any issue in future?\r\n\r\nIf 8GB was the server&#39;s RAM, that could well lead to problems; see below.\r\n\r\nHowever the 8GB that is being reported by \r\n\r\n    $ java -XX:+PrintFlagsFinal -version | grep HeapSize\r\n\r\nis the *default* `MaxHeapSize` for a JVM for your server hardware&lt;sup&gt;1&lt;/sup&gt;; i.e. the heap size you will get if you don&#39;t provide any heap size parameters.  It is NOT the largest possible Java heap size.  If you want to set the *actual* `MaxHeapSize`, use `-Xmx...`.\r\n\r\nThe actual RAM available will be 32GB ... less the RAM that is used by the OS kernel and other processes.  10GB of Java heaps (plus other non-heap memory) should be fine.\r\n\r\n-----------------------------------\r\n\r\nProvided that you have enough swap space, a Linux system can run with the aggregate of all processes virtual memory requirements exceeding the physical RAM on the system.  \r\n\r\nHowever, if you commit (significantly) more virtual memory than you have physical RAM:\r\n\r\n  - Performance will suffer when a process attempts to access a VM page that is currently swapped out.\r\n\r\n  - If there is too much swapping, Linux will take steps to prevent the system from *thrashing*.  The kernel&#39;s OOM killer process will try to identify the cause of the heavy memory demand .... and `KILL -9` it.  \r\n\r\nWhen a JVM does a full garbage collection, it is liable to repeatedly access most of its pages in (essentially) random order.  This is liable to generate a lot of paging ... if you have overcommitted memory.\r\n\r\nUnfortunately, the OOM killer has no notion of the importance of the various processes it assesses as candidates for killing.  So, if you are lucky(!) it will kill the Java process that is causing the most problems.  If you are unlucky, it might kill a process that is more critical; e.g. your database process, the ssh daemon, etc.  In theory, you can protect a process against being killed.  In practice it is awkward to do ... and you may end up in a worse situation by protecting things that *ought* to be killed.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - On current versions of Java, the default `MaxHeapSize` is 1/4 of the total RAM ... as reported by the OS.  You have 32GB of RAM, ergo the default `MaxHeapSize` is 8GB.&lt;/sup&gt;","title":"Java Heap Memory Allocation for multiple applications in Single Server","body":"<blockquote>\n<p>Is it fine to allocate max heap size like this? Will this lead to any issue in future?</p>\n</blockquote>\n<p>If 8GB was the server's RAM, that could well lead to problems; see below.</p>\n<p>However the 8GB that is being reported by</p>\n<pre><code>$ java -XX:+PrintFlagsFinal -version | grep HeapSize\n</code></pre>\n<p>is the <em>default</em> <code>MaxHeapSize</code> for a JVM for your server hardware<sup>1</sup>; i.e. the heap size you will get if you don't provide any heap size parameters.  It is NOT the largest possible Java heap size.  If you want to set the <em>actual</em> <code>MaxHeapSize</code>, use <code>-Xmx...</code>.</p>\n<p>The actual RAM available will be 32GB ... less the RAM that is used by the OS kernel and other processes.  10GB of Java heaps (plus other non-heap memory) should be fine.</p>\n<hr />\n<p>Provided that you have enough swap space, a Linux system can run with the aggregate of all processes virtual memory requirements exceeding the physical RAM on the system.</p>\n<p>However, if you commit (significantly) more virtual memory than you have physical RAM:</p>\n<ul>\n<li><p>Performance will suffer when a process attempts to access a VM page that is currently swapped out.</p>\n</li>\n<li><p>If there is too much swapping, Linux will take steps to prevent the system from <em>thrashing</em>.  The kernel's OOM killer process will try to identify the cause of the heavy memory demand .... and <code>KILL -9</code> it.</p>\n</li>\n</ul>\n<p>When a JVM does a full garbage collection, it is liable to repeatedly access most of its pages in (essentially) random order.  This is liable to generate a lot of paging ... if you have overcommitted memory.</p>\n<p>Unfortunately, the OOM killer has no notion of the importance of the various processes it assesses as candidates for killing.  So, if you are lucky(!) it will kill the Java process that is causing the most problems.  If you are unlucky, it might kill a process that is more critical; e.g. your database process, the ssh daemon, etc.  In theory, you can protect a process against being killed.  In practice it is awkward to do ... and you may end up in a worse situation by protecting things that <em>ought</em> to be killed.</p>\n<hr />\n<p><sup>1 - On current versions of Java, the default <code>MaxHeapSize</code> is 1/4 of the total RAM ... as reported by the OS.  You have 32GB of RAM, ergo the default <code>MaxHeapSize</code> is 8GB.</sup></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620639942,"creation_date":1620639942,"answer_id":67468222,"question_id":67466636,"body_markdown":"You should not see any problem.\r\n\r\nAs you mention, the &#39;default&#39; max heap size is 8 GB. That is an upper bound and does not mean that 8 GB of memory are allocated or used.\r\n\r\nYou specify that two processes need 4 GB and one of them needs 2 GB max heap. Feel free to configure them, they very likely go into three separate invocations of Java. That means each of the JVMs you have at runtime can get the amount of heap they need - and it is way below the 32 GB of memory.\r\n\r\nBut do not start to wonder when you see the virtual memory size of the java processes to be bigger than the max heap size. Heap is only one way for java to use memory, and there are other regions as well.\r\n\r\nI still believe you are safe unless you run a lot of other stuff on the same server that you did not tell us about.","title":"Java Heap Memory Allocation for multiple applications in Single Server","body":"<p>You should not see any problem.</p>\n<p>As you mention, the 'default' max heap size is 8 GB. That is an upper bound and does not mean that 8 GB of memory are allocated or used.</p>\n<p>You specify that two processes need 4 GB and one of them needs 2 GB max heap. Feel free to configure them, they very likely go into three separate invocations of Java. That means each of the JVMs you have at runtime can get the amount of heap they need - and it is way below the 32 GB of memory.</p>\n<p>But do not start to wonder when you see the virtual memory size of the java processes to be bigger than the max heap size. Heap is only one way for java to use memory, and there are other regions as well.</p>\n<p>I still believe you are safe unless you run a lot of other stuff on the same server that you did not tell us about.</p>\n"}],"owner":{"account_id":10728466,"reputation":150,"user_id":7895273,"display_name":"Roopashree"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1643697649,"creation_date":1620632853,"question_id":67466636,"body_markdown":"We have a Linux server with 32 GB RAM. So the Default Heap size allocated in the server is 1/4th which is 8 GB. ```java -XX:+PrintFlagsFinal -version | grep HeapSize```\r\n\r\nNow, we have 3 java processes running in the server. \r\n\r\nThe maximum heap size(-Xmx) required for&lt;br&gt;\r\nProcess 1 = 4 GB&lt;br&gt;\r\nProcess 2 = 4 GB&lt;br&gt;\r\nProcess 3 = 2 GB&lt;br&gt;\r\n\r\nSo the sum of max heap size becomes 10 GB which is greater than Server&#39;s max heap size 8 GB.\r\n\r\nIs it fine to allocate max heap size like this? Will this lead to any issue in future?","title":"Java Heap Memory Allocation for multiple applications in Single Server","body":"<p>We have a Linux server with 32 GB RAM. So the Default Heap size allocated in the server is 1/4th which is 8 GB. <code>java -XX:+PrintFlagsFinal -version | grep HeapSize</code></p>\n<p>Now, we have 3 java processes running in the server.</p>\n<p>The maximum heap size(-Xmx) required for<br>\nProcess 1 = 4 GB<br>\nProcess 2 = 4 GB<br>\nProcess 3 = 2 GB<br></p>\n<p>So the sum of max heap size becomes 10 GB which is greater than Server's max heap size 8 GB.</p>\n<p>Is it fine to allocate max heap size like this? Will this lead to any issue in future?</p>\n"},{"tags":["java","swing","paint","graphics2d"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643697607,"creation_date":1643682585,"answer_id":70935007,"question_id":70934932,"body_markdown":"You&#39;ve broken the paint chain (responsibility).\r\n\r\nTake a look at:\r\n\r\n* [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)\r\n* [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html)\r\n\r\nto get a better understand of how painting works and how you&#39;re suppose to use.\r\n\r\nYou &quot;could&quot; try and fix it by doing something like...\r\n\r\n    @Override\r\n    public void paint(Graphics g){\r\n        super.paint(g);\r\n        Graphics g2d = (Graphics2D)g;\r\n        g2d.drawImage(image, 0, 0, this);\r\n    }\r\n\r\nbut this is just painting the image over the top of what was previously paint.  \r\n\r\nYou &quot;could&quot; try and fix it by doing something like...\r\n\r\n    @Override\r\n    public void paint(Graphics g){\r\n        Graphics g2d = (Graphics2D)g;\r\n        g2d.drawImage(image, 0, 0, this);\r\n        super.paint(g);\r\n    }\r\n\r\nBut now the image isn&#39;t getting painted (because part of the paint workflow is to fill the component with the background color of the component)\r\n\r\nInstead, you need to inject your code into a different point in the paint process.\r\n\r\nYou should be using `paintComponent`, as it&#39;s primary responsibility is to &quot;paint the component&quot;, this is called before the children are painted, so it&#39;s a great place for painting the background, for example... \r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        Graphics g2d = (Graphics2D)g;\r\n        g2d.drawImage(image, 0, 0, this);\r\n    }\r\n","title":"Can I use 2d graphics as background for components in java?","body":"<p>You've broken the paint chain (responsibility).</p>\n<p>Take a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a></li>\n</ul>\n<p>to get a better understand of how painting works and how you're suppose to use.</p>\n<p>You &quot;could&quot; try and fix it by doing something like...</p>\n<pre><code>@Override\npublic void paint(Graphics g){\n    super.paint(g);\n    Graphics g2d = (Graphics2D)g;\n    g2d.drawImage(image, 0, 0, this);\n}\n</code></pre>\n<p>but this is just painting the image over the top of what was previously paint.</p>\n<p>You &quot;could&quot; try and fix it by doing something like...</p>\n<pre><code>@Override\npublic void paint(Graphics g){\n    Graphics g2d = (Graphics2D)g;\n    g2d.drawImage(image, 0, 0, this);\n    super.paint(g);\n}\n</code></pre>\n<p>But now the image isn't getting painted (because part of the paint workflow is to fill the component with the background color of the component)</p>\n<p>Instead, you need to inject your code into a different point in the paint process.</p>\n<p>You should be using <code>paintComponent</code>, as it's primary responsibility is to &quot;paint the component&quot;, this is called before the children are painted, so it's a great place for painting the background, for example...</p>\n<pre><code>@Override\nprotected void paintComponent(Graphics g){\n    super.paintComponent(g);\n    Graphics g2d = (Graphics2D)g;\n    g2d.drawImage(image, 0, 0, this);\n}\n</code></pre>\n"}],"owner":{"account_id":23459753,"reputation":1,"user_id":17514754,"display_name":"Bjay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643697607,"creation_date":1643681690,"question_id":70934932,"body_markdown":"can someone help me to know why the whole jtextfield is not visible when adding it to a jpanel that has a painted image icon? here is my code for the sample. thanks :)\r\nwithout typing anything on it, only part of it is visible.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n    public class GraphicsMain extends JFrame{\r\n    \r\n        Panel panel = new Panel();\r\n        JTextField tf = new JTextField(10);\r\n\r\n        public GraphicsMain() {\r\n            tf.setBackground(Color.red);\r\n            panel.setLayout(new FlowLayout());\r\n            panel.add(tf);\r\n            this.add(panel);\r\n            this.setVisible(true);\r\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            this.pack();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new GraphicsMain();\r\n        }\r\n    }\r\n\r\n    class Panel extends JPanel{\r\n        int pixel;\r\n        Image image;\r\n\r\n        public Panel() {\r\n            //#1 create icon\r\n            image = new ImageIcon(&quot;sample.png&quot;).getImage();\r\n            this.setPreferredSize(new Dimension(250,250));\r\n        }\r\n        //#2 paint\r\n        public void paint(Graphics g){\r\n            Graphics g2d = (Graphics2D)g;\r\n            g2d.drawImage(image, 0, 0, null);\r\n        }\r\n    \r\n    }","title":"Can I use 2d graphics as background for components in java?","body":"<p>can someone help me to know why the whole jtextfield is not visible when adding it to a jpanel that has a painted image icon? here is my code for the sample. thanks :)\nwithout typing anything on it, only part of it is visible.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class GraphicsMain extends JFrame{\n\n    Panel panel = new Panel();\n    JTextField tf = new JTextField(10);\n\n    public GraphicsMain() {\n        tf.setBackground(Color.red);\n        panel.setLayout(new FlowLayout());\n        panel.add(tf);\n        this.add(panel);\n        this.setVisible(true);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.pack();\n    }\n\n    public static void main(String[] args) {\n        new GraphicsMain();\n    }\n}\n\nclass Panel extends JPanel{\n    int pixel;\n    Image image;\n\n    public Panel() {\n        //#1 create icon\n        image = new ImageIcon(&quot;sample.png&quot;).getImage();\n        this.setPreferredSize(new Dimension(250,250));\n    }\n    //#2 paint\n    public void paint(Graphics g){\n        Graphics g2d = (Graphics2D)g;\n        g2d.drawImage(image, 0, 0, null);\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","selenium","proxy","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643697133,"creation_date":1643697133,"answer_id":70936390,"question_id":70917675,"body_markdown":"&gt; [MobX] Proxy not available\r\n\r\nlooks like the js code notices the (currently) missing Proxy support in HtmlUnit/Rhino&#39;s javascript engine.\r\nUsually pages doing some js feature checks in the beginning and reporting problems (or even better using only the available features).\r\n\r\nPlease open an issue for HtmlUnit and if possible include the page url to help us to reproduce the problem.\r\n","title":"HTMLunit-&quot;Error: [MobX] Proxy not available&quot;","body":"<blockquote>\n<p>[MobX] Proxy not available</p>\n</blockquote>\n<p>looks like the js code notices the (currently) missing Proxy support in HtmlUnit/Rhino's javascript engine.\nUsually pages doing some js feature checks in the beginning and reporting problems (or even better using only the available features).</p>\n<p>Please open an issue for HtmlUnit and if possible include the page url to help us to reproduce the problem.</p>\n"}],"owner":{"account_id":6901830,"reputation":37,"user_id":8207086,"display_name":"Daniel Jackson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70936390,"answer_count":1,"score":0,"last_activity_date":1643697133,"creation_date":1643567418,"question_id":70917675,"body_markdown":"I am trying to use htmlunit to get data from a javascript website. Currently, I am solely trying to call the site with webClient.getPage, which is already throwing an exception.\r\n\r\n        public static void main(String[] args) throws Exception {\r\n\r\n            final WebClient webClient = new WebClient();\r\n\r\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n        webClient.setJavaScriptTimeout(10000);\r\n        webClient.getOptions().setJavaScriptEnabled(true);\r\n        webClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n        webClient.getOptions().setTimeout(10000);\r\n\r\n        final HtmlPage page1 = webClient.getPage(&quot;[my-site-url-here]&quot;);\r\n\r\n\r\n    }\r\nI am getting the following exception:\r\n\r\n        ======= EXCEPTION START ========\r\n    Exception class=[net.sourceforge.htmlunit.corejs.javascript.JavaScriptException]\r\n    com.gargoylesoftware.htmlunit.ScriptException: Error: [MobX] Proxy not available (https://[my-site-here]/static/js/8.107d4023.chunk.js#1)\r\n\r\n\r\nAs seen in my code snippet, I have already applied options observed in other threads regarding js errors when using htmlunit. I am not using a proxy, the website is using cloudflare. Could this be the problem?\r\nThank you in advance.","title":"HTMLunit-&quot;Error: [MobX] Proxy not available&quot;","body":"<p>I am trying to use htmlunit to get data from a javascript website. Currently, I am solely trying to call the site with webClient.getPage, which is already throwing an exception.</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n\n        final WebClient webClient = new WebClient();\n\n    webClient.getOptions().setThrowExceptionOnScriptError(false);\n    webClient.setJavaScriptTimeout(10000);\n    webClient.getOptions().setJavaScriptEnabled(true);\n    webClient.setAjaxController(new NicelyResynchronizingAjaxController());\n    webClient.getOptions().setTimeout(10000);\n\n    final HtmlPage page1 = webClient.getPage(&quot;[my-site-url-here]&quot;);\n\n\n}\n</code></pre>\n<p>I am getting the following exception:</p>\n<pre><code>    ======= EXCEPTION START ========\nException class=[net.sourceforge.htmlunit.corejs.javascript.JavaScriptException]\ncom.gargoylesoftware.htmlunit.ScriptException: Error: [MobX] Proxy not available (https://[my-site-here]/static/js/8.107d4023.chunk.js#1)\n</code></pre>\n<p>As seen in my code snippet, I have already applied options observed in other threads regarding js errors when using htmlunit. I am not using a proxy, the website is using cloudflare. Could this be the problem?\nThank you in advance.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1643635117,"post_id":70926188,"comment_id":125384725,"body_markdown":"`slider.setValue(slider.getMinimum());` and `slider.setValue(slider.getMaximum());`?","body":"<code>slider.setValue(slider.getMinimum());</code> and <code>slider.setValue(slider.getMaximum());</code>?"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1643635151,"post_id":70926188,"comment_id":125384737,"body_markdown":"Please [edit] your question and clarify what do you mean by blind? what is the functionality of the slider ?","body":"Please <a href=\"https://stackoverflow.com/posts/70926188/edit\">edit</a> your question and clarify what do you mean by blind? what is the functionality of the slider ?"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1643635628,"post_id":70926188,"comment_id":125384956,"body_markdown":"In addition to what @VGR recommended assign an action listener to all the buttons. For example `closeButton.addActionListener(this);`","body":"In addition to what @VGR recommended assign an action listener to all the buttons. For example <code>closeButton.addActionListener(this);</code>"}],"answers":[{"tags":[],"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643645193,"creation_date":1643637233,"answer_id":70927143,"question_id":70926188,"body_markdown":"Add listeners for the buttons, something like:\r\n```\r\n        openBlindCompletely.addActionListener(this);\r\n```\r\nchange the slider value, something like:\r\n```\r\n        if (e.getSource() == openBlindCompletely) {\r\n            slider.setValue(slider.getMinimum());\r\n        }\r\n```","title":"How to call in the paintScreen method in actionPerformed?","body":"<p>Add listeners for the buttons, something like:</p>\n<pre><code>        openBlindCompletely.addActionListener(this);\n</code></pre>\n<p>change the slider value, something like:</p>\n<pre><code>        if (e.getSource() == openBlindCompletely) {\n            slider.setValue(slider.getMinimum());\n        }\n</code></pre>\n"}],"owner":{"display_name":"user18081022"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643696765,"creation_date":1643633180,"question_id":70926188,"body_markdown":"So I&#39;ve been tasked with adding 3 buttons of completely having the blinds open, having the button close the blind completely and close button. In the actionPerformed section I&#39;ve tried calling the paintScreen method so that I can set the colour of the rectangle as cyan or grey but I&#39;ve been finding it hard. Can you help and guide me to understanding how I could do this?\r\n\r\n    \r\n    /**\r\n     * A basic Java Swing application: a slider can be adjusted to open and close a &quot;blind&quot;.\r\n     */\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    \r\n    public class WindowBlind extends JFrame \r\n                             implements ChangeListener, ActionListener {\r\n    \r\n        /**\r\n         * A slider to adjust a &quot;blind&quot;\r\n         */\r\n        private JSlider slider;\r\n        /**\r\n         * To record the current slider/blind setting\r\n         */\r\n        private int sliderValue = 0;\r\n        /**\r\n         * For drawing on\r\n         */\r\n        private JPanel panel;    \r\n        \r\n       private JButton closeButton=new JButton(&quot;Close Program&quot;);  \r\n      \r\n      \r\n        private JButton openBlindCompletely=new JButton(&quot;Open Blinds&quot;);  \r\n    \r\n        \r\n        private JButton closeBlindCompletely=new JButton(&quot;Close Blinds&quot;);  \r\n    \r\n        /**\r\n    \t * The main method launches the application\r\n    \t * @param args the command line arguments\r\n    \t */\r\n        public static void main(String[] args) {\r\n            WindowBlind applic = new WindowBlind();\r\n            applic.setLocation(100,100);\r\n            applic.setVisible(true);\r\n            \r\n        }\r\n    \r\n        /**\r\n         * Constructor - executed at instantiation of the class\r\n         * Sets up the application&#39;s window\r\n         */\r\n        public WindowBlind() {\r\n            \r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \r\n            setTitle(&quot;WindowBlind&quot;);\r\n            setSize(300,300);\r\n            \r\n            add(closeButton);\r\n            add(openBlindCompletely);\r\n            add(closeBlindCompletely);\r\n    \r\n            Container window = getContentPane();\r\n            window.setLayout(new FlowLayout());     // The default is that JFrame uses BorderLayout\r\n    \r\n            panel = new JPanel() {\r\n                        // This paintComponent overrides the default one in JPanel (which does nothing).\r\n                        // paintComponent is called automatically when a screen refresh is needed.\r\n                        // The screen (Graphics parameter g) has already been cleared before paintComponent is called\r\n                        public void paintComponent(Graphics g) {\r\n                            super.paintComponent(g); // Paint the panel&#39;s background\r\n                            paintScreen(g);          // Now do our custom drawing\r\n                        } // paintComponent\r\n                    };\r\n            panel.setPreferredSize(new Dimension(200, 200));\r\n            panel.setBackground(Color.white);\r\n            window.add(panel);\r\n    \r\n            slider = new JSlider(JSlider.VERTICAL,0,100,0);\r\n            slider.setInverted(true);               // 0 will be at top, not bottom, of vertical slider\r\n            window.add(slider);\r\n            slider.addChangeListener(this);         // Register for slider event\r\n        } // constructor\r\n    \r\n        /**\r\n         * Re-draws the window image: a &quot;blind&quot; covering a &quot;window&quot; through which the blue sky can be seen, referring to the global variable sliderValue to determine the blind size\r\n         * @param g\r\n         */\r\n        public void paintScreen(Graphics g) {\r\n            g.setColor(Color.cyan);\r\n            g.fillRect(70, 40, 60, 100);         // The blue sky\r\n            g.setColor(Color.lightGray);\r\n            g.fillRect(70, 40, 60, sliderValue); // The blind, partially closed\r\n            g.setColor(Color.black);\r\n            g.drawRect(70, 40, 60, 100);   // The window frame\r\n        \r\n        } // paintScreen\r\n    \r\n        /**\r\n         * When the slider is adjusted, this method is called automatically\r\n         * @param e\r\n         */\r\n        public void stateChanged(ChangeEvent e) {\r\n    \tsliderValue = slider.getValue();  // Fetch the slider&#39;s current setting\r\n            repaint();                        // Force a screen refresh (paintComponent is called indirectly)\r\n        } // stateChanged\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \r\n    \t\tif (e.getSource() == closeButton)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (e.getSource() == openBlindCompletely)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (e.getSource() == closeBlindCompletely)\r\n    \t\t{\r\n    \r\n    \t\t} \t\t\r\n    \t}        \r\n    }\r\n\r\n","title":"How to call in the paintScreen method in actionPerformed?","body":"<p>So I've been tasked with adding 3 buttons of completely having the blinds open, having the button close the blind completely and close button. In the actionPerformed section I've tried calling the paintScreen method so that I can set the colour of the rectangle as cyan or grey but I've been finding it hard. Can you help and guide me to understanding how I could do this?</p>\n<pre><code>/**\n * A basic Java Swing application: a slider can be adjusted to open and close a &quot;blind&quot;.\n */\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\n\npublic class WindowBlind extends JFrame \n                         implements ChangeListener, ActionListener {\n\n    /**\n     * A slider to adjust a &quot;blind&quot;\n     */\n    private JSlider slider;\n    /**\n     * To record the current slider/blind setting\n     */\n    private int sliderValue = 0;\n    /**\n     * For drawing on\n     */\n    private JPanel panel;    \n    \n   private JButton closeButton=new JButton(&quot;Close Program&quot;);  \n  \n  \n    private JButton openBlindCompletely=new JButton(&quot;Open Blinds&quot;);  \n\n    \n    private JButton closeBlindCompletely=new JButton(&quot;Close Blinds&quot;);  \n\n    /**\n     * The main method launches the application\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        WindowBlind applic = new WindowBlind();\n        applic.setLocation(100,100);\n        applic.setVisible(true);\n        \n    }\n\n    /**\n     * Constructor - executed at instantiation of the class\n     * Sets up the application's window\n     */\n    public WindowBlind() {\n        \n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n        setTitle(&quot;WindowBlind&quot;);\n        setSize(300,300);\n        \n        add(closeButton);\n        add(openBlindCompletely);\n        add(closeBlindCompletely);\n\n        Container window = getContentPane();\n        window.setLayout(new FlowLayout());     // The default is that JFrame uses BorderLayout\n\n        panel = new JPanel() {\n                    // This paintComponent overrides the default one in JPanel (which does nothing).\n                    // paintComponent is called automatically when a screen refresh is needed.\n                    // The screen (Graphics parameter g) has already been cleared before paintComponent is called\n                    public void paintComponent(Graphics g) {\n                        super.paintComponent(g); // Paint the panel's background\n                        paintScreen(g);          // Now do our custom drawing\n                    } // paintComponent\n                };\n        panel.setPreferredSize(new Dimension(200, 200));\n        panel.setBackground(Color.white);\n        window.add(panel);\n\n        slider = new JSlider(JSlider.VERTICAL,0,100,0);\n        slider.setInverted(true);               // 0 will be at top, not bottom, of vertical slider\n        window.add(slider);\n        slider.addChangeListener(this);         // Register for slider event\n    } // constructor\n\n    /**\n     * Re-draws the window image: a &quot;blind&quot; covering a &quot;window&quot; through which the blue sky can be seen, referring to the global variable sliderValue to determine the blind size\n     * @param g\n     */\n    public void paintScreen(Graphics g) {\n        g.setColor(Color.cyan);\n        g.fillRect(70, 40, 60, 100);         // The blue sky\n        g.setColor(Color.lightGray);\n        g.fillRect(70, 40, 60, sliderValue); // The blind, partially closed\n        g.setColor(Color.black);\n        g.drawRect(70, 40, 60, 100);   // The window frame\n    \n    } // paintScreen\n\n    /**\n     * When the slider is adjusted, this method is called automatically\n     * @param e\n     */\n    public void stateChanged(ChangeEvent e) {\n    sliderValue = slider.getValue();  // Fetch the slider's current setting\n        repaint();                        // Force a screen refresh (paintComponent is called indirectly)\n    } // stateChanged\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        if (e.getSource() == closeButton)\n        {\n            \n        }\n        \n        if (e.getSource() == openBlindCompletely)\n        {\n            \n        }\n        \n        if (e.getSource() == closeBlindCompletely)\n        {\n\n        }       \n    }        \n}\n</code></pre>\n"},{"tags":["java","spring","aop","aspectj","pointcut"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1643696430,"post_id":70936140,"comment_id":125402034,"body_markdown":"Hi Please have look of this thread, this might help you.\nhttps://stackoverflow.com/questions/25992277/aspectj-pointcut-for-all-methods-inside-package/26005838","body":"Hi Please have look of this thread, this might help you. <a href=\"https://stackoverflow.com/questions/25992277/aspectj-pointcut-for-all-methods-inside-package/26005838\" title=\"aspectj pointcut for all methods inside package\">stackoverflow.com/questions/25992277/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1643695981,"creation_date":1643695981,"answer_id":70936238,"question_id":70936140,"body_markdown":"You need to spell `execution` in all lower-case characters:\r\n\r\n```java\r\n@Pointcut(&quot;execution(* com.luv2code.springdemo.controller.*.*(..))&quot;)\r\nprivate void forControllerPackage() {}\r\n```\r\n\r\nBTW, if you want to make sure that subpackages of `com.luv2code.springdemo.controller` are also covered, please use the `..` syntax as follows:\r\n\r\n```java\r\n@Pointcut(&quot;execution(* com.luv2code.springdemo.controller..*(..))&quot;)\r\nprivate void forControllerPackage() {}\r\n```\r\n","title":"I am trying to make a pointcut. but its giving an Exception","body":"<p>You need to spell <code>execution</code> in all lower-case characters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(* com.luv2code.springdemo.controller.*.*(..))&quot;)\nprivate void forControllerPackage() {}\n</code></pre>\n<p>BTW, if you want to make sure that subpackages of <code>com.luv2code.springdemo.controller</code> are also covered, please use the <code>..</code> syntax as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(* com.luv2code.springdemo.controller..*(..))&quot;)\nprivate void forControllerPackage() {}\n</code></pre>\n"}],"owner":{"account_id":23226943,"reputation":41,"user_id":17318349,"display_name":"Ali Raza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70936238,"answer_count":1,"score":0,"last_activity_date":1643695981,"creation_date":1643695129,"question_id":70936140,"body_markdown":"here i am using a point cut annotation as follows:\r\n\t\r\n```\r\n\r\n    @Pointcut(&quot;Execution(* com.luv2code.springdemo.controller.*.*(..))&quot;)\r\n\tprivate void forControllerPackage() {\r\n\t\t\r\n\t}\r\n```\r\nit giving me an exception  which is as:\r\n```\r\nPointcut is not well-formed: expecting &#39;)&#39; at character position 12\r\nExecution(* com.luv2code.springdemo.dao.*.*(..))\r\n            ^^^                                \r\n ```\r\nI have just started learning AOP any suggestion or help is going to help a lot thanks.                                                                        ","title":"I am trying to make a pointcut. but its giving an Exception","body":"<p>here i am using a point cut annotation as follows:</p>\n<pre><code>\n    @Pointcut(&quot;Execution(* com.luv2code.springdemo.controller.*.*(..))&quot;)\n    private void forControllerPackage() {\n        \n    }\n</code></pre>\n<p>it giving me an exception  which is as:</p>\n<pre><code>Pointcut is not well-formed: expecting ')' at character position 12\nExecution(* com.luv2code.springdemo.dao.*.*(..))\n            ^^^                                \n</code></pre>\n<p>I have just started learning AOP any suggestion or help is going to help a lot thanks.</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1643696126,"post_id":70936117,"comment_id":125401992,"body_markdown":"The answer to this is somewhat opionated and it the gray zone whether it should be answered here at SO, but I answered anyway.","body":"The answer to this is somewhat opionated and it the gray zone whether it should be answered here at SO, but I answered anyway."}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643695961,"creation_date":1643695961,"answer_id":70936233,"question_id":70936117,"body_markdown":"I think there there is no established best practice for this. I tend to prefer wrapping sub-form as a Field component whose value is Bean or list of Beans myself. I.e. full encapsulation of the internal logic of the sub-form. Then it is clear to use this sub-form as bound field in the Binder on the upper level (it does not need to know whether sub-form has a Binder used internally or not). You can find example of that approach (amongst some other things) in this example project\r\n\r\nhttps://github.com/TatuLund/ProtoTools\r\n","title":"Combining multiple read/write Binders","body":"<p>I think there there is no established best practice for this. I tend to prefer wrapping sub-form as a Field component whose value is Bean or list of Beans myself. I.e. full encapsulation of the internal logic of the sub-form. Then it is clear to use this sub-form as bound field in the Binder on the upper level (it does not need to know whether sub-form has a Binder used internally or not). You can find example of that approach (amongst some other things) in this example project</p>\n<p><a href=\"https://github.com/TatuLund/ProtoTools\" rel=\"nofollow noreferrer\">https://github.com/TatuLund/ProtoTools</a></p>\n"}],"owner":{"account_id":22998377,"reputation":31,"user_id":17122747,"display_name":"5Eu7zxystzoxLDkQ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643695961,"creation_date":1643694864,"question_id":70936117,"body_markdown":"I&#39;m refactoring a view from using `Binder.setBean(T)` and mutable state to using pure views with `Binder.readBean(T)` and `Binder.writeBean(T)`.\r\n\r\nAs part of the old view, I have several components with binders that don&#39;t bind directly to `T` but to its fields, and the components encapsulate and manage those fields entirely.\r\n\r\nA simplified model:\r\n\r\n```java\r\nclass Foo {\r\n  String name; // get, set\r\n}\r\n\r\nclass Bar {\r\n  int max; // get, set\r\n  int min; // get, set\r\n}\r\n\r\nclass Baz {\r\n  Bar bar; // get only\r\n  Foo foo; // get only\r\n} \r\n```\r\n\r\nAnd for the view code:\r\n\r\n```java\r\nclass FooEditor {\r\n  Binder&lt;Foo&gt; binder;\r\n  {\r\n     binder.forField(...).bind(Foo::getName, Foo::setName);\r\n  }\r\n}\r\n\r\nclass BarEditor {\r\n  Binder&lt;Bar&gt; binder;\r\n  {\r\n     binder.forField(...).bind(Bar::getMin, Foo::setMin);\r\n     binder.forField(...).bind(Bar::getMax, Foo::setMax);\r\n  }\r\n}\r\n\r\nclass BazEditor {\r\n  Binder&lt;Baz&gt; binder;\r\n  {\r\n    // old model:\r\n    // binder.setBean(...);\r\n    // fooEditor.getBinder().readBean(binder.getBean().getFoo());\r\n    // barEditor.getBinder().readBean(binder.getBean().getBar());\r\n  }\r\n}\r\n```\r\n\r\nHow can I achieve something like the following?\r\n\r\n```java\r\nclass BazEditor {\r\n  {\r\n    binder.forField(???)\r\n        .bind(b -&gt; fooEditor.getBinder().readBean(b.getFoo()),\r\n              (b, v) -&gt; fooEditor.getBinder().writeBean(b.getFoo()));\r\n    // repeat for Bar\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve tried using `ReadOnlyHasValue`, but I think due to its implementation, the &quot;getter&quot; always returns the same value (by instance equality), the field is never considered modified by the binder, and the setter is never called.\r\n\r\nI&#39;ve thought about refactoring the components `Foo` and `Bar` to bind directly to sub-properties given a `Binder&lt;Baz&gt;`, but I feel like there should be a better solution.","title":"Combining multiple read/write Binders","body":"<p>I'm refactoring a view from using <code>Binder.setBean(T)</code> and mutable state to using pure views with <code>Binder.readBean(T)</code> and <code>Binder.writeBean(T)</code>.</p>\n<p>As part of the old view, I have several components with binders that don't bind directly to <code>T</code> but to its fields, and the components encapsulate and manage those fields entirely.</p>\n<p>A simplified model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n  String name; // get, set\n}\n\nclass Bar {\n  int max; // get, set\n  int min; // get, set\n}\n\nclass Baz {\n  Bar bar; // get only\n  Foo foo; // get only\n} \n</code></pre>\n<p>And for the view code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FooEditor {\n  Binder&lt;Foo&gt; binder;\n  {\n     binder.forField(...).bind(Foo::getName, Foo::setName);\n  }\n}\n\nclass BarEditor {\n  Binder&lt;Bar&gt; binder;\n  {\n     binder.forField(...).bind(Bar::getMin, Foo::setMin);\n     binder.forField(...).bind(Bar::getMax, Foo::setMax);\n  }\n}\n\nclass BazEditor {\n  Binder&lt;Baz&gt; binder;\n  {\n    // old model:\n    // binder.setBean(...);\n    // fooEditor.getBinder().readBean(binder.getBean().getFoo());\n    // barEditor.getBinder().readBean(binder.getBean().getBar());\n  }\n}\n</code></pre>\n<p>How can I achieve something like the following?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BazEditor {\n  {\n    binder.forField(???)\n        .bind(b -&gt; fooEditor.getBinder().readBean(b.getFoo()),\n              (b, v) -&gt; fooEditor.getBinder().writeBean(b.getFoo()));\n    // repeat for Bar\n  }\n}\n</code></pre>\n<p>I've tried using <code>ReadOnlyHasValue</code>, but I think due to its implementation, the &quot;getter&quot; always returns the same value (by instance equality), the field is never considered modified by the binder, and the setter is never called.</p>\n<p>I've thought about refactoring the components <code>Foo</code> and <code>Bar</code> to bind directly to sub-properties given a <code>Binder&lt;Baz&gt;</code>, but I feel like there should be a better solution.</p>\n"},{"tags":["java","bots","telegram"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1608370946,"post_id":65368336,"comment_id":115566895,"body_markdown":"The Java runtime (I assume) cannot find the class `CompletebleFuture`. What version of Java are you using and, inferring from your code, the Telegram library requires this class.","body":"The Java runtime (I assume) cannot find the class <code>CompletebleFuture</code>. What version of Java are you using and, inferring from your code, the Telegram library requires this class."},{"owner":{"account_id":14965999,"reputation":11,"user_id":10804209,"display_name":"X unknown"},"score":0,"creation_date":1608372252,"post_id":65368336,"comment_id":115567210,"body_markdown":"im using version 15.0.1","body":"im using version 15.0.1"},{"owner":{"account_id":14965999,"reputation":11,"user_id":10804209,"display_name":"X unknown"},"score":0,"creation_date":1608372267,"post_id":65368336,"comment_id":115567214,"body_markdown":"as my lecturer ask us to us this version","body":"as my lecturer ask us to us this version"},{"owner":{"account_id":14965999,"reputation":11,"user_id":10804209,"display_name":"X unknown"},"score":0,"creation_date":1608372565,"post_id":65368336,"comment_id":115567281,"body_markdown":"but the code i refer to a github user which does not have that libary","body":"but the code i refer to a github user which does not have that libary"},{"owner":{"account_id":17619742,"reputation":718,"user_id":12785994,"display_name":"javadev"},"score":0,"creation_date":1614843787,"post_id":65368336,"comment_id":117509775,"body_markdown":"You didn&#39;t provide the full code. In the error, we have line &quot;98&quot;, but there are no 98 lines in the class you provided...","body":"You didn&#39;t provide the full code. In the error, we have line &quot;98&quot;, but there are no 98 lines in the class you provided..."}],"answers":[{"tags":[],"owner":{"account_id":19975642,"reputation":1,"user_id":14649972,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643695094,"creation_date":1643695094,"answer_id":70936136,"question_id":65368336,"body_markdown":"I had the same problem. \r\nMake sure you use the correct or the same java version in your project and frameworks. \r\n\r\nFor more details read [this article](https://medium.com/globant/migrating-to-java-11-from-java-8-bd6343107ea6)\r\n\r\nIn my case, I updated my maven version, using these properties (as described in the article):\r\n\r\n    &lt;properties&gt;\r\n      &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\nor\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;LATEST&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;11&lt;/source&gt;\r\n            &lt;target&gt;11&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"I doing an assigment which require me to create a telegram bot bot","body":"<p>I had the same problem.\nMake sure you use the correct or the same java version in your project and frameworks.</p>\n<p>For more details read <a href=\"https://medium.com/globant/migrating-to-java-11-from-java-8-bd6343107ea6\" rel=\"nofollow noreferrer\">this article</a></p>\n<p>In my case, I updated my maven version, using these properties (as described in the article):</p>\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>or</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;LATEST&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;source&gt;11&lt;/source&gt;\n        &lt;target&gt;11&lt;/target&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":14965999,"reputation":11,"user_id":10804209,"display_name":"X unknown"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643695094,"creation_date":1608369815,"question_id":65368336,"body_markdown":"    package org.example;\r\n\r\n    import org.telegram.telegrambots.meta.TelegramBotsApi;\r\n    import org.telegram.telegrambots.meta.exceptions.TelegramApiException;\r\n    import org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\r\n\r\n    public class App {\r\n        public static void main( String[] args ) {\r\n            try {\r\n                TelegramBotsApi botsApi = new TelegramBotsApi(DefaultBotSession.class);\r\n                botsApi.registerBot(new s261251Bot());\r\n            } catch (TelegramApiException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    package org.example;\r\n\r\n\r\n    import org.telegram.telegrambots.bots.TelegramLongPollingBot;\r\n    import org.telegram.telegrambots.meta.api.methods.send.SendMessage;\r\n    import org.telegram.telegrambots.meta.api.objects.Update;\r\n    import org.telegram.telegrambots.meta.exceptions.TelegramApiException;\r\n\r\n    public class s261251Bot extends TelegramLongPollingBot {\r\n\r\n        @Override\r\n        public String getBotUsername() {\r\n            return &quot;username&quot;;\r\n        }\r\n\r\n        @Override\r\n        public String getBotToken() {\r\n            return &quot;..............&quot;;\r\n        }\r\n\r\n        @Override\r\n        public void onUpdateReceived(Update update) {\r\n            SendMessage message = new SendMessage();\r\n            message.setChatId(String.valueOf((update.getMessage().getChatId())));\r\n            message.setText(&quot;hello &quot; + update.getMessage().getFrom().getFirstName() +&quot; &quot; +  &quot;\\nInsert your matric number.&quot; + update.getMessage().getText());\r\n            try {\r\n                execute(message);\r\n            }catch (TelegramApiException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n}\r\n\r\n\r\nI put the right username and token but in here I replace it with other\r\n\r\nI keep getting this error:\r\n\r\n&gt; C:\\Users\\safwa\\Documents\\IntelliJ\\assignment-2-safwan0908\\src\\main\\java\\my\\assignment2\\src\\main\\java\\org\\example\\s261251Bot.java:9:8\r\n&gt; java: cannot access java.util.concurrent.CompletableFuture   class\r\n&gt; file for java.util.concurrent.CompletableFuture not found","title":"I doing an assigment which require me to create a telegram bot bot","body":"<pre><code>package org.example;\n\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\n\npublic class App {\n    public static void main( String[] args ) {\n        try {\n            TelegramBotsApi botsApi = new TelegramBotsApi(DefaultBotSession.class);\n            botsApi.registerBot(new s261251Bot());\n        } catch (TelegramApiException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\npackage org.example;\n\n\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot;\nimport org.telegram.telegrambots.meta.api.methods.send.SendMessage;\nimport org.telegram.telegrambots.meta.api.objects.Update;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\n\npublic class s261251Bot extends TelegramLongPollingBot {\n\n    @Override\n    public String getBotUsername() {\n        return &quot;username&quot;;\n    }\n\n    @Override\n    public String getBotToken() {\n        return &quot;..............&quot;;\n    }\n\n    @Override\n    public void onUpdateReceived(Update update) {\n        SendMessage message = new SendMessage();\n        message.setChatId(String.valueOf((update.getMessage().getChatId())));\n        message.setText(&quot;hello &quot; + update.getMessage().getFrom().getFirstName() +&quot; &quot; +  &quot;\\nInsert your matric number.&quot; + update.getMessage().getText());\n        try {\n            execute(message);\n        }catch (TelegramApiException e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>}</p>\n<p>I put the right username and token but in here I replace it with other</p>\n<p>I keep getting this error:</p>\n<blockquote>\n<p>C:\\Users\\safwa\\Documents\\IntelliJ\\assignment-2-safwan0908\\src\\main\\java\\my\\assignment2\\src\\main\\java\\org\\example\\s261251Bot.java:9:8\njava: cannot access java.util.concurrent.CompletableFuture   class\nfile for java.util.concurrent.CompletableFuture not found</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","android-intent","adapter"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1643683852,"post_id":70935036,"comment_id":125400166,"body_markdown":"Where will be the *updateLocation()* called?","body":"Where will be the <i>updateLocation()</i> called?"},{"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"score":1,"creation_date":1643684487,"post_id":70935036,"comment_id":125400243,"body_markdown":"It is supposed to be called in the MainActivity currently, with periodic refreshing of the location. \nI can currently save the location data inside the Mainactivity and even toast it.\nBut I am having trouble figuring out how to pass that value to the adapter for the cardview.","body":"It is supposed to be called in the MainActivity currently, with periodic refreshing of the location.  I can currently save the location data inside the Mainactivity and even toast it. But I am having trouble figuring out how to pass that value to the adapter for the cardview."}],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643687801,"creation_date":1643685382,"answer_id":70935218,"question_id":70935036,"body_markdown":"If I understood the situation correctly, you can do something like this :-\r\n\r\nAdd two more parameters in your adapter constructor like this:\r\n\r\n    CustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, ArrayList Contact_number, String Latitude, String Longitude) {\r\n        this.context = context;\r\n        this.Contact_id = Contact_id;\r\n        this.Contact_Name = Contact_Name;\r\n        this.Contact_number = Contact_number;\r\n        this.Latitude = Latitude;\r\n        this.Longitude = Longitude;\r\n    }\r\n\r\nNow, in your MainActivity, have two Strings like this :\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        ...//Other variables and stuff\r\n        private String Latitude=&quot;0&quot;, Longitude=&quot;0&quot;;\r\n        ...//onCreate(), etc\r\n    }\r\n\r\nAnd pass these two temporarily in the adapter while making an instance.\r\n\r\nAnd change the *updateLocation()* to something like this :\r\n\r\n    private void updateLocation(Location location) {\r\n        //update the location of the person\r\n        Latitude = String.valueOf(location.getLatitude());\r\n        Longitude = String.valueOf(location.getLongitude());\r\n        Toast.makeText(this,&quot;Latitude = &quot; + Latitude, Toast.LENGTH_SHORT).show();\r\n        Toast.makeText(this,&quot;Longitude = &quot; + Longitude , Toast.LENGTH_SHORT).show();\r\n        recyclerView.setAdapter(new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude));\r\n        recyclerView.invalidate(); \r\n    }\r\n\r\nIf you need any further clarification, let me know.","title":"How to get one string value from the Mainactivity to a cardview Adapter?","body":"<p>If I understood the situation correctly, you can do something like this :-</p>\n<p>Add two more parameters in your adapter constructor like this:</p>\n<pre><code>CustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, ArrayList Contact_number, String Latitude, String Longitude) {\n    this.context = context;\n    this.Contact_id = Contact_id;\n    this.Contact_Name = Contact_Name;\n    this.Contact_number = Contact_number;\n    this.Latitude = Latitude;\n    this.Longitude = Longitude;\n}\n</code></pre>\n<p>Now, in your MainActivity, have two Strings like this :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    ...//Other variables and stuff\n    private String Latitude=&quot;0&quot;, Longitude=&quot;0&quot;;\n    ...//onCreate(), etc\n}\n</code></pre>\n<p>And pass these two temporarily in the adapter while making an instance.</p>\n<p>And change the <em>updateLocation()</em> to something like this :</p>\n<pre><code>private void updateLocation(Location location) {\n    //update the location of the person\n    Latitude = String.valueOf(location.getLatitude());\n    Longitude = String.valueOf(location.getLongitude());\n    Toast.makeText(this,&quot;Latitude = &quot; + Latitude, Toast.LENGTH_SHORT).show();\n    Toast.makeText(this,&quot;Longitude = &quot; + Longitude , Toast.LENGTH_SHORT).show();\n    recyclerView.setAdapter(new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude));\n    recyclerView.invalidate(); \n}\n</code></pre>\n<p>If you need any further clarification, let me know.</p>\n"},{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643686374,"creation_date":1643686374,"answer_id":70935289,"question_id":70935036,"body_markdown":"Okay, you can pass Longitude and Latitude through the CustomAdapter constructor while creating an object of the CustomAdapter in MainActivity.Follow below code:   \r\n\r\n    public class CustomAdapter extends \r\n    RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\r\n       private Context context;\r\n       public ArrayList Contact_id, Contact_Name, Contact_number;\r\n       public ImageView mDelete, mMakeCall, mSendText;\r\n       public String Latitude=&quot;0&quot;,Longitude=&quot;0&quot;;\r\n    \r\n      //passing latitude and longitude value through CustomAdapter consturctor.\r\n    CustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, \r\n    ArrayList Contact_number, String Latitude, String Longitude) {\r\n       this.context = context;\r\n       this.Contact_id = Contact_id;\r\n       this.Contact_Name = Contact_Name;\r\n       this.Contact_number = Contact_number;\r\n       this.Latitude = Latitude;\r\n       this.Longitude = Longitude;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) \r\n    {\r\n\r\n      LayoutInflater inflater = LayoutInflater.from(context);\r\n      View view = inflater.inflate(R.layout.cardview_contact_item, parent, false);\r\n      return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n       holder.Contact_Name_txt.setText(String.valueOf(Contact_Name.get(position)));  \r\n    holder.Contact_Number_txt.setText(String.valueOf(Contact_number.get(position)));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n      return Contact_id.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n    TextView Contact_id_txt, Contact_Name_txt, Contact_Number_txt;\r\n\r\n    public MyViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n        mDelete = itemView.findViewById(R.id.Cardview_delete);\r\n        mMakeCall = itemView.findViewById(R.id.Cardview_MakeCall);\r\n        mSendText = itemView.findViewById(R.id.Cardview_MakeText);\r\n        Contact_Name_txt = itemView.findViewById(R.id.CardView_Name);\r\n        Contact_Number_txt = itemView.findViewById(R.id.CardView_Number);\r\n        mDelete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(context, &quot;Item Removed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n        });\r\n        mMakeCall.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(context, &quot;Calling Contact&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n        });\r\n        mSendText.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //\r\n                Intent smsIntent = new Intent(Intent.ACTION_SENDTO);\r\n                String phonenumber = Contact_Number_txt.getText().toString();\r\n                try {\r\n                    SmsManager mySmsManager = SmsManager.getDefault();\r\n                    mySmsManager.sendTextMessage(phonenumber, null, &quot;I NEED HELP AT LATITUDE:&quot; + Latitude + &quot;LONGITUDE&quot; + Longitude, null, null);\r\n                    Toast.makeText(context, &quot;Alert Message Sent&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    Toast.makeText(context, &quot;Something went wrong/Fields are Empty&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                //Toast.makeText(context,&quot;The number is &quot;+phonenumber, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n\r\n       }//End of OnCreate\r\n\r\n     }\r\n\r\n    }\r\n\r\n&gt; In &lt;b&gt;MainActivity.java&lt;/b&gt; file you need to create an object of  &lt;b&gt;CustomAdapter&lt;/b&gt; only after you have the value of Longitude and Latitude else it will throw NullPointerException.\r\n\r\n    private void updateLocation(Location location){\r\n      ......\r\n      ....\r\n      //creating an object of CustomAdapter \r\n       CustomAdapter customAdapter = new CustomAdapter(.....,x,y); //x is  latitude, y is longitude as per your code.\r\n\r\nBut, I won&#39;t recommend you to do it this way, a better approach would be using an interface.\r\n    }","title":"How to get one string value from the Mainactivity to a cardview Adapter?","body":"<p>Okay, you can pass Longitude and Latitude through the CustomAdapter constructor while creating an object of the CustomAdapter in MainActivity.Follow below code:</p>\n<pre><code>public class CustomAdapter extends \nRecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\n   private Context context;\n   public ArrayList Contact_id, Contact_Name, Contact_number;\n   public ImageView mDelete, mMakeCall, mSendText;\n   public String Latitude=&quot;0&quot;,Longitude=&quot;0&quot;;\n\n  //passing latitude and longitude value through CustomAdapter consturctor.\nCustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, \nArrayList Contact_number, String Latitude, String Longitude) {\n   this.context = context;\n   this.Contact_id = Contact_id;\n   this.Contact_Name = Contact_Name;\n   this.Contact_number = Contact_number;\n   this.Latitude = Latitude;\n   this.Longitude = Longitude;\n}\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) \n{\n\n  LayoutInflater inflater = LayoutInflater.from(context);\n  View view = inflater.inflate(R.layout.cardview_contact_item, parent, false);\n  return new MyViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n   holder.Contact_Name_txt.setText(String.valueOf(Contact_Name.get(position)));  \nholder.Contact_Number_txt.setText(String.valueOf(Contact_number.get(position)));\n}\n\n@Override\npublic int getItemCount() {\n  return Contact_id.size();\n}\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\nTextView Contact_id_txt, Contact_Name_txt, Contact_Number_txt;\n\npublic MyViewHolder(@NonNull View itemView) {\n    super(itemView);\n    mDelete = itemView.findViewById(R.id.Cardview_delete);\n    mMakeCall = itemView.findViewById(R.id.Cardview_MakeCall);\n    mSendText = itemView.findViewById(R.id.Cardview_MakeText);\n    Contact_Name_txt = itemView.findViewById(R.id.CardView_Name);\n    Contact_Number_txt = itemView.findViewById(R.id.CardView_Number);\n    mDelete.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(context, &quot;Item Removed&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n    });\n    mMakeCall.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(context, &quot;Calling Contact&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n    });\n    mSendText.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            //\n            Intent smsIntent = new Intent(Intent.ACTION_SENDTO);\n            String phonenumber = Contact_Number_txt.getText().toString();\n            try {\n                SmsManager mySmsManager = SmsManager.getDefault();\n                mySmsManager.sendTextMessage(phonenumber, null, &quot;I NEED HELP AT LATITUDE:&quot; + Latitude + &quot;LONGITUDE&quot; + Longitude, null, null);\n                Toast.makeText(context, &quot;Alert Message Sent&quot;, Toast.LENGTH_SHORT).show();\n            }\n            catch (Exception e)\n            {\n                Toast.makeText(context, &quot;Something went wrong/Fields are Empty&quot;, Toast.LENGTH_SHORT).show();\n            }\n            //Toast.makeText(context,&quot;The number is &quot;+phonenumber, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n\n\n   }//End of OnCreate\n\n }\n\n}\n</code></pre>\n<blockquote>\n<p>In <b>MainActivity.java</b> file you need to create an object of  <b>CustomAdapter</b> only after you have the value of Longitude and Latitude else it will throw NullPointerException.</p>\n</blockquote>\n<pre><code>private void updateLocation(Location location){\n  ......\n  ....\n  //creating an object of CustomAdapter \n   CustomAdapter customAdapter = new CustomAdapter(.....,x,y); //x is  latitude, y is longitude as per your code.\n</code></pre>\n<p>But, I won't recommend you to do it this way, a better approach would be using an interface.\n}</p>\n"}],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70935218,"answer_count":2,"score":0,"last_activity_date":1643694744,"creation_date":1643683094,"question_id":70935036,"body_markdown":"I have the get location method running on the mainactivity which gets the latitude and longitude of the user and stores it in the form of a string.\r\nMy cardview holds the contacts added by the user in the phone in the form of a recyclerview in the mainactivity itself.\r\n\r\nHow can I transfer the two strings of Latitude and Longitude that I get from the main activity to my cardview customAdapter that is supposed to take that location and send an sms whenever that particular contact&#39;s cardview is pressed.\r\n\r\nI tried using `putExtra`  to pass the string but I get the `cannot resolve method` error right now.\r\n\r\nThis is my `updateLocation()`method that records the location data in the MainActivity\r\n\r\n       private void updateLocation(Location location) {\r\n        //update the location of the person\r\n         x = String.valueOf(location.getLatitude());\r\n         y = String.valueOf(location.getLongitude());\r\n        Toast.makeText(this,&quot;Latitude = &quot;+x,Toast.LENGTH_SHORT).show();\r\n        Toast.makeText(this,&quot;Longitude = &quot;+y,Toast.LENGTH_SHORT).show();\r\n        Intent SendLocation = new Intent(this, CustomAdapter.class);\r\n        SendLocation.putExtra(&quot;mLatitude&quot;, x);\r\n        SendLocation.putExtra(&quot;mLongitude&quot;, y);\r\n\r\n    }\r\n\r\n\r\nand this is my cardview customAdapter \r\n\r\n\r\n    public class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\r\n    private Context context;\r\n    public ArrayList Contact_id, Contact_Name, Contact_number;\r\n    public ImageView mDelete, mMakeCall, mSendText;\r\n    public String Latitude=&quot;0&quot;,Longitude=&quot;0&quot;;\r\n\r\n\r\n\r\n\r\n    CustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, ArrayList Contact_number,String mLatitude,String mLongitude) {\r\n        this.context = context;\r\n        this.Contact_id = Contact_id;\r\n        this.Contact_Name = Contact_Name;\r\n        this.Contact_number = Contact_number;\r\n        this.Latitude= mLatitude;\r\n        this.Longitude=mLongitude;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.cardview_contact_item, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.Contact_Name_txt.setText(String.valueOf(Contact_Name.get(position)));\r\n        holder.Contact_Number_txt.setText(String.valueOf(Contact_number.get(position)));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return Contact_id.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n        TextView Contact_id_txt, Contact_Name_txt, Contact_Number_txt;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            mDelete = itemView.findViewById(R.id.Cardview_delete);\r\n            mMakeCall = itemView.findViewById(R.id.Cardview_MakeCall);\r\n            mSendText = itemView.findViewById(R.id.Cardview_MakeText);\r\n            Contact_Name_txt = itemView.findViewById(R.id.CardView_Name);\r\n            Contact_Number_txt = itemView.findViewById(R.id.CardView_Number);\r\n            SharedPreferences mPreference = PreferenceManager.getDefaultSharedPreferences(context);\r\n            SharedPreferences.Editor editor = mPreference.edit();\r\n\r\n\r\n            mDelete.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Toast.makeText(context, &quot;Item Removed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            });\r\n            mMakeCall.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Toast.makeText(context, &quot;Calling Contact&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            });\r\n            mSendText.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    //\r\n                    Intent smsIntent = new Intent(Intent.ACTION_SENDTO);\r\n                    String phonenumber = Contact_Number_txt.getText().toString();\r\n                    try {\r\n                        Latitude = &quot;drats&quot;;\r\n                        SmsManager mySmsManager = SmsManager.getDefault();\r\n                        mySmsManager.sendTextMessage(phonenumber, null, &quot;I NEED HELP AT LATITUDE:&quot; + Latitude + &quot;LONGITUDE&quot; + Longitude, null, null);\r\n                        Toast.makeText(context, &quot;Alert Message Sent&quot;, Toast.LENGTH_SHORT).show();\r\n                        Toast.makeText(context, &quot;LATITUDE:&quot; + Latitude, Toast.LENGTH_SHORT).show();\r\n                        Toast.makeText(context, &quot;LONGITUDE:&quot; + Longitude, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    catch (Exception e)\r\n                    {\r\n                        Toast.makeText(context, &quot;Something went wrong/Fields are Empty&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    //Toast.makeText(context,&quot;The number is &quot;+phonenumber, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            });\r\n\r\n\r\n        }//End of OnCreate\r\n\r\n    }\r\n\r\n    }\r\n\r\nThis is my mainactivity right now \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    //widgets\r\n    public ImageButton eAddContact;\r\n    RecyclerView recyclerView;\r\n\r\n    DatabaseHelper myDB;\r\n    ArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\r\n    CustomAdapter customAdapter;\r\n    Button btnEnterContact;\r\n\r\n    private FusedLocationProviderClient fusedLocationProviderClient;\r\n    //Google&#39;s api for location services.\r\n\r\n    //private final int REQUEST_CHECK_CODE=8989;\r\n    private LocationSettingsRequest.Builder builder;\r\n    private String mLatitude,mLongitude;\r\n    private static final int REQUEST_LOCATION = 1;\r\n    private static final int REQUEST_SMS = 0;\r\n    Intent mIntent;\r\n    LocationManager locationManager;\r\n\r\n    LocationRequest locationRequest;\r\n    LocationCallback locationCallback;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        //permissions\r\n\r\n        if(ContextCompat.checkSelfPermission(this,Manifest.permission.SEND_SMS)!=PackageManager.PERMISSION_GRANTED)\r\n        {\r\n            //if permission is not granted then check if user has denied\r\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.SEND_SMS)){\r\n\r\n            }else\r\n            {\r\n                //popup for asking permission\r\n                ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.SEND_SMS},REQUEST_SMS);\r\n            }\r\n        }\r\n        if(ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED)\r\n        {\r\n            //if permission is not granted then check if user has denied\r\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.ACCESS_FINE_LOCATION)){\r\n\r\n            }else\r\n            {\r\n                //popup for asking permission\r\n                ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.ACCESS_FINE_LOCATION},REQUEST_LOCATION);\r\n            }\r\n        }\r\n\r\n        eAddContact = findViewById(R.id.btnAddContact);\r\n        eAddContact.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, &quot;onClick:opening dialog&quot;);\r\n                Dialog_AddContact dialog = new Dialog_AddContact();\r\n                dialog.show(getSupportFragmentManager(), &quot;Add Contact Dialog&quot;);\r\n            }\r\n        });\r\n        //Toast.makeText(getApplicationContext(),&quot;@#&quot;,Toast.LENGTH_SHORT).show();\r\n        myDB = new DatabaseHelper(MainActivity.this);\r\n        Contact_id = new ArrayList&lt;&gt;();\r\n        Contact_Name = new ArrayList&lt;&gt;();\r\n        Contact_Number = new ArrayList&lt;&gt;();\r\n        recyclerView = findViewById(R.id.RecyclerView);\r\n        customAdapter = new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude);\r\n\r\n        //set all the properties of LocationRequest\r\n        locationRequest = new LocationRequest();\r\n        //how often does location check occur\r\n        locationRequest.setInterval(1000*30);\r\n        locationRequest.setFastestInterval(1000*50);\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        updateGPS();\r\n\r\n        //Display cardview data\r\n        storeDataInArrays();\r\n        recyclerView.setAdapter(customAdapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        //will check requestCode\r\n        switch(requestCode)\r\n        {\r\n            case REQUEST_SMS:\r\n            {\r\n                //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\r\n                if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    Toast.makeText(this,&quot;SMS Permission Granted&quot;,Toast.LENGTH_LONG).show();\r\n                }\r\n                else\r\n                {\r\n                    Toast.makeText(this,&quot;SMS Permission Denied&quot;,Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n            case REQUEST_LOCATION:\r\n            {\r\n                //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\r\n                if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    Toast.makeText(this,&quot;Location Permission Granted&quot;,Toast.LENGTH_LONG).show();\r\n                    updateGPS();\r\n                }\r\n                else\r\n                {\r\n                    Toast.makeText(this,&quot;Location Permission Denied&quot;,Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        }//switch\r\n    }\r\n\r\n    private void updateGPS(){\r\n        //get permissions from the user to track GPS\r\n        //get current location\r\n        //update string\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n        if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)== PackageManager.PERMISSION_GRANTED){\r\n            //user gave the permissions\r\n            fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onSuccess(Location location) {\r\n                    //we got permissions. put the values of location.\r\n                    updateLocation(location);\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION},REQUEST_LOCATION);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private void updateLocation(Location location) {\r\n        //update the location of the person\r\n         mLatitude = String.valueOf(location.getLatitude());\r\n         mLongitude = String.valueOf(location.getLongitude());\r\n        Toast.makeText(this,&quot;Latitude = &quot;+mLatitude,Toast.LENGTH_SHORT).show();\r\n        Toast.makeText(this,&quot;Longitude = &quot;+mLongitude,Toast.LENGTH_SHORT).show();\r\n        customAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n\r\n    void storeDataInArrays() {\r\n        Contact_id.clear();\r\n        Contact_Name.clear();\r\n        Contact_Number.clear();\r\n        Cursor cursor = myDB.getEveryone();\r\n        if (cursor.getCount() == 0) {\r\n            //Add blank page\r\n        } else {\r\n            while (cursor.moveToNext()) {\r\n                Contact_id.add(cursor.getString(0));\r\n                Contact_Name.add(cursor.getString(1));\r\n                Contact_Number.add(cursor.getString(2));\r\n            }\r\n        }\r\n        customAdapter.notifyDataSetChanged();\r\n    }\r\n    //public void onRequestPermissionResult(int requestCOde,String permissions[],int[] grantResults){}//method\r\n    public void onLocationChanged(Location location) {\r\n\r\n     Double  x = location.getLatitude();\r\n     Double  y = location.getLongitude();\r\n    }\r\n\r\n\r\n    public void onProviderDisabled(String provider) {\r\n        Log.d(&quot;Latitude&quot;,&quot;disable&quot;);\r\n    }\r\n\r\n\r\n    public void onProviderEnabled(String provider) {\r\n        Log.d(&quot;Latitude&quot;,&quot;enable&quot;);\r\n    }\r\n\r\n    public void onStatusChanged(String provider, int status, Bundle extras) {\r\n        Log.d(&quot;Latitude&quot;,&quot;status&quot;);\r\n    }\r\n     }\r\n\r\nI would really love any assistance in helping me figure this out.","title":"How to get one string value from the Mainactivity to a cardview Adapter?","body":"<p>I have the get location method running on the mainactivity which gets the latitude and longitude of the user and stores it in the form of a string.\nMy cardview holds the contacts added by the user in the phone in the form of a recyclerview in the mainactivity itself.</p>\n<p>How can I transfer the two strings of Latitude and Longitude that I get from the main activity to my cardview customAdapter that is supposed to take that location and send an sms whenever that particular contact's cardview is pressed.</p>\n<p>I tried using <code>putExtra</code>  to pass the string but I get the <code>cannot resolve method</code> error right now.</p>\n<p>This is my <code>updateLocation()</code>method that records the location data in the MainActivity</p>\n<pre><code>   private void updateLocation(Location location) {\n    //update the location of the person\n     x = String.valueOf(location.getLatitude());\n     y = String.valueOf(location.getLongitude());\n    Toast.makeText(this,&quot;Latitude = &quot;+x,Toast.LENGTH_SHORT).show();\n    Toast.makeText(this,&quot;Longitude = &quot;+y,Toast.LENGTH_SHORT).show();\n    Intent SendLocation = new Intent(this, CustomAdapter.class);\n    SendLocation.putExtra(&quot;mLatitude&quot;, x);\n    SendLocation.putExtra(&quot;mLongitude&quot;, y);\n\n}\n</code></pre>\n<p>and this is my cardview customAdapter</p>\n<pre><code>public class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\nprivate Context context;\npublic ArrayList Contact_id, Contact_Name, Contact_number;\npublic ImageView mDelete, mMakeCall, mSendText;\npublic String Latitude=&quot;0&quot;,Longitude=&quot;0&quot;;\n\n\n\n\nCustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, ArrayList Contact_number,String mLatitude,String mLongitude) {\n    this.context = context;\n    this.Contact_id = Contact_id;\n    this.Contact_Name = Contact_Name;\n    this.Contact_number = Contact_number;\n    this.Latitude= mLatitude;\n    this.Longitude=mLongitude;\n}\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    LayoutInflater inflater = LayoutInflater.from(context);\n    View view = inflater.inflate(R.layout.cardview_contact_item, parent, false);\n    return new MyViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n    holder.Contact_Name_txt.setText(String.valueOf(Contact_Name.get(position)));\n    holder.Contact_Number_txt.setText(String.valueOf(Contact_number.get(position)));\n}\n\n@Override\npublic int getItemCount() {\n    return Contact_id.size();\n}\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n    TextView Contact_id_txt, Contact_Name_txt, Contact_Number_txt;\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        mDelete = itemView.findViewById(R.id.Cardview_delete);\n        mMakeCall = itemView.findViewById(R.id.Cardview_MakeCall);\n        mSendText = itemView.findViewById(R.id.Cardview_MakeText);\n        Contact_Name_txt = itemView.findViewById(R.id.CardView_Name);\n        Contact_Number_txt = itemView.findViewById(R.id.CardView_Number);\n        SharedPreferences mPreference = PreferenceManager.getDefaultSharedPreferences(context);\n        SharedPreferences.Editor editor = mPreference.edit();\n\n\n        mDelete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(context, &quot;Item Removed&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n        });\n        mMakeCall.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(context, &quot;Calling Contact&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n        });\n        mSendText.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //\n                Intent smsIntent = new Intent(Intent.ACTION_SENDTO);\n                String phonenumber = Contact_Number_txt.getText().toString();\n                try {\n                    Latitude = &quot;drats&quot;;\n                    SmsManager mySmsManager = SmsManager.getDefault();\n                    mySmsManager.sendTextMessage(phonenumber, null, &quot;I NEED HELP AT LATITUDE:&quot; + Latitude + &quot;LONGITUDE&quot; + Longitude, null, null);\n                    Toast.makeText(context, &quot;Alert Message Sent&quot;, Toast.LENGTH_SHORT).show();\n                    Toast.makeText(context, &quot;LATITUDE:&quot; + Latitude, Toast.LENGTH_SHORT).show();\n                    Toast.makeText(context, &quot;LONGITUDE:&quot; + Longitude, Toast.LENGTH_SHORT).show();\n                }\n                catch (Exception e)\n                {\n                    Toast.makeText(context, &quot;Something went wrong/Fields are Empty&quot;, Toast.LENGTH_SHORT).show();\n                }\n                //Toast.makeText(context,&quot;The number is &quot;+phonenumber, Toast.LENGTH_SHORT).show();\n\n            }\n        });\n\n\n    }//End of OnCreate\n\n}\n\n}\n</code></pre>\n<p>This is my mainactivity right now</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate static final String TAG = &quot;MainActivity&quot;;\n//widgets\npublic ImageButton eAddContact;\nRecyclerView recyclerView;\n\nDatabaseHelper myDB;\nArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\nCustomAdapter customAdapter;\nButton btnEnterContact;\n\nprivate FusedLocationProviderClient fusedLocationProviderClient;\n//Google's api for location services.\n\n//private final int REQUEST_CHECK_CODE=8989;\nprivate LocationSettingsRequest.Builder builder;\nprivate String mLatitude,mLongitude;\nprivate static final int REQUEST_LOCATION = 1;\nprivate static final int REQUEST_SMS = 0;\nIntent mIntent;\nLocationManager locationManager;\n\nLocationRequest locationRequest;\nLocationCallback locationCallback;\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    //permissions\n\n    if(ContextCompat.checkSelfPermission(this,Manifest.permission.SEND_SMS)!=PackageManager.PERMISSION_GRANTED)\n    {\n        //if permission is not granted then check if user has denied\n        if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.SEND_SMS)){\n\n        }else\n        {\n            //popup for asking permission\n            ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.SEND_SMS},REQUEST_SMS);\n        }\n    }\n    if(ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED)\n    {\n        //if permission is not granted then check if user has denied\n        if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.ACCESS_FINE_LOCATION)){\n\n        }else\n        {\n            //popup for asking permission\n            ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.ACCESS_FINE_LOCATION},REQUEST_LOCATION);\n        }\n    }\n\n    eAddContact = findViewById(R.id.btnAddContact);\n    eAddContact.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Log.d(TAG, &quot;onClick:opening dialog&quot;);\n            Dialog_AddContact dialog = new Dialog_AddContact();\n            dialog.show(getSupportFragmentManager(), &quot;Add Contact Dialog&quot;);\n        }\n    });\n    //Toast.makeText(getApplicationContext(),&quot;@#&quot;,Toast.LENGTH_SHORT).show();\n    myDB = new DatabaseHelper(MainActivity.this);\n    Contact_id = new ArrayList&lt;&gt;();\n    Contact_Name = new ArrayList&lt;&gt;();\n    Contact_Number = new ArrayList&lt;&gt;();\n    recyclerView = findViewById(R.id.RecyclerView);\n    customAdapter = new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude);\n\n    //set all the properties of LocationRequest\n    locationRequest = new LocationRequest();\n    //how often does location check occur\n    locationRequest.setInterval(1000*30);\n    locationRequest.setFastestInterval(1000*50);\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n    updateGPS();\n\n    //Display cardview data\n    storeDataInArrays();\n    recyclerView.setAdapter(customAdapter);\n    recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\n\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    //will check requestCode\n    switch(requestCode)\n    {\n        case REQUEST_SMS:\n        {\n            //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\n            if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(this,&quot;SMS Permission Granted&quot;,Toast.LENGTH_LONG).show();\n            }\n            else\n            {\n                Toast.makeText(this,&quot;SMS Permission Denied&quot;,Toast.LENGTH_LONG).show();\n            }\n        }\n        case REQUEST_LOCATION:\n        {\n            //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\n            if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(this,&quot;Location Permission Granted&quot;,Toast.LENGTH_LONG).show();\n                updateGPS();\n            }\n            else\n            {\n                Toast.makeText(this,&quot;Location Permission Denied&quot;,Toast.LENGTH_LONG).show();\n            }\n        }\n    }//switch\n}\n\nprivate void updateGPS(){\n    //get permissions from the user to track GPS\n    //get current location\n    //update string\n    fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n    if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)== PackageManager.PERMISSION_GRANTED){\n        //user gave the permissions\n        fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                //we got permissions. put the values of location.\n                updateLocation(location);\n            }\n        });\n    }\n    else{\n        if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\n            requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION},REQUEST_LOCATION);\n        }\n    }\n\n}\n\nprivate void updateLocation(Location location) {\n    //update the location of the person\n     mLatitude = String.valueOf(location.getLatitude());\n     mLongitude = String.valueOf(location.getLongitude());\n    Toast.makeText(this,&quot;Latitude = &quot;+mLatitude,Toast.LENGTH_SHORT).show();\n    Toast.makeText(this,&quot;Longitude = &quot;+mLongitude,Toast.LENGTH_SHORT).show();\n    customAdapter.notifyDataSetChanged();\n}\n\n\nvoid storeDataInArrays() {\n    Contact_id.clear();\n    Contact_Name.clear();\n    Contact_Number.clear();\n    Cursor cursor = myDB.getEveryone();\n    if (cursor.getCount() == 0) {\n        //Add blank page\n    } else {\n        while (cursor.moveToNext()) {\n            Contact_id.add(cursor.getString(0));\n            Contact_Name.add(cursor.getString(1));\n            Contact_Number.add(cursor.getString(2));\n        }\n    }\n    customAdapter.notifyDataSetChanged();\n}\n//public void onRequestPermissionResult(int requestCOde,String permissions[],int[] grantResults){}//method\npublic void onLocationChanged(Location location) {\n\n Double  x = location.getLatitude();\n Double  y = location.getLongitude();\n}\n\n\npublic void onProviderDisabled(String provider) {\n    Log.d(&quot;Latitude&quot;,&quot;disable&quot;);\n}\n\n\npublic void onProviderEnabled(String provider) {\n    Log.d(&quot;Latitude&quot;,&quot;enable&quot;);\n}\n\npublic void onStatusChanged(String provider, int status, Bundle extras) {\n    Log.d(&quot;Latitude&quot;,&quot;status&quot;);\n}\n }\n</code></pre>\n<p>I would really love any assistance in helping me figure this out.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1604507041,"post_id":64683775,"comment_id":114369435,"body_markdown":"See the implementation of [`AbstractCollection#containsAll`](http://hg.openjdk.java.net/jdk8u/jdk8u-dev/jdk/file/c5d02f908fb2/src/share/classes/java/util/AbstractCollection.java#l316). What do you mean by &quot;how does java know that list 1 contains all of the elements without another loop&quot;? One loop is enough to check, because the &quot;2nd loop&quot; is done by the `contains` method when it is called for each element being checked.","body":"See the implementation of <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u-dev/jdk/file/c5d02f908fb2/src/share/classes/java/util/AbstractCollection.java#l316\" rel=\"nofollow noreferrer\"><code>AbstractCollection#containsAll</code></a>. What do you mean by &quot;how does java know that list 1 contains all of the elements without another loop&quot;? One loop is enough to check, because the &quot;2nd loop&quot; is done by the <code>contains</code> method when it is called for each element being checked."},{"owner":{"account_id":9524094,"reputation":63,"user_id":12211545,"display_name":"Edgar Torres"},"score":0,"creation_date":1604508094,"post_id":64683775,"comment_id":114369938,"body_markdown":"so how does list 1 jumps to its next element if it doesnt have a loop to iterate? list 2 will have its 2nd loop implemented in the method, but how does list 1 iterates through its elements without a loop?","body":"so how does list 1 jumps to its next element if it doesnt have a loop to iterate? list 2 will have its 2nd loop implemented in the method, but how does list 1 iterates through its elements without a loop?"},{"owner":{"account_id":9524094,"reputation":63,"user_id":12211545,"display_name":"Edgar Torres"},"score":0,"creation_date":1604508230,"post_id":64683775,"comment_id":114369993,"body_markdown":"int [] list 1 = [1, 2, 3 ,4] ; int [] list 2 = [1,2,3]  ,,,, to check if the elements of list 2 are in list 1, two loops are required, with time complexity of (list1.length * list2.length","body":"int [] list 1 = [1, 2, 3 ,4] ; int [] list 2 = [1,2,3]  ,,,, to check if the elements of list 2 are in list 1, two loops are required, with time complexity of (list1.length * list2.length"},{"owner":{"account_id":9524094,"reputation":63,"user_id":12211545,"display_name":"Edgar Torres"},"score":0,"creation_date":1604508258,"post_id":64683775,"comment_id":114370008,"body_markdown":"why is it different for lists?","body":"why is it different for lists?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1604508418,"post_id":64683775,"comment_id":114370084,"body_markdown":"Yes. If you check the link I provided, you can see that it does exactly that, just implicitly. [`containsAll`](http://hg.openjdk.java.net/jdk8u/jdk8u-dev/jdk/file/c5d02f908fb2/src/share/classes/java/util/AbstractCollection.java#l316) provides a loop for &quot;List 2&quot;, as this loops the list that is provided as the method parameter. Inside that loop, [`contains`](http://hg.openjdk.java.net/jdk8u/jdk8u-dev/jdk/file/c5d02f908fb2/src/share/classes/java/util/AbstractCollection.java#l98) is called on &quot;List 1&quot; with the current object from the other loop as the method parameter, where the second loop runs.","body":"Yes. If you check the link I provided, you can see that it does exactly that, just implicitly. <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u-dev/jdk/file/c5d02f908fb2/src/share/classes/java/util/AbstractCollection.java#l316\" rel=\"nofollow noreferrer\"><code>containsAll</code></a> provides a loop for &quot;List 2&quot;, as this loops the list that is provided as the method parameter. Inside that loop, <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u-dev/jdk/file/c5d02f908fb2/src/share/classes/java/util/AbstractCollection.java#l98\" rel=\"nofollow noreferrer\"><code>contains</code></a> is called on &quot;List 1&quot; with the current object from the other loop as the method parameter, where the second loop runs."},{"owner":{"account_id":9524094,"reputation":63,"user_id":12211545,"display_name":"Edgar Torres"},"score":0,"creation_date":1604514256,"post_id":64683775,"comment_id":114372664,"body_markdown":"thank you for the link, very informative!.  one last question, does the object created inside the method of contain, Iterator &lt;E&gt; it = iterator (),  point or references to list 1?","body":"thank you for the link, very informative!.  one last question, does the object created inside the method of contain, Iterator &lt;E&gt; it = iterator (),  point or references to list 1?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1604558582,"post_id":64683775,"comment_id":114384383,"body_markdown":"Yes, this will create an iterator for the specified collection, in this case the collection where the initial method was called on (List 1). See [java.util.Iterator](https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html). This is basically &quot;the second loop&quot;.","body":"Yes, this will create an iterator for the specified collection, in this case the collection where the initial method was called on (List 1). See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">java.util.Iterator</a>. This is basically &quot;the second loop&quot;."}],"answers":[{"tags":[],"owner":{"account_id":8806448,"reputation":1279,"user_id":6580933,"display_name":"Terblanche Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643693963,"creation_date":1643693625,"answer_id":70935970,"question_id":64683775,"body_markdown":"Maybe to answer this formally because I think it is a good Question.\r\n\r\nThe `containsAll` method iterates through the provided collection and performs the `contains()` method on each entry which also iterates through the other list being compared. See below extract from [java][1] code\r\n\r\n```java\r\n  public boolean containsAll(Collection&lt;?&gt; c) {\r\n        for (Object e : c)\r\n            if (!contains(e))\r\n                return false;\r\n        return true;\r\n    }\r\n```\r\nand\r\n\r\n```java\r\npublic boolean contains(Object o) {\r\n        Iterator&lt;E&gt; it = iterator();\r\n        if (o==null) {\r\n            while (it.hasNext())\r\n                if (it.next()==null)\r\n                    return true;\r\n        } else {\r\n            while (it.hasNext())\r\n                if (o.equals(it.next()))\r\n                    return true;\r\n        }\r\n        return false;\r\n    }\r\n```\r\n\r\n\r\nThis makes this o(n^2) (Worst case scenario if the last values do not match or if the list actually matches) (Which is really bad, especially if you have big collections which you are comparing).\r\n\r\na better approach would be to do something like the following: (Obviously this needs to be adjusted if you are using objects or other collections apart from strings and do some null checks or something)\r\n\r\n```java\r\n public boolean containsAllStrings(List&lt;String&gt; list1, List&lt;String&gt; List2) {\r\n        Map&lt;String, String&gt; list1Map = list1.stream().collect(Collectors.toMap(c -&gt; c, c -&gt; c));\r\n        return List2.stream().allMatch(list1Map::containsKey);\r\n    }\r\n```\r\n\r\nThis way it Iterates a max number of 2n (one for adding items to map and one for comparing) times (n being the biggest list of the 2) and not n^2.\r\n\r\nIt may seem the same but hash maps are nice because they contain a pointer to the value in memory (Using the hashed value of the key) and do not iterate overall all the values, making accessing a value in a map always o(1). Which is optimal.\r\n\r\nObviously, there are tradeoffs between approaches like memory utilization, but for speed, this is the best approach.\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8u/jdk8u-dev/jdk/file/c5d02f908fb2/src/share/classes/java/util/AbstractCollection.java#l316","title":"how containsall method from collections interface works in java?","body":"<p>Maybe to answer this formally because I think it is a good Question.</p>\n<p>The <code>containsAll</code> method iterates through the provided collection and performs the <code>contains()</code> method on each entry which also iterates through the other list being compared. See below extract from <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u-dev/jdk/file/c5d02f908fb2/src/share/classes/java/util/AbstractCollection.java#l316\" rel=\"nofollow noreferrer\">java</a> code</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public boolean containsAll(Collection&lt;?&gt; c) {\n        for (Object e : c)\n            if (!contains(e))\n                return false;\n        return true;\n    }\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean contains(Object o) {\n        Iterator&lt;E&gt; it = iterator();\n        if (o==null) {\n            while (it.hasNext())\n                if (it.next()==null)\n                    return true;\n        } else {\n            while (it.hasNext())\n                if (o.equals(it.next()))\n                    return true;\n        }\n        return false;\n    }\n</code></pre>\n<p>This makes this o(n^2) (Worst case scenario if the last values do not match or if the list actually matches) (Which is really bad, especially if you have big collections which you are comparing).</p>\n<p>a better approach would be to do something like the following: (Obviously this needs to be adjusted if you are using objects or other collections apart from strings and do some null checks or something)</p>\n<pre class=\"lang-java prettyprint-override\"><code> public boolean containsAllStrings(List&lt;String&gt; list1, List&lt;String&gt; List2) {\n        Map&lt;String, String&gt; list1Map = list1.stream().collect(Collectors.toMap(c -&gt; c, c -&gt; c));\n        return List2.stream().allMatch(list1Map::containsKey);\n    }\n</code></pre>\n<p>This way it Iterates a max number of 2n (one for adding items to map and one for comparing) times (n being the biggest list of the 2) and not n^2.</p>\n<p>It may seem the same but hash maps are nice because they contain a pointer to the value in memory (Using the hashed value of the key) and do not iterate overall all the values, making accessing a value in a map always o(1). Which is optimal.</p>\n<p>Obviously, there are tradeoffs between approaches like memory utilization, but for speed, this is the best approach.</p>\n"}],"owner":{"account_id":9524094,"reputation":63,"user_id":12211545,"display_name":"Edgar Torres"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1330,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643693963,"creation_date":1604506503,"question_id":64683775,"body_markdown":"if I have two lists of objects from Collection&lt;E&gt; interface\r\n\r\nlist 1 = {John, Tim, Tom}\r\n\r\nlist 2 = {John, Tim}\r\n\r\nand both of the lists are instances of ArrayList\r\n\r\nhow does Java knows if list2 is contained in list1 with list1.containsall(list2)?  \r\nI knows that Java uses contain method inside the implementation of containsall() method, and the contain method uses the equal() method.  I understand the differences but I am not sure how Java iterates through the elements of list 1.\r\n\r\nso If I use list1.containsAll(list2),, constainsAll() method is implemented with a loop that iterates through every object of in this case, list2, and throws false if one of the elements is not in list 1. \r\n\r\n So my main question is how does JAVA know that list 1 contains all of the elements without another loop to iterate through the elements of list 1?  Does java does the work internally or something?  \r\n\r\nI currently know that to do such a thing, I would have to use\r\n\r\nfor (int i = 0; i &lt; list1.size(), i++)\r\n\r\nlist1.get(i).constainsAll(list2);\r\n\r\n,, \r\nthat seems more logical to me taking into consideration that I would have to modified the code for containsAll to work correctly and also implement the method of get()","title":"how containsall method from collections interface works in java?","body":"<p>if I have two lists of objects from Collection interface</p>\n<p>list 1 = {John, Tim, Tom}</p>\n<p>list 2 = {John, Tim}</p>\n<p>and both of the lists are instances of ArrayList</p>\n<p>how does Java knows if list2 is contained in list1 with list1.containsall(list2)?<br />\nI knows that Java uses contain method inside the implementation of containsall() method, and the contain method uses the equal() method.  I understand the differences but I am not sure how Java iterates through the elements of list 1.</p>\n<p>so If I use list1.containsAll(list2),, constainsAll() method is implemented with a loop that iterates through every object of in this case, list2, and throws false if one of the elements is not in list 1.</p>\n<p>So my main question is how does JAVA know that list 1 contains all of the elements without another loop to iterate through the elements of list 1?  Does java does the work internally or something?</p>\n<p>I currently know that to do such a thing, I would have to use</p>\n<p>for (int i = 0; i &lt; list1.size(), i++)</p>\n<p>list1.get(i).constainsAll(list2);</p>\n<p>,,\nthat seems more logical to me taking into consideration that I would have to modified the code for containsAll to work correctly and also implement the method of get()</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1643632095,"post_id":70925942,"comment_id":125383533,"body_markdown":"I&#39;d say the following line causes the problem: `. as col_23_0_ `. This indicates reading a 24th column buth the name seems to be a dot. The comma after `Helper0_.MAX_CONCURRENT_WORK as col_22_0_` seems to be correct as there&#39;s one more selection item following it.","body":"I&#39;d say the following line causes the problem: <code>. as col_23_0_ </code>. This indicates reading a 24th column buth the name seems to be a dot. The comma after <code>Helper0_.MAX_CONCURRENT_WORK as col_22_0_</code> seems to be correct as there&#39;s one more selection item following it."},{"owner":{"account_id":6648924,"reputation":75,"user_id":5131843,"display_name":"keivan shirkoubian"},"score":0,"creation_date":1643633434,"post_id":70925942,"comment_id":125384053,"body_markdown":"you know the thing which should be there is a list I mean `Helper_.DUTY_CITIES`. I think this causes the problem since there is no type list in Oracle so it can&#39;t be selected.","body":"you know the thing which should be there is a list I mean <code>Helper_.DUTY_CITIES</code>. I think this causes the problem since there is no type list in Oracle so it can&#39;t be selected."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643640012,"post_id":70925942,"comment_id":125386885,"body_markdown":"How did you map that list/set in Oracle in the first place? It looks like you have an inner join here which means that you duplicate the rest of the data for each duty city id (cartesian product) which might interfere with &quot;paging&quot; (at least that&#39;s how I&#39;d interpret this `where rownum &lt;= ?` portion in the query). Maybe think about loading the duty cities using a separate query.","body":"How did you map that list/set in Oracle in the first place? It looks like you have an inner join here which means that you duplicate the rest of the data for each duty city id (cartesian product) which might interfere with &quot;paging&quot; (at least that&#39;s how I&#39;d interpret this <code>where rownum &lt;= ?</code> portion in the query). Maybe think about loading the duty cities using a separate query."},{"owner":{"account_id":6648924,"reputation":75,"user_id":5131843,"display_name":"keivan shirkoubian"},"score":0,"creation_date":1643650357,"post_id":70925942,"comment_id":125391251,"body_markdown":"the I mapped it with an `@OneToMany` annotation. I don&#39;t use any query it is build automatically and I see where the problem was. I used incorrect `mappedBy` attribute.","body":"the I mapped it with an <code>@OneToMany</code> annotation. I don&#39;t use any query it is build automatically and I see where the problem was. I used incorrect <code>mappedBy</code> attribute."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643651292,"post_id":70925942,"comment_id":125391650,"body_markdown":"So the issue is resolved now? Maybe add an answer detailing what lead to this (include your model if possible) for others to read if they have the same issue.","body":"So the issue is resolved now? Maybe add an answer detailing what lead to this (include your model if possible) for others to read if they have the same issue."},{"owner":{"account_id":6648924,"reputation":75,"user_id":5131843,"display_name":"keivan shirkoubian"},"score":0,"creation_date":1643692832,"post_id":70925942,"comment_id":125401404,"body_markdown":"alright I will do that","body":"alright I will do that"}],"answers":[{"tags":[],"owner":{"account_id":6648924,"reputation":75,"user_id":5131843,"display_name":"keivan shirkoubian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643693598,"creation_date":1643693598,"answer_id":70935965,"question_id":70925942,"body_markdown":"I answered it in a comment in `Helper` entity. the answer is you shouldn&#39;t make a mistake in `mappedBy` attribute in `@OneToMany` annotation. so I changed `dutyCityId` to `helper` now it&#39;s working.\r\nbefore it was joining with another condition `helper.ID = helperDutyCity.dutyCityId` which was wrong now it joins with this condition `helper.ID = helperDutyCity.helperId` which is correct.","title":"Why CriteriaQuery is putting dot in hibernate string?","body":"<p>I answered it in a comment in <code>Helper</code> entity. the answer is you shouldn't make a mistake in <code>mappedBy</code> attribute in <code>@OneToMany</code> annotation. so I changed <code>dutyCityId</code> to <code>helper</code> now it's working.\nbefore it was joining with another condition <code>helper.ID = helperDutyCity.dutyCityId</code> which was wrong now it joins with this condition <code>helper.ID = helperDutyCity.helperId</code> which is correct.</p>\n"}],"owner":{"account_id":6648924,"reputation":75,"user_id":5131843,"display_name":"keivan shirkoubian"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643693598,"creation_date":1643631877,"question_id":70925942,"body_markdown":"I have a problem with my multiselect. I&#39;m using it as an Specification with multiple joins. I don&#39;t know why hibernate decides to put a dot in the query. the error is shown below in the query. this is the constructor I&#39;m using\r\n```\r\npublic HelperOutput(Long id,\r\n                        String personName,\r\n                        Long helperTypeId,\r\n                        String helperTypeTitle,\r\n                        String agencyTitle,\r\n                        String regionalOfficeTitle,\r\n                        String basketPartTitle,\r\n                        YesNo allowedToOperate,\r\n                        YesNo hasFlatTirePack,\r\n                        Long fleetRescueId,\r\n                        Long cityId,\r\n                        String cityName,\r\n                        Long skillLevel,\r\n                        String helperRankTitle,\r\n                        Long personId,\r\n                        Long helperRate,\r\n                        String personelId,\r\n                        Long regionalOfficeId,\r\n                        Long basketPartId,\r\n                        String mobile,\r\n                        String fleetName,\r\n                        ExpertType expertType,\r\n                        Long maxConcurrentWork,\r\n                        Set&lt;Long&gt; dutyCityIds\r\n                        ) {\r\n        this.id = id;\r\n        this.helperTypeId = helperTypeId;\r\n        this.helperTypeTitle = helperTypeTitle;\r\n        this.agencyTitle = agencyTitle;\r\n        this.regionalOfficeId = regionalOfficeId;\r\n        this.regionalOfficeTitle = regionalOfficeTitle;\r\n        this.basketPartTitle = basketPartTitle;\r\n        this.fleetRescueId = fleetRescueId;\r\n        this.cityId = cityId;\r\n        this.helperRankTitle = helperRankTitle;\r\n        this.personId = personId;\r\n        this.basketPartId = basketPartId;\r\n        this.mobile = mobile;\r\n        this.fleetName = fleetName;\r\n        this.cityName = cityName;\r\n        this.personName = personName;\r\n        this.allowedToOperate = allowedToOperate;\r\n        this.hasFlatTirePack = hasFlatTirePack;\r\n        this.skillLevel = skillLevel;\r\n        this.helperRate = helperRate;\r\n        this.personelId = personelId;\r\n        this.expertType = expertType;\r\n        this.maxConcurrentWork = maxConcurrentWork;\r\n        this.dutyCityIds = dutyCityIds;\r\n    }\r\n```\r\n\r\nthis is the multiselect which is similar to the constructor.\r\n```\r\ncq.multiselect(root.get(Helper_.ID),\r\n                    personName,\r\n                    helperHelperTypeJoin.get(HelperType_.ID),\r\n                    helperHelperTypeJoin.get(HelperType_.TITLE),\r\n                    helperAgencyJoin.get(Agency_.TITLE),\r\n                    helperRegionalOfficeJoin.get(RegionalOffice_.TITLE)\r\n                    , helperBasketPartJoin.get(Basket_.TITLE),\r\n                    root.get(Helper_.ALLOWED_TO_OPERATE),\r\n                    root.get(Helper_.HAS_FLAT_TIRE_PACK),\r\n                    fleetRescueJoin.get(HelperFleet_.ID),\r\n                    helperCityJoin.get(City_.ID) ,\r\n                    helperCityJoin.get(City_.NAME),\r\n                    root.get(Helper_.SKILL_LEVEL),\r\n                    helperRankJoin.get(HelperRank_.NAME),\r\n                    helperPersonJoin.get(Person_.ID),\r\n                    root.get(Helper_.helperRate),\r\n                    root.get(Helper_.personelId),\r\n                    helperRegionalOfficeJoin.get(RegionalOffice_.ID),\r\n                    helperBasketPartJoin.get(Basket_.ID),\r\n                    helperPersonJoin.get(Person_.MOBILE),\r\n                    HelperFleetJoin.get(Fleet_.NAME),\r\n                    root.get(Helper_.EXPERT_TYPE),\r\n                    root.get(Helper_.MAX_CONCURRENT_WORK),\r\n                    root.get(Helper_.DUTY_CITIES)\r\n            );\r\n```\r\nthis is the hibernate **query** which I don&#39;t know why it has a dot.\r\n```\r\nselect\r\n        * \r\n    from\r\n        ( select\r\n            helper0_.ID as col_0_0_,\r\n            person3_.NAME as col_1_0_,\r\n            helpertype7_.ID as col_2_0_,\r\n            helpertype7_.TITLE as col_3_0_,\r\n            agency2_.TITLE as col_4_0_,\r\n            regionalof8_.TITLE as col_5_0_,\r\n            basket6_.TITLE as col_6_0_,\r\n            helper0_.ALLOWED_TO_OPERATE as col_7_0_,\r\n            helper0_.HAS_FLAT_TIRE_PACK as col_8_0_,\r\n            helperflee4_.ID as col_9_0_,\r\n            city1_.ID as col_10_0_,\r\n            city1_.NAME as col_11_0_,\r\n            helper0_.SKILL_LEVEL as col_12_0_,\r\n            helperrank9_.NAME as col_13_0_,\r\n            person3_.ID as col_14_0_,\r\n            helper0_.HELPER_RATE as col_15_0_,\r\n            helper0_.PERSONELID as col_16_0_,\r\n            regionalof8_.ID as col_17_0_,\r\n            basket6_.ID as col_18_0_,\r\n            person3_.MOBILE as col_19_0_,\r\n            fleet5_.NAME as col_20_0_,\r\n            helper0_.EXPERT_TYPE as col_21_0_,\r\n            helper0_.MAX_CONCURRENT_WORK as col_22_0_,\r\n            . as col_23_0_    &lt;----------- this causes the problem\r\n        from\r\n            OPR.TBL_HELPER helper0_ \r\n        left outer join\r\n            OPR.TBL_CITY city1_ \r\n                on helper0_.CITY_ID=city1_.ID \r\n        left outer join\r\n            TBL_AGENCY agency2_ \r\n                on helper0_.AGENCY_ID=agency2_.ID \r\n        left outer join\r\n            OPR.TBL_PERSONS person3_ \r\n                on helper0_.PERSON_ID=person3_.ID \r\n        left outer join\r\n            OPR.TBL_HELPER_FLEET helperflee4_ \r\n                on helper0_.HELPER_FLEET_ID=helperflee4_.ID \r\n        left outer join\r\n            OPR.NOEKHODROEMDAD fleet5_ \r\n                on helperflee4_.NOEKHODROEMDAD_ID=fleet5_.NOEKHODROEMDADID \r\n        left outer join\r\n            OPR.TBL_BASKET basket6_ \r\n                on helper0_.BASKET_PART_ID=basket6_.ID \r\n        left outer join\r\n            OPR.TBL_HELPER_TYPE helpertype7_ \r\n                on helper0_.HELPER_TYPE_ID=helpertype7_.ID \r\n        left outer join\r\n            TBL_REGIONAL_OFFICE regionalof8_ \r\n                on helper0_.REGIONAL_OFFICE_ID=regionalof8_.ID \r\n        left outer join\r\n            OPR.TBL_HELPER_RANK helperrank9_ \r\n                on helper0_.RANK_HELPER_ID=helperrank9_.ID \r\n        left outer join\r\n            TBL_HELPER_DUTY_CITIES dutycities10_ \r\n                on helper0_.ID=dutycities10_.DUTY_CITY_ID \r\n        left outer join\r\n            OPR.TBL_CITY city11_ \r\n                on dutycities10_.ESTABLISHMENT_CITY_ID=city11_.ID \r\n        inner join\r\n            TBL_HELPER_DUTY_CITIES dutycities12_ \r\n                on helper0_.ID=dutycities12_.DUTY_CITY_ID \r\n        where\r\n            1=1 \r\n            and 1=1 \r\n        order by\r\n            helper0_.ALLOWED_TO_OPERATE asc,\r\n            person3_.NAME asc ) \r\n    where\r\n        rownum &lt;= ?\r\n```\r\n\r\nand at last I get this error when returning an Specification from the predicates I made.\r\nError: \r\n```\r\n\r\n2022-01-31 15:40:08.419 [http-nio-8082-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ORA-00936: missing expression\r\n \r\n2022-01-31 15:40:08.444 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; @AfterThrowing method: GenericRepository.findAll(..) \r\n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedMessage: ORA-00936: missing expression\r\n \r\n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedCause: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet \r\n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; @AfterThrowing method: HelperServiceImpl.findByCriteria(..) \r\n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedMessage: ORA-00936: missing expression\r\n \r\n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedCause: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet \r\n2022-01-31 15:40:08.446 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; @AfterThrowing method: HelperController.show(..) \r\n2022-01-31 15:40:08.446 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedMessage: ORA-00936: missing expression\r\n \r\n2022-01-31 15:40:08.446 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedCause: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet \r\n\r\n```\r\n**EDIT**\r\nthese are the entities:\r\n```\r\n@Entity(name = &quot;HELPER&quot;)\r\n@Table(name = &quot;TBL_HELPER&quot;, schema = &quot;OPR&quot;)\r\n@EqualsAndHashCode(exclude = {&quot;person&quot;, &quot;agency&quot;, &quot;helperType&quot;, &quot;regionalOffice&quot;, &quot;basket_part&quot;, &quot;helperRank&quot;})\r\n@ToString(exclude = {&quot;person&quot;, &quot;agency&quot;, &quot;helperType&quot;, &quot;regionalOffice&quot;, &quot;basket_part&quot;, &quot;helperRank&quot;})\r\n@AllArgsConstructor\r\npublic class Helper implements Serializable {\r\n\r\n\r\n    private Long id;\r\n    @GenericGenerator(\r\n            name = &quot;assigned-sequence&quot;,\r\n            strategy = &quot;com.eki.opr.utils.StringSequenceIdentifier&quot;\r\n    )\r\n    @GeneratedValue(\r\n            generator = &quot;assigned-sequence&quot;,\r\n            strategy = GenerationType.AUTO)\r\n    private String largeId;\r\n\r\n    private Long skillLevel;\r\n    private Long currentWorkCount;\r\n    private Long maxConcurrentWork;\r\n    private YesNo allowedToOperate;\r\n    private YesNo hasGps;\r\n    private YesNo isAutoDialer;\r\n    private YesNo isPartSupply;\r\n    private YesNo hasFlatTirePack;\r\n    private String imei;\r\n    private String address;\r\n    private String personelId;\r\n    private String reservedMobile;\r\n\r\n\r\n    private Person person;\r\n    private HelperFleet helperFleet;\r\n    private HelperType helperType;\r\n    private RegionalOffice regionalOffice;\r\n    private Agency agency;\r\n    private Basket basket_part;\r\n    private Basket basket_tools;\r\n    private YesNo hasPos;\r\n    private String posSerial;\r\n    private HelperRank helperRank;\r\n\r\n    private Parameter contractType;\r\n\r\n    private Set&lt;ServiceType&gt; serviceTypes = new HashSet&lt;ServiceType&gt;();\r\n\r\n    private Long helperRate;\r\n\r\n\r\n    private ExpertType expertType = ExpertType.HELPER;\r\n\r\n    public Helper() {\r\n\r\n    }\r\n\r\n    private City city;\r\n\r\n    @JoinColumn(name = &quot;CITY_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    public City getCity() {\r\n        return city;\r\n    }\r\n\r\n    public void setCity(City city) {\r\n        this.city = city;\r\n    }\r\n\r\n\r\n    \r\n    private Set&lt;HelperDutyCity&gt; dutyCities = new HashSet&lt;&gt;();\r\n    \r\n    /* in this part mappedBy&#39;s value should be changed to helper because the \r\n     join must be on helper not dutyCityId*/\r\n\r\n    @OneToMany(targetEntity = HelperDutyCity.class, mappedBy = &quot;dutyCityId&quot;, fetch = FetchType.EAGER)\r\n    public Set&lt;HelperDutyCity&gt; getDutyCities() {\r\n        return dutyCities;\r\n    }\r\n\r\n    public void setDutyCities(Set&lt;HelperDutyCity&gt; dutyCities) {\r\n        this.dutyCities = dutyCities;\r\n    }\r\n\r\n    public void setHelperRate(Long helperRate) {\r\n        this.helperRate = helperRate;\r\n    }\r\n    @Column(name = &quot;HELPER_RATE&quot;)\r\n    public Long getHelperRate() {\r\n        return helperRate;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_helper&quot;)\r\n    @SequenceGenerator(name = &quot;seq_helper&quot;, sequenceName = &quot;SA.SEQ_EMDADGAR_ID&quot;, allocationSize = 1,initialValue = 63442)\r\n    @Column(name = &quot;ID&quot;)\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;ADDRESS&quot;)\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;SKILL_LEVEL&quot;)\r\n    public Long getSkillLevel() {\r\n        return skillLevel;\r\n    }\r\n\r\n    public void setSkillLevel(Long skillLevel) {\r\n        this.skillLevel = skillLevel;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;MAX_CONCURRENT_WORK&quot;)\r\n    public Long getMaxConcurrentWork() {\r\n        return maxConcurrentWork;\r\n    }\r\n\r\n    public void setMaxConcurrentWork(Long maxConcurrentWork) {\r\n        this.maxConcurrentWork = maxConcurrentWork;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;CURRENT_WORK_COUNT&quot;)\r\n    public Long getCurrentWorkCount() {\r\n        return currentWorkCount;\r\n    }\r\n\r\n    public void setCurrentWorkCount(Long currentWorkCount) {\r\n        this.currentWorkCount = currentWorkCount;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;ALLOWED_TO_OPERATE&quot;)\r\n    @Convert(converter = YesNoConverter.class)\r\n    public YesNo getAllowedToOperate() {\r\n        return allowedToOperate;\r\n    }\r\n\r\n    public void setAllowedToOperate(YesNo allowedToOperate) {\r\n        this.allowedToOperate = allowedToOperate;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;HAS_GPS&quot;)\r\n    @Convert(converter = YesNoConverter.class)\r\n    public YesNo getHasGps() {\r\n        return hasGps;\r\n    }\r\n\r\n    public void setHasGps(YesNo hasGps) {\r\n        this.hasGps = hasGps;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;PART_SUPPLY&quot;)\r\n    @Convert(converter = YesNoConverter.class)\r\n    public YesNo getIsPartSupply() {\r\n        return isPartSupply;\r\n    }\r\n\r\n    public void setIsPartSupply(YesNo isPartSupply) {\r\n        this.isPartSupply = isPartSupply;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;PERSONELID&quot;)\r\n    public String getPersonelId() {\r\n        return personelId;\r\n    }\r\n\r\n    public void setPersonelId(String personelId) {\r\n        this.personelId = personelId;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;HAS_FLAT_TIRE_PACK&quot;)\r\n    @Convert(converter = YesNoConverter.class)\r\n    public YesNo getHasFlatTirePack() {\r\n        return hasFlatTirePack;\r\n    }\r\n\r\n    public void setHasFlatTirePack(YesNo hasFlatTirePack) {\r\n        this.hasFlatTirePack = hasFlatTirePack;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;IMEI&quot;)\r\n    public String getImei() {\r\n        return imei;\r\n    }\r\n\r\n    public void setImei(String imei) {\r\n        this.imei = imei;\r\n    }\r\n    @JoinColumn(name = &quot;CREATED_BY&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private PersonUnion createdBy;\r\n    @Column(name = &quot;CREATED_AT&quot;)\r\n    private LocalDateTime createdAt;\r\n\r\n    @Column(name = &quot;IS_AUTO_DIALER&quot;)\r\n    @Convert(converter = YesNoConverter.class)\r\n    public YesNo getIsAutoDialer() {\r\n        return isAutoDialer;\r\n    }\r\n\r\n    public void setIsAutoDialer(YesNo isAutoDialer) {\r\n        this.isAutoDialer = isAutoDialer;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;RESERVED_MOBILE&quot;)\r\n    public String getReservedMobile() {\r\n        return reservedMobile;\r\n    }\r\n\r\n    @Column(name = &quot;HAS_POS&quot;)\r\n    @Convert(converter = YesNoConverter.class)\r\n    public YesNo getHasPos() { return hasPos; }\r\n    public void setHasPos(YesNo hasPos) {\r\n        this.hasPos = hasPos;\r\n    }\r\n\r\n    @Column(name = &quot;POS_SERIAL&quot;)\r\n    public String getPosSerial() { return posSerial; }\r\n    public void setPosSerial(String posSerial) {\r\n        this.posSerial = posSerial;\r\n    }\r\n\r\n    public void setReservedMobile(String reservedMobile) {\r\n        this.reservedMobile = reservedMobile;\r\n    }\r\n    @JoinColumn(name = &quot;MODIFIED_BY&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private PersonUnion modifiedBy;\r\n    @Column(name = &quot;MODIFIED_AT&quot;)\r\n    private LocalDateTime modifiedAt;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;PERSON_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    public Person getPerson() {\r\n        return person;\r\n    }\r\n\r\n    public void setPerson(Person person) {\r\n        this.person = person;\r\n    }\r\n\r\n    @JoinColumn(name = &quot;HELPER_TYPE_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    public HelperType getHelperType() {\r\n        return helperType;\r\n    }\r\n\r\n    public void setHelperType(HelperType helperType) {\r\n        this.helperType = helperType;\r\n    }\r\n\r\n\r\n    @JoinColumn(name = &quot;REGIONAL_OFFICE_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    public RegionalOffice getRegionalOffice() {\r\n        return regionalOffice;\r\n    }\r\n\r\n    public void setRegionalOffice(RegionalOffice regionalOffice) {\r\n        this.regionalOffice = regionalOffice;\r\n    }\r\n\r\n    @JoinColumn(name = &quot;AGENCY_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    public Agency getAgency() {\r\n        return agency;\r\n    }\r\n\r\n    public void setAgency(Agency agency) {\r\n        this.agency = agency;\r\n    }\r\n\r\n    @JoinColumn(name = &quot;BASKET_PART_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    public Basket getBasket_part() {\r\n        return basket_part;\r\n    }\r\n\r\n    public void setBasket_part(Basket basket_part) {\r\n        this.basket_part = basket_part;\r\n    }\r\n\r\n    @JoinColumn(name = &quot;BASKET_TOOLS_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    public Basket getBasket_tools() {\r\n        return basket_tools;\r\n    }\r\n\r\n    public void setBasket_tools(Basket basket_tools) {\r\n        this.basket_tools = basket_tools;\r\n    }\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;HELPER_FLEET_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    public HelperFleet getHelperFleet() {\r\n        return helperFleet;\r\n    }\r\n\r\n    public void setHelperFleet(HelperFleet helperFleet) {\r\n        this.helperFleet = helperFleet;\r\n    }\r\n\r\n    @JoinColumn(name = &quot;RANK_HELPER_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    public HelperRank getHelperRank() {\r\n        return helperRank;\r\n    }\r\n\r\n    public void setHelperRank(HelperRank helperRank) {\r\n        this.helperRank = helperRank;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;LARGE_ID&quot;)\r\n    public String getLargeId(){return this.largeId;}\r\n\r\n    public void setLargeId(String largeId){this.largeId = largeId;}\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;TBL_HELPER_SERVICE_TYPE&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;HELPER_ID&quot;, &quot;SERVICE_TYPE_ID&quot;})},\r\n            joinColumns = @JoinColumn(name = &quot;HELPER_ID&quot;, referencedColumnName = &quot;ID&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;SERVICE_TYPE_ID&quot;, referencedColumnName = &quot;ID&quot;))\r\n    public Set&lt;ServiceType&gt; getServiceTypes() {\r\n        return serviceTypes;\r\n    }\r\n\r\n    public void setServiceTypes(Set&lt;ServiceType&gt; serviceTypes) {\r\n        this.serviceTypes = serviceTypes;\r\n    }\r\n\r\n    @JoinColumn(name = &quot;CONTRACT_TYPE&quot;)\r\n    @ManyToOne\r\n    public Parameter getContractType() {\r\n        return contractType;\r\n    }\r\n\r\n    public void setContractType(Parameter contractType){\r\n        this.contractType = contractType;\r\n    }\r\n\r\n    @Convert(converter = ExpertTypeConverter.class)\r\n    @Column(name = &quot;EXPERT_TYPE&quot;)\r\n    public ExpertType getExpertType() {\r\n        return expertType;\r\n    }\r\n\r\n    public void setExpertType(ExpertType expertType) {\r\n        this.expertType = expertType;\r\n    }\r\n\r\n    public void fromDto(HelperInput input) {\r\n        this.id = input.getId();\r\n        this.address = input.getAddress();\r\n        this.allowedToOperate = input.getAllowedToOperate();\r\n        this.currentWorkCount = input.getCurrentWorkCount();\r\n        this.hasGps = input.getHasGps();\r\n        this.hasFlatTirePack = input.getHasFlatTirePack();\r\n        this.isAutoDialer = input.getIsAutoDialer();\r\n        this.personelId = input.getPersonelId();\r\n        this.isPartSupply = input.getIsPartSupply();\r\n        this.maxConcurrentWork = input.getMaxConcurrentWork();\r\n        this.hasPos = input.getHasPos();\r\n        this.posSerial = input.getPosSerial();\r\n        this.skillLevel = input.getSkillLevel();\r\n        this.reservedMobile = input.getReservedMobile();\r\n\r\n        if (input.getId() == null) { //first time\r\n            this.largeId = StringSequenceIdentifier.generateLargeId();\r\n            this.createdBy = input.getCreatedByEntity();\r\n            this.createdAt = LocalDateTime.now();\r\n            this.modifiedBy = input.getCreatedByEntity();\r\n            this.modifiedAt = createdAt;\r\n        } else {\r\n            this.modifiedBy = input.getModifiedByEntity();\r\n            this.modifiedAt = LocalDateTime.now();\r\n        }\r\n\r\n        this.helperRate = input.getHelperRate();\r\n\r\n    }\r\n\r\n}\r\n```\r\n```\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@ToString\r\n@AllArgsConstructor\r\n@JsonDeserialize\r\n@Table(name = &quot;TBL_HELPER_DUTY_CITIES&quot;)\r\n@IdClass(HelperDutyCityKey.class)\r\npublic class HelperDutyCity implements Serializable {\r\n\r\n    @Id\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;HELPER_ID&quot;)\r\n    private Helper helper;\r\n\r\n    @Id\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;ESTABLISHMENT_CITY_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @Fetch(FetchMode.JOIN)\r\n    private City establishmentCityId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;DUTY_CITY_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @Fetch(FetchMode.JOIN)\r\n    private City dutyCityId;\r\n\r\n\r\n    public HelperDutyCity(Helper helper, City establishmentCityId) {\r\n        this.helper = helper;\r\n        this.establishmentCityId = establishmentCityId;\r\n    }\r\n\r\n}\r\n\r\n```\r\n```\r\n\r\n@Data\r\n@ToString(exclude = {&quot;regions&quot;,&quot;regionalOffice&quot;, &quot;province&quot;,&quot;productCities&quot;})\r\n@EqualsAndHashCode(exclude = {&quot;regions&quot;,&quot;regionalOffice&quot;, &quot;province&quot;,&quot;productCities&quot;})\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@Entity\r\n@Table(name = &quot;TBL_CITY&quot;, schema = &quot;OPR&quot;)\r\npublic class City implements Serializable {\r\n\r\n    /**\r\n     *\r\n     */\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @GenericGenerator(\r\n            name = &quot;seqCity&quot;,\r\n            strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n            parameters = {\r\n                    @org.hibernate.annotations.Parameter(name = &quot;sequence_name&quot;, value = &quot;SEQ_CITY&quot;),\r\n                    @org.hibernate.annotations.Parameter(name = &quot;initial_value&quot;, value = &quot;100219&quot;),\r\n                    @org.hibernate.annotations.Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\r\n            }\r\n    )\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seqCity&quot;)\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch =  FetchType.LAZY)\r\n    @JoinColumn(name = &quot;PROVINCE_ID&quot;, nullable = false)\r\n    private Province province;\r\n\r\n    @GenericGenerator(\r\n            name = &quot;assigned-sequence&quot;,\r\n            strategy = &quot;com.eki.opr.utils.StringSequenceIdentifier&quot;\r\n    )\r\n    @GeneratedValue(\r\n            generator = &quot;assigned-sequence&quot;,\r\n            strategy = GenerationType.SEQUENCE)\r\n    @Column(name = &quot;LARGE_ID&quot;)\r\n    private String largeId;\r\n\r\n    @Column(name = &quot;OPR_SHAHR_ID&quot;)\r\n    private Double oprCityId;\r\n\r\n    @Column(name = &quot;LATITUDE&quot;)\r\n    private Double latitude;\r\n\r\n    @Column(name = &quot;LONGITUDE&quot;)\r\n    private Double longitude;\r\n\r\n    @Column(name = &quot;METROPOLIS_FACTOR&quot;)\r\n    private Double metropolisFactor;\r\n\r\n    @Convert(converter = YesNoConverter.class)\r\n    @Column(name = &quot;IS_AUTOMATED_DISPATCH&quot;)\r\n    private YesNo isAutomatedDispatch;\r\n\r\n    @Convert(converter = GeneralStatusConverter.class)\r\n    @Column(name = &quot;STATUS&quot;)\r\n    private GeneralStatus status;\r\n\r\n    @Column(name = &quot;PARSIMAP_CITY_CODE&quot;)\r\n    private String parsiMapCityCode;\r\n\r\n    @Column(name = &quot;AMAR_CITY_CODE&quot;)\r\n    private String parsiMapCityAmarCode;\r\n\r\n    @JoinColumn(name = &quot;REGIONAL_OFFICE_ID&quot;)\r\n    @ManyToOne(fetch =  FetchType.LAZY)\r\n    private RegionalOffice regionalOffice;\r\n\r\n    @ManyToMany(\r\n            fetch = FetchType.LAZY, mappedBy = &quot;cities&quot;)\r\n    Set&lt;Region&gt; regions = new HashSet&lt;&gt;();\r\n\r\n/*    @OneToMany(mappedBy = &quot;city&quot;)\r\n    private Set&lt;Address&gt; addresses;*/\r\n\r\n    public City() {\r\n    }\r\n\r\n    public City(Long id) {\r\n        this.id = id;\r\n        //   this.addresses = addresses;\r\n    }\r\n\r\n    public City(CityDto dto) {\r\n        fromDto(dto);\r\n    }\r\n\r\n    public void fromDto(CityDto cityDto) {\r\n        this.name = cityDto.getName();\r\n        this.metropolisFactor = cityDto.getMetropolisFactor();\r\n    }\r\n\r\n    public CityDto toDto() {\r\n        CityDto dto = new CityDto();\r\n        dto.setId(id);\r\n        dto.setName(name);\r\n        dto.setMetropolisFactor(metropolisFactor);\r\n        dto.setProvinceDto(province.toDto());\r\n        dto.setRegionalOfficeOutput(regionalOffice.toDto());\r\n        return dto;\r\n    }\r\n\r\n    public CityLite toDtoLite() {\r\n        CityLite dto = new CityLite();\r\n        dto.setId(id);\r\n        dto.setName(name);\r\n        dto.setMetropolisFactor(metropolisFactor);\r\n        dto.setProvinceId(province != null ? province.getId() : null);\r\n        dto.setProvinceName(province != null ? province.getName() : &quot;&quot;);\r\n        dto.setRegionalOfficeId(regionalOffice != null ? regionalOffice.getId() : null);\r\n        dto.setRegionalOfficeTitle(regionalOffice != null ? regionalOffice.getTitle() : &quot;&quot;);\r\n        dto.setParsiMapCityCode(parsiMapCityCode);\r\n        dto.setParsiMapAmarCityCode(parsiMapCityAmarCode);\r\n        dto.setLat(latitude != null ? latitude :0);\r\n        dto.setLng(longitude != null ? longitude :0);\r\n        return dto;\r\n    }\r\n}\r\n```","title":"Why CriteriaQuery is putting dot in hibernate string?","body":"<p>I have a problem with my multiselect. I'm using it as an Specification with multiple joins. I don't know why hibernate decides to put a dot in the query. the error is shown below in the query. this is the constructor I'm using</p>\n<pre><code>public HelperOutput(Long id,\n                        String personName,\n                        Long helperTypeId,\n                        String helperTypeTitle,\n                        String agencyTitle,\n                        String regionalOfficeTitle,\n                        String basketPartTitle,\n                        YesNo allowedToOperate,\n                        YesNo hasFlatTirePack,\n                        Long fleetRescueId,\n                        Long cityId,\n                        String cityName,\n                        Long skillLevel,\n                        String helperRankTitle,\n                        Long personId,\n                        Long helperRate,\n                        String personelId,\n                        Long regionalOfficeId,\n                        Long basketPartId,\n                        String mobile,\n                        String fleetName,\n                        ExpertType expertType,\n                        Long maxConcurrentWork,\n                        Set&lt;Long&gt; dutyCityIds\n                        ) {\n        this.id = id;\n        this.helperTypeId = helperTypeId;\n        this.helperTypeTitle = helperTypeTitle;\n        this.agencyTitle = agencyTitle;\n        this.regionalOfficeId = regionalOfficeId;\n        this.regionalOfficeTitle = regionalOfficeTitle;\n        this.basketPartTitle = basketPartTitle;\n        this.fleetRescueId = fleetRescueId;\n        this.cityId = cityId;\n        this.helperRankTitle = helperRankTitle;\n        this.personId = personId;\n        this.basketPartId = basketPartId;\n        this.mobile = mobile;\n        this.fleetName = fleetName;\n        this.cityName = cityName;\n        this.personName = personName;\n        this.allowedToOperate = allowedToOperate;\n        this.hasFlatTirePack = hasFlatTirePack;\n        this.skillLevel = skillLevel;\n        this.helperRate = helperRate;\n        this.personelId = personelId;\n        this.expertType = expertType;\n        this.maxConcurrentWork = maxConcurrentWork;\n        this.dutyCityIds = dutyCityIds;\n    }\n</code></pre>\n<p>this is the multiselect which is similar to the constructor.</p>\n<pre><code>cq.multiselect(root.get(Helper_.ID),\n                    personName,\n                    helperHelperTypeJoin.get(HelperType_.ID),\n                    helperHelperTypeJoin.get(HelperType_.TITLE),\n                    helperAgencyJoin.get(Agency_.TITLE),\n                    helperRegionalOfficeJoin.get(RegionalOffice_.TITLE)\n                    , helperBasketPartJoin.get(Basket_.TITLE),\n                    root.get(Helper_.ALLOWED_TO_OPERATE),\n                    root.get(Helper_.HAS_FLAT_TIRE_PACK),\n                    fleetRescueJoin.get(HelperFleet_.ID),\n                    helperCityJoin.get(City_.ID) ,\n                    helperCityJoin.get(City_.NAME),\n                    root.get(Helper_.SKILL_LEVEL),\n                    helperRankJoin.get(HelperRank_.NAME),\n                    helperPersonJoin.get(Person_.ID),\n                    root.get(Helper_.helperRate),\n                    root.get(Helper_.personelId),\n                    helperRegionalOfficeJoin.get(RegionalOffice_.ID),\n                    helperBasketPartJoin.get(Basket_.ID),\n                    helperPersonJoin.get(Person_.MOBILE),\n                    HelperFleetJoin.get(Fleet_.NAME),\n                    root.get(Helper_.EXPERT_TYPE),\n                    root.get(Helper_.MAX_CONCURRENT_WORK),\n                    root.get(Helper_.DUTY_CITIES)\n            );\n</code></pre>\n<p>this is the hibernate <strong>query</strong> which I don't know why it has a dot.</p>\n<pre><code>select\n        * \n    from\n        ( select\n            helper0_.ID as col_0_0_,\n            person3_.NAME as col_1_0_,\n            helpertype7_.ID as col_2_0_,\n            helpertype7_.TITLE as col_3_0_,\n            agency2_.TITLE as col_4_0_,\n            regionalof8_.TITLE as col_5_0_,\n            basket6_.TITLE as col_6_0_,\n            helper0_.ALLOWED_TO_OPERATE as col_7_0_,\n            helper0_.HAS_FLAT_TIRE_PACK as col_8_0_,\n            helperflee4_.ID as col_9_0_,\n            city1_.ID as col_10_0_,\n            city1_.NAME as col_11_0_,\n            helper0_.SKILL_LEVEL as col_12_0_,\n            helperrank9_.NAME as col_13_0_,\n            person3_.ID as col_14_0_,\n            helper0_.HELPER_RATE as col_15_0_,\n            helper0_.PERSONELID as col_16_0_,\n            regionalof8_.ID as col_17_0_,\n            basket6_.ID as col_18_0_,\n            person3_.MOBILE as col_19_0_,\n            fleet5_.NAME as col_20_0_,\n            helper0_.EXPERT_TYPE as col_21_0_,\n            helper0_.MAX_CONCURRENT_WORK as col_22_0_,\n            . as col_23_0_    &lt;----------- this causes the problem\n        from\n            OPR.TBL_HELPER helper0_ \n        left outer join\n            OPR.TBL_CITY city1_ \n                on helper0_.CITY_ID=city1_.ID \n        left outer join\n            TBL_AGENCY agency2_ \n                on helper0_.AGENCY_ID=agency2_.ID \n        left outer join\n            OPR.TBL_PERSONS person3_ \n                on helper0_.PERSON_ID=person3_.ID \n        left outer join\n            OPR.TBL_HELPER_FLEET helperflee4_ \n                on helper0_.HELPER_FLEET_ID=helperflee4_.ID \n        left outer join\n            OPR.NOEKHODROEMDAD fleet5_ \n                on helperflee4_.NOEKHODROEMDAD_ID=fleet5_.NOEKHODROEMDADID \n        left outer join\n            OPR.TBL_BASKET basket6_ \n                on helper0_.BASKET_PART_ID=basket6_.ID \n        left outer join\n            OPR.TBL_HELPER_TYPE helpertype7_ \n                on helper0_.HELPER_TYPE_ID=helpertype7_.ID \n        left outer join\n            TBL_REGIONAL_OFFICE regionalof8_ \n                on helper0_.REGIONAL_OFFICE_ID=regionalof8_.ID \n        left outer join\n            OPR.TBL_HELPER_RANK helperrank9_ \n                on helper0_.RANK_HELPER_ID=helperrank9_.ID \n        left outer join\n            TBL_HELPER_DUTY_CITIES dutycities10_ \n                on helper0_.ID=dutycities10_.DUTY_CITY_ID \n        left outer join\n            OPR.TBL_CITY city11_ \n                on dutycities10_.ESTABLISHMENT_CITY_ID=city11_.ID \n        inner join\n            TBL_HELPER_DUTY_CITIES dutycities12_ \n                on helper0_.ID=dutycities12_.DUTY_CITY_ID \n        where\n            1=1 \n            and 1=1 \n        order by\n            helper0_.ALLOWED_TO_OPERATE asc,\n            person3_.NAME asc ) \n    where\n        rownum &lt;= ?\n</code></pre>\n<p>and at last I get this error when returning an Specification from the predicates I made.\nError:</p>\n<pre><code>\n2022-01-31 15:40:08.419 [http-nio-8082-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ORA-00936: missing expression\n \n2022-01-31 15:40:08.444 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; @AfterThrowing method: GenericRepository.findAll(..) \n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedMessage: ORA-00936: missing expression\n \n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedCause: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet \n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; @AfterThrowing method: HelperServiceImpl.findByCriteria(..) \n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedMessage: ORA-00936: missing expression\n \n2022-01-31 15:40:08.445 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedCause: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet \n2022-01-31 15:40:08.446 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; @AfterThrowing method: HelperController.show(..) \n2022-01-31 15:40:08.446 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedMessage: ORA-00936: missing expression\n \n2022-01-31 15:40:08.446 [http-nio-8082-exec-2] ERROR com.eki.opr.config.LoggingAspect - ----&gt; detailedCause: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet \n\n</code></pre>\n<p><strong>EDIT</strong>\nthese are the entities:</p>\n<pre><code>@Entity(name = &quot;HELPER&quot;)\n@Table(name = &quot;TBL_HELPER&quot;, schema = &quot;OPR&quot;)\n@EqualsAndHashCode(exclude = {&quot;person&quot;, &quot;agency&quot;, &quot;helperType&quot;, &quot;regionalOffice&quot;, &quot;basket_part&quot;, &quot;helperRank&quot;})\n@ToString(exclude = {&quot;person&quot;, &quot;agency&quot;, &quot;helperType&quot;, &quot;regionalOffice&quot;, &quot;basket_part&quot;, &quot;helperRank&quot;})\n@AllArgsConstructor\npublic class Helper implements Serializable {\n\n\n    private Long id;\n    @GenericGenerator(\n            name = &quot;assigned-sequence&quot;,\n            strategy = &quot;com.eki.opr.utils.StringSequenceIdentifier&quot;\n    )\n    @GeneratedValue(\n            generator = &quot;assigned-sequence&quot;,\n            strategy = GenerationType.AUTO)\n    private String largeId;\n\n    private Long skillLevel;\n    private Long currentWorkCount;\n    private Long maxConcurrentWork;\n    private YesNo allowedToOperate;\n    private YesNo hasGps;\n    private YesNo isAutoDialer;\n    private YesNo isPartSupply;\n    private YesNo hasFlatTirePack;\n    private String imei;\n    private String address;\n    private String personelId;\n    private String reservedMobile;\n\n\n    private Person person;\n    private HelperFleet helperFleet;\n    private HelperType helperType;\n    private RegionalOffice regionalOffice;\n    private Agency agency;\n    private Basket basket_part;\n    private Basket basket_tools;\n    private YesNo hasPos;\n    private String posSerial;\n    private HelperRank helperRank;\n\n    private Parameter contractType;\n\n    private Set&lt;ServiceType&gt; serviceTypes = new HashSet&lt;ServiceType&gt;();\n\n    private Long helperRate;\n\n\n    private ExpertType expertType = ExpertType.HELPER;\n\n    public Helper() {\n\n    }\n\n    private City city;\n\n    @JoinColumn(name = &quot;CITY_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    public City getCity() {\n        return city;\n    }\n\n    public void setCity(City city) {\n        this.city = city;\n    }\n\n\n    \n    private Set&lt;HelperDutyCity&gt; dutyCities = new HashSet&lt;&gt;();\n    \n    /* in this part mappedBy's value should be changed to helper because the \n     join must be on helper not dutyCityId*/\n\n    @OneToMany(targetEntity = HelperDutyCity.class, mappedBy = &quot;dutyCityId&quot;, fetch = FetchType.EAGER)\n    public Set&lt;HelperDutyCity&gt; getDutyCities() {\n        return dutyCities;\n    }\n\n    public void setDutyCities(Set&lt;HelperDutyCity&gt; dutyCities) {\n        this.dutyCities = dutyCities;\n    }\n\n    public void setHelperRate(Long helperRate) {\n        this.helperRate = helperRate;\n    }\n    @Column(name = &quot;HELPER_RATE&quot;)\n    public Long getHelperRate() {\n        return helperRate;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_helper&quot;)\n    @SequenceGenerator(name = &quot;seq_helper&quot;, sequenceName = &quot;SA.SEQ_EMDADGAR_ID&quot;, allocationSize = 1,initialValue = 63442)\n    @Column(name = &quot;ID&quot;)\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n\n    @Column(name = &quot;ADDRESS&quot;)\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n\n    @Column(name = &quot;SKILL_LEVEL&quot;)\n    public Long getSkillLevel() {\n        return skillLevel;\n    }\n\n    public void setSkillLevel(Long skillLevel) {\n        this.skillLevel = skillLevel;\n    }\n\n\n    @Column(name = &quot;MAX_CONCURRENT_WORK&quot;)\n    public Long getMaxConcurrentWork() {\n        return maxConcurrentWork;\n    }\n\n    public void setMaxConcurrentWork(Long maxConcurrentWork) {\n        this.maxConcurrentWork = maxConcurrentWork;\n    }\n\n\n    @Column(name = &quot;CURRENT_WORK_COUNT&quot;)\n    public Long getCurrentWorkCount() {\n        return currentWorkCount;\n    }\n\n    public void setCurrentWorkCount(Long currentWorkCount) {\n        this.currentWorkCount = currentWorkCount;\n    }\n\n\n    @Column(name = &quot;ALLOWED_TO_OPERATE&quot;)\n    @Convert(converter = YesNoConverter.class)\n    public YesNo getAllowedToOperate() {\n        return allowedToOperate;\n    }\n\n    public void setAllowedToOperate(YesNo allowedToOperate) {\n        this.allowedToOperate = allowedToOperate;\n    }\n\n\n    @Column(name = &quot;HAS_GPS&quot;)\n    @Convert(converter = YesNoConverter.class)\n    public YesNo getHasGps() {\n        return hasGps;\n    }\n\n    public void setHasGps(YesNo hasGps) {\n        this.hasGps = hasGps;\n    }\n\n\n    @Column(name = &quot;PART_SUPPLY&quot;)\n    @Convert(converter = YesNoConverter.class)\n    public YesNo getIsPartSupply() {\n        return isPartSupply;\n    }\n\n    public void setIsPartSupply(YesNo isPartSupply) {\n        this.isPartSupply = isPartSupply;\n    }\n\n\n    @Column(name = &quot;PERSONELID&quot;)\n    public String getPersonelId() {\n        return personelId;\n    }\n\n    public void setPersonelId(String personelId) {\n        this.personelId = personelId;\n    }\n\n\n    @Column(name = &quot;HAS_FLAT_TIRE_PACK&quot;)\n    @Convert(converter = YesNoConverter.class)\n    public YesNo getHasFlatTirePack() {\n        return hasFlatTirePack;\n    }\n\n    public void setHasFlatTirePack(YesNo hasFlatTirePack) {\n        this.hasFlatTirePack = hasFlatTirePack;\n    }\n\n\n    @Column(name = &quot;IMEI&quot;)\n    public String getImei() {\n        return imei;\n    }\n\n    public void setImei(String imei) {\n        this.imei = imei;\n    }\n    @JoinColumn(name = &quot;CREATED_BY&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    private PersonUnion createdBy;\n    @Column(name = &quot;CREATED_AT&quot;)\n    private LocalDateTime createdAt;\n\n    @Column(name = &quot;IS_AUTO_DIALER&quot;)\n    @Convert(converter = YesNoConverter.class)\n    public YesNo getIsAutoDialer() {\n        return isAutoDialer;\n    }\n\n    public void setIsAutoDialer(YesNo isAutoDialer) {\n        this.isAutoDialer = isAutoDialer;\n    }\n\n\n    @Column(name = &quot;RESERVED_MOBILE&quot;)\n    public String getReservedMobile() {\n        return reservedMobile;\n    }\n\n    @Column(name = &quot;HAS_POS&quot;)\n    @Convert(converter = YesNoConverter.class)\n    public YesNo getHasPos() { return hasPos; }\n    public void setHasPos(YesNo hasPos) {\n        this.hasPos = hasPos;\n    }\n\n    @Column(name = &quot;POS_SERIAL&quot;)\n    public String getPosSerial() { return posSerial; }\n    public void setPosSerial(String posSerial) {\n        this.posSerial = posSerial;\n    }\n\n    public void setReservedMobile(String reservedMobile) {\n        this.reservedMobile = reservedMobile;\n    }\n    @JoinColumn(name = &quot;MODIFIED_BY&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    private PersonUnion modifiedBy;\n    @Column(name = &quot;MODIFIED_AT&quot;)\n    private LocalDateTime modifiedAt;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;PERSON_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    public Person getPerson() {\n        return person;\n    }\n\n    public void setPerson(Person person) {\n        this.person = person;\n    }\n\n    @JoinColumn(name = &quot;HELPER_TYPE_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    public HelperType getHelperType() {\n        return helperType;\n    }\n\n    public void setHelperType(HelperType helperType) {\n        this.helperType = helperType;\n    }\n\n\n    @JoinColumn(name = &quot;REGIONAL_OFFICE_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    public RegionalOffice getRegionalOffice() {\n        return regionalOffice;\n    }\n\n    public void setRegionalOffice(RegionalOffice regionalOffice) {\n        this.regionalOffice = regionalOffice;\n    }\n\n    @JoinColumn(name = &quot;AGENCY_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    public Agency getAgency() {\n        return agency;\n    }\n\n    public void setAgency(Agency agency) {\n        this.agency = agency;\n    }\n\n    @JoinColumn(name = &quot;BASKET_PART_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    public Basket getBasket_part() {\n        return basket_part;\n    }\n\n    public void setBasket_part(Basket basket_part) {\n        this.basket_part = basket_part;\n    }\n\n    @JoinColumn(name = &quot;BASKET_TOOLS_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    public Basket getBasket_tools() {\n        return basket_tools;\n    }\n\n    public void setBasket_tools(Basket basket_tools) {\n        this.basket_tools = basket_tools;\n    }\n\n    @ManyToOne\n    @JoinColumn(name = &quot;HELPER_FLEET_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    public HelperFleet getHelperFleet() {\n        return helperFleet;\n    }\n\n    public void setHelperFleet(HelperFleet helperFleet) {\n        this.helperFleet = helperFleet;\n    }\n\n    @JoinColumn(name = &quot;RANK_HELPER_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    public HelperRank getHelperRank() {\n        return helperRank;\n    }\n\n    public void setHelperRank(HelperRank helperRank) {\n        this.helperRank = helperRank;\n    }\n\n\n    @Column(name = &quot;LARGE_ID&quot;)\n    public String getLargeId(){return this.largeId;}\n\n    public void setLargeId(String largeId){this.largeId = largeId;}\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;TBL_HELPER_SERVICE_TYPE&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;HELPER_ID&quot;, &quot;SERVICE_TYPE_ID&quot;})},\n            joinColumns = @JoinColumn(name = &quot;HELPER_ID&quot;, referencedColumnName = &quot;ID&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;SERVICE_TYPE_ID&quot;, referencedColumnName = &quot;ID&quot;))\n    public Set&lt;ServiceType&gt; getServiceTypes() {\n        return serviceTypes;\n    }\n\n    public void setServiceTypes(Set&lt;ServiceType&gt; serviceTypes) {\n        this.serviceTypes = serviceTypes;\n    }\n\n    @JoinColumn(name = &quot;CONTRACT_TYPE&quot;)\n    @ManyToOne\n    public Parameter getContractType() {\n        return contractType;\n    }\n\n    public void setContractType(Parameter contractType){\n        this.contractType = contractType;\n    }\n\n    @Convert(converter = ExpertTypeConverter.class)\n    @Column(name = &quot;EXPERT_TYPE&quot;)\n    public ExpertType getExpertType() {\n        return expertType;\n    }\n\n    public void setExpertType(ExpertType expertType) {\n        this.expertType = expertType;\n    }\n\n    public void fromDto(HelperInput input) {\n        this.id = input.getId();\n        this.address = input.getAddress();\n        this.allowedToOperate = input.getAllowedToOperate();\n        this.currentWorkCount = input.getCurrentWorkCount();\n        this.hasGps = input.getHasGps();\n        this.hasFlatTirePack = input.getHasFlatTirePack();\n        this.isAutoDialer = input.getIsAutoDialer();\n        this.personelId = input.getPersonelId();\n        this.isPartSupply = input.getIsPartSupply();\n        this.maxConcurrentWork = input.getMaxConcurrentWork();\n        this.hasPos = input.getHasPos();\n        this.posSerial = input.getPosSerial();\n        this.skillLevel = input.getSkillLevel();\n        this.reservedMobile = input.getReservedMobile();\n\n        if (input.getId() == null) { //first time\n            this.largeId = StringSequenceIdentifier.generateLargeId();\n            this.createdBy = input.getCreatedByEntity();\n            this.createdAt = LocalDateTime.now();\n            this.modifiedBy = input.getCreatedByEntity();\n            this.modifiedAt = createdAt;\n        } else {\n            this.modifiedBy = input.getModifiedByEntity();\n            this.modifiedAt = LocalDateTime.now();\n        }\n\n        this.helperRate = input.getHelperRate();\n\n    }\n\n}\n</code></pre>\n<pre><code>\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@ToString\n@AllArgsConstructor\n@JsonDeserialize\n@Table(name = &quot;TBL_HELPER_DUTY_CITIES&quot;)\n@IdClass(HelperDutyCityKey.class)\npublic class HelperDutyCity implements Serializable {\n\n    @Id\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;HELPER_ID&quot;)\n    private Helper helper;\n\n    @Id\n    @OneToOne\n    @JoinColumn(name = &quot;ESTABLISHMENT_CITY_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    @Fetch(FetchMode.JOIN)\n    private City establishmentCityId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;DUTY_CITY_ID&quot;, referencedColumnName = &quot;ID&quot;)\n    @Fetch(FetchMode.JOIN)\n    private City dutyCityId;\n\n\n    public HelperDutyCity(Helper helper, City establishmentCityId) {\n        this.helper = helper;\n        this.establishmentCityId = establishmentCityId;\n    }\n\n}\n\n</code></pre>\n<pre><code>\n@Data\n@ToString(exclude = {&quot;regions&quot;,&quot;regionalOffice&quot;, &quot;province&quot;,&quot;productCities&quot;})\n@EqualsAndHashCode(exclude = {&quot;regions&quot;,&quot;regionalOffice&quot;, &quot;province&quot;,&quot;productCities&quot;})\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@Entity\n@Table(name = &quot;TBL_CITY&quot;, schema = &quot;OPR&quot;)\npublic class City implements Serializable {\n\n    /**\n     *\n     */\n    private static final long serialVersionUID = 1L;\n\n    @GenericGenerator(\n            name = &quot;seqCity&quot;,\n            strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n            parameters = {\n                    @org.hibernate.annotations.Parameter(name = &quot;sequence_name&quot;, value = &quot;SEQ_CITY&quot;),\n                    @org.hibernate.annotations.Parameter(name = &quot;initial_value&quot;, value = &quot;100219&quot;),\n                    @org.hibernate.annotations.Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\n            }\n    )\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seqCity&quot;)\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @ManyToOne(fetch =  FetchType.LAZY)\n    @JoinColumn(name = &quot;PROVINCE_ID&quot;, nullable = false)\n    private Province province;\n\n    @GenericGenerator(\n            name = &quot;assigned-sequence&quot;,\n            strategy = &quot;com.eki.opr.utils.StringSequenceIdentifier&quot;\n    )\n    @GeneratedValue(\n            generator = &quot;assigned-sequence&quot;,\n            strategy = GenerationType.SEQUENCE)\n    @Column(name = &quot;LARGE_ID&quot;)\n    private String largeId;\n\n    @Column(name = &quot;OPR_SHAHR_ID&quot;)\n    private Double oprCityId;\n\n    @Column(name = &quot;LATITUDE&quot;)\n    private Double latitude;\n\n    @Column(name = &quot;LONGITUDE&quot;)\n    private Double longitude;\n\n    @Column(name = &quot;METROPOLIS_FACTOR&quot;)\n    private Double metropolisFactor;\n\n    @Convert(converter = YesNoConverter.class)\n    @Column(name = &quot;IS_AUTOMATED_DISPATCH&quot;)\n    private YesNo isAutomatedDispatch;\n\n    @Convert(converter = GeneralStatusConverter.class)\n    @Column(name = &quot;STATUS&quot;)\n    private GeneralStatus status;\n\n    @Column(name = &quot;PARSIMAP_CITY_CODE&quot;)\n    private String parsiMapCityCode;\n\n    @Column(name = &quot;AMAR_CITY_CODE&quot;)\n    private String parsiMapCityAmarCode;\n\n    @JoinColumn(name = &quot;REGIONAL_OFFICE_ID&quot;)\n    @ManyToOne(fetch =  FetchType.LAZY)\n    private RegionalOffice regionalOffice;\n\n    @ManyToMany(\n            fetch = FetchType.LAZY, mappedBy = &quot;cities&quot;)\n    Set&lt;Region&gt; regions = new HashSet&lt;&gt;();\n\n/*    @OneToMany(mappedBy = &quot;city&quot;)\n    private Set&lt;Address&gt; addresses;*/\n\n    public City() {\n    }\n\n    public City(Long id) {\n        this.id = id;\n        //   this.addresses = addresses;\n    }\n\n    public City(CityDto dto) {\n        fromDto(dto);\n    }\n\n    public void fromDto(CityDto cityDto) {\n        this.name = cityDto.getName();\n        this.metropolisFactor = cityDto.getMetropolisFactor();\n    }\n\n    public CityDto toDto() {\n        CityDto dto = new CityDto();\n        dto.setId(id);\n        dto.setName(name);\n        dto.setMetropolisFactor(metropolisFactor);\n        dto.setProvinceDto(province.toDto());\n        dto.setRegionalOfficeOutput(regionalOffice.toDto());\n        return dto;\n    }\n\n    public CityLite toDtoLite() {\n        CityLite dto = new CityLite();\n        dto.setId(id);\n        dto.setName(name);\n        dto.setMetropolisFactor(metropolisFactor);\n        dto.setProvinceId(province != null ? province.getId() : null);\n        dto.setProvinceName(province != null ? province.getName() : &quot;&quot;);\n        dto.setRegionalOfficeId(regionalOffice != null ? regionalOffice.getId() : null);\n        dto.setRegionalOfficeTitle(regionalOffice != null ? regionalOffice.getTitle() : &quot;&quot;);\n        dto.setParsiMapCityCode(parsiMapCityCode);\n        dto.setParsiMapAmarCityCode(parsiMapCityAmarCode);\n        dto.setLat(latitude != null ? latitude :0);\n        dto.setLng(longitude != null ? longitude :0);\n        return dto;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":17918855,"reputation":91,"user_id":13019222,"display_name":"Bruno Gava Guerra"},"score":0,"creation_date":1643578760,"post_id":70919139,"comment_id":125371866,"body_markdown":"I&#39;m not sure if I understood the problem: the code works, correct?","body":"I&#39;m not sure if I understood the problem: the code works, correct?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1643579059,"post_id":70919139,"comment_id":125371935,"body_markdown":"add an `if (size &lt; 0) return 0`? If you don&#39;t want arguments to have certain properties, check for them first, and then either return &quot;what makes sense&quot;, or throw an appropriate exception.","body":"add an <code>if (size &lt; 0) return 0</code>? If you don&#39;t want arguments to have certain properties, check for them first, and then either return &quot;what makes sense&quot;, or throw an appropriate exception."},{"owner":{"account_id":12679972,"reputation":13,"user_id":9214087,"display_name":"DARK FOREST"},"score":0,"creation_date":1643579080,"post_id":70919139,"comment_id":125371943,"body_markdown":"@BrunoGavaGuerra yes it&#39;s work fine but Just wanted to know is there any better way to write it? for me this code is like &quot;to kill a fish, break the aquarium pot&quot;. is there other way around?","body":"@BrunoGavaGuerra yes it&#39;s work fine but Just wanted to know is there any better way to write it? for me this code is like &quot;to kill a fish, break the aquarium pot&quot;. is there other way around?"},{"owner":{"account_id":12679972,"reputation":13,"user_id":9214087,"display_name":"DARK FOREST"},"score":0,"creation_date":1643579395,"post_id":70919139,"comment_id":125372012,"body_markdown":"@user16320675 thanks. I&#39;m learning Dp. so have to do every-bit of thing in recursion.","body":"@user16320675 thanks. I&#39;m learning Dp. so have to do every-bit of thing in recursion."}],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643693347,"creation_date":1643578732,"answer_id":70919168,"question_id":70919139,"body_markdown":"How about:\r\n\r\n```java\r\npublic static int sum(int[] arr,int size,int suma){\r\n   if (size &lt; 1) return suma; \r\n\r\n   return   sum(arr,size-1, suma+arr[size-1]);\r\n}\r\n```\r\n\r\nThe index should never be equal to the size anyway since indexes start from 0.\r\n","title":"is there any better way to handel IndexOutOfBoundsException?","body":"<p>How about:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int sum(int[] arr,int size,int suma){\n   if (size &lt; 1) return suma; \n\n   return   sum(arr,size-1, suma+arr[size-1]);\n}\n</code></pre>\n<p>The index should never be equal to the size anyway since indexes start from 0.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643693392,"creation_date":1643580422,"answer_id":70919348,"question_id":70919139,"body_markdown":"The minimum array&#39;s index is `0`, so you should at last add `arr[length - 1]` to the final sum. Therefore you should stop the recursion if the length is `0`;\r\n\r\n```java\r\npublic static int sum(int[] arr, int length, int sum) {\r\n    return length &lt; 1? sum : sum(arr, length - 1, sum + arr[length - 1]);\r\n}\r\n```\r\n\r\nDemo:\r\n```java\r\nint[] arr = { 1, 2, 3, 4, 5, 6 };\r\nSystem.out.println(sum(arr, arr.length, 1000)); // 1021\r\n```","title":"is there any better way to handel IndexOutOfBoundsException?","body":"<p>The minimum array's index is <code>0</code>, so you should at last add <code>arr[length - 1]</code> to the final sum. Therefore you should stop the recursion if the length is <code>0</code>;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int sum(int[] arr, int length, int sum) {\n    return length &lt; 1? sum : sum(arr, length - 1, sum + arr[length - 1]);\n}\n</code></pre>\n<p>Demo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] arr = { 1, 2, 3, 4, 5, 6 };\nSystem.out.println(sum(arr, arr.length, 1000)); // 1021\n</code></pre>\n"}],"owner":{"account_id":12679972,"reputation":13,"user_id":9214087,"display_name":"DARK FOREST"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70919348,"answer_count":2,"score":0,"last_activity_date":1643693392,"creation_date":1643578544,"question_id":70919139,"body_markdown":"    int sum(int[] arr,int size,int suma){\r\n      if(size &lt; 0) return suma; \r\n\r\n       return   sum(arr,size-1, suma+arr[size]);\r\n    }\r\n\r\nThis code works fine as it breaks when the size is less than zero, but also give `java.lang.IndexOutOfBoundsException : Invalid array index: -1` while debugging.\r\nwhat else I can do to avoid this `IndexOutOfBoundsException`?","title":"is there any better way to handel IndexOutOfBoundsException?","body":"<pre><code>int sum(int[] arr,int size,int suma){\n  if(size &lt; 0) return suma; \n\n   return   sum(arr,size-1, suma+arr[size]);\n}\n</code></pre>\n<p>This code works fine as it breaks when the size is less than zero, but also give <code>java.lang.IndexOutOfBoundsException : Invalid array index: -1</code> while debugging.\nwhat else I can do to avoid this <code>IndexOutOfBoundsException</code>?</p>\n"},{"tags":["java","multithreading","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643576698,"creation_date":1643576698,"answer_id":70918914,"question_id":70918691,"body_markdown":"Assuming the `id`s do not change, the first case is preferable to the second. The first case avoids synchronization if the `id`s do not match. The second case synchronizes even if there isn&#39;t any write operation.","title":"Thread Safety: Maximum efficiency","body":"<p>Assuming the <code>id</code>s do not change, the first case is preferable to the second. The first case avoids synchronization if the <code>id</code>s do not match. The second case synchronizes even if there isn't any write operation.</p>\n"},{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643692366,"creation_date":1643576847,"answer_id":70918937,"question_id":70918691,"body_markdown":"What you are hinting towards is double check locking. The correct form is:\r\n\r\n```java\r\n    public void addMarketOrder(MarketOrder marketOrder) {\r\n    if (marketOrder.id != this.id) {\r\n        return;\r\n    }\r\n    synchronized (this) {\r\n        if (marketOrder.id != this.id) {\r\n           ordered += marketOrder.ordered;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBecause you shouldn&#39;t assume that because the condition became true that it will continue to be true.\r\n\r\nAlso if you read the id without synchronization it should be volatile because the compiler may optimize away memory reads under certain circumstances and the value that is being held in one thread could be different from another. Also the when not volatile the compiler can change to order of operations assuming a single thread that can make your code misbehave when running with multiple threads.\r\n\r\n**Volatility rule:** any variable that is accessed outside of a *synchronized* block by *multiple threads* MUST be *final* or *volatile*. Or you will get thread visibility problems in certain circumstances.\r\n\r\nYou can also synchronize the whole method without any problem. But synchronizing the whole method will make it less efficient (which could matter if you have a lot of processors and this is a highly contested method).\r\n\r\n","title":"Thread Safety: Maximum efficiency","body":"<p>What you are hinting towards is double check locking. The correct form is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void addMarketOrder(MarketOrder marketOrder) {\n    if (marketOrder.id != this.id) {\n        return;\n    }\n    synchronized (this) {\n        if (marketOrder.id != this.id) {\n           ordered += marketOrder.ordered;\n        }\n    }\n}\n</code></pre>\n<p>Because you shouldn't assume that because the condition became true that it will continue to be true.</p>\n<p>Also if you read the id without synchronization it should be volatile because the compiler may optimize away memory reads under certain circumstances and the value that is being held in one thread could be different from another. Also the when not volatile the compiler can change to order of operations assuming a single thread that can make your code misbehave when running with multiple threads.</p>\n<p><strong>Volatility rule:</strong> any variable that is accessed outside of a <em>synchronized</em> block by <em>multiple threads</em> MUST be <em>final</em> or <em>volatile</em>. Or you will get thread visibility problems in certain circumstances.</p>\n<p>You can also synchronize the whole method without any problem. But synchronizing the whole method will make it less efficient (which could matter if you have a lot of processors and this is a highly contested method).</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643604172,"creation_date":1643603766,"answer_id":70921333,"question_id":70918691,"body_markdown":"If you want an efficient multi-threaded system, then do not let threads communicate with each other. If the threads contend for the same data, you can get significant slows downs even if you use fast alternatives like volatiles or Atomics. \r\n\r\nI&#39;m not sure which parts of your code need to be thread-safe. If it is only a matter of atomically increasing the counter, then making the &#39;ordered&#39; field an AtomicLong and calling getAndAdd would be a reasonably fast solution that doesn&#39;t make use of any locks.\r\n\r\n","title":"Thread Safety: Maximum efficiency","body":"<p>If you want an efficient multi-threaded system, then do not let threads communicate with each other. If the threads contend for the same data, you can get significant slows downs even if you use fast alternatives like volatiles or Atomics.</p>\n<p>I'm not sure which parts of your code need to be thread-safe. If it is only a matter of atomically increasing the counter, then making the 'ordered' field an AtomicLong and calling getAndAdd would be a reasonably fast solution that doesn't make use of any locks.</p>\n"}],"owner":{"account_id":17098747,"reputation":21,"user_id":12373186,"display_name":"Yohnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1643692366,"creation_date":1643574971,"question_id":70918691,"body_markdown":"Good Evening, \r\n\r\nI am trying to understand how I am using multi-threading and how to implement thread-safety in the context. \r\n\r\nWhen I want to achieve maximum speed of my threads do I use:\r\n\r\n    \tpublic void addMarketOrder(MarketOrder marketOrder) {\r\n\t\tif (marketOrder.id != this.id) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsynchronized (this) {\r\n\t\t\tordered += marketOrder.ordered;\r\n\t\t}\r\n\t}\r\n\r\nor just synchronized the entire method?\r\n\r\n    \tpublic synchronized void addMarketOrder(MarketOrder marketOrder) {\r\n\t\tif (marketOrder.id != this.id) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tordered += marketOrder.ordered;\r\n\t}\r\n\r\n","title":"Thread Safety: Maximum efficiency","body":"<p>Good Evening,</p>\n<p>I am trying to understand how I am using multi-threading and how to implement thread-safety in the context.</p>\n<p>When I want to achieve maximum speed of my threads do I use:</p>\n<pre><code>    public void addMarketOrder(MarketOrder marketOrder) {\n    if (marketOrder.id != this.id) {\n        return;\n    }\n    synchronized (this) {\n        ordered += marketOrder.ordered;\n    }\n}\n</code></pre>\n<p>or just synchronized the entire method?</p>\n<pre><code>    public synchronized void addMarketOrder(MarketOrder marketOrder) {\n    if (marketOrder.id != this.id) {\n        return;\n    }\n    ordered += marketOrder.ordered;\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","security","web-deployment"],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643691516,"creation_date":1643691516,"answer_id":70935753,"question_id":70935678,"body_markdown":"Simplest option is to create a `profile specific` application.properties file and activate that profile. So for example create `application-private.properties` and activate profile `private`. Of course you have to watch out to not commit this file.\r\n\r\nAlternatively, and probably a safer option, is to define a file outside your project and import it in your `application.properties` with following line:\r\n\r\n    spring.config.import=file:../path/to/your/external.properties","title":"Spring Web App Deployment:: how do you hide data in application.properties?","body":"<p>Simplest option is to create a <code>profile specific</code> application.properties file and activate that profile. So for example create <code>application-private.properties</code> and activate profile <code>private</code>. Of course you have to watch out to not commit this file.</p>\n<p>Alternatively, and probably a safer option, is to define a file outside your project and import it in your <code>application.properties</code> with following line:</p>\n<pre><code>spring.config.import=file:../path/to/your/external.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643691874,"creation_date":1643691874,"answer_id":70935782,"question_id":70935678,"body_markdown":"Spring Boot has extensive support for [external configuration](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config). The usual approach is to use one of environment variables, configuration provided by a platform such as Kubernetes, or a specialized configuration system through Spring Cloud Config; these all keep secrets (or just environment-specific information) entirely outside of the code. They also have the advantages of providing a common style of configuration for other applications that do not use Spring Boot.","title":"Spring Web App Deployment:: how do you hide data in application.properties?","body":"<p>Spring Boot has extensive support for <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">external configuration</a>. The usual approach is to use one of environment variables, configuration provided by a platform such as Kubernetes, or a specialized configuration system through Spring Cloud Config; these all keep secrets (or just environment-specific information) entirely outside of the code. They also have the advantages of providing a common style of configuration for other applications that do not use Spring Boot.</p>\n"}],"owner":{"account_id":19123219,"reputation":19,"user_id":13966730,"display_name":"Oll Kontrol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2063,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643691874,"creation_date":1643690692,"question_id":70935678,"body_markdown":"everyone!\r\n\r\nthis is going to be my first time pushing a newly developed Spring Boot App and I was wondering if there is a way to protect passwords and other sensitive information written in the application.properties file.\r\n\r\nAssuming we have the following lines:\r\n\r\n    # PostgreSQL connection settings\r\n    spring.datasource.jdbc-url=jdbc:postgresql://localhost:5432/bdreminder\r\n    spring.datasource.username=username\r\n    spring.datasource.password=password\r\n\r\nThe source code is to be first stored on GitHub and having the credentials stored in plain text does not seem to be a good idea.\r\nSo, I could probably add the file to the .gitignore one; I could set some environment variables on the host but how would it populate the .properties file afterward? Also, this seems quite cumbersome in terms of the scaling later on.\r\n\r\nSo, basically, I am trying to see how it is done in a real-life :)\r\n\r\nPlease, help :)","title":"Spring Web App Deployment:: how do you hide data in application.properties?","body":"<p>everyone!</p>\n<p>this is going to be my first time pushing a newly developed Spring Boot App and I was wondering if there is a way to protect passwords and other sensitive information written in the application.properties file.</p>\n<p>Assuming we have the following lines:</p>\n<pre><code># PostgreSQL connection settings\nspring.datasource.jdbc-url=jdbc:postgresql://localhost:5432/bdreminder\nspring.datasource.username=username\nspring.datasource.password=password\n</code></pre>\n<p>The source code is to be first stored on GitHub and having the credentials stored in plain text does not seem to be a good idea.\nSo, I could probably add the file to the .gitignore one; I could set some environment variables on the host but how would it populate the .properties file afterward? Also, this seems quite cumbersome in terms of the scaling later on.</p>\n<p>So, basically, I am trying to see how it is done in a real-life :)</p>\n<p>Please, help :)</p>\n"},{"tags":["java","multithreading","lambda","thread-safety","volatile"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":2,"creation_date":1643656839,"post_id":70931595,"comment_id":125393801,"body_markdown":"`Is it safe to omit the the &quot;volatile&quot;-keyword for mutableVariable here` In this very specific case, yes.","body":"<code>Is it safe to omit the the &quot;volatile&quot;-keyword for mutableVariable here</code> In this very specific case, yes."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1643661411,"post_id":70931595,"comment_id":125395433,"body_markdown":"TLDR: The fact that the new thread held a reference to the lambda is irrelevant: The only thing that matters is which thread _executed_ the lambda body. Only the main thread does that.","body":"TLDR: The fact that the new thread held a reference to the lambda is irrelevant: The only thing that matters is which thread <i>executed</i> the lambda body. Only the main thread does that."}],"answers":[{"tags":[],"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643658042,"creation_date":1643658042,"answer_id":70931899,"question_id":70931595,"body_markdown":"There is no need for volatile keyword in this specific case.\r\n\r\nLets call the main thread T1.\r\n\r\nWhen you call `thread.start()` from T1 the value of `mutableVariable` is 2.\r\n\r\n`thread.start()` will execute the `this.blockingQueue.add(...)` in a new thread T2.\r\n\r\n`Runnable r` will block until the T2 thread call to `this.blockingQueue.add(...)` is done, and when it is done running your `Runnable` is in the queue.\r\n\r\n`r.run()` won&#39;t be executed before T2 has finished running it&#39;s entire logic which is adding `Runnable` to the queue.\r\n\r\nSo when `r.run()` is executed:\r\n1. `this.mutableVariable++` will set mutableVariable to 3\r\n2. `System.out.println(this.mutableVariable);` will output 3 as required.\r\n\r\n","title":"Is Java volatile keyword necessary if variable gets accessed by only one Thread, but passed through lambda of other Thread?","body":"<p>There is no need for volatile keyword in this specific case.</p>\n<p>Lets call the main thread T1.</p>\n<p>When you call <code>thread.start()</code> from T1 the value of <code>mutableVariable</code> is 2.</p>\n<p><code>thread.start()</code> will execute the <code>this.blockingQueue.add(...)</code> in a new thread T2.</p>\n<p><code>Runnable r</code> will block until the T2 thread call to <code>this.blockingQueue.add(...)</code> is done, and when it is done running your <code>Runnable</code> is in the queue.</p>\n<p><code>r.run()</code> won't be executed before T2 has finished running it's entire logic which is adding <code>Runnable</code> to the queue.</p>\n<p>So when <code>r.run()</code> is executed:</p>\n<ol>\n<li><code>this.mutableVariable++</code> will set mutableVariable to 3</li>\n<li><code>System.out.println(this.mutableVariable);</code> will output 3 as required.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643691108,"creation_date":1643658566,"answer_id":70932003,"question_id":70931595,"body_markdown":"(Caveat: I am not a concurrency expert.)\r\n\r\nGiven your very specific situation, yes this looks to me to be thread-safe without needing `volatile`. But not recommended.\r\n\r\n# Yes, thread-safe\r\n\r\n## Objects established before cross-threaded use\r\n\r\nI say thread-safe because the thread is in an instance method, so we know the `A` object would be instantiated before that method could be called. Since the `mutableVariable` is initialized in its declaration, we know the object’s existence would have begun before the thread-related method can be called. As the variable is clearly established before the thread, and you change its value only within the thread method, then there is no need for `volatile`. \r\n\r\n## Only one background thread\r\n\r\nAnd I say thread-safe because you are starting exactly one thread. \r\n\r\nIf multiple threads were involved, this code:\r\n\r\n    this.mutableVariable++;\r\n    // Something other thread might be incrementing this variable at this point, between these statements. \r\n    System.out.println(this.mutableVariable); \r\n\r\n… would intermittently fail, with a value printed that was set by some other thread. \r\n\r\n# No, not recommended\r\n\r\nI say not recommended because there are so many required conditions here, all implicit, that this code in practice would be quite brittle. A programmer later could easily break one of those conditions. For example, being a plain member field on `A`, anyone writing another method would assume they have the right to modify that value. Such a modification would not be safe.\r\n\r\n# `AtomicInteger`\r\n\r\nInstead, I recommend writing [self-documenting code][1] whenever practical. In particular, using the `Atomic…` classes makes thread-safety concerns quite obvious.  \r\n\r\nIn your case, I would use [`AtomicInteger`][2]. So this:\r\n\r\n    private int mutableVariable = 1 ; \r\n\r\n… becomes this:\r\n\r\n    private final AtomicInteger mutableVariableWrapper = new AtomicInteger( 1 ) ;\r\n\r\nNotice the addition of `final`. This prevents any code from replacing our `AtomicInteger` object with another. Such replacement without a `volatile` would not be thread-safe. In other words, we want `mutableVariableWrapper` itself to *not* be mutable. \r\n\r\nThe `AtomicInteger` has thread-safe methods for incrementing such as [`incrementAndGet`][3]. So this:\r\n\r\n    this.mutableVariable++;\r\n    System.out.println(this.mutableVariable); \r\n\r\n… becomes this:\r\n\r\n    int newValue = this. mutableVariableWrapper.incrementAndGet() ;\r\n    System.out.println( newValue ); \r\n\r\nNotice in that line above how, with an `AtomicInteger`, we are one step away from our desired value. The `AtomicInteger` is a container, with its `int` payload nested inside. That line above does not directly address that payload value. That line asks the `AtomicInteger` to locate the payload, the `int`, and increment it on our behalf in a thread-safe manner. To emphasize this fact of being one extra step away from the payload, I changed your variable name from `mutableVariable` to `mutableVariableWrapper` in this example code. \r\n\r\nIf you merely want to see the current value, call [`AtomicInteger#get`][4].\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Self-documenting_code\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#incrementAndGet()\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#get()","title":"Is Java volatile keyword necessary if variable gets accessed by only one Thread, but passed through lambda of other Thread?","body":"<p>(Caveat: I am not a concurrency expert.)</p>\n<p>Given your very specific situation, yes this looks to me to be thread-safe without needing <code>volatile</code>. But not recommended.</p>\n<h1>Yes, thread-safe</h1>\n<h2>Objects established before cross-threaded use</h2>\n<p>I say thread-safe because the thread is in an instance method, so we know the <code>A</code> object would be instantiated before that method could be called. Since the <code>mutableVariable</code> is initialized in its declaration, we know the object’s existence would have begun before the thread-related method can be called. As the variable is clearly established before the thread, and you change its value only within the thread method, then there is no need for <code>volatile</code>.</p>\n<h2>Only one background thread</h2>\n<p>And I say thread-safe because you are starting exactly one thread.</p>\n<p>If multiple threads were involved, this code:</p>\n<pre><code>this.mutableVariable++;\n// Something other thread might be incrementing this variable at this point, between these statements. \nSystem.out.println(this.mutableVariable); \n</code></pre>\n<p>… would intermittently fail, with a value printed that was set by some other thread.</p>\n<h1>No, not recommended</h1>\n<p>I say not recommended because there are so many required conditions here, all implicit, that this code in practice would be quite brittle. A programmer later could easily break one of those conditions. For example, being a plain member field on <code>A</code>, anyone writing another method would assume they have the right to modify that value. Such a modification would not be safe.</p>\n<h1><code>AtomicInteger</code></h1>\n<p>Instead, I recommend writing <a href=\"https://en.wikipedia.org/wiki/Self-documenting_code\" rel=\"nofollow noreferrer\">self-documenting code</a> whenever practical. In particular, using the <code>Atomic…</code> classes makes thread-safety concerns quite obvious.</p>\n<p>In your case, I would use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>AtomicInteger</code></a>. So this:</p>\n<pre><code>private int mutableVariable = 1 ; \n</code></pre>\n<p>… becomes this:</p>\n<pre><code>private final AtomicInteger mutableVariableWrapper = new AtomicInteger( 1 ) ;\n</code></pre>\n<p>Notice the addition of <code>final</code>. This prevents any code from replacing our <code>AtomicInteger</code> object with another. Such replacement without a <code>volatile</code> would not be thread-safe. In other words, we want <code>mutableVariableWrapper</code> itself to <em>not</em> be mutable.</p>\n<p>The <code>AtomicInteger</code> has thread-safe methods for incrementing such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#incrementAndGet()\" rel=\"nofollow noreferrer\"><code>incrementAndGet</code></a>. So this:</p>\n<pre><code>this.mutableVariable++;\nSystem.out.println(this.mutableVariable); \n</code></pre>\n<p>… becomes this:</p>\n<pre><code>int newValue = this. mutableVariableWrapper.incrementAndGet() ;\nSystem.out.println( newValue ); \n</code></pre>\n<p>Notice in that line above how, with an <code>AtomicInteger</code>, we are one step away from our desired value. The <code>AtomicInteger</code> is a container, with its <code>int</code> payload nested inside. That line above does not directly address that payload value. That line asks the <code>AtomicInteger</code> to locate the payload, the <code>int</code>, and increment it on our behalf in a thread-safe manner. To emphasize this fact of being one extra step away from the payload, I changed your variable name from <code>mutableVariable</code> to <code>mutableVariableWrapper</code> in this example code.</p>\n<p>If you merely want to see the current value, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#get()\" rel=\"nofollow noreferrer\"><code>AtomicInteger#get</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643691560,"creation_date":1643689730,"answer_id":70935571,"question_id":70931595,"body_markdown":"The volatile isn&#39;t needed in your example.\r\n\r\n\r\nLets expand the code a bit:\r\n\r\n\r\n    mainThread@this.mutableVariable = 2;\r\n    mainThread@thread.start();\r\n    // next line we call only the constructor; not the run method. \r\n    thread@this.blockingQueue.add(new SomeRunnable()) \r\n    mainThread@final Runnable r = this.blockingQueue.take();\r\n    mainThread@r.run().this.mutableVariable++;\r\n    mainThread@r.run().System.out.println(this.mutableVariable);\r\n\r\n\r\nThere is only 1 thread accessing the mutableVariable and that is the main thread. \r\n\r\nAnd that means you don&#39;t need volatile since a single thread needs to behave as if the instructions are executed sequentially.\r\n\r\n[edit]\r\nSolomon Slow already gave this answer in the comments.","title":"Is Java volatile keyword necessary if variable gets accessed by only one Thread, but passed through lambda of other Thread?","body":"<p>The volatile isn't needed in your example.</p>\n<p>Lets expand the code a bit:</p>\n<pre><code>mainThread@this.mutableVariable = 2;\nmainThread@thread.start();\n// next line we call only the constructor; not the run method. \nthread@this.blockingQueue.add(new SomeRunnable()) \nmainThread@final Runnable r = this.blockingQueue.take();\nmainThread@r.run().this.mutableVariable++;\nmainThread@r.run().System.out.println(this.mutableVariable);\n</code></pre>\n<p>There is only 1 thread accessing the mutableVariable and that is the main thread.</p>\n<p>And that means you don't need volatile since a single thread needs to behave as if the instructions are executed sequentially.</p>\n<p>[edit]\nSolomon Slow already gave this answer in the comments.</p>\n"}],"owner":{"account_id":10371787,"reputation":33,"user_id":7649241,"display_name":"rranke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1643691560,"creation_date":1643656487,"question_id":70931595,"body_markdown":"The question refers only to the current provided example (not in general):\r\n\r\nIs it safe to omit the the &quot;volatile&quot;-keyword for `mutableVariable` here, or is it absolutely necessary to add it in terms of thread-safety?\r\n\r\nThe `mutableVariable` gets only accessed in the `Main-Thread`, but because of the lambda-expression, I dont know if it gets &quot;passed&quot; through `Thread-2` and therefore could be cached there, or `Thread-2` sees only a cached value?\r\n\r\nThanks for answers and best reagards.\r\n\r\n\r\n```java\r\npackage test.java;\r\n\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\n\r\nimport org.junit.Test;\r\n\r\npublic class A {\r\n\r\n\tprivate final BlockingQueue&lt;Runnable&gt; blockingQueue = new LinkedBlockingQueue&lt;Runnable&gt;();\r\n\tprivate int mutableVariable = 1; // is &quot;volatile&quot;-keyword absolutely necessary here, or can it be omitted?!\r\n\r\n\r\n\t@Test\r\n\tpublic void test() throws InterruptedException {\r\n\r\n\t\t// executed in Thread-Main\r\n\t\tfinal Thread thread = new Thread(() -&gt; {\r\n\t\t\t// executed in Thread-2\r\n\t\t\tthis.blockingQueue.add(() -&gt; {\r\n\t\t\t\t// executed in Thread-Main\r\n\t\t\t\tthis.mutableVariable++;\r\n\t\t\t\tSystem.out.println(this.mutableVariable); // should always be 3\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// executed in Thread-Main\r\n\t\tthis.mutableVariable = 2;\r\n\t\tthread.start();\r\n\t\tfinal Runnable r = this.blockingQueue.take();\r\n\t\tr.run();\r\n\t}\r\n\r\n}\r\n```","title":"Is Java volatile keyword necessary if variable gets accessed by only one Thread, but passed through lambda of other Thread?","body":"<p>The question refers only to the current provided example (not in general):</p>\n<p>Is it safe to omit the the &quot;volatile&quot;-keyword for <code>mutableVariable</code> here, or is it absolutely necessary to add it in terms of thread-safety?</p>\n<p>The <code>mutableVariable</code> gets only accessed in the <code>Main-Thread</code>, but because of the lambda-expression, I dont know if it gets &quot;passed&quot; through <code>Thread-2</code> and therefore could be cached there, or <code>Thread-2</code> sees only a cached value?</p>\n<p>Thanks for answers and best reagards.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test.java;\n\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.LinkedBlockingQueue;\n\nimport org.junit.Test;\n\npublic class A {\n\n    private final BlockingQueue&lt;Runnable&gt; blockingQueue = new LinkedBlockingQueue&lt;Runnable&gt;();\n    private int mutableVariable = 1; // is &quot;volatile&quot;-keyword absolutely necessary here, or can it be omitted?!\n\n\n    @Test\n    public void test() throws InterruptedException {\n\n        // executed in Thread-Main\n        final Thread thread = new Thread(() -&gt; {\n            // executed in Thread-2\n            this.blockingQueue.add(() -&gt; {\n                // executed in Thread-Main\n                this.mutableVariable++;\n                System.out.println(this.mutableVariable); // should always be 3\n            });\n        });\n\n        // executed in Thread-Main\n        this.mutableVariable = 2;\n        thread.start();\n        final Runnable r = this.blockingQueue.take();\n        r.run();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","apache","httprequest"],"comments":[{"owner":{"account_id":40683,"reputation":29833,"user_id":117919,"accept_rate":92,"display_name":"jsalonen"},"score":0,"creation_date":1374841784,"post_id":17881295,"comment_id":26111550,"body_markdown":"This may be off topic, but why would you want to implement a download manager yourself? A variety of solutions exists already.","body":"This may be off topic, but why would you want to implement a download manager yourself? A variety of solutions exists already."},{"owner":{"account_id":2603734,"reputation":64,"user_id":2255401,"display_name":"Kyle Saltzberg"},"score":1,"creation_date":1374841873,"post_id":17881295,"comment_id":26111614,"body_markdown":"http://stackoverflow.com/questions/14423108/pause-resume-http-connection-download","body":"<a href=\"http://stackoverflow.com/questions/14423108/pause-resume-http-connection-download\" title=\"pause resume http connection download\">stackoverflow.com/questions/14423108/&hellip;</a>"},{"owner":{"account_id":376162,"reputation":43022,"user_id":727429,"accept_rate":90,"display_name":"CQM"},"score":0,"creation_date":1374842286,"post_id":17881295,"comment_id":26111873,"body_markdown":"@jsalonen its a proof of concept for a new protocol, any luck and you&#39;ll see","body":"@jsalonen its a proof of concept for a new protocol, any luck and you&#39;ll see"}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1374842342,"creation_date":1374842342,"answer_id":17881539,"question_id":17881295,"body_markdown":"With the HttpClient:\r\n\r\n    if (offset &gt; 0) {\r\n    \tString startFrom = &quot;bytes= &quot; + offset + &quot;-&quot;;\r\n    \tif (expected &gt;= 0) {\r\n    \t\tstartFrom += expected;\r\n    \t}\r\n    \tmHttpGet.addHeader(&quot;Range&quot;, startFrom);\r\n    \texpectedStatusCode = HttpStatus.SC_PARTIAL_CONTENT;\r\n    }\r\n\r\nwhere `mHttpGet` is an instance of `HttpGet`, `offset` is the number of bytes you had already downloaded and `expected`  is the size of the file.\r\n\r\nabout the Range field of the HttpGet header:\r\n\r\n    Request only part of an entity. Bytes are numbered from 0.","title":"Initiate download from certain byte","body":"<p>With the HttpClient:</p>\n\n<pre><code>if (offset &gt; 0) {\n    String startFrom = \"bytes= \" + offset + \"-\";\n    if (expected &gt;= 0) {\n        startFrom += expected;\n    }\n    mHttpGet.addHeader(\"Range\", startFrom);\n    expectedStatusCode = HttpStatus.SC_PARTIAL_CONTENT;\n}\n</code></pre>\n\n<p>where <code>mHttpGet</code> is an instance of <code>HttpGet</code>, <code>offset</code> is the number of bytes you had already downloaded and <code>expected</code>  is the size of the file.</p>\n\n<p>about the Range field of the HttpGet header:</p>\n\n<pre><code>Request only part of an entity. Bytes are numbered from 0.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1174233,"reputation":2708,"user_id":1150636,"accept_rate":90,"display_name":"Makis Tsantekidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374843547,"creation_date":1374842356,"answer_id":17881546,"question_id":17881295,"body_markdown":"As Kyle commented on your question, you can check out [this answer][1]\r\n\r\nThe basic principle is that along with your (http) request for the file you add the header\r\n   \r\n\r\n     &quot;Range&quot;, &quot;bytes=&quot;+(file_length_to_start_from) +&quot;-&quot; + (file_length_to_stop)\r\n\r\nor you can omit the file_length_to_stop (in the linked answer example) to get the rest of the file from that point on.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14423108/pause-resume-http-connection-download?lq=1","title":"Initiate download from certain byte","body":"<p>As Kyle commented on your question, you can check out <a href=\"https://stackoverflow.com/questions/14423108/pause-resume-http-connection-download?lq=1\">this answer</a></p>\n\n<p>The basic principle is that along with your (http) request for the file you add the header</p>\n\n<pre><code> \"Range\", \"bytes=\"+(file_length_to_start_from) +\"-\" + (file_length_to_stop)\n</code></pre>\n\n<p>or you can omit the file_length_to_stop (in the linked answer example) to get the rest of the file from that point on.</p>\n"}],"owner":{"account_id":376162,"reputation":43022,"user_id":727429,"accept_rate":90,"display_name":"CQM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17881539,"answer_count":2,"score":2,"last_activity_date":1643689655,"creation_date":1374841621,"question_id":17881295,"body_markdown":"I would like to implement a distributed download manager on android that initiates downloads at certain byte lengths. So this way portions of files can be downloaded instead of only from the beginning to the end of the http request.\r\n\r\nNothing innovative about it, I just don&#39;t know how to do it. (It&#39;s not bitorrent either)\r\n\r\nIn java http apache library, how would I get the length of the file from the server, and then initiate a download from the middle of the file to the end?\r\n\r\n\r\n","title":"Initiate download from certain byte","body":"<p>I would like to implement a distributed download manager on android that initiates downloads at certain byte lengths. So this way portions of files can be downloaded instead of only from the beginning to the end of the http request.</p>\n\n<p>Nothing innovative about it, I just don't know how to do it. (It's not bitorrent either)</p>\n\n<p>In java http apache library, how would I get the length of the file from the server, and then initiate a download from the middle of the file to the end?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1464383778,"post_id":37492244,"comment_id":62481037,"body_markdown":"Both files are 500,000 lines? In that case, it will always be slow. If you have enough memory, read the files into memory. If you have duplicates, eliminate them.","body":"Both files are 500,000 lines? In that case, it will always be slow. If you have enough memory, read the files into memory. If you have duplicates, eliminate them."},{"owner":{"account_id":1236799,"reputation":1452,"user_id":1200235,"accept_rate":76,"display_name":"LeTex"},"score":0,"creation_date":1464384053,"post_id":37492244,"comment_id":62481115,"body_markdown":"can you use java 8? I think, Java 8 Read File + Stream will help.","body":"can you use java 8? I think, Java 8 Read File + Stream will help."},{"owner":{"account_id":4429887,"reputation":8130,"user_id":3607273,"accept_rate":88,"display_name":"S Meaden"},"score":0,"creation_date":1464384269,"post_id":37492244,"comment_id":62481211,"body_markdown":"Isn&#39;t the algorythm code O squared, i.e. speed 500,000^2 and will increase exponentially?  Can&#39;t you index one of the files to begin with?","body":"Isn&#39;t the algorythm code O squared, i.e. speed 500,000^2 and will increase exponentially?  Can&#39;t you index one of the files to begin with?"}],"answers":[{"tags":[],"owner":{"account_id":1611333,"reputation":4067,"user_id":1490144,"accept_rate":68,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464385555,"creation_date":1464385494,"answer_id":37492682,"question_id":37492244,"body_markdown":" 1. You could try to sort the rows in file A, i.e. the file you are searching in. This way, you can perform a binary search in it ([inspiration][1]).\r\n\r\n\r\n 2. As a second step, I would create two threads:\r\n- 1 search thread, that will search in the file A\r\n- 1 reader thread, that will read the file B\r\n\r\nThe B-reader fetches a block of rows in memory (rather than a single row). Then it starts a A-reader thread, which performs a binary search while B-reader keeps going through B to fetch the next block of rows.\r\n\r\n  3. You could end the inner loop after the first match (if you are allowed to).\r\n\r\n\r\n  4. I would attempt to reduce the size of your try blocks, which may prevent some JVM optimizations. Even if performance does not change much, I don&#39;t see the point of including into try blocks any instructions that cannot trigger exceptions ([ref][2]).\r\n\r\n  5. You should instrument your code to understand where it is spending most of the time, so that you can fine tune that part of the code.\r\n\r\n  [1]: https://stackoverflow.com/questions/736556/binary-search-in-a-sorted-memory-mapped-file-in-java\r\n  [2]: https://stackoverflow.com/questions/16451777/is-it-expensive-to-use-try-catch-blocks-even-if-an-exception-is-never-thrown","title":"Using one text file to search through another text file in Java","body":"<ol>\n<li><p>You could try to sort the rows in file A, i.e. the file you are searching in. This way, you can perform a binary search in it (<a href=\"https://stackoverflow.com/questions/736556/binary-search-in-a-sorted-memory-mapped-file-in-java\">inspiration</a>).</p></li>\n<li><p>As a second step, I would create two threads:</p>\n\n<ul>\n<li>1 search thread, that will search in the file A</li>\n<li>1 reader thread, that will read the file B</li>\n</ul></li>\n</ol>\n\n<p>The B-reader fetches a block of rows in memory (rather than a single row). Then it starts a A-reader thread, which performs a binary search while B-reader keeps going through B to fetch the next block of rows.</p>\n\n<ol start=\"3\">\n<li><p>You could end the inner loop after the first match (if you are allowed to).</p></li>\n<li><p>I would attempt to reduce the size of your try blocks, which may prevent some JVM optimizations. Even if performance does not change much, I don't see the point of including into try blocks any instructions that cannot trigger exceptions (<a href=\"https://stackoverflow.com/questions/16451777/is-it-expensive-to-use-try-catch-blocks-even-if-an-exception-is-never-thrown\">ref</a>).</p></li>\n<li><p>You should instrument your code to understand where it is spending most of the time, so that you can fine tune that part of the code.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7455781,"reputation":83,"user_id":5669108,"display_name":"Exfridos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1464387679,"creation_date":1464386037,"answer_id":37492791,"question_id":37492244,"body_markdown":"Your current solution is lineary iterating through *file1*, and for each line lineary iterating through *file2*. This effectively results in a running time of `O(F1*F2)`: The time it takes to run will scale ***quadratically*** by the numer of lines (F1 and F2) in your files. Plus *file2* is put into memory each time it&#39;s checked for a match, which is *very* expensive.\r\n\r\nA better solution would be to read *file2* into memory (Eg. an *ArrayList*) and sort it:\r\n\r\n    Collections.sort(file2);\r\nThen *file1* could be iterated as you currently do, and for each line use *Binary Search* to check if that String exists in *file2*:\r\n\r\n    for (String s1 : file1) int index = Collections.binarySearch(file2, s1);\r\nIndex would be non-negative if s1 is in *file2*.\r\n\r\nThis solution takes *linearithmic* time instead of *quadratic* and thus scales *much* better on larger inputs.\r\n\r\nIf you would like to improve the time it takes to sort, consider [MSD Sort](http://algs4.cs.princeton.edu/51radix/MSD.java.html) instead of `Collections.sort`. Only a minor improvement, but hey, it counts.","title":"Using one text file to search through another text file in Java","body":"<p>Your current solution is lineary iterating through <em>file1</em>, and for each line lineary iterating through <em>file2</em>. This effectively results in a running time of <code>O(F1*F2)</code>: The time it takes to run will scale <strong><em>quadratically</em></strong> by the numer of lines (F1 and F2) in your files. Plus <em>file2</em> is put into memory each time it's checked for a match, which is <em>very</em> expensive.</p>\n\n<p>A better solution would be to read <em>file2</em> into memory (Eg. an <em>ArrayList</em>) and sort it:</p>\n\n<pre><code>Collections.sort(file2);\n</code></pre>\n\n<p>Then <em>file1</em> could be iterated as you currently do, and for each line use <em>Binary Search</em> to check if that String exists in <em>file2</em>:</p>\n\n<pre><code>for (String s1 : file1) int index = Collections.binarySearch(file2, s1);\n</code></pre>\n\n<p>Index would be non-negative if s1 is in <em>file2</em>.</p>\n\n<p>This solution takes <em>linearithmic</em> time instead of <em>quadratic</em> and thus scales <em>much</em> better on larger inputs.</p>\n\n<p>If you would like to improve the time it takes to sort, consider <a href=\"http://algs4.cs.princeton.edu/51radix/MSD.java.html\" rel=\"nofollow\">MSD Sort</a> instead of <code>Collections.sort</code>. Only a minor improvement, but hey, it counts.</p>\n"},{"tags":[],"owner":{"account_id":111515,"reputation":6240,"user_id":294552,"accept_rate":78,"display_name":"sandeepkunkunuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643688871,"creation_date":1643571257,"answer_id":70918198,"question_id":37492244,"body_markdown":"In a conversation on a very similar problem with [Madhulatha][1]. She suggested an approach that turned out to be optimal. Below is the approach with an example\r\n\r\n- Sort file A and file B\r\n- co-parse file A and file B and find matches\r\n\r\n[Here&#39;s][2] the implementation of above for the problem we were discussing : Search contents of a file/table-in-db, which will grow rapidly over time, against a very large 1.7B row file which will also grow but slowly over time.\r\n\r\nMore [notes][3], if you are interested.\r\n\r\n\r\n  [1]: https://www.linkedin.com/in/mandarapu-madhulatha-72bb6b2a/\r\n  [2]: https://github.com/VaidhyaMegha/vaidhyamegha-knowledge-graphs/blob/v0.5.1/src/main/java/com/vaidhyamegha/data_cloud/kg/App.java#L108\r\n  [3]: https://blog.vaidhyamegha.com/?p=491","title":"Using one text file to search through another text file in Java","body":"<p>In a conversation on a very similar problem with <a href=\"https://www.linkedin.com/in/mandarapu-madhulatha-72bb6b2a/\" rel=\"nofollow noreferrer\">Madhulatha</a>. She suggested an approach that turned out to be optimal. Below is the approach with an example</p>\n<ul>\n<li>Sort file A and file B</li>\n<li>co-parse file A and file B and find matches</li>\n</ul>\n<p><a href=\"https://github.com/VaidhyaMegha/vaidhyamegha-knowledge-graphs/blob/v0.5.1/src/main/java/com/vaidhyamegha/data_cloud/kg/App.java#L108\" rel=\"nofollow noreferrer\">Here's</a> the implementation of above for the problem we were discussing : Search contents of a file/table-in-db, which will grow rapidly over time, against a very large 1.7B row file which will also grow but slowly over time.</p>\n<p>More <a href=\"https://blog.vaidhyamegha.com/?p=491\" rel=\"nofollow noreferrer\">notes</a>, if you are interested.</p>\n"}],"owner":{"account_id":2090065,"reputation":183,"user_id":1860108,"accept_rate":86,"display_name":"Kevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37492791,"answer_count":3,"score":2,"last_activity_date":1643688871,"creation_date":1464383116,"question_id":37492244,"body_markdown":"I&#39;m trying to search through a file (File B) for matching strings from another file (File A). If the string is found in File A, then print the entire line(s) from File B and also update its progress to its corresponding JProgressBar(s) as the lines are being read.\r\n\r\nThe code below is working fine as expected, but the issue is performance. When dealing with large files, it takes about 15 minutes to scan just 5 thousand lines. \r\n\r\nI&#39;m really looking for a way to process large files for example 500K lines.\r\n\r\nPlease suggest if this can be enhanced to handle large files or which part of my code is causing the slowness.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.TextField;\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.JFileChooser;\r\n    import javax.swing.JProgressBar;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JButton;\r\n\r\n    import java.awt.Font;\r\n\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JScrollPane;\r\n\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.LineNumberReader;\r\n    import java.time.LocalDateTime;\r\n\r\n\r\n    public class Test_MultiJProgressBars_MultiFileReads extends JFrame {\r\n\r\n     private JPanel contentPane;\r\n     private JTextField textField_File1;\r\n     private JTextField textField_File2;\r\n     private JProgressBar progressBar_F1;\r\n     private JProgressBar progressBar_F2;\r\n     private JTextArea textArea_File1;\r\n\r\n     /**\r\n      * Launch the application.\r\n      */\r\n     public static void main(String[] args) {\r\n    \t\t EventQueue.invokeLater(new Runnable() {\r\n    \t\t\t\t public void run() {\r\n    \t\t\t\t try {\r\n    \t\t\t\t\t  Test_MultiJProgressBars_MultiFileReads frame = new Test_MultiJProgressBars_MultiFileReads();\r\n    \t\t\t\t\t  frame.setVisible(true);\r\n    \t\t\t\t\t  } catch (Exception e) {\r\n    \t\t\t\t\t  e.printStackTrace();\r\n    \t\t\t\t\t  }\r\n    \t\t\t\t }\r\n    \t\t });\r\n     }\r\n\r\n     /**\r\n      * Create the frame.\r\n      */\r\n     \r\n\r\n     public void FileLineCount (JTextField TexFieldName, JProgressBar ProgressBarName) throws IOException {\r\n    \t\t File FileX = new File (TexFieldName.getText());\r\n    \t\t FileReader Fr = new FileReader(FileX);\r\n    \t\t LineNumberReader Lnr = new LineNumberReader(Fr);\r\n\r\n    \t\t int lineNumber =0 ;\r\n    \t\t while (Lnr.readLine() !=null) {\r\n    \t\t\t\t lineNumber++;\r\n    \t\t }\r\n    \t\t // Setting Maximum Value on ProgressBar\r\n    \t\t ProgressBarName.setMaximum(lineNumber);\r\n    \t\t System.out.println(&quot;Total line in file : &quot;+lineNumber);\r\n    \t\t Lnr.close();\r\n     }\r\n\r\n\r\n     public void ScanFileForMatches() {\r\n    \t\t File My_Refernce_File = new File (textField_File1.getText());\r\n    \t\t File My_Source_File = new File (textField_File2.getText());\r\n\r\n    \t\t int F1_JP_v = 0;\r\n    \t\t int F2_JP_v = 0;\r\n\r\n    \t\t try {\r\n    \t\t\t\t BufferedReader F1_br = new  BufferedReader(new FileReader(My_Refernce_File));\r\n\r\n    \t\t\t\t String F1_br_Line;\r\n    \t\t\t\t String F2_br_Line = null;\r\n\r\n    \t\t\t\t while ((F1_br_Line = F1_br.readLine()) !=null) {\r\n    \t\t\t\t\t\t //System.out.println(&quot;File 1 : &quot;+F1_br_Line+&quot;\\n&quot;);\r\n    \t\t\t\t\t\t F1_JP_v++;\r\n    \t\t\t\t\t\t progressBar_F1.setValue(F1_JP_v);\r\n\r\n\r\n    \t\t\t\t\t\t  try {\r\n    \t\t\t\t\t\t\t   BufferedReader F2_br = new BufferedReader(new FileReader(My_Source_File));\r\n    \t\t\t\t\t\t\t   while ((F2_br_Line = F2_br.readLine()) !=null) {\r\n    \t\t\t\t\t\t\t\tF2_JP_v++;\r\n    \t\t\t\t\t\t\t\tprogressBar_F2.setValue(F2_JP_v);\r\n\r\n    \t\t\t\t\t\t\t\tif (F1_br_Line.contains(F2_br_Line)) {\r\n    \t\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;MATCHED --- File 1:&quot;+F1_br_Line+&quot; File 2:&quot;+F2_br_Line+&quot;\\n&quot;);\r\n    \t\t\t\t\t\t\t\t\t\ttextArea_File1.append(LocalDateTime.now()+&quot; : SYSOUT : MATCHED --- File 1:= &quot;+F1_br_Line&quot;\\n&quot;);\r\n\r\n    \t\t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;NOMATCH --- File 1:&quot;+F1_br_Line+&quot; File 2:&quot;+F2_br_Line+&quot;\\n&quot;);\r\n\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t// Reset Progressbar after each Loop.\r\n    \t\t\t\t\t\t\t\tprogressBar_F2.setValue(0);\r\n    \t\t\t\t\t\t\t\t }\r\n    \t\t\t\t\t\t\t\t // Set Progressbar to last value in the loop.\r\n    \t\t\t\t\t\t\t\t progressBar_F2.setValue(F2_JP_v);\r\n    \t\t\t\t\t\t\t\t F2_br.close();\r\n    \t\t\t\t\t\t\t\t } catch (Exception e) {\r\n    \t\t\t\t\t\t\t\t\t\t // TODO: handle exception\r\n    \t\t\t\t\t\t\t }\r\n    \t\t\t\t }\r\n    \t\t\t\t F1_br.close();\r\n    \t\t } catch (Exception e) {\r\n    \t\t\t\t // TODO: handle exception\r\n    \t\t }\r\n     }\r\n\r\n\r\n     public Test_MultiJProgressBars_MultiFileReads() {\r\n    \t\t setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t setBounds(100, 100, 799, 568);\r\n    \t\t contentPane = new JPanel();\r\n    \t\t contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n    \t\t setContentPane(contentPane);\r\n    \t\t contentPane.setLayout(null);\r\n\r\n    \t\t progressBar_F1 = new JProgressBar();\r\n    \t\t progressBar_F1.setStringPainted(true);\r\n    \t\t progressBar_F1.setBounds(10, 96, 763, 50);\r\n    \t\t contentPane.add(progressBar_F1);\r\n\r\n    \t\t progressBar_F2 = new JProgressBar();\r\n    \t\t progressBar_F2.setStringPainted(true);\r\n    \t\t progressBar_F2.setBounds(10, 169, 763, 50);\r\n    \t\t contentPane.add(progressBar_F2);\r\n\r\n    \t\t JScrollPane scrollPane = new JScrollPane();\r\n    \t\t scrollPane.setBounds(10, 264, 763, 109);\r\n    \t\t contentPane.add(scrollPane);\r\n\r\n    \t\t textArea_File1 = new JTextArea();\r\n    \t\t scrollPane.setViewportView(textArea_File1);\r\n\r\n    \t\t JScrollPane scrollPane_1 = new JScrollPane();\r\n    \t\t scrollPane_1.setBounds(10, 409, 763, 110);\r\n    \t\t contentPane.add(scrollPane_1);\r\n\r\n    \t\t JTextArea textArea_FIle2 = new JTextArea();\r\n    \t\t scrollPane_1.setViewportView(textArea_FIle2);\r\n\r\n    \t\t JButton btnStart = new JButton(&quot;SCAN&quot;);\r\n    \t\t btnStart.addActionListener(new ActionListener() {\r\n    \t\t\t\t public void actionPerformed(ActionEvent arg0) {\r\n\r\n\r\n    \t\t\t\t\t\t // Call FileLineCount Method and setMaximum value on respective JPorgress Bars.\r\n    \t\t\t\t\t\t try {\r\n    \t\t\t\t\t\t\t\t FileLineCount(textField_File1,progressBar_F1);\r\n    \t\t\t\t\t\t\t\t FileLineCount(textField_File2,progressBar_F2);\r\n    \t\t\t\t\t\t } catch (IOException e) {\r\n    \t\t\t\t\t\t\t\t // TODO Auto-generated catch block\r\n    \t\t\t\t\t\t\t\t e.printStackTrace();\r\n    \t\t\t\t\t\t }\r\n    \t\t\t\t\t\t // Call ScanFileForMatches to Scan files and Update JProgress Bars.\r\n\r\n    \t\t\t\t\t\t Thread t1 = new Thread (new Runnable() {\r\n\r\n    \t\t\t\t\t\t\t\t @Override\r\n    \t\t\t\t\t\t\t\t public void run() {\r\n    \t\t\t\t\t\t\t\t\t\t // TODO Auto-generated method stub\r\n    \t\t\t\t\t\t\t\t\t\t //ScanFileForMatches();\r\n    \t\t\t\t\t\t\t\t\t\t ScanFileForMatches_TEST();\r\n    \t\t\t\t\t\t\t\t }\r\n    \t\t\t\t\t\t });\r\n    \t\t\t\t\t\t t1.start();\r\n\r\n    \t\t\t\t }\r\n    \t\t });\r\n    \t\t btnStart.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\r\n    \t\t btnStart.setBounds(684, 10, 89, 57);\r\n    \t\t contentPane.add(btnStart);\r\n\r\n    \t\t textField_File1 = new JTextField();\r\n    \t\t textField_File1.setBounds(10, 10, 486, 23);\r\n    \t\t contentPane.add(textField_File1);\r\n    \t\t textField_File1.setColumns(10);\r\n\r\n    \t\t textField_File2 = new JTextField();\r\n    \t\t textField_File2.setBounds(10, 44, 486, 23);\r\n    \t\t contentPane.add(textField_File2);\r\n    \t\t textField_File2.setColumns(10);\r\n\r\n    \t\t JButton btnFile_File1 = new JButton(&quot;File 1&quot;);\r\n    \t\t btnFile_File1.addActionListener(new ActionListener() {\r\n    \t\t\t\t public void actionPerformed(ActionEvent arg0) {\r\n    \t\t\t\t\t\t JFileChooser JFC_File1 = new JFileChooser();\r\n    \t\t\t\t\t\t JFC_File1.showOpenDialog(null);\r\n    \t\t\t\t\t\t File JFC_File1_Name = JFC_File1.getSelectedFile();\r\n    \t\t\t\t\t\t textField_File1.setText(JFC_File1_Name.getAbsolutePath());\r\n    \t\t\t\t }\r\n    \t\t });\r\n    \t\t btnFile_File1.setBounds(506, 10, 89, 23);\r\n    \t\t contentPane.add(btnFile_File1);\r\n\r\n\r\n    \t\t JButton btnFile_File2 = new JButton(&quot;File 2&quot;);\r\n    \t\t btnFile_File2.addActionListener(new ActionListener() {\r\n    \t\t\t\t public void actionPerformed(ActionEvent arg0) {\r\n    \t\t\t\t\t\t JFileChooser JFC_File2 = new JFileChooser();\r\n    \t\t\t\t\t\t JFC_File2.showOpenDialog(null);\r\n    \t\t\t\t\t\t File JFC_File2_Name = JFC_File2.getSelectedFile();\r\n    \t\t\t\t\t\t textField_File2.setText(JFC_File2_Name.getAbsolutePath());\r\n    \t\t\t\t }\r\n    \t\t });\r\n    \t\t btnFile_File2.setBounds(506, 44, 89, 23);\r\n    \t\t contentPane.add(btnFile_File2);\r\n\r\n\r\n    \t\t JLabel lblFile = new JLabel(&quot;File 1 Progress&quot;);\r\n    \t\t lblFile.setBounds(20, 78, 137, 14);\r\n    \t\t contentPane.add(lblFile);\r\n\r\n    \t\t JLabel lblFile_1 = new JLabel(&quot;File 2 Progress&quot;);\r\n    \t\t lblFile_1.setBounds(20, 150, 137, 14);\r\n    \t\t contentPane.add(lblFile_1);\r\n\r\n    \t\t JLabel lblFileLog = new JLabel(&quot;File 2 Log&quot;);\r\n    \t\t lblFileLog.setBounds(20, 384, 147, 14);\r\n    \t\t contentPane.add(lblFileLog);\r\n\r\n    \t\t JLabel lblFileLog_1 = new JLabel(&quot;File 1 Log&quot;);\r\n    \t\t lblFileLog_1.setBounds(20, 239, 147, 14);\r\n    \t\t contentPane.add(lblFileLog_1);\r\n     }\r\n    }\r\n","title":"Using one text file to search through another text file in Java","body":"<p>I'm trying to search through a file (File B) for matching strings from another file (File A). If the string is found in File A, then print the entire line(s) from File B and also update its progress to its corresponding JProgressBar(s) as the lines are being read.</p>\n\n<p>The code below is working fine as expected, but the issue is performance. When dealing with large files, it takes about 15 minutes to scan just 5 thousand lines. </p>\n\n<p>I'm really looking for a way to process large files for example 500K lines.</p>\n\n<p>Please suggest if this can be enhanced to handle large files or which part of my code is causing the slowness.</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.TextField;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.JFileChooser;\nimport javax.swing.JProgressBar;\nimport javax.swing.JTextArea;\nimport javax.swing.JButton;\n\nimport java.awt.Font;\n\nimport javax.swing.JTextField;\nimport javax.swing.JLabel;\nimport javax.swing.JScrollPane;\n\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.LineNumberReader;\nimport java.time.LocalDateTime;\n\n\npublic class Test_MultiJProgressBars_MultiFileReads extends JFrame {\n\n private JPanel contentPane;\n private JTextField textField_File1;\n private JTextField textField_File2;\n private JProgressBar progressBar_F1;\n private JProgressBar progressBar_F2;\n private JTextArea textArea_File1;\n\n /**\n  * Launch the application.\n  */\n public static void main(String[] args) {\n         EventQueue.invokeLater(new Runnable() {\n                 public void run() {\n                 try {\n                      Test_MultiJProgressBars_MultiFileReads frame = new Test_MultiJProgressBars_MultiFileReads();\n                      frame.setVisible(true);\n                      } catch (Exception e) {\n                      e.printStackTrace();\n                      }\n                 }\n         });\n }\n\n /**\n  * Create the frame.\n  */\n\n\n public void FileLineCount (JTextField TexFieldName, JProgressBar ProgressBarName) throws IOException {\n         File FileX = new File (TexFieldName.getText());\n         FileReader Fr = new FileReader(FileX);\n         LineNumberReader Lnr = new LineNumberReader(Fr);\n\n         int lineNumber =0 ;\n         while (Lnr.readLine() !=null) {\n                 lineNumber++;\n         }\n         // Setting Maximum Value on ProgressBar\n         ProgressBarName.setMaximum(lineNumber);\n         System.out.println(\"Total line in file : \"+lineNumber);\n         Lnr.close();\n }\n\n\n public void ScanFileForMatches() {\n         File My_Refernce_File = new File (textField_File1.getText());\n         File My_Source_File = new File (textField_File2.getText());\n\n         int F1_JP_v = 0;\n         int F2_JP_v = 0;\n\n         try {\n                 BufferedReader F1_br = new  BufferedReader(new FileReader(My_Refernce_File));\n\n                 String F1_br_Line;\n                 String F2_br_Line = null;\n\n                 while ((F1_br_Line = F1_br.readLine()) !=null) {\n                         //System.out.println(\"File 1 : \"+F1_br_Line+\"\\n\");\n                         F1_JP_v++;\n                         progressBar_F1.setValue(F1_JP_v);\n\n\n                          try {\n                               BufferedReader F2_br = new BufferedReader(new FileReader(My_Source_File));\n                               while ((F2_br_Line = F2_br.readLine()) !=null) {\n                                F2_JP_v++;\n                                progressBar_F2.setValue(F2_JP_v);\n\n                                if (F1_br_Line.contains(F2_br_Line)) {\n                                        System.out.println(\"MATCHED --- File 1:\"+F1_br_Line+\" File 2:\"+F2_br_Line+\"\\n\");\n                                        textArea_File1.append(LocalDateTime.now()+\" : SYSOUT : MATCHED --- File 1:= \"+F1_br_Line\"\\n\");\n\n                                } else {\n                                        System.out.println(\"NOMATCH --- File 1:\"+F1_br_Line+\" File 2:\"+F2_br_Line+\"\\n\");\n\n                                }\n                                // Reset Progressbar after each Loop.\n                                progressBar_F2.setValue(0);\n                                 }\n                                 // Set Progressbar to last value in the loop.\n                                 progressBar_F2.setValue(F2_JP_v);\n                                 F2_br.close();\n                                 } catch (Exception e) {\n                                         // TODO: handle exception\n                             }\n                 }\n                 F1_br.close();\n         } catch (Exception e) {\n                 // TODO: handle exception\n         }\n }\n\n\n public Test_MultiJProgressBars_MultiFileReads() {\n         setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         setBounds(100, 100, 799, 568);\n         contentPane = new JPanel();\n         contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n         setContentPane(contentPane);\n         contentPane.setLayout(null);\n\n         progressBar_F1 = new JProgressBar();\n         progressBar_F1.setStringPainted(true);\n         progressBar_F1.setBounds(10, 96, 763, 50);\n         contentPane.add(progressBar_F1);\n\n         progressBar_F2 = new JProgressBar();\n         progressBar_F2.setStringPainted(true);\n         progressBar_F2.setBounds(10, 169, 763, 50);\n         contentPane.add(progressBar_F2);\n\n         JScrollPane scrollPane = new JScrollPane();\n         scrollPane.setBounds(10, 264, 763, 109);\n         contentPane.add(scrollPane);\n\n         textArea_File1 = new JTextArea();\n         scrollPane.setViewportView(textArea_File1);\n\n         JScrollPane scrollPane_1 = new JScrollPane();\n         scrollPane_1.setBounds(10, 409, 763, 110);\n         contentPane.add(scrollPane_1);\n\n         JTextArea textArea_FIle2 = new JTextArea();\n         scrollPane_1.setViewportView(textArea_FIle2);\n\n         JButton btnStart = new JButton(\"SCAN\");\n         btnStart.addActionListener(new ActionListener() {\n                 public void actionPerformed(ActionEvent arg0) {\n\n\n                         // Call FileLineCount Method and setMaximum value on respective JPorgress Bars.\n                         try {\n                                 FileLineCount(textField_File1,progressBar_F1);\n                                 FileLineCount(textField_File2,progressBar_F2);\n                         } catch (IOException e) {\n                                 // TODO Auto-generated catch block\n                                 e.printStackTrace();\n                         }\n                         // Call ScanFileForMatches to Scan files and Update JProgress Bars.\n\n                         Thread t1 = new Thread (new Runnable() {\n\n                                 @Override\n                                 public void run() {\n                                         // TODO Auto-generated method stub\n                                         //ScanFileForMatches();\n                                         ScanFileForMatches_TEST();\n                                 }\n                         });\n                         t1.start();\n\n                 }\n         });\n         btnStart.setFont(new Font(\"Tahoma\", Font.BOLD, 11));\n         btnStart.setBounds(684, 10, 89, 57);\n         contentPane.add(btnStart);\n\n         textField_File1 = new JTextField();\n         textField_File1.setBounds(10, 10, 486, 23);\n         contentPane.add(textField_File1);\n         textField_File1.setColumns(10);\n\n         textField_File2 = new JTextField();\n         textField_File2.setBounds(10, 44, 486, 23);\n         contentPane.add(textField_File2);\n         textField_File2.setColumns(10);\n\n         JButton btnFile_File1 = new JButton(\"File 1\");\n         btnFile_File1.addActionListener(new ActionListener() {\n                 public void actionPerformed(ActionEvent arg0) {\n                         JFileChooser JFC_File1 = new JFileChooser();\n                         JFC_File1.showOpenDialog(null);\n                         File JFC_File1_Name = JFC_File1.getSelectedFile();\n                         textField_File1.setText(JFC_File1_Name.getAbsolutePath());\n                 }\n         });\n         btnFile_File1.setBounds(506, 10, 89, 23);\n         contentPane.add(btnFile_File1);\n\n\n         JButton btnFile_File2 = new JButton(\"File 2\");\n         btnFile_File2.addActionListener(new ActionListener() {\n                 public void actionPerformed(ActionEvent arg0) {\n                         JFileChooser JFC_File2 = new JFileChooser();\n                         JFC_File2.showOpenDialog(null);\n                         File JFC_File2_Name = JFC_File2.getSelectedFile();\n                         textField_File2.setText(JFC_File2_Name.getAbsolutePath());\n                 }\n         });\n         btnFile_File2.setBounds(506, 44, 89, 23);\n         contentPane.add(btnFile_File2);\n\n\n         JLabel lblFile = new JLabel(\"File 1 Progress\");\n         lblFile.setBounds(20, 78, 137, 14);\n         contentPane.add(lblFile);\n\n         JLabel lblFile_1 = new JLabel(\"File 2 Progress\");\n         lblFile_1.setBounds(20, 150, 137, 14);\n         contentPane.add(lblFile_1);\n\n         JLabel lblFileLog = new JLabel(\"File 2 Log\");\n         lblFileLog.setBounds(20, 384, 147, 14);\n         contentPane.add(lblFileLog);\n\n         JLabel lblFileLog_1 = new JLabel(\"File 1 Log\");\n         lblFileLog_1.setBounds(20, 239, 147, 14);\n         contentPane.add(lblFileLog_1);\n }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":3,"creation_date":1643688416,"post_id":70935413,"comment_id":125400754,"body_markdown":"Look into [try-catch](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html) and [FileNotFoundException](https://docs.oracle.com/javase/7/docs/api/java/io/FileNotFoundException.html)","body":"Look into <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">try-catch</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileNotFoundException.html\" rel=\"nofollow noreferrer\">FileNotFoundException</a>"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1643688641,"post_id":70935413,"comment_id":125400784,"body_markdown":"You may wish to explore a more user friendly approach and re-prompt the user for a different file name in case the original isn&#39;t found. Throwing the user out on his ear for making a mistake might be a fantasy common among programmers, but it doesn&#39;t make for good user experience.","body":"You may wish to explore a more user friendly approach and re-prompt the user for a different file name in case the original isn&#39;t found. Throwing the user out on his ear for making a mistake might be a fantasy common among programmers, but it doesn&#39;t make for good user experience."}],"answers":[{"tags":[],"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643688649,"creation_date":1643688502,"answer_id":70935461,"question_id":70935413,"body_markdown":"You can put File in try catch block like this and show a relevant message:\r\n\r\n    try{\r\n        File file = new File(filename + &quot;.txt&quot;);\r\n    }\r\n    catch(FileNotFoundException e)\r\n    {\r\n        System.out.print(&quot;exception occur exception message= &quot; +e.getMessage());\r\n    }","title":"How to close program if text document is not found","body":"<p>You can put File in try catch block like this and show a relevant message:</p>\n<pre><code>try{\n    File file = new File(filename + &quot;.txt&quot;);\n}\ncatch(FileNotFoundException e)\n{\n    System.out.print(&quot;exception occur exception message= &quot; +e.getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":23969712,"reputation":25,"user_id":17958593,"display_name":"Cap Stone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70935461,"answer_count":1,"score":0,"last_activity_date":1643688649,"creation_date":1643687838,"question_id":70935413,"body_markdown":"This is the top of my program. You are to type in a .txt file name for it to open.\r\n\r\nProblem: How do I have the program display an error message and close the program if .txt file is not found?\r\n\r\n    import java.util.Scanner;\r\n    import java.io.*;\r\n    \r\n    public class ReadFile {\r\n        public static void main(String[] args) throws IOException {\r\n            //Create a Scanner object for keyboard input.\r\n            Scanner keyboard = new Scanner(System.in);\r\n            // Get the filename.\r\n            System.out.print(&quot;Enter student name: &quot;);\r\n            String filename = keyboard.nextLine();\r\n            // Open the file.\r\n            //Runtime error is the file isn&#39;t found\r\n            File file = new File(filename + &quot;.txt&quot;);\r\n            Scanner inputFile = new Scanner(file);","title":"How to close program if text document is not found","body":"<p>This is the top of my program. You are to type in a .txt file name for it to open.</p>\n<p>Problem: How do I have the program display an error message and close the program if .txt file is not found?</p>\n<pre><code>import java.util.Scanner;\nimport java.io.*;\n\npublic class ReadFile {\n    public static void main(String[] args) throws IOException {\n        //Create a Scanner object for keyboard input.\n        Scanner keyboard = new Scanner(System.in);\n        // Get the filename.\n        System.out.print(&quot;Enter student name: &quot;);\n        String filename = keyboard.nextLine();\n        // Open the file.\n        //Runtime error is the file isn't found\n        File file = new File(filename + &quot;.txt&quot;);\n        Scanner inputFile = new Scanner(file);\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643687582,"creation_date":1643687582,"answer_id":70935392,"question_id":70934998,"body_markdown":"Try `MaterialButton` instead of `Button`\r\n\r\nAdd following attribute in `MaterialButton`\r\n\r\n    android:insetTop=&quot;0dp&quot; // For default extra space from top\r\n    android:insetBottom=&quot;0dp&quot; // For default extra space from bottom\r\n    android:insetLeft=&quot;0dp&quot; // For default extra space from left\r\n    android:insetRight=&quot;0dp&quot; // For default extra space from right\r\n    app:cornerRadius=&quot;0dp&quot; // For corner radius\r\n\r\n\r\nFull `MaterialButton` code:\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n                android:id=&quot;@+id/answerBtn1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;0dp&quot;\r\n                android:backgroundTint=&quot;#9C27B0&quot;\r\n                android:onClick=&quot;chooseAnswer&quot;\r\n                android:tag=&quot;0&quot;\r\n                android:text=&quot;120&quot;\r\n                android:textSize=&quot;50dp&quot;\r\n                app:layout_column=&quot;0&quot;\r\n                app:layout_columnWeight=&quot;1&quot;\r\n                app:layout_gravity=&quot;fill&quot;\r\n                app:layout_row=&quot;0&quot;\r\n                app:layout_rowWeight=&quot;1&quot;\r\n                android:insetTop=&quot;0dp&quot;\r\n                android:insetBottom=&quot;0dp&quot;\r\n                android:insetLeft=&quot;0dp&quot;\r\n                android:insetRight=&quot;0dp&quot;\r\n                app:cornerRadius=&quot;0dp&quot;/&gt;","title":"Remove extra space on button and remove rounded corner in Android Studio","body":"<p>Try <code>MaterialButton</code> instead of <code>Button</code></p>\n<p>Add following attribute in <code>MaterialButton</code></p>\n<pre><code>android:insetTop=&quot;0dp&quot; // For default extra space from top\nandroid:insetBottom=&quot;0dp&quot; // For default extra space from bottom\nandroid:insetLeft=&quot;0dp&quot; // For default extra space from left\nandroid:insetRight=&quot;0dp&quot; // For default extra space from right\napp:cornerRadius=&quot;0dp&quot; // For corner radius\n</code></pre>\n<p>Full <code>MaterialButton</code> code:</p>\n<pre><code>&lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/answerBtn1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;0dp&quot;\n            android:backgroundTint=&quot;#9C27B0&quot;\n            android:onClick=&quot;chooseAnswer&quot;\n            android:tag=&quot;0&quot;\n            android:text=&quot;120&quot;\n            android:textSize=&quot;50dp&quot;\n            app:layout_column=&quot;0&quot;\n            app:layout_columnWeight=&quot;1&quot;\n            app:layout_gravity=&quot;fill&quot;\n            app:layout_row=&quot;0&quot;\n            app:layout_rowWeight=&quot;1&quot;\n            android:insetTop=&quot;0dp&quot;\n            android:insetBottom=&quot;0dp&quot;\n            android:insetLeft=&quot;0dp&quot;\n            android:insetRight=&quot;0dp&quot;\n            app:cornerRadius=&quot;0dp&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":23194817,"reputation":25,"user_id":17290618,"display_name":"Dede Kurniawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70935392,"answer_count":1,"score":0,"last_activity_date":1643687582,"creation_date":1643682524,"question_id":70934998,"body_markdown":"I&#39;m trying to make 4 buttons in a grid layout, but I don&#39;t know how to remove the extra space on top and bottom on each button. I also don&#39;t know how to remove the rounded corner. I tried to use cornerRadius but it does nothing.\r\n\r\nHere&#39;s the screenshot of the layout.As you can see, there&#39;s a gap in the middle of top and bottom buttons. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zzuEz.png\r\n\r\nHere&#39;s the xml code:\r\n\r\n    &lt;androidx.gridlayout.widget.GridLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;100dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;256dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/answerBtn1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;0dp&quot;\r\n                android:backgroundTint=&quot;#9C27B0&quot;\r\n                android:onClick=&quot;chooseAnswer&quot;\r\n                android:tag=&quot;0&quot;\r\n                android:text=&quot;120&quot;\r\n                android:textSize=&quot;50dp&quot;\r\n                app:layout_column=&quot;0&quot;\r\n                app:layout_columnWeight=&quot;1&quot;\r\n                app:layout_gravity=&quot;fill&quot;\r\n                app:layout_row=&quot;0&quot;\r\n                app:layout_rowWeight=&quot;1&quot; /&gt;","title":"Remove extra space on button and remove rounded corner in Android Studio","body":"<p>I'm trying to make 4 buttons in a grid layout, but I don't know how to remove the extra space on top and bottom on each button. I also don't know how to remove the rounded corner. I tried to use cornerRadius but it does nothing.</p>\n<p>Here's the screenshot of the layout.As you can see, there's a gap in the middle of top and bottom buttons.</p>\n<p><a href=\"https://i.stack.imgur.com/zzuEz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zzuEz.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the xml code:</p>\n<pre><code>&lt;androidx.gridlayout.widget.GridLayout\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;100dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;256dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/answerBtn1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;0dp&quot;\n            android:backgroundTint=&quot;#9C27B0&quot;\n            android:onClick=&quot;chooseAnswer&quot;\n            android:tag=&quot;0&quot;\n            android:text=&quot;120&quot;\n            android:textSize=&quot;50dp&quot;\n            app:layout_column=&quot;0&quot;\n            app:layout_columnWeight=&quot;1&quot;\n            app:layout_gravity=&quot;fill&quot;\n            app:layout_row=&quot;0&quot;\n            app:layout_rowWeight=&quot;1&quot; /&gt;\n</code></pre>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643686407,"creation_date":1643684652,"answer_id":70935164,"question_id":70935026,"body_markdown":"That **Manager** class have to implement **Application.ActivityLifecycleCallbacks** like this:\r\n\r\n    package com.A.B.C; \r\n    public class Manager implements Application.ActivityLifecycleCallbacks{\r\n        ...\r\n    }  \r\n\r\nAlso, I guess you missed the **new** while calling *registerActivityLifecycleCallbacks()* :\r\n\r\n    registerActivityLifecycleCallbacks(new Manager());","title":"Gradle (Java) cannot find symbol for class in subdirectory of package","body":"<p>That <strong>Manager</strong> class have to implement <strong>Application.ActivityLifecycleCallbacks</strong> like this:</p>\n<pre><code>package com.A.B.C; \npublic class Manager implements Application.ActivityLifecycleCallbacks{\n    ...\n}  \n</code></pre>\n<p>Also, I guess you missed the <strong>new</strong> while calling <em>registerActivityLifecycleCallbacks()</em> :</p>\n<pre><code>registerActivityLifecycleCallbacks(new Manager());\n</code></pre>\n"}],"owner":{"account_id":4931879,"reputation":677,"user_id":3971390,"accept_rate":0,"display_name":"eppineda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70935164,"answer_count":1,"score":0,"last_activity_date":1643686407,"creation_date":1643682897,"question_id":70935026,"body_markdown":"It&#39;s been some years since I have programmed Java and I am having trouble with resolving a build issue with not finding a symbol for a class in the same package directory structure.\r\n\r\n```\r\npackage com.A.B.C; \r\npublic class Manager {\r\n...\r\n}\r\n```\r\nThe following class is attempting to reference `Manager`. Note the package declarations for both classes.\r\n\r\n```\r\npackage com.A.B;\r\nimport com.A.B.C.Manager; // I have also tried omitting this import statement; same result \r\npublic class MyApp extends Application {                                                               \r\n...\r\n  @Override                                                                                            \r\n  public void onCreate() {\r\n...\r\n    registerActivityLifecycleCallbacks(Manager); // cannot find symbol SessionManager\r\n  }\r\n...\r\n}\r\n\r\n```\r\n\r\nI am importing `com.A.B.C.Manager` in other source files and able to reference `Manager` there but, for this source file, Gradle cannot resolve the symbol.\r\n\r\nWhat am I missing? (This is an Android project by the way, in case that is relevant.)\r\n\r\nIn advance, thank you.","title":"Gradle (Java) cannot find symbol for class in subdirectory of package","body":"<p>It's been some years since I have programmed Java and I am having trouble with resolving a build issue with not finding a symbol for a class in the same package directory structure.</p>\n<pre><code>package com.A.B.C; \npublic class Manager {\n...\n}\n</code></pre>\n<p>The following class is attempting to reference <code>Manager</code>. Note the package declarations for both classes.</p>\n<pre><code>package com.A.B;\nimport com.A.B.C.Manager; // I have also tried omitting this import statement; same result \npublic class MyApp extends Application {                                                               \n...\n  @Override                                                                                            \n  public void onCreate() {\n...\n    registerActivityLifecycleCallbacks(Manager); // cannot find symbol SessionManager\n  }\n...\n}\n\n</code></pre>\n<p>I am importing <code>com.A.B.C.Manager</code> in other source files and able to reference <code>Manager</code> there but, for this source file, Gradle cannot resolve the symbol.</p>\n<p>What am I missing? (This is an Android project by the way, in case that is relevant.)</p>\n<p>In advance, thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1643685786,"post_id":70935215,"comment_id":125400413,"body_markdown":"Welcome to Stack Overflow. Please review [ask] and make sure you ask *one* question at a time, and that you put in the [expected amount of effort](https://meta.stackoverflow.com/questions/261592) for each question. Try using a search engine, for example, to find out how to put strings together in Java, and [debugging](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) the code to figure out *why* the file contains the extra values.","body":"Welcome to Stack Overflow. Please review <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and make sure you ask <i>one</i> question at a time, and that you put in the <a href=\"https://meta.stackoverflow.com/questions/261592\">expected amount of effort</a> for each question. Try using a search engine, for example, to find out how to put strings together in Java, and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debugging</a> the code to figure out <i>why</i> the file contains the extra values."}],"answers":[{"tags":[],"owner":{"account_id":10848506,"reputation":306,"user_id":17978724,"display_name":"swamp"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1643685672,"creation_date":1643685672,"answer_id":70935237,"question_id":70935215,"body_markdown":"Problem 1: After you scan for student name, do `fileName = fileName + &quot;.txt&quot;`\r\n\r\nProblem 2: Move `outputFile.println(score)` below your `while` loop.","title":"Output file contains wrong data","body":"<p>Problem 1: After you scan for student name, do <code>fileName = fileName + &quot;.txt&quot;</code></p>\n<p>Problem 2: Move <code>outputFile.println(score)</code> below your <code>while</code> loop.</p>\n"}],"owner":{"account_id":23969712,"reputation":25,"user_id":17958593,"display_name":"Cap Stone"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1643685681,"accepted_answer_id":70935237,"answer_count":1,"score":-2,"last_activity_date":1643686117,"creation_date":1643685369,"question_id":70935215,"body_markdown":"I have a program that is to ask the user their name (this will be used as the file name). \r\n\r\nProblem 1: how to I add .txt to the name given to make the file output as .txt. \r\n\r\nThen the user is asked how my test entries would they like to enter (this works).\r\n\r\nNext they input an integer for each entry with a value between 0-150. (This works)\r\n\r\nLast, it is to store the validated test entries in the variable &quot;score&quot; then write the entries on separate lines. \r\n\r\nProblem 2: the program will create a file that contains the invalid entries that are not between 0-150. How do I fix this?\r\n\r\n    \r\n            // Create a Scanner object for keyboard input.\r\n            Scanner keyboard = new Scanner(System.in);\r\n            // Get the filename.\r\n            System.out.print(&quot;Enter student name: &quot;);\r\n            fileName = keyboard.nextLine();\r\n            //Get the number of test entries wanted\r\n            System.out.print(&quot;How many test entries: &quot;);\r\n            numOfTests = keyboard.nextInt();\r\n    \r\n            //keeping track of test entry number\r\n            //prompting the user for test score\r\n            for (int i = 0; i &lt; numOfTests; i++) {\r\n                System.out.print(&quot;Enter the score (must be 0 - 150) : &quot; + (i + 1) + &quot;: &quot;);\r\n                score = keyboard.nextInt();\r\n                outputFile.println(score);\r\n                //making sure test entry is not a negative number or greater than 150\r\n                while (score &lt; 0 || score &gt; 150) {\r\n                    System.out.print(&quot;Invalid - must be 0 though 150 : &quot; + (i + 1) + &quot;: &quot;);\r\n                    score = keyboard.nextInt();\r\n                }\r\n            }        // Close the file.\r\n                    outputFile.close();\r\n        }\r\n    }","title":"Output file contains wrong data","body":"<p>I have a program that is to ask the user their name (this will be used as the file name).</p>\n<p>Problem 1: how to I add .txt to the name given to make the file output as .txt.</p>\n<p>Then the user is asked how my test entries would they like to enter (this works).</p>\n<p>Next they input an integer for each entry with a value between 0-150. (This works)</p>\n<p>Last, it is to store the validated test entries in the variable &quot;score&quot; then write the entries on separate lines.</p>\n<p>Problem 2: the program will create a file that contains the invalid entries that are not between 0-150. How do I fix this?</p>\n<pre><code>        // Create a Scanner object for keyboard input.\n        Scanner keyboard = new Scanner(System.in);\n        // Get the filename.\n        System.out.print(&quot;Enter student name: &quot;);\n        fileName = keyboard.nextLine();\n        //Get the number of test entries wanted\n        System.out.print(&quot;How many test entries: &quot;);\n        numOfTests = keyboard.nextInt();\n\n        //keeping track of test entry number\n        //prompting the user for test score\n        for (int i = 0; i &lt; numOfTests; i++) {\n            System.out.print(&quot;Enter the score (must be 0 - 150) : &quot; + (i + 1) + &quot;: &quot;);\n            score = keyboard.nextInt();\n            outputFile.println(score);\n            //making sure test entry is not a negative number or greater than 150\n            while (score &lt; 0 || score &gt; 150) {\n                System.out.print(&quot;Invalid - must be 0 though 150 : &quot; + (i + 1) + &quot;: &quot;);\n                score = keyboard.nextInt();\n            }\n        }        // Close the file.\n                outputFile.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-cognito"],"comments":[{"owner":{"account_id":5065936,"reputation":1435,"user_id":4066032,"accept_rate":91,"display_name":"gdgr"},"score":1,"creation_date":1627046157,"post_id":68314299,"comment_id":121059513,"body_markdown":"I&#39;m currently facing this issue and I agree; the documentation absolutely suggests this kind of request should be fine and given you posted this fairly recently I suspect it&#39;s a bug... may need to contact their support :(","body":"I&#39;m currently facing this issue and I agree; the documentation absolutely suggests this kind of request should be fine and given you posted this fairly recently I suspect it&#39;s a bug... may need to contact their support :("},{"owner":{"account_id":5065936,"reputation":1435,"user_id":4066032,"accept_rate":91,"display_name":"gdgr"},"score":0,"creation_date":1627046198,"post_id":68314299,"comment_id":121059536,"body_markdown":"I&#39;ll let you know though if I find a workaround. I&#39;m wanting to use this in order to validate an OTP once the user is signed in such that they can subsequently disable their 2nd auth factor","body":"I&#39;ll let you know though if I find a workaround. I&#39;m wanting to use this in order to validate an OTP once the user is signed in such that they can subsequently disable their 2nd auth factor"}],"owner":{"account_id":2481543,"reputation":183,"user_id":2160919,"accept_rate":75,"display_name":"user2160919"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2007,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1643685947,"creation_date":1625822099,"question_id":68314299,"body_markdown":"As per the documentation - https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_RespondToAuthChallenge.html the session parameter is optional. \r\n\r\n    Map&lt;String, String&gt; challengeResponses = new HashMap&lt;String, String&gt;();\r\n    \r\n    \t\tchallengeResponses.put(&quot;USERNAME&quot;, &quot;username&quot;);\r\n    \t\tchallengeResponses.put(&quot;SMS_MFA_CODE&quot;,&quot;code&quot;);\r\n    \t\tchallengeResponses.put(&quot;SECRET_HASH&quot;, secretHash);\r\n    \r\n    \t\tRespondToAuthChallengeRequest respondToAuthChallengeRequest = new RespondToAuthChallengeRequest()\r\n    \t\t\t\t.withChallengeName(ChallengeNameType.SMS_MFA).withClientId(&quot;client_id&quot;)\r\n    \t\t\t\t.withChallengeResponses(challengeResponses);\r\n    \r\n    \t\tRespondToAuthChallengeResult respondToAuthChallengeResult = null;\r\n    \t\t\trespondToAuthChallengeResult = cognitoClient.respondToAuthChallenge(respondToAuthChallengeRequest);\r\n\r\nI keep on getting the below exception when I dont add a session parameter to the request.\r\n\r\n    **Missing required parameter Session (Service: AWSCognitoIdentityProvider; Status Code: 400; Error Code: InvalidParameterException; Request ID: ef8780a3-a5f3-4d54-aac5-2251deb7e932)**","title":"AWS Cognito RespondToAuthChallengeRequest : Missing required parameter Session","body":"<p>As per the documentation - <a href=\"https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_RespondToAuthChallenge.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_RespondToAuthChallenge.html</a> the session parameter is optional.</p>\n<pre><code>Map&lt;String, String&gt; challengeResponses = new HashMap&lt;String, String&gt;();\n\n        challengeResponses.put(&quot;USERNAME&quot;, &quot;username&quot;);\n        challengeResponses.put(&quot;SMS_MFA_CODE&quot;,&quot;code&quot;);\n        challengeResponses.put(&quot;SECRET_HASH&quot;, secretHash);\n\n        RespondToAuthChallengeRequest respondToAuthChallengeRequest = new RespondToAuthChallengeRequest()\n                .withChallengeName(ChallengeNameType.SMS_MFA).withClientId(&quot;client_id&quot;)\n                .withChallengeResponses(challengeResponses);\n\n        RespondToAuthChallengeResult respondToAuthChallengeResult = null;\n            respondToAuthChallengeResult = cognitoClient.respondToAuthChallenge(respondToAuthChallengeRequest);\n</code></pre>\n<p>I keep on getting the below exception when I dont add a session parameter to the request.</p>\n<pre><code>**Missing required parameter Session (Service: AWSCognitoIdentityProvider; Status Code: 400; Error Code: InvalidParameterException; Request ID: ef8780a3-a5f3-4d54-aac5-2251deb7e932)**\n</code></pre>\n"},{"tags":["java","oracle","date","jpa","timestamp"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485104500,"creation_date":1485103436,"answer_id":41793508,"question_id":41793440,"body_markdown":"The JPA [`TemporalType.TIMESTAMP`][1] corresponds to the JDBC [`java.sql.Timestamp`][2] type, which in turn corresponds to Oracle&#39;s (and the SQL standard) `TIMESTAMP [ WITHOUT TIME ZONE ]` type. While JDBC 4.2 (Java 8) added support also for [`OffsetDateTime`][3], Java EE 7&#39;s `TemporalType` is not there yet.\r\n\r\nThis means that your values do not have any time zone attached to them, the semantics of the timestamp is that of the &quot;local time zone&quot;, whatever that is configured to be. Of course, you have to watch out for potentially different server (database) and client (machine running your Java application) &quot;local time zones&quot;!\r\n\r\nYou can achieve the desired behaviour if you *are sure* that client **and** server time zones are set to UTC.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/persistence/TemporalType.html#TIMESTAMP\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html","title":"Java Entities Dates fields and Oracle TIMESTAMP data types","body":"<p>The JPA <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/TemporalType.html#TIMESTAMP\" rel=\"nofollow noreferrer\"><code>TemporalType.TIMESTAMP</code></a> corresponds to the JDBC <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"nofollow noreferrer\"><code>java.sql.Timestamp</code></a> type, which in turn corresponds to Oracle's (and the SQL standard) <code>TIMESTAMP [ WITHOUT TIME ZONE ]</code> type. While JDBC 4.2 (Java 8) added support also for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>, Java EE 7's <code>TemporalType</code> is not there yet.</p>\n\n<p>This means that your values do not have any time zone attached to them, the semantics of the timestamp is that of the \"local time zone\", whatever that is configured to be. Of course, you have to watch out for potentially different server (database) and client (machine running your Java application) \"local time zones\"!</p>\n\n<p>You can achieve the desired behaviour if you <em>are sure</em> that client <strong>and</strong> server time zones are set to UTC.</p>\n"}],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41793508,"answer_count":1,"score":2,"last_activity_date":1643685899,"creation_date":1485103056,"question_id":41793440,"body_markdown":" In my entities classes I use to define the temporal fields as follows:\r\n\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n    \t@Column(name = &quot;START_DATE&quot;)\r\n    \tprivate Date start;\r\n  \r\nIn my oracle DB the columns mapped by those fields are of type `TIMESTAMP`.  \r\n\r\nWhat are the implications of this configurations:  \r\nAre my dates implicitily UTC dates ?  \r\nDoes it mean I have to be careful on handling by myself Daylight saving time issues ?  ","title":"Java Entities Dates fields and Oracle TIMESTAMP data types","body":"<p>In my entities classes I use to define the temporal fields as follows:</p>\n\n<pre><code>    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = \"START_DATE\")\n    private Date start;\n</code></pre>\n\n<p>In my oracle DB the columns mapped by those fields are of type <code>TIMESTAMP</code>.  </p>\n\n<p>What are the implications of this configurations:<br>\nAre my dates implicitily UTC dates ?<br>\nDoes it mean I have to be careful on handling by myself Daylight saving time issues ?  </p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user18023772"},"score":0,"creation_date":1643675404,"post_id":70934372,"comment_id":125399013,"body_markdown":"I can&#39;t use an arraylist and the file the values are just seperated by spaces and is exactly in jagged format","body":"I can&#39;t use an arraylist and the file the values are just seperated by spaces and is exactly in jagged format"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1643675843,"post_id":70934372,"comment_id":125399074,"body_markdown":"To answer your question, this line `while (scanner2.hasNextLine()){` is already populating your array line by line (like you were told) when you use `arr[i]=doubleArr;` to insert your split doubles into the 2d array. It looks fine to me.","body":"To answer your question, this line <code>while (scanner2.hasNextLine()){</code> is already populating your array line by line (like you were told) when you use <code>arr[i]=doubleArr;</code> to insert your split doubles into the 2d array. It looks fine to me."},{"owner":{"display_name":"user18023772"},"score":0,"creation_date":1643676217,"post_id":70934372,"comment_id":125399137,"body_markdown":"I edited it how I counted the columns on a regular 2d array will i just do that under it then?","body":"I edited it how I counted the columns on a regular 2d array will i just do that under it then?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1643681339,"post_id":70934372,"comment_id":125399856,"body_markdown":"Q: It would really help to see an example of your text file.  A snippet: just enough to &quot;see what the data looks like&quot;.  SUGGESTION: I would strongly consider using a list (e.g. ArrayList) instead of arrays.","body":"Q: It would really help to see an example of your text file.  A snippet: just enough to &quot;see what the data looks like&quot;.  SUGGESTION: I would strongly consider using a list (e.g. ArrayList) instead of arrays."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1643683726,"post_id":70934372,"comment_id":125400150,"body_markdown":"Please edit your post to include the error full message","body":"Please edit your post to include the error full message"},{"owner":{"display_name":"user18023772"},"score":0,"creation_date":1643683798,"post_id":70934372,"comment_id":125400159,"body_markdown":"that&#39;s the catch it says error cause that&#39;s what I have printed in the catch","body":"that&#39;s the catch it says error cause that&#39;s what I have printed in the catch"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1643683938,"post_id":70934372,"comment_id":125400176,"body_markdown":"You need to print the error instead, for example `e.printStackTrace();`, but I can see what is happening, your while loop is only reading every second line, which means you are using `scanner2.nextLine();` twice inside your while loop, which you must not do. Edit your question to include ALL of your current updated code, or use the code in my answer exactly as it is because that does work.","body":"You need to print the error instead, for example <code>e.printStackTrace();</code>, but I can see what is happening, your while loop is only reading every second line, which means you are using <code>scanner2.nextLine();</code> twice inside your while loop, which you must not do. Edit your question to include ALL of your current updated code, or use the code in my answer exactly as it is because that does work."},{"owner":{"display_name":"user18023772"},"score":0,"creation_date":1643684508,"post_id":70934372,"comment_id":125400245,"body_markdown":"I deleted the split thing and it worked thanks!","body":"I deleted the split thing and it worked thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643685402,"creation_date":1643678357,"answer_id":70934666,"question_id":70934372,"body_markdown":"There are three main issues, firstly all the column code needs to go within the while loop so that it is done for every line of the file. Secondly, you were getting stuck in a loop here `while(scanner2.hasNextDouble()){`, and lastly, there were a bunch of code errors that I have corrected below, but specifically you can&#39;t reference a Scanner to itself `Scanner newLine = new Scanner(newLine);` it should refer to the string from the previous line `Scanner newLine = new Scanner(line);`\r\n\r\nHere is a working example using as much of your code as possible:\r\n\r\n\t    Scanner scanner2 = new Scanner(file);\r\n\t\r\n\t    //Get total lines\r\n\t    int count = 0;\r\n\t    while (scanner2.hasNextLine()) {\r\n\t        count++;\r\n\t        scanner2.nextLine();\r\n\t    }\r\n\t\r\n\t    //Create the array with the correct length\r\n\t    double[][] arr = new double[count][];\r\n\t\r\n\t    //Reset the scanner:\r\n\t    scanner2 = new Scanner(file);\r\n\r\n        int i =  0;\r\n\t    //Loop thorugh the file one line at a time\r\n        while (scanner2.hasNextLine()){\r\n            //Get the current line\r\n            String line = scanner2.nextLine();\r\n\t        //Changed this line to correctly reference &quot;line&quot;, not &quot;newLine&quot;\r\n\t        //Note that you don&#39;t need to use scanner here, you could just split the line and use a for loop to go through it\r\n            Scanner newLine = new Scanner(line);\r\n\r\n            int countDoubles = 0;\r\n\t        //Changed this line to reference the correct scanner &quot;newLine&quot;\r\n            while(newLine.hasNextDouble()){\r\n                countDoubles++;\r\n\t\t        //Consume the double so that the code advances, otherwise it will just loop for ever\r\n\t\t        newLine.nextDouble();\r\n            }\r\n\r\n            double[] doubleArr = new double[countDoubles];\r\n\t        //This line vas incorrectly referring to the wrong thing, it should be &quot;line&quot;, not &quot;newLine&quot;\r\n            newLine = new Scanner(line);\r\n\t    \r\n\t        //Use a &quot;for&quot; loop here inside of the while loop to store the column data per each line of the file\r\n            for (int y = 0; y &lt; countDoubles; y++)\r\n\t        {\r\n\t\t        doubleArr[y] = newLine.nextDouble();\r\n\t        }\r\n\r\n            // populate doubleArr using newLine\r\n            arr[i]=doubleArr;\r\n            i++;\r\n        }\r\n\r\n        //Code that deals with data needs to be inside the while loop, see the edits above\r\n        //String in = scanner.nextLine();\r\n        //String [] out = in.split(&quot; &quot;);\r\n        //for (int s = 0; s &lt; out.length; s++){\r\n        //    col++;\r\n        //\r\n        ////printing the array\r\n        //for(int k = 0; k &lt; rows; k++) {       \r\n        //    for(int j = 0; j &lt; col; j++) {\r\n        //        arr[i][j] = scanner2.nextDouble();\r\n        //        System.out.print(arr[i][j] + &quot; &quot;);      \r\n        //    }\r\n        //    System.out.println();\r\n        //}\r\n\r\n        //Now we can print the array dynamically by using the array length like so &quot;k &lt; arr.length&quot; and &quot;j &lt; arr[k].length&quot;\r\n\t    for (int k = 0; k &lt; arr.length; k++)\r\n\t    {\r\n\t\t    for (int j = 0; j &lt; arr[k].length; j++)\r\n\t\t    {\r\n\t\t        System.out.print(arr[k][j] + &quot; &quot;);\r\n\t\t    }\r\n\t\t    System.out.println();\r\n\t    }\r\n\r\nRead through the code comments and you should get a better understanding of how this works.\r\n\r\nWith the above code I get the following output which matches a sample file I made:\r\n\r\n    1.0 2.0 3.0 \r\n    4.0 5.0 \r\n    6.0 7.0 8.0 9.0 10.0 11.0 12.0 13.0 \r\n    14.0 15.0 16.0 17.0 \r\n    18.0 19.0 \r\n    20.0 \r\n    21.0 22.0","title":"print a jagged array from a file","body":"<p>There are three main issues, firstly all the column code needs to go within the while loop so that it is done for every line of the file. Secondly, you were getting stuck in a loop here <code>while(scanner2.hasNextDouble()){</code>, and lastly, there were a bunch of code errors that I have corrected below, but specifically you can't reference a Scanner to itself <code>Scanner newLine = new Scanner(newLine);</code> it should refer to the string from the previous line <code>Scanner newLine = new Scanner(line);</code></p>\n<p>Here is a working example using as much of your code as possible:</p>\n<pre><code>    Scanner scanner2 = new Scanner(file);\n\n    //Get total lines\n    int count = 0;\n    while (scanner2.hasNextLine()) {\n        count++;\n        scanner2.nextLine();\n    }\n\n    //Create the array with the correct length\n    double[][] arr = new double[count][];\n\n    //Reset the scanner:\n    scanner2 = new Scanner(file);\n\n    int i =  0;\n    //Loop thorugh the file one line at a time\n    while (scanner2.hasNextLine()){\n        //Get the current line\n        String line = scanner2.nextLine();\n        //Changed this line to correctly reference &quot;line&quot;, not &quot;newLine&quot;\n        //Note that you don't need to use scanner here, you could just split the line and use a for loop to go through it\n        Scanner newLine = new Scanner(line);\n\n        int countDoubles = 0;\n        //Changed this line to reference the correct scanner &quot;newLine&quot;\n        while(newLine.hasNextDouble()){\n            countDoubles++;\n            //Consume the double so that the code advances, otherwise it will just loop for ever\n            newLine.nextDouble();\n        }\n\n        double[] doubleArr = new double[countDoubles];\n        //This line vas incorrectly referring to the wrong thing, it should be &quot;line&quot;, not &quot;newLine&quot;\n        newLine = new Scanner(line);\n    \n        //Use a &quot;for&quot; loop here inside of the while loop to store the column data per each line of the file\n        for (int y = 0; y &lt; countDoubles; y++)\n        {\n            doubleArr[y] = newLine.nextDouble();\n        }\n\n        // populate doubleArr using newLine\n        arr[i]=doubleArr;\n        i++;\n    }\n\n    //Code that deals with data needs to be inside the while loop, see the edits above\n    //String in = scanner.nextLine();\n    //String [] out = in.split(&quot; &quot;);\n    //for (int s = 0; s &lt; out.length; s++){\n    //    col++;\n    //\n    ////printing the array\n    //for(int k = 0; k &lt; rows; k++) {       \n    //    for(int j = 0; j &lt; col; j++) {\n    //        arr[i][j] = scanner2.nextDouble();\n    //        System.out.print(arr[i][j] + &quot; &quot;);      \n    //    }\n    //    System.out.println();\n    //}\n\n    //Now we can print the array dynamically by using the array length like so &quot;k &lt; arr.length&quot; and &quot;j &lt; arr[k].length&quot;\n    for (int k = 0; k &lt; arr.length; k++)\n    {\n        for (int j = 0; j &lt; arr[k].length; j++)\n        {\n            System.out.print(arr[k][j] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>Read through the code comments and you should get a better understanding of how this works.</p>\n<p>With the above code I get the following output which matches a sample file I made:</p>\n<pre><code>1.0 2.0 3.0 \n4.0 5.0 \n6.0 7.0 8.0 9.0 10.0 11.0 12.0 13.0 \n14.0 15.0 16.0 17.0 \n18.0 19.0 \n20.0 \n21.0 22.0\n</code></pre>\n"}],"owner":{"display_name":"user18023772"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70934666,"answer_count":1,"score":0,"last_activity_date":1643685402,"creation_date":1643675035,"question_id":70934372,"body_markdown":"\r\n\r\n\r\n\r\ni am trying to print a jagged array just like my txt file is. I have already found the rows I was told to create a 2d array now with just the rows since we don&#39;t know the columns yet and then find the doubles there are in the file.\r\n\r\n            double[][] arr = new double[rows][];\r\n\r\n            Scanner scanner2 = new Scanner (file);   \r\n\r\n            int i =  0;\r\n            while (scanner2.hasNextLine()){\r\n                String line = scanner2.nextLine();\r\n                Scanner newLine = new Scanner(newLine);\r\n\r\n                int countDoubles = 0;\r\n                while(scanner2.hasNextDouble()){\r\n                    countDoubles++;\r\n                }\r\n        \r\n\r\n                double[] doubleArr = new double[countDoubles];\r\n\r\n                newLine = new Scanner(newLine);\r\n\r\n\r\n                // populate doubleArr using newLine\r\n\r\n\r\n                arr[i]=doubleArr;\r\n                i++;\r\n\r\n            }\r\n\r\n            //how I counted the col on a normal 2d array file \r\n          \r\n\r\n            String in = scanner.nextLine();\r\n            String [] out = in.split(&quot; &quot;);\r\n            for (int s = 0; s &lt; out.length; s++){\r\n                col++;\r\n           \r\n   \r\n            //printing the array\r\n  \r\n            for(int k = 0; k &lt; rows; k++) {       \r\n                for(int j = 0; j &lt; col; j++) {\r\n                    arr[i][j] = scanner2.nextDouble();\r\n                    System.out.print(arr[i][j] + &quot; &quot;);\r\n                   \r\n                }\r\n                System.out.println();\r\n            }","title":"print a jagged array from a file","body":"<p>i am trying to print a jagged array just like my txt file is. I have already found the rows I was told to create a 2d array now with just the rows since we don't know the columns yet and then find the doubles there are in the file.</p>\n<pre><code>        double[][] arr = new double[rows][];\n\n        Scanner scanner2 = new Scanner (file);   \n\n        int i =  0;\n        while (scanner2.hasNextLine()){\n            String line = scanner2.nextLine();\n            Scanner newLine = new Scanner(newLine);\n\n            int countDoubles = 0;\n            while(scanner2.hasNextDouble()){\n                countDoubles++;\n            }\n    \n\n            double[] doubleArr = new double[countDoubles];\n\n            newLine = new Scanner(newLine);\n\n\n            // populate doubleArr using newLine\n\n\n            arr[i]=doubleArr;\n            i++;\n\n        }\n\n        //how I counted the col on a normal 2d array file \n      \n\n        String in = scanner.nextLine();\n        String [] out = in.split(&quot; &quot;);\n        for (int s = 0; s &lt; out.length; s++){\n            col++;\n       \n\n        //printing the array\n\n        for(int k = 0; k &lt; rows; k++) {       \n            for(int j = 0; j &lt; col; j++) {\n                arr[i][j] = scanner2.nextDouble();\n                System.out.print(arr[i][j] + &quot; &quot;);\n               \n            }\n            System.out.println();\n        }\n</code></pre>\n"},{"tags":["java","debugging","ide","program-entry-point","smoke-testing"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1643670086,"post_id":70933860,"comment_id":125398026,"body_markdown":"You tagged JavaScript, when it seems you meant Java. I have changed that for you.","body":"You tagged JavaScript, when it seems you meant Java. I have changed that for you."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1643670642,"post_id":70933860,"comment_id":125398149,"body_markdown":"Can you [edit](https://stackoverflow.com/posts/70933860/edit) your post and tell us what you did and the exact error message?  How did you compile?","body":"Can you <a href=\"https://stackoverflow.com/posts/70933860/edit\">edit</a> your post and tell us what you did and the exact error message?  How did you compile?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643670753,"creation_date":1643670753,"answer_id":70933937,"question_id":70933860,"body_markdown":"You do not need main.java. However if what you posted is your java source code, be sure to compile it, then make the necessary class available to Java when running it.\r\n\r\nYou can run your code like so given that Java is able to find your CustomerTest.java. It should reside underneath test/cases/business (relative to the working directory) and be called CustomerTest.class.\r\n\r\n    java test.cases.business.CustomerTest\r\n\r\nIf the class resides elsewhere, you will need to point Java to the directory or ZIP/JAR file hosting that class in the same folder stucture like so:\r\n\r\n    java -cp &lt;path to basedir&gt; test.cases.business.CustomerTest\r\n\r\nI am not sure how you develop and run your stuff. An IDE might make your life easier. You might want to get started with the [Oracle Java tutorial][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/","title":"No class Main class found . Smoke testing","body":"<p>You do not need main.java. However if what you posted is your java source code, be sure to compile it, then make the necessary class available to Java when running it.</p>\n<p>You can run your code like so given that Java is able to find your CustomerTest.java. It should reside underneath test/cases/business (relative to the working directory) and be called CustomerTest.class.</p>\n<pre><code>java test.cases.business.CustomerTest\n</code></pre>\n<p>If the class resides elsewhere, you will need to point Java to the directory or ZIP/JAR file hosting that class in the same folder stucture like so:</p>\n<pre><code>java -cp &lt;path to basedir&gt; test.cases.business.CustomerTest\n</code></pre>\n<p>I am not sure how you develop and run your stuff. An IDE might make your life easier. You might want to get started with the <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">Oracle Java tutorial</a>.</p>\n"}],"owner":{"account_id":22015089,"reputation":15,"user_id":16284724,"display_name":"user16284724"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643684552,"creation_date":1643670045,"question_id":70933860,"body_markdown":"I did the application and it said that there was no main.java. Is there any I can fix this? \r\n\r\n    package test.cases.business;\r\n    \r\n    import model.business.Customer;\r\n    \r\n    public class CustomerTest {\r\n    \r\n    \t//=======================================\r\n    \t//Smoke Tests - Construction\r\n    \r\n    \t/** Conduct a smoke test for the construction of\r\n    \t * a Customer with no args\r\n    \t */\r\n    \tpublic void test_newInstance() {\r\n    \t\tprn(&quot;\\n-- test_newInstance --&quot;);\r\n    \t\tCustomer cust = Customer.newInstance();\r\n    \t\tprn(cust.toString());\r\n    \t}\r\n    \r\n    \t/** Conduct a smoke test for the construction of\r\n    \t * a Customer with passed name and phone\r\n    \t */\r\n    \tpublic void test_fromFirstLastPhone() {\r\n    \t\tprn(&quot;\\n-- test_fromFirstLastPhone --&quot;);\r\n    \t\tCustomer cust;\r\n    \t\tcust = Customer.fromFirstLastPhone(&quot;Asha&quot;, &quot;Gupta&quot;, &quot;1112223333&quot;);\r\n    \t\tprn(cust.toString());\r\n    \t}\r\n    \r\n    \t//=======================================\r\n    \t//Helpers\r\n    \r\n    \tpublic void prn(Object o) {\r\n    \t\tSystem.out.println(o);\r\n    \t}\r\n    \r\n    \t//=======================================\r\n    \t//Main\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tCustomerTest test = new CustomerTest();\r\n    \t\ttest.test_newInstance();\r\n    \t\ttest.test_fromFirstLastPhone();\r\n    \t}\r\n    \r\n    }","title":"No class Main class found . Smoke testing","body":"<p>I did the application and it said that there was no main.java. Is there any I can fix this?</p>\n<pre><code>package test.cases.business;\n\nimport model.business.Customer;\n\npublic class CustomerTest {\n\n    //=======================================\n    //Smoke Tests - Construction\n\n    /** Conduct a smoke test for the construction of\n     * a Customer with no args\n     */\n    public void test_newInstance() {\n        prn(&quot;\\n-- test_newInstance --&quot;);\n        Customer cust = Customer.newInstance();\n        prn(cust.toString());\n    }\n\n    /** Conduct a smoke test for the construction of\n     * a Customer with passed name and phone\n     */\n    public void test_fromFirstLastPhone() {\n        prn(&quot;\\n-- test_fromFirstLastPhone --&quot;);\n        Customer cust;\n        cust = Customer.fromFirstLastPhone(&quot;Asha&quot;, &quot;Gupta&quot;, &quot;1112223333&quot;);\n        prn(cust.toString());\n    }\n\n    //=======================================\n    //Helpers\n\n    public void prn(Object o) {\n        System.out.println(o);\n    }\n\n    //=======================================\n    //Main\n\n    public static void main(String[] args) {\n        CustomerTest test = new CustomerTest();\n        test.test_newInstance();\n        test.test_fromFirstLastPhone();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","tcp","client-server"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643647999,"post_id":70929734,"comment_id":125390241,"body_markdown":"Welcome to SO. You might want to read [ask] and then actually _ask_ a question. I _assume_ you&#39;re asking about why you get `null` somewhere - but _where_? If you&#39;d be the one to read that post without any additional knowledge, would you be able to understand what&#39;s being asked for?","body":"Welcome to SO. You might want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and then actually <i>ask</i> a question. I <i>assume</i> you&#39;re asking about why you get <code>null</code> somewhere - but <i>where</i>? If you&#39;d be the one to read that post without any additional knowledge, would you be able to understand what&#39;s being asked for?"},{"owner":{"account_id":24112602,"reputation":17,"user_id":18082984,"display_name":"mike john"},"score":0,"creation_date":1643648161,"post_id":70929734,"comment_id":125390318,"body_markdown":"@Thomas it literally says Null in the console without any reference to any line.","body":"@Thomas it literally says Null in the console without any reference to any line."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1643648184,"post_id":70929734,"comment_id":125390327,"body_markdown":"One observation though: when you execute this command:  System.out.println(command + &quot; is not a number&quot;);` the response to the client would be an empty string, is that intended?","body":"One observation though: when you execute this command:  System.out.println(command + &quot; is not a number&quot;);` the response to the client would be an empty string, is that intended?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643648251,"post_id":70929734,"comment_id":125390354,"body_markdown":"&quot;it literally says Null in the console&quot; - I assume you mean when you&#39;re executing `System.out.println(header);` which would mean `header` is `null`.","body":"&quot;it literally says Null in the console&quot; - I assume you mean when you&#39;re executing <code>System.out.println(header);</code> which would mean <code>header</code> is <code>null</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643648527,"post_id":70929734,"comment_id":125390486,"body_markdown":"What you&#39;re also missing is a check for &quot;Result: Invalid number of arguments&quot; - check `arr.length` before trying to access the elements. Since you&#39;re sending a blank string to the server (one that only contains whitespace), your command will have too few arguments. Try to fix that and actually send something meaningful - it should work then.","body":"What you&#39;re also missing is a check for &quot;Result: Invalid number of arguments&quot; - check <code>arr.length</code> before trying to access the elements. Since you&#39;re sending a blank string to the server (one that only contains whitespace), your command will have too few arguments. Try to fix that and actually send something meaningful - it should work then."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1643649450,"post_id":70929734,"comment_id":125390861,"body_markdown":"Assuming you are sending a string with spaces only ( `String request = &quot; &quot;; )` your server code generates an array index out of bounds (trim reduces it to an empty string which split will return an array of length 1) (i.e. `arr[1]` )which is not caught so the program terminates which leads to the socket closing with no response - hence the `null` on receipt.","body":"Assuming you are sending a string with spaces only ( <code>String request = &quot; &quot;; )</code> your server code generates an array index out of bounds (trim reduces it to an empty string which split will return an array of length 1) (i.e. <code>arr[1]</code> )which is not caught so the program terminates which leads to the socket closing with no response - hence the <code>null</code> on receipt."}],"owner":{"account_id":24112602,"reputation":17,"user_id":18082984,"display_name":"mike john"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643684290,"creation_date":1643647871,"question_id":70929734,"body_markdown":"I just started learning Java and I am creating a simple TCP application where an input will be entered by a user and this input will be sent from the client side to the server side. This will then be processed and the result will be sent back to the client.\r\n\r\nHere are my codes:\r\n\r\nClient.java\r\n\r\n    public class Client {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString hostName = &quot;127.0.0.1&quot;;\r\n    \t\r\n    \t\tint port = 23456;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tSocket socket = new Socket(hostName, port);\r\n    \t\t\t\r\n    \t\t\tScanner sc = new Scanner(System.in);\r\n\t\t        System.out.print(&quot;Input command:&quot;);\r\n\t\t        String input = sc.nextLine();\r\n    \t\t\t\r\n    \t\t\tOutputStream os = socket.getOutputStream();\r\n    \t\t\t\r\n    \t\t\tPrintWriter pw = new PrintWriter(os);\r\n    \t\t\tpw.println(request);\r\n    \t\t\tpw.flush();\r\n    \t\t\t\r\n                InputStream is = socket.getInputStream();\r\n                \r\n                InputStreamReader isr = new InputStreamReader(is);\r\n                \r\n                BufferedReader br = new BufferedReader(isr);\r\n                String header = br.readLine();\r\n                System.out.println(header);\r\n            } catch (IOException ex) {\r\n            \tex.printStackTrace();\r\n            }\r\n    \t}\r\n    }\r\n\r\n\r\nServer.java\r\n\r\n    public class Server\r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tint port = 23456;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tServerSocket ss = new ServerSocket(port);\r\n    \t\t\tSystem.out.println(&quot;Server is ready to receive command!&quot;);\r\n    \t\t\t\r\n    \t\t\twhile(true)\r\n    \t\t\t{\r\n    \t\t\t\tSocket socket = ss.accept();\r\n    \t\t\t\t\r\n    \t\t\t\tInputStream is = socket.getInputStream();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\tInputStreamReader isr = new\r\n    \t\t\t\tInputStreamReader(is);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\tBufferedReader br = new BufferedReader(isr);\r\n    \t\t\t\t\r\n    \t\t\t\tString command = br.readLine();\r\n    \t\t\t\tString response = &quot;&quot;;\r\n    \t\t\t\tint val = 0;\r\n    \t\t\t\t\r\n    \t\t\t\ttry \r\n    \t\t\t\t{\r\n    \t\t\t\t\tString[] arr = command.trim().split(&quot;\\\\s+&quot;);\r\n    \t\t\t\t\tString operator = arr[0];\r\n    \t\t\t\t\tint firstNumber = Integer.parseInt(arr[1]);\r\n    \t\t\t\t\tint secondNumber = Integer.parseInt(arr[2]);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (operator.equals(&quot;add&quot;)) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tval = firstNumber + secondNumber;\r\n    \t\t\t\t\t\tresponse = &quot;The add result is: &quot; + String.valueOf(result);\r\n    \t\t\t\t\t} \r\n    \t\t\t\t\telse if (operator.equals(&quot;subtract&quot;)) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tval = firstNumber - secondNumber;\r\n    \t\t\t\t\t\tresponse = &quot;The substract result is: &quot; + String.valueOf(result);\r\n    \t\t\t\t\t} \r\n    \t\t\t\t\telse if (operator.equals(&quot;multiply&quot;)) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tval = firstNumber * secondNumber;\r\n    \t\t\t\t\t\tresponse = &quot;The multiply result is: &quot; + String.valueOf(result);\r\n    \t\t\t\t\t} \r\n    \t\t\t\t\telse if (operator.equals(&quot;divide&quot;)) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tif (secondNumber != 0)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tval = firstNumber * secondNumber;\r\n    \t\t\t\t\t\t\tresponse = &quot;The multiply result is: &quot; + String.valueOf(result);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\telse\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tresponse = &quot;Error: Divided by zero exception&quot;;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tresponse = &quot;Error: Invalid command &quot; + &quot;\\&quot;&quot; + operator + &quot;\\&quot;&quot;;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tcatch (NumberFormatException e) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(command + &quot; is not a number&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\tOutputStream os = socket.getOutputStream();\r\n    \t\t\t\t\r\n    \t\t        PrintWriter pw = new PrintWriter(os);\r\n    \t\t        pw.println(response);\r\n    \t\t        pw.flush();\r\n    \t\t        pw.close();\r\n    \t\t        socket.close();\r\n    \t\t\t}\r\n    \t\t} \r\n    \t\tcatch (IOException ex)\r\n    \t\t{\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nWhen I run, I get a `null` as the output.","title":"Unsure why I&#39;m getting a null value","body":"<p>I just started learning Java and I am creating a simple TCP application where an input will be entered by a user and this input will be sent from the client side to the server side. This will then be processed and the result will be sent back to the client.</p>\n<p>Here are my codes:</p>\n<p>Client.java</p>\n<pre><code>public class Client {\n    public static void main(String[] args) {\n        \n        String hostName = &quot;127.0.0.1&quot;;\n    \n        int port = 23456;\n        \n        try {\n            Socket socket = new Socket(hostName, port);\n            \n            Scanner sc = new Scanner(System.in);\n            System.out.print(&quot;Input command:&quot;);\n            String input = sc.nextLine();\n            \n            OutputStream os = socket.getOutputStream();\n            \n            PrintWriter pw = new PrintWriter(os);\n            pw.println(request);\n            pw.flush();\n            \n            InputStream is = socket.getInputStream();\n            \n            InputStreamReader isr = new InputStreamReader(is);\n            \n            BufferedReader br = new BufferedReader(isr);\n            String header = br.readLine();\n            System.out.println(header);\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Server.java</p>\n<pre><code>public class Server\n{\n    public static void main(String[] args) \n    {\n        int port = 23456;\n        try\n        {\n            ServerSocket ss = new ServerSocket(port);\n            System.out.println(&quot;Server is ready to receive command!&quot;);\n            \n            while(true)\n            {\n                Socket socket = ss.accept();\n                \n                InputStream is = socket.getInputStream();\n                        \n                InputStreamReader isr = new\n                InputStreamReader(is);\n                        \n                BufferedReader br = new BufferedReader(isr);\n                \n                String command = br.readLine();\n                String response = &quot;&quot;;\n                int val = 0;\n                \n                try \n                {\n                    String[] arr = command.trim().split(&quot;\\\\s+&quot;);\n                    String operator = arr[0];\n                    int firstNumber = Integer.parseInt(arr[1]);\n                    int secondNumber = Integer.parseInt(arr[2]);\n                    \n                    if (operator.equals(&quot;add&quot;)) \n                    {\n                        val = firstNumber + secondNumber;\n                        response = &quot;The add result is: &quot; + String.valueOf(result);\n                    } \n                    else if (operator.equals(&quot;subtract&quot;)) \n                    {\n                        val = firstNumber - secondNumber;\n                        response = &quot;The substract result is: &quot; + String.valueOf(result);\n                    } \n                    else if (operator.equals(&quot;multiply&quot;)) \n                    {\n                        val = firstNumber * secondNumber;\n                        response = &quot;The multiply result is: &quot; + String.valueOf(result);\n                    } \n                    else if (operator.equals(&quot;divide&quot;)) \n                    {\n                        if (secondNumber != 0)\n                        {\n                            val = firstNumber * secondNumber;\n                            response = &quot;The multiply result is: &quot; + String.valueOf(result);\n                        }\n                        else\n                        {\n                            response = &quot;Error: Divided by zero exception&quot;;\n                        }\n                        \n                    } else {\n                        response = &quot;Error: Invalid command &quot; + &quot;\\&quot;&quot; + operator + &quot;\\&quot;&quot;;\n                    }\n                }\n                catch (NumberFormatException e) \n                {\n                    System.out.println(command + &quot; is not a number&quot;);\n                }\n                        \n                OutputStream os = socket.getOutputStream();\n                \n                PrintWriter pw = new PrintWriter(os);\n                pw.println(response);\n                pw.flush();\n                pw.close();\n                socket.close();\n            }\n        } \n        catch (IOException ex)\n        {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I run, I get a <code>null</code> as the output.</p>\n"},{"tags":["java","arrays","multidimensional-array","processing"],"owner":{"account_id":4049350,"reputation":25,"user_id":3329517,"display_name":"Clement"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643683309,"creation_date":1643683309,"question_id":70935053,"body_markdown":"I&#39;m trying to figure out a way to make my simple map generation better. So the question to be specific is, how do I make my random 2-D array platform generator, less random so it looks more like a platformer game level as well as adding a bit more variables to it for adding variation to each Map Generated. Explanation below.\r\n\r\nCurrently, I have this:\r\n```java\r\nvoid GenerateMap() {\r\n  int x = width/30;\r\n  int y = height/28;\r\n  int[][] map = new int[x][y];\r\n  //println(map.length);\r\n  for (int i = 0; i &lt; map.length; i++) {\r\n    for (int j = 0; j &lt; map[i].length; j++) {\r\n      float val = random(0, 100);\r\n      float nv = noise(val);\r\n      println(nv);\r\n      if (j &lt;= (int) (.5 * map.length)) {\r\n        map[i][j] = nv &lt; .3 ? 0 : 1;\r\n      } else if (j &gt;= (int) (.7 * map.length)) {\r\n        map[i][j] = nv &lt; .6 ? 1 : 0;\r\n      } else {\r\n        map[i][j] = nv &lt;= .3 ? 0 : 1;\r\n      }\r\n      println(i +&quot;-&quot; + j + &quot; - rowcol: &quot; + map[i][j]);\r\n    }\r\n  }\r\n  levelMap = map;\r\n  JSONArray saveArr = arrayToJson(levelMap);\r\n  saveJSONArray(saveArr, dataPath(&quot;./maps/Generation_&quot; + mapGenerations + &quot;.json&quot;), &quot;compact&quot;);\r\n}\r\n```\r\nIt builds a 2d array with 1s and 0s, I tried to make it less random so it looks like a playable terrain. the top-most section will be 0&#39;s (air), the bottom-most will be 1&#39;s (platform). Then the middle will have a mix to make floating platforms and such. So far I&#39;ve got nothing.\r\n\r\nThe next Idea that popped up was to have the number go from 0-N. This works by:\r\n0 will always be air,\r\n1 will always be a platform,\r\n2 can be a platform of a different image, let&#39;s say a diagonal platform to form a slope off the edge\r\n3 can be a collectible or anything\r\n...etc\r\n\r\nMy issue is I can&#39;t figure out how to generate the numbers in a way that will make the map not look like a mess. I came up with a setup for my variables:\r\n```java\r\n  public int[] toplayer = null, // [0,0,0,0,...,0]\r\n               bottomlayer = null, // [1,1,1,1,...,1]\r\n               variation = {0,1,2}, // the 0-N\r\n               variationRatios = {60, 30, 10}; // this would specify the frequency/probability of each variation show up, respectively, in a random() function\r\n```\r\n\r\nAfter all, that&#39;s done, then I run a function to replace all values with their respective &quot;Sprite&quot; and then display them on the screen.\r\n\r\n```java\r\nvoid drawPlatform(int amt, PVector pos, PVector size) {\r\n  for (int i = 0; i &lt; amt; i++) {\r\n    //new Platform(new PVector(abs(width-((pos.x+(size.x/2)) + (i * size.x))), pos.y+(size.y/2)), size);\r\n    Platform p = new Platform(new PVector(abs(((pos.x+(size.x/2)) + (i * size.x))), pos.y+(size.y/2)), size);\r\n    if (platforms.indexOf(p) % 5 == 0  &amp;&amp; !p.bouncy) {\r\n      p.bouncy = true;\r\n    }\r\n  }\r\n}\r\n\r\nJSONArray arrayToJson(int[][] arr) {\r\n  JSONArray ja = new JSONArray();\r\n  for (int[] ar : arr) {\r\n    JSONArray j = new JSONArray();\r\n    ja.append(j);\r\n    for (int a : ar) {\r\n      j.append(a);\r\n    }\r\n  }\r\n  return ja;\r\n}\r\n\r\nvoid LoadMap(int[][] map) {\r\n  drawPlatform(width/30, new PVector(0, 0), new PVector(30, 30)); // top\r\n  for (int i = 0; i &lt; map.length; i++) {\r\n    for (int j = 0; j &lt; map[i].length; j++) {\r\n      if (map[i][j] == 0) {\r\n        new Platform(new PVector((i*30)+15, (j*30)+45), new PVector(30, 30));\r\n        //drawPlatform(1, new PVector(i+j*30, (i+j)*30), new PVector(30, 30));\r\n      }\r\n    }\r\n  }\r\n  drawPlatform(width/30, new PVector(0, height-30), new PVector(30, 30)); // bottom\r\n  println(gameObjects.size() + &quot; GameObjects loaded&quot;);\r\n  println(platforms.size() + &quot; Platforms loaded&quot;);\r\n}\r\n```\r\n\r\nOverall, this is how it&#39;s used:\r\n```java\r\n\r\n  GenerateMap();\r\n  LoadMap(levelMap);\r\n  mapGenerations++;\r\n```\r\n\r\nThis is how it would end up looking (obviously different each generation):\r\n[![Generated Map Template][1]][1]\r\n\r\nBut right now, I have something like this:\r\n[![Actual Generated Map][2]][2]\r\n\r\n\r\nI&#39;ve looked everywhere for a couple of days now, for a solution and can&#39;t find anything as specific as my request. If you have any ideas, please let me know.\r\n\r\nQuick Note: Of course, we could have the user write the array by hand but that&#39;s not time-effective enough. I could also have a visual map builder but that&#39;s a lot more code and more time than I have available. I am not opposed to this idea, however.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vhtAW.jpg\r\n  [2]: https://i.stack.imgur.com/wCo3R.png","title":"Advanced 2-D Array map generation for 2D Platformer game with Java (processing)","body":"<p>I'm trying to figure out a way to make my simple map generation better. So the question to be specific is, how do I make my random 2-D array platform generator, less random so it looks more like a platformer game level as well as adding a bit more variables to it for adding variation to each Map Generated. Explanation below.</p>\n<p>Currently, I have this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void GenerateMap() {\n  int x = width/30;\n  int y = height/28;\n  int[][] map = new int[x][y];\n  //println(map.length);\n  for (int i = 0; i &lt; map.length; i++) {\n    for (int j = 0; j &lt; map[i].length; j++) {\n      float val = random(0, 100);\n      float nv = noise(val);\n      println(nv);\n      if (j &lt;= (int) (.5 * map.length)) {\n        map[i][j] = nv &lt; .3 ? 0 : 1;\n      } else if (j &gt;= (int) (.7 * map.length)) {\n        map[i][j] = nv &lt; .6 ? 1 : 0;\n      } else {\n        map[i][j] = nv &lt;= .3 ? 0 : 1;\n      }\n      println(i +&quot;-&quot; + j + &quot; - rowcol: &quot; + map[i][j]);\n    }\n  }\n  levelMap = map;\n  JSONArray saveArr = arrayToJson(levelMap);\n  saveJSONArray(saveArr, dataPath(&quot;./maps/Generation_&quot; + mapGenerations + &quot;.json&quot;), &quot;compact&quot;);\n}\n</code></pre>\n<p>It builds a 2d array with 1s and 0s, I tried to make it less random so it looks like a playable terrain. the top-most section will be 0's (air), the bottom-most will be 1's (platform). Then the middle will have a mix to make floating platforms and such. So far I've got nothing.</p>\n<p>The next Idea that popped up was to have the number go from 0-N. This works by:\n0 will always be air,\n1 will always be a platform,\n2 can be a platform of a different image, let's say a diagonal platform to form a slope off the edge\n3 can be a collectible or anything\n...etc</p>\n<p>My issue is I can't figure out how to generate the numbers in a way that will make the map not look like a mess. I came up with a setup for my variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public int[] toplayer = null, // [0,0,0,0,...,0]\n               bottomlayer = null, // [1,1,1,1,...,1]\n               variation = {0,1,2}, // the 0-N\n               variationRatios = {60, 30, 10}; // this would specify the frequency/probability of each variation show up, respectively, in a random() function\n</code></pre>\n<p>After all, that's done, then I run a function to replace all values with their respective &quot;Sprite&quot; and then display them on the screen.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void drawPlatform(int amt, PVector pos, PVector size) {\n  for (int i = 0; i &lt; amt; i++) {\n    //new Platform(new PVector(abs(width-((pos.x+(size.x/2)) + (i * size.x))), pos.y+(size.y/2)), size);\n    Platform p = new Platform(new PVector(abs(((pos.x+(size.x/2)) + (i * size.x))), pos.y+(size.y/2)), size);\n    if (platforms.indexOf(p) % 5 == 0  &amp;&amp; !p.bouncy) {\n      p.bouncy = true;\n    }\n  }\n}\n\nJSONArray arrayToJson(int[][] arr) {\n  JSONArray ja = new JSONArray();\n  for (int[] ar : arr) {\n    JSONArray j = new JSONArray();\n    ja.append(j);\n    for (int a : ar) {\n      j.append(a);\n    }\n  }\n  return ja;\n}\n\nvoid LoadMap(int[][] map) {\n  drawPlatform(width/30, new PVector(0, 0), new PVector(30, 30)); // top\n  for (int i = 0; i &lt; map.length; i++) {\n    for (int j = 0; j &lt; map[i].length; j++) {\n      if (map[i][j] == 0) {\n        new Platform(new PVector((i*30)+15, (j*30)+45), new PVector(30, 30));\n        //drawPlatform(1, new PVector(i+j*30, (i+j)*30), new PVector(30, 30));\n      }\n    }\n  }\n  drawPlatform(width/30, new PVector(0, height-30), new PVector(30, 30)); // bottom\n  println(gameObjects.size() + &quot; GameObjects loaded&quot;);\n  println(platforms.size() + &quot; Platforms loaded&quot;);\n}\n</code></pre>\n<p>Overall, this is how it's used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  GenerateMap();\n  LoadMap(levelMap);\n  mapGenerations++;\n</code></pre>\n<p>This is how it would end up looking (obviously different each generation):\n<a href=\"https://i.stack.imgur.com/vhtAW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vhtAW.jpg\" alt=\"Generated Map Template\" /></a></p>\n<p>But right now, I have something like this:\n<a href=\"https://i.stack.imgur.com/wCo3R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wCo3R.png\" alt=\"Actual Generated Map\" /></a></p>\n<p>I've looked everywhere for a couple of days now, for a solution and can't find anything as specific as my request. If you have any ideas, please let me know.</p>\n<p>Quick Note: Of course, we could have the user write the array by hand but that's not time-effective enough. I could also have a visual map builder but that's a lot more code and more time than I have available. I am not opposed to this idea, however.</p>\n"},{"tags":["java","google-app-engine","google-cloud-datastore","objectify","contention"],"answers":[{"tags":[],"owner":{"account_id":127461,"reputation":2848,"user_id":7644371,"display_name":"Jim Morrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643682555,"creation_date":1643682555,"answer_id":70935000,"question_id":70922702,"body_markdown":"Unfortunately, there isn&#39;t much here to help you out.  E.g. code samples.  You could consider enabling [data access logs][1] on your writes to see if there is a change to your datastore accesses change with your code deployment.\r\n\r\n\r\n  [1]: https://cloud.google.com/datastore/docs/audit-logging#audited_operations","title":"Datastore contention on new deployment with the same code","body":"<p>Unfortunately, there isn't much here to help you out.  E.g. code samples.  You could consider enabling <a href=\"https://cloud.google.com/datastore/docs/audit-logging#audited_operations\" rel=\"nofollow noreferrer\">data access logs</a> on your writes to see if there is a change to your datastore accesses change with your code deployment.</p>\n"}],"owner":{"account_id":15428345,"reputation":1,"user_id":11130460,"display_name":"VSp30"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643682555,"creation_date":1643615732,"question_id":70922702,"body_markdown":"We&#39;re having some issue with our application that uses Datastore (not Firestore in Datastore mode) after redeploying the code. On the new AppEngine service deployment with the same code we get Datastore contention issues and if we switch to the old service version (same code) everything works just fine. Triple checked this as we still have the deployment logs and it&#39;s the exact same commit on both the deployments.\r\n\r\nWe&#39;ve tried everything, rolled back other services, tried to lower the queue&#39;s throughput, attempted to upgrade some dependencies and nothing seems to fix it. \r\n\r\nFor info the app is using GAE Datastore API and Objectify v5. \r\n\r\nAny idea of why something like this might happen? \r\n\r\nThanks in advance. ","title":"Datastore contention on new deployment with the same code","body":"<p>We're having some issue with our application that uses Datastore (not Firestore in Datastore mode) after redeploying the code. On the new AppEngine service deployment with the same code we get Datastore contention issues and if we switch to the old service version (same code) everything works just fine. Triple checked this as we still have the deployment logs and it's the exact same commit on both the deployments.</p>\n<p>We've tried everything, rolled back other services, tried to lower the queue's throughput, attempted to upgrade some dependencies and nothing seems to fix it.</p>\n<p>For info the app is using GAE Datastore API and Objectify v5.</p>\n<p>Any idea of why something like this might happen?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","string","integer","bufferedreader","filereader"],"comments":[{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":3,"creation_date":1643680343,"post_id":70934786,"comment_id":125399746,"body_markdown":"What issue do you face when you try using parseInt? Also may you include a sample of the text file you&#39;re getting the info from?","body":"What issue do you face when you try using parseInt? Also may you include a sample of the text file you&#39;re getting the info from?"},{"owner":{"account_id":23959590,"reputation":3,"user_id":17949884,"display_name":"Luis Ramirez"},"score":0,"creation_date":1643680893,"post_id":70934786,"comment_id":125399810,"body_markdown":"Hey @RichardKYu, thank you for your response. When I try using paseInt, I receive general suggestions from Eclipse. The code itself runs, but I have placed it below String number=&quot;167&quot;; and it does not change anything in the output itself. I will make an edit to the post with the text file.","body":"Hey @RichardKYu, thank you for your response. When I try using paseInt, I receive general suggestions from Eclipse. The code itself runs, but I have placed it below String number=&quot;167&quot;; and it does not change anything in the output itself. I will make an edit to the post with the text file."}],"answers":[{"tags":[],"owner":{"account_id":23827242,"reputation":7,"user_id":17834099,"display_name":"GrowingDevil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643680960,"creation_date":1643680960,"answer_id":70934868,"question_id":70934786,"body_markdown":"there is a simpler way to do this:\r\n```\r\nint result = (int) number\r\n```\r\nThis way to do it is called type casting.","title":"How to convert a string number into an integer in Java?","body":"<p>there is a simpler way to do this:</p>\n<pre><code>int result = (int) number\n</code></pre>\n<p>This way to do it is called type casting.</p>\n"},{"tags":[],"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643682198,"creation_date":1643681891,"answer_id":70934950,"question_id":70934786,"body_markdown":"I&#39;m assuming from your original code that you want to parseInt because you want the final column to display the sum properly.  \r\n\r\nTo accomplish this, I remove the first element from your String array record (since this is the name of the person), and then I use Java&#39;s Streams API in order to convert each element into an integer and get the sum. There was also some whitespace around some of the integers that were Strings, so I stripped the whitespace before using parseInt.\r\n\r\nHere is my implementation:\r\n```\r\npackage com.sandbox;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ScoresDisplay {\r\n\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        File fileName = new File(&quot;path/to/scores.txt&quot;);\r\n        if (fileName.exists())\r\n        {\r\n            BufferedReader br = null;\r\n            String line = &quot;&quot;;\r\n            String cvsSplitBy = &quot;,&quot;;\r\n            int recordCount = 0;\r\n            String number =&quot;167&quot;;\r\n            int result = Integer.parseInt(number);\r\n            \r\n            br = new BufferedReader(new FileReader(fileName));\r\n        \r\n        System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\r\n        System.out.println(&quot;Games Report&quot;);\r\n        System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\r\n        System.out.println(&quot;Gamer    1       2       3       4       5       6       7       8       9       10       Total&quot;);\r\n        System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\r\n        while ((line = br.readLine()) != null)\r\n        {\r\n        String[] record = line.split(cvsSplitBy);\r\n        String[] ints_only = Arrays.copyOfRange(record, 1, record.length);\r\n        List&lt;Integer&gt; recordAsInts = Arrays.stream(ints_only)\r\n        \t.map(str -&gt; str.strip())\r\n        \t.map(Integer::parseInt)\r\n        \t.collect(Collectors.toList());\r\n        int sum = recordAsInts.stream().reduce(Integer::sum).orElse(0);\r\n        System.out.println(record[0] + &quot;\\t&quot;\r\n            + record[1] + (record[2].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + record[2] + (record[2].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + record[3] + (record[3].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + record[4] + (record[4].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + record[5] + (record[5].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + record[6] + (record[6].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + record[7] + (record[7].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + record[8] + (record[8].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + record[9] + (record[9].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + record[10] + (record[10].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n            + sum);\r\n            recordCount++;\r\n\r\n        }\r\n        System.out.println(&quot;----------------------------------------------------------------------------------------------&quot;);\r\n        System.out.printf(&quot;# of Gamers: %d%n&quot;,recordCount);\r\n        System.out.println(&quot;Top Gamer: Adelie&quot;);\r\n        System.out.println(&quot;----------------------------------------------------------------------------------------------&quot;);\r\n            br.close();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\nI&#39;m using a picture instead here because the formatting looks weird in text.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q6bnv.png","title":"How to convert a string number into an integer in Java?","body":"<p>I'm assuming from your original code that you want to parseInt because you want the final column to display the sum properly.</p>\n<p>To accomplish this, I remove the first element from your String array record (since this is the name of the person), and then I use Java's Streams API in order to convert each element into an integer and get the sum. There was also some whitespace around some of the integers that were Strings, so I stripped the whitespace before using parseInt.</p>\n<p>Here is my implementation:</p>\n<pre><code>package com.sandbox;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class ScoresDisplay {\n\n    public static void main(String[] args) throws IOException\n    {\n        File fileName = new File(&quot;path/to/scores.txt&quot;);\n        if (fileName.exists())\n        {\n            BufferedReader br = null;\n            String line = &quot;&quot;;\n            String cvsSplitBy = &quot;,&quot;;\n            int recordCount = 0;\n            String number =&quot;167&quot;;\n            int result = Integer.parseInt(number);\n            \n            br = new BufferedReader(new FileReader(fileName));\n        \n        System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\n        System.out.println(&quot;Games Report&quot;);\n        System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\n        System.out.println(&quot;Gamer    1       2       3       4       5       6       7       8       9       10       Total&quot;);\n        System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\n        while ((line = br.readLine()) != null)\n        {\n        String[] record = line.split(cvsSplitBy);\n        String[] ints_only = Arrays.copyOfRange(record, 1, record.length);\n        List&lt;Integer&gt; recordAsInts = Arrays.stream(ints_only)\n            .map(str -&gt; str.strip())\n            .map(Integer::parseInt)\n            .collect(Collectors.toList());\n        int sum = recordAsInts.stream().reduce(Integer::sum).orElse(0);\n        System.out.println(record[0] + &quot;\\t&quot;\n            + record[1] + (record[2].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[2] + (record[2].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[3] + (record[3].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[4] + (record[4].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[5] + (record[5].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[6] + (record[6].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[7] + (record[7].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[8] + (record[8].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[9] + (record[9].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[10] + (record[10].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + sum);\n            recordCount++;\n\n        }\n        System.out.println(&quot;----------------------------------------------------------------------------------------------&quot;);\n        System.out.printf(&quot;# of Gamers: %d%n&quot;,recordCount);\n        System.out.println(&quot;Top Gamer: Adelie&quot;);\n        System.out.println(&quot;----------------------------------------------------------------------------------------------&quot;);\n            br.close();\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<p>I'm using a picture instead here because the formatting looks weird in text.</p>\n<p><a href=\"https://i.stack.imgur.com/Q6bnv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q6bnv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23959590,"reputation":3,"user_id":17949884,"display_name":"Luis Ramirez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643877957,"accepted_answer_id":70934950,"answer_count":2,"score":0,"last_activity_date":1643682198,"creation_date":1643679763,"question_id":70934786,"body_markdown":"I have imported a text file into my program that contains several scores from a gamer. I am in need of adding the scores from each gamer - while attempting to do so, I realized that those scores are coming from a text file, therefore, they are actually strings, not numbers. I am wanting to convert the string number into an integer but have not been able to do so by using the parseInt() method, I have attempted to use the following method in my code:\r\n\r\n```String myString = &quot;1234&quot;;```\r\n\r\n```int foo = Integer.parseInt(myString);```\r\n\r\nBut have not been able to do it successfully. Here is my current work: \r\n```\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.BufferedReader;\r\n\r\n\r\npublic class luis_ramirez_GamesReport {\r\n\r\n\tprivate static String gamer;\r\n\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\tFile fileName = new File(&quot;/Users/luisramirez/eclipse-workspace/GameScores.txt&quot;);\r\n    \tif (fileName.exists())\r\n    \t{\r\n            BufferedReader br = null;\r\n            String line = &quot;&quot;;\r\n            String cvsSplitBy = &quot;,&quot;;\r\n            int recordCount = 0;\r\n            String number =&quot;167&quot;;\r\n            int result = Integer.parseInt(number);\r\n            \r\n            br = new BufferedReader(new FileReader(fileName));\r\n\t    \r\n\t    System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\r\n\t    System.out.println(&quot;Games Report&quot;);\r\n\t    System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\r\n\t    System.out.println(&quot;Gamer    1       2       3       4       5       6       7       8       9       10       Total&quot;);\r\n\t    System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\r\n\t    while ((line = br.readLine()) != null)\r\n \t    {\r\n\t\tString[] record = line.split(cvsSplitBy);\r\n\t\tSystem.out.println(record[0] + &quot;\\t&quot;\r\n\t\t\t+ record[1] + (record[2].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[2] + (record[2].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[3] + (record[3].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[4] + (record[4].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[5] + (record[5].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[6] + (record[6].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[7] + (record[7].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[8] + (record[8].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[9] + (record[9].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[10] + (record[10].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\r\n\t\t\t+ record[1] + record[2] + record[3] + record[4] + record[5] + record[6] + record[7] + record[8] + record[9] + record[10]);\r\n\t\t\trecordCount++;\r\n\r\n\t    }\r\n\t    System.out.println(&quot;----------------------------------------------------------------------------------------------&quot;);\r\n\t    System.out.printf(&quot;# of Gamers: %d%n&quot;,recordCount);\r\n\t    System.out.println(&quot;Top Gamer: Adelie&quot;);\r\n\t    System.out.println(&quot;----------------------------------------------------------------------------------------------&quot;);\r\n            br.close();\r\n    \t}\r\n````\r\n\r\nThis is my output: \r\n````\r\n-----------------------------------------------------------------------------------------------\r\nGames Report\r\n-----------------------------------------------------------------------------------------------\r\nGamer    1       2       3       4       5       6       7       8       9       10       Total\r\n-----------------------------------------------------------------------------------------------\r\nBob\t167\t123\t159\t102\t102\t189\t183\t173\t197\t148\t167123159102102189183173197148\r\nSally\t189\t130\t138\t113\t159\t116\t134\t196\t150\t144\t189130138113159116134196150144\r\nMario\t104\t106\t120\t188\t143\t189\t149\t174\t163\t100\t104106120188143189149174163100\r\nLev\t152\t159\t195\t140\t154\t176\t107\t128\t166\t181\t152159195140154176107128166181\r\nCarden\t158\t200\t175\t114\t117\t150\t176\t181\t131\t132\t158200175114117150176181131132\r\nAdelie\t175\t199\t122\t104\t198\t182\t175\t153\t120\t165\t175199122104198182175153120165\r\nLada\t161\t108\t102\t193\t151\t197\t115\t137\t126\t186\t161108102193151197115137126186\r\nXavier\t178\t171\t147\t113\t107\t129\t128\t189\t165\t195\t178171147113107129128189165195\r\nRaffi\t176\t144\t151\t124\t149\t112\t158\t159\t119\t177\t176144151124149112158159119177\r\nChang\t135\t144\t177\t153\t143\t125\t145\t140\t117\t158\t135144177153143125145140117158\r\nMich\t156\t105\t178\t137\t165\t180\t128\t115\t139\t157\t156105178137165180128115139157\r\nMason\t162\t185\t108\t106\t113\t135\t139\t135\t197\t160\t162185108106113135139135197160\r\nCora\t186\t115\t106\t126\t135\t108\t157\t156\t187\t120\t186115106126135108157156187120\r\nSergio\t117\t105\t115\t116\t193\t200\t176\t134\t122\t153\t117105115116193200176134122153\r\nJonas\t132\t163\t196\t101\t134\t159\t131\t104\t135\t168\t132163196101134159131104135168\r\n----------------------------------------------------------------------------------------------\r\n# of Gamers: 15\r\nTop Gamer: Adelie\r\n----------------------------------------------------------------------------------------------\r\n````\r\n\r\nPlease note that the output of my scores appears correctly when the program is ran. \r\n\r\nIn addition, here is the information from the text file: \r\n\r\nBob,167,123,159,102,102,189,183,173,197,148\r\nSally,189,130,138,113,159,116,134,196,150,144\r\nMario,104,106,120,188,143,189,149,174,163,100\r\nLev,152,159,195,140,154,176,107,128,166,181\r\nCarden,158,200,175,114,117,150,176,181,131,132\r\nAdelie,175,199,122,104,198,182,175,153,120,165\r\nLada,161,108,102,193,151,197,115,137,126,186\r\nXavier,178,171,147,113,107,129,128,189,165,195\r\nRaffi,176,144,151,124,149,112,158,159,119,177\r\nChang,135,144,177,153,143,125,145,140,117,158\r\nMich,156,105,178,137,165,180,128,115,139,157\r\nMason,162,185,108,106,113,135,139,135,197,160\r\nCora,186,115,106,126,135,108,157,156,187,120\r\nSergio,117,105,115,116,193,200,176,134,122,153\r\nJonas,132,163,196,101,134,159,131,104,135,168\r\n\r\nAny insight you can kindly provide would be greatly appreciated. \r\n","title":"How to convert a string number into an integer in Java?","body":"<p>I have imported a text file into my program that contains several scores from a gamer. I am in need of adding the scores from each gamer - while attempting to do so, I realized that those scores are coming from a text file, therefore, they are actually strings, not numbers. I am wanting to convert the string number into an integer but have not been able to do so by using the parseInt() method, I have attempted to use the following method in my code:</p>\n<p><code>String myString = &quot;1234&quot;;</code></p>\n<p><code>int foo = Integer.parseInt(myString);</code></p>\n<p>But have not been able to do it successfully. Here is my current work:</p>\n<pre><code>import java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.BufferedReader;\n\n\npublic class luis_ramirez_GamesReport {\n\n    private static String gamer;\n\n    public static void main(String[] args) throws IOException\n    {\n        File fileName = new File(&quot;/Users/luisramirez/eclipse-workspace/GameScores.txt&quot;);\n        if (fileName.exists())\n        {\n            BufferedReader br = null;\n            String line = &quot;&quot;;\n            String cvsSplitBy = &quot;,&quot;;\n            int recordCount = 0;\n            String number =&quot;167&quot;;\n            int result = Integer.parseInt(number);\n            \n            br = new BufferedReader(new FileReader(fileName));\n        \n        System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\n        System.out.println(&quot;Games Report&quot;);\n        System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\n        System.out.println(&quot;Gamer    1       2       3       4       5       6       7       8       9       10       Total&quot;);\n        System.out.println(&quot;-----------------------------------------------------------------------------------------------&quot;);\n        while ((line = br.readLine()) != null)\n        {\n        String[] record = line.split(cvsSplitBy);\n        System.out.println(record[0] + &quot;\\t&quot;\n            + record[1] + (record[2].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[2] + (record[2].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[3] + (record[3].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[4] + (record[4].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[5] + (record[5].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[6] + (record[6].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[7] + (record[7].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[8] + (record[8].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[9] + (record[9].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[10] + (record[10].length() &gt; 7 ? &quot;\\t&quot; : &quot;\\t&quot;)\n            + record[1] + record[2] + record[3] + record[4] + record[5] + record[6] + record[7] + record[8] + record[9] + record[10]);\n            recordCount++;\n\n        }\n        System.out.println(&quot;----------------------------------------------------------------------------------------------&quot;);\n        System.out.printf(&quot;# of Gamers: %d%n&quot;,recordCount);\n        System.out.println(&quot;Top Gamer: Adelie&quot;);\n        System.out.println(&quot;----------------------------------------------------------------------------------------------&quot;);\n            br.close();\n        }\n</code></pre>\n<p>This is my output:</p>\n<pre><code>-----------------------------------------------------------------------------------------------\nGames Report\n-----------------------------------------------------------------------------------------------\nGamer    1       2       3       4       5       6       7       8       9       10       Total\n-----------------------------------------------------------------------------------------------\nBob 167 123 159 102 102 189 183 173 197 148 167123159102102189183173197148\nSally   189 130 138 113 159 116 134 196 150 144 189130138113159116134196150144\nMario   104 106 120 188 143 189 149 174 163 100 104106120188143189149174163100\nLev 152 159 195 140 154 176 107 128 166 181 152159195140154176107128166181\nCarden  158 200 175 114 117 150 176 181 131 132 158200175114117150176181131132\nAdelie  175 199 122 104 198 182 175 153 120 165 175199122104198182175153120165\nLada    161 108 102 193 151 197 115 137 126 186 161108102193151197115137126186\nXavier  178 171 147 113 107 129 128 189 165 195 178171147113107129128189165195\nRaffi   176 144 151 124 149 112 158 159 119 177 176144151124149112158159119177\nChang   135 144 177 153 143 125 145 140 117 158 135144177153143125145140117158\nMich    156 105 178 137 165 180 128 115 139 157 156105178137165180128115139157\nMason   162 185 108 106 113 135 139 135 197 160 162185108106113135139135197160\nCora    186 115 106 126 135 108 157 156 187 120 186115106126135108157156187120\nSergio  117 105 115 116 193 200 176 134 122 153 117105115116193200176134122153\nJonas   132 163 196 101 134 159 131 104 135 168 132163196101134159131104135168\n----------------------------------------------------------------------------------------------\n# of Gamers: 15\nTop Gamer: Adelie\n----------------------------------------------------------------------------------------------\n</code></pre>\n<p>Please note that the output of my scores appears correctly when the program is ran.</p>\n<p>In addition, here is the information from the text file:</p>\n<p>Bob,167,123,159,102,102,189,183,173,197,148\nSally,189,130,138,113,159,116,134,196,150,144\nMario,104,106,120,188,143,189,149,174,163,100\nLev,152,159,195,140,154,176,107,128,166,181\nCarden,158,200,175,114,117,150,176,181,131,132\nAdelie,175,199,122,104,198,182,175,153,120,165\nLada,161,108,102,193,151,197,115,137,126,186\nXavier,178,171,147,113,107,129,128,189,165,195\nRaffi,176,144,151,124,149,112,158,159,119,177\nChang,135,144,177,153,143,125,145,140,117,158\nMich,156,105,178,137,165,180,128,115,139,157\nMason,162,185,108,106,113,135,139,135,197,160\nCora,186,115,106,126,135,108,157,156,187,120\nSergio,117,105,115,116,193,200,176,134,122,153\nJonas,132,163,196,101,134,159,131,104,135,168</p>\n<p>Any insight you can kindly provide would be greatly appreciated.</p>\n"},{"tags":["java","c++","sockets","messaging","file-transfer"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1643699728,"post_id":70934925,"comment_id":125402770,"body_markdown":"You should check the return value of the functions `RecvBuffer` and `SendPackage`. Also, your code doesn&#39;t seem to be a [mre] - especially Java code. If you are facing issues. I recommend to first check one way communication from client to server and resolve all issues you face there. Once done, then check communication from server to client.","body":"You should check the return value of the functions <code>RecvBuffer</code> and <code>SendPackage</code>. Also, your code doesn&#39;t seem to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - especially Java code. If you are facing issues. I recommend to first check one way communication from client to server and resolve all issues you face there. Once done, then check communication from server to client."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1643804677,"post_id":70934925,"comment_id":125435308,"body_markdown":"It looks like you may have combined `BufferedReader` with `BufferedInputStream` so are skipping over various chunks of the input and converted image bytes to characters on the way =&gt; hence not working.","body":"It looks like you may have combined <code>BufferedReader</code> with <code>BufferedInputStream</code> so are skipping over various chunks of the input and converted image bytes to characters on the way =&gt; hence not working."},{"owner":{"account_id":12255869,"reputation":15,"user_id":8944928,"display_name":"RadoRadTs"},"score":0,"creation_date":1643921226,"post_id":70934925,"comment_id":125474748,"body_markdown":"I have followed the perscription of @kiner_shah and work continues with another topic. Thank you very much!","body":"I have followed the perscription of @kiner_shah and work continues with another topic. Thank you very much!"},{"owner":{"account_id":12255869,"reputation":15,"user_id":8944928,"display_name":"RadoRadTs"},"score":0,"creation_date":1643921300,"post_id":70934925,"comment_id":125474779,"body_markdown":"@DuncG finally if everything is done i will post it back here. Yes they really mixed everything. Reading from one doesn&#39;t affect the other. Thank you very much!","body":"@DuncG finally if everything is done i will post it back here. Yes they really mixed everything. Reading from one doesn&#39;t affect the other. Thank you very much!"}],"owner":{"account_id":12255869,"reputation":15,"user_id":8944928,"display_name":"RadoRadTs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643682012,"creation_date":1643681589,"question_id":70934925,"body_markdown":"I am trying to implement socket connection between C++ client and Java server.\r\nIt must be cappable of sending files, and image file for every iteration as well as text.\r\nThe C++ client is a dll.\r\nI am suffering to understand where is the problem. If both applications are sockets - locked by default, yet the client seems to &quot;overtake&quot; the server.\r\nFor this reason server is sending request for data first, than just next - data should come back.\r\nI thought that should work, but not.\r\nAlso setting some sleep between messages in the server improves functionality, but with or withouth sleep - Beep() server freezes, it seems it is working just slightly slower than client - it seems there is no synchronization.\r\nPlese help! Can you can give any valuable advice?\r\n\r\n\r\nBelow are important parts of both applications:\r\n\r\n\r\nC++ client\r\n\r\n    while (userInput.size() &gt; 0)\r\n    {\r\n    \t//some other lines\r\n    \tconst int64_t fileSize = GetFileSize(fName);\r\n    \tint chunkSize = 1024\r\n    \tchar buff; \r\n    \tRecvBuffer(sock, &amp;buff, 5, 5);\t\t// 5 chars message length &quot;A\\r\\n&quot;, another 5 to send at once ?\r\n    \tcout &lt;&lt; &quot;rcvd: &quot; &lt;&lt; buff&lt;&lt; endl;\t//Printing &quot;rcvd: A&quot; - it was sent from Java &quot;A\\r\\n&quot;\t\r\n    \tSendPackage(sock, fName, chunkSize, ks);\r\n    \tcout &lt;&lt; &quot;sent: &quot; &lt;&lt; endl;\t\t//This &quot;sent: &quot; is &quot;walking back before rcvd: A&quot; with different speed every time the program is started\r\n    \t//Beep(8000, 100);\r\n    }\r\n    \r\n    \r\n    \r\n    int RecvBuffer(SOCKET s, char* buffer, int bufferSize, int chunkSize) {\r\n        int i = 0;\r\n        while (i &lt; bufferSize) {\r\n            const int l = recv(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0);\r\n            if (l &lt; 0) { return l; } // this is an error\r\n            i += l;\r\n        }\r\n        return i;\r\n    }\r\n    \r\n    \r\n    \r\n    int64_t SendPackage(SOCKET s, const std::string fileName, int chunkSize,std::string header) {\r\n       \r\n        int64_t fileSize = GetFileSize(fileName);\r\n        if (fileSize &lt; 0) { return -1; } \r\n        std::ifstream file(fileName, std::ifstream::binary);\r\n        if (file.fail()) { return -1; } \r\n        if (send(s, header.c_str(), header.size(), 0) == SOCKET_ERROR) { return -2; }\r\n        std::vector&lt;char&gt; buffer(chunkSize);\r\n        bool errored = false;\r\n        int64_t bytes_sent = 0;\r\n    \r\n        while (fileSize &gt; 0) {\r\n            //Beep(0, 2000);//Any delay here also helps\r\n            int ssize = static_cast&lt;int&gt;(std::min&lt;int64_t&gt;(fileSize, chunkSize));\r\n            if (!file.read(buffer.data(), ssize)) { errored = true;  std::cout &lt;&lt; &quot;err!!!&quot; &lt;&lt; std::endl;break; }\r\n            if (!SendBuffer(s, buffer.data(), ssize)) { errored = true; std::cout &lt;&lt; &quot;err!!!&quot; &lt;&lt; std::endl; break; }\r\n            fileSize -= ssize;\r\n        }\r\n        file.close();\r\n    \r\n        if (errored) {\r\n            std::cout &lt;&lt; &quot;err&quot; &lt;&lt; std::endl;\r\n            return -3;\r\n        }\r\n        return bytes_sent;\r\n    }\r\n    \r\n    \r\n    \r\n    BOOL SendBuffer(SOCKET s, const char* buffer, int bufferSize) {\r\n        \r\n        if (bufferSize &gt; 0)\r\n        {   \r\n            int numSent = send(s, buffer, bufferSize, 0/*MSG_DONTROUTE*/);\r\n            if (numSent &lt; 0) {\r\n                \r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\nJava Server\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    while(!Message.equals(&quot;command_Exit&quot;))\r\n    {   \r\n        ps.println(&quot;A\\r\\n&quot;);\r\n        long filesize = 0;\r\n        \r\n        String inputStr = br.readLine();\r\n        filesize = pD.getFileSize(inputStr);\r\n        dis = new DataInputStream(bis);        //bis = new BufferedInputStream(is);//is = s.getInputStream();//s - socket\r\n        int pos = 0;\r\n        \r\n        if (filesize &gt; 0)\r\n        {  \r\n           byte[] totalbytes = new byte[(int)filesize];   \r\n           byte[] bytes = new byte[1024];\r\n           do\r\n           {   \r\n               int chunkSize = (int) Math.min(filesize, (long) bytes.length);\r\n               dis.readFully(bytes, 0, chunkSize);\r\n               int x = 0;\r\n               while(x&lt;chunkSize)\r\n               {\r\n                totalbytes[pos] = bytes[x];\r\n               x++;\r\n               pos++;\r\n               }\r\n               filesize -= chunkSize;\r\n           }\r\n           while (filesize &gt; 0);\r\n           ByteArrayInputStream input_stream= new ByteArrayInputStream(totalbytes);\r\n           BufferedImage final_buffered_image = ImageIO.read(input_stream);\r\n           System.out.println(final_buffered_image);\r\n        }\r\n        dis=null;\r\n    }\r\n\r\nI will appreciate any help.\r\nThank you very much for the time spent!","title":"What could cause a freezing socket between C++ and Java?","body":"<p>I am trying to implement socket connection between C++ client and Java server.\nIt must be cappable of sending files, and image file for every iteration as well as text.\nThe C++ client is a dll.\nI am suffering to understand where is the problem. If both applications are sockets - locked by default, yet the client seems to &quot;overtake&quot; the server.\nFor this reason server is sending request for data first, than just next - data should come back.\nI thought that should work, but not.\nAlso setting some sleep between messages in the server improves functionality, but with or withouth sleep - Beep() server freezes, it seems it is working just slightly slower than client - it seems there is no synchronization.\nPlese help! Can you can give any valuable advice?</p>\n<p>Below are important parts of both applications:</p>\n<p>C++ client</p>\n<pre><code>while (userInput.size() &gt; 0)\n{\n    //some other lines\n    const int64_t fileSize = GetFileSize(fName);\n    int chunkSize = 1024\n    char buff; \n    RecvBuffer(sock, &amp;buff, 5, 5);      // 5 chars message length &quot;A\\r\\n&quot;, another 5 to send at once ?\n    cout &lt;&lt; &quot;rcvd: &quot; &lt;&lt; buff&lt;&lt; endl;    //Printing &quot;rcvd: A&quot; - it was sent from Java &quot;A\\r\\n&quot;    \n    SendPackage(sock, fName, chunkSize, ks);\n    cout &lt;&lt; &quot;sent: &quot; &lt;&lt; endl;       //This &quot;sent: &quot; is &quot;walking back before rcvd: A&quot; with different speed every time the program is started\n    //Beep(8000, 100);\n}\n\n\n\nint RecvBuffer(SOCKET s, char* buffer, int bufferSize, int chunkSize) {\n    int i = 0;\n    while (i &lt; bufferSize) {\n        const int l = recv(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0);\n        if (l &lt; 0) { return l; } // this is an error\n        i += l;\n    }\n    return i;\n}\n\n\n\nint64_t SendPackage(SOCKET s, const std::string fileName, int chunkSize,std::string header) {\n   \n    int64_t fileSize = GetFileSize(fileName);\n    if (fileSize &lt; 0) { return -1; } \n    std::ifstream file(fileName, std::ifstream::binary);\n    if (file.fail()) { return -1; } \n    if (send(s, header.c_str(), header.size(), 0) == SOCKET_ERROR) { return -2; }\n    std::vector&lt;char&gt; buffer(chunkSize);\n    bool errored = false;\n    int64_t bytes_sent = 0;\n\n    while (fileSize &gt; 0) {\n        //Beep(0, 2000);//Any delay here also helps\n        int ssize = static_cast&lt;int&gt;(std::min&lt;int64_t&gt;(fileSize, chunkSize));\n        if (!file.read(buffer.data(), ssize)) { errored = true;  std::cout &lt;&lt; &quot;err!!!&quot; &lt;&lt; std::endl;break; }\n        if (!SendBuffer(s, buffer.data(), ssize)) { errored = true; std::cout &lt;&lt; &quot;err!!!&quot; &lt;&lt; std::endl; break; }\n        fileSize -= ssize;\n    }\n    file.close();\n\n    if (errored) {\n        std::cout &lt;&lt; &quot;err&quot; &lt;&lt; std::endl;\n        return -3;\n    }\n    return bytes_sent;\n}\n\n\n\nBOOL SendBuffer(SOCKET s, const char* buffer, int bufferSize) {\n    \n    if (bufferSize &gt; 0)\n    {   \n        int numSent = send(s, buffer, bufferSize, 0/*MSG_DONTROUTE*/);\n        if (numSent &lt; 0) {\n            \n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>Java Server</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(!Message.equals(&quot;command_Exit&quot;))\n{   \n    ps.println(&quot;A\\r\\n&quot;);\n    long filesize = 0;\n    \n    String inputStr = br.readLine();\n    filesize = pD.getFileSize(inputStr);\n    dis = new DataInputStream(bis);        //bis = new BufferedInputStream(is);//is = s.getInputStream();//s - socket\n    int pos = 0;\n    \n    if (filesize &gt; 0)\n    {  \n       byte[] totalbytes = new byte[(int)filesize];   \n       byte[] bytes = new byte[1024];\n       do\n       {   \n           int chunkSize = (int) Math.min(filesize, (long) bytes.length);\n           dis.readFully(bytes, 0, chunkSize);\n           int x = 0;\n           while(x&lt;chunkSize)\n           {\n            totalbytes[pos] = bytes[x];\n           x++;\n           pos++;\n           }\n           filesize -= chunkSize;\n       }\n       while (filesize &gt; 0);\n       ByteArrayInputStream input_stream= new ByteArrayInputStream(totalbytes);\n       BufferedImage final_buffered_image = ImageIO.read(input_stream);\n       System.out.println(final_buffered_image);\n    }\n    dis=null;\n}\n</code></pre>\n<p>I will appreciate any help.\nThank you very much for the time spent!</p>\n"},{"tags":["java","spring-boot","maven","maven-3","java-17"],"comments":[{"owner":{"account_id":22868461,"reputation":177,"user_id":17011860,"display_name":"Asif A Fasih"},"score":0,"creation_date":1643677982,"post_id":70934451,"comment_id":125399409,"body_markdown":"are you asking about running a Maven dependency tree analysis that is limited to the `compile` scope?","body":"are you asking about running a Maven dependency tree analysis that is limited to the <code>compile</code> scope?"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":1,"creation_date":1643678263,"post_id":70934451,"comment_id":125399455,"body_markdown":"No, I am asking why log4j, for example, is being deployed with my final jar since it is inherited from a test-scoped dependency.","body":"No, I am asking why log4j, for example, is being deployed with my final jar since it is inherited from a test-scoped dependency."},{"owner":{"account_id":22868461,"reputation":177,"user_id":17011860,"display_name":"Asif A Fasih"},"score":0,"creation_date":1643678641,"post_id":70934451,"comment_id":125399512,"body_markdown":"do you have a link to your pom.xml? I tried to reproduce this and found that `org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.1` and `org.apache.logging.log4j:log4j-api:jar:2.17.1` are transitive dependencies of `org.springframework.boot:spring-boot-starter-webflux:jar:2.6.3:compile`","body":"do you have a link to your pom.xml? I tried to reproduce this and found that <code>org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.1</code> and <code>org.apache.logging.log4j:log4j-api:jar:2.17.1</code> are transitive dependencies of <code>org.springframework.boot:spring-boot-starter-webflux:jar:2.6&zwnj;&#8203;.3:compile</code>"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1643678796,"post_id":70934451,"comment_id":125399527,"body_markdown":"I will edit the question with my dependencies.","body":"I will edit the question with my dependencies."},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1643679018,"post_id":70934451,"comment_id":125399553,"body_markdown":"But I double checked and it seems that log4j is coming from spring-boot-starter-test. I used CTRL + F on chrome with this question opened besides Eclipse dependency resolution screen.","body":"But I double checked and it seems that log4j is coming from spring-boot-starter-test. I used CTRL + F on chrome with this question opened besides Eclipse dependency resolution screen."},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1643679912,"post_id":70934451,"comment_id":125399688,"body_markdown":"I think this may be a issue on how maven displays the dependency tree, I thought log4j was being deployed because of spring-boot-starter-actuator because that is not clear on how maven displays it but I edited my pom and placed exclusion on the spring-boot-starter-test and log4j dependencies were gone. But in another project with just webflux and actuator in same versions as the first project log4j is being checked because of actuator.","body":"I think this may be a issue on how maven displays the dependency tree, I thought log4j was being deployed because of spring-boot-starter-actuator because that is not clear on how maven displays it but I edited my pom and placed exclusion on the spring-boot-starter-test and log4j dependencies were gone. But in another project with just webflux and actuator in same versions as the first project log4j is being checked because of actuator."},{"owner":{"account_id":22868461,"reputation":177,"user_id":17011860,"display_name":"Asif A Fasih"},"score":0,"creation_date":1643680117,"post_id":70934451,"comment_id":125399710,"body_markdown":"yes, I verified that with the `./mvnw dependency:tree -Dscope=compile` command. the log4j dependencies are being brought in, transitively, through `spring-boot-starter-actuator`","body":"yes, I verified that with the <code>.&#47;mvnw dependency:tree -Dscope=compile</code> command. the log4j dependencies are being brought in, transitively, through <code>spring-boot-starter-actuator</code>"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1643680419,"post_id":70934451,"comment_id":125399761,"body_markdown":"Can you see my edit about the exclusions?","body":"Can you see my edit about the exclusions?"},{"owner":{"account_id":22868461,"reputation":177,"user_id":17011860,"display_name":"Asif A Fasih"},"score":0,"creation_date":1643680700,"post_id":70934451,"comment_id":125399793,"body_markdown":"yes, the `log4j` dependencies are no longer being brought in with `spring-boot-starter-test`, they are still being brought in with `spring-boot-starter-actuator`","body":"yes, the <code>log4j</code> dependencies are no longer being brought in with <code>spring-boot-starter-test</code>, they are still being brought in with <code>spring-boot-starter-actuator</code>"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1643682645,"post_id":70934451,"comment_id":125400022,"body_markdown":"@asifafasih, if you rerun `mvn dependency:tree`, you&#39;ll see that now they are not being brought at all.","body":"@asifafasih, if you rerun <code>mvn dependency:tree</code>, you&#39;ll see that now they are not being brought at all."},{"owner":{"account_id":22868461,"reputation":177,"user_id":17011860,"display_name":"Asif A Fasih"},"score":0,"creation_date":1643682818,"post_id":70934451,"comment_id":125400041,"body_markdown":"I was not able to see that. when I provided the `log4j` exclusions for the `spring-boot-starter-test` dependency, it was excluded when I ran `./mvnw dependency:tree` in both IntelliJ and GitBash.","body":"I was not able to see that. when I provided the <code>log4j</code> exclusions for the <code>spring-boot-starter-test</code> dependency, it was excluded when I ran <code>.&#47;mvnw dependency:tree</code> in both IntelliJ and GitBash."},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":1,"creation_date":1643683035,"post_id":70934451,"comment_id":125400070,"body_markdown":"I&#39;ll check it out one more time and I&#39;ll get back at you ASAP.","body":"I&#39;ll check it out one more time and I&#39;ll get back at you ASAP."},{"owner":{"account_id":41028,"reputation":1596,"user_id":119151,"accept_rate":77,"display_name":"dstibbe"},"score":0,"creation_date":1679670833,"post_id":70934451,"comment_id":133768082,"body_markdown":"Has this been resolved? Then I&#39;d like to know how :)","body":"Has this been resolved? Then I&#39;d like to know how :)"}],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643680252,"creation_date":1643675842,"question_id":70934451,"body_markdown":"I am generating my build and I am seeing deployed with my microservice compile transitive dependencies such as log4j, that came with a direct test dependency such as spring-boot-starter-test. That is also confirmed when I run `mvn dependency:tree` and gets the output below:\r\n\r\n\t--- maven-dependency-plugin:3.2.0:tree (default-cli) @ payments-infrastructure ---\r\n\tcom.enterprise.project:payments-infrastructure:jar:1.0.0\r\n\t+- com.enterprise.project:payments-core:jar:1.0.0:compile\r\n\t|  +- com.enterprise.project:lib-java-tokenized:jar:1.0.0:compile\r\n\t|  |  \\- com.enterprise.project:lib-java-commons:jar:1.0.0:compile\r\n\t|  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.1:compile\r\n\t|  +- com.google.code.gson:gson:jar:2.8.9:compile\r\n\t|  \\- org.json:json:jar:20211205:compile\r\n\t+- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n\t|  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n\t|  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n\t|  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n\t+- org.mockito:mockito-inline:jar:4.0.0:test\r\n\t|  \\- org.mockito:mockito-core:jar:4.0.0:test\r\n\t|     +- net.bytebuddy:byte-buddy:jar:1.11.22:test\r\n\t|     +- net.bytebuddy:byte-buddy-agent:jar:1.11.22:test\r\n\t|     \\- org.objenesis:objenesis:jar:3.2:test\r\n\t+- org.springframework.boot:spring-boot-starter-test:jar:2.6.3:test\r\n\t|  +- org.springframework.boot:spring-boot-starter:jar:2.6.3:compile\r\n\t|  |  +- org.springframework.boot:spring-boot:jar:2.6.3:compile\r\n\t|  |  |  \\- org.springframework:spring-context:jar:5.3.15:compile\r\n\t|  |  |     +- org.springframework:spring-aop:jar:5.3.15:compile\r\n\t|  |  |     \\- org.springframework:spring-expression:jar:5.3.15:compile\r\n\t|  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.6.3:compile\r\n\t|  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.6.3:compile\r\n\t|  |  |  +- ch.qos.logback:logback-classic:jar:1.2.10:compile\r\n\t|  |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.10:compile\r\n\t|  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.1:compile\r\n\t|  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\r\n\t|  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.33:compile\r\n\t|  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n\t|  |  \\- org.yaml:snakeyaml:jar:1.29:compile\r\n\t|  +- org.springframework.boot:spring-boot-test:jar:2.6.3:test\r\n\t|  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.6.3:test\r\n\t|  +- com.jayway.jsonpath:json-path:jar:2.6.0:test\r\n\t|  |  \\- net.minidev:json-smart:jar:2.4.7:test\r\n\t|  |     \\- net.minidev:accessors-smart:jar:2.4.7:test\r\n\t|  |        \\- org.ow2.asm:asm:jar:9.1:test\r\n\t|  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n\t|  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n\t|  +- org.assertj:assertj-core:jar:3.21.0:test\r\n\t|  +- org.hamcrest:hamcrest:jar:2.2:test\r\n\t|  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\r\n\t|  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n\t|  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\r\n\t|  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\r\n\t|  +- org.mockito:mockito-junit-jupiter:jar:4.0.0:test\r\n\t|  +- org.skyscreamer:jsonassert:jar:1.5.0:test\r\n\t|  +- org.springframework:spring-core:jar:5.3.15:compile\r\n\t|  |  \\- org.springframework:spring-jcl:jar:5.3.15:compile\r\n\t|  +- org.springframework:spring-test:jar:5.3.15:test\r\n\t|  \\- org.xmlunit:xmlunit-core:jar:2.8.4:test\r\n\t+- com.enterprise.project:lib-java-payment-commons:test-jar:tests:1.0.0:test\r\n\t|  +- org.slf4j:slf4j-api:jar:1.7.33:compile\r\n\t|  +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.1:compile\r\n\t|  |  +- com.fasterxml.jackson.core:jackson-core:jar:2.13.1:compile\r\n\t|  |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n\t|  |  \\- com.fasterxml.woodstox:woodstox-core:jar:6.2.7:compile\r\n\t|  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n\t|  +- javax.validation:validation-api:jar:2.0.1.Final:compile\r\n\t|  \\- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\r\n\t+- org.springframework.boot:spring-boot-starter-actuator:jar:2.6.3:compile\r\n\t|  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:2.6.3:compile\r\n\t|  |  +- org.springframework.boot:spring-boot-actuator:jar:2.6.3:compile\r\n\t|  |  \\- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.1:compile\r\n\t|  \\- io.micrometer:micrometer-core:jar:1.8.2:compile\r\n\t|     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\r\n\t|     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n\t+- org.springframework.boot:spring-boot-starter-validation:jar:2.6.3:compile\r\n\t|  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.56:compile\r\n\t|  \\- org.hibernate.validator:hibernate-validator:jar:6.2.0.Final:compile\r\n\t|     +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\r\n\t|     +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\r\n\t|     \\- com.fasterxml:classmate:jar:1.5.1:compile\r\n\t+- org.springframework.cloud:spring-cloud-starter-consul-config:jar:3.1.0:compile\r\n\t|  +- org.springframework.cloud:spring-cloud-starter-consul:jar:3.1.0:compile\r\n\t|  |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.0:compile\r\n\t|  |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.0:compile\r\n\t|  |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.10.RELEASE:compile\r\n\t|  |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.68:compile\r\n\t|  |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.68:compile\r\n\t|  |  +- org.springframework.cloud:spring-cloud-consul-core:jar:3.1.0:compile\r\n\t|  |  +- com.ecwid.consul:consul-api:jar:1.4.5:compile\r\n\t|  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n\t|  |  |  \\- commons-codec:commons-codec:jar:1.15:compile\r\n\t|  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.15:compile\r\n\t|  \\- org.springframework.cloud:spring-cloud-consul-config:jar:3.1.0:compile\r\n\t|     \\- org.springframework.cloud:spring-cloud-commons:jar:3.1.0:compile\r\n\t|        \\- org.springframework.security:spring-security-crypto:jar:5.6.1:compile\r\n\t+- org.springframework.boot:spring-boot-starter-webflux:jar:2.6.3:compile\r\n\t|  +- org.springframework.boot:spring-boot-starter-json:jar:2.6.3:compile\r\n\t|  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.1:compile\r\n\t|  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.1:compile\r\n\t|  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.6.3:compile\r\n\t|  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.15:compile\r\n\t|  |     +- io.netty:netty-codec-http:jar:4.1.73.Final:compile\r\n\t|  |     |  +- io.netty:netty-common:jar:4.1.73.Final:compile\r\n\t|  |     |  +- io.netty:netty-buffer:jar:4.1.73.Final:compile\r\n\t|  |     |  +- io.netty:netty-transport:jar:4.1.73.Final:compile\r\n\t|  |     |  +- io.netty:netty-codec:jar:4.1.73.Final:compile\r\n\t|  |     |  \\- io.netty:netty-handler:jar:4.1.73.Final:compile\r\n\t|  |     |     \\- io.netty:netty-tcnative-classes:jar:2.0.46.Final:compile\r\n\t|  |     +- io.netty:netty-codec-http2:jar:4.1.73.Final:compile\r\n\t|  |     +- io.netty:netty-resolver-dns:jar:4.1.73.Final:compile\r\n\t|  |     |  +- io.netty:netty-resolver:jar:4.1.73.Final:compile\r\n\t|  |     |  \\- io.netty:netty-codec-dns:jar:4.1.73.Final:compile\r\n\t|  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.73.Final:compile\r\n\t|  |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.73.Final:compile\r\n\t|  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.73.Final:compile\r\n\t|  |     |  +- io.netty:netty-transport-native-unix-common:jar:4.1.73.Final:compile\r\n\t|  |     |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.73.Final:compile\r\n\t|  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.15:compile\r\n\t|  |        \\- io.netty:netty-handler-proxy:jar:4.1.73.Final:compile\r\n\t|  |           \\- io.netty:netty-codec-socks:jar:4.1.73.Final:compile\r\n\t|  +- org.springframework:spring-web:jar:5.3.15:compile\r\n\t|  |  \\- org.springframework:spring-beans:jar:5.3.15:compile\r\n\t|  \\- org.springframework:spring-webflux:jar:5.3.15:compile\r\n\t|     \\- io.projectreactor:reactor-core:jar:3.4.14:compile\r\n\t|        \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\r\n\t+- net.logstash.logback:logstash-logback-encoder:jar:7.0.1:compile\r\n\t|  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.13.1:compile\r\n\t\\- org.springdoc:springdoc-openapi-webflux-ui:jar:1.6.2:compile\r\n\t   +- org.springdoc:springdoc-openapi-webflux-core:jar:1.6.2:compile\r\n\t   |  \\- org.springdoc:springdoc-openapi-common:jar:1.6.2:compile\r\n\t   |     +- io.swagger.core.v3:swagger-models:jar:2.1.11:compile\r\n\t   |     +- io.swagger.core.v3:swagger-annotations:jar:2.1.11:compile\r\n\t   |     +- io.swagger.core.v3:swagger-integration:jar:2.1.11:compile\r\n\t   |     |  \\- io.swagger.core.v3:swagger-core:jar:2.1.11:compile\r\n\t   |     |     \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.13.1:compile\r\n\t   |     \\- io.github.classgraph:classgraph:jar:4.8.116:compile\r\n\t   +- org.webjars:swagger-ui:jar:4.1.3:compile\r\n\t   \\- org.webjars:webjars-locator-core:jar:0.48:compile\r\n\r\nFollowing my dependencies list:\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.enterprise.project&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;payments-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.enterprise.project&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lib-java-commons&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t\t&lt;type&gt;test-jar&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-consul-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nI edited the dependencies above and placed exclusions for log4j in the spring-boot-starter-test and the log4j dependencies were gone. But I tested in another project that I have only three dependencies and none of them is spring-boot-starter-test and log4j shows up again, which leads me to my first question, why log4j were gone from the first project if I just placed exclusions in spring-boot-starter-test?\r\n\r\nHere&#39;s the exclusions:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAnd here&#39;s my second project dependencies:\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nAnd a second question is, shouldn&#39;t all the transitive dependencies be excluded from my final jar independent to its scope to a direct test dependency? I mean, shouldn&#39;t log4j not be included in my final jar since it is inherited by a direct test dependency?","title":"Why does spring-boot include compile transitive dependencies from a test direct dependency?","body":"<p>I am generating my build and I am seeing deployed with my microservice compile transitive dependencies such as log4j, that came with a direct test dependency such as spring-boot-starter-test. That is also confirmed when I run <code>mvn dependency:tree</code> and gets the output below:</p>\n<pre><code>--- maven-dependency-plugin:3.2.0:tree (default-cli) @ payments-infrastructure ---\ncom.enterprise.project:payments-infrastructure:jar:1.0.0\n+- com.enterprise.project:payments-core:jar:1.0.0:compile\n|  +- com.enterprise.project:lib-java-tokenized:jar:1.0.0:compile\n|  |  \\- com.enterprise.project:lib-java-commons:jar:1.0.0:compile\n|  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.1:compile\n|  +- com.google.code.gson:gson:jar:2.8.9:compile\n|  \\- org.json:json:jar:20211205:compile\n+- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n|  +- org.opentest4j:opentest4j:jar:1.2.0:test\n|  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n|  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n+- org.mockito:mockito-inline:jar:4.0.0:test\n|  \\- org.mockito:mockito-core:jar:4.0.0:test\n|     +- net.bytebuddy:byte-buddy:jar:1.11.22:test\n|     +- net.bytebuddy:byte-buddy-agent:jar:1.11.22:test\n|     \\- org.objenesis:objenesis:jar:3.2:test\n+- org.springframework.boot:spring-boot-starter-test:jar:2.6.3:test\n|  +- org.springframework.boot:spring-boot-starter:jar:2.6.3:compile\n|  |  +- org.springframework.boot:spring-boot:jar:2.6.3:compile\n|  |  |  \\- org.springframework:spring-context:jar:5.3.15:compile\n|  |  |     +- org.springframework:spring-aop:jar:5.3.15:compile\n|  |  |     \\- org.springframework:spring-expression:jar:5.3.15:compile\n|  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.6.3:compile\n|  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.6.3:compile\n|  |  |  +- ch.qos.logback:logback-classic:jar:1.2.10:compile\n|  |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.10:compile\n|  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.1:compile\n|  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\n|  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.33:compile\n|  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n|  |  \\- org.yaml:snakeyaml:jar:1.29:compile\n|  +- org.springframework.boot:spring-boot-test:jar:2.6.3:test\n|  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.6.3:test\n|  +- com.jayway.jsonpath:json-path:jar:2.6.0:test\n|  |  \\- net.minidev:json-smart:jar:2.4.7:test\n|  |     \\- net.minidev:accessors-smart:jar:2.4.7:test\n|  |        \\- org.ow2.asm:asm:jar:9.1:test\n|  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n|  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n|  +- org.assertj:assertj-core:jar:3.21.0:test\n|  +- org.hamcrest:hamcrest:jar:2.2:test\n|  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\n|  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n|  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\n|  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\n|  +- org.mockito:mockito-junit-jupiter:jar:4.0.0:test\n|  +- org.skyscreamer:jsonassert:jar:1.5.0:test\n|  +- org.springframework:spring-core:jar:5.3.15:compile\n|  |  \\- org.springframework:spring-jcl:jar:5.3.15:compile\n|  +- org.springframework:spring-test:jar:5.3.15:test\n|  \\- org.xmlunit:xmlunit-core:jar:2.8.4:test\n+- com.enterprise.project:lib-java-payment-commons:test-jar:tests:1.0.0:test\n|  +- org.slf4j:slf4j-api:jar:1.7.33:compile\n|  +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.1:compile\n|  |  +- com.fasterxml.jackson.core:jackson-core:jar:2.13.1:compile\n|  |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n|  |  \\- com.fasterxml.woodstox:woodstox-core:jar:6.2.7:compile\n|  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n|  +- javax.validation:validation-api:jar:2.0.1.Final:compile\n|  \\- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\n+- org.springframework.boot:spring-boot-starter-actuator:jar:2.6.3:compile\n|  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:2.6.3:compile\n|  |  +- org.springframework.boot:spring-boot-actuator:jar:2.6.3:compile\n|  |  \\- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.1:compile\n|  \\- io.micrometer:micrometer-core:jar:1.8.2:compile\n|     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\n|     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n+- org.springframework.boot:spring-boot-starter-validation:jar:2.6.3:compile\n|  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.56:compile\n|  \\- org.hibernate.validator:hibernate-validator:jar:6.2.0.Final:compile\n|     +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\n|     +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\n|     \\- com.fasterxml:classmate:jar:1.5.1:compile\n+- org.springframework.cloud:spring-cloud-starter-consul-config:jar:3.1.0:compile\n|  +- org.springframework.cloud:spring-cloud-starter-consul:jar:3.1.0:compile\n|  |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.0:compile\n|  |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.0:compile\n|  |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.10.RELEASE:compile\n|  |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.68:compile\n|  |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.68:compile\n|  |  +- org.springframework.cloud:spring-cloud-consul-core:jar:3.1.0:compile\n|  |  +- com.ecwid.consul:consul-api:jar:1.4.5:compile\n|  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n|  |  |  \\- commons-codec:commons-codec:jar:1.15:compile\n|  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.15:compile\n|  \\- org.springframework.cloud:spring-cloud-consul-config:jar:3.1.0:compile\n|     \\- org.springframework.cloud:spring-cloud-commons:jar:3.1.0:compile\n|        \\- org.springframework.security:spring-security-crypto:jar:5.6.1:compile\n+- org.springframework.boot:spring-boot-starter-webflux:jar:2.6.3:compile\n|  +- org.springframework.boot:spring-boot-starter-json:jar:2.6.3:compile\n|  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.1:compile\n|  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.1:compile\n|  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:2.6.3:compile\n|  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.15:compile\n|  |     +- io.netty:netty-codec-http:jar:4.1.73.Final:compile\n|  |     |  +- io.netty:netty-common:jar:4.1.73.Final:compile\n|  |     |  +- io.netty:netty-buffer:jar:4.1.73.Final:compile\n|  |     |  +- io.netty:netty-transport:jar:4.1.73.Final:compile\n|  |     |  +- io.netty:netty-codec:jar:4.1.73.Final:compile\n|  |     |  \\- io.netty:netty-handler:jar:4.1.73.Final:compile\n|  |     |     \\- io.netty:netty-tcnative-classes:jar:2.0.46.Final:compile\n|  |     +- io.netty:netty-codec-http2:jar:4.1.73.Final:compile\n|  |     +- io.netty:netty-resolver-dns:jar:4.1.73.Final:compile\n|  |     |  +- io.netty:netty-resolver:jar:4.1.73.Final:compile\n|  |     |  \\- io.netty:netty-codec-dns:jar:4.1.73.Final:compile\n|  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.73.Final:compile\n|  |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.73.Final:compile\n|  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.73.Final:compile\n|  |     |  +- io.netty:netty-transport-native-unix-common:jar:4.1.73.Final:compile\n|  |     |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.73.Final:compile\n|  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.15:compile\n|  |        \\- io.netty:netty-handler-proxy:jar:4.1.73.Final:compile\n|  |           \\- io.netty:netty-codec-socks:jar:4.1.73.Final:compile\n|  +- org.springframework:spring-web:jar:5.3.15:compile\n|  |  \\- org.springframework:spring-beans:jar:5.3.15:compile\n|  \\- org.springframework:spring-webflux:jar:5.3.15:compile\n|     \\- io.projectreactor:reactor-core:jar:3.4.14:compile\n|        \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\n+- net.logstash.logback:logstash-logback-encoder:jar:7.0.1:compile\n|  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.13.1:compile\n\\- org.springdoc:springdoc-openapi-webflux-ui:jar:1.6.2:compile\n   +- org.springdoc:springdoc-openapi-webflux-core:jar:1.6.2:compile\n   |  \\- org.springdoc:springdoc-openapi-common:jar:1.6.2:compile\n   |     +- io.swagger.core.v3:swagger-models:jar:2.1.11:compile\n   |     +- io.swagger.core.v3:swagger-annotations:jar:2.1.11:compile\n   |     +- io.swagger.core.v3:swagger-integration:jar:2.1.11:compile\n   |     |  \\- io.swagger.core.v3:swagger-core:jar:2.1.11:compile\n   |     |     \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.13.1:compile\n   |     \\- io.github.classgraph:classgraph:jar:4.8.116:compile\n   +- org.webjars:swagger-ui:jar:4.1.3:compile\n   \\- org.webjars:webjars-locator-core:jar:0.48:compile\n</code></pre>\n<p>Following my dependencies list:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.enterprise.project&lt;/groupId&gt;\n        &lt;artifactId&gt;payments-core&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.enterprise.project&lt;/groupId&gt;\n        &lt;artifactId&gt;lib-java-commons&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;type&gt;test-jar&lt;/type&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-consul-config&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I edited the dependencies above and placed exclusions for log4j in the spring-boot-starter-test and the log4j dependencies were gone. But I tested in another project that I have only three dependencies and none of them is spring-boot-starter-test and log4j shows up again, which leads me to my first question, why log4j were gone from the first project if I just placed exclusions in spring-boot-starter-test?</p>\n<p>Here's the exclusions:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And here's my second project dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And a second question is, shouldn't all the transitive dependencies be excluded from my final jar independent to its scope to a direct test dependency? I mean, shouldn't log4j not be included in my final jar since it is inherited by a direct test dependency?</p>\n"},{"tags":["java","git","eclipse"],"comments":[{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643695648,"post_id":70934678,"comment_id":125401888,"body_markdown":"There are several questions I would ask. Before you imported the project to Eclipse, was a .project and .classpath file already in the directory (because they were stored in git)? If so, their contents might be useful. When you imported it, did it have &quot;Maven&quot; in the &quot;Import As&quot; column?","body":"There are several questions I would ask. Before you imported the project to Eclipse, was a .project and .classpath file already in the directory (because they were stored in git)? If so, their contents might be useful. When you imported it, did it have &quot;Maven&quot; in the &quot;Import As&quot; column?"}],"answers":[{"tags":[],"owner":{"account_id":7448809,"reputation":1,"user_id":16310160,"display_name":"Iury Salino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643679929,"creation_date":1643679929,"answer_id":70934794,"question_id":70934678,"body_markdown":"My suggestion is:\r\n\r\n1. Create an empty folder in your workspace;\r\n2. In the Terminal, execute the command git clone &lt;URL&gt;;\r\n3. In the Terminal, move to your project folder: cd folder-name;\r\n4. Open Eclipse;\r\n5. Import the project;","title":"Eclipse import from git not recognizing source folders","body":"<p>My suggestion is:</p>\n<ol>\n<li>Create an empty folder in your workspace;</li>\n<li>In the Terminal, execute the command git clone ;</li>\n<li>In the Terminal, move to your project folder: cd folder-name;</li>\n<li>Open Eclipse;</li>\n<li>Import the project;</li>\n</ol>\n"}],"owner":{"account_id":13885664,"reputation":417,"user_id":10024860,"display_name":"Joe C."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643679929,"creation_date":1643678469,"question_id":70934678,"body_markdown":"I wanted to share a Java project with another computer. I went on the first computer and created a GitHub repo out of it by clicking `Team -&gt; Share Project -&gt; Create -&gt; Finish`. Then, I went to the other computer and clicked `Import -&gt; Projects from Git -&gt; pasted in the GitHub link -&gt; next, next, next`. But when I opened the project, all the packages were like `src.foo` and `src.bar`. It didn&#39;t recognize the &quot;src&quot; folder was a source folder. Did I do one of these steps wrong?","title":"Eclipse import from git not recognizing source folders","body":"<p>I wanted to share a Java project with another computer. I went on the first computer and created a GitHub repo out of it by clicking <code>Team -&gt; Share Project -&gt; Create -&gt; Finish</code>. Then, I went to the other computer and clicked <code>Import -&gt; Projects from Git -&gt; pasted in the GitHub link -&gt; next, next, next</code>. But when I opened the project, all the packages were like <code>src.foo</code> and <code>src.bar</code>. It didn't recognize the &quot;src&quot; folder was a source folder. Did I do one of these steps wrong?</p>\n"},{"tags":["java","rest","jersey"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1643643810,"post_id":70917413,"comment_id":125388458,"body_markdown":"There is no built in feature to detect base64 data and convert it. On the client side, I don&#39;t think it should automatically convert a file to base64. Are you doing it somewhere in your code? What is this `file` object on the client side? How did you create that?","body":"There is no built in feature to detect base64 data and convert it. On the client side, I don&#39;t think it should automatically convert a file to base64. Are you doing it somewhere in your code? What is this <code>file</code> object on the client side? How did you create that?"},{"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"score":0,"creation_date":1643677885,"post_id":70917413,"comment_id":125399392,"body_markdown":"@PaulSamsotha I&#39;ve edited to show where I get the file value (from imgSrc). Maybe that&#39;s an encoded image in memory instead of raw content?","body":"@PaulSamsotha I&#39;ve edited to show where I get the file value (from imgSrc). Maybe that&#39;s an encoded image in memory instead of raw content?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1643687155,"post_id":70917413,"comment_id":125400600,"body_markdown":"readAsDataUrl is what converts it to base64","body":"readAsDataUrl is what converts it to base64"},{"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"score":0,"creation_date":1644006489,"post_id":70917413,"comment_id":125499666,"body_markdown":"@PaulSamsotha thanks! you were absolutely correct. by caching the file (e.target.files[0]) instead it wasn&#39;t encoded. If you want to post this as the answer, I&#39;ll accept it.","body":"@PaulSamsotha thanks! you were absolutely correct. by caching the file (e.target.files[0]) instead it wasn&#39;t encoded. If you want to post this as the answer, I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643568937,"creation_date":1643568937,"answer_id":70917903,"question_id":70917413,"body_markdown":"I&#39;d like to get a &quot;real&quot; (what&#39;s the correct problem and solution) answer, but in the meantime I went with a hack:\r\n\r\n    InputStream outStream = hackBase64Decode(fileBody);\r\n    s3.putObject(&quot;mybucket&quot;, &quot;pick_a_name&quot;, outStream, null);\r\n    \r\n    \tprivate InputStream hackBase64Decode(File fileBody) throws Exception\r\n    \t{\r\n    \t\tFileInputStream fs = new FileInputStream(fileBody);\r\n    \t\tint ch;\r\n    \t\tdo {\r\n    \t\t\tch = fs.read();\r\n    \t\t} while (ch != &#39;,&#39;);\r\n    \t\treturn Base64.getDecoder().wrap(fs);\r\n    \t}\r\n\r\nThe best that can be said for that is it works. Again, though, would prefer a real answer.","title":"File upload with Jersey, File not being decoded","body":"<p>I'd like to get a &quot;real&quot; (what's the correct problem and solution) answer, but in the meantime I went with a hack:</p>\n<pre><code>InputStream outStream = hackBase64Decode(fileBody);\ns3.putObject(&quot;mybucket&quot;, &quot;pick_a_name&quot;, outStream, null);\n\n    private InputStream hackBase64Decode(File fileBody) throws Exception\n    {\n        FileInputStream fs = new FileInputStream(fileBody);\n        int ch;\n        do {\n            ch = fs.read();\n        } while (ch != ',');\n        return Base64.getDecoder().wrap(fs);\n    }\n</code></pre>\n<p>The best that can be said for that is it works. Again, though, would prefer a real answer.</p>\n"}],"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643677834,"creation_date":1643565704,"question_id":70917413,"body_markdown":"I&#39;ve been trying to do file upload to a server from Javascript to a Jakarta REST service. The file is not getting decoded and I can&#39;t find what&#39;s wrong.\r\n\r\nThe upload code I&#39;m using in javascript is basic FormData upload (vanillajs):\r\n\r\n      var url=.....  \r\n      var xhttp = new XMLHttpRequest();\r\n      var formData = new FormData();\r\n      xhttp.onreadystatechange = () =&gt; {\r\n        if (this.readyState == 4)\r\n        {\r\n        \tif (this.status == 200)\r\n        \t{\r\n    \t\t\tif (successCallback != null) successCallback(this.responseText);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tif (errorCallback != null) errorCallback(this.status, this.statusText);\r\n    \t\t}\r\n        }\r\n      };\r\n      xhttp.open(&quot;POST&quot;, url, true);\r\n      formData.append(&quot;file&quot;, file);\r\n      xhttp.send(formData);\r\n\r\nThe way I&#39;m getting the file is to use a file input, and when the user loads an image, I load a picture of it and use that (React):\r\n\r\n    const [imgSrc, setImgSrc] = React.useState(&#39;&#39;);\r\n    \r\n    const loadImage=(e)=&gt;{\r\n\r\n\tvar file=e.target.files[0];\r\n\t\r\n\tvar reader = new FileReader();\r\n\treader.onload = (e2)=&gt;{\r\n\t\tsetImgSrc(e2.target.result);\r\n\t}\r\n\treader.readAsDataURL(file);\r\n      }\r\n    \r\n      &lt;input type=&quot;file&quot; accept=&quot;image/*&quot; onChange={(e)=&gt;loadImage(e)} /&gt;\r\n\r\nThat seems to work fine. When I look at the request headers I see:\r\n\r\n    Content-Type: multipart/form-data; boundary=....\r\n\r\nand the payload starts with:\r\n\r\n    file: data:image/jpeg;base64,/9j/...\r\n\r\nThen the REST service I&#39;m using to receive this is:\r\n\r\n\t@POST\r\n\t@Path(&quot;/submit&quot;)\r\n\t@Consumes(MediaType.MULTIPART_FORM_DATA)\r\n\tpublic Response uploadImage(\r\n\t\t\t@FormDataParam(&quot;file&quot;) File fileBody,\r\n\t\t\t@FormDataParam(&quot;file&quot;) FormDataContentDisposition metadata)\r\n    {\r\n        // set up S3 bucket, all that works fine\r\n    \t\t\ts3.putObject(&quot;mybucket&quot;, &quot;pick_a_name&quot;, new FileInputStream(fileBody), null);\r\n    }\r\n\r\nand that works, BUT, the file content is the literal content of the payload:\r\n\r\n    data:image/jpeg;base64,/9j/...\r\n\r\nSo it&#39;s not being recognized as a base 64 encoded file content and being decoded.\r\n\r\nI&#39;ve gone through various iterations and questions, including variations that result in 400 or 415 errors, but as far as I can tell these things look like they should line up.\r\n\r\nA few more data points:\r\n\r\n      Tomcat 10\r\n      Jakarta 3.0.0\r\n      Jersey 3.0.3 (and jersey media multipart 3.0.3)\r\n      Java 8\r\n\r\nAny suggestions would be appreciated. Thanks!\r\n\r\n\r\n\r\n","title":"File upload with Jersey, File not being decoded","body":"<p>I've been trying to do file upload to a server from Javascript to a Jakarta REST service. The file is not getting decoded and I can't find what's wrong.</p>\n<p>The upload code I'm using in javascript is basic FormData upload (vanillajs):</p>\n<pre><code>  var url=.....  \n  var xhttp = new XMLHttpRequest();\n  var formData = new FormData();\n  xhttp.onreadystatechange = () =&gt; {\n    if (this.readyState == 4)\n    {\n        if (this.status == 200)\n        {\n            if (successCallback != null) successCallback(this.responseText);\n        }\n        else\n        {\n            if (errorCallback != null) errorCallback(this.status, this.statusText);\n        }\n    }\n  };\n  xhttp.open(&quot;POST&quot;, url, true);\n  formData.append(&quot;file&quot;, file);\n  xhttp.send(formData);\n</code></pre>\n<p>The way I'm getting the file is to use a file input, and when the user loads an image, I load a picture of it and use that (React):</p>\n<pre><code>const [imgSrc, setImgSrc] = React.useState('');\n\nconst loadImage=(e)=&gt;{\n\nvar file=e.target.files[0];\n\nvar reader = new FileReader();\nreader.onload = (e2)=&gt;{\n    setImgSrc(e2.target.result);\n}\nreader.readAsDataURL(file);\n  }\n\n  &lt;input type=&quot;file&quot; accept=&quot;image/*&quot; onChange={(e)=&gt;loadImage(e)} /&gt;\n</code></pre>\n<p>That seems to work fine. When I look at the request headers I see:</p>\n<pre><code>Content-Type: multipart/form-data; boundary=....\n</code></pre>\n<p>and the payload starts with:</p>\n<pre><code>file: data:image/jpeg;base64,/9j/...\n</code></pre>\n<p>Then the REST service I'm using to receive this is:</p>\n<pre><code>@POST\n@Path(&quot;/submit&quot;)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\npublic Response uploadImage(\n        @FormDataParam(&quot;file&quot;) File fileBody,\n        @FormDataParam(&quot;file&quot;) FormDataContentDisposition metadata)\n{\n    // set up S3 bucket, all that works fine\n            s3.putObject(&quot;mybucket&quot;, &quot;pick_a_name&quot;, new FileInputStream(fileBody), null);\n}\n</code></pre>\n<p>and that works, BUT, the file content is the literal content of the payload:</p>\n<pre><code>data:image/jpeg;base64,/9j/...\n</code></pre>\n<p>So it's not being recognized as a base 64 encoded file content and being decoded.</p>\n<p>I've gone through various iterations and questions, including variations that result in 400 or 415 errors, but as far as I can tell these things look like they should line up.</p>\n<p>A few more data points:</p>\n<pre><code>  Tomcat 10\n  Jakarta 3.0.0\n  Jersey 3.0.3 (and jersey media multipart 3.0.3)\n  Java 8\n</code></pre>\n<p>Any suggestions would be appreciated. Thanks!</p>\n"},{"tags":["python","java","authentication","google-cloud-platform","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643677668,"creation_date":1643677668,"answer_id":70934615,"question_id":70933708,"body_markdown":"Application Default Credentials (ADC) supports fetching tokens from the metadata service (Compute Engine, Cloud Run, Cloud Functions, etc). That means that the private key is not available to sign data. In that case, you have two options, provide a service account JSON key or use Google Cloud IAM to sign the request for you.\r\n\r\nTo use the IAM sign API, the service account must have the IAM role **Service Account Token Creator**.\r\n\r\nThe following method supports creating signed URLs when the available credentials (ADC) do not provide the service account private key. Note: Some services do not provide the service account email address. In that case, you must lookup or hardcode the email address.\r\n\r\n**Example code:**\r\n\r\n    import datetime as dt\r\n    from google import auth\r\n    from google.cloud import storage\r\n\r\n    credentials, project = auth.default()\r\n    credentials.refresh(auth.transport.requests.Request())\r\n    \r\n    expiration = dt.timedelta(days=1)\r\n\r\n    client = storage.Client(credentials=credentials)\r\n    bucket = storage_client.get_bucket(&quot;bucketName&quot;)\r\n    blob = bucket.get_blob(&quot;blobName&quot;)\r\n\r\n    signed_url = blob.generate_signed_url(\r\n        expiration=expiration,\r\n        service_account_email=credentials.service_account_email,\r\n        access_token=credentials.token\r\n    )\r\n\r\nYou can specify the HTTP method and content type:\r\n\r\n    signed_url = blob.generate_signed_url(\r\n        expiration=expiration,\r\n        service_account_email=credentials.service_account_email,\r\n        access_token=credentials.token,\r\n        method=&quot;PUT&quot;,\r\n        content_type=&quot;application/octet-stream&quot;\r\n    )\r\n\r\n\r\nIf you get an IAM permissions error, double-check the IAM roles assigned to the service account used for ADC.\r\n\r\nAlso, see this [answer][1] by @guillaume-blaquiere\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/64245028/8016720","title":"Does Python code always need a Service Account to generate signed url for uploads on google cloud?","body":"<p>Application Default Credentials (ADC) supports fetching tokens from the metadata service (Compute Engine, Cloud Run, Cloud Functions, etc). That means that the private key is not available to sign data. In that case, you have two options, provide a service account JSON key or use Google Cloud IAM to sign the request for you.</p>\n<p>To use the IAM sign API, the service account must have the IAM role <strong>Service Account Token Creator</strong>.</p>\n<p>The following method supports creating signed URLs when the available credentials (ADC) do not provide the service account private key. Note: Some services do not provide the service account email address. In that case, you must lookup or hardcode the email address.</p>\n<p><strong>Example code:</strong></p>\n<pre><code>import datetime as dt\nfrom google import auth\nfrom google.cloud import storage\n\ncredentials, project = auth.default()\ncredentials.refresh(auth.transport.requests.Request())\n\nexpiration = dt.timedelta(days=1)\n\nclient = storage.Client(credentials=credentials)\nbucket = storage_client.get_bucket(&quot;bucketName&quot;)\nblob = bucket.get_blob(&quot;blobName&quot;)\n\nsigned_url = blob.generate_signed_url(\n    expiration=expiration,\n    service_account_email=credentials.service_account_email,\n    access_token=credentials.token\n)\n</code></pre>\n<p>You can specify the HTTP method and content type:</p>\n<pre><code>signed_url = blob.generate_signed_url(\n    expiration=expiration,\n    service_account_email=credentials.service_account_email,\n    access_token=credentials.token,\n    method=&quot;PUT&quot;,\n    content_type=&quot;application/octet-stream&quot;\n)\n</code></pre>\n<p>If you get an IAM permissions error, double-check the IAM roles assigned to the service account used for ADC.</p>\n<p>Also, see this <a href=\"https://stackoverflow.com/a/64245028/8016720\">answer</a> by @guillaume-blaquiere</p>\n"}],"owner":{"account_id":20794095,"reputation":41,"user_id":15271514,"display_name":"Sitanshu Lamba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1643708962,"answer_count":1,"score":2,"last_activity_date":1643677668,"creation_date":1643668960,"question_id":70933708,"body_markdown":"Is there a way to generate signed url by using application default credentials in python ? I see the support for it in java using the ```storage``` object.\r\n\r\n\r\nOn the python code available online it says: \r\n```\r\ndef generate_upload_signed_url_v4(bucket_name, blob_name):\r\n    &quot;&quot;&quot;Generates a v4 signed URL for uploading a blob using HTTP PUT.\r\n\r\n    Note that this method requires a service account key file. You can not use\r\n    this if you are using Application Default Credentials from Google Compute\r\n    Engine or from the Google Cloud SDK.\r\n    &quot;&quot;&quot;\r\n```\r\n\r\nI was wondering if there is a way like there in Java to use application default credentials instead of Service Account credentials","title":"Does Python code always need a Service Account to generate signed url for uploads on google cloud?","body":"<p>Is there a way to generate signed url by using application default credentials in python ? I see the support for it in java using the <code>storage</code> object.</p>\n<p>On the python code available online it says:</p>\n<pre><code>def generate_upload_signed_url_v4(bucket_name, blob_name):\n    &quot;&quot;&quot;Generates a v4 signed URL for uploading a blob using HTTP PUT.\n\n    Note that this method requires a service account key file. You can not use\n    this if you are using Application Default Credentials from Google Compute\n    Engine or from the Google Cloud SDK.\n    &quot;&quot;&quot;\n</code></pre>\n<p>I was wondering if there is a way like there in Java to use application default credentials instead of Service Account credentials</p>\n"},{"tags":["java","networking","nio"],"answers":[{"tags":[],"owner":{"account_id":989922,"reputation":93,"user_id":1719333,"display_name":"veroslav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1415436482,"creation_date":1415436482,"answer_id":26815374,"question_id":26798368,"body_markdown":"I managed to resolve it on my own. The problem was in the code accepting the client connection at the server side. Using try-with-resources on the newly accepted SocketChannel meant that after establishing the connection, it was immediately closed, as is the case when using try-with-resources (it always makes sure that the resources are closed after the try block has executed).\r\n\r\nIn this case it meant that it closed the client connection each time the client was trying to connect. That also explains why the client never managed to connect and why OP_CONNECT was never triggered in the client selector. I made changes to handleKeySelection() method as follows in order to fix it:\r\n\r\n    if(selectedKey.isAcceptable()) {\r\n    \t\t\t//Handle a new connection request\r\n    \t\t\tSystem.out.println(name + &quot;: Got an OP_ACCEPT key&quot;);\r\n    \t\t\tfinal ServerSocketChannel serverSocketChannel = (ServerSocketChannel)selectedKey.channel();\r\n    \t\t\tSocketChannel connection = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tconnection = serverSocketChannel.accept();\r\n    \t\t\t\tconnection.configureBlocking(false);\r\n    \t\t\t\t\r\n    \t\t\t\tfinal InetSocketAddress connectionAddress = (InetSocketAddress)connection.getRemoteAddress();\r\n    \t\t\t\tfinal String remotePeerIp = connectionAddress.getAddress().getHostAddress();\r\n    \t\t\t\tfinal int remotePeerPort = connectionAddress.getPort();\r\n    \t\t\t\t\r\n    \t\t\t\tfinal PwpPeer pwpConnection = new PwpPeer(remotePeerIp, remotePeerPort);\r\n    \t\t\t\t\r\n    \t\t\t\tconnection.register(selectedKey.selector(), SelectionKey.OP_READ, pwpConnection);\r\n    \t\t\t\tSystem.out.println(name + &quot;: Accepted remote connection: ip: &quot; + remotePeerIp + &quot;, port &quot; + remotePeerPort);\r\n    \t\t\t} catch (final IOException ioe) {\r\n    \t\t\t\tSystem.err.println(name + &quot;: Failed to accept incoming connection: &quot; + ioe.getMessage());\r\n    \t\t\t\tif(connection != null) {\r\n    \t\t\t\t\tconnection.close();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}","title":"Java NIO: OP_CONNECT never triggered in client, even though connection is accepted by the server","body":"<p>I managed to resolve it on my own. The problem was in the code accepting the client connection at the server side. Using try-with-resources on the newly accepted SocketChannel meant that after establishing the connection, it was immediately closed, as is the case when using try-with-resources (it always makes sure that the resources are closed after the try block has executed).</p>\n\n<p>In this case it meant that it closed the client connection each time the client was trying to connect. That also explains why the client never managed to connect and why OP_CONNECT was never triggered in the client selector. I made changes to handleKeySelection() method as follows in order to fix it:</p>\n\n<pre><code>if(selectedKey.isAcceptable()) {\n            //Handle a new connection request\n            System.out.println(name + \": Got an OP_ACCEPT key\");\n            final ServerSocketChannel serverSocketChannel = (ServerSocketChannel)selectedKey.channel();\n            SocketChannel connection = null;\n            try {\n                connection = serverSocketChannel.accept();\n                connection.configureBlocking(false);\n\n                final InetSocketAddress connectionAddress = (InetSocketAddress)connection.getRemoteAddress();\n                final String remotePeerIp = connectionAddress.getAddress().getHostAddress();\n                final int remotePeerPort = connectionAddress.getPort();\n\n                final PwpPeer pwpConnection = new PwpPeer(remotePeerIp, remotePeerPort);\n\n                connection.register(selectedKey.selector(), SelectionKey.OP_READ, pwpConnection);\n                System.out.println(name + \": Accepted remote connection: ip: \" + remotePeerIp + \", port \" + remotePeerPort);\n            } catch (final IOException ioe) {\n                System.err.println(name + \": Failed to accept incoming connection: \" + ioe.getMessage());\n                if(connection != null) {\n                    connection.close();\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392672,"reputation":786,"user_id":754085,"accept_rate":82,"display_name":"Mark Murfin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643677155,"creation_date":1643677155,"answer_id":70934579,"question_id":26798368,"body_markdown":"For local non-blocking connections where connect() returns false, try immediately calling finishConnect once.\r\n\r\nI had this issue on Windows and this is my connect code that finally worked:\r\n\r\n    if (!socketChannel.connect(peerAddress) &amp;&amp; !socketChannel.finishConnect())\r\n\t\tsocketChannel.register(selector, SelectionKey.OP_CONNECT);\r\n\telse\r\n\t\tsocketChannel.register(selector, SelectionKey.OP_READ);","title":"Java NIO: OP_CONNECT never triggered in client, even though connection is accepted by the server","body":"<p>For local non-blocking connections where connect() returns false, try immediately calling finishConnect once.</p>\n<p>I had this issue on Windows and this is my connect code that finally worked:</p>\n<pre><code>if (!socketChannel.connect(peerAddress) &amp;&amp; !socketChannel.finishConnect())\n    socketChannel.register(selector, SelectionKey.OP_CONNECT);\nelse\n    socketChannel.register(selector, SelectionKey.OP_READ);\n</code></pre>\n"}],"owner":{"account_id":989922,"reputation":93,"user_id":1719333,"display_name":"veroslav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26815374,"answer_count":2,"score":1,"last_activity_date":1643677155,"creation_date":1415353629,"question_id":26798368,"body_markdown":"I am learning Java NIO and trying to write a simple client/server application using selectors. So far I&#39;ve got\r\na PwpConnectionManager class that acts as both a server listening for incoming connections and also as a client\r\nmaking connections to remote peers. The remote peers to connect to are added through connectTo() method.\r\n\r\nWhile detecting and accepting incoming connections seems to work, I am unable to trigger OP_CONNECT events when\r\ntrying to connect to remote peers. I would expect a selection key and selectedKey.isConnectable() to be true after\r\na successfull remote connection has been made. This never happens.\r\n\r\nIn order to illustrate the problem, I wrote a fairly simple test in the main() method. It starts two instances of\r\nPwpConnectionManager, one acting as a server and the other as a client. The client tries to connect to the server and\r\nthe connection is successfully established at the server side (OP_ACCEPT triggered). However, I expect the OP_CONNECT\r\nto be triggered in the client but it never does.\r\n\r\nI&#39;ve read that using localhost as the address to connect to can lead to an instant connection success resulting in\r\nchannel.connect() returning true and thus never triggering a OP_CONNECT afterwards. However, as you can see in the\r\nlog output below, isConnected() in processPendingConnections() returns false, so I am expecting OP_CONNECT to\r\neventually be selected by the selector.\r\n\r\nHere is the output log after a run of main() (I&#39;ve run it multiple times with same results):\r\n\r\n    CLIENT: Waiting for selection events...\r\n    SERVER: Waiting for selection events...\r\n    CLIENT: Connected to remote peer? false\r\n    CLIENT: Waiting for selection events...\r\n    SERVER: Accepted remote connection\r\n    SERVER: Waiting for selection events...\r\n    Main thread done!\r\n    CLIENT: A shutdown request was issued, trying to shutdown...\r\n    SERVER: A shutdown request was issued, trying to shutdown...\r\n    CLIENT: Connection manager was shutdown!\r\n    SERVER: Connection manager was shutdown!\r\n\r\nHere are my questions:\r\n\r\n1. Why is OP_CONNECT never triggered in the client?\r\n2. Is closing the PwpConnectionManager as in unmanage() correct way to do it, while checking for\r\nserverExecutor.isShutdown() in manage()? \r\n3. Is it necessary to close accepted SocketChannels when unmanaging() connection manager?\r\n4. Any other recommendations and tips?\r\n\r\nThe code:\r\n\r\n\r\n    /**\r\n     * \r\n     * A connection manager for PWP-connections. It listens for incoming connections and also\r\n     * allows for adding new connections to remote peers.\r\n     * \r\n     * @author veroslav\r\n     *\r\n     */\r\n    public class PwpConnectionManager {\r\n    \t\r\n    \tpublic static final String DEFAULT_NETWORK_INTERFACE = &quot;&quot;;\r\n    \t\r\n    \tprivate static final int SO_RCVBUF_VALUE = 4 * 1024;\r\n    \tprivate static final boolean SO_REUSEADDR = true;\r\n    \t\t\r\n    \tprivate final List&lt;PwpPeer&gt; pendingPeerConnections;\r\n    \tprivate final ExecutorService serverExecutor;\r\n    \t\r\n    \tprivate final Selector connectionSelector;\r\n    \t\r\n    \tprivate final String name;\r\n    \tprivate final int maxConnections;\r\n    \tprivate final int listenPort;\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t * Configure a new connection manager listening on a specified port and serving maxConnections connections\r\n    \t * \r\n    \t * @param name Name identifier for this connection manager (for debugging purposes)\r\n    \t * @param listenPort Port to listen on for incoming connections\r\n    \t * @param maxConnections Max simultaneous connections handled by this connection manager\r\n    \t * @throws IOException If a connection selector can&#39;t be opened\r\n    \t */\r\n    \tpublic PwpConnectionManager(final String name, final int listenPort, final int maxConnections) throws IOException {\r\n    \t\tthis.name = name;\r\n    \t\tthis.maxConnections = maxConnections;\r\n    \t\tthis.listenPort = listenPort;\r\n    \t\t\r\n    \t\tpendingPeerConnections = Collections.synchronizedList(new ArrayList&lt;PwpPeer&gt;()); \r\n    \t\tserverExecutor = Executors.newSingleThreadExecutor();\r\n    \t\tconnectionSelector = Selector.open();\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t * Start managing the connections (both incoming and outgoing)\r\n    \t * \r\n    \t * @param listenInterface Network interface used to listen for incoming connections\r\n    \t */\r\n    \tpublic void manage(final String listenInterface) {\r\n    \t\tserverExecutor.execute(() -&gt; {\r\n    \t\t\ttry(final ServerSocketChannel serverChannel = ServerSocketChannel.open()) {\r\n    \t\t\t\tif(!serverChannel.isOpen()) {\r\n    \t\t\t\t\tfinal String errorMessage = name + &quot;: Failed to start server on port &quot; + \r\n    \t\t\t\t\t\t\tlistenPort + &quot; with interface &quot; + listenInterface;\r\n    \t\t\t\t\tthrow new IOException(errorMessage);\r\n    \t\t\t\t}\r\n    \t\t\t\tsetChannelOptions(serverChannel);\r\n    \t\t\t\t\r\n    \t\t\t\tserverChannel.bind(getSocketAddressFromNetworkInterface(listenInterface), maxConnections);\r\n    \t\t\t\tserverChannel.configureBlocking(false);\r\n    \t\t\t\t\r\n    \t\t\t\tserverChannel.register(connectionSelector, SelectionKey.OP_ACCEPT);\r\n    \t\t\t\t\r\n    \t\t\t\twhile(true) {\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\tif(serverExecutor.isShutdown()) {\r\n    \t\t\t\t\t\t//TODO: Release and shutdown connection channels, release resources\r\n    \t\t\t\t\t\tSystem.out.println(name + &quot;: A shutdown request was issued, trying to shutdown...&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tSystem.out.println(name + &quot;: Waiting for selection events...&quot;);\r\n    \t\t\t\t\tfinal int keysSelected = connectionSelector.select();\r\n    \t\t\t\t\tif(keysSelected &gt; 0) {\r\n    \t\t\t\t\t\tfinal Set&lt;SelectionKey&gt; selectedKeys = connectionSelector.selectedKeys();\r\n    \t\t\t\t\t\tfinal Iterator&lt;SelectionKey&gt; selectedKeysIterator = selectedKeys.iterator();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\twhile(selectedKeysIterator.hasNext()) {\r\n    \t\t\t\t\t\t\tfinal SelectionKey selectedKey = selectedKeysIterator.next();\r\n    \t\t\t\t\t\t\tselectedKeysIterator.remove();\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tif(selectedKey.isValid()) {\r\n    \t\t\t\t\t\t\t\thandleKeySelection(selectedKey);\r\n    \t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t//Check for new connection requests to remote peers\r\n    \t\t\t\t\tprocessPendingConnections();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch(final IOException ioe) {\r\n    \t\t\t\tSystem.err.println(name + &quot;: An error occured while running the server: &quot; + ioe.getMessage());\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(name + &quot;: Connection manager was shutdown!&quot;);\r\n    \t\t}); \r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t * Initialize the shutdown of selector thread and allow it to die\r\n    \t */\r\n    \tpublic void unmanage() {\t\t\r\n    \t\tserverExecutor.shutdown();\r\n    \t\tconnectionSelector.wakeup();\t\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t * Add a new peer and try making a connection to it\r\n    \t * \r\n    \t * @param peer The peer we are attempting to connect to\r\n    \t */\r\n    \tpublic void connectTo(final PwpPeer peer) {\t\t\r\n    \t\tsynchronized (pendingPeerConnections) {\r\n    \t\t\tpendingPeerConnections.add(peer);\t\t\t\r\n    \t\t}\t\t\r\n    \t\tconnectionSelector.wakeup();\r\n    \t}\r\n    \t\r\n    \tprivate void processPendingConnections() {\r\n    \t\twhile(true) {\r\n    \t\t\tPwpPeer peer = null;\r\n    \t\t\tsynchronized(pendingPeerConnections) {\t\t\t\t\t\t\t \r\n    \t\t\t\tif(!pendingPeerConnections.isEmpty()) {\r\n    \t\t\t\t\tpeer = pendingPeerConnections.remove(0);\r\n    \t\t\t\t}\r\n    \t\t\t}\t\r\n    \t\t\tif(peer == null) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\t//TODO: Offload connection attempt to a worker thread? \r\n    \t\t\ttry (final SocketChannel peerConnection = SocketChannel.open()) {\r\n    \t\t\t\tpeerConnection.configureBlocking(false);\r\n    \t\t\t\tsetChannelOptions(peerConnection);\r\n    \r\n    \t\t\t\tpeerConnection.register(connectionSelector, SelectionKey.OP_CONNECT, peer);\r\n    \t\t\t\tfinal boolean isConnected = peerConnection.connect(new InetSocketAddress(peer.getPeerIp(), peer.getPeerPort()));\r\n    \t\t\t\tSystem.out.println(name + &quot;: Connected to remote peer? &quot; + isConnected);\r\n    \t\t\t}\r\n    \t\t\tcatch(final IOException ioe) {\r\n    \t\t\t\tSystem.err.println(name + &quot;: Failed to connect to peer: &quot; + ioe.getMessage());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void handleKeySelection(final SelectionKey selectedKey) throws IOException {\r\n    \t\tif(selectedKey.isAcceptable()) {\r\n    \t\t\t//Handle a new connection request\r\n    \t\t\tfinal ServerSocketChannel serverSocketChannel = (ServerSocketChannel)selectedKey.channel();\r\n    \t\t\ttry (final SocketChannel connection = serverSocketChannel.accept()){\r\n    \t\t\t\tconnection.configureBlocking(false);\r\n    \t\t\t\t\r\n    \t\t\t\tfinal InetSocketAddress connectionAddress = (InetSocketAddress)connection.getRemoteAddress();\r\n    \t\t\t\tfinal String remotePeerIp = connectionAddress.getAddress().getHostAddress();\r\n    \t\t\t\tfinal int remotePeerPort = connectionAddress.getPort();\r\n    \t\t\t\t\r\n    \t\t\t\tfinal PwpPeer pwpConnection = new PwpPeer(remotePeerIp, remotePeerPort);\r\n    \t\t\t\t\r\n    \t\t\t\tconnection.register(selectedKey.selector(), SelectionKey.OP_READ, pwpConnection);\r\n    \t\t\t\tSystem.out.println(name + &quot;: Accepted remote connection&quot;);\r\n    \t\t\t} catch (final IOException ioe) {\r\n    \t\t\t\tSystem.err.println(name + &quot;: Failed to accept incoming connection: &quot; + ioe.getMessage());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse if(selectedKey.isReadable()) {\r\n    \t\t\t//Handle a read attempt to the channel\r\n    \t\t}\r\n    \t\telse if(selectedKey.isWritable()) {\r\n    \t\t\t//Handle a write attempt to the channel\r\n    \t\t}\r\n    \t\telse if(selectedKey.isConnectable()) {\r\n    \t\t\t//Handle remote peer accepting our connection attempt\r\n    \t\t\tfinal SocketChannel peerConnection = ((SocketChannel)selectedKey.channel());\r\n    \t\t\ttry {\r\n    \t\t\t\tif(peerConnection.finishConnect()) {\r\n    \t\t\t\t\tselectedKey.interestOps(0);\r\n    \t\t\t\t\tSystem.out.println(name + &quot;: Successfully connected to the remote peer&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t} catch (final IOException ioe) {\r\n    \t\t\t\t// Broken connection, disconnect the peer\r\n    \t\t\t\tSystem.err.println(name + &quot;: Broken connection attempt, disconnecting&quot;);\r\n    \t\t\t\tpeerConnection.close();\r\n    \t\t\t}\t\t\t\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void setChannelOptions(final NetworkChannel channel) throws IOException {\r\n    \t\tchannel.setOption(StandardSocketOptions.SO_RCVBUF, PwpConnectionManager.SO_RCVBUF_VALUE);\r\n    \t\tchannel.setOption(StandardSocketOptions.SO_REUSEADDR, PwpConnectionManager.SO_REUSEADDR);\r\n    \t}\r\n    \t\r\n    \tprivate InetSocketAddress getSocketAddressFromNetworkInterface(final String networkInterface) {\r\n    \t\ttry {\r\n    \t\t\tfinal NetworkInterface listenInterface = NetworkInterface.getByName(networkInterface);\r\n    \t\t\tif(listenInterface == null) {\r\n    \t\t\t\t//Invalid/non-existing network interface specified, use default\r\n    \t\t\t\treturn new InetSocketAddress(listenPort);\r\n    \t\t\t}\r\n    \t\t\tfinal InetAddress inetAddress = listenInterface.getInetAddresses().nextElement();\r\n    \t\t\treturn new InetSocketAddress(inetAddress, listenPort);\r\n    \t\t} catch (final SocketException se) {\r\n    \t\t\t//Invalid/non-existing network interface specified, use default\r\n    \t\t\treturn new InetSocketAddress(listenPort);\r\n    \t\t}\t\t\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tfinal int maxConnections = 50;\r\n    \t\tfinal int listenPort = 8006;\r\n    \r\n    \t\tfinal PwpConnectionManager connectionManager = new PwpConnectionManager(&quot;SERVER&quot;, listenPort, maxConnections);\r\n    \t\tconnectionManager.manage(PwpConnectionManager.DEFAULT_NETWORK_INTERFACE);\r\n    \t\t\r\n    \t\tfinal PwpConnectionManager client = new PwpConnectionManager(&quot;CLIENT&quot;, listenPort + 1, maxConnections);\r\n    \t\tclient.manage(PwpConnectionManager.DEFAULT_NETWORK_INTERFACE);\r\n    \r\n    \t\ttry {\r\n    \t\t\tThread.sleep(3000);\r\n    \t\t\tclient.connectTo(new PwpPeer(&quot;localhost&quot;, listenPort));\r\n    \t\t\tThread.sleep(4000);\r\n    \t\t} catch (final InterruptedException ie) {\r\n    \t\t\tThread.interrupted();\r\n    \t\t}\r\n    \t\tconnectionManager.unmanage();\r\n    \t\tclient.unmanage();\r\n    \t\tSystem.out.println(&quot;Main thread done!&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java NIO: OP_CONNECT never triggered in client, even though connection is accepted by the server","body":"<p>I am learning Java NIO and trying to write a simple client/server application using selectors. So far I've got\na PwpConnectionManager class that acts as both a server listening for incoming connections and also as a client\nmaking connections to remote peers. The remote peers to connect to are added through connectTo() method.</p>\n\n<p>While detecting and accepting incoming connections seems to work, I am unable to trigger OP_CONNECT events when\ntrying to connect to remote peers. I would expect a selection key and selectedKey.isConnectable() to be true after\na successfull remote connection has been made. This never happens.</p>\n\n<p>In order to illustrate the problem, I wrote a fairly simple test in the main() method. It starts two instances of\nPwpConnectionManager, one acting as a server and the other as a client. The client tries to connect to the server and\nthe connection is successfully established at the server side (OP_ACCEPT triggered). However, I expect the OP_CONNECT\nto be triggered in the client but it never does.</p>\n\n<p>I've read that using localhost as the address to connect to can lead to an instant connection success resulting in\nchannel.connect() returning true and thus never triggering a OP_CONNECT afterwards. However, as you can see in the\nlog output below, isConnected() in processPendingConnections() returns false, so I am expecting OP_CONNECT to\neventually be selected by the selector.</p>\n\n<p>Here is the output log after a run of main() (I've run it multiple times with same results):</p>\n\n<pre><code>CLIENT: Waiting for selection events...\nSERVER: Waiting for selection events...\nCLIENT: Connected to remote peer? false\nCLIENT: Waiting for selection events...\nSERVER: Accepted remote connection\nSERVER: Waiting for selection events...\nMain thread done!\nCLIENT: A shutdown request was issued, trying to shutdown...\nSERVER: A shutdown request was issued, trying to shutdown...\nCLIENT: Connection manager was shutdown!\nSERVER: Connection manager was shutdown!\n</code></pre>\n\n<p>Here are my questions:</p>\n\n<ol>\n<li>Why is OP_CONNECT never triggered in the client?</li>\n<li>Is closing the PwpConnectionManager as in unmanage() correct way to do it, while checking for\nserverExecutor.isShutdown() in manage()? </li>\n<li>Is it necessary to close accepted SocketChannels when unmanaging() connection manager?</li>\n<li>Any other recommendations and tips?</li>\n</ol>\n\n<p>The code:</p>\n\n<pre><code>/**\n * \n * A connection manager for PWP-connections. It listens for incoming connections and also\n * allows for adding new connections to remote peers.\n * \n * @author veroslav\n *\n */\npublic class PwpConnectionManager {\n\n    public static final String DEFAULT_NETWORK_INTERFACE = \"\";\n\n    private static final int SO_RCVBUF_VALUE = 4 * 1024;\n    private static final boolean SO_REUSEADDR = true;\n\n    private final List&lt;PwpPeer&gt; pendingPeerConnections;\n    private final ExecutorService serverExecutor;\n\n    private final Selector connectionSelector;\n\n    private final String name;\n    private final int maxConnections;\n    private final int listenPort;\n\n    /**\n     * \n     * Configure a new connection manager listening on a specified port and serving maxConnections connections\n     * \n     * @param name Name identifier for this connection manager (for debugging purposes)\n     * @param listenPort Port to listen on for incoming connections\n     * @param maxConnections Max simultaneous connections handled by this connection manager\n     * @throws IOException If a connection selector can't be opened\n     */\n    public PwpConnectionManager(final String name, final int listenPort, final int maxConnections) throws IOException {\n        this.name = name;\n        this.maxConnections = maxConnections;\n        this.listenPort = listenPort;\n\n        pendingPeerConnections = Collections.synchronizedList(new ArrayList&lt;PwpPeer&gt;()); \n        serverExecutor = Executors.newSingleThreadExecutor();\n        connectionSelector = Selector.open();\n    }\n\n    /**\n     * \n     * Start managing the connections (both incoming and outgoing)\n     * \n     * @param listenInterface Network interface used to listen for incoming connections\n     */\n    public void manage(final String listenInterface) {\n        serverExecutor.execute(() -&gt; {\n            try(final ServerSocketChannel serverChannel = ServerSocketChannel.open()) {\n                if(!serverChannel.isOpen()) {\n                    final String errorMessage = name + \": Failed to start server on port \" + \n                            listenPort + \" with interface \" + listenInterface;\n                    throw new IOException(errorMessage);\n                }\n                setChannelOptions(serverChannel);\n\n                serverChannel.bind(getSocketAddressFromNetworkInterface(listenInterface), maxConnections);\n                serverChannel.configureBlocking(false);\n\n                serverChannel.register(connectionSelector, SelectionKey.OP_ACCEPT);\n\n                while(true) {                                       \n                    if(serverExecutor.isShutdown()) {\n                        //TODO: Release and shutdown connection channels, release resources\n                        System.out.println(name + \": A shutdown request was issued, trying to shutdown...\");\n                        break;\n                    }\n                    System.out.println(name + \": Waiting for selection events...\");\n                    final int keysSelected = connectionSelector.select();\n                    if(keysSelected &gt; 0) {\n                        final Set&lt;SelectionKey&gt; selectedKeys = connectionSelector.selectedKeys();\n                        final Iterator&lt;SelectionKey&gt; selectedKeysIterator = selectedKeys.iterator();\n\n                        while(selectedKeysIterator.hasNext()) {\n                            final SelectionKey selectedKey = selectedKeysIterator.next();\n                            selectedKeysIterator.remove();\n\n                            if(selectedKey.isValid()) {\n                                handleKeySelection(selectedKey);\n                            }                           \n                        }\n                    }\n                    //Check for new connection requests to remote peers\n                    processPendingConnections();\n                }\n            }\n            catch(final IOException ioe) {\n                System.err.println(name + \": An error occured while running the server: \" + ioe.getMessage());\n            }\n            System.out.println(name + \": Connection manager was shutdown!\");\n        }); \n    }\n\n    /**\n     * \n     * Initialize the shutdown of selector thread and allow it to die\n     */\n    public void unmanage() {        \n        serverExecutor.shutdown();\n        connectionSelector.wakeup();        \n    }\n\n    /**\n     * \n     * Add a new peer and try making a connection to it\n     * \n     * @param peer The peer we are attempting to connect to\n     */\n    public void connectTo(final PwpPeer peer) {     \n        synchronized (pendingPeerConnections) {\n            pendingPeerConnections.add(peer);           \n        }       \n        connectionSelector.wakeup();\n    }\n\n    private void processPendingConnections() {\n        while(true) {\n            PwpPeer peer = null;\n            synchronized(pendingPeerConnections) {                           \n                if(!pendingPeerConnections.isEmpty()) {\n                    peer = pendingPeerConnections.remove(0);\n                }\n            }   \n            if(peer == null) {\n                break;\n            }\n            //TODO: Offload connection attempt to a worker thread? \n            try (final SocketChannel peerConnection = SocketChannel.open()) {\n                peerConnection.configureBlocking(false);\n                setChannelOptions(peerConnection);\n\n                peerConnection.register(connectionSelector, SelectionKey.OP_CONNECT, peer);\n                final boolean isConnected = peerConnection.connect(new InetSocketAddress(peer.getPeerIp(), peer.getPeerPort()));\n                System.out.println(name + \": Connected to remote peer? \" + isConnected);\n            }\n            catch(final IOException ioe) {\n                System.err.println(name + \": Failed to connect to peer: \" + ioe.getMessage());\n            }\n        }\n    }\n\n    private void handleKeySelection(final SelectionKey selectedKey) throws IOException {\n        if(selectedKey.isAcceptable()) {\n            //Handle a new connection request\n            final ServerSocketChannel serverSocketChannel = (ServerSocketChannel)selectedKey.channel();\n            try (final SocketChannel connection = serverSocketChannel.accept()){\n                connection.configureBlocking(false);\n\n                final InetSocketAddress connectionAddress = (InetSocketAddress)connection.getRemoteAddress();\n                final String remotePeerIp = connectionAddress.getAddress().getHostAddress();\n                final int remotePeerPort = connectionAddress.getPort();\n\n                final PwpPeer pwpConnection = new PwpPeer(remotePeerIp, remotePeerPort);\n\n                connection.register(selectedKey.selector(), SelectionKey.OP_READ, pwpConnection);\n                System.out.println(name + \": Accepted remote connection\");\n            } catch (final IOException ioe) {\n                System.err.println(name + \": Failed to accept incoming connection: \" + ioe.getMessage());\n            }\n        }\n        else if(selectedKey.isReadable()) {\n            //Handle a read attempt to the channel\n        }\n        else if(selectedKey.isWritable()) {\n            //Handle a write attempt to the channel\n        }\n        else if(selectedKey.isConnectable()) {\n            //Handle remote peer accepting our connection attempt\n            final SocketChannel peerConnection = ((SocketChannel)selectedKey.channel());\n            try {\n                if(peerConnection.finishConnect()) {\n                    selectedKey.interestOps(0);\n                    System.out.println(name + \": Successfully connected to the remote peer\");\n                }\n            } catch (final IOException ioe) {\n                // Broken connection, disconnect the peer\n                System.err.println(name + \": Broken connection attempt, disconnecting\");\n                peerConnection.close();\n            }           \n        }\n    }\n\n    private void setChannelOptions(final NetworkChannel channel) throws IOException {\n        channel.setOption(StandardSocketOptions.SO_RCVBUF, PwpConnectionManager.SO_RCVBUF_VALUE);\n        channel.setOption(StandardSocketOptions.SO_REUSEADDR, PwpConnectionManager.SO_REUSEADDR);\n    }\n\n    private InetSocketAddress getSocketAddressFromNetworkInterface(final String networkInterface) {\n        try {\n            final NetworkInterface listenInterface = NetworkInterface.getByName(networkInterface);\n            if(listenInterface == null) {\n                //Invalid/non-existing network interface specified, use default\n                return new InetSocketAddress(listenPort);\n            }\n            final InetAddress inetAddress = listenInterface.getInetAddresses().nextElement();\n            return new InetSocketAddress(inetAddress, listenPort);\n        } catch (final SocketException se) {\n            //Invalid/non-existing network interface specified, use default\n            return new InetSocketAddress(listenPort);\n        }       \n    }\n\n    public static void main(String[] args) throws IOException {\n        final int maxConnections = 50;\n        final int listenPort = 8006;\n\n        final PwpConnectionManager connectionManager = new PwpConnectionManager(\"SERVER\", listenPort, maxConnections);\n        connectionManager.manage(PwpConnectionManager.DEFAULT_NETWORK_INTERFACE);\n\n        final PwpConnectionManager client = new PwpConnectionManager(\"CLIENT\", listenPort + 1, maxConnections);\n        client.manage(PwpConnectionManager.DEFAULT_NETWORK_INTERFACE);\n\n        try {\n            Thread.sleep(3000);\n            client.connectTo(new PwpPeer(\"localhost\", listenPort));\n            Thread.sleep(4000);\n        } catch (final InterruptedException ie) {\n            Thread.interrupted();\n        }\n        connectionManager.unmanage();\n        client.unmanage();\n        System.out.println(\"Main thread done!\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","javafx","vbox"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1643676679,"creation_date":1412210945,"answer_id":26152904,"question_id":26152642,"body_markdown":"*What you need to do is:*\r\n\r\n 1. Create the nodes which are to be placed in the VBoxes.\r\n 2. Add them to some scene (it can just be a new dummy scene not attached to the stage but having the same CSS rules as your main scene).\r\n 3. Call `applyCss()` and `layout()` on each of the nodes (or the dummy scene root).\r\n 4. Measure the layout bounds of each of the nodes.\r\n 5. Add the nodes to the VBoxes in your real scene according to your layout algorithm. \r\n\r\n*Related*\r\n\r\nTo find out how to measure the size of a node, see the answer to:\r\n\r\n * https://stackoverflow.com/questions/13015698/how-to-calculate-the-pixel-width-of-a-string-in-javafx\r\n\r\n*Background*\r\n\r\nJavaFX layout calculations work by applying CSS and a layout pass.  Normally this occurs as part of a pulse (a kind of automated 60fps tick in the internal JavaFX system which checks for any dirty objects in the scene which need new css or layout applied to them).  In most cases, you can just specify the changes you want to the scene and let the automated pulse layout mechanism handle the layout at that time; doing so is quite efficient as it means that any changes between a pulse are batched up and you don&#39;t need to manually trigger layout passes.  However, when you need to actually get the size of things before the layout occurs (as in your case), then you need to manually trigger the CSS application and layout pass before you try to query the height and width extents of the node.\r\n\r\n*Documentation*\r\n\r\nUnfortunately the detailed Java 8u20 Javadoc for the [`node.applyCSS()`][1] method is currently broken, so I&#39;ll reproduce the sample which is in the Javadoc code here, so you can see the recommended usage in context.  For the next Java feature release (8u40), the broken javadoc is fixed as part of [RT-38330 Javadoc is missing for several methods of the Node class](https://javafx-jira.kenai.com/browse/RT-38330), so with that release, you will be able to find the following text in the JavaFX javadoc:\r\n\r\n&gt; If required, apply styles to this Node and its children, if any. This method does not normally need to \r\n&gt; be invoked directly but may be used in conjunction with `layout()` to size a Node before the\r\n&gt; next pulse, or if the Scene is not in a Stage. \r\n&gt;     \r\n&gt; Provided that the Node&#39;s Scene is not null, CSS is applied to this Node regardless\r\n&gt; of whether this Node&#39;s CSS state is clean. CSS styles are applied from the topmost parent\r\n&gt; of this Node whose CSS state is other than clean, which may affect the styling of other nodes.\r\n&gt; This method is a no-op if the Node is not in a Scene. The Scene does not have to be in a Stage.\r\n&gt;     \r\n&gt; This method does not invoke the `layout()` method. Typically, the caller will use the \r\n&gt; following sequence of operations.\r\n&gt;     \r\n&gt;     parentNode.applyCss();\r\n&gt;     parentNode.layout();\r\n&gt;     \r\n&gt; As a more complete example, the following code uses `applyCss()` and `layout()` to find\r\n&gt; the width and height of the Button before the Stage has been shown. If either the call to `applyCss()`\r\n&gt; or the call to `layout()` is commented out, the calls to `getWidth()` and `getHeight()`\r\n&gt; will return zero (until some time after the Stage is shown).\r\n&gt;\r\n&gt;     public void start(Stage stage) throws Exception {\r\n&gt;        Group root = new Group();\r\n&gt;        Scene scene = new Scene(root);\r\n&gt;     \r\n&gt;        Button button = new Button(&quot;Hello World&quot;);\r\n&gt;        root.getChildren().add(button);\r\n&gt;     \r\n&gt;        root.applyCss();\r\n&gt;        root.layout();\r\n&gt;     \r\n&gt;        double width = button.getWidth();\r\n&gt;        double height = button.getHeight();\r\n&gt;     \r\n&gt;        System.out.println(width + &quot;, &quot; + height);\r\n&gt;     \r\n&gt;        stage.setScene(scene);\r\n&gt;        stage.show();\r\n&gt;     }\r\n\r\n*layout() vs requestLayout()*\r\n\r\nCalling layout() will perform a layout pass immediately.\r\n\r\nCalling requestLayout() will perform a layout pass in the future:\r\n\r\n&gt; Requests a layout pass to be performed before the next scene is\r\n&gt; rendered. This is batched up asynchronously to happen once per\r\n&gt; &quot;pulse&quot;, or frame of animation.\r\n\r\nSo requestLayout() informs the system that a layout needs to occur, but doesn&#39;t do the layout right away.  \r\n\r\nUsually, you don&#39;t need to call requestLayout() directly, because most of the time, the JavaFX system is able to internally determine that a region of the scene is dirty and needs to perform layout automatically when needed.\r\n\r\n*Alternative*\r\n\r\nThe other option here is to override the [`layoutChildren()`][2] method of a parent node, which is &quot;Invoked during the layout pass to layout the children in this Parent.&quot;.  In doing so, it may also be necessary to override methods to [`computePrefHeight()`][3] as well as other computation methods for prefWidth and min &amp; max height &amp; width.  A detailed description of using this approach is complicated and outside the scope of this answer.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#applyCss--\r\n  [2]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Parent.html\r\n  [3]: http://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Region.html#computePrefHeight-double-","title":"Get the height of a node in JavaFX (generate a layout pass)","body":"<p><em>What you need to do is:</em></p>\n<ol>\n<li>Create the nodes which are to be placed in the VBoxes.</li>\n<li>Add them to some scene (it can just be a new dummy scene not attached to the stage but having the same CSS rules as your main scene).</li>\n<li>Call <code>applyCss()</code> and <code>layout()</code> on each of the nodes (or the dummy scene root).</li>\n<li>Measure the layout bounds of each of the nodes.</li>\n<li>Add the nodes to the VBoxes in your real scene according to your layout algorithm.</li>\n</ol>\n<p><em>Related</em></p>\n<p>To find out how to measure the size of a node, see the answer to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/13015698/how-to-calculate-the-pixel-width-of-a-string-in-javafx\">How to calculate the pixel width of a String in JavaFX?</a></li>\n</ul>\n<p><em>Background</em></p>\n<p>JavaFX layout calculations work by applying CSS and a layout pass.  Normally this occurs as part of a pulse (a kind of automated 60fps tick in the internal JavaFX system which checks for any dirty objects in the scene which need new css or layout applied to them).  In most cases, you can just specify the changes you want to the scene and let the automated pulse layout mechanism handle the layout at that time; doing so is quite efficient as it means that any changes between a pulse are batched up and you don't need to manually trigger layout passes.  However, when you need to actually get the size of things before the layout occurs (as in your case), then you need to manually trigger the CSS application and layout pass before you try to query the height and width extents of the node.</p>\n<p><em>Documentation</em></p>\n<p>Unfortunately the detailed Java 8u20 Javadoc for the <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#applyCss--\" rel=\"noreferrer\"><code>node.applyCSS()</code></a> method is currently broken, so I'll reproduce the sample which is in the Javadoc code here, so you can see the recommended usage in context.  For the next Java feature release (8u40), the broken javadoc is fixed as part of <a href=\"https://javafx-jira.kenai.com/browse/RT-38330\" rel=\"noreferrer\">RT-38330 Javadoc is missing for several methods of the Node class</a>, so with that release, you will be able to find the following text in the JavaFX javadoc:</p>\n<blockquote>\n<p>If required, apply styles to this Node and its children, if any. This method does not normally need to\nbe invoked directly but may be used in conjunction with <code>layout()</code> to size a Node before the\nnext pulse, or if the Scene is not in a Stage.</p>\n<p>Provided that the Node's Scene is not null, CSS is applied to this Node regardless\nof whether this Node's CSS state is clean. CSS styles are applied from the topmost parent\nof this Node whose CSS state is other than clean, which may affect the styling of other nodes.\nThis method is a no-op if the Node is not in a Scene. The Scene does not have to be in a Stage.</p>\n<p>This method does not invoke the <code>layout()</code> method. Typically, the caller will use the\nfollowing sequence of operations.</p>\n<pre><code>parentNode.applyCss();\nparentNode.layout();\n</code></pre>\n<p>As a more complete example, the following code uses <code>applyCss()</code> and <code>layout()</code> to find\nthe width and height of the Button before the Stage has been shown. If either the call to <code>applyCss()</code>\nor the call to <code>layout()</code> is commented out, the calls to <code>getWidth()</code> and <code>getHeight()</code>\nwill return zero (until some time after the Stage is shown).</p>\n<pre><code>public void start(Stage stage) throws Exception {\n   Group root = new Group();\n   Scene scene = new Scene(root);\n\n   Button button = new Button(&quot;Hello World&quot;);\n   root.getChildren().add(button);\n\n   root.applyCss();\n   root.layout();\n\n   double width = button.getWidth();\n   double height = button.getHeight();\n\n   System.out.println(width + &quot;, &quot; + height);\n\n   stage.setScene(scene);\n   stage.show();\n}\n</code></pre>\n</blockquote>\n<p><em>layout() vs requestLayout()</em></p>\n<p>Calling layout() will perform a layout pass immediately.</p>\n<p>Calling requestLayout() will perform a layout pass in the future:</p>\n<blockquote>\n<p>Requests a layout pass to be performed before the next scene is\nrendered. This is batched up asynchronously to happen once per\n&quot;pulse&quot;, or frame of animation.</p>\n</blockquote>\n<p>So requestLayout() informs the system that a layout needs to occur, but doesn't do the layout right away.</p>\n<p>Usually, you don't need to call requestLayout() directly, because most of the time, the JavaFX system is able to internally determine that a region of the scene is dirty and needs to perform layout automatically when needed.</p>\n<p><em>Alternative</em></p>\n<p>The other option here is to override the <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Parent.html\" rel=\"noreferrer\"><code>layoutChildren()</code></a> method of a parent node, which is &quot;Invoked during the layout pass to layout the children in this Parent.&quot;.  In doing so, it may also be necessary to override methods to <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Region.html#computePrefHeight-double-\" rel=\"noreferrer\"><code>computePrefHeight()</code></a> as well as other computation methods for prefWidth and min &amp; max height &amp; width.  A detailed description of using this approach is complicated and outside the scope of this answer.</p>\n"},{"tags":[],"owner":{"account_id":1157559,"reputation":315,"user_id":1390116,"accept_rate":0,"display_name":"silvalli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642395182,"creation_date":1642389574,"answer_id":70736147,"question_id":26152642,"body_markdown":"```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.stage.Stage;\r\nimport java.io.Closeable;\r\n\r\npublic class Sizing  extends Application {\r\n\r\n  @Override\r\n  public void start(Stage stage) {\r\n    var label = new Label();\r\n    var labelHeight = label.getHeight();\r\n    System.out.println(labelHeight);\r\n\r\n    try (var s = new SizingSandbox(label)) {\r\n      labelHeight = label.getHeight();\r\n    }\r\n\r\n    System.out.println(labelHeight);\r\n  }\r\n\r\n  public static void main(String[] args)  { launch(args); }\r\n}\r\n\r\n\r\nclass SizingSandbox extends Group  implements Closeable {\r\n\r\n  public SizingSandbox(Node... nodes) {\r\n    new Scene(this);\r\n    getChildren().addAll(nodes);\r\n    layItOut();\r\n  }\r\n\r\n  @Override\r\n  public void close() {\r\n    try {\r\n      getChildren().removeAll();\r\n    } catch (Exception e) { }\r\n  }\r\n\r\n  private void layItOut() {\r\n    applyCss();\r\n    layout();\r\n  }\r\n}\r\n\r\n// output:\r\n// 0.0\r\n// 17.0\r\n```","title":"Get the height of a node in JavaFX (generate a layout pass)","body":"<pre><code>import javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\nimport java.io.Closeable;\n\npublic class Sizing  extends Application {\n\n  @Override\n  public void start(Stage stage) {\n    var label = new Label();\n    var labelHeight = label.getHeight();\n    System.out.println(labelHeight);\n\n    try (var s = new SizingSandbox(label)) {\n      labelHeight = label.getHeight();\n    }\n\n    System.out.println(labelHeight);\n  }\n\n  public static void main(String[] args)  { launch(args); }\n}\n\n\nclass SizingSandbox extends Group  implements Closeable {\n\n  public SizingSandbox(Node... nodes) {\n    new Scene(this);\n    getChildren().addAll(nodes);\n    layItOut();\n  }\n\n  @Override\n  public void close() {\n    try {\n      getChildren().removeAll();\n    } catch (Exception e) { }\n  }\n\n  private void layItOut() {\n    applyCss();\n    layout();\n  }\n}\n\n// output:\n// 0.0\n// 17.0\n</code></pre>\n"}],"owner":{"account_id":4423649,"reputation":287,"user_id":3602736,"accept_rate":86,"display_name":"iconer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15910,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":26152904,"answer_count":2,"score":16,"last_activity_date":1643676679,"creation_date":1412208626,"question_id":26152642,"body_markdown":"How to get the height or prefer height of a node in JavaFX, I have 3 `VBox` and I want to add nodes to the the most freer panel, example:\r\n\r\n               Childrens      Total Height of the children&#39;s(Sum)\r\n    VBoxA          5                     890\r\n    VBoxB          4                     610\r\n    VBoxC          2                     720\r\n\r\nin this case, the most freer is the `VBoxB`, I calculate the most freer pane with this method:\r\n\r\n    private int getFreerColumnIndex() {\r\n        if(columns.isEmpty())\r\n            return -1;\r\n            \r\n        int columnIndex = 0;\r\n        int minHeight = 0;\r\n        for(int i = 0; i &lt; columns.size(); i++) {\r\n            int height = 0;\r\n            for(Node n : columns.get(i).getChildren()) {\r\n                height += n.getBoundsInLocal().getHeight();\r\n            }\r\n                \r\n            if(i == 0) {\r\n                minHeight = height;\r\n            } else if(height &lt; minHeight) {\r\n                minHeight = height;\r\n                columnIndex = i;\r\n            }\r\n              \r\n            if(height == 0)\r\n                break;\r\n        }\r\n            \r\n        return columnIndex;\r\n    }\r\n\r\n\r\nThis method only works if I add 1 element at the time. But if I add more elements at the time:\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        SomeNode r1 = new SomeNode ();\r\n        myPane.addElement(r1);\r\n    }\r\n\r\nthe method `getFreerColumnIndex` return the same index. This is because the new nodes dont have heigth in local yet.  \r\nSo this line: \r\n    \r\n    height += n.getBoundsInLocal().getHeight(); \r\n\r\nwill return `0` with the new nodes. \r\n\r\nAnyone knows how to get the heigth of a node ?\r\n\r\n----------\r\n## Extra: ##\r\n\r\n`SomeNode` extends of `Node`\r\n\r\nMethod addElement() at myPane:\r\n\r\n    public void addElement(final Node element) {\r\n         index = getFreerColumnIndex();\r\n         columns.get(index).getChildren().add(element);\r\n    }\r\n\r\n----------\r\n## Extra 2: ##\r\n\r\nsuppose we have 3 vbox:\r\nBefore:\r\n\r\n     A      B      C\r\n     |      |      |\r\n            |      |\r\n            |\r\n\r\nRun: \r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        SomeNode r1 = new SomeNode ();\r\n        myPane.addElement(r1);                      \r\n    }\r\n\r\nAfter:\r\n\r\n     A      B      C\r\n     |      |      |\r\n     |      |      |\r\n     |      |\r\n     |\r\n     |\r\n     |\r\n     |\r\n     |\r\n     |\r\n     |\r\n     |\r\n\r\n\r\n**Correct**: \r\n\r\n     A      B      C\r\n     |      |      |\r\n     |      |      |\r\n     |      |      |\r\n     |      |      |\r\n     |      |      |\r\n     |\r\n \r\n        \r\n`|` = Some node\r\n","title":"Get the height of a node in JavaFX (generate a layout pass)","body":"<p>How to get the height or prefer height of a node in JavaFX, I have 3 <code>VBox</code> and I want to add nodes to the the most freer panel, example:</p>\n\n<pre><code>           Childrens      Total Height of the children's(Sum)\nVBoxA          5                     890\nVBoxB          4                     610\nVBoxC          2                     720\n</code></pre>\n\n<p>in this case, the most freer is the <code>VBoxB</code>, I calculate the most freer pane with this method:</p>\n\n<pre><code>private int getFreerColumnIndex() {\n    if(columns.isEmpty())\n        return -1;\n\n    int columnIndex = 0;\n    int minHeight = 0;\n    for(int i = 0; i &lt; columns.size(); i++) {\n        int height = 0;\n        for(Node n : columns.get(i).getChildren()) {\n            height += n.getBoundsInLocal().getHeight();\n        }\n\n        if(i == 0) {\n            minHeight = height;\n        } else if(height &lt; minHeight) {\n            minHeight = height;\n            columnIndex = i;\n        }\n\n        if(height == 0)\n            break;\n    }\n\n    return columnIndex;\n}\n</code></pre>\n\n<p>This method only works if I add 1 element at the time. But if I add more elements at the time:</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    SomeNode r1 = new SomeNode ();\n    myPane.addElement(r1);\n}\n</code></pre>\n\n<p>the method <code>getFreerColumnIndex</code> return the same index. This is because the new nodes dont have heigth in local yet.<br>\nSo this line: </p>\n\n<pre><code>height += n.getBoundsInLocal().getHeight(); \n</code></pre>\n\n<p>will return <code>0</code> with the new nodes. </p>\n\n<p>Anyone knows how to get the heigth of a node ?</p>\n\n<hr>\n\n<h2>Extra:</h2>\n\n<p><code>SomeNode</code> extends of <code>Node</code></p>\n\n<p>Method addElement() at myPane:</p>\n\n<pre><code>public void addElement(final Node element) {\n     index = getFreerColumnIndex();\n     columns.get(index).getChildren().add(element);\n}\n</code></pre>\n\n<hr>\n\n<h2>Extra 2:</h2>\n\n<p>suppose we have 3 vbox:\nBefore:</p>\n\n<pre><code> A      B      C\n |      |      |\n        |      |\n        |\n</code></pre>\n\n<p>Run: </p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    SomeNode r1 = new SomeNode ();\n    myPane.addElement(r1);                      \n}\n</code></pre>\n\n<p>After:</p>\n\n<pre><code> A      B      C\n |      |      |\n |      |      |\n |      |\n |\n |\n |\n |\n |\n |\n |\n |\n</code></pre>\n\n<p><strong>Correct</strong>: </p>\n\n<pre><code> A      B      C\n |      |      |\n |      |      |\n |      |      |\n |      |      |\n |      |      |\n |\n</code></pre>\n\n<p><code>|</code> = Some node</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10183654,"reputation":19,"user_id":7519498,"display_name":"synergy77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643674692,"creation_date":1643674692,"answer_id":70934338,"question_id":70934272,"body_markdown":"It will depend upon which dependency is first on the classpath.","title":"How does java choose between a method with same name, parameters and class in different dependencies?","body":"<p>It will depend upon which dependency is first on the classpath.</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643674857,"creation_date":1643674857,"answer_id":70934348,"question_id":70934272,"body_markdown":"In a &quot;usual&quot; situation, there is a `-classpath` property that you supply in a startup script of your application for example, and it contains a list of jars that will be &quot;known&quot;. Now, if the `UtilityClass` resides in `A.jar` and `B.jar`, the order of appearance of these jars in the classpath will determine which class implementation will load:\r\n\r\nExample:\r\n\r\n~~~\r\njava -classpath A.jar B.jar &lt;whatever&gt;\r\n~~~\r\nmeans that the `UtilityClass` from `A.jar` will be loaded, only because it comes first.\r\n\r\nNow things become more complicated when you run things through maven, because it manages the `-classpath` by itself. Since maven 2.0.9 it uses order in pom.xml for classpath (see [here][1] for example).\r\n\r\nIf you have more &quot;advanced&quot; ways of loading the jars (like custom classloaders, then the answer can be different)...\r\n\r\nAnyway, probably the best way is to come up with one dependency and exclude the other if its possible.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/793054/maven-classpath-order-issues","title":"How does java choose between a method with same name, parameters and class in different dependencies?","body":"<p>In a &quot;usual&quot; situation, there is a <code>-classpath</code> property that you supply in a startup script of your application for example, and it contains a list of jars that will be &quot;known&quot;. Now, if the <code>UtilityClass</code> resides in <code>A.jar</code> and <code>B.jar</code>, the order of appearance of these jars in the classpath will determine which class implementation will load:</p>\n<p>Example:</p>\n<pre><code>java -classpath A.jar B.jar &lt;whatever&gt;\n</code></pre>\n<p>means that the <code>UtilityClass</code> from <code>A.jar</code> will be loaded, only because it comes first.</p>\n<p>Now things become more complicated when you run things through maven, because it manages the <code>-classpath</code> by itself. Since maven 2.0.9 it uses order in pom.xml for classpath (see <a href=\"https://stackoverflow.com/questions/793054/maven-classpath-order-issues\">here</a> for example).</p>\n<p>If you have more &quot;advanced&quot; ways of loading the jars (like custom classloaders, then the answer can be different)...</p>\n<p>Anyway, probably the best way is to come up with one dependency and exclude the other if its possible.</p>\n"}],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643675434,"creation_date":1643673868,"question_id":70934272,"body_markdown":"We recently ran into a scenarium that we have two corporate dependencies and each one of them has a specific method with the same name, parameters and class, probably a copy-and-paste. Both dependencies are declared as direct dependency in my actual microservice.\r\n\r\nImagine something like:\r\n\r\n    -- Microservice\r\n        |-- Corporate dependency A\r\n            |-- com.enterprise.project.UtilityClass\r\n                | public static String someMethod(String someParameter)\r\n        |-- Corporate dependency B\r\n            |-- com.enterprise.project.UtilityClass\r\n                | public static String someMethod(String someParameter)\r\n\r\nWe noticed the problem because maven reported it in our build when we added the second dependency, we checked and even thought the output is the same, they have slightly different implementations. My question is, how does the JVM decides which one of this methods to use in runtime? ","title":"How does java choose between a method with same name, parameters and class in different dependencies?","body":"<p>We recently ran into a scenarium that we have two corporate dependencies and each one of them has a specific method with the same name, parameters and class, probably a copy-and-paste. Both dependencies are declared as direct dependency in my actual microservice.</p>\n<p>Imagine something like:</p>\n<pre><code>-- Microservice\n    |-- Corporate dependency A\n        |-- com.enterprise.project.UtilityClass\n            | public static String someMethod(String someParameter)\n    |-- Corporate dependency B\n        |-- com.enterprise.project.UtilityClass\n            | public static String someMethod(String someParameter)\n</code></pre>\n<p>We noticed the problem because maven reported it in our build when we added the second dependency, we checked and even thought the output is the same, they have slightly different implementations. My question is, how does the JVM decides which one of this methods to use in runtime?</p>\n"},{"tags":["java","opengl","camera","libgdx"],"answers":[{"tags":[],"owner":{"account_id":17890722,"reputation":80,"user_id":12997240,"display_name":"TAccount"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643674876,"creation_date":1643674876,"answer_id":70934351,"question_id":70922087,"body_markdown":"I finally got it. I was drawing before moving my camera and that, apparently, was the issue.\r\n\r\nMy render loop previously looked like this:\r\n```java\r\n@Override\r\npublic void render() {\r\n\t// Other code\r\n\tGdx.gl.glEnable(GL20.GL_DEPTH_TEST);\r\n\tGdx.gl.glViewport(0, 0, Gdx.graphics.getBackBufferWidth(), Gdx.graphics.getBackBufferHeight());\r\n\tGdx.gl.glClearColor(0, 0, 1, 1);\r\n\tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\r\n\r\n\t// Handle camera input\r\n\tcamera.update();\r\n\r\n\tmodelBatch.render(camera);\r\n\tGdx.gl.glDisable(GL20.GL_DEPTH_TEST);\r\n}\r\n```\r\n\r\nI simply moved the camera input handling and camera update above the &quot;render&quot; code:\r\n```java\r\n@Override\r\npublic void render() {\r\n\t// Other code\r\n\r\n\t// Handle camera input\r\n\tcamera.update();\r\n\r\n\tGdx.gl.glEnable(GL20.GL_DEPTH_TEST);\r\n\tGdx.gl.glViewport(0, 0, Gdx.graphics.getBackBufferWidth(), Gdx.graphics.getBackBufferHeight());\r\n\tGdx.gl.glClearColor(0, 0, 1, 1);\r\n\tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\r\n\r\n\tmodelBatch.render(camera);\r\n\tGdx.gl.glDisable(GL20.GL_DEPTH_TEST);\r\n}\r\n```","title":"First Person camera movement with LibGDL","body":"<p>I finally got it. I was drawing before moving my camera and that, apparently, was the issue.</p>\n<p>My render loop previously looked like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void render() {\n    // Other code\n    Gdx.gl.glEnable(GL20.GL_DEPTH_TEST);\n    Gdx.gl.glViewport(0, 0, Gdx.graphics.getBackBufferWidth(), Gdx.graphics.getBackBufferHeight());\n    Gdx.gl.glClearColor(0, 0, 1, 1);\n    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\n\n    // Handle camera input\n    camera.update();\n\n    modelBatch.render(camera);\n    Gdx.gl.glDisable(GL20.GL_DEPTH_TEST);\n}\n</code></pre>\n<p>I simply moved the camera input handling and camera update above the &quot;render&quot; code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void render() {\n    // Other code\n\n    // Handle camera input\n    camera.update();\n\n    Gdx.gl.glEnable(GL20.GL_DEPTH_TEST);\n    Gdx.gl.glViewport(0, 0, Gdx.graphics.getBackBufferWidth(), Gdx.graphics.getBackBufferHeight());\n    Gdx.gl.glClearColor(0, 0, 1, 1);\n    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\n\n    modelBatch.render(camera);\n    Gdx.gl.glDisable(GL20.GL_DEPTH_TEST);\n}\n</code></pre>\n"}],"owner":{"account_id":17890722,"reputation":80,"user_id":12997240,"display_name":"TAccount"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643674876,"creation_date":1643611292,"question_id":70922087,"body_markdown":"I&#39;ve looked for hours but I couldn&#39;t find anything but two StackOverflow questions, one of which had one answer, by the author, not really giving proper explanation.\r\n\r\nI was working on a game with LWJGL2.9 and now decided to switch to LibGDX for its simplicity. I had working code that allowed me to move through space - but that code can&#39;t be converted 1:1 to LibGDX and I can&#39;t find any example, explanation, tutorial or anything of the like, not even in LibGDX&#39;s wiki.\r\n\r\nThis is the code that I used for LWJGL:\r\n```java\r\npublic Vectorf calculateMovement(MovementDirection direction, float newYaw, float walkSpeed, double deltaTime) {\r\n\t\tVectorf position = new Vectorf(0f, 0f, 0f); // Just a Vector3f\r\n\t\tfloat amount = (walkSpeed) * (float) deltaTime;\r\n\r\n\t\tswitch (direction) {\r\n\t\tcase FORWARD:\r\n\t\tcase BACKWARD: {\r\n\t\t\tfloat dx = (float) (direction.getXAdd() * Math.sin(Math.toRadians(newYaw))) * amount;\r\n\t\t\tfloat dz = (float) -(direction.getZAdd() * Math.cos(Math.toRadians(newYaw))) * amount;\r\n\t\t\tposition.add(dx, direction.getYAdd() * amount, dz);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase LEFT:\r\n\t\tcase RIGHT: {\r\n\t\t\tfloat dx = (amount * (float) (Math.sin(Math.toRadians(newYaw + 90))) * direction.getXAdd());\r\n\t\t\tfloat dz = (amount * (float) (Math.cos(Math.toRadians(newYaw + 90))) * direction.getZAdd());\r\n\t\t\tposition.add(dx, direction.getYAdd() * amount, dz);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\tposition.add(direction.getXAdd() * amount, direction.getYAdd() * amount, direction.getZAdd() * amount);\r\n\t\t}\r\n\t\t}\r\n\r\n\t\treturn position;\r\n\t}\r\n```\r\n```java\r\npublic enum MovementDirection {\r\n\r\n\tFORWARD(1, 1),\r\n\tBACKWARD(-1, -1),\r\n\tLEFT(-1, 1),\r\n\tRIGHT(1, -1),\r\n\tUP(1),\r\n\tDOWN(-1);\r\n\r\n\tprivate final int xAdd;\r\n\tprivate final int yAdd;\r\n\tprivate final int zAdd;\r\n\r\n\tMovementDirection(int yAdd) {\r\n\t\tthis(0, yAdd, 0);\r\n\t}\r\n\r\n\tMovementDirection(int xAdd, int zAdd) {\r\n\t\tthis(xAdd, 0, zAdd);\r\n\t}\r\n\r\n\tMovementDirection(int xAdd, int yAdd, int zAdd) {\r\n\t\tthis.xAdd = xAdd;\r\n\t\tthis.yAdd = yAdd;\r\n\t\tthis.zAdd = zAdd;\r\n\t}\r\n\r\n\tpublic float getXAdd() {\r\n\t\treturn xAdd;\r\n\t}\r\n\r\n\tpublic float getYAdd() {\r\n\t\treturn yAdd;\r\n\t}\r\n\r\n\tpublic float getZAdd() {\r\n\t\treturn zAdd;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI then updated the view matrix before rendering every frame calling the following method:\r\n```java\r\npublic static Matrix4f createViewMatrix(Camera camera) {\r\n\tMatrix4f matrix = new Matrix4f();\r\n\tmatrix.setIdentity();\r\n\r\n\tMatrix4f.rotate((float) Math.toRadians(camera.getYaw()), new Vector3f(1, 0, 0), matrix, matrix);\r\n\tMatrix4f.rotate((float) Math.toRadians(camera.getPitch()), new Vector3f(0, 1, 0), matrix, matrix);\r\n\tMatrix4f.rotate((float) Math.toRadians(camera.getDelta()), new Vector3f(0, 0, 1), matrix, matrix);\r\n\tMatrix4f.translate(camera.getNegativePosition(), matrix, matrix);\r\n\r\n\treturn matrix;\r\n}\r\n```\r\nLibGDX, though, uses matrixes in a totally different way and I have no idea how to configure it (or how to properly update the view matrix, for that matter). Here&#39;s what I have:\r\n\r\n```java\r\npublic static Matrix4 createViewMatrix(Camera camera) {\r\n\tMatrix4 matrix = new Matrix4();\r\n\tmatrix.setToLookAt(camera.direction, camera.up);\r\n\r\n\treturn matrix;\r\n}\r\n```\r\nI&#39;m not really even sure how I would be using that, I&#39;m completely lost. I can draw a cube on the screen and move my mouse around to see it but as soon as I try to move (W,A,S,D) the cube disappears (I&#39;m guessing it has to do with the view matrix practically not being applied).\r\n\r\nI know that it&#39;s a long read and the code may even be bad but I already could find little to nothing for LWJGL let alone LibGDX.","title":"First Person camera movement with LibGDL","body":"<p>I've looked for hours but I couldn't find anything but two StackOverflow questions, one of which had one answer, by the author, not really giving proper explanation.</p>\n<p>I was working on a game with LWJGL2.9 and now decided to switch to LibGDX for its simplicity. I had working code that allowed me to move through space - but that code can't be converted 1:1 to LibGDX and I can't find any example, explanation, tutorial or anything of the like, not even in LibGDX's wiki.</p>\n<p>This is the code that I used for LWJGL:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Vectorf calculateMovement(MovementDirection direction, float newYaw, float walkSpeed, double deltaTime) {\n        Vectorf position = new Vectorf(0f, 0f, 0f); // Just a Vector3f\n        float amount = (walkSpeed) * (float) deltaTime;\n\n        switch (direction) {\n        case FORWARD:\n        case BACKWARD: {\n            float dx = (float) (direction.getXAdd() * Math.sin(Math.toRadians(newYaw))) * amount;\n            float dz = (float) -(direction.getZAdd() * Math.cos(Math.toRadians(newYaw))) * amount;\n            position.add(dx, direction.getYAdd() * amount, dz);\n            break;\n        }\n        case LEFT:\n        case RIGHT: {\n            float dx = (amount * (float) (Math.sin(Math.toRadians(newYaw + 90))) * direction.getXAdd());\n            float dz = (amount * (float) (Math.cos(Math.toRadians(newYaw + 90))) * direction.getZAdd());\n            position.add(dx, direction.getYAdd() * amount, dz);\n            break;\n        }\n        default: {\n            position.add(direction.getXAdd() * amount, direction.getYAdd() * amount, direction.getZAdd() * amount);\n        }\n        }\n\n        return position;\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum MovementDirection {\n\n    FORWARD(1, 1),\n    BACKWARD(-1, -1),\n    LEFT(-1, 1),\n    RIGHT(1, -1),\n    UP(1),\n    DOWN(-1);\n\n    private final int xAdd;\n    private final int yAdd;\n    private final int zAdd;\n\n    MovementDirection(int yAdd) {\n        this(0, yAdd, 0);\n    }\n\n    MovementDirection(int xAdd, int zAdd) {\n        this(xAdd, 0, zAdd);\n    }\n\n    MovementDirection(int xAdd, int yAdd, int zAdd) {\n        this.xAdd = xAdd;\n        this.yAdd = yAdd;\n        this.zAdd = zAdd;\n    }\n\n    public float getXAdd() {\n        return xAdd;\n    }\n\n    public float getYAdd() {\n        return yAdd;\n    }\n\n    public float getZAdd() {\n        return zAdd;\n    }\n\n}\n</code></pre>\n<p>I then updated the view matrix before rendering every frame calling the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Matrix4f createViewMatrix(Camera camera) {\n    Matrix4f matrix = new Matrix4f();\n    matrix.setIdentity();\n\n    Matrix4f.rotate((float) Math.toRadians(camera.getYaw()), new Vector3f(1, 0, 0), matrix, matrix);\n    Matrix4f.rotate((float) Math.toRadians(camera.getPitch()), new Vector3f(0, 1, 0), matrix, matrix);\n    Matrix4f.rotate((float) Math.toRadians(camera.getDelta()), new Vector3f(0, 0, 1), matrix, matrix);\n    Matrix4f.translate(camera.getNegativePosition(), matrix, matrix);\n\n    return matrix;\n}\n</code></pre>\n<p>LibGDX, though, uses matrixes in a totally different way and I have no idea how to configure it (or how to properly update the view matrix, for that matter). Here's what I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Matrix4 createViewMatrix(Camera camera) {\n    Matrix4 matrix = new Matrix4();\n    matrix.setToLookAt(camera.direction, camera.up);\n\n    return matrix;\n}\n</code></pre>\n<p>I'm not really even sure how I would be using that, I'm completely lost. I can draw a cube on the screen and move my mouse around to see it but as soon as I try to move (W,A,S,D) the cube disappears (I'm guessing it has to do with the view matrix practically not being applied).</p>\n<p>I know that it's a long read and the code may even be bad but I already could find little to nothing for LWJGL let alone LibGDX.</p>\n"},{"tags":["java","date","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1494344566,"creation_date":1494344237,"answer_id":43874153,"question_id":43863873,"body_markdown":"This is an issue with the underlying Java class that parses dates. The parser is by default *lenient* and will parse dates that seem wrong. For stricter parsing you need to set the *lenient* property to false with the [setLenient](https://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)) method. E.g. this setup will result in a `InvalidFormatException` when parsing a JSON with a date string *&quot;2017-0526&quot;*:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    df.setLenient(false);\r\n    mapper.setDateFormat(df);\r\n\r\nAt the moment you can&#39;t configure this through a `@JsonFormat` annotation. There seems to be a plan for that for version 2.9.0. [Link to issue at github](https://github.com/FasterXML/jackson-annotations/issues/105)","title":"Jackson accepting negative dates","body":"<p>This is an issue with the underlying Java class that parses dates. The parser is by default <em>lenient</em> and will parse dates that seem wrong. For stricter parsing you need to set the <em>lenient</em> property to false with the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)\" rel=\"nofollow noreferrer\">setLenient</a> method. E.g. this setup will result in a <code>InvalidFormatException</code> when parsing a JSON with a date string <em>\"2017-0526\"</em>:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleDateFormat df = new SimpleDateFormat(\"yyyyMMdd\");\ndf.setLenient(false);\nmapper.setDateFormat(df);\n</code></pre>\n\n<p>At the moment you can't configure this through a <code>@JsonFormat</code> annotation. There seems to be a plan for that for version 2.9.0. <a href=\"https://github.com/FasterXML/jackson-annotations/issues/105\" rel=\"nofollow noreferrer\">Link to issue at github</a></p>\n"},{"tags":[],"owner":{"account_id":4464663,"reputation":131,"user_id":3632617,"display_name":"Isaace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643674189,"creation_date":1643674189,"answer_id":70934293,"question_id":43863873,"body_markdown":"I wanted something that will affect the whole (spring-boot) project and came up with this:\r\n\r\n    @Configuration\r\n    public class JsonConfiguration {\r\n        @Bean\r\n        public Jackson2ObjectMapperBuilderCustomizer customize() {\r\n            return builder -&gt; builder\r\n                    .dateFormat(StdDateFormat.instance.withLenient(false))\r\n                    .build();\r\n        }\r\n    }\r\n\r\n","title":"Jackson accepting negative dates","body":"<p>I wanted something that will affect the whole (spring-boot) project and came up with this:</p>\n<pre><code>@Configuration\npublic class JsonConfiguration {\n    @Bean\n    public Jackson2ObjectMapperBuilderCustomizer customize() {\n        return builder -&gt; builder\n                .dateFormat(StdDateFormat.instance.withLenient(false))\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2693475,"reputation":1442,"user_id":2326172,"accept_rate":78,"display_name":"Saheb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2175,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43874153,"answer_count":2,"score":4,"last_activity_date":1643674189,"creation_date":1494315328,"question_id":43863873,"body_markdown":"I am trying to get a date field from JSON in a spring-boot application with Jackson. The JSONFormat looks like this:\r\n\r\n    \r\n\t@NotNull(message = ValidationErrors.NOT_BLANK_MESSAGE)\r\n\t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyyMMdd&quot;)\r\n\tprivate Date date;\r\n\r\nIt works fine for most of the cases but when I pass 2017-0526, it is automatically converting it to 10th of May, 2018.\r\n\r\nI want to throw exception in case the date is not in the yyyyMMdd format or contains minus sign. I tried going through stack overflow and Jackson documentation, but couldn&#39;t find anything.\r\n\r\nWhy is JsonFormat accepting negative dates?\r\n\r\nIs there any workaround for this, so that it throws exception when such dates are passed?","title":"Jackson accepting negative dates","body":"<p>I am trying to get a date field from JSON in a spring-boot application with Jackson. The JSONFormat looks like this:</p>\n\n<pre><code>@NotNull(message = ValidationErrors.NOT_BLANK_MESSAGE)\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyyMMdd\")\nprivate Date date;\n</code></pre>\n\n<p>It works fine for most of the cases but when I pass 2017-0526, it is automatically converting it to 10th of May, 2018.</p>\n\n<p>I want to throw exception in case the date is not in the yyyyMMdd format or contains minus sign. I tried going through stack overflow and Jackson documentation, but couldn't find anything.</p>\n\n<p>Why is JsonFormat accepting negative dates?</p>\n\n<p>Is there any workaround for this, so that it throws exception when such dates are passed?</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1643388315,"post_id":70897028,"comment_id":125334681,"body_markdown":"*but Im trying to use this to compare two dates.*  It would be helpful if you would explain the criteria for comparison.  Also, you say compare dates but your format contains time elements.","body":"<i>but Im trying to use this to compare two dates.</i>  It would be helpful if you would explain the criteria for comparison.  Also, you say compare dates but your format contains time elements."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1643389284,"post_id":70897028,"comment_id":125335072,"body_markdown":"Your question is convoluted and confusing. Rewrite for clarity. Tips: (a) Never use `Date`/`Calendar`/`DateFormat`. They were supplanted years ago by *java.time* classes. (b) Do not generate localized strings for parsing. Use only standard ISO 8601 formats for data exchange. The *java.time* classes use the standard formats by default for generating/parsing strings. (c) When posting code here, strip it down to the bare minimum needed to show your issue.","body":"Your question is convoluted and confusing. Rewrite for clarity. Tips: (a) Never use <code>Date</code>/<code>Calendar</code>/<code>DateFormat</code>. They were supplanted years ago by <i>java.time</i> classes. (b) Do not generate localized strings for parsing. Use only standard ISO 8601 formats for data exchange. The <i>java.time</i> classes use the standard formats by default for generating/parsing strings. (c) When posting code here, strip it down to the bare minimum needed to show your issue."},{"owner":{"account_id":24085498,"reputation":1,"user_id":18059563,"display_name":"nmeagher"},"score":0,"creation_date":1643389953,"post_id":70897028,"comment_id":125335327,"body_markdown":"Im comparing date/times to see if users have logged into a system within 25 days. These are the classes I have to work with.","body":"Im comparing date/times to see if users have logged into a system within 25 days. These are the classes I have to work with."},{"owner":{"account_id":24085498,"reputation":1,"user_id":18059563,"display_name":"nmeagher"},"score":0,"creation_date":1643390199,"post_id":70897028,"comment_id":125335422,"body_markdown":"Im having issue with the string to date parse - format to string then parse back to date.","body":"Im having issue with the string to date parse - format to string then parse back to date."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1643394937,"post_id":70897028,"comment_id":125337207,"body_markdown":"You say &quot;These are the classes I have to work with.&quot; Why? Are you on a very old version of Java? Are you on Android? (There are versions of the java.time API for Android.)","body":"You say &quot;These are the classes I have to work with.&quot; Why? Are you on a very old version of Java? Are you on Android? (There are versions of the java.time API for Android.)"},{"owner":{"account_id":24085498,"reputation":1,"user_id":18059563,"display_name":"nmeagher"},"score":0,"creation_date":1643401774,"post_id":70897028,"comment_id":125339393,"body_markdown":"This is beanshell and the classes the application supports.","body":"This is beanshell and the classes the application supports."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643673864,"creation_date":1643396254,"answer_id":70898906,"question_id":70897028,"body_markdown":"There is a conceptual problem with what you are trying to do. You are taking a date in the format MM/dd/yyyy and converting it to a string representation that has date, time, and time zone, but your initial data contains only date, not time or time zone. Of course, you can set the time to 00:00:00 and the time zone to your system default, but these are assumptions that may be incorrect.\r\n\r\nIn any case, here is how you could do it using the java.time API:\r\n\r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    \r\n    // . . .\r\n    \r\n        DateTimeFormatter mdy = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\r\n        String date = &quot;01/28/2022&quot;;\r\n        \r\n        // the follow steps could be combined, but they are separated for clarity\r\n        LocalDate localDate = mdy.parse(date, LocalDate::from);\r\n        LocalDateTime ldt = LocalDateTime.of(localDate, LocalTime.of(0, 0));\r\n        ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault);\r\n        \r\n        // formatted as &quot;Fri Jan 28 24:00:00 EST 2022&quot;\r\n        String formatted = formatter.format(zdt);\r\n        ZonedDateTime parsed = formatter.parse(formatted, ZonedDateTime::from);\r\n        // parsed.equals(zdt) == true\r\n        // parsed.compareTo(zdt) == 0\r\n\r\nIf you really just want to compare dates, I would strongly suggest using only the [`LocalDate`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html) class and leaving time and time zone out of it entirely.\r\n\r\nHere is an example using only Date, Calendar, and (Simple)DateFormat:\r\n\r\n    boolean checkEffectiveHireDate(String hireDateMMddyyyy) throws ParseException {\r\n        DateFormat mmddyyyy = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n        DateFormat fullFormat = new SimpleDateFormat(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\r\n        Date hireDate = mmddyyyy.parse(hireDateMMddyyyy);\r\n        String effectiveHire = fullFormat.format(hireDate);\r\n        System.out.println(effectiveHire);\r\n        Date effectiveHireDate = fullFormat.parse(effectiveHire);\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.add(Calendar.DATE, -25);\r\n        Date thresholdDate = cal.getTime();\r\n        return effectiveHireDate.compareTo(thresholdDate) &lt; 0;\r\n    }","title":"Format Date from string in one format back to string then parse string to date","body":"<p>There is a conceptual problem with what you are trying to do. You are taking a date in the format MM/dd/yyyy and converting it to a string representation that has date, time, and time zone, but your initial data contains only date, not time or time zone. Of course, you can set the time to 00:00:00 and the time zone to your system default, but these are assumptions that may be incorrect.</p>\n<p>In any case, here is how you could do it using the java.time API:</p>\n<pre><code>import java.time.*;\nimport java.time.format.*;\n\n// . . .\n\n    DateTimeFormatter mdy = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\n    String date = &quot;01/28/2022&quot;;\n    \n    // the follow steps could be combined, but they are separated for clarity\n    LocalDate localDate = mdy.parse(date, LocalDate::from);\n    LocalDateTime ldt = LocalDateTime.of(localDate, LocalTime.of(0, 0));\n    ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault);\n    \n    // formatted as &quot;Fri Jan 28 24:00:00 EST 2022&quot;\n    String formatted = formatter.format(zdt);\n    ZonedDateTime parsed = formatter.parse(formatted, ZonedDateTime::from);\n    // parsed.equals(zdt) == true\n    // parsed.compareTo(zdt) == 0\n</code></pre>\n<p>If you really just want to compare dates, I would strongly suggest using only the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class and leaving time and time zone out of it entirely.</p>\n<p>Here is an example using only Date, Calendar, and (Simple)DateFormat:</p>\n<pre><code>boolean checkEffectiveHireDate(String hireDateMMddyyyy) throws ParseException {\n    DateFormat mmddyyyy = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\n    DateFormat fullFormat = new SimpleDateFormat(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\n    Date hireDate = mmddyyyy.parse(hireDateMMddyyyy);\n    String effectiveHire = fullFormat.format(hireDate);\n    System.out.println(effectiveHire);\n    Date effectiveHireDate = fullFormat.parse(effectiveHire);\n    Calendar cal = Calendar.getInstance();\n    cal.add(Calendar.DATE, -25);\n    Date thresholdDate = cal.getTime();\n    return effectiveHireDate.compareTo(thresholdDate) &lt; 0;\n}\n</code></pre>\n"}],"owner":{"account_id":24085498,"reputation":1,"user_id":18059563,"display_name":"nmeagher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643673864,"creation_date":1643387518,"question_id":70897028,"body_markdown":"Im trying to grab a string(date) parse with (&quot;MM/dd/yyyy&quot;) then format date from the string with \r\n(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;) then parse that string again creating date with format (&quot;EEE MMM dd kk:mm:ss z yyyy&quot;). So I can compare two dates with format (&quot;EEE MMM dd kk:mm:ss z yyyy&quot;)  \r\n\r\nNot getting any parsing errors but Im trying to use this to compare two dates. Running into issue with not being able to create list because my compare isnt working. Need a little help with this type of conversion\r\n\r\n\r\n                      private Date getDateNDaysAgo(int numDays) {\r\n                      log.debug(&quot;getDateNDaysAgo 1 &quot; + numDays);\r\n                      Calendar cal = Calendar.getInstance();\r\n                      Date returnDate = null;\r\n                      cal.add(Calendar.DATE, -(numDays));\r\n                      returnDate = cal.getTime();\r\n                      log.debug(&quot;getDateNDaysAgo 2&quot; + returnDate);\r\n                      return (returnDate);\r\n                      }\t\t\t\t\t\r\n\r\n                  String EffectiveHireString = null;\r\n\t\t\t\t  String EffectiveHireDate = null;\r\n                  \r\n                  \r\n\t\t\t\t  Date returnEffectiveHireDate = null;\r\n                  Date thresholdDate = null;\r\n\t\t\t\t  Date newEffectiveHireDate=null;\r\n                  boolean isAccountCreatedOver25Days = false; \r\n\r\n                  link = (Link)itrLinkResults.next();\r\n\r\n                  // only pull active accounts\r\n                  if(!link.isDisabled()) {\r\n                  if(link.getAttribute(&quot;lastLogon&quot;) != null){\r\n                  log.debug(&quot;QueryParameter: lastLogon (1): not null&quot;);\r\n                  lastLogon = link.getAttribute(&quot;lastLogon&quot;);\r\n                  }\r\n\r\n                  if(link.getAttribute(&quot;EffectiveHireDate&quot;) != null){\r\n                  log.debug(&quot;QueryParameter: EffectiveHireDate (1): not null&quot;);\r\n                  acuEffectiveHireDate  = link.getAttribute(&quot;EffectiveHireDate&quot;);\r\n\r\n                  if(Util.isNotNullOrEmpty(EffectiveHireDate)) {\r\n\r\n                  DateFormat df = new SimpleDateFormat(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;); \r\n                  SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n\t\t\t\t  SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\r\n                  try {\r\n\t\t\t\t\t  \r\n\t\t\t\t\tnewEffectiveHireDate = sdf.parse(EffectiveHireDate);\r\n                    EffectiveHireString = df.format(newEffectiveHireDate);\r\n\t\t\t\t\treturnEffectiveHireDate = formatter.parse(EffectiveHireString);\r\n                    \r\n                    thresholdDate = getDateNDaysAgo(25);\r\n                    log.debug(&quot;thresholdDate&quot; + thresholdDate);\r\n\r\n                   if(returnEffectiveHireDate.compareTo(thresholdDate) &amp;lt; 0){\r\n                  log.debug(&quot;returnEffectiveHireDate 2&quot; + returnEffectiveHireDate);\r\n                  isAccountCreatedOver25Days = true;** \r\n                  }\r\n                  }\r\n                      catch (ParseException e) {\r\n                      log.error(&quot;Error attempting to parse EffectiveHireDate Date&quot;);\r\n                      }\r\n                      }\r\n                      }\r\n\r\n\r\n","title":"Format Date from string in one format back to string then parse string to date","body":"<p>Im trying to grab a string(date) parse with (&quot;MM/dd/yyyy&quot;) then format date from the string with\n(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;) then parse that string again creating date with format (&quot;EEE MMM dd kk:mm:ss z yyyy&quot;). So I can compare two dates with format (&quot;EEE MMM dd kk:mm:ss z yyyy&quot;)</p>\n<p>Not getting any parsing errors but Im trying to use this to compare two dates. Running into issue with not being able to create list because my compare isnt working. Need a little help with this type of conversion</p>\n<pre><code>                  private Date getDateNDaysAgo(int numDays) {\n                  log.debug(&quot;getDateNDaysAgo 1 &quot; + numDays);\n                  Calendar cal = Calendar.getInstance();\n                  Date returnDate = null;\n                  cal.add(Calendar.DATE, -(numDays));\n                  returnDate = cal.getTime();\n                  log.debug(&quot;getDateNDaysAgo 2&quot; + returnDate);\n                  return (returnDate);\n                  }                 \n\n              String EffectiveHireString = null;\n              String EffectiveHireDate = null;\n              \n              \n              Date returnEffectiveHireDate = null;\n              Date thresholdDate = null;\n              Date newEffectiveHireDate=null;\n              boolean isAccountCreatedOver25Days = false; \n\n              link = (Link)itrLinkResults.next();\n\n              // only pull active accounts\n              if(!link.isDisabled()) {\n              if(link.getAttribute(&quot;lastLogon&quot;) != null){\n              log.debug(&quot;QueryParameter: lastLogon (1): not null&quot;);\n              lastLogon = link.getAttribute(&quot;lastLogon&quot;);\n              }\n\n              if(link.getAttribute(&quot;EffectiveHireDate&quot;) != null){\n              log.debug(&quot;QueryParameter: EffectiveHireDate (1): not null&quot;);\n              acuEffectiveHireDate  = link.getAttribute(&quot;EffectiveHireDate&quot;);\n\n              if(Util.isNotNullOrEmpty(EffectiveHireDate)) {\n\n              DateFormat df = new SimpleDateFormat(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;); \n              SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\n              SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE MMM dd kk:mm:ss z yyyy&quot;);\n              try {\n                  \n                newEffectiveHireDate = sdf.parse(EffectiveHireDate);\n                EffectiveHireString = df.format(newEffectiveHireDate);\n                returnEffectiveHireDate = formatter.parse(EffectiveHireString);\n                \n                thresholdDate = getDateNDaysAgo(25);\n                log.debug(&quot;thresholdDate&quot; + thresholdDate);\n\n               if(returnEffectiveHireDate.compareTo(thresholdDate) &amp;lt; 0){\n              log.debug(&quot;returnEffectiveHireDate 2&quot; + returnEffectiveHireDate);\n              isAccountCreatedOver25Days = true;** \n              }\n              }\n                  catch (ParseException e) {\n                  log.error(&quot;Error attempting to parse EffectiveHireDate Date&quot;);\n                  }\n                  }\n                  }\n</code></pre>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1643673405,"post_id":70934200,"comment_id":125398653,"body_markdown":"instead of for-loop, use `if` condition.","body":"instead of for-loop, use <code>if</code> condition."},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1643674139,"post_id":70934200,"comment_id":125398809,"body_markdown":"Since you only have to add `,` at most once in each iteration, use `if` condition for that. Inner for-loop is not required. Check @CesareIsHere answer for reference.","body":"Since you only have to add <code>,</code> at most once in each iteration, use <code>if</code> condition for that. Inner for-loop is not required. Check @CesareIsHere answer for reference."}],"answers":[{"tags":[],"owner":{"account_id":24021097,"reputation":123,"user_id":18003391,"display_name":"CesareIsHere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643673812,"creation_date":1643673812,"answer_id":70934267,"question_id":70934200,"body_markdown":"i dont&#39; know why you used a double for but with this solution (a for with an if condition that stops to print &#39;,&#39; when index is equal to the last cycle) you have the desired output  \r\n\r\n  \r\n    static void printArray(int[] validInput, int arrayFill){    //validInput[] = {65, 3, 10};  arrayFill = 3;(size of array)\r\n\t    for(int i = 0; i &lt; arrayFill; i++)\r\n\t    {\r\n\t        System.out.print(validInput[i]);\r\n\t        \r\n\t        if(i!=arrayFill-1) {\r\n\t        \t System.out.print(&quot;, &quot;);\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\nResult: \r\n\r\n    65, 3, 10","title":"How to add comms after every number from array using for loop in Java","body":"<p>i dont' know why you used a double for but with this solution (a for with an if condition that stops to print ',' when index is equal to the last cycle) you have the desired output</p>\n<pre><code>static void printArray(int[] validInput, int arrayFill){    //validInput[] = {65, 3, 10};  arrayFill = 3;(size of array)\n    for(int i = 0; i &lt; arrayFill; i++)\n    {\n        System.out.print(validInput[i]);\n        \n        if(i!=arrayFill-1) {\n             System.out.print(&quot;, &quot;);\n        }\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>65, 3, 10\n</code></pre>\n"}],"owner":{"account_id":15117209,"reputation":11,"user_id":10909137,"display_name":"Newbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70934267,"answer_count":1,"score":0,"last_activity_date":1643673812,"creation_date":1643673180,"question_id":70934200,"body_markdown":"I am trying to bring this output: `65, 3, 10` (no comma at the end)\r\n\r\nbut with my code, I am getting this: `65, 3, , 10`\r\n\r\nCan anyone help me to write the correct code, please?\r\nHere is my code:\r\n\r\n    static void printArray(int[] validInput, int arrayFill){    //validInput[] = {65, 3, 10};  arrayFill = 3;(size of array)\r\n        for(int i = 0; i &lt; arrayFill; i++)\r\n        {\r\n            for(int j = 0; j &lt; i; j++)\r\n            {\r\n                System.out.print(&quot;, &quot;);\r\n            }\r\n            System.out.print(validInput[i]);\r\n        }\r\n    }","title":"How to add comms after every number from array using for loop in Java","body":"<p>I am trying to bring this output: <code>65, 3, 10</code> (no comma at the end)</p>\n<p>but with my code, I am getting this: <code>65, 3, , 10</code></p>\n<p>Can anyone help me to write the correct code, please?\nHere is my code:</p>\n<pre><code>static void printArray(int[] validInput, int arrayFill){    //validInput[] = {65, 3, 10};  arrayFill = 3;(size of array)\n    for(int i = 0; i &lt; arrayFill; i++)\n    {\n        for(int j = 0; j &lt; i; j++)\n        {\n            System.out.print(&quot;, &quot;);\n        }\n        System.out.print(validInput[i]);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1643674941,"post_id":70934229,"comment_id":125398949,"body_markdown":"New Activities shouldn&#39;t extend each other. They should extend AppCompatActivity or Activity. So that they can have non-implemented lifecycle methods to be used throughout that activity&#39;s lifecycle.","body":"New Activities shouldn&#39;t extend each other. They should extend AppCompatActivity or Activity. So that they can have non-implemented lifecycle methods to be used throughout that activity&#39;s lifecycle."},{"owner":{"account_id":23258032,"reputation":9,"user_id":17344766,"display_name":"RG S"},"score":0,"creation_date":1643675101,"post_id":70934229,"comment_id":125398968,"body_markdown":"the purpose of switching to that activity is that there are three buttons on the start screen. On a fresh install, the buttons are set to null and the user must fill them with whatever names they wish. That is done in the settings activity, so the requirement is that on start it checks if the buttons are null and if they are, then the user is sent to the settings activity to input the values as if they clicked the settings activity themselves.","body":"the purpose of switching to that activity is that there are three buttons on the start screen. On a fresh install, the buttons are set to null and the user must fill them with whatever names they wish. That is done in the settings activity, so the requirement is that on start it checks if the buttons are null and if they are, then the user is sent to the settings activity to input the values as if they clicked the settings activity themselves."},{"owner":{"account_id":23258032,"reputation":9,"user_id":17344766,"display_name":"RG S"},"score":0,"creation_date":1643675201,"post_id":70934229,"comment_id":125398985,"body_markdown":"The settings activity is supposed to be the child of the main activity.","body":"The settings activity is supposed to be the child of the main activity."},{"owner":{"account_id":23258032,"reputation":9,"user_id":17344766,"display_name":"RG S"},"score":0,"creation_date":1643677297,"post_id":70934229,"comment_id":125399321,"body_markdown":"Yes the back button is how they Will get back to the first activity. How would you suggest I stop the looping while keeping the classes inherited from one another?","body":"Yes the back button is how they Will get back to the first activity. How would you suggest I stop the looping while keeping the classes inherited from one another?"}],"owner":{"account_id":23258032,"reputation":9,"user_id":17344766,"display_name":"RG S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643673414,"creation_date":1643673414,"question_id":70934229,"body_markdown":"[Flashing Screen Bug (please click here to view)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dmd1A.gif\r\n\r\n\r\nHi I am trying to stop my app from flashing its second activity screen when I call the if condition you see in the GIF. Initially the values are set to null and once the app starts, if at least one of the conditions are met, it will go straight to the second activity. This is causing a weird flashing screen bug. Please help.\r\n\r\n\r\n\r\n```\r\npackage com.example.assignment1;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    protected Button settings_button = null;        //import and declare settings_button\r\n    protected TextView total_count;     //objects used to locate in project so that is why we refactor ids\r\n    protected Button button_A = null;\r\n    protected Button button_B = null;\r\n    protected Button button_C = null;\r\n    protected Button show_my_counts = null;\r\n    private ArrayList&lt;String&gt; event;\r\n    private ArrayList&lt;String&gt; num;\r\n    int A=0;\r\n    int B=0;\r\n    int C=0;\r\n    int count=0;\r\n    int max_count;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        setupUI();      //call setup_ui within on create\r\n\r\n\r\n\r\n    }\r\n\r\n    protected void setupUI() {\r\n\r\n        total_count = findViewById(R.id.total_count);\r\n        settings_button = findViewById(R.id.settings_button);\r\n        settings_button.setOnClickListener(onClickSettingsButton);\r\n        button_A = (Button) findViewById(R.id.button_A);\r\n        button_A.setOnClickListener(onClickButton_A);\r\n        button_B = (Button) findViewById(R.id.button_B);\r\n        button_B.setOnClickListener(onClickButton_B);\r\n        button_C = (Button) findViewById(R.id.button_C);\r\n        button_C.setOnClickListener(onClickButton_C);\r\n        show_my_counts = findViewById(R.id.show_my_counts);\r\n        show_my_counts.setOnClickListener(onClickSHOWCOUNTS);\r\n        total_count.setText(&quot;Total Counts: &quot; + counter());\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public int counter()         //counter is updated with every button click as the value will increase\r\n    {\r\n\r\n        button_A.setEnabled(true);      //ENABLE COUNTER UNTIL MAX IS MET\r\n        button_B.setEnabled(true);\r\n        button_C.setEnabled(true);\r\n\r\n        for (int i=0;i&lt;=max_count;i++)\r\n        {\r\n            count = (A+B+C);\r\n\r\n           if(count==max_count) {\r\n                max_count=0;\r\n                button_A.setEnabled(false);\r\n                button_B.setEnabled(false);\r\n                button_C.setEnabled(false);\r\n\r\n\r\n            }\r\n\r\n        }\r\n        return count;\r\n\r\n    }\r\n\r\n\r\n    private final View.OnClickListener onClickSettingsButton= new Button.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                settings_button.setText(&quot;SETTINGS&quot;);\r\n                openActivity_settings();\r\n\r\n            }\r\n\r\n    };\r\n\r\n\r\n    protected void openActivity_settings(){        //open settings class on click\r\n        Intent i = new Intent(this, SettingsActivity.class);\r\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n        startActivity(i);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    private final View.OnClickListener onClickButton_A = new Button.OnClickListener()\r\n    {\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n\r\n            A++;\r\n            total_count.setText(&quot;Total Counts: &quot;+ counter());\r\n\r\n\r\n        }\r\n\r\n    };\r\n    private  final View.OnClickListener onClickButton_B = new Button.OnClickListener()\r\n    {\r\n        @Override\r\n\r\n        public void onClick(View view) {\r\n            B++;\r\n            total_count.setText(&quot;Total Counts: &quot;+ counter());\r\n        }\r\n\r\n    };\r\n    private final View.OnClickListener onClickButton_C = new Button.OnClickListener()\r\n    {\r\n\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            C++;\r\n            total_count.setText(&quot;Total Counts: &quot;+ counter());\r\n\r\n        }\r\n\r\n    };\r\n\r\n    private final View.OnClickListener onClickSHOWCOUNTS = view -&gt; {\r\n\r\n        show_my_counts.setText(&quot;SHOW MY COUNTS&quot;);\r\n        openActivity_data();\r\n    };\r\n    public void openActivity_data(){        //open data class on click\r\n        Intent intent = new Intent(MainActivity.this, dataActivity.class);\r\n        intent.putExtra(&quot;countA&quot;,String.valueOf(button_A));\r\n        intent.putExtra(&quot;countB&quot;,String.valueOf(button_B));\r\n       intent.putExtra(&quot;countC&quot;,String.valueOf(button_C));\r\n       intent.putExtra(&quot;totalCount&quot;,String.valueOf(total_count));\r\n       intent.putStringArrayListExtra(&quot;event_list&quot;,event);\r\n       intent.putStringArrayListExtra(&quot;num_list&quot;,num);\r\n        startActivity(intent);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n\r\n        super.onStart();\r\n\r\n        SharedPreferences sharedPreferences = getSharedPreferences(getString(R.string.ButtonName), Context.MODE_PRIVATE);\r\n        String Alp = sharedPreferences.getString(getString(R.string.button_nameA), null);     //if name is null we don&#39;t have it stored in file\r\n        String Bet = sharedPreferences.getString(getString(R.string.button_nameB), null);\r\n        String Cet = sharedPreferences.getString(getString(R.string.button_nameC), null);\r\n        String Max = sharedPreferences.getString(getString(R.string.MAX), null);\r\n\r\n        if(Alp == null)\r\n       {\r\n           openActivity_settings();\r\n    }\r\n       else\r\n            max_count = Integer.parseInt(Max);\r\n            button_A.setText(Alp);\r\n            button_B.setText(Bet);\r\n            button_C.setText(Cet);\r\n            counter();\r\n\r\n\r\n        }\r\n\r\n\r\n```\r\n\r\nSecond activity\r\n\r\n```\r\npackage com.example.assignment1;\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\n\r\n\r\npublic class SettingsActivity extends MainActivity {\r\n    private static final String TAG = null;\r\n    protected TextView counter_1_name;\r\n    protected TextView counter_2_name;\r\n    protected TextView counter_3_name;\r\n    protected TextView Max_count;\r\n    protected EditText edit_1;\r\n    protected EditText edit_2;\r\n    protected EditText edit_3;\r\n    protected EditText max_c;\r\n    protected Button save_button = null;\r\n\r\n\r\n   // public static final String SHARED_PREFS = &quot;sharedPrefs&quot;;\r\n   // public static final String TEXT1 = &quot;Counter 1 Name&quot;;\r\n   // public static final String TEXT2 = &quot;Counter 2 Name&quot;;\r\n   // public static final String TEXT3 = &quot;Counter 3 Name&quot;;\r\n   // public static final String TEXT4 = &quot;Max Count&quot;;\r\n    //private String text1;\r\n   // private String text2;\r\n    //private String text3;\r\n   // private String text4;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_settings);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        set_UI();\r\n\r\n\r\n    }\r\n\r\n\r\n    protected void set_UI() {\r\n\r\n\r\n        save_button = findViewById(R.id.save);\r\n        save_button.setOnClickListener(onClickSAVE);\r\n        counter_1_name = findViewById(R.id.counter_1_name);\r\n        counter_2_name = findViewById(R.id.counter_2_name);\r\n        counter_3_name = findViewById(R.id.counter_3_name);\r\n        Max_count = findViewById(R.id.max_counts);\r\n        edit_1 = findViewById(R.id.edit1);\r\n        edit_2 = findViewById(R.id.edit2);\r\n        edit_3 = findViewById(R.id.edit3);\r\n        max_c = findViewById(R.id.max);\r\n\r\n\r\n\r\n\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    private final View.OnClickListener onClickSAVE= new Button.OnClickListener() {\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            counter_1_name.setText(edit_1.getText().toString());\r\n            counter_2_name.setText(edit_2.getText().toString());\r\n            counter_3_name.setText(edit_3.getText().toString());\r\n            Max_count.setText(max_c.getText().toString());\r\n\r\n            // saveData();\r\n\r\n\r\n            {\r\n                String bA = edit_1.getText().toString();\r\n                String bB = edit_2.getText().toString();\r\n                String bC = edit_3.getText().toString();\r\n                String M = max_c.getText().toString().trim();\r\n\r\n                save_button.setVisibility(View.GONE);\r\n                Toast.makeText(getApplicationContext(), &quot;Data Saved&quot;, Toast.LENGTH_SHORT).show();\r\n                SharedPreferences sharedPreferences = getSharedPreferences(getString(R.string.ButtonName), Context.MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                editor.putString(getString(R.string.button_nameA), bA);\r\n                editor.putString(getString(R.string.button_nameB), bB);\r\n                editor.putString(getString(R.string.button_nameC), bC);\r\n                editor.putString(getString(R.string.MAX), M);\r\n                editor.apply();\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu (Menu menu){\r\n\r\n        MenuInflater menuInflater = getMenuInflater();\r\n        menuInflater.inflate(R.menu.dropdown, menu);\r\n       return true;\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()) {\r\n\r\n            case R.id.edit:\r\n                Toast.makeText(getApplicationContext(), &quot;Editor Mode Active&quot;, Toast.LENGTH_SHORT).show();\r\n                save_button.setVisibility(View.VISIBLE);\r\n\r\n        return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\n","title":"If statement to start second activity causing flashing screen bug","body":"<p><a href=\"https://i.stack.imgur.com/Dmd1A.gif\" rel=\"nofollow noreferrer\">Flashing Screen Bug (please click here to view)</a></p>\n<p>Hi I am trying to stop my app from flashing its second activity screen when I call the if condition you see in the GIF. Initially the values are set to null and once the app starts, if at least one of the conditions are met, it will go straight to the second activity. This is causing a weird flashing screen bug. Please help.</p>\n<pre><code>package com.example.assignment1;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    protected Button settings_button = null;        //import and declare settings_button\n    protected TextView total_count;     //objects used to locate in project so that is why we refactor ids\n    protected Button button_A = null;\n    protected Button button_B = null;\n    protected Button button_C = null;\n    protected Button show_my_counts = null;\n    private ArrayList&lt;String&gt; event;\n    private ArrayList&lt;String&gt; num;\n    int A=0;\n    int B=0;\n    int C=0;\n    int count=0;\n    int max_count;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        setupUI();      //call setup_ui within on create\n\n\n\n    }\n\n    protected void setupUI() {\n\n        total_count = findViewById(R.id.total_count);\n        settings_button = findViewById(R.id.settings_button);\n        settings_button.setOnClickListener(onClickSettingsButton);\n        button_A = (Button) findViewById(R.id.button_A);\n        button_A.setOnClickListener(onClickButton_A);\n        button_B = (Button) findViewById(R.id.button_B);\n        button_B.setOnClickListener(onClickButton_B);\n        button_C = (Button) findViewById(R.id.button_C);\n        button_C.setOnClickListener(onClickButton_C);\n        show_my_counts = findViewById(R.id.show_my_counts);\n        show_my_counts.setOnClickListener(onClickSHOWCOUNTS);\n        total_count.setText(&quot;Total Counts: &quot; + counter());\n\n\n    }\n\n\n\n\n\n    public int counter()         //counter is updated with every button click as the value will increase\n    {\n\n        button_A.setEnabled(true);      //ENABLE COUNTER UNTIL MAX IS MET\n        button_B.setEnabled(true);\n        button_C.setEnabled(true);\n\n        for (int i=0;i&lt;=max_count;i++)\n        {\n            count = (A+B+C);\n\n           if(count==max_count) {\n                max_count=0;\n                button_A.setEnabled(false);\n                button_B.setEnabled(false);\n                button_C.setEnabled(false);\n\n\n            }\n\n        }\n        return count;\n\n    }\n\n\n    private final View.OnClickListener onClickSettingsButton= new Button.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                settings_button.setText(&quot;SETTINGS&quot;);\n                openActivity_settings();\n\n            }\n\n    };\n\n\n    protected void openActivity_settings(){        //open settings class on click\n        Intent i = new Intent(this, SettingsActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        startActivity(i);\n\n\n\n\n    }\n\n\n\n    private final View.OnClickListener onClickButton_A = new Button.OnClickListener()\n    {\n\n        @Override\n        public void onClick(View view) {\n\n            A++;\n            total_count.setText(&quot;Total Counts: &quot;+ counter());\n\n\n        }\n\n    };\n    private  final View.OnClickListener onClickButton_B = new Button.OnClickListener()\n    {\n        @Override\n\n        public void onClick(View view) {\n            B++;\n            total_count.setText(&quot;Total Counts: &quot;+ counter());\n        }\n\n    };\n    private final View.OnClickListener onClickButton_C = new Button.OnClickListener()\n    {\n\n\n        @Override\n        public void onClick(View view) {\n            C++;\n            total_count.setText(&quot;Total Counts: &quot;+ counter());\n\n        }\n\n    };\n\n    private final View.OnClickListener onClickSHOWCOUNTS = view -&gt; {\n\n        show_my_counts.setText(&quot;SHOW MY COUNTS&quot;);\n        openActivity_data();\n    };\n    public void openActivity_data(){        //open data class on click\n        Intent intent = new Intent(MainActivity.this, dataActivity.class);\n        intent.putExtra(&quot;countA&quot;,String.valueOf(button_A));\n        intent.putExtra(&quot;countB&quot;,String.valueOf(button_B));\n       intent.putExtra(&quot;countC&quot;,String.valueOf(button_C));\n       intent.putExtra(&quot;totalCount&quot;,String.valueOf(total_count));\n       intent.putStringArrayListExtra(&quot;event_list&quot;,event);\n       intent.putStringArrayListExtra(&quot;num_list&quot;,num);\n        startActivity(intent);\n    }\n\n\n\n    @Override\n    protected void onStart() {\n\n        super.onStart();\n\n        SharedPreferences sharedPreferences = getSharedPreferences(getString(R.string.ButtonName), Context.MODE_PRIVATE);\n        String Alp = sharedPreferences.getString(getString(R.string.button_nameA), null);     //if name is null we don't have it stored in file\n        String Bet = sharedPreferences.getString(getString(R.string.button_nameB), null);\n        String Cet = sharedPreferences.getString(getString(R.string.button_nameC), null);\n        String Max = sharedPreferences.getString(getString(R.string.MAX), null);\n\n        if(Alp == null)\n       {\n           openActivity_settings();\n    }\n       else\n            max_count = Integer.parseInt(Max);\n            button_A.setText(Alp);\n            button_B.setText(Bet);\n            button_C.setText(Cet);\n            counter();\n\n\n        }\n\n\n</code></pre>\n<p>Second activity</p>\n<pre><code>package com.example.assignment1;\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\n\n\n\npublic class SettingsActivity extends MainActivity {\n    private static final String TAG = null;\n    protected TextView counter_1_name;\n    protected TextView counter_2_name;\n    protected TextView counter_3_name;\n    protected TextView Max_count;\n    protected EditText edit_1;\n    protected EditText edit_2;\n    protected EditText edit_3;\n    protected EditText max_c;\n    protected Button save_button = null;\n\n\n   // public static final String SHARED_PREFS = &quot;sharedPrefs&quot;;\n   // public static final String TEXT1 = &quot;Counter 1 Name&quot;;\n   // public static final String TEXT2 = &quot;Counter 2 Name&quot;;\n   // public static final String TEXT3 = &quot;Counter 3 Name&quot;;\n   // public static final String TEXT4 = &quot;Max Count&quot;;\n    //private String text1;\n   // private String text2;\n    //private String text3;\n   // private String text4;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_settings);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        set_UI();\n\n\n    }\n\n\n    protected void set_UI() {\n\n\n        save_button = findViewById(R.id.save);\n        save_button.setOnClickListener(onClickSAVE);\n        counter_1_name = findViewById(R.id.counter_1_name);\n        counter_2_name = findViewById(R.id.counter_2_name);\n        counter_3_name = findViewById(R.id.counter_3_name);\n        Max_count = findViewById(R.id.max_counts);\n        edit_1 = findViewById(R.id.edit1);\n        edit_2 = findViewById(R.id.edit2);\n        edit_3 = findViewById(R.id.edit3);\n        max_c = findViewById(R.id.max);\n\n\n\n\n\n\n    };\n\n\n\n\n    private final View.OnClickListener onClickSAVE= new Button.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            counter_1_name.setText(edit_1.getText().toString());\n            counter_2_name.setText(edit_2.getText().toString());\n            counter_3_name.setText(edit_3.getText().toString());\n            Max_count.setText(max_c.getText().toString());\n\n            // saveData();\n\n\n            {\n                String bA = edit_1.getText().toString();\n                String bB = edit_2.getText().toString();\n                String bC = edit_3.getText().toString();\n                String M = max_c.getText().toString().trim();\n\n                save_button.setVisibility(View.GONE);\n                Toast.makeText(getApplicationContext(), &quot;Data Saved&quot;, Toast.LENGTH_SHORT).show();\n                SharedPreferences sharedPreferences = getSharedPreferences(getString(R.string.ButtonName), Context.MODE_PRIVATE);\n                SharedPreferences.Editor editor = sharedPreferences.edit();\n                editor.putString(getString(R.string.button_nameA), bA);\n                editor.putString(getString(R.string.button_nameB), bB);\n                editor.putString(getString(R.string.button_nameC), bC);\n                editor.putString(getString(R.string.MAX), M);\n                editor.apply();\n\n            }\n\n\n\n\n        }\n\n    };\n\n\n\n\n\n\n\n\n\n    @Override\n    public boolean onCreateOptionsMenu (Menu menu){\n\n        MenuInflater menuInflater = getMenuInflater();\n        menuInflater.inflate(R.menu.dropdown, menu);\n       return true;\n\n\n\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n\n        switch (item.getItemId()) {\n\n            case R.id.edit:\n                Toast.makeText(getApplicationContext(), &quot;Editor Mode Active&quot;, Toast.LENGTH_SHORT).show();\n                save_button.setVisibility(View.VISIBLE);\n\n        return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n\n\n</code></pre>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1643671153,"post_id":70933971,"comment_id":125398257,"body_markdown":"subtract 26 from coordinate","body":"subtract 26 from coordinate"}],"answers":[{"tags":[],"owner":{"account_id":21453293,"reputation":1,"user_id":15805325,"display_name":"VinceG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643671556,"creation_date":1643671556,"answer_id":70934020,"question_id":70933971,"body_markdown":"Sorry if i did understand you wrong, but you have the problem that the blocks are placed on wrong positions if you try to put the converted image on a position with negative x or z value? ","title":"XY coords to XZ positive/negative coords like minecraft","body":"<p>Sorry if i did understand you wrong, but you have the problem that the blocks are placed on wrong positions if you try to put the converted image on a position with negative x or z value?</p>\n"},{"tags":[],"owner":{"account_id":23595731,"reputation":13,"user_id":17632853,"display_name":"bananass4life"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643672243,"creation_date":1643672243,"answer_id":70934100,"question_id":70933971,"body_markdown":"Maybe make a separate coord system that you come up with","title":"XY coords to XZ positive/negative coords like minecraft","body":"<p>Maybe make a separate coord system that you come up with</p>\n"}],"owner":{"account_id":24115611,"reputation":1,"user_id":18085545,"display_name":"TerazRodzina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643672243,"creation_date":1643671030,"question_id":70933971,"body_markdown":"I recently came up with the idea to color my minecraft map with a picture of colors. So this is how I created a picture with different colors in paint, then in my plugin - each color means a different block I made forums that take each color from XY and save it to the map key - (Point object with X and Y variables) and as a color value but I encountered a problem - blocks are generated only in one corner because the points in the picture are only positive and the Minecraft map consists of positive and negative coordinates. Now I have a question, does anyone have any idea to change these points to positive and negative, for example I have a 51x51 px picture so for x: 0 z: 0 there must be a color from the point x: 26 z: 26 etc. Thank you for any help I have tried everything, sometimes it seems to me that I had a good idea and it will be a breakthrough, but after a while one big XD comes out of it","title":"XY coords to XZ positive/negative coords like minecraft","body":"<p>I recently came up with the idea to color my minecraft map with a picture of colors. So this is how I created a picture with different colors in paint, then in my plugin - each color means a different block I made forums that take each color from XY and save it to the map key - (Point object with X and Y variables) and as a color value but I encountered a problem - blocks are generated only in one corner because the points in the picture are only positive and the Minecraft map consists of positive and negative coordinates. Now I have a question, does anyone have any idea to change these points to positive and negative, for example I have a 51x51 px picture so for x: 0 z: 0 there must be a color from the point x: 26 z: 26 etc. Thank you for any help I have tried everything, sometimes it seems to me that I had a good idea and it will be a breakthrough, but after a while one big XD comes out of it</p>\n"},{"tags":["java","rest","spring-mvc"],"comments":[{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666539,"post_id":70933340,"comment_id":125397090,"body_markdown":"https://www.youtube.com/watch?v=th3uIP7D8nk","body":"<a href=\"https://www.youtube.com/watch?v=th3uIP7D8nk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=th3uIP7D8nk</a>"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666544,"post_id":70933340,"comment_id":125397092,"body_markdown":"https://www.youtube.com/watch?v=ssj0CGxv60k&amp;list=WL&amp;index=1&amp;t=981s","body":"<a href=\"https://www.youtube.com/watch?v=ssj0CGxv60k&amp;list=WL&amp;index=1&amp;t=981s\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666556,"post_id":70933340,"comment_id":125397096,"body_markdown":"https://www.youtube.com/watch?v=HHKrKwI--Yw","body":"<a href=\"https://www.youtube.com/watch?v=HHKrKwI--Yw\" rel=\"nofollow noreferrer\">youtube.com/watch?v=HHKrKwI--Yw</a>"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666690,"post_id":70933340,"comment_id":125397135,"body_markdown":"https://pastebin.pl/view/e93934e4","body":"<a href=\"https://pastebin.pl/view/e93934e4\" rel=\"nofollow noreferrer\">pastebin.pl/view/e93934e4</a>"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666704,"post_id":70933340,"comment_id":125397139,"body_markdown":"pastebin link is for the stack trace","body":"pastebin link is for the stack trace"},{"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"score":0,"creation_date":1643666772,"post_id":70933340,"comment_id":125397160,"body_markdown":"pom.xml\nhttps://pastebin.pl/view/b4eacb7d","body":"pom.xml <a href=\"https://pastebin.pl/view/b4eacb7d\" rel=\"nofollow noreferrer\">pastebin.pl/view/b4eacb7d</a>"}],"owner":{"account_id":16917930,"reputation":1,"user_id":12235458,"display_name":"Andrei Zenoveiov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643671859,"creation_date":1643666482,"question_id":70933340,"body_markdown":"| Spring API with MongoDB| MQTT and HTPPS|\r\n| ---------------------- | ------------- |\r\n\r\n\r\nHello, I am currently building a **REST API** and I need to implement HTPPS and MQTT protocols using Spring Boot and Java. For my back-end **I use MongoDB locally**, which I set up using Docker CLI. The Spring application is connected with the *application.properties* configuration file ***provided below*** in pictures. It&#39;s my first time building such a complex API and I&#39;m using these resources (which may be the cause of my problem, not resources itself, but me taking some time getting the hang of things, i put them in comments):\r\n\r\n\r\nI am asking for some help or guidance to how can I get rid of the start-up error of the API -*stack track provided below*-\r\n[ambulance Class][1],[ambulanceControllerClass][2],[ambulanceRepository][3],[ambulanceServiceImpl][4],[ambulanceService][5],[mqttBeans-p1][6],[mqttBeans-p2][7],[mqttController][8]\r\n\r\n\r\n***stack trace***\r\nin comments\r\nI couldn&#39;t post the pom.xml file, but i don&#39;t use anything more than the guys in the tutorials use.\r\n\r\nHope I gave enough info. Have a nice day!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hvjVd.png\r\n  [2]: https://i.stack.imgur.com/sdMPt.png\r\n  [3]: https://i.stack.imgur.com/gq7Bk.png\r\n  [4]: https://i.stack.imgur.com/JeQqY.png\r\n  [5]: https://i.stack.imgur.com/9rRby.png\r\n  [6]: https://i.stack.imgur.com/LWs7u.png\r\n  [7]: https://i.stack.imgur.com/Heloq.png\r\n  [8]: https://i.stack.imgur.com/GGCRC.png\r\n","title":"Java Spring Boot API failing to initialize","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Spring API with MongoDB</th>\n<th>MQTT and HTPPS</th>\n</tr>\n</thead>\n</table>\n</div>\n<p>Hello, I am currently building a <strong>REST API</strong> and I need to implement HTPPS and MQTT protocols using Spring Boot and Java. For my back-end <strong>I use MongoDB locally</strong>, which I set up using Docker CLI. The Spring application is connected with the <em>application.properties</em> configuration file <em><strong>provided below</strong></em> in pictures. It's my first time building such a complex API and I'm using these resources (which may be the cause of my problem, not resources itself, but me taking some time getting the hang of things, i put them in comments):</p>\n<p>I am asking for some help or guidance to how can I get rid of the start-up error of the API -<em>stack track provided below</em>-\n<a href=\"https://i.stack.imgur.com/hvjVd.png\" rel=\"nofollow noreferrer\">ambulance Class</a>,<a href=\"https://i.stack.imgur.com/sdMPt.png\" rel=\"nofollow noreferrer\">ambulanceControllerClass</a>,<a href=\"https://i.stack.imgur.com/gq7Bk.png\" rel=\"nofollow noreferrer\">ambulanceRepository</a>,<a href=\"https://i.stack.imgur.com/JeQqY.png\" rel=\"nofollow noreferrer\">ambulanceServiceImpl</a>,<a href=\"https://i.stack.imgur.com/9rRby.png\" rel=\"nofollow noreferrer\">ambulanceService</a>,<a href=\"https://i.stack.imgur.com/LWs7u.png\" rel=\"nofollow noreferrer\">mqttBeans-p1</a>,<a href=\"https://i.stack.imgur.com/Heloq.png\" rel=\"nofollow noreferrer\">mqttBeans-p2</a>,<a href=\"https://i.stack.imgur.com/GGCRC.png\" rel=\"nofollow noreferrer\">mqttController</a></p>\n<p><em><strong>stack trace</strong></em>\nin comments\nI couldn't post the pom.xml file, but i don't use anything more than the guys in the tutorials use.</p>\n<p>Hope I gave enough info. Have a nice day!</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643699586,"post_id":70931120,"comment_id":125402740,"body_markdown":"For starters your dependencies are a bit of a mess. YOu are mixing Spring 5.0, 5.3 and whatever the spring boot version you are using is pulling in. As you are using 5.0 that is only working up to java 8, you are using a newer java version. I would strongly suggest to either follow the book (which you aren&#39;t) or to use Spring Boot properly (to manage your dependencies).","body":"For starters your dependencies are a bit of a mess. YOu are mixing Spring 5.0, 5.3 and whatever the spring boot version you are using is pulling in. As you are using 5.0 that is only working up to java 8, you are using a newer java version. I would strongly suggest to either follow the book (which you aren&#39;t) or to use Spring Boot properly (to manage your dependencies)."},{"owner":{"account_id":24104962,"reputation":1,"user_id":18076298,"display_name":"panfleto"},"score":0,"creation_date":1643724952,"post_id":70931120,"comment_id":125411920,"body_markdown":"That was the problem, thanks! Yeah, my whole project is a completely mess, I should try to organize everything.","body":"That was the problem, thanks! Yeah, my whole project is a completely mess, I should try to organize everything."}],"owner":{"account_id":24104962,"reputation":1,"user_id":18076298,"display_name":"panfleto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643671540,"creation_date":1643654182,"question_id":70931120,"body_markdown":"I&#39;m currently learning Spring and I&#39;m trying to run a hibernate example that I&#39;ve taken out of a book called &quot;Pro Spring 5&quot; (p 380), but I&#39;m getting an IllegalStateException caused by an InaccessibleObjectException when initializing the GenericApplicationContext with AnnotationConfigApplicationContext.\r\n\r\nHere is the configuration class:\r\n\r\n    package com.panfleto.prueba.probando.hibernate.config;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    import javax.sql.DataSource;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.orm.hibernate5.HibernateTransactionManager;\r\n    import org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @ComponentScan (basePackages = {&quot;com.panfleto.prueba.probando.hibernate&quot;})\r\n    @EnableTransactionManagement\r\n    public class AppConfig {\r\n    \t \r\n    \t @Bean\r\n    \t public DataSource dataSource() {\r\n    \t        DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n    \t        dataSourceBuilder.driverClassName(&quot;**************&quot;);\r\n    \t        dataSourceBuilder.url(&quot;**************&quot;);\r\n    \t        dataSourceBuilder.username(&quot;**************&quot;);\r\n    \t        dataSourceBuilder.password(&quot;**************&quot;);\r\n    \t        return dataSourceBuilder.build();\r\n    \t }\r\n    \t \r\n    \t private Properties hibernateProperties() {\r\n    \t\t Properties hibernateProp = new Properties();\r\n    \t\t hibernateProp.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\r\n    \t\t hibernateProp.put(&quot;hibernate.format_sql&quot;, true);\r\n    \t\t hibernateProp.put(&quot;hibernate.use_sql_comments&quot;, true);\r\n    \t\t hibernateProp.put(&quot;hibernate.show_sql&quot;, true);\r\n    \t\t hibernateProp.put(&quot;hibernate.max_fetch_depth&quot;, 3);\r\n    \t\t hibernateProp.put(&quot;hibernate.jdbc.batch_size&quot;, 10);\r\n    \t\t hibernateProp.put(&quot;hibernate.jdbc.fetch_size&quot;, 50);\r\n    \t\t return hibernateProp;\r\n    \t }\r\n    \r\n    \t @Bean\r\n    \t public SessionFactory sessionFactory() throws IOException {\r\n    \t\t LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n    \t\t sessionFactoryBean.setDataSource(dataSource());\r\n    \t\t sessionFactoryBean.setPackagesToScan(&quot;com.panfleto.prueba.probando.hibernate.modelado&quot;);\r\n    \t\t sessionFactoryBean.setHibernateProperties(hibernateProperties());\r\n    \t\t sessionFactoryBean.afterPropertiesSet();\r\n    \t\t return sessionFactoryBean.getObject();\r\n    \t }\r\n    \r\n    \t @Bean\r\n    \t public PlatformTransactionManager transactionManager() throws IOException {\r\n    \t\t return new HibernateTransactionManager(sessionFactory());\r\n    \t }\r\n    }\r\n\r\nThe main class:\r\n\r\n    package com.panfleto.prueba.probando.hibernate;\r\n    \r\n    import java.util.List;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    import org.springframework.context.support.GenericApplicationContext;\r\n    import com.panfleto.prueba.probando.hibernate.config.AppConfig;\r\n    import com.panfleto.prueba.probando.hibernate.dao.CantanteDAO;\r\n    import com.panfleto.prueba.probando.hibernate.modelado.Cantante;\r\n    \r\n    public class App \r\n    {\r\n    \t private static Logger logger = LoggerFactory.getLogger(App.class);\r\n    \t \r\n    \t public static void main(String... args) {\r\n    \t\t try\r\n    \t\t {\r\n    \t\t\t GenericApplicationContext ctx =\r\n    \t\t\t\t\t new AnnotationConfigApplicationContext(AppConfig.class);\r\n    \t\t\t CantanteDAO cantanteDao = ctx.getBean(CantanteDAO.class);\t\t\t \t\t\t \r\n    \t\t\t listSingers(cantanteDao.findAll());\r\n    \t\t\t ctx.close();\t \r\n    \t\t } catch(IllegalStateException e) {\r\n    \t\t\t e.printStackTrace();\r\n    \t\t }\r\n    \t }\r\n    \t \r\n    \t private static void listSingers(List&lt;Cantante&gt; cantantes) {\r\n    \t\t logger.info(&quot; ---- Listing singers:&quot;);\r\n    \t\t for (Cantante cantante: cantantes) {\r\n    \t\t\t logger.info(cantante.toString());\r\n    \t\t }\r\n    \t }\r\n    \r\n    }\r\n\r\n\r\nThe pom file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        \r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n          &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n          &lt;groupId&gt;com.panfleto.prueba&lt;/groupId&gt;\r\n          &lt;artifactId&gt;probando.hibernate&lt;/artifactId&gt;\r\n          &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \r\n          &lt;name&gt;probando.hibernate&lt;/name&gt;\r\n          &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n          &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n        \r\n          &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n          &lt;/properties&gt;\r\n        \r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n              &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n              &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n              &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n              &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;  \r\n            \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n              &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n              &lt;version&gt;8.0.15&lt;/version&gt;\r\n              &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n            \r\n           \t&lt;dependency&gt;\r\n        \t    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n        \t    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n        \t    &lt;version&gt;1.3.2&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n              &lt;version&gt;4.11&lt;/version&gt;\r\n              &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;5.0.6.RELEASE&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n            \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n            \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        \t&lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n              &lt;version&gt;2.6.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        \r\n          &lt;/dependencies&gt;\r\n        \r\n          &lt;build&gt;\r\n            &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n              &lt;plugins&gt;\r\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;2.5.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;2.8.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.7.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n              &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n          &lt;/build&gt;\r\n        &lt;/project&gt;\r\n\r\nAnd the stacktrace:\r\n\r\n    java.lang.IllegalStateException: Cannot load configuration class: com.panfleto.prueba.probando.hibernate.config.AppConfig\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:414)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:128)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\r\n    \tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:88)\r\n    \tat com.panfleto.prueba.probando.hibernate.App.main(App.java:20)\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403)\r\n    \t... 7 more\r\n    Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7a3d45bd\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n    \tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n    \tat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n    \t... 10 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7a3d45bd\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n    \tat org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n    \tat org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n    \tat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\r\n    \t... 22 more\r\n\r\n\r\n","title":"InaccessibleObjectException when configuring the AnnotationConfigApplicationContext","body":"<p>I'm currently learning Spring and I'm trying to run a hibernate example that I've taken out of a book called &quot;Pro Spring 5&quot; (p 380), but I'm getting an IllegalStateException caused by an InaccessibleObjectException when initializing the GenericApplicationContext with AnnotationConfigApplicationContext.</p>\n<p>Here is the configuration class:</p>\n<pre><code>package com.panfleto.prueba.probando.hibernate.config;\n\nimport java.io.IOException;\nimport java.util.Properties;\nimport javax.sql.DataSource;\nimport org.hibernate.SessionFactory;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@ComponentScan (basePackages = {&quot;com.panfleto.prueba.probando.hibernate&quot;})\n@EnableTransactionManagement\npublic class AppConfig {\n     \n     @Bean\n     public DataSource dataSource() {\n            DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n            dataSourceBuilder.driverClassName(&quot;**************&quot;);\n            dataSourceBuilder.url(&quot;**************&quot;);\n            dataSourceBuilder.username(&quot;**************&quot;);\n            dataSourceBuilder.password(&quot;**************&quot;);\n            return dataSourceBuilder.build();\n     }\n     \n     private Properties hibernateProperties() {\n         Properties hibernateProp = new Properties();\n         hibernateProp.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.H2Dialect&quot;);\n         hibernateProp.put(&quot;hibernate.format_sql&quot;, true);\n         hibernateProp.put(&quot;hibernate.use_sql_comments&quot;, true);\n         hibernateProp.put(&quot;hibernate.show_sql&quot;, true);\n         hibernateProp.put(&quot;hibernate.max_fetch_depth&quot;, 3);\n         hibernateProp.put(&quot;hibernate.jdbc.batch_size&quot;, 10);\n         hibernateProp.put(&quot;hibernate.jdbc.fetch_size&quot;, 50);\n         return hibernateProp;\n     }\n\n     @Bean\n     public SessionFactory sessionFactory() throws IOException {\n         LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n         sessionFactoryBean.setDataSource(dataSource());\n         sessionFactoryBean.setPackagesToScan(&quot;com.panfleto.prueba.probando.hibernate.modelado&quot;);\n         sessionFactoryBean.setHibernateProperties(hibernateProperties());\n         sessionFactoryBean.afterPropertiesSet();\n         return sessionFactoryBean.getObject();\n     }\n\n     @Bean\n     public PlatformTransactionManager transactionManager() throws IOException {\n         return new HibernateTransactionManager(sessionFactory());\n     }\n}\n</code></pre>\n<p>The main class:</p>\n<pre><code>package com.panfleto.prueba.probando.hibernate;\n\nimport java.util.List;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.support.GenericApplicationContext;\nimport com.panfleto.prueba.probando.hibernate.config.AppConfig;\nimport com.panfleto.prueba.probando.hibernate.dao.CantanteDAO;\nimport com.panfleto.prueba.probando.hibernate.modelado.Cantante;\n\npublic class App \n{\n     private static Logger logger = LoggerFactory.getLogger(App.class);\n     \n     public static void main(String... args) {\n         try\n         {\n             GenericApplicationContext ctx =\n                     new AnnotationConfigApplicationContext(AppConfig.class);\n             CantanteDAO cantanteDao = ctx.getBean(CantanteDAO.class);                       \n             listSingers(cantanteDao.findAll());\n             ctx.close();    \n         } catch(IllegalStateException e) {\n             e.printStackTrace();\n         }\n     }\n     \n     private static void listSingers(List&lt;Cantante&gt; cantantes) {\n         logger.info(&quot; ---- Listing singers:&quot;);\n         for (Cantante cantante: cantantes) {\n             logger.info(cantante.toString());\n         }\n     }\n\n}\n</code></pre>\n<p>The pom file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    \n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n      &lt;groupId&gt;com.panfleto.prueba&lt;/groupId&gt;\n      &lt;artifactId&gt;probando.hibernate&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    \n      &lt;name&gt;probando.hibernate&lt;/name&gt;\n      &lt;!-- FIXME change it to the project's website --&gt;\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\n    \n      &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n      &lt;/properties&gt;\n    \n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n          &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n          &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n          &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;  \n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;mysql&lt;/groupId&gt;\n          &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n          &lt;version&gt;8.0.15&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;version&gt;4.11&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.0.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n          &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n      &lt;/dependencies&gt;\n    \n      &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n          &lt;plugins&gt;\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.22.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>And the stacktrace:</p>\n<pre><code>java.lang.IllegalStateException: Cannot load configuration class: com.panfleto.prueba.probando.hibernate.config.AppConfig\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:414)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:254)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:128)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:88)\n    at com.panfleto.prueba.probando.hibernate.App.main(App.java:20)\nCaused by: java.lang.ExceptionInInitializerError\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:122)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:110)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403)\n    ... 7 more\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7a3d45bd\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n    ... 10 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7a3d45bd\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n    at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\n    ... 22 more\n</code></pre>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1618259141,"post_id":67064679,"comment_id":118543772,"body_markdown":"Where does the `20` come from in the example you want to extract?","body":"Where does the <code>20</code> come from in the example you want to extract?"}],"answers":[{"tags":[],"owner":{"account_id":11410530,"reputation":573,"user_id":8364806,"display_name":"Don R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618258252,"creation_date":1618258252,"answer_id":67065071,"question_id":67064679,"body_markdown":"This loop:\r\n```\r\nfor(int j=0;j&lt;4;j++)\r\n```\r\nruns again with a value of j = 1 after it completes the first iteration, so when it gets to the expression `aaa[i][j+3]` the second index evaluates to **4**, which of course is illegal. I&#39;m not sure why you used a **for** loop there, since you manually increment the index values as you assign the **aaa** values?","title":"Trying to copy data from a file to an array but it gives me error","body":"<p>This loop:</p>\n<pre><code>for(int j=0;j&lt;4;j++)\n</code></pre>\n<p>runs again with a value of j = 1 after it completes the first iteration, so when it gets to the expression <code>aaa[i][j+3]</code> the second index evaluates to <strong>4</strong>, which of course is illegal. I'm not sure why you used a <strong>for</strong> loop there, since you manually increment the index values as you assign the <strong>aaa</strong> values?</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1618260269,"creation_date":1618260269,"answer_id":67065446,"question_id":67064679,"body_markdown":"If only 4 values are needed from the input array are needed, why not just read _these specific values_?\r\n```java\r\nString[] result = new String[4];\r\n\r\ntry (Scanner input = new Scanner(new File(&quot;Turmas.txt&quot;)) // input closed automatically\r\n    .useDelimiter(&quot;;|\\\\R&quot;)  // use character class \\R to match line-feed characters \r\n) {\r\n    if (input.hasNext()) {\r\n        input.next(); // skip the 1st token\r\n\r\n        for (int i = 0; i &lt; result.length &amp;&amp; input.hasNext(); i++) {\r\n            result[i] = input.next();\r\n        }\r\n    }\r\n} catch (FileNotFoundException ex) {\r\n    JOptionPane.showMessageDialog(\r\n        null, &quot;An error occurred, try restarting the program!&quot;, \r\n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\r\n    );\r\n}\r\n```\r\n----\r\nIf it is needed to read the _columns_ with indexes `[1..4]` from the file containing 6 columns per line, it is cleaner to read the source file line by line, split each line by `;`, skip 1 column with index 0, and keep the 4 columns.\r\n```java\r\nString[][] result = new String[100][4];\r\n\r\ntry (Scanner input = new Scanner(new File(&quot;Turmas.txt&quot;))) {\r\n    for (int i = 0; i &lt; result.length &amp;&amp; input.hasNextLine(); i++) {\r\n        String[] parts = input.nextLine().split(&quot;;&quot;);\r\n        for (int j = 1; j &lt; Math.min(result[i].length, parts.length); j++) {\r\n            result[i][j - 1] = parts[j];\r\n        }\r\n    }    \r\n} catch (FileNotFoundException ex) {\r\n    JOptionPane.showMessageDialog(\r\n        null, &quot;An error occurred, try restarting the program!&quot;, \r\n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\r\n    );\r\n}\r\n```\r\n","title":"Trying to copy data from a file to an array but it gives me error","body":"<p>If only 4 values are needed from the input array are needed, why not just read <em>these specific values</em>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] result = new String[4];\n\ntry (Scanner input = new Scanner(new File(&quot;Turmas.txt&quot;)) // input closed automatically\n    .useDelimiter(&quot;;|\\\\R&quot;)  // use character class \\R to match line-feed characters \n) {\n    if (input.hasNext()) {\n        input.next(); // skip the 1st token\n\n        for (int i = 0; i &lt; result.length &amp;&amp; input.hasNext(); i++) {\n            result[i] = input.next();\n        }\n    }\n} catch (FileNotFoundException ex) {\n    JOptionPane.showMessageDialog(\n        null, &quot;An error occurred, try restarting the program!&quot;, \n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\n    );\n}\n</code></pre>\n<hr />\n<p>If it is needed to read the <em>columns</em> with indexes <code>[1..4]</code> from the file containing 6 columns per line, it is cleaner to read the source file line by line, split each line by <code>;</code>, skip 1 column with index 0, and keep the 4 columns.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] result = new String[100][4];\n\ntry (Scanner input = new Scanner(new File(&quot;Turmas.txt&quot;))) {\n    for (int i = 0; i &lt; result.length &amp;&amp; input.hasNextLine(); i++) {\n        String[] parts = input.nextLine().split(&quot;;&quot;);\n        for (int j = 1; j &lt; Math.min(result[i].length, parts.length); j++) {\n            result[i][j - 1] = parts[j];\n        }\n    }    \n} catch (FileNotFoundException ex) {\n    JOptionPane.showMessageDialog(\n        null, &quot;An error occurred, try restarting the program!&quot;, \n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":21229498,"reputation":27,"user_id":15614501,"display_name":"Pedro Tavares"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67065446,"answer_count":2,"score":0,"last_activity_date":1643670944,"creation_date":1618256371,"question_id":67064679,"body_markdown":"Hi I am new on programing and I am having a problem I am trying to copy some things from a file to a array \r\nand I just want to copy in the position 1,2,3 and 4 from the file. Example copy to the array `11 , G , 0 , 20`.\r\n\r\n&gt;FILE TEXT:&lt;br&gt;\r\n0;11;G;0;200;1&lt;br&gt;\r\n2;10;F;0;300;2&lt;br&gt;\r\n0;12;J;0;100;3\r\n\r\n```java\r\nString[][] aa = new String[100][6];\r\ntry {\r\n    Scanner x = new Scanner(new File(&quot;Turmas.txt&quot;));\r\n    x.useDelimiter(&quot;[;\\n]&quot;);\r\n\r\n    for (int i = 0; i &lt; 100; i++) {\r\n        for (int j = 0; j &lt; 6; j++) {\r\n            if (x.hasNext()) {\r\n                aa[i][j] = x.next();\r\n            }\r\n        }\r\n    }\r\n    x.close();\r\n} catch (FileNotFoundException ex) {\r\n    JOptionPane.showMessageDialog(\r\n        null, &quot;An error occurred, try restarting the program!&quot;, \r\n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\r\n    );\r\n}\r\n\r\nString[][] aaa = new String[100][4];\r\nfor (int i = 0; i &lt; 100; i++) {\r\n    for (int j = 0; j &lt; 4; j++) {\r\n        if (aa[i][j] == null) {\r\n            System.out.println(&quot;null &quot;  + i + &quot;  &quot; + j);\r\n        }\r\n        else {\r\n            if (aa[i][0].equals(String.valueOf(SAVEID))) {\r\n                aaa[i][j]     = aa[i][1];\r\n                aaa[i][j + 1] = aa[i][2];\r\n                aaa[i][j + 2] = aa[i][3];\r\n                aaa[i][j + 3] = aa[i][4];\r\n            }\r\n        }\r\n    }\r\n}\r\nSystem.out.println(aaa[0][0]);\r\nSystem.out.println(aaa[0][1]);\r\nSystem.out.println(aaa[0][2]);\r\nSystem.out.println(aaa[0][3]);\r\n```\r\n","title":"Trying to copy data from a file to an array but it gives me error","body":"<p>Hi I am new on programing and I am having a problem I am trying to copy some things from a file to a array\nand I just want to copy in the position 1,2,3 and 4 from the file. Example copy to the array <code>11 , G , 0 , 20</code>.</p>\n<blockquote>\n<p>FILE TEXT:<br>\n0;11;G;0;200;1<br>\n2;10;F;0;300;2<br>\n0;12;J;0;100;3</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] aa = new String[100][6];\ntry {\n    Scanner x = new Scanner(new File(&quot;Turmas.txt&quot;));\n    x.useDelimiter(&quot;[;\\n]&quot;);\n\n    for (int i = 0; i &lt; 100; i++) {\n        for (int j = 0; j &lt; 6; j++) {\n            if (x.hasNext()) {\n                aa[i][j] = x.next();\n            }\n        }\n    }\n    x.close();\n} catch (FileNotFoundException ex) {\n    JOptionPane.showMessageDialog(\n        null, &quot;An error occurred, try restarting the program!&quot;, \n        &quot;ERROR!&quot;, JOptionPane.ERROR_MESSAGE\n    );\n}\n\nString[][] aaa = new String[100][4];\nfor (int i = 0; i &lt; 100; i++) {\n    for (int j = 0; j &lt; 4; j++) {\n        if (aa[i][j] == null) {\n            System.out.println(&quot;null &quot;  + i + &quot;  &quot; + j);\n        }\n        else {\n            if (aa[i][0].equals(String.valueOf(SAVEID))) {\n                aaa[i][j]     = aa[i][1];\n                aaa[i][j + 1] = aa[i][2];\n                aaa[i][j + 2] = aa[i][3];\n                aaa[i][j + 3] = aa[i][4];\n            }\n        }\n    }\n}\nSystem.out.println(aaa[0][0]);\nSystem.out.println(aaa[0][1]);\nSystem.out.println(aaa[0][2]);\nSystem.out.println(aaa[0][3]);\n</code></pre>\n"},{"tags":["java","recursion","big-o"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643670078,"creation_date":1643659861,"answer_id":70932240,"question_id":70931947,"body_markdown":"I think a Memoized solution for this problem will be O(n) because each solution for `n` will be calculated no more than one time.\r\n\r\nThe &quot;trick&quot; is to store the results of `lucas(n)` in a map so that previously calculated results will be retrieved in constant time O(1) and new values will be calculated once.\r\n\r\n(**Complete solution needs to compute only if value is not in map**)\r\n```\r\npublic class MemoizedLucas {\r\n\tprivate static Map&lt;Integer, Integer&gt; results = new HashMap&lt;&gt;();\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n        // add base cases to map\r\n\t\tresults.put(0, 2);\r\n\t\tresults.put(1, 1);\r\n\r\n        // compute lucas number\r\n\t\tlucas(10);\r\n\t\tSystem.out.println(results);\r\n\t}\r\n\t// The lucas function will be called at most 2*n times - O(2*n) is still considered liner time. \r\n\tpublic static int lucas(int n) {\r\n\t\t\r\n\t\tInteger result = results.get(n);\r\n\t\tif (result != null) return result; // return value if in map\r\n\r\n\t\tint a = lucas(n - 1);\r\n\t\tint b = lucas (n - 2);\r\n\t\tresults.put(n , a + b);\r\n\t\treturn results.get(n);\r\n\t}\r\n}\r\n```\r\nIf printed out, the first 10 numbers of the sequence outputted by this program are:\r\n\r\n`2, 1, 3, 4, 7, 11, 18, 29, 47, 76, 123`","title":"Is it possible to calculate Lucas numbers recursively with time complexity O(n)?","body":"<p>I think a Memoized solution for this problem will be O(n) because each solution for <code>n</code> will be calculated no more than one time.</p>\n<p>The &quot;trick&quot; is to store the results of <code>lucas(n)</code> in a map so that previously calculated results will be retrieved in constant time O(1) and new values will be calculated once.</p>\n<p>(<strong>Complete solution needs to compute only if value is not in map</strong>)</p>\n<pre><code>public class MemoizedLucas {\n    private static Map&lt;Integer, Integer&gt; results = new HashMap&lt;&gt;();\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // add base cases to map\n        results.put(0, 2);\n        results.put(1, 1);\n\n        // compute lucas number\n        lucas(10);\n        System.out.println(results);\n    }\n    // The lucas function will be called at most 2*n times - O(2*n) is still considered liner time. \n    public static int lucas(int n) {\n        \n        Integer result = results.get(n);\n        if (result != null) return result; // return value if in map\n\n        int a = lucas(n - 1);\n        int b = lucas (n - 2);\n        results.put(n , a + b);\n        return results.get(n);\n    }\n}\n</code></pre>\n<p>If printed out, the first 10 numbers of the sequence outputted by this program are:</p>\n<p><code>2, 1, 3, 4, 7, 11, 18, 29, 47, 76, 123</code></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643660640,"creation_date":1643660640,"answer_id":70932381,"question_id":70931947,"body_markdown":"The hint is to define a recursive G function, and take on of both Lucas values for the G result. The lucas function can then be defined as call to G.\r\n\r\nAs you see, G is O(N).\r\n\r\n    int lucas(int n) { return g(n)[0]; }\r\n    int[] g(int n) { ... recursiveG ... }","title":"Is it possible to calculate Lucas numbers recursively with time complexity O(n)?","body":"<p>The hint is to define a recursive G function, and take on of both Lucas values for the G result. The lucas function can then be defined as call to G.</p>\n<p>As you see, G is O(N).</p>\n<pre><code>int lucas(int n) { return g(n)[0]; }\nint[] g(int n) { ... recursiveG ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643665277,"creation_date":1643662403,"answer_id":70932674,"question_id":70931947,"body_markdown":"Since this is homework, I will not post the solution as code, but I hope I can show the path to it.  \r\n\r\nThe given hint uses a vector with 2 values - in Java we can use an array (since a method cannot return just two values).  The method needs the value of `n`.\r\n````java\r\nint[] calc(int n) {\r\n    // TODO\r\n}\r\n````\r\n\r\nThe formula `Gn = M X Gn-1` - `M` is the given matrix, and `Gn = [An , Bn]` (`An = Ln` and `Bn = Ln-1`) - can we rewritten as  \r\n`[An , Bn] = [[1,1] [1,0]] X [An-1 , Bn-1]` or  \r\n\r\n`An = 1*An-1 + 1*Bn-1 = An-1 + Bn-1` and  \r\n`Bn = 1*An-1 + 0*Bn-1 = An-1`\r\n\r\nThe method would call itself with `n-1`, unless `n == 0`, to get `[An-1,Bn-1]` and then calculate the output array `[An,Bn]` using above formula.\r\n\r\nInitial array, for `n=0`, should be `[2,-1]` (aka `G0` in hint.)\r\n\r\n(since `Gn` only depends on `Gn-1` the *pure* recursive solution is `O(n)` - unlike the usual method to calculate the Lucas number where `Ln` depends on `Ln-1` and `Ln-2`)\r\n\r\n-----\r\n\r\nI have completely ignored the second hint and used `int[]` above - but don&#39;t forget to consider if an `int` will be able to represent `L500`  \r\n(having the hint is a sign that it will not)\r\n\r\n\r\n","title":"Is it possible to calculate Lucas numbers recursively with time complexity O(n)?","body":"<p>Since this is homework, I will not post the solution as code, but I hope I can show the path to it.</p>\n<p>The given hint uses a vector with 2 values - in Java we can use an array (since a method cannot return just two values).  The method needs the value of <code>n</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] calc(int n) {\n    // TODO\n}\n</code></pre>\n<p>The formula <code>Gn = M X Gn-1</code> - <code>M</code> is the given matrix, and <code>Gn = [An , Bn]</code> (<code>An = Ln</code> and <code>Bn = Ln-1</code>) - can we rewritten as<br />\n<code>[An , Bn] = [[1,1] [1,0]] X [An-1 , Bn-1]</code> or</p>\n<p><code>An = 1*An-1 + 1*Bn-1 = An-1 + Bn-1</code> and<br />\n<code>Bn = 1*An-1 + 0*Bn-1 = An-1</code></p>\n<p>The method would call itself with <code>n-1</code>, unless <code>n == 0</code>, to get <code>[An-1,Bn-1]</code> and then calculate the output array <code>[An,Bn]</code> using above formula.</p>\n<p>Initial array, for <code>n=0</code>, should be <code>[2,-1]</code> (aka <code>G0</code> in hint.)</p>\n<p>(since <code>Gn</code> only depends on <code>Gn-1</code> the <em>pure</em> recursive solution is <code>O(n)</code> - unlike the usual method to calculate the Lucas number where <code>Ln</code> depends on <code>Ln-1</code> and <code>Ln-2</code>)</p>\n<hr />\n<p>I have completely ignored the second hint and used <code>int[]</code> above - but don't forget to consider if an <code>int</code> will be able to represent <code>L500</code><br />\n(having the hint is a sign that it will not)</p>\n"}],"owner":{"account_id":23060789,"reputation":1,"user_id":17176113,"display_name":"luna "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70932674,"answer_count":3,"score":0,"last_activity_date":1643670078,"creation_date":1643658269,"question_id":70931947,"body_markdown":"I have a [homework assignment][2] to calculate Lucas numbers. How can I make my algorithm O(n) while still keeping it recursive?\r\n\r\nThis is the hint he gives:\r\n\r\n[![][1]][1]\r\n\r\nWhen thinking about the question I thought I would keep my main for loop and make it so that it stores the 2 numbers before the one computed but then that would be iterative. \r\n\r\nThis is my code right now:\r\n\r\n    lucas(n) {  \r\n        return 2 if n = 0;\r\n        return 1 if n = 1;\r\n        return lucas(n - 1) + lucas(n - 2);\r\n    }\r\n    main(String args[]) {\r\n        for (int i = 0; i&lt;=10; i++)\r\n            print(lucas(i*5));\r\n    }\r\n\r\n(The code is written like that in case of plagiarism.)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UAUn8.png\r\n  [2]: https://i.stack.imgur.com/zqt9Q.png","title":"Is it possible to calculate Lucas numbers recursively with time complexity O(n)?","body":"<p>I have a <a href=\"https://i.stack.imgur.com/zqt9Q.png\" rel=\"nofollow noreferrer\">homework assignment</a> to calculate Lucas numbers. How can I make my algorithm O(n) while still keeping it recursive?</p>\n<p>This is the hint he gives:</p>\n<p><a href=\"https://i.stack.imgur.com/UAUn8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UAUn8.png\" alt=\"\" /></a></p>\n<p>When thinking about the question I thought I would keep my main for loop and make it so that it stores the 2 numbers before the one computed but then that would be iterative.</p>\n<p>This is my code right now:</p>\n<pre><code>lucas(n) {  \n    return 2 if n = 0;\n    return 1 if n = 1;\n    return lucas(n - 1) + lucas(n - 2);\n}\nmain(String args[]) {\n    for (int i = 0; i&lt;=10; i++)\n        print(lucas(i*5));\n}\n</code></pre>\n<p>(The code is written like that in case of plagiarism.)</p>\n"},{"tags":["java","spring","spring-boot","csrf"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1643634561,"post_id":70926437,"comment_id":125384506,"body_markdown":"Can you show the JavaScript code you use to retrieve the CSRF token? (e.g. where does the `csrf` variable in the axios  call come from).","body":"Can you show the JavaScript code you use to retrieve the CSRF token? (e.g. where does the <code>csrf</code> variable in the axios  call come from)."},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1643639185,"post_id":70926437,"comment_id":125386552,"body_markdown":"@g00glen00b I&#39;ve updated the question. I retrieve the CSRF token using a get. I then store it in the meta tags and I get the value when posting to axios and add it to the header.","body":"@g00glen00b I&#39;ve updated the question. I retrieve the CSRF token using a get. I then store it in the meta tags and I get the value when posting to axios and add it to the header."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643669826,"creation_date":1643669826,"answer_id":70933823,"question_id":70926437,"body_markdown":"There are two possible causes.\r\n\r\nFirst of all, the CSRF token endpoint should match the Spring Security configuration. In your example, you&#39;re using `antMatcher(&quot;/api/**&quot;)`, but CSRF token endpoint is `/csrf`. This should likely become `/api/csrf`.\r\n\r\nThe second part is that the CSRF token changes after each request. You didn&#39;t show the code where you invoke `getCSRFFromPage()`, but this should happen before each call you make. If not, then only the first call with that CSRF token will succeed. All consecutive calls will fail.\r\n\r\nIf you don&#39;t like making an additional call with each request, then you can use the `CookieCsrfTokenRepository`:\r\n\r\n```java\r\nhttpSecurity\r\n    // ...\r\n    .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\r\n```\r\n\r\nBy doing so, each time you make a request, you&#39;ll get an `XSRF-TOKEN` cookie containing the next CSRF token. This should be passed within the `X-CSRF-TOKEN`  or `X-XSRF-TOKEN` header. Many libraries, including Axios do this out of the box, so you don&#39;t have to do anything else.\r\n\r\nYou can customize this behavior by configuring the `xsrfHeaderName` or `xsrfCookieName` properties (see [Request Config](https://github.com/axios/axios#request-config)).","title":"Invalid CSRF token found - Spring Boot and Axios","body":"<p>There are two possible causes.</p>\n<p>First of all, the CSRF token endpoint should match the Spring Security configuration. In your example, you're using <code>antMatcher(&quot;/api/**&quot;)</code>, but CSRF token endpoint is <code>/csrf</code>. This should likely become <code>/api/csrf</code>.</p>\n<p>The second part is that the CSRF token changes after each request. You didn't show the code where you invoke <code>getCSRFFromPage()</code>, but this should happen before each call you make. If not, then only the first call with that CSRF token will succeed. All consecutive calls will fail.</p>\n<p>If you don't like making an additional call with each request, then you can use the <code>CookieCsrfTokenRepository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>httpSecurity\n    // ...\n    .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\n</code></pre>\n<p>By doing so, each time you make a request, you'll get an <code>XSRF-TOKEN</code> cookie containing the next CSRF token. This should be passed within the <code>X-CSRF-TOKEN</code>  or <code>X-XSRF-TOKEN</code> header. Many libraries, including Axios do this out of the box, so you don't have to do anything else.</p>\n<p>You can customize this behavior by configuring the <code>xsrfHeaderName</code> or <code>xsrfCookieName</code> properties (see <a href=\"https://github.com/axios/axios#request-config\" rel=\"nofollow noreferrer\">Request Config</a>).</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643669826,"creation_date":1643634236,"question_id":70926437,"body_markdown":"I would like to post using `Axios` to my `Spring Boot` server. If I disable `csrf` using `.csrf().disable()` it works correctly however it fails when enabled.    \r\n\r\nI&#39;ve tried adding `X-CSRF-TOKEN` to the header, or `_csrf` in the body but it is saying it is invalid. Checking the request the `csrf` is being passed in as expected. \r\n\r\n**CSRF Controller**\r\n\r\n    @RequestMapping(&quot;/csrf&quot;)\r\n    public String csrf(final CsrfToken token) {\r\n        return token.getToken();\r\n    }\r\n\r\n**Spring Security**\t \r\n\r\n    httpSecurity\r\n\t\t\t.antMatcher(&quot;/api/**&quot;)\r\n\t\t\t.cors().and()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.anyRequest().authenticated()\r\n\t\t\t.and()\r\n\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n**Axios**\r\n\r\n    axios\r\n        .post(\r\n          `/api/doSomething`,\r\n          { id: id, _csrf: csrf},\r\n          {\r\n            withCredentials: true,\r\n            headers: {\r\n              &#39;X-CSRF-TOKEN&#39;: csrf\r\n            }\r\n          }\r\n        )\r\n        .then(response =&gt; {\r\n          resolve(response.data);\r\n        })\r\n        .catch(error =&gt; {\r\n          reject(error);\r\n        });\r\n\r\n**MetaTags `react-meta-tags` store the CSRF**\r\n\r\n    &lt;MetaTags&gt;\r\n      &lt;meta name=&quot;csrf-token&quot; content={csrfToken} /&gt;\r\n    &lt;/MetaTags&gt; \r\n\r\n**Axios to get the CSRF token**\r\n\r\n    axios\r\n    .get(&#39;/csrf&#39;, {\r\n      withCredentials: true\r\n    })\r\n    .then(response =&gt; {\r\n      resolve(response.data);\r\n    })\r\n    .catch(error =&gt; {\r\n      reject(error);\r\n    });\r\n\r\n**Function to get the CSRF token from the meta tags**\r\n\r\n    function getCSRFFromPage(): string | null {\r\n      const element = document.querySelector(&quot;meta[name=&#39;csrf-token&#39;]&quot;);\r\n\r\n      if (element !== null) {\r\n        const csrf: string | null = element.getAttribute(&#39;content&#39;);\r\n        return csrf;\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n**Error**\r\n    \r\n    Invalid CSRF token found for &lt;url&gt;\r\n\r\nWhat could be causing this to fail? \r\n","title":"Invalid CSRF token found - Spring Boot and Axios","body":"<p>I would like to post using <code>Axios</code> to my <code>Spring Boot</code> server. If I disable <code>csrf</code> using <code>.csrf().disable()</code> it works correctly however it fails when enabled.</p>\n<p>I've tried adding <code>X-CSRF-TOKEN</code> to the header, or <code>_csrf</code> in the body but it is saying it is invalid. Checking the request the <code>csrf</code> is being passed in as expected.</p>\n<p><strong>CSRF Controller</strong></p>\n<pre><code>@RequestMapping(&quot;/csrf&quot;)\npublic String csrf(final CsrfToken token) {\n    return token.getToken();\n}\n</code></pre>\n<p><strong>Spring Security</strong></p>\n<pre><code>httpSecurity\n        .antMatcher(&quot;/api/**&quot;)\n        .cors().and()\n        .authorizeRequests()\n        .anyRequest().authenticated()\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n</code></pre>\n<p><strong>Axios</strong></p>\n<pre><code>axios\n    .post(\n      `/api/doSomething`,\n      { id: id, _csrf: csrf},\n      {\n        withCredentials: true,\n        headers: {\n          'X-CSRF-TOKEN': csrf\n        }\n      }\n    )\n    .then(response =&gt; {\n      resolve(response.data);\n    })\n    .catch(error =&gt; {\n      reject(error);\n    });\n</code></pre>\n<p><strong>MetaTags <code>react-meta-tags</code> store the CSRF</strong></p>\n<pre><code>&lt;MetaTags&gt;\n  &lt;meta name=&quot;csrf-token&quot; content={csrfToken} /&gt;\n&lt;/MetaTags&gt; \n</code></pre>\n<p><strong>Axios to get the CSRF token</strong></p>\n<pre><code>axios\n.get('/csrf', {\n  withCredentials: true\n})\n.then(response =&gt; {\n  resolve(response.data);\n})\n.catch(error =&gt; {\n  reject(error);\n});\n</code></pre>\n<p><strong>Function to get the CSRF token from the meta tags</strong></p>\n<pre><code>function getCSRFFromPage(): string | null {\n  const element = document.querySelector(&quot;meta[name='csrf-token']&quot;);\n\n  if (element !== null) {\n    const csrf: string | null = element.getAttribute('content');\n    return csrf;\n  } else {\n    return null;\n  }\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>Invalid CSRF token found for &lt;url&gt;\n</code></pre>\n<p>What could be causing this to fail?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1643659804,"post_id":70931681,"comment_id":125394902,"body_markdown":"You say &quot;in Java URL Class&quot; but the fact that the data is being read from a URL is irrelevant; the logic to convert Greek letters to lower case would be the same if you were reading from a file, or processing text in memory.","body":"You say &quot;in Java URL Class&quot; but the fact that the data is being read from a URL is irrelevant; the logic to convert Greek letters to lower case would be the same if you were reading from a file, or processing text in memory."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643658638,"creation_date":1643658638,"answer_id":70932018,"question_id":70931681,"body_markdown":"Your logic is problematic. You first replace all upper case &quot;A&quot; to lover case &quot;a&quot;. So now you have all &quot;a&quot;s the ones that used to be upper case and the ones that were lover case as lower case &quot;a&quot;. And next replacement you change them all to upper case &quot;A&quot;. What you need to do is in your first replacement change upper case &quot;A&quot; to some letter or sequence that is never to be found in your text. Then replace lover case &quot;a&quot; to upper case &quot;A&quot; and then replace your &quot;strange&quot; letter or sequenceto lower case &quot;a&quot; \r\n\r\n                            String tempReplacement = &quot; ***My-wierd-sequence*** &quot;;\r\n                            line = line.replace(&quot;Α&quot;, tempReplacement );\r\n                            line = line.replace(&quot;α&quot;, &quot;Α&quot;);\r\n                            line = line.replace(tempReplacement, &quot;α&quot;);\r\n\r\n","title":"Trying figure out how to change greek letter case in Java URL Class","body":"<p>Your logic is problematic. You first replace all upper case &quot;A&quot; to lover case &quot;a&quot;. So now you have all &quot;a&quot;s the ones that used to be upper case and the ones that were lover case as lower case &quot;a&quot;. And next replacement you change them all to upper case &quot;A&quot;. What you need to do is in your first replacement change upper case &quot;A&quot; to some letter or sequence that is never to be found in your text. Then replace lover case &quot;a&quot; to upper case &quot;A&quot; and then replace your &quot;strange&quot; letter or sequenceto lower case &quot;a&quot;</p>\n<pre><code>                        String tempReplacement = &quot; ***My-wierd-sequence*** &quot;;\n                        line = line.replace(&quot;Α&quot;, tempReplacement );\n                        line = line.replace(&quot;α&quot;, &quot;Α&quot;);\n                        line = line.replace(tempReplacement, &quot;α&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643669139,"creation_date":1643659744,"answer_id":70932212,"question_id":70931681,"body_markdown":"To flip the case of all Greek letters, you can do the following:\r\n\r\n    Pattern greek = Pattern.compile(&quot;\\\\p{IsGreek}+&quot;);\r\n\r\n    while ((line = readr.readLine()) != null) {\r\n        line = greek.matcher(s).replaceAll(mr -&gt; flipCase(mr.group()));\r\n        writer.write(line);\r\n    }\r\n    \r\n    // . . .\r\n    \r\n    String flipCase(String s) {\r\n        return s.codePoints().map(c -&gt; Character.isLowerCase(c) ?\r\n                Character.toUpperCase(c) : Character.toLowerCase(c))\r\n            .collect(StringBuilder::new, StringBuilder::appendCodePoint,\r\n                StringBuilder::append)\r\n            .toString();\r\n    }\r\n","title":"Trying figure out how to change greek letter case in Java URL Class","body":"<p>To flip the case of all Greek letters, you can do the following:</p>\n<pre><code>Pattern greek = Pattern.compile(&quot;\\\\p{IsGreek}+&quot;);\n\nwhile ((line = readr.readLine()) != null) {\n    line = greek.matcher(s).replaceAll(mr -&gt; flipCase(mr.group()));\n    writer.write(line);\n}\n\n// . . .\n\nString flipCase(String s) {\n    return s.codePoints().map(c -&gt; Character.isLowerCase(c) ?\n            Character.toUpperCase(c) : Character.toLowerCase(c))\n        .collect(StringBuilder::new, StringBuilder::appendCodePoint,\n            StringBuilder::append)\n        .toString();\n}\n</code></pre>\n"}],"owner":{"account_id":24113963,"reputation":1,"user_id":18084157,"display_name":"Sahib Sawhney"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643669139,"creation_date":1643656903,"question_id":70931681,"body_markdown":"In my code I need to figure out how to change greek letters from capital case to lower case and vice versa. I was using replace but of course, it just ends up making everything upper case. Trying to figure out the logic.\r\n\r\nAny help would be greatly appreciated. It prints the whole html in the website thats correct at least.\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\npublic class URLParse {\r\n    public static void main(String[] args) {\r\n        String line;\r\n                try {\r\n\r\n                    URL url = new URL(args[0]);\r\n                    BufferedReader readr =  new BufferedReader(new InputStreamReader(url.openStream()));\r\n\r\n                    BufferedWriter writer =\r\n                            new BufferedWriter(new FileWriter(&quot;out.html&quot;));\r\n\r\n\r\n\r\n                    while ((line = readr.readLine()) != null) {\r\n\r\n//                        line = line.replace(&quot;Α&quot;, &quot;α&quot;);\r\n\r\n//                        line = line.replace(&quot;α&quot;, &quot;Α&quot;);\r\n\r\n                        writer.write(line);\r\n                    }\r\n\r\n                    readr.close();\r\n                    writer.close();\r\n                    System.out.println(&quot;Successfully Downloaded.&quot;);\r\n\r\n\r\n                    String protocol = url.getProtocol();\r\n                    String userinfo = url.getUserInfo();\r\n                    String host = url.getHost();\r\n                    int port = url.getPort();\r\n                    String path = url.getPath();\r\n                    String query = url.getQuery();\r\n\r\n                    System.out.println(&quot;URL created: &quot; + url);\r\n                    System.out.println(&quot;protocol: &quot; + protocol);\r\n                    System.out.println(&quot;userinfo: &quot; + userinfo);\r\n                    System.out.println(&quot;host: &quot; + host);\r\n                    System.out.println(&quot;port: &quot; + port);\r\n                    System.out.println(&quot;path: &quot; + path);\r\n                    System.out.println(&quot;query: &quot; + query);\r\n\r\n                }\r\n\r\n                catch (MalformedURLException e) {\r\n                    System.out.println(&quot;Malformed URL: &quot; + e.getMessage());\r\n                }\r\n                catch (IOException ie) {\r\n                    System.out.println(&quot;IOException raised&quot;);\r\n                }\r\n    }\r\n\r\n}\r\n\r\n```","title":"Trying figure out how to change greek letter case in Java URL Class","body":"<p>In my code I need to figure out how to change greek letters from capital case to lower case and vice versa. I was using replace but of course, it just ends up making everything upper case. Trying to figure out the logic.</p>\n<p>Any help would be greatly appreciated. It prints the whole html in the website thats correct at least.</p>\n<pre><code>import java.io.*;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class URLParse {\n    public static void main(String[] args) {\n        String line;\n                try {\n\n                    URL url = new URL(args[0]);\n                    BufferedReader readr =  new BufferedReader(new InputStreamReader(url.openStream()));\n\n                    BufferedWriter writer =\n                            new BufferedWriter(new FileWriter(&quot;out.html&quot;));\n\n\n\n                    while ((line = readr.readLine()) != null) {\n\n//                        line = line.replace(&quot;Α&quot;, &quot;α&quot;);\n\n//                        line = line.replace(&quot;α&quot;, &quot;Α&quot;);\n\n                        writer.write(line);\n                    }\n\n                    readr.close();\n                    writer.close();\n                    System.out.println(&quot;Successfully Downloaded.&quot;);\n\n\n                    String protocol = url.getProtocol();\n                    String userinfo = url.getUserInfo();\n                    String host = url.getHost();\n                    int port = url.getPort();\n                    String path = url.getPath();\n                    String query = url.getQuery();\n\n                    System.out.println(&quot;URL created: &quot; + url);\n                    System.out.println(&quot;protocol: &quot; + protocol);\n                    System.out.println(&quot;userinfo: &quot; + userinfo);\n                    System.out.println(&quot;host: &quot; + host);\n                    System.out.println(&quot;port: &quot; + port);\n                    System.out.println(&quot;path: &quot; + path);\n                    System.out.println(&quot;query: &quot; + query);\n\n                }\n\n                catch (MalformedURLException e) {\n                    System.out.println(&quot;Malformed URL: &quot; + e.getMessage());\n                }\n                catch (IOException ie) {\n                    System.out.println(&quot;IOException raised&quot;);\n                }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1422186844,"post_id":28136014,"comment_id":44644019,"body_markdown":"Despite the fact you have to write less code are there any advantages of lambdas?","body":"Despite the fact you have to write less code are there any advantages of lambdas?"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1422187820,"post_id":28136014,"comment_id":44644267,"body_markdown":"Note that there are plenty of examples where the method reference actually means *more* code (e.g. `MyClassWithLongName::aStaticMethod`). The method reference can still be an advantage even there because it gives less opportunities for something to go wrong.","body":"Note that there are plenty of examples where the method reference actually means <i>more</i> code (e.g. <code>MyClassWithLongName::aStaticMethod</code>). The method reference can still be an advantage even there because it gives less opportunities for something to go wrong."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":5,"creation_date":1422210363,"post_id":28136014,"comment_id":44651213,"body_markdown":"The motivation for method references is simple (and does not have nearly as much to do with &quot;shorter&quot; as many people assume.)  Methods have _names_, and referring to something by its name is often clearer than the alternative.","body":"The motivation for method references is simple (and does not have nearly as much to do with &quot;shorter&quot; as many people assume.)  Methods have <i>names</i>, and referring to something by its name is often clearer than the alternative."},{"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"score":0,"creation_date":1422417976,"post_id":28136014,"comment_id":44737878,"body_markdown":"Another useful thing about method references is that they conform by default to the java.util.function functional interfaces, so you can use a reference to your method for things such as a Predicate or Supplier.","body":"Another useful thing about method references is that they conform by default to the java.util.function functional interfaces, so you can use a reference to your method for things such as a Predicate or Supplier."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1422186915,"creation_date":1422186915,"answer_id":28136081,"question_id":28136014,"body_markdown":"&gt; Despite the fact you have to write less code? Are there any other advantages of introducing method references in Java 8?\r\n\r\nHaving to write less code is enough of an advantage to consider introducing a language feature. There is a similar feature in C#, called [*method groups*][1], that makes it easier to write code that uses delegates. Lambdas are shorthand for anonymous classes, and anonymous classes could be considered shorthand for named classes. One could legitimately call them &quot;syntactic sugar&quot;, yet all these features help you write less code.\r\n\r\nIn addition to letting you shorten the code, the feature has a potential of helping designers of Java compiler generate more efficient code. For example, it might be possible to avoid generating a brand-new type for each lambda wrapping a method reference.\r\n\r\n  [1]: https://stackoverflow.com/q/886822/335858","title":"Why does Java 8 provide method references?","body":"<blockquote>\n  <p>Despite the fact you have to write less code? Are there any other advantages of introducing method references in Java 8?</p>\n</blockquote>\n\n<p>Having to write less code is enough of an advantage to consider introducing a language feature. There is a similar feature in C#, called <a href=\"https://stackoverflow.com/q/886822/335858\"><em>method groups</em></a>, that makes it easier to write code that uses delegates. Lambdas are shorthand for anonymous classes, and anonymous classes could be considered shorthand for named classes. One could legitimately call them \"syntactic sugar\", yet all these features help you write less code.</p>\n\n<p>In addition to letting you shorten the code, the feature has a potential of helping designers of Java compiler generate more efficient code. For example, it might be possible to avoid generating a brand-new type for each lambda wrapping a method reference.</p>\n"},{"tags":[],"owner":{"account_id":227998,"reputation":323,"user_id":3850640,"display_name":"Ronald Duck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422187015,"creation_date":1422187015,"answer_id":28136092,"question_id":28136014,"body_markdown":"Well, one advantage above just writing less code is, that the first example doesn&#39;t have to be aware of the parameters, as long as the implementation of that functional interface has the same signature (-&gt; is correct) your code get&#39;s compiled.\r\n\r\nIf the signature of the the functional interface changes and the signature of the implementation changes analogously these changes only need to be applied there and not on that glue code.","title":"Why does Java 8 provide method references?","body":"<p>Well, one advantage above just writing less code is, that the first example doesn't have to be aware of the parameters, as long as the implementation of that functional interface has the same signature (-> is correct) your code get's compiled.</p>\n\n<p>If the signature of the the functional interface changes and the signature of the implementation changes analogously these changes only need to be applied there and not on that glue code.</p>\n"}],"owner":{"account_id":1174053,"reputation":2922,"user_id":1150503,"accept_rate":58,"display_name":"Dariusz Mydlarz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3168,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1643669087,"creation_date":1422186404,"question_id":28136014,"body_markdown":"What is better in calling\r\n\r\n    names.stream().forEach(System.out::println);\r\n\r\nThan\r\n\r\n    names.stream().forEach(n -&gt; System.out.println(n));\r\n\r\nDespite the fact you have to write less code? Are there any other advantages of introducing method references in Java 8?","title":"Why does Java 8 provide method references?","body":"<p>What is better in calling</p>\n\n<pre><code>names.stream().forEach(System.out::println);\n</code></pre>\n\n<p>Than</p>\n\n<pre><code>names.stream().forEach(n -&gt; System.out.println(n));\n</code></pre>\n\n<p>Despite the fact you have to write less code? Are there any other advantages of introducing method references in Java 8?</p>\n"},{"tags":["java","json","nosuchmethoderror","json-schema-validator"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1643669132,"post_id":70933695,"comment_id":125397807,"body_markdown":"This usually means the version of the library that you used during compilation is newer than the library in your deployed environment.  The compiler found the method but at runtime that method does not exist.  Check your library versions.","body":"This usually means the version of the library that you used during compilation is newer than the library in your deployed environment.  The compiler found the method but at runtime that method does not exist.  Check your library versions."},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1643690749,"post_id":70933695,"comment_id":125401083,"body_markdown":"@JimGarrison can you please tell me which library to look for?","body":"@JimGarrison can you please tell me which library to look for?"}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643668844,"creation_date":1643668844,"question_id":70933695,"body_markdown":"I want to validate a JSON object with JSON schema.\r\n\r\nThis is my method:\r\n\r\n    public static void jsonSchemValidator(String json, String defination) throws ValidationException, JSONException, IOException )\r\n    {\r\n\r\n        JSONObject jsonSchemaori = new JSONObject(new JSONTokener(readFromResources(defination)));\r\n        JSONObject jsonSubject = new JSONObject(new JSONTokener(readFromResources(json)));\r\n\r\n        Schema schema = SchemaLoader.load(jsonSchemaori);\r\n        schema.validate(jsonSubject);\r\n    }\r\n\r\n    String defination=&quot;src/test/resources/json/pick_event_schema.json&quot;;\r\n    String json=&quot;src/test/resources/json/pickevent1.json&quot;;\r\n    Utils.jsonSchemValidator(json,schema);\r\n\r\n\r\nI generated the Schema file from the following site: https://www.liquid-technologies.com/online-json-to-schema-converter\r\n\r\nThis is my readFromResources:\r\n\r\n    public static String readFromResources(String fileName) throws IOException {\r\n    \r\n            File file = new File(fileName);\r\n            String filePath = file.getAbsolutePath();\r\n    \r\n            StringBuilder sb = new StringBuilder();\r\n            FileReader fr = new FileReader(filePath);\r\n            try( BufferedReader br = new BufferedReader(fr) ) {\r\n                String contentLine = br.readLine();\r\n                while (contentLine != null) {\r\n                    sb.append(contentLine);\r\n                    contentLine = br.readLine();\r\n                }\r\n            } catch (IOException e) {\r\n                throw e;\r\n            }\r\n            return sb.toString();\r\n        }\r\n\r\n\r\nI am getting an exception:\r\n\r\n    java.lang.NoSuchMethodError: org.json.JSONObject.getNames(Lorg/json/JSONObject;)[Ljava/lang/String;\r\n\r\nPlease let me where I am going wrong. Thank you.","title":"Trying to validate a json against Json Schema in java but getting java.lang.NoSuchMethodError","body":"<p>I want to validate a JSON object with JSON schema.</p>\n<p>This is my method:</p>\n<pre><code>public static void jsonSchemValidator(String json, String defination) throws ValidationException, JSONException, IOException )\n{\n\n    JSONObject jsonSchemaori = new JSONObject(new JSONTokener(readFromResources(defination)));\n    JSONObject jsonSubject = new JSONObject(new JSONTokener(readFromResources(json)));\n\n    Schema schema = SchemaLoader.load(jsonSchemaori);\n    schema.validate(jsonSubject);\n}\n\nString defination=&quot;src/test/resources/json/pick_event_schema.json&quot;;\nString json=&quot;src/test/resources/json/pickevent1.json&quot;;\nUtils.jsonSchemValidator(json,schema);\n</code></pre>\n<p>I generated the Schema file from the following site: <a href=\"https://www.liquid-technologies.com/online-json-to-schema-converter\" rel=\"nofollow noreferrer\">https://www.liquid-technologies.com/online-json-to-schema-converter</a></p>\n<p>This is my readFromResources:</p>\n<pre><code>public static String readFromResources(String fileName) throws IOException {\n\n        File file = new File(fileName);\n        String filePath = file.getAbsolutePath();\n\n        StringBuilder sb = new StringBuilder();\n        FileReader fr = new FileReader(filePath);\n        try( BufferedReader br = new BufferedReader(fr) ) {\n            String contentLine = br.readLine();\n            while (contentLine != null) {\n                sb.append(contentLine);\n                contentLine = br.readLine();\n            }\n        } catch (IOException e) {\n            throw e;\n        }\n        return sb.toString();\n    }\n</code></pre>\n<p>I am getting an exception:</p>\n<pre><code>java.lang.NoSuchMethodError: org.json.JSONObject.getNames(Lorg/json/JSONObject;)[Ljava/lang/String;\n</code></pre>\n<p>Please let me where I am going wrong. Thank you.</p>\n"},{"tags":["java","algorithm","data-structures","linked-list"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1488864132,"post_id":42640749,"comment_id":72408814,"body_markdown":"Hint: Put this after the end of your `while` loop: `System.out.println(&quot;node = &quot; + node.data + &quot; prev = &quot; + prev.data);`  Actually, you&#39;ll need to make sure `node` and `prev` aren&#39;t null first.  But I think you&#39;ll be able to spot the error if you do this.","body":"Hint: Put this after the end of your <code>while</code> loop: <code>System.out.println(&quot;node = &quot; + node.data + &quot; prev = &quot; + prev.data);</code>  Actually, you&#39;ll need to make sure <code>node</code> and <code>prev</code> aren&#39;t null first.  But I think you&#39;ll be able to spot the error if you do this."}],"answers":[{"tags":[],"owner":{"account_id":10402477,"reputation":66,"user_id":7670299,"display_name":"DeepDive"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1488864418,"creation_date":1488864418,"answer_id":42640850,"question_id":42640749,"body_markdown":"    node = node.next;\r\n    prev = node;\r\nThis should be in the opposite order\r\n\r\n    prev = node;\r\n    node = node.next;\r\nAnd also the code does not check for many cases , for example as to whether the position specified is larger than the size of the linked list. Try rewriting the code , also could you mention which values are you using for testing the function.\r\nI think `prev=node` should throw an exception as prev was not initialized\r\n","title":"Inserting a node at a specific position in a Linked list","body":"<pre><code>node = node.next;\nprev = node;\n</code></pre>\n\n<p>This should be in the opposite order</p>\n\n<pre><code>prev = node;\nnode = node.next;\n</code></pre>\n\n<p>And also the code does not check for many cases , for example as to whether the position specified is larger than the size of the linked list. Try rewriting the code , also could you mention which values are you using for testing the function.\nI think <code>prev=node</code> should throw an exception as prev was not initialized</p>\n"},{"tags":[],"owner":{"account_id":10337776,"reputation":181,"user_id":7625283,"display_name":"Akanksha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488867218,"creation_date":1488866545,"answer_id":42641263,"question_id":42640749,"body_markdown":"Firstly, I find the position. \r\nThen insert the new Node at that position by changing pointers.\r\n\r\n  \r\n\r\n\r\n\r\n      Node InsertNth(Node head, int data, int position) {\r\n\t\t\r\n        Node newNode= new Node();\r\n\t\tnewNode.data=data;\r\n\r\n\t\tNode ptr = head;\r\n\t\tpos = pos - 1;\r\n\t\tfor (int i = 1; ; i++) {\r\n         if(ptr==null)\r\n           {  break;\r\n               }\r\n\t\t\tif (i == pos) {\r\n\t\t\t\tnewNode.next=ptr.next;\r\n\t\t\t\tptr.next=newNode;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tptr = ptr.next;\r\n\t\t}\r\n\t}","title":"Inserting a node at a specific position in a Linked list","body":"<p>Firstly, I find the position. \nThen insert the new Node at that position by changing pointers.</p>\n\n<pre><code>  Node InsertNth(Node head, int data, int position) {\n\n    Node newNode= new Node();\n    newNode.data=data;\n\n    Node ptr = head;\n    pos = pos - 1;\n    for (int i = 1; ; i++) {\n     if(ptr==null)\n       {  break;\n           }\n        if (i == pos) {\n            newNode.next=ptr.next;\n            ptr.next=newNode;\n            break;\n        }\n        ptr = ptr.next;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15781647,"reputation":1729,"user_id":11387839,"display_name":"Ashutosh Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578192139,"creation_date":1578192139,"answer_id":59596580,"question_id":42640749,"body_markdown":"    public static Node InsertNth(Node head, int data, int position) {\r\n                  \r\n              Node node = new Node(data);\r\n              node.next = null;\r\n              if (head == null &amp;&amp; position == 0){\r\n                  head = node;\r\n              }\r\n              else if(head != null &amp;&amp; position == 0){\r\n                  node.next = head;\r\n                  head = node;\r\n              }\r\n              Node tempCurrentNode = head ;\r\n              Node tempPreviousNode = null;\r\n              int index = 0;\r\n              while (index &lt; position) {\r\n                  tempPreviousNode =  tempCurrentNode;\r\n                  tempCurrentNode = tempCurrentNode.next;\r\n                  index = index + 1;\r\n              }\r\n                node.next = tempCurrentNode;\r\n                tempPreviousNode.next = node;\r\n    \r\n             return head;\r\n        }","title":"Inserting a node at a specific position in a Linked list","body":"<pre><code>public static Node InsertNth(Node head, int data, int position) {\n\n          Node node = new Node(data);\n          node.next = null;\n          if (head == null &amp;&amp; position == 0){\n              head = node;\n          }\n          else if(head != null &amp;&amp; position == 0){\n              node.next = head;\n              head = node;\n          }\n          Node tempCurrentNode = head ;\n          Node tempPreviousNode = null;\n          int index = 0;\n          while (index &lt; position) {\n              tempPreviousNode =  tempCurrentNode;\n              tempCurrentNode = tempCurrentNode.next;\n              index = index + 1;\n          }\n            node.next = tempCurrentNode;\n            tempPreviousNode.next = node;\n\n         return head;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2411958,"reputation":21,"user_id":2106838,"display_name":"Amol Gaikwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643668199,"creation_date":1643668199,"answer_id":70933594,"question_id":42640749,"body_markdown":"    var head;\r\n    \r\n    class Node{\r\n        constructor(val) {\r\n            this.data=val;\r\n            this.next=null;\r\n        }\r\n    }\r\n    \r\n    const sortedAdd = val =&gt; {\r\n        new_node = new Node(val);\r\n        var current\r\n        if(head == null || head.data &gt; new_node.data) {\r\n            new_node.next = head;\r\n            head = new_node;\r\n        } else {\r\n            current = head;\r\n            while (current.next != null &amp;&amp; current.next.data &lt; new_node.data) {\r\n                current = current.next;\r\n            }\r\n            new_node.next = current.next;\r\n            current.next = new_node;\r\n    \r\n        }\r\n    }\r\n    \r\n    const add = val =&gt; {\r\n        new_node = new Node(val);\r\n        var current\r\n        if(head == null) {\r\n            head = new_node;\r\n        } else {\r\n            current = head;\r\n            while (current.next != null ) {\r\n                current = current.next;\r\n            }\r\n            current.next = new_node;\r\n    \r\n        }\r\n    }\r\n    \r\n    const insertAtPos= (val, insertIndex) =&gt; {\r\n        new_node = new Node(val);\r\n        var current, prev;\r\n        if(head == null) {\r\n            head = new_node;\r\n        } else {\r\n            current = head;\r\n            let index=0;\r\n            prev =current;\r\n    \r\n            while (index &lt;= insertIndex) {\r\n                if(0 === insertIndex) {\r\n                    new_node.next = current;\r\n                    prev.next = new_node;\r\n                    break;  \r\n                } else if(index === insertIndex) {\r\n                    new_node.next = current;\r\n                    prev.next = new_node;\r\n                    break;\r\n                } \r\n                \r\n                prev = current;\r\n                current = current.next;\r\n                index++;\r\n            }\r\n        }\r\n    }\r\n    const deleteNode = val =&gt;{\r\n        var current = head;\r\n        var prev;\r\n        while(current != null) {\r\n            if(current.data === val) {\r\n                console.log(&#39;Deleted node &#39;, current.data);\r\n                prev.next = current.next;\r\n            }\r\n            prev = current;\r\n            current = current.next;\r\n        }\r\n    }\r\n    const printList = () =&gt; {\r\n        let temp = head;\r\n        while(temp != null) {\r\n            console.log(temp.data);\r\n            temp = temp.next;\r\n        }\r\n    }\r\n    \r\n    [5, 10, 7, 3, 1, 9].map(d =&gt; add(d));\r\n    console.log(&#39;Before&#39;);\r\n    printList();\r\n    console.log(&#39;After &#39;);\r\n    insertAtPos(4, 3);\r\n    // deleteNode(3);\r\n    printList();\r\n    \r\n    //output\r\nBefore\r\n5\r\n10\r\n7\r\n3\r\n1\r\n9\r\nAfter \r\n5\r\n10\r\n7\r\n4\r\n3\r\n1\r\n9","title":"Inserting a node at a specific position in a Linked list","body":"<pre><code>var head;\n\nclass Node{\n    constructor(val) {\n        this.data=val;\n        this.next=null;\n    }\n}\n\nconst sortedAdd = val =&gt; {\n    new_node = new Node(val);\n    var current\n    if(head == null || head.data &gt; new_node.data) {\n        new_node.next = head;\n        head = new_node;\n    } else {\n        current = head;\n        while (current.next != null &amp;&amp; current.next.data &lt; new_node.data) {\n            current = current.next;\n        }\n        new_node.next = current.next;\n        current.next = new_node;\n\n    }\n}\n\nconst add = val =&gt; {\n    new_node = new Node(val);\n    var current\n    if(head == null) {\n        head = new_node;\n    } else {\n        current = head;\n        while (current.next != null ) {\n            current = current.next;\n        }\n        current.next = new_node;\n\n    }\n}\n\nconst insertAtPos= (val, insertIndex) =&gt; {\n    new_node = new Node(val);\n    var current, prev;\n    if(head == null) {\n        head = new_node;\n    } else {\n        current = head;\n        let index=0;\n        prev =current;\n\n        while (index &lt;= insertIndex) {\n            if(0 === insertIndex) {\n                new_node.next = current;\n                prev.next = new_node;\n                break;  \n            } else if(index === insertIndex) {\n                new_node.next = current;\n                prev.next = new_node;\n                break;\n            } \n            \n            prev = current;\n            current = current.next;\n            index++;\n        }\n    }\n}\nconst deleteNode = val =&gt;{\n    var current = head;\n    var prev;\n    while(current != null) {\n        if(current.data === val) {\n            console.log('Deleted node ', current.data);\n            prev.next = current.next;\n        }\n        prev = current;\n        current = current.next;\n    }\n}\nconst printList = () =&gt; {\n    let temp = head;\n    while(temp != null) {\n        console.log(temp.data);\n        temp = temp.next;\n    }\n}\n\n[5, 10, 7, 3, 1, 9].map(d =&gt; add(d));\nconsole.log('Before');\nprintList();\nconsole.log('After ');\ninsertAtPos(4, 3);\n// deleteNode(3);\nprintList();\n\n//output\n</code></pre>\n<p>Before\n5\n10\n7\n3\n1\n9\nAfter\n5\n10\n7\n4\n3\n1\n9</p>\n"}],"owner":{"account_id":1132117,"reputation":326,"user_id":1117972,"accept_rate":56,"display_name":"shashank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14409,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":42640850,"answer_count":4,"score":1,"last_activity_date":1643668199,"creation_date":1488863826,"question_id":42640749,"body_markdown":"I am given the pointer to the head node of a linked list, an integer to add to the list and the position at which the integer must be inserted. \r\nAfter inserting this node at the desired position I need to return the head node.\r\n\r\nThe code that I have written is not working for some reason and goes in an infinite loop. \r\n\r\n\r\n      class Node {\r\n         int data;\r\n         Node next;\r\n      }\r\n        \r\n    \r\n    Node InsertNth(Node head, int data, int position) {\r\n        int count = 0;\r\n        Node node = head;\r\n        Node prev = null;\r\n        while(count != position){\r\n          count++;\r\n          node = node.next;\r\n          prev = node;\r\n        }\r\n        \r\n        Node newNode = new Node();\r\n        newNode.data = data;\r\n\r\n        \r\n        newNode.next = node;\r\n        if(count == 0){\r\n              head = newNode;\r\n           }else{\r\n              prev.next = newNode;\r\n        }\r\n        \r\n        return head;          \r\n    }\r\n\r\n","title":"Inserting a node at a specific position in a Linked list","body":"<p>I am given the pointer to the head node of a linked list, an integer to add to the list and the position at which the integer must be inserted. \nAfter inserting this node at the desired position I need to return the head node.</p>\n\n<p>The code that I have written is not working for some reason and goes in an infinite loop. </p>\n\n<pre><code>  class Node {\n     int data;\n     Node next;\n  }\n\n\nNode InsertNth(Node head, int data, int position) {\n    int count = 0;\n    Node node = head;\n    Node prev = null;\n    while(count != position){\n      count++;\n      node = node.next;\n      prev = node;\n    }\n\n    Node newNode = new Node();\n    newNode.data = data;\n\n\n    newNode.next = node;\n    if(count == 0){\n          head = newNode;\n       }else{\n          prev.next = newNode;\n    }\n\n    return head;          \n}\n</code></pre>\n"},{"tags":["java","swing","graphics"],"comments":[{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":2,"creation_date":1446366781,"post_id":33460365,"comment_id":54707029,"body_markdown":"Whats the question here? *Is exist faster way?* - Is 240 fps not fast enough? What does the screenshot have to do with your question? It looks like somethings wrong with it...","body":"Whats the question here? <i>Is exist faster way?</i> - Is 240 fps not fast enough? What does the screenshot have to do with your question? It looks like somethings wrong with it..."},{"owner":{"account_id":5452039,"reputation":1623,"user_id":4336535,"accept_rate":70,"display_name":"biv"},"score":2,"creation_date":1446369269,"post_id":33460365,"comment_id":54707493,"body_markdown":"nothing wrong, it is screen filled with incrementing int_argb, for test.","body":"nothing wrong, it is screen filled with incrementing int_argb, for test."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1446381320,"post_id":33460365,"comment_id":54710167,"body_markdown":"A related [example](https://sites.google.com/site/drjohnbmatthews/raster) is seen here.","body":"A related <a href=\"https://sites.google.com/site/drjohnbmatthews/raster\" rel=\"nofollow noreferrer\">example</a> is seen here."}],"answers":[{"tags":[],"owner":{"account_id":6159087,"reputation":511,"user_id":4801255,"accept_rate":100,"display_name":"Dynamitos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643668197,"creation_date":1446366797,"answer_id":33460459,"question_id":33460365,"body_markdown":"A way to get more FPS would probably be to use a `BufferStrategy`. Instead of using the `Graphics` passed my the `paint()` method, you would have to create them externally with e.g.`jFrame.createBufferStrategy(/*number of buffers*/)` and `BufferStrategy bufferStrategy = jFrame.getBufferStrategy()`.\r\nIf you then want to access the `Graphics`, you use `Graphics g = bufferStrategy.getDrawGraphics()` and then draw your Image as usually. I am not sure if this will really improve your FPS at such a simple example, but when doing more complicated draws, it surely will.\r\n\r\nEDIT: It&#39;s pretty useless to create a `BufferStrategy` with only 1 backbuffer, since it would just continue drawing directly to the screen. The buffersize should be 2-5 depending on how much vram your graphics card can handle.","title":"what the fastest way to draw pixels buffer in Java","body":"<p>A way to get more FPS would probably be to use a <code>BufferStrategy</code>. Instead of using the <code>Graphics</code> passed my the <code>paint()</code> method, you would have to create them externally with e.g.<code>jFrame.createBufferStrategy(/*number of buffers*/)</code> and <code>BufferStrategy bufferStrategy = jFrame.getBufferStrategy()</code>.\nIf you then want to access the <code>Graphics</code>, you use <code>Graphics g = bufferStrategy.getDrawGraphics()</code> and then draw your Image as usually. I am not sure if this will really improve your FPS at such a simple example, but when doing more complicated draws, it surely will.</p>\n<p>EDIT: It's pretty useless to create a <code>BufferStrategy</code> with only 1 backbuffer, since it would just continue drawing directly to the screen. The buffersize should be 2-5 depending on how much vram your graphics card can handle.</p>\n"}],"owner":{"account_id":5452039,"reputation":1623,"user_id":4336535,"accept_rate":70,"display_name":"biv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1643668197,"creation_date":1446365803,"question_id":33460365,"body_markdown":"Now I  am using adopted code from  [Dummy’s guide to drawing raw images in Java 2D][1]\r\nAnd I gets 240 FPS, for 800x600 window, on  Debian i386  with Oracle JVM, Nvidia 8600 GTS, Intel Core 2Duo 2.6 GHz.\r\n\r\nIs exist faster way? My code:\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.event.*;\r\n    import java.awt.image.*;\r\n    import javax.swing.*;\r\n    \r\n    public class TestFillRasterRate\r\n    {\r\n        static class MyFrame extends JFrame\r\n        {\r\n    \t  long framesDrawed;\r\n    \t  int col=0;\r\n    \r\n    \t  int w, h;\r\n    \t  int[] raster;\r\n    \t  ColorModel cm;\r\n    \t  DataBuffer buffer;\r\n    \t  SampleModel sm;\r\n    \t  WritableRaster wrRaster;\r\n    \t  BufferedImage backBuffer;\r\n    \r\n    \t  //@Override public void paint(Graphics g)\r\n    \t  public void draw(Graphics g)\r\n    \t  {\r\n    \t\t// reinitialize all if resized\r\n    \t\tif( w!=getWidth() || h!=getHeight() )\r\n    \t\t{\r\n    \t\t    w = getWidth();\r\n    \t\t    h = getHeight();\r\n    \r\n    \t\t    raster = new int[w*h];\r\n    \r\n    \t\t    cm = new DirectColorModel(24, 255, 255&lt;&lt;8, 255&lt;&lt;16);\r\n    \t\t    buffer = new DataBufferInt(raster, raster.length);\r\n    \t\t    sm = cm.createCompatibleSampleModel(w,h);\r\n    \t\t    wrRaster = Raster.createWritableRaster(sm, buffer, null);\r\n    \t\t    backBuffer = new BufferedImage(cm, wrRaster, false, null);\r\n    \t\t}\r\n    \r\n    \t\t// produce raster\r\n    \t\tfor(int ptr=0, x=0; x&lt;w; x++)\r\n    \t\t    for(int y=0; y&lt;h; y++)\r\n    \t\t\t  raster[ptr++] = col++;\r\n    \r\n    \t\t// draw raster\r\n    \t\tg.drawImage(backBuffer,  0,0, null);\r\n    \t\t++framesDrawed;\r\n    \t\t\r\n    \t\t/**\r\n    \t\tSwingUtilities.invokeLater(new Runnable()\r\n    \t\t{   @Override   public void run()\r\n    \t\t    {\t  repaint();\r\n    \t\t    }\r\n    \t\t});/**/\r\n    \t  }\r\n        }\r\n        \r\n        public static void main(String[] args)\r\n        {\r\n    \t  final MyFrame frame = new MyFrame();\r\n    \t \r\n            frame.setSize(800, 600);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n            \r\n            // draw FPS in title\r\n            new Timer(1000, new ActionListener()\r\n            {   @Override public void actionPerformed(ActionEvent e)\r\n                {   frame.setTitle(Long.toString(frame.framesDrawed));\r\n                    frame.framesDrawed = 0;\r\n                }\r\n            }).start();\r\n    \t  \r\n    \t  /**/\r\n    \t  frame.createBufferStrategy(1);\r\n    \t  BufferStrategy bs = frame.getBufferStrategy();\r\n    \t  Graphics g = bs.getDrawGraphics();\r\n    \t  for(;;)\r\n    \t  \tframe.draw(g);\r\n    \t  /**/\r\n        }\r\n    }\r\n\r\n[![snapshot][2]][2]\r\n\r\n  [1]: http://tech.puredanger.com/2007/10/12/images-java2d/\r\n  [2]: http://i.stack.imgur.com/2bi5S.png","title":"what the fastest way to draw pixels buffer in Java","body":"<p>Now I  am using adopted code from  <a href=\"http://tech.puredanger.com/2007/10/12/images-java2d/\" rel=\"nofollow noreferrer\">Dummy’s guide to drawing raw images in Java 2D</a>\nAnd I gets 240 FPS, for 800x600 window, on  Debian i386  with Oracle JVM, Nvidia 8600 GTS, Intel Core 2Duo 2.6 GHz.</p>\n\n<p>Is exist faster way? My code:</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.event.*;\nimport java.awt.image.*;\nimport javax.swing.*;\n\npublic class TestFillRasterRate\n{\n    static class MyFrame extends JFrame\n    {\n      long framesDrawed;\n      int col=0;\n\n      int w, h;\n      int[] raster;\n      ColorModel cm;\n      DataBuffer buffer;\n      SampleModel sm;\n      WritableRaster wrRaster;\n      BufferedImage backBuffer;\n\n      //@Override public void paint(Graphics g)\n      public void draw(Graphics g)\n      {\n        // reinitialize all if resized\n        if( w!=getWidth() || h!=getHeight() )\n        {\n            w = getWidth();\n            h = getHeight();\n\n            raster = new int[w*h];\n\n            cm = new DirectColorModel(24, 255, 255&lt;&lt;8, 255&lt;&lt;16);\n            buffer = new DataBufferInt(raster, raster.length);\n            sm = cm.createCompatibleSampleModel(w,h);\n            wrRaster = Raster.createWritableRaster(sm, buffer, null);\n            backBuffer = new BufferedImage(cm, wrRaster, false, null);\n        }\n\n        // produce raster\n        for(int ptr=0, x=0; x&lt;w; x++)\n            for(int y=0; y&lt;h; y++)\n              raster[ptr++] = col++;\n\n        // draw raster\n        g.drawImage(backBuffer,  0,0, null);\n        ++framesDrawed;\n\n        /**\n        SwingUtilities.invokeLater(new Runnable()\n        {   @Override   public void run()\n            {     repaint();\n            }\n        });/**/\n      }\n    }\n\n    public static void main(String[] args)\n    {\n      final MyFrame frame = new MyFrame();\n\n        frame.setSize(800, 600);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n\n        // draw FPS in title\n        new Timer(1000, new ActionListener()\n        {   @Override public void actionPerformed(ActionEvent e)\n            {   frame.setTitle(Long.toString(frame.framesDrawed));\n                frame.framesDrawed = 0;\n            }\n        }).start();\n\n      /**/\n      frame.createBufferStrategy(1);\n      BufferStrategy bs = frame.getBufferStrategy();\n      Graphics g = bs.getDrawGraphics();\n      for(;;)\n        frame.draw(g);\n      /**/\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2bi5S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2bi5S.png\" alt=\"snapshot\"></a></p>\n"},{"tags":["java","maven","maven-jetty-plugin"],"answers":[{"tags":[],"owner":{"account_id":430512,"reputation":8935,"user_id":813999,"accept_rate":95,"display_name":"Charlee Chitsuk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1538533249,"creation_date":1538533249,"answer_id":52618834,"question_id":52607814,"body_markdown":"Regarding to the [Using Extensions][1] and [Core Classloader][2], we are able to override the `${maven.home}/lib` by defining the `extensions` at our `pom.xml` as the following: -\r\n\r\n### pom.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n    &lt;/build&gt;\r\n\r\nWhen executing the `mvn -e -X clean test`, it give us the following: -\r\n\r\n\r\n&lt;!-- language: bsh --&gt;\r\n\r\n    [DEBUG] javax.annotation:javax.annotation-api:jar:1.3.2:\r\n    [DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.1:runtime\r\n    [DEBUG] Created new class realm extension&gt;\r\n            javax.annotation:javax.annotation-api:1.3.2\r\n    [DEBUG] Importing foreign packages into class realm extension&gt;\r\n            javax.annotation:javax.annotation-api:1.3.2\r\n    [DEBUG]   Imported:  &lt; maven.api\r\n    [DEBUG] Populating class realm extension&gt;\r\n            javax.annotation:javax.annotation-api:1.3.2\r\n    [DEBUG]   Included: javax.annotation:javax.annotation-api:jar:1.3.2\r\n    [DEBUG]   Included: org.codehaus.plexus:plexus-utils:jar:1.1\r\n    [DEBUG] Dependency collection stats: {...}\r\n    [DEBUG] javax.annotation:jsr250-api:jar:1.0:\r\n    [DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.1:runtime\r\n    [DEBUG] Created new class realm extension&gt;\r\n            javax.annotation:jsr250-api:1.0\r\n    [DEBUG] Importing foreign packages into class realm extension&gt;\r\n            javax.annotation:jsr250-api:1.0\r\n    [DEBUG]   Imported:  &lt; maven.api\r\n    [DEBUG] Populating class realm extension&gt;\r\n            javax.annotation:jsr250-api:1.0\r\n\r\n    ....\r\n\r\n    [DEBUG] Extension realms for project some-group:some-artifact:some-packing:some-version : \r\n        [ClassRealm[extension&gt;javax.annotation:javax.annotation-api:1.3.2, \r\n                    parent: sun.misc.Launcher$AppClassLoader@5c647e05], \r\n         ClassRealm[extension&gt;javax.annotation:jsr250-api:1.0, \r\n                    parent: sun.misc.Launcher$AppClassLoader@5c647e05]]\r\n    [DEBUG] Created new class realm project&gt;some-group:some-artifact:some-version\r\n    [DEBUG] Populating class realm project&gt;some-group:some-artifact:some-version\r\n    [DEBUG]   Included: javax.annotation:javax.annotation-api:jar:1.3.2\r\n    [DEBUG] Looking up lifecycle mappings for packaging war from \r\n        ClassRealm[project&gt;some-group:some-artifact:some-version,\r\n                  parent: ClassRealm[maven.api, parent: null]]  \r\n\r\n\r\n### Note\r\nI cannot get rid of the `javax.annotation:jsr250-api:1.0`, then I put it after the `javax.annotation:javax.annotation-api:1.3.2` so that it will be far from the classpath and ensure that the `javax.annotation:javax.annotation-api:1.3.2` will be used first.\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-using-extensions.html\r\n  [2]: https://maven.apache.org/guides/mini/guide-maven-classloading.html#Core_Classloader","title":"How to remove a maven lib (jsr250-api-1.0.jar) from the plugin classpath (jetty:run)?","body":"<p>Regarding to the <a href=\"https://maven.apache.org/guides/mini/guide-using-extensions.html\" rel=\"noreferrer\">Using Extensions</a> and <a href=\"https://maven.apache.org/guides/mini/guide-maven-classloading.html#Core_Classloader\" rel=\"noreferrer\">Core Classloader</a>, we are able to override the <code>${maven.home}/lib</code> by defining the <code>extensions</code> at our <code>pom.xml</code> as the following: -</p>\n\n<h3>pom.xml</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;extensions&gt;\n        &lt;extension&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/extension&gt;\n        &lt;extension&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/extension&gt;\n    &lt;/extensions&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>When executing the <code>mvn -e -X clean test</code>, it give us the following: -</p>\n\n<pre><code>[DEBUG] javax.annotation:javax.annotation-api:jar:1.3.2:\n[DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.1:runtime\n[DEBUG] Created new class realm extension&gt;\n        javax.annotation:javax.annotation-api:1.3.2\n[DEBUG] Importing foreign packages into class realm extension&gt;\n        javax.annotation:javax.annotation-api:1.3.2\n[DEBUG]   Imported:  &lt; maven.api\n[DEBUG] Populating class realm extension&gt;\n        javax.annotation:javax.annotation-api:1.3.2\n[DEBUG]   Included: javax.annotation:javax.annotation-api:jar:1.3.2\n[DEBUG]   Included: org.codehaus.plexus:plexus-utils:jar:1.1\n[DEBUG] Dependency collection stats: {...}\n[DEBUG] javax.annotation:jsr250-api:jar:1.0:\n[DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.1:runtime\n[DEBUG] Created new class realm extension&gt;\n        javax.annotation:jsr250-api:1.0\n[DEBUG] Importing foreign packages into class realm extension&gt;\n        javax.annotation:jsr250-api:1.0\n[DEBUG]   Imported:  &lt; maven.api\n[DEBUG] Populating class realm extension&gt;\n        javax.annotation:jsr250-api:1.0\n\n....\n\n[DEBUG] Extension realms for project some-group:some-artifact:some-packing:some-version : \n    [ClassRealm[extension&gt;javax.annotation:javax.annotation-api:1.3.2, \n                parent: sun.misc.Launcher$AppClassLoader@5c647e05], \n     ClassRealm[extension&gt;javax.annotation:jsr250-api:1.0, \n                parent: sun.misc.Launcher$AppClassLoader@5c647e05]]\n[DEBUG] Created new class realm project&gt;some-group:some-artifact:some-version\n[DEBUG] Populating class realm project&gt;some-group:some-artifact:some-version\n[DEBUG]   Included: javax.annotation:javax.annotation-api:jar:1.3.2\n[DEBUG] Looking up lifecycle mappings for packaging war from \n    ClassRealm[project&gt;some-group:some-artifact:some-version,\n              parent: ClassRealm[maven.api, parent: null]]  \n</code></pre>\n\n<h3>Note</h3>\n\n<p>I cannot get rid of the <code>javax.annotation:jsr250-api:1.0</code>, then I put it after the <code>javax.annotation:javax.annotation-api:1.3.2</code> so that it will be far from the classpath and ensure that the <code>javax.annotation:javax.annotation-api:1.3.2</code> will be used first.</p>\n"},{"tags":[],"owner":{"account_id":96269,"reputation":2290,"user_id":261734,"display_name":"Olivier Lamy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643668184,"creation_date":1643668184,"answer_id":70933592,"question_id":52607814,"body_markdown":"please note it&#39;s not anymore an issue with Maven 3.8.3+","title":"How to remove a maven lib (jsr250-api-1.0.jar) from the plugin classpath (jetty:run)?","body":"<p>please note it's not anymore an issue with Maven 3.8.3+</p>\n"}],"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3031,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":52618834,"answer_count":2,"score":6,"last_activity_date":1643668184,"creation_date":1538481280,"question_id":52607814,"body_markdown":"I&#39;m working on migrating our projects from java 8 to 11.\r\n\r\nAs a first step, i&#39;m compiling it with source and target compatibility 1.8, but trying to run the application over the openjdk-11.\r\n\r\nDuring development, we are using the jetty:run goal to start the application server. This goal is failing with this error : \r\n\r\n    Caused by: java.lang.NoSuchMethodError: javax.annotation.Resource.lookup()Ljava/lang/String;\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.&lt;init&gt;(CommonAnnotationBeanPostProcessor.java:621) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.lambda$buildResourceMetadata$0(CommonAnnotationBeanPostProcessor.java:383) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:713) ~[spring-core-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.buildResourceMetadata(CommonAnnotationBeanPostProcessor.java:365) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.findResourceMetadata(CommonAnnotationBeanPostProcessor.java:350) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:298) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1043) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:550) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n\t... 63 more\r\n\r\nI&#39;ve located where the wrong version of the `@Resource` annotation comes from : \r\n\r\n    URL [jar:file:[...]/.m2/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar!/javax/annotation/Resource.class]\r\n    URL [jar:file:[...]/Applications/apache-maven-3.5.4/lib/jsr250-api-1.0.jar!/javax/annotation/Resource.class]\r\n\r\nIt seems maven is putting on the plugin classpath all the libs it has on its /lib/ folder\r\n\r\nI guess that when i was running it over jdk 1.8, the `@Resource` annotation from the jdk had precedence (as i nver saw this error ever), but it is not anymore the case (as this annotation is not included anymore in jdk11).\r\n\r\nWhat are my options to get rid of this old class ?\r\n\r\n(i could upgrade the lib from the maven installation, but i&#39;d prefer to keep that as a last resort, it would require that everybody working on the project tweak its maven installation).\r\n\r\nEDIT: the jetty:run-forked goal is also working fine, but with this goal, i can&#39;t keep the `&lt;webApp&gt;` configuration section of the plugin.\r\n\r\nIt really seems to be a maven classpath isolation issue.","title":"How to remove a maven lib (jsr250-api-1.0.jar) from the plugin classpath (jetty:run)?","body":"<p>I'm working on migrating our projects from java 8 to 11.</p>\n\n<p>As a first step, i'm compiling it with source and target compatibility 1.8, but trying to run the application over the openjdk-11.</p>\n\n<p>During development, we are using the jetty:run goal to start the application server. This goal is failing with this error : </p>\n\n<pre><code>Caused by: java.lang.NoSuchMethodError: javax.annotation.Resource.lookup()Ljava/lang/String;\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.&lt;init&gt;(CommonAnnotationBeanPostProcessor.java:621) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.lambda$buildResourceMetadata$0(CommonAnnotationBeanPostProcessor.java:383) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:713) ~[spring-core-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.buildResourceMetadata(CommonAnnotationBeanPostProcessor.java:365) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.findResourceMetadata(CommonAnnotationBeanPostProcessor.java:350) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:298) ~[spring-context-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1043) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:550) ~[spring-beans-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n... 63 more\n</code></pre>\n\n<p>I've located where the wrong version of the <code>@Resource</code> annotation comes from : </p>\n\n<pre><code>URL [jar:file:[...]/.m2/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar!/javax/annotation/Resource.class]\nURL [jar:file:[...]/Applications/apache-maven-3.5.4/lib/jsr250-api-1.0.jar!/javax/annotation/Resource.class]\n</code></pre>\n\n<p>It seems maven is putting on the plugin classpath all the libs it has on its /lib/ folder</p>\n\n<p>I guess that when i was running it over jdk 1.8, the <code>@Resource</code> annotation from the jdk had precedence (as i nver saw this error ever), but it is not anymore the case (as this annotation is not included anymore in jdk11).</p>\n\n<p>What are my options to get rid of this old class ?</p>\n\n<p>(i could upgrade the lib from the maven installation, but i'd prefer to keep that as a last resort, it would require that everybody working on the project tweak its maven installation).</p>\n\n<p>EDIT: the jetty:run-forked goal is also working fine, but with this goal, i can't keep the <code>&lt;webApp&gt;</code> configuration section of the plugin.</p>\n\n<p>It really seems to be a maven classpath isolation issue.</p>\n"},{"tags":["java","intellij-idea","java-8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643667675,"post_id":70933452,"comment_id":125397401,"body_markdown":"This works for me in Intellij IDEA. By the way src/main/resources/org/files/input.txt would be a better place to put your file.","body":"This works for me in Intellij IDEA. By the way src/main/resources/org/files/input.txt would be a better place to put your file."},{"owner":{"account_id":3237953,"reputation":402,"user_id":7711999,"accept_rate":90,"display_name":"user2731629"},"score":0,"creation_date":1643667846,"post_id":70933452,"comment_id":125397440,"body_markdown":"I understand we need to put the file file under resource. But for some reason, I need to read a file from the other package.  The same project structure is printing &quot;Resource Found!!&quot; for you ? or you placed a file under resource and ran ?","body":"I understand we need to put the file file under resource. But for some reason, I need to read a file from the other package.  The same project structure is printing &quot;Resource Found!!&quot; for you ? or you placed a file under resource and ran ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643667945,"post_id":70933452,"comment_id":125397471,"body_markdown":"Yes, it works for me. You&#39;re certain your code is exactly the same? If you missed the leading `/` it wouldn&#39;t work.","body":"Yes, it works for me. You&#39;re certain your code is exactly the same? If you missed the leading <code>&#47;</code> it wouldn&#39;t work."},{"owner":{"account_id":3237953,"reputation":402,"user_id":7711999,"accept_rate":90,"display_name":"user2731629"},"score":0,"creation_date":1643668471,"post_id":70933452,"comment_id":125397638,"body_markdown":"Yes its same.. I am trying in different machine now and report","body":"Yes its same.. I am trying in different machine now and report"},{"owner":{"account_id":3237953,"reputation":402,"user_id":7711999,"accept_rate":90,"display_name":"user2731629"},"score":0,"creation_date":1643668863,"post_id":70933452,"comment_id":125397747,"body_markdown":"It didnt work for me in different machine as well. Same result. @tgdavies","body":"It didnt work for me in different machine as well. Same result. @tgdavies"}],"owner":{"account_id":3237953,"reputation":402,"user_id":7711999,"accept_rate":90,"display_name":"user2731629"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643667905,"creation_date":1643667172,"question_id":70933452,"body_markdown":"I am using Intellij Idea - 2021.2.4 and Java 8.\r\nIn Intellij, I am not able to read a file in another package in the same module.  The file is under main and not resource folder. But in Eclipse, I am able to read.\r\n\r\nFor example.  Below code prints different outputs in both eclipse and intellij.\r\n\r\n    import java.net.URL;\r\n    \r\n    public class TestMain {\r\n        public static void main(String[] args) {\r\n            URL resource = TestMain.class.getResource(&quot;/org/files/input.txt&quot;);\r\n            if(resource == null) {\r\n                System.out.println(&quot;Resource is null&quot;);\r\n            } else {\r\n                System.out.println(&quot;Resource found!!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn Intellij, the code prints &quot;Resource is null&quot;, but in eclipse, the code prints &quot;Resource found!!&quot;.\r\n\r\nIs there any setting I need to enable/disable in intellij ? Why code is behaving different in Intellij Idea ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YYDGz.png","title":"Not able to read a file from other package in the same module","body":"<p>I am using Intellij Idea - 2021.2.4 and Java 8.\nIn Intellij, I am not able to read a file in another package in the same module.  The file is under main and not resource folder. But in Eclipse, I am able to read.</p>\n<p>For example.  Below code prints different outputs in both eclipse and intellij.</p>\n<pre><code>import java.net.URL;\n\npublic class TestMain {\n    public static void main(String[] args) {\n        URL resource = TestMain.class.getResource(&quot;/org/files/input.txt&quot;);\n        if(resource == null) {\n            System.out.println(&quot;Resource is null&quot;);\n        } else {\n            System.out.println(&quot;Resource found!!&quot;);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YYDGz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YYDGz.png\" alt=\"enter image description here\" /></a></p>\n<p>In Intellij, the code prints &quot;Resource is null&quot;, but in eclipse, the code prints &quot;Resource found!!&quot;.</p>\n<p>Is there any setting I need to enable/disable in intellij ? Why code is behaving different in Intellij Idea ?</p>\n"},{"tags":["java","spring","dependency-injection","junit5"],"answers":[{"tags":[],"owner":{"account_id":17986970,"reputation":36,"user_id":13072028,"display_name":"mzlnk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643666975,"creation_date":1643666975,"answer_id":70933422,"question_id":70933085,"body_markdown":"`restTemplate.getForObject()` method has multiple set of parameters which can be invoked with:\r\n- `restTemplate.getForObject(String url, Class&lt;T&gt; responseType, Object... uriVariables)`\r\n- `restTemplate.getForObject(String url, Class&lt;T&gt; responseType, Map&lt;String, ?&gt; uriVariables)`\r\n- `restTemplate.getForObject(URI url, Class&lt;T&gt; responseType)`\r\n\r\nso you have probably mocked another method call by providing the widest matchers (`Mockito.any()`). I suggest you to try mock the `restTemplate.getForObject()` method call by providing more specific matchers, like for example:\r\n```java\r\nMockito.when(restTemplate.getForObject(Mockito.anyString(), Mockito.any())).thenReturn(response);\r\n```\r\n\r\nand the test should pass successfully.\r\n\r\nAdditionally, you can use just Mockito and DI to make unit tests for the the service instead of setting up the whole Spring application context (done by `@SpringBootTest` annotation). It is not necessary here and it only make the tests last much longer. Here is the alternative way to implement your test:\r\n\r\n```lang-java\r\nclass ServiceTest {\r\n\r\n    private RestTemplate restTemplate;\r\n    private MyService service;\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        final ShopProductsResponse response = new ShopProductsResponse();\r\n        response.setProducts(new Product[0]);\r\n\r\n        this.restTemplate = Mockito.mock(RestTemplate.class);\r\n        Mockito.when(this.restTemplate.getForObject(Mockito.anyString(), Mockito.any())).thenReturn(response);\r\n\r\n        this.service = new ServiceImpl(restTemplate);\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        final String expectation = &quot;Found 0 products&quot;;\r\n\r\n        String result = service.serve();\r\n\r\n        Mockito.verify(restTemplate, Mockito.times(1)).getForObject(\r\n                ArgumentMatchers.eq(&quot;https://api.predic8.de/shop/products/&quot;),\r\n                ArgumentMatchers.eq(ShopProductsResponse.class)\r\n        );\r\n\r\n        Assertions.assertEquals(expectation, result);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"How to test a Java/Spring service using RestTemplate without calling external API and by using Dependency Injection?","body":"<p><code>restTemplate.getForObject()</code> method has multiple set of parameters which can be invoked with:</p>\n<ul>\n<li><code>restTemplate.getForObject(String url, Class&lt;T&gt; responseType, Object... uriVariables)</code></li>\n<li><code>restTemplate.getForObject(String url, Class&lt;T&gt; responseType, Map&lt;String, ?&gt; uriVariables)</code></li>\n<li><code>restTemplate.getForObject(URI url, Class&lt;T&gt; responseType)</code></li>\n</ul>\n<p>so you have probably mocked another method call by providing the widest matchers (<code>Mockito.any()</code>). I suggest you to try mock the <code>restTemplate.getForObject()</code> method call by providing more specific matchers, like for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(restTemplate.getForObject(Mockito.anyString(), Mockito.any())).thenReturn(response);\n</code></pre>\n<p>and the test should pass successfully.</p>\n<p>Additionally, you can use just Mockito and DI to make unit tests for the the service instead of setting up the whole Spring application context (done by <code>@SpringBootTest</code> annotation). It is not necessary here and it only make the tests last much longer. Here is the alternative way to implement your test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ServiceTest {\n\n    private RestTemplate restTemplate;\n    private MyService service;\n\n    @BeforeEach\n    void init() {\n        final ShopProductsResponse response = new ShopProductsResponse();\n        response.setProducts(new Product[0]);\n\n        this.restTemplate = Mockito.mock(RestTemplate.class);\n        Mockito.when(this.restTemplate.getForObject(Mockito.anyString(), Mockito.any())).thenReturn(response);\n\n        this.service = new ServiceImpl(restTemplate);\n    }\n\n    @Test\n    void test() {\n        final String expectation = &quot;Found 0 products&quot;;\n\n        String result = service.serve();\n\n        Mockito.verify(restTemplate, Mockito.times(1)).getForObject(\n                ArgumentMatchers.eq(&quot;https://api.predic8.de/shop/products/&quot;),\n                ArgumentMatchers.eq(ShopProductsResponse.class)\n        );\n\n        Assertions.assertEquals(expectation, result);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3664935,"reputation":45,"user_id":3053661,"display_name":"rjw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70933422,"answer_count":1,"score":0,"last_activity_date":1643666975,"creation_date":1643664857,"question_id":70933085,"body_markdown":"In my Spring application, i have a service `MyService`. `MyService` calls an external API, counts the products there and returns the result. To call that API it uses the Spring module `RestTemplate`. To inject the `RestTemplate` it is configured as `@Bean` in the `DependencyConfig`:\r\n\r\n```lang-java\r\n@Service\r\npublic class ServiceImpl implements MyService {\r\n\r\n    private final RestTemplate restTemplate;\r\n\r\n    public ServiceImpl(RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n    }\r\n\r\n    @Override\r\n    public String serve() {\r\n        ShopProductsResponse result = restTemplate.getForObject(\r\n                &quot;https://api.predic8.de/shop/products/&quot;,\r\n                ShopProductsResponse.class\r\n        );\r\n\r\n        if (result == null) {\r\n            return &quot;Error occurred&quot;;\r\n        }\r\n\r\n        return String.format(&quot;Found %s products&quot;, result.getProducts().length);\r\n    }\r\n}\r\n```\r\nNow i want to test it, without calling the external API. So i inject the `MyService` via `@Autowired` and the `RestTemplate` via `@MockBean`. To define the result of `restTemplate.getForObject(...)` i use the `Mockito.when(...).thenReturn(...)` method to mock the result:\r\n```lang-java\r\n@SpringBootTest\r\nclass ServiceTest {\r\n\r\n    @MockBean\r\n    private RestTemplate restTemplate;\r\n\r\n    @Autowired\r\n    private MyService service;\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        final ShopProductsResponse response = new ShopProductsResponse();\r\n        response.setProducts(new Product[0]);\r\n\r\n        Mockito.when(restTemplate.getForObject(Mockito.any(), Mockito.any())).thenReturn(response);\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        final String expectation = &quot;Found 0 products&quot;;\r\n\r\n        String result = service.serve();\r\n\r\n        Mockito.verify(restTemplate, Mockito.times(1)).getForObject(\r\n                ArgumentMatchers.eq(&quot;https://api.predic8.de/shop/products/&quot;),\r\n                ArgumentMatchers.eq(ShopProductsResponse.class)\r\n        );\r\n\r\n        Assertions.assertEquals(expectation, result);\r\n    }\r\n\r\n}\r\n```\r\nProblem is, that the result from `restTemplate.getForObject(...)` is null, so that the test fails with the message\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :Found 0 products\r\nActual   :Error occurred\r\n```\r\nSo my question is, what am i doing wrong? I thought i am telling the mock what to return. How would i do it correct?\r\n\r\nIf someone wants to try it out i pushed the example project to Github: https://github.com/roman-wedemeier/spring_example\r\n\r\nTrying to find an answer in the net it was quite confusing to me, that there are different versions of Junit(4/5). Also somewhere i found a tutorial about mocking the service directly, which is not what i want to do. On the other hand someone explained how to mock the service&#39;s dependency but without using Spring&#39;s dependency injection.","title":"How to test a Java/Spring service using RestTemplate without calling external API and by using Dependency Injection?","body":"<p>In my Spring application, i have a service <code>MyService</code>. <code>MyService</code> calls an external API, counts the products there and returns the result. To call that API it uses the Spring module <code>RestTemplate</code>. To inject the <code>RestTemplate</code> it is configured as <code>@Bean</code> in the <code>DependencyConfig</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ServiceImpl implements MyService {\n\n    private final RestTemplate restTemplate;\n\n    public ServiceImpl(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n    @Override\n    public String serve() {\n        ShopProductsResponse result = restTemplate.getForObject(\n                &quot;https://api.predic8.de/shop/products/&quot;,\n                ShopProductsResponse.class\n        );\n\n        if (result == null) {\n            return &quot;Error occurred&quot;;\n        }\n\n        return String.format(&quot;Found %s products&quot;, result.getProducts().length);\n    }\n}\n</code></pre>\n<p>Now i want to test it, without calling the external API. So i inject the <code>MyService</code> via <code>@Autowired</code> and the <code>RestTemplate</code> via <code>@MockBean</code>. To define the result of <code>restTemplate.getForObject(...)</code> i use the <code>Mockito.when(...).thenReturn(...)</code> method to mock the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass ServiceTest {\n\n    @MockBean\n    private RestTemplate restTemplate;\n\n    @Autowired\n    private MyService service;\n\n    @BeforeEach\n    void init() {\n        final ShopProductsResponse response = new ShopProductsResponse();\n        response.setProducts(new Product[0]);\n\n        Mockito.when(restTemplate.getForObject(Mockito.any(), Mockito.any())).thenReturn(response);\n    }\n\n    @Test\n    void test() {\n        final String expectation = &quot;Found 0 products&quot;;\n\n        String result = service.serve();\n\n        Mockito.verify(restTemplate, Mockito.times(1)).getForObject(\n                ArgumentMatchers.eq(&quot;https://api.predic8.de/shop/products/&quot;),\n                ArgumentMatchers.eq(ShopProductsResponse.class)\n        );\n\n        Assertions.assertEquals(expectation, result);\n    }\n\n}\n</code></pre>\n<p>Problem is, that the result from <code>restTemplate.getForObject(...)</code> is null, so that the test fails with the message</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :Found 0 products\nActual   :Error occurred\n</code></pre>\n<p>So my question is, what am i doing wrong? I thought i am telling the mock what to return. How would i do it correct?</p>\n<p>If someone wants to try it out i pushed the example project to Github: <a href=\"https://github.com/roman-wedemeier/spring_example\" rel=\"nofollow noreferrer\">https://github.com/roman-wedemeier/spring_example</a></p>\n<p>Trying to find an answer in the net it was quite confusing to me, that there are different versions of Junit(4/5). Also somewhere i found a tutorial about mocking the service directly, which is not what i want to do. On the other hand someone explained how to mock the service's dependency but without using Spring's dependency injection.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3821889,"reputation":586,"user_id":3169795,"display_name":"chutcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643666711,"creation_date":1643666711,"answer_id":70933373,"question_id":70932380,"body_markdown":"I figured out a way to do what I was ultimately attempting to accomplish by removing the qualifiers and using inheritance.\r\n\r\n```\r\ninterface BaseFoo {\r\n  public void fooToYou();\r\n}\r\n\r\ninterface Foo1 extends BaseFoo {}\r\ninterface Foo2 extends BaseFoo {}\r\n\r\n@Profile(&quot;!dev&quot;)\r\nclass FooImpl1 implements Foo1 {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\n@Profile(&quot;!dev&quot;)\r\nclass FooImpl2 implements Foo2 {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\nclass BaseDevFooImpl implements BaseFoo {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\n@Profile(&quot;dev&quot;)\r\nclass DevFooImpl1 extends BaseDevFooImpl implements Foo1 {}\r\n\r\n@Profile(&quot;dev&quot;)\r\nclass DevFooImpl2 extends BaseDevFooImpl implements Foo2 {}\r\n\r\nclass Service1 {\r\n  @Autowired\r\n  public void Service1(Foo1 foo) {}\r\n}\r\n\r\nclass Service2 {\r\n  @Autowired\r\n  public void Service1(Foo2 foo) {}\r\n}\r\n```","title":"Spring Boot - Using Qualifiers with Profiles","body":"<p>I figured out a way to do what I was ultimately attempting to accomplish by removing the qualifiers and using inheritance.</p>\n<pre><code>interface BaseFoo {\n  public void fooToYou();\n}\n\ninterface Foo1 extends BaseFoo {}\ninterface Foo2 extends BaseFoo {}\n\n@Profile(&quot;!dev&quot;)\nclass FooImpl1 implements Foo1 {\n  @Override\n  public void fooToYou() {}\n}\n\n@Profile(&quot;!dev&quot;)\nclass FooImpl2 implements Foo2 {\n  @Override\n  public void fooToYou() {}\n}\n\nclass BaseDevFooImpl implements BaseFoo {\n  @Override\n  public void fooToYou() {}\n}\n\n@Profile(&quot;dev&quot;)\nclass DevFooImpl1 extends BaseDevFooImpl implements Foo1 {}\n\n@Profile(&quot;dev&quot;)\nclass DevFooImpl2 extends BaseDevFooImpl implements Foo2 {}\n\nclass Service1 {\n  @Autowired\n  public void Service1(Foo1 foo) {}\n}\n\nclass Service2 {\n  @Autowired\n  public void Service1(Foo2 foo) {}\n}\n</code></pre>\n"}],"owner":{"account_id":3821889,"reputation":586,"user_id":3169795,"display_name":"chutcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643666711,"creation_date":1643660639,"question_id":70932380,"body_markdown":"I have the following which uses qualifiers and the profile `dev`.  When `!dev` `Service1` will use `FooImpl1` based on the qualifier and `Service2` will use `FooImpl2`.  When the the profile is `dev` I want both services to use `FooImpl3`.  How can I accomplish that?\r\n\r\n```\r\ninterface Foo {\r\n  public void fooToYou();\r\n}\r\n\r\n@Component(&quot;fooImpl1&quot;)\r\n@Profile(&quot;!dev&quot;)\r\npublic class FooImpl1 implements Foo {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\n@Component(&quot;fooImpl2&quot;)\r\n@Profile(&quot;!dev&quot;)\r\npublic class FooImpl2 implements Foo {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\n@Component(&quot;fooImpl3&quot;)\r\n@Profile(&quot;dev&quot;)\r\npublic class FooImpl3 implements Foo {\r\n  @Override\r\n  public void fooToYou() {}\r\n}\r\n\r\npublic class Service1 {\r\n  @Autowired\r\n  public void Service1(@Qualifier(&quot;fooImpl1&quot;) Foo foo) {}\r\n}\r\n\r\npublic class Service2 {\r\n  @Autowired\r\n  public void Service1(@Qualifier(&quot;fooImpl2&quot;) Foo foo) {}\r\n}\r\n```","title":"Spring Boot - Using Qualifiers with Profiles","body":"<p>I have the following which uses qualifiers and the profile <code>dev</code>.  When <code>!dev</code> <code>Service1</code> will use <code>FooImpl1</code> based on the qualifier and <code>Service2</code> will use <code>FooImpl2</code>.  When the the profile is <code>dev</code> I want both services to use <code>FooImpl3</code>.  How can I accomplish that?</p>\n<pre><code>interface Foo {\n  public void fooToYou();\n}\n\n@Component(&quot;fooImpl1&quot;)\n@Profile(&quot;!dev&quot;)\npublic class FooImpl1 implements Foo {\n  @Override\n  public void fooToYou() {}\n}\n\n@Component(&quot;fooImpl2&quot;)\n@Profile(&quot;!dev&quot;)\npublic class FooImpl2 implements Foo {\n  @Override\n  public void fooToYou() {}\n}\n\n@Component(&quot;fooImpl3&quot;)\n@Profile(&quot;dev&quot;)\npublic class FooImpl3 implements Foo {\n  @Override\n  public void fooToYou() {}\n}\n\npublic class Service1 {\n  @Autowired\n  public void Service1(@Qualifier(&quot;fooImpl1&quot;) Foo foo) {}\n}\n\npublic class Service2 {\n  @Autowired\n  public void Service1(@Qualifier(&quot;fooImpl2&quot;) Foo foo) {}\n}\n</code></pre>\n"},{"tags":["java","multithreading","parallelstream"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":4,"creation_date":1643465439,"post_id":70849202,"comment_id":125349345,"body_markdown":"The calls to `map()` are executed sequentially. Using several calls instead of just one won&#39;t improve performance.","body":"The calls to <code>map()</code> are executed sequentially. Using several calls instead of just one won&#39;t improve performance."}],"answers":[{"tags":[],"owner":{"account_id":3921864,"reputation":748,"user_id":3243751,"display_name":"FLUXparticle"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643530881,"creation_date":1643530881,"answer_id":70913004,"question_id":70849202,"body_markdown":"I looked into the `Stream` source code. The result of a map operation is just fed into the next operation. So there is almost no difference between one big `map()` call or several small `map()` calls.\r\n\r\nAnd for the `map()` operation a parallel `Stream` makes no difference at all. Meaning each input object will be processed until the end by the same `Thread` in any case.\r\n\r\nAlso note: A parallel `Stream` only splits up the work if the operation chain allows it and there is enough data to process. So for a small `Collection` or a `Collection` that allows no random access, a parallel `Stream` behaves like a sequential `Stream`.","title":"Java ParallelStream: several map or single map","body":"<p>I looked into the <code>Stream</code> source code. The result of a map operation is just fed into the next operation. So there is almost no difference between one big <code>map()</code> call or several small <code>map()</code> calls.</p>\n<p>And for the <code>map()</code> operation a parallel <code>Stream</code> makes no difference at all. Meaning each input object will be processed until the end by the same <code>Thread</code> in any case.</p>\n<p>Also note: A parallel <code>Stream</code> only splits up the work if the operation chain allows it and there is enough data to process. So for a small <code>Collection</code> or a <code>Collection</code> that allows no random access, a parallel <code>Stream</code> behaves like a sequential <code>Stream</code>.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1643537854,"creation_date":1643537524,"answer_id":70913668,"question_id":70849202,"body_markdown":"I doubt that there is much different in performance, but even if you proved it did have quicker performance I would still prefer to see and use the first style in code I had to maintain.\r\n\r\nThe first multi-map style is easier for others to understand, it is easier to maintain and easier to debug - for example adding `peek` stages for any stage of the processing chain. \r\n\r\n    List&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\r\n        .map(gson::toJson)\r\n        // easy to make changes for debug, moving peek up/down\r\n        // .peek(System.out::println)\r\n        .map(Document::parse)\r\n        // easy to filter:\r\n        // .filter(this::somecondition)\r\n        .map(InsertOneModel::new)\r\n        .toList();\r\n\r\nIf your requirements change - such as needing to filter the output, or capture the intermediate data by splitting to 2 collections, the first approach beats second every time.\r\n","title":"Java ParallelStream: several map or single map","body":"<p>I doubt that there is much different in performance, but even if you proved it did have quicker performance I would still prefer to see and use the first style in code I had to maintain.</p>\n<p>The first multi-map style is easier for others to understand, it is easier to maintain and easier to debug - for example adding <code>peek</code> stages for any stage of the processing chain.</p>\n<pre><code>List&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\n    .map(gson::toJson)\n    // easy to make changes for debug, moving peek up/down\n    // .peek(System.out::println)\n    .map(Document::parse)\n    // easy to filter:\n    // .filter(this::somecondition)\n    .map(InsertOneModel::new)\n    .toList();\n</code></pre>\n<p>If your requirements change - such as needing to filter the output, or capture the intermediate data by splitting to 2 collections, the first approach beats second every time.</p>\n"},{"tags":[],"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643569618,"creation_date":1643569618,"answer_id":70917981,"question_id":70849202,"body_markdown":"I don&#39;t think it will do any better if you chain it with multiple maps. In case your code is not very complex I would prefer to use a **single big map**. &lt;br/&gt;\r\nTo understand this we have to check the code inside the `map` function. [link][1] \r\n\r\n    public final &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super P_OUT, ? extends R&gt; mapper) {\r\n        Objects.requireNonNull(mapper);\r\n        return new StatelessOp&lt;P_OUT, R&gt;(this, StreamShape.REFERENCE,\r\n                                     StreamOpFlag.NOT_SORTED | StreamOpFlag.NOT_DISTINCT) {\r\n            @Override\r\n            Sink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;R&gt; sink) {\r\n                return new Sink.ChainedReference&lt;P_OUT, R&gt;(sink) {\r\n                    @Override\r\n                    public void accept(P_OUT u) {\r\n                        downstream.accept(mapper.apply(u));\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\nAs you can see a lot many things happen behind the scenes. Multiple objects are created and multiple methods are called. Hence, for each chained `map` function call all these are repeated.\r\n\r\nNow coming back to `ParallelStreams`, they work on the concept of [Parallelism][2] .&lt;br/&gt;\r\n[Streams Documentation][3]\r\n\r\n[![enter image description here][4]][4]\r\n&lt;br/&gt;\r\nA parallel stream is a stream that splits its elements into multiple chunks, processing each chunk with a different thread. Thus, you can automatically partition the workload of a given operation on all the cores of your multicore processor and keep all of them equally busy. \r\n\r\n`Parallel` streams internally use the default `ForkJoinPool`, which by default has as many threads as you have processors, as returned by `Runtime.getRuntime().availableProcessors()`. But you can change the size of this pool using the system property `java.util.concurrent.ForkJoinPool.common.parallelism.`&lt;br/&gt;\r\n\r\n`ParallelStream` calls spliterator() on the collection object which returns a [Spliterator][5] implementation that provides the logic of splitting a task. Every source or collection has their own spliterator implementations. Using these spliterators, parallel stream splits the task as long as possible and finally when the task becomes too small it executes it sequentially and merges partial results from all the sub tasks.\r\n\r\nSo I would prefer `parallelStream` when \r\n\r\n - I have huge amount of data to process at a time\r\n - I have multiple cores to process the data\r\n - Performance issues with the existing implementation\r\n - I already don&#39;t have multiple threaded process running, as it will add to the complexity.\r\n\r\nPerformance Implications\r\n\r\n - *Overhead* : Sometimes when dataset is small converting a sequential stream into a parallel one results in worse performance. The overhead of managing `threads`, sources and results is a more expensive operation than doing the actual work.\r\n - *Splitting*: `Arrays` can split cheaply and evenly, while `LinkedList` has none of these properties. `TreeMap` and `HashSet` split better than `LinkedList` but not as well as arrays.\r\n - *Merging*:The merge operation is really cheap for some operations, such as reduction and addition, but merge operations like grouping to sets or maps can be quite expensive.\r\n\r\nConclusion: A large amount of data and many computations done per element indicate that parallelism could be a good option.\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/stream/ReferencePipeline.java#L186\r\n  [2]: https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\r\n  [3]: https://cr.openjdk.java.net/~iris/se/12/latestSpec/api/java.base/java/util/stream/package-summary.html\r\n  [4]: https://i.stack.imgur.com/LhSzm.png\r\n  [5]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/Collection.java#L691","title":"Java ParallelStream: several map or single map","body":"<p>I don't think it will do any better if you chain it with multiple maps. In case your code is not very complex I would prefer to use a <strong>single big map</strong>. <br/>\nTo understand this we have to check the code inside the <code>map</code> function. <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/stream/ReferencePipeline.java#L186\" rel=\"nofollow noreferrer\">link</a></p>\n<pre><code>public final &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super P_OUT, ? extends R&gt; mapper) {\n    Objects.requireNonNull(mapper);\n    return new StatelessOp&lt;P_OUT, R&gt;(this, StreamShape.REFERENCE,\n                                 StreamOpFlag.NOT_SORTED | StreamOpFlag.NOT_DISTINCT) {\n        @Override\n        Sink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;R&gt; sink) {\n            return new Sink.ChainedReference&lt;P_OUT, R&gt;(sink) {\n                @Override\n                public void accept(P_OUT u) {\n                    downstream.accept(mapper.apply(u));\n                }\n            };\n        }\n    };\n}\n</code></pre>\n<p>As you can see a lot many things happen behind the scenes. Multiple objects are created and multiple methods are called. Hence, for each chained <code>map</code> function call all these are repeated.</p>\n<p>Now coming back to <code>ParallelStreams</code>, they work on the concept of <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\" rel=\"nofollow noreferrer\">Parallelism</a> .<br/>\n<a href=\"https://cr.openjdk.java.net/%7Eiris/se/12/latestSpec/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Streams Documentation</a></p>\n<p><a href=\"https://i.stack.imgur.com/LhSzm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LhSzm.png\" alt=\"enter image description here\" /></a>\n<br/>\nA parallel stream is a stream that splits its elements into multiple chunks, processing each chunk with a different thread. Thus, you can automatically partition the workload of a given operation on all the cores of your multicore processor and keep all of them equally busy.</p>\n<p><code>Parallel</code> streams internally use the default <code>ForkJoinPool</code>, which by default has as many threads as you have processors, as returned by <code>Runtime.getRuntime().availableProcessors()</code>. But you can change the size of this pool using the system property <code>java.util.concurrent.ForkJoinPool.common.parallelism.</code><br/></p>\n<p><code>ParallelStream</code> calls spliterator() on the collection object which returns a <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/Collection.java#L691\" rel=\"nofollow noreferrer\">Spliterator</a> implementation that provides the logic of splitting a task. Every source or collection has their own spliterator implementations. Using these spliterators, parallel stream splits the task as long as possible and finally when the task becomes too small it executes it sequentially and merges partial results from all the sub tasks.</p>\n<p>So I would prefer <code>parallelStream</code> when</p>\n<ul>\n<li>I have huge amount of data to process at a time</li>\n<li>I have multiple cores to process the data</li>\n<li>Performance issues with the existing implementation</li>\n<li>I already don't have multiple threaded process running, as it will add to the complexity.</li>\n</ul>\n<p>Performance Implications</p>\n<ul>\n<li><em>Overhead</em> : Sometimes when dataset is small converting a sequential stream into a parallel one results in worse performance. The overhead of managing <code>threads</code>, sources and results is a more expensive operation than doing the actual work.</li>\n<li><em>Splitting</em>: <code>Arrays</code> can split cheaply and evenly, while <code>LinkedList</code> has none of these properties. <code>TreeMap</code> and <code>HashSet</code> split better than <code>LinkedList</code> but not as well as arrays.</li>\n<li><em>Merging</em>:The merge operation is really cheap for some operations, such as reduction and addition, but merge operations like grouping to sets or maps can be quite expensive.</li>\n</ul>\n<p>Conclusion: A large amount of data and many computations done per element indicate that parallelism could be a good option.</p>\n"},{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643666637,"creation_date":1643665884,"answer_id":70933231,"question_id":70849202,"body_markdown":"The three steps (toJson/parse/new) have to be executed sequentially, so all you&#39;re effectively doing is comparing `s.map(g.compose(f))` and `s.map(f).map(g)`. By virtue of being a monad, Java Streams are functors, and the 2nd functor law states that, in essence, `s.map(g.compose(f)) == s.map(f).map(g)`, meaning that the two alternative ways of expressing the computation will produce identical results. From a performance standpoint the difference between the two is likely to be minimal.\r\n\r\nHowever, in general you should be careful using `Collection.parallelStream`. It uses the *[common forkJoinPool][1]*, essentially a fixed pool of threads shared across the entire JVM. The size of the pool is determined by the number of cores on the host. The problem with using the common pool is that other threads in the same process may also be using it at the same time as your code. This can lead to your code randomly and inexplicably slowing down - if another part of the code has temporarily exhausted the common thread pool, for example.\r\n\r\nMore preferable is to create your own ExecutorService by using one of the creator methods on Executors, and then submit your tasks to that.\r\n\r\n    private static final ExecutorService EX_SVC = Executors.newFixedThreadPool(16);\r\n    \r\n    public static List&lt;InsertOneModel&lt;Document&gt;&gt; process(Stream&lt;Puzzle&gt; puzzles) throws InterruptedException {\r\n        final Collection&lt;Callable&lt;InsertOneModel&lt;Document&gt;&gt;&gt; callables =\r\n                puzzles.map(puzzle -&gt;\r\n                        (Callable&lt;InsertOneModel&lt;Document&gt;&gt;)\r\n                                () -&gt; new InsertOneModel&lt;&gt;(Document.parse(gson.toJson(puzzle)))\r\n                ).collect(Collectors.toList());\r\n\r\n        return EX_SVC.invokeAll(callables).stream()\r\n                .map(fut -&gt; {\r\n                    try {\r\n                        return fut.get();\r\n                    } catch (ExecutionException|InterruptedException ex) {\r\n                        throw new RuntimeException(ex);\r\n                    }\r\n                }).collect(Collectors.toList());\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#commonPool--","title":"Java ParallelStream: several map or single map","body":"<p>The three steps (toJson/parse/new) have to be executed sequentially, so all you're effectively doing is comparing <code>s.map(g.compose(f))</code> and <code>s.map(f).map(g)</code>. By virtue of being a monad, Java Streams are functors, and the 2nd functor law states that, in essence, <code>s.map(g.compose(f)) == s.map(f).map(g)</code>, meaning that the two alternative ways of expressing the computation will produce identical results. From a performance standpoint the difference between the two is likely to be minimal.</p>\n<p>However, in general you should be careful using <code>Collection.parallelStream</code>. It uses the <em><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#commonPool--\" rel=\"nofollow noreferrer\">common forkJoinPool</a></em>, essentially a fixed pool of threads shared across the entire JVM. The size of the pool is determined by the number of cores on the host. The problem with using the common pool is that other threads in the same process may also be using it at the same time as your code. This can lead to your code randomly and inexplicably slowing down - if another part of the code has temporarily exhausted the common thread pool, for example.</p>\n<p>More preferable is to create your own ExecutorService by using one of the creator methods on Executors, and then submit your tasks to that.</p>\n<pre><code>private static final ExecutorService EX_SVC = Executors.newFixedThreadPool(16);\n\npublic static List&lt;InsertOneModel&lt;Document&gt;&gt; process(Stream&lt;Puzzle&gt; puzzles) throws InterruptedException {\n    final Collection&lt;Callable&lt;InsertOneModel&lt;Document&gt;&gt;&gt; callables =\n            puzzles.map(puzzle -&gt;\n                    (Callable&lt;InsertOneModel&lt;Document&gt;&gt;)\n                            () -&gt; new InsertOneModel&lt;&gt;(Document.parse(gson.toJson(puzzle)))\n            ).collect(Collectors.toList());\n\n    return EX_SVC.invokeAll(callables).stream()\n            .map(fut -&gt; {\n                try {\n                    return fut.get();\n                } catch (ExecutionException|InterruptedException ex) {\n                    throw new RuntimeException(ex);\n                }\n            }).collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1743,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70917981,"answer_count":4,"score":3,"last_activity_date":1643666637,"creation_date":1643116249,"question_id":70849202,"body_markdown":"## Introduction\r\nI&#39;m currently developing a program in which I use `Java.util.Collection.parallelStream()`, and wondering if it&#39;s possible to make it more Multi-threaded.\r\n\r\n## Several small map\r\nI was wondering if using multiple `map` might allow the `Java.util.Collection.parallelStream()` to distribute the tasks better:\r\n\r\n```java\r\nList&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\r\n        .map(gson::toJson)\r\n        .map(Document::parse)\r\n        .map(InsertOneModel::new)\r\n        .toList();\r\n```\r\n\r\n## Single big map\r\n\r\nFor example a better distribution than:\r\n\r\n```java\r\nList&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\r\n        .map(puzzle -&gt; new InsertOneModel&lt;&gt;(Document.parse(gson.toJson(puzzle))))\r\n        .toList();\r\n```\r\n\r\n## Question\r\nIs there one of the solutions that is more suitable for `Java.util.Collection.parallelStream()`, or the two have no big difference?\r\n ","title":"Java ParallelStream: several map or single map","body":"<h2>Introduction</h2>\n<p>I'm currently developing a program in which I use <code>Java.util.Collection.parallelStream()</code>, and wondering if it's possible to make it more Multi-threaded.</p>\n<h2>Several small map</h2>\n<p>I was wondering if using multiple <code>map</code> might allow the <code>Java.util.Collection.parallelStream()</code> to distribute the tasks better:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\n        .map(gson::toJson)\n        .map(Document::parse)\n        .map(InsertOneModel::new)\n        .toList();\n</code></pre>\n<h2>Single big map</h2>\n<p>For example a better distribution than:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;InsertOneModel&lt;Document&gt;&gt; bulkWrites = puzzles.parallelStream()\n        .map(puzzle -&gt; new InsertOneModel&lt;&gt;(Document.parse(gson.toJson(puzzle))))\n        .toList();\n</code></pre>\n<h2>Question</h2>\n<p>Is there one of the solutions that is more suitable for <code>Java.util.Collection.parallelStream()</code>, or the two have no big difference?</p>\n"},{"tags":["java","android","android-studio","methods","android-recyclerview"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1643668851,"post_id":70933347,"comment_id":125397742,"body_markdown":"I think `storeDataInArrays()` retrieves all the old contacts and stores them in the original `ArrayList`s which already contained those contacts, causing duplicates. Try emptying the `arraysList`s before you call `storeDataInArrays()`.","body":"I think <code>storeDataInArrays()</code> retrieves all the old contacts and stores them in the original <code>ArrayList</code>s which already contained those contacts, causing duplicates. Try emptying the <code>arraysList</code>s before you call <code>storeDataInArrays()</code>."},{"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"score":0,"creation_date":1643669390,"post_id":70933347,"comment_id":125397857,"body_markdown":"It worked !\nby using `Contact_id.clear(); , Contact_Name.clear(); and Contact_Number.clear();` it seems to work perfectly.\nThank you so so much ^-^","body":"It worked ! by using <code>Contact_id.clear(); , Contact_Name.clear(); and Contact_Number.clear();</code> it seems to work perfectly. Thank you so so much ^-^"}],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643666522,"creation_date":1643666522,"question_id":70933347,"body_markdown":"sing the dialogfragment to get the user input, while I am capable of updating the mainactivity using the `((MainActivity)getActivity()).storeDataInArrays();` command (This is in order to refresh the recyclerview to display the newly added contact). \r\n\r\nHowever now there seems to be this new issue cropping up where only temporarily, instead of only showing the newly updated contact, it shows adds all of the previous contacts as well.Until I exit and enter the Mainactivity.\r\nThis is a demonstration of what&#39;s happening.\r\n\r\n[![Recycler view duplicating previous entires][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pq4Pd.gif\r\n\r\nThis is the Mainactivity \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    //widgets\r\n    public ImageButton eAddContact;\r\n    RecyclerView recyclerView;\r\n\r\n    DatabaseHelper myDB;\r\n    ArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\r\n    CustomAdapter customAdapter;\r\n    Button btnEnterContact;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        eAddContact = findViewById(R.id.btnAddContact);\r\n        eAddContact.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, &quot;onClick:opening dialog&quot;);\r\n                Dialog_AddContact dialog = new Dialog_AddContact();\r\n                dialog.show(getSupportFragmentManager(), &quot;Add Contact Dialog&quot;);\r\n            }\r\n        });\r\n        //Toast.makeText(getApplicationContext(),&quot;@#&quot;,Toast.LENGTH_SHORT).show();\r\n        myDB = new DatabaseHelper(MainActivity.this);\r\n        Contact_id = new ArrayList&lt;&gt;();\r\n        Contact_Name = new ArrayList&lt;&gt;();\r\n        Contact_Number = new ArrayList&lt;&gt;();\r\n        recyclerView = findViewById(R.id.RecyclerView);\r\n        customAdapter = new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number);\r\n        storeDataInArrays();\r\n        recyclerView.setAdapter(customAdapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\r\n    }\r\n\r\n    void storeDataInArrays() {\r\n        Cursor cursor = myDB.getEveryone();\r\n        if (cursor.getCount() == 0) {\r\n            //Add blank page\r\n        } else {\r\n            while (cursor.moveToNext()) {\r\n                Contact_id.add(cursor.getString(0));\r\n                Contact_Name.add(cursor.getString(1));\r\n                Contact_Number.add(cursor.getString(2));\r\n            }\r\n        }\r\n        customAdapter.notifyDataSetChanged();\r\n    }\r\n    }\r\n\r\nand This is the dialogfragment&#39;s enter contact button where I call the Mainactivity fuction\r\n\r\n            btnEnterContact.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ContactInfo ContactInfo;\r\n                try {\r\n                    Log.d(TAG, &quot;onClick: Entering Contact&quot;);\r\n                    ContactInfo = new ContactInfo(-1,etName.getText().toString(),etPhonenumber.getText().toString());\r\n                    Toast.makeText(getContext(),ContactInfo.toString(),Toast.LENGTH_SHORT).show();\r\n                }\r\n                catch (Exception e) {\r\n                    Toast.makeText(getContext(),&quot;Error Creating Contact&quot;,Toast.LENGTH_SHORT).show();\r\n                    ContactInfo = new ContactInfo(-1,&quot;error&quot;,&quot;0&quot;);\r\n                }\r\n                DatabaseHelper databaseHelper = new DatabaseHelper(getContext());\r\n                boolean success = databaseHelper.addOne(ContactInfo);\r\n                Toast.makeText(getContext(),&quot;Success=&quot;+success,Toast.LENGTH_SHORT).show();\r\n                ((MainActivity)getActivity()).storeDataInArrays();\r\n                getDialog().dismiss();\r\n            }\r\n        });\r\n\r\nI would really appreciate any help in figuring out how to solve this.","title":"Cardview Items in Recyclerview temporarily duplicating previous entries when adding new data","body":"<p>sing the dialogfragment to get the user input, while I am capable of updating the mainactivity using the <code>((MainActivity)getActivity()).storeDataInArrays();</code> command (This is in order to refresh the recyclerview to display the newly added contact).</p>\n<p>However now there seems to be this new issue cropping up where only temporarily, instead of only showing the newly updated contact, it shows adds all of the previous contacts as well.Until I exit and enter the Mainactivity.\nThis is a demonstration of what's happening.</p>\n<p><a href=\"https://i.stack.imgur.com/Pq4Pd.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pq4Pd.gif\" alt=\"Recycler view duplicating previous entires\" /></a></p>\n<p>This is the Mainactivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate static final String TAG = &quot;MainActivity&quot;;\n//widgets\npublic ImageButton eAddContact;\nRecyclerView recyclerView;\n\nDatabaseHelper myDB;\nArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\nCustomAdapter customAdapter;\nButton btnEnterContact;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    eAddContact = findViewById(R.id.btnAddContact);\n    eAddContact.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Log.d(TAG, &quot;onClick:opening dialog&quot;);\n            Dialog_AddContact dialog = new Dialog_AddContact();\n            dialog.show(getSupportFragmentManager(), &quot;Add Contact Dialog&quot;);\n        }\n    });\n    //Toast.makeText(getApplicationContext(),&quot;@#&quot;,Toast.LENGTH_SHORT).show();\n    myDB = new DatabaseHelper(MainActivity.this);\n    Contact_id = new ArrayList&lt;&gt;();\n    Contact_Name = new ArrayList&lt;&gt;();\n    Contact_Number = new ArrayList&lt;&gt;();\n    recyclerView = findViewById(R.id.RecyclerView);\n    customAdapter = new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number);\n    storeDataInArrays();\n    recyclerView.setAdapter(customAdapter);\n    recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\n}\n\nvoid storeDataInArrays() {\n    Cursor cursor = myDB.getEveryone();\n    if (cursor.getCount() == 0) {\n        //Add blank page\n    } else {\n        while (cursor.moveToNext()) {\n            Contact_id.add(cursor.getString(0));\n            Contact_Name.add(cursor.getString(1));\n            Contact_Number.add(cursor.getString(2));\n        }\n    }\n    customAdapter.notifyDataSetChanged();\n}\n}\n</code></pre>\n<p>and This is the dialogfragment's enter contact button where I call the Mainactivity fuction</p>\n<pre><code>        btnEnterContact.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            ContactInfo ContactInfo;\n            try {\n                Log.d(TAG, &quot;onClick: Entering Contact&quot;);\n                ContactInfo = new ContactInfo(-1,etName.getText().toString(),etPhonenumber.getText().toString());\n                Toast.makeText(getContext(),ContactInfo.toString(),Toast.LENGTH_SHORT).show();\n            }\n            catch (Exception e) {\n                Toast.makeText(getContext(),&quot;Error Creating Contact&quot;,Toast.LENGTH_SHORT).show();\n                ContactInfo = new ContactInfo(-1,&quot;error&quot;,&quot;0&quot;);\n            }\n            DatabaseHelper databaseHelper = new DatabaseHelper(getContext());\n            boolean success = databaseHelper.addOne(ContactInfo);\n            Toast.makeText(getContext(),&quot;Success=&quot;+success,Toast.LENGTH_SHORT).show();\n            ((MainActivity)getActivity()).storeDataInArrays();\n            getDialog().dismiss();\n        }\n    });\n</code></pre>\n<p>I would really appreciate any help in figuring out how to solve this.</p>\n"},{"tags":["java","swing","popup","actionlistener","notepad"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643664633,"post_id":70932941,"comment_id":125396552,"body_markdown":"So, you seem to misunderstand difference between a &quot;constructor&quot; and a &quot;method&quot;.  `new PopupFileName()` isn&#39;t going to call the classes `main` method, in fact, you&#39;re going to have a hard time with that at all.  Start by getting rid of the reliance on `static`","body":"So, you seem to misunderstand difference between a &quot;constructor&quot; and a &quot;method&quot;.  <code>new PopupFileName()</code> isn&#39;t going to call the classes <code>main</code> method, in fact, you&#39;re going to have a hard time with that at all.  Start by getting rid of the reliance on <code>static</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1643665036,"post_id":70932941,"comment_id":125396656,"body_markdown":"If you are trying to prompt the user for data then use a `JOptionPane`. See [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) for more information and examples to get you started.","body":"If you are trying to prompt the user for data then use a <code>JOptionPane</code>. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> for more information and examples to get you started."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643681689,"post_id":70932941,"comment_id":125399913,"body_markdown":"(1-) *I could not completely understand the way to do it,* - what part of the tutorial did you not understand? They are complete working example. We are not mind readers. If you have a problem with the code in the tutorial then ask a specific question.","body":"(1-) <i>I could not completely understand the way to do it,</i> - what part of the tutorial did you not understand? They are complete working example. We are not mind readers. If you have a problem with the code in the tutorial then ask a specific question."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643666371,"creation_date":1643666371,"answer_id":70933318,"question_id":70932941,"body_markdown":"Start by taking a look at:\r\n\r\n* [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/)\r\n* [How to Write an Action Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html)\r\n* [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)\r\n* [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html)\r\n* [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html)\r\nYou&#39;re running in an event driven environment, this means, something happens and then you respond to it.  \r\n\r\nThe problem with your `ActionListener` is, it&#39;s trying to present a window and then, immediately, trying to get some result from it.  The problem is, the window probably isn&#39;t even present on the screen yet.\r\n\r\nWhat you need is some way to &quot;stop&quot; the code execution until after the user responds.  This is where a modal dialog comes in.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n\r\n    class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                JButton btn = new JButton(&quot;Test&quot;);\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        String title = PopupFileName.getTitle(TestPane.this);\r\n                        System.out.println(title);\r\n                    }\r\n                });\r\n                add(btn);\r\n            }\r\n\r\n        }\r\n\r\n        public static class PopupFileName extends JPanel {\r\n\r\n            private JLabel titlel = new JLabel(&quot;Title:&quot;);\r\n            private JTextArea title = new JTextArea(20, 40);\r\n\r\n            public PopupFileName() {\r\n                setLayout(new BorderLayout());\r\n                add(titlel, BorderLayout.NORTH);\r\n                add(new JScrollPane(title));\r\n            }\r\n\r\n            public String getTitle() {\r\n                return title.getText();\r\n            }\r\n\r\n            public static String getTitle(Component parent) {\r\n                PopupFileName popupFileName = new PopupFileName();\r\n                int response = JOptionPane.showConfirmDialog(parent, popupFileName, &quot;Title&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\r\n                switch (response) {\r\n                    case JOptionPane.OK_OPTION:\r\n                        return popupFileName.getTitle();\r\n                    default: return null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Swing window not opening","body":"<p>Start by taking a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">How to Write an Action Listener</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a>\nYou're running in an event driven environment, this means, something happens and then you respond to it.</li>\n</ul>\n<p>The problem with your <code>ActionListener</code> is, it's trying to present a window and then, immediately, trying to get some result from it.  The problem is, the window probably isn't even present on the screen yet.</p>\n<p>What you need is some way to &quot;stop&quot; the code execution until after the user responds.  This is where a modal dialog comes in.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\nclass Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            JButton btn = new JButton(&quot;Test&quot;);\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    String title = PopupFileName.getTitle(TestPane.this);\n                    System.out.println(title);\n                }\n            });\n            add(btn);\n        }\n\n    }\n\n    public static class PopupFileName extends JPanel {\n\n        private JLabel titlel = new JLabel(&quot;Title:&quot;);\n        private JTextArea title = new JTextArea(20, 40);\n\n        public PopupFileName() {\n            setLayout(new BorderLayout());\n            add(titlel, BorderLayout.NORTH);\n            add(new JScrollPane(title));\n        }\n\n        public String getTitle() {\n            return title.getText();\n        }\n\n        public static String getTitle(Component parent) {\n            PopupFileName popupFileName = new PopupFileName();\n            int response = JOptionPane.showConfirmDialog(parent, popupFileName, &quot;Title&quot;, JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE);\n            switch (response) {\n                case JOptionPane.OK_OPTION:\n                    return popupFileName.getTitle();\n                default: return null;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23827242,"reputation":7,"user_id":17834099,"display_name":"GrowingDevil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643666371,"creation_date":1643663875,"question_id":70932941,"body_markdown":"I am creating a NotePad app in Java Swing but when I am trying to open a popup to set a title, it is not showing up.\r\nThe class that calls the popup:\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class NewFile implements ActionListener{\r\n\r\n  public static String title;\r\n  \r\n  \r\n  \r\n  public void actionPerformed(ActionEvent e){\r\n\r\n    PopupFileName popup = new PopupFileName();\r\n\r\n    \r\n    /*try{\r\n      Thread.sleep(30000);\r\n    }catch (InterruptedException o){\r\n      o.printStackTrace();\r\n    }*/\r\n    JTextArea titl = popup.title;\r\n    title = titl.getText();\r\n    try{\r\n      File writer = new File(title+&quot;.txt&quot;);\r\n      if(writer.createNewFile()){\r\n        System.out.println(&quot;file created&quot;);\r\n      }else{\r\n        System.out.println(&quot;file exists&quot;);\r\n      }\r\n    }catch (IOException i) {\r\n      System.out.println(&quot;An error occurred.&quot;);\r\n      i.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\nThe popup class that is supposed to open:\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class PopupFileName{\r\n\r\n  static JFrame popup = new JFrame(&quot;File Title&quot;);\r\n  static JLabel titlel = new JLabel(&quot;Title:&quot;);\r\n  static public JTextArea title = new JTextArea();\r\n  \r\n  public static void main(String[] args){\r\n\r\n    popup.setSize(200,300);\r\n    popup.setVisible(true);\r\n    popup.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n    popup.add(titlel);\r\n    popup.add(title);\r\n  }\r\n}\r\n```\r\nIs there any way I can make it visible and make it able to get the text before it is created?","title":"Swing window not opening","body":"<p>I am creating a NotePad app in Java Swing but when I am trying to open a popup to set a title, it is not showing up.\nThe class that calls the popup:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class NewFile implements ActionListener{\n\n  public static String title;\n  \n  \n  \n  public void actionPerformed(ActionEvent e){\n\n    PopupFileName popup = new PopupFileName();\n\n    \n    /*try{\n      Thread.sleep(30000);\n    }catch (InterruptedException o){\n      o.printStackTrace();\n    }*/\n    JTextArea titl = popup.title;\n    title = titl.getText();\n    try{\n      File writer = new File(title+&quot;.txt&quot;);\n      if(writer.createNewFile()){\n        System.out.println(&quot;file created&quot;);\n      }else{\n        System.out.println(&quot;file exists&quot;);\n      }\n    }catch (IOException i) {\n      System.out.println(&quot;An error occurred.&quot;);\n      i.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>The popup class that is supposed to open:</p>\n<pre><code>import javax.swing.*;\n\npublic class PopupFileName{\n\n  static JFrame popup = new JFrame(&quot;File Title&quot;);\n  static JLabel titlel = new JLabel(&quot;Title:&quot;);\n  static public JTextArea title = new JTextArea();\n  \n  public static void main(String[] args){\n\n    popup.setSize(200,300);\n    popup.setVisible(true);\n    popup.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    popup.add(titlel);\n    popup.add(title);\n  }\n}\n</code></pre>\n<p>Is there any way I can make it visible and make it able to get the text before it is created?</p>\n"},{"tags":["java","apache-camel","camel-spring-dsl"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643630938,"creation_date":1643630938,"answer_id":70925736,"question_id":70925735,"body_markdown":"I had to use `groovy` instead of `simple` for doing that.\r\n\r\n    &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;groovy&gt;\r\n    \t request.headers.get(&#39;timestampPart2&#39;).split(&quot;\\\\.&quot;)[0]\r\n    \t &lt;/groovy&gt;&lt;/setHeader&gt;","title":"Is it possible to call the header value as a parameter for the method applied to the same object in simple interpreter, Spring DSL for Apache Camel?","body":"<p>I had to use <code>groovy</code> instead of <code>simple</code> for doing that.</p>\n<pre><code>&lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;groovy&gt;\n     request.headers.get('timestampPart2').split(&quot;\\\\.&quot;)[0]\n     &lt;/groovy&gt;&lt;/setHeader&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24114815,"reputation":36,"user_id":18084874,"display_name":"techtheist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643666262,"creation_date":1643666262,"answer_id":70933296,"question_id":70925735,"body_markdown":"You can increment and decrement with simple, so...\r\n\r\nI wouldn&#39;t recommend, but for example:\r\n\r\n    &lt;setHeader headerName=&quot;timestampPart2_1&quot;&gt;\r\n        &lt;simple&gt;${header.timestampPart2.length()}--&lt;/simple&gt;\r\n    &lt;/setHeader&gt;\r\n    \r\n    &lt;setHeader headerName=&quot;timestampPart2_1&quot;&gt;\r\n        &lt;simple&gt;${header.timestampPart2_1}--&lt;/simple&gt;\r\n    &lt;/setHeader&gt;\r\n    \r\n    &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;\r\n        &lt;simple&gt;${header.timestampPart2.substring(0, ${header.timestampPart2_1})}&lt;/simple&gt;\r\n    &lt;/setHeader&gt;","title":"Is it possible to call the header value as a parameter for the method applied to the same object in simple interpreter, Spring DSL for Apache Camel?","body":"<p>You can increment and decrement with simple, so...</p>\n<p>I wouldn't recommend, but for example:</p>\n<pre><code>&lt;setHeader headerName=&quot;timestampPart2_1&quot;&gt;\n    &lt;simple&gt;${header.timestampPart2.length()}--&lt;/simple&gt;\n&lt;/setHeader&gt;\n\n&lt;setHeader headerName=&quot;timestampPart2_1&quot;&gt;\n    &lt;simple&gt;${header.timestampPart2_1}--&lt;/simple&gt;\n&lt;/setHeader&gt;\n\n&lt;setHeader headerName=&quot;timestampPart3&quot;&gt;\n    &lt;simple&gt;${header.timestampPart2.substring(0, ${header.timestampPart2_1})}&lt;/simple&gt;\n&lt;/setHeader&gt;\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70933296,"answer_count":2,"score":-1,"last_activity_date":1643666262,"creation_date":1643630938,"question_id":70925735,"body_markdown":"Is it possible to call something like this in Apache Camel&#39;s Spring DSL\r\n\r\n\t &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.substring(0, ${header.timestampPart2.length()} - 2)}&lt;/simple&gt;&lt;/setHeader&gt;\r\n\r\nor like this\r\n\r\n\t &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.substring(0, header.timestampPart2.length() - 2)}&lt;/simple&gt;&lt;/setHeader&gt;\r\n\r\n\r\nFor the second attempt it identifies `.length() - 2` as a single method name call","title":"Is it possible to call the header value as a parameter for the method applied to the same object in simple interpreter, Spring DSL for Apache Camel?","body":"<p>Is it possible to call something like this in Apache Camel's Spring DSL</p>\n<pre><code> &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.substring(0, ${header.timestampPart2.length()} - 2)}&lt;/simple&gt;&lt;/setHeader&gt;\n</code></pre>\n<p>or like this</p>\n<pre><code> &lt;setHeader headerName=&quot;timestampPart3&quot;&gt;&lt;simple&gt;${header.timestampPart2.substring(0, header.timestampPart2.length() - 2)}&lt;/simple&gt;&lt;/setHeader&gt;\n</code></pre>\n<p>For the second attempt it identifies <code>.length() - 2</code> as a single method name call</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643666141,"creation_date":1643666141,"answer_id":70933276,"question_id":70558564,"body_markdown":"what you can do here is a variation of binary search.\r\n\r\nHere is the algorithm (maybe it has minor mistakes but this is the general idea):\r\n\r\n\r\n```\r\nFor matrix a of size n x n, and searched value s:\r\n\r\nevenIteration = true //as in even/odd\r\nstartX, startY = 0\r\nendX, endY = n\r\n\r\nwhile(endX &gt;= startX &amp;&amp; endY &gt;= startY):\r\n\r\n\r\nmiddleY = ((endY + startY)/2)\r\nmiddleX = ((endX + startX)/2)\r\n\r\nif evenIteration:\r\n  i = middleY - 1\r\n  j = middleX\r\nElse:\r\n  i = endY - 1\r\n  j = startX\r\n\r\ncandidate = a[i][j]\r\n\r\nif s  == candidate:\r\n  Return i,j // We found the searched value!\r\n\r\nif s &lt; candidate:\r\n  if evenIteration:\r\n    endY = middleY\r\n  else:\r\n    endX = middleX\r\nelse:\r\n  if evenIteration:\r\n    startY = middleY\r\n  else:\r\n    startX = middleX\r\n\r\nevenIteration = !evenIteration\r\n```\r\n\r\nTry understanding the logic behind this, and implement this in code.\r\nWrite unit tests and debug the code. this would help you understand the algorithm better.\r\n\r\nLet me know in the comments if you need further explanation ","title":"Search for an element in a circular sorted 2d matrix","body":"<p>what you can do here is a variation of binary search.</p>\n<p>Here is the algorithm (maybe it has minor mistakes but this is the general idea):</p>\n<pre><code>For matrix a of size n x n, and searched value s:\n\nevenIteration = true //as in even/odd\nstartX, startY = 0\nendX, endY = n\n\nwhile(endX &gt;= startX &amp;&amp; endY &gt;= startY):\n\n\nmiddleY = ((endY + startY)/2)\nmiddleX = ((endX + startX)/2)\n\nif evenIteration:\n  i = middleY - 1\n  j = middleX\nElse:\n  i = endY - 1\n  j = startX\n\ncandidate = a[i][j]\n\nif s  == candidate:\n  Return i,j // We found the searched value!\n\nif s &lt; candidate:\n  if evenIteration:\n    endY = middleY\n  else:\n    endX = middleX\nelse:\n  if evenIteration:\n    startY = middleY\n  else:\n    startX = middleX\n\nevenIteration = !evenIteration\n</code></pre>\n<p>Try understanding the logic behind this, and implement this in code.\nWrite unit tests and debug the code. this would help you understand the algorithm better.</p>\n<p>Let me know in the comments if you need further explanation</p>\n"}],"owner":{"account_id":13296923,"reputation":59,"user_id":9599607,"display_name":"Sheilem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643666141,"creation_date":1641147424,"question_id":70558564,"body_markdown":"I was given a question in my class that I just can&#39;t get my head around it.\r\nI&#39;ve been trying for days and can&#39;t think of a logic that works 100% \r\n\r\n**The question is: Search for an element in a circular sorted 2d matrix, example below:**\r\n[![circular sorted 2d matrix][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/59zeU.png\r\n\r\nWe were asked to do it with the best complexity available.\r\nI&#39;ve figured out that the rows are sorted by size, But this theory failed.\r\n\r\nI&#39;ve figured if I&#39;ll find the middle element, I could move the pointer accordingly, but it makes no sense.\r\n\r\nI was thinking that maybe I should find each quadrant&#39;s start index and last index, and search inside, but I don&#39;t know how to do that with a 2d array\r\n\r\nHere&#39;s my piece of code that I crafted so far (It&#39;s useless)\r\n\r\n     public static boolean search (int [][] mat, int num) {\r\n        int midRowIndex =(mat.length-1)/2;\r\n        int midColIndex =(mat[0].length-1)/2;\r\n        int start = 0;\r\n        int end =(mat.length*mat[0].length)-1;\r\n        System.out.println(&quot;Mid index is: [&quot; +midColIndex + &quot;][&quot; + midRowIndex + &quot;]&quot;);\r\n        System.out.println(&quot;Number of indexes is: &quot; +end);\r\n        System.out.println(&quot;Searching for: &quot; +num );\r\n        while (start&lt;end) {\r\n            if (mat[midRowIndex][midColIndex] == num)\r\n                return true;\r\n            if (mat[midRowIndex][midColIndex] &lt; num)\r\n                if(midColIndex &lt; mat.length)\r\n                    midColIndex+=1;\r\n                else{\r\n                    midColIndex=0;\r\n                    midRowIndex+=1;\r\n                }\r\n            if (mat[midRowIndex][midColIndex] &gt; num)\r\n                midRowIndex-=1;\r\n            start+=1;\r\n        }\r\n        return false;\r\n    }\r\n\r\nI&#39;m not asking for a direct answer, Just for some leads.\r\n\r\nThanks!","title":"Search for an element in a circular sorted 2d matrix","body":"<p>I was given a question in my class that I just can't get my head around it.\nI've been trying for days and can't think of a logic that works 100%</p>\n<p><strong>The question is: Search for an element in a circular sorted 2d matrix, example below:</strong>\n<a href=\"https://i.stack.imgur.com/59zeU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/59zeU.png\" alt=\"circular sorted 2d matrix\" /></a></p>\n<p>We were asked to do it with the best complexity available.\nI've figured out that the rows are sorted by size, But this theory failed.</p>\n<p>I've figured if I'll find the middle element, I could move the pointer accordingly, but it makes no sense.</p>\n<p>I was thinking that maybe I should find each quadrant's start index and last index, and search inside, but I don't know how to do that with a 2d array</p>\n<p>Here's my piece of code that I crafted so far (It's useless)</p>\n<pre><code> public static boolean search (int [][] mat, int num) {\n    int midRowIndex =(mat.length-1)/2;\n    int midColIndex =(mat[0].length-1)/2;\n    int start = 0;\n    int end =(mat.length*mat[0].length)-1;\n    System.out.println(&quot;Mid index is: [&quot; +midColIndex + &quot;][&quot; + midRowIndex + &quot;]&quot;);\n    System.out.println(&quot;Number of indexes is: &quot; +end);\n    System.out.println(&quot;Searching for: &quot; +num );\n    while (start&lt;end) {\n        if (mat[midRowIndex][midColIndex] == num)\n            return true;\n        if (mat[midRowIndex][midColIndex] &lt; num)\n            if(midColIndex &lt; mat.length)\n                midColIndex+=1;\n            else{\n                midColIndex=0;\n                midRowIndex+=1;\n            }\n        if (mat[midRowIndex][midColIndex] &gt; num)\n            midRowIndex-=1;\n        start+=1;\n    }\n    return false;\n}\n</code></pre>\n<p>I'm not asking for a direct answer, Just for some leads.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","android-studio","webview","inputstream"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643665436,"post_id":70933079,"comment_id":125396762,"body_markdown":"What does not work exactly? Should we guess?","body":"What does not work exactly? Should we guess?"},{"owner":{"account_id":24114887,"reputation":1,"user_id":18084933,"display_name":"Aryantel IR"},"score":0,"creation_date":1643665783,"post_id":70933079,"comment_id":125396863,"body_markdown":"InputStream is not working after get file from URL","body":"InputStream is not working after get file from URL"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643666580,"post_id":70933079,"comment_id":125397106,"body_markdown":"Again: what exactly happens? Or what happens instead? Or what does not happen? Should we guess? Any exception? Why dont you have a Toast() in that catch block?","body":"Again: what exactly happens? Or what happens instead? Or what does not happen? Should we guess? Any exception? Why dont you have a Toast() in that catch block?"},{"owner":{"account_id":24114887,"reputation":1,"user_id":18084933,"display_name":"Aryantel IR"},"score":0,"creation_date":1643666710,"post_id":70933079,"comment_id":125397140,"body_markdown":"my code was Inject CSS by style.css from assets folder but now i need css from site (url) not from folder - i used inputStream url but it&#39;s not working","body":"my code was Inject CSS by style.css from assets folder but now i need css from site (url) not from folder - i used inputStream url but it&#39;s not working"}],"owner":{"account_id":24114887,"reputation":1,"user_id":18084933,"display_name":"Aryantel IR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643666044,"creation_date":1643664805,"question_id":70933079,"body_markdown":"I&#39;m using this code for bypass the css from WebView loading , I used asset folder for loading my own css but now I need to load my custom css from URL because I need to Change my Css every week .\r\nprobelm is : after change InputStream to URL my css bypass is note working !!     \r\nMy old code is :\r\n\r\n     private void injectCSS() {\r\n        try {\r\n            InputStream inputStream = getAssets().open(&quot;style.css&quot;);\r\n            byte[] buffer = new byte[inputStream.available()];\r\n            inputStream.read(buffer);\r\n            inputStream.close();\r\n            String encoded = Base64.encodeToString(buffer, Base64.NO_WRAP);\r\n            webView.loadUrl(&quot;javascript:(function() {&quot; +\r\n                    &quot;var parent = document.getElementsByTagName(&#39;head&#39;).item(0);&quot; +\r\n                    &quot;var style = document.createElement(&#39;style&#39;);&quot; +\r\n                    &quot;style.type = &#39;text/css&#39;;&quot; +\r\n                    // Tell the browser to BASE64-decode the string into your script !!!\r\n                    &quot;style.innerHTML = window.atob(&#39;&quot; + encoded + &quot;&#39;);&quot; +\r\n                    &quot;parent.appendChild(style)&quot; +\r\n                    &quot;})()&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nand My New code is : &gt; but is not working \r\n\r\n      private void injectCSS() {\r\n        try {\r\n            final InputStream inputStream = new URL(&quot;https://sitemname.ir/app/style.css&quot;).openStream();\r\n            byte[] buffer = new byte[inputStream.available()];\r\n            inputStream.read(buffer);\r\n            inputStream.close();\r\n            String encoded = Base64.encodeToString(buffer, Base64.NO_WRAP);\r\n            webView.loadUrl(&quot;javascript:(function() {&quot; +\r\n                    &quot;var parent = document.getElementsByTagName(&#39;head&#39;).item(0);&quot; +\r\n                    &quot;var style = document.createElement(&#39;style&#39;);&quot; +\r\n                    &quot;style.type = &#39;text/css&#39;;&quot; +\r\n                    // Tell the browser to BASE64-decode the string into your script !!!\r\n                    &quot;style.innerHTML = window.atob(&#39;&quot; + encoded + &quot;&#39;);&quot; +\r\n                    &quot;parent.appendChild(style)&quot; +\r\n                    &quot;})()&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"android studio inputStream form URL problem","body":"<p>I'm using this code for bypass the css from WebView loading , I used asset folder for loading my own css but now I need to load my custom css from URL because I need to Change my Css every week .\nprobelm is : after change InputStream to URL my css bypass is note working !!<br />\nMy old code is :</p>\n<pre><code> private void injectCSS() {\n    try {\n        InputStream inputStream = getAssets().open(&quot;style.css&quot;);\n        byte[] buffer = new byte[inputStream.available()];\n        inputStream.read(buffer);\n        inputStream.close();\n        String encoded = Base64.encodeToString(buffer, Base64.NO_WRAP);\n        webView.loadUrl(&quot;javascript:(function() {&quot; +\n                &quot;var parent = document.getElementsByTagName('head').item(0);&quot; +\n                &quot;var style = document.createElement('style');&quot; +\n                &quot;style.type = 'text/css';&quot; +\n                // Tell the browser to BASE64-decode the string into your script !!!\n                &quot;style.innerHTML = window.atob('&quot; + encoded + &quot;');&quot; +\n                &quot;parent.appendChild(style)&quot; +\n                &quot;})()&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>and My New code is : &gt; but is not working</p>\n<pre><code>  private void injectCSS() {\n    try {\n        final InputStream inputStream = new URL(&quot;https://sitemname.ir/app/style.css&quot;).openStream();\n        byte[] buffer = new byte[inputStream.available()];\n        inputStream.read(buffer);\n        inputStream.close();\n        String encoded = Base64.encodeToString(buffer, Base64.NO_WRAP);\n        webView.loadUrl(&quot;javascript:(function() {&quot; +\n                &quot;var parent = document.getElementsByTagName('head').item(0);&quot; +\n                &quot;var style = document.createElement('style');&quot; +\n                &quot;style.type = 'text/css';&quot; +\n                // Tell the browser to BASE64-decode the string into your script !!!\n                &quot;style.innerHTML = window.atob('&quot; + encoded + &quot;');&quot; +\n                &quot;parent.appendChild(style)&quot; +\n                &quot;})()&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","string","integer","string-math"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1643660150,"post_id":70932263,"comment_id":125395012,"body_markdown":"How to do that would depend, in part, on what language you are using.","body":"How to do that would depend, in part, on what language you are using."},{"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"score":0,"creation_date":1643881764,"post_id":70932263,"comment_id":125458799,"body_markdown":"Your question is ok but you would need to try your regular expresion first and use some tracing with sysout","body":"Your question is ok but you would need to try your regular expresion first and use some tracing with sysout"}],"owner":{"account_id":12165959,"reputation":21,"user_id":18084508,"display_name":"TronChaser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643665958,"creation_date":1643660004,"question_id":70932263,"body_markdown":"I need to perform arithmetic operations on numbers in a string.  I understand that I&#39;ll need to parse those numbers out, convert to int, do the math, and then convert back to String.  \r\n\r\nExample: \r\n\r\nn = 2. \r\n\r\nInput data: &quot;The building is 350 feet tall with a perimeter of 400 feet&quot;.\r\n\r\nOutput data:  The building is 352 feet tall with a perimeter of 402 feet&quot;. \r\n\r\n\r\nI got my for loop iterating through the string and I can affect the value of the number, but I&#39;m having difficulty putting it back into a new, modified string.\r\n\r\nHere&#39;s where I&#39;m at right now but it&#39;s not working\r\n\r\n&gt;     String output = new String();\r\n&gt;     String tempString = new String();\r\n&gt;     int newNumb = 0;\r\n&gt;     int n = 2;\r\n&gt;     for (int i = 0; i &lt; output.length(); i++){\r\n&gt;        Pattern integerPattern = Pattern.compile(&#39;-?\\\\d+&#39;);\r\n&gt;        Matcher matcher = integerPattern.matcher(output);\r\n&gt;        newNumb = (Integer.parse(output) + n);\r\n&gt;        tempString = output.replace(output, String.valueOf(newNumb));\r\n   \r\n\r\n\r\n","title":"Find numerical values in a string, perform arithmetic on the all numbers in the string, and output a new, revised string containing new values Java","body":"<p>I need to perform arithmetic operations on numbers in a string.  I understand that I'll need to parse those numbers out, convert to int, do the math, and then convert back to String.</p>\n<p>Example:</p>\n<p>n = 2.</p>\n<p>Input data: &quot;The building is 350 feet tall with a perimeter of 400 feet&quot;.</p>\n<p>Output data:  The building is 352 feet tall with a perimeter of 402 feet&quot;.</p>\n<p>I got my for loop iterating through the string and I can affect the value of the number, but I'm having difficulty putting it back into a new, modified string.</p>\n<p>Here's where I'm at right now but it's not working</p>\n<blockquote>\n<pre><code>String output = new String();\nString tempString = new String();\nint newNumb = 0;\nint n = 2;\nfor (int i = 0; i &lt; output.length(); i++){\n   Pattern integerPattern = Pattern.compile('-?\\\\d+');\n   Matcher matcher = integerPattern.matcher(output);\n   newNumb = (Integer.parse(output) + n);\n   tempString = output.replace(output, String.valueOf(newNumb));\n</code></pre>\n</blockquote>\n"},{"tags":["java","python","c++","if-statement","micro-optimization"],"comments":[{"owner":{"account_id":932526,"reputation":60940,"user_id":962089,"accept_rate":97,"display_name":"chris"},"score":5,"creation_date":1450246231,"post_id":34304936,"comment_id":56351893,"body_markdown":"`else if` isn&#39;t even syntactic sugar (at least in C++). It&#39;s the actual bare syntax, not sugar coated. It&#39;s just a bit misleading because of the way we choose to write it.","body":"<code>else if</code> isn&#39;t even syntactic sugar (at least in C++). It&#39;s the actual bare syntax, not sugar coated. It&#39;s just a bit misleading because of the way we choose to write it."}],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450245948,"creation_date":1450245948,"answer_id":34304992,"question_id":34304936,"body_markdown":"`elif` in Python is syntactic sugar for `else if` seen in many other languages. That&#39;s all.","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p><code>elif</code> in Python is syntactic sugar for <code>else if</code> seen in many other languages. That's all.</p>\n"},{"tags":[],"owner":{"account_id":2777201,"reputation":531,"user_id":2390553,"accept_rate":45,"display_name":"Prashant Yadav"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450246174,"creation_date":1450246174,"answer_id":34305035,"question_id":34304936,"body_markdown":"The keyword ‘elif‘ is short for ‘else if’, and is useful to avoid excessive indentation.[Source][1]\r\n\r\n\r\n  [1]: https://docs.python.org/3/tutorial/controlflow.html","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p>The keyword ‘elif‘ is short for ‘else if’, and is useful to avoid excessive indentation.<a href=\"https://docs.python.org/3/tutorial/controlflow.html\" rel=\"nofollow\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":314979,"reputation":302463,"user_id":748858,"accept_rate":86,"display_name":"mgilson"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1450246616,"creation_date":1450246189,"answer_id":34305041,"question_id":34304936,"body_markdown":"When you really want to know what is going on behind the scenes in the interpreter, you can use the `dis` module.  In this case:\r\n\r\n    &gt;&gt;&gt; def f1():\r\n    ...   if a:\r\n    ...     b = 1\r\n    ...   elif aa:\r\n    ...     b = 2\r\n    ... \r\n    &gt;&gt;&gt; def f2():\r\n    ...   if a:\r\n    ...     b = 1\r\n    ...   else:\r\n    ...     if aa:\r\n    ...       b = 2\r\n    ... \r\n    &gt;&gt;&gt; dis.dis(f1)\r\n      2           0 LOAD_GLOBAL              0 (a)\r\n                  3 POP_JUMP_IF_FALSE       15\r\n    \r\n      3           6 LOAD_CONST               1 (1)\r\n                  9 STORE_FAST               0 (b)\r\n                 12 JUMP_FORWARD            15 (to 30)\r\n    \r\n      4     &gt;&gt;   15 LOAD_GLOBAL              1 (aa)\r\n                 18 POP_JUMP_IF_FALSE       30\r\n    \r\n      5          21 LOAD_CONST               2 (2)\r\n                 24 STORE_FAST               0 (b)\r\n                 27 JUMP_FORWARD             0 (to 30)\r\n            &gt;&gt;   30 LOAD_CONST               0 (None)\r\n                 33 RETURN_VALUE        \r\n    &gt;&gt;&gt; dis.dis(f2)\r\n      2           0 LOAD_GLOBAL              0 (a)\r\n                  3 POP_JUMP_IF_FALSE       15\r\n    \r\n      3           6 LOAD_CONST               1 (1)\r\n                  9 STORE_FAST               0 (b)\r\n                 12 JUMP_FORWARD            15 (to 30)\r\n    \r\n      5     &gt;&gt;   15 LOAD_GLOBAL              1 (aa)\r\n                 18 POP_JUMP_IF_FALSE       30\r\n    \r\n      6          21 LOAD_CONST               2 (2)\r\n                 24 STORE_FAST               0 (b)\r\n                 27 JUMP_FORWARD             0 (to 30)\r\n            &gt;&gt;   30 LOAD_CONST               0 (None)\r\n                 33 RETURN_VALUE        \r\n\r\nIt looks like our two functions are using the same bytecode -- So apparently they&#39;re equivalent.\r\n\r\nCareful though, bytecode is an implementation detail of CPython -- There&#39;s no telling that _all_ python implementations do the same thing behind the scenes -- All that matters is that they have the same behavior.  Working through the logic, you can convince yourself that `f1` and `f2` should do the same thing regardless of whether the underlying implementation treats it as &quot;syntatic sugar&quot; or if there is something more sophisticated going on.","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p>When you really want to know what is going on behind the scenes in the interpreter, you can use the <code>dis</code> module.  In this case:</p>\n\n<pre><code>&gt;&gt;&gt; def f1():\n...   if a:\n...     b = 1\n...   elif aa:\n...     b = 2\n... \n&gt;&gt;&gt; def f2():\n...   if a:\n...     b = 1\n...   else:\n...     if aa:\n...       b = 2\n... \n&gt;&gt;&gt; dis.dis(f1)\n  2           0 LOAD_GLOBAL              0 (a)\n              3 POP_JUMP_IF_FALSE       15\n\n  3           6 LOAD_CONST               1 (1)\n              9 STORE_FAST               0 (b)\n             12 JUMP_FORWARD            15 (to 30)\n\n  4     &gt;&gt;   15 LOAD_GLOBAL              1 (aa)\n             18 POP_JUMP_IF_FALSE       30\n\n  5          21 LOAD_CONST               2 (2)\n             24 STORE_FAST               0 (b)\n             27 JUMP_FORWARD             0 (to 30)\n        &gt;&gt;   30 LOAD_CONST               0 (None)\n             33 RETURN_VALUE        \n&gt;&gt;&gt; dis.dis(f2)\n  2           0 LOAD_GLOBAL              0 (a)\n              3 POP_JUMP_IF_FALSE       15\n\n  3           6 LOAD_CONST               1 (1)\n              9 STORE_FAST               0 (b)\n             12 JUMP_FORWARD            15 (to 30)\n\n  5     &gt;&gt;   15 LOAD_GLOBAL              1 (aa)\n             18 POP_JUMP_IF_FALSE       30\n\n  6          21 LOAD_CONST               2 (2)\n             24 STORE_FAST               0 (b)\n             27 JUMP_FORWARD             0 (to 30)\n        &gt;&gt;   30 LOAD_CONST               0 (None)\n             33 RETURN_VALUE        \n</code></pre>\n\n<p>It looks like our two functions are using the same bytecode -- So apparently they're equivalent.</p>\n\n<p>Careful though, bytecode is an implementation detail of CPython -- There's no telling that <em>all</em> python implementations do the same thing behind the scenes -- All that matters is that they have the same behavior.  Working through the logic, you can convince yourself that <code>f1</code> and <code>f2</code> should do the same thing regardless of whether the underlying implementation treats it as \"syntatic sugar\" or if there is something more sophisticated going on.</p>\n"},{"tags":[],"owner":{"account_id":7480150,"reputation":43,"user_id":5685105,"display_name":"M. Bloom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450246376,"creation_date":1450246376,"answer_id":34305073,"question_id":34304936,"body_markdown":"The three following code snippets would all execute using the same logic however all use different syntax.\r\n\r\n    elif condition: ...\r\n\r\n&lt;!-- tsk --&gt;\r\n\r\n    else if conition { ...\r\n\r\n&lt;!-- tsk --&gt;\r\n\r\n    else {\r\n        if conition { ...\r\n    }\r\nPython&#39;s `elif` is just syntactic sugar for the common `else if` statement  ","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p>The three following code snippets would all execute using the same logic however all use different syntax.</p>\n\n<pre><code>elif condition: ...\n</code></pre>\n\n\n\n<pre><code>else if conition { ...\n</code></pre>\n\n\n\n<pre><code>else {\n    if conition { ...\n}\n</code></pre>\n\n<p>Python's <code>elif</code> is just syntactic sugar for the common <code>else if</code> statement  </p>\n"}],"owner":{"account_id":7262778,"reputation":851,"user_id":5538786,"display_name":"hargasinski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":34305041,"answer_count":4,"score":8,"last_activity_date":1643665530,"creation_date":1450245684,"question_id":34304936,"body_markdown":"I know in languages such as C, C++, Java and C#, ([C# example](https://stackoverflow.com/questions/3374909/do-else-if-statements-exist-in-c))the `else if` statement is syntactic sugar, in that it&#39;s really just a one `else` statement followed by an `if` statement. \r\n\r\n    else if (conition(s)) { ...\r\nis equal to \r\n\r\n    else {\r\n        if (condition(s)) { ...\r\n    }\r\n\r\nHowever, in python, there is a special `elif` statement. I&#39;ve been wondering if this is just shorthand for developers or if there is some hidden optimization python can do because of this, such as be interpreted faster? But this wouldn&#39;t make sense to me, as other languages would be doing it too then (such as JavaScript). So, my question is, in python is the `elif` statement just shorthand for the developers to use or is there something hidden that it gains through doing so? ","title":"Is the python &quot;elif&quot; compiled differently from else: if?","body":"<p>I know in languages such as C, C++, Java and C#, (<a href=\"https://stackoverflow.com/questions/3374909/do-else-if-statements-exist-in-c\">C# example</a>)the <code>else if</code> statement is syntactic sugar, in that it's really just a one <code>else</code> statement followed by an <code>if</code> statement. </p>\n\n<pre><code>else if (conition(s)) { ...\n</code></pre>\n\n<p>is equal to </p>\n\n<pre><code>else {\n    if (condition(s)) { ...\n}\n</code></pre>\n\n<p>However, in python, there is a special <code>elif</code> statement. I've been wondering if this is just shorthand for developers or if there is some hidden optimization python can do because of this, such as be interpreted faster? But this wouldn't make sense to me, as other languages would be doing it too then (such as JavaScript). So, my question is, in python is the <code>elif</code> statement just shorthand for the developers to use or is there something hidden that it gains through doing so? </p>\n"},{"tags":["java","eclipse","m2eclipse"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643481966,"post_id":70908608,"comment_id":125353643,"body_markdown":"Are your eclipse configuration files stored in git?","body":"Are your eclipse configuration files stored in git?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643482427,"post_id":70908608,"comment_id":125353742,"body_markdown":"Good question. They are not.","body":"Good question. They are not."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643531395,"post_id":70908608,"comment_id":125361197,"body_markdown":"When recreating a maven project, use Maven -&gt; import project.  (Preferably on an already checked out project. ). Otherwise the maven magic does not kick in.","body":"When recreating a maven project, use Maven -&gt; import project.  (Preferably on an already checked out project. ). Otherwise the maven magic does not kick in."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1643533264,"post_id":70908608,"comment_id":125361496,"body_markdown":"@Thorbj&#248;rnRavnAndersen Smart import detects Maven projects for years.","body":"@Thorbj&#248;rnRavnAndersen Smart import detects Maven projects for years."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643535023,"post_id":70908608,"comment_id":125361764,"body_markdown":"@howlger then help him.  If you can.","body":"@howlger then help him.  If you can."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1643538752,"post_id":70908608,"comment_id":125362397,"body_markdown":"The `.classpath` file should refer to `org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER`  rather to specific dependencies. In the _Project Explorer_ the project should have _Maven Dependencies_ rather than _Referenced Libraries_. Otherwise the `.classpath` file is probably broken by referring dependencies directly instead via m2e derived from the POM.","body":"The <code>.classpath</code> file should refer to <code>org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER</code>  rather to specific dependencies. In the <i>Project Explorer</i> the project should have <i>Maven Dependencies</i> rather than <i>Referenced Libraries</i>. Otherwise the <code>.classpath</code> file is probably broken by referring dependencies directly instead via m2e derived from the POM."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643559307,"post_id":70908608,"comment_id":125367235,"body_markdown":"You may also want to check if the project builds and runs from the command line. I’ve seen undefined behavior if the build was broken.","body":"You may also want to check if the project builds and runs from the command line. I’ve seen undefined behavior if the build was broken."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643580317,"post_id":70908608,"comment_id":125372205,"body_markdown":"@howlger , ok, what could have caused it to generate &quot;M2_REPO/&quot; path entries instead of using MCC? I have a bunch of different Maven projects cloned to my local git tree. I find that most of them reference MCC, and only a handful reference M2_REPO, although those are all ones that I&#39;ve directly worked on. Many of the MCC ones I&#39;ve only looked at or worked on briefly. I guess I&#39;m going to save off what I have and go through the process again. Sorry I didn&#39;t mention it, but it does build fine from the command line.","body":"@howlger , ok, what could have caused it to generate &quot;M2_REPO/&quot; path entries instead of using MCC? I have a bunch of different Maven projects cloned to my local git tree. I find that most of them reference MCC, and only a handful reference M2_REPO, although those are all ones that I&#39;ve directly worked on. Many of the MCC ones I&#39;ve only looked at or worked on briefly. I guess I&#39;m going to save off what I have and go through the process again. Sorry I didn&#39;t mention it, but it does build fine from the command line."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643582759,"post_id":70908608,"comment_id":125372640,"body_markdown":"I&#39;ve updated the post with more details on each import scenario I tried.","body":"I&#39;ve updated the post with more details on each import scenario I tried."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643587323,"post_id":70908608,"comment_id":125373365,"body_markdown":"Interesting.  Is this a publicly accessible git repository?","body":"Interesting.  Is this a publicly accessible git repository?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643590332,"post_id":70908608,"comment_id":125373828,"body_markdown":"Sorry, no. It would likely take a lot of work to figure out what in this project is causing these symptoms. I would think figuring out why import from git isn&#39;t detecting Java would be straightforward for someone familiar with the internals. It seems like that&#39;s the most important issue. The eclipse plug in shouldn&#39;t be relied on, if possible.","body":"Sorry, no. It would likely take a lot of work to figure out what in this project is causing these symptoms. I would think figuring out why import from git isn&#39;t detecting Java would be straightforward for someone familiar with the internals. It seems like that&#39;s the most important issue. The eclipse plug in shouldn&#39;t be relied on, if possible."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643597461,"post_id":70908608,"comment_id":125374752,"body_markdown":"To my understanding `mvn eclipse:eclipse` is from a time long before eclipse got good built-in maven support and should not be used today.","body":"To my understanding <code>mvn eclipse:eclipse</code> is from a time long before eclipse got good built-in maven support and should not be used today."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643608717,"post_id":70908608,"comment_id":125376333,"body_markdown":"Yes, I think we&#39;ve already established that.","body":"Yes, I think we&#39;ve already established that."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1643612554,"post_id":70908608,"comment_id":125377132,"body_markdown":"tl;dr https://stackoverflow.com/help/minimal-reproducible-example please","body":"tl;dr <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> please"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643630620,"post_id":70908608,"comment_id":125383047,"body_markdown":"First step would probably be downloading and unzipping a fresh copy of the latest Eclipse so you know that the platform you have problems with is not broken with, and then repeat the &quot;Maven -&gt; Import existing&quot; bit into a new and fresh workspace.","body":"First step would probably be downloading and unzipping a fresh copy of the latest Eclipse so you know that the platform you have problems with is not broken with, and then repeat the &quot;Maven -&gt; Import existing&quot; bit into a new and fresh workspace."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643654875,"post_id":70908608,"comment_id":125393029,"body_markdown":"Yes, @howlger, it would be great if I could produce an isolated test for case maven import failing to detect java, but I have no idea why it is doing this. I&#39;ve tried with a couple of &quot;hello world&quot; projects generated from spring.io, but none of those display the symptom. There are multiple people in my organization seeing the same problem.","body":"Yes, @howlger, it would be great if I could produce an isolated test for case maven import failing to detect java, but I have no idea why it is doing this. I&#39;ve tried with a couple of &quot;hello world&quot; projects generated from spring.io, but none of those display the symptom. There are multiple people in my organization seeing the same problem."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1643657477,"post_id":70908608,"comment_id":125394038,"body_markdown":"I at least have more things to try. I&#39;m going in the reverse direction, with a dummy copy of my original service, simply removing things from it and reimporting each time. It doesn&#39;t need to fully compile, it just needs to know it&#39;s a Java app. I&#39;m almost down to the external sample, and it&#39;s still showing the symptom.","body":"I at least have more things to try. I&#39;m going in the reverse direction, with a dummy copy of my original service, simply removing things from it and reimporting each time. It doesn&#39;t need to fully compile, it just needs to know it&#39;s a Java app. I&#39;m almost down to the external sample, and it&#39;s still showing the symptom."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":1,"creation_date":1643664145,"post_id":70908608,"comment_id":125396387,"body_markdown":"Ok. I now know what is causing the &quot;Import Maven Project&quot; step to not detect it is Java. I commented out a &quot;lifecycle-mapping&quot; plugin that someone had put into the pom.xml, for reasons I&#39;m not aware of, and when I import it now, it detects it is Java, and properly uses the single &quot;MAVEN2_CLASSPATH_CONTAINER&quot; in the .classpath instead of multiple M2_REPO entries for every dependency. I can update the post with more info now, but as this now is a different issue than I originally posted, I could also create a new post for this.","body":"Ok. I now know what is causing the &quot;Import Maven Project&quot; step to not detect it is Java. I commented out a &quot;lifecycle-mapping&quot; plugin that someone had put into the pom.xml, for reasons I&#39;m not aware of, and when I import it now, it detects it is Java, and properly uses the single &quot;MAVEN2_CLASSPATH_CONTAINER&quot; in the .classpath instead of multiple M2_REPO entries for every dependency. I can update the post with more info now, but as this now is a different issue than I originally posted, I could also create a new post for this."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643665175,"creation_date":1643481677,"question_id":70908608,"body_markdown":"I am currently using Eclipse 2021-12 on Windows.  I work almost exclusively on Java (1.8) Maven projects that are stored in Git.\r\n\r\nI noticed that a project that I just started looking at (cloned it from our central repo) was getting a weird runtime error that didn&#39;t make sense.  The error made it seem like it was referencing an older version of one artifact.  I checked the maven dependencies both from the &quot;Dependency Hierarchy&quot; view and from the command line with &quot;mvn dependency:tree&quot;. Both confirmed that I had the correct version of the artifact.\r\n\r\nHowever, the .classpath file, along with the &quot;Libraries&quot; tab in &quot;Java Build Path&quot; had the previous version of the same artifact.\r\n\r\nI tried &quot;Update Project&quot; with &quot;Force Update of Snapshots/Releases&quot; checked.  No change.\r\n\r\nI then went down the rabbit hole, deleting the project, then the Eclipse dot files, and then reimported the project from the git repo.  That made it even worse. It didn&#39;t even acknowledge it was a Java project.  I couldn&#39;t figure out how to fix this (outside of simply manually editing the .project file, which will be a last resort), so I enabled &quot;Faceted Form&quot;, and that came out with Java automatically selected.  Then I noticed it didn&#39;t even think it was a Maven project, even though it had selected the proper source directories. I selected making it a Maven project.  And finally, that just got me back to where I started, with the wrong version of the artifact specified in the .classpath file.\r\n\r\nFinally, I made a copy of the .classpath file and simply manually edited it.  I found several artifacts with the same problem.  And by &quot;same&quot;, I mean several artifacts all developed internally, which should have been at version &quot;2.6.0&quot;, which is what is specified in the pom hierarchy, were set to version &quot;2.5.0&quot;.\r\n\r\nI then ran the service, and it ran fine.\r\n\r\nI have no idea whether there are any other discrepancies, being differences between the Maven-specified version and the version in the .classpath file.  That would require more thorough examination. I used to think that situation would have been impossible.\r\n\r\n**Update**:\r\n\r\nFrom the comments, I decided to step through this again more carefully, noting the results at each step.\r\n\r\nI first deleted the existing Eclipse project, without deleting the project contents on disk.  I then copied and removed the .classpath, .project, and .settings.  I then imported the project from the Git repo.  It auto-detected &quot;Maven&quot; for &quot;Import as&quot;.  I had &quot;Detect and configured project natures&quot; checked.\r\n\r\nThis resulted in a Maven project, but not a Java project, so it didn&#39;t even generate a .classpath file.  The .project file only had the &quot;maven2Nature&quot; and associated builder.  This somewhat explains why the Maven import didn&#39;t generate the correct .classpath entries.\r\n\r\nAt this point, the only way I know to make it figure out it is a Java project, outside of manually editing the .project file, is to convert to Faceted form.  This successfully added the &quot;javanature&quot; and associated builder, and detected src/main/java and src/test/java, but I still don&#39;t have any dependencies.\r\n\r\nAt this point, I tried &quot;Update Project&quot; with &quot;Force&quot; checked. That did nothing.  I tried &quot;Disable workspace resolution&quot; (which I want anyway). That did nothing.\r\n\r\nIt&#39;s possible that my most recent attempt got an almost sane .classpath file by using &quot;mvn eclipse:eclipse&quot;.  I know, it&#39;s supposed to be a bad idea, but sometimes it seems like the only thing that works.\r\n\r\nIt appears that the key here is that the Maven import from Git doesn&#39;t first detect it&#39;s a Java project.\r\n\r\nJust in case, I did it all again, doing a top-level &quot;File-&gt;Import-&gt;Existing Maven Project&quot;, with almost exactly the same result.  The import from git created the project name as the git repository name, and the import from Existing created the project name as the project name from the pom.xml, the two of which are only different by case.  Otherwise, the result was identical.\r\n\r\nI then tried again, with no dot files, and I copied in an almost empty .project file, removing all but the java nature and builder.  I tried doing git import, but that didn&#39;t auto-detect Maven, so I went back to Import Existing Maven Project, but that resulted in a brain-damaged Java project.  I&#39;m guessing the way I did it made it so that it didn&#39;t know what Java compiler to use, so it couldn&#39;t find &quot;java.lang.Object&quot;.\r\n\r\nI then started over again, removed the dot files, imported from git (auto-detects Maven), then converted to Faceted form, which auto-added Java nature, then ran &quot;mvn eclipse:eclipse&quot; from the command line.  This brought me back to an almost correct configuration, with several artifacts with the almost correct version, with all references using M2_REPO.\r\n\r\nThis makes it clear it wasn&#39;t m2e that was producing the incorrect version numbers, but the &quot;eclipse&quot; plugin.  M2e didn&#39;t even produce a .classpath file, because it didn&#39;t know it was a Java project.\r\n\r\n**Update**:\r\n\r\nI believe I&#39;ve found the element in the original pom.xml such that when this project is imported, m2e doesn&#39;t acknowledge it is a Java project, which results in no .classpath file being created.\r\n\r\nBefore I post what I found, I wanted to say that I didn&#39;t write this, I&#39;m just trying to figure out why it&#39;s broken.  The thing that someone put in here is something I would never do, and I had noticed it earlier, but it didn&#39;t occur to me it would result in what I&#39;ve been seeing.\r\n\r\nWhat I found in plugins was a &quot;lifecycle-mapping&quot; plugin, looking like this:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;lifecycleMappingMetadata&gt;\r\n\t\t\t\t&lt;pluginExecutions&gt;\r\n\t\t\t\t\t&lt;pluginExecution&gt;\r\n\t\t\t\t\t\t&lt;pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;versionRange&gt;[3.8.0,)&lt;/versionRange&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;testCompile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t&lt;action&gt; &lt;ignore&gt;&lt;/ignore&gt; &lt;/action&gt;\r\n\t\t\t\t\t&lt;/pluginExecution&gt;\r\n\t\t\t\t&lt;/pluginExecutions&gt;\r\n\t\t\t&lt;/lifecycleMappingMetadata&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nWhen I change nothing else in the pom.xml but comment this out, importing this project works correctly.\r\n\r\nFrankly, I don&#39;t really know why some people in my org do this.  I think they must give up trying to properly configure m2e, and this is just a way to get rid of the red Xs (even if it doesn&#39;t actually fix anything).\r\n\r\nObviously, the fix is to just remove this, but I&#39;d appreciate any background anyone could provide on why someone might do this, and what they should be doing instead.","title":"Why is m2e putting the wrong version of some artifacts into the .classpath file?","body":"<p>I am currently using Eclipse 2021-12 on Windows.  I work almost exclusively on Java (1.8) Maven projects that are stored in Git.</p>\n<p>I noticed that a project that I just started looking at (cloned it from our central repo) was getting a weird runtime error that didn't make sense.  The error made it seem like it was referencing an older version of one artifact.  I checked the maven dependencies both from the &quot;Dependency Hierarchy&quot; view and from the command line with &quot;mvn dependency:tree&quot;. Both confirmed that I had the correct version of the artifact.</p>\n<p>However, the .classpath file, along with the &quot;Libraries&quot; tab in &quot;Java Build Path&quot; had the previous version of the same artifact.</p>\n<p>I tried &quot;Update Project&quot; with &quot;Force Update of Snapshots/Releases&quot; checked.  No change.</p>\n<p>I then went down the rabbit hole, deleting the project, then the Eclipse dot files, and then reimported the project from the git repo.  That made it even worse. It didn't even acknowledge it was a Java project.  I couldn't figure out how to fix this (outside of simply manually editing the .project file, which will be a last resort), so I enabled &quot;Faceted Form&quot;, and that came out with Java automatically selected.  Then I noticed it didn't even think it was a Maven project, even though it had selected the proper source directories. I selected making it a Maven project.  And finally, that just got me back to where I started, with the wrong version of the artifact specified in the .classpath file.</p>\n<p>Finally, I made a copy of the .classpath file and simply manually edited it.  I found several artifacts with the same problem.  And by &quot;same&quot;, I mean several artifacts all developed internally, which should have been at version &quot;2.6.0&quot;, which is what is specified in the pom hierarchy, were set to version &quot;2.5.0&quot;.</p>\n<p>I then ran the service, and it ran fine.</p>\n<p>I have no idea whether there are any other discrepancies, being differences between the Maven-specified version and the version in the .classpath file.  That would require more thorough examination. I used to think that situation would have been impossible.</p>\n<p><strong>Update</strong>:</p>\n<p>From the comments, I decided to step through this again more carefully, noting the results at each step.</p>\n<p>I first deleted the existing Eclipse project, without deleting the project contents on disk.  I then copied and removed the .classpath, .project, and .settings.  I then imported the project from the Git repo.  It auto-detected &quot;Maven&quot; for &quot;Import as&quot;.  I had &quot;Detect and configured project natures&quot; checked.</p>\n<p>This resulted in a Maven project, but not a Java project, so it didn't even generate a .classpath file.  The .project file only had the &quot;maven2Nature&quot; and associated builder.  This somewhat explains why the Maven import didn't generate the correct .classpath entries.</p>\n<p>At this point, the only way I know to make it figure out it is a Java project, outside of manually editing the .project file, is to convert to Faceted form.  This successfully added the &quot;javanature&quot; and associated builder, and detected src/main/java and src/test/java, but I still don't have any dependencies.</p>\n<p>At this point, I tried &quot;Update Project&quot; with &quot;Force&quot; checked. That did nothing.  I tried &quot;Disable workspace resolution&quot; (which I want anyway). That did nothing.</p>\n<p>It's possible that my most recent attempt got an almost sane .classpath file by using &quot;mvn eclipse:eclipse&quot;.  I know, it's supposed to be a bad idea, but sometimes it seems like the only thing that works.</p>\n<p>It appears that the key here is that the Maven import from Git doesn't first detect it's a Java project.</p>\n<p>Just in case, I did it all again, doing a top-level &quot;File-&gt;Import-&gt;Existing Maven Project&quot;, with almost exactly the same result.  The import from git created the project name as the git repository name, and the import from Existing created the project name as the project name from the pom.xml, the two of which are only different by case.  Otherwise, the result was identical.</p>\n<p>I then tried again, with no dot files, and I copied in an almost empty .project file, removing all but the java nature and builder.  I tried doing git import, but that didn't auto-detect Maven, so I went back to Import Existing Maven Project, but that resulted in a brain-damaged Java project.  I'm guessing the way I did it made it so that it didn't know what Java compiler to use, so it couldn't find &quot;java.lang.Object&quot;.</p>\n<p>I then started over again, removed the dot files, imported from git (auto-detects Maven), then converted to Faceted form, which auto-added Java nature, then ran &quot;mvn eclipse:eclipse&quot; from the command line.  This brought me back to an almost correct configuration, with several artifacts with the almost correct version, with all references using M2_REPO.</p>\n<p>This makes it clear it wasn't m2e that was producing the incorrect version numbers, but the &quot;eclipse&quot; plugin.  M2e didn't even produce a .classpath file, because it didn't know it was a Java project.</p>\n<p><strong>Update</strong>:</p>\n<p>I believe I've found the element in the original pom.xml such that when this project is imported, m2e doesn't acknowledge it is a Java project, which results in no .classpath file being created.</p>\n<p>Before I post what I found, I wanted to say that I didn't write this, I'm just trying to figure out why it's broken.  The thing that someone put in here is something I would never do, and I had noticed it earlier, but it didn't occur to me it would result in what I've been seeing.</p>\n<p>What I found in plugins was a &quot;lifecycle-mapping&quot; plugin, looking like this:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;lifecycleMappingMetadata&gt;\n            &lt;pluginExecutions&gt;\n                &lt;pluginExecution&gt;\n                    &lt;pluginExecutionFilter&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;versionRange&gt;[3.8.0,)&lt;/versionRange&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/pluginExecutionFilter&gt;\n                    &lt;action&gt; &lt;ignore&gt;&lt;/ignore&gt; &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n            &lt;/pluginExecutions&gt;\n        &lt;/lifecycleMappingMetadata&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When I change nothing else in the pom.xml but comment this out, importing this project works correctly.</p>\n<p>Frankly, I don't really know why some people in my org do this.  I think they must give up trying to properly configure m2e, and this is just a way to get rid of the red Xs (even if it doesn't actually fix anything).</p>\n<p>Obviously, the fix is to just remove this, but I'd appreciate any background anyone could provide on why someone might do this, and what they should be doing instead.</p>\n"},{"tags":["java","python","eclipse","spring-tool-suite","shortcut"],"comments":[{"owner":{"account_id":1483926,"reputation":1066,"user_id":1392578,"accept_rate":100,"display_name":"Neil P."},"score":1,"creation_date":1500736322,"post_id":45256038,"comment_id":77475732,"body_markdown":"Would probably be helpful if you let us know which version of Eclipse you&#39;re using (Kepler,Mars, etc.)","body":"Would probably be helpful if you let us know which version of Eclipse you&#39;re using (Kepler,Mars, etc.)"},{"owner":{"account_id":3880486,"reputation":407,"user_id":3259505,"accept_rate":100,"display_name":"Jagadeesh"},"score":0,"creation_date":1500737607,"post_id":45256038,"comment_id":77476117,"body_markdown":"@Neil I am using Eclipse Neon.3","body":"@Neil I am using Eclipse Neon.3"},{"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"score":1,"creation_date":1500789383,"post_id":45256038,"comment_id":77487257,"body_markdown":"Vote +1. I have the same problem, using default key binding on Spring Tool Suite - Version: 3.9.0.RELEASE, Build Id: 201707061903, Platform: Eclipse Neon.3 (4.6.3)","body":"Vote +1. I have the same problem, using default key binding on Spring Tool Suite - Version: 3.9.0.RELEASE, Build Id: 201707061903, Platform: Eclipse Neon.3 (4.6.3)"}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1501680100,"creation_date":1500819968,"answer_id":45266159,"question_id":45256038,"body_markdown":"The Java *Organize Import* command is **overwritten by another &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; command**: in *Window &gt; Preferences: General &gt; Keys* the Java *Organize Import* command (where *When* is *In Windows*) is bound to &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;, but in the main and right-click menu *Source &gt; Organize Imports* the command is displayed without the shortcut.\r\n\r\nThere are two solutions for this problem:\r\n\r\n - Change or **remove the shortcut of the command that overwrites** the Java *Organize Import* command:\r\n \r\n  1. Find the command: In the Java editor press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt; and see which command is bound to &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;. Probably, it is the ***Beans Quick Outline*** command.\r\n  2. In *Window &gt; Preferences: General &gt; Keys* change or remove the binding for the found command.\r\n\r\n - **Restricts the scope of the shortcut** of Java *Organize Import* to the Java editor:\r\n  1. In *Window &gt; Preferences: General &gt; Keys* select the Java ***Organize Import*** command and **change *When*** from ***In Windows*** to ***Editing Java Source***. This solution restricts &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; to the Java editor and disables the shortcut in the *Package/Project Explorer*.\r\n\r\nSee also: [Spring IDE issue #160: *organize imports is not working*][1] \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-ide/issues/160","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>The Java <em>Organize Import</em> command is <strong>overwritten by another <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd> command</strong>: in <em>Window > Preferences: General > Keys</em> the Java <em>Organize Import</em> command (where <em>When</em> is <em>In Windows</em>) is bound to <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd>, but in the main and right-click menu <em>Source > Organize Imports</em> the command is displayed without the shortcut.</p>\n\n<p>There are two solutions for this problem:</p>\n\n<ul>\n<li><p>Change or <strong>remove the shortcut of the command that overwrites</strong> the Java <em>Organize Import</em> command:</p>\n\n<ol>\n<li>Find the command: In the Java editor press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>L</kbd> and see which command is bound to <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd>. Probably, it is the <strong><em>Beans Quick Outline</em></strong> command.</li>\n<li>In <em>Window > Preferences: General > Keys</em> change or remove the binding for the found command.</li>\n</ol></li>\n<li><p><strong>Restricts the scope of the shortcut</strong> of Java <em>Organize Import</em> to the Java editor:</p>\n\n<ol>\n<li>In <em>Window > Preferences: General > Keys</em> select the Java <strong><em>Organize Import</em></strong> command and <strong>change <em>When</em></strong> from <strong><em>In Windows</em></strong> to <strong><em>Editing Java Source</em></strong>. This solution restricts <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd> to the Java editor and disables the shortcut in the <em>Package/Project Explorer</em>.</li>\n</ol></li>\n</ul>\n\n<p>See also: <a href=\"https://github.com/spring-projects/spring-ide/issues/160\" rel=\"noreferrer\">Spring IDE issue #160: <em>organize imports is not working</em></a> </p>\n"},{"tags":[],"owner":{"account_id":2471790,"reputation":608,"user_id":2153465,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1505826795,"creation_date":1501586842,"answer_id":45436548,"question_id":45256038,"body_markdown":"To fix this issue:\r\n\r\nGo to `Preferences` -&gt; `General` -&gt; `Keys`\r\nClick on `Filters...` and de-select `Filter uncategorized commands` then `Ok`.\r\n\r\nThen look for the command `Go To Symbol in File` and select it.\r\nThen click on `Unbind` and then `Apply` and Close\r\n\r\n**&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;**. should now work.\r\n\r\nEDIT:\r\n\r\nAlso unbind any other conflicting commands and leave only one command for **&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;** and set the `When` to `Editing Java Source`.\r\n","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>To fix this issue:</p>\n\n<p>Go to <code>Preferences</code> -> <code>General</code> -> <code>Keys</code>\nClick on <code>Filters...</code> and de-select <code>Filter uncategorized commands</code> then <code>Ok</code>.</p>\n\n<p>Then look for the command <code>Go To Symbol in File</code> and select it.\nThen click on <code>Unbind</code> and then <code>Apply</code> and Close</p>\n\n<p><strong><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd></strong>. should now work.</p>\n\n<p>EDIT:</p>\n\n<p>Also unbind any other conflicting commands and leave only one command for <strong><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd></strong> and set the <code>When</code> to <code>Editing Java Source</code>.</p>\n"},{"tags":[],"owner":{"account_id":9816388,"reputation":1294,"user_id":7272763,"accept_rate":100,"display_name":"ibercode"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521984877,"creation_date":1506084976,"answer_id":46365369,"question_id":45256038,"body_markdown":"Window -&gt; Preferences -&gt; General -&gt; Keys\r\n\r\nClick on Binding to sort by Binding then scroll and find &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;\r\n\r\nIf several Organized imports are present edit one bind and choose WHEN: EDITING JAVA SOURCE.\r\n\r\nRemove( UNBIND COMMAND) for other existing bindings.\r\n\r\nRestart Eclipse\r\n![Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J2hUN.jpg","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>Window -> Preferences -> General -> Keys</p>\n\n<p>Click on Binding to sort by Binding then scroll and find <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd></p>\n\n<p>If several Organized imports are present edit one bind and choose WHEN: EDITING JAVA SOURCE.</p>\n\n<p>Remove( UNBIND COMMAND) for other existing bindings.</p>\n\n<p>Restart Eclipse\n<img src=\"https://i.stack.imgur.com/J2hUN.jpg\" alt=\"Image\"></p>\n"},{"tags":[],"owner":{"account_id":6868978,"reputation":721,"user_id":5280183,"display_name":"andrbrue"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1601555114,"creation_date":1522204462,"answer_id":49525186,"question_id":45256038,"body_markdown":"Please keep in mind that if you are using an AMD GPU, your Radeon Driver could block &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; which is used to toggle an ingame-overlay. It can be changed to other keys as follows: **Games → global settings → performance monitoring**","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>Please keep in mind that if you are using an AMD GPU, your Radeon Driver could block <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd> which is used to toggle an ingame-overlay. It can be changed to other keys as follows: <strong>Games → global settings → performance monitoring</strong></p>\n"},{"tags":[],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584809370,"creation_date":1584809370,"answer_id":60790548,"question_id":45256038,"body_markdown":"Above shortcut resulted in GPU details being popped up on my screen. SO it was bound to some other app which was overriding it. What worked for me is \r\n -&gt; [check][1].\r\n\r\nYou need to go to Gaming &gt; Global Settings &gt; Performance Monitoring &gt; Toggle Performance Logging Hotkey\r\n\r\nYou will see this is bound to Ctrl + Shift + O (so the shortcut is used - just buried).\r\n\r\nTo remove the shortcut (not an obvious process at all!) you need to click the Toggle Performance Logging Hotkey button, it will then ask to enter your hotkey, you then press delete - that is Del (not backspace, not esc or anything else - the Del key).\r\n\r\n\r\n  [1]: https://community.amd.com/thread/227221","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>Above shortcut resulted in GPU details being popped up on my screen. SO it was bound to some other app which was overriding it. What worked for me is \n -> <a href=\"https://community.amd.com/thread/227221\" rel=\"nofollow noreferrer\">check</a>.</p>\n\n<p>You need to go to Gaming > Global Settings > Performance Monitoring > Toggle Performance Logging Hotkey</p>\n\n<p>You will see this is bound to Ctrl + Shift + O (so the shortcut is used - just buried).</p>\n\n<p>To remove the shortcut (not an obvious process at all!) you need to click the Toggle Performance Logging Hotkey button, it will then ask to enter your hotkey, you then press delete - that is Del (not backspace, not esc or anything else - the Del key).</p>\n"},{"tags":[],"owner":{"account_id":18696854,"reputation":1,"user_id":13629965,"display_name":"Yalcin Yildiz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595797928,"creation_date":1595797928,"answer_id":63105744,"question_id":45256038,"body_markdown":"i did all but not worked so i checked the AMD forum (https://community.amd.com/thread/227221) and found out my solution which is;\r\n&quot;Now I find that all I need to do is to go to Radeon Settings -&gt; Preferences and uncheck the Show Overlay box.&quot;\r\n\r\n ","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>i did all but not worked so i checked the AMD forum (<a href=\"https://community.amd.com/thread/227221\" rel=\"nofollow noreferrer\">https://community.amd.com/thread/227221</a>) and found out my solution which is;\n&quot;Now I find that all I need to do is to go to Radeon Settings -&gt; Preferences and uncheck the Show Overlay box.&quot;</p>\n"}],"owner":{"account_id":3880486,"reputation":407,"user_id":3259505,"accept_rate":100,"display_name":"Jagadeesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40865,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":45436548,"answer_count":6,"score":38,"last_activity_date":1643665037,"creation_date":1500736195,"question_id":45256038,"body_markdown":"Eclipse used to import missing packages when I press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;.\r\n\r\n   The shortcut key has stopped working when used in Java files but the same shortcut is working in Python files (importing missing packages).\r\n   \r\n   Any thoughts on how to fix the issue. \r\n \r\n   Below are couple of snapshots for your reference.\r\n\r\n[![Keys Binding][1]][1]\r\n\r\n[![Organize Imports in Source][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EsKEr.png\r\n  [2]: https://i.stack.imgur.com/vtzNx.png","title":"Eclipse Organize Imports Shortcut (Ctrl+Shift+O) is not working","body":"<p>Eclipse used to import missing packages when I press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>O</kbd>.</p>\n\n<p>The shortcut key has stopped working when used in Java files but the same shortcut is working in Python files (importing missing packages).</p>\n\n<p>Any thoughts on how to fix the issue. </p>\n\n<p>Below are couple of snapshots for your reference.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EsKEr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EsKEr.png\" alt=\"Keys Binding\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/vtzNx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vtzNx.png\" alt=\"Organize Imports in Source\"></a></p>\n"},{"tags":["java","android","android-studio","android-api-30"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642803870,"post_id":70807554,"comment_id":125178274,"body_markdown":"`File filePath = new File(root + uri);` ? root + uri? An uri? Please tell value of filePath.getAbsolutePath(). If an app can create a directory it can certainly delete it.","body":"<code>File filePath = new File(root + uri);</code> ? root + uri? An uri? Please tell value of filePath.getAbsolutePath(). If an app can create a directory it can certainly delete it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642803961,"post_id":70807554,"comment_id":125178297,"body_markdown":"First show the code where your app creates the folders. After that the delete code. Show us what you do.","body":"First show the code where your app creates the folders. After that the delete code. Show us what you do."}],"owner":{"account_id":21252230,"reputation":61,"user_id":15634321,"display_name":"Matin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643664497,"creation_date":1642798589,"question_id":70807554,"body_markdown":"I created an app that creates folders based on the user&#39;s name, and there is an option to delete those folders, and even delete pre-made folders without my app.\r\n\r\nMy app works well on Android 8, 8.1 and 9, but it is different in newer versions of Android and I can no longer delete folders.\r\n\r\nI requested access to memory and read and write using this\r\n\r\n```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nIn Java code:\r\n\r\n```java\r\nActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, \r\n                Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                PackageManager.PERMISSION_GRANTED);\r\n```\r\n\r\nAnd this my code for delete folders:\r\n\r\n```java\r\n        if (filePath.exists()) {\r\n            if (filePath.delete()) {\r\n                Toast.makeText(this, &quot;Delete Folder Successfully.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n```\r\n\r\nI create Folder like this:\r\n\r\n```java\r\n        create_folder = (EditText) findViewById(R.id.creat_folder);\r\n        submitButton = (Button) findViewById(R.id.submitButton);\r\n        submitButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                create_folder = new_created_folder.getText().toString();\r\n            }\r\n        });\r\n    }\r\n\r\n    String root = Environment.getExternalStorageDirectory().toString();\r\n    File filePath = new File(root + create_folder);\r\n    \r\n    public void creatFile(View view){\r\n        try {\r\n            filePath.createNewFile();\r\n\r\n            Toast.makeText(this,&quot;Ready For Generate..&quot;,Toast.LENGTH_LONG).show();\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;m sure that creating folders works properly, but I also want my software to be able to delete folders on the device itself (folders that were previously created without using my app)\r\n\r\nI do not know what to do in Android 10 and 11 and is there any way to delete folders in these?\r\n","title":"How delete Folder on Android API 30 and API 29","body":"<p>I created an app that creates folders based on the user's name, and there is an option to delete those folders, and even delete pre-made folders without my app.</p>\n<p>My app works well on Android 8, 8.1 and 9, but it is different in newer versions of Android and I can no longer delete folders.</p>\n<p>I requested access to memory and read and write using this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>In Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE, \n                Manifest.permission.READ_EXTERNAL_STORAGE},\n                PackageManager.PERMISSION_GRANTED);\n</code></pre>\n<p>And this my code for delete folders:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        if (filePath.exists()) {\n            if (filePath.delete()) {\n                Toast.makeText(this, &quot;Delete Folder Successfully.&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n</code></pre>\n<p>I create Folder like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        create_folder = (EditText) findViewById(R.id.creat_folder);\n        submitButton = (Button) findViewById(R.id.submitButton);\n        submitButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                create_folder = new_created_folder.getText().toString();\n            }\n        });\n    }\n\n    String root = Environment.getExternalStorageDirectory().toString();\n    File filePath = new File(root + create_folder);\n    \n    public void creatFile(View view){\n        try {\n            filePath.createNewFile();\n\n            Toast.makeText(this,&quot;Ready For Generate..&quot;,Toast.LENGTH_LONG).show();\n        }\n        catch (IOException e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I'm sure that creating folders works properly, but I also want my software to be able to delete folders on the device itself (folders that were previously created without using my app)</p>\n<p>I do not know what to do in Android 10 and 11 and is there any way to delete folders in these?</p>\n"},{"tags":["java","raspberry-pi","sensors","grovepi+"],"answers":[{"tags":[],"owner":{"account_id":23842,"reputation":2431,"user_id":60114,"accept_rate":100,"display_name":"Boris Daich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643024404,"creation_date":1643024404,"answer_id":70833291,"question_id":70827164,"body_markdown":"    @GroveAnalogPin\r\n    public class GrovePHSensor extends GroveAnalogInputDevice&lt;Double&gt; {\r\n\t     private static final Logger l = \r\n         LogManager.getLogger(GrovePHSensor.class.getName());\r\n\t     /*** pH values range */\r\n\t     public static final double PH_RANGE = 14.0;\r\n\t    /*** \r\n          number of possible samples with 10 bit analog to digital converter \r\n         */\r\n\t    public static final int A2D_RANGE = 1023;\r\n\r\n\tpublic GrovePHSensor(GrovePi grovePi, int pin) throws IOException {\r\n\t\tsuper(grovePi.getAnalogIn(pin, 4));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Double get(byte[] data) {\r\n\t\t// the extraction of the value is taken from the sample of the \r\n        // RotarySensor3Led \r\n        // https://github.com/DexterInd/GrovePi/blob/master/Software/Java8/GrovePi-spec/src/main/java/org/iot/raspberry/grovepi/devices/GroveRotarySensor.java\r\n        // this is how its is done there\r\n\r\n\t\tint[] v = GroveUtil.unsign(data);\r\n\t\tdouble sensorValue = (v[1] * 256) + v[2];\r\n\r\n\t\t// the Analog to Digital is 10 bit -&gt; 1023 intervals that cover the range of pH of 0 to 14\r\n\t\t// hence the pH value is the sensor value that is 0 to 1024\r\n\t\t// times the pH per interval of the A2D 14/1023\r\n\t\tdouble ph = sensorValue * (PH_RANGE / (double) A2D_RANGE);\r\n\t\tl.trace(&quot;sensorValue = {}  ph={}&quot;, sensorValue, ph);\r\n\t\treturn ph;\r\n\t    }\r\n    }","title":"how to get pH in Java using Grove - PH Sensor Kit (E-201C-Blue) Raspberry pi Zero and GrovePi Zero Board","body":"<pre><code>@GroveAnalogPin\npublic class GrovePHSensor extends GroveAnalogInputDevice&lt;Double&gt; {\n     private static final Logger l = \n     LogManager.getLogger(GrovePHSensor.class.getName());\n     /*** pH values range */\n     public static final double PH_RANGE = 14.0;\n    /*** \n      number of possible samples with 10 bit analog to digital converter \n     */\n    public static final int A2D_RANGE = 1023;\n\npublic GrovePHSensor(GrovePi grovePi, int pin) throws IOException {\n    super(grovePi.getAnalogIn(pin, 4));\n}\n\n@Override\npublic Double get(byte[] data) {\n    // the extraction of the value is taken from the sample of the \n    // RotarySensor3Led \n    // https://github.com/DexterInd/GrovePi/blob/master/Software/Java8/GrovePi-spec/src/main/java/org/iot/raspberry/grovepi/devices/GroveRotarySensor.java\n    // this is how its is done there\n\n    int[] v = GroveUtil.unsign(data);\n    double sensorValue = (v[1] * 256) + v[2];\n\n    // the Analog to Digital is 10 bit -&gt; 1023 intervals that cover the range of pH of 0 to 14\n    // hence the pH value is the sensor value that is 0 to 1024\n    // times the pH per interval of the A2D 14/1023\n    double ph = sensorValue * (PH_RANGE / (double) A2D_RANGE);\n    l.trace(&quot;sensorValue = {}  ph={}&quot;, sensorValue, ph);\n    return ph;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23842,"reputation":2431,"user_id":60114,"accept_rate":100,"display_name":"Boris Daich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70833291,"answer_count":1,"score":1,"last_activity_date":1643663691,"creation_date":1642977061,"question_id":70827164,"body_markdown":"I have [GrovePi Zero（GrovePi0）][1] from [GrovePi Zero Base Kit][2] and [Grove - PH Sensor Kit (E-201C-Blue)][3] \r\nI am using Java (I can use any version of JDK 8...17) on a Raspberry Pi Zerro 2. \r\nwith GrovePi-pi4j with Pi4j version 1.4 (can use any version)\r\n\r\nmy class GrovePHSensor below represents the PH Sensor.\r\n\r\n    @GroveAnalogPin\r\n    public class GrovePHSensor extends GroveAnalogInputDevice&lt;Double&gt; {\r\n\t   \r\n\tpublic GrovePHSensor(GrovePi grovePi, int pin) throws IOException {\r\n\t\tsuper(grovePi.getAnalogIn(pin, 4));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Double get(byte[] data) {\r\n     /// WHAT TO DO HERE?\r\n    }\r\n    }\r\n \r\nthe problem is that there are tons of strange code out there that give different result \r\nand even if I think that I understand what it does I am not sure if it the right thing to do.\r\n\r\nfor example the this thread is very confusing https://forum.dexterindustries.com/t/grove-ph-sensor-kit-e-201c-blue-raspberry-pi-zero/7961/13\r\n\r\nat the same time wiki page at Seeed https://wiki.seeedstudio.com/Grove-PH-Sensor-kit/\r\ngives a sample code for Arduino with different formula \r\n\r\nwhen I read the 4 byte[] i get something like [Pi4J IO read][0, 1, -106, -1]\r\nif i read more than 4 bytes than all the bytes at the end are -1\r\n\r\nwould be nice to have a clear implementation of the ``` public Double get(byte[] data) {}```\r\nfunction ...\r\n\r\n  [1]: https://www.seeedstudio.com/GrovePi-Zero-GrovePi0.html\r\n  [2]: https://www.seeedstudio.com/GrovePi-Zero-Base-Kit.html\r\n  [3]: https://www.seeedstudio.com/Grove-PH-Sensor-Kit-E-201C-Blue-p-4577.html","title":"how to get pH in Java using Grove - PH Sensor Kit (E-201C-Blue) Raspberry pi Zero and GrovePi Zero Board","body":"<p>I have <a href=\"https://www.seeedstudio.com/GrovePi-Zero-GrovePi0.html\" rel=\"nofollow noreferrer\">GrovePi Zero（GrovePi0）</a> from <a href=\"https://www.seeedstudio.com/GrovePi-Zero-Base-Kit.html\" rel=\"nofollow noreferrer\">GrovePi Zero Base Kit</a> and <a href=\"https://www.seeedstudio.com/Grove-PH-Sensor-Kit-E-201C-Blue-p-4577.html\" rel=\"nofollow noreferrer\">Grove - PH Sensor Kit (E-201C-Blue)</a>\nI am using Java (I can use any version of JDK 8...17) on a Raspberry Pi Zerro 2.\nwith GrovePi-pi4j with Pi4j version 1.4 (can use any version)</p>\n<p>my class GrovePHSensor below represents the PH Sensor.</p>\n<pre><code>@GroveAnalogPin\npublic class GrovePHSensor extends GroveAnalogInputDevice&lt;Double&gt; {\n   \npublic GrovePHSensor(GrovePi grovePi, int pin) throws IOException {\n    super(grovePi.getAnalogIn(pin, 4));\n}\n\n@Override\npublic Double get(byte[] data) {\n /// WHAT TO DO HERE?\n}\n}\n</code></pre>\n<p>the problem is that there are tons of strange code out there that give different result\nand even if I think that I understand what it does I am not sure if it the right thing to do.</p>\n<p>for example the this thread is very confusing <a href=\"https://forum.dexterindustries.com/t/grove-ph-sensor-kit-e-201c-blue-raspberry-pi-zero/7961/13\" rel=\"nofollow noreferrer\">https://forum.dexterindustries.com/t/grove-ph-sensor-kit-e-201c-blue-raspberry-pi-zero/7961/13</a></p>\n<p>at the same time wiki page at Seeed <a href=\"https://wiki.seeedstudio.com/Grove-PH-Sensor-kit/\" rel=\"nofollow noreferrer\">https://wiki.seeedstudio.com/Grove-PH-Sensor-kit/</a>\ngives a sample code for Arduino with different formula</p>\n<p>when I read the 4 byte[] i get something like [Pi4J IO read][0, 1, -106, -1]\nif i read more than 4 bytes than all the bytes at the end are -1</p>\n<p>would be nice to have a clear implementation of the <code> public Double get(byte[] data) {}</code>\nfunction ...</p>\n"},{"tags":["java","spring","https","mtls"],"answers":[{"tags":[],"owner":{"account_id":9573738,"reputation":11,"user_id":7110608,"display_name":"L.Bai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643663121,"creation_date":1643663121,"answer_id":70932820,"question_id":68721283,"body_markdown":"you need to enable http on the server you are sending request to.","title":"I want spring boot application which accepts https request and send this request to other app on http and send this http response back to https req","body":"<p>you need to enable http on the server you are sending request to.</p>\n"}],"owner":{"account_id":11164629,"reputation":1,"user_id":8193676,"display_name":"Dipisha jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643663121,"creation_date":1628571435,"question_id":68721283,"body_markdown":"I tried and able to read the CA certificates succsssfully send in request. But when sending request to other app over http getting error as &quot; This combination of host and port required TLS&quot; . Is there any way I can send the request to http and on receiving response, send this response back to https request.","title":"I want spring boot application which accepts https request and send this request to other app on http and send this http response back to https req","body":"<p>I tried and able to read the CA certificates succsssfully send in request. But when sending request to other app over http getting error as &quot; This combination of host and port required TLS&quot; . Is there any way I can send the request to http and on receiving response, send this response back to https request.</p>\n"},{"tags":["java","servlets","jetty","classloader"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643663015,"creation_date":1643640083,"answer_id":70927845,"question_id":70927273,"body_markdown":"\r\nIf you just want the servlet to init on startup, then use the annotation ...\r\n\r\n``` java\r\n@WebServlet(\r\n    displayName = &quot;MyServlet&quot;, \r\n    urlPatterns = { &quot;/*&quot; },\r\n    loadOnStartup = 1\r\n)\r\n```\r\n\r\nAlternatively, you could register a `javax.servlet.ServletContextListener` that does the `contextInitialized(ServletContextEvent sce)` behavior you need.\r\n\r\nTip: if you define a custom the `ServletContextListener` for embedded use, you can just add it to the `WebAppContext` from outside of the WAR you are using.\r\n\r\nExample:\r\n\r\n``` java\r\nwebApp.getServletHandler()\r\n    .addListener(new ListenerHolder(MyContextListener.class));\r\n```\r\n\r\nAlso, this block of code is wrong and shows you copy/pasted from an old code snippet (this technique is from circa Jetty 9.0.0 thru 9.2.16)\r\n\r\n``` java\r\n        webApp.setConfigurations(new Configuration[] {\r\n                new AnnotationConfiguration(),\r\n                new WebInfConfiguration(),\r\n                new WebXmlConfiguration(),\r\n                new MetaInfConfiguration(),\r\n                new FragmentConfiguration(),\r\n                new EnvConfiguration(),\r\n                new PlusConfiguration(),\r\n                new JettyWebXmlConfiguration()\r\n        });\r\n```\r\n\r\nIn Jetty 9.4.x you never directly configure the `webApp.setConfigurations()` like that, use the `Configuration.ClassList` defined on the server instead ...\r\n\r\nFrom: [9.4.44.v20210927 - embedded/LikeJettyXml.java](https://github.com/eclipse/jetty.project/blob/jetty-9.4.44.v20210927/examples/embedded/src/main/java/org/eclipse/jetty/embedded/LikeJettyXml.java#L169-L177)\r\n\r\n``` java\r\nConfiguration.ClassList classlist = Configuration.ClassList\r\n    .setServerDefault(server);\r\nclasslist.addAfter(\r\n    &quot;org.eclipse.jetty.webapp.FragmentConfiguration&quot;,\r\n    &quot;org.eclipse.jetty.plus.webapp.EnvConfiguration&quot;,\r\n    &quot;org.eclipse.jetty.plus.webapp.PlusConfiguration&quot;);\r\nclasslist.addBefore(\r\n    &quot;org.eclipse.jetty.webapp.JettyWebXmlConfiguration&quot;,\r\n    &quot;org.eclipse.jetty.annotations.AnnotationConfiguration&quot;);\r\n```\r\n\r\nStarting in Jetty 10.0.0, you never specify the Configuration classes, or their order, as the existence of the support JAR is enough, and internally in Jetty 10 the order is resolved properly.\r\n\r\nBut if you need to add Configurations (due to non-standard deployment concerns where the Java `ServiceLoader` doesn&#39;t work), then you still configure the additional Configurations on the server object (but without worrying about the correct order for those configurations)\r\n\r\nFrom [10.0.7 - embedded/demos/LikeJettyXml.java](https://github.com/eclipse/jetty.project/blob/jetty-10.0.7/demos/embedded/src/main/java/org/eclipse/jetty/demos/LikeJettyXml.java#L161)\r\n\r\n``` java\r\nConfigurations.setServerDefault(server).add(\r\n    new EnvConfiguration(), \r\n    new PlusConfiguration(), \r\n    new AnnotationConfiguration()\r\n);\r\n```\r\n","title":"Init servlet instantly after the embedded jetty server starts","body":"<p>If you just want the servlet to init on startup, then use the annotation ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(\n    displayName = &quot;MyServlet&quot;, \n    urlPatterns = { &quot;/*&quot; },\n    loadOnStartup = 1\n)\n</code></pre>\n<p>Alternatively, you could register a <code>javax.servlet.ServletContextListener</code> that does the <code>contextInitialized(ServletContextEvent sce)</code> behavior you need.</p>\n<p>Tip: if you define a custom the <code>ServletContextListener</code> for embedded use, you can just add it to the <code>WebAppContext</code> from outside of the WAR you are using.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webApp.getServletHandler()\n    .addListener(new ListenerHolder(MyContextListener.class));\n</code></pre>\n<p>Also, this block of code is wrong and shows you copy/pasted from an old code snippet (this technique is from circa Jetty 9.0.0 thru 9.2.16)</p>\n<pre class=\"lang-java prettyprint-override\"><code>        webApp.setConfigurations(new Configuration[] {\n                new AnnotationConfiguration(),\n                new WebInfConfiguration(),\n                new WebXmlConfiguration(),\n                new MetaInfConfiguration(),\n                new FragmentConfiguration(),\n                new EnvConfiguration(),\n                new PlusConfiguration(),\n                new JettyWebXmlConfiguration()\n        });\n</code></pre>\n<p>In Jetty 9.4.x you never directly configure the <code>webApp.setConfigurations()</code> like that, use the <code>Configuration.ClassList</code> defined on the server instead ...</p>\n<p>From: <a href=\"https://github.com/eclipse/jetty.project/blob/jetty-9.4.44.v20210927/examples/embedded/src/main/java/org/eclipse/jetty/embedded/LikeJettyXml.java#L169-L177\" rel=\"nofollow noreferrer\">9.4.44.v20210927 - embedded/LikeJettyXml.java</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Configuration.ClassList classlist = Configuration.ClassList\n    .setServerDefault(server);\nclasslist.addAfter(\n    &quot;org.eclipse.jetty.webapp.FragmentConfiguration&quot;,\n    &quot;org.eclipse.jetty.plus.webapp.EnvConfiguration&quot;,\n    &quot;org.eclipse.jetty.plus.webapp.PlusConfiguration&quot;);\nclasslist.addBefore(\n    &quot;org.eclipse.jetty.webapp.JettyWebXmlConfiguration&quot;,\n    &quot;org.eclipse.jetty.annotations.AnnotationConfiguration&quot;);\n</code></pre>\n<p>Starting in Jetty 10.0.0, you never specify the Configuration classes, or their order, as the existence of the support JAR is enough, and internally in Jetty 10 the order is resolved properly.</p>\n<p>But if you need to add Configurations (due to non-standard deployment concerns where the Java <code>ServiceLoader</code> doesn't work), then you still configure the additional Configurations on the server object (but without worrying about the correct order for those configurations)</p>\n<p>From <a href=\"https://github.com/eclipse/jetty.project/blob/jetty-10.0.7/demos/embedded/src/main/java/org/eclipse/jetty/demos/LikeJettyXml.java#L161\" rel=\"nofollow noreferrer\">10.0.7 - embedded/demos/LikeJettyXml.java</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Configurations.setServerDefault(server).add(\n    new EnvConfiguration(), \n    new PlusConfiguration(), \n    new AnnotationConfiguration()\n);\n</code></pre>\n"}],"owner":{"account_id":17881132,"reputation":167,"user_id":12989881,"display_name":"CooderSK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70927845,"answer_count":1,"score":1,"last_activity_date":1643663015,"creation_date":1643637737,"question_id":70927273,"body_markdown":"I need to run my own logic after the jetty embedded server starts. I&#39;m not starting it from the main class due to classloader issues. An ideal solution seemed to be running my server logic from a servlet initialization. But the init function and also the constructor is not called after the jetty server start. An instance of the servlet is being created during the first HTTP request. Is it possible to tell jetty to initialize my servlet instantly or do I really need to load all classes with my custom classloader and then start the jetty server?\r\n\r\nThis is the main class:\r\n\r\n    public class ServerLauncher {\r\n        public static void main(String[] args) {\r\n            JettyServerLauncher.launchHttp(&quot;target/server.war&quot;, &quot;0.0.0.0&quot;, 8080);\r\n            // Starting my own logic here is causing classloader issues, because WebSocket classes are loaded by other classloader than my classes, that is the reason why I moved it into the servlet\r\n        }\r\n    }\r\n\r\n\r\nThis is my jetty embedded server launcher:\r\n\r\n    import org.eclipse.jetty.annotations.AnnotationConfiguration;\r\n    import org.eclipse.jetty.http.HttpVersion;\r\n    import org.eclipse.jetty.plus.webapp.EnvConfiguration;\r\n    import org.eclipse.jetty.plus.webapp.PlusConfiguration;\r\n    import org.eclipse.jetty.server.*;\r\n    import org.eclipse.jetty.server.handler.ContextHandlerCollection;\r\n    import org.eclipse.jetty.server.handler.HandlerCollection;\r\n    import org.eclipse.jetty.util.ssl.SslContextFactory;\r\n    import org.eclipse.jetty.webapp.*;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class JettyServerLauncher {\r\n        private static boolean isHttps;\r\n        private static File keyStoreFile;\r\n        private static String warPath;\r\n        private static String host;\r\n        private static int httpPort;\r\n        private static int httpsPort;\r\n        private static String keyStorePath;\r\n        private static String keyStorePass;\r\n        private static boolean needClientAuth;\r\n    \r\n        public static void launchHttp(String warPath, String host, int httpPort) {\r\n            JettyServerLauncher.isHttps = false;\r\n            JettyServerLauncher.warPath = warPath;\r\n            JettyServerLauncher.host = host;\r\n            JettyServerLauncher.httpPort = httpPort;\r\n    \r\n            launch();\r\n        }\r\n    \r\n        public static void launchHttps(String warPath, String host, String keyStorePath, String keyStorePass, int httpPort, int httpsPort, boolean needClientAuth) {\r\n            JettyServerLauncher.isHttps = true;\r\n            JettyServerLauncher.warPath = warPath;\r\n            JettyServerLauncher.host = host;\r\n            JettyServerLauncher.httpPort = httpPort;\r\n            JettyServerLauncher.httpsPort = httpsPort;\r\n            JettyServerLauncher.keyStorePath = keyStorePath;\r\n            JettyServerLauncher.keyStorePass = keyStorePass;\r\n            JettyServerLauncher.needClientAuth = needClientAuth;\r\n    \r\n            launch();\r\n        }\r\n    \r\n        private static void launch() {\r\n            Server server = null;\r\n    \r\n            try {\r\n                System.out.println(&quot;Initializing jetty server...&quot;);\r\n    \r\n                if (isHttps) loadKeyStores(keyStorePath);\r\n    \r\n                // Create jetty server\r\n                server = new Server(httpPort);\r\n    \r\n                // Setup connectors\r\n                Connector httpConnector = createHttpConnector(server, host, httpPort, httpsPort);\r\n                if (isHttps) {\r\n                    Connector httpsConnector = createHttpsConnector(server, host, httpsPort, keyStoreFile, keyStorePass, needClientAuth);\r\n                    server.setConnectors(new Connector[]{httpConnector, httpsConnector});\r\n                } else {\r\n                    server.setConnectors(new Connector[]{httpConnector});\r\n                }\r\n    \r\n                // Add handlers for requests to collection of handlers\r\n                HandlerCollection handlers = new ContextHandlerCollection();\r\n                //handlers.addHandler(new SecuredRedirectHandler());\r\n                handlers.addHandler(createWebApp(warPath));\r\n    \r\n                server.setHandler(handlers);\r\n                server.dump();\r\n    \r\n                System.out.println(&quot;Starting jetty websocket and web server...&quot;);\r\n                server.start();\r\n                server.join();\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n                System.err.println(&quot;Server initialization failed!&quot;);\r\n                System.out.println(&quot;Stopping the server...&quot;);\r\n                try {\r\n                    server.stop();\r\n                } catch (Exception ignored) {}\r\n            }\r\n        }\r\n    \r\n        private static WebAppContext createWebApp(String warPath) {\r\n            WebAppContext webApp = new WebAppContext();\r\n            webApp.setContextPath(&quot;/&quot;);\r\n            webApp.setWar(new File(warPath).getAbsolutePath());\r\n            webApp.setThrowUnavailableOnStartupException(true);\r\n    \r\n            // Enable support for JSR-356 javax.websocket\r\n            webApp.setAttribute(&quot;org.eclipse.jetty.websocket.jsr356&quot;, Boolean.TRUE);\r\n    \r\n            // Jetty will scan project for configuration files... This is very important for loading websocket endpoints by annotation automatically\r\n            webApp.setConfigurations(new Configuration[] {\r\n                    new AnnotationConfiguration(),\r\n                    new WebInfConfiguration(),\r\n                    new WebXmlConfiguration(),\r\n                    new MetaInfConfiguration(),\r\n                    new FragmentConfiguration(),\r\n                    new EnvConfiguration(),\r\n                    new PlusConfiguration(),\r\n                    new JettyWebXmlConfiguration()\r\n            });\r\n    \r\n            return webApp;\r\n        }\r\n    \r\n        private static Connector createHttpConnector(Server server, String host, int httpPort, int httpsPort) {\r\n            HttpConfiguration httpConf = new HttpConfiguration();\r\n            httpConf.setSendServerVersion(false);\r\n            if (isHttps) httpConf.setSecurePort(httpsPort);\r\n            ServerConnector connector = new ServerConnector(server, new HttpConnectionFactory(httpConf));\r\n            connector.setPort(httpPort);\r\n            connector.setHost(host);\r\n    \r\n            return connector;\r\n        }\r\n    \r\n        private static Connector createHttpsConnector(Server server, String host, int httpsPort, File keyStoreFile, String keyStorePass, boolean needClientAuth) {\r\n            SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\r\n            sslContextFactory.setKeyStorePath(keyStoreFile.getAbsolutePath());\r\n            sslContextFactory.setKeyStorePassword(keyStorePass);\r\n            sslContextFactory.setNeedClientAuth(needClientAuth);\r\n    \r\n            // Setup HTTPS Configuration\r\n            HttpConfiguration httpsConf = new HttpConfiguration();\r\n            httpsConf.setSendServerVersion(false);\r\n            httpsConf.setSecureScheme(&quot;https&quot;);\r\n            httpsConf.setSecurePort(httpsPort);\r\n            httpsConf.setOutputBufferSize(32768);\r\n            httpsConf.setRequestHeaderSize(8192);\r\n            httpsConf.setResponseHeaderSize(8192);\r\n            httpsConf.addCustomizer(new SecureRequestCustomizer()); // adds ssl info to request object\r\n    \r\n            // Establish the HTTPS ServerConnector\r\n            ServerConnector httpsConnector = new ServerConnector(server, new SslConnectionFactory(sslContextFactory, HttpVersion.HTTP_1_1.asString()), new HttpConnectionFactory(httpsConf));\r\n            httpsConnector.setPort(httpsPort);\r\n            httpsConnector.setHost(host);\r\n    \r\n            return httpsConnector;\r\n        }\r\n    \r\n        private static void loadKeyStores(String keyStorePath) {\r\n            keyStoreFile = new File(keyStorePath);\r\n            if (!keyStoreFile.exists()) {\r\n                throw new RuntimeException(&quot;Key store file does not exist on path &#39;&quot;+keyStoreFile.getAbsolutePath()+&quot;&#39;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is my servlet:\r\n    \r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    @WebServlet(displayName = &quot;MyServlet&quot;, urlPatterns = { &quot;/*&quot; })\r\n    public class MyServlet extends HttpServlet {\r\n        @Override\r\n        public void init() {\r\n            // start new Thread with my server logic here (avoid classloader issues)\r\n            // but at least one HTTP request is needed to start it from this place\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {}\r\n    \r\n        @Override\r\n        public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {\r\n            // handle http requests\r\n        }\r\n    }\r\n\r\nI found this on google, but I don&#39;t know how to use it in my case. https://www.eclipse.org/lists/jetty-users/msg02109.html\r\n\r\nThank you for your help.","title":"Init servlet instantly after the embedded jetty server starts","body":"<p>I need to run my own logic after the jetty embedded server starts. I'm not starting it from the main class due to classloader issues. An ideal solution seemed to be running my server logic from a servlet initialization. But the init function and also the constructor is not called after the jetty server start. An instance of the servlet is being created during the first HTTP request. Is it possible to tell jetty to initialize my servlet instantly or do I really need to load all classes with my custom classloader and then start the jetty server?</p>\n<p>This is the main class:</p>\n<pre><code>public class ServerLauncher {\n    public static void main(String[] args) {\n        JettyServerLauncher.launchHttp(&quot;target/server.war&quot;, &quot;0.0.0.0&quot;, 8080);\n        // Starting my own logic here is causing classloader issues, because WebSocket classes are loaded by other classloader than my classes, that is the reason why I moved it into the servlet\n    }\n}\n</code></pre>\n<p>This is my jetty embedded server launcher:</p>\n<pre><code>import org.eclipse.jetty.annotations.AnnotationConfiguration;\nimport org.eclipse.jetty.http.HttpVersion;\nimport org.eclipse.jetty.plus.webapp.EnvConfiguration;\nimport org.eclipse.jetty.plus.webapp.PlusConfiguration;\nimport org.eclipse.jetty.server.*;\nimport org.eclipse.jetty.server.handler.ContextHandlerCollection;\nimport org.eclipse.jetty.server.handler.HandlerCollection;\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\nimport org.eclipse.jetty.webapp.*;\n\nimport java.io.File;\n\npublic class JettyServerLauncher {\n    private static boolean isHttps;\n    private static File keyStoreFile;\n    private static String warPath;\n    private static String host;\n    private static int httpPort;\n    private static int httpsPort;\n    private static String keyStorePath;\n    private static String keyStorePass;\n    private static boolean needClientAuth;\n\n    public static void launchHttp(String warPath, String host, int httpPort) {\n        JettyServerLauncher.isHttps = false;\n        JettyServerLauncher.warPath = warPath;\n        JettyServerLauncher.host = host;\n        JettyServerLauncher.httpPort = httpPort;\n\n        launch();\n    }\n\n    public static void launchHttps(String warPath, String host, String keyStorePath, String keyStorePass, int httpPort, int httpsPort, boolean needClientAuth) {\n        JettyServerLauncher.isHttps = true;\n        JettyServerLauncher.warPath = warPath;\n        JettyServerLauncher.host = host;\n        JettyServerLauncher.httpPort = httpPort;\n        JettyServerLauncher.httpsPort = httpsPort;\n        JettyServerLauncher.keyStorePath = keyStorePath;\n        JettyServerLauncher.keyStorePass = keyStorePass;\n        JettyServerLauncher.needClientAuth = needClientAuth;\n\n        launch();\n    }\n\n    private static void launch() {\n        Server server = null;\n\n        try {\n            System.out.println(&quot;Initializing jetty server...&quot;);\n\n            if (isHttps) loadKeyStores(keyStorePath);\n\n            // Create jetty server\n            server = new Server(httpPort);\n\n            // Setup connectors\n            Connector httpConnector = createHttpConnector(server, host, httpPort, httpsPort);\n            if (isHttps) {\n                Connector httpsConnector = createHttpsConnector(server, host, httpsPort, keyStoreFile, keyStorePass, needClientAuth);\n                server.setConnectors(new Connector[]{httpConnector, httpsConnector});\n            } else {\n                server.setConnectors(new Connector[]{httpConnector});\n            }\n\n            // Add handlers for requests to collection of handlers\n            HandlerCollection handlers = new ContextHandlerCollection();\n            //handlers.addHandler(new SecuredRedirectHandler());\n            handlers.addHandler(createWebApp(warPath));\n\n            server.setHandler(handlers);\n            server.dump();\n\n            System.out.println(&quot;Starting jetty websocket and web server...&quot;);\n            server.start();\n            server.join();\n        } catch (Throwable t) {\n            t.printStackTrace();\n            System.err.println(&quot;Server initialization failed!&quot;);\n            System.out.println(&quot;Stopping the server...&quot;);\n            try {\n                server.stop();\n            } catch (Exception ignored) {}\n        }\n    }\n\n    private static WebAppContext createWebApp(String warPath) {\n        WebAppContext webApp = new WebAppContext();\n        webApp.setContextPath(&quot;/&quot;);\n        webApp.setWar(new File(warPath).getAbsolutePath());\n        webApp.setThrowUnavailableOnStartupException(true);\n\n        // Enable support for JSR-356 javax.websocket\n        webApp.setAttribute(&quot;org.eclipse.jetty.websocket.jsr356&quot;, Boolean.TRUE);\n\n        // Jetty will scan project for configuration files... This is very important for loading websocket endpoints by annotation automatically\n        webApp.setConfigurations(new Configuration[] {\n                new AnnotationConfiguration(),\n                new WebInfConfiguration(),\n                new WebXmlConfiguration(),\n                new MetaInfConfiguration(),\n                new FragmentConfiguration(),\n                new EnvConfiguration(),\n                new PlusConfiguration(),\n                new JettyWebXmlConfiguration()\n        });\n\n        return webApp;\n    }\n\n    private static Connector createHttpConnector(Server server, String host, int httpPort, int httpsPort) {\n        HttpConfiguration httpConf = new HttpConfiguration();\n        httpConf.setSendServerVersion(false);\n        if (isHttps) httpConf.setSecurePort(httpsPort);\n        ServerConnector connector = new ServerConnector(server, new HttpConnectionFactory(httpConf));\n        connector.setPort(httpPort);\n        connector.setHost(host);\n\n        return connector;\n    }\n\n    private static Connector createHttpsConnector(Server server, String host, int httpsPort, File keyStoreFile, String keyStorePass, boolean needClientAuth) {\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\n        sslContextFactory.setKeyStorePath(keyStoreFile.getAbsolutePath());\n        sslContextFactory.setKeyStorePassword(keyStorePass);\n        sslContextFactory.setNeedClientAuth(needClientAuth);\n\n        // Setup HTTPS Configuration\n        HttpConfiguration httpsConf = new HttpConfiguration();\n        httpsConf.setSendServerVersion(false);\n        httpsConf.setSecureScheme(&quot;https&quot;);\n        httpsConf.setSecurePort(httpsPort);\n        httpsConf.setOutputBufferSize(32768);\n        httpsConf.setRequestHeaderSize(8192);\n        httpsConf.setResponseHeaderSize(8192);\n        httpsConf.addCustomizer(new SecureRequestCustomizer()); // adds ssl info to request object\n\n        // Establish the HTTPS ServerConnector\n        ServerConnector httpsConnector = new ServerConnector(server, new SslConnectionFactory(sslContextFactory, HttpVersion.HTTP_1_1.asString()), new HttpConnectionFactory(httpsConf));\n        httpsConnector.setPort(httpsPort);\n        httpsConnector.setHost(host);\n\n        return httpsConnector;\n    }\n\n    private static void loadKeyStores(String keyStorePath) {\n        keyStoreFile = new File(keyStorePath);\n        if (!keyStoreFile.exists()) {\n            throw new RuntimeException(&quot;Key store file does not exist on path '&quot;+keyStoreFile.getAbsolutePath()+&quot;'&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This is my servlet:</p>\n<pre><code>import javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@WebServlet(displayName = &quot;MyServlet&quot;, urlPatterns = { &quot;/*&quot; })\npublic class MyServlet extends HttpServlet {\n    @Override\n    public void init() {\n        // start new Thread with my server logic here (avoid classloader issues)\n        // but at least one HTTP request is needed to start it from this place\n    }\n\n    @Override\n    public void destroy() {}\n\n    @Override\n    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {\n        // handle http requests\n    }\n}\n</code></pre>\n<p>I found this on google, but I don't know how to use it in my case. <a href=\"https://www.eclipse.org/lists/jetty-users/msg02109.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/lists/jetty-users/msg02109.html</a></p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","postgresql","jpa","eclipselink","java-ee-7"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643128814,"post_id":70849615,"comment_id":125255429,"body_markdown":"Do you see warnings when the Persistence unit is loading? (turn logging on if it isn&#39;t already: https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging ). Logging would also show what it uses to connect and how, and might point to why it isn&#39;t doing what you want. What settings do you have in the persistence.xml?","body":"Do you see warnings when the Persistence unit is loading? (turn logging on if it isn&#39;t already: <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a> ). Logging would also show what it uses to connect and how, and might point to why it isn&#39;t doing what you want. What settings do you have in the persistence.xml?"},{"owner":{"account_id":20980196,"reputation":73,"user_id":17551643,"display_name":"yahyaBdd"},"score":0,"creation_date":1643134344,"post_id":70849615,"comment_id":125257700,"body_markdown":"After turnning the logger on this is the new exception description indicate :` at org.eclipse.persistence.exceptions.ValidationException.errorDecryptingPassword(ValidationException.java:896)`","body":"After turnning the logger on this is the new exception description indicate :` at org.eclipse.persistence.exceptions.ValidationException.error&zwnj;&#8203;DecryptingPassword(V&zwnj;&#8203;alidationException.j&zwnj;&#8203;ava:896)`"},{"owner":{"account_id":20980196,"reputation":73,"user_id":17551643,"display_name":"yahyaBdd"},"score":0,"creation_date":1643134652,"post_id":70849615,"comment_id":125257821,"body_markdown":"there are only the database credentials in persistence.xml","body":"there are only the database credentials in persistence.xml"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643136447,"post_id":70849615,"comment_id":125258558,"body_markdown":"Have you tried removing them? No point putting in the username/password in a static file if you aren&#39;t going to use them anyway.","body":"Have you tried removing them? No point putting in the username/password in a static file if you aren&#39;t going to use them anyway."},{"owner":{"account_id":20980196,"reputation":73,"user_id":17551643,"display_name":"yahyaBdd"},"score":0,"creation_date":1643155321,"post_id":70849615,"comment_id":125264207,"body_markdown":"Thanks @Chris, I solved the problem just by encrypting the password using this code http://www.javamonamour.org/2012/05/eclipse-jpa-errordecryptingpassword.html?m=1","body":"Thanks @Chris, I solved the problem just by encrypting the password using this code <a href=\"http://www.javamonamour.org/2012/05/eclipse-jpa-errordecryptingpassword.html?m=1\" rel=\"nofollow noreferrer\">javamonamour.org/2012/05/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24112643,"reputation":21,"user_id":18083020,"display_name":"Willy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643662129,"creation_date":1643662129,"answer_id":70932630,"question_id":70849615,"body_markdown":"You are using a 32 char password. Eclipselink thinks is encoded and tries to decode it unsuccsesfully, giving the exception you are receiving.\r\n\r\nChange your password to a non 32 multiple length one.\r\n\r\nThe error is already reported to eclipse https://bugs.eclipse.org/bugs/show_bug.cgi?id=569945","title":"How to solve error &quot;java.io.StreamCorruptedException: invalid stream header: 907DD86E&quot; using PostgreSQL with EclipseLink JPA","body":"<p>You are using a 32 char password. Eclipselink thinks is encoded and tries to decode it unsuccsesfully, giving the exception you are receiving.</p>\n<p>Change your password to a non 32 multiple length one.</p>\n<p>The error is already reported to eclipse <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=569945\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=569945</a></p>\n"}],"owner":{"account_id":20980196,"reputation":73,"user_id":17551643,"display_name":"yahyaBdd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643662129,"creation_date":1643118034,"question_id":70849615,"body_markdown":"I&#39;m trying to deploy my webapp on Heroku and I&#39;m using Heroku PostgreSQL database and I encountered the following exception:\r\n\r\n    javax.persistence.PersistenceException: Exception [EclipseLink-7107] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.ValidationException\r\n    Exception Description: Error encountered during string decryption.\r\n    Internal Exception: java.io.StreamCorruptedException: invalid stream header: 907DD86E\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:858)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:222)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.createEntityManagerImpl(EntityManagerFactoryDelegate.java:330)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManagerImpl(EntityManagerFactoryImpl.java:350)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:313)\r\n        at DAO.ClientDAO.&lt;init&gt;(ClientDAO.java:17)\r\n        at controllers.authServlet.doPost(authServlet.java:49)\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:694)\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1705)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: Exception [EclipseLink-7107] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.ValidationException\r\n    Exception Description: Error encountered during string decryption.\r\n    Internal Exception: java.io.StreamCorruptedException: invalid stream header: 907DD86E\r\n        at org.eclipse.persistence.exceptions.ValidationException.errorDecryptingPassword(ValidationException.java:896)\r\n        at org.eclipse.persistence.internal.security.JCEEncryptor.decryptPassword(JCEEncryptor.java:133)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.updateLogins(EntityManagerSetupImpl.java:2481)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.updateSession(EntityManagerSetupImpl.java:2799)\r\n        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:752)\r\n        ... 30 more\r\n    Caused by: java.io.StreamCorruptedException: invalid stream header: 907DD86E\r\n        at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:963)\r\n        at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397)\r\n        at org.eclipse.persistence.internal.security.JCEEncryptor.decryptPassword(JCEEncryptor.java:123)\r\n        ... 33 more\r\n\r\n \r\nIt looks like an issue (https://github.com/eclipse-ee4j/eclipselink/issues/885) with EclipseLink trying to decrypt the database password. Unfortunately, I can&#39;t change it, I tried to pass in the datasource as a parameter instead similar to http://onpersistence.blogspot.com/2008/04/eclipselink-and-datasources.html\r\n\r\n```java\r\npublic class ClientDAO implements Dao&lt;Client&gt; {\r\n    private EntityManagerFactory emf;\r\n    private BaseDataSource createDataSource() { \r\n          BaseDataSource dataSource = new BaseDataSource() {\r\n    \t     @Override public String getDescription() { // TODO Auto-generated method stub\r\n    \t  return null; } };\r\n          int[] portNumber = {5432}; \r\n          String[] serverName ={&quot;SERVER_NAME&quot;};  \r\n    \t  dataSource.setServerNames(serverName); dataSource.setPortNumbers(portNumber);\r\n    \t  dataSource.setDatabaseName(&quot;DB_NAME&quot;);\r\n    \t  dataSource.setUser(&quot;DB_USER&quot;); \r\n          dataSource.setPassword(&quot;df9d43a7c7116b25f514f58a8dff9...&quot;);//some of the actual password\r\n         return dataSource;\r\n     }\r\n    private EntityManagerFactory getEntityManagerFactory() { \r\n          if (emf == null) {\r\n    \t        Map properties = new HashMap();\r\n    \t        properties.put(PersistenceUnitProperties.NON_JTA_DATASOURCE,createDataSource(\r\n    \t  ));\r\n          emf = Persistence.createEntityManagerFactory(&quot;japa2&quot;, properties); \r\n          }\r\n    \t  return emf; \r\n    }\r\n    \t  \r\n    \r\n    private EntityManager entityManager;\r\n    \t\r\n    public ClientDAO() {\r\n\t\tsuper();\r\n\t\temf = getEntityManagerFactory(); \r\n\t\tentityManager = emf.createEntityManager();\r\n\t}\r\n```\r\n\r\nBut still, when I run the app on the server the properties used in persistence.xml are the ones that have been used.\r\n\r\nSo is there any way to use the datasource that I pass instead of persistence.xml properties, or prevent EclipseLink from decrypting the password?","title":"How to solve error &quot;java.io.StreamCorruptedException: invalid stream header: 907DD86E&quot; using PostgreSQL with EclipseLink JPA","body":"<p>I'm trying to deploy my webapp on Heroku and I'm using Heroku PostgreSQL database and I encountered the following exception:</p>\n<pre><code>javax.persistence.PersistenceException: Exception [EclipseLink-7107] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.ValidationException\nException Description: Error encountered during string decryption.\nInternal Exception: java.io.StreamCorruptedException: invalid stream header: 907DD86E\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:858)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:222)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.createEntityManagerImpl(EntityManagerFactoryDelegate.java:330)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManagerImpl(EntityManagerFactoryImpl.java:350)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:313)\n    at DAO.ClientDAO.&lt;init&gt;(ClientDAO.java:17)\n    at controllers.authServlet.doPost(authServlet.java:49)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:694)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1705)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: Exception [EclipseLink-7107] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.ValidationException\nException Description: Error encountered during string decryption.\nInternal Exception: java.io.StreamCorruptedException: invalid stream header: 907DD86E\n    at org.eclipse.persistence.exceptions.ValidationException.errorDecryptingPassword(ValidationException.java:896)\n    at org.eclipse.persistence.internal.security.JCEEncryptor.decryptPassword(JCEEncryptor.java:133)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.updateLogins(EntityManagerSetupImpl.java:2481)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.updateSession(EntityManagerSetupImpl.java:2799)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:752)\n    ... 30 more\nCaused by: java.io.StreamCorruptedException: invalid stream header: 907DD86E\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:963)\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:397)\n    at org.eclipse.persistence.internal.security.JCEEncryptor.decryptPassword(JCEEncryptor.java:123)\n    ... 33 more\n</code></pre>\n<p>It looks like an issue (<a href=\"https://github.com/eclipse-ee4j/eclipselink/issues/885\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/eclipselink/issues/885</a>) with EclipseLink trying to decrypt the database password. Unfortunately, I can't change it, I tried to pass in the datasource as a parameter instead similar to <a href=\"http://onpersistence.blogspot.com/2008/04/eclipselink-and-datasources.html\" rel=\"nofollow noreferrer\">http://onpersistence.blogspot.com/2008/04/eclipselink-and-datasources.html</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClientDAO implements Dao&lt;Client&gt; {\n    private EntityManagerFactory emf;\n    private BaseDataSource createDataSource() { \n          BaseDataSource dataSource = new BaseDataSource() {\n             @Override public String getDescription() { // TODO Auto-generated method stub\n          return null; } };\n          int[] portNumber = {5432}; \n          String[] serverName ={&quot;SERVER_NAME&quot;};  \n          dataSource.setServerNames(serverName); dataSource.setPortNumbers(portNumber);\n          dataSource.setDatabaseName(&quot;DB_NAME&quot;);\n          dataSource.setUser(&quot;DB_USER&quot;); \n          dataSource.setPassword(&quot;df9d43a7c7116b25f514f58a8dff9...&quot;);//some of the actual password\n         return dataSource;\n     }\n    private EntityManagerFactory getEntityManagerFactory() { \n          if (emf == null) {\n                Map properties = new HashMap();\n                properties.put(PersistenceUnitProperties.NON_JTA_DATASOURCE,createDataSource(\n          ));\n          emf = Persistence.createEntityManagerFactory(&quot;japa2&quot;, properties); \n          }\n          return emf; \n    }\n          \n    \n    private EntityManager entityManager;\n        \n    public ClientDAO() {\n        super();\n        emf = getEntityManagerFactory(); \n        entityManager = emf.createEntityManager();\n    }\n</code></pre>\n<p>But still, when I run the app on the server the properties used in persistence.xml are the ones that have been used.</p>\n<p>So is there any way to use the datasource that I pass instead of persistence.xml properties, or prevent EclipseLink from decrypting the password?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":4447573,"reputation":2187,"user_id":3620458,"accept_rate":90,"display_name":"Bragolgirith"},"score":2,"creation_date":1643660600,"post_id":70931953,"comment_id":125395162,"body_markdown":"Use a @NativeQuery?","body":"Use a @NativeQuery?"},{"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"score":0,"creation_date":1643660748,"post_id":70931953,"comment_id":125395215,"body_markdown":"May I ask for an example?","body":"May I ask for an example?"}],"answers":[{"tags":[],"owner":{"account_id":23808028,"reputation":21,"user_id":17817240,"display_name":"ChrisBall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643661951,"creation_date":1643661951,"answer_id":70932596,"question_id":70931953,"body_markdown":"If you are using Spring Data JPA you can try using native query this way:\r\n\r\n```java\r\n @Query(&quot;SELECT FROM Item where Item.id=?1 RETURNING *&quot;, nativeQuery = true)\r\n Optional&lt;Item&gt; deleteByIdReturning(Integer id)\r\n```","title":"Spring Data for Postgresql specific query - DELETE RETURNING with Spring repositories","body":"<p>If you are using Spring Data JPA you can try using native query this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Query(&quot;SELECT FROM Item where Item.id=?1 RETURNING *&quot;, nativeQuery = true)\n Optional&lt;Item&gt; deleteByIdReturning(Integer id)\n</code></pre>\n"}],"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643661951,"creation_date":1643658300,"question_id":70931953,"body_markdown":"My question is very concrete and I could not find any answers on Stackoverflow or wider internet.\r\n\r\nI would like to use Spring repository to execute &quot;DELETE FROM TABLE ... RETURNING *&quot; type of query, which is specific to Postgresql.\r\n\r\nAssume that I have following classes:\r\n\r\n```java\r\n\r\n@Entity\r\n@Getter // lombok annotations\r\n@Setter\r\npublic class Item {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    private String name;\r\n\r\n}\r\n\r\n```\r\n\r\nthen I would like to have something like following:\r\n\r\n\r\n```java\r\n\r\ninterface ItemRepository extends CrudRepository&lt;Item, Integer&gt; {\r\n\r\n    // This is a Postgres specific query\r\n    @Query(&quot;SELECT FROM Item where Item.id=?1 RETURNING *&quot;)\r\n    Optional&lt;Item&gt; deleteByIdReturning(Integer id)\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nHow can I do something like this?\r\n\r\n\r\nAdditional info:\r\n\r\nIn order to motivate my needs a bit better I would like to have a CRUD-y REST resource, which will return 200 HTTP status code together with deleted resource if something has been deleted, but will return HTTP status code 204 without body in case that nothing has actually been deleted on the server side.\r\n\r\n\r\nI thank you in advance for your time ","title":"Spring Data for Postgresql specific query - DELETE RETURNING with Spring repositories","body":"<p>My question is very concrete and I could not find any answers on Stackoverflow or wider internet.</p>\n<p>I would like to use Spring repository to execute &quot;DELETE FROM TABLE ... RETURNING *&quot; type of query, which is specific to Postgresql.</p>\n<p>Assume that I have following classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Getter // lombok annotations\n@Setter\npublic class Item {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    private String name;\n\n}\n\n</code></pre>\n<p>then I would like to have something like following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ninterface ItemRepository extends CrudRepository&lt;Item, Integer&gt; {\n\n    // This is a Postgres specific query\n    @Query(&quot;SELECT FROM Item where Item.id=?1 RETURNING *&quot;)\n    Optional&lt;Item&gt; deleteByIdReturning(Integer id)\n\n}\n\n</code></pre>\n<p>How can I do something like this?</p>\n<p>Additional info:</p>\n<p>In order to motivate my needs a bit better I would like to have a CRUD-y REST resource, which will return 200 HTTP status code together with deleted resource if something has been deleted, but will return HTTP status code 204 without body in case that nothing has actually been deleted on the server side.</p>\n<p>I thank you in advance for your time</p>\n"},{"tags":["java","c++","enums","swig","typedef"],"answers":[{"tags":[],"owner":{"account_id":5320028,"reputation":41,"user_id":4243747,"display_name":"Soren Gustenhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643661490,"creation_date":1639138485,"answer_id":70304346,"question_id":70298262,"body_markdown":"The %ignore was indeed the culprit.\r\n\r\nAnd `%rename(&quot;%s&quot;) enumName;` is not sufficient to unignore the properties in the enum.","title":"Swig to java, typedef enum does not create enum type in java class","body":"<p>The %ignore was indeed the culprit.</p>\n<p>And <code>%rename(&quot;%s&quot;) enumName;</code> is not sufficient to unignore the properties in the enum.</p>\n"}],"owner":{"account_id":5320028,"reputation":41,"user_id":4243747,"display_name":"Soren Gustenhoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643661520,"creation_date":1639094755,"question_id":70298262,"body_markdown":"I am working on my first swig project, with a 3rd party library which is very old.\r\n\r\nThere is a mix of proper enums and the typedef enums declared, and swig does what i expect it to do with enums where it translates the enum props with values to java, but with the typedef enums it only translates it to an int.\r\n\r\nexample.h\r\n``` \r\ntypedef enum\r\n{\r\n   prop1 = data,\r\n   prop2\r\n} enumName;\r\n ```\r\n\r\nfile.i\r\n```\r\n%module example\r\n\r\n%include &quot;enums.swg&quot;\r\n%javaconst(1);\r\n\r\n%{\r\n#include &quot;example.h&quot;\r\n%}\r\n\r\n%include &quot;example.h\r\n```\r\n\r\nHow can i add the enum values to the generated java interface?\r\n\r\nEdit 1.\r\n\r\nAdding the typedef enum directly in the interface file generates the java file correctly with enum definetion.\r\nBut is this the correct approach ? it seems like this will require alot of maintenance during third party project update.\r\n\r\nnew file.i\r\n```\r\n%module example\r\n\r\n%include &quot;enums.swg&quot;\r\n%javaconst(1);\r\n\r\n%{\r\n#include &quot;example.h&quot;\r\n%}\r\n\r\ntypedef enum\r\n{\r\n   prop1 = data,\r\n   prop2\r\n} enumName;\r\n\r\n%include &quot;example.h\r\n```\r\n\r\nEdit 2:\r\n\r\nThe %ignore &quot;&quot; and %rename(&quot;%s) is also in effect and this seems to be the culprit.\r\n\r\nDoing the same approach on a different file without ignore will create proper wrappers.\r\n\r\nEdit 3:\r\n\r\nThe %ignore was indeed the culprit.\r\n\r\nAnd %rename(&quot;%s&quot;) enumName; is not sufficient to unignore the properties in the enum.\r\n\r\n","title":"Swig to java, typedef enum does not create enum type in java class","body":"<p>I am working on my first swig project, with a 3rd party library which is very old.</p>\n<p>There is a mix of proper enums and the typedef enums declared, and swig does what i expect it to do with enums where it translates the enum props with values to java, but with the typedef enums it only translates it to an int.</p>\n<p>example.h</p>\n<pre><code>typedef enum\n{\n   prop1 = data,\n   prop2\n} enumName;\n</code></pre>\n<p>file.i</p>\n<pre><code>%module example\n\n%include &quot;enums.swg&quot;\n%javaconst(1);\n\n%{\n#include &quot;example.h&quot;\n%}\n\n%include &quot;example.h\n</code></pre>\n<p>How can i add the enum values to the generated java interface?</p>\n<p>Edit 1.</p>\n<p>Adding the typedef enum directly in the interface file generates the java file correctly with enum definetion.\nBut is this the correct approach ? it seems like this will require alot of maintenance during third party project update.</p>\n<p>new file.i</p>\n<pre><code>%module example\n\n%include &quot;enums.swg&quot;\n%javaconst(1);\n\n%{\n#include &quot;example.h&quot;\n%}\n\ntypedef enum\n{\n   prop1 = data,\n   prop2\n} enumName;\n\n%include &quot;example.h\n</code></pre>\n<p>Edit 2:</p>\n<p>The %ignore &quot;&quot; and %rename(&quot;%s) is also in effect and this seems to be the culprit.</p>\n<p>Doing the same approach on a different file without ignore will create proper wrappers.</p>\n<p>Edit 3:</p>\n<p>The %ignore was indeed the culprit.</p>\n<p>And %rename(&quot;%s&quot;) enumName; is not sufficient to unignore the properties in the enum.</p>\n"},{"tags":["java","java-8","functional-programming"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1643657712,"post_id":70931646,"comment_id":125394138,"body_markdown":"this task contradicts the essentials of functional programming, hence it isn&#39;t suitable for it","body":"this task contradicts the essentials of functional programming, hence it isn&#39;t suitable for it"},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1643663198,"post_id":70931646,"comment_id":125396061,"body_markdown":"You&#39;re probably looking for a proper extraction of logic. That doesn&#39;t necessarily mean FP - you can extract your logic into OO validators that you can even hook with AOP into your code to prevent the duplication of logic.","body":"You&#39;re probably looking for a proper extraction of logic. That doesn&#39;t necessarily mean FP - you can extract your logic into OO validators that you can even hook with AOP into your code to prevent the duplication of logic."},{"owner":{"account_id":1324957,"reputation":15152,"user_id":1270003,"accept_rate":87,"display_name":"SwiftMango"},"score":0,"creation_date":1643666585,"post_id":70931646,"comment_id":125397109,"body_markdown":"It&#39;s generally harder to implement FP logic in Java. In a more FP enabled language such as Scala, we use logging monads e.g. `treelog` to log, and option/either monads to handle exceptions.","body":"It&#39;s generally harder to implement FP logic in Java. In a more FP enabled language such as Scala, we use logging monads e.g. <code>treelog</code> to log, and option/either monads to handle exceptions."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643727137,"post_id":70931646,"comment_id":125412914,"body_markdown":"How about using `check some condition on value || check some other condition on value` instead of repeating the `if` statement?","body":"How about using <code>check some condition on value || check some other condition on value</code> instead of repeating the <code>if</code> statement?"}],"owner":{"account_id":24075713,"reputation":21,"user_id":18051083,"display_name":"Swati"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1643661351,"creation_date":1643656727,"question_id":70931646,"body_markdown":"How I can convert the below pseudocode into functional programming?\r\n\r\n```\r\npublic void someFunction(DataType value) throws CustomException\r\n        if (check some condition on value){\r\n                log.error(&quot;some log message&quot;);\r\n                throw new CustomException();\r\n        }\r\n        if (check some other condition on value){\r\n                log.error(&quot;some log message&quot;);\r\n                throw new CustomException();\r\n        }\r\n}\r\n```\r\n\r\nAs you see above, there are repeated *If* statements in the code and also every time the log and throw exception line is repeated. Also, I have multiple functions in the class having exact same format. Is there some way to change this above code into functional programming and get rid of repeated code and make it look cleaner?","title":"How to log error and throw exception in java functional programming","body":"<p>How I can convert the below pseudocode into functional programming?</p>\n<pre><code>public void someFunction(DataType value) throws CustomException\n        if (check some condition on value){\n                log.error(&quot;some log message&quot;);\n                throw new CustomException();\n        }\n        if (check some other condition on value){\n                log.error(&quot;some log message&quot;);\n                throw new CustomException();\n        }\n}\n</code></pre>\n<p>As you see above, there are repeated <em>If</em> statements in the code and also every time the log and throw exception line is repeated. Also, I have multiple functions in the class having exact same format. Is there some way to change this above code into functional programming and get rid of repeated code and make it look cleaner?</p>\n"},{"tags":["java","string","printing","print-job-control"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643661248,"creation_date":1643661248,"answer_id":70932488,"question_id":70921595,"body_markdown":"You can specify the `PageFormat` as an additional parameter for the `setPrintable()` method. To create a `PageFormat` object you can ask the `PrinterJob` object.\r\n\r\nAnd as soon as you provide a `PageFormat` object the call to `printerDialog()` is (at least on my machine) no longer necessary.\r\n\r\nI&#39;ve modified your sample code accordingly:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.print.PageFormat;\r\n    import java.awt.print.Printable;\r\n    import java.awt.print.PrinterException;\r\n    import java.awt.print.PrinterJob;\r\n    \r\n    import javax.print.PrintService;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                PrinterJob pjob = PrinterJob.getPrinterJob();\r\n                pjob.setJobName(&quot;Graphics Demo Printout&quot;);\r\n                pjob.setCopies(1);\r\n                // on my machine `printServices[2]` is a virtual PDF printer - good for testing since it doesn&#39;t any paper\r\n                // PrintService[] printServices = PrinterJob.lookupPrintServices();\r\n                // pjob.setPrintService(printServices[2]);\r\n                PageFormat pageFormat = pjob.defaultPage();\r\n                pjob.setPrintable(new Printable() {\r\n                    public int print(Graphics pg, PageFormat pf, int pageNum) {\r\n                        if (pageNum &gt; 0) // we only print one page\r\n                            return Printable.NO_SUCH_PAGE; // ie., end of job\r\n    \r\n                        Font f = pg.getFont();\r\n                        pg.setFont(f.deriveFont(Font.PLAIN, 24));\r\n                        pg.setColor(Color.black);\r\n                        pg.drawString(&quot;aaaaa&quot;, 100, 100);\r\n                        pg.drawString(&quot;bbbbb&quot;, 100, 200);\r\n    \r\n                        return Printable.PAGE_EXISTS;\r\n                    }\r\n                }, pageFormat);\r\n    \r\n                pjob.print();\r\n            } catch (PrinterException pe) {\r\n                pe.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to print() without printDialog()?","body":"<p>You can specify the <code>PageFormat</code> as an additional parameter for the <code>setPrintable()</code> method. To create a <code>PageFormat</code> object you can ask the <code>PrinterJob</code> object.</p>\n<p>And as soon as you provide a <code>PageFormat</code> object the call to <code>printerDialog()</code> is (at least on my machine) no longer necessary.</p>\n<p>I've modified your sample code accordingly:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.print.PageFormat;\nimport java.awt.print.Printable;\nimport java.awt.print.PrinterException;\nimport java.awt.print.PrinterJob;\n\nimport javax.print.PrintService;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        try {\n            PrinterJob pjob = PrinterJob.getPrinterJob();\n            pjob.setJobName(&quot;Graphics Demo Printout&quot;);\n            pjob.setCopies(1);\n            // on my machine `printServices[2]` is a virtual PDF printer - good for testing since it doesn't any paper\n            // PrintService[] printServices = PrinterJob.lookupPrintServices();\n            // pjob.setPrintService(printServices[2]);\n            PageFormat pageFormat = pjob.defaultPage();\n            pjob.setPrintable(new Printable() {\n                public int print(Graphics pg, PageFormat pf, int pageNum) {\n                    if (pageNum &gt; 0) // we only print one page\n                        return Printable.NO_SUCH_PAGE; // ie., end of job\n\n                    Font f = pg.getFont();\n                    pg.setFont(f.deriveFont(Font.PLAIN, 24));\n                    pg.setColor(Color.black);\n                    pg.drawString(&quot;aaaaa&quot;, 100, 100);\n                    pg.drawString(&quot;bbbbb&quot;, 100, 200);\n\n                    return Printable.PAGE_EXISTS;\n                }\n            }, pageFormat);\n\n            pjob.print();\n        } catch (PrinterException pe) {\n            pe.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19487712,"reputation":63,"user_id":14256662,"display_name":"Lftbrito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643661248,"creation_date":1643606743,"question_id":70921595,"body_markdown":"So I have this code that print some string lines, and I want to print it whitout having to choose the printer, and how can I set the pageformat ?\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.print.PageFormat;\r\n    import java.awt.print.Printable;\r\n    import java.awt.print.PrinterException;\r\n    import java.awt.print.PrinterJob;\r\n    \r\n    import javax.swing.JPanel;\r\n    \r\n    public class Test extends JPanel {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                PrinterJob pjob = PrinterJob.getPrinterJob();\r\n                pjob.setJobName(&quot;Graphics Demo Printout&quot;);\r\n                pjob.setCopies(1);\r\n                pjob.setPrintable(new Printable() {\r\n                    public int print(Graphics pg, PageFormat pf, int pageNum) {\r\n                        if (pageNum &gt; 0) // we only print one page\r\n                            return Printable.NO_SUCH_PAGE; // ie., end of job\r\n    \r\n                        pg.drawString(&quot;aaaaa&quot;, 10, 10);\r\n                        pg.drawString(&quot;bbbbb&quot;, 10, 20);\r\n    \r\n                        return Printable.PAGE_EXISTS;\r\n                    }\r\n                });\r\n    \r\n                if (!pjob.printDialog()) // choose printer\r\n                    return;\r\n                pjob.print();\r\n            } catch (PrinterException pe) {\r\n                pe.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to print() without printDialog()?","body":"<p>So I have this code that print some string lines, and I want to print it whitout having to choose the printer, and how can I set the pageformat ?</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.print.PageFormat;\nimport java.awt.print.Printable;\nimport java.awt.print.PrinterException;\nimport java.awt.print.PrinterJob;\n\nimport javax.swing.JPanel;\n\npublic class Test extends JPanel {\n\n    public static void main(String[] args) {\n        try {\n            PrinterJob pjob = PrinterJob.getPrinterJob();\n            pjob.setJobName(&quot;Graphics Demo Printout&quot;);\n            pjob.setCopies(1);\n            pjob.setPrintable(new Printable() {\n                public int print(Graphics pg, PageFormat pf, int pageNum) {\n                    if (pageNum &gt; 0) // we only print one page\n                        return Printable.NO_SUCH_PAGE; // ie., end of job\n\n                    pg.drawString(&quot;aaaaa&quot;, 10, 10);\n                    pg.drawString(&quot;bbbbb&quot;, 10, 20);\n\n                    return Printable.PAGE_EXISTS;\n                }\n            });\n\n            if (!pjob.printDialog()) // choose printer\n                return;\n            pjob.print();\n        } catch (PrinterException pe) {\n            pe.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","web-services","android-ksoap2"],"comments":[{"owner":{"account_id":18502569,"reputation":39,"user_id":13479565,"display_name":"SushiDesu"},"score":0,"creation_date":1609129799,"post_id":65472778,"comment_id":115753625,"body_markdown":"Problem solved! Just used this as reference: [https://stackoverflow.com/questions/18774355/adding-ksoap-dependency-to-gradle-project/56821715#56821715](https://stackoverflow.com/questions/18774355/adding-ksoap-dependency-to-gradle-project/56821715#56821715)","body":"Problem solved! Just used this as reference: <a href=\"https://stackoverflow.com/questions/18774355/adding-ksoap-dependency-to-gradle-project/56821715#56821715\">https://stackoverflow.com/questions/18774355/adding-ksoap-de&zwnj;&#8203;pendency-to-gradle-p&zwnj;&#8203;roject/56821715#5682&zwnj;&#8203;1715</a>"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1609131517,"post_id":65472778,"comment_id":115753876,"body_markdown":"Just a side note use `implementation` instead of `compile` .","body":"Just a side note use <code>implementation</code> instead of <code>compile</code> ."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1609127428,"creation_date":1609127428,"answer_id":65472816,"question_id":65472778,"body_markdown":"There doesn&#39;t seem to be a 3.4.3 version of that library.  There&#39;s a 3.4.0.  And the newest is 3.6.4.  You&#39;re going to need to use one of those.  I&#39;d move to 3.6.4 as 3.4.0 is over 5 years old, and likely lacks security updates.","title":"Ksoap2 Library to android studio Error message, how to fix?","body":"<p>There doesn't seem to be a 3.4.3 version of that library.  There's a 3.4.0.  And the newest is 3.6.4.  You're going to need to use one of those.  I'd move to 3.6.4 as 3.4.0 is over 5 years old, and likely lacks security updates.</p>\n"},{"tags":[],"owner":{"account_id":1237882,"reputation":113,"user_id":6888412,"display_name":"Berry Wing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643660687,"creation_date":1643660687,"answer_id":70932390,"question_id":65472778,"body_markdown":"Remove the dependencyResolutionManagement block from the setting.gradle file to have your project work the old way.\r\n\r\nRelated issue: https://stackoverflow.com/questions/69163511/build-was-configured-to-prefer-settings-repositories-over-project-repositories-b","title":"Ksoap2 Library to android studio Error message, how to fix?","body":"<p>Remove the dependencyResolutionManagement block from the setting.gradle file to have your project work the old way.</p>\n<p>Related issue: <a href=\"https://stackoverflow.com/questions/69163511/build-was-configured-to-prefer-settings-repositories-over-project-repositories-b\">Build was configured to prefer settings repositories over project repositories but repository &#39;maven&#39; was added by build file &#39;build.gradle&#39;</a></p>\n"}],"owner":{"account_id":18502569,"reputation":39,"user_id":13479565,"display_name":"SushiDesu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65472816,"answer_count":2,"score":1,"last_activity_date":1643660687,"creation_date":1609127004,"question_id":65472778,"body_markdown":"I an trying to import Ksoap2 library in android studio using .jar file version 3.6.4. I have successfully implemented the jar file to android studio. However, on the module app activity when I try to import e.g. import &quot;org.ksoap2.SoapEnvelope;&quot;, it gets and error it shows following results:\r\n\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find com.google.code.ksoap2-android:ksoap2-android:3.6.4.\r\n     Searched in the following locations:\r\n       - https://repo.maven.apache.org/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\r\n       - https://dl.google.com/dl/android/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\r\n       - https://jcenter.bintray.com/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\r\n     Required by:\r\n         project :app\r\n\r\nPossible solution:\r\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n\r\nAlso the imports library have error, please see the pic:\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/MWJ1b.png\r\n\r\nHere is the Build.gradle module code:\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n    \r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:4.1.1&quot;\r\n    \r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    \r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenCentral()\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n       delete rootProject.buildDir\r\n    }\r\n\r\nHere is Build.gradle(app) Module code:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.kowloondairycompanykdl.milk_ic&quot;\r\n            minSdkVersion 27\r\n            targetSdkVersion 30\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n        implementation files(&#39;libs\\\\ksoap2-android-assembly-3.6.4.jar&#39;)\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile &#39;com.google.code.ksoap2-android:ksoap2-android:3.6.4&#39;\r\n    \r\n    }\r\n\r\nPlease help me, I been stuck here for a long time. How to fix the error and how can I implement the Ksoap2 library properly. Thanks\r\n\r\n","title":"Ksoap2 Library to android studio Error message, how to fix?","body":"<p>I an trying to import Ksoap2 library in android studio using .jar file version 3.6.4. I have successfully implemented the jar file to android studio. However, on the module app activity when I try to import e.g. import &quot;org.ksoap2.SoapEnvelope;&quot;, it gets and error it shows following results:</p>\n<p>Execution failed for task ':app:checkDebugAarMetadata'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\nCould not find com.google.code.ksoap2-android:ksoap2-android:3.6.4.\nSearched in the following locations:\n- <a href=\"https://repo.maven.apache.org/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom</a>\n- <a href=\"https://dl.google.com/dl/android/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom</a>\n- <a href=\"https://jcenter.bintray.com/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom\" rel=\"nofollow noreferrer\">https://jcenter.bintray.com/com/google/code/ksoap2-android/ksoap2-android/3.6.4/ksoap2-android-3.6.4.pom</a>\nRequired by:\nproject :app</p>\n</blockquote>\n<p>Possible solution:</p>\n<ul>\n<li>Declare repository providing the artifact, see the documentation at <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_repositories.html</a></li>\n</ul>\n<p>Also the imports library have error, please see the pic:\n<a href=\"https://i.stack.imgur.com/MWJ1b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MWJ1b.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the Build.gradle module code:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.1.1&quot;\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n   delete rootProject.buildDir\n}\n</code></pre>\n<p>Here is Build.gradle(app) Module code:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.kowloondairycompanykdl.milk_ic&quot;\n        minSdkVersion 27\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation files('libs\\\\ksoap2-android-assembly-3.6.4.jar')\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.google.code.ksoap2-android:ksoap2-android:3.6.4'\n\n}\n</code></pre>\n<p>Please help me, I been stuck here for a long time. How to fix the error and how can I implement the Ksoap2 library properly. Thanks</p>\n"},{"tags":["java","object","null","tostring"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":1,"creation_date":1642761710,"post_id":70799888,"comment_id":125163541,"body_markdown":"I suggest you add print or logging statements, or even better use a debugger to step through your code when executed (if possible), to understand exactly what is inside the DataSnapshot that this listener executes on.","body":"I suggest you add print or logging statements, or even better use a debugger to step through your code when executed (if possible), to understand exactly what is inside the DataSnapshot that this listener executes on."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642761772,"post_id":70799888,"comment_id":125163560,"body_markdown":"What if `snapshot.child(&quot;state&quot;)` returns `null` or what if `getValue()` returns `null`?","body":"What if <code>snapshot.child(&quot;state&quot;)</code> returns <code>null</code> or what if <code>getValue()</code> returns <code>null</code>?"},{"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"score":0,"creation_date":1642762101,"post_id":70799888,"comment_id":125163676,"body_markdown":"both the child and the value for child are not null in database","body":"both the child and the value for child are not null in database"},{"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"score":0,"creation_date":1642762467,"post_id":70799888,"comment_id":125163808,"body_markdown":"how i can add the debugger statement here? im just new in stackoverflow.","body":"how i can add the debugger statement here? im just new in stackoverflow."},{"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"score":0,"creation_date":1642764196,"post_id":70799888,"comment_id":125164371,"body_markdown":"maybe try replacing `snapshot.child(&quot;state&quot;).getValue().toString()` with `String.valueOf(snapshot.child(&quot;state&quot;).getValue())`. This would not throw if `getValue` returns null. This is for the sake of experiment solely. In more general case I recommend that you check the value against `null` with an `if` as `valueOf` null returns the ugly string `&quot;null&quot;` which for most cases is not that useful.","body":"maybe try replacing <code>snapshot.child(&quot;state&quot;).getValue().toString()</code> with <code>String.valueOf(snapshot.child(&quot;state&quot;).getValue())</code>. This would not throw if <code>getValue</code> returns null. This is for the sake of experiment solely. In more general case I recommend that you check the value against <code>null</code> with an <code>if</code> as <code>valueOf</code> null returns the ugly string <code>&quot;null&quot;</code> which for most cases is not that useful."},{"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"score":0,"creation_date":1642765181,"post_id":70799888,"comment_id":125164702,"body_markdown":"after replacing with String.valueOf(snapshot.child(&quot;state&quot;).getValue()); its worked without null exception but the if statements been ignored  .","body":"after replacing with String.valueOf(snapshot.child(&quot;state&quot;).getValue()); its worked without null exception but the if statements been ignored  ."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1642771562,"post_id":70799888,"comment_id":125167108,"body_markdown":"Your last comment and debugger statement indicate that the result of `snapshot.child(&quot;state&quot;).getValue()` is in fact `null`. If you can&#39;t step-debug, try using `System.out` to print everything in the snapshot, such as by making use of `snapshot.hasChildren()` and iterating (looping) over `snapshot.getChildren()`. It may not be (by all appearances isn&#39;t) the object that you&#39;re expecting from the database.","body":"Your last comment and debugger statement indicate that the result of <code>snapshot.child(&quot;state&quot;).getValue()</code> is in fact <code>null</code>. If you can&#39;t step-debug, try using <code>System.out</code> to print everything in the snapshot, such as by making use of <code>snapshot.hasChildren()</code> and iterating (looping) over <code>snapshot.getChildren()</code>. It may not be (by all appearances isn&#39;t) the object that you&#39;re expecting from the database."},{"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"score":0,"creation_date":1642838011,"post_id":70799888,"comment_id":125182853,"body_markdown":"thank you Thomas. i catch the mistake, i was not calling the primary key from the main child in database and that leaded to null value in other objects. thank you again for help.","body":"thank you Thomas. i catch the mistake, i was not calling the primary key from the main child in database and that leaded to null value in other objects. thank you again for help."}],"owner":{"account_id":24008287,"reputation":11,"user_id":17992211,"display_name":"Jamal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643660353,"creation_date":1642761100,"question_id":70799888,"body_markdown":"This is my code which should check the order state in the firebase database and display a message for the user. \r\nIn this line,\r\n\r\n     String shippingstate = snapshot.child(&quot;state&quot;).getValue().toString(); \r\n\r\nI got on a null object reference fatal error and the app was force closed.\r\nI verified all the child values in the database and their match but still get the error.\r\nCan you help me solve it, please?\r\nthanks\r\n\r\n    private void checkorderstate()\r\n    {\r\n        DatabaseReference orderref = FirebaseDatabase.getInstance().getReference().child(&quot;orders&quot;);\r\n        orderref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if (snapshot.exists())\r\n                {\r\n\r\n                    **String shippingstate = snapshot.child(&quot;state&quot;).getValue().toString();**\r\n                    String username = snapshot.child(&quot;name&quot;).getValue().toString();\r\n\r\n\r\n                    if (shippingstate.equals(&quot;shipped&quot;))\r\n                    {\r\n                        txttotalamount.setText(&quot;Dear &quot;+ username+&quot;\\n order is shipped successfully&quot;);\r\n                        recyclerView.setVisibility(View.GONE);\r\n                        txtmsg1.setVisibility(View.VISIBLE);\r\n                        txtmsg1.setText(&quot;Dear &quot;+username+&quot;\\n Your order is completed and shipped successfully&quot;);\r\n                        nextproccessbtn.setVisibility(View.GONE);\r\n                        Toast.makeText(CartActivity.this, &quot;You can put new order after your current order get shipped&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    else if (shippingstate.equals(&quot;not shipped&quot;))\r\n                    {\r\n                        txttotalamount.setText(&quot;Dear &quot;+ username+&quot;Order State: not shipped&quot;);\r\n                        recyclerView.setVisibility(View.GONE);\r\n                        txtmsg1.setText(&quot;Dear &quot;+username+&quot;\\n your order under proccess, please wait the order shipped massage. thank you&quot;);\r\n                        nextproccessbtn.setVisibility(View.GONE);\r\n                        Toast.makeText(CartActivity.this, &quot;You can put new order after your current order get shipped&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\nDebugger Statement:\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: net.lazared.myamaze, PID: 3304\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference\r\n        at net.lazared.myamaze.CartActivity$3.onDataChange(CartActivity.java:189)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n","title":"Fatal error in onDataChange java.lang.String java.lang.Object.toString()&#39; on a null object reference","body":"<p>This is my code which should check the order state in the firebase database and display a message for the user.\nIn this line,</p>\n<pre><code> String shippingstate = snapshot.child(&quot;state&quot;).getValue().toString(); \n</code></pre>\n<p>I got on a null object reference fatal error and the app was force closed.\nI verified all the child values in the database and their match but still get the error.\nCan you help me solve it, please?\nthanks</p>\n<pre><code>private void checkorderstate()\n{\n    DatabaseReference orderref = FirebaseDatabase.getInstance().getReference().child(&quot;orders&quot;);\n    orderref.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            if (snapshot.exists())\n            {\n\n                **String shippingstate = snapshot.child(&quot;state&quot;).getValue().toString();**\n                String username = snapshot.child(&quot;name&quot;).getValue().toString();\n\n\n                if (shippingstate.equals(&quot;shipped&quot;))\n                {\n                    txttotalamount.setText(&quot;Dear &quot;+ username+&quot;\\n order is shipped successfully&quot;);\n                    recyclerView.setVisibility(View.GONE);\n                    txtmsg1.setVisibility(View.VISIBLE);\n                    txtmsg1.setText(&quot;Dear &quot;+username+&quot;\\n Your order is completed and shipped successfully&quot;);\n                    nextproccessbtn.setVisibility(View.GONE);\n                    Toast.makeText(CartActivity.this, &quot;You can put new order after your current order get shipped&quot;, Toast.LENGTH_LONG).show();\n                }\n                else if (shippingstate.equals(&quot;not shipped&quot;))\n                {\n                    txttotalamount.setText(&quot;Dear &quot;+ username+&quot;Order State: not shipped&quot;);\n                    recyclerView.setVisibility(View.GONE);\n                    txtmsg1.setText(&quot;Dear &quot;+username+&quot;\\n your order under proccess, please wait the order shipped massage. thank you&quot;);\n                    nextproccessbtn.setVisibility(View.GONE);\n                    Toast.makeText(CartActivity.this, &quot;You can put new order after your current order get shipped&quot;, Toast.LENGTH_LONG).show();\n\n                }\n            }\n        }\n</code></pre>\n<p>Debugger Statement:</p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: net.lazared.myamaze, PID: 3304\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference\nat net.lazared.myamaze.CartActivity$3.onDataChange(CartActivity.java:189)\nat com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\nat com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\nat com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\nat android.os.Handler.handleCallback(Handler.java:790)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:6494)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)</p>\n</blockquote>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":4,"creation_date":1622029514,"post_id":67704181,"comment_id":119670789,"body_markdown":"[Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/q/285551/3111149)","body":"<a href=\"https://meta.stackoverflow.com/q/285551/3111149\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"display_name":"user15793316"},"score":5,"creation_date":1622029655,"post_id":67704181,"comment_id":119670847,"body_markdown":"some people do not like to read code from black background; most cannot copy code from an image","body":"some people do not like to read code from black background; most cannot copy code from an image"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1646775104,"post_id":67704181,"comment_id":126206575,"body_markdown":"Does this answer your question? [What&#39;s the difference between implementation, api and compile in Gradle?](https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-api-and-compile-in-gradle)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-api-and-compile-in-gradle\">What&#39;s the difference between implementation, api and compile in Gradle?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1623681213,"creation_date":1622029631,"answer_id":67704239,"question_id":67704181,"body_markdown":"If you are using Gradle version 7.0+, then compile dependency configuration is removed from that. You might need to look for **implementation** dependency configuration in place of compile.\r\n\r\nPS: Do not forget to rebuild your gradle file.\r\n\r\nMore info can be found here at my another answer for this deprecation.\r\n\r\nhttps://stackoverflow.com/a/67695126/8148637","title":"Could not find method compile() for arguments in java","body":"<p>If you are using Gradle version 7.0+, then compile dependency configuration is removed from that. You might need to look for <strong>implementation</strong> dependency configuration in place of compile.</p>\n<p>PS: Do not forget to rebuild your gradle file.</p>\n<p>More info can be found here at my another answer for this deprecation.</p>\n<p><a href=\"https://stackoverflow.com/a/67695126/8148637\">https://stackoverflow.com/a/67695126/8148637</a></p>\n"},{"tags":[],"owner":{"account_id":185340,"reputation":1598,"user_id":421969,"accept_rate":68,"display_name":"kriver"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643660252,"creation_date":1643659892,"answer_id":70932244,"question_id":67704181,"body_markdown":"It looks pretty straightforward, but i didn&#39;t see many examples of what needs to be changed. This is what I had to do:\r\n\r\nAnything like this, change from\r\n\r\n    compile group: &#39;org.slf4j&#39;, name: &#39;slf4j-log4j12&#39;, version: &#39;1.7.25&#39;\r\n\r\nto \r\n\r\n    implementation &#39;org.slf4j:slf4j-log4j12:1.7.25&#39;\r\n\r\nI also had to change the way `mainClass` is declared\r\n\r\n    mainClassName = &#39;package.MainClass&#39;\r\nto\r\n\r\n    application {\r\n    mainClass = &#39;package.MainClass&#39;\r\n}\r\n\r\nTo get to this, I had to delete the `gradle` files and folder, and do a `gradle init` to recreate the build configs and dependencies.\r\nUse `implementation`, `runtimeOnly`, `compileOnly` etc. as the new equivalents\r\n","title":"Could not find method compile() for arguments in java","body":"<p>It looks pretty straightforward, but i didn't see many examples of what needs to be changed. This is what I had to do:</p>\n<p>Anything like this, change from</p>\n<pre><code>compile group: 'org.slf4j', name: 'slf4j-log4j12', version: '1.7.25'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'org.slf4j:slf4j-log4j12:1.7.25'\n</code></pre>\n<p>I also had to change the way <code>mainClass</code> is declared</p>\n<pre><code>mainClassName = 'package.MainClass'\n</code></pre>\n<p>to</p>\n<pre><code>application {\nmainClass = 'package.MainClass'\n</code></pre>\n<p>}</p>\n<p>To get to this, I had to delete the <code>gradle</code> files and folder, and do a <code>gradle init</code> to recreate the build configs and dependencies.\nUse <code>implementation</code>, <code>runtimeOnly</code>, <code>compileOnly</code> etc. as the new equivalents</p>\n"}],"owner":{"account_id":20772852,"reputation":82,"user_id":15255128,"display_name":"m.mahdi_rasouli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17186,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1691242441,"answer_count":2,"score":0,"last_activity_date":1643660252,"creation_date":1622029422,"question_id":67704181,"body_markdown":"[![enter image description here][1]][1]can anybody help me solve this problem\r\n&gt; Could not find method compile() for arguments [project &#39;:moqui-util&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4smpk.jpg\r\n  [2]: https://i.stack.imgur.com/lgwo7.png","title":"Could not find method compile() for arguments in java","body":"<p><a href=\"https://i.stack.imgur.com/4smpk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4smpk.jpg\" alt=\"enter image description here\" /></a>can anybody help me solve this problem</p>\n<blockquote>\n<p>Could not find method compile() for arguments [project ':moqui-util'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.<a href=\"https://i.stack.imgur.com/lgwo7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lgwo7.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n"},{"tags":["java","generics","netty"],"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1516673776,"post_id":48378767,"comment_id":83774200,"body_markdown":"Well, the code is taken out of context, is that declaration from Netty&#39;s [Promise](https://netty.io/4.0/api/io/netty/util/concurrent/Promise.html) class?","body":"Well, the code is taken out of context, is that declaration from Netty&#39;s <a href=\"https://netty.io/4.0/api/io/netty/util/concurrent/Promise.html\" rel=\"nofollow noreferrer\">Promise</a> class?"},{"owner":{"account_id":7385064,"reputation":25,"user_id":5620345,"display_name":"John Milton"},"score":0,"creation_date":1516674808,"post_id":48378767,"comment_id":83774453,"body_markdown":"@EdwinDalorzo hi, I edited the question, please take a look.","body":"@EdwinDalorzo hi, I edited the question, please take a look."}],"answers":[{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1516677618,"creation_date":1516675720,"answer_id":48393422,"question_id":48378767,"body_markdown":"I&#39;m assuming your declaration above comes from Netty&#39;s [Promise](https://netty.io/4.0/api/io/netty/util/concurrent/Promise.html) class. I think my answer should work irrespective of that because your question seems to be about covariance and contravariance more than about Netty&#39;s API explicitly.\r\n\r\n    public interface Promise&lt;V&gt; extends Future&lt;V&gt; {\r\n\r\n       Promise&lt;V&gt; addListener(GenericFutureListener&lt;? extends Future&lt;? super V&gt;&gt; listener);\r\n       //...\r\n    }\r\n\r\nThe intention of generics here is to make the API more malleable for its users. \r\n\r\nSuppose you have three different `GenericFutureListener` objects of three different type arguments: `Integer`, `Number` and `Object`.\r\n\r\n    GenericFutureListener&lt;Future&lt;Integer&gt;&gt; fl1 = System.out::println;\r\n    GenericFutureListener&lt;Future&lt;Number&gt;&gt; fl2 = System.out::println;\r\n    GenericFutureListener&lt;Future&lt;Object&gt;&gt; fl3 = System.out::println;\r\n\r\nNotice that `Integer` is a subtype of `Number` which in turn is a subtype of `Object`.\r\n\r\nSuppose now that we have a `Promise` of type `Integer`, somewhat as follows\r\n\r\n    Promise&lt;Integer&gt; p = somePromise;\r\n\r\nOur method declaration would be interpreted by the compiler as\r\n\r\n    Promise&lt;Integer&gt; addListener(GenericFutureListener&lt;? extendsFuture&lt;? super Integer&gt;&gt; listener);\r\n\r\nWhich basically is saying that the `GenericFutureListener` might operate on futures of type `Integer`, *or any of its super types*.\r\n\r\nThis clearly makes the API much more flexible, for example, I can add any of the listeners I defined before to be notified when my promise of Integer is resolved:\r\n\r\n    p.addListener(fl1);\r\n    p.addListener(fl2);\r\n    p.addListener(fl3);\r\n\r\nNotice that I was not forced to provide a listener for a future of explicitly type `Integer`. If you think about it that totally makes sense because if my promise `p` produces an `Integer`, and an `Integer` *is a* `Number`, then a listener that knows how to handle a future of `Number` should be able to handle a future of `Integer` as well. And if I have listener that knows how to handle a future of `Object`, and an `Integer` *is an* `Object`, then there should be no problem in letting a listener for a future of `Object` to handle a future of `Integer`, right?\r\n\r\nWell, that&#39;s exactly what `Future&lt;? super V&gt;` means in the declaration above. This is concept known as contravariance.\r\n\r\nNow, the truth is that in Netty `Future` is an interface, and many different classes may implement `Future`. We would like our `GenericFutureListener` to be able to use any subtype of `Future` and not just `Future` itself, right?.\r\n\r\nFor example, a `Promise` is in fact a subtype of `Future`:\r\n\r\n    GenericFutureListener&lt;Promise&lt;Integer&gt;&gt; fl4 = System.out::println;\r\n    GenericFutureListener&lt;Promise&lt;Number&gt;&gt; fl5 = System.out::println;\r\n    GenericFutureListener&lt;Promise&lt;Object&gt;&gt; fl6 = System.out::println;\r\n\r\nAnd as you can see, `GenericFutureListener` accepts `Promise` as a type argument here. This is so thanks to the declaration of `&lt;? extends Future&gt;`.  Without it, `GenericFutureListener` would only accept the `Future` type here and that would make this API much less flexible, right?.\r\n\r\nThis concept is called covariance and once again it is used to make the API much more flexible for its users.\r\n\r\nNow we can make our original promise also add these second set of listeners:\r\n\r\n    p.addListener(fl4);\r\n    p.addListener(fl5);\r\n    p.addListener(fl6);\r\n\r\nAnd there you have it. A much more flexible API thanks to the proper use of covariance and contravariance.","title":"Confused about Netty&#39;s generic types used in GenericFutureListener?","body":"<p>I'm assuming your declaration above comes from Netty's <a href=\"https://netty.io/4.0/api/io/netty/util/concurrent/Promise.html\" rel=\"noreferrer\">Promise</a> class. I think my answer should work irrespective of that because your question seems to be about covariance and contravariance more than about Netty's API explicitly.</p>\n\n<pre><code>public interface Promise&lt;V&gt; extends Future&lt;V&gt; {\n\n   Promise&lt;V&gt; addListener(GenericFutureListener&lt;? extends Future&lt;? super V&gt;&gt; listener);\n   //...\n}\n</code></pre>\n\n<p>The intention of generics here is to make the API more malleable for its users. </p>\n\n<p>Suppose you have three different <code>GenericFutureListener</code> objects of three different type arguments: <code>Integer</code>, <code>Number</code> and <code>Object</code>.</p>\n\n<pre><code>GenericFutureListener&lt;Future&lt;Integer&gt;&gt; fl1 = System.out::println;\nGenericFutureListener&lt;Future&lt;Number&gt;&gt; fl2 = System.out::println;\nGenericFutureListener&lt;Future&lt;Object&gt;&gt; fl3 = System.out::println;\n</code></pre>\n\n<p>Notice that <code>Integer</code> is a subtype of <code>Number</code> which in turn is a subtype of <code>Object</code>.</p>\n\n<p>Suppose now that we have a <code>Promise</code> of type <code>Integer</code>, somewhat as follows</p>\n\n<pre><code>Promise&lt;Integer&gt; p = somePromise;\n</code></pre>\n\n<p>Our method declaration would be interpreted by the compiler as</p>\n\n<pre><code>Promise&lt;Integer&gt; addListener(GenericFutureListener&lt;? extendsFuture&lt;? super Integer&gt;&gt; listener);\n</code></pre>\n\n<p>Which basically is saying that the <code>GenericFutureListener</code> might operate on futures of type <code>Integer</code>, <em>or any of its super types</em>.</p>\n\n<p>This clearly makes the API much more flexible, for example, I can add any of the listeners I defined before to be notified when my promise of Integer is resolved:</p>\n\n<pre><code>p.addListener(fl1);\np.addListener(fl2);\np.addListener(fl3);\n</code></pre>\n\n<p>Notice that I was not forced to provide a listener for a future of explicitly type <code>Integer</code>. If you think about it that totally makes sense because if my promise <code>p</code> produces an <code>Integer</code>, and an <code>Integer</code> <em>is a</em> <code>Number</code>, then a listener that knows how to handle a future of <code>Number</code> should be able to handle a future of <code>Integer</code> as well. And if I have listener that knows how to handle a future of <code>Object</code>, and an <code>Integer</code> <em>is an</em> <code>Object</code>, then there should be no problem in letting a listener for a future of <code>Object</code> to handle a future of <code>Integer</code>, right?</p>\n\n<p>Well, that's exactly what <code>Future&lt;? super V&gt;</code> means in the declaration above. This is concept known as contravariance.</p>\n\n<p>Now, the truth is that in Netty <code>Future</code> is an interface, and many different classes may implement <code>Future</code>. We would like our <code>GenericFutureListener</code> to be able to use any subtype of <code>Future</code> and not just <code>Future</code> itself, right?.</p>\n\n<p>For example, a <code>Promise</code> is in fact a subtype of <code>Future</code>:</p>\n\n<pre><code>GenericFutureListener&lt;Promise&lt;Integer&gt;&gt; fl4 = System.out::println;\nGenericFutureListener&lt;Promise&lt;Number&gt;&gt; fl5 = System.out::println;\nGenericFutureListener&lt;Promise&lt;Object&gt;&gt; fl6 = System.out::println;\n</code></pre>\n\n<p>And as you can see, <code>GenericFutureListener</code> accepts <code>Promise</code> as a type argument here. This is so thanks to the declaration of <code>&lt;? extends Future&gt;</code>.  Without it, <code>GenericFutureListener</code> would only accept the <code>Future</code> type here and that would make this API much less flexible, right?.</p>\n\n<p>This concept is called covariance and once again it is used to make the API much more flexible for its users.</p>\n\n<p>Now we can make our original promise also add these second set of listeners:</p>\n\n<pre><code>p.addListener(fl4);\np.addListener(fl5);\np.addListener(fl6);\n</code></pre>\n\n<p>And there you have it. A much more flexible API thanks to the proper use of covariance and contravariance.</p>\n"}],"owner":{"account_id":7385064,"reputation":25,"user_id":5620345,"display_name":"John Milton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48393422,"answer_count":1,"score":1,"last_activity_date":1643660236,"creation_date":1516614939,"question_id":48378767,"body_markdown":"In netty define the listener as below:\r\nfor example in the class io.netty.util.concurrent.CompleteFuture:\r\n\r\n\r\n    @Override\r\n    public Future&lt;V&gt; addListener(GenericFutureListener&lt;? extends Future&lt;? super V&gt;&gt; listener) {\r\n        if (listener == null) {\r\n            throw new NullPointerException(&quot;listener&quot;);\r\n        }\r\n        DefaultPromise.notifyListener(executor(), this, listener);\r\n        return this;\r\n    }\r\nFrom what I&#39;ve known：Future&lt;? super V&gt; means a collections of Class which supers V. So it is a collections as in the inheritance tree, for we have Future&amp;lt;V&gt; and Future&amp;lt;Object&gt; at least. Let&#39;s say the collections&#39; name is C.\r\n\r\nSo here comes the question, what does ? extends C means while C is a collection?\r\n\r\nHope somebody could enlighten me!","title":"Confused about Netty&#39;s generic types used in GenericFutureListener?","body":"<p>In netty define the listener as below:\nfor example in the class io.netty.util.concurrent.CompleteFuture:</p>\n<pre><code>@Override\npublic Future&lt;V&gt; addListener(GenericFutureListener&lt;? extends Future&lt;? super V&gt;&gt; listener) {\n    if (listener == null) {\n        throw new NullPointerException(&quot;listener&quot;);\n    }\n    DefaultPromise.notifyListener(executor(), this, listener);\n    return this;\n}\n</code></pre>\n<p>From what I've known：Future&lt;? super V&gt; means a collections of Class which supers V. So it is a collections as in the inheritance tree, for we have Future&lt;V&gt; and Future&lt;Object&gt; at least. Let's say the collections' name is C.</p>\n<p>So here comes the question, what does ? extends C means while C is a collection?</p>\n<p>Hope somebody could enlighten me!</p>\n"},{"tags":["java","sql","hive","regexp-replace"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1641764378,"post_id":70645654,"comment_id":124885767,"body_markdown":"`regex_replace(&#39;[/\\\\]&#39;, &#39;\\\\\\\\\\\\&#39;)` Of course using a backslash is not a good idea.","body":"<code>regex_replace(&#39;[&#47;\\\\]&#39;, &#39;\\\\\\\\\\\\&#39;)</code> Of course using a backslash is not a good idea."}],"answers":[{"tags":[],"owner":{"account_id":2153783,"reputation":37516,"user_id":2700344,"display_name":"leftjoin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641805801,"creation_date":1641803804,"answer_id":70649689,"question_id":70645654,"body_markdown":"This should work:\r\n\r\n    regexp_replace(s1,&#39;[/\\\\\\\\]&#39;, &#39;\\\\\\\\\\\\\\\\\\\\\\\\&#39;)\r\n\r\nRegex `[/\\\\\\\\]` - means slash or backslash\r\n\r\nIt will replace all occurrences of slash or backslash with 3 backslashes. If you want to match exactly string containing only slash or backslash, use anchors: `^[/\\\\\\\\]$`\r\n\r\nAlso in the regexp you can use hex code `&#39;\\\\x5c&#39;` to match backslash: `&#39;[/\\\\x5c]&#39;`\r\n\r\n","title":"hive replace forward slash/backward slash with tripple slashes","body":"<p>This should work:</p>\n<pre><code>regexp_replace(s1,'[/\\\\\\\\]', '\\\\\\\\\\\\\\\\\\\\\\\\')\n</code></pre>\n<p>Regex <code>[/\\\\\\\\]</code> - means slash or backslash</p>\n<p>It will replace all occurrences of slash or backslash with 3 backslashes. If you want to match exactly string containing only slash or backslash, use anchors: <code>^[/\\\\\\\\]$</code></p>\n<p>Also in the regexp you can use hex code <code>'\\\\x5c'</code> to match backslash: <code>'[/\\\\x5c]'</code></p>\n"}],"owner":{"account_id":13068480,"reputation":125,"user_id":9447865,"display_name":"NK7983"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70649689,"answer_count":1,"score":1,"last_activity_date":1643660135,"creation_date":1641763553,"question_id":70645654,"body_markdown":"I have a table that has `/` or `\\` as first value and I wanted to replace it with 3 backward slashes `\\\\\\`. Tried many ways including concatenation but nothing worked so far. Any help is appreciated.\r\n\r\n    create table test ( s1 string )\r\n    \r\n    insert into test(s1) values (&#39;/&#39;)\r\n    insert into test(s1) values (&#39;ab&#39;)\r\n    insert into test(s1) values (&#39;\\\\&#39;)\r\n    \r\n    select s1, regexp_replace(s1, &#39;//&#39;,&#39;\\\\\\\\\\\\\\\\\\\\\\\\\\\\&#39;) from test;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/otxVc.png\r\n","title":"hive replace forward slash/backward slash with tripple slashes","body":"<p>I have a table that has <code>/</code> or <code>\\</code> as first value and I wanted to replace it with 3 backward slashes <code>\\\\\\</code>. Tried many ways including concatenation but nothing worked so far. Any help is appreciated.</p>\n<pre><code>create table test ( s1 string )\n\ninsert into test(s1) values ('/')\ninsert into test(s1) values ('ab')\ninsert into test(s1) values ('\\\\')\n\nselect s1, regexp_replace(s1, '//','\\\\\\\\\\\\\\\\\\\\\\\\\\\\') from test;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/otxVc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/otxVc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","jackson","jsonparser"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643659780,"creation_date":1643625638,"answer_id":70924575,"question_id":70920916,"body_markdown":"You can annotate the `ref` field in your `Reference` class with the [`JsonValue`](https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonValue.html) annotation that indicates that *the value of annotated accessor  is to be used as the single value to serialize for the instance*:\r\n\r\n\r\n~~~\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class Reference {\r\n\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    @JsonValue //&lt;-- the new annotation\r\n    private String ref;\r\n\r\n    public Reference(final String ref) {\r\n        this.ref = ref;\r\n    }\r\n\r\n    public Reference() { }\r\n\r\n    public String getRef() {\r\n        return ref;\r\n    }\r\n\r\n}\r\n\r\nUser user = new User();\r\nuser.setReferences(List.of(new Reference(&quot;referenceID&quot;)));\r\n//it prints {&quot;references&quot;:[&quot;referenceID&quot;]}\r\nSystem.out.println(jsonMapper.writeValueAsString(user));\r\n~~~\r\n\r\n**Edit**: it seems that the `JsonValue` annotation invalidates the serialization of the class as expected by the OP; to solve this problem one way is the use of a mixin class for the `Reference` class and putting inside the `JsonValue` annotation, the original `Reference` class will be untouched:\r\n\r\n~~~\r\n@Data\r\npublic class MixInReference {\r\n    @JsonValue\r\n    private String ref;\r\n}\r\n\r\n\r\nObjectMapper jsonMapper = new ObjectMapper();\r\n//Reference class is still the original class\r\njsonMapper.addMixIn(Reference.class, MixInReference.class);\r\n////it prints {&quot;references&quot;:[&quot;referenceID&quot;]}\r\nSystem.out.println(jsonMapper.writeValueAsString(user));\r\n~~~","title":"Ignore enclosing braces with JSON parser while serializing object in Java","body":"<p>You can annotate the <code>ref</code> field in your <code>Reference</code> class with the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonValue.html\" rel=\"nofollow noreferrer\"><code>JsonValue</code></a> annotation that indicates that <em>the value of annotated accessor  is to be used as the single value to serialize for the instance</em>:</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Reference {\n\n    @JacksonXmlProperty(isAttribute = true)\n    @JsonValue //&lt;-- the new annotation\n    private String ref;\n\n    public Reference(final String ref) {\n        this.ref = ref;\n    }\n\n    public Reference() { }\n\n    public String getRef() {\n        return ref;\n    }\n\n}\n\nUser user = new User();\nuser.setReferences(List.of(new Reference(&quot;referenceID&quot;)));\n//it prints {&quot;references&quot;:[&quot;referenceID&quot;]}\nSystem.out.println(jsonMapper.writeValueAsString(user));\n</code></pre>\n<p><strong>Edit</strong>: it seems that the <code>JsonValue</code> annotation invalidates the serialization of the class as expected by the OP; to solve this problem one way is the use of a mixin class for the <code>Reference</code> class and putting inside the <code>JsonValue</code> annotation, the original <code>Reference</code> class will be untouched:</p>\n<pre><code>@Data\npublic class MixInReference {\n    @JsonValue\n    private String ref;\n}\n\n\nObjectMapper jsonMapper = new ObjectMapper();\n//Reference class is still the original class\njsonMapper.addMixIn(Reference.class, MixInReference.class);\n////it prints {&quot;references&quot;:[&quot;referenceID&quot;]}\nSystem.out.println(jsonMapper.writeValueAsString(user));\n</code></pre>\n"}],"owner":{"account_id":1781050,"reputation":187,"user_id":1623801,"accept_rate":14,"display_name":"zepol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70924575,"answer_count":1,"score":1,"last_activity_date":1643659780,"creation_date":1643598927,"question_id":70920916,"body_markdown":"I have the following classes: \r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class User {\r\n\r\n    private String id;\r\n    private List&lt;Reference&gt; references;\r\n.....\r\n}\r\n```\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class Reference {\r\n\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String ref;\r\n\r\n    public Reference(final String ref) {\r\n        this.ref = ref;\r\n    }\r\n\r\n    public Reference() { }\r\n\r\n    public String getRef() {\r\n        return ref;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen serializing to XML the format is as expected, but when I try to serialize to JSON I get the following\r\n\r\n```\r\n&quot;users&quot; : [\r\n  {\r\n      &quot;references&quot; : [\r\n      {\r\n        &quot;ref&quot;: &quot;referenceID&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nAnd I need it to be:\r\n\r\n```\r\n&quot;users&quot; : [\r\n  {\r\n      &quot;references&quot; : [\r\n        &quot;referenceID&quot;\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nthe braces enclosing the reference list I need it to be ignored without the attribute name","title":"Ignore enclosing braces with JSON parser while serializing object in Java","body":"<p>I have the following classes:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class User {\n\n    private String id;\n    private List&lt;Reference&gt; references;\n.....\n}\n</code></pre>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Reference {\n\n    @JacksonXmlProperty(isAttribute = true)\n    private String ref;\n\n    public Reference(final String ref) {\n        this.ref = ref;\n    }\n\n    public Reference() { }\n\n    public String getRef() {\n        return ref;\n    }\n\n}\n</code></pre>\n<p>When serializing to XML the format is as expected, but when I try to serialize to JSON I get the following</p>\n<pre><code>&quot;users&quot; : [\n  {\n      &quot;references&quot; : [\n      {\n        &quot;ref&quot;: &quot;referenceID&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p>And I need it to be:</p>\n<pre><code>&quot;users&quot; : [\n  {\n      &quot;references&quot; : [\n        &quot;referenceID&quot;\n    ]\n  }\n]\n</code></pre>\n<p>the braces enclosing the reference list I need it to be ignored without the attribute name</p>\n"},{"tags":["java","swing","jtree"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1643602563,"post_id":70920137,"comment_id":125375418,"body_markdown":"Your renderer class has a number of calls to `add`, but it never removes any of the child components that it has previously added.","body":"Your renderer class has a number of calls to <code>add</code>, but it never removes any of the child components that it has previously added."},{"owner":{"account_id":10013677,"reputation":45,"user_id":7405752,"display_name":"AKPuvvada"},"score":0,"creation_date":1643659679,"post_id":70920137,"comment_id":125394864,"body_markdown":"Thanks, @VGR, that helped. Now CheckBoxes are not select-able. I need to work on that.","body":"Thanks, @VGR, that helped. Now CheckBoxes are not select-able. I need to work on that."}],"answers":[{"tags":[],"owner":{"account_id":10013677,"reputation":45,"user_id":7405752,"display_name":"AKPuvvada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643659770,"creation_date":1643659770,"answer_id":70932220,"question_id":70920137,"body_markdown":"As @VGR confirmed, after adding removeAll before add resolved this issue for me.\r\n\r\n    removeAll();\r\n    add(label, BorderLayout.CENTER);","title":"Custom JTree Renderer - Support both CheckBoxes and Default","body":"<p>As @VGR confirmed, after adding removeAll before add resolved this issue for me.</p>\n<pre><code>removeAll();\nadd(label, BorderLayout.CENTER);\n</code></pre>\n"}],"owner":{"account_id":10013677,"reputation":45,"user_id":7405752,"display_name":"AKPuvvada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643659770,"creation_date":1643588650,"question_id":70920137,"body_markdown":"I am trying to create a Custom JTree Renderer that can display both JChckBoxes and JLabel with Colored Text.\r\n\r\nWhen I create a JTree with that renderer, it shows all nodes garbled. [![enter image description here][1]][1]\r\n\r\nBelow is my code. Not sure what I am doing wrong. If I remove Colored text and normal text and only keep JCheckbox or Only use colored text, it works fine.\r\n\r\nAppreciate any help.\r\n\r\nMy Renderer class:\r\n\r\n    public class CheckBoxCellRenderer extends JPanel implements TreeCellRenderer {\r\n    \r\n        public CheckBoxCellRenderer() {\r\n            super();\r\n            this.setLayout(new BorderLayout());\r\n        }\r\n    \r\n        @Override\r\n        public Component getTreeCellRendererComponent(JTree tree, Object value,\r\n                boolean selected, boolean expanded, boolean leaf, int row,\r\n                boolean hasFocus) {\r\n            DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\r\n            Object obj = node.getUserObject();\r\n            if(obj instanceof JCheckBox){\r\n                JCheckBox checkBox = (JCheckBox) obj;\r\n                //TreePath tp = new TreePath(node.getPath());\r\n                if(hasFocus)\r\n                {\r\n                    checkBox.setBackground(Color.darkGray);\r\n                    checkBox.setForeground(Color.white);\r\n                } else {\r\n                    checkBox.setBackground(Color.white);\r\n                    checkBox.setForeground(Color.black);\r\n                }\r\n                add(checkBox, BorderLayout.CENTER);\r\n                setOpaque(false);\r\n                this.validate();\r\n                System.out.println(&quot;JCheckBox&quot;);\r\n                return this;\r\n            } else if(obj instanceof ColoredString1){\r\n                JLabel label = new JLabel();\r\n                ColoredString1 cString = (ColoredString1) obj;\r\n                if(hasFocus)\r\n                {\r\n                    label.setBackground(Color.gray);\r\n                    label.setForeground(cString.getColor());\r\n                } else {\r\n                    label.setBackground(Color.white);\r\n                    label.setForeground(cString.getColor());\r\n                }\r\n                label.setText(cString.getValue());\r\n                add(label, BorderLayout.CENTER);\r\n                this.validate();\r\n                System.out.println(&quot;ColoredString1&quot;);\r\n                return this;\r\n            } else {\r\n                JLabel label = new JLabel();\r\n                if(hasFocus)\r\n                {\r\n                    label.setBackground(Color.gray);\r\n                } else {\r\n                    label.setBackground(Color.white);\r\n                }\r\n                label.setText((String) obj);\r\n                add(label, BorderLayout.CENTER);\r\n                this.validate();\r\n                System.out.println(&quot;Default&quot;);\r\n                return this;\r\n            }\r\n        }\r\n    }\r\n\r\nMy main code sample :\r\n\r\n    public class JPOC_JTree_Custom {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            JFrame myframe = new JFrame(&quot;Custom JTree POC&quot;);\r\n            myframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            \r\n            JTree myTree = new JTree();\r\n            myTree.setCellRenderer(new CheckBoxCellRenderer());\r\n            //((DefaultMutableTreeNode)((DefaultTreeModel)myTree.getModel()).getRoot()).removeAllChildren();\r\n            DefaultTreeModel model = (DefaultTreeModel) myTree.getModel();\r\n            DefaultMutableTreeNode root = (DefaultMutableTreeNode) model.getRoot();\r\n            root.removeAllChildren();\r\n            root.setUserObject(&quot;Root_Test&quot;);\r\n            \r\n            DefaultMutableTreeNode TreeNode_Ex_1 = new DefaultMutableTreeNode(new ColoredString1(&quot;Red&quot;, Color.red));\r\n            DefaultMutableTreeNode TreeNode_Ex_2 = new DefaultMutableTreeNode(new ColoredString1(&quot;Orange&quot;, Color.orange));\r\n            DefaultMutableTreeNode TreeNode_Ex_3 = new DefaultMutableTreeNode(new ColoredString1(&quot;Green&quot;, Color.green));\r\n            DefaultMutableTreeNode TreeNode_Ex_4 = new DefaultMutableTreeNode(new ColoredString1(&quot;Blue&quot;, Color.blue));\r\n            DefaultMutableTreeNode TreeNode_Ex_5 = new DefaultMutableTreeNode(&quot;5&quot;);\r\n            DefaultMutableTreeNode TreeNode_Ex_6 = new DefaultMutableTreeNode(new JCheckBox(&quot;Check?&quot;));\r\n            \r\n            root.add(TreeNode_Ex_1);\r\n            root.add(TreeNode_Ex_2);\r\n            root.add(TreeNode_Ex_3);\r\n            root.add(TreeNode_Ex_4);\r\n            root.add(TreeNode_Ex_5);\r\n            root.add(TreeNode_Ex_6);\r\n            \r\n            //model.setRoot(root);\r\n            model.reload(root);\r\n            //myTree.setModel(model);\r\n            \r\n            JScrollPane myTree_ScrollPane = new JScrollPane();\r\n            myTree_ScrollPane.setViewportView(myTree);\r\n            \r\n            myframe.add(myTree_ScrollPane);\r\n            \r\n            myframe.validate();\r\n            \r\n            myframe.setVisible(true);\r\n            \r\n            System.out.println(&quot;Done&quot;);\r\n        }\r\n        \r\n    }\r\n\r\n--\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DRMmN.png","title":"Custom JTree Renderer - Support both CheckBoxes and Default","body":"<p>I am trying to create a Custom JTree Renderer that can display both JChckBoxes and JLabel with Colored Text.</p>\n<p>When I create a JTree with that renderer, it shows all nodes garbled. <a href=\"https://i.stack.imgur.com/DRMmN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRMmN.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my code. Not sure what I am doing wrong. If I remove Colored text and normal text and only keep JCheckbox or Only use colored text, it works fine.</p>\n<p>Appreciate any help.</p>\n<p>My Renderer class:</p>\n<pre><code>public class CheckBoxCellRenderer extends JPanel implements TreeCellRenderer {\n\n    public CheckBoxCellRenderer() {\n        super();\n        this.setLayout(new BorderLayout());\n    }\n\n    @Override\n    public Component getTreeCellRendererComponent(JTree tree, Object value,\n            boolean selected, boolean expanded, boolean leaf, int row,\n            boolean hasFocus) {\n        DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\n        Object obj = node.getUserObject();\n        if(obj instanceof JCheckBox){\n            JCheckBox checkBox = (JCheckBox) obj;\n            //TreePath tp = new TreePath(node.getPath());\n            if(hasFocus)\n            {\n                checkBox.setBackground(Color.darkGray);\n                checkBox.setForeground(Color.white);\n            } else {\n                checkBox.setBackground(Color.white);\n                checkBox.setForeground(Color.black);\n            }\n            add(checkBox, BorderLayout.CENTER);\n            setOpaque(false);\n            this.validate();\n            System.out.println(&quot;JCheckBox&quot;);\n            return this;\n        } else if(obj instanceof ColoredString1){\n            JLabel label = new JLabel();\n            ColoredString1 cString = (ColoredString1) obj;\n            if(hasFocus)\n            {\n                label.setBackground(Color.gray);\n                label.setForeground(cString.getColor());\n            } else {\n                label.setBackground(Color.white);\n                label.setForeground(cString.getColor());\n            }\n            label.setText(cString.getValue());\n            add(label, BorderLayout.CENTER);\n            this.validate();\n            System.out.println(&quot;ColoredString1&quot;);\n            return this;\n        } else {\n            JLabel label = new JLabel();\n            if(hasFocus)\n            {\n                label.setBackground(Color.gray);\n            } else {\n                label.setBackground(Color.white);\n            }\n            label.setText((String) obj);\n            add(label, BorderLayout.CENTER);\n            this.validate();\n            System.out.println(&quot;Default&quot;);\n            return this;\n        }\n    }\n}\n</code></pre>\n<p>My main code sample :</p>\n<pre><code>public class JPOC_JTree_Custom {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        JFrame myframe = new JFrame(&quot;Custom JTree POC&quot;);\n        myframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        \n        JTree myTree = new JTree();\n        myTree.setCellRenderer(new CheckBoxCellRenderer());\n        //((DefaultMutableTreeNode)((DefaultTreeModel)myTree.getModel()).getRoot()).removeAllChildren();\n        DefaultTreeModel model = (DefaultTreeModel) myTree.getModel();\n        DefaultMutableTreeNode root = (DefaultMutableTreeNode) model.getRoot();\n        root.removeAllChildren();\n        root.setUserObject(&quot;Root_Test&quot;);\n        \n        DefaultMutableTreeNode TreeNode_Ex_1 = new DefaultMutableTreeNode(new ColoredString1(&quot;Red&quot;, Color.red));\n        DefaultMutableTreeNode TreeNode_Ex_2 = new DefaultMutableTreeNode(new ColoredString1(&quot;Orange&quot;, Color.orange));\n        DefaultMutableTreeNode TreeNode_Ex_3 = new DefaultMutableTreeNode(new ColoredString1(&quot;Green&quot;, Color.green));\n        DefaultMutableTreeNode TreeNode_Ex_4 = new DefaultMutableTreeNode(new ColoredString1(&quot;Blue&quot;, Color.blue));\n        DefaultMutableTreeNode TreeNode_Ex_5 = new DefaultMutableTreeNode(&quot;5&quot;);\n        DefaultMutableTreeNode TreeNode_Ex_6 = new DefaultMutableTreeNode(new JCheckBox(&quot;Check?&quot;));\n        \n        root.add(TreeNode_Ex_1);\n        root.add(TreeNode_Ex_2);\n        root.add(TreeNode_Ex_3);\n        root.add(TreeNode_Ex_4);\n        root.add(TreeNode_Ex_5);\n        root.add(TreeNode_Ex_6);\n        \n        //model.setRoot(root);\n        model.reload(root);\n        //myTree.setModel(model);\n        \n        JScrollPane myTree_ScrollPane = new JScrollPane();\n        myTree_ScrollPane.setViewportView(myTree);\n        \n        myframe.add(myTree_ScrollPane);\n        \n        myframe.validate();\n        \n        myframe.setVisible(true);\n        \n        System.out.println(&quot;Done&quot;);\n    }\n    \n}\n</code></pre>\n<p>--</p>\n"},{"tags":["java","spring","flutter","oauth-2.0","google-oauth"],"comments":[{"owner":{"account_id":8276195,"reputation":769,"user_id":6222302,"accept_rate":83,"display_name":"Bala"},"score":0,"creation_date":1642972580,"post_id":70825998,"comment_id":125210262,"body_markdown":"Have you tried springboot oauth feature ? https://spring.io/guides/tutorials/spring-boot-oauth2/","body":"Have you tried springboot oauth feature ? <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">spring.io/guides/tutorials/spring-boot-oauth2</a>"}],"answers":[{"tags":[],"owner":{"account_id":17829600,"reputation":57,"user_id":12949953,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643659606,"creation_date":1643659606,"answer_id":70932200,"question_id":70825998,"body_markdown":"Ok, I found out, that the best and recommended way is too use GoogleTokenVerifier on the backend to authenticate and check the accessToken of the oauth request. Microsofts is recommending the same way:\r\n\r\nhttps://learn.microsoft.com/de-de/azure/active-directory/develop/access-tokens#validating-tokens\r\n\r\nhttps://www.youtube.com/watch?v=j_31hJtWjlw","title":"How do I design google OAuth2 workflow","body":"<p>Ok, I found out, that the best and recommended way is too use GoogleTokenVerifier on the backend to authenticate and check the accessToken of the oauth request. Microsofts is recommending the same way:</p>\n<p><a href=\"https://learn.microsoft.com/de-de/azure/active-directory/develop/access-tokens#validating-tokens\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/de-de/azure/active-directory/develop/access-tokens#validating-tokens</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=j_31hJtWjlw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=j_31hJtWjlw</a></p>\n"}],"owner":{"account_id":17829600,"reputation":57,"user_id":12949953,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70932200,"answer_count":1,"score":1,"last_activity_date":1643659606,"creation_date":1642967573,"question_id":70825998,"body_markdown":"I have a Backend (Spring) and a Frontend Flutter App. I want to implement an OAuth2 flow. What is the right way to implement this. My first service to implement will be google, but i want to keep it general, so i can implement other services like Microsoft.\r\n\r\nI&#39;ve tried a workflow where the authentication is done by the server (app requests oauth login to server -&gt; redirecting with clientIds etc -&gt; client authenticates -&gt; redirect to server and validating -&gt; returning login information to client)\r\nIs this the right way? E.g. Google doesn&#39;t want you to use the built-in-app webView widget...\r\n\r\nI&#39;ve also tried a split way, that the first request to google OAuth servers is done in the app obtaining the authCode and the server requesting the necessary information. But this doesn&#39;t work for me. I&#39;ll get different error types each time.\r\n\r\nI&#39;m really stuck at this for a long time and didn&#39;t find a general solution...","title":"How do I design google OAuth2 workflow","body":"<p>I have a Backend (Spring) and a Frontend Flutter App. I want to implement an OAuth2 flow. What is the right way to implement this. My first service to implement will be google, but i want to keep it general, so i can implement other services like Microsoft.</p>\n<p>I've tried a workflow where the authentication is done by the server (app requests oauth login to server -&gt; redirecting with clientIds etc -&gt; client authenticates -&gt; redirect to server and validating -&gt; returning login information to client)\nIs this the right way? E.g. Google doesn't want you to use the built-in-app webView widget...</p>\n<p>I've also tried a split way, that the first request to google OAuth servers is done in the app obtaining the authCode and the server requesting the necessary information. But this doesn't work for me. I'll get different error types each time.</p>\n<p>I'm really stuck at this for a long time and didn't find a general solution...</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1643659314,"post_id":70932010,"comment_id":125394718,"body_markdown":"Does the bag really need to contain multiple copies of the same (T implements `equals` and `hashcode`).  For example, could use a data structure such as `Map&lt;T, Integer&gt;`, where Integer is the count (but there is actually only a single instance).  `doubleBag()` would just be going through the map and `* 2` each value of the map.","body":"Does the bag really need to contain multiple copies of the same (T implements <code>equals</code> and <code>hashcode</code>).  For example, could use a data structure such as <code>Map&lt;T, Integer&gt;</code>, where Integer is the count (but there is actually only a single instance).  <code>doubleBag()</code> would just be going through the map and <code>* 2</code> each value of the map."}],"answers":[{"tags":[],"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643659505,"creation_date":1643659505,"answer_id":70932183,"question_id":70932010,"body_markdown":"Let&#39;s just briefly look at your `replace` method:\r\n\r\n```\r\nT entry = null;\r\nT entry1 = null;\r\n// entry and entry1 are both null\r\noldEntry = entry;\r\nnewEntry = entry1;\r\n// entry, entry1, oldEntry and newEntry are all null.\r\n\r\nremove(oldEntry); // remove null\r\n\r\nentry = newEntry;  // overwriting null with null\r\nentry1 = oldEntry; // same as previous statement\r\n\r\nadd(oldEntry); // add null\r\nadd(newEntry); // add null again\r\n\r\n// print &quot;null , null&quot;\r\nSystem.out.println(oldEntry + &quot; , &quot; + newEntry);\r\n```\r\n\r\nIt&#39;s not clear what you&#39;re trying to do, but at least what&#39;s here is just a bunch of nothing. What you probably want is a little more like this:\r\n\r\n```\r\n// assuming oldEntry and newEntry are set somewhere and are correct, \r\n// and that remove and add work as expected:\r\nremove(oldEntry);\r\nadd(newEntry);\r\n// And you&#39;ll want to repeat this for as many duplicates as there are of oldEntry.\r\n```\r\n\r\nAs for the `doubleBag` method, you&#39;ll want some way to walk over entries, and then duplicate them:\r\n\r\n```\r\nNode currentNode = head;\r\nNode newHead = null;\r\nNode newTail = null;\r\nwhile (currentNode != null) {\r\n  Node first = new Node(currentNode.data);\r\n  Node second = new Node(currentNode.data);\r\n  first.next = second;\r\n  if (newHead != null) {\r\n    newTail.next = first;\r\n    newTail = second;\r\n  } else {\r\n    newHead = first;\r\n    newTail = second;\r\n  }\r\n  currentNode = currentNode.next;\r\n}\r\nreturn newHead;\r\n```\r\n\r\nThis code traverses the input list starting at `head`, creates two copies of the node (named `first` and `second`), links them together and appends them to a new list, which it returns at the end.\r\n\r\nThat should get you started. Also, notice how the traversal works, and see how it differs from your `isDuplicated` implementation (which currently has an infinite loop). I&#39;ll leave it to you to fix your implementation.","title":"Implementing methods from a class to a interface as a linked list","body":"<p>Let's just briefly look at your <code>replace</code> method:</p>\n<pre><code>T entry = null;\nT entry1 = null;\n// entry and entry1 are both null\noldEntry = entry;\nnewEntry = entry1;\n// entry, entry1, oldEntry and newEntry are all null.\n\nremove(oldEntry); // remove null\n\nentry = newEntry;  // overwriting null with null\nentry1 = oldEntry; // same as previous statement\n\nadd(oldEntry); // add null\nadd(newEntry); // add null again\n\n// print &quot;null , null&quot;\nSystem.out.println(oldEntry + &quot; , &quot; + newEntry);\n</code></pre>\n<p>It's not clear what you're trying to do, but at least what's here is just a bunch of nothing. What you probably want is a little more like this:</p>\n<pre><code>// assuming oldEntry and newEntry are set somewhere and are correct, \n// and that remove and add work as expected:\nremove(oldEntry);\nadd(newEntry);\n// And you'll want to repeat this for as many duplicates as there are of oldEntry.\n</code></pre>\n<p>As for the <code>doubleBag</code> method, you'll want some way to walk over entries, and then duplicate them:</p>\n<pre><code>Node currentNode = head;\nNode newHead = null;\nNode newTail = null;\nwhile (currentNode != null) {\n  Node first = new Node(currentNode.data);\n  Node second = new Node(currentNode.data);\n  first.next = second;\n  if (newHead != null) {\n    newTail.next = first;\n    newTail = second;\n  } else {\n    newHead = first;\n    newTail = second;\n  }\n  currentNode = currentNode.next;\n}\nreturn newHead;\n</code></pre>\n<p>This code traverses the input list starting at <code>head</code>, creates two copies of the node (named <code>first</code> and <code>second</code>), links them together and appends them to a new list, which it returns at the end.</p>\n<p>That should get you started. Also, notice how the traversal works, and see how it differs from your <code>isDuplicated</code> implementation (which currently has an infinite loop). I'll leave it to you to fix your implementation.</p>\n"}],"owner":{"account_id":20474883,"reputation":1,"user_id":15024443,"display_name":"JavaScript without Script"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643659505,"creation_date":1643658592,"question_id":70932010,"body_markdown":"I have these folowing methods and I want to implement this in a class called LinkedBag \r\n\r\n    void replace(T oldEntry, T newEntry){}\r\n    boolean isDuplicated(T anEntry){}\r\n    void doubleBag(){}\r\n1) `void replace(T oldEntry,T newEntry)` replaces any entry that is equal to `oldEntry` with the new entry `newEntry`. For example,suppose that `replace(A,D)` is called on this bag {A,B,C,A}. The resulting bag should be `{D,B,C,D}`\r\n2) the boolean returns true if the entry `anEntry` appears more than \r\none time in the bag and false otherwise. For example, calling `isDuplicated(B)` on the resulting \r\nbag in part 1 should return false, but `isDuplicated(D)` should return true.\r\n3) `void doubleBag()`adds to the bag a copy of each entry that appears in the bag. For example, \r\ncalling doubleBag() on the resulting bag in part 1 should change the bag contents to `{4’D, 2’B, \r\n2’C}`.\r\n\r\nNow so far I though of getting the frequency of a node and checking if the node is duplicated like:\r\n\r\n     public boolean isDuplicated(T anEntry){ \r\n           Node currentNode =firstNode;\r\n           int counter=0;\r\n           while ((counter &lt;numberOfEntries)&amp;&amp;(currentNode!=null))\r\n               if(anEntry.equals(currentNode)){\r\n                   return true;\r\n               }\r\n           return false;\r\n        }\r\n\r\nand for the `replace` method I tried assigning values to another variables then removing them and then reassigning them again but I don&#39;t think it&#39;s right\r\n\r\n       T entry=null;\r\n            T entry1 = null;\r\n            oldEntry=entry;\r\n            newEntry=entry1;\r\n            remove(oldEntry);\r\n            entry=newEntry; \r\n            entry1=oldEntry;\r\n            \r\n            \r\n            \r\n            add(oldEntry);\r\n            add(newEntry);\r\n           System.out.println( oldEntry+&quot; , &quot;+newEntry );\r\n        }\r\nas for the double bag I still don&#39;t know how to do it.\r\n\r\nExcuse me for my bad programming I am learning java new, and still learning the basics.\r\n\r\n ","title":"Implementing methods from a class to a interface as a linked list","body":"<p>I have these folowing methods and I want to implement this in a class called LinkedBag</p>\n<pre><code>void replace(T oldEntry, T newEntry){}\nboolean isDuplicated(T anEntry){}\nvoid doubleBag(){}\n</code></pre>\n<ol>\n<li><code>void replace(T oldEntry,T newEntry)</code> replaces any entry that is equal to <code>oldEntry</code> with the new entry <code>newEntry</code>. For example,suppose that <code>replace(A,D)</code> is called on this bag {A,B,C,A}. The resulting bag should be <code>{D,B,C,D}</code></li>\n<li>the boolean returns true if the entry <code>anEntry</code> appears more than\none time in the bag and false otherwise. For example, calling <code>isDuplicated(B)</code> on the resulting\nbag in part 1 should return false, but <code>isDuplicated(D)</code> should return true.</li>\n<li><code>void doubleBag()</code>adds to the bag a copy of each entry that appears in the bag. For example,\ncalling doubleBag() on the resulting bag in part 1 should change the bag contents to <code>{4’D, 2’B,  2’C}</code>.</li>\n</ol>\n<p>Now so far I though of getting the frequency of a node and checking if the node is duplicated like:</p>\n<pre><code> public boolean isDuplicated(T anEntry){ \n       Node currentNode =firstNode;\n       int counter=0;\n       while ((counter &lt;numberOfEntries)&amp;&amp;(currentNode!=null))\n           if(anEntry.equals(currentNode)){\n               return true;\n           }\n       return false;\n    }\n</code></pre>\n<p>and for the <code>replace</code> method I tried assigning values to another variables then removing them and then reassigning them again but I don't think it's right</p>\n<pre><code>   T entry=null;\n        T entry1 = null;\n        oldEntry=entry;\n        newEntry=entry1;\n        remove(oldEntry);\n        entry=newEntry; \n        entry1=oldEntry;\n        \n        \n        \n        add(oldEntry);\n        add(newEntry);\n       System.out.println( oldEntry+&quot; , &quot;+newEntry );\n    }\n</code></pre>\n<p>as for the double bag I still don't know how to do it.</p>\n<p>Excuse me for my bad programming I am learning java new, and still learning the basics.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8359,"page":1633,"page_size":100}
