{"items":[{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":4979746,"reputation":106,"user_id":4005091,"display_name":"Gaurang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647857317,"creation_date":1647856756,"answer_id":71555705,"question_id":71480626,"body_markdown":"As per the logs it is trying to export to localhost:55680 which refers to your  application&#39;s container ,instead it should export to otel-collector&#39;s ip address.\r\n\r\n\r\n","title":"OpenTelemetry autoinstrumentation. Error with export spans via OTel collector to Jaeger","body":"<p>As per the logs it is trying to export to localhost:55680 which refers to your  application's container ,instead it should export to otel-collector's ip address.</p>\n"},{"tags":[],"owner":{"account_id":26202329,"reputation":21,"user_id":19882501,"display_name":"Adri V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663357721,"creation_date":1663355921,"answer_id":73749439,"question_id":71480626,"body_markdown":"Your `OTEL_EXPORTER_OTLP_TRACES_PROTOCOL` is set to `http/protobuf`; however your trace endpoint is set to `http://localhost:4317`, which is the default gRPC endpoint for the Collector. It should either be:\r\n\r\n```\r\nOTEL_EXPORTER_OTLP_TRACES_PROTOCOL=grpc\r\nOTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317\r\n```\r\nor\r\n\r\n```\r\nOTEL_EXPORTER_OTLP_TRACES_PROTOCOL=http/protobuf\r\nOTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces\r\n```\r\n\r\nSee docs [here](https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#exporters)","title":"OpenTelemetry autoinstrumentation. Error with export spans via OTel collector to Jaeger","body":"<p>Your <code>OTEL_EXPORTER_OTLP_TRACES_PROTOCOL</code> is set to <code>http/protobuf</code>; however your trace endpoint is set to <code>http://localhost:4317</code>, which is the default gRPC endpoint for the Collector. It should either be:</p>\n<pre><code>OTEL_EXPORTER_OTLP_TRACES_PROTOCOL=grpc\nOTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317\n</code></pre>\n<p>or</p>\n<pre><code>OTEL_EXPORTER_OTLP_TRACES_PROTOCOL=http/protobuf\nOTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces\n</code></pre>\n<p>See docs <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#exporters\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":24563580,"reputation":11,"user_id":18470999,"display_name":"Igor Vologodskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12998,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697054690,"creation_date":1647339965,"question_id":71480626,"body_markdown":"I have a simple spring boot app and am trying to learn how to export spans with opentelemetry-javaagent via OpenTelemetry Collector in Jaeger. But I&#39;m getting an error. My application provides a simple post Rest API.\r\n\r\nCould you help me please what am I doing wrong?\r\n\r\n```\r\nError\r\n[opentelemetry.auto.trace 2022-03-15 10:02:28:286 +0000] [BatchSpanProcessor_ExporterThread_1] WARN io.opentelemetry.exporters.otlp.OtlpGrpcSpanExporter - Failed to export spans\r\nSpringBootRestService_1  | io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)\r\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)\r\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)\r\nSpringBootRestService_1  |      at io.opentelemetry.proto.collector.trace.v1.TraceServiceGrpc$TraceServiceBlockingStub.export(TraceServiceGrpc.java:201)\r\nSpringBootRestService_1  |      at io.opentelemetry.exporters.otlp.OtlpGrpcSpanExporter.export(OtlpGrpcSpanExporter.java:114)\r\nSpringBootRestService_1  |      at io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker$1.run(BatchSpanProcessor.java:288)\r\nSpringBootRestService_1  |      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\nSpringBootRestService_1  |      at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\nSpringBootRestService_1  |      at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\nSpringBootRestService_1  |      at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\nSpringBootRestService_1  |      at java.base/java.lang.Thread.run(Unknown Source)\r\nSpringBootRestService_1  | Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:55680\r\nSpringBootRestService_1  | Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\r\n```\r\n    \r\nConfiguration (otel-collector-config.yaml):\r\n```\r\n    receivers:\r\n      otlp:\r\n        protocols:\r\n            grpc:\r\n              endpoint:\r\n    \r\n    exporters:\r\n      prometheus:\r\n        endpoint: &quot;0.0.0.0:8889&quot;\r\n        namespace: promexample\r\n        const_labels:\r\n          label1: value1\r\n      logging:\r\n        loglevel: debug\r\n    \r\n      zipkin:\r\n        endpoint: http://zipkin-all-in-one:9411/api/v2/spans\r\n        format: proto\r\n    \r\n      jaeger:\r\n        endpoint: jaeger-all-in-one:14250\r\n        insecure: true\r\n    \r\n    \r\n    processors:\r\n      batch:\r\n    \r\n    extensions:\r\n      health_check:\r\n      pprof:\r\n        endpoint: :1888\r\n      zpages:\r\n        endpoint: :55679\r\n    \r\n    service:\r\n      extensions: [pprof, zpages, health_check]\r\n      pipelines:\r\n        traces:\r\n          receivers: [otlp]\r\n          processors: [batch]\r\n          exporters: [logging, zipkin, jaeger]\r\n        metrics:\r\n          receivers: [otlp]\r\n          processors: [batch]\r\n          exporters: [logging, prometheus]\r\n    \r\n    **docker-compose.yml**\r\n    version: &quot;3.8&quot;\r\n    \r\n    services:\r\n    \r\n      SpringBootRestService:\r\n        image: &quot;spring-boot-rest-service&quot;\r\n        ports:\r\n          - &quot;8080-8090:8080-8090&quot;\r\n        volumes:\r\n          - &quot;./api/config/application.yml:/config/application.yml&quot;\r\n    \r\n      # Jaeger\r\n      jaeger-all-in-one:\r\n        image: &quot;jaegertracing/all-in-one:latest&quot;\r\n        ports:\r\n          - 5775:5775/udp\r\n          - 6831:6831/udp\r\n          - 6832:6832/udp\r\n          - 5778:5778\r\n          - 16686:16686\r\n          - 14268:14268\r\n          - 14250:14250\r\n    \r\n      # Zipkin\r\n      zipkin:\r\n        image: openzipkin/zipkin:latest\r\n        ports:\r\n          - &quot;9411:9411&quot;\r\n    \r\n        # Collector\r\n      otel-collector:\r\n        image: ${OTELCOL_IMG}\r\n        command: [ &quot;--config=./config/otel-collector-config.yaml&quot;, &quot;${OTELCOL_ARGS}&quot; ]\r\n        volumes:\r\n          - ./otel-collector-config.yaml:/config/otel-collector-config.yaml\r\n        ports:\r\n          - &quot;1888:1888&quot;   # pprof extension\r\n          - &quot;8888:8888&quot;   # Prometheus metrics exposed by the collector\r\n          - &quot;8889:8889&quot;   # Prometheus exporter metrics\r\n          - &quot;13133:13133&quot; # health_check extension\r\n          - &quot;55679:55679&quot; # zpages extension\r\n          - &quot;55680:55680&quot;\r\n          - &quot;4317:4317&quot;   # otlp receiver grpc\r\n          - &quot;4318:4318&quot;   # otlp receiver http\r\n          - &quot;55681:55681&quot;\r\n          - &quot;6831:6831&quot;\r\n          - &quot;6832:6832&quot;\r\n          - &quot;9943:9943&quot;\r\n          - &quot;1777:1777&quot;\r\n        depends_on:\r\n          - jaeger-all-in-one\r\n          - zipkin\r\n```\r\n\r\nStart:\r\n```\r\n    JAVA_OPTS=&quot;${JAVA_OPTS} \\\r\n      -Xms${JAVA_XMS} \\\r\n      -Xmx${JAVA_XMX} \\\r\n      -Dapplication.name=${APP_NAME} \\\r\n      -Dapplication.home=${APP_HOME} \\\r\n      -Dotel.traces.exporter=${OTEL_TRACES_EXPORTER} \\\r\n      -Dotel.service.name=${OTEL_SERVICE_NAME} \\\r\n      -Dotel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT} \\\r\n      -javaagent:${APP_HOME}/opentelemetry-javaagent-all.jar&quot;\r\n    \r\n    exec java ${JAVA_OPTS} \\\r\n      -jar &quot;${APP_HOME}/${APP_NAME}.jar&quot; \\\r\n      --spring.config.location=/config/application.yml\r\n```\r\n\r\nEnvironmental variables:\r\n```\r\n    OTEL_TRACES_EXPORTER=otlp\r\n    OTELCOL_IMG=otel/opentelemetry-collector:latest\r\n    OTELCOL_OPTIONS=&quot;--config=./config/otel-collector-config.yaml&quot;\r\n    OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317\r\n    OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317\r\n    OTEL_EXPORTER_OTLP_TRACES_PROTOCOL=http/protobuf\r\n    OTEL_SERVICE_NAME=spring-boot-rest-service\r\n    OTEL_RESOURCE_ATTRIBUTES=application=APPLICATION_NAME\r\n    OTELCOL_ARGS=\r\n```","title":"OpenTelemetry autoinstrumentation. Error with export spans via OTel collector to Jaeger","body":"<p>I have a simple spring boot app and am trying to learn how to export spans with opentelemetry-javaagent via OpenTelemetry Collector in Jaeger. But I'm getting an error. My application provides a simple post Rest API.</p>\n<p>Could you help me please what am I doing wrong?</p>\n<pre><code>Error\n[opentelemetry.auto.trace 2022-03-15 10:02:28:286 +0000] [BatchSpanProcessor_ExporterThread_1] WARN io.opentelemetry.exporters.otlp.OtlpGrpcSpanExporter - Failed to export spans\nSpringBootRestService_1  | io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)\nSpringBootRestService_1  |      at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)\nSpringBootRestService_1  |      at io.opentelemetry.proto.collector.trace.v1.TraceServiceGrpc$TraceServiceBlockingStub.export(TraceServiceGrpc.java:201)\nSpringBootRestService_1  |      at io.opentelemetry.exporters.otlp.OtlpGrpcSpanExporter.export(OtlpGrpcSpanExporter.java:114)\nSpringBootRestService_1  |      at io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker$1.run(BatchSpanProcessor.java:288)\nSpringBootRestService_1  |      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\nSpringBootRestService_1  |      at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\nSpringBootRestService_1  |      at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nSpringBootRestService_1  |      at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nSpringBootRestService_1  |      at java.base/java.lang.Thread.run(Unknown Source)\nSpringBootRestService_1  | Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:55680\nSpringBootRestService_1  | Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\n</code></pre>\n<p>Configuration (otel-collector-config.yaml):</p>\n<pre><code>    receivers:\n      otlp:\n        protocols:\n            grpc:\n              endpoint:\n    \n    exporters:\n      prometheus:\n        endpoint: &quot;0.0.0.0:8889&quot;\n        namespace: promexample\n        const_labels:\n          label1: value1\n      logging:\n        loglevel: debug\n    \n      zipkin:\n        endpoint: http://zipkin-all-in-one:9411/api/v2/spans\n        format: proto\n    \n      jaeger:\n        endpoint: jaeger-all-in-one:14250\n        insecure: true\n    \n    \n    processors:\n      batch:\n    \n    extensions:\n      health_check:\n      pprof:\n        endpoint: :1888\n      zpages:\n        endpoint: :55679\n    \n    service:\n      extensions: [pprof, zpages, health_check]\n      pipelines:\n        traces:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [logging, zipkin, jaeger]\n        metrics:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [logging, prometheus]\n    \n    **docker-compose.yml**\n    version: &quot;3.8&quot;\n    \n    services:\n    \n      SpringBootRestService:\n        image: &quot;spring-boot-rest-service&quot;\n        ports:\n          - &quot;8080-8090:8080-8090&quot;\n        volumes:\n          - &quot;./api/config/application.yml:/config/application.yml&quot;\n    \n      # Jaeger\n      jaeger-all-in-one:\n        image: &quot;jaegertracing/all-in-one:latest&quot;\n        ports:\n          - 5775:5775/udp\n          - 6831:6831/udp\n          - 6832:6832/udp\n          - 5778:5778\n          - 16686:16686\n          - 14268:14268\n          - 14250:14250\n    \n      # Zipkin\n      zipkin:\n        image: openzipkin/zipkin:latest\n        ports:\n          - &quot;9411:9411&quot;\n    \n        # Collector\n      otel-collector:\n        image: ${OTELCOL_IMG}\n        command: [ &quot;--config=./config/otel-collector-config.yaml&quot;, &quot;${OTELCOL_ARGS}&quot; ]\n        volumes:\n          - ./otel-collector-config.yaml:/config/otel-collector-config.yaml\n        ports:\n          - &quot;1888:1888&quot;   # pprof extension\n          - &quot;8888:8888&quot;   # Prometheus metrics exposed by the collector\n          - &quot;8889:8889&quot;   # Prometheus exporter metrics\n          - &quot;13133:13133&quot; # health_check extension\n          - &quot;55679:55679&quot; # zpages extension\n          - &quot;55680:55680&quot;\n          - &quot;4317:4317&quot;   # otlp receiver grpc\n          - &quot;4318:4318&quot;   # otlp receiver http\n          - &quot;55681:55681&quot;\n          - &quot;6831:6831&quot;\n          - &quot;6832:6832&quot;\n          - &quot;9943:9943&quot;\n          - &quot;1777:1777&quot;\n        depends_on:\n          - jaeger-all-in-one\n          - zipkin\n</code></pre>\n<p>Start:</p>\n<pre><code>    JAVA_OPTS=&quot;${JAVA_OPTS} \\\n      -Xms${JAVA_XMS} \\\n      -Xmx${JAVA_XMX} \\\n      -Dapplication.name=${APP_NAME} \\\n      -Dapplication.home=${APP_HOME} \\\n      -Dotel.traces.exporter=${OTEL_TRACES_EXPORTER} \\\n      -Dotel.service.name=${OTEL_SERVICE_NAME} \\\n      -Dotel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT} \\\n      -javaagent:${APP_HOME}/opentelemetry-javaagent-all.jar&quot;\n    \n    exec java ${JAVA_OPTS} \\\n      -jar &quot;${APP_HOME}/${APP_NAME}.jar&quot; \\\n      --spring.config.location=/config/application.yml\n</code></pre>\n<p>Environmental variables:</p>\n<pre><code>    OTEL_TRACES_EXPORTER=otlp\n    OTELCOL_IMG=otel/opentelemetry-collector:latest\n    OTELCOL_OPTIONS=&quot;--config=./config/otel-collector-config.yaml&quot;\n    OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317\n    OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317\n    OTEL_EXPORTER_OTLP_TRACES_PROTOCOL=http/protobuf\n    OTEL_SERVICE_NAME=spring-boot-rest-service\n    OTEL_RESOURCE_ATTRIBUTES=application=APPLICATION_NAME\n    OTELCOL_ARGS=\n</code></pre>\n"},{"tags":["java","spring-boot","multithreading","spring-data-jpa","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697054219,"creation_date":1697054219,"answer_id":77276073,"question_id":77271984,"body_markdown":"Probably the simplest way would be defining an `@AfterEach` method that calls `deleteAll` of the underlying repository or repositories:\r\n```java\r\n@AfterEach\r\nvoid afterEach() {\r\n  repo.deleteAll();\r\n}\r\n```","title":"Easy way to undo changes made by multithread after each Spring Data JPA Integration Test?","body":"<p>Probably the simplest way would be defining an <code>@AfterEach</code> method that calls <code>deleteAll</code> of the underlying repository or repositories:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AfterEach\nvoid afterEach() {\n  repo.deleteAll();\n}\n</code></pre>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697054618,"creation_date":1697018306,"question_id":77271984,"body_markdown":"I know adding `@Transactional` can rollback the changes, however, my integration test involves multiple threads, and Hibernate is not happy to work with a single transaction shared between multiple threads, plus I need each thread to be able to see the changes made by other threads, so I ended up with threads having their own transactions and rolling back the starting testing thread does not undo the changes made by these threads.\r\n\r\nTest database is started with TestContainer and I don&#39;t want to destroy the container as well, because tables are setup with Liquibase. So I am after some easy way to just wipe the data after each integration test.","title":"Easy way to undo changes made by multithread after each Spring Data JPA Integration Test?","body":"<p>I know adding <code>@Transactional</code> can rollback the changes, however, my integration test involves multiple threads, and Hibernate is not happy to work with a single transaction shared between multiple threads, plus I need each thread to be able to see the changes made by other threads, so I ended up with threads having their own transactions and rolling back the starting testing thread does not undo the changes made by these threads.</p>\n<p>Test database is started with TestContainer and I don't want to destroy the container as well, because tables are setup with Liquibase. So I am after some easy way to just wipe the data after each integration test.</p>\n"},{"tags":["java","parsing","csv","opencsv"],"comments":[{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1397472219,"post_id":23057761,"comment_id":35233510,"body_markdown":"What happens when you read a line from CSV and split it using `&quot;\\t\\t&quot;` ?","body":"What happens when you read a line from CSV and split it using <code>&quot;\\t\\t&quot;</code> ?"},{"owner":{"account_id":3617176,"reputation":1433,"user_id":3016744,"display_name":"Jad B."},"score":0,"creation_date":1397638198,"post_id":23057761,"comment_id":35316242,"body_markdown":"That&#39;s what I did finally, I parsed the file manually line by line and split by double tab string","body":"That&#39;s what I did finally, I parsed the file manually line by line and split by double tab string"}],"answers":[{"tags":[],"owner":{"account_id":261698,"reputation":6422,"user_id":546060,"accept_rate":86,"display_name":"Charles Goodwin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397472199,"creation_date":1397472199,"answer_id":23058043,"question_id":23057761,"body_markdown":"There&#39;s 101 examples online. I Googled &quot;java parse csv&quot; and this was the #1 result:\r\n\r\nhttp://www.mkyong.com/java/how-to-read-and-parse-csv-file-in-java/\r\n\r\nThat uses a String as a separator, however this is code rather than an API.\r\n\r\nGiven that parsing a CSV file is a pretty simple process, I don&#39;t think it&#39;s a good example of a situation requiring a library and - especially with a slightly unique requirement like you have with the strange `\\t\\t` separator - it is probably better to just code it anyway.","title":"Parsing a CSV file with custom String separator","body":"<p>There's 101 examples online. I Googled \"java parse csv\" and this was the #1 result:</p>\n\n<p><a href=\"http://www.mkyong.com/java/how-to-read-and-parse-csv-file-in-java/\" rel=\"nofollow\">http://www.mkyong.com/java/how-to-read-and-parse-csv-file-in-java/</a></p>\n\n<p>That uses a String as a separator, however this is code rather than an API.</p>\n\n<p>Given that parsing a CSV file is a pretty simple process, I don't think it's a good example of a situation requiring a library and - especially with a slightly unique requirement like you have with the strange <code>\\t\\t</code> separator - it is probably better to just code it anyway.</p>\n"},{"tags":[],"owner":{"account_id":2904340,"reputation":2020,"user_id":2490115,"accept_rate":100,"display_name":"The Badak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397472319,"creation_date":1397472319,"answer_id":23058080,"question_id":23057761,"body_markdown":"try this:\r\n\r\n    ArrayList&lt;String&gt; itemsOne=new ArrayList&lt;String&gt;();\r\n    ArrayList&lt;String&gt; itemsTwo=new ArrayList&lt;String&gt;();\r\n    \r\n    InputStream is = getResources().openRawResource(R.raw.csvfile);\r\n    try {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n        String line;\r\n    \r\n        while ((line = reader.readLine()) != null ) {\r\n            String [] rowData = line.split(&quot;\\t\\t&quot;);\r\n            itemsOne.add(rowData[0]);\r\n            itemsTwo.add(rowData[1]);\r\n        }\r\n    } catch (Exception e) {}","title":"Parsing a CSV file with custom String separator","body":"<p>try this:</p>\n\n<pre><code>ArrayList&lt;String&gt; itemsOne=new ArrayList&lt;String&gt;();\nArrayList&lt;String&gt; itemsTwo=new ArrayList&lt;String&gt;();\n\nInputStream is = getResources().openRawResource(R.raw.csvfile);\ntry {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n    String line;\n\n    while ((line = reader.readLine()) != null ) {\n        String [] rowData = line.split(\"\\t\\t\");\n        itemsOne.add(rowData[0]);\n        itemsTwo.add(rowData[1]);\n    }\n} catch (Exception e) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1488071,"reputation":5336,"user_id":1395863,"accept_rate":95,"display_name":"Farvardin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397472598,"creation_date":1397472598,"answer_id":23058178,"question_id":23057761,"body_markdown":"yes its correct that `opencsv` does not support `String` as deleimiter.\r\n\r\none simple solution is to use `&#39;\\t&#39;` as delimiter and ignore empty fields.\r\n\r\nfor example :\r\n\r\n    String s = &quot;1\\t\\t2\\t\\t3\\t\\t4&quot;;\r\n\r\nto\r\n\r\n    String[7] fields;\r\n    fields[0] = &quot;1&quot;;\r\n    fields[1] = &quot;&quot;;\r\n    fields[2] = &quot;2&quot;;\r\n    fields[3] = &quot;&quot;;\r\n    ...\r\n\r\n\r\n\r\n\r\n","title":"Parsing a CSV file with custom String separator","body":"<p>yes its correct that <code>opencsv</code> does not support <code>String</code> as deleimiter.</p>\n\n<p>one simple solution is to use <code>'\\t'</code> as delimiter and ignore empty fields.</p>\n\n<p>for example :</p>\n\n<pre><code>String s = \"1\\t\\t2\\t\\t3\\t\\t4\";\n</code></pre>\n\n<p>to</p>\n\n<pre><code>String[7] fields;\nfields[0] = \"1\";\nfields[1] = \"\";\nfields[2] = \"2\";\nfields[3] = \"\";\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2166141,"reputation":10222,"user_id":1919228,"accept_rate":83,"display_name":"Pablo Lozano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397472963,"creation_date":1397472963,"answer_id":23058300,"question_id":23057761,"body_markdown":"The solution you are suggesting (replacing the separator string by a character seems to be the best one, as is easy and solves your problem.\r\nCSV is a very simple format, if you modify it adding complex separators then it is not a &quot;Comma Separated Values&quot; format anymore. Keep it simple!","title":"Parsing a CSV file with custom String separator","body":"<p>The solution you are suggesting (replacing the separator string by a character seems to be the best one, as is easy and solves your problem.\nCSV is a very simple format, if you modify it adding complex separators then it is not a \"Comma Separated Values\" format anymore. Keep it simple!</p>\n"},{"tags":[],"owner":{"account_id":55879,"reputation":10520,"user_id":167425,"accept_rate":50,"display_name":"Tom Morris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697054204,"creation_date":1697054204,"answer_id":77276069,"question_id":23057761,"body_markdown":"The Apache `commons-csv` module added support for String delimiters in v1.9.0 a couple of years ago.\r\n\r\nhttps://issues.apache.org/jira/browse/CSV-206","title":"Parsing a CSV file with custom String separator","body":"<p>The Apache <code>commons-csv</code> module added support for String delimiters in v1.9.0 a couple of years ago.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/CSV-206\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CSV-206</a></p>\n"}],"owner":{"account_id":3617176,"reputation":1433,"user_id":3016744,"display_name":"Jad B."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9021,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23058043,"answer_count":5,"score":4,"last_activity_date":1697054204,"creation_date":1397471239,"question_id":23057761,"body_markdown":"I tried to parse a CSV file with two APIs - [JSefa](http://jsefa.sourceforge.net/) and [OpenCSV](http://opencsv.sourceforge.net/) - but the problem is that the separator in the CSV file is a double tab &quot;\\t\\t&quot; and the APIs only accept a character, not a string, for the separator.\r\n\r\nIs there any other API that could solve the problem,  or there s a way to determine a new String separator in Jsefa or OpenCSV?\r\n\r\nAs a last resort I could, before parsing, try to replace the double tab by a semicolon but I was hoping to do it a cleaner way.","title":"Parsing a CSV file with custom String separator","body":"<p>I tried to parse a CSV file with two APIs - <a href=\"http://jsefa.sourceforge.net/\" rel=\"nofollow\">JSefa</a> and <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow\">OpenCSV</a> - but the problem is that the separator in the CSV file is a double tab \"\\t\\t\" and the APIs only accept a character, not a string, for the separator.</p>\n\n<p>Is there any other API that could solve the problem,  or there s a way to determine a new String separator in Jsefa or OpenCSV?</p>\n\n<p>As a last resort I could, before parsing, try to replace the double tab by a semicolon but I was hoping to do it a cleaner way.</p>\n"},{"tags":["java","multithreading","unit-testing","junit","testability"],"comments":[{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":2,"creation_date":1227285601,"post_id":309396,"comment_id":152479,"body_markdown":"I&#39;m curious as to why a function would ever call System.exit()...","body":"I&#39;m curious as to why a function would ever call System.exit()..."},{"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"score":2,"creation_date":1227286230,"post_id":309396,"comment_id":152521,"body_markdown":"If you&#39;re calling a function that exits the application. For example, if the user tries to perform a task they are not authorized to perform more that x times in a row, you force them out of the application.","body":"If you&#39;re calling a function that exits the application. For example, if the user tries to perform a task they are not authorized to perform more that x times in a row, you force them out of the application."},{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":5,"creation_date":1227286636,"post_id":309396,"comment_id":152537,"body_markdown":"I still think that in that case, there should be a nicer way to return from the application rather than System.exit().","body":"I still think that in that case, there should be a nicer way to return from the application rather than System.exit()."},{"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"score":40,"creation_date":1302000220,"post_id":309396,"comment_id":6310268,"body_markdown":"If you&#39;re testing main(), then it makes perfect sense to call System.exit(). We have a requirement that on error a batch process should exit with 1 and on success exit with 0.","body":"If you&#39;re testing main(), then it makes perfect sense to call System.exit(). We have a requirement that on error a batch process should exit with 1 and on success exit with 0."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":11,"creation_date":1508865024,"post_id":309396,"comment_id":80779894,"body_markdown":"I disagree with everyone who says `System.exit()` is bad - your program should fail fast. Throwing an exception merely prolongs an application in an invalid state in situations where a developer wants to exit and will give spurious errors.","body":"I disagree with everyone who says <code>System.exit()</code> is bad - your program should fail fast. Throwing an exception merely prolongs an application in an invalid state in situations where a developer wants to exit and will give spurious errors."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":3,"creation_date":1601614795,"post_id":309396,"comment_id":113467260,"body_markdown":"@ThomasOwens  I&#39;m curious as to why you think System.exit is bad or not required.  Please tell me how to return a batch with exit code 20 or 30 from  a java application .","body":"@ThomasOwens  I&#39;m curious as to why you think System.exit is bad or not required.  Please tell me how to return a batch with exit code 20 or 30 from  a java application ."}],"answers":[{"tags":[],"owner":{"account_id":16634,"reputation":15228,"user_id":36472,"display_name":"flolo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1227285907,"creation_date":1227285907,"answer_id":309415,"question_id":309396,"body_markdown":"A quick look at the api, shows that System.exit can throw an exception esp. if a securitymanager forbids the shutdown of the vm. Maybe a solution would be to install such a manager.","title":"How to test methods that call System.exit()?","body":"<p>A quick look at the api, shows that System.exit can throw an exception esp. if a securitymanager forbids the shutdown of the vm. Maybe a solution would be to install such a manager.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301794,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":5,"up_vote_count":244,"is_accepted":true,"score":239,"last_activity_date":1697053908,"creation_date":1227286102,"answer_id":309427,"question_id":309396,"body_markdown":"Indeed, [Derkeiler.com][1] suggests:\r\n\r\n&gt; - Why `System.exit()` ?\r\n&gt;\r\n&gt;   Instead of terminating with System.exit(whateverValue), why not throw an unchecked exception? In normal use it will drift all the way out to the JVM&#39;s last-ditch catcher and shut your script down (unless you decide to catch it somewhere along the way, which might be useful someday). \r\n&gt;\r\n&gt;   In the JUnit scenario it will be caught by the JUnit framework, which will report that such-and-such test failed and move smoothly along to the next.\r\n&gt;\r\n&gt; - Prevent `System.exit()` to actually exit the JVM:\r\n&gt;\r\n&gt;   Try modifying the TestCase to run with a security manager that prevents calling System.exit, then catch the SecurityException.\r\n\r\n```java\r\npublic class NoExitTestCase extends TestCase \r\n{\r\n\r\n\tprotected static class ExitException extends SecurityException \r\n\t{\r\n\t\tpublic final int status;\r\n\t\tpublic ExitException(int status) \r\n\t\t{\r\n\t\t\tsuper(&quot;There is no escape!&quot;);\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class NoExitSecurityManager extends SecurityManager \r\n\t{\r\n\t\t@Override\r\n\t\tpublic void checkPermission(Permission perm) \r\n\t\t{\r\n\t\t\t// allow anything.\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void checkPermission(Permission perm, Object context) \r\n\t\t{\r\n\t\t\t// allow anything.\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void checkExit(int status) \r\n\t\t{\r\n\t\t\tsuper.checkExit(status);\r\n\t\t\tthrow new ExitException(status);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void setUp() throws Exception \r\n\t{\r\n\t\tsuper.setUp();\r\n\t\tSystem.setSecurityManager(new NoExitSecurityManager());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void tearDown() throws Exception \r\n\t{\r\n\t\tSystem.setSecurityManager(null); // or save and restore original\r\n\t\tsuper.tearDown();\r\n\t}\r\n\r\n\tpublic void testNoExit() throws Exception \r\n\t{\r\n\t\tSystem.out.println(&quot;Printing works&quot;);\r\n\t}\r\n\r\n\tpublic void testExit() throws Exception \r\n\t{\r\n\t\ttry \r\n\t\t{\r\n\t\t\tSystem.exit(42);\r\n\t\t} catch (ExitException e) \r\n\t\t{\r\n\t\t\tassertEquals(&quot;Exit status&quot;, 42, e.status);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n----\r\n\r\nUpdate December 2012:\r\n\r\n[Will][2] proposes [in the comments][3] using [**System Rules**][4], a collection of JUnit(4.9+) rules for testing code which uses `java.lang.System`.  \r\nThis was initially mentioned by **[Stefan Birkner][5]** in [his answer][6] in December 2011.\r\n\r\n    System.exit(…)\r\n\r\n&gt; Use the [`ExpectedSystemExit`][7] rule to verify that `System.exit(…)` is called.  \r\nYou could verify the exit status, too.\r\n\r\nFor instance:\r\n\r\n```java\r\npublic void MyTest {\r\n\t@Rule\r\n\tpublic final ExpectedSystemExit exit = ExpectedSystemExit.none();\r\n\r\n\t@Test\r\n\tpublic void noSystemExit() {\r\n\t\t//passes\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void systemExitWithArbitraryStatusCode() {\r\n\t\texit.expectSystemExit();\r\n\t\tSystem.exit(0);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void systemExitWithSelectedStatusCode0() {\r\n\t\texit.expectSystemExitWithStatus(0);\r\n\t\tSystem.exit(0);\r\n\t}\r\n}\r\n```\r\n\r\n----\r\n\r\n2023: [Emmanuel Bourg](https://stackoverflow.com/users/525725/emmanuel-bourg) reports in [the comments](https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit/309427#comment136226933_309427):\r\n\r\n&gt; For this to work with Java 21 this system property must be set `-Djava.security.manager=allow`\r\n\r\n  [1]: http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2008-04/msg02603.html\r\n  [2]: https://stackoverflow.com/users/557117/will\r\n  [3]: https://stackoverflow.com/questions/309396/java-how-to-test-methods-that-call-system-exit/309427#comment19186122_309427\r\n  [4]: https://stefanbirkner.github.io/system-rules\r\n  [5]: https://stackoverflow.com/users/557091/stefan-birkner\r\n  [6]: https://stackoverflow.com/a/8658497/6309\r\n  [7]: https://stefanbirkner.github.io/system-rules/#ExpectedSystemExit","title":"How to test methods that call System.exit()?","body":"<p>Indeed, <a href=\"http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2008-04/msg02603.html\" rel=\"nofollow noreferrer\">Derkeiler.com</a> suggests:</p>\n<blockquote>\n<ul>\n<li><p>Why <code>System.exit()</code> ?</p>\n<p>Instead of terminating with System.exit(whateverValue), why not throw an unchecked exception? In normal use it will drift all the way out to the JVM's last-ditch catcher and shut your script down (unless you decide to catch it somewhere along the way, which might be useful someday).</p>\n<p>In the JUnit scenario it will be caught by the JUnit framework, which will report that such-and-such test failed and move smoothly along to the next.</p>\n</li>\n<li><p>Prevent <code>System.exit()</code> to actually exit the JVM:</p>\n<p>Try modifying the TestCase to run with a security manager that prevents calling System.exit, then catch the SecurityException.</p>\n</li>\n</ul>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class NoExitTestCase extends TestCase \n{\n\n    protected static class ExitException extends SecurityException \n    {\n        public final int status;\n        public ExitException(int status) \n        {\n            super(&quot;There is no escape!&quot;);\n            this.status = status;\n        }\n    }\n\n    private static class NoExitSecurityManager extends SecurityManager \n    {\n        @Override\n        public void checkPermission(Permission perm) \n        {\n            // allow anything.\n        }\n        @Override\n        public void checkPermission(Permission perm, Object context) \n        {\n            // allow anything.\n        }\n        @Override\n        public void checkExit(int status) \n        {\n            super.checkExit(status);\n            throw new ExitException(status);\n        }\n    }\n\n    @Override\n    protected void setUp() throws Exception \n    {\n        super.setUp();\n        System.setSecurityManager(new NoExitSecurityManager());\n    }\n\n    @Override\n    protected void tearDown() throws Exception \n    {\n        System.setSecurityManager(null); // or save and restore original\n        super.tearDown();\n    }\n\n    public void testNoExit() throws Exception \n    {\n        System.out.println(&quot;Printing works&quot;);\n    }\n\n    public void testExit() throws Exception \n    {\n        try \n        {\n            System.exit(42);\n        } catch (ExitException e) \n        {\n            assertEquals(&quot;Exit status&quot;, 42, e.status);\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Update December 2012:</p>\n<p><a href=\"https://stackoverflow.com/users/557117/will\">Will</a> proposes <a href=\"https://stackoverflow.com/questions/309396/java-how-to-test-methods-that-call-system-exit/309427#comment19186122_309427\">in the comments</a> using <a href=\"https://stefanbirkner.github.io/system-rules\" rel=\"nofollow noreferrer\"><strong>System Rules</strong></a>, a collection of JUnit(4.9+) rules for testing code which uses <code>java.lang.System</code>.<br />\nThis was initially mentioned by <strong><a href=\"https://stackoverflow.com/users/557091/stefan-birkner\">Stefan Birkner</a></strong> in <a href=\"https://stackoverflow.com/a/8658497/6309\">his answer</a> in December 2011.</p>\n<pre><code>System.exit(…)\n</code></pre>\n<blockquote>\n<p>Use the <a href=\"https://stefanbirkner.github.io/system-rules/#ExpectedSystemExit\" rel=\"nofollow noreferrer\"><code>ExpectedSystemExit</code></a> rule to verify that <code>System.exit(…)</code> is called.<br />\nYou could verify the exit status, too.</p>\n</blockquote>\n<p>For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void MyTest {\n    @Rule\n    public final ExpectedSystemExit exit = ExpectedSystemExit.none();\n\n    @Test\n    public void noSystemExit() {\n        //passes\n    }\n\n    @Test\n    public void systemExitWithArbitraryStatusCode() {\n        exit.expectSystemExit();\n        System.exit(0);\n    }\n\n    @Test\n    public void systemExitWithSelectedStatusCode0() {\n        exit.expectSystemExitWithStatus(0);\n        System.exit(0);\n    }\n}\n</code></pre>\n<hr />\n<p>2023: <a href=\"https://stackoverflow.com/users/525725/emmanuel-bourg\">Emmanuel Bourg</a> reports in <a href=\"https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit/309427#comment136226933_309427\">the comments</a>:</p>\n<blockquote>\n<p>For this to work with Java 21 this system property must be set <code>-Djava.security.manager=allow</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"display_name":"martin"},"down_vote_count":7,"up_vote_count":6,"is_accepted":false,"score":-1,"last_activity_date":1227286242,"creation_date":1227286242,"answer_id":309434,"question_id":309396,"body_markdown":"Calling System.exit() is a bad practice, unless it&#39;s done inside a main(). These methods should be throwing an exception which, ultimately, is caught by your main(), who then calls System.exit with the appropriate code.","title":"How to test methods that call System.exit()?","body":"<p>Calling System.exit() is a bad practice, unless it's done inside a main(). These methods should be throwing an exception which, ultimately, is caught by your main(), who then calls System.exit with the appropriate code.</p>\n"},{"tags":[],"owner":{"account_id":5382,"reputation":10719,"user_id":2495576,"accept_rate":100,"display_name":"Scott Bale"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1229200348,"creation_date":1227286249,"answer_id":309435,"question_id":309396,"body_markdown":"One trick we used in our code base was to have the call to System.exit() be encapsulated in a Runnable impl, which the method in question used by default.  To unit test, we set a different mock Runnable.  Something like this:\r\n\r\n    private static final Runnable DEFAULT_ACTION = new Runnable(){\r\n      public void run(){\r\n        System.exit(0);\r\n      }\r\n    };\r\n\r\n    public void foo(){ \r\n      this.foo(DEFAULT_ACTION);\r\n    }\r\n    \r\n    /* package-visible only for unit testing */\r\n    void foo(Runnable action){   \r\n      // ...some stuff...   \r\n      action.run(); \r\n    }\r\n\r\n...and the JUnit test method...\r\n    \r\n    public void testFoo(){   \r\n      final AtomicBoolean actionWasCalled = new AtomicBoolean(false);   \r\n      fooObject.foo(new Runnable(){\r\n        public void run(){\r\n          actionWasCalled.set(true);\r\n        }   \r\n      });   \r\n      assertTrue(actionWasCalled.get()); \r\n    }","title":"How to test methods that call System.exit()?","body":"<p>One trick we used in our code base was to have the call to System.exit() be encapsulated in a Runnable impl, which the method in question used by default.  To unit test, we set a different mock Runnable.  Something like this:</p>\n\n<pre><code>private static final Runnable DEFAULT_ACTION = new Runnable(){\n  public void run(){\n    System.exit(0);\n  }\n};\n\npublic void foo(){ \n  this.foo(DEFAULT_ACTION);\n}\n\n/* package-visible only for unit testing */\nvoid foo(Runnable action){   \n  // ...some stuff...   \n  action.run(); \n}\n</code></pre>\n\n<p>...and the JUnit test method...</p>\n\n<pre><code>public void testFoo(){   \n  final AtomicBoolean actionWasCalled = new AtomicBoolean(false);   \n  fooObject.foo(new Runnable(){\n    public void run(){\n      actionWasCalled.set(true);\n    }   \n  });   \n  assertTrue(actionWasCalled.get()); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1227286513,"creation_date":1227286513,"answer_id":309451,"question_id":309396,"body_markdown":"You can use the java SecurityManager to prevent the current thread from shutting down the Java VM.  The following code should do what you want:\r\n\r\n    SecurityManager securityManager = new SecurityManager() {\r\n    \tpublic void checkPermission(Permission permission) {\r\n    \t\tif (&quot;exitVM&quot;.equals(permission.getName())) {\r\n    \t\t\tthrow new SecurityException(&quot;System.exit attempted and blocked.&quot;);\r\n    \t\t}\r\n    \t}\r\n    };\r\n    System.setSecurityManager(securityManager);","title":"How to test methods that call System.exit()?","body":"<p>You can use the java SecurityManager to prevent the current thread from shutting down the Java VM.  The following code should do what you want:</p>\n\n<pre><code>SecurityManager securityManager = new SecurityManager() {\n    public void checkPermission(Permission permission) {\n        if (\"exitVM\".equals(permission.getName())) {\n            throw new SecurityException(\"System.exit attempted and blocked.\");\n        }\n    }\n};\nSystem.setSecurityManager(securityManager);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1227286759,"creation_date":1227286759,"answer_id":309467,"question_id":309396,"body_markdown":"How about injecting an &quot;ExitManager&quot; into this Methods:\r\n\r\n    public interface ExitManager {\r\n        void exit(int exitCode);\r\n    }\r\n\r\n    public class ExitManagerImpl implements ExitManager {\r\n        public void exit(int exitCode) {\r\n            System.exit(exitCode);\r\n        }\r\n    }\r\n\r\n    public class ExitManagerMock implements ExitManager {\r\n        public bool exitWasCalled;\r\n        public int exitCode;\r\n        public void exit(int exitCode) {\r\n            exitWasCalled = true;\r\n            this.exitCode = exitCode;\r\n        }\r\n    }\r\n\r\n    public class MethodsCallExit {\r\n        public void CallsExit(ExitManager exitManager) {\r\n            // whatever\r\n            if (foo) {\r\n                exitManager.exit(42);\r\n            }\r\n            // whatever\r\n        }\r\n    }\r\n\r\nThe production code uses the ExitManagerImpl and the test code uses ExitManagerMock and can check if exit() was called and with which exit code.\r\n","title":"How to test methods that call System.exit()?","body":"<p>How about injecting an \"ExitManager\" into this Methods:</p>\n\n<pre><code>public interface ExitManager {\n    void exit(int exitCode);\n}\n\npublic class ExitManagerImpl implements ExitManager {\n    public void exit(int exitCode) {\n        System.exit(exitCode);\n    }\n}\n\npublic class ExitManagerMock implements ExitManager {\n    public bool exitWasCalled;\n    public int exitCode;\n    public void exit(int exitCode) {\n        exitWasCalled = true;\n        this.exitCode = exitCode;\n    }\n}\n\npublic class MethodsCallExit {\n    public void CallsExit(ExitManager exitManager) {\n        // whatever\n        if (foo) {\n            exitManager.exit(42);\n        }\n        // whatever\n    }\n}\n</code></pre>\n\n<p>The production code uses the ExitManagerImpl and the test code uses ExitManagerMock and can check if exit() was called and with which exit code.</p>\n"},{"tags":[],"owner":{"account_id":16468,"reputation":4493,"user_id":35894,"display_name":"Jeffrey Fredrick"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1227292289,"creation_date":1227292289,"answer_id":309705,"question_id":309396,"body_markdown":"I like some of the answers already given but I wanted to demonstrate a different technique that is often useful when getting legacy code under test. Given code like:\r\n\r\n    public class Foo {\r\n      public void bar(int i) {\r\n        if (i &lt; 0) {\r\n          System.exit(i);\r\n        }\r\n      }\r\n    }\r\n\r\nYou can do a safe refactoring to create a method that wraps the System.exit call:\r\n\r\n    public class Foo {\r\n      public void bar(int i) {\r\n        if (i &lt; 0) {\r\n          exit(i);\r\n        }\r\n      }\r\n    \r\n      void exit(int i) {\r\n        System.exit(i);\r\n      }\r\n    }\r\n\r\nThen you can create a fake for your test that overrides exit:\r\n\r\n    public class TestFoo extends TestCase {\r\n    \r\n      public void testShouldExitWithNegativeNumbers() {\r\n        TestFoo foo = new TestFoo();\r\n        foo.bar(-1);\r\n        assertTrue(foo.exitCalled);\r\n        assertEquals(-1, foo.exitValue);\r\n      }\r\n    \r\n      private class TestFoo extends Foo {\r\n        boolean exitCalled;\r\n        int exitValue;\r\n        void exit(int i) {\r\n          exitCalled = true;\r\n          exitValue = i;\r\n        }\r\n    }\r\n\r\nThis is a generic technique for substituting behavior for test cases, and I use it all the time when refactoring legacy code. It not usually where I&#39;m going to leave thing, but an intermediate step to get the existing code under test.\r\n\r\n\r\n\r\n","title":"How to test methods that call System.exit()?","body":"<p>I like some of the answers already given but I wanted to demonstrate a different technique that is often useful when getting legacy code under test. Given code like:</p>\n\n<pre><code>public class Foo {\n  public void bar(int i) {\n    if (i &lt; 0) {\n      System.exit(i);\n    }\n  }\n}\n</code></pre>\n\n<p>You can do a safe refactoring to create a method that wraps the System.exit call:</p>\n\n<pre><code>public class Foo {\n  public void bar(int i) {\n    if (i &lt; 0) {\n      exit(i);\n    }\n  }\n\n  void exit(int i) {\n    System.exit(i);\n  }\n}\n</code></pre>\n\n<p>Then you can create a fake for your test that overrides exit:</p>\n\n<pre><code>public class TestFoo extends TestCase {\n\n  public void testShouldExitWithNegativeNumbers() {\n    TestFoo foo = new TestFoo();\n    foo.bar(-1);\n    assertTrue(foo.exitCalled);\n    assertEquals(-1, foo.exitValue);\n  }\n\n  private class TestFoo extends Foo {\n    boolean exitCalled;\n    int exitValue;\n    void exit(int i) {\n      exitCalled = true;\n      exitValue = i;\n    }\n}\n</code></pre>\n\n<p>This is a generic technique for substituting behavior for test cases, and I use it all the time when refactoring legacy code. It not usually where I'm going to leave thing, but an intermediate step to get the existing code under test.</p>\n"},{"tags":[],"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1541709094,"creation_date":1248632869,"answer_id":1185204,"question_id":309396,"body_markdown":"You actually &lt;em&gt;can&lt;/em&gt; mock or stub out the &lt;code&gt;System.exit&lt;/code&gt; method, in a JUnit test.\r\n\r\nFor example, using &lt;a href=&quot;http://jmockit.github.io&quot;&gt;JMockit&lt;/a&gt; you could write (there are other ways as well):\r\n&lt;pre&gt;&lt;code&gt;@Test\r\npublic void mockSystemExit(@Mocked(&quot;exit&quot;) System mockSystem)\r\n{\r\n    // Called by code under test:\r\n    System.exit(); // will not exit the program\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n&lt;br&gt;\r\nEDIT: Alternative test (using latest JMockit API) which does not allow any code to run after a call to `System.exit(n)`:\r\n\r\n    @Test(expected = EOFException.class)\r\n    public void checkingForSystemExitWhileNotAllowingCodeToContinueToRun() {\r\n        new Expectations(System.class) {{ System.exit(anyInt); result = new EOFException(); }};\r\n\r\n        // From the code under test:\r\n        System.exit(1);\r\n        System.out.println(&quot;This will never run (and not exit either)&quot;);\r\n    }\r\n","title":"How to test methods that call System.exit()?","body":"<p>You actually <em>can</em> mock or stub out the <code>System.exit</code> method, in a JUnit test.</p>\n\n<p>For example, using <a href=\"http://jmockit.github.io\" rel=\"nofollow noreferrer\">JMockit</a> you could write (there are other ways as well):</p>\n\n<pre><code>@Test\npublic void mockSystemExit(@Mocked(\"exit\") System mockSystem)\n{\n    // Called by code under test:\n    System.exit(); // will not exit the program\n}\n</code></pre>\n\n<p><br>\nEDIT: Alternative test (using latest JMockit API) which does not allow any code to run after a call to <code>System.exit(n)</code>:</p>\n\n<pre><code>@Test(expected = EOFException.class)\npublic void checkingForSystemExitWhileNotAllowingCodeToContinueToRun() {\n    new Expectations(System.class) {{ System.exit(anyInt); result = new EOFException(); }};\n\n    // From the code under test:\n    System.exit(1);\n    System.out.println(\"This will never run (and not exit either)\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30828,"reputation":3778,"user_id":263003,"accept_rate":75,"display_name":"Jeow Li Huan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1264959923,"creation_date":1264959923,"answer_id":2172642,"question_id":309396,"body_markdown":"For VonC&#39;s answer to run on JUnit 4, I&#39;ve modified the code as follows\r\n\r\n\tprotected static class ExitException extends SecurityException {\r\n\t\tprivate static final long serialVersionUID = -1982617086752946683L;\r\n\t\tpublic final int status;\r\n\r\n\t\tpublic ExitException(int status) {\r\n\t\t\tsuper(&quot;There is no escape!&quot;);\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class NoExitSecurityManager extends SecurityManager {\r\n\t\t@Override\r\n\t\tpublic void checkPermission(Permission perm) {\r\n\t\t\t// allow anything.\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void checkPermission(Permission perm, Object context) {\r\n\t\t\t// allow anything.\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void checkExit(int status) {\r\n\t\t\tsuper.checkExit(status);\r\n\t\t\tthrow new ExitException(status);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate SecurityManager securityManager;\r\n\t\r\n\t@Before\r\n\tpublic void setUp() {\r\n\t\tsecurityManager = System.getSecurityManager();\r\n\t\tSystem.setSecurityManager(new NoExitSecurityManager());\r\n\t}\r\n\r\n\t@After\r\n\tpublic void tearDown() {\r\n\t\tSystem.setSecurityManager(securityManager);\r\n\t}","title":"How to test methods that call System.exit()?","body":"<p>For VonC's answer to run on JUnit 4, I've modified the code as follows</p>\n\n<pre><code>protected static class ExitException extends SecurityException {\n    private static final long serialVersionUID = -1982617086752946683L;\n    public final int status;\n\n    public ExitException(int status) {\n        super(\"There is no escape!\");\n        this.status = status;\n    }\n}\n\nprivate static class NoExitSecurityManager extends SecurityManager {\n    @Override\n    public void checkPermission(Permission perm) {\n        // allow anything.\n    }\n\n    @Override\n    public void checkPermission(Permission perm, Object context) {\n        // allow anything.\n    }\n\n    @Override\n    public void checkExit(int status) {\n        super.checkExit(status);\n        throw new ExitException(status);\n    }\n}\n\nprivate SecurityManager securityManager;\n\n@Before\npublic void setUp() {\n    securityManager = System.getSecurityManager();\n    System.setSecurityManager(new NoExitSecurityManager());\n}\n\n@After\npublic void tearDown() {\n    System.setSecurityManager(securityManager);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71361,"reputation":1417,"user_id":206480,"display_name":"Dan Watt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1277237301,"creation_date":1277237301,"answer_id":3096741,"question_id":309396,"body_markdown":"There are environments where the returned exit code is used by the calling program (such as ERRORLEVEL in MS Batch). We have tests around the main methods that do this in our code, and our approach has been to use a similar SecurityManager override as used in other tests here.\r\n\r\nLast night I put together a small JAR using Junit @Rule annotations to hide the security manager code, as well as add expectations based on the expected return code. http://code.google.com/p/junitsystemrules/","title":"How to test methods that call System.exit()?","body":"<p>There are environments where the returned exit code is used by the calling program (such as ERRORLEVEL in MS Batch). We have tests around the main methods that do this in our code, and our approach has been to use a similar SecurityManager override as used in other tests here.</p>\n\n<p>Last night I put together a small JAR using Junit @Rule annotations to hide the security manager code, as well as add expectations based on the expected return code. <a href=\"http://code.google.com/p/junitsystemrules/\" rel=\"nofollow noreferrer\">http://code.google.com/p/junitsystemrules/</a></p>\n"},{"tags":[],"owner":{"account_id":660946,"reputation":31,"user_id":481614,"display_name":"Alexei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329747560,"creation_date":1287574128,"answer_id":3977267,"question_id":309396,"body_markdown":"Use `Runtime.exec(String command)` to start JVM in a separate process.\r\n","title":"How to test methods that call System.exit()?","body":"<p>Use <code>Runtime.exec(String command)</code> to start JVM in a separate process.</p>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":0,"up_vote_count":136,"is_accepted":false,"score":136,"last_activity_date":1616798800,"creation_date":1325089540,"answer_id":8658497,"question_id":309396,"body_markdown":"The library [System Lambda][1] has a method `catchSystemExit`.With this rule you are able to test code, that calls System.exit(...):\r\n\r\n\tpublic class MyTest {\r\n\t\t@Test\r\n\t\tpublic void systemExitWithArbitraryStatusCode() {\r\n\t\t\tSystemLambda.catchSystemExit(() -&gt; {\r\n\t\t\t    //the code under test, which calls System.exit(...);\r\n            });\r\n\t\t}\r\n\r\n\r\n\t\t@Test\r\n\t\tpublic void systemExitWithSelectedStatusCode0() {\r\n\t\t\tint status = SystemLambda.catchSystemExit(() -&gt; {\r\n\t\t\t    //the code under test, which calls System.exit(0);\r\n            });\r\n\r\n            assertEquals(0, status);\r\n\t\t}\r\n\t}\r\n\r\nFor Java 5 to 7 the library [System Rules][2] has a JUnit rule called ExpectedSystemExit. With this rule you are able to test code, that calls System.exit(...):\r\n\r\n\tpublic class MyTest {\r\n\t\t@Rule\r\n\t\tpublic final ExpectedSystemExit exit = ExpectedSystemExit.none();\r\n\r\n\t\t@Test\r\n\t\tpublic void systemExitWithArbitraryStatusCode() {\r\n\t\t\texit.expectSystemExit();\r\n\t\t\t//the code under test, which calls System.exit(...);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void systemExitWithSelectedStatusCode0() {\r\n\t\t\texit.expectSystemExitWithStatus(0);\r\n\t\t\t//the code under test, which calls System.exit(0);\r\n\t\t}\r\n\t}\r\n\r\nFull disclosure: I&#39;m the author of both libraries. \r\n\r\n  [1]: https://github.com/stefanbirkner/system-lambda/\r\n  [2]: https://stefanbirkner.github.com/system-rules/","title":"How to test methods that call System.exit()?","body":"<p>The library <a href=\"https://github.com/stefanbirkner/system-lambda/\" rel=\"noreferrer\">System Lambda</a> has a method <code>catchSystemExit</code>.With this rule you are able to test code, that calls System.exit(...):</p>\n<pre><code>public class MyTest {\n    @Test\n    public void systemExitWithArbitraryStatusCode() {\n        SystemLambda.catchSystemExit(() -&gt; {\n            //the code under test, which calls System.exit(...);\n        });\n    }\n\n\n    @Test\n    public void systemExitWithSelectedStatusCode0() {\n        int status = SystemLambda.catchSystemExit(() -&gt; {\n            //the code under test, which calls System.exit(0);\n        });\n\n        assertEquals(0, status);\n    }\n}\n</code></pre>\n<p>For Java 5 to 7 the library <a href=\"https://stefanbirkner.github.com/system-rules/\" rel=\"noreferrer\">System Rules</a> has a JUnit rule called ExpectedSystemExit. With this rule you are able to test code, that calls System.exit(...):</p>\n<pre><code>public class MyTest {\n    @Rule\n    public final ExpectedSystemExit exit = ExpectedSystemExit.none();\n\n    @Test\n    public void systemExitWithArbitraryStatusCode() {\n        exit.expectSystemExit();\n        //the code under test, which calls System.exit(...);\n    }\n\n    @Test\n    public void systemExitWithSelectedStatusCode0() {\n        exit.expectSystemExitWithStatus(0);\n        //the code under test, which calls System.exit(0);\n    }\n}\n</code></pre>\n<p>Full disclosure: I'm the author of both libraries.</p>\n"},{"tags":[],"owner":{"account_id":29270,"reputation":4126,"user_id":78973,"accept_rate":100,"display_name":"Arend v. Reinersdorff"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1325172962,"creation_date":1325172962,"answer_id":8669826,"question_id":309396,"body_markdown":"Create a mock-able class that wraps System.exit()\r\n-------------------------------------------------\r\n\r\nI agree with [EricSchaefer][1]. But if you use a good mocking framework like [Mockito][2] a simple concrete class is enough, no need for an interface and two implementations.\r\n\r\nStopping test execution on System.exit()\r\n----------------------------------------\r\n**Problem:**\r\n\r\n    // do thing1\r\n    if(someCondition) {\r\n    \tSystem.exit(1);\r\n    }\r\n    // do thing2\r\n    System.exit(0)\r\n\r\nA mocked `Sytem.exit()` will not terminate execution. This is bad if you want to test that `thing2` is not executed.\r\n\r\n**Solution:**\r\n\r\nYou should refactor this code as suggested by [martin][3]:\r\n\r\n    // do thing1\r\n    if(someCondition) {\r\n    \treturn 1;\r\n    }\r\n    // do thing2\r\n    return 0;\r\n\r\nAnd do `System.exit(status)` in the calling function. This forces you to have all your `System.exit()`s in one place in or near `main()`. This is cleaner than calling `System.exit()` deep inside your logic.\r\n\r\nCode\r\n----\r\nWrapper:\r\n\r\n    public class SystemExit {\r\n    \r\n        public void exit(int status) {\r\n            System.exit(status);\r\n        }\r\n    }\r\n\r\nMain:\r\n\r\n    public class Main {\r\n    \r\n        private final SystemExit systemExit;\r\n    \r\n    \r\n        Main(SystemExit systemExit) {\r\n            this.systemExit = systemExit;\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            SystemExit aSystemExit = new SystemExit();\r\n            Main main = new Main(aSystemExit);\r\n    \r\n            main.executeAndExit(args);\r\n        }\r\n    \r\n    \r\n        void executeAndExit(String[] args) {\r\n            int status = execute(args);\r\n            systemExit.exit(status);\r\n        }\r\n    \r\n    \r\n        private int execute(String[] args) {\r\n            System.out.println(&quot;First argument:&quot;);\r\n            if (args.length == 0) {\r\n                return 1;\r\n            }\r\n            System.out.println(args[0]);\r\n            return 0;\r\n        }\r\n    }\r\n\r\nTest:\r\n\r\n    public class MainTest {\r\n    \r\n        private Main       main;\r\n    \r\n        private SystemExit systemExit;\r\n    \r\n    \r\n        @Before\r\n        public void setUp() {\r\n            systemExit = mock(SystemExit.class);\r\n            main = new Main(systemExit);\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void executeCallsSystemExit() {\r\n            String[] emptyArgs = {};\r\n    \r\n            // test\r\n            main.executeAndExit(emptyArgs);\r\n    \r\n            verify(systemExit).exit(1);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/309467/78973\r\n  [2]: http://code.google.com/p/mockito/\r\n  [3]: https://stackoverflow.com/a/309434/78973","title":"How to test methods that call System.exit()?","body":"<h2>Create a mock-able class that wraps System.exit()</h2>\n\n<p>I agree with <a href=\"https://stackoverflow.com/a/309467/78973\">EricSchaefer</a>. But if you use a good mocking framework like <a href=\"http://code.google.com/p/mockito/\" rel=\"nofollow noreferrer\">Mockito</a> a simple concrete class is enough, no need for an interface and two implementations.</p>\n\n<h2>Stopping test execution on System.exit()</h2>\n\n<p><strong>Problem:</strong></p>\n\n<pre><code>// do thing1\nif(someCondition) {\n    System.exit(1);\n}\n// do thing2\nSystem.exit(0)\n</code></pre>\n\n<p>A mocked <code>Sytem.exit()</code> will not terminate execution. This is bad if you want to test that <code>thing2</code> is not executed.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>You should refactor this code as suggested by <a href=\"https://stackoverflow.com/a/309434/78973\">martin</a>:</p>\n\n<pre><code>// do thing1\nif(someCondition) {\n    return 1;\n}\n// do thing2\nreturn 0;\n</code></pre>\n\n<p>And do <code>System.exit(status)</code> in the calling function. This forces you to have all your <code>System.exit()</code>s in one place in or near <code>main()</code>. This is cleaner than calling <code>System.exit()</code> deep inside your logic.</p>\n\n<h2>Code</h2>\n\n<p>Wrapper:</p>\n\n<pre><code>public class SystemExit {\n\n    public void exit(int status) {\n        System.exit(status);\n    }\n}\n</code></pre>\n\n<p>Main:</p>\n\n<pre><code>public class Main {\n\n    private final SystemExit systemExit;\n\n\n    Main(SystemExit systemExit) {\n        this.systemExit = systemExit;\n    }\n\n\n    public static void main(String[] args) {\n        SystemExit aSystemExit = new SystemExit();\n        Main main = new Main(aSystemExit);\n\n        main.executeAndExit(args);\n    }\n\n\n    void executeAndExit(String[] args) {\n        int status = execute(args);\n        systemExit.exit(status);\n    }\n\n\n    private int execute(String[] args) {\n        System.out.println(\"First argument:\");\n        if (args.length == 0) {\n            return 1;\n        }\n        System.out.println(args[0]);\n        return 0;\n    }\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>public class MainTest {\n\n    private Main       main;\n\n    private SystemExit systemExit;\n\n\n    @Before\n    public void setUp() {\n        systemExit = mock(SystemExit.class);\n        main = new Main(systemExit);\n    }\n\n\n    @Test\n    public void executeCallsSystemExit() {\n        String[] emptyArgs = {};\n\n        // test\n        main.executeAndExit(emptyArgs);\n\n        verify(systemExit).exit(1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":157392,"reputation":3232,"user_id":375317,"display_name":"cayhorstmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332892141,"creation_date":1332892141,"answer_id":9899322,"question_id":309396,"body_markdown":"There is a minor problem with the `SecurityManager` solution. Some methods, such as `JFrame.exitOnClose`, also call `SecurityManager.checkExit`. In my application, I didn&#39;t want that call to fail, so I used\r\n\r\n    Class[] stack = getClassContext();\r\n    if (stack[1] != JFrame.class &amp;&amp; !okToExit) throw new ExitException();\r\n    super.checkExit(status);","title":"How to test methods that call System.exit()?","body":"<p>There is a minor problem with the <code>SecurityManager</code> solution. Some methods, such as <code>JFrame.exitOnClose</code>, also call <code>SecurityManager.checkExit</code>. In my application, I didn't want that call to fail, so I used</p>\n\n<pre><code>Class[] stack = getClassContext();\nif (stack[1] != JFrame.class &amp;&amp; !okToExit) throw new ExitException();\nsuper.checkExit(status);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370980315,"creation_date":1370980315,"answer_id":17052539,"question_id":309396,"body_markdown":"You can test System.exit(..) with replacing Runtime instance. \r\nE.g. with TestNG + Mockito:\r\n\r\n    public class ConsoleTest {\r\n        /** Original runtime. */\r\n        private Runtime originalRuntime;\r\n    \r\n        /** Mocked runtime. */\r\n        private Runtime spyRuntime;\r\n    \r\n        @BeforeMethod\r\n        public void setUp() {\r\n            originalRuntime = Runtime.getRuntime();\r\n            spyRuntime = spy(originalRuntime);\r\n    \r\n            // Replace original runtime with a spy (via reflection).\r\n            Utils.setField(Runtime.class, &quot;currentRuntime&quot;, spyRuntime);\r\n        }\r\n    \r\n        @AfterMethod\r\n        public void tearDown() {\r\n            // Recover original runtime.\r\n            Utils.setField(Runtime.class, &quot;currentRuntime&quot;, originalRuntime);\r\n        }\r\n    \r\n        @Test\r\n        public void testSystemExit() {\r\n            // Or anything you want as an answer.\r\n            doNothing().when(spyRuntime).exit(anyInt());\r\n    \r\n            System.exit(1);\r\n    \r\n            verify(spyRuntime).exit(1);\r\n        }\r\n    }\r\n","title":"How to test methods that call System.exit()?","body":"<p>You can test System.exit(..) with replacing Runtime instance. \nE.g. with TestNG + Mockito:</p>\n\n<pre><code>public class ConsoleTest {\n    /** Original runtime. */\n    private Runtime originalRuntime;\n\n    /** Mocked runtime. */\n    private Runtime spyRuntime;\n\n    @BeforeMethod\n    public void setUp() {\n        originalRuntime = Runtime.getRuntime();\n        spyRuntime = spy(originalRuntime);\n\n        // Replace original runtime with a spy (via reflection).\n        Utils.setField(Runtime.class, \"currentRuntime\", spyRuntime);\n    }\n\n    @AfterMethod\n    public void tearDown() {\n        // Recover original runtime.\n        Utils.setField(Runtime.class, \"currentRuntime\", originalRuntime);\n    }\n\n    @Test\n    public void testSystemExit() {\n        // Or anything you want as an answer.\n        doNothing().when(spyRuntime).exit(anyInt());\n\n        System.exit(1);\n\n        verify(spyRuntime).exit(1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580127522,"creation_date":1580127141,"answer_id":59930938,"question_id":309396,"body_markdown":"Most solutions will\r\n\r\n* terminate the test (method, not the entire run) the moment `System.exit()` is called\r\n* ignore an already installed `SecurityManager`\r\n* Sometimes be quite specific to a test framework\r\n* restrict to be used at max once per test case\r\n\r\nThus, most solutions are not suited for situations where:\r\n\r\n* Verification of side-effects are to be performed after the call to `System.exit()`\r\n* An existing security manager is part of the testing.\r\n* A different test framework is used.\r\n* You want to have multiple verifications in a single test case. This may be strictly not recommended, but can be very convenient at times, especially in combination with `assertAll()`, for example.\r\n\r\nI was not happy with the restrictions imposed by the existing solutions presented in the other answers, and thus came up with something on my own.\r\n\r\nThe following class provides a method `assertExits(int expectedStatus, Executable executable)` which asserts that `System.exit()` is called with a specified `status` value, and the test can continue after it. It works the same way as JUnit 5 `assertThrows`. It also respects an existing security manager.\r\n\r\nThere is one remaining problem: When the code under test installs a new security manager which completely replaces the security manager set by the test. All other `SecurityManager`-based solutions known to me suffer the same problem.\r\n\r\n```\r\nimport java.security.Permission;\r\n\r\nimport static java.lang.System.getSecurityManager;\r\nimport static java.lang.System.setSecurityManager;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\n\r\npublic enum ExitAssertions {\r\n    ;\r\n\r\n    public static &lt;E extends Throwable&gt; void assertExits(final int expectedStatus, final ThrowingExecutable&lt;E&gt; executable) throws E {\r\n        final SecurityManager originalSecurityManager = getSecurityManager();\r\n        setSecurityManager(new SecurityManager() {\r\n            @Override\r\n            public void checkPermission(final Permission perm) {\r\n                if (originalSecurityManager != null)\r\n                    originalSecurityManager.checkPermission(perm);\r\n            }\r\n\r\n            @Override\r\n            public void checkPermission(final Permission perm, final Object context) {\r\n                if (originalSecurityManager != null)\r\n                    originalSecurityManager.checkPermission(perm, context);\r\n            }\r\n\r\n            @Override\r\n            public void checkExit(final int status) {\r\n                super.checkExit(status);\r\n                throw new ExitException(status);\r\n            }\r\n        });\r\n        try {\r\n            executable.run();\r\n            fail(&quot;Expected System.exit(&quot; + expectedStatus + &quot;) to be called, but it wasn&#39;t called.&quot;);\r\n        } catch (final ExitException e) {\r\n            assertEquals(expectedStatus, e.status, &quot;Wrong System.exit() status.&quot;);\r\n        } finally {\r\n            setSecurityManager(originalSecurityManager);\r\n        }\r\n    }\r\n\r\n    public interface ThrowingExecutable&lt;E extends Throwable&gt; {\r\n        void run() throws E;\r\n    }\r\n\r\n    private static class ExitException extends SecurityException {\r\n        final int status;\r\n\r\n        private ExitException(final int status) {\r\n            this.status = status;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou can use the class like this:\r\n```\r\n    @Test\r\n    void example() {\r\n        assertExits(0, () -&gt; System.exit(0)); // succeeds\r\n        assertExits(1, () -&gt; System.exit(1)); // succeeds\r\n        assertExits(2, () -&gt; System.exit(1)); // fails\r\n    }\r\n```\r\n\r\nThe code can easily be ported to JUnit 4, TestNG, or any other framework, if necessary. The only framework-specific element is failing the test. This can easily be changed to something framework-independent (other than a _Junit 4_ `Rule` \r\n\r\nThere is room for improvement, for example, overloading `assertExits()` with customizable messages.","title":"How to test methods that call System.exit()?","body":"<p>Most solutions will</p>\n\n<ul>\n<li>terminate the test (method, not the entire run) the moment <code>System.exit()</code> is called</li>\n<li>ignore an already installed <code>SecurityManager</code></li>\n<li>Sometimes be quite specific to a test framework</li>\n<li>restrict to be used at max once per test case</li>\n</ul>\n\n<p>Thus, most solutions are not suited for situations where:</p>\n\n<ul>\n<li>Verification of side-effects are to be performed after the call to <code>System.exit()</code></li>\n<li>An existing security manager is part of the testing.</li>\n<li>A different test framework is used.</li>\n<li>You want to have multiple verifications in a single test case. This may be strictly not recommended, but can be very convenient at times, especially in combination with <code>assertAll()</code>, for example.</li>\n</ul>\n\n<p>I was not happy with the restrictions imposed by the existing solutions presented in the other answers, and thus came up with something on my own.</p>\n\n<p>The following class provides a method <code>assertExits(int expectedStatus, Executable executable)</code> which asserts that <code>System.exit()</code> is called with a specified <code>status</code> value, and the test can continue after it. It works the same way as JUnit 5 <code>assertThrows</code>. It also respects an existing security manager.</p>\n\n<p>There is one remaining problem: When the code under test installs a new security manager which completely replaces the security manager set by the test. All other <code>SecurityManager</code>-based solutions known to me suffer the same problem.</p>\n\n<pre><code>import java.security.Permission;\n\nimport static java.lang.System.getSecurityManager;\nimport static java.lang.System.setSecurityManager;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.fail;\n\npublic enum ExitAssertions {\n    ;\n\n    public static &lt;E extends Throwable&gt; void assertExits(final int expectedStatus, final ThrowingExecutable&lt;E&gt; executable) throws E {\n        final SecurityManager originalSecurityManager = getSecurityManager();\n        setSecurityManager(new SecurityManager() {\n            @Override\n            public void checkPermission(final Permission perm) {\n                if (originalSecurityManager != null)\n                    originalSecurityManager.checkPermission(perm);\n            }\n\n            @Override\n            public void checkPermission(final Permission perm, final Object context) {\n                if (originalSecurityManager != null)\n                    originalSecurityManager.checkPermission(perm, context);\n            }\n\n            @Override\n            public void checkExit(final int status) {\n                super.checkExit(status);\n                throw new ExitException(status);\n            }\n        });\n        try {\n            executable.run();\n            fail(\"Expected System.exit(\" + expectedStatus + \") to be called, but it wasn't called.\");\n        } catch (final ExitException e) {\n            assertEquals(expectedStatus, e.status, \"Wrong System.exit() status.\");\n        } finally {\n            setSecurityManager(originalSecurityManager);\n        }\n    }\n\n    public interface ThrowingExecutable&lt;E extends Throwable&gt; {\n        void run() throws E;\n    }\n\n    private static class ExitException extends SecurityException {\n        final int status;\n\n        private ExitException(final int status) {\n            this.status = status;\n        }\n    }\n}\n</code></pre>\n\n<p>You can use the class like this:</p>\n\n<pre><code>    @Test\n    void example() {\n        assertExits(0, () -&gt; System.exit(0)); // succeeds\n        assertExits(1, () -&gt; System.exit(1)); // succeeds\n        assertExits(2, () -&gt; System.exit(1)); // fails\n    }\n</code></pre>\n\n<p>The code can easily be ported to JUnit 4, TestNG, or any other framework, if necessary. The only framework-specific element is failing the test. This can easily be changed to something framework-independent (other than a <em>Junit 4</em> <code>Rule</code> </p>\n\n<p>There is room for improvement, for example, overloading <code>assertExits()</code> with customizable messages.</p>\n"},{"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606208677,"creation_date":1606208677,"answer_id":64983262,"question_id":309396,"body_markdown":"System Stubs - https://github.com/webcompere/system-stubs - is also able to solve this problem. It shares System Lambda&#39;s syntax for wrapping around code that we _know_ will execute `System.exit`, but that can lead to odd effects when other code unexpectedly exits.\r\n\r\nVia the JUnit 5 plugin, we can provide insurance that any exit will be converted to an exception:\r\n\r\n```java\r\n@ExtendWith(SystemStubsExtension.class)\r\nclass SystemExitUseCase {\r\n    // the presence of this in the test means System.exit becomes an exception\r\n    @SystemStub\r\n    private SystemExit systemExit;\r\n\r\n    @Test\r\n    void doSomethingThatAccidentallyCallsSystemExit() {\r\n        // this test would have stopped the JVM, now it ends in `AbortExecutionException`\r\n        // System.exit(1);\r\n    }\r\n\r\n    @Test\r\n    void canCatchSystemExit() {\r\n        assertThatThrownBy(() -&gt; System.exit(1))\r\n            .isInstanceOf(AbortExecutionException.class);\r\n\r\n        assertThat(systemExit.getExitCode()).isEqualTo(1);\r\n    }\r\n}\r\n```\r\n\r\nAlternatively, the assertion-like static method can also be used:\r\n\r\n```java\r\nassertThat(catchSystemExit(() -&gt; {\r\n   //the code under test\r\n   System.exit(123);\r\n})).isEqualTo(123);\r\n```","title":"How to test methods that call System.exit()?","body":"<p>System Stubs - <a href=\"https://github.com/webcompere/system-stubs\" rel=\"noreferrer\">https://github.com/webcompere/system-stubs</a> - is also able to solve this problem. It shares System Lambda's syntax for wrapping around code that we <em>know</em> will execute <code>System.exit</code>, but that can lead to odd effects when other code unexpectedly exits.</p>\n<p>Via the JUnit 5 plugin, we can provide insurance that any exit will be converted to an exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SystemStubsExtension.class)\nclass SystemExitUseCase {\n    // the presence of this in the test means System.exit becomes an exception\n    @SystemStub\n    private SystemExit systemExit;\n\n    @Test\n    void doSomethingThatAccidentallyCallsSystemExit() {\n        // this test would have stopped the JVM, now it ends in `AbortExecutionException`\n        // System.exit(1);\n    }\n\n    @Test\n    void canCatchSystemExit() {\n        assertThatThrownBy(() -&gt; System.exit(1))\n            .isInstanceOf(AbortExecutionException.class);\n\n        assertThat(systemExit.getExitCode()).isEqualTo(1);\n    }\n}\n</code></pre>\n<p>Alternatively, the assertion-like static method can also be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(catchSystemExit(() -&gt; {\n   //the code under test\n   System.exit(123);\n})).isEqualTo(123);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1400553,"reputation":1715,"user_id":1329426,"display_name":"Jool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625874723,"creation_date":1625868215,"answer_id":68323093,"question_id":309396,"body_markdown":"A generally useful approach that can be used for unit and integration testing, is to have a package private (default access) mockable runner class that provides run() and exit() methods.  These methods can be overridden by Mock or Fake test classes in the test modules.\r\n\r\nThe test class (JUnit or other) provides exceptions that the exit() method can throw in place of System.exit().\r\n\r\n    package mainmocked;\r\n    class MainRunner {\r\n        void run(final String[] args) {\r\n            new MainMocked().run(args);    \r\n        }\r\n        void exit(final int status) {\r\n            System.exit(status);\r\n        }\r\n    }\r\n\r\nthe class with main() below, also has an altMain() to receive the mock or fake runner, when unit or integration testing:\r\n\r\n    package mainmocked;\r\n\r\n    public class MainMocked {\r\n        private static MainRunner runner = new MainRunner();\r\n\r\n        static void altMain(final String[] args, final MainRunner inRunner) {\r\n            runner = inRunner;\r\n            main(args);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            try {\r\n              runner.run(args);\r\n            } catch (Throwable ex) {\r\n                // Log(&quot;error: &quot;, ex);\r\n                runner.exit(1);\r\n            }\r\n            runner.exit(0);\r\n        } // main\r\n\r\n\r\n        public void run(String[] args) {\r\n            // do things ...\r\n        }\r\n    } // class\r\n\r\nA simple mock (with Mockito) would be:\r\n\r\n    @Test\r\n    public void testAltMain() {\r\n        String[] args0 = {};\r\n        MainRunner mockRunner = mock(MainRunner.class);\r\n        MainMocked.altMain(args0, mockRunner);\r\n\r\n        verify(mockRunner).run(args0);\r\n        verify(mockRunner).exit(0);\r\n      }\r\n\r\nA more complex test class would use a Fake, in which run() could do anything, and an Exception class to replace System.exit():\r\n\r\n    private class FakeRunnerRuns extends MainRunner {\r\n        @Override\r\n        void run(String[] args){\r\n            new MainMocked().run(args);\r\n        }\r\n        @Override\r\n        void exit(final int status) {\r\n            if (status == 0) {\r\n                throw new MyMockExitExceptionOK(&quot;exit(0) success&quot;);\r\n            }\r\n            else {\r\n                throw new MyMockExitExceptionFail(&quot;Unexpected Exception&quot;);\r\n            } // ok\r\n        } // exit\r\n    } // class\r\n","title":"How to test methods that call System.exit()?","body":"<p>A generally useful approach that can be used for unit and integration testing, is to have a package private (default access) mockable runner class that provides run() and exit() methods.  These methods can be overridden by Mock or Fake test classes in the test modules.</p>\n<p>The test class (JUnit or other) provides exceptions that the exit() method can throw in place of System.exit().</p>\n<pre><code>package mainmocked;\nclass MainRunner {\n    void run(final String[] args) {\n        new MainMocked().run(args);    \n    }\n    void exit(final int status) {\n        System.exit(status);\n    }\n}\n</code></pre>\n<p>the class with main() below, also has an altMain() to receive the mock or fake runner, when unit or integration testing:</p>\n<pre><code>package mainmocked;\n\npublic class MainMocked {\n    private static MainRunner runner = new MainRunner();\n\n    static void altMain(final String[] args, final MainRunner inRunner) {\n        runner = inRunner;\n        main(args);\n    }\n\n    public static void main(String[] args) {\n        try {\n          runner.run(args);\n        } catch (Throwable ex) {\n            // Log(&quot;error: &quot;, ex);\n            runner.exit(1);\n        }\n        runner.exit(0);\n    } // main\n\n\n    public void run(String[] args) {\n        // do things ...\n    }\n} // class\n</code></pre>\n<p>A simple mock (with Mockito) would be:</p>\n<pre><code>@Test\npublic void testAltMain() {\n    String[] args0 = {};\n    MainRunner mockRunner = mock(MainRunner.class);\n    MainMocked.altMain(args0, mockRunner);\n\n    verify(mockRunner).run(args0);\n    verify(mockRunner).exit(0);\n  }\n</code></pre>\n<p>A more complex test class would use a Fake, in which run() could do anything, and an Exception class to replace System.exit():</p>\n<pre><code>private class FakeRunnerRuns extends MainRunner {\n    @Override\n    void run(String[] args){\n        new MainMocked().run(args);\n    }\n    @Override\n    void exit(final int status) {\n        if (status == 0) {\n            throw new MyMockExitExceptionOK(&quot;exit(0) success&quot;);\n        }\n        else {\n            throw new MyMockExitExceptionFail(&quot;Unexpected Exception&quot;);\n        } // ok\n    } // exit\n} // class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10886857,"reputation":1,"user_id":8004081,"display_name":"tmurphy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633017123,"creation_date":1633017123,"answer_id":69395325,"question_id":309396,"body_markdown":"Another technique here is to introduce additional code into the (hopefully small number of) places where the logic does the System.exit(). This additional code then  *avoids* doing the System.exit() when the logic is being called as part of unit test. For example, define a package private constant like TEST_MODE which is normally false. Then have the unit test code set this true and add logic to the code under test to check for that case and bypass the System.exit call and instead throw an exception that the unit test logic can catch. By the way, in 2021 and using something like spotbugs, this problem can manifest itself in the obscure error that &quot;java.io.IOException: An existing connection was forcibly closed by the remote host&quot;.","title":"How to test methods that call System.exit()?","body":"<p>Another technique here is to introduce additional code into the (hopefully small number of) places where the logic does the System.exit(). This additional code then  <em>avoids</em> doing the System.exit() when the logic is being called as part of unit test. For example, define a package private constant like TEST_MODE which is normally false. Then have the unit test code set this true and add logic to the code under test to check for that case and bypass the System.exit call and instead throw an exception that the unit test logic can catch. By the way, in 2021 and using something like spotbugs, this problem can manifest itself in the obscure error that &quot;java.io.IOException: An existing connection was forcibly closed by the remote host&quot;.</p>\n"}],"owner":{"account_id":1064,"reputation":55491,"user_id":1412,"accept_rate":60,"display_name":"Chris Conway"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126558,"favorite_count":0,"down_vote_count":0,"up_vote_count":237,"accepted_answer_id":309427,"answer_count":19,"score":237,"last_activity_date":1697053908,"creation_date":1227285538,"question_id":309396,"body_markdown":"I&#39;ve got a few methods that should call `System.exit()` on certain inputs. Unfortunately, testing these cases causes JUnit to terminate! Putting the method calls in a new Thread doesn&#39;t seem to help, since `System.exit()` terminates the JVM, not just the current thread. Are there any common patterns for dealing with this? For example, can I substitute a stub for `System.exit()`? \r\n\r\nThe class in question is actually a command-line tool which I&#39;m attempting to test inside JUnit. Maybe JUnit is simply not the right tool for the job? Suggestions for complementary regression testing tools are welcome (preferably something that integrates well with JUnit and EclEmma).","title":"How to test methods that call System.exit()?","body":"<p>I've got a few methods that should call <code>System.exit()</code> on certain inputs. Unfortunately, testing these cases causes JUnit to terminate! Putting the method calls in a new Thread doesn't seem to help, since <code>System.exit()</code> terminates the JVM, not just the current thread. Are there any common patterns for dealing with this? For example, can I substitute a stub for <code>System.exit()</code>?</p>\n<p>The class in question is actually a command-line tool which I'm attempting to test inside JUnit. Maybe JUnit is simply not the right tool for the job? Suggestions for complementary regression testing tools are welcome (preferably something that integrates well with JUnit and EclEmma).</p>\n"},{"tags":["java","string","collections"],"answers":[{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1307847160,"creation_date":1307847160,"answer_id":6319826,"question_id":6319775,"body_markdown":"The most straightforward way is to use a `for` loop to add elements to a new `List`:\r\n\r\n    String abc = &quot;abc&quot;;\r\n    List&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();\r\n    \r\n    for (char c : abc.toCharArray()) {\r\n      charList.add(c);\r\n    }\r\n\r\nSimilarly, for a `Set`:\r\n\r\n    String abc = &quot;abc&quot;;\r\n    Set&lt;Character&gt; charSet = new HashSet&lt;Character&gt;();\r\n    \r\n    for (char c : abc.toCharArray()) {\r\n      charSet.add(c);\r\n    }\r\n","title":"Java collections convert a string to a list of characters","body":"<p>The most straightforward way is to use a <code>for</code> loop to add elements to a new <code>List</code>:</p>\n\n<pre><code>String abc = \"abc\";\nList&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();\n\nfor (char c : abc.toCharArray()) {\n  charList.add(c);\n}\n</code></pre>\n\n<p>Similarly, for a <code>Set</code>:</p>\n\n<pre><code>String abc = \"abc\";\nSet&lt;Character&gt; charSet = new HashSet&lt;Character&gt;();\n\nfor (char c : abc.toCharArray()) {\n  charSet.add(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":1,"up_vote_count":61,"is_accepted":true,"score":60,"last_activity_date":1516063779,"creation_date":1307847183,"answer_id":6319827,"question_id":6319775,"body_markdown":"You will have to either use a loop, or create a collection wrapper like `Arrays.asList` which works on primitive char arrays (or directly on strings).\r\n\r\n    List&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\r\n    Set&lt;Character&gt; unique = new HashSet&lt;Character&gt;();\r\n    for(char c : &quot;abc&quot;.toCharArray()) {\r\n        list.add(c);\r\n        unique.add(c);\r\n    }\r\n\r\n\r\nHere is an `Arrays.asList` like wrapper for strings:\r\n\r\n    public List&lt;Character&gt; asList(final String string) {\r\n        return new AbstractList&lt;Character&gt;() {\r\n           public int size() { return string.length(); }\r\n           public Character get(int index) { return string.charAt(index); }\r\n        };\r\n    }\r\n\r\nThis one is an immutable list, though. If you want a mutable list, use this with a `char[]`:\r\n\r\n    public List&lt;Character&gt; asList(final char[] string) {\r\n        return new AbstractList&lt;Character&gt;() {\r\n           public int size() { return string.length; }\r\n           public Character get(int index) { return string[index]; }\r\n           public Character set(int index, Character newVal) {\r\n              char old = string[index];\r\n              string[index] = newVal;\r\n              return old;\r\n           }\r\n        };\r\n    }\r\n\r\nAnalogous to this you can implement this for the other primitive types.\r\n**Note that using this normally is not recommended, since for every access you\r\nwould do a boxing and unboxing operation.**\r\n\r\nThe [Guava library][1] contains [similar List wrapper methods for several primitive array classes][2], like [Chars.asList][3], and a wrapper for String in [Lists.charactersOf(String)][4].\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: http://code.google.com/p/guava-libraries/wiki/PrimitivesExplained#Primitive_array_utilities\r\n  [3]: https://google.github.io/guava/releases/23.6-jre/api/docs/com/google/common/primitives/Chars.html#asList%28char...%29\r\n  [4]: https://google.github.io/guava/releases/23.6-jre/api/docs/com/google/common/collect/Lists.html#charactersOf%28java.lang.String%29","title":"Java collections convert a string to a list of characters","body":"<p>You will have to either use a loop, or create a collection wrapper like <code>Arrays.asList</code> which works on primitive char arrays (or directly on strings).</p>\n\n<pre><code>List&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\nSet&lt;Character&gt; unique = new HashSet&lt;Character&gt;();\nfor(char c : \"abc\".toCharArray()) {\n    list.add(c);\n    unique.add(c);\n}\n</code></pre>\n\n<p>Here is an <code>Arrays.asList</code> like wrapper for strings:</p>\n\n<pre><code>public List&lt;Character&gt; asList(final String string) {\n    return new AbstractList&lt;Character&gt;() {\n       public int size() { return string.length(); }\n       public Character get(int index) { return string.charAt(index); }\n    };\n}\n</code></pre>\n\n<p>This one is an immutable list, though. If you want a mutable list, use this with a <code>char[]</code>:</p>\n\n<pre><code>public List&lt;Character&gt; asList(final char[] string) {\n    return new AbstractList&lt;Character&gt;() {\n       public int size() { return string.length; }\n       public Character get(int index) { return string[index]; }\n       public Character set(int index, Character newVal) {\n          char old = string[index];\n          string[index] = newVal;\n          return old;\n       }\n    };\n}\n</code></pre>\n\n<p>Analogous to this you can implement this for the other primitive types.\n<strong>Note that using this normally is not recommended, since for every access you\nwould do a boxing and unboxing operation.</strong></p>\n\n<p>The <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava library</a> contains <a href=\"http://code.google.com/p/guava-libraries/wiki/PrimitivesExplained#Primitive_array_utilities\" rel=\"noreferrer\">similar List wrapper methods for several primitive array classes</a>, like <a href=\"https://google.github.io/guava/releases/23.6-jre/api/docs/com/google/common/primitives/Chars.html#asList%28char...%29\" rel=\"noreferrer\">Chars.asList</a>, and a wrapper for String in <a href=\"https://google.github.io/guava/releases/23.6-jre/api/docs/com/google/common/collect/Lists.html#charactersOf%28java.lang.String%29\" rel=\"noreferrer\">Lists.charactersOf(String)</a>.</p>\n"},{"tags":[],"owner":{"account_id":373467,"reputation":3837,"user_id":723113,"accept_rate":100,"display_name":"Sai"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1556113563,"creation_date":1307847479,"answer_id":6319845,"question_id":6319775,"body_markdown":"Create an empty list of Character and then make a loop to get every character from the array and put them in the list one by one.\r\n\r\n    List&lt;Character&gt; characterList = new ArrayList&lt;Character&gt;();\r\n    char arrayChar[] = abc.toCharArray();\r\n    for (char aChar : arrayChar) \r\n    {\r\n        characterList.add(aChar); //  autoboxing \r\n    }\r\n","title":"Java collections convert a string to a list of characters","body":"<p>Create an empty list of Character and then make a loop to get every character from the array and put them in the list one by one.</p>\n\n<pre><code>List&lt;Character&gt; characterList = new ArrayList&lt;Character&gt;();\nchar arrayChar[] = abc.toCharArray();\nfor (char aChar : arrayChar) \n{\n    characterList.add(aChar); //  autoboxing \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1307848627,"creation_date":1307848627,"answer_id":6319912,"question_id":6319775,"body_markdown":"The lack of a good way to convert between a primitive array and a collection of its corresponding wrapper type is solved by some third party libraries.  Guava, a very common one, [has a convenience method to do the conversion][1]:\r\n\r\n    List&lt;Character&gt; characterList = Chars.asList(&quot;abc&quot;.toCharArray());\r\n    Set&lt;Character&gt; characterSet = new HashSet&lt;Character&gt;(characterList);\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/primitives/Chars.html#asList%28char...%29","title":"Java collections convert a string to a list of characters","body":"<p>The lack of a good way to convert between a primitive array and a collection of its corresponding wrapper type is solved by some third party libraries.  Guava, a very common one, <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/primitives/Chars.html#asList%28char...%29\" rel=\"noreferrer\">has a convenience method to do the conversion</a>:</p>\n\n<pre><code>List&lt;Character&gt; characterList = Chars.asList(\"abc\".toCharArray());\nSet&lt;Character&gt; characterSet = new HashSet&lt;Character&gt;(characterList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6464879,"reputation":1241,"user_id":5007257,"display_name":"waggledans"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1697053248,"creation_date":1437940629,"answer_id":31641308,"question_id":6319775,"body_markdown":"In Java, starting from Java 8, you can use streams.\r\nList of Character objects:\r\n\r\n    List&lt;Character&gt; chars = str.chars()\r\n        .mapToObj(e-&gt;(char)e).collect(Collectors.toList());\r\n\r\nAnd set could be obtained in a similar way:\r\n\r\n    Set&lt;Character&gt; charsSet = str.chars()\r\n        .mapToObj(e-&gt;(char)e).collect(Collectors.toSet());\r\n\r\n\r\n","title":"Java collections convert a string to a list of characters","body":"<p>In Java, starting from Java 8, you can use streams.\nList of Character objects:</p>\n<pre><code>List&lt;Character&gt; chars = str.chars()\n    .mapToObj(e-&gt;(char)e).collect(Collectors.toList());\n</code></pre>\n<p>And set could be obtained in a similar way:</p>\n<pre><code>Set&lt;Character&gt; charsSet = str.chars()\n    .mapToObj(e-&gt;(char)e).collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1502867273,"creation_date":1483708228,"answer_id":41506487,"question_id":6319775,"body_markdown":"Use a Java 8 `Stream`.\r\n\r\n    myString.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toList());\r\n\r\nBreakdown:\r\n\r\n    myString\r\n        .chars() // Convert to an IntStream\r\n        .mapToObj(i -&gt; (char) i) // Convert int to char, which gets boxed to Character\r\n        .collect(Collectors.toList()); // Collect in a List&lt;Character&gt;\r\n\r\n(I have absolutely no idea why `String#chars()` returns an `IntStream`.)","title":"Java collections convert a string to a list of characters","body":"<p>Use a Java 8 <code>Stream</code>.</p>\n\n<pre><code>myString.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toList());\n</code></pre>\n\n<p>Breakdown:</p>\n\n<pre><code>myString\n    .chars() // Convert to an IntStream\n    .mapToObj(i -&gt; (char) i) // Convert int to char, which gets boxed to Character\n    .collect(Collectors.toList()); // Collect in a List&lt;Character&gt;\n</code></pre>\n\n<p>(I have absolutely no idea why <code>String#chars()</code> returns an <code>IntStream</code>.)</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573351057,"creation_date":1498243257,"answer_id":44728032,"question_id":6319775,"body_markdown":"You can do this without boxing if you use [Eclipse Collections][1]:\r\n\r\n    CharAdapter abc = Strings.asChars(&quot;abc&quot;);\r\n    CharList list = abc.toList();\r\n    CharSet set = abc.toSet();\r\n    CharBag bag = abc.toBag();\r\n\r\nBecause `CharAdapter` is an `ImmutableCharList`, calling `collect` on it will return an `ImmutableList`.\r\n\r\n    ImmutableList&lt;Character&gt; immutableList = abc.collect(Character::valueOf);\r\n\r\nIf you want to return a boxed `List`, `Set` or `Bag` of `Character`, the following will work:\r\n\r\n    LazyIterable&lt;Character&gt; lazyIterable = abc.asLazy().collect(Character::valueOf);\r\n    List&lt;Character&gt; list = lazyIterable.toList();\r\n    Set&lt;Character&gt; set = lazyIterable.toSet();\r\n    Bag&lt;Character&gt; set = lazyIterable.toBag();\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n","title":"Java collections convert a string to a list of characters","body":"<p>You can do this without boxing if you use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>:</p>\n\n<pre><code>CharAdapter abc = Strings.asChars(\"abc\");\nCharList list = abc.toList();\nCharSet set = abc.toSet();\nCharBag bag = abc.toBag();\n</code></pre>\n\n<p>Because <code>CharAdapter</code> is an <code>ImmutableCharList</code>, calling <code>collect</code> on it will return an <code>ImmutableList</code>.</p>\n\n<pre><code>ImmutableList&lt;Character&gt; immutableList = abc.collect(Character::valueOf);\n</code></pre>\n\n<p>If you want to return a boxed <code>List</code>, <code>Set</code> or <code>Bag</code> of <code>Character</code>, the following will work:</p>\n\n<pre><code>LazyIterable&lt;Character&gt; lazyIterable = abc.asLazy().collect(Character::valueOf);\nList&lt;Character&gt; list = lazyIterable.toList();\nSet&lt;Character&gt; set = lazyIterable.toSet();\nBag&lt;Character&gt; set = lazyIterable.toBag();\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":5401096,"reputation":1,"user_id":4300988,"display_name":"Vibodha Balalla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506195732,"creation_date":1506195732,"answer_id":46383597,"question_id":6319775,"body_markdown":"IntStream can be used to access each character and add them to the list. \r\n\r\n    String str = &quot;abc&quot;;\r\n    List&lt;Character&gt; charList = new ArrayList&lt;&gt;();\r\n    IntStream.range(0,str.length()).forEach(i -&gt; charList.add(str.charAt(i)));\r\n\r\n","title":"Java collections convert a string to a list of characters","body":"<p>IntStream can be used to access each character and add them to the list. </p>\n\n<pre><code>String str = \"abc\";\nList&lt;Character&gt; charList = new ArrayList&lt;&gt;();\nIntStream.range(0,str.length()).forEach(i -&gt; charList.add(str.charAt(i)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566450148,"creation_date":1566450148,"answer_id":57602336,"question_id":6319775,"body_markdown":"**Using Java 8 - Stream Funtion:**\r\n\r\n**Converting A String into Character List:**\r\n\r\n         \r\n    ArrayList&lt;Character&gt; characterList =  givenStringVariable\r\n                                                             .chars()\r\n                                                             .mapToObj(c-&gt; (char)c)\r\n                                                             .collect(collectors.toList());\r\n\r\n**Converting A Character List into String:**\r\n\r\n     String givenStringVariable =  characterList\r\n                                                .stream()\r\n                                                .map(String::valueOf)\r\n                                                .collect(Collectors.joining())","title":"Java collections convert a string to a list of characters","body":"<p><strong>Using Java 8 - Stream Funtion:</strong></p>\n\n<p><strong>Converting A String into Character List:</strong></p>\n\n<pre><code>ArrayList&lt;Character&gt; characterList =  givenStringVariable\n                                                         .chars()\n                                                         .mapToObj(c-&gt; (char)c)\n                                                         .collect(collectors.toList());\n</code></pre>\n\n<p><strong>Converting A Character List into String:</strong></p>\n\n<pre><code> String givenStringVariable =  characterList\n                                            .stream()\n                                            .map(String::valueOf)\n                                            .collect(Collectors.joining())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6755245,"reputation":339,"user_id":5203924,"display_name":"Mathieu Allain"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1575828323,"creation_date":1575828323,"answer_id":59238353,"question_id":6319775,"body_markdown":"    List&lt;String&gt; result = Arrays.asList(&quot;abc&quot;.split(&quot;&quot;));","title":"Java collections convert a string to a list of characters","body":"<pre><code>List&lt;String&gt; result = Arrays.asList(\"abc\".split(\"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17420023,"reputation":36,"user_id":12625762,"display_name":"Bhakti Vora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632958621,"creation_date":1632957059,"answer_id":69384254,"question_id":6319775,"body_markdown":"**To get a list of Characters / Strings -**\r\n\r\n    List&lt;String&gt; stringsOfCharacters = string.chars().\r\n                                       mapToObj(i -&gt; (char)i).\r\n                                       map(c -&gt; c.toString()).\r\n                                       collect(Collectors.toList());","title":"Java collections convert a string to a list of characters","body":"<p><strong>To get a list of Characters / Strings -</strong></p>\n<pre><code>List&lt;String&gt; stringsOfCharacters = string.chars().\n                                   mapToObj(i -&gt; (char)i).\n                                   map(c -&gt; c.toString()).\n                                   collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11777498,"reputation":1,"user_id":8618365,"display_name":"ankit singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693456537,"creation_date":1693394331,"answer_id":77007484,"question_id":6319775,"body_markdown":"We can convert `List` of `String` into `Set` of characters as below.\r\n\r\n    Set&lt;Character&gt; charSet = new HashSet&lt;&gt;();\r\n    List&lt;String&gt; strList = List.of(&quot;abc&quot;, &quot;cde&quot;, &quot;def&quot;, &quot;afc&quot;);\r\n    strList.forEach(str -&gt; {\r\n                    charSet.addAll(str.chars()\r\n                                      .mapToObj(c -&gt; (char) c)\r\n                                      .collect(Collectors.toSet()));\r\n                });\r\n\r\nOutput will be something like this.\r\n```none\r\n[a, b, c, d, e, f]\r\n```","title":"Java collections convert a string to a list of characters","body":"<p>We can convert <code>List</code> of <code>String</code> into <code>Set</code> of characters as below.</p>\n<pre><code>Set&lt;Character&gt; charSet = new HashSet&lt;&gt;();\nList&lt;String&gt; strList = List.of(&quot;abc&quot;, &quot;cde&quot;, &quot;def&quot;, &quot;afc&quot;);\nstrList.forEach(str -&gt; {\n                charSet.addAll(str.chars()\n                                  .mapToObj(c -&gt; (char) c)\n                                  .collect(Collectors.toSet()));\n            });\n</code></pre>\n<p>Output will be something like this.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[a, b, c, d, e, f]\n</code></pre>\n"}],"owner":{"account_id":738737,"reputation":3541,"user_id":701441,"accept_rate":71,"display_name":"phoenix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209831,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":6319827,"answer_count":12,"score":78,"last_activity_date":1697053248,"creation_date":1307846341,"question_id":6319775,"body_markdown":"I would like to convert the string containing `abc` to a list of characters and a hashset of characters. How can I do that in Java ? \r\n\r\n    List&lt;Character&gt; charList = new ArrayList&lt;Character&gt;(&quot;abc&quot;.toCharArray());\r\n    \t\r\n\r\n","title":"Java collections convert a string to a list of characters","body":"<p>I would like to convert the string containing <code>abc</code> to a list of characters and a hashset of characters. How can I do that in Java ? </p>\n\n<pre><code>List&lt;Character&gt; charList = new ArrayList&lt;Character&gt;(\"abc\".toCharArray());\n</code></pre>\n"},{"tags":["java","bazel","bazel-rules","bazel-java"],"comments":[{"owner":{"account_id":20728043,"reputation":338,"user_id":15220917,"display_name":"SG_Bazel"},"score":0,"creation_date":1697705498,"post_id":77275865,"comment_id":136314320,"body_markdown":"Here it is https://github.com/bazelbuild/bazel/blob/073fba498cd436fdf99067ed8bdcb023c78c7200/src/main/java/com/google/devtools/build/lib/util/ProcessUtils.java#L42C1-L51C7.           ```@return the process ID of this process.\n   * @throws UnsatisfiedLinkError when JNI is not available.```","body":"Here it is <a href=\"https://github.com/bazelbuild/bazel/blob/073fba498cd436fdf99067ed8bdcb023c78c7200/src/main/java/com/google/devtools/build/lib/util/ProcessUtils.java#L42C1-L51C7\" rel=\"nofollow noreferrer\">github.com/bazelbuild/bazel/blob/&hellip;</a>.           <code>@return the process ID of this process.    * @throws UnsatisfiedLinkError when JNI is not available.</code>"}],"owner":{"account_id":2421862,"reputation":1343,"user_id":5157998,"accept_rate":59,"display_name":"rishi007bansod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697053050,"creation_date":1697051866,"question_id":77275865,"body_markdown":"I am facing below issue with Bazel Info command -&gt;\r\n\r\n```\r\n$bazel info                                                                                                                                                   \r\nStarting local Bazel server and connecting to it...\r\nINFO: Invocation ID: 47f56fa4-a837-4636-97ef-57591ed4dcae\r\nbazel-bin: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/bin\r\nbazel-genfiles: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/bin\r\nbazel-testlogs: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/testlogs\r\ncharacter-encoding: file.encoding = ISO-8859-1, defaultCharset = ISO-8859-1\r\ncommand_log: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/command.log\r\ncommitted-heap-size: 2147MB\r\nexecution_root: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx\r\ngc-count: 4\r\ngc-time: 28ms\r\ninstall_base: /var/tmp/_bazel_rbansod/install/1cd9602f1e0e120a357e06b085ac3a74\r\njava-home: /Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home\r\njava-runtime: Java(TM) SE Runtime Environment (build 11.0.19+9-LTS-224) by Oracle Corporation\r\njava-vm: Java HotSpot(TM) 64-Bit Server VM (build 11.0.19+9-LTS-224, mixed mode) by Oracle Corporation\r\nmax-heap-size: 2147MB\r\noutput_base: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088\r\noutput_path: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out\r\npackage_path: %workspace%\r\nrelease: release 4.2.2\r\nrepository_cache: /var/tmp/_bazel_rbansod/cache/repos/v1\r\nserver_log: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/java.log.rbansodj4h4v.rbansod.log.java.20231012-000350.91479\r\nserver_pid: FATAL: bazel crashed due to an internal error. Printing stack trace:\r\njava.lang.UnsatisfiedLinkError: com.google.devtools.build.lib.unix.ProcessUtils.getpid()I\r\n\tat com.google.devtools.build.lib.unix.ProcessUtils.getpid(Native Method)\r\n\tat com.google.devtools.build.lib.util.ProcessUtils.getpid(ProcessUtils.java:51)\r\n\tat com.google.devtools.build.lib.runtime.commands.info.ServerPidInfoItem.get(ServerPidInfoItem.java:31)\r\n\tat com.google.devtools.build.lib.runtime.commands.InfoCommand.exec(InfoCommand.java:243)\r\n\tat com.google.devtools.build.lib.runtime.BlazeCommandDispatcher.execExclusively(BlazeCommandDispatcher.java:579)\r\n\tat com.google.devtools.build.lib.runtime.BlazeCommandDispatcher.exec(BlazeCommandDispatcher.java:231)\r\n\tat com.google.devtools.build.lib.server.GrpcServerImpl.executeCommand(GrpcServerImpl.java:543)\r\n\tat com.google.devtools.build.lib.server.GrpcServerImpl.lambda$run$1(GrpcServerImpl.java:606)\r\n\tat io.grpc.Context$1.run(Context.java:579)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\nHow can we resolve this issue?\r\n\r\nDev Machine is -&gt;\r\nApple M1 Pro, Mac OS 13.5.2\r\n","title":"java.lang.UnsatisfiedLinkError: com.google.devtools.build.lib.unix.ProcessUtils.getpid","body":"<p>I am facing below issue with Bazel Info command -&gt;</p>\n<pre><code>$bazel info                                                                                                                                                   \nStarting local Bazel server and connecting to it...\nINFO: Invocation ID: 47f56fa4-a837-4636-97ef-57591ed4dcae\nbazel-bin: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/bin\nbazel-genfiles: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/bin\nbazel-testlogs: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out/darwin-fastbuild/testlogs\ncharacter-encoding: file.encoding = ISO-8859-1, defaultCharset = ISO-8859-1\ncommand_log: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/command.log\ncommitted-heap-size: 2147MB\nexecution_root: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx\ngc-count: 4\ngc-time: 28ms\ninstall_base: /var/tmp/_bazel_rbansod/install/1cd9602f1e0e120a357e06b085ac3a74\njava-home: /Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home\njava-runtime: Java(TM) SE Runtime Environment (build 11.0.19+9-LTS-224) by Oracle Corporation\njava-vm: Java HotSpot(TM) 64-Bit Server VM (build 11.0.19+9-LTS-224, mixed mode) by Oracle Corporation\nmax-heap-size: 2147MB\noutput_base: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088\noutput_path: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/execroot/nsx/bazel-out\npackage_path: %workspace%\nrelease: release 4.2.2\nrepository_cache: /var/tmp/_bazel_rbansod/cache/repos/v1\nserver_log: /private/var/tmp/_bazel_rbansod/1cd1a8b9e1567ccf289777f2b0d30088/java.log.rbansodj4h4v.rbansod.log.java.20231012-000350.91479\nserver_pid: FATAL: bazel crashed due to an internal error. Printing stack trace:\njava.lang.UnsatisfiedLinkError: com.google.devtools.build.lib.unix.ProcessUtils.getpid()I\n    at com.google.devtools.build.lib.unix.ProcessUtils.getpid(Native Method)\n    at com.google.devtools.build.lib.util.ProcessUtils.getpid(ProcessUtils.java:51)\n    at com.google.devtools.build.lib.runtime.commands.info.ServerPidInfoItem.get(ServerPidInfoItem.java:31)\n    at com.google.devtools.build.lib.runtime.commands.InfoCommand.exec(InfoCommand.java:243)\n    at com.google.devtools.build.lib.runtime.BlazeCommandDispatcher.execExclusively(BlazeCommandDispatcher.java:579)\n    at com.google.devtools.build.lib.runtime.BlazeCommandDispatcher.exec(BlazeCommandDispatcher.java:231)\n    at com.google.devtools.build.lib.server.GrpcServerImpl.executeCommand(GrpcServerImpl.java:543)\n    at com.google.devtools.build.lib.server.GrpcServerImpl.lambda$run$1(GrpcServerImpl.java:606)\n    at io.grpc.Context$1.run(Context.java:579)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>How can we resolve this issue?</p>\n<p>Dev Machine is -&gt;\nApple M1 Pro, Mac OS 13.5.2</p>\n"},{"tags":["java","file","path"],"comments":[{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1697049399,"post_id":77275531,"comment_id":136231866,"body_markdown":"How are you reading the file? Please share your code.","body":"How are you reading the file? Please share your code."},{"owner":{"account_id":28216296,"reputation":53,"user_id":22303021,"display_name":"Derek Kwon"},"score":0,"creation_date":1697049840,"post_id":77275531,"comment_id":136231941,"body_markdown":"I am using BufferedReader and BufferedWriter, so \n\nBufferedReader scoreReadStart = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;)); \n\nand \n\nBufferedWriter scoreWrite = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));","body":"I am using BufferedReader and BufferedWriter, so   BufferedReader scoreReadStart = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\reso&zwnj;&#8203;urces\\\\leaderboard.t&zwnj;&#8203;xt&quot;));   and   BufferedWriter scoreWrite = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\reso&zwnj;&#8203;urces\\\\leaderboard.t&zwnj;&#8203;xt&quot;));"},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1697050019,"post_id":77275531,"comment_id":136231962,"body_markdown":"For future reference, please update your question with the relevant code instead of pasting it in the comments.","body":"For future reference, please update your question with the relevant code instead of pasting it in the comments."},{"owner":{"account_id":28216296,"reputation":53,"user_id":22303021,"display_name":"Derek Kwon"},"score":0,"creation_date":1697050238,"post_id":77275531,"comment_id":136232005,"body_markdown":"Understood, I have updated my question accordingly. Thank you for the tip.","body":"Understood, I have updated my question accordingly. Thank you for the tip."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697051079,"creation_date":1697050752,"answer_id":77275747,"question_id":77275531,"body_markdown":"I personally prefer to use the Java NIO class [`Path`][1] in conjunction with [`Path#resolve(String)`][2], but if you&#39;re sticking with [`File`][3] you can use the [`File(File, String)`][4] constructor, which takes a parent argument.\r\n\r\nHere&#39;s an example which assumes that the program&#39;s working directory is the same as the project&#39;s root directory:\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tFile workingDirectory = new File(System.getProperty(&quot;user.dir&quot;));\r\n\t\tSystem.out.println(&quot;The program is running in: &quot; + workingDirectory);\r\n\r\n\t\tFile resourcesDirectory = new File(workingDirectory, &quot;resources&quot;);\r\n\t\tSystem.out.println(&quot;Resources directory: &quot; + resourcesDirectory);\r\n\r\n\t\tFile leaderboardFile = new File(resourcesDirectory, &quot;leaderboard.txt&quot;);\r\n\t\tSystem.out.println(&quot;Leaderboard file: &quot; + leaderboardFile);\r\n\r\n\t\tBufferedWriter scoreWrite = new BufferedWriter(new FileWriter(leaderboardFile));\r\n\t\tBufferedReader scoreRead = new BufferedReader(new FileReader(leaderboardFile));\r\n\r\n        // ...\r\n\t}\r\n\r\nUnrelated to the question, but consider using a [try-with-resources][5] statement.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#resolve-java.lang.String-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/io/File.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/io/File.html#File-java.io.File-java.lang.String-\r\n  [5]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"relative filepath for java","body":"<p>I personally prefer to use the Java NIO class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a> in conjunction with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#resolve-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Path#resolve(String)</code></a>, but if you're sticking with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\"><code>File</code></a> you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#File-java.io.File-java.lang.String-\" rel=\"nofollow noreferrer\"><code>File(File, String)</code></a> constructor, which takes a parent argument.</p>\n<p>Here's an example which assumes that the program's working directory is the same as the project's root directory:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File workingDirectory = new File(System.getProperty(&quot;user.dir&quot;));\n    System.out.println(&quot;The program is running in: &quot; + workingDirectory);\n\n    File resourcesDirectory = new File(workingDirectory, &quot;resources&quot;);\n    System.out.println(&quot;Resources directory: &quot; + resourcesDirectory);\n\n    File leaderboardFile = new File(resourcesDirectory, &quot;leaderboard.txt&quot;);\n    System.out.println(&quot;Leaderboard file: &quot; + leaderboardFile);\n\n    BufferedWriter scoreWrite = new BufferedWriter(new FileWriter(leaderboardFile));\n    BufferedReader scoreRead = new BufferedReader(new FileReader(leaderboardFile));\n\n    // ...\n}\n</code></pre>\n<p>Unrelated to the question, but consider using a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> statement.</p>\n"}],"owner":{"account_id":28216296,"reputation":53,"user_id":22303021,"display_name":"Derek Kwon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1697052153,"creation_date":1697048636,"question_id":77275531,"body_markdown":"For my first java project I have been assigned to build a card flipping memory game that includes a leaderboard. In the project folder, there is the src folder, but there is also a folder named &quot;resources&quot;. That is where the `leaderboard.txt` file is.\r\n\r\nI have gotten everything working fine on my device, but the file path that I use to read in the leaderboard and write data to it is a local path: `C:\\\\Users\\\\Name\\\\Desktop\\\\ProjectFolder\\\\Resources\\\\Leaderboard.txt`. Obviously, this will not work on the instructor&#39;s computer.\r\n\r\nHow should I edit the file path so that it works on the grader&#39;s end? I have read something about using &quot;/&quot; as a separator but I don&#39;t know how I should incorporate that into the file path. I am using BufferedWriter and BufferedReader, so the code looks like this:\r\n\r\n    BufferedWriter scoreWrite = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));\r\n    BufferedReader scoreRead = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));\r\n\r\nIf MemoryGame is the folder created by cloning the repository and the resources folder is within the MemoryGame folder, would &quot;./resources/leaderboard.txt&quot; work as a filepath? The dot indicates that I am searching with a relative path, correct?\r\n\r\nI am very new to Java so I would be very happy to receive any and all advice. Thank you all!","title":"relative filepath for java","body":"<p>For my first java project I have been assigned to build a card flipping memory game that includes a leaderboard. In the project folder, there is the src folder, but there is also a folder named &quot;resources&quot;. That is where the <code>leaderboard.txt</code> file is.</p>\n<p>I have gotten everything working fine on my device, but the file path that I use to read in the leaderboard and write data to it is a local path: <code>C:\\\\Users\\\\Name\\\\Desktop\\\\ProjectFolder\\\\Resources\\\\Leaderboard.txt</code>. Obviously, this will not work on the instructor's computer.</p>\n<p>How should I edit the file path so that it works on the grader's end? I have read something about using &quot;/&quot; as a separator but I don't know how I should incorporate that into the file path. I am using BufferedWriter and BufferedReader, so the code looks like this:</p>\n<pre><code>BufferedWriter scoreWrite = new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));\nBufferedReader scoreRead = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\name\\\\Desktop\\\\CSCI\\\\MemoryGame\\\\resources\\\\leaderboard.txt&quot;));\n</code></pre>\n<p>If MemoryGame is the folder created by cloning the repository and the resources folder is within the MemoryGame folder, would &quot;./resources/leaderboard.txt&quot; work as a filepath? The dot indicates that I am searching with a relative path, correct?</p>\n<p>I am very new to Java so I would be very happy to receive any and all advice. Thank you all!</p>\n"},{"tags":["java","eclipse","web-applications"],"comments":[{"owner":{"account_id":195331,"reputation":275388,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1396879984,"post_id":22914927,"comment_id":34974640,"body_markdown":"Just add a source folder.","body":"Just add a source folder."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1396880017,"post_id":22914927,"comment_id":34974662,"body_markdown":"You can create them yourself like a regular folders. Create src folder, than test inside src then java inside test","body":"You can create them yourself like a regular folders. Create src folder, than test inside src then java inside test"},{"owner":{"account_id":928080,"reputation":1749,"user_id":958443,"accept_rate":56,"display_name":"Sandeep Rao"},"score":1,"creation_date":1396880086,"post_id":22914927,"comment_id":34974702,"body_markdown":"I am unable to add sub folders to src folder in eclipse. Can you please let me know how I can do that ?","body":"I am unable to add sub folders to src folder in eclipse. Can you please let me know how I can do that ?"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109665,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1396880063,"creation_date":1396880063,"answer_id":22914992,"question_id":22914927,"body_markdown":"Open  `Properties &gt; Java Build Path` for the project. Select the `Source` tab and use `Add Folders` to add source folders.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Open  <code>Properties &gt; Java Build Path</code> for the project. Select the <code>Source</code> tab and use <code>Add Folders</code> to add source folders.</p>\n"},{"tags":[],"owner":{"account_id":2147768,"reputation":1995,"user_id":1905015,"accept_rate":80,"display_name":"markusw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396880727,"creation_date":1396880727,"answer_id":22915248,"question_id":22914927,"body_markdown":"Remove the actual source folder definition in the build path and add a new source folder an name it `src/main/java`","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Remove the actual source folder definition in the build path and add a new source folder an name it <code>src/main/java</code></p>\n"},{"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"down_vote_count":0,"up_vote_count":185,"is_accepted":true,"score":185,"last_activity_date":1396881399,"creation_date":1396881399,"answer_id":22915508,"question_id":22914927,"body_markdown":"As you&#39;ve discovered, you can&#39;t have a source folder inside another source folder, so before you can create `src/main/java` you have to tell Eclipse not to treat `src` as a source folder.  To do this, right click on the `src` folder and select build path -&gt; remove from build path.\r\n\r\nOnce you have done this `src` will appear in the folder tree in its normal place, so you can create the `main` and `java` folders under it, and move the existing `src/com` to `src/main/java/com`.  Finally right-click the newly-created `java` folder and select build path -&gt; use as source folder.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>As you've discovered, you can't have a source folder inside another source folder, so before you can create <code>src/main/java</code> you have to tell Eclipse not to treat <code>src</code> as a source folder.  To do this, right click on the <code>src</code> folder and select build path -> remove from build path.</p>\n\n<p>Once you have done this <code>src</code> will appear in the folder tree in its normal place, so you can create the <code>main</code> and <code>java</code> folders under it, and move the existing <code>src/com</code> to <code>src/main/java/com</code>.  Finally right-click the newly-created <code>java</code> folder and select build path -> use as source folder.</p>\n"},{"tags":[],"owner":{"display_name":"user6428790"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1466029108,"creation_date":1466029108,"answer_id":37846753,"question_id":22914927,"body_markdown":"I have solved this issue by below steps:\r\n\r\nRight click the Maven Project -&gt; Build Path -&gt; Configure Build Path\r\nIn Order and Export tab, you can see the message like &#39;2 build path entries are missing&#39;\r\nNow select &#39;JRE System Library&#39; and &#39;Maven Dependencies&#39; checkbox\r\nClick OK\r\n\r\n","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>I have solved this issue by below steps:</p>\n\n<p>Right click the Maven Project -> Build Path -> Configure Build Path\nIn Order and Export tab, you can see the message like '2 build path entries are missing'\nNow select 'JRE System Library' and 'Maven Dependencies' checkbox\nClick OK</p>\n"},{"tags":[],"owner":{"account_id":8718906,"reputation":11,"user_id":6522631,"display_name":"AmosJ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467107992,"creation_date":1467107992,"answer_id":38073038,"question_id":22914927,"body_markdown":"the problem will be solved by checking on &#39;JRE System Library&#39; and &#39;Maven Dependencies&#39; checkboxs Click OK. this is found in the project&#39;s &#39;build path option&#39;","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>the problem will be solved by checking on 'JRE System Library' and 'Maven Dependencies' checkboxs Click OK. this is found in the project's 'build path option'</p>\n"},{"tags":[],"owner":{"account_id":8850314,"reputation":51,"user_id":6609819,"display_name":"kiran kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469085600,"creation_date":1469085600,"answer_id":38497528,"question_id":22914927,"body_markdown":"\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VaCWR.png\r\n\r\nIf you don&#39;t find the Included Path just add the path it will resolve.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p><a href=\"https://i.stack.imgur.com/VaCWR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VaCWR.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you don't find the Included Path just add the path it will resolve.</p>\n"},{"tags":[],"owner":{"account_id":347913,"reputation":755,"user_id":682312,"accept_rate":40,"display_name":"Puneet Lamba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591980100,"creation_date":1506370552,"answer_id":46413489,"question_id":22914927,"body_markdown":"If the package structure is setup as `src.main.java.com.inventica`, instead of `com.inventica`, that’s usually because under project properties &gt; Java build path &gt; Source, the source folder is setup as `src` instead of `src/main/java`. There’s no easy way to fix this, so remove `src` as a source folder and click ok. \r\n\r\nNow Eclipse will show a folder hierarchy `src/main/java`. Browse to the `java` folder &gt; right-click &gt; build path &gt; use as source folder. \r\n\r\nAfter this, you may have to fix the Eclipse .project and .classpath files to have it use Maven to manage dependencies, builds etc. \r\n\r\nTypically, you can copy this from a working project since there isn’t anything project specific here assuming you’re structured as a standard Maven project.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>If the package structure is setup as <code>src.main.java.com.inventica</code>, instead of <code>com.inventica</code>, that’s usually because under project properties > Java build path > Source, the source folder is setup as <code>src</code> instead of <code>src/main/java</code>. There’s no easy way to fix this, so remove <code>src</code> as a source folder and click ok. </p>\n\n<p>Now Eclipse will show a folder hierarchy <code>src/main/java</code>. Browse to the <code>java</code> folder > right-click > build path > use as source folder. </p>\n\n<p>After this, you may have to fix the Eclipse .project and .classpath files to have it use Maven to manage dependencies, builds etc. </p>\n\n<p>Typically, you can copy this from a working project since there isn’t anything project specific here assuming you’re structured as a standard Maven project.</p>\n"},{"tags":[],"owner":{"account_id":5604771,"reputation":53,"user_id":4439779,"accept_rate":0,"display_name":"Guru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521343855,"creation_date":1521343855,"answer_id":49344226,"question_id":22914927,"body_markdown":"Simple solution would be create &#39;java&#39; folder directly one the drive into src/main even before opening it in eclipse that way eclipse will not complain about the issue.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Simple solution would be create 'java' folder directly one the drive into src/main even before opening it in eclipse that way eclipse will not complain about the issue.</p>\n"},{"tags":[],"owner":{"account_id":19070122,"reputation":109,"user_id":13924481,"display_name":"Little Bug"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634174133,"creation_date":1634135906,"answer_id":69557499,"question_id":22914927,"body_markdown":"Solution One:\r\n\r\nChange the JRE version to 1.8 and change it back to the original version (for maven-archetype-webapp, the original version is 1.7).\r\n\r\n[![Steps Here][1]][1]\r\n\r\n\r\n\r\nSolution Two:\r\n\r\nCheck the JRE option and Maven Dependencies option in &quot;Order and Export&quot;.\r\n\r\n[![Steps Here][2]][2]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/udZ2x.jpg\r\n  [2]: https://i.stack.imgur.com/DyZHk.jpg","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Solution One:</p>\n<p>Change the JRE version to 1.8 and change it back to the original version (for maven-archetype-webapp, the original version is 1.7).</p>\n<p><a href=\"https://i.stack.imgur.com/udZ2x.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/udZ2x.jpg\" alt=\"Steps Here\" /></a></p>\n<p>Solution Two:</p>\n<p>Check the JRE option and Maven Dependencies option in &quot;Order and Export&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/DyZHk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DyZHk.jpg\" alt=\"Steps Here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28200882,"reputation":11,"user_id":21554686,"display_name":"Ramesh Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697051871,"creation_date":1697051871,"answer_id":77275868,"question_id":22914927,"body_markdown":"Open Properties &gt; Java Build Path for the project. Select the Source tab and use Add Folders to add source folders.","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>Open Properties &gt; Java Build Path for the project. Select the Source tab and use Add Folders to add source folders.</p>\n"}],"owner":{"account_id":928080,"reputation":1749,"user_id":958443,"accept_rate":56,"display_name":"Sandeep Rao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117988,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":22915508,"answer_count":10,"score":74,"last_activity_date":1697051871,"creation_date":1396879907,"question_id":22914927,"body_markdown":"How do I create the `src/main/java` and `src/test/java` in my default web application project in Eclipse without Maven? My current folder structure is  \r\n\r\n    TestApp\r\n    ├── JavaResources\r\n    │   └── src  \r\n    │       └── com.mypackage\r\n    └── WebContent","title":"Creating a src/main/java folder structure in Eclipse without Maven","body":"<p>How do I create the <code>src/main/java</code> and <code>src/test/java</code> in my default web application project in Eclipse without Maven? My current folder structure is  </p>\n\n<pre><code>TestApp\n├── JavaResources\n│   └── src  \n│       └── com.mypackage\n└── WebContent\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","linked-list","deque"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1697056013,"post_id":77275743,"comment_id":136232947,"body_markdown":"By definition, you cannot go through the whole list in O(1). If you need that, you must make sure to check and update the max value every time you add or remove from your `Deque`. For removing, that most likely means an O(N) check if you removed the current max element.","body":"By definition, you cannot go through the whole list in O(1). If you need that, you must make sure to check and update the max value every time you add or remove from your <code>Deque</code>. For removing, that most likely means an O(N) check if you removed the current max element."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697058658,"post_id":77275743,"comment_id":136233364,"body_markdown":"Consider using a Heap which returns max in O(1): `PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());` \n- see https://stackoverflow.com/questions/14165325/is-there-a-heap-in-java . Of course, adding elements is not O(1)","body":"Consider using a Heap which returns max in O(1): <code>PriorityQueue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;(Comparator.reverseOrder());</code>  - see <a href=\"https://stackoverflow.com/questions/14165325/is-there-a-heap-in-java\" title=\"is there a heap in java\">stackoverflow.com/questions/14165325/is-there-a-heap-in-java</a> . Of course, adding elements is not O(1)"},{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1697087329,"post_id":77275743,"comment_id":136235709,"body_markdown":"So you need the `max()` function to have `O(1)` complexity. But the other functions don&#39;t have to be `O(1)`, right?","body":"So you need the <code>max()</code> function to have <code>O(1)</code> complexity. But the other functions don&#39;t have to be <code>O(1)</code>, right?"}],"owner":{"account_id":26921020,"reputation":27,"user_id":20495039,"display_name":"Girly Girl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697050727,"creation_date":1697050727,"question_id":77275743,"body_markdown":"In java, I&#39;m implementing a deque using LinkedList. `Deque&lt;Integer&gt; deque = new LinkedList&lt;&gt;()`. \r\n\r\nMy deque has the following methods:\r\n`addFirst(Integer x)`\r\n`addLast(Integer x)`\r\n`Integer removeFirst()`\r\n`Integer removeLast()` and \r\n`Integer max()`\r\n\r\nThe `max()` method needs to find the max element in the deque in O(1) amortized time and return it.\r\n\r\nCurrently I am using `Deque&lt;Integer&gt; max_deque = new LinkedList&lt;&gt;()` to store the max element of the deque but I am having trouble updating the max element in this data structure when the add and remove operations are performed on `deque`. \r\n\r\nHow do I go about implementing this so that the max element gets updated and returned in O(1) amortized time? Thank you!","title":"How to find the max element in a deque in java in O(1) amortized time?","body":"<p>In java, I'm implementing a deque using LinkedList. <code>Deque&lt;Integer&gt; deque = new LinkedList&lt;&gt;()</code>.</p>\n<p>My deque has the following methods:\n<code>addFirst(Integer x)</code>\n<code>addLast(Integer x)</code>\n<code>Integer removeFirst()</code>\n<code>Integer removeLast()</code> and\n<code>Integer max()</code></p>\n<p>The <code>max()</code> method needs to find the max element in the deque in O(1) amortized time and return it.</p>\n<p>Currently I am using <code>Deque&lt;Integer&gt; max_deque = new LinkedList&lt;&gt;()</code> to store the max element of the deque but I am having trouble updating the max element in this data structure when the add and remove operations are performed on <code>deque</code>.</p>\n<p>How do I go about implementing this so that the max element gets updated and returned in O(1) amortized time? Thank you!</p>\n"},{"tags":["python","java","python-3.x","intellij-idea","pycharm"],"comments":[{"owner":{"account_id":399622,"reputation":4097,"user_id":765091,"display_name":"slothrop"},"score":2,"creation_date":1697052780,"post_id":77275696,"comment_id":136232475,"body_markdown":"Assuming you are using CPython, `print` is implemented in C: I don&#39;t know of any Python IDE that would show you that implementation, as opposed to the Python stub that you do see. (And I&#39;m not sure how it would be possible without the source code of CPython, which usually isn&#39;t included when you install).","body":"Assuming you are using CPython, <code>print</code> is implemented in C: I don&#39;t know of any Python IDE that would show you that implementation, as opposed to the Python stub that you do see. (And I&#39;m not sure how it would be possible without the source code of CPython, which usually isn&#39;t included when you install)."},{"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"score":0,"creation_date":1697053825,"post_id":77275696,"comment_id":136232638,"body_markdown":"Yes, CPython. &amp; so u said it should be possible with the source code of CPython? Do u think there&#39;s anyway I could download it &amp; have it function like it does in Java? All I want is to read what code gets executed when I call a function, it&#39;s a tremendous learning tool for me &amp; has helped me a lot in Java, I&#39;m constantly going in &amp; out of the Java Source Code, sometimes I spend literal hours in it. But for python, c++, JavaScript, &amp; TypeScript... I can never view the source like Java. **Even if I use the debugger, &amp; try to step into the `print()` function it doesnt step into.** Is that normal?","body":"Yes, CPython. &amp; so u said it should be possible with the source code of CPython? Do u think there&#39;s anyway I could download it &amp; have it function like it does in Java? All I want is to read what code gets executed when I call a function, it&#39;s a tremendous learning tool for me &amp; has helped me a lot in Java, I&#39;m constantly going in &amp; out of the Java Source Code, sometimes I spend literal hours in it. But for python, c++, JavaScript, &amp; TypeScript... I can never view the source like Java. <b>Even if I use the debugger, &amp; try to step into the <code>print()</code> function it doesnt step into.</b> Is that normal?"},{"owner":{"account_id":399622,"reputation":4097,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697053957,"post_id":77275696,"comment_id":136232661,"body_markdown":"*&quot;Do u think there&#39;s anyway I could download it &amp; have it function like it does in Java?&quot;* Do Java IDEs do this though? In your example, you show how the IDE can show you the Java source code of `println`, because that method is implemented in Java itself. But does the IDE ever **step into the C source code of the JVM implementation**? That&#39;s the Java equivalent of what you&#39;re looking for in Python here.","body":"<i>&quot;Do u think there&#39;s anyway I could download it &amp; have it function like it does in Java?&quot;</i> Do Java IDEs do this though? In your example, you show how the IDE can show you the Java source code of <code>println</code>, because that method is implemented in Java itself. But does the IDE ever <b>step into the C source code of the JVM implementation</b>? That&#39;s the Java equivalent of what you&#39;re looking for in Python here."},{"owner":{"account_id":399622,"reputation":4097,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697054011,"post_id":77275696,"comment_id":136232672,"body_markdown":"The CPython source is here on Github: https://github.com/python/cpython. But having the source is one thing; being able to automatically infer what piece of C code is the implementation of Python `print` is a different and more complex thing.","body":"The CPython source is here on Github: <a href=\"https://github.com/python/cpython\" rel=\"nofollow noreferrer\">github.com/python/cpython</a>. But having the source is one thing; being able to automatically infer what piece of C code is the implementation of Python <code>print</code> is a different and more complex thing."},{"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"score":0,"creation_date":1697055277,"post_id":77275696,"comment_id":136232869,"body_markdown":"No it doesn&#39;t step into the C source code, it just shows the Java source code. And I think I see what you&#39;re saying now. There is no python source code for `print` like there&#39;s java source code for `println`.  But I can&#39;t step into the `str().lower()` or `str().split` either, so do they fall under the same category as print()?","body":"No it doesn&#39;t step into the C source code, it just shows the Java source code. And I think I see what you&#39;re saying now. There is no python source code for <code>print</code> like there&#39;s java source code for <code>println</code>.  But I can&#39;t step into the <code>str().lower()</code> or <code>str().split</code> either, so do they fall under the same category as print()?"},{"owner":{"account_id":399622,"reputation":4097,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697055364,"post_id":77275696,"comment_id":136232878,"body_markdown":"Regarding how you might attempt this: https://stackoverflow.com/questions/26198847/can-i-step-into-python-library-code https://stackoverflow.com/questions/150375/how-do-you-break-into-the-debugger-from-python-source-code?rq=3 https://stackoverflow.com/questions/23319883/can-i-view-source-code-of-python-built-in-function-while-debugging-with-pdb?rq=3 https://stackoverflow.com/questions/58343685/how-to-walk-through-python-opcode-while-debugging-cpython https://stackoverflow.com/questions/57278643/the-optimal-way-to-set-a-breakpoint-in-the-python-source-code-while-debugging-cp?noredirect=1&amp;lq=1","body":"Regarding how you might attempt this: <a href=\"https://stackoverflow.com/questions/26198847/can-i-step-into-python-library-code\" title=\"can i step into python library code\">stackoverflow.com/questions/26198847/&hellip;</a> <a href=\"https://stackoverflow.com/questions/150375/how-do-you-break-into-the-debugger-from-python-source-code?rq=3\" title=\"how do you break into the debugger from python source code\">stackoverflow.com/questions/150375/&hellip;</a> <a href=\"https://stackoverflow.com/questions/23319883/can-i-view-source-code-of-python-built-in-function-while-debugging-with-pdb?rq=3\" title=\"can i view source code of python built in function while debugging with pdb\">stackoverflow.com/questions/23319883/&hellip;</a> <a href=\"https://stackoverflow.com/questions/58343685/how-to-walk-through-python-opcode-while-debugging-cpython\" title=\"how to walk through python opcode while debugging cpython\">stackoverflow.com/questions/58343685/&hellip;</a> <a href=\"https://stackoverflow.com/questions/57278643/the-optimal-way-to-set-a-breakpoint-in-the-python-source-code-while-debugging-cp?noredirect=1&amp;lq=1\" title=\"the optimal way to set a breakpoint in the python source code while debugging cp\">stackoverflow.com/questions/57278643/&hellip;</a>"},{"owner":{"account_id":399622,"reputation":4097,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697055381,"post_id":77275696,"comment_id":136232880,"body_markdown":"...but all of this involves a bit of manual work, I don&#39;t think any IDE has integrated it.","body":"...but all of this involves a bit of manual work, I don&#39;t think any IDE has integrated it."},{"owner":{"account_id":399622,"reputation":4097,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697055588,"post_id":77275696,"comment_id":136232902,"body_markdown":"Regarding `str` methods, yes they&#39;re also implemented in C. For example `lower()` is here: https://github.com/python/cpython/blob/c523ce0f434582580a3721e15cb7dd6b56ad0236/Objects/unicodeobject.c#L11830 Generally, heavily used classes like `str` tend to be implemented in C, because the performance gain is most noticeable for the most used classes.","body":"Regarding <code>str</code> methods, yes they&#39;re also implemented in C. For example <code>lower()</code> is here: <a href=\"https://github.com/python/cpython/blob/c523ce0f434582580a3721e15cb7dd6b56ad0236/Objects/unicodeobject.c#L11830\" rel=\"nofollow noreferrer\">github.com/python/cpython/blob/&hellip;</a> Generally, heavily used classes like <code>str</code> tend to be implemented in C, because the performance gain is most noticeable for the most used classes."},{"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"score":0,"creation_date":1697056977,"post_id":77275696,"comment_id":136233105,"body_markdown":"Okay, I see, I just tried it with the `webbrowser.get()` method and it worked like It does in the Java screenshot. So I just can&#39;t view the source code, generally, for heavily used classes like `str`. Okay that makes sense. Thank you :) and so am I kinda right to think that it&#39;s the same when I try to view the source code in c++, javascript, and TypeScript when I can&#39;t see the method body...the source code doesn&#39;t exist in that lang because the implementation is written in something else? And the only way to view it would be getting the source for the lang it&#39;s implementation is written in?","body":"Okay, I see, I just tried it with the <code>webbrowser.get()</code> method and it worked like It does in the Java screenshot. So I just can&#39;t view the source code, generally, for heavily used classes like <code>str</code>. Okay that makes sense. Thank you :) and so am I kinda right to think that it&#39;s the same when I try to view the source code in c++, javascript, and TypeScript when I can&#39;t see the method body...the source code doesn&#39;t exist in that lang because the implementation is written in something else? And the only way to view it would be getting the source for the lang it&#39;s implementation is written in?"},{"owner":{"account_id":399622,"reputation":4097,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1697057976,"post_id":77275696,"comment_id":136233269,"body_markdown":"I think that&#39;s right for JS and TypeScript. Not so sure for C++, because generally the libraries are written in C++ itself. But I don&#39;t know enough about C++ IDEs to understand what is and isn&#39;t available, sorry!","body":"I think that&#39;s right for JS and TypeScript. Not so sure for C++, because generally the libraries are written in C++ itself. But I don&#39;t know enough about C++ IDEs to understand what is and isn&#39;t available, sorry!"},{"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"score":1,"creation_date":1697058539,"post_id":77275696,"comment_id":136233352,"body_markdown":"No problem! This is something that has been bugging me for a long time but I never knew how to google it or ask the question. But now I know. Thank you :)","body":"No problem! This is something that has been bugging me for a long time but I never knew how to google it or ask the question. But now I know. Thank you :)"}],"owner":{"account_id":17392625,"reputation":67,"user_id":12602857,"display_name":"Mermaid Man"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697050310,"creation_date":1697050310,"question_id":77275696,"body_markdown":"I&#39;m a Java programmer, trying to set up my python/PyCharm IDEA environment and there is a feature that I love in Java/IntelliJ where I can ctrl+click a method like println in ```System.out.println()``` and it will take me to the ```println()``` method declaration where **I can see the &quot;method body&quot;** as well. And for python/PyCharm it does the same thing, except, the **&quot;method body&quot; isn&#39;t shown**. I have 2 pics to show what I&#39;m talking about:\r\n\r\nIn Python &amp; PyCharm, when I ctrl+click on the ```print()``` function to &quot;Go To Declaration&quot; I don&#39;t see any actual code, only the method header... &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\nBut In Java &amp; IntelliJ Ultimate, when I ctrl+click on the ```System.out.printlin()``` method to &quot;Go To Declaration&quot; I do see all the actual code. &lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\nSo is it even possible to set up python/PyCharm IDEA to allow for the whole method body to be shown like it does in the Java picture? Or is there something I&#39;m misunderstanding about Python that doesn&#39;t allow for this kind of capability. \r\n\r\n  [1]: https://i.stack.imgur.com/aB3BC.png\r\n  [2]: https://i.stack.imgur.com/GZqFb.png","title":"In PyCharm, ctrl+click on a method takes you to that methods declaration but for print() &amp; other methods I only see the method header, but no body","body":"<p>I'm a Java programmer, trying to set up my python/PyCharm IDEA environment and there is a feature that I love in Java/IntelliJ where I can ctrl+click a method like println in <code>System.out.println()</code> and it will take me to the <code>println()</code> method declaration where <strong>I can see the &quot;method body&quot;</strong> as well. And for python/PyCharm it does the same thing, except, the <strong>&quot;method body&quot; isn't shown</strong>. I have 2 pics to show what I'm talking about:</p>\n<p>In Python &amp; PyCharm, when I ctrl+click on the <code>print()</code> function to &quot;Go To Declaration&quot; I don't see any actual code, only the method header... <br>\n<a href=\"https://i.stack.imgur.com/aB3BC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aB3BC.png\" alt=\"enter image description here\" /></a></p>\n<p>But In Java &amp; IntelliJ Ultimate, when I ctrl+click on the <code>System.out.printlin()</code> method to &quot;Go To Declaration&quot; I do see all the actual code. <br>\n<a href=\"https://i.stack.imgur.com/GZqFb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GZqFb.png\" alt=\"enter image description here\" /></a></p>\n<p>So is it even possible to set up python/PyCharm IDEA to allow for the whole method body to be shown like it does in the Java picture? Or is there something I'm misunderstanding about Python that doesn't allow for this kind of capability.</p>\n"},{"tags":["java","android","mobile","mobile-development"],"answers":[{"tags":[],"owner":{"account_id":19267933,"reputation":316,"user_id":14082516,"display_name":"Marvin Stelter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697049161,"creation_date":1697049161,"answer_id":77275590,"question_id":77275444,"body_markdown":"Maybe I don&#39;t understand your question correctly but you could display it in the activity which holds the other fragments for the different pages. Then It would be there even if your change the other fragments.","title":"How Can I Create Android Java In-App Notification?","body":"<p>Maybe I don't understand your question correctly but you could display it in the activity which holds the other fragments for the different pages. Then It would be there even if your change the other fragments.</p>\n"}],"owner":{"account_id":23745164,"reputation":13,"user_id":17762680,"display_name":"KZMKBL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77275590,"answer_count":1,"score":0,"last_activity_date":1697050245,"creation_date":1697047763,"question_id":77275444,"body_markdown":"I use Android java. \r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qIbSy.png\r\n\r\nFor example: I have a notification like this when navigating within the app. It is independent from Android notifications, like within the instagram and within the twitter.\r\n\r\nLet&#39;s assume that normally the display time of this notification is 3 seconds. I am in activity A, if I go to activity B when the notification arrives, the notification disappears from the screen before it expires. So I can&#39;t keep this notification live on the screen as I move between activities. It will disappear before it expires. \r\n\r\nWhat will I do to not lose this fragment while navigating between activities. And what will I do to make it work on each activity. I have no idea about this, I am looking for a way.\r\n\r\nRight now it only works correctly when the notification comes when I am in the current activity, but as soon as I move to another activity it disappears.\r\n\r\n","title":"How Can I Create Android Java In-App Notification?","body":"<p>I use Android java.</p>\n<p><a href=\"https://i.stack.imgur.com/qIbSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qIbSy.png\" alt=\"\" /></a></p>\n<p>For example: I have a notification like this when navigating within the app. It is independent from Android notifications, like within the instagram and within the twitter.</p>\n<p>Let's assume that normally the display time of this notification is 3 seconds. I am in activity A, if I go to activity B when the notification arrives, the notification disappears from the screen before it expires. So I can't keep this notification live on the screen as I move between activities. It will disappear before it expires.</p>\n<p>What will I do to not lose this fragment while navigating between activities. And what will I do to make it work on each activity. I have no idea about this, I am looking for a way.</p>\n<p>Right now it only works correctly when the notification comes when I am in the current activity, but as soon as I move to another activity it disappears.</p>\n"},{"tags":["java","swing","parent","jmenuitem"],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697049839,"creation_date":1697048869,"answer_id":77275562,"question_id":77275561,"body_markdown":"I changed it to print the parent of the menu item:\r\n\r\n    testItem.addActionListener(e -&gt;System.out.println(testItem.getParent().getClass().getSimpleName()));\r\n\r\nIt prints &quot;JPopupMenu&quot; rather than &quot;JMenu&quot;, which means that `testMenu` is not the parent of `testMenuItem`. However, if you cast the parent class and call [`JPopupMenu#getInvoker`][1], it will return the JMenu.\r\n\r\nWith this in mind, I created the following method:\r\n\r\n\tprivate static Window getWindowAncestor(JMenuItem item) {\r\n\t\tContainer parent = item.getParent();\r\n\t\tif (parent instanceof JPopupMenu)\r\n\t\t\treturn SwingUtilities.getWindowAncestor(((JPopupMenu) parent).getInvoker());\r\n\t\telse if (parent instanceof Window)\r\n\t\t\treturn (Window) parent;\r\n\t\telse\r\n\t\t\treturn SwingUtilities.getWindowAncestor(parent);\r\n\t}\r\n\r\nIt works :)\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/JPopupMenu.html#getInvoker--","title":"Get the Window for a JMenuItem?","body":"<p>I changed it to print the parent of the menu item:</p>\n<pre><code>testItem.addActionListener(e -&gt;System.out.println(testItem.getParent().getClass().getSimpleName()));\n</code></pre>\n<p>It prints &quot;JPopupMenu&quot; rather than &quot;JMenu&quot;, which means that <code>testMenu</code> is not the parent of <code>testMenuItem</code>. However, if you cast the parent class and call <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JPopupMenu.html#getInvoker--\" rel=\"nofollow noreferrer\"><code>JPopupMenu#getInvoker</code></a>, it will return the JMenu.</p>\n<p>With this in mind, I created the following method:</p>\n<pre><code>private static Window getWindowAncestor(JMenuItem item) {\n    Container parent = item.getParent();\n    if (parent instanceof JPopupMenu)\n        return SwingUtilities.getWindowAncestor(((JPopupMenu) parent).getInvoker());\n    else if (parent instanceof Window)\n        return (Window) parent;\n    else\n        return SwingUtilities.getWindowAncestor(parent);\n}\n</code></pre>\n<p>It works :)</p>\n"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77275562,"answer_count":1,"score":0,"last_activity_date":1697049839,"creation_date":1697048869,"question_id":77275561,"body_markdown":"Is there a way to get the Window which a `JMenuItem` belongs to? I tried this proof of-concept:\r\n\r\n\tJFrame testFrame = new JFrame();\r\n\ttestFrame.setSize(300, 100);\r\n\ttestFrame.setLocationRelativeTo(null);\r\n\r\n\tJMenuBar testBar = new JMenuBar();\r\n\tJMenu testMenu = new JMenu(&quot;Test&quot;);\r\n\tJMenuItem testItem = new JMenuItem(&quot;Parent Test&quot;);\r\n\r\n\ttestItem.addActionListener(e -&gt; {\r\n\t\tSystem.out.println(&quot;Has Top Level Ancestor: &quot; + (testItem.getTopLevelAncestor() != null));\r\n\t\tSystem.out.println(&quot;Has Window Ancestor: &quot; + (SwingUtilities.getWindowAncestor(testItem) != null));\r\n\t});\r\n\r\n\ttestBar.add(testMenu);\r\n\ttestMenu.add(testItem);\r\n\r\n\ttestFrame.setJMenuBar(testBar);\r\n\ttestFrame.setVisible(true);\r\n\r\nThe output was:\r\n\r\n    Has Top Level Ancestor: false\r\n    Has Window Ancestor: false","title":"Get the Window for a JMenuItem?","body":"<p>Is there a way to get the Window which a <code>JMenuItem</code> belongs to? I tried this proof of-concept:</p>\n<pre><code>JFrame testFrame = new JFrame();\ntestFrame.setSize(300, 100);\ntestFrame.setLocationRelativeTo(null);\n\nJMenuBar testBar = new JMenuBar();\nJMenu testMenu = new JMenu(&quot;Test&quot;);\nJMenuItem testItem = new JMenuItem(&quot;Parent Test&quot;);\n\ntestItem.addActionListener(e -&gt; {\n    System.out.println(&quot;Has Top Level Ancestor: &quot; + (testItem.getTopLevelAncestor() != null));\n    System.out.println(&quot;Has Window Ancestor: &quot; + (SwingUtilities.getWindowAncestor(testItem) != null));\n});\n\ntestBar.add(testMenu);\ntestMenu.add(testItem);\n\ntestFrame.setJMenuBar(testBar);\ntestFrame.setVisible(true);\n</code></pre>\n<p>The output was:</p>\n<pre><code>Has Top Level Ancestor: false\nHas Window Ancestor: false\n</code></pre>\n"},{"tags":["java","migration","cucumber"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1697014284,"post_id":77271500,"comment_id":136224885,"body_markdown":"Did you try checking the Cucumber documentation? It&#39;s most likely mentioned in one of the release note documents in any of the 5 (!) major versions you skipped.","body":"Did you try checking the Cucumber documentation? It&#39;s most likely mentioned in one of the release note documents in any of the 5 (!) major versions you skipped."},{"owner":{"account_id":29646653,"reputation":3,"user_id":22721515,"display_name":"Jo&#227;o Manoel Pampanini Filho"},"score":0,"creation_date":1697014797,"post_id":77271500,"comment_id":136224982,"body_markdown":"They removed it on 3 and there is just a note saying that they are not providing a migration guide :)","body":"They removed it on 3 and there is just a note saying that they are not providing a migration guide :)"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697014990,"creation_date":1697014990,"answer_id":77271637,"question_id":77271500,"body_markdown":"The [3.0 release post](https://cucumber.io/blog/open-source/announcing-cucumber-jvm-3-0-0/) says:\r\n\r\n&gt; (...) @Transformer (...) from XStream will no longer work. These must be replaced by DataTableType or ParameterType\r\n\r\nIn other words, you&#39;ll have to replace that feature with something else. It&#39;s just no longer supported by Cucumber.","title":"Migrating Transformer from cucumber 2 to cucumber 7","body":"<p>The <a href=\"https://cucumber.io/blog/open-source/announcing-cucumber-jvm-3-0-0/\" rel=\"nofollow noreferrer\">3.0 release post</a> says:</p>\n<blockquote>\n<p>(...) @Transformer (...) from XStream will no longer work. These must be replaced by DataTableType or ParameterType</p>\n</blockquote>\n<p>In other words, you'll have to replace that feature with something else. It's just no longer supported by Cucumber.</p>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697049630,"creation_date":1697049630,"answer_id":77275631,"question_id":77271500,"body_markdown":"By now it is possible to use `Optional&lt;String&gt;` without any custom code.\r\n\r\n```java\r\n  @And(&quot;^Some ?(not)? step?$&quot;)\r\n  public void someStep(Optional&lt;String&gt; example){\r\n    System.out.println(example);\r\n  }\r\n```\r\n\r\nWill print either `Optional.empty` or `Optional[not]`.","title":"Migrating Transformer from cucumber 2 to cucumber 7","body":"<p>By now it is possible to use <code>Optional&lt;String&gt;</code> without any custom code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @And(&quot;^Some ?(not)? step?$&quot;)\n  public void someStep(Optional&lt;String&gt; example){\n    System.out.println(example);\n  }\n</code></pre>\n<p>Will print either <code>Optional.empty</code> or <code>Optional[not]</code>.</p>\n"}],"owner":{"account_id":29646653,"reputation":3,"user_id":22721515,"display_name":"Jo&#227;o Manoel Pampanini Filho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77275631,"answer_count":2,"score":0,"last_activity_date":1697049630,"creation_date":1697013811,"question_id":77271500,"body_markdown":"I have a task here to upgrade from cucumber 2 to 7 and I managed to find everything but not how to migrate `Transformer` and `@Transform` code like bellow one:\r\n\r\n\r\n```\r\nimport cucumber.api.Transformer;\r\nimport cucumber.runtime.java.guice.ScenarioScoped;\r\nimport java.util.Optional;\r\n\r\npublic class OptionalStringTransformer extends Transformer&lt;Optional&lt;String&gt;&gt; {\r\n    @Override\r\n    public Optional&lt;String&gt; transform(String s) {\r\n        return Optional.ofNullable(s);\r\n    }\r\n}\r\n\r\n@ScenarioScoped\r\npublic class StepDefinitions {\r\n    @And(&quot;^Some ?(not)? step?$&quot;)\r\n    public void someStep(@Transform(OptionalStringTransformer.class) Optional&lt;String&gt; example){\r\n        // Step code\r\n    }\r\n}\r\n```\r\n\r\nAnyone know how to do it?","title":"Migrating Transformer from cucumber 2 to cucumber 7","body":"<p>I have a task here to upgrade from cucumber 2 to 7 and I managed to find everything but not how to migrate <code>Transformer</code> and <code>@Transform</code> code like bellow one:</p>\n<pre><code>import cucumber.api.Transformer;\nimport cucumber.runtime.java.guice.ScenarioScoped;\nimport java.util.Optional;\n\npublic class OptionalStringTransformer extends Transformer&lt;Optional&lt;String&gt;&gt; {\n    @Override\n    public Optional&lt;String&gt; transform(String s) {\n        return Optional.ofNullable(s);\n    }\n}\n\n@ScenarioScoped\npublic class StepDefinitions {\n    @And(&quot;^Some ?(not)? step?$&quot;)\n    public void someStep(@Transform(OptionalStringTransformer.class) Optional&lt;String&gt; example){\n        // Step code\n    }\n}\n</code></pre>\n<p>Anyone know how to do it?</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1697049070,"post_id":77275221,"comment_id":136231806,"body_markdown":"I recommend debugging the code you shared locally and telling us the results of that. So: If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"I recommend debugging the code you shared locally and telling us the results of that. So: If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1697049076,"post_id":77275221,"comment_id":136231809,"body_markdown":"The Android docs have a great page on [debugging your app](https://developer.android.com/studio/debug) to get you started with, including the section on [working with breakpoints](https://developer.android.com/studio/debug#breakPoints) and [inspecting varialbles](https://developer.android.com/studio/debug#variablesAndWatches).","body":"The Android docs have a great page on <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">debugging your app</a> to get you started with, including the section on <a href=\"https://developer.android.com/studio/debug#breakPoints\" rel=\"nofollow noreferrer\">working with breakpoints</a> and <a href=\"https://developer.android.com/studio/debug#variablesAndWatches\" rel=\"nofollow noreferrer\">inspecting varialbles</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1697091371,"post_id":77275221,"comment_id":136236204,"body_markdown":"Have you tried to attach a listener to the `setValue()` operation, to see if something went wrong? Please respond using @AlexMamo","body":"Have you tried to attach a listener to the <code>setValue()</code> operation, to see if something went wrong? Please respond using @AlexMamo"}],"owner":{"account_id":26984480,"reputation":1,"user_id":20548352,"display_name":"dioscuri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697049025,"creation_date":1697045475,"question_id":77275221,"body_markdown":"I&#39;m making an app and I&#39;m trying to store data in Firebase Authentication and Realtime Database with Android Studio. However, the data I&#39;m saving to Realtime database doesn&#39;t get saved.\r\n\r\n```\r\nmAuth = FirebaseAuth.getInstance();\r\n\r\ndb = FirebaseDatabase.getInstance();\r\nreference = db.getReference(&quot;Users&quot;);\r\n\r\nbutton_Register.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        email = binding.email.getText().toString();\r\n        password = binding.password.getText().toString();\r\n        firstName = binding.firstName.getText().toString();\r\n        lastName = binding.lastName.getText().toString();\r\n        userName = binding.username.getText().toString();\r\n        progressBar.setVisibility(View.VISIBLE);\r\n\r\n        if (TextUtils.isEmpty(email) || TextUtils.isEmpty(password) || TextUtils.isEmpty(firstName) || TextUtils.isEmpty(lastName) || TextUtils.isEmpty(userName)) {\r\n            Toast.makeText(Register.this, &quot;Please fill in all fields&quot;, Toast.LENGTH_SHORT).show();\r\n            progressBar.setVisibility(View.GONE);\r\n            return;\r\n        }\r\n\r\n        // Create a new user with email and password using Firebase Authentication\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(Register.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        progressBar.setVisibility(View.GONE);\r\n                        if (task.isSuccessful()) {\r\n                            // User registration successful\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n                            Log.d(&quot;class&quot;, &quot;class&quot;);\r\n                            // Save the user&#39;s additional information to Firebase Realtime Database\r\n                            Users userData = new Users(email, password, firstName, lastName, birthday, userName);\r\n                            reference.child(userName).setValue(userData);\r\n\r\n                            Toast.makeText(Register.this, &quot;Account Created&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                            // Clear input fields\r\n                            binding.firstName.setText(&quot;&quot;);\r\n                            binding.lastName.setText(&quot;&quot;);\r\n                            binding.username.setText(&quot;&quot;);\r\n                            binding.email.setText(&quot;&quot;);\r\n                            binding.password.setText(&quot;&quot;);\r\n\r\n                            // Redirect to the main activity or any other desired activity\r\n                            Intent intent = new Intent(Register.this, MainActivity.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        } else {\r\n                            // If sign-up fails, display an error message\r\n                            Toast.makeText(Register.this, &quot;Registration failed: &quot; + task.getException().getMessage(),\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n});\r\n```\r\n\r\nThe realtime database data doesn&#39;t get stored only the Firebase authentication. There&#39;s no explicit error from Logcat.","title":"Data is not being saved in Firebase","body":"<p>I'm making an app and I'm trying to store data in Firebase Authentication and Realtime Database with Android Studio. However, the data I'm saving to Realtime database doesn't get saved.</p>\n<pre><code>mAuth = FirebaseAuth.getInstance();\n\ndb = FirebaseDatabase.getInstance();\nreference = db.getReference(&quot;Users&quot;);\n\nbutton_Register.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        email = binding.email.getText().toString();\n        password = binding.password.getText().toString();\n        firstName = binding.firstName.getText().toString();\n        lastName = binding.lastName.getText().toString();\n        userName = binding.username.getText().toString();\n        progressBar.setVisibility(View.VISIBLE);\n\n        if (TextUtils.isEmpty(email) || TextUtils.isEmpty(password) || TextUtils.isEmpty(firstName) || TextUtils.isEmpty(lastName) || TextUtils.isEmpty(userName)) {\n            Toast.makeText(Register.this, &quot;Please fill in all fields&quot;, Toast.LENGTH_SHORT).show();\n            progressBar.setVisibility(View.GONE);\n            return;\n        }\n\n        // Create a new user with email and password using Firebase Authentication\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(Register.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        progressBar.setVisibility(View.GONE);\n                        if (task.isSuccessful()) {\n                            // User registration successful\n                            FirebaseUser user = mAuth.getCurrentUser();\n\n                            Log.d(&quot;class&quot;, &quot;class&quot;);\n                            // Save the user's additional information to Firebase Realtime Database\n                            Users userData = new Users(email, password, firstName, lastName, birthday, userName);\n                            reference.child(userName).setValue(userData);\n\n                            Toast.makeText(Register.this, &quot;Account Created&quot;, Toast.LENGTH_SHORT).show();\n\n                            // Clear input fields\n                            binding.firstName.setText(&quot;&quot;);\n                            binding.lastName.setText(&quot;&quot;);\n                            binding.username.setText(&quot;&quot;);\n                            binding.email.setText(&quot;&quot;);\n                            binding.password.setText(&quot;&quot;);\n\n                            // Redirect to the main activity or any other desired activity\n                            Intent intent = new Intent(Register.this, MainActivity.class);\n                            startActivity(intent);\n                            finish();\n                        } else {\n                            // If sign-up fails, display an error message\n                            Toast.makeText(Register.this, &quot;Registration failed: &quot; + task.getException().getMessage(),\n                                    Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n    }\n});\n</code></pre>\n<p>The realtime database data doesn't get stored only the Firebase authentication. There's no explicit error from Logcat.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":19174433,"reputation":31,"user_id":14007429,"display_name":"Sethu pandiaraja"},"score":0,"creation_date":1595917757,"post_id":63128209,"comment_id":111631621,"body_markdown":"I need help desperately as I need to join an Organization in which Spring-boot-data-jpa is  being used in their project. I appreciate help urgently.","body":"I need help desperately as I need to join an Organization in which Spring-boot-data-jpa is  being used in their project. I appreciate help urgently."},{"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"score":0,"creation_date":1684789449,"post_id":63128209,"comment_id":134565553,"body_markdown":"This looks like a bug. Is there any reference with springboot project?","body":"This looks like a bug. Is there any reference with springboot project?"}],"answers":[{"tags":[],"owner":{"account_id":18955614,"reputation":192,"user_id":13832267,"display_name":"karthick M"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1595919450,"creation_date":1595919061,"answer_id":63128501,"question_id":63128209,"body_markdown":"In your Service class, replace below \r\n\r\n     @Autowired\r\n     private H2Repository&lt;City&gt; h2repository;\r\n\r\nwith \r\n\r\n     @Autowired\r\n     private H2Repository h2repository;\r\n\r\n\r\n\r\nAnd also your repository interface, replace below\r\n\r\n     public interface H2Repository&lt;City&gt; extends CrudRepository&lt;City, Long&gt;\r\nwith\r\n\r\n     public interface H2Repository extends CrudRepository&lt;City, Long&gt;\r\n\r\n","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>In your Service class, replace below</p>\n<pre><code> @Autowired\n private H2Repository&lt;City&gt; h2repository;\n</code></pre>\n<p>with</p>\n<pre><code> @Autowired\n private H2Repository h2repository;\n</code></pre>\n<p>And also your repository interface, replace below</p>\n<pre><code> public interface H2Repository&lt;City&gt; extends CrudRepository&lt;City, Long&gt;\n</code></pre>\n<p>with</p>\n<pre><code> public interface H2Repository extends CrudRepository&lt;City, Long&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19161079,"reputation":91,"user_id":13996841,"display_name":"syntax"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1630701500,"creation_date":1595919873,"answer_id":63128695,"question_id":63128209,"body_markdown":"Do not need the component scan if you have your main class at the top of the structure, also not need \r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;com.example.repository&quot;) as well in the Boot application class.\r\n\r\nonly need \r\n    @SpringBootApplication in your main class.\r\n\r\nHERE NOT FOLLOWING DEFAULT STRUCTURE OF SPRING\r\n\r\nuse the \r\n    @ComponentScan(basePackages = {&quot;com.example&quot;}) \r\n\r\ntry this following code:\r\n \r\n    @SpringBootApplication   \r\n    @EnableAutoConfiguration\r\n    @ComponentScan(basePackages={&quot;&lt;base package name&gt;&quot;})\r\n    @EnableJpaRepositories(basePackages=&quot;&lt;repository package name&gt;&quot;)\r\n    @EnableTransactionManagement\r\n    @EntityScan(basePackages=&quot;&lt;entity package name&gt;&quot;)\r\n\r\n\r\n\r\n","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>Do not need the component scan if you have your main class at the top of the structure, also not need</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan(&quot;com.example.repository&quot;) as well in the Boot application class.\n</code></pre>\n<p>only need\n@SpringBootApplication in your main class.</p>\n<p>HERE NOT FOLLOWING DEFAULT STRUCTURE OF SPRING</p>\n<p>use the\n@ComponentScan(basePackages = {&quot;com.example&quot;})</p>\n<p>try this following code:</p>\n<pre><code>@SpringBootApplication   \n@EnableAutoConfiguration\n@ComponentScan(basePackages={&quot;&lt;base package name&gt;&quot;})\n@EnableJpaRepositories(basePackages=&quot;&lt;repository package name&gt;&quot;)\n@EnableTransactionManagement\n@EntityScan(basePackages=&quot;&lt;entity package name&gt;&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21554197,"reputation":27,"user_id":15889775,"display_name":"Sajan Alex"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1620673562,"creation_date":1620673562,"answer_id":67476304,"question_id":63128209,"body_markdown":"I could solve this issue by selecting the right java version, dependencies in pom.xml, application.properties and made sure the SQL server is running.","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>I could solve this issue by selecting the right java version, dependencies in pom.xml, application.properties and made sure the SQL server is running.</p>\n"},{"tags":[],"owner":{"account_id":17911993,"reputation":1,"user_id":13013881,"display_name":"James Vercetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697048381,"creation_date":1697048381,"answer_id":77275503,"question_id":63128209,"body_markdown":"This may also be a consequence of incorrect placement of the Entity class. Look in which folder the other Entity classes are located.","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>This may also be a consequence of incorrect placement of the Entity class. Look in which folder the other Entity classes are located.</p>\n"}],"owner":{"account_id":19174433,"reputation":31,"user_id":14007429,"display_name":"Sethu pandiaraja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47944,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1697048381,"creation_date":1595917646,"question_id":63128209,"body_markdown":"I have referred many stackoverflow questions similar to this. I have tried all the solutions provided and the suggestions. But keeps giving the error due to non-detection of @Autowired of Repository class irrespective of its definition in @EnableJpaRepositories in the Boot application file. I have tried using\r\n    \r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;com.example.repository&quot;) as well in the Boot application class. \r\n    Nothing seems to resolve the error. \r\n    \r\n    Desperately seeking help from anyone who can find out what am I doing wrong. Please help me out. I have been trying to find on the internet and tried on my own. But still no luck and I have not been patient for the past two days because of this.\r\n    \r\n    I want to resolve this and get ready to get a job using spring-boot-starter-data-jpa in their project. So please help.\r\n    \r\n    ===============================================================================\r\n    \r\n        enter code here\r\n    \r\n    folder structure\r\n    src-&gt;main-&gt;java-&gt;com\r\n      - ApplicationDataSource.java\r\n    src-&gt;main-&gt;java-&gt;com-&gt;example-&gt;controller\r\n      - H2Controller.java\r\n    src-&gt;main-&gt;java-&gt;com-&gt;example-&gt;service\r\n      - H2Service.java\r\n    src-&gt;main-&gt;java-&gt;com-&gt;example-&gt;repository\r\n      - H2Repository.java\r\n    -------------------------------------------\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;h2sample&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;h2sample&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;9.0.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;com.jolbox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bonecp&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \r\n    ---------------------------------------------------\r\n    \r\n        \r\n    \r\n    package com;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import com.example.repository.H2Repository;\r\n    import com.example.repository.City;\r\n    \r\n    \r\n    /*\r\n     * @Configuration\r\n     * \r\n     * @EnableAutoConfiguration\r\n     * \r\n     * @ComponentScan(&quot;com.example.h2sample&quot;)\r\n     */\r\n    \r\n    @SpringBootApplication(scanBasePackages= {&quot;com.example.controller&quot;,&quot;com.example.service&quot;})\r\n    @EnableJpaRepositories(&quot;com.example.repository&quot;)\r\n    public class H2sampleApplication {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(H2sampleApplication.class, args);\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n    --------------------\r\n    \r\n    \r\n    \r\n    \r\n    package com.example.controller;\r\n    \r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import com.example.service.H2Service;\r\n    \r\n    @RestController\r\n    public class H2Controller {\r\n    \t\r\n    \t\r\n    \t@Autowired\r\n    \tprivate H2Service h2service;\r\n    \t\t\r\n    \t@GetMapping(value=&quot;/testh2&quot;)\r\n    \tpublic String testh2() {\r\n    \t\t\r\n    \t\treturn &quot;Hi Test &quot;+h2service.getH2Service();\r\n    \t}\r\n    \r\n    }\r\n    \r\n    -------------------------------------------\r\n    \r\n    \r\n    \r\n    \r\n    package com.example.service;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import com.example.repository.H2Repository;\r\n    import com.example.repository.City;\r\n    \r\n    \r\n    \r\n    \r\n    @Service\r\n    public class H2Service {\r\n    \t\r\n    \t\r\n    \t\r\n    \t @Autowired\r\n    \t private H2Repository&lt;City&gt; h2repository;\r\n    \t\t\r\n    \t\r\n    \tpublic String getH2Service() {\r\n    \t\t\r\n    \t\tSystem.out.println(h2repository.findAll());\r\n    \t\treturn &quot; from Service&quot;;\r\n    \t}\r\n    }\r\n    \r\n    --------------------------------------\r\n    package com.example.repository;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.stereotype.Component;\r\n    import java.util.List;\r\n    \r\n    \r\n    public interface H2Repository&lt;City&gt; extends CrudRepository&lt;City, Long&gt; {\r\n    \t\r\n    \tpublic List&lt;City&gt; findAll();\r\n    \r\n    }\r\n    -----------------------------------------\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    package com.example.repository;\r\n    \r\n    import java.util.Objects;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;CITY&quot;)\r\n    public class City {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        private String name;\r\n        private int population;\r\n    \r\n        public Long getId() {\r\n    \r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n    \r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n    \r\n            this.name = name;\r\n        }\r\n    \r\n        public int getPopulation() {\r\n    \r\n            return population;\r\n        }\r\n    \r\n        public void setPopulation(int population) {\r\n    \r\n            this.population = population;\r\n        }\r\n        \r\n    }\r\n    \r\n    ===================================================================\r\n    \r\n    server.servlet.context-path=/h2\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:./test-db\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.show-sql=true\r\n\r\n    \r\n    \r\n    Error\r\n    ----\r\n    \r\n    H2Sample\\h2sample\\target\\classes started by Sethu in H:\\H2Sample\\h2sample)\r\n    2020-07-28 11:39:01.955  INFO 14236 --- [           main] com.H2sampleApplication                  : No active profile set, falling back to default profiles: default\r\n    2020-07-28 11:39:02.453  INFO 14236 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2020-07-28 11:39:02.511  INFO 14236 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 1 JPA repository interfaces.\r\n    2020-07-28 11:39:03.610  INFO 14236 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2020-07-28 11:39:03.624  INFO 14236 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2020-07-28 11:39:03.624  INFO 14236 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.37]\r\n    2020-07-28 11:39:03.754  INFO 14236 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/h2]     : Initializing Spring embedded WebApplicationContext\r\n    2020-07-28 11:39:03.755  INFO 14236 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1736 ms\r\n    2020-07-28 11:39:03.922  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2020-07-28 11:39:04.047  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2020-07-28 11:39:05.024  INFO 14236 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2020-07-28 11:39:05.072  INFO 14236 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.18.Final\r\n    2020-07-28 11:39:05.309  INFO 14236 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    2020-07-28 11:39:05.414  INFO 14236 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    Hibernate: drop table if exists city CASCADE\r\n    Hibernate: create table city (id bigint not null, name varchar(255), population integer not null, primary key (id))\r\n    2020-07-28 11:39:05.970  INFO 14236 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2020-07-28 11:39:05.980  INFO 14236 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2020-07-28 11:39:06.135  WARN 14236 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Controller&#39;: Unsatisfied dependency expressed through field &#39;h2service&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Service&#39;: Unsatisfied dependency expressed through field &#39;h2repository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h2Repository&#39; defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n    2020-07-28 11:39:06.136  INFO 14236 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2020-07-28 11:39:06.141  INFO 14236 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\n    Hibernate: drop table if exists city CASCADE\r\n    2020-07-28 11:39:06.150  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2020-07-28 11:39:06.188  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2020-07-28 11:39:06.194  INFO 14236 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2020-07-28 11:39:06.223  INFO 14236 --- [           main] ConditionEvaluationReportLoggingListener :\r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2020-07-28 11:39:06.255 ERROR 14236 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Controller&#39;: Unsatisfied dependency expressed through field &#39;h2service&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Service&#39;: Unsatisfied dependency expressed through field &#39;h2repository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h2Repository&#39; defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at com.H2sampleApplication.main(H2sampleApplication.java:28) [classes/:na]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;h2Service&#39;: Unsatisfied dependency expressed through field &#39;h2repository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h2Repository&#39; defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            ... 20 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h2Repository&#39; defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            ... 33 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n            at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.4.18.Final.jar:5.4.18.Final]\r\n            at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.4.18.Final.jar:5.4.18.Final]\r\n            at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:229) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:179) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:162) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:72) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:309) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n            ... 43 common frames omitted\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  9.079 s\r\n    [INFO] Finished at: 2020-07-28T11:39:06+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.2.RELEASE:run (default-cli) on project h2sample: Application finished with exit code: 1 -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    \r\n    --------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n\r\n","title":"@EnableJpaRepositories is not detecting or @Autowired of Repository is not detected anywhere in spring-boot application","body":"<p>I have referred many stackoverflow questions similar to this. I have tried all the solutions provided and the suggestions. But keeps giving the error due to non-detection of @Autowired of Repository class irrespective of its definition in @EnableJpaRepositories in the Boot application file. I have tried using</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan(&quot;com.example.repository&quot;) as well in the Boot application class. \nNothing seems to resolve the error. \n\nDesperately seeking help from anyone who can find out what am I doing wrong. Please help me out. I have been trying to find on the internet and tried on my own. But still no luck and I have not been patient for the past two days because of this.\n\nI want to resolve this and get ready to get a job using spring-boot-starter-data-jpa in their project. So please help.\n\n===============================================================================\n\n    enter code here\n\nfolder structure\nsrc-&gt;main-&gt;java-&gt;com\n  - ApplicationDataSource.java\nsrc-&gt;main-&gt;java-&gt;com-&gt;example-&gt;controller\n  - H2Controller.java\nsrc-&gt;main-&gt;java-&gt;com-&gt;example-&gt;service\n  - H2Service.java\nsrc-&gt;main-&gt;java-&gt;com-&gt;example-&gt;repository\n  - H2Repository.java\n-------------------------------------------\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;h2sample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;h2sample&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;9.0.10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jolbox&lt;/groupId&gt;\n            &lt;artifactId&gt;bonecp&lt;/artifactId&gt;\n            &lt;version&gt;0.8.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n---------------------------------------------------\n\n    \n\npackage com;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.example.repository.H2Repository;\nimport com.example.repository.City;\n\n\n/*\n * @Configuration\n * \n * @EnableAutoConfiguration\n * \n * @ComponentScan(&quot;com.example.h2sample&quot;)\n */\n\n@SpringBootApplication(scanBasePackages= {&quot;com.example.controller&quot;,&quot;com.example.service&quot;})\n@EnableJpaRepositories(&quot;com.example.repository&quot;)\npublic class H2sampleApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(H2sampleApplication.class, args);\n    }\n    \n    \n\n}\n--------------------\n\n\n\n\npackage com.example.controller;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.example.service.H2Service;\n\n@RestController\npublic class H2Controller {\n    \n    \n    @Autowired\n    private H2Service h2service;\n        \n    @GetMapping(value=&quot;/testh2&quot;)\n    public String testh2() {\n        \n        return &quot;Hi Test &quot;+h2service.getH2Service();\n    }\n\n}\n\n-------------------------------------------\n\n\n\n\npackage com.example.service;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport com.example.repository.H2Repository;\nimport com.example.repository.City;\n\n\n\n\n@Service\npublic class H2Service {\n    \n    \n    \n     @Autowired\n     private H2Repository&lt;City&gt; h2repository;\n        \n    \n    public String getH2Service() {\n        \n        System.out.println(h2repository.findAll());\n        return &quot; from Service&quot;;\n    }\n}\n\n--------------------------------------\npackage com.example.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.CrudRepository;\n\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Component;\nimport java.util.List;\n\n\npublic interface H2Repository&lt;City&gt; extends CrudRepository&lt;City, Long&gt; {\n    \n    public List&lt;City&gt; findAll();\n\n}\n-----------------------------------------\n\n\n\n\n\npackage com.example.repository;\n\nimport java.util.Objects;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n\n@Entity\n@Table(name = &quot;CITY&quot;)\npublic class City {\n\n    @Id\n    private Long id;\n\n    private String name;\n    private int population;\n\n    public Long getId() {\n\n        return id;\n    }\n\n    public void setId(Long id) {\n\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n\n        this.name = name;\n    }\n\n    public int getPopulation() {\n\n        return population;\n    }\n\n    public void setPopulation(int population) {\n\n        this.population = population;\n    }\n    \n}\n\n===================================================================\n\nserver.servlet.context-path=/h2\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:./test-db\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\n\n\n\nError\n----\n\nH2Sample\\h2sample\\target\\classes started by Sethu in H:\\H2Sample\\h2sample)\n2020-07-28 11:39:01.955  INFO 14236 --- [           main] com.H2sampleApplication                  : No active profile set, falling back to default profiles: default\n2020-07-28 11:39:02.453  INFO 14236 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-07-28 11:39:02.511  INFO 14236 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 1 JPA repository interfaces.\n2020-07-28 11:39:03.610  INFO 14236 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-07-28 11:39:03.624  INFO 14236 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-07-28 11:39:03.624  INFO 14236 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.37]\n2020-07-28 11:39:03.754  INFO 14236 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/h2]     : Initializing Spring embedded WebApplicationContext\n2020-07-28 11:39:03.755  INFO 14236 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1736 ms\n2020-07-28 11:39:03.922  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2020-07-28 11:39:04.047  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2020-07-28 11:39:05.024  INFO 14236 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2020-07-28 11:39:05.072  INFO 14236 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.18.Final\n2020-07-28 11:39:05.309  INFO 14236 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2020-07-28 11:39:05.414  INFO 14236 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\nHibernate: drop table if exists city CASCADE\nHibernate: create table city (id bigint not null, name varchar(255), population integer not null, primary key (id))\n2020-07-28 11:39:05.970  INFO 14236 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2020-07-28 11:39:05.980  INFO 14236 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2020-07-28 11:39:06.135  WARN 14236 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Controller': Unsatisfied dependency expressed through field 'h2service'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Service': Unsatisfied dependency expressed through field 'h2repository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h2Repository' defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n2020-07-28 11:39:06.136  INFO 14236 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2020-07-28 11:39:06.141  INFO 14236 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\nHibernate: drop table if exists city CASCADE\n2020-07-28 11:39:06.150  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2020-07-28 11:39:06.188  INFO 14236 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2020-07-28 11:39:06.194  INFO 14236 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2020-07-28 11:39:06.223  INFO 14236 --- [           main] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2020-07-28 11:39:06.255 ERROR 14236 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Controller': Unsatisfied dependency expressed through field 'h2service'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Service': Unsatisfied dependency expressed through field 'h2repository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h2Repository' defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at com.H2sampleApplication.main(H2sampleApplication.java:28) [classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'h2Service': Unsatisfied dependency expressed through field 'h2repository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h2Repository' defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        ... 20 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h2Repository' defined in com.example.repository.H2Repository defined in @EnableJpaRepositories declared on H2sampleApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        ... 33 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n        at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.4.18.Final.jar:5.4.18.Final]\n        at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.4.18.Final.jar:5.4.18.Final]\n        at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:229) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:179) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:162) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:72) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:309) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        ... 43 common frames omitted\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  9.079 s\n[INFO] Finished at: 2020-07-28T11:39:06+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.3.2.RELEASE:run (default-cli) on project h2sample: Application finished with exit code: 1 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n--------------------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":258438,"reputation":355,"user_id":540624,"display_name":"wmkoch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697048260,"creation_date":1696949819,"answer_id":77266891,"question_id":77264388,"body_markdown":"I believe the key here is the paths specified in `.requestMatchers(...)` refer to the HTTP request&#39;s path, not the path on the filesystem.\r\n\r\nYou&#39;ll notice the request shown from the browser is to `/index.html`, which is not specified in the list of ignored request matchers in the `webSecurityCustomizer` bean. [This answer from Andy Wilkinson][1] goes into more detail.\r\n\r\nModifying the bean to:\r\n```java\r\n@Bean\r\nWebSecurityCustomizer webSecurityCustomizer() {\r\n  return (web) -&gt; web.ignoring().requestMatchers(&quot;/index.html&quot;, &quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/images/**&quot;, &quot;/actuator/**&quot;);\r\n}\r\n```\r\nShould fix things.\r\n\r\nYou might also want to take Jib out of the equation while you&#39;re developing locally and just try running the application with `mvn spring-boot:run` or `./gradlew bootRun`. Then, once things are working, try doing the same with the Jib-built Docker image.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24920752/540624","title":"Spring boot app containerized with jib not serving static content","body":"<p>I believe the key here is the paths specified in <code>.requestMatchers(...)</code> refer to the HTTP request's path, not the path on the filesystem.</p>\n<p>You'll notice the request shown from the browser is to <code>/index.html</code>, which is not specified in the list of ignored request matchers in the <code>webSecurityCustomizer</code> bean. <a href=\"https://stackoverflow.com/a/24920752/540624\">This answer from Andy Wilkinson</a> goes into more detail.</p>\n<p>Modifying the bean to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nWebSecurityCustomizer webSecurityCustomizer() {\n  return (web) -&gt; web.ignoring().requestMatchers(&quot;/index.html&quot;, &quot;/js/**&quot;, &quot;/css/**&quot;, &quot;/images/**&quot;, &quot;/actuator/**&quot;);\n}\n</code></pre>\n<p>Should fix things.</p>\n<p>You might also want to take Jib out of the equation while you're developing locally and just try running the application with <code>mvn spring-boot:run</code> or <code>./gradlew bootRun</code>. Then, once things are working, try doing the same with the Jib-built Docker image.</p>\n"}],"owner":{"account_id":1338329,"reputation":649,"user_id":1280547,"display_name":"DocJones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77266891,"answer_count":1,"score":-1,"last_activity_date":1697048260,"creation_date":1696929173,"question_id":77264388,"body_markdown":"i have a mixed code container containing:\r\n* a java spring boot app (backend)\r\n* a vue.js app (frontend)\r\n\r\nthe container is being build using jib - the &#39;static&#39; content are deployed with a gradle copy job in the /app/resources/static directory. \r\nHere is the Layout:\r\n\r\n[![screenshot of dive][1]][1]\r\n\r\nThe backend is secured with spring security.\r\n\r\nThe frontend is excluded from spring security chain:\r\n\r\n[![bean configuration for frontend][2]][2]\r\n\r\nStarting the container and trying to access the index.html yields in a 401 &quot;Unauthorized&quot;:\r\n\r\n[![result from http-get][3]][3]\r\n\r\nI tried different things already (changing the static-path, modifying the security chain, ...) but i always get the same result. I am a bit lost and kindly request guidance :)\r\n\r\nRegards\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RwKXv.png\r\n  [2]: https://i.stack.imgur.com/gIDWM.png\r\n  [3]: https://i.stack.imgur.com/ELVKr.png","title":"Spring boot app containerized with jib not serving static content","body":"<p>i have a mixed code container containing:</p>\n<ul>\n<li>a java spring boot app (backend)</li>\n<li>a vue.js app (frontend)</li>\n</ul>\n<p>the container is being build using jib - the 'static' content are deployed with a gradle copy job in the /app/resources/static directory.\nHere is the Layout:</p>\n<p><a href=\"https://i.stack.imgur.com/RwKXv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RwKXv.png\" alt=\"screenshot of dive\" /></a></p>\n<p>The backend is secured with spring security.</p>\n<p>The frontend is excluded from spring security chain:</p>\n<p><a href=\"https://i.stack.imgur.com/gIDWM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gIDWM.png\" alt=\"bean configuration for frontend\" /></a></p>\n<p>Starting the container and trying to access the index.html yields in a 401 &quot;Unauthorized&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/ELVKr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELVKr.png\" alt=\"result from http-get\" /></a></p>\n<p>I tried different things already (changing the static-path, modifying the security chain, ...) but i always get the same result. I am a bit lost and kindly request guidance :)</p>\n<p>Regards</p>\n"},{"tags":["java","spring","spring-boot","spring-el"],"owner":{"account_id":27416536,"reputation":1,"user_id":20915599,"display_name":"aidanquist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697047916,"creation_date":1697047916,"question_id":77275461,"body_markdown":"I am trying to create a custom annotatin that will grab the parameter from a function based on the name provided. \r\nFor example: \r\n\r\n```\r\n@AuthzPreAuthorize(filterType = &quot;CUSTOMER_NUMBER&quot;, filterKey = &quot;#objectId&quot;, filterRole = &quot;role&quot;)\r\n    public ComplexOrder findComplexOrderPre(String objectId){}\r\n```\r\nshould get the objectId parameter and pass it into the annotation before the function runs. The problem I am running into is when I try to parse the expression &quot;#objectId&quot; \r\n`Expression expFilterKeyName = parser.parseExpression(expression);\r\n String objectId = expFilterKeyName.getValue(String.class);`\r\nobjectId is always null. \r\n\r\nHow do I pass objectId into the annotation with SPeL? I know using `args[0]` would work but I need this annotation to work with multiple methods that I don&#39;t know the parameters to. I have also tried doing approaches similar answers in https://stackoverflow.com/questions/53822544/get-dynamic-parameter-referenced-in-annotation-by-using-spring-spel-expression and https://stackoverflow.com/questions/3281978/can-we-use-spring-expressions-spel-in-other-annotations but have not been sucessful.\r\n\r\nMy annotation aspect class:\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class AuthzPreAuthorizeAspect {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(AuthzPreAuthorize.class);\r\n\r\n    private final SpelExpressionParser parser = new SpelExpressionParser();\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n\r\n    @Before(value = &quot;execution(* *(..)) &amp;&amp; @annotation(authzPreAuthorize)&quot;)\r\n    public void authzPreAuthorize(JoinPoint joinPoint, AuthzPreAuthorize authzPreAuthorize) throws Throwable {\r\n        // Get the method arguments from the joinPoint\r\n        Object[] args = joinPoint.getArgs();\r\n\r\n        // Log the SpEL expression for debugging\r\n        String expression = &quot;#objectId&quot;; //for testing\r\n        //String expression = authzPreAuthorize.filterKey();\r\n        logger.info(&quot;SpEL Expression: &quot; + expression);\r\n\r\n        Expression expFilterKeyName = parser.parseExpression(expression);\r\n        String objectId = expFilterKeyName.getValue(String.class);\r\n\r\n        logger.info(&quot;objectId: &quot; + objectId);\r\n        //do stuff with objectId...\r\n    }\r\n```\r\n\r\n\r\nMy service class where I call the annotation from (objectId is &quot;100004545&quot;):\r\n\r\n```\r\n    @AuthzPreAuthorize(filterType = &quot;CUSTOMER_NUMBER&quot;, filterKey = &quot;#objectId&quot;, filterRole = &quot;&#39;com.gfs:order.access&#39;&quot;)\r\n    public ComplexOrder findComplexOrderPre(String objectId){\r\n        return new ComplexOrder(2.7, new Address(&quot;40000 main st&quot;, &quot;NY&quot;, 55555), new Customer(objectId, &quot;unit&quot;, &quot;role&quot;));\r\n    }\r\n```\r\n\r\n\r\nI am expecting to get objectId in my annotation to be &quot;100004545&quot;. I know using `args[0]` would work but I need this annotation to work with multiple methods that I don&#39;t know the parameters to.","title":"Get parameter in custom annotation using SPeL","body":"<p>I am trying to create a custom annotatin that will grab the parameter from a function based on the name provided.\nFor example:</p>\n<pre><code>@AuthzPreAuthorize(filterType = &quot;CUSTOMER_NUMBER&quot;, filterKey = &quot;#objectId&quot;, filterRole = &quot;role&quot;)\n    public ComplexOrder findComplexOrderPre(String objectId){}\n</code></pre>\n<p>should get the objectId parameter and pass it into the annotation before the function runs. The problem I am running into is when I try to parse the expression &quot;#objectId&quot;\n<code>Expression expFilterKeyName = parser.parseExpression(expression); String objectId = expFilterKeyName.getValue(String.class);</code>\nobjectId is always null.</p>\n<p>How do I pass objectId into the annotation with SPeL? I know using <code>args[0]</code> would work but I need this annotation to work with multiple methods that I don't know the parameters to. I have also tried doing approaches similar answers in <a href=\"https://stackoverflow.com/questions/53822544/get-dynamic-parameter-referenced-in-annotation-by-using-spring-spel-expression\">Get dynamic parameter referenced in Annotation by using Spring SpEL Expression</a> and <a href=\"https://stackoverflow.com/questions/3281978/can-we-use-spring-expressions-spel-in-other-annotations\">can we use spring expressions (spel) in other annotations?</a> but have not been sucessful.</p>\n<p>My annotation aspect class:</p>\n<pre><code>@Aspect\n@Component\npublic class AuthzPreAuthorizeAspect {\n\n    private static final Logger logger = LoggerFactory.getLogger(AuthzPreAuthorize.class);\n\n    private final SpelExpressionParser parser = new SpelExpressionParser();\n\n    @Autowired\n    private ApplicationContext context;\n\n    RestTemplate restTemplate = new RestTemplate();\n\n    @Before(value = &quot;execution(* *(..)) &amp;&amp; @annotation(authzPreAuthorize)&quot;)\n    public void authzPreAuthorize(JoinPoint joinPoint, AuthzPreAuthorize authzPreAuthorize) throws Throwable {\n        // Get the method arguments from the joinPoint\n        Object[] args = joinPoint.getArgs();\n\n        // Log the SpEL expression for debugging\n        String expression = &quot;#objectId&quot;; //for testing\n        //String expression = authzPreAuthorize.filterKey();\n        logger.info(&quot;SpEL Expression: &quot; + expression);\n\n        Expression expFilterKeyName = parser.parseExpression(expression);\n        String objectId = expFilterKeyName.getValue(String.class);\n\n        logger.info(&quot;objectId: &quot; + objectId);\n        //do stuff with objectId...\n    }\n</code></pre>\n<p>My service class where I call the annotation from (objectId is &quot;100004545&quot;):</p>\n<pre><code>    @AuthzPreAuthorize(filterType = &quot;CUSTOMER_NUMBER&quot;, filterKey = &quot;#objectId&quot;, filterRole = &quot;'com.gfs:order.access'&quot;)\n    public ComplexOrder findComplexOrderPre(String objectId){\n        return new ComplexOrder(2.7, new Address(&quot;40000 main st&quot;, &quot;NY&quot;, 55555), new Customer(objectId, &quot;unit&quot;, &quot;role&quot;));\n    }\n</code></pre>\n<p>I am expecting to get objectId in my annotation to be &quot;100004545&quot;. I know using <code>args[0]</code> would work but I need this annotation to work with multiple methods that I don't know the parameters to.</p>\n"},{"tags":["java","linux","xml","maven","lucene"],"comments":[{"owner":{"account_id":1592447,"reputation":677,"user_id":1475478,"accept_rate":63,"display_name":"Jasir"},"score":0,"creation_date":1697069485,"post_id":77275450,"comment_id":136234402,"body_markdown":"Try using this instead https://mvnrepository.com/artifact/org.apache.lucene/lucene-analysis-common","body":"Try using this instead <a href=\"https://mvnrepository.com/artifact/org.apache.lucene/lucene-analysis-common\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.lucene/&hellip;</a>"}],"owner":{"account_id":23012815,"reputation":1,"user_id":17135097,"display_name":"jackiechan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697047822,"creation_date":1697047822,"question_id":77275450,"body_markdown":"\r\nthis is the error i receive every single time i try to run the jar file\r\n\r\n\r\n```\r\n.0-SNAPSHOT.jar com.mycompany.app.App\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/lucene/analysis/standard/StandardAnalyzer\r\n        at com.mycompany.app.App.main(App.java:14)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.lucene.analysis.standard.StandardAnalyzer\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\r\n        ... 1 more\r\n```\r\n\r\n\r\n\r\nthis is what my dependencies in my pom.xml file look like\r\n\r\n\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;        \r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;          \r\n        &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\r\n        &lt;version&gt;9.4.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lucene-analyzers&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nthis is what my program looks like\r\n\r\n\r\n```\r\npackage com.mycompany.app;\r\n\r\nimport org.apache.lucene.analysis.Analyzer;\r\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        Analyzer test = new StandardAnalyzer();\r\n        System.out.println( &quot;Hello World!&quot; );\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\ni have absolutely no idea what is going on.\r\n\r\nive tried different dependencies like this one below but it still give the\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\r\n      &lt;version&gt;8.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n","title":"maven not loading analyzer dependency from Lucene, no matter what i do it will not load the dependency","body":"<p>this is the error i receive every single time i try to run the jar file</p>\n<pre><code>.0-SNAPSHOT.jar com.mycompany.app.App\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/lucene/analysis/standard/StandardAnalyzer\n        at com.mycompany.app.App.main(App.java:14)\nCaused by: java.lang.ClassNotFoundException: org.apache.lucene.analysis.standard.StandardAnalyzer\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\n        ... 1 more\n</code></pre>\n<p>this is what my dependencies in my pom.xml file look like</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;        \n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;          \n        &lt;artifactId&gt;lucene-core&lt;/artifactId&gt;\n        &lt;version&gt;9.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n        &lt;artifactId&gt;lucene-analyzers&lt;/artifactId&gt;\n        &lt;version&gt;3.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>this is what my program looks like</p>\n<pre><code>package com.mycompany.app;\n\nimport org.apache.lucene.analysis.Analyzer;\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n        Analyzer test = new StandardAnalyzer();\n        System.out.println( &quot;Hello World!&quot; );\n    }\n}\n</code></pre>\n<p>i have absolutely no idea what is going on.</p>\n<p>ive tried different dependencies like this one below but it still give the</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n      &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\n      &lt;version&gt;8.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","maven"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1588405094,"post_id":61555717,"comment_id":108886001,"body_markdown":"The message option? `@Email(message = &quot;Invalid email&quot;) @NotEmpty(message = &quot;Please enter email&quot;) private String email;` and  `violation.getMessage()`","body":"The message option? <code>@Email(message = &quot;Invalid email&quot;) @NotEmpty(message = &quot;Please enter email&quot;) private String email;</code> and  <code>violation.getMessage()</code>"},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":0,"creation_date":1588405987,"post_id":61555717,"comment_id":108886261,"body_markdown":"I wonder how you get hibernate `ConstraintViolationException`. Can you provide a minimal example of your configuration, e.g. `pom.xml` or `build.gradle`?","body":"I wonder how you get hibernate <code>ConstraintViolationException</code>. Can you provide a minimal example of your configuration, e.g. <code>pom.xml</code> or <code>build.gradle</code>?"},{"owner":{"account_id":16173363,"reputation":97,"user_id":11676639,"display_name":"weirdVariable"},"score":0,"creation_date":1588406250,"post_id":61555717,"comment_id":108886349,"body_markdown":"@DirkDeyne I annotate most of my Class fields with @Column(). I did not find something similar to &quot;message&quot; there :/ Is it better to change the Annotations to get this done?","body":"@DirkDeyne I annotate most of my Class fields with @Column(). I did not find something similar to &quot;message&quot; there :/ Is it better to change the Annotations to get this done?"},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":2,"creation_date":1588406715,"post_id":61555717,"comment_id":108886508,"body_markdown":"this may help [hibernate-notnull-vs-nullable](https://www.baeldung.com/hibernate-notnull-vs-nullable) ?","body":"this may help <a href=\"https://www.baeldung.com/hibernate-notnull-vs-nullable\" rel=\"nofollow noreferrer\">hibernate-notnull-vs-nullable</a> ?"},{"owner":{"account_id":16173363,"reputation":97,"user_id":11676639,"display_name":"weirdVariable"},"score":0,"creation_date":1588407112,"post_id":61555717,"comment_id":108886618,"body_markdown":"@MichaelKreutz I added the dependencies in the EDIT to my question. I think these are the relevant ones to my question.","body":"@MichaelKreutz I added the dependencies in the EDIT to my question. I think these are the relevant ones to my question."},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":0,"creation_date":1588407355,"post_id":61555717,"comment_id":108886678,"body_markdown":"Which Spring Boot version are you using? Maye you could share the whole `pom.xml`? Setting up a small project, I get `javax.validation.ConstraintViolation`s...","body":"Which Spring Boot version are you using? Maye you could share the whole <code>pom.xml</code>? Setting up a small project, I get <code>javax.validation.ConstraintViolation</code>s..."},{"owner":{"account_id":16173363,"reputation":97,"user_id":11676639,"display_name":"weirdVariable"},"score":0,"creation_date":1588409284,"post_id":61555717,"comment_id":108887286,"body_markdown":"@DirkDeyne So I seem to be able to remove most of my constraints from the \\@Column Annotation in order to label them. But how do I do it when I want a class field to be unique? With \\@Table(\\@UniqueConstraint(...)) ? Seems a bit complicated :D","body":"@DirkDeyne So I seem to be able to remove most of my constraints from the \\@Column Annotation in order to label them. But how do I do it when I want a class field to be unique? With \\@Table(\\@UniqueConstraint(...)) ? Seems a bit complicated :D"},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":0,"creation_date":1588409689,"post_id":61555717,"comment_id":108887402,"body_markdown":"Refactoring your constraints as suggested by @DirkDeyne will solve your problem","body":"Refactoring your constraints as suggested by @DirkDeyne will solve your problem"},{"owner":{"account_id":18173824,"reputation":1226,"user_id":13222971,"display_name":"Michael Kreutz"},"score":2,"creation_date":1588410992,"post_id":61555717,"comment_id":108887812,"body_markdown":"@weirdVariable You cannot control some constraints on the data before accessing the database (e.g. @NotNull) but you cannot find out if unique key constraint will be violated before accessing the database. So do not expect to get a `javax.validation.ConstraintViolation` for all of your constraints.","body":"@weirdVariable You cannot control some constraints on the data before accessing the database (e.g. @NotNull) but you cannot find out if unique key constraint will be violated before accessing the database. So do not expect to get a <code>javax.validation.ConstraintViolation</code> for all of your constraints."}],"answers":[{"tags":[],"owner":{"account_id":16273889,"reputation":2910,"user_id":11751648,"display_name":"areus"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1588427845,"creation_date":1588426714,"answer_id":61560286,"question_id":61555717,"body_markdown":"You are mixing things.\r\n\r\n**Bean Validation**\r\n\r\nThe `Bean Validation` API lets you validate your beans, with the `@NotNull`, `@Size`, and all the other annotations of the `javax.validation.constraints` package.\r\n\r\nYou can use a `Validator` to validate your beans and get a `javax.validation.ConstraintViolationException` with all the `ConstraintViolation` with the info of the property.\r\n\r\nJPA/Hibernate supports the `Bean Validation` API. If the `&lt;validation-mode&gt;` element in `persistence.xml` is set to `AUTO` (or it&#39;s not set, as `AUTO` is the default value), JPA will validate entities prior to saving them with a `Validator`, and throw a `javax.validation.ConstraintViolationException` if there are any `ConstraintViolation`s, only if an implementation of `Bean Validation` is present on the environment. If you set `&lt;validation-mode&gt;` to `CALLBACK`, JPA will always validate the entities and will throw an error during deployment if there is not a `Bean Validation` implementation on the environment.\r\n\r\n**SQL Constraints**\r\n\r\nJPA annotations, like `@Column` provide information to generate your database DDL. Using `@Column(nullable = false, length = 10)` will generates a database column with a maximum length of 10 and a `NOT NULL` SQL constraint. But that&#39;s it. Hibernate don&#39;t check this before sending the statement to the database. \r\n\r\nIf a `null` value is provided, the database will report an SQL Error, that will be mapped to a `SQLException` by the JDBC driver. The error message in the `SQLException` will be different for each DBMS, but will contain the constraint name. Hibernate wraps this exceptions in a `org.hibernate.exception.ConstraintViolationException` that extracts the constraint name from the SQLException message. \r\n\r\n**Conclusion**\r\n\r\n - Set `&lt;validation-mode&gt;` to `CALLBACK` on your `persistence.xml` to make sure validation is always performed and invalid values don&#39;t hit the database\r\n - Use `javax.validation.constraints` annotations to mach the SQL column constraints, for example, a not null column with a max size of 50: \r\n\r\n   @NotNull @Size(max = 50)\r\n   @Column(name = &quot;NAME&quot;, nullable = false, length = 50)\r\n\r\n - Provide meaningful names for unique constraints and foreign key constraints, as this will be the only info you can get to identify what constraint is violated.\r\n","title":"Hibernate - Is there any way to get the name of the column for which a Constraint was violated?","body":"<p>You are mixing things.</p>\n\n<p><strong>Bean Validation</strong></p>\n\n<p>The <code>Bean Validation</code> API lets you validate your beans, with the <code>@NotNull</code>, <code>@Size</code>, and all the other annotations of the <code>javax.validation.constraints</code> package.</p>\n\n<p>You can use a <code>Validator</code> to validate your beans and get a <code>javax.validation.ConstraintViolationException</code> with all the <code>ConstraintViolation</code> with the info of the property.</p>\n\n<p>JPA/Hibernate supports the <code>Bean Validation</code> API. If the <code>&lt;validation-mode&gt;</code> element in <code>persistence.xml</code> is set to <code>AUTO</code> (or it's not set, as <code>AUTO</code> is the default value), JPA will validate entities prior to saving them with a <code>Validator</code>, and throw a <code>javax.validation.ConstraintViolationException</code> if there are any <code>ConstraintViolation</code>s, only if an implementation of <code>Bean Validation</code> is present on the environment. If you set <code>&lt;validation-mode&gt;</code> to <code>CALLBACK</code>, JPA will always validate the entities and will throw an error during deployment if there is not a <code>Bean Validation</code> implementation on the environment.</p>\n\n<p><strong>SQL Constraints</strong></p>\n\n<p>JPA annotations, like <code>@Column</code> provide information to generate your database DDL. Using <code>@Column(nullable = false, length = 10)</code> will generates a database column with a maximum length of 10 and a <code>NOT NULL</code> SQL constraint. But that's it. Hibernate don't check this before sending the statement to the database. </p>\n\n<p>If a <code>null</code> value is provided, the database will report an SQL Error, that will be mapped to a <code>SQLException</code> by the JDBC driver. The error message in the <code>SQLException</code> will be different for each DBMS, but will contain the constraint name. Hibernate wraps this exceptions in a <code>org.hibernate.exception.ConstraintViolationException</code> that extracts the constraint name from the SQLException message. </p>\n\n<p><strong>Conclusion</strong></p>\n\n<ul>\n<li>Set <code>&lt;validation-mode&gt;</code> to <code>CALLBACK</code> on your <code>persistence.xml</code> to make sure validation is always performed and invalid values don't hit the database</li>\n<li><p>Use <code>javax.validation.constraints</code> annotations to mach the SQL column constraints, for example, a not null column with a max size of 50: </p>\n\n<p>@NotNull @Size(max = 50)\n@Column(name = \"NAME\", nullable = false, length = 50)</p></li>\n<li><p>Provide meaningful names for unique constraints and foreign key constraints, as this will be the only info you can get to identify what constraint is violated.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588428926,"creation_date":1588428926,"answer_id":61560772,"question_id":61555717,"body_markdown":"The [answer][1] by Areus explains to not confuse Hibernate validator and the database constraints, but building on that, it&#39;s not always easy to fetch the affected column name from the database exception that you get. For instance when you have a unique constraint on the database column it&#39;s hard to properly return this exception to the user.\r\n\r\nWhat I did was have a class that handles my REST call exception handling and finds that specific exception message. I found no other way to do this yet in Spring/Hibernate.\r\n\r\n    @ControllerAdvice\r\n    @RequestMapping(produces = APPLICATION_JSON_VALUE)\r\n    public class RestResponseEntityExceptionHandler {\r\n    \r\n        @ExceptionHandler(DataIntegrityViolationException.class)\r\n        public ResponseEntity&lt;ErrorDTO&gt; dataIntegrityViolationException(final DataIntegrityViolationException e) {\r\n            String mostSpecificCauseMessage = e.getMostSpecificCause().getMessage();\r\n            if (e.getCause() instanceof ConstraintViolationException) {\r\n                String name = ((ConstraintViolationException) e.getCause()).getConstraintName();\r\n                log.debug(&quot;Encountered ConstraintViolationException, details: &quot; + mostSpecificCauseMessage);\r\n                return determineError(mostSpecificCauseMessage, name);\r\n            } else {\r\n                log.debug(&quot;Encountered DataIntegrityViolation exception, details: &quot; + mostSpecificCauseMessage);\r\n                ErrorDTO errorDTO =\r\n                    new ErrorDTO(&quot;BAD_REQUEST_ERROR&quot;, &quot;DataIntegrityViolation exception. &quot; + mostSpecificCauseMessage);\r\n                return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.BAD_REQUEST);\r\n            }\r\n        }\r\n    \r\n        //this catches the manually invoked entityManager.flush() exceptions\r\n        @ExceptionHandler(ConstraintViolationException.class)\r\n        public ResponseEntity&lt;ErrorDTO&gt; constraintViolationException(final ConstraintViolationException e) {\r\n            String message = e.getMessage();\r\n            String name = e.getConstraintName();\r\n            log.debug(&quot;Encountered ConstraintViolationException, details: {}&quot;, message);\r\n            return determineError(message, name);\r\n        }\r\n    \r\n        private ResponseEntity&lt;ErrorDTO&gt; determineError(String message, String name) {\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            switch (name) {\r\n                case Project.UNIQUE_CONSTRAINT_NAME:\r\n                    errors.put(&quot;name&quot;, ALREADY_EXISTS);\r\n                    break;\r\n                case Value.UNIQUE_CONSTRAINT_VALUE:\r\n                    errors.put(&quot;value&quot;, ALREADY_EXISTS);\r\n                    break;\r\n                //and so on\r\n                default:\r\n                    break;\r\n            }\r\n    \r\n            if (!errors.isEmpty()) {\r\n                ErrorDTO error = new ErrorDTO(VALIDATION_ERROR, VALIDATION_ERROR_MESSAGE, errors);\r\n                return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\r\n            } else {\r\n                ErrorDTO errorDTO = new ErrorDTO(&quot;CONFLICT_ERROR&quot;, message);\r\n                return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.CONFLICT);\r\n            }\r\n        }\r\n    }\r\n\r\nYou also need to define the constraint name in your Model entity/database, such as:\r\n\r\n    @Table(uniqueConstraints = {\r\n        @UniqueConstraint(name = UNIQUE_CONSTRAINT_VALUE, columnNames = {&quot;value&quot;})})\r\n\r\n    public static final String UNIQUE_CONSTRAINT_VALUE = &quot;unique_constraint_property_value&quot;;\r\n\r\nAnd in the database definition as well of course.\r\n\r\n  [1]: https://stackoverflow.com/a/61560286/144578\r\n","title":"Hibernate - Is there any way to get the name of the column for which a Constraint was violated?","body":"<p>The <a href=\"https://stackoverflow.com/a/61560286/144578\">answer</a> by Areus explains to not confuse Hibernate validator and the database constraints, but building on that, it's not always easy to fetch the affected column name from the database exception that you get. For instance when you have a unique constraint on the database column it's hard to properly return this exception to the user.</p>\n\n<p>What I did was have a class that handles my REST call exception handling and finds that specific exception message. I found no other way to do this yet in Spring/Hibernate.</p>\n\n<pre><code>@ControllerAdvice\n@RequestMapping(produces = APPLICATION_JSON_VALUE)\npublic class RestResponseEntityExceptionHandler {\n\n    @ExceptionHandler(DataIntegrityViolationException.class)\n    public ResponseEntity&lt;ErrorDTO&gt; dataIntegrityViolationException(final DataIntegrityViolationException e) {\n        String mostSpecificCauseMessage = e.getMostSpecificCause().getMessage();\n        if (e.getCause() instanceof ConstraintViolationException) {\n            String name = ((ConstraintViolationException) e.getCause()).getConstraintName();\n            log.debug(\"Encountered ConstraintViolationException, details: \" + mostSpecificCauseMessage);\n            return determineError(mostSpecificCauseMessage, name);\n        } else {\n            log.debug(\"Encountered DataIntegrityViolation exception, details: \" + mostSpecificCauseMessage);\n            ErrorDTO errorDTO =\n                new ErrorDTO(\"BAD_REQUEST_ERROR\", \"DataIntegrityViolation exception. \" + mostSpecificCauseMessage);\n            return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.BAD_REQUEST);\n        }\n    }\n\n    //this catches the manually invoked entityManager.flush() exceptions\n    @ExceptionHandler(ConstraintViolationException.class)\n    public ResponseEntity&lt;ErrorDTO&gt; constraintViolationException(final ConstraintViolationException e) {\n        String message = e.getMessage();\n        String name = e.getConstraintName();\n        log.debug(\"Encountered ConstraintViolationException, details: {}\", message);\n        return determineError(message, name);\n    }\n\n    private ResponseEntity&lt;ErrorDTO&gt; determineError(String message, String name) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        switch (name) {\n            case Project.UNIQUE_CONSTRAINT_NAME:\n                errors.put(\"name\", ALREADY_EXISTS);\n                break;\n            case Value.UNIQUE_CONSTRAINT_VALUE:\n                errors.put(\"value\", ALREADY_EXISTS);\n                break;\n            //and so on\n            default:\n                break;\n        }\n\n        if (!errors.isEmpty()) {\n            ErrorDTO error = new ErrorDTO(VALIDATION_ERROR, VALIDATION_ERROR_MESSAGE, errors);\n            return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\n        } else {\n            ErrorDTO errorDTO = new ErrorDTO(\"CONFLICT_ERROR\", message);\n            return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.CONFLICT);\n        }\n    }\n}\n</code></pre>\n\n<p>You also need to define the constraint name in your Model entity/database, such as:</p>\n\n<pre><code>@Table(uniqueConstraints = {\n    @UniqueConstraint(name = UNIQUE_CONSTRAINT_VALUE, columnNames = {\"value\"})})\n\npublic static final String UNIQUE_CONSTRAINT_VALUE = \"unique_constraint_property_value\";\n</code></pre>\n\n<p>And in the database definition as well of course.</p>\n"},{"tags":[],"owner":{"account_id":9150447,"reputation":1,"user_id":22724599,"display_name":"Salvador Mata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697047379,"creation_date":1697047303,"answer_id":77275408,"question_id":61555717,"body_markdown":"First of all, I apologize for my terrible level of English (I used google translator as best I can)\r\n\r\nI imagine this is not the best way to solve this, but it worked for me:\r\n\r\nGiven that in the database, in the design of the table, we can see the correspondence between the name of the index and that of the field, I make a Map where I store them for later use\r\n\r\n[enter image description here][1]\r\n\r\n\r\n    public class ApiUniqueViolationException {\r\n\r\n    private String fieldname;\r\n\r\n    private String value;\r\n\r\n    public ApiUniqueViolationException(Exception ex) {\r\n        initForeigns(ex);\r\n    }\r\n\r\n    private void initForeigns(Exception ex){\r\n        Map&lt;String, String&gt; foreigns = new HashMap&lt;&gt;();\r\n        foreigns.put(&quot;UK_ob8kqyqqgmefl0aco34akdtpe&quot;, &quot;email&quot;);\r\n        if ( ex.getMessage().contains(&quot;Duplicate entry&quot;) ) {\r\n            Pattern pattern = Pattern.compile(&quot;Duplicate entry &#39;(.*?)&#39; for key&quot;);\r\n            String message = ex.getMessage();\r\n            Matcher matcher = pattern.matcher(message);\r\n            if (matcher.find()) {\r\n                String match = matcher.group(1);\r\n                String key = ((ConstraintViolationException)ex.getCause()).getConstraintName();\r\n                this.setValue(match);\r\n                this.setFieldname(foreigns.get(key));\r\n            }\r\n        }\r\n    }\r\n\r\n    public String getFieldname() {\r\n        return fieldname;\r\n    }\r\n\r\n    public void setFieldname(String fieldname) {\r\n        this.fieldname = fieldname;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n\r\nResponse from swagger\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GeI1F.png\r\n  [2]: https://i.stack.imgur.com/iNt1w.png","title":"Hibernate - Is there any way to get the name of the column for which a Constraint was violated?","body":"<p>First of all, I apologize for my terrible level of English (I used google translator as best I can)</p>\n<p>I imagine this is not the best way to solve this, but it worked for me:</p>\n<p>Given that in the database, in the design of the table, we can see the correspondence between the name of the index and that of the field, I make a Map where I store them for later use</p>\n<p><a href=\"https://i.stack.imgur.com/GeI1F.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public class ApiUniqueViolationException {\n\nprivate String fieldname;\n\nprivate String value;\n\npublic ApiUniqueViolationException(Exception ex) {\n    initForeigns(ex);\n}\n\nprivate void initForeigns(Exception ex){\n    Map&lt;String, String&gt; foreigns = new HashMap&lt;&gt;();\n    foreigns.put(&quot;UK_ob8kqyqqgmefl0aco34akdtpe&quot;, &quot;email&quot;);\n    if ( ex.getMessage().contains(&quot;Duplicate entry&quot;) ) {\n        Pattern pattern = Pattern.compile(&quot;Duplicate entry '(.*?)' for key&quot;);\n        String message = ex.getMessage();\n        Matcher matcher = pattern.matcher(message);\n        if (matcher.find()) {\n            String match = matcher.group(1);\n            String key = ((ConstraintViolationException)ex.getCause()).getConstraintName();\n            this.setValue(match);\n            this.setFieldname(foreigns.get(key));\n        }\n    }\n}\n\npublic String getFieldname() {\n    return fieldname;\n}\n\npublic void setFieldname(String fieldname) {\n    this.fieldname = fieldname;\n}\n\npublic String getValue() {\n    return value;\n}\n\npublic void setValue(String value) {\n    this.value = value;\n}\n</code></pre>\n<p>Response from swagger\n<a href=\"https://i.stack.imgur.com/iNt1w.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":16173363,"reputation":97,"user_id":11676639,"display_name":"weirdVariable"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2516,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61560286,"answer_count":3,"score":5,"last_activity_date":1697047379,"creation_date":1588403601,"question_id":61555717,"body_markdown":"I&#39;m using Hibernate to save Entities in a Database. \r\n\r\nOn the Entity fields (columns), I have defined a lot of Constraints (such as NotNull or length=10).\r\nWhen a Constraint is violated, a ConstraintViolationException is thrown. I want to somehow be able to track for which column a constraint was violated.\r\nThe ConstraintViolationException in the Java-Library &quot;javax.validation.ConstraintViolation&quot; has a method &quot;getConstraintViolations()&quot; so I can just do\r\n\r\n&gt; ```constraintViolationException.getConstraintViolations().getPropertyPath() ```\r\n\r\nwhich should give me the column name.\r\n\r\nHowever, the ConstraintViolationException thrown by Hibernate does not have a method &quot;getConstraintViolations()&quot; and there doesn&#39;t seem to be anything like it.\r\nMy only option now would be to analyze the String returned by calling &quot;getConstraintName()&quot;:\r\n \r\n&gt; ``` constraintViolationException.getConstraintName() ```\r\n\r\nBut this seems kind of messy and not secure.\r\n\r\nDoes anyone have an idea how I can get the column name?\r\n\r\n\r\nEDIT:\r\n\r\nRelevant dependencies inside the pom.xml:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Hibernate - Is there any way to get the name of the column for which a Constraint was violated?","body":"<p>I'm using Hibernate to save Entities in a Database. </p>\n\n<p>On the Entity fields (columns), I have defined a lot of Constraints (such as NotNull or length=10).\nWhen a Constraint is violated, a ConstraintViolationException is thrown. I want to somehow be able to track for which column a constraint was violated.\nThe ConstraintViolationException in the Java-Library \"javax.validation.ConstraintViolation\" has a method \"getConstraintViolations()\" so I can just do</p>\n\n<blockquote>\n  <p><code>constraintViolationException.getConstraintViolations().getPropertyPath()</code></p>\n</blockquote>\n\n<p>which should give me the column name.</p>\n\n<p>However, the ConstraintViolationException thrown by Hibernate does not have a method \"getConstraintViolations()\" and there doesn't seem to be anything like it.\nMy only option now would be to analyze the String returned by calling \"getConstraintName()\":</p>\n\n<blockquote>\n  <p><code>constraintViolationException.getConstraintName()</code></p>\n</blockquote>\n\n<p>But this seems kind of messy and not secure.</p>\n\n<p>Does anyone have an idea how I can get the column name?</p>\n\n<p>EDIT:</p>\n\n<p>Relevant dependencies inside the pom.xml:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1659083909,"post_id":73163599,"comment_id":129215828,"body_markdown":"You have disable the web server using properties means you have used `spring.main.web-application-type=NONE` and your batch application wont start if you add this property?","body":"You have disable the web server using properties means you have used <code>spring.main.web-application-type=NONE</code> and your batch application wont start if you add this property?"},{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":0,"creation_date":1659086042,"post_id":73163599,"comment_id":129216535,"body_markdown":"yes, it doesn&#39;t start, because the batch still needs to have webClient properly configured (to call remote APIs), but ClientRegistrationRepository is missing and batch fails to start","body":"yes, it doesn&#39;t start, because the batch still needs to have webClient properly configured (to call remote APIs), but ClientRegistrationRepository is missing and batch fails to start"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":1,"creation_date":1659086436,"post_id":73163599,"comment_id":129216694,"body_markdown":"Including the `spring.main.web-application-type=NONE` doesnt exclude the web libraries, can you share the logs by setting the log level to trace.","body":"Including the <code>spring.main.web-application-type=NONE</code> doesnt exclude the web libraries, can you share the logs by setting the log level to trace."},{"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"score":0,"creation_date":1659087585,"post_id":73163599,"comment_id":129217109,"body_markdown":"I have updated the question, showing why OAuth2ClientAutoConfiguration doesn&#39;t get enabled when the application type is NONE : the binary is here, but it&#39;s explicitly not enabled because of that.","body":"I have updated the question, showing why OAuth2ClientAutoConfiguration doesn&#39;t get enabled when the application type is NONE : the binary is here, but it&#39;s explicitly not enabled because of that."}],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659088379,"creation_date":1659083468,"answer_id":73163776,"question_id":73163599,"body_markdown":"With Spring Boot, you can customize the port of your webapplication by setting the property `server.port=8095` in your `application.properties` or any customized env properties file ie `application-dev.properties`, `application-prod.properties` and so on.\r\n\r\nUsing these property, your webapplication will listen on the port of your choice and will not conflict anymore with other stuff. And if you need multiple instances running in parallel, run them with a range of ports could be great (@see [https://stackoverflow.com/a/56884100/390462][1]. You can add listeners too (@see [https://stackoverflow.com/a/51876661/390462][2]). Or at least multiple instances of your batch application with differents `server.port` values.\r\n\r\nIf you want to disable the webserver, the best bet is to use the property : `spring.main.web-application-type=none`.\r\n\r\nI&#39;ve just found something interesting using `AuthorizedClientServiceOAuth2AuthorizedClientManager` in your service layer (@see [https://stackoverflow.com/a/60173451/390462][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56884100/390462\r\n  [2]: https://stackoverflow.com/a/51876661/390462\r\n  [3]: https://stackoverflow.com/a/60173451/390462","title":"auto-configure ClientRegistrationRepository in a non-web Spring Boot application","body":"<p>With Spring Boot, you can customize the port of your webapplication by setting the property <code>server.port=8095</code> in your <code>application.properties</code> or any customized env properties file ie <code>application-dev.properties</code>, <code>application-prod.properties</code> and so on.</p>\n<p>Using these property, your webapplication will listen on the port of your choice and will not conflict anymore with other stuff. And if you need multiple instances running in parallel, run them with a range of ports could be great (@see <a href=\"https://stackoverflow.com/a/56884100/390462\">https://stackoverflow.com/a/56884100/390462</a>. You can add listeners too (@see <a href=\"https://stackoverflow.com/a/51876661/390462\">https://stackoverflow.com/a/51876661/390462</a>). Or at least multiple instances of your batch application with differents <code>server.port</code> values.</p>\n<p>If you want to disable the webserver, the best bet is to use the property : <code>spring.main.web-application-type=none</code>.</p>\n<p>I've just found something interesting using <code>AuthorizedClientServiceOAuth2AuthorizedClientManager</code> in your service layer (@see <a href=\"https://stackoverflow.com/a/60173451/390462\">https://stackoverflow.com/a/60173451/390462</a></p>\n"},{"tags":[],"owner":{"account_id":29650462,"reputation":11,"user_id":22724506,"display_name":"Fiacko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697046876,"creation_date":1697046876,"answer_id":77275361,"question_id":73163599,"body_markdown":"I have manual approach, think it would be helpful, because it is quite simple:\r\n\r\nmake the config:\r\n\r\n   ```\r\n@ConfigurationProperties(&quot;spring.security.oauth2.client.registration.keycloak&quot;) //use your oauth2 properties\r\n    @Getter\r\n    @Setter\r\n    public class Oauth2KeycloakProperties {\r\n        private String clientSecret;\r\n        ...\r\n    }\r\n```\r\n\r\nCreate ClientRegistrationRepository manually:\r\n```\r\n@Bean\r\npublic ClientRegistrationRepository clientRegistrationRepository(Oauth2KeycloakProperties properties) {\r\n    ClientRegistration registration = ClientRegistration\r\n            .withRegistrationId(properties.getRegistrationId())\r\n            .authorizationGrantType(properties.getAuthorizationGrantType())\r\n            .clientId(properties.getClientId())\r\n            .clientSecret(properties.getClientSecret())                 \r\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n            .scope(properties.getScope())\r\n            .tokenUri(properties.getTokenUri())\r\n            .clientName(properties.getClientName())\r\n            .build();\r\n        return new InMemoryClientRegistrationRepository(List.of(registration));\r\n    }\r\n```\r\nCreate ClientService bean:\r\n```\r\n@Bean\r\npublic OAuth2AuthorizedClientService clientService(ClientRegistrationRepository clientRegistrationRepository) {\r\n    return new InMemoryOAuth2AuthorizedClientService(clientRegistrationRepository);\r\n    }\r\n```\r\nAlso you may need jackson-databind dependency, because there is a bug in message converter and the token&#39;s expires_in field is deserializes as a Double, instead of an Integer and spring will request a new token on every request\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"auto-configure ClientRegistrationRepository in a non-web Spring Boot application","body":"<p>I have manual approach, think it would be helpful, because it is quite simple:</p>\n<p>make the config:</p>\n<pre><code>@ConfigurationProperties(&quot;spring.security.oauth2.client.registration.keycloak&quot;) //use your oauth2 properties\n @Getter\n @Setter\n public class Oauth2KeycloakProperties {\n     private String clientSecret;\n     ...\n }\n</code></pre>\n<p>Create ClientRegistrationRepository manually:</p>\n<pre><code>@Bean\npublic ClientRegistrationRepository clientRegistrationRepository(Oauth2KeycloakProperties properties) {\n    ClientRegistration registration = ClientRegistration\n            .withRegistrationId(properties.getRegistrationId())\n            .authorizationGrantType(properties.getAuthorizationGrantType())\n            .clientId(properties.getClientId())\n            .clientSecret(properties.getClientSecret())                 \n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n            .scope(properties.getScope())\n            .tokenUri(properties.getTokenUri())\n            .clientName(properties.getClientName())\n            .build();\n        return new InMemoryClientRegistrationRepository(List.of(registration));\n    }\n</code></pre>\n<p>Create ClientService bean:</p>\n<pre><code>@Bean\npublic OAuth2AuthorizedClientService clientService(ClientRegistrationRepository clientRegistrationRepository) {\n    return new InMemoryOAuth2AuthorizedClientService(clientRegistrationRepository);\n    }\n</code></pre>\n<p>Also you may need jackson-databind dependency, because there is a bug in message converter and the token's expires_in field is deserializes as a Double, instead of an Integer and spring will request a new token on every request</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1697046876,"creation_date":1659082469,"question_id":73163599,"body_markdown":"I am writing a batch using Spring Boot 2.7.1 and `spring-boot-starter-batch` . The batch needs 2 different `WebClient` to call 2 different APIs with different authentication systems, that I configure through standard Spring Boot properties (spring.security.oauth2.client etc).  \r\n\r\nIt works well, but I realized the batch was listening on port 8080 when running, because I have imported `spring-boot-starter-web` , which enables the auto-configuration of my `WebClient` , by injecting a `ClientRegistrationRepository` . It&#39;s not a major issue, but it prevents me from launching the batch twice in parallel for instance, because the port is already used... so I would like to disable the web server part. \r\n\r\nThe problem is that when I disable the web server,  either through properties, code or dependencies (by removing `spring-boot-starter-web`), then the batch doesn&#39;t start anymore, because `ClientRegistrationRepository` is not loaded anymore, because I require \r\n\r\n    a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found\r\n\r\n\r\nThis is because, there&#39;s a conditional on Spring&#39;s `OAuth2ClientAutoConfiguration` :\r\n\r\n\r\n\t@AutoConfiguration(before = SecurityAutoConfiguration.class)\r\n\t@ConditionalOnClass({ EnableWebSecurity.class, ClientRegistration.class })\r\n\t@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.SERVLET)\r\n\t@Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\r\n\tpublic class OAuth2ClientAutoConfiguration {\r\n\r\n\t}\r\n\r\nBecause the application is not of type `SERVLET`, but `NONE`, this doesn&#39;t get enabled. \r\n\r\nI&#39;ve tried to &quot;force load&quot; it : \r\n\r\n    @ImportAutoConfiguration(OAuth2ClientAutoConfiguration.class)\r\n\r\nbut it doesn&#39;t work.\r\n\r\n\r\nLooking into the source code, I see that `OAuth2ClientAutoConfiguration` is actually loading 2 config classes, but they are not public, so I can&#39;t import them directly : \r\n\r\n    @Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\r\n\r\nthere must be a trick to achieve that.. but what is it ?\r\n\r\n","title":"auto-configure ClientRegistrationRepository in a non-web Spring Boot application","body":"<p>I am writing a batch using Spring Boot 2.7.1 and <code>spring-boot-starter-batch</code> . The batch needs 2 different <code>WebClient</code> to call 2 different APIs with different authentication systems, that I configure through standard Spring Boot properties (spring.security.oauth2.client etc).</p>\n<p>It works well, but I realized the batch was listening on port 8080 when running, because I have imported <code>spring-boot-starter-web</code> , which enables the auto-configuration of my <code>WebClient</code> , by injecting a <code>ClientRegistrationRepository</code> . It's not a major issue, but it prevents me from launching the batch twice in parallel for instance, because the port is already used... so I would like to disable the web server part.</p>\n<p>The problem is that when I disable the web server,  either through properties, code or dependencies (by removing <code>spring-boot-starter-web</code>), then the batch doesn't start anymore, because <code>ClientRegistrationRepository</code> is not loaded anymore, because I require</p>\n<pre><code>a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found\n</code></pre>\n<p>This is because, there's a conditional on Spring's <code>OAuth2ClientAutoConfiguration</code> :</p>\n<pre><code>@AutoConfiguration(before = SecurityAutoConfiguration.class)\n@ConditionalOnClass({ EnableWebSecurity.class, ClientRegistration.class })\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.SERVLET)\n@Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\npublic class OAuth2ClientAutoConfiguration {\n\n}\n</code></pre>\n<p>Because the application is not of type <code>SERVLET</code>, but <code>NONE</code>, this doesn't get enabled.</p>\n<p>I've tried to &quot;force load&quot; it :</p>\n<pre><code>@ImportAutoConfiguration(OAuth2ClientAutoConfiguration.class)\n</code></pre>\n<p>but it doesn't work.</p>\n<p>Looking into the source code, I see that <code>OAuth2ClientAutoConfiguration</code> is actually loading 2 config classes, but they are not public, so I can't import them directly :</p>\n<pre><code>@Import({ OAuth2ClientRegistrationRepositoryConfiguration.class, OAuth2WebSecurityConfiguration.class })\n</code></pre>\n<p>there must be a trick to achieve that.. but what is it ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8903500,"reputation":1364,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1697046761,"post_id":77275276,"comment_id":136231442,"body_markdown":"No. I am mapping the scope, sid in an object. But I also need to map the roles which is a list as a property in my object.","body":"No. I am mapping the scope, sid in an object. But I also need to map the roles which is a list as a property in my object."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697046388,"creation_date":1697046388,"answer_id":77275307,"question_id":77275276,"body_markdown":"You can use *Jackson* to do it:\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nJsonNode jsonNode = objectMapper.readTree(your_json_here);\r\n\r\nJsonNode rolesNode = jsonNode.path(&quot;resource_access&quot;).path(&quot;thg-hbgs&quot;).path(&quot;roles&quot;);\r\nif (rolesNode.isArray()) {\r\n\tfor (JsonNode role : rolesNode) {\r\n\t\t// TODO: handle role\r\n\t}\r\n}\r\n```\r\n","title":"How to get nested list items from a JSON Object?","body":"<p>You can use <em>Jackson</em> to do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nJsonNode jsonNode = objectMapper.readTree(your_json_here);\n\nJsonNode rolesNode = jsonNode.path(&quot;resource_access&quot;).path(&quot;thg-hbgs&quot;).path(&quot;roles&quot;);\nif (rolesNode.isArray()) {\n    for (JsonNode role : rolesNode) {\n        // TODO: handle role\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8903500,"reputation":1364,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1697047053,"accepted_answer_id":77275307,"answer_count":1,"score":-3,"last_activity_date":1697046388,"creation_date":1697045977,"question_id":77275276,"body_markdown":"How can I get roles as a list in java here? Following is my JSON Object.\r\n\r\n    {\r\n      &quot;typ&quot;: &quot;Bearer&quot;,\r\n      &quot;azp&quot;: &quot;idp-e4f9cb79-0c4f-46a4-8b5f-34dc05e39138&quot;,\r\n      &quot;session_state&quot;: &quot;9698bd84-6465-4947-98e9-2b477cd119aa&quot;,\r\n      &quot;acr&quot;: &quot;1&quot;,\r\n      &quot;resource_access&quot;: {\r\n        &quot;thg-hbgs&quot;: {\r\n          &quot;roles&quot;: [\r\n            &quot;Admin&quot;,\r\n            &quot;Manager&quot;,\r\n            &quot;Clerk&quot;\r\n          ]\r\n        }\r\n      },\r\n      &quot;scope&quot;: &quot;openid profile email&quot;,\r\n      &quot;sid&quot;: &quot;9699bd84-6465-4947-98e9-2b477cd119aa&quot;,\r\n      &quot;email_verified&quot;: true,\r\n      \r\n    }","title":"How to get nested list items from a JSON Object?","body":"<p>How can I get roles as a list in java here? Following is my JSON Object.</p>\n<pre><code>{\n  &quot;typ&quot;: &quot;Bearer&quot;,\n  &quot;azp&quot;: &quot;idp-e4f9cb79-0c4f-46a4-8b5f-34dc05e39138&quot;,\n  &quot;session_state&quot;: &quot;9698bd84-6465-4947-98e9-2b477cd119aa&quot;,\n  &quot;acr&quot;: &quot;1&quot;,\n  &quot;resource_access&quot;: {\n    &quot;thg-hbgs&quot;: {\n      &quot;roles&quot;: [\n        &quot;Admin&quot;,\n        &quot;Manager&quot;,\n        &quot;Clerk&quot;\n      ]\n    }\n  },\n  &quot;scope&quot;: &quot;openid profile email&quot;,\n  &quot;sid&quot;: &quot;9699bd84-6465-4947-98e9-2b477cd119aa&quot;,\n  &quot;email_verified&quot;: true,\n  \n}\n</code></pre>\n"},{"tags":["java","linux","gradle","centos","qupath"],"comments":[{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1649719319,"post_id":71835049,"comment_id":126942875,"body_markdown":"Instead of using the `gradlew` script, try to install Gradle manually and run `gradle` instead: https://gradle.org/install/","body":"Instead of using the <code>gradlew</code> script, try to install Gradle manually and run <code>gradle</code> instead: <a href=\"https://gradle.org/install/\" rel=\"nofollow noreferrer\">gradle.org/install</a>"},{"owner":{"account_id":2808137,"reputation":35550,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"score":0,"creation_date":1649722967,"post_id":71835049,"comment_id":126943427,"body_markdown":"@SamuelAudet your comment is not very clear to me. All of the above steps are from the manual provided by QuPath and gradle. Could you provide step by step guide on what you mentioned?","body":"@SamuelAudet your comment is not very clear to me. All of the above steps are from the manual provided by QuPath and gradle. Could you provide step by step guide on what you mentioned?"},{"owner":{"account_id":2808137,"reputation":35550,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"score":0,"creation_date":1649723085,"post_id":71835049,"comment_id":126943449,"body_markdown":"also, I have installed gradle manually from source into /opt/gradle as you see in my question description","body":"also, I have installed gradle manually from source into /opt/gradle as you see in my question description"},{"owner":{"account_id":2808137,"reputation":35550,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"score":0,"creation_date":1649723193,"post_id":71835049,"comment_id":126943477,"body_markdown":"@SamuelAudet is this what you meant? `[jalal@goku qupath]$ ./gradle clean jpackage\nbash: ./gradle: Is a directory`","body":"@SamuelAudet is this what you meant? <code>[jalal@goku qupath]$ .&#47;gradle clean jpackage bash: .&#47;gradle: Is a directory</code>"},{"owner":{"account_id":2693923,"reputation":2602,"user_id":3958878,"accept_rate":40,"display_name":"Mehdi Golzadeh"},"score":0,"creation_date":1649724061,"post_id":71835049,"comment_id":126943631,"body_markdown":"\\gradlew is a wrapper over gradle to make the use of gradle easier. Here in your case it seems that the gradle version inside /scratch3/downloads directory is missing some plugin file that is required. I think if you find and copy the required file inside the directory it will do the trick.","body":"\\gradlew is a wrapper over gradle to make the use of gradle easier. Here in your case it seems that the gradle version inside /scratch3/downloads directory is missing some plugin file that is required. I think if you find and copy the required file inside the directory it will do the trick."},{"owner":{"account_id":2808137,"reputation":35550,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"score":0,"creation_date":1649725097,"post_id":71835049,"comment_id":126943805,"body_markdown":"@MehdiGolzadeh there is no gradle installed in `[jalal@goku downloads]$ pwd\n/scratch3/downloads\n[jalal@goku downloads]$ find . -name &quot;*gradle*&quot;\n./gradle-7.4.2-all.zip` as I mentioned in OP, I installed the gradle following the original instructions in `/opt/gradle`","body":"@MehdiGolzadeh there is no gradle installed in <code>[jalal@goku downloads]$ pwd &#47;scratch3&#47;downloads [jalal@goku downloads]$ find . -name &quot;*gradle*&quot; .&#47;gradle-7.4.2-all.zip</code> as I mentioned in OP, I installed the gradle following the original instructions in <code>&#47;opt&#47;gradle</code>"}],"owner":{"account_id":2808137,"reputation":35550,"user_id":2414957,"accept_rate":61,"display_name":"Mona Jalal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697045856,"creation_date":1649716520,"question_id":71835049,"body_markdown":"I am following the [instructions for building QuPath][1] from source on CentOS 7. I get the following error:\r\n\r\n    [jalal@goku qupath]$ ./gradlew clean jpackage\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Failed to apply plugin class &#39;org.gradle.api.plugins.JavaPlugin&#39;.\r\n    &gt; java.io.FileNotFoundException: /scratch3/downloads/gradle-7.4.2/lib/plugins/gradle-plugins-7.4.2.jar (No such file or directory)\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 721ms\r\n\r\n\r\nThe instructions that I am following are as follows:\r\n\r\n    $ git clone https://github.com/qupath/qupath\r\n    $ cd qupath\r\n    $ ./gradlew clean jpackage\r\n\r\n\r\n I have:\r\n```\r\n$ uname -a\r\nLinux goku.bu.edu 3.10.0-1160.59.1.el7.x86_64 #1 SMP Wed Feb 23 16:47:03 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n```\r\nand\r\n```\r\n$ lsb_release -a\r\nLSB Version:\t:core-4.1-amd64:core-4.1-noarch\r\nDistributor ID:\tCentOS\r\nDescription:\tCentOS Linux release 7.9.2009 (Core)\r\nRelease:\t7.9.2009\r\nCodename:\tCore\r\n```\r\n\r\nalso:\r\n```\r\n$ java -version\r\nopenjdk version &quot;1.8.0_322&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_322-b06)\r\nOpenJDK 64-Bit Server VM (build 25.322-b06, mixed mode)\r\n```\r\n\r\nI also don&#39;t understand why it is looking elsewhere than where I have zipped it and set the directory to it as in:\r\n```\r\n[jalal@goku downloads]$ sudo vi  /etc/profile.d/gradle.sh\r\n[jalal@goku downloads]$ sudo chmod +x /etc/profile.d/gradle.sh\r\n[jalal@goku downloads]$ source /etc/profile.d/gradle.sh\r\n[jalal@goku downloads]$ gradle -v\r\n\r\n------------------------------------------------------------\r\nGradle 7.4.2\r\n------------------------------------------------------------\r\n\r\nBuild time:   2022-03-31 15:25:29 UTC\r\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\r\n\r\nKotlin:       1.5.31\r\nGroovy:       3.0.9\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          1.8.0_322 (Red Hat, Inc. 25.322-b06)\r\nOS:           Linux 3.10.0-1160.59.1.el7.x86_64 amd64\r\n\r\n[jalal@goku downloads]$ cat /etc/profile.d/gradle.sh \r\n\r\nexport GRADLE_HOME=/opt/gradle/gradle-7.4.2\r\nexport PATH=${GRADLE_HOME}/bin:${PATH}\r\n\r\n$ tail -1 ~/.bashrc\r\nexport PATH=$PATH:/opt/gradle/gradle-7.4.2/bin\r\n$ source ~/.bashrc\r\n\r\n```\r\n\r\nThe plugin that is reported as missing in the error is in \r\n```\r\n[jalal@goku ~]$ find /opt/gradle -name &quot;gradle-plugins-7.4.2.jar&quot;\r\n/opt/gradle/gradle-7.4.2/lib/plugins/gradle-plugins-7.4.2.jar\r\n```\r\n\r\nFull log of `./gradlew clean jpackage --stacktrace`: https://pastebin.com/raw/RuuJnuTe\r\n\r\nFull log of `./gradlew clean jpackage --debug`:\r\nhttps://pastebin.com/raw/EPJs2jRR\r\n\r\nFull log of `./gradlew clean jpackage --scan`:\r\nhttps://pastebin.com/raw/TUGSM73K\r\n\r\n\r\n  [1]: https://qupath.readthedocs.io/en/latest/docs/reference/building.html","title":"Failed to apply plugin class &#39;org.gradle.api.plugins.JavaPlugin&#39;. gradle-plugins-7.4.2.jar (No such file or directory)","body":"<p>I am following the <a href=\"https://qupath.readthedocs.io/en/latest/docs/reference/building.html\" rel=\"nofollow noreferrer\">instructions for building QuPath</a> from source on CentOS 7. I get the following error:</p>\n<pre><code>[jalal@goku qupath]$ ./gradlew clean jpackage\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nFailed to apply plugin class 'org.gradle.api.plugins.JavaPlugin'.\n&gt; java.io.FileNotFoundException: /scratch3/downloads/gradle-7.4.2/lib/plugins/gradle-plugins-7.4.2.jar (No such file or directory)\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 721ms\n</code></pre>\n<p>The instructions that I am following are as follows:</p>\n<pre><code>$ git clone https://github.com/qupath/qupath\n$ cd qupath\n$ ./gradlew clean jpackage\n</code></pre>\n<p>I have:</p>\n<pre><code>$ uname -a\nLinux goku.bu.edu 3.10.0-1160.59.1.el7.x86_64 #1 SMP Wed Feb 23 16:47:03 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n\n</code></pre>\n<p>and</p>\n<pre><code>$ lsb_release -a\nLSB Version:    :core-4.1-amd64:core-4.1-noarch\nDistributor ID: CentOS\nDescription:    CentOS Linux release 7.9.2009 (Core)\nRelease:    7.9.2009\nCodename:   Core\n</code></pre>\n<p>also:</p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_322&quot;\nOpenJDK Runtime Environment (build 1.8.0_322-b06)\nOpenJDK 64-Bit Server VM (build 25.322-b06, mixed mode)\n</code></pre>\n<p>I also don't understand why it is looking elsewhere than where I have zipped it and set the directory to it as in:</p>\n<pre><code>[jalal@goku downloads]$ sudo vi  /etc/profile.d/gradle.sh\n[jalal@goku downloads]$ sudo chmod +x /etc/profile.d/gradle.sh\n[jalal@goku downloads]$ source /etc/profile.d/gradle.sh\n[jalal@goku downloads]$ gradle -v\n\n------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_322 (Red Hat, Inc. 25.322-b06)\nOS:           Linux 3.10.0-1160.59.1.el7.x86_64 amd64\n\n[jalal@goku downloads]$ cat /etc/profile.d/gradle.sh \n\nexport GRADLE_HOME=/opt/gradle/gradle-7.4.2\nexport PATH=${GRADLE_HOME}/bin:${PATH}\n\n$ tail -1 ~/.bashrc\nexport PATH=$PATH:/opt/gradle/gradle-7.4.2/bin\n$ source ~/.bashrc\n\n</code></pre>\n<p>The plugin that is reported as missing in the error is in</p>\n<pre><code>[jalal@goku ~]$ find /opt/gradle -name &quot;gradle-plugins-7.4.2.jar&quot;\n/opt/gradle/gradle-7.4.2/lib/plugins/gradle-plugins-7.4.2.jar\n</code></pre>\n<p>Full log of <code>./gradlew clean jpackage --stacktrace</code>: <a href=\"https://pastebin.com/raw/RuuJnuTe\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/RuuJnuTe</a></p>\n<p>Full log of <code>./gradlew clean jpackage --debug</code>:\n<a href=\"https://pastebin.com/raw/EPJs2jRR\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/EPJs2jRR</a></p>\n<p>Full log of <code>./gradlew clean jpackage --scan</code>:\n<a href=\"https://pastebin.com/raw/TUGSM73K\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/TUGSM73K</a></p>\n"},{"tags":["java","macos","maven","dmg","qupath"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1493179300,"post_id":43624758,"comment_id":74298287,"body_markdown":"http://stackoverflow.com/questions/30828620/create-mac-dmg-file-from-java","body":"<a href=\"http://stackoverflow.com/questions/30828620/create-mac-dmg-file-from-java\" title=\"create mac dmg file from java\">stackoverflow.com/questions/30828620/&hellip;</a>"},{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1493179364,"post_id":43624758,"comment_id":74298299,"body_markdown":"Possible duplicate of [How to build a dmg Mac OS X file (on a non-Mac platform)?](http://stackoverflow.com/questions/286419/how-to-build-a-dmg-mac-os-x-file-on-a-non-mac-platform)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/286419/how-to-build-a-dmg-mac-os-x-file-on-a-non-mac-platform\">How to build a dmg Mac OS X file (on a non-Mac platform)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493179651,"creation_date":1493179651,"answer_id":43624854,"question_id":43624758,"body_markdown":"Use Java packager https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html  as per this tutorial http://centerkey.com/mac/java. ","title":"How can I make dmg file for OSX from a IntelliJ-maven project?","body":"<p>Use Java packager <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javapackager.html</a>  as per this tutorial <a href=\"http://centerkey.com/mac/java\" rel=\"nofollow noreferrer\">http://centerkey.com/mac/java</a>. </p>\n"}],"owner":{"account_id":6766375,"reputation":19,"user_id":5211270,"display_name":"Peter Cha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697045673,"creation_date":1493179006,"question_id":43624758,"body_markdown":"I&#39;m new in IntelliJ-maven-java programming, and I want to make dmg file for Mac OS as a result of my program. \r\n\r\n My development environment is Ubuntu-IntelliJ-Java-Maven. As I searched, there are some plugins that are able to make dmg file from intelliJ, but it is actually very complicated to me.\r\n \r\n Could you tell me the order of the process kindly? \r\n Thanks in advance. \r\n\r\n \r\n Futhermore, following messages are from command when I run `mvn install`with `appbundle-maven-plugin` from https://github.com/federkasten/appbundle-maven-plugin.\r\n If I did something stupid, could you tell me which part is awkward? \r\n \r\n\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.623 s\r\n    [INFO] Finished at: 2017-04-26T14:16:36+09:00\r\n    [INFO] Final Memory: 12M/240M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal sh.tak.appbundler:appbundle-maven-\r\n    plugin:1.2.0:bundle (default) on project qupath: Execution default of goal sh.tak.appbundler:appbundle-maven-plugin:1.2.0:bundle failed. NullPointerException -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] \r\n  \r\n  \r\n and this is my maven-plugin code.\r\n\r\n     &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;sh.tak.appbundler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appbundle-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;src.main.java.qupath.QuPath&lt;/mainClass&gt;\r\n\t\t\t\t\t&lt;jrePath&gt;/usr/lib/jvm/java-8-oracle/jre&lt;/jrePath&gt;\r\n\t\t\t\t\t&lt;generateDiskImageFile&gt;true&lt;/generateDiskImageFile&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;bundle&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n ","title":"How can I make dmg file for OSX from a IntelliJ-maven project?","body":"<p>I'm new in IntelliJ-maven-java programming, and I want to make dmg file for Mac OS as a result of my program. </p>\n\n<p>My development environment is Ubuntu-IntelliJ-Java-Maven. As I searched, there are some plugins that are able to make dmg file from intelliJ, but it is actually very complicated to me.</p>\n\n<p>Could you tell me the order of the process kindly? \n Thanks in advance. </p>\n\n<p>Futhermore, following messages are from command when I run <code>mvn install</code>with <code>appbundle-maven-plugin</code> from <a href=\"https://github.com/federkasten/appbundle-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/federkasten/appbundle-maven-plugin</a>.\n If I did something stupid, could you tell me which part is awkward? </p>\n\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.623 s\n[INFO] Finished at: 2017-04-26T14:16:36+09:00\n[INFO] Final Memory: 12M/240M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal sh.tak.appbundler:appbundle-maven-\nplugin:1.2.0:bundle (default) on project qupath: Execution default of goal sh.tak.appbundler:appbundle-maven-plugin:1.2.0:bundle failed. NullPointerException -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] \n</code></pre>\n\n<p>and this is my maven-plugin code.</p>\n\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;sh.tak.appbundler&lt;/groupId&gt;\n        &lt;artifactId&gt;appbundle-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;src.main.java.qupath.QuPath&lt;/mainClass&gt;\n                &lt;jrePath&gt;/usr/lib/jvm/java-8-oracle/jre&lt;/jrePath&gt;\n                &lt;generateDiskImageFile&gt;true&lt;/generateDiskImageFile&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;bundle&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["python","java","image-processing","geojson","qupath"],"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697045522,"creation_date":1671570572,"question_id":74868938,"body_markdown":"I&#39;m trying to convert the tissue &quot;masks&quot; created in one program (basically regions of tissue annotated on a tissue slide) and I wanted to import them into a program known as QuPath.\r\n\r\nThe &quot;mask&quot; files are essentially a series of shapes stored as np.unint8 arrays, each value being a pixel, where a positive value corresponds to the presence of tissue and a 0 corresponds to no tissue being present. As an example, this mask:\r\n\r\n```\r\n[[ 0, 0, 0, 0 ],\r\n\r\n[ 0, 1, 1, 0 ],\r\n\r\n[ 0, 1, 1, 0 ],\r\n\r\n[ 0, 0, 0, 0 ]]\r\n```\r\n\r\nwould correspond to a 4x4 square.\r\n\r\nThe arrays are all in a larger H5 file along with associated metadata.\r\n\r\nThe program I want to import them into (QuPath) only accepts annotations in a GeoJSON format. Is there an existing method to convert pixel-by-pixel arrays into a GeoJSON format or will this have to be a novel method?\r\n\r\nHere&#39;s the code I have to extract the arrays from the H5 file.\r\n\r\n```\r\n# open and load file\r\nasset_directory = &#39;D:\\pathai_masks&#39;\r\nfile_name = os.path.join(asset_directory, &quot;path5_mask.h5&quot;)\r\nh5_file = h5py.File(file_name, &#39;r&#39;)\r\n \r\n# access attributes like a regular dictionary \r\n# ex. access&#39;wsi_masks&#39;\r\nwsi_masks = h5_file[&#39;wsi_masks&#39;]\r\n\r\n# Load the JSON from the H5 file:\r\nnecrosis_dataset = h5_file[&quot;wsi_masks&quot;][&quot;predicted_region_mask_l1_5&quot;]\r\n\r\n# Encodes as a numpy.ndarray of uint8 \r\nnecrosis_numpy_array = necrosis_dataset[:, :]\r\n```\r\n\r\nThis is what I have to convert the array directly to a GeoJSON file.\r\n\r\n```\r\ncoordinates = []\r\n\r\nfor row in necrosis_numpy_array:\r\n    coordinates.append(row.tolist())\r\n\r\ngeojson = {\r\n    &quot;type&quot;: &quot;FeatureCollection&quot;,\r\n    &quot;features&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;Feature&quot;,\r\n            &quot;geometry&quot;: {\r\n                &quot;type&quot;: &quot;Point&quot;,\r\n                &quot;coordinates&quot;: coordinates\r\n            }\r\n        }\r\n    ]\r\n}\r\n\r\njson_data = json.dumps(geojson)\r\n```\r\n\r\nAnd this is the format that QuPath accepts.\r\n\r\n```\r\n{\r\n        &quot;type&quot;: &quot;Feature&quot;,\r\n        &quot;id&quot;: &quot;PathDetectionObject&quot;,\r\n        &quot;geometry&quot;: {\r\n            &quot;type&quot;: &quot;Polygon&quot;,\r\n            &quot;coordinates&quot;: [[[17738.72, 42238], [17737.94, 42240.13], [17738.39, 42242.34], [17737.21, 42244.28], [17737.19, 42246.54], [17739.74, 42250.23], [17743.86, 42248.63], [17743.7, 42246.37], [17745.05, 42242.08], [17748.38, 42239.13], [17747.76, 42238.25], [17738.72, 42238]]]\r\n        },\r\n        &quot;properties&quot;: {\r\n            &quot;isLocked&quot;: false,\r\n            &quot;measurements&quot;: [],\r\n            &quot;classification&quot;: {\r\n                &quot;name&quot;: &quot;Other&quot;,\r\n                &quot;colorRGB&quot;: -377282\r\n            }\r\n        }\r\n    }\r\n```","title":"Converting an np.unint8 to a GeoJSON file that can be imported to QuPath","body":"<p>I'm trying to convert the tissue &quot;masks&quot; created in one program (basically regions of tissue annotated on a tissue slide) and I wanted to import them into a program known as QuPath.</p>\n<p>The &quot;mask&quot; files are essentially a series of shapes stored as np.unint8 arrays, each value being a pixel, where a positive value corresponds to the presence of tissue and a 0 corresponds to no tissue being present. As an example, this mask:</p>\n<pre><code>[[ 0, 0, 0, 0 ],\n\n[ 0, 1, 1, 0 ],\n\n[ 0, 1, 1, 0 ],\n\n[ 0, 0, 0, 0 ]]\n</code></pre>\n<p>would correspond to a 4x4 square.</p>\n<p>The arrays are all in a larger H5 file along with associated metadata.</p>\n<p>The program I want to import them into (QuPath) only accepts annotations in a GeoJSON format. Is there an existing method to convert pixel-by-pixel arrays into a GeoJSON format or will this have to be a novel method?</p>\n<p>Here's the code I have to extract the arrays from the H5 file.</p>\n<pre><code># open and load file\nasset_directory = 'D:\\pathai_masks'\nfile_name = os.path.join(asset_directory, &quot;path5_mask.h5&quot;)\nh5_file = h5py.File(file_name, 'r')\n \n# access attributes like a regular dictionary \n# ex. access'wsi_masks'\nwsi_masks = h5_file['wsi_masks']\n\n# Load the JSON from the H5 file:\nnecrosis_dataset = h5_file[&quot;wsi_masks&quot;][&quot;predicted_region_mask_l1_5&quot;]\n\n# Encodes as a numpy.ndarray of uint8 \nnecrosis_numpy_array = necrosis_dataset[:, :]\n</code></pre>\n<p>This is what I have to convert the array directly to a GeoJSON file.</p>\n<pre><code>coordinates = []\n\nfor row in necrosis_numpy_array:\n    coordinates.append(row.tolist())\n\ngeojson = {\n    &quot;type&quot;: &quot;FeatureCollection&quot;,\n    &quot;features&quot;: [\n        {\n            &quot;type&quot;: &quot;Feature&quot;,\n            &quot;geometry&quot;: {\n                &quot;type&quot;: &quot;Point&quot;,\n                &quot;coordinates&quot;: coordinates\n            }\n        }\n    ]\n}\n\njson_data = json.dumps(geojson)\n</code></pre>\n<p>And this is the format that QuPath accepts.</p>\n<pre><code>{\n        &quot;type&quot;: &quot;Feature&quot;,\n        &quot;id&quot;: &quot;PathDetectionObject&quot;,\n        &quot;geometry&quot;: {\n            &quot;type&quot;: &quot;Polygon&quot;,\n            &quot;coordinates&quot;: [[[17738.72, 42238], [17737.94, 42240.13], [17738.39, 42242.34], [17737.21, 42244.28], [17737.19, 42246.54], [17739.74, 42250.23], [17743.86, 42248.63], [17743.7, 42246.37], [17745.05, 42242.08], [17748.38, 42239.13], [17747.76, 42238.25], [17738.72, 42238]]]\n        },\n        &quot;properties&quot;: {\n            &quot;isLocked&quot;: false,\n            &quot;measurements&quot;: [],\n            &quot;classification&quot;: {\n                &quot;name&quot;: &quot;Other&quot;,\n                &quot;colorRGB&quot;: -377282\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":27212,"reputation":413,"user_id":71576,"display_name":"kdubb"},"score":0,"creation_date":1549763634,"post_id":54602118,"comment_id":96019340,"body_markdown":"How are you adding the pgjdbc-ng dependency?","body":"How are you adding the pgjdbc-ng dependency?"},{"owner":{"account_id":8931680,"reputation":11,"user_id":6664081,"display_name":"Rafael Bello Lara"},"score":0,"creation_date":1549899184,"post_id":54602118,"comment_id":96060083,"body_markdown":"I added pgjdbc-ng 0.8.1 and postgresql-42.2.5  to my maven repository. I need to do something else? &lt;dependency&gt;\n        &lt;groupId&gt;com.impossibl.pgjdbc-ng&lt;/groupId&gt;\n        &lt;artifactId&gt;pgjdbc-ng&lt;/artifactId&gt;\n        &lt;version&gt;0.8.1&lt;/version&gt;\n     &lt;/dependency&gt;","body":"I added pgjdbc-ng 0.8.1 and postgresql-42.2.5  to my maven repository. I need to do something else? &lt;dependency&gt;         &lt;groupId&gt;com.impossibl.pgjdbc-ng&lt;/groupId&gt;         &lt;artifactId&gt;pgjdbc-ng&lt;/artifactId&gt;         &lt;version&gt;0.8.1&lt;/version&gt;      &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":27212,"reputation":413,"user_id":71576,"display_name":"kdubb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550088300,"creation_date":1550087900,"answer_id":54678457,"question_id":54602118,"body_markdown":"However you are executing the program, the transitive dependencies of the `pgjdbc-ng` are not getting added to your classpath. \r\n\r\nOne solution is to use the the uber jar that includes all dependencies package in one jar.\r\n\r\nTo use the uber jar via Maven you need to add the &quot;all&quot; classifier to the dependency specification, as in\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.impossibl.pgjdb-ng&lt;/groupId&gt;\r\n  &lt;artifactId&gt;pgjdb-ng&lt;/artifactId&gt;\r\n  &lt;version&gt;0.8.2&lt;/version&gt;\r\n  &lt;classifier&gt;all&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlternatively you can manually download the uber jar and add it to your class path. More information is available in the &quot;Manual Download&quot; section of the [User Guide](http://impossibl.github.io/pgjdbc-ng/docs/current/user-guide/#overview-getting-started-deps)\r\n\r\n_NOTE_: Using the uber jar shouldn&#39;t be necessary if you are executing your program in a way that includes Maven&#39;s transitive dependencies.","title":"Unsupported event loop group type: NioEventLoopGroup using pgjdbc-ng","body":"<p>However you are executing the program, the transitive dependencies of the <code>pgjdbc-ng</code> are not getting added to your classpath. </p>\n\n<p>One solution is to use the the uber jar that includes all dependencies package in one jar.</p>\n\n<p>To use the uber jar via Maven you need to add the \"all\" classifier to the dependency specification, as in</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.impossibl.pgjdb-ng&lt;/groupId&gt;\n  &lt;artifactId&gt;pgjdb-ng&lt;/artifactId&gt;\n  &lt;version&gt;0.8.2&lt;/version&gt;\n  &lt;classifier&gt;all&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Alternatively you can manually download the uber jar and add it to your class path. More information is available in the \"Manual Download\" section of the <a href=\"http://impossibl.github.io/pgjdbc-ng/docs/current/user-guide/#overview-getting-started-deps\" rel=\"nofollow noreferrer\">User Guide</a></p>\n\n<p><em>NOTE</em>: Using the uber jar shouldn't be necessary if you are executing your program in a way that includes Maven's transitive dependencies.</p>\n"},{"tags":[],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697044994,"creation_date":1697044994,"answer_id":77275168,"question_id":54602118,"body_markdown":"Like @kdubb said &quot;However you are executing the program, the transitive dependencies of the pgjdbc-ng are not getting added to your classpath.&quot;\r\n\r\nI am using graddle and adding the dependencies like so: \r\n\r\n    compileOnly &quot;com.impossibl.pgjdbc-ng:pgjdbc-ng:0.8.9&quot;\r\n\r\nI was getting a bunch of *ClassNotFoundException*&#39;s \r\n\r\nWhen you declare a dependency using **compileOnly**, it includes only the direct dependency in your project&#39;s classpath, but it excludes the transitive dependencies. However declaring a dependency using **implementation**, not only includes the direct dependencies but also all of its transitive ones. ","title":"Unsupported event loop group type: NioEventLoopGroup using pgjdbc-ng","body":"<p>Like @kdubb said &quot;However you are executing the program, the transitive dependencies of the pgjdbc-ng are not getting added to your classpath.&quot;</p>\n<p>I am using graddle and adding the dependencies like so:</p>\n<pre><code>compileOnly &quot;com.impossibl.pgjdbc-ng:pgjdbc-ng:0.8.9&quot;\n</code></pre>\n<p>I was getting a bunch of <em>ClassNotFoundException</em>'s</p>\n<p>When you declare a dependency using <strong>compileOnly</strong>, it includes only the direct dependency in your project's classpath, but it excludes the transitive dependencies. However declaring a dependency using <strong>implementation</strong>, not only includes the direct dependencies but also all of its transitive ones.</p>\n"}],"owner":{"account_id":8931680,"reputation":11,"user_id":6664081,"display_name":"Rafael Bello Lara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697044994,"creation_date":1549673362,"question_id":54602118,"body_markdown":"After [reviewing][1] by Steve Taylor\r\nI have tried to use it in my rest API but I have not managed to create the connection with my database, I have tried to create an instance of the `ListenNotify` class in the main thread and in secondary threads without achieving good result, please I could use it a little of help.\r\n\r\n    package com.curu.open.rest.notifications.PostgresChanel;\r\n    \r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import com.impossibl.postgres.api.jdbc.PGConnection;\r\n    import com.impossibl.postgres.api.jdbc.PGNotificationListener;\r\n    import com.impossibl.postgres.jdbc.PGDataSource;\r\n    \r\n    public class ListenNotify {\r\n      // Database connection\r\n      PGConnection connection;\r\n    \r\n      public ListenNotify() {\r\n        // Create the listener callback\r\n        PGNotificationListener listener = new PGNotificationListener() {\r\n          @Override\r\n          public void notification(int processId, String channelName, String payload) {\r\n            System.out.println(&quot;/channels/&quot; + channelName + &quot; &quot; + payload);\r\n          }\r\n        };\r\n        try {\r\n          PGDataSource dataSource = new PGDataSource();\r\n          dataSource.setHost(&quot;localhost&quot;);\r\n          dataSource.setPort(5432);\r\n          dataSource.setDatabaseName(&quot;test&quot;);\r\n          dataSource.setUser(&quot;postgres&quot;);\r\n          dataSource.setPassword(&quot;postgres&quot;);\r\n          // Log into the db\r\n          connection = (PGConnection) dataSource.getConnection();\r\n          // add the callback listener created earlier to the connection\r\n          connection.addNotificationListener(listener);\r\n          // Tell Postgres to send NOTIFY q_event to our connection and listener\r\n          Statement statement = connection.createStatement();\r\n          statement.execute(&quot;LISTEN my_event&quot;);\r\n          statement.close();\r\n        } catch (SQLException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n&gt; com.impossibl.postgres.jdbc.PGSQLSimpleException: Connection Error: \r\n&gt;     java.lang.IllegalArgumentException: Unsupported event loop group type: \r\n&gt;     NioEventLoopGroup at    com.impossibl.postgres.jdbc.ErrorUtils.makeSQLException(ErrorUtils.java:137)\r\n&gt; \tat\r\n&gt; com.impossibl.postgres.jdbc.ConnectionUtil.createConnection(ConnectionUtil.java:212)\r\n&gt; \tat\r\n&gt; com.impossibl.postgres.jdbc.AbstractDataSource.createConnection(AbstractDataSource.java:137)\r\n&gt; \tat\r\n&gt; com.impossibl.postgres.jdbc.PGDataSource.getConnection(PGDataSource.java:71)\r\n&gt; \tat\r\n&gt; com.impossibl.postgres.jdbc.PGDataSource.getConnection(PGDataSource.java:63)\r\n&gt; \tat\r\n&gt; com.curu.open.rest.notifications.PostgresChanel.ListenNotify.&lt;init&gt;(ListenNotify.java:58)\r\n&gt; \tat\r\n&gt; com.curu.open.NotificationDispacherTimerTask.run(NotificationDispacherTimerTask.java:29)\r\n&gt; \tat java.util.TimerThread.mainLoop(Unknown Source) \tat\r\n&gt; java.util.TimerThread.run(Unknown Source)\r\n\r\n\r\n  [1]: https://www.openmakesoftware.com/postgresql-listen-notify-events-example/","title":"Unsupported event loop group type: NioEventLoopGroup using pgjdbc-ng","body":"<p>After <a href=\"https://www.openmakesoftware.com/postgresql-listen-notify-events-example/\" rel=\"nofollow noreferrer\">reviewing</a> by Steve Taylor\nI have tried to use it in my rest API but I have not managed to create the connection with my database, I have tried to create an instance of the <code>ListenNotify</code> class in the main thread and in secondary threads without achieving good result, please I could use it a little of help.</p>\n\n<pre><code>package com.curu.open.rest.notifications.PostgresChanel;\n\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport com.impossibl.postgres.api.jdbc.PGConnection;\nimport com.impossibl.postgres.api.jdbc.PGNotificationListener;\nimport com.impossibl.postgres.jdbc.PGDataSource;\n\npublic class ListenNotify {\n  // Database connection\n  PGConnection connection;\n\n  public ListenNotify() {\n    // Create the listener callback\n    PGNotificationListener listener = new PGNotificationListener() {\n      @Override\n      public void notification(int processId, String channelName, String payload) {\n        System.out.println(\"/channels/\" + channelName + \" \" + payload);\n      }\n    };\n    try {\n      PGDataSource dataSource = new PGDataSource();\n      dataSource.setHost(\"localhost\");\n      dataSource.setPort(5432);\n      dataSource.setDatabaseName(\"test\");\n      dataSource.setUser(\"postgres\");\n      dataSource.setPassword(\"postgres\");\n      // Log into the db\n      connection = (PGConnection) dataSource.getConnection();\n      // add the callback listener created earlier to the connection\n      connection.addNotificationListener(listener);\n      // Tell Postgres to send NOTIFY q_event to our connection and listener\n      Statement statement = connection.createStatement();\n      statement.execute(\"LISTEN my_event\");\n      statement.close();\n    } catch (SQLException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>com.impossibl.postgres.jdbc.PGSQLSimpleException: Connection Error: \n      java.lang.IllegalArgumentException: Unsupported event loop group type: \n      NioEventLoopGroup at    com.impossibl.postgres.jdbc.ErrorUtils.makeSQLException(ErrorUtils.java:137)\n    at\n  com.impossibl.postgres.jdbc.ConnectionUtil.createConnection(ConnectionUtil.java:212)\n    at\n  com.impossibl.postgres.jdbc.AbstractDataSource.createConnection(AbstractDataSource.java:137)\n    at\n  com.impossibl.postgres.jdbc.PGDataSource.getConnection(PGDataSource.java:71)\n    at\n  com.impossibl.postgres.jdbc.PGDataSource.getConnection(PGDataSource.java:63)\n    at\n  com.curu.open.rest.notifications.PostgresChanel.ListenNotify.(ListenNotify.java:58)\n    at\n  com.curu.open.NotificationDispacherTimerTask.run(NotificationDispacherTimerTask.java:29)\n    at java.util.TimerThread.mainLoop(Unknown Source)   at\n  java.util.TimerThread.run(Unknown Source)</p>\n</blockquote>\n"},{"tags":["java","spring","prometheus","webclient","metrics"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697043492,"creation_date":1697043176,"answer_id":77274972,"question_id":77220633,"body_markdown":"Not sure how `WebClient` is instantiated but, if you rely on the `WebClient.Builder` bean provided by [`WebClientAutoConfiguration`](https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/function/client/WebClientAutoConfiguration.java#L53), metrics should work out of the box. \r\n\r\nInternally, in spring boot 2.7.x, metrics are initialized using [`MetricsWebClientCustomizer`](https://github.com/spring-projects/spring-boot/blob/2.7.x/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/client/MetricsWebClientCustomizer.java#L53) attaching filter functions (`MetricsWebClientFilterFunction`) to the `WebClient.Builder`.\r\n\r\nYou can &quot;mirror&quot; this logic and add corresponding filters explicitly to your client, but using `WebClient.Builder` is a recommended approach.\r\n\r\n\r\nOne possible solution is to create factory and use it to instantiate `WebClient` \r\n```\r\n@Component\r\npublic class WebClientFactory {\r\n\tprivate final WebClient.Builder webClientBuilder;\r\n\r\n\tpublic WebClientFactory(WebClient.Builder webClientBuilder) {\r\n\t\tthis.webClientBuilder = webClientBuilder;\r\n\t}\r\n\r\n\tpublic WebClient get(String baseUrl) {\r\n\t\t// we need to clone builder otherwise filters will be accumulated from different clients\r\n\t\treturn webClientBuilder.clone()\r\n\t\t\t\t.baseUrl(baseUrl)\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n```\r\n\r\nThe advantage of this approach is that you can add more cross-cutting logic (common filters, timeout settings, ...) into the factory that all your clients &quot;inherit&quot; the same settings. \r\n\r\n\r\nIn spring boot 3.x internals of metrics initialization were reworked and [`ObservationWebClientCustomizer`](https://github.com/spring-projects/spring-boot/blob/3.0.x/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/client/ObservationWebClientCustomizer.java) is using to initialize metrics, but if you rely `WebClient.Builder` no changes will be required on app side.","title":"Why I don&#39;t see all the spring prometheus metrics with WebClient","body":"<p>Not sure how <code>WebClient</code> is instantiated but, if you rely on the <code>WebClient.Builder</code> bean provided by <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/function/client/WebClientAutoConfiguration.java#L53\" rel=\"nofollow noreferrer\"><code>WebClientAutoConfiguration</code></a>, metrics should work out of the box.</p>\n<p>Internally, in spring boot 2.7.x, metrics are initialized using <a href=\"https://github.com/spring-projects/spring-boot/blob/2.7.x/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/client/MetricsWebClientCustomizer.java#L53\" rel=\"nofollow noreferrer\"><code>MetricsWebClientCustomizer</code></a> attaching filter functions (<code>MetricsWebClientFilterFunction</code>) to the <code>WebClient.Builder</code>.</p>\n<p>You can &quot;mirror&quot; this logic and add corresponding filters explicitly to your client, but using <code>WebClient.Builder</code> is a recommended approach.</p>\n<p>One possible solution is to create factory and use it to instantiate <code>WebClient</code></p>\n<pre><code>@Component\npublic class WebClientFactory {\n    private final WebClient.Builder webClientBuilder;\n\n    public WebClientFactory(WebClient.Builder webClientBuilder) {\n        this.webClientBuilder = webClientBuilder;\n    }\n\n    public WebClient get(String baseUrl) {\n        // we need to clone builder otherwise filters will be accumulated from different clients\n        return webClientBuilder.clone()\n                .baseUrl(baseUrl)\n                .build();\n    }\n}\n</code></pre>\n<p>The advantage of this approach is that you can add more cross-cutting logic (common filters, timeout settings, ...) into the factory that all your clients &quot;inherit&quot; the same settings.</p>\n<p>In spring boot 3.x internals of metrics initialization were reworked and <a href=\"https://github.com/spring-projects/spring-boot/blob/3.0.x/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/web/reactive/client/ObservationWebClientCustomizer.java\" rel=\"nofollow noreferrer\"><code>ObservationWebClientCustomizer</code></a> is using to initialize metrics, but if you rely <code>WebClient.Builder</code> no changes will be required on app side.</p>\n"}],"owner":{"account_id":24203989,"reputation":21,"user_id":18161446,"display_name":"Patrick Baie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697043492,"creation_date":1696320888,"question_id":77220633,"body_markdown":"when I try to dynamically create a WebClient from a configuration file (application.properties) some prometheus metrics disappear, such as the jvm metrics\r\n\r\nI use spring boot 2.7.0, jdk 17.\r\n\r\n\r\n1/ First I load the configurations about the actuator&#39;s metrics\r\nTo do this, I have a spring.factories that contains \r\n\r\n```\r\norg.springframework.boot.env.EnvironmentPostProcessor=re.test.pos.api.actuator.LoadActuatorDefaultProperties\r\n\r\n```\r\n\r\n\r\nIn the class LoadActuatorDefaultProperties, I load in Environment the contains of the acutator-default.properties which contains for example :\r\n\r\n```\r\n\r\n    management.server.port=4242\r\n    management.endpoint.health.show-details=always\r\n    management.endpoints.web.exposure.include=*\r\n\r\n    management.endpoints.jmx.exposure.exclude=*\r\n    spring.jmx.enabled=true\r\n\r\n    management.endpoint.health.probes.enabled=true\r\n\r\n```\r\n\r\n2/ In a second time, I use a &quot;re.test.pos.api.consumer.WebClientInstanceBuilderAutoConfiguration&quot; in order to create a WebClientInstanceBuilder with the configuration containing in the application.properties which contains for example :\r\n\r\n```\r\n    xoapi.consumer.services.accountManagement.url=https://test.api:8443/test\r\n    xoapi.consumer.services.accountManagement.headers[Content-Type]=application/json\r\n    xoapi.consumer.services.accountManagement.headers[Accept-Language]=fr\r\n```\r\n\r\n\r\nMy goal is to retrieve parameters starting with xoapi.consumer and push them into the ConsumerProperties class.\r\nAfter that, WebClientInstanceBuilderAutoConfiguration class load ConsumerProperties and instantiate a WebClientInstanceBuilder and a WebClient.Builder with this kind of command : \r\n\r\n```\r\n    return serviceBuilder.baseUrl(service.getUrl()).defaultHeaders(httpHeaders -&gt; {\r\n\t\t\tservice.getHeaders().forEach(httpHeaders::add);\r\n\t\t}).codecs( codecs -&gt; {\r\n\t\t\tcodecs.defaultCodecs().maxInMemorySize(this.maxInMemorySize.intValue());\r\n\t\t});\r\n```\r\n\r\n3/ After that, when I try the URL http://localhost:4242/actuator/prometheus in my browser I see the next metrics :\r\n\r\n\r\n```\r\n\r\nexecutor_active_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\nexecutor_pool_size_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\ntomcat_sessions_alive_max_seconds 0.0\r\ntomcat_sessions_expired_sessions_total 0.0\r\ntomcat_sessions_created_sessions_total 0.0\r\nexecutor_queued_tasks{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\nexecutor_queue_remaining_tasks{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\r\napplication_started_time_seconds{main_application_class=&quot;re.test.pos.api.PointsOfSaleApiApplication&quot;,} 9.399\r\ntomcat_sessions_rejected_sessions_total 0.0\r\nexecutor_completed_tasks_total{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\ntomcat_sessions_active_max_sessions 0.0\r\nexecutor_pool_core_threads{name=&quot;applicationTaskExecutor&quot;,} 8.0\r\nexecutor_pool_max_threads{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\r\napplication_ready_time_seconds{main_application_class=&quot;re.test.pos.api.PointsOfSaleApiApplication&quot;,} 9.433\r\ntomcat_sessions_active_current_sessions 0.0\r\n\r\n```\r\n\r\n\r\n4/ In the application.properties, if I put in comment :\r\n\r\n\r\n```\r\n\r\n#xoapi.consumer.services.accountManagement.url=https://test.api:8443/test\r\n#xoapi.consumer.services.accountManagement.headers[Content-Type]=application/json\r\n#xoapi.consumer.services.accountManagement.headers[Accept-Language]=fr\r\n```\r\n\r\n\r\nAs there are no longer any associated configurations for WebClient creation, the WebClientInstanceBuilderAutoConfiguration class no longer attempts to instantiate a WebClient.\r\n\r\nIn this case, if I try the URL http://localhost:4242/actuator/prometheus in my browser I see a lot of metrics, more than in the above example. For example I see the jvm metrics :\r\n\r\n\r\n```\r\n\r\nprocess_cpu_usage 0.1100376909902195\r\nexecutor_pool_max_threads{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\r\njvm_threads_live_threads 37.0\r\ntomcat_sessions_rejected_sessions_total 0.0\r\njvm_threads_states_threads{state=&quot;runnable&quot;,} 10.0\r\njvm_threads_states_threads{state=&quot;blocked&quot;,} 0.0\r\njvm_threads_states_threads{state=&quot;waiting&quot;,} 22.0\r\njvm_threads_states_threads{state=&quot;timed-waiting&quot;,} 5.0\r\njvm_threads_states_threads{state=&quot;new&quot;,} 0.0\r\njvm_threads_states_threads{state=&quot;terminated&quot;,} 0.0\r\njvm_gc_memory_promoted_bytes_total 6495232.0\r\ntomcat_sessions_alive_max_seconds 0.0\r\njvm_gc_memory_allocated_bytes_total 7.1303168E7\r\nexecutor_pool_size_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\r\n....\r\n\r\n```\r\n\r\n5/ Questions :\r\n\r\nWhy I don&#39;t see all the metrics if I create a WebClient ?\r\n\r\n6/ Here a zip file with the code\r\n[text](https://github.com/micrometer-metrics/micrometer/files/12790078/pointsofsalemetricsnotcomplete-api.zip)\r\n\r\nDezip the archive and run mvn clean install\r\nAfter thaht =&gt; run java -jar target\\pos-api-1.0.1.jar\r\n\r\n\r\n","title":"Why I don&#39;t see all the spring prometheus metrics with WebClient","body":"<p>when I try to dynamically create a WebClient from a configuration file (application.properties) some prometheus metrics disappear, such as the jvm metrics</p>\n<p>I use spring boot 2.7.0, jdk 17.</p>\n<p>1/ First I load the configurations about the actuator's metrics\nTo do this, I have a spring.factories that contains</p>\n<pre><code>org.springframework.boot.env.EnvironmentPostProcessor=re.test.pos.api.actuator.LoadActuatorDefaultProperties\n\n</code></pre>\n<p>In the class LoadActuatorDefaultProperties, I load in Environment the contains of the acutator-default.properties which contains for example :</p>\n<pre><code>\n    management.server.port=4242\n    management.endpoint.health.show-details=always\n    management.endpoints.web.exposure.include=*\n\n    management.endpoints.jmx.exposure.exclude=*\n    spring.jmx.enabled=true\n\n    management.endpoint.health.probes.enabled=true\n\n</code></pre>\n<p>2/ In a second time, I use a &quot;re.test.pos.api.consumer.WebClientInstanceBuilderAutoConfiguration&quot; in order to create a WebClientInstanceBuilder with the configuration containing in the application.properties which contains for example :</p>\n<pre><code>    xoapi.consumer.services.accountManagement.url=https://test.api:8443/test\n    xoapi.consumer.services.accountManagement.headers[Content-Type]=application/json\n    xoapi.consumer.services.accountManagement.headers[Accept-Language]=fr\n</code></pre>\n<p>My goal is to retrieve parameters starting with xoapi.consumer and push them into the ConsumerProperties class.\nAfter that, WebClientInstanceBuilderAutoConfiguration class load ConsumerProperties and instantiate a WebClientInstanceBuilder and a WebClient.Builder with this kind of command :</p>\n<pre><code>    return serviceBuilder.baseUrl(service.getUrl()).defaultHeaders(httpHeaders -&gt; {\n            service.getHeaders().forEach(httpHeaders::add);\n        }).codecs( codecs -&gt; {\n            codecs.defaultCodecs().maxInMemorySize(this.maxInMemorySize.intValue());\n        });\n</code></pre>\n<p>3/ After that, when I try the URL http://localhost:4242/actuator/prometheus in my browser I see the next metrics :</p>\n<pre><code>\nexecutor_active_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\nexecutor_pool_size_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\ntomcat_sessions_alive_max_seconds 0.0\ntomcat_sessions_expired_sessions_total 0.0\ntomcat_sessions_created_sessions_total 0.0\nexecutor_queued_tasks{name=&quot;applicationTaskExecutor&quot;,} 0.0\nexecutor_queue_remaining_tasks{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\napplication_started_time_seconds{main_application_class=&quot;re.test.pos.api.PointsOfSaleApiApplication&quot;,} 9.399\ntomcat_sessions_rejected_sessions_total 0.0\nexecutor_completed_tasks_total{name=&quot;applicationTaskExecutor&quot;,} 0.0\ntomcat_sessions_active_max_sessions 0.0\nexecutor_pool_core_threads{name=&quot;applicationTaskExecutor&quot;,} 8.0\nexecutor_pool_max_threads{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\napplication_ready_time_seconds{main_application_class=&quot;re.test.pos.api.PointsOfSaleApiApplication&quot;,} 9.433\ntomcat_sessions_active_current_sessions 0.0\n\n</code></pre>\n<p>4/ In the application.properties, if I put in comment :</p>\n<pre><code>\n#xoapi.consumer.services.accountManagement.url=https://test.api:8443/test\n#xoapi.consumer.services.accountManagement.headers[Content-Type]=application/json\n#xoapi.consumer.services.accountManagement.headers[Accept-Language]=fr\n</code></pre>\n<p>As there are no longer any associated configurations for WebClient creation, the WebClientInstanceBuilderAutoConfiguration class no longer attempts to instantiate a WebClient.</p>\n<p>In this case, if I try the URL http://localhost:4242/actuator/prometheus in my browser I see a lot of metrics, more than in the above example. For example I see the jvm metrics :</p>\n<pre><code>\nprocess_cpu_usage 0.1100376909902195\nexecutor_pool_max_threads{name=&quot;applicationTaskExecutor&quot;,} 2.147483647E9\njvm_threads_live_threads 37.0\ntomcat_sessions_rejected_sessions_total 0.0\njvm_threads_states_threads{state=&quot;runnable&quot;,} 10.0\njvm_threads_states_threads{state=&quot;blocked&quot;,} 0.0\njvm_threads_states_threads{state=&quot;waiting&quot;,} 22.0\njvm_threads_states_threads{state=&quot;timed-waiting&quot;,} 5.0\njvm_threads_states_threads{state=&quot;new&quot;,} 0.0\njvm_threads_states_threads{state=&quot;terminated&quot;,} 0.0\njvm_gc_memory_promoted_bytes_total 6495232.0\ntomcat_sessions_alive_max_seconds 0.0\njvm_gc_memory_allocated_bytes_total 7.1303168E7\nexecutor_pool_size_threads{name=&quot;applicationTaskExecutor&quot;,} 0.0\n....\n\n</code></pre>\n<p>5/ Questions :</p>\n<p>Why I don't see all the metrics if I create a WebClient ?</p>\n<p>6/ Here a zip file with the code\n<a href=\"https://github.com/micrometer-metrics/micrometer/files/12790078/pointsofsalemetricsnotcomplete-api.zip\" rel=\"nofollow noreferrer\">text</a></p>\n<p>Dezip the archive and run mvn clean install\nAfter thaht =&gt; run java -jar target\\pos-api-1.0.1.jar</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1413038317,"post_id":26315782,"comment_id":41297461,"body_markdown":"Please read up on [two&#39;s complement](http://en.wikipedia.org/wiki/Two%27s_complement).","body":"Please read up on <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two&#39;s complement</a>."}],"answers":[{"tags":[],"owner":{"account_id":8291,"reputation":860427,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1577750112,"creation_date":1413038333,"answer_id":26315812,"question_id":26315782,"body_markdown":"Your understanding of what those negative numbers should look like is flawed. Java uses two&#39;s complement for negative numbers and the basic rule is to take the positive, invert all bits then add one. That gets you the negative.\r\n\r\nHence five is, as you state:\r\n\r\n    0000...00000101\r\n\r\nInverting that gives you:\r\n\r\n    1111...11111010\r\n\r\nThen adding one gives:\r\n\r\n    1111...11111011\r\n\r\nThe bit pattern _you_ have shown for `-5` is what&#39;s called sign/magnitude, where you negate a number simply by flipping the leftmost bit. That&#39;s allowed in C implementations as one of the [three possibilities][1]&lt;sup&gt;(a)&lt;/sup&gt;, but Java uses two&#39;s complement only (for its negative integers).\r\n\r\n---\r\n\r\n&lt;sup&gt;(a)&lt;/sup&gt; But keep in mind there are current efforts in both C and C++ to remove the other two encoding types and allow only two&#39;s complement.\r\n\r\n  [1]: https://stackoverflow.com/questions/3952123/representation-of-negative-numbers-in-c/3952262#3952262","title":"Binary presentation of negative integer in Java","body":"<p>Your understanding of what those negative numbers should look like is flawed. Java uses two's complement for negative numbers and the basic rule is to take the positive, invert all bits then add one. That gets you the negative.</p>\n\n<p>Hence five is, as you state:</p>\n\n<pre><code>0000...00000101\n</code></pre>\n\n<p>Inverting that gives you:</p>\n\n<pre><code>1111...11111010\n</code></pre>\n\n<p>Then adding one gives:</p>\n\n<pre><code>1111...11111011\n</code></pre>\n\n<p>The bit pattern <em>you</em> have shown for <code>-5</code> is what's called sign/magnitude, where you negate a number simply by flipping the leftmost bit. That's allowed in C implementations as one of the <a href=\"https://stackoverflow.com/questions/3952123/representation-of-negative-numbers-in-c/3952262#3952262\">three possibilities</a><sup>(a)</sup>, but Java uses two's complement only (for its negative integers).</p>\n\n<hr>\n\n<p><sup>(a)</sup> But keep in mind there are current efforts in both C and C++ to remove the other two encoding types and allow only two's complement.</p>\n"},{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413038434,"creation_date":1413038434,"answer_id":26315823,"question_id":26315782,"body_markdown":"http://en.wikipedia.org/wiki/Two%27s_complement\r\n\r\nThe way negative numbers are stored is that the most significant bit (e.g. the bit representing 2^31 for a 32 bit number) is regarded as negative. So if you stored all 1s, you would add up\r\n\r\n    (-2^31) + 2^30 + 2^29 + ... + 2^1 + 2^0\r\n\r\nwhich makes `-1`.\r\n\r\nSmall negative numbers will be mostly ones under this representation.","title":"Binary presentation of negative integer in Java","body":"<p><a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Two%27s_complement</a></p>\n\n<p>The way negative numbers are stored is that the most significant bit (e.g. the bit representing 2^31 for a 32 bit number) is regarded as negative. So if you stored all 1s, you would add up</p>\n\n<pre><code>(-2^31) + 2^30 + 2^29 + ... + 2^1 + 2^0\n</code></pre>\n\n<p>which makes <code>-1</code>.</p>\n\n<p>Small negative numbers will be mostly ones under this representation.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1413039041,"creation_date":1413038490,"answer_id":26315828,"question_id":26315782,"body_markdown":"&gt; And as I understand binary presentation of -5 should be like `10000000.00000000.00000000.00000101`.\r\n\r\nThat would be right if Java used a [Sign and Magnitude][1] representation for integers. However, Java uses [Two&#39;s Complement][2] representation, so the rest of the bits are changed in accordance with the rules of that representation.\r\n\r\nThe idea behind two&#39;s complement representation is that when you add a number in such representation to another value dropping the extra bit on the most significant end, the result would be as if you subtracted a positive number of the same magnitude.\r\n\r\nYou can illustrate this with decimal numbers. In a two-digit representation, the value of 99 would behave like -1, 98 would be like -2, 97 like -3, and so on. For example, if you drop the top digit in `23 + 99 = [1]22`, so 99 behaved like -1. `23 + 98 = [1]21`, so 98 behaved like -2.\r\n\r\nThis works the same way with two&#39;s complement representation of binary numbers, except you would drop the extra bit at the top.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Signed_number_representations#Sign-and-magnitude_method\r\n  [2]: http://en.wikipedia.org/wiki/Signed_number_representations#Two.27s_complement","title":"Binary presentation of negative integer in Java","body":"<blockquote>\n  <p>And as I understand binary presentation of -5 should be like <code>10000000.00000000.00000000.00000101</code>.</p>\n</blockquote>\n\n<p>That would be right if Java used a <a href=\"http://en.wikipedia.org/wiki/Signed_number_representations#Sign-and-magnitude_method\" rel=\"noreferrer\">Sign and Magnitude</a> representation for integers. However, Java uses <a href=\"http://en.wikipedia.org/wiki/Signed_number_representations#Two.27s_complement\" rel=\"noreferrer\">Two's Complement</a> representation, so the rest of the bits are changed in accordance with the rules of that representation.</p>\n\n<p>The idea behind two's complement representation is that when you add a number in such representation to another value dropping the extra bit on the most significant end, the result would be as if you subtracted a positive number of the same magnitude.</p>\n\n<p>You can illustrate this with decimal numbers. In a two-digit representation, the value of 99 would behave like -1, 98 would be like -2, 97 like -3, and so on. For example, if you drop the top digit in <code>23 + 99 = [1]22</code>, so 99 behaved like -1. <code>23 + 98 = [1]21</code>, so 98 behaved like -2.</p>\n\n<p>This works the same way with two's complement representation of binary numbers, except you would drop the extra bit at the top.</p>\n"},{"tags":[],"owner":{"display_name":"user3830162"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413038503,"creation_date":1413038503,"answer_id":26315830,"question_id":26315782,"body_markdown":"Here is an example for 2&#39;s compliment:\r\n\r\nIf you have -30, and want to represent it in 2&#39;s complement, you take the binary representation of 30:\r\n\r\n0000 0000 0000 0000 0000 0000 0001 1110\r\n\r\nInvert the digits.\r\n\r\n1111 1111 1111 1111 1111 1111 1110 0001\r\n\r\nAnd add one.\r\n\r\n1111 1111 1111 1111 1111 1111 1110 0010\r\n\r\nConverted back into hex, this is 0xFFFFFFE2. And indeed, suppose you have this code:\r\n\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    int main() {\r\n        int myInt;\r\n        myInt = 0xFFFFFFE2;\r\n        printf(&quot;%d\\n&quot;,myInt);\r\n    \r\n        return 0;\r\n    }\r\n\r\nThat should yield an output of -30. Try it out if you like.","title":"Binary presentation of negative integer in Java","body":"<p>Here is an example for 2's compliment:</p>\n\n<p>If you have -30, and want to represent it in 2's complement, you take the binary representation of 30:</p>\n\n<p>0000 0000 0000 0000 0000 0000 0001 1110</p>\n\n<p>Invert the digits.</p>\n\n<p>1111 1111 1111 1111 1111 1111 1110 0001</p>\n\n<p>And add one.</p>\n\n<p>1111 1111 1111 1111 1111 1111 1110 0010</p>\n\n<p>Converted back into hex, this is 0xFFFFFFE2. And indeed, suppose you have this code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    int myInt;\n    myInt = 0xFFFFFFE2;\n    printf(\"%d\\n\",myInt);\n\n    return 0;\n}\n</code></pre>\n\n<p>That should yield an output of -30. Try it out if you like.</p>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677595660,"creation_date":1413050141,"answer_id":26317552,"question_id":26315782,"body_markdown":"With two&#39;s complement it&#39;s true that a MSB of 1 indicates a negative number. But the remaining bits are not the binary representation of its value then.\r\n\r\nOn the other hand, if the MSB is 0 the remaining bits represent the binary value. But it cannot be said that the number is positive then. Zero is neither positive nor negative. \r\n\r\nThis picture, a [number circle][nc], helped me to understand the principle when I started to learn that there are more representations of numbers than with 0..9:\r\n\r\n               0\r\n        -1    000    1\r\n           111   001  \r\n    -2  110         010  2\r\n           101   011\r\n        -3    100    3\r\n              -4\r\n\r\nOr as linked above:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/jBWno.gif&quot; width=&quot;320&quot; height=&quot;256&quot;&gt;\r\n\r\n\r\n[nc]: https://i.stack.imgur.com/jBWno.gif","title":"Binary presentation of negative integer in Java","body":"<p>With two's complement it's true that a MSB of 1 indicates a negative number. But the remaining bits are not the binary representation of its value then.</p>\n<p>On the other hand, if the MSB is 0 the remaining bits represent the binary value. But it cannot be said that the number is positive then. Zero is neither positive nor negative.</p>\n<p>This picture, a <a href=\"https://i.stack.imgur.com/jBWno.gif\" rel=\"nofollow noreferrer\">number circle</a>, helped me to understand the principle when I started to learn that there are more representations of numbers than with 0..9:</p>\n<pre><code>           0\n    -1    000    1\n       111   001  \n-2  110         010  2\n       101   011\n    -3    100    3\n          -4\n</code></pre>\n<p>Or as linked above:</p>\n<img src=\"https://i.stack.imgur.com/jBWno.gif\" width=\"320\" height=\"256\">\n"},{"tags":[],"owner":{"account_id":22049143,"reputation":3,"user_id":16313677,"display_name":"Jatin Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697043082,"creation_date":1697043082,"answer_id":77274959,"question_id":26315782,"body_markdown":"https://stackoverflow.com/a/26315812/16313677 this explains how to get a two&#39;s complement. But I am writing this answer to give an intuitive insight to two&#39;s complement. How it represents negative of a number.\r\n\r\n 1. Lets assume we are working with 32 bit integers and the first bit ( that is the most significant bit) has a direction of -1 instead of usual one. What do I mean that. If you are given binary number 101 it means `(+1)*(2^2) + (0)*(2^1) + (+1)*(2^0)`. However if the most significant bit is set, it represents `(-1)*(2^31)`\r\n 2. lets x be our original positive number. Lets assume we flip all its bits except the most significant bit. We get a number y. Now `x + y = 2^31 - 1`\r\n 3. By rearranging we get `-x = -(2^31) + y + 1`\r\n\r\nNow look carefully at the RHS of the last equation. We will get `-(2^31)` through the most significant bit. y is received by flipping all the bits. And we add 1. This is exactly how we do two&#39;s complement. ","title":"Binary presentation of negative integer in Java","body":"<p><a href=\"https://stackoverflow.com/a/26315812/16313677\">https://stackoverflow.com/a/26315812/16313677</a> this explains how to get a two's complement. But I am writing this answer to give an intuitive insight to two's complement. How it represents negative of a number.</p>\n<ol>\n<li>Lets assume we are working with 32 bit integers and the first bit ( that is the most significant bit) has a direction of -1 instead of usual one. What do I mean that. If you are given binary number 101 it means <code>(+1)*(2^2) + (0)*(2^1) + (+1)*(2^0)</code>. However if the most significant bit is set, it represents <code>(-1)*(2^31)</code></li>\n<li>lets x be our original positive number. Lets assume we flip all its bits except the most significant bit. We get a number y. Now <code>x + y = 2^31 - 1</code></li>\n<li>By rearranging we get <code>-x = -(2^31) + y + 1</code></li>\n</ol>\n<p>Now look carefully at the RHS of the last equation. We will get <code>-(2^31)</code> through the most significant bit. y is received by flipping all the bits. And we add 1. This is exactly how we do two's complement.</p>\n"}],"owner":{"account_id":1873537,"reputation":1459,"user_id":1695258,"accept_rate":73,"display_name":"Petr Shypila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17839,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":26315812,"answer_count":6,"score":19,"last_activity_date":1697043082,"creation_date":1413038166,"question_id":26315782,"body_markdown":"Please, help me to understand binary presentation of negative integers.\r\n\r\nFor example we have 5. \r\nBinary presentation of 5 is `00000000.00000000.00000000.00000101`.\r\n\r\nAnd as I understand binary presentation of -5 should be like `10000000.00000000.00000000.00000101`.\r\n\r\nBut output is `11111111.11111111.11111111.11111011`.\r\n\r\nI have 2 question:\r\n\r\n1) Why here is so much `1` bits.\r\n\r\n2) What I really cant understand it last 3 bits `011`. It looks like `3`. Even +1 or -1 it&#39;ll be `100` or `010`\r\n\r\nThanks","title":"Binary presentation of negative integer in Java","body":"<p>Please, help me to understand binary presentation of negative integers.</p>\n\n<p>For example we have 5. \nBinary presentation of 5 is <code>00000000.00000000.00000000.00000101</code>.</p>\n\n<p>And as I understand binary presentation of -5 should be like <code>10000000.00000000.00000000.00000101</code>.</p>\n\n<p>But output is <code>11111111.11111111.11111111.11111011</code>.</p>\n\n<p>I have 2 question:</p>\n\n<p>1) Why here is so much <code>1</code> bits.</p>\n\n<p>2) What I really cant understand it last 3 bits <code>011</code>. It looks like <code>3</code>. Even +1 or -1 it'll be <code>100</code> or <code>010</code></p>\n\n<p>Thanks</p>\n"},{"tags":["java","intellij-idea","configuration","ide","jetbrains-ide"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":1,"creation_date":1534645523,"post_id":51913927,"comment_id":90777886,"body_markdown":"Right Click -&gt; Run.  They probably have to be within a source folder inside a Java project, though.","body":"Right Click -&gt; Run.  They probably have to be within a source folder inside a Java project, though."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1534645576,"post_id":51913927,"comment_id":90777893,"body_markdown":"https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html","body":"<a href=\"https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-application.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":10159575,"reputation":19,"user_id":8238204,"display_name":"iamlearningmath"},"score":0,"creation_date":1534646460,"post_id":51913927,"comment_id":90778027,"body_markdown":"@CrazyCoder I have been through the link before, and I did not find anything specific to this situation. I have a workaround but I know there is a way to directly do it, I want to know it because it will help me learn and understand.","body":"@CrazyCoder I have been through the link before, and I did not find anything specific to this situation. I have a workaround but I know there is a way to directly do it, I want to know it because it will help me learn and understand."}],"answers":[{"tags":[],"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534646927,"creation_date":1534646927,"answer_id":51914033,"question_id":51913927,"body_markdown":"IntelliJ IDEA is a great IDE!\r\n\r\nThis is what I would do:\r\n\r\n* Select File/New/Project... in the menu. You will get a new modal window.\r\n* Then select Java on the left, make sure that you have your JDK selected (top right), it not there, create it right from the window. Click &#39;Next&#39;.\r\n* Just go &#39;Next&#39; on the &#39;create project from template&#39; step.\r\n* Then type your project name and select a folder for it. It will create a new project.\r\n* After that, copy your java files into &lt;your-new-project-folder&gt;/src folder using drag-and-drop in IDEA or just a file manager you like. \r\nNow you have an IDEA project with your source code in it. You might need to sync your IDEA project, use File/Synchronize for that.\r\n* Finally, you can right click on you java file and &#39;Run&#39; it from IDEA.\r\n\r\nIt the project fails on compilation you might need to add required imports and libraries, but that depends on your code. IDEA will highlight all the errors.\r\n \r\n\r\n\r\n\r\n","title":"Running Java file in IntelliJ","body":"<p>IntelliJ IDEA is a great IDE!</p>\n\n<p>This is what I would do:</p>\n\n<ul>\n<li>Select File/New/Project... in the menu. You will get a new modal window.</li>\n<li>Then select Java on the left, make sure that you have your JDK selected (top right), it not there, create it right from the window. Click 'Next'.</li>\n<li>Just go 'Next' on the 'create project from template' step.</li>\n<li>Then type your project name and select a folder for it. It will create a new project.</li>\n<li>After that, copy your java files into /src folder using drag-and-drop in IDEA or just a file manager you like. \nNow you have an IDEA project with your source code in it. You might need to sync your IDEA project, use File/Synchronize for that.</li>\n<li>Finally, you can right click on you java file and 'Run' it from IDEA.</li>\n</ul>\n\n<p>It the project fails on compilation you might need to add required imports and libraries, but that depends on your code. IDEA will highlight all the errors.</p>\n"},{"tags":[],"owner":{"account_id":10159575,"reputation":19,"user_id":8238204,"display_name":"iamlearningmath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697042381,"creation_date":1697042381,"answer_id":77274889,"question_id":51913927,"body_markdown":"Folders have to be marked as source root. Right click the project directory, and scroll down to Mark Directory As, and then select Source Root. Solved the problem for me. ","title":"Running Java file in IntelliJ","body":"<p>Folders have to be marked as source root. Right click the project directory, and scroll down to Mark Directory As, and then select Source Root. Solved the problem for me.</p>\n"}],"owner":{"account_id":10159575,"reputation":19,"user_id":8238204,"display_name":"iamlearningmath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5921,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77274889,"answer_count":2,"score":2,"last_activity_date":1697042381,"creation_date":1534645241,"question_id":51913927,"body_markdown":"I need some help with IntelliJ. I am fairly new to programming, and I have some experience with the IDE but I am by no means a know-it-all when it comes to IntelliJ. \r\n\r\nI have 3 Java files (without their respective class files). When I open intelliJ it asks me: \r\n\r\n - Create New Project\r\n - Import Project\r\n - Open\r\n - Check out from Version Control\r\n\r\nI click on open, IntelliJ opens up a file location, I click on one of the three Java files to open, and I drag the other two one by one (they open in their separate tab). \r\n\r\nI cannot figure out how to run them. It is likely that I need to create run configuration and I don&#39;t know how to do it. I know how to create a new project and get everything working, but I don&#39;t know how I can get the files working if I just open them. Can someone tell me how to create the run configurations to run the files? Please and thank you. ","title":"Running Java file in IntelliJ","body":"<p>I need some help with IntelliJ. I am fairly new to programming, and I have some experience with the IDE but I am by no means a know-it-all when it comes to IntelliJ. </p>\n\n<p>I have 3 Java files (without their respective class files). When I open intelliJ it asks me: </p>\n\n<ul>\n<li>Create New Project</li>\n<li>Import Project</li>\n<li>Open</li>\n<li>Check out from Version Control</li>\n</ul>\n\n<p>I click on open, IntelliJ opens up a file location, I click on one of the three Java files to open, and I drag the other two one by one (they open in their separate tab). </p>\n\n<p>I cannot figure out how to run them. It is likely that I need to create run configuration and I don't know how to do it. I know how to create a new project and get everything working, but I don't know how I can get the files working if I just open them. Can someone tell me how to create the run configurations to run the files? Please and thank you. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1697040992,"post_id":77274740,"comment_id":136230346,"body_markdown":"Can you post the part of your pom.xml that is relevant to the `exec-maven-plugin`?","body":"Can you post the part of your pom.xml that is relevant to the <code>exec-maven-plugin</code>?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1697041292,"post_id":77274740,"comment_id":136230417,"body_markdown":"I&#39;m not sure you really get any advantage using maven for a java program as simple as yours. Are you required to use maven to build your project or trying to learn maven? If not I would think about just compiling and running this simple class as a standard non-maven project.","body":"I&#39;m not sure you really get any advantage using maven for a java program as simple as yours. Are you required to use maven to build your project or trying to learn maven? If not I would think about just compiling and running this simple class as a standard non-maven project."},{"owner":{"account_id":29649902,"reputation":1,"user_id":22724079,"display_name":"Maxwell Jared"},"score":0,"creation_date":1697041318,"post_id":77274740,"comment_id":136230422,"body_markdown":"@f1sh I&#39;m not sure if this is it","body":"@f1sh I&#39;m not sure if this is it"},{"owner":{"account_id":29649902,"reputation":1,"user_id":22724079,"display_name":"Maxwell Jared"},"score":0,"creation_date":1697041327,"post_id":77274740,"comment_id":136230423,"body_markdown":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;","body":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;<a href=\"http://maven.apache.org/POM/4.0.0\" rel=\"nofollow noreferrer\">maven.apache.org/POM/4.0.0</a>&quot; xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot; xsi:schemaLocation=&quot;<a href=\"http://maven.apache.org/POM/4.0.0\" rel=\"nofollow noreferrer\">maven.apache.org/POM/4.0.0</a> <a href=\"http://maven.apache.org/xsd/maven-4.0.0.xsd\" rel=\"nofollow noreferrer\">maven.apache.org/xsd/maven-4.0.0.xsd</a>&quot;&gt;"},{"owner":{"account_id":29649902,"reputation":1,"user_id":22724079,"display_name":"Maxwell Jared"},"score":0,"creation_date":1697041393,"post_id":77274740,"comment_id":136230440,"body_markdown":"@OHGODSPIDERS My university course requires me to use the Netbeans compiler for my projects, and honestly I&#39;m don&#39;t really know what maven does either","body":"@OHGODSPIDERS My university course requires me to use the Netbeans compiler for my projects, and honestly I&#39;m don&#39;t really know what maven does either"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697041461,"post_id":77274740,"comment_id":136230454,"body_markdown":"Try typing the answer in the output window (even without seeing a prompt!) If it works (and prints the prompt afterwards) then it&#39;s the Netbeans bug reported above.","body":"Try typing the answer in the output window (even without seeing a prompt!) If it works (and prints the prompt afterwards) then it&#39;s the Netbeans bug reported above."},{"owner":{"account_id":29649902,"reputation":1,"user_id":22724079,"display_name":"Maxwell Jared"},"score":1,"creation_date":1697041846,"post_id":77274740,"comment_id":136230537,"body_markdown":"@k314159 I followed the instructions on the link you provided me and it worked! I didn&#39;t expect it to be a bug from Netbeans itself though, I&#39;ve been trying to figure this out for hours, thank you so much!","body":"@k314159 I followed the instructions on the link you provided me and it worked! I didn&#39;t expect it to be a bug from Netbeans itself though, I&#39;ve been trying to figure this out for hours, thank you so much!"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697041916,"post_id":77274740,"comment_id":136230557,"body_markdown":"Post your additional details as edits to your Question rather than as Comments.","body":"Post your additional details as edits to your Question rather than as Comments."}],"owner":{"account_id":29649902,"reputation":1,"user_id":22724079,"display_name":"Maxwell Jared"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697041960,"answer_count":0,"score":0,"last_activity_date":1697042146,"creation_date":1697040900,"question_id":77274740,"body_markdown":"I&#39;m still quite new to java and NetBeans and I encountered this problem recently. I&#39;ve tried compiling my code multiple times now but its not working. It keeps getting stuck at exec-maven-plugin:3.0.0:exec (default-cli). My code is for used to convert celsius to fahrenheit.\r\n```\r\nimport java.util.Scanner;\r\npublic class NewClass {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        System.out.print(&quot;Enter a degree in Celsius: &quot;);\r\n        double celsius = input.nextDouble();\r\n        \r\n        double fahrenheit = (9.0 / 5.0) * celsius + 32;\r\n        \r\n        System.out.println(celsius + &quot; Celsius is &quot; + fahrenheit + &quot; Fahrenheit&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe program should have loaded fine since it worked with a simple hello world program.This is the error I have been receiving the entire time.\r\n\r\n```\r\nScanning for projects...\r\n\r\n------------------------&lt; com.mycompany:demmo &gt;-------------------------\r\nBuilding demo 1.0-SNAPSHOT\r\n--------------------------------[ jar ]---------------------------------\r\n\r\n--- maven-resources-plugin:2.6:resources (default-resources) @ demmo ---\r\nUsing &#39;UTF-8&#39; encoding to copy filtered resources.\r\nskip non existing resourceDirectory D:\\OneDrive\\Documents\\NetBeansProjects\\demmo\\src\\main\\resources\r\n\r\n--- maven-compiler-plugin:3.1:compile (default-compile) @ demmo ---\r\nChanges detected - recompiling the module!\r\nCompiling 1 source file to D:\\OneDrive\\Documents\\NetBeansProjects\\demmo\\target\\classes\r\n\r\n--- exec-maven-plugin:3.0.0:exec (default-cli) @ demmo ---\r\n\r\n```\r\nThis is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demmo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n&lt;/project&gt;\r\n```","title":"Code keeps freezing whenever I compile it in Netbeans","body":"<p>I'm still quite new to java and NetBeans and I encountered this problem recently. I've tried compiling my code multiple times now but its not working. It keeps getting stuck at exec-maven-plugin:3.0.0:exec (default-cli). My code is for used to convert celsius to fahrenheit.</p>\n<pre><code>import java.util.Scanner;\npublic class NewClass {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter a degree in Celsius: &quot;);\n        double celsius = input.nextDouble();\n        \n        double fahrenheit = (9.0 / 5.0) * celsius + 32;\n        \n        System.out.println(celsius + &quot; Celsius is &quot; + fahrenheit + &quot; Fahrenheit&quot;);\n    }\n}\n</code></pre>\n<p>The program should have loaded fine since it worked with a simple hello world program.This is the error I have been receiving the entire time.</p>\n<pre><code>Scanning for projects...\n\n------------------------&lt; com.mycompany:demmo &gt;-------------------------\nBuilding demo 1.0-SNAPSHOT\n--------------------------------[ jar ]---------------------------------\n\n--- maven-resources-plugin:2.6:resources (default-resources) @ demmo ---\nUsing 'UTF-8' encoding to copy filtered resources.\nskip non existing resourceDirectory D:\\OneDrive\\Documents\\NetBeansProjects\\demmo\\src\\main\\resources\n\n--- maven-compiler-plugin:3.1:compile (default-compile) @ demmo ---\nChanges detected - recompiling the module!\nCompiling 1 source file to D:\\OneDrive\\Documents\\NetBeansProjects\\demmo\\target\\classes\n\n--- exec-maven-plugin:3.0.0:exec (default-cli) @ demmo ---\n\n</code></pre>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;demmo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","generics","collections","binary-search","comparator"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1658344571,"post_id":73057032,"comment_id":129031437,"body_markdown":"Do you know how a binary search works?","body":"Do you know how a binary search works?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1658344878,"post_id":73057032,"comment_id":129031535,"body_markdown":"You don&#39;t need a comparator when for string because string are already comparable.  So, use the first method which doesn&#39;t require a comparator.  If you have a custom class that does not implement comparable, you must provide a comparator so that the binary search algorithm knows how to compare the objects in the list.","body":"You don&#39;t need a comparator when for string because string are already comparable.  So, use the first method which doesn&#39;t require a comparator.  If you have a custom class that does not implement comparable, you must provide a comparator so that the binary search algorithm knows how to compare the objects in the list."},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1658345558,"post_id":73057032,"comment_id":129031720,"body_markdown":"The list is sorted, but `key` is not yet &quot;sorted into&quot; the list.","body":"The list is sorted, but <code>key</code> is not yet &quot;sorted into&quot; the list."}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658717295,"creation_date":1658344664,"answer_id":73057082,"question_id":73057032,"body_markdown":"Fundamentally, the binary search algorithm needs to know how to compare elements. When it examines a bisection point it needs to know if the element you&#39;re searching for is to the left or the right. That requires a comparison.\r\n\r\n`Collections` has two `binarySearch` methods, [one with a comparator][2] and [one without][1]. If your elements are `Comparable` then you don&#39;t need to pass a comparator. You can just pass the list and the search key:\r\n\r\n```\r\nint binarySearch​(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)\r\n```\r\n\r\nIf they&#39;re not `Comparable` then you need to tell `binarySearch` how to compare them by passing a custom `Comparator`:\r\n\r\n```\r\nint binarySearch​(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c)\r\n```\r\n\r\nIn your example code, `String`s are `Comparable`, so you don&#39;t need `MyComp`.\r\n\r\n```\r\nint pos = Collections.binarySearch(al, &quot;B&quot;);\r\n```\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#binarySearch(java.util.List,T)\r\n[2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#binarySearch(java.util.List,T,java.util.Comparator)","title":"Why does the Collections.binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c) method require a Comparator object as it argument?","body":"<p>Fundamentally, the binary search algorithm needs to know how to compare elements. When it examines a bisection point it needs to know if the element you're searching for is to the left or the right. That requires a comparison.</p>\n<p><code>Collections</code> has two <code>binarySearch</code> methods, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#binarySearch(java.util.List,T,java.util.Comparator)\" rel=\"nofollow noreferrer\">one with a comparator</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#binarySearch(java.util.List,T)\" rel=\"nofollow noreferrer\">one without</a>. If your elements are <code>Comparable</code> then you don't need to pass a comparator. You can just pass the list and the search key:</p>\n<pre><code>int binarySearch​(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)\n</code></pre>\n<p>If they're not <code>Comparable</code> then you need to tell <code>binarySearch</code> how to compare them by passing a custom <code>Comparator</code>:</p>\n<pre><code>int binarySearch​(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c)\n</code></pre>\n<p>In your example code, <code>String</code>s are <code>Comparable</code>, so you don't need <code>MyComp</code>.</p>\n<pre><code>int pos = Collections.binarySearch(al, &quot;B&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25528297,"reputation":21,"user_id":19316899,"display_name":"dannyf325"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658613311,"creation_date":1658351026,"answer_id":73058106,"question_id":73057032,"body_markdown":"Remember that there are many different methods on Java&#39;s array class in order to use Binary Search. You can find a list of them [here][1].\r\n\r\nIn general, if you are searching for a primitive, byte, or comparable object in some array or list, you should be using one of the methods that doesn&#39;t include any comparator. \r\n\r\nHowever, what if you have a list of objects that aren&#39;t comparable by default? For example, say you define a `Person` data type, which has some properties such as a height, and age, and a name. Now, say you are storing a list of persons. If you wanted to find a certain `Person` in a sorted list of `Person` objects, by default, Java has no idea how to perform this binary search. \r\n\r\nAs a reminder, Java determines where to move in the binary search by comparing the key it is currently inspecting to the target key. But, Java has no idea what it means to check whether one `Person` object is greater, less than, or equal to another. Should it use the height to determine which is greater? Should it compare based on last name or any other variable? \r\n\r\nThis is where comparators come in. I need to tell Java what it means when I ask to compare two `Person` objects.\r\n\r\nTo write the comparator, you need to create a class. This can be a private class in the same file as the object, or you can even write it in the method itself. The comparator should implement two methods: `compare` and `equals`. You can see the documentation [here][2]. Once you write this, you pass in the comparator you just created, so Java now knows how to compare the objects in the given list or array.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html","title":"Why does the Collections.binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c) method require a Comparator object as it argument?","body":"<p>Remember that there are many different methods on Java's array class in order to use Binary Search. You can find a list of them <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In general, if you are searching for a primitive, byte, or comparable object in some array or list, you should be using one of the methods that doesn't include any comparator.</p>\n<p>However, what if you have a list of objects that aren't comparable by default? For example, say you define a <code>Person</code> data type, which has some properties such as a height, and age, and a name. Now, say you are storing a list of persons. If you wanted to find a certain <code>Person</code> in a sorted list of <code>Person</code> objects, by default, Java has no idea how to perform this binary search.</p>\n<p>As a reminder, Java determines where to move in the binary search by comparing the key it is currently inspecting to the target key. But, Java has no idea what it means to check whether one <code>Person</code> object is greater, less than, or equal to another. Should it use the height to determine which is greater? Should it compare based on last name or any other variable?</p>\n<p>This is where comparators come in. I need to tell Java what it means when I ask to compare two <code>Person</code> objects.</p>\n<p>To write the comparator, you need to create a class. This can be a private class in the same file as the object, or you can even write it in the method itself. The comparator should implement two methods: <code>compare</code> and <code>equals</code>. You can see the documentation <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">here</a>. Once you write this, you pass in the comparator you just created, so Java now knows how to compare the objects in the given list or array.</p>\n"},{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697040505,"creation_date":1697039760,"answer_id":77274637,"question_id":73057032,"body_markdown":"There are two sets of sort() and binarySearch(). They must be matched since binarySearch() must take a sorted list in ascending order.\r\n\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\r\n    public static &lt;T&gt; int binarySearch(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)\r\n\r\nMethods require  your T extends Comparable&lt;? super T&gt;. You are sorting and searching using your implmenation of Comparable. No need to set Comparator.\r\n\r\nJavadoc for binarySearch:\r\n\r\n&gt; The list must be sorted into ascending order according to the natural\r\n&gt; ordering of its elements (as by the **sort(List)** method) prior to making\r\n&gt; this call.\r\n\r\n\r\n    public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)\r\n    public static &lt;T&gt; int binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c)\r\n\r\nNone of methods require your T extends Comparable&lt;? super T&gt;. Even if you have implemented Comparable, you now have the option to choose as a different Comparator to sort and search.\r\n\r\nJavadoc for binarySearch:\r\n\r\n&gt; The list must be sorted into ascending order according to the\r\n&gt; specified comparator (as by the **sort(List, Comparator)** method), prior\r\n&gt; to making this call.\r\n\r\n    record Person(String name, String address) implements Comparable&lt;Person&gt;{\r\n    \r\n        @Override\r\n        public int compareTo(Person o) {\r\n            return this.name.compareTo(o.name);\r\n        }\r\n    }\r\n    public class binary_sorted_object {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Person&gt; t = new ArrayList&lt;&gt;(List.of(\r\n                    new Person(&quot;a&quot;, &quot;400 Line&quot;),\r\n                    new Person(&quot;c&quot;, &quot;100 Line&quot;),\r\n                    new Person(&quot;b&quot;, &quot;800 Line&quot;)));\r\n    \r\n            Collections.sort(t);\r\n            //sorted into ascending order according to the natural ordering of its elements (as by the sort(List) method)\r\n            System.out.println(Collections.binarySearch(t, new Person(&quot;a&quot;, &quot;400 Line&quot;)));\r\n    \r\n            Collections.sort(t, Comparator.comparing(Person::address));\r\n            //Sorts the specified list according to the order induced by the specified comparator\r\n            System.out.println(Collections.binarySearch(t,  new Person(&quot;a&quot;, &quot;400 Line&quot;), Comparator.comparing(Person::address)));\r\n        }\r\n    }","title":"Why does the Collections.binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c) method require a Comparator object as it argument?","body":"<p>There are two sets of sort() and binarySearch(). They must be matched since binarySearch() must take a sorted list in ascending order.</p>\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\npublic static &lt;T&gt; int binarySearch(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)\n</code></pre>\n<p>Methods require  your T extends Comparable&lt;? super T&gt;. You are sorting and searching using your implmenation of Comparable. No need to set Comparator.</p>\n<p>Javadoc for binarySearch:</p>\n<blockquote>\n<p>The list must be sorted into ascending order according to the natural\nordering of its elements (as by the <strong>sort(List)</strong> method) prior to making\nthis call.</p>\n</blockquote>\n<pre><code>public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)\npublic static &lt;T&gt; int binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c)\n</code></pre>\n<p>None of methods require your T extends Comparable&lt;? super T&gt;. Even if you have implemented Comparable, you now have the option to choose as a different Comparator to sort and search.</p>\n<p>Javadoc for binarySearch:</p>\n<blockquote>\n<p>The list must be sorted into ascending order according to the\nspecified comparator (as by the <strong>sort(List, Comparator)</strong> method), prior\nto making this call.</p>\n</blockquote>\n<pre><code>record Person(String name, String address) implements Comparable&lt;Person&gt;{\n\n    @Override\n    public int compareTo(Person o) {\n        return this.name.compareTo(o.name);\n    }\n}\npublic class binary_sorted_object {\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; t = new ArrayList&lt;&gt;(List.of(\n                new Person(&quot;a&quot;, &quot;400 Line&quot;),\n                new Person(&quot;c&quot;, &quot;100 Line&quot;),\n                new Person(&quot;b&quot;, &quot;800 Line&quot;)));\n\n        Collections.sort(t);\n        //sorted into ascending order according to the natural ordering of its elements (as by the sort(List) method)\n        System.out.println(Collections.binarySearch(t, new Person(&quot;a&quot;, &quot;400 Line&quot;)));\n\n        Collections.sort(t, Comparator.comparing(Person::address));\n        //Sorts the specified list according to the order induced by the specified comparator\n        System.out.println(Collections.binarySearch(t,  new Person(&quot;a&quot;, &quot;400 Line&quot;), Comparator.comparing(Person::address)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1697040505,"creation_date":1658344393,"question_id":73057032,"body_markdown":"Here is my code:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    \r\n    class MyComp implements Comparator&lt;String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic int compare(String o1, String o2) {\r\n    \t\treturn o1.compareTo(o2);\r\n    \t}\r\n    \t\r\n    }\r\n    public class CollectionsAlgo2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Create an ArrayList\r\n    \t\tArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\t// Add elements to the array list.\r\n    \t\tal.add(&quot;C&quot;);\r\n    \t\tal.add(&quot;A&quot;);\r\n    \t\tal.add(&quot;E&quot;);\r\n    \t\tal.add(&quot;B&quot;);\r\n    \t\tal.add(&quot;D&quot;);\r\n    \t\tal.add(&quot;F&quot;);\r\n    \t\tal.add(1, &quot;A2&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;al: &quot;+al);\r\n    \t\tCollections.sort(al);\r\n    \t\tSystem.out.println(&quot;al after sorting: &quot;+al);\r\n    \t\tint pos = Collections.binarySearch(al, &quot;B&quot;, new MyComp());\r\n    \t\tSystem.out.println(&quot;pos: &quot;+pos);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nMy question is what is the purpose of having a Comparator reference as parameter in the Collections.binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c) as we are already passing the list sorted in ascending order?\r\n\r\nHow could this Comparator reference help in doing the binary search?\r\n","title":"Why does the Collections.binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c) method require a Comparator object as it argument?","body":"<p>Here is my code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\nclass MyComp implements Comparator&lt;String&gt; {\n\n    @Override\n    public int compare(String o1, String o2) {\n        return o1.compareTo(o2);\n    }\n    \n}\npublic class CollectionsAlgo2 {\n\n    public static void main(String[] args) {\n        // Create an ArrayList\n        ArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\n        \n        // Add elements to the array list.\n        al.add(&quot;C&quot;);\n        al.add(&quot;A&quot;);\n        al.add(&quot;E&quot;);\n        al.add(&quot;B&quot;);\n        al.add(&quot;D&quot;);\n        al.add(&quot;F&quot;);\n        al.add(1, &quot;A2&quot;);\n        \n        System.out.println(&quot;al: &quot;+al);\n        Collections.sort(al);\n        System.out.println(&quot;al after sorting: &quot;+al);\n        int pos = Collections.binarySearch(al, &quot;B&quot;, new MyComp());\n        System.out.println(&quot;pos: &quot;+pos);\n\n    }\n\n}\n</code></pre>\n<p>My question is what is the purpose of having a Comparator reference as parameter in the Collections.binarySearch(List&lt;? extends T&gt; list, T key, Comparator&lt;? super T&gt; c) as we are already passing the list sorted in ascending order?</p>\n<p>How could this Comparator reference help in doing the binary search?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6212471,"reputation":37,"user_id":4838367,"display_name":"Jagan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595057382,"creation_date":1595057382,"answer_id":62965873,"question_id":62959214,"body_markdown":"You can dynamically change properties using property loader. Hope this links helps you [here][1]\r\n\r\n\r\n  [1]: https://jeroenbellen.com/manage-and-reload-spring-application-properties-on-the-fly/","title":"Dynamically change application properties value In spring Boot Batch","body":"<p>You can dynamically change properties using property loader. Hope this links helps you <a href=\"https://jeroenbellen.com/manage-and-reload-spring-application-properties-on-the-fly/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2194914,"reputation":341,"user_id":1940878,"accept_rate":40,"display_name":"User_1940878"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11566,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697040170,"creation_date":1595007722,"question_id":62959214,"body_markdown":"I have created a Spring boot Batch project (2.3.0). \r\nI have started the same in a Linux server (Dev environment).\r\nThere is an application.properties and application-dev.properties inside the Batch/conf folder. \r\nFrom application-dev.properties I am taking a value in my Spring Boot Tasklet as below\r\n\r\n**Code**\r\n\r\n    @Value(&quot;${configurable.json}&quot;)\r\n    private String configurableJson;\r\n\r\n**application-dev.properties**\r\n\r\n    configurable.json = {&quot;name&quot;:&quot;name1&quot;}\r\n\r\nNow if I change the configurable.json value in application-dev.properties, the change is not reflected in the batch process even after restarting the batch. When I take a build (my build is a zip) and redeploy it, it is correctly taking. How can I make reflect the changes in property files without a redeployment? \r\n\r\n**Command Used to run the Batch**\r\n\r\n    nohup java -cp &quot;/usr/share/Batch/lib:/usr/share/Batch/lib/*:/usr/share/Batch/conf&quot; com.company.batch.Application &amp; ","title":"Dynamically change application properties value In spring Boot Batch","body":"<p>I have created a Spring boot Batch project (2.3.0).\nI have started the same in a Linux server (Dev environment).\nThere is an application.properties and application-dev.properties inside the Batch/conf folder.\nFrom application-dev.properties I am taking a value in my Spring Boot Tasklet as below</p>\n<p><strong>Code</strong></p>\n<pre><code>@Value(&quot;${configurable.json}&quot;)\nprivate String configurableJson;\n</code></pre>\n<p><strong>application-dev.properties</strong></p>\n<pre><code>configurable.json = {&quot;name&quot;:&quot;name1&quot;}\n</code></pre>\n<p>Now if I change the configurable.json value in application-dev.properties, the change is not reflected in the batch process even after restarting the batch. When I take a build (my build is a zip) and redeploy it, it is correctly taking. How can I make reflect the changes in property files without a redeployment?</p>\n<p><strong>Command Used to run the Batch</strong></p>\n<pre><code>nohup java -cp &quot;/usr/share/Batch/lib:/usr/share/Batch/lib/*:/usr/share/Batch/conf&quot; com.company.batch.Application &amp; \n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":5,"creation_date":1421062254,"post_id":27900934,"comment_id":44201464,"body_markdown":"You&#39;re only using mockito from test-scope, right? i.e. `src/test/java` rather than `src/main/java`.","body":"You&#39;re only using mockito from test-scope, right? i.e. <code>src&#47;test&#47;java</code> rather than <code>src&#47;main&#47;java</code>."},{"owner":{"account_id":3154697,"reputation":7046,"user_id":2667343,"display_name":"pasha701"},"score":3,"creation_date":1421146505,"post_id":27900934,"comment_id":44238283,"body_markdown":"try to remove &quot;&lt;scope&gt;test&lt;/scope&gt;&quot; temporarily and try again.","body":"try to remove &quot;&lt;scope&gt;test&lt;/scope&gt;&quot; temporarily and try again."},{"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"score":1,"creation_date":1554326588,"post_id":27900934,"comment_id":97715047,"body_markdown":"can you add complete pom file  and your package structure project to pom also add your nexus is local or hiting global public maven ?","body":"can you add complete pom file  and your package structure project to pom also add your nexus is local or hiting global public maven ?"}],"answers":[{"tags":[],"owner":{"account_id":5155415,"reputation":337,"user_id":4156963,"accept_rate":33,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585655664,"creation_date":1421062577,"answer_id":27901067,"question_id":27900934,"body_markdown":"1. First, check your local repository whether the jar is available \r\n\r\n2. If not available then please check the address of maven central repository and proxy settings are configured correctly in your `.m2/setting.xml`.","title":"maven error: package org.mockito does not exist","body":"<ol>\n<li><p>First, check your local repository whether the jar is available </p></li>\n<li><p>If not available then please check the address of maven central repository and proxy settings are configured correctly in your <code>.m2/setting.xml</code>.</p></li>\n</ol>\n"}],"owner":{"display_name":"user1856576"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11482,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1697040170,"creation_date":1421062072,"question_id":27900934,"body_markdown":"i am inside my project on the command line and i have tried doing mvn clean install but i get errors saying that the package org.mockito does not exist\r\neven though i have this in my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n               &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n               &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n               &lt;version&gt;1.9.5&lt;/version&gt;\r\n               &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand so the build is consequently failing","title":"maven error: package org.mockito does not exist","body":"<p>i am inside my project on the command line and i have tried doing mvn clean install but i get errors saying that the package org.mockito does not exist\neven though i have this in my pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n           &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n           &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n           &lt;version&gt;1.9.5&lt;/version&gt;\n           &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and so the build is consequently failing</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data","modelmapper"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1697040476,"post_id":77274669,"comment_id":136230285,"body_markdown":"the error tells you that at the point when you try to access the suppliers via the `getSuppliers()` method your entity is no longer attached to a session (not actively connected to a database). And because the suppliers relation is lazily fetched it isn&#39;t automatically done in the original query. You either need to change the fetch type of your relation to `FetchType.EAGER` or modify your query so that the relation is always directly fetched with the main entity.","body":"the error tells you that at the point when you try to access the suppliers via the <code>getSuppliers()</code> method your entity is no longer attached to a session (not actively connected to a database). And because the suppliers relation is lazily fetched it isn&#39;t automatically done in the original query. You either need to change the fetch type of your relation to <code>FetchType.EAGER</code> or modify your query so that the relation is always directly fetched with the main entity."},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1697043324,"post_id":77274669,"comment_id":136230814,"body_markdown":"@OHGODSPIDERS tnx, if you put it as answer I will accept it","body":"@OHGODSPIDERS tnx, if you put it as answer I will accept it"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697040090,"creation_date":1697040090,"question_id":77274669,"body_markdown":"I am working on a Spring Boot application using Spring Data JPA and Hibernate mapping and I have the following problem.\r\n\r\nI have this **Project** entity class:\r\n\r\npackage com.fivebits.gestionale.model.entity;\r\n\r\nimport java.time.LocalDate;\r\n\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.JoinColumn;\r\n    import jakarta.persistence.JoinTable;\r\n    import jakarta.persistence.ManyToMany;\r\n    import jakarta.persistence.ManyToOne;\r\n    import jakarta.persistence.Table;\r\n    import java.math.BigDecimal;\r\n    import java.util.Date;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import jakarta.persistence.Temporal;\r\n    import jakarta.persistence.TemporalType;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;project&quot;)\r\n    public class Project {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;project_name&quot;, nullable = false)\r\n        private String projectName;\r\n        \r\n        @Column(name = &quot;code&quot;, nullable = false)\r\n        private String projectCode;\r\n    \r\n        @Column(name = &quot;description&quot;)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;start_date&quot;, nullable = false)\r\n        @Temporal(TemporalType.DATE)\r\n        private LocalDate startDate;\r\n    \r\n        @Column(name = &quot;end_date&quot;, nullable = false)\r\n        @Temporal(TemporalType.DATE)\r\n        private LocalDate endDate;\r\n    \r\n        @Column(name = &quot;budget&quot;, nullable = false, precision = 10, scale = 2)\r\n        private BigDecimal budget;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;client_id_fk&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n        private Client client;\r\n        \r\n        @ManyToMany\r\n        @JoinTable(\r\n            name = &quot;project_supplier&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;project_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;supplier_id&quot;)\r\n        )\r\n        private Set&lt;Supplier&gt; suppliers = new HashSet&lt;&gt;();\r\n    \r\n        // Altri campi e metodi getter/setter\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getProjectName() {\r\n            return projectName;\r\n        }\r\n        \r\n        \r\n    \r\n        public String getProjectCode() {\r\n    \t\treturn projectCode;\r\n    \t}\r\n    \r\n    \tpublic void setProjectCode(String projectCode) {\r\n    \t\tthis.projectCode = projectCode;\r\n    \t}\r\n    \r\n    \tpublic void setProjectName(String projectName) {\r\n            this.projectName = projectName;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public LocalDate getStartDate() {\r\n            return startDate;\r\n        }\r\n    \r\n        public void setStartDate(LocalDate startDate) {\r\n            this.startDate = startDate;\r\n        }\r\n    \r\n        public LocalDate getEndDate() {\r\n            return endDate;\r\n        }\r\n    \r\n        public void setEndDate(LocalDate endDate) {\r\n            this.endDate = endDate;\r\n        }\r\n    \r\n        public BigDecimal getBudget() {\r\n            return budget;\r\n        }\r\n    \r\n        public void setBudget(BigDecimal budget) {\r\n            this.budget = budget;\r\n        }\r\n    \r\n    \tpublic Client getClient() {\r\n    \t\treturn client;\r\n    \t}\r\n    \r\n    \tpublic void setClient(Client client) {\r\n    \t\tthis.client = client;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \r\n    \tpublic Set&lt;Supplier&gt; getSuppliers() {\r\n    \t\treturn suppliers;\r\n    \t}\r\n    \r\n    \tpublic void setSuppliers(Set&lt;Supplier&gt; suppliers) {\r\n    \t\tthis.suppliers = suppliers;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Project [id=&quot; + id + &quot;, projectName=&quot; + projectName + &quot;, description=&quot; + description + &quot;, startDate=&quot;\r\n    \t\t\t\t+ startDate + &quot;, endDate=&quot; + endDate + &quot;, budget=&quot; + budget + &quot;, client=&quot; + client + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t  \r\n    }\r\n\r\nand the related DTO class:\r\n\r\n    package com.fivebits.gestionale.model.dto;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class ProjectDTO {\r\n    \r\n        private long id;\r\n        private String projectName;\r\n        private String projectCode;\r\n        private String description;\r\n        private LocalDate startDate;\r\n        private LocalDate endDate;\r\n        private BigDecimal budget;\r\n        private ClientDTO client;\r\n        private Set&lt;Supplier&gt; suppliers;\r\n    \r\n    }\r\n\r\nIt seems that I have a problem converting this field of the entity class:\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;project_supplier&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;project_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;supplier_id&quot;)\r\n    )\r\n    private Set&lt;Supplier&gt; suppliers = new HashSet&lt;&gt;();\r\n\r\ninto this field of the related DTO class:\r\n\r\n    private Set&lt;Supplier&gt; suppliers;\r\n\r\nInfact running this test method:\r\n\r\n\t@Test\r\n\tvoid getProjectByIdTest() {\r\n\t\t\r\n\t\tList&lt;ProjectDTO&gt; projectsList = projectService.getProjectsList();\r\n\t\t\r\n\t\tProjectDTO result = projectService.getProjectById(projectsList.get(0).getId());\r\n\t\t\r\n\t\tassertTrue(result != null);\r\n\t\t\r\n\t\tassertTrue(result.getSuppliers() != null);\r\n\t\r\n        //assertTrue(result.getProjectName().equals(&quot;Progetto di Test&quot;));\r\n\t\t\r\n\t}\r\n\r\nwhen it try to perform the first operation that try to retrieve the list of Project that is related to the conversion of this field:\r\n\r\n\torg.modelmapper.MappingException: ModelMapper mapping errors:\r\n\r\n\t1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@3ad5f99 failed to convert org.hibernate.collection.spi.PersistentSet to java.util.Set.\r\n\r\n\t1 error\r\n\t\tat org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:386)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:80)\r\n\t\tat org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:589)\r\n\t\tat org.modelmapper.ModelMapper.map(ModelMapper.java:422)\r\n\t\tat com.fivebits.gestionale.service.ProjectServiceImpl.lambda$0(ProjectServiceImpl.java:44)\r\n\t\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\t\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\t\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\t\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\t\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n\t\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\t\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n\t\tat com.fivebits.gestionale.service.ProjectServiceImpl.getProjectsList(ProjectServiceImpl.java:44)\r\n\t\tat com.fivebits.gestionale.service.ProjectServiceTest.getProjectByIdTest(ProjectServiceTest.java:227)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\t\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\tCaused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.fivebits.gestionale.model.entity.Project.suppliers: could not initialize proxy - no Session\r\n\t\tat org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:635)\r\n\t\tat org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\r\n\t\tat org.hibernate.collection.spi.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:148)\r\n\t\tat org.hibernate.collection.spi.PersistentSet.size(PersistentSet.java:151)\r\n\t\tat org.modelmapper.internal.util.Iterables.getLength(Iterables.java:50)\r\n\t\tat org.modelmapper.internal.converter.MergingCollectionConverter.convert(MergingCollectionConverter.java:44)\r\n\t\tat org.modelmapper.internal.converter.MergingCollectionConverter.convert(MergingCollectionConverter.java:31)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.convert(MappingEngineImpl.java:306)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:109)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:245)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:114)\r\n\t\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\r\n\t\t... 82 more\r\n\r\n\r\nWhat is wrong in my code? How can I correctly convert the Set field of the entity class into a Set field of the related DTO class?\r\n\r\n\r\n","title":"Why am I obtaining this ModelMapper mapping errors converting a Set of an many to many Hibernate field of an entity into Set field of the DTO class?","body":"<p>I am working on a Spring Boot application using Spring Data JPA and Hibernate mapping and I have the following problem.</p>\n<p>I have this <strong>Project</strong> entity class:</p>\n<p>package com.fivebits.gestionale.model.entity;</p>\n<p>import java.time.LocalDate;</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\nimport java.math.BigDecimal;\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport jakarta.persistence.Temporal;\nimport jakarta.persistence.TemporalType;\n\n@Entity\n@Table(name = &quot;project&quot;)\npublic class Project {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @Column(name = &quot;project_name&quot;, nullable = false)\n    private String projectName;\n    \n    @Column(name = &quot;code&quot;, nullable = false)\n    private String projectCode;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;start_date&quot;, nullable = false)\n    @Temporal(TemporalType.DATE)\n    private LocalDate startDate;\n\n    @Column(name = &quot;end_date&quot;, nullable = false)\n    @Temporal(TemporalType.DATE)\n    private LocalDate endDate;\n\n    @Column(name = &quot;budget&quot;, nullable = false, precision = 10, scale = 2)\n    private BigDecimal budget;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;client_id_fk&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Client client;\n    \n    @ManyToMany\n    @JoinTable(\n        name = &quot;project_supplier&quot;,\n        joinColumns = @JoinColumn(name = &quot;project_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;supplier_id&quot;)\n    )\n    private Set&lt;Supplier&gt; suppliers = new HashSet&lt;&gt;();\n\n    // Altri campi e metodi getter/setter\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getProjectName() {\n        return projectName;\n    }\n    \n    \n\n    public String getProjectCode() {\n        return projectCode;\n    }\n\n    public void setProjectCode(String projectCode) {\n        this.projectCode = projectCode;\n    }\n\n    public void setProjectName(String projectName) {\n        this.projectName = projectName;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public LocalDate getStartDate() {\n        return startDate;\n    }\n\n    public void setStartDate(LocalDate startDate) {\n        this.startDate = startDate;\n    }\n\n    public LocalDate getEndDate() {\n        return endDate;\n    }\n\n    public void setEndDate(LocalDate endDate) {\n        this.endDate = endDate;\n    }\n\n    public BigDecimal getBudget() {\n        return budget;\n    }\n\n    public void setBudget(BigDecimal budget) {\n        this.budget = budget;\n    }\n\n    public Client getClient() {\n        return client;\n    }\n\n    public void setClient(Client client) {\n        this.client = client;\n    }\n    \n    \n\n\n    public Set&lt;Supplier&gt; getSuppliers() {\n        return suppliers;\n    }\n\n    public void setSuppliers(Set&lt;Supplier&gt; suppliers) {\n        this.suppliers = suppliers;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Project [id=&quot; + id + &quot;, projectName=&quot; + projectName + &quot;, description=&quot; + description + &quot;, startDate=&quot;\n                + startDate + &quot;, endDate=&quot; + endDate + &quot;, budget=&quot; + budget + &quot;, client=&quot; + client + &quot;]&quot;;\n    }\n    \n      \n}\n</code></pre>\n<p>and the related DTO class:</p>\n<pre><code>package com.fivebits.gestionale.model.dto;\n\nimport lombok.AllArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class ProjectDTO {\n\n    private long id;\n    private String projectName;\n    private String projectCode;\n    private String description;\n    private LocalDate startDate;\n    private LocalDate endDate;\n    private BigDecimal budget;\n    private ClientDTO client;\n    private Set&lt;Supplier&gt; suppliers;\n\n}\n</code></pre>\n<p>It seems that I have a problem converting this field of the entity class:</p>\n<pre><code>@ManyToMany\n@JoinTable(\n    name = &quot;project_supplier&quot;,\n    joinColumns = @JoinColumn(name = &quot;project_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;supplier_id&quot;)\n)\nprivate Set&lt;Supplier&gt; suppliers = new HashSet&lt;&gt;();\n</code></pre>\n<p>into this field of the related DTO class:</p>\n<pre><code>private Set&lt;Supplier&gt; suppliers;\n</code></pre>\n<p>Infact running this test method:</p>\n<pre><code>@Test\nvoid getProjectByIdTest() {\n    \n    List&lt;ProjectDTO&gt; projectsList = projectService.getProjectsList();\n    \n    ProjectDTO result = projectService.getProjectById(projectsList.get(0).getId());\n    \n    assertTrue(result != null);\n    \n    assertTrue(result.getSuppliers() != null);\n\n    //assertTrue(result.getProjectName().equals(&quot;Progetto di Test&quot;));\n    \n}\n</code></pre>\n<p>when it try to perform the first operation that try to retrieve the list of Project that is related to the conversion of this field:</p>\n<pre><code>org.modelmapper.MappingException: ModelMapper mapping errors:\n\n1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@3ad5f99 failed to convert org.hibernate.collection.spi.PersistentSet to java.util.Set.\n\n1 error\n    at org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:386)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:80)\n    at org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:589)\n    at org.modelmapper.ModelMapper.map(ModelMapper.java:422)\n    at com.fivebits.gestionale.service.ProjectServiceImpl.lambda$0(ProjectServiceImpl.java:44)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at com.fivebits.gestionale.service.ProjectServiceImpl.getProjectsList(ProjectServiceImpl.java:44)\n    at com.fivebits.gestionale.service.ProjectServiceTest.getProjectByIdTest(ProjectServiceTest.java:227)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.fivebits.gestionale.model.entity.Project.suppliers: could not initialize proxy - no Session\n    at org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:635)\n    at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\n    at org.hibernate.collection.spi.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:148)\n    at org.hibernate.collection.spi.PersistentSet.size(PersistentSet.java:151)\n    at org.modelmapper.internal.util.Iterables.getLength(Iterables.java:50)\n    at org.modelmapper.internal.converter.MergingCollectionConverter.convert(MergingCollectionConverter.java:44)\n    at org.modelmapper.internal.converter.MergingCollectionConverter.convert(MergingCollectionConverter.java:31)\n    at org.modelmapper.internal.MappingEngineImpl.convert(MappingEngineImpl.java:306)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:109)\n    at org.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:245)\n    at org.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\n    at org.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:114)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\n    ... 82 more\n</code></pre>\n<p>What is wrong in my code? How can I correctly convert the Set field of the entity class into a Set field of the related DTO class?</p>\n"},{"tags":["java","excel","spring-boot","timeout","hssfworkbook"],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685543154,"creation_date":1685543154,"answer_id":76374547,"question_id":76372545,"body_markdown":"The `java.net.SocketTimeoutException: Read timed out` error usually occurs when a network connection is established, but the remote endpoint (in this case, the database) takes too long to respond, causing the timeout.\r\n\r\n## Option 1: Increase timeout \r\n\r\nIt&#39;s possible that the execution time exceeds the default timeout duration, causing the read timeout exception to be thrown.\r\nTo address this issue, you can try increasing the timeout duration for the database operations.\r\nTo increase the timeout duration for database operations in Spring Framework, you can configure it in the database connection settings. The approach may vary depending on the specific database you are using.\r\n \r\nExample for MySQL (increase timeout up to 5 seconds):\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/mydatabase?connectTimeout=5000\r\n```\r\n\r\nHowever, keep in mind that this might not be the optimal solution, especially if the data set continues to grow larger in the future.\r\n\r\n\r\n## Option 2: Save in batches.\r\n\r\nAnother approach is to batch the `saveAll()` operation by splitting the `xyzToImport` collection into smaller chunks and saving them incrementally. This way, you reduce the load on the database and minimize the chances of a timeout occurring.\r\n\r\n```java\r\nprivate static final int BATCH_SIZE = 1000; // Set an appropriate batch size\r\n\r\nprivate void saveXYZsInBatches(Set&lt;XYZ&gt; xyzToImport) {\r\n    List&lt;XYZ&gt; xyzList = new ArrayList&lt;&gt;(xyzToImport);\r\n    for (int i = 0; i &lt; xyzList.size(); i += BATCH_SIZE) {\r\n        int end = Math.min(i + BATCH_SIZE, xyzList.size());\r\n        List&lt;XYZ&gt; batch = xyzList.subList(i, end);\r\n        xyzsRepository.saveAll(batch);\r\n    }\r\n}\r\n```","title":"java.net.SocketTimeoutException: Read timed out when reading Excel with Workbook","body":"<p>The <code>java.net.SocketTimeoutException: Read timed out</code> error usually occurs when a network connection is established, but the remote endpoint (in this case, the database) takes too long to respond, causing the timeout.</p>\n<h2>Option 1: Increase timeout</h2>\n<p>It's possible that the execution time exceeds the default timeout duration, causing the read timeout exception to be thrown.\nTo address this issue, you can try increasing the timeout duration for the database operations.\nTo increase the timeout duration for database operations in Spring Framework, you can configure it in the database connection settings. The approach may vary depending on the specific database you are using.</p>\n<p>Example for MySQL (increase timeout up to 5 seconds):</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase?connectTimeout=5000\n</code></pre>\n<p>However, keep in mind that this might not be the optimal solution, especially if the data set continues to grow larger in the future.</p>\n<h2>Option 2: Save in batches.</h2>\n<p>Another approach is to batch the <code>saveAll()</code> operation by splitting the <code>xyzToImport</code> collection into smaller chunks and saving them incrementally. This way, you reduce the load on the database and minimize the chances of a timeout occurring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final int BATCH_SIZE = 1000; // Set an appropriate batch size\n\nprivate void saveXYZsInBatches(Set&lt;XYZ&gt; xyzToImport) {\n    List&lt;XYZ&gt; xyzList = new ArrayList&lt;&gt;(xyzToImport);\n    for (int i = 0; i &lt; xyzList.size(); i += BATCH_SIZE) {\n        int end = Math.min(i + BATCH_SIZE, xyzList.size());\n        List&lt;XYZ&gt; batch = xyzList.subList(i, end);\n        xyzsRepository.saveAll(batch);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20095970,"reputation":27,"user_id":14735502,"display_name":"tdog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697039609,"creation_date":1685529066,"question_id":76372545,"body_markdown":"I&#39;m trying to read an Excel with over 500.000 lines in my Spring Boot Application. The problem is that I get a `java.net.SocketTimeoutException: Read timed out` AFTER already having read all lines in. The problem occurs in the following method (without showing any Error or Exception in the console):\r\n\r\n```java\r\nprivate List&lt;XYZEntry&gt; importFile(XYZ file) throws ServiceException {\r\n    var xyzToImport = new HashSet&lt;XYZ&gt;();\r\n    List&lt;XYZEntry&gt; invalidXYZ = new ArrayList&lt;&gt;();\r\n    try(var wb = WorkbookFactory.create(new ByteArrayInputStream(file.getContent()))) {\r\n        for(var row: wb.getSheetAt(0)) {\r\n            if(row.getRowNum() == 0) {\r\n                // Skip header\r\n                continue;\r\n            }\r\n            DataFormatter formatter = new DataFormatter();\r\n            var potentialXYZ = formatter.formatCellValue( row.getCell( 0 ) ).trim();\r\n            if(isXYZValidToImport(potentialXYZ)) {\r\n                xyzsToImport.add(new XYZ(potentialXYZ));\r\n            } else {\r\n                invalidXYZ.add(new XYZEntry(potentialXYZ, row.getRowNum() + 1));\r\n            }\r\n        }\r\n        if(CollectionUtils.isNotEmpty(invalidXYZ)) {\r\n            file.setInvalidEntries(invalidXYZ.size());\r\n            log.info(\r\n                &quot;While importing the file {} | {} invalid XYZs was skipped: {}&quot;,\r\n                file.getFilename(),\r\n                invalidXYZ.size(),\r\n                String.join(&quot;,&quot;, invalidXYZ.toString())\r\n            );\r\n        }\r\n        if(CollectionUtils.isEmpty(xyzToImport)) {\r\n            log.warn(\r\n                &quot;No valid XYZwas found in File {}, nothing imported.&quot;, \r\n                file.getFilename()\r\n            );\r\n            file.setStatus( XYZStateEnum.NO_IMPORTS );\r\n        } else {\r\n            transactionHelper.executeInNewTransaction(() -&gt; {\r\n                xyzsRepository.deleteAll();\r\n                xyzsRepository.saveAll(xyzsToImport);\r\n                // this return ist not reached anymore\r\n                return null;\r\n            });\r\n            file.setValidEntries(xyzsToImport.size());\r\n            file.setStatus(XYZStateEnum.IMPORTED);\r\n        }\r\n    } catch(IOException e) {\r\n        file.setStatus(XYZStateEnum.ERROR);\r\n        filesRepository.save(file);\r\n        throw new ServiceException(&quot;XYZ Import failed.&quot;, e);\r\n    }\r\n    filesRepository.save(file);\r\n    return invalidXYZ;\r\n}\r\n```\r\n\r\nI found out that the code is running until the `saveAll()` method stops there.\r\n","title":"java.net.SocketTimeoutException: Read timed out when reading Excel with Workbook","body":"<p>I'm trying to read an Excel with over 500.000 lines in my Spring Boot Application. The problem is that I get a <code>java.net.SocketTimeoutException: Read timed out</code> AFTER already having read all lines in. The problem occurs in the following method (without showing any Error or Exception in the console):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;XYZEntry&gt; importFile(XYZ file) throws ServiceException {\n    var xyzToImport = new HashSet&lt;XYZ&gt;();\n    List&lt;XYZEntry&gt; invalidXYZ = new ArrayList&lt;&gt;();\n    try(var wb = WorkbookFactory.create(new ByteArrayInputStream(file.getContent()))) {\n        for(var row: wb.getSheetAt(0)) {\n            if(row.getRowNum() == 0) {\n                // Skip header\n                continue;\n            }\n            DataFormatter formatter = new DataFormatter();\n            var potentialXYZ = formatter.formatCellValue( row.getCell( 0 ) ).trim();\n            if(isXYZValidToImport(potentialXYZ)) {\n                xyzsToImport.add(new XYZ(potentialXYZ));\n            } else {\n                invalidXYZ.add(new XYZEntry(potentialXYZ, row.getRowNum() + 1));\n            }\n        }\n        if(CollectionUtils.isNotEmpty(invalidXYZ)) {\n            file.setInvalidEntries(invalidXYZ.size());\n            log.info(\n                &quot;While importing the file {} | {} invalid XYZs was skipped: {}&quot;,\n                file.getFilename(),\n                invalidXYZ.size(),\n                String.join(&quot;,&quot;, invalidXYZ.toString())\n            );\n        }\n        if(CollectionUtils.isEmpty(xyzToImport)) {\n            log.warn(\n                &quot;No valid XYZwas found in File {}, nothing imported.&quot;, \n                file.getFilename()\n            );\n            file.setStatus( XYZStateEnum.NO_IMPORTS );\n        } else {\n            transactionHelper.executeInNewTransaction(() -&gt; {\n                xyzsRepository.deleteAll();\n                xyzsRepository.saveAll(xyzsToImport);\n                // this return ist not reached anymore\n                return null;\n            });\n            file.setValidEntries(xyzsToImport.size());\n            file.setStatus(XYZStateEnum.IMPORTED);\n        }\n    } catch(IOException e) {\n        file.setStatus(XYZStateEnum.ERROR);\n        filesRepository.save(file);\n        throw new ServiceException(&quot;XYZ Import failed.&quot;, e);\n    }\n    filesRepository.save(file);\n    return invalidXYZ;\n}\n</code></pre>\n<p>I found out that the code is running until the <code>saveAll()</code> method stops there.</p>\n"},{"tags":["java","google-bigquery","opencsv"],"comments":[{"owner":{"account_id":25604480,"reputation":1167,"user_id":19378826,"display_name":"Nestor"},"score":0,"creation_date":1697120629,"post_id":77274529,"comment_id":136242159,"body_markdown":"It is possible to upload csv with empty fields, I have tried it and it just shows as *null*, If possible can you try just uploading the csv file through Bigquery Console ?","body":"It is possible to upload csv with empty fields, I have tried it and it just shows as <i>null</i>, If possible can you try just uploading the csv file through Bigquery Console ?"}],"owner":{"account_id":13081539,"reputation":31,"user_id":9451946,"display_name":"Teong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697038925,"creation_date":1697038925,"question_id":77274529,"body_markdown":"I am trying to upload csv file to Big Query table using Java. There are empty fields in the csv file for the integer data type columns. These columns are nullable in the dataset. However, it hit error saying that &quot;Provided Schema does not match Table xxxx. Field STATUS_ATTR_ID has changed type from INTEGER to STRING&quot;. \r\n\r\nI have tried to convert the empty field to null before load to Big Query but I still get the same error. Below is code\r\n```\r\npublic long writeFileToTable(String datasetName, String tableName, Path csvPath, String csvPathString)\r\n            throws IOException, InterruptedException, CsvException {\r\n\r\n        String projectId = &quot;xxxxx&quot;;\r\n\r\n        // Authenticate using the service account key\r\n        BigQuery bigQuery = BigQueryOptions.newBuilder()\r\n                .setProjectId(projectId)\r\n                .setCredentials(credentials)\r\n                .build().getService();\r\n\r\n        // [START writeFileToTable]\r\n        TableId tableId = TableId.of(datasetName, tableName);\r\n        WriteChannelConfiguration writeChannelConfiguration =\r\n                WriteChannelConfiguration.newBuilder(tableId)\r\n                        .setFormatOptions(FormatOptions.csv())\r\n                        .setAutodetect(Boolean.TRUE)\r\n                        .setNullMarker(&quot;&quot;)\r\n                        .build();\r\n\r\n\r\n        TableDataWriteChannel writer = bigQuery.writer(writeChannelConfiguration);\r\n\r\n        File inputFile = new File(csvPathString);\r\n\r\n        // Read existing file\r\n        CSVReader reader = new CSVReader(new InputStreamReader(new FileInputStream(inputFile)));\r\n        List&lt;String[]&gt; csvData = reader.readAll();\r\n        // Write data to writer\r\n\r\n        try (OutputStream stream = Channels.newOutputStream(writer)) {\r\n            OutputStreamWriter outputStreamWriter = new OutputStreamWriter(stream);\r\n            CSVWriter csvWriter = new CSVWriter(outputStreamWriter);\r\n\r\n            for (String[] csvRec : csvData) {\r\n                for (int i = 1; i &lt;= csvRec.length; i++) {\r\n                    if (csvRec[i - 1].equals(&quot;&quot;)){\r\n                        //csvRec[i - 1] = null;\r\n                    }\r\n                }\r\n                // Write the modified data to the output stream\r\n                csvWriter.writeNext(csvRec);\r\n            }\r\n\r\n            // Flush and close the writer (important for the data to be written to the output stream)\r\n            csvWriter.flush();\r\n            csvWriter.close();\r\n            //Files.copy(csvPath, stream);\r\n        }\r\n        // Get load job\r\n        Job job = writer.getJob();\r\n        job = job.waitFor();\r\n        JobStatistics.LoadStatistics stats = job.getStatistics();\r\n        return stats.getOutputRows();\r\n        // [END writeFileToTable]\r\n    }\r\n```\r\n\r\nIs it possible to upload csv file containing empty field for integer column to Big Query?","title":"Empty field for integer data type in csv file to big query using Java","body":"<p>I am trying to upload csv file to Big Query table using Java. There are empty fields in the csv file for the integer data type columns. These columns are nullable in the dataset. However, it hit error saying that &quot;Provided Schema does not match Table xxxx. Field STATUS_ATTR_ID has changed type from INTEGER to STRING&quot;.</p>\n<p>I have tried to convert the empty field to null before load to Big Query but I still get the same error. Below is code</p>\n<pre><code>public long writeFileToTable(String datasetName, String tableName, Path csvPath, String csvPathString)\n            throws IOException, InterruptedException, CsvException {\n\n        String projectId = &quot;xxxxx&quot;;\n\n        // Authenticate using the service account key\n        BigQuery bigQuery = BigQueryOptions.newBuilder()\n                .setProjectId(projectId)\n                .setCredentials(credentials)\n                .build().getService();\n\n        // [START writeFileToTable]\n        TableId tableId = TableId.of(datasetName, tableName);\n        WriteChannelConfiguration writeChannelConfiguration =\n                WriteChannelConfiguration.newBuilder(tableId)\n                        .setFormatOptions(FormatOptions.csv())\n                        .setAutodetect(Boolean.TRUE)\n                        .setNullMarker(&quot;&quot;)\n                        .build();\n\n\n        TableDataWriteChannel writer = bigQuery.writer(writeChannelConfiguration);\n\n        File inputFile = new File(csvPathString);\n\n        // Read existing file\n        CSVReader reader = new CSVReader(new InputStreamReader(new FileInputStream(inputFile)));\n        List&lt;String[]&gt; csvData = reader.readAll();\n        // Write data to writer\n\n        try (OutputStream stream = Channels.newOutputStream(writer)) {\n            OutputStreamWriter outputStreamWriter = new OutputStreamWriter(stream);\n            CSVWriter csvWriter = new CSVWriter(outputStreamWriter);\n\n            for (String[] csvRec : csvData) {\n                for (int i = 1; i &lt;= csvRec.length; i++) {\n                    if (csvRec[i - 1].equals(&quot;&quot;)){\n                        //csvRec[i - 1] = null;\n                    }\n                }\n                // Write the modified data to the output stream\n                csvWriter.writeNext(csvRec);\n            }\n\n            // Flush and close the writer (important for the data to be written to the output stream)\n            csvWriter.flush();\n            csvWriter.close();\n            //Files.copy(csvPath, stream);\n        }\n        // Get load job\n        Job job = writer.getJob();\n        job = job.waitFor();\n        JobStatistics.LoadStatistics stats = job.getStatistics();\n        return stats.getOutputRows();\n        // [END writeFileToTable]\n    }\n</code></pre>\n<p>Is it possible to upload csv file containing empty field for integer column to Big Query?</p>\n"},{"tags":["java"],"owner":{"account_id":29649677,"reputation":1,"user_id":22723904,"display_name":"ronaldo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697038890,"creation_date":1697038890,"question_id":77274523,"body_markdown":"[[enter image description here](https://i.stack.imgur.com/2unkJ.png)](https://i.stack.imgur.com/rWs5w.png)\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\nERROR 15176 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.hs.news.mapper.CommentMapper&#39; in your configuration.\r\n","title":"Field commentMapper in com.hs.news.service.CommentServiceImpl required a bean of type &#39;com.hs.news.mapper.CommentMapper&#39; that could not be found","body":"<p>[<a href=\"https://i.stack.imgur.com/2unkJ.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/rWs5w.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/rWs5w.png</a>)</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\nERROR 15176 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :\nAction:</p>\n<p>Consider defining a bean of type 'com.hs.news.mapper.CommentMapper' in your configuration.</p>\n"},{"tags":["java","itext","pdf-generation","itext7"],"comments":[{"owner":{"account_id":3247086,"reputation":1180,"user_id":2738309,"display_name":"Henryk Budzinski"},"score":0,"creation_date":1655697168,"post_id":72445992,"comment_id":128384779,"body_markdown":"My PDF has 31 pages, only text (table), and is more than 10 times larger than the one using iTextSharp (iText5). The iText7 version has table header that appear in each page. Only difference.","body":"My PDF has 31 pages, only text (table), and is more than 10 times larger than the one using iTextSharp (iText5). The iText7 version has table header that appear in each page. Only difference."}],"answers":[{"tags":[],"owner":{"account_id":29649715,"reputation":1,"user_id":22723935,"display_name":"Emma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697038814,"creation_date":1697038814,"answer_id":77274513,"question_id":72445992,"body_markdown":"If you can offer the tagged PDF in some other alternative accessible format such as .csv or .txt, these are inherently accessible by design. I would say that would be the workaround for now. ","title":"Tagged PDF file created using iText7 is huge in size when compared to other PDF creation API.is there any workaround to reduce that?","body":"<p>If you can offer the tagged PDF in some other alternative accessible format such as .csv or .txt, these are inherently accessible by design. I would say that would be the workaround for now.</p>\n"}],"owner":{"account_id":24924524,"reputation":7,"user_id":18792457,"display_name":"Vignesh Govindhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697038814,"creation_date":1653992070,"question_id":72445992,"body_markdown":"I have created a Tagged PDF file with 10k pages,using iText7.The file size is atleast 3 times larger than the same file created using pdfbox API.I have already set WritterProperties.setFullCompressionMode to true.is there anyother workaround to reduce the file size further?","title":"Tagged PDF file created using iText7 is huge in size when compared to other PDF creation API.is there any workaround to reduce that?","body":"<p>I have created a Tagged PDF file with 10k pages,using iText7.The file size is atleast 3 times larger than the same file created using pdfbox API.I have already set WritterProperties.setFullCompressionMode to true.is there anyother workaround to reduce the file size further?</p>\n"},{"tags":["java","intellij-idea","minecraft","minecraft-forge","forge"],"comments":[{"owner":{"account_id":29231004,"reputation":51,"user_id":22394700,"display_name":"Sky64Redstone"},"score":0,"creation_date":1698056887,"post_id":77273322,"comment_id":136352450,"body_markdown":"You can do ist exactly like you would do it with JEI: [Github JEI Wiki](https://github.com/mezz/JustEnoughItems/wiki/Getting-Started-%5B1.13-to-1.18.2%5D)","body":"You can do ist exactly like you would do it with JEI: <a href=\"https://github.com/mezz/JustEnoughItems/wiki/Getting-Started-%5B1.13-to-1.18.2%5D\" rel=\"nofollow noreferrer\">Github JEI Wiki</a>"}],"owner":{"account_id":24482074,"reputation":1,"user_id":18400330,"display_name":"yosi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697037250,"creation_date":1697029344,"question_id":77273322,"body_markdown":"I tried to make a sidemod for pixelmon, so I placed the pixelmon.jar file in the libs folder, clicked the &#39;Add as Library...&#39; button and implemented it in the build.gradle file:\r\n\r\n```gradle\r\ndependencies{\r\n    minecraft &#39;net.minecraftforge:forge:1.16.5-36.2.34&#39;\r\n    implementation files(&#39;libs/Pixelmon-1.16.5-9.1.7-universal.jar&#39;)\r\n}\r\n```\r\n\r\nbut when I run it, it says:\r\n\r\n`java.lang.NoSuchMethodError: net.minecraft.world.server.TicketType.func_223183_a(Ljava/lang/String;Ljava/util/Comparator;I)Lnet/minecraft/world/server/TicketType;`\r\n\r\nand here&#39;s the lastest.log:\r\n\r\n```[11Oct2023 17:46:26.839] [main/INFO] [cpw.mods.modlauncher.Launcher/MODLAUNCHER]: ModLauncher running: args [--gameDir, ., --launchTarget, fmluserdevclient, --fml.mcpVersion, 20210115.111550, --fml.mcVersion, 1.16.5, --fml.forgeGroup, net.minecraftforge, --fml.forgeVersion, 36.2.34, --assetIndex, 1.16, --assetsDir, C:\\Users\\user\\.gradle\\caches\\forge_gradle\\assets, --version, MOD_DEV, --username, Dev, --accessToken, ????????, --userProperties, {}]\r\n[11Oct2023 17:46:26.845] [main/INFO] [cpw.mods.modlauncher.Launcher/MODLAUNCHER]: ModLauncher 8.1.3+8.1.3+main-8.1.x.c94d18ec starting: java version 1.8.0_382 by Temurin\r\n[11Oct2023 17:46:29.042] [main/INFO] [net.minecraftforge.fml.loading.FixSSL/CORE]: Added Lets Encrypt root certificates as additional trust\r\n[11Oct2023 17:46:29.154] [main/INFO] [mixin/]: SpongePowered MIXIN Subsystem Version=0.8.4 Source=file:/C:/Users/user/.gradle/caches/modules-2/files-2.1/org.spongepowered/mixin/0.8.4/4ec7d77d9ab32596ca0b78bb123956734767e3a/mixin-0.8.4.jar Service=ModLauncher Env=CLIENT\r\n[11Oct2023 17:46:32.923] [main/INFO] [cpw.mods.modlauncher.LaunchServiceHandler/MODLAUNCHER]: Launching target &#39;fmluserdevclient&#39; with arguments [--version, MOD_DEV, --gameDir, ., --assetsDir, C:\\Users\\user\\.gradle\\caches\\forge_gradle\\assets, --assetIndex, 1.16, --username, Dev, --accessToken, ????????, --userProperties, {}]\r\n[11Oct2023 17:46:52.060] [Render thread/INFO] [com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService/]: Environment: authHost=&#39;https://authserver.mojang.com&#39;, accountsHost=&#39;https://api.mojang.com&#39;, sessionHost=&#39;https://sessionserver.mojang.com&#39;, servicesHost=&#39;https://api.minecraftservices.com&#39;, name=&#39;PROD&#39;\r\n[11Oct2023 17:46:53.365] [Render thread/INFO] [net.minecraft.client.Minecraft/]: Setting user: Dev\r\n[11Oct2023 17:46:53.732] [Render thread/INFO] [net.minecraft.client.Minecraft/]: Backend library: LWJGL version 3.2.2 build 10\r\n[11Oct2023 17:46:56.406] [modloading-worker-2/INFO] [net.minecraftforge.common.ForgeMod/FORGEMOD]: Forge mod loading, version 36.2.34, for MC 1.16.5 with MCP 20210115.111550\r\n[11Oct2023 17:46:56.556] [modloading-worker-2/INFO] [net.minecraftforge.common.MinecraftForge/FORGE]: MinecraftForge v36.2.34 Initialized\r\n[11Oct2023 17:46:56.715] [modloading-worker-0/INFO] [Pixelmon/]: Patched lifecycle fields.\r\n[11Oct2023 17:46:57.423] [modloading-worker-0/ERROR] [net.minecraftforge.fml.javafmlmod.FMLModContainer/LOADING]: Failed to create mod instance. ModID: pixelmon, class com.pixelmonmod.pixelmon.Pixelmon\r\njava.lang.NoSuchMethodError: net.minecraft.world.server.TicketType.func_223183_a(Ljava/lang/String;Ljava/util/Comparator;I)Lnet/minecraft/world/server/TicketType;\r\n\tat com.pixelmonmod.pixelmon.api.registries.PixelmonTicketType.&lt;clinit&gt;(PixelmonTicketType.java:7) ~[pixelmon:1.16.5-9.1.7]\r\n\tat com.pixelmonmod.pixelmon.Pixelmon.&lt;init&gt;(Pixelmon.java:124) ~[pixelmon:1.16.5-9.1.7]\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_382]\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_382]\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_382]\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_382]\r\n\tat java.lang.Class.newInstance(Class.java:442) ~[?:1.8.0_382]\r\n\tat net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:81) ~[forge:36.2]\r\n\tat net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$4(ModContainer.java:120) ~[forge:?]\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1640) [?:1.8.0_382]\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1632) [?:1.8.0_382]\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289) [?:1.8.0_382]\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056) [?:1.8.0_382]\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692) [?:1.8.0_382]\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175) [?:1.8.0_382]\r\n[11Oct2023 17:46:57.448] [modloading-worker-1/ERROR] [net.minecraftforge.fml.javafmlmod.FMLModContainer/LOADING]: Failed to create mod instance. ModID: tcg, class com.pixelmonmod.tcg.TCG\r\njava.lang.NoSuchMethodError: net.minecraft.item.Item$Properties.func_200917_a(I)Lnet/minecraft/item/Item$Properties;\r\n\tat com.pixelmonmod.tcg.init.registry.BlockRegistration.&lt;clinit&gt;(BlockRegistration.java:91) ~[pixelmon:1.16.5-9.1.7]\r\n\tat com.pixelmonmod.tcg.TCG.&lt;init&gt;(TCG.java:51) ~[pixelmon:1.16.5-9.1.7]\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_382]\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_382]\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_382]\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_382]\r\n\tat java.lang.Class.newInstance(Class.java:442) ~[?:1.8.0_382]\r\n\tat net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:81) ~[forge:36.2]\r\n\tat net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$4(ModContainer.java:120) ~[forge:?]\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1640) [?:1.8.0_382]\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1632) [?:1.8.0_382]\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289) [?:1.8.0_382]\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056) [?:1.8.0_382]\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692) [?:1.8.0_382]\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175) [?:1.8.0_382]\r\n[11Oct2023 17:46:58.057] [Render thread/FATAL] [net.minecraftforge.fml.ModLoader/LOADING]: Failed to complete lifecycle event CONSTRUCT, 2 errors found\r\n[11Oct2023 17:46:58.409] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.sound.SoundLoadEvent to a broken mod state\r\n[11Oct2023 17:46:58.732] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ColorHandlerEvent$Block to a broken mod state\r\n[11Oct2023 17:46:58.735] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ColorHandlerEvent$Item to a broken mod state\r\n[11Oct2023 17:47:00.589] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ParticleFactoryRegisterEvent to a broken mod state\r\n[11Oct2023 17:47:00.672] [Render thread/INFO] [com.mojang.text2speech.NarratorWindows/]: Narrator library for x64 successfully loaded\r\n[11Oct2023 17:47:00.836] [Render thread/INFO] [net.minecraft.resources.SimpleReloadableResourceManager/]: Reloading ResourceManager: Default\r\n[11Oct2023 17:47:01.741] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ModelRegistryEvent to a broken mod state\r\n[11Oct2023 17:47:02.376] [Worker-Main-5/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:05.342] [Worker-Main-4/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:09.320] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:09.540] [Worker-Main-7/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:11.348] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:11.358] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:11.441] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:11.477] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:11.488] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:11.506] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\r\n[11Oct2023 17:47:12.276] [Render thread/INFO] [net.minecraft.client.audio.SoundSystem/]: OpenAL initialized.\r\n[11Oct2023 17:47:12.277] [Render thread/INFO] [net.minecraft.client.audio.SoundEngine/SOUNDS]: Sound engine started\r\n[11Oct2023 17:47:12.582] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 1024x512x4 minecraft:textures/atlas/blocks.png-atlas\r\n[11Oct2023 17:47:12.718] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:12.719] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 256x128x4 minecraft:textures/atlas/signs.png-atlas\r\n[11Oct2023 17:47:12.719] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:12.719] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 512x512x4 minecraft:textures/atlas/banner_patterns.png-atlas\r\n[11Oct2023 17:47:12.721] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:12.721] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 512x512x4 minecraft:textures/atlas/shield_patterns.png-atlas\r\n[11Oct2023 17:47:12.723] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:12.723] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 256x256x4 minecraft:textures/atlas/chest.png-atlas\r\n[11Oct2023 17:47:12.723] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:12.723] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 512x256x4 minecraft:textures/atlas/beds.png-atlas\r\n[11Oct2023 17:47:12.724] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:12.724] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 512x256x4 minecraft:textures/atlas/shulker_boxes.png-atlas\r\n[11Oct2023 17:47:12.725] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:13.198] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ModelBakeEvent to a broken mod state\r\n[11Oct2023 17:47:13.534] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 256x256x0 minecraft:textures/atlas/particles.png-atlas\r\n[11Oct2023 17:47:13.535] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:13.536] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 256x256x0 minecraft:textures/atlas/paintings.png-atlas\r\n[11Oct2023 17:47:13.537] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:13.537] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 128x128x0 minecraft:textures/atlas/mob_effects.png-atlas\r\n[11Oct2023 17:47:13.538] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\r\n[11Oct2023 17:47:13.616] [Render thread/FATAL] [net.minecraftforge.common.ForgeMod/]: Preparing crash report with UUID f8ebac5e-0c0f-435d-8370-ced8c89ed633\r\n[11Oct2023 17:47:13.617] [Render thread/INFO] [STDOUT/]: [net.minecraft.crash.CrashReport:addCategory:196]: Negative index in crash report handler (21/23)\r\n[11Oct2023 17:47:13.673] [Render thread/FATAL] [net.minecraftforge.fml.client.ClientModLoader/]: Crash report saved to .\\crash-reports\\crash-2023-10-11_17.47.13-fml.txt\r\n```\r\n\r\nI&#39;ll be happy if someone will help me to make my mod load currectly and that I could use its API.","title":"Pixelmon Sidemod Problem Forge 1.16.5-36.2.34","body":"<p>I tried to make a sidemod for pixelmon, so I placed the pixelmon.jar file in the libs folder, clicked the 'Add as Library...' button and implemented it in the build.gradle file:</p>\n<pre><code>dependencies{\n    minecraft 'net.minecraftforge:forge:1.16.5-36.2.34'\n    implementation files('libs/Pixelmon-1.16.5-9.1.7-universal.jar')\n}\n</code></pre>\n<p>but when I run it, it says:</p>\n<p><code>java.lang.NoSuchMethodError: net.minecraft.world.server.TicketType.func_223183_a(Ljava/lang/String;Ljava/util/Comparator;I)Lnet/minecraft/world/server/TicketType;</code></p>\n<p>and here's the lastest.log:</p>\n<pre><code>[11Oct2023 17:46:26.845] [main/INFO] [cpw.mods.modlauncher.Launcher/MODLAUNCHER]: ModLauncher 8.1.3+8.1.3+main-8.1.x.c94d18ec starting: java version 1.8.0_382 by Temurin\n[11Oct2023 17:46:29.042] [main/INFO] [net.minecraftforge.fml.loading.FixSSL/CORE]: Added Lets Encrypt root certificates as additional trust\n[11Oct2023 17:46:29.154] [main/INFO] [mixin/]: SpongePowered MIXIN Subsystem Version=0.8.4 Source=file:/C:/Users/user/.gradle/caches/modules-2/files-2.1/org.spongepowered/mixin/0.8.4/4ec7d77d9ab32596ca0b78bb123956734767e3a/mixin-0.8.4.jar Service=ModLauncher Env=CLIENT\n[11Oct2023 17:46:32.923] [main/INFO] [cpw.mods.modlauncher.LaunchServiceHandler/MODLAUNCHER]: Launching target 'fmluserdevclient' with arguments [--version, MOD_DEV, --gameDir, ., --assetsDir, C:\\Users\\user\\.gradle\\caches\\forge_gradle\\assets, --assetIndex, 1.16, --username, Dev, --accessToken, ????????, --userProperties, {}]\n[11Oct2023 17:46:52.060] [Render thread/INFO] [com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService/]: Environment: authHost='https://authserver.mojang.com', accountsHost='https://api.mojang.com', sessionHost='https://sessionserver.mojang.com', servicesHost='https://api.minecraftservices.com', name='PROD'\n[11Oct2023 17:46:53.365] [Render thread/INFO] [net.minecraft.client.Minecraft/]: Setting user: Dev\n[11Oct2023 17:46:53.732] [Render thread/INFO] [net.minecraft.client.Minecraft/]: Backend library: LWJGL version 3.2.2 build 10\n[11Oct2023 17:46:56.406] [modloading-worker-2/INFO] [net.minecraftforge.common.ForgeMod/FORGEMOD]: Forge mod loading, version 36.2.34, for MC 1.16.5 with MCP 20210115.111550\n[11Oct2023 17:46:56.556] [modloading-worker-2/INFO] [net.minecraftforge.common.MinecraftForge/FORGE]: MinecraftForge v36.2.34 Initialized\n[11Oct2023 17:46:56.715] [modloading-worker-0/INFO] [Pixelmon/]: Patched lifecycle fields.\n[11Oct2023 17:46:57.423] [modloading-worker-0/ERROR] [net.minecraftforge.fml.javafmlmod.FMLModContainer/LOADING]: Failed to create mod instance. ModID: pixelmon, class com.pixelmonmod.pixelmon.Pixelmon\njava.lang.NoSuchMethodError: net.minecraft.world.server.TicketType.func_223183_a(Ljava/lang/String;Ljava/util/Comparator;I)Lnet/minecraft/world/server/TicketType;\n    at com.pixelmonmod.pixelmon.api.registries.PixelmonTicketType.&lt;clinit&gt;(PixelmonTicketType.java:7) ~[pixelmon:1.16.5-9.1.7]\n    at com.pixelmonmod.pixelmon.Pixelmon.&lt;init&gt;(Pixelmon.java:124) ~[pixelmon:1.16.5-9.1.7]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_382]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_382]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_382]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_382]\n    at java.lang.Class.newInstance(Class.java:442) ~[?:1.8.0_382]\n    at net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:81) ~[forge:36.2]\n    at net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$4(ModContainer.java:120) ~[forge:?]\n    at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1640) [?:1.8.0_382]\n    at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1632) [?:1.8.0_382]\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289) [?:1.8.0_382]\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056) [?:1.8.0_382]\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692) [?:1.8.0_382]\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175) [?:1.8.0_382]\n[11Oct2023 17:46:57.448] [modloading-worker-1/ERROR] [net.minecraftforge.fml.javafmlmod.FMLModContainer/LOADING]: Failed to create mod instance. ModID: tcg, class com.pixelmonmod.tcg.TCG\njava.lang.NoSuchMethodError: net.minecraft.item.Item$Properties.func_200917_a(I)Lnet/minecraft/item/Item$Properties;\n    at com.pixelmonmod.tcg.init.registry.BlockRegistration.&lt;clinit&gt;(BlockRegistration.java:91) ~[pixelmon:1.16.5-9.1.7]\n    at com.pixelmonmod.tcg.TCG.&lt;init&gt;(TCG.java:51) ~[pixelmon:1.16.5-9.1.7]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_382]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_382]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_382]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_382]\n    at java.lang.Class.newInstance(Class.java:442) ~[?:1.8.0_382]\n    at net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:81) ~[forge:36.2]\n    at net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$4(ModContainer.java:120) ~[forge:?]\n    at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1640) [?:1.8.0_382]\n    at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1632) [?:1.8.0_382]\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289) [?:1.8.0_382]\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056) [?:1.8.0_382]\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692) [?:1.8.0_382]\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175) [?:1.8.0_382]\n[11Oct2023 17:46:58.057] [Render thread/FATAL] [net.minecraftforge.fml.ModLoader/LOADING]: Failed to complete lifecycle event CONSTRUCT, 2 errors found\n[11Oct2023 17:46:58.409] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.sound.SoundLoadEvent to a broken mod state\n[11Oct2023 17:46:58.732] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ColorHandlerEvent$Block to a broken mod state\n[11Oct2023 17:46:58.735] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ColorHandlerEvent$Item to a broken mod state\n[11Oct2023 17:47:00.589] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ParticleFactoryRegisterEvent to a broken mod state\n[11Oct2023 17:47:00.672] [Render thread/INFO] [com.mojang.text2speech.NarratorWindows/]: Narrator library for x64 successfully loaded\n[11Oct2023 17:47:00.836] [Render thread/INFO] [net.minecraft.resources.SimpleReloadableResourceManager/]: Reloading ResourceManager: Default\n[11Oct2023 17:47:01.741] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ModelRegistryEvent to a broken mod state\n[11Oct2023 17:47:02.376] [Worker-Main-5/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:05.342] [Worker-Main-4/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:09.320] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:09.540] [Worker-Main-7/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:11.348] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:11.358] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:11.441] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:11.477] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:11.488] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:11.506] [Worker-Main-6/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Pre to a broken mod state\n[11Oct2023 17:47:12.276] [Render thread/INFO] [net.minecraft.client.audio.SoundSystem/]: OpenAL initialized.\n[11Oct2023 17:47:12.277] [Render thread/INFO] [net.minecraft.client.audio.SoundEngine/SOUNDS]: Sound engine started\n[11Oct2023 17:47:12.582] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 1024x512x4 minecraft:textures/atlas/blocks.png-atlas\n[11Oct2023 17:47:12.718] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:12.719] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 256x128x4 minecraft:textures/atlas/signs.png-atlas\n[11Oct2023 17:47:12.719] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:12.719] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 512x512x4 minecraft:textures/atlas/banner_patterns.png-atlas\n[11Oct2023 17:47:12.721] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:12.721] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 512x512x4 minecraft:textures/atlas/shield_patterns.png-atlas\n[11Oct2023 17:47:12.723] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:12.723] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 256x256x4 minecraft:textures/atlas/chest.png-atlas\n[11Oct2023 17:47:12.723] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:12.723] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 512x256x4 minecraft:textures/atlas/beds.png-atlas\n[11Oct2023 17:47:12.724] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:12.724] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 512x256x4 minecraft:textures/atlas/shulker_boxes.png-atlas\n[11Oct2023 17:47:12.725] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:13.198] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.ModelBakeEvent to a broken mod state\n[11Oct2023 17:47:13.534] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 256x256x0 minecraft:textures/atlas/particles.png-atlas\n[11Oct2023 17:47:13.535] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:13.536] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 256x256x0 minecraft:textures/atlas/paintings.png-atlas\n[11Oct2023 17:47:13.537] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:13.537] [Render thread/INFO] [net.minecraft.client.renderer.texture.AtlasTexture/]: Created: 128x128x0 minecraft:textures/atlas/mob_effects.png-atlas\n[11Oct2023 17:47:13.538] [Render thread/ERROR] [net.minecraftforge.fml.ModLoader/]: Cowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state\n[11Oct2023 17:47:13.616] [Render thread/FATAL] [net.minecraftforge.common.ForgeMod/]: Preparing crash report with UUID f8ebac5e-0c0f-435d-8370-ced8c89ed633\n[11Oct2023 17:47:13.617] [Render thread/INFO] [STDOUT/]: [net.minecraft.crash.CrashReport:addCategory:196]: Negative index in crash report handler (21/23)\n[11Oct2023 17:47:13.673] [Render thread/FATAL] [net.minecraftforge.fml.client.ClientModLoader/]: Crash report saved to .\\crash-reports\\crash-2023-10-11_17.47.13-fml.txt\n</code></pre>\n<p>I'll be happy if someone will help me to make my mod load currectly and that I could use its API.</p>\n"},{"tags":["java","modulo"],"comments":[{"owner":{"account_id":45994,"reputation":28785,"user_id":135769,"accept_rate":82,"display_name":"3Dave"},"score":8,"creation_date":1668882189,"post_id":74502530,"comment_id":131516136,"body_markdown":"That&#39;s exactly what mod (`%`) does. `val = 33 % 31;`","body":"That&#39;s exactly what mod (<code>%</code>) does. <code>val = 33 % 31;</code>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697038473,"post_id":74502530,"comment_id":136229909,"body_markdown":"Technically, the `%` operator is not &quot;mod&quot;, it&#39;s &quot;rem&quot;. (I.e. remainder, not modulo.)","body":"Technically, the <code>%</code> operator is not &quot;mod&quot;, it&#39;s &quot;rem&quot;. (I.e. remainder, not modulo.)"}],"answers":[{"tags":[],"owner":{"account_id":7378143,"reputation":18,"user_id":5615936,"display_name":"Issa_newton1995"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668883480,"creation_date":1668883480,"answer_id":74502723,"question_id":74502530,"body_markdown":"I am not sure if you meant to do this recursively until reach a certain condition. But I think this can give you an idea  \r\n    \r\n   \r\n\r\n     public static int solution(int number){\r\n            int add29 = (number+29);\r\n            if(add29 &gt; 31){\r\n               return add29%31;\r\n            }else{\r\n              return add29;\r\n            }\r\n        }","title":"How to add a remainder and an integer?","body":"<p>I am not sure if you meant to do this recursively until reach a certain condition. But I think this can give you an idea</p>\n<pre><code> public static int solution(int number){\n        int add29 = (number+29);\n        if(add29 &gt; 31){\n           return add29%31;\n        }else{\n          return add29;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26986003,"reputation":1,"user_id":20549673,"display_name":"Nightmareee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697037200,"creation_date":1668882107,"question_id":74502530,"body_markdown":"In my code, there is a variable that gets added 29 to its original number. If that number is bigger than 31 then the variable is supposed to be reset to 0 and the remainder should be added to that. For example, we start at 4 and we are adding 29 then it&#39;s 33. And that is bigger than 31 so it should be set to 0 + 2. How can I do this in java? I have 0 clues about what to do.","title":"How to add a remainder and an integer?","body":"<p>In my code, there is a variable that gets added 29 to its original number. If that number is bigger than 31 then the variable is supposed to be reset to 0 and the remainder should be added to that. For example, we start at 4 and we are adding 29 then it's 33. And that is bigger than 31 so it should be set to 0 + 2. How can I do this in java? I have 0 clues about what to do.</p>\n"},{"tags":["java","performance","intellij-idea","jmc","jfr"],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395265284,"creation_date":1395265284,"answer_id":22518699,"question_id":21645849,"body_markdown":"Flight Recorder writes data in chunks to disk, about 12-15 Mb each by default, so it&#39;s not possible to set a maxsize below that threshold.","title":"JMC maxage/maxsize doesn&#39;t work","body":"<p>Flight Recorder writes data in chunks to disk, about 12-15 Mb each by default, so it's not possible to set a maxsize below that threshold.</p>\n"},{"tags":[],"owner":{"account_id":185127,"reputation":2955,"user_id":2471311,"display_name":"Klara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397555637,"creation_date":1397555637,"answer_id":23080287,"question_id":21645849,"body_markdown":"You can set the chunksize smaller, I&#39;m not sure how small would be recommendable.","title":"JMC maxage/maxsize doesn&#39;t work","body":"<p>You can set the chunksize smaller, I'm not sure how small would be recommendable.</p>\n"},{"tags":[],"owner":{"account_id":22904390,"reputation":1,"user_id":17042664,"display_name":"Ggg Nnn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697036988,"creation_date":1697036093,"answer_id":77274198,"question_id":21645849,"body_markdown":"As a comment to @kire-haglin answer:\r\n\r\n&gt; Flight Recorder writes data in chunks to disk, about 12-15 Mb each by\r\n&gt; default, so it&#39;s not possible to set a maxsize below that threshold.\r\n\r\n If there are limitations for the accepted command line parameter values for JFR, then why these invalid values are silently accepted on start-up of the JVM (or by the jcmd tool)?\r\nIt is not very user-friendly behaviour.","title":"JMC maxage/maxsize doesn&#39;t work","body":"<p>As a comment to @kire-haglin answer:</p>\n<blockquote>\n<p>Flight Recorder writes data in chunks to disk, about 12-15 Mb each by\ndefault, so it's not possible to set a maxsize below that threshold.</p>\n</blockquote>\n<p>If there are limitations for the accepted command line parameter values for JFR, then why these invalid values are silently accepted on start-up of the JVM (or by the jcmd tool)?\nIt is not very user-friendly behaviour.</p>\n"}],"owner":{"account_id":908446,"reputation":2003,"user_id":942854,"accept_rate":86,"display_name":"ichaki5748"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22518699,"answer_count":3,"score":2,"last_activity_date":1697036988,"creation_date":1391861735,"question_id":21645849,"body_markdown":"According to [JAVA cmd Reference][1] I can set maxage and/or maxsize of JFR recording but it doesn&#39;t work. \r\n\r\nI&#39;ve shared Intellij IDEA recording and compilation of scala using ant: [Stats][2]\r\n\r\nFor idea I had the following settings:\r\n\r\n&gt; -XX:+FlightRecorder -XX:FlightRecorderOptions=defaultrecording=true,disk=true,dumponexit=true,dumponexitpath=/home/ichaki/development/misc/stats/idea,maxage=1h,repository=/home/ichaki/development/misc/stats/idea,settings=profile\r\n\r\n\r\nFor ant:\r\n\r\n&gt; -XX:FlightRecorderOptions=defaultrecording=true,disk=true,dumponexit=true,dumponexitpath=/home/ichaki/development/misc/stats/scala-ant,maxage=120s,maxsize=200k,repository=/home/ichaki/development/misc/stats/scala-ant,settings=profile\r\n\r\nThanks! \r\n\r\n\r\nNote: I want to make stat collection in envs with SSD&#39;s which are quite limited in size\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/java.html\r\n  [2]: https://drive.google.com/folderview?id=0B6VELd5wVsAybGJwMW0zLUlsaGM&amp;usp=sharing","title":"JMC maxage/maxsize doesn&#39;t work","body":"<p>According to <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/java.html\" rel=\"nofollow\">JAVA cmd Reference</a> I can set maxage and/or maxsize of JFR recording but it doesn't work. </p>\n\n<p>I've shared Intellij IDEA recording and compilation of scala using ant: <a href=\"https://drive.google.com/folderview?id=0B6VELd5wVsAybGJwMW0zLUlsaGM&amp;usp=sharing\" rel=\"nofollow\">Stats</a></p>\n\n<p>For idea I had the following settings:</p>\n\n<blockquote>\n  <p>-XX:+FlightRecorder -XX:FlightRecorderOptions=defaultrecording=true,disk=true,dumponexit=true,dumponexitpath=/home/ichaki/development/misc/stats/idea,maxage=1h,repository=/home/ichaki/development/misc/stats/idea,settings=profile</p>\n</blockquote>\n\n<p>For ant:</p>\n\n<blockquote>\n  <p>-XX:FlightRecorderOptions=defaultrecording=true,disk=true,dumponexit=true,dumponexitpath=/home/ichaki/development/misc/stats/scala-ant,maxage=120s,maxsize=200k,repository=/home/ichaki/development/misc/stats/scala-ant,settings=profile</p>\n</blockquote>\n\n<p>Thanks! </p>\n\n<p>Note: I want to make stat collection in envs with SSD's which are quite limited in size</p>\n"},{"tags":["java","eclipse","minecraft","noclassdeffounderror","minecraft-forge"],"comments":[{"owner":{"account_id":12016851,"reputation":116,"user_id":8791700,"display_name":"schetefan24"},"score":0,"creation_date":1605360084,"post_id":64834307,"comment_id":114629044,"body_markdown":"the main issue is  that the class `jdk/nashorn/api/scripting/NashornScriptEngineFactory` can&#39;t be found by the compiler. When compiling your code (with javac or some build managent tool like ant?) you need to make sure that that class is located inside your classpath (configureable with -cp)","body":"the main issue is  that the class <code>jdk&#47;nashorn&#47;api&#47;scripting&#47;NashornScriptEngineFactory</code> can&#39;t be found by the compiler. When compiling your code (with javac or some build managent tool like ant?) you need to make sure that that class is located inside your classpath (configureable with -cp)"},{"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"score":0,"creation_date":1605361057,"post_id":64834307,"comment_id":114629283,"body_markdown":"Which Java version are you using ?","body":"Which Java version are you using ?"},{"owner":{"account_id":19972662,"reputation":53,"user_id":14637767,"display_name":"Luzog78"},"score":0,"creation_date":1605367484,"post_id":64834307,"comment_id":114630842,"body_markdown":"@schetefan24 , Sorry but idk how do that ... x)  srry","body":"@schetefan24 , Sorry but idk how do that ... x)  srry"},{"owner":{"account_id":19972662,"reputation":53,"user_id":14637767,"display_name":"Luzog78"},"score":0,"creation_date":1605367572,"post_id":64834307,"comment_id":114630869,"body_markdown":"@JobyWilsonMathews ```java version &quot;15.0.1&quot; 2020-10-20\nJava(TM) SE Runtime Environment (build 15.0.1+9-18)\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)``` \nBut I have already test With java 8","body":"@JobyWilsonMathews <code>java version &quot;15.0.1&quot; 2020-10-20 Java(TM) SE Runtime Environment (build 15.0.1+9-18) Java HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)</code>  But I have already test With java 8"}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1605361065,"creation_date":1605361065,"answer_id":64834498,"question_id":64834307,"body_markdown":"It seems the Minecraft code you are using depends on the Nashorn scripting engine.  Nashorn was &lt;a href=&quot;https://openjdk.java.net/jeps/372&quot;&gt;removed from the JDK&lt;/a&gt; in Java 15, which it seems you are running.\r\n\r\nDowngrade to JDK 14 or an earlier version.","title":"java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/NashornScriptEngineFactory","body":"<p>It seems the Minecraft code you are using depends on the Nashorn scripting engine.  Nashorn was <a href=\"https://openjdk.java.net/jeps/372\" rel=\"noreferrer\">removed from the JDK</a> in Java 15, which it seems you are running.</p>\n<p>Downgrade to JDK 14 or an earlier version.</p>\n"},{"tags":[],"owner":{"account_id":19972662,"reputation":53,"user_id":14637767,"display_name":"Luzog78"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697036817,"creation_date":1605369856,"answer_id":64835880,"question_id":64834307,"body_markdown":"- Nashorn was removed from the JDK in Java 15 (https://openjdk.java.net/jeps/372)\r\n- You need to launch with Java 1.8 (to avoid UnsupportedClassVersionError)\r\n- So you have to :\r\n  1. Go to `Project Properties &gt;&gt; Java compiler &gt;&gt; Compiler &gt;&gt; compilance level` and modify to Java SE - 1.8\r\n  2. Modify your path (put jdk1.8)\r\n  3. And if that not works, go to `Preferences &gt;&gt; Java &gt;&gt; Installed JREs` and `Preferences &gt;&gt; Java &gt;&gt; Installed JREs &gt;&gt; Execution Environments`\r\n","title":"java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/NashornScriptEngineFactory","body":"<ul>\n<li>Nashorn was removed from the JDK in Java 15 (<a href=\"https://openjdk.java.net/jeps/372\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/372</a>)</li>\n<li>You need to launch with Java 1.8 (to avoid UnsupportedClassVersionError)</li>\n<li>So you have to :\n<ol>\n<li>Go to <code>Project Properties &gt;&gt; Java compiler &gt;&gt; Compiler &gt;&gt; compilance level</code> and modify to Java SE - 1.8</li>\n<li>Modify your path (put jdk1.8)</li>\n<li>And if that not works, go to <code>Preferences &gt;&gt; Java &gt;&gt; Installed JREs</code> and <code>Preferences &gt;&gt; Java &gt;&gt; Installed JREs &gt;&gt; Execution Environments</code></li>\n</ol>\n</li>\n</ul>\n"}],"owner":{"account_id":19972662,"reputation":53,"user_id":14637767,"display_name":"Luzog78"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11686,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64834498,"answer_count":2,"score":3,"last_activity_date":1697036817,"creation_date":1605359755,"question_id":64834307,"body_markdown":"I want to code a Minecraft mod in 1.16.3. I have already make a mod in 1.12.2 but I didn&#39;t have this problem.\r\nI just download the 1.16.3 forge Mdk and build it for eclipse (with &#39;gradlew eclipse&#39; in cmd) but when I try to run the mod (with &#39;runClient.launch&#39;). It gives an error: \r\n\r\n&gt;java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/NashornScriptEngineFactory.\r\n\r\nI tried to modify the main file and packages to support the not necessary code but when I start. It gives me the same error. \r\n\r\n\r\nMy main file:\r\n\r\n```\r\npackage fr.luzog78.newmod;\r\n\r\nimport net.minecraft.block.Blocks;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.event.lifecycle.FMLClientSetupEvent;\r\nimport net.minecraftforge.fml.event.lifecycle.FMLCommonSetupEvent;\r\nimport net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\n@Mod(&quot;newmod&quot;)\r\npublic class NewMod {\r\n\tprivate static final Logger LOGGER = LogManager.getLogger();\r\n\r\n\tpublic NewMod() {\r\n\t\tFMLJavaModLoadingContext.get().getModEventBus().addListener(this::setup);\r\n\t\tFMLJavaModLoadingContext.get().getModEventBus().addListener(this::doClientStuff);\r\n\r\n\t\tMinecraftForge.EVENT_BUS.register(this);\r\n\t}\r\n\r\n\tprivate void setup(final FMLCommonSetupEvent event) {\r\n\t\tLOGGER.info(&quot;HELLO FROM PREINIT&quot;);\r\n\t\tLOGGER.info(&quot;DIRT BLOCK &gt;&gt; {}&quot;, Blocks.DIRT.getRegistryName());\r\n\t}\r\n\r\n\tprivate void doClientStuff(final FMLClientSetupEvent event) {\r\n\t}\r\n\r\n//    @SubscribeEvent\r\n//    public void onServerStarting(FMLServerStartingEvent event) {\r\n//        // do something when the server starts\r\n//        LOGGER.info(&quot;HELLO from server starting&quot;);\r\n//    }\r\n//\r\n//    // You can use EventBusSubscriber to automatically subscribe events on the contained class (this is subscribing to the MOD\r\n//    // Event bus for receiving Registry Events)\r\n//    @Mod.EventBusSubscriber(bus=Mod.EventBusSubscriber.Bus.MOD)\r\n//    public static class RegistryEvents {\r\n//        @SubscribeEvent\r\n//        public static void onBlocksRegistry(final RegistryEvent.Register&lt;Block&gt; blockRegistryEvent) {\r\n//            // register a new block here\r\n//            LOGGER.info(&quot;HELLO from Register Block&quot;);\r\n//        }\r\n//    }\r\n}\r\n```\r\n\r\nAnd the stack trace:\r\n```\r\nException in thread &quot;main&quot; [13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/NashornScriptEngineFactory\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat net.minecraftforge.coremod.CoreModEngine.loadCoreMod(CoreModEngine.java:48)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat net.minecraftforge.coremod.CoreModProvider.addCoreMod(CoreModProvider.java:12)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat net.minecraftforge.fml.loading.LoadingModList.addCoreMods(LoadingModList.java:85)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat net.minecraftforge.fml.loading.moddiscovery.ModDiscoverer.discoverMods(ModDiscoverer.java:129)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat net.minecraftforge.fml.loading.FMLLoader.beginModScan(FMLLoader.java:213)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat net.minecraftforge.fml.loading.FMLServiceProvider.runScan(FMLServiceProvider.java:107)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat cpw.mods.modlauncher.TransformationServiceDecorator.runScan(TransformationServiceDecorator.java:114)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat cpw.mods.modlauncher.TransformationServicesHandler.lambda$runScanningTransformationServices$8(TransformationServicesHandler.java:115)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1766)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat cpw.mods.modlauncher.TransformationServicesHandler.runScanningTransformationServices(TransformationServicesHandler.java:116)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat cpw.mods.modlauncher.TransformationServicesHandler.initializeTransformationServices(TransformationServicesHandler.java:63)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat cpw.mods.modlauncher.Launcher.run(Launcher.java:76)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat cpw.mods.modlauncher.Launcher.main(Launcher.java:66)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: \tat net.minecraftforge.userdev.LaunchTesting.main(LaunchTesting.java:105)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]: Caused by: java.lang.ClassNotFoundException: jdk.nashorn.api.scripting.NashornScriptEngineFactory\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]: \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]: \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]: \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]: \t... 33 more\r\n```","title":"java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/NashornScriptEngineFactory","body":"<p>I want to code a Minecraft mod in 1.16.3. I have already make a mod in 1.12.2 but I didn't have this problem.\nI just download the 1.16.3 forge Mdk and build it for eclipse (with 'gradlew eclipse' in cmd) but when I try to run the mod (with 'runClient.launch'). It gives an error:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/NashornScriptEngineFactory.</p>\n</blockquote>\n<p>I tried to modify the main file and packages to support the not necessary code but when I start. It gives me the same error.</p>\n<p>My main file:</p>\n<pre><code>package fr.luzog78.newmod;\n\nimport net.minecraft.block.Blocks;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.event.lifecycle.FMLClientSetupEvent;\nimport net.minecraftforge.fml.event.lifecycle.FMLCommonSetupEvent;\nimport net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\n@Mod(&quot;newmod&quot;)\npublic class NewMod {\n    private static final Logger LOGGER = LogManager.getLogger();\n\n    public NewMod() {\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::setup);\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::doClientStuff);\n\n        MinecraftForge.EVENT_BUS.register(this);\n    }\n\n    private void setup(final FMLCommonSetupEvent event) {\n        LOGGER.info(&quot;HELLO FROM PREINIT&quot;);\n        LOGGER.info(&quot;DIRT BLOCK &gt;&gt; {}&quot;, Blocks.DIRT.getRegistryName());\n    }\n\n    private void doClientStuff(final FMLClientSetupEvent event) {\n    }\n\n//    @SubscribeEvent\n//    public void onServerStarting(FMLServerStartingEvent event) {\n//        // do something when the server starts\n//        LOGGER.info(&quot;HELLO from server starting&quot;);\n//    }\n//\n//    // You can use EventBusSubscriber to automatically subscribe events on the contained class (this is subscribing to the MOD\n//    // Event bus for receiving Registry Events)\n//    @Mod.EventBusSubscriber(bus=Mod.EventBusSubscriber.Bus.MOD)\n//    public static class RegistryEvents {\n//        @SubscribeEvent\n//        public static void onBlocksRegistry(final RegistryEvent.Register&lt;Block&gt; blockRegistryEvent) {\n//            // register a new block here\n//            LOGGER.info(&quot;HELLO from Register Block&quot;);\n//        }\n//    }\n}\n</code></pre>\n<p>And the stack trace:</p>\n<pre><code>Exception in thread &quot;main&quot; [13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]: java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/NashornScriptEngineFactory\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at net.minecraftforge.coremod.CoreModEngine.loadCoreMod(CoreModEngine.java:48)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at net.minecraftforge.coremod.CoreModProvider.addCoreMod(CoreModProvider.java:12)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at net.minecraftforge.fml.loading.LoadingModList.addCoreMods(LoadingModList.java:85)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at net.minecraftforge.fml.loading.moddiscovery.ModDiscoverer.discoverMods(ModDiscoverer.java:129)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at net.minecraftforge.fml.loading.FMLLoader.beginModScan(FMLLoader.java:213)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at net.minecraftforge.fml.loading.FMLServiceProvider.runScan(FMLServiceProvider.java:107)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at cpw.mods.modlauncher.TransformationServiceDecorator.runScan(TransformationServiceDecorator.java:114)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at cpw.mods.modlauncher.TransformationServicesHandler.lambda$runScanningTransformationServices$8(TransformationServicesHandler.java:115)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1766)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at cpw.mods.modlauncher.TransformationServicesHandler.runScanningTransformationServices(TransformationServicesHandler.java:116)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at cpw.mods.modlauncher.TransformationServicesHandler.initializeTransformationServices(TransformationServicesHandler.java:63)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at cpw.mods.modlauncher.Launcher.run(Launcher.java:76)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at cpw.mods.modlauncher.Launcher.main(Launcher.java:66)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1048]:   at net.minecraftforge.userdev.LaunchTesting.main(LaunchTesting.java:105)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]: Caused by: java.lang.ClassNotFoundException: jdk.nashorn.api.scripting.NashornScriptEngineFactory\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]:   at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]:   at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]:   at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n[13:16:47] [main/INFO] [STDERR/]: [java.lang.ThreadGroup:uncaughtException:1057]:   ... 33 more\n</code></pre>\n"},{"tags":["java","scala","typesafe-config"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1696957594,"post_id":77267233,"comment_id":136218062,"body_markdown":"Which library are you using for configuration ?","body":"Which library are you using for configuration ?"},{"owner":{"account_id":23910416,"reputation":63,"user_id":17907440,"display_name":"Jeffrey Tillwick"},"score":0,"creation_date":1696965207,"post_id":77267233,"comment_id":136219256,"body_markdown":"@Ga&#235;lJ It seems we are using https://github.com/lightbend/config","body":"@Ga&#235;lJ It seems we are using <a href=\"https://github.com/lightbend/config\" rel=\"nofollow noreferrer\">github.com/lightbend/config</a>"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1696968085,"post_id":77267233,"comment_id":136219649,"body_markdown":"Have you tried the `include file(...)` syntax?","body":"Have you tried the <code>include file(...)</code> syntax?"}],"owner":{"account_id":23910416,"reputation":63,"user_id":17907440,"display_name":"Jeffrey Tillwick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697036787,"creation_date":1696952747,"question_id":77267233,"body_markdown":"I have a Scala app with a base config file, `local.conf`. It is getting a bit large, so I want to split it up and I want to have those parts located in a child directory `src/main/resources/local`. Adding the include to the `local.conf` doesn&#39;t work. It errors about not finding the resulting config keys. Why doesn&#39;t `include` allow me to add files from other directories? How to fix? \r\n\r\n**Folder Structure**\r\n```\r\nsrc-&gt;main-&gt;resources:\r\napplication.conf\r\nlocal.conf\r\nprod.conf\r\nlocal/more_config.conf\r\nprod/more_config.conf\r\n```\r\n\r\n**local.conf**\r\n```\r\ninclude &quot;secrets.conf&quot;\r\ninclude &quot;local/more_config.conf&quot;\r\n\r\nmyApp ${localConfig} {\r\n    buildEnv: &quot;local&quot;\r\n}\r\n```\r\n\r\n**local/more_config.conf**\r\n```\r\nlocalConfig {\r\n    mysqlConfig {\r\n        user: &quot;blah&quot;,\r\n        password: &quot;blah&quot;,\r\n        host: &quot;localhost:3306&quot;\r\n    }\r\n}\r\n```\r\n\r\n**Error:** `Could not resolve substitution to a value: ${localConfig}`\r\n\r\nHowever, if I move the `more_config.conf` file to the same resources directory and change my include, it works fine... &#175;\\_(ツ)_/&#175;\r\n\r\nUsing https://github.com/lightbend/config\r\n\r\nWhy is this? How to fix?","title":"Scala: How to include other conf files from other directories in base config file?","body":"<p>I have a Scala app with a base config file, <code>local.conf</code>. It is getting a bit large, so I want to split it up and I want to have those parts located in a child directory <code>src/main/resources/local</code>. Adding the include to the <code>local.conf</code> doesn't work. It errors about not finding the resulting config keys. Why doesn't <code>include</code> allow me to add files from other directories? How to fix?</p>\n<p><strong>Folder Structure</strong></p>\n<pre><code>src-&gt;main-&gt;resources:\napplication.conf\nlocal.conf\nprod.conf\nlocal/more_config.conf\nprod/more_config.conf\n</code></pre>\n<p><strong>local.conf</strong></p>\n<pre><code>include &quot;secrets.conf&quot;\ninclude &quot;local/more_config.conf&quot;\n\nmyApp ${localConfig} {\n    buildEnv: &quot;local&quot;\n}\n</code></pre>\n<p><strong>local/more_config.conf</strong></p>\n<pre><code>localConfig {\n    mysqlConfig {\n        user: &quot;blah&quot;,\n        password: &quot;blah&quot;,\n        host: &quot;localhost:3306&quot;\n    }\n}\n</code></pre>\n<p><strong>Error:</strong> <code>Could not resolve substitution to a value: ${localConfig}</code></p>\n<p>However, if I move the <code>more_config.conf</code> file to the same resources directory and change my include, it works fine... ¯_(ツ)_/¯</p>\n<p>Using <a href=\"https://github.com/lightbend/config\" rel=\"nofollow noreferrer\">https://github.com/lightbend/config</a></p>\n<p>Why is this? How to fix?</p>\n"},{"tags":["java","javabeans","autowired","stomp","spring-messaging"],"answers":[{"tags":[],"owner":{"account_id":4093613,"reputation":69,"user_id":3361015,"display_name":"earthling"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1396938204,"creation_date":1396938204,"answer_id":22929132,"question_id":22925951,"body_markdown":"You shall either have a bean definition id with same name as class name in your applicationContext xml or annotate @Component on injecting class for Autowire to work\r\n\r\n    &lt;bean id=&quot;SimpMessagingTemplate &quot; class=&quot;your-class&quot; &gt;\r\n\r\nYou may need to define below tag pointing to your package for later case\r\n\r\n    &lt;context:component-scan base-package=&quot;com.x.y&quot;/&gt;\r\n","title":"Could not autowire. No beans of SimpMessagingTemplate type found","body":"<p>You shall either have a bean definition id with same name as class name in your applicationContext xml or annotate @Component on injecting class for Autowire to work</p>\n\n<pre><code>&lt;bean id=\"SimpMessagingTemplate \" class=\"your-class\" &gt;\n</code></pre>\n\n<p>You may need to define below tag pointing to your package for later case</p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.x.y\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1397483119,"creation_date":1397483119,"answer_id":23061805,"question_id":22925951,"body_markdown":"Strange, because when you use the websocket namespace, the &quot;message-broker&quot; element causes the creation of a SimpMessagingTemplate bean which should then be available for you to inject. Are both the controller and the websocket namespace in the same ApplicationContext or is perhaps one in the &quot;root&quot; context and the other in the DispatcherServlet context?\r\n\r\n","title":"Could not autowire. No beans of SimpMessagingTemplate type found","body":"<p>Strange, because when you use the websocket namespace, the \"message-broker\" element causes the creation of a SimpMessagingTemplate bean which should then be available for you to inject. Are both the controller and the websocket namespace in the same ApplicationContext or is perhaps one in the \"root\" context and the other in the DispatcherServlet context?</p>\n"},{"tags":[],"owner":{"account_id":4237743,"reputation":21,"user_id":3468456,"display_name":"raymond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397886548,"creation_date":1397886548,"answer_id":23166422,"question_id":22925951,"body_markdown":"Rossen was correct. The addition of the &lt;websocket:message-broker&gt; element will add the SimpMessagingTemplate bean to the context for injection. This has to be in the web app root context, not the context for Spring DispatchServlet. E.g., in the following **web.xml** file, the message-broker element should be included in app-root.xml file. Including only in app-mvc.xml will cause NoSuchBeanDefinitionException.\r\n\r\n    &lt;context-param&gt;\r\n\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t&lt;param-value&gt;classpath:/spring/app-root.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;servlet&gt;\r\n\t&lt;servlet-name&gt;Spring MVC Dispatcher Servlet&lt;/servlet-name&gt;\r\n\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t&lt;init-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;classpath:/spring/app-mvc.xml&lt;/param-value&gt;\r\n\t&lt;/init-param&gt;\r\n\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n ","title":"Could not autowire. No beans of SimpMessagingTemplate type found","body":"<p>Rossen was correct. The addition of the  element will add the SimpMessagingTemplate bean to the context for injection. This has to be in the web app root context, not the context for Spring DispatchServlet. E.g., in the following <strong>web.xml</strong> file, the message-broker element should be included in app-root.xml file. Including only in app-mvc.xml will cause NoSuchBeanDefinitionException.</p>\n\n<pre><code>&lt;context-param&gt;\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;classpath:/spring/app-root.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;servlet&gt;\n&lt;servlet-name&gt;Spring MVC Dispatcher Servlet&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n&lt;init-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;classpath:/spring/app-mvc.xml&lt;/param-value&gt;\n&lt;/init-param&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1114094,"reputation":6302,"user_id":1103894,"accept_rate":26,"display_name":"Urbanleg"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1407239067,"creation_date":1407239067,"answer_id":25138005,"question_id":22925951,"body_markdown":"I had the same problem, the error occurred because my websocket config file:\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    @EnableScheduling\r\n    public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n\r\n    }\r\n\r\nwas not scanned by spring.\r\n\r\nso the fix was to add the package with this configuration file to the scanned packages.","title":"Could not autowire. No beans of SimpMessagingTemplate type found","body":"<p>I had the same problem, the error occurred because my websocket config file:</p>\n\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\n@EnableScheduling\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n}\n</code></pre>\n\n<p>was not scanned by spring.</p>\n\n<p>so the fix was to add the package with this configuration file to the scanned packages.</p>\n"},{"tags":[],"owner":{"account_id":5403034,"reputation":109,"user_id":4302326,"display_name":"pinkninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697036774,"creation_date":1697036774,"answer_id":77274288,"question_id":22925951,"body_markdown":"In my case, I fixed the error by adding a dependency for Spring-Boot-Starter-Websocket to the pom.xml.  Even though, I had been importing the SimpMessagingTemplate in the class, it still needed the dependency in the pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Could not autowire. No beans of SimpMessagingTemplate type found","body":"<p>In my case, I fixed the error by adding a dependency for Spring-Boot-Starter-Websocket to the pom.xml.  Even though, I had been importing the SimpMessagingTemplate in the class, it still needed the dependency in the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":978270,"reputation":6296,"user_id":998649,"accept_rate":71,"display_name":"Tk421"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46722,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":23061805,"answer_count":5,"score":20,"last_activity_date":1697036774,"creation_date":1396920087,"question_id":22925951,"body_markdown":"I am configuring Websockets in Spring basically by following the guide provided in the documentation.\r\n\r\nI am currently trying to send a message from the server to the client as explained in the section &quot;[Sending messages from anywhere][1]&quot;  \r\n\r\nFollowing the example, you can Autowire a class called SimpMessagingTemplate\r\n\t\r\n    @Controller\r\n    public class GreetingController {\r\n\r\n        private SimpMessagingTemplate template;\r\n\r\n        @Autowired\r\n        public GreetingController(SimpMessagingTemplate template) {\r\n            this.template = template;\r\n        }\r\n\r\n        @RequestMapping(value=&quot;/greetings&quot;, method=POST)\r\n        public void greet(String greeting) {\r\n            String text = &quot;[&quot; + getTimestamp() + &quot;]:&quot; + greeting;\r\n            this.template.convertAndSend(&quot;/topic/greetings&quot;, text);\r\n        }\r\n\r\n    }\r\n\r\nHowever, my current project cannot find the bean &quot;SimpMessagingTemplate&quot;. (Intellij: &#39;Could not autowire. No beans of SimpMessagingTemplate type found&#39;.\r\n\r\nI have check several examples in the internet but I cannot find how to get Spring to create an instance of SimpMessagingTemplate. How can I Autowire it ?\r\n\r\n**EDIT:**\r\n\r\nI decided to send some more background information. This is my current websocket configuration:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:websocket=&quot;http://www.springframework.org/schema/websocket&quot;\r\n           xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/websocket\r\n            http://www.springframework.org/schema/websocket/spring-websocket-4.0.xsd&quot;&gt;\r\n\r\n            &lt;!-- TODO properties to be read from a properties file --&gt;\r\n            &lt;websocket:message-broker application-destination-prefix=&quot;/app&quot;&gt;\r\n                &lt;websocket:stomp-endpoint path=&quot;/new_session&quot; &gt;\r\n                    &lt;websocket:sockjs/&gt;\r\n                &lt;/websocket:stomp-endpoint&gt;\r\n                &lt;websocket:simple-broker prefix=&quot;/topic&quot;/&gt;\r\n            &lt;/websocket:message-broker&gt;\r\n    &lt;/beans&gt;\r\n\r\nWebsocket works with this controller\r\n\r\n\t@Controller\r\n\tpublic class SessionController {\r\n\r\n\t    private static final Logger log = LoggerFactory.getLogger(SessionController.class);\r\n\t \r\n\t    @MessageMapping(&quot;/new_session&quot;)\r\n\t    @SendTo(&quot;/topic/session&quot;)\r\n\t    public SessionStatus newSession(Session session) throws Exception {\r\n\t\tThread.sleep(3000); // simulated delay\r\n\t\tlog.info(&quot;Response sent !!&quot;);\r\n\t\treturn new SessionStatus(&quot;StatusReport, &quot; + session.toString() + &quot;!&quot;);\r\n\t    }\r\n\t}\r\n\r\nI just not sure how to to make this work\r\n\r\n    public class SessionController {\r\n\r\n        private static final Logger log = LoggerFactory.getLogger(SessionController.class);\r\n\r\n        private SimpMessagingTemplate template;\r\n\r\n        @Autowired\r\n        public SessionController(SimpMessagingTemplate template) {\r\n\t    this.template = template;\r\n        }\r\n\r\n    }\r\n\r\nAs the bean &quot;SimpMessagingTemplate template&quot; is not found. Spring documentation does not offer more details regarding this matter.\r\n\r\n**EDIT**: Example of working code in [github][2]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.0.2.RELEASE/spring-framework-reference/htmlsingle/#websocket-stomp-handle-send\r\n  [2]: https://github.com/tk421/spring-stomp","title":"Could not autowire. No beans of SimpMessagingTemplate type found","body":"<p>I am configuring Websockets in Spring basically by following the guide provided in the documentation.</p>\n\n<p>I am currently trying to send a message from the server to the client as explained in the section \"<a href=\"http://docs.spring.io/spring/docs/4.0.2.RELEASE/spring-framework-reference/htmlsingle/#websocket-stomp-handle-send\">Sending messages from anywhere</a>\"  </p>\n\n<p>Following the example, you can Autowire a class called SimpMessagingTemplate</p>\n\n<pre><code>@Controller\npublic class GreetingController {\n\n    private SimpMessagingTemplate template;\n\n    @Autowired\n    public GreetingController(SimpMessagingTemplate template) {\n        this.template = template;\n    }\n\n    @RequestMapping(value=\"/greetings\", method=POST)\n    public void greet(String greeting) {\n        String text = \"[\" + getTimestamp() + \"]:\" + greeting;\n        this.template.convertAndSend(\"/topic/greetings\", text);\n    }\n\n}\n</code></pre>\n\n<p>However, my current project cannot find the bean \"SimpMessagingTemplate\". (Intellij: 'Could not autowire. No beans of SimpMessagingTemplate type found'.</p>\n\n<p>I have check several examples in the internet but I cannot find how to get Spring to create an instance of SimpMessagingTemplate. How can I Autowire it ?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I decided to send some more background information. This is my current websocket configuration:</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:websocket=\"http://www.springframework.org/schema/websocket\"\n       xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/websocket\n        http://www.springframework.org/schema/websocket/spring-websocket-4.0.xsd\"&gt;\n\n        &lt;!-- TODO properties to be read from a properties file --&gt;\n        &lt;websocket:message-broker application-destination-prefix=\"/app\"&gt;\n            &lt;websocket:stomp-endpoint path=\"/new_session\" &gt;\n                &lt;websocket:sockjs/&gt;\n            &lt;/websocket:stomp-endpoint&gt;\n            &lt;websocket:simple-broker prefix=\"/topic\"/&gt;\n        &lt;/websocket:message-broker&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Websocket works with this controller</p>\n\n<pre><code>@Controller\npublic class SessionController {\n\n    private static final Logger log = LoggerFactory.getLogger(SessionController.class);\n\n    @MessageMapping(\"/new_session\")\n    @SendTo(\"/topic/session\")\n    public SessionStatus newSession(Session session) throws Exception {\n    Thread.sleep(3000); // simulated delay\n    log.info(\"Response sent !!\");\n    return new SessionStatus(\"StatusReport, \" + session.toString() + \"!\");\n    }\n}\n</code></pre>\n\n<p>I just not sure how to to make this work</p>\n\n<pre><code>public class SessionController {\n\n    private static final Logger log = LoggerFactory.getLogger(SessionController.class);\n\n    private SimpMessagingTemplate template;\n\n    @Autowired\n    public SessionController(SimpMessagingTemplate template) {\n    this.template = template;\n    }\n\n}\n</code></pre>\n\n<p>As the bean \"SimpMessagingTemplate template\" is not found. Spring documentation does not offer more details regarding this matter.</p>\n\n<p><strong>EDIT</strong>: Example of working code in <a href=\"https://github.com/tk421/spring-stomp\">github</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22650899,"reputation":355,"user_id":16825573,"display_name":"Lejdi Prifti"},"score":0,"creation_date":1697039040,"post_id":77274286,"comment_id":136230008,"body_markdown":"One way would be to create a separate table, with @ManyToOne relationship and add it there the combination `follower_id` `followed_id`. Then, you would need to add some extra business logic to validate the transactions. Or another option is to add a property in the `UserModel` class that marks it as `FOLLOWER`, or `FOLLOWING` and use `uniqueConstraints` on the three fields `@UniqueConstraint(columnNames = {&quot;follower_id&quot;, &quot;followed_id&quot;, &quot;status&quot;}`","body":"One way would be to create a separate table, with @ManyToOne relationship and add it there the combination <code>follower_id</code> <code>followed_id</code>. Then, you would need to add some extra business logic to validate the transactions. Or another option is to add a property in the <code>UserModel</code> class that marks it as <code>FOLLOWER</code>, or <code>FOLLOWING</code> and use <code>uniqueConstraints</code> on the three fields <code>@UniqueConstraint(columnNames = {&quot;follower_id&quot;, &quot;followed_id&quot;, &quot;status&quot;}</code>"}],"owner":{"account_id":22651640,"reputation":11,"user_id":16826182,"display_name":"Benjamin Frank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697036761,"creation_date":1697036761,"question_id":77274286,"body_markdown":"So I am developing a Backend for a Social Media App. When implementing the Logic for Following or Followers I got stuck.\r\n\r\nCurrently I have this defined in the UserModel Class but this I believe constraints it so User A can follow User B but User B cant follow User A back because then there would be a duplicate Combination of `follower_id` and `followed_id`.\r\n\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;user_follows&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;follower_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;followed_id&quot;),\r\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;follower_id&quot;, &quot;followed_id&quot;})\r\n    )\r\n    @JsonIgnore\r\n    private List&lt;UserModel&gt; following;\r\n","title":"Spring Boot bidirectional uniqueConstraints","body":"<p>So I am developing a Backend for a Social Media App. When implementing the Logic for Following or Followers I got stuck.</p>\n<p>Currently I have this defined in the UserModel Class but this I believe constraints it so User A can follow User B but User B cant follow User A back because then there would be a duplicate Combination of <code>follower_id</code> and <code>followed_id</code>.</p>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL)\n@JoinTable(\n        name = &quot;user_follows&quot;,\n        joinColumns = @JoinColumn(name = &quot;follower_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;followed_id&quot;),\n        uniqueConstraints = @UniqueConstraint(columnNames = {&quot;follower_id&quot;, &quot;followed_id&quot;})\n)\n@JsonIgnore\nprivate List&lt;UserModel&gt; following;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","timertask","replit"],"owner":{"account_id":17162980,"reputation":105,"user_id":12422098,"display_name":"2tmb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697036732,"creation_date":1697036732,"question_id":77274281,"body_markdown":"I have created a simple program using selenium to launch a web browser and navigate to a web page. I previously used BlueJ to run it locally, which works perfectly, but I need it to run every single week at a specific time. I got this to work using a timer task, but I was hoping to use Replit so that the program doesn&#39;t have to be open on my computer at all times. Here&#39;s a simple example of what i&#39;m trying to run in replit:\r\n\r\n```import org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.support.ui.*;\r\nimport java.time.Duration;\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport java.util.List;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\nimport java.util.Calendar;\r\n\r\npublic class FitnessClassReservation extends TimerTask{\r\n    public void run() {\r\n        WebDriver driver = new ChromeDriver();\r\n        try {\r\n            driver.get(&quot;https://app.wodify.com/SignIn/Login?OriginalURL=&amp;RequiresConfirm=false&quot;);\r\n            driver.manage().window().maximize();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            System.out.println(e);\r\n        } finally {\r\n            driver.quit();\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        Timer timer = new Timer();\r\n        Calendar date = Calendar.getInstance();\r\n        date.set(\r\n                Calendar.DAY_OF_WEEK,\r\n                Calendar.WEDNESDAY\r\n        );\r\n        date.set(Calendar.HOUR, 9);\r\n        date.set(Calendar.MINUTE, 37);\r\n        date.set(Calendar.SECOND, 0);\r\n        date.set(Calendar.MILLISECOND, 0);\r\n        timer.schedule(\r\n                new FitnessClassReservation(),\r\n                date.getTime(),\r\n                1000\r\n        );\r\n    }\r\n}\r\n```\r\nBut it says that there is no package Selenium, and I can&#39;t find one that seems to work on replit&#39;s package manager. Also, I&#39;m not sure if Timer Tasks work on replit either as when removing all the selenium code I couldn&#39;t get it to run. I&#39;m fairly new to both Java and Replit, so if anyone has any ideas or knowledge I&#39;d greatly appreciate it!","title":"Can you use Selenium with Java on Replit?","body":"<p>I have created a simple program using selenium to launch a web browser and navigate to a web page. I previously used BlueJ to run it locally, which works perfectly, but I need it to run every single week at a specific time. I got this to work using a timer task, but I was hoping to use Replit so that the program doesn't have to be open on my computer at all times. Here's a simple example of what i'm trying to run in replit:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.*;\nimport java.time.Duration;\nimport org.openqa.selenium.JavascriptExecutor;\nimport java.util.List;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport java.util.Calendar;\n\npublic class FitnessClassReservation extends TimerTask{\n    public void run() {\n        WebDriver driver = new ChromeDriver();\n        try {\n            driver.get(&quot;https://app.wodify.com/SignIn/Login?OriginalURL=&amp;RequiresConfirm=false&quot;);\n            driver.manage().window().maximize();\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(e);\n        } finally {\n            driver.quit();\n        }\n    }\n    public static void main(String[] args) {\n        Timer timer = new Timer();\n        Calendar date = Calendar.getInstance();\n        date.set(\n                Calendar.DAY_OF_WEEK,\n                Calendar.WEDNESDAY\n        );\n        date.set(Calendar.HOUR, 9);\n        date.set(Calendar.MINUTE, 37);\n        date.set(Calendar.SECOND, 0);\n        date.set(Calendar.MILLISECOND, 0);\n        timer.schedule(\n                new FitnessClassReservation(),\n                date.getTime(),\n                1000\n        );\n    }\n}\n</code></pre>\n<p>But it says that there is no package Selenium, and I can't find one that seems to work on replit's package manager. Also, I'm not sure if Timer Tasks work on replit either as when removing all the selenium code I couldn't get it to run. I'm fairly new to both Java and Replit, so if anyone has any ideas or knowledge I'd greatly appreciate it!</p>\n"},{"tags":["java","eclipse","gradlew","minecraft-fabric"],"comments":[{"owner":{"account_id":6756469,"reputation":399,"user_id":5204691,"display_name":"stark"},"score":0,"creation_date":1645950996,"post_id":71283265,"comment_id":126000617,"body_markdown":"https://stackoverflow.com/questions/43426393/error-could-not-find-or-load-main-class-org-gradle-launcher-gradlemain, follow the accepeted answer? seems like a similar issue","body":"<a href=\"https://stackoverflow.com/questions/43426393/error-could-not-find-or-load-main-class-org-gradle-launcher-gradlemain\" title=\"error could not find or load main class org gradle launcher gradlemain\">stackoverflow.com/questions/43426393/&hellip;</a>, follow the accepeted answer? seems like a similar issue"}],"owner":{"account_id":23768561,"reputation":17,"user_id":17782977,"display_name":"ConanPro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1352,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1697036724,"creation_date":1645950643,"question_id":71283265,"body_markdown":"I am trying to make a Minecraft mod but when I need to do\r\n`.\\gradlew genSource` it keeps showing this error:\r\n```&gt; Configure project :\r\nFabric Loom: 0.10.66\r\nError: Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain    \r\nCaused by: java.lang.ClassNotFoundException: worker.org.gradle.process.internal.worker.GradleWorkerMain\r\nCould not write standard input to Gradle Worker Daemon 3.                                              \r\njava.io.IOException: The pipe is being closed                                                          \r\n        at java.base/java.io.FileOutputStream.writeBytes(Native Method)                                \r\n        at java.base/java.io.FileOutputStream.write(FileOutputStream.java:349)\r\n        at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n        at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\r\n        at org.gradle.process.internal.streams.ExecOutputHandleRunner.forwardContent(ExecOutputHandleRunner.java:68)\r\n        at org.gradle.process.internal.streams.ExecOutputHandleRunner.run(ExecOutputHandleRunner.java:53)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n&gt; Task :genSourcesWithCfr FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:genSourcesWithCfr&#39;.\r\n&gt; Failed to stop decompile worker JVM\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 3s\r\n2 actionable tasks: 1 executed, 1 up-to-date\r\n```\r\nand I have no idea how to fix it :(. I&#39;ve tried other methods but still it does not work","title":"gradlew genSource command in terminal is not working","body":"<p>I am trying to make a Minecraft mod but when I need to do\n<code>.\\gradlew genSource</code> it keeps showing this error:</p>\n<pre><code>Fabric Loom: 0.10.66\nError: Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain    \nCaused by: java.lang.ClassNotFoundException: worker.org.gradle.process.internal.worker.GradleWorkerMain\nCould not write standard input to Gradle Worker Daemon 3.                                              \njava.io.IOException: The pipe is being closed                                                          \n        at java.base/java.io.FileOutputStream.writeBytes(Native Method)                                \n        at java.base/java.io.FileOutputStream.write(FileOutputStream.java:349)\n        at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\n        at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\n        at org.gradle.process.internal.streams.ExecOutputHandleRunner.forwardContent(ExecOutputHandleRunner.java:68)\n        at org.gradle.process.internal.streams.ExecOutputHandleRunner.run(ExecOutputHandleRunner.java:53)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n\n&gt; Task :genSourcesWithCfr FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':genSourcesWithCfr'.\n&gt; Failed to stop decompile worker JVM\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\n2 actionable tasks: 1 executed, 1 up-to-date\n</code></pre>\n<p>and I have no idea how to fix it :(. I've tried other methods but still it does not work</p>\n"},{"tags":["java","hazelcast"],"comments":[{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":0,"creation_date":1696948352,"post_id":77239014,"comment_id":136216141,"body_markdown":"I don&#39;t think you can update TTL with a get() call. There is no API for that","body":"I don&#39;t think you can update TTL with a get() call. There is no API for that"}],"answers":[{"tags":[],"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697036630,"creation_date":1697036630,"answer_id":77274266,"question_id":77239014,"body_markdown":"This variant of [IMap.put()](https://docs.hazelcast.org/docs/5.3.2/javadoc/com/hazelcast/map/IMap.html#put-K-V-long-java.util.concurrent.TimeUnit-long-java.util.concurrent.TimeUnit-) might do what you want. You can specify how long the data survives since last write and since last read.\r\n\r\nAnother alternative would be to use an [EntryProcessor](https://docs.hazelcast.org/docs/5.3.2/javadoc/com/hazelcast/map/EntryProcessor.html). \r\nAlthough these are normally used for amending data, it doesn&#39;t actually have to change the data. So it could take the old value and save it unchanged with a different TTL, and also return the old value to the caller.\r\n\r\n```\r\npublic Object process(Entry entry) {\r\n\t\tObject oldValue = entry.getValue();\r\n\t\t((com.hazelcast.map.ExtendedMapEntry) entry).setValue(oldValue, 30, TimeUnit.SECONDS);\r\n\t\treturn oldValue;\r\n\t}\r\n```\r\n","title":"Hazelcast TTL based iMap which updates TTL on put and get for key","body":"<p>This variant of <a href=\"https://docs.hazelcast.org/docs/5.3.2/javadoc/com/hazelcast/map/IMap.html#put-K-V-long-java.util.concurrent.TimeUnit-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\">IMap.put()</a> might do what you want. You can specify how long the data survives since last write and since last read.</p>\n<p>Another alternative would be to use an <a href=\"https://docs.hazelcast.org/docs/5.3.2/javadoc/com/hazelcast/map/EntryProcessor.html\" rel=\"nofollow noreferrer\">EntryProcessor</a>.\nAlthough these are normally used for amending data, it doesn't actually have to change the data. So it could take the old value and save it unchanged with a different TTL, and also return the old value to the caller.</p>\n<pre><code>public Object process(Entry entry) {\n        Object oldValue = entry.getValue();\n        ((com.hazelcast.map.ExtendedMapEntry) entry).setValue(oldValue, 30, TimeUnit.SECONDS);\n        return oldValue;\n    }\n</code></pre>\n"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697036630,"creation_date":1696523439,"question_id":77239014,"body_markdown":"There is a use case where i need to create a data structure iMap in Hazelcast where eash key has some TTL associated with it.\r\n\r\nThe TTL will be updated when there is put for that key or in short update or new key gets added.\r\nAnother scenario can be for every get of that key reset the TTL also.\r\n\r\nThus in short for every read and write TTL gets updated.\r\n\r\nas per Hazelcast docs there is attribute associated for seeting TTL\r\nhttps://docs.hazelcast.org/docs/4.2/javadoc/com/hazelcast/config/MapConfig.html#setTimeToLiveSeconds-int-\r\n\r\nbut this is for add only , how to change it for every get ?\r\n\r\nIMAP does have API for setting the TTL \r\nhttps://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/map/IMap.java#L3147\r\n\r\nBut not sure how to make it atomic within single get call which gets the data also and also updates the TTL.","title":"Hazelcast TTL based iMap which updates TTL on put and get for key","body":"<p>There is a use case where i need to create a data structure iMap in Hazelcast where eash key has some TTL associated with it.</p>\n<p>The TTL will be updated when there is put for that key or in short update or new key gets added.\nAnother scenario can be for every get of that key reset the TTL also.</p>\n<p>Thus in short for every read and write TTL gets updated.</p>\n<p>as per Hazelcast docs there is attribute associated for seeting TTL\n<a href=\"https://docs.hazelcast.org/docs/4.2/javadoc/com/hazelcast/config/MapConfig.html#setTimeToLiveSeconds-int-\" rel=\"nofollow noreferrer\">https://docs.hazelcast.org/docs/4.2/javadoc/com/hazelcast/config/MapConfig.html#setTimeToLiveSeconds-int-</a></p>\n<p>but this is for add only , how to change it for every get ?</p>\n<p>IMAP does have API for setting the TTL\n<a href=\"https://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/map/IMap.java#L3147\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/map/IMap.java#L3147</a></p>\n<p>But not sure how to make it atomic within single get call which gets the data also and also updates the TTL.</p>\n"},{"tags":["java","eclipse","minecraft"],"answers":[{"tags":[],"owner":{"account_id":21162877,"reputation":1,"user_id":15560779,"display_name":"SpottyTheTurtle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617658809,"creation_date":1617658809,"answer_id":66960121,"question_id":66928582,"body_markdown":"you need to change &quot;group(ITEMGroup.MISC)&quot; to &quot;tab(ItemGroup.TAB_MISC)&quot;","title":"Undefined for the type Item.Properties in Eclipse","body":"<p>you need to change &quot;group(ITEMGroup.MISC)&quot; to &quot;tab(ItemGroup.TAB_MISC)&quot;</p>\n"}],"owner":{"account_id":21141258,"reputation":11,"user_id":15543643,"display_name":"Serious1005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1402,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697036591,"creation_date":1617433643,"question_id":66928582,"body_markdown":"I&#39;m modding Minecraft (version 1.16.5), and got an error when learning about &quot;ItemInit&quot;:\r\n\r\nHere is the code:\r\n\r\n    package com.test.core.init;\r\n    \r\n    import com.serious1004.test.test;\r\n    \r\n    import net.minecraft.item.Item;\r\n    import net.minecraft.item.ItemGroup;\r\n    import net.minecraftforge.fml.RegistryObject;\r\n    import net.minecraftforge.registries.DeferredRegister;\r\n    import net.minecraftforge.registries.ForgeRegistries;\r\n    \r\n    \r\n    public class ItemInit {\r\n    \r\n    \tpublic static final DeferredRegister&lt;Item&gt; ITEMS = DeferredRegister.create(ForgeRegistries.ITEMS,\r\n    \t\t\t test.MOD_ID);\r\n    \t\r\n    \tpublic static final RegistryObject&lt;Item&gt; EXAMPLE_ITEM = ITEMS.register(&quot;example_item&quot;,\r\n     \t\t() -&gt; new Item(new Item.Properties().group(ItemGroup.MISC))); #Error in this line!\r\n    }\r\n\r\n\r\nEclipse told me \r\n\r\n&gt; &quot;The method group(ItemGroup) is undefined for the type Item.Properties&quot;","title":"Undefined for the type Item.Properties in Eclipse","body":"<p>I'm modding Minecraft (version 1.16.5), and got an error when learning about &quot;ItemInit&quot;:</p>\n<p>Here is the code:</p>\n<pre><code>package com.test.core.init;\n\nimport com.serious1004.test.test;\n\nimport net.minecraft.item.Item;\nimport net.minecraft.item.ItemGroup;\nimport net.minecraftforge.fml.RegistryObject;\nimport net.minecraftforge.registries.DeferredRegister;\nimport net.minecraftforge.registries.ForgeRegistries;\n\n\npublic class ItemInit {\n\n    public static final DeferredRegister&lt;Item&gt; ITEMS = DeferredRegister.create(ForgeRegistries.ITEMS,\n             test.MOD_ID);\n    \n    public static final RegistryObject&lt;Item&gt; EXAMPLE_ITEM = ITEMS.register(&quot;example_item&quot;,\n        () -&gt; new Item(new Item.Properties().group(ItemGroup.MISC))); #Error in this line!\n}\n</code></pre>\n<p>Eclipse told me</p>\n<blockquote>\n<p>&quot;The method group(ItemGroup) is undefined for the type Item.Properties&quot;</p>\n</blockquote>\n"},{"tags":["java","intellij-idea","build.gradle","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697038398,"post_id":71885724,"comment_id":136229889,"body_markdown":"Can you please show the full build log?","body":"Can you please show the full build log?"}],"owner":{"account_id":24919764,"reputation":11,"user_id":18788189,"display_name":"p1nwhee1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697036514,"creation_date":1650035424,"question_id":71885724,"body_markdown":"I&#39;m trying to add other minecraft mods as dependencies in the mod I&#39;ve been working on with Intellij Idea, but when I try to launch Minecraft, it always fails and gives an error I don&#39;t understand.\r\n\r\nHere&#39;s the error\r\n\r\n```\r\n&gt; Task :runClient FAILED\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.1.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n10 actionable tasks: 3 executed, 7 up-to-date\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:runClient&#39;.\r\n    &gt; Process &#39;command &#39;C:\\Program Files\\Temurin\\jdk-8.0.302.8-hotspot\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n    * Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n    * Get more help at https://help.gradle.org\r\n\r\n    BUILD FAILED in 1m 26s\r\n\r\nPublishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \r\n\r\n```\r\n\r\n**And here&#39;s my build.gradle file**\r\n\r\n```buildscript {\r\n    repositories {\r\n        maven { url = &#39;https://files.minecraftforge.net/maven&#39; }\r\n        mavenCentral()\r\n\r\n        \r\n    }\r\n    dependencies {\r\n        classpath group: &#39;net.minecraftforge.gradle&#39;, name: &#39;ForgeGradle&#39;, version: &#39;5.1.+&#39;, changing: true\r\n\r\n\r\n    }\r\n}\r\napply plugin: &#39;net.minecraftforge.gradle&#39;\r\n// Only edit below this line, the above code adds and enables the necessary things for Forge to be setup.\r\napply plugin: &#39;eclipse&#39;\r\napply plugin: &#39;maven-publish&#39;\r\n\r\nversion = &#39;1.16.5-1.0&#39;\r\ngroup = &#39;com.pinwheel.singlet&#39; // http://maven.apache.org/guides/mini/guide-naming-conventions.html\r\narchivesBaseName = &#39;singlet&#39;\r\n\r\n\r\njava.toolchain.languageVersion = JavaLanguageVersion.of(8) // Mojang ships Java 8 to end users, so your mod should target Java 8.\r\n\r\nrepositories {\r\n    maven {\r\n        // location of the maven that hosts JEI files\r\n        name = &quot;Progwml6 maven&quot;\r\n        url = &quot;https://dvs1.progwml6.com/files/maven/&quot;\r\n    }\r\n    maven {\r\n        // location of a maven mirror for JEI files, as a fallback\r\n        name = &quot;ModMaven&quot;\r\n        url = &quot;https://modmaven.k.4u.nl&quot;\r\n    }\r\n}\r\nprintln(&#39;Java: &#39; + System.getProperty(&#39;java.version&#39;) + &#39; JVM: &#39; + System.getProperty(&#39;java.vm.version&#39;) + &#39;(&#39; + System.getProperty(&#39;java.vendor&#39;) + &#39;) Arch: &#39; + System.getProperty(&#39;os.arch&#39;))\r\nminecraft {\r\n    // The mappings can be changed at any time, and must be in the following format.\r\n    // Channel:   Version:\r\n    // snapshot   YYYYMMDD   Snapshot are built nightly.\r\n    // stable     #          Stables are built at the discretion of the MCP team.\r\n    // official   MCVersion  Official field/method names from Mojang mapping files\r\n    //\r\n    // You must be aware of the Mojang license when using the &#39;official&#39; mappings.\r\n    // See more information here: https://github.com/MinecraftForge/MCPConfig/blob/master/Mojang.md\r\n    //\r\n    // Use non-default mappings at your own risk. they may not always work.\r\n    // Simply re-run your setup task after changing the mappings to update your workspace.\r\n    mappings channel: &#39;snapshot&#39;, version: &#39;20210309-1.16.5&#39;\r\n    // makeObfSourceJar = false // an Srg named sources jar is made by default. uncomment this to disable.\r\n    \r\n    // accessTransformer = file(&#39;src/main/resources/META-INF/accesstransformer.cfg&#39;)\r\n\r\n    // Default run configurations.\r\n    // These can be tweaked, removed, or duplicated as needed.\r\n    runs {\r\n        client {\r\n            workingDirectory project.file(&#39;run&#39;)\r\n\r\n            // Recommended logging data for a userdev environment\r\n            // The markers can be changed as needed.\r\n            // &quot;SCAN&quot;: For mods scan.\r\n            // &quot;REGISTRIES&quot;: For firing of registry events.\r\n            // &quot;REGISTRYDUMP&quot;: For getting the contents of all registries.\r\n            property &#39;forge.logging.markers&#39;, &#39;SCAN, REGISTRIES, REGISTRYDUMP&#39;\r\n\r\n            // Recommended logging level for the console\r\n            // You can set various levels here.\r\n            // Please read: https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels\r\n            property &#39;forge.logging.console.level&#39;, &#39;debug&#39;\r\n\r\n\r\n            mods {\r\n                singlet {\r\n                    source sourceSets.main\r\n                }\r\n            }\r\n        }\r\n\r\n        server {\r\n            workingDirectory project.file(&#39;run&#39;)\r\n\r\n            // Recommended logging data for a userdev environment\r\n            // The markers can be changed as needed.\r\n            // &quot;SCAN&quot;: For mods scan.\r\n            // &quot;REGISTRIES&quot;: For firing of registry events.\r\n            // &quot;REGISTRYDUMP&quot;: For getting the contents of all registries.\r\n            property &#39;forge.logging.markers&#39;, &#39;SCAN,REGISTRIES,REGISTRYDUMP&#39;\r\n\r\n            // Recommended logging level for the console\r\n            // You can set various levels here.\r\n            // Please read: https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels\r\n            property &#39;forge.logging.console.level&#39;, &#39;debug&#39;\r\n\r\n            mods {\r\n                singlet {\r\n                    source sourceSets.main\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        data {\r\n            workingDirectory project.file(&#39;run&#39;)\r\n\r\n            // Recommended logging data for a userdev environment\r\n            // The markers can be changed as needed.\r\n            // &quot;SCAN&quot;: For mods scan.\r\n            // &quot;REGISTRIES&quot;: For firing of registry events.\r\n            // &quot;REGISTRYDUMP&quot;: For getting the contents of all registries.\r\n            property &#39;forge.logging.markers&#39;, &#39;SCAN,REGISTRIES,REGISTRYDUMP&#39;\r\n\r\n            // Recommended logging level for the console\r\n            // You can set various levels here.\r\n            // Please read: https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels\r\n            property &#39;forge.logging.console.level&#39;, &#39;debug&#39;\r\n            property &quot;mixin.env.remapRefMap&quot;, &quot;true&quot;\r\n            property &quot;mixin.env.refMapRemappingFile&quot;, &quot;buildFile.parent/build/createSrgToMcp/output.srg&quot;\r\n\r\n            // Specify the modid for data generation, where to output the resulting resource, and where to look for existing resources.\r\n            args &#39;--mod&#39;, &#39;singlet&#39;, &#39;--all&#39;, &#39;--output&#39;, file(&#39;src/generated/resources/&#39;), &#39;--existing&#39;, file(&#39;src/main/resources/&#39;)\r\n\r\n            mods {\r\n                singlet {\r\n                    source sourceSets.main\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// Include resources generated by data generators.\r\nsourceSets.main.resources { srcDir &#39;src/generated/resources&#39; }\r\n\r\ndependencies {\r\n    // Specify the version of Minecraft to use, If this is any group other then &#39;net.minecraft&#39; it is assumed\r\n    // that the dep is a ForgeGradle &#39;patcher&#39; dependency. And it&#39;s patches will be applied.\r\n    // The userdev artifact is a special name and will get all sorts of transformations applied to it.\r\n    minecraft &#39;net.minecraftforge:forge:1.16.5-36.2.20&#39;\r\n\r\n    // compile against the JEI API but do not include it at runtime\r\n    compileOnly fg.deobf(&quot;mezz.jei:jei-1.16.5:7.7.1.152:api&quot;)\r\n    // at runtime, use the full JEI jar\r\n    runtimeOnly fg.deobf(&quot;mezz.jei:jei-1.16.5:7.7.1.152&quot;)\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;jei-1.16.5-7.7.1.152.jar&#39;])\r\n    runtimeOnly fg.deobf(&quot;curse.maven:abnormalscore-382216:3607198&quot;)\r\n\r\n\r\n\r\n    // You may put jars on which you depend on in ./libs or you may define them like so..\r\n    // compile &quot;some.group:artifact:version:classifier&quot;\r\n    // compile &quot;some.group:artifact:version&quot;\r\n\r\n    // Real examples\r\n    // compile &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;  // adds buildcraft to the dev env\r\n    // compile &#39;com.googlecode.efficient-java-matrix-library:ejml:0.24&#39; // adds ejml to the dev env\r\n\r\n    // The &#39;provided&#39; configuration is for optional dependencies that exist at compile-time but might not at runtime.\r\n    // provided &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;\r\n\r\n    // These dependencies get remapped to your current MCP mappings\r\n    // deobf &#39;com.mod-buildcraft:buildcraft:6.0.8:dev&#39;\r\n\r\n    // For more info...\r\n    // http://www.gradle.org/docs/current/userguide/artifact_dependencies_tutorial.html\r\n    // http://www.gradle.org/docs/current/userguide/dependency_management.html\r\n\r\n}\r\nrepositories {\r\n    flatDir {\r\n        dirs &#39;lib&#39;\r\n    }\r\n    maven { url &quot;https://maven.jaackson.me&quot; }\r\n    maven { url &quot;https://dvs1.progwml6.com/files/maven/&quot; }\r\n    maven { url &quot;https://modmaven.k-4u.nl&quot; }\r\n    maven { url &quot;https://www.cursemaven.com&quot;}\r\n}\r\n\r\n// Example for how to get properties into the manifest for reading by the runtime..\r\njar {\r\n    manifest {\r\n        attributes([\r\n            &quot;Specification-Title&quot;: &quot;singlet&quot;,\r\n            &quot;Specification-Vendor&quot;: &quot;&quot;,\r\n            &quot;Specification-Version&quot;: &quot;1&quot;, // We are version 1 of ourselves\r\n            &quot;Implementation-Title&quot;: project.name,\r\n            &quot;Implementation-Version&quot;: &quot;${version}&quot;,\r\n            &quot;Implementation-Vendor&quot; :&quot;&quot;,\r\n            &quot;Implementation-Timestamp&quot;: new Date().format(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;),\r\n                &quot;MixinConfigs&quot;: project.name + &quot;.mixins.json&quot;\r\n        ])\r\n    }\r\n}\r\n\r\n// Example configuration to allow publishing using the maven-publish task\r\n// This is the preferred method to reobfuscate your jar file\r\njar.finalizedBy(&#39;reobfJar&#39;) \r\n// However if you are in a multi-project build, dev time needs unobfed jar files, so you can delay the obfuscation until publishing by doing\r\n//publish.dependsOn(&#39;reobfJar&#39;)\r\n\r\npublishing {\r\n    publications {\r\n        mavenJava(MavenPublication) {\r\n            artifact jar\r\n        }\r\n    }\r\n    repositories {\r\n        maven {\r\n            url &quot;file:///${project.projectDir}/mcmodsrepo&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I build the gradle, it will end up as successful, so I&#39;m not entirely sure what I&#39;m doing wrong. Please be patient with me, as English is not my first language.","title":"Process &#39;command &#39;C:\\Program Files\\Temurin\\jdk-8.0.302.8-hotspot\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1","body":"<p>I'm trying to add other minecraft mods as dependencies in the mod I've been working on with Intellij Idea, but when I try to launch Minecraft, it always fails and gives an error I don't understand.</p>\n<p>Here's the error</p>\n<pre><code>&gt; Task :runClient FAILED\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.1.1/userguide/command_line_interface.html#sec:command_line_warnings\n10 actionable tasks: 3 executed, 7 up-to-date\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':runClient'.\n    &gt; Process 'command 'C:\\Program Files\\Temurin\\jdk-8.0.302.8-hotspot\\bin\\java.exe'' finished with non-zero exit value 1\n\n    * Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n    * Get more help at https://help.gradle.org\n\n    BUILD FAILED in 1m 26s\n\nPublishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \n\n</code></pre>\n<p><strong>And here's my build.gradle file</strong></p>\n<pre><code>    repositories {\n        maven { url = 'https://files.minecraftforge.net/maven' }\n        mavenCentral()\n\n        \n    }\n    dependencies {\n        classpath group: 'net.minecraftforge.gradle', name: 'ForgeGradle', version: '5.1.+', changing: true\n\n\n    }\n}\napply plugin: 'net.minecraftforge.gradle'\n// Only edit below this line, the above code adds and enables the necessary things for Forge to be setup.\napply plugin: 'eclipse'\napply plugin: 'maven-publish'\n\nversion = '1.16.5-1.0'\ngroup = 'com.pinwheel.singlet' // http://maven.apache.org/guides/mini/guide-naming-conventions.html\narchivesBaseName = 'singlet'\n\n\njava.toolchain.languageVersion = JavaLanguageVersion.of(8) // Mojang ships Java 8 to end users, so your mod should target Java 8.\n\nrepositories {\n    maven {\n        // location of the maven that hosts JEI files\n        name = &quot;Progwml6 maven&quot;\n        url = &quot;https://dvs1.progwml6.com/files/maven/&quot;\n    }\n    maven {\n        // location of a maven mirror for JEI files, as a fallback\n        name = &quot;ModMaven&quot;\n        url = &quot;https://modmaven.k.4u.nl&quot;\n    }\n}\nprintln('Java: ' + System.getProperty('java.version') + ' JVM: ' + System.getProperty('java.vm.version') + '(' + System.getProperty('java.vendor') + ') Arch: ' + System.getProperty('os.arch'))\nminecraft {\n    // The mappings can be changed at any time, and must be in the following format.\n    // Channel:   Version:\n    // snapshot   YYYYMMDD   Snapshot are built nightly.\n    // stable     #          Stables are built at the discretion of the MCP team.\n    // official   MCVersion  Official field/method names from Mojang mapping files\n    //\n    // You must be aware of the Mojang license when using the 'official' mappings.\n    // See more information here: https://github.com/MinecraftForge/MCPConfig/blob/master/Mojang.md\n    //\n    // Use non-default mappings at your own risk. they may not always work.\n    // Simply re-run your setup task after changing the mappings to update your workspace.\n    mappings channel: 'snapshot', version: '20210309-1.16.5'\n    // makeObfSourceJar = false // an Srg named sources jar is made by default. uncomment this to disable.\n    \n    // accessTransformer = file('src/main/resources/META-INF/accesstransformer.cfg')\n\n    // Default run configurations.\n    // These can be tweaked, removed, or duplicated as needed.\n    runs {\n        client {\n            workingDirectory project.file('run')\n\n            // Recommended logging data for a userdev environment\n            // The markers can be changed as needed.\n            // &quot;SCAN&quot;: For mods scan.\n            // &quot;REGISTRIES&quot;: For firing of registry events.\n            // &quot;REGISTRYDUMP&quot;: For getting the contents of all registries.\n            property 'forge.logging.markers', 'SCAN, REGISTRIES, REGISTRYDUMP'\n\n            // Recommended logging level for the console\n            // You can set various levels here.\n            // Please read: https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels\n            property 'forge.logging.console.level', 'debug'\n\n\n            mods {\n                singlet {\n                    source sourceSets.main\n                }\n            }\n        }\n\n        server {\n            workingDirectory project.file('run')\n\n            // Recommended logging data for a userdev environment\n            // The markers can be changed as needed.\n            // &quot;SCAN&quot;: For mods scan.\n            // &quot;REGISTRIES&quot;: For firing of registry events.\n            // &quot;REGISTRYDUMP&quot;: For getting the contents of all registries.\n            property 'forge.logging.markers', 'SCAN,REGISTRIES,REGISTRYDUMP'\n\n            // Recommended logging level for the console\n            // You can set various levels here.\n            // Please read: https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels\n            property 'forge.logging.console.level', 'debug'\n\n            mods {\n                singlet {\n                    source sourceSets.main\n                }\n\n            }\n        }\n\n        data {\n            workingDirectory project.file('run')\n\n            // Recommended logging data for a userdev environment\n            // The markers can be changed as needed.\n            // &quot;SCAN&quot;: For mods scan.\n            // &quot;REGISTRIES&quot;: For firing of registry events.\n            // &quot;REGISTRYDUMP&quot;: For getting the contents of all registries.\n            property 'forge.logging.markers', 'SCAN,REGISTRIES,REGISTRYDUMP'\n\n            // Recommended logging level for the console\n            // You can set various levels here.\n            // Please read: https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels\n            property 'forge.logging.console.level', 'debug'\n            property &quot;mixin.env.remapRefMap&quot;, &quot;true&quot;\n            property &quot;mixin.env.refMapRemappingFile&quot;, &quot;buildFile.parent/build/createSrgToMcp/output.srg&quot;\n\n            // Specify the modid for data generation, where to output the resulting resource, and where to look for existing resources.\n            args '--mod', 'singlet', '--all', '--output', file('src/generated/resources/'), '--existing', file('src/main/resources/')\n\n            mods {\n                singlet {\n                    source sourceSets.main\n                }\n            }\n        }\n    }\n}\n\n// Include resources generated by data generators.\nsourceSets.main.resources { srcDir 'src/generated/resources' }\n\ndependencies {\n    // Specify the version of Minecraft to use, If this is any group other then 'net.minecraft' it is assumed\n    // that the dep is a ForgeGradle 'patcher' dependency. And it's patches will be applied.\n    // The userdev artifact is a special name and will get all sorts of transformations applied to it.\n    minecraft 'net.minecraftforge:forge:1.16.5-36.2.20'\n\n    // compile against the JEI API but do not include it at runtime\n    compileOnly fg.deobf(&quot;mezz.jei:jei-1.16.5:7.7.1.152:api&quot;)\n    // at runtime, use the full JEI jar\n    runtimeOnly fg.deobf(&quot;mezz.jei:jei-1.16.5:7.7.1.152&quot;)\n    implementation fileTree(dir: 'libs', include: ['jei-1.16.5-7.7.1.152.jar'])\n    runtimeOnly fg.deobf(&quot;curse.maven:abnormalscore-382216:3607198&quot;)\n\n\n\n    // You may put jars on which you depend on in ./libs or you may define them like so..\n    // compile &quot;some.group:artifact:version:classifier&quot;\n    // compile &quot;some.group:artifact:version&quot;\n\n    // Real examples\n    // compile 'com.mod-buildcraft:buildcraft:6.0.8:dev'  // adds buildcraft to the dev env\n    // compile 'com.googlecode.efficient-java-matrix-library:ejml:0.24' // adds ejml to the dev env\n\n    // The 'provided' configuration is for optional dependencies that exist at compile-time but might not at runtime.\n    // provided 'com.mod-buildcraft:buildcraft:6.0.8:dev'\n\n    // These dependencies get remapped to your current MCP mappings\n    // deobf 'com.mod-buildcraft:buildcraft:6.0.8:dev'\n\n    // For more info...\n    // http://www.gradle.org/docs/current/userguide/artifact_dependencies_tutorial.html\n    // http://www.gradle.org/docs/current/userguide/dependency_management.html\n\n}\nrepositories {\n    flatDir {\n        dirs 'lib'\n    }\n    maven { url &quot;https://maven.jaackson.me&quot; }\n    maven { url &quot;https://dvs1.progwml6.com/files/maven/&quot; }\n    maven { url &quot;https://modmaven.k-4u.nl&quot; }\n    maven { url &quot;https://www.cursemaven.com&quot;}\n}\n\n// Example for how to get properties into the manifest for reading by the runtime..\njar {\n    manifest {\n        attributes([\n            &quot;Specification-Title&quot;: &quot;singlet&quot;,\n            &quot;Specification-Vendor&quot;: &quot;&quot;,\n            &quot;Specification-Version&quot;: &quot;1&quot;, // We are version 1 of ourselves\n            &quot;Implementation-Title&quot;: project.name,\n            &quot;Implementation-Version&quot;: &quot;${version}&quot;,\n            &quot;Implementation-Vendor&quot; :&quot;&quot;,\n            &quot;Implementation-Timestamp&quot;: new Date().format(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;),\n                &quot;MixinConfigs&quot;: project.name + &quot;.mixins.json&quot;\n        ])\n    }\n}\n\n// Example configuration to allow publishing using the maven-publish task\n// This is the preferred method to reobfuscate your jar file\njar.finalizedBy('reobfJar') \n// However if you are in a multi-project build, dev time needs unobfed jar files, so you can delay the obfuscation until publishing by doing\n//publish.dependsOn('reobfJar')\n\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n            artifact jar\n        }\n    }\n    repositories {\n        maven {\n            url &quot;file:///${project.projectDir}/mcmodsrepo&quot;\n        }\n    }\n}\n</code></pre>\n<p>When I build the gradle, it will end up as successful, so I'm not entirely sure what I'm doing wrong. Please be patient with me, as English is not my first language.</p>\n"},{"tags":["java","json","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":20985206,"reputation":1,"user_id":19370660,"display_name":"Charly1307"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659200486,"creation_date":1659200486,"answer_id":73177575,"question_id":72548974,"body_markdown":"Doubt, your PNG file is &quot;items.json&quot; and not &quot;cocoa.png&quot;?\r\nAs far as I know, in the &quot;texture&quot; folder there should be 2 folders:\r\n&quot;blocks&quot;, &quot;items&quot;.\r\nInside &quot;textures/items&quot; goes the file &quot;cocoa.png&quot;","title":"Minecraft forge doesn&#39;t load my item texture in 1.12.2","body":"<p>Doubt, your PNG file is &quot;items.json&quot; and not &quot;cocoa.png&quot;?\nAs far as I know, in the &quot;texture&quot; folder there should be 2 folders:\n&quot;blocks&quot;, &quot;items&quot;.\nInside &quot;textures/items&quot; goes the file &quot;cocoa.png&quot;</p>\n"}],"owner":{"account_id":25507981,"reputation":1,"user_id":19300139,"display_name":"DouFut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697036476,"creation_date":1654704674,"question_id":72548974,"body_markdown":"I&#39;m trying to add a texture to an item I have, and it&#39;s not loading in Minecraft. Here&#39;s my base mod class:\r\n\r\n```\r\npackage fr.doufut.test;\r\n\r\nimport fr.doufut.test.events.RegisteringEvent;\r\nimport fr.doufut.test.proxy.CommonProxy;\r\nimport fr.doufut.test.utils.Reference;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.common.SidedProxy;\r\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\r\n@Mod(modid = Reference.MODID, name = Reference.NAME , version = Reference.VERSION)\r\npublic class TestMain {\r\n\r\n    @Mod.Instance(Reference.MODID)\r\n    public static TestMain instance;\r\n\r\n    @SidedProxy(clientSide = Reference.CP, serverSide = Reference.SP)\r\n    public static CommonProxy proxy;\r\n\r\n    public TestMain()\r\n    {\r\n        MinecraftForge.EVENT_BUS.register(new RegisteringEvent());\r\n    }\r\n\r\n    @Mod.EventHandler\r\n    public void preinit(FMLPreInitializationEvent e)\r\n    {\r\n        proxy.preinit();\r\n    }\r\n\r\n    @Mod.EventHandler\r\n    public void init(FMLInitializationEvent e)\r\n    {\r\n        proxy.init();\r\n    }\r\n\r\n    @Mod.EventHandler\r\n    public void postinit(FMLPostInitializationEvent e)\r\n    {\r\n        proxy.postinit();\r\n    }\r\n}\r\n```\r\n\r\nMy common proxy class:\r\n\r\n```\r\npackage fr.doufut.test.proxy;\r\n\r\npublic class CommonProxy {\r\n\r\n    public void preinit()\r\n    {\r\n\r\n    }\r\n\r\n    public void init()\r\n    {\r\n\r\n    }\r\n\r\n    public void postinit()\r\n    {\r\n\r\n    }\r\n}\r\n```\r\n\r\nMy Client Proxy class:\r\n\r\n```\r\npackage fr.doufut.test.proxy;\r\n\r\nimport fr.doufut.test.init.ModItems;\r\nimport net.minecraftforge.common.MinecraftForge;\r\n\r\npublic class ClientProxy extends CommonProxy\r\n{\r\n\r\n    @Override\r\n    public void preinit() {\r\n        super.preinit();\r\n        MinecraftForge.EVENT_BUS.register(ModItems.INSTANCE);\r\n    }\r\n\r\n    @Override\r\n    public void init() {\r\n        super.init();\r\n    }\r\n\r\n    @Override\r\n    public void postinit() {\r\n        super.postinit();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nHere is the actual ModItem class:\r\n```\r\npackage fr.doufut.test.init;\r\n\r\nimport com.google.common.collect.Lists;\r\nimport fr.doufut.test.items.HDOItems;\r\nimport fr.doufut.test.utils.Reference;\r\nimport net.minecraft.client.renderer.block.model.ModelResourceLocation;\r\nimport net.minecraft.item.Item;\r\nimport net.minecraft.util.ResourceLocation;\r\nimport net.minecraftforge.client.event.ModelRegistryEvent;\r\nimport net.minecraftforge.client.model.ModelLoader;\r\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\r\n\r\nimport java.util.List;\r\n\r\npublic class ModItems {\r\n\r\n    public static final ModItems INSTANCE = new ModItems();\r\n\r\n    public static Item coca;\r\n\r\n    private List&lt;Item&gt; items;\r\n\r\n    public void init()\r\n    {\r\n        items = Lists.newArrayList();\r\n        coca = new HDOItems(&quot;coca&quot;);\r\n    }\r\n\r\n    @SubscribeEvent\r\n    public void registerModels(ModelRegistryEvent e)\r\n    {\r\n        for (Item item : items)\r\n        {\r\n            registerModel(item);\r\n        }\r\n    }\r\n\r\n    private void registerModel(Item item)\r\n    {\r\n        ModelLoader.setCustomModelResourceLocation(item, 0, new ModelResourceLocation(new ResourceLocation(Reference.MODID, item.getUnlocalizedName().substring(5)), &quot;inventory&quot;));\r\n    }\r\n\r\n    public List&lt;Item&gt; getItems()\r\n    {\r\n        return items;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is the HDOItem class file:\r\n```\r\npackage fr.doufut.test.items;\r\n\r\nimport fr.doufut.test.init.ModItems;\r\nimport net.minecraft.item.Item;\r\n\r\npublic class HDOItems extends Item\r\n{\r\n\r\n    public HDOItems(String name)\r\n    {\r\n        setRegistryName(name).setUnlocalizedName(name);\r\n\r\n        ModItems.INSTANCE.getItems().add(this);\r\n    }\r\n}\r\n```\r\nHere is the item&#39;s json model file:\r\n```\r\n{\r\n\r\n  &quot;parent&quot;: &quot;item/generated&quot;,\r\n  &quot;textures&quot;: {\r\n    &quot;layer0&quot;: &quot;hdo:/items/coca&quot;\r\n  }\r\n\r\n}\r\n```\r\n\r\nMy folder structure:\r\n\r\nJson file: C:\\Users\\rober\\Desktop\\forge-1.12.2-14.23.5.2859-mdk\\src\\main\\resources\\assets\\hdo\\models\\item\\coca.json\r\n\r\nPNG file: C:\\Users\\rober\\Desktop\\forge-1.12.2-14.23.5.2859-mdk\\src\\main\\resources\\assets\\hdo\\textures\\items.json","title":"Minecraft forge doesn&#39;t load my item texture in 1.12.2","body":"<p>I'm trying to add a texture to an item I have, and it's not loading in Minecraft. Here's my base mod class:</p>\n<pre><code>package fr.doufut.test;\n\nimport fr.doufut.test.events.RegisteringEvent;\nimport fr.doufut.test.proxy.CommonProxy;\nimport fr.doufut.test.utils.Reference;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.SidedProxy;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\n@Mod(modid = Reference.MODID, name = Reference.NAME , version = Reference.VERSION)\npublic class TestMain {\n\n    @Mod.Instance(Reference.MODID)\n    public static TestMain instance;\n\n    @SidedProxy(clientSide = Reference.CP, serverSide = Reference.SP)\n    public static CommonProxy proxy;\n\n    public TestMain()\n    {\n        MinecraftForge.EVENT_BUS.register(new RegisteringEvent());\n    }\n\n    @Mod.EventHandler\n    public void preinit(FMLPreInitializationEvent e)\n    {\n        proxy.preinit();\n    }\n\n    @Mod.EventHandler\n    public void init(FMLInitializationEvent e)\n    {\n        proxy.init();\n    }\n\n    @Mod.EventHandler\n    public void postinit(FMLPostInitializationEvent e)\n    {\n        proxy.postinit();\n    }\n}\n</code></pre>\n<p>My common proxy class:</p>\n<pre><code>package fr.doufut.test.proxy;\n\npublic class CommonProxy {\n\n    public void preinit()\n    {\n\n    }\n\n    public void init()\n    {\n\n    }\n\n    public void postinit()\n    {\n\n    }\n}\n</code></pre>\n<p>My Client Proxy class:</p>\n<pre><code>package fr.doufut.test.proxy;\n\nimport fr.doufut.test.init.ModItems;\nimport net.minecraftforge.common.MinecraftForge;\n\npublic class ClientProxy extends CommonProxy\n{\n\n    @Override\n    public void preinit() {\n        super.preinit();\n        MinecraftForge.EVENT_BUS.register(ModItems.INSTANCE);\n    }\n\n    @Override\n    public void init() {\n        super.init();\n    }\n\n    @Override\n    public void postinit() {\n        super.postinit();\n    }\n}\n\n\n</code></pre>\n<p>Here is the actual ModItem class:</p>\n<pre><code>package fr.doufut.test.init;\n\nimport com.google.common.collect.Lists;\nimport fr.doufut.test.items.HDOItems;\nimport fr.doufut.test.utils.Reference;\nimport net.minecraft.client.renderer.block.model.ModelResourceLocation;\nimport net.minecraft.item.Item;\nimport net.minecraft.util.ResourceLocation;\nimport net.minecraftforge.client.event.ModelRegistryEvent;\nimport net.minecraftforge.client.model.ModelLoader;\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\n\nimport java.util.List;\n\npublic class ModItems {\n\n    public static final ModItems INSTANCE = new ModItems();\n\n    public static Item coca;\n\n    private List&lt;Item&gt; items;\n\n    public void init()\n    {\n        items = Lists.newArrayList();\n        coca = new HDOItems(&quot;coca&quot;);\n    }\n\n    @SubscribeEvent\n    public void registerModels(ModelRegistryEvent e)\n    {\n        for (Item item : items)\n        {\n            registerModel(item);\n        }\n    }\n\n    private void registerModel(Item item)\n    {\n        ModelLoader.setCustomModelResourceLocation(item, 0, new ModelResourceLocation(new ResourceLocation(Reference.MODID, item.getUnlocalizedName().substring(5)), &quot;inventory&quot;));\n    }\n\n    public List&lt;Item&gt; getItems()\n    {\n        return items;\n    }\n}\n\n</code></pre>\n<p>Here is the HDOItem class file:</p>\n<pre><code>package fr.doufut.test.items;\n\nimport fr.doufut.test.init.ModItems;\nimport net.minecraft.item.Item;\n\npublic class HDOItems extends Item\n{\n\n    public HDOItems(String name)\n    {\n        setRegistryName(name).setUnlocalizedName(name);\n\n        ModItems.INSTANCE.getItems().add(this);\n    }\n}\n</code></pre>\n<p>Here is the item's json model file:</p>\n<pre><code>{\n\n  &quot;parent&quot;: &quot;item/generated&quot;,\n  &quot;textures&quot;: {\n    &quot;layer0&quot;: &quot;hdo:/items/coca&quot;\n  }\n\n}\n</code></pre>\n<p>My folder structure:</p>\n<p>Json file: C:\\Users\\rober\\Desktop\\forge-1.12.2-14.23.5.2859-mdk\\src\\main\\resources\\assets\\hdo\\models\\item\\coca.json</p>\n<p>PNG file: C:\\Users\\rober\\Desktop\\forge-1.12.2-14.23.5.2859-mdk\\src\\main\\resources\\assets\\hdo\\textures\\items.json</p>\n"},{"tags":["java","android","json","android-recyclerview"],"comments":[{"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"score":0,"creation_date":1697034824,"post_id":77273778,"comment_id":136229138,"body_markdown":"You haven&#39;t included the code that loads the data for the second RecyclerView. How do you fetch that and update the adapter?","body":"You haven&#39;t included the code that loads the data for the second RecyclerView. How do you fetch that and update the adapter?"},{"owner":{"account_id":11838749,"reputation":35,"user_id":8663248,"display_name":"user8663248"},"score":0,"creation_date":1697035823,"post_id":77273778,"comment_id":136229356,"body_markdown":"Kindly check loader added","body":"Kindly check loader added"},{"owner":{"account_id":11838749,"reputation":35,"user_id":8663248,"display_name":"user8663248"},"score":0,"creation_date":1697048571,"post_id":77273778,"comment_id":136231733,"body_markdown":"any suggestions sir","body":"any suggestions sir"}],"owner":{"account_id":11838749,"reputation":35,"user_id":8663248,"display_name":"user8663248"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697035780,"creation_date":1697032909,"question_id":77273778,"body_markdown":"hello i am trying to fetch subcategories whenever user click on specific category, I am using json to parse data.\r\n\r\nmy json data.\r\n\r\nCATEGORY DATA\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;category_name&quot;: &quot;Maths&quot;,\r\n    &quot;q_count&quot;: 1,\r\n    &quot;category_image&quot;: &quot;qcategory_Category test 1. dPy#NQHA7#PXwRG.png&quot;,\r\n    &quot;sub_categorys&quot;: 2\r\n  },\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;category_name&quot;: &quot;General knowledge&quot;,\r\n    &quot;q_count&quot;: 2,\r\n    &quot;category_image&quot;: &quot;qcategory_Category test 2.png&quot;,\r\n    &quot;sub_categorys&quot;: 2\r\n  }\r\n]\r\n```\r\nSUBCATEGORIES DATA\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 6,\r\n    &quot;sub_category_name&quot;: &quot;Arithmetic&quot;,\r\n    &quot;sub_category_image&quot;: &quot;subcategory_Applenull&quot;,\r\n    &quot;category_id&quot;: 1,\r\n    &quot;question&quot;: 0\r\n  },\r\n  {\r\n    &quot;id&quot;: 7,\r\n    &quot;sub_category_name&quot;: &quot;Geometry&quot;,\r\n    &quot;sub_category_image&quot;: &quot;subcategory_Banananull&quot;,\r\n    &quot;category_id&quot;: 1,\r\n    &quot;question&quot;: 0\r\n  },\r\n  {\r\n    &quot;id&quot;: 8,\r\n    &quot;sub_category_name&quot;: &quot;Gk Questions class 1&quot;,\r\n    &quot;sub_category_image&quot;: &quot;subcategory_Carrotnull&quot;,\r\n    &quot;category_id&quot;: 2,\r\n    &quot;question&quot;: 0\r\n  },\r\n  {\r\n    &quot;id&quot;: 9,\r\n    &quot;sub_category_name&quot;: &quot;Gk Questions class 2&quot;,\r\n    &quot;sub_category_image&quot;: &quot;subcategory_Radishnull&quot;,\r\n    &quot;category_id&quot;: 2,\r\n    &quot;question&quot;: 0\r\n  }\r\n]\r\n```\r\n\r\nQuizadaptor (Main category)\r\n```\r\npublic class QuizAdapter extends RecyclerView.Adapter&lt;QuizAdapter.ViewHolder&gt; implements Filterable {\r\n\r\n    private final int mBackground;\r\n    private List&lt;Quiz_Category&gt; original_items = new ArrayList&lt;&gt;();\r\n\tprivate List&lt;Quiz_Category&gt; filtered_items = new ArrayList&lt;&gt;();\r\n    \r\n    private ItemFilter mFilter = new ItemFilter();\r\n    private final TypedValue mTypedValue = new TypedValue();\r\n    private Context ctx;\r\n\tprivate ProgressDialog progress;\r\n\tString subcategoryid;\r\n\tprivate List&lt;Quiz_Category&gt; categorylist = new ArrayList&lt;Quiz_Category&gt;();\r\n\tprivate String category_id;\r\n\tpublic ImageView image;\r\n\tprivate ImageLoader imgloader = ImageLoader.getInstance();\r\n\t\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        // each data item is just a string in this case\r\n        public TextView category_name;\r\n        public TextView bellow_name;\r\n        public ImageView category_image;\r\n\t\tpublic TextView date;\r\n        public CardView lyt_parent;\r\n\t\t\r\n        public ViewHolder(View v) {\r\n            super(v);\r\n            category_name = (TextView) v.findViewById(R.id.txtcustomrow);\r\n            bellow_name = (TextView) v.findViewById(R.id.q_count);\r\n\t\t\tcategory_image = (ImageView) v.findViewById(R.id.img);\r\n            lyt_parent = (CardView) v.findViewById(R.id.Ripple_layout);\r\n        }\r\n    }\r\n\r\n    public Filter getFilter() {\r\n        return mFilter;\r\n    }\r\n    // Provide a suitable constructor (depends on the kind of dataset)\r\n    public QuizAdapter(Context ctx, List&lt;Quiz_Category&gt; items) {\r\n        this.ctx = ctx;\r\n        original_items = items;\r\n\t\tfiltered_items = items;\r\n        categorylist = items;\r\n        ctx.getTheme().resolveAttribute(R.attr.selectableItemBackground, mTypedValue, true);\r\n        mBackground = mTypedValue.resourceId;\r\n    }\r\n\r\n    @Override\r\n    public QuizAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.quiz_list, parent, false);\r\n        v.setBackgroundResource(mBackground);\r\n        ViewHolder vh = new ViewHolder(v);\r\n        return vh;\r\n    }\r\n\r\n    // Replace the contents of a view (invoked by the layout manager)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder,final int position) {\r\n\t\t\r\n\t\tfinal Quiz_Category p = filtered_items.get(position);\r\n        \r\n\t\t//final Quiz_Category p = categorylist.get(position);\r\n        holder.category_name.setText(p.category_name);\r\n\t\timgloader.displayImage(Constant.getURLimgQuizCategory(p.category_image), holder.category_image);\r\n        \r\n\t\tholder.bellow_name.setText(p.question);\r\n\t\tString url = DataManager.catphotourl+ categorylist.get(position).category_image;\r\n\t\ttry {\r\n\t\t\turl = URLDecoder.decode(url, &quot;UTF-8&quot;);\r\n\t\t\turl = url.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n\t\t} catch (UnsupportedEncodingException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\t//holder.category_image.setImage(url);\r\n\t\t\r\n\t\tholder.lyt_parent.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View view) {\r\n\t\t\t\t\tIntent i = new Intent(ctx, ActivitySubCategoryDetails.class);\r\n\t\t\t\t\ti.putExtra(ActivitySubCategoryDetails.EXTRA_OBJCT, p);\r\n\t\t\t\t\tctx.startActivity(i);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\r\n\t\t\r\n    }\r\n\r\n    // Return the size of your dataset (invoked by the layout manager)\r\n    @Override\r\n    public int getItemCount() {\r\n\t\t//return categorylist != null ? categorylist.size() : 0;\r\n\t\treturn filtered_items.size();\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return filtered_items.get(position).getId();\r\n    }\r\n\t\r\n\tpublic class getsubcategories extends AsyncTask&lt;String, Void, String&gt; {\r\n\t\tboolean response = false;\r\n\r\n\t\t@Override\r\n\t\tprotected void onPreExecute() {\r\n\r\n\t\t\tprogress = ProgressDialog.show(ctx, &quot;Getting Questions...&quot;,\r\n\t\t\t\t\t\t\t\t\t\t   &quot;Please wait....&quot;);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected String doInBackground(String... params) {\r\n\r\n\t\t\tresponse = APIManager.getsubcategories(category_id);\r\n\r\n\t\t\treturn &quot;&quot;;\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(String result) {\r\n\r\n\t\t\tprogress.cancel();\r\n\t\t\tif (response) {\r\n\r\n\t\t\t\tif (DataManager.status.equalsIgnoreCase(&quot;1&quot;)) {\r\n\r\n\t\t\t\t\tIntent i = new Intent(ctx, SubcatListActivity.class);\r\n\t\t\t\t\tctx.startActivity(i);\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconnectionerror();\r\n\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconnectionerror();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t@Override\t\r\n\t\tprotected void onProgressUpdate(Void... values) {\r\n\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\tpublic class getquestionsbycat extends AsyncTask&lt;String, Void, String&gt; {\r\n\t\tboolean response = false;\r\n\t\t@Override\r\n\t\tprotected String doInBackground(String... params) {\r\n\t\t\tresponse = APIManager.getquestionbycatagory(category_id);\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(String result) {\r\n\t\t\t//progress.cancel();\r\n\t\t\tif (response) {\r\n\t\t\t\tIntent i = new Intent(ctx, Timer_questions.class);\r\n\t\t\t\tctx.startActivity(i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    \r\n\tpublic void connectionerror() {\r\n\t\tAlertDialog.Builder alertDialog = new AlertDialog.Builder(ctx);\r\n\r\n\t\talertDialog.setTitle(&quot;Error!&quot;);\r\n\r\n\t\talertDialog.setMessage(&quot;Connection Lost ! Try Again&quot;);\r\n\r\n\t\talertDialog.setPositiveButton(&quot;Retry&quot;,\r\n\t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\r\n\r\n\t\t\t\t\tnew getquestionsbycat().execute();\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\talertDialog.show();\r\n\t}\r\n\t\r\n    private class ItemFilter extends Filter {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n            String query = constraint.toString().toLowerCase();\r\n            FilterResults results = new FilterResults();\r\n            final List&lt;Quiz_Category&gt; list = original_items;\r\n            final List&lt;Quiz_Category&gt; result_list = new ArrayList&lt;&gt;(list.size());\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                String str_title = list.get(i).category_name;\r\n                String str_cat = list.get(i).question;\r\n                if (str_title.toLowerCase().contains(query) || str_cat.toLowerCase().contains(query)) {\r\n                    result_list.add(list.get(i));\r\n                }\r\n            }\r\n            results.values = result_list;\r\n            results.count = result_list.size();\r\n            return results;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            categorylist = (List&lt;Quiz_Category&gt;) results.values;\r\n            notifyDataSetChanged();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nsubcategories adaptor\r\n```\r\npackage com.androbaron.dailynews.quiz.adapter;\r\n\r\nimport java.net.URLDecoder;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.support.v7.widget.RecyclerView;\r\nimport android.util.TypedValue;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.androbaron.dailynews.ActivityJobDetails;\r\nimport com.androbaron.dailynews.R;\r\nimport com.androbaron.dailynews.data.Constant;\r\nimport com.androbaron.dailynews.model.Quiz_Category;\r\n\r\nimport com.nostra13.universalimageloader.core.display.CircleBitmapDisplayer;\r\nimport com.nostra13.universalimageloader.core.ImageLoader;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport android.support.v7.widget.*;\r\nimport com.androbaron.dailynews.*;\r\nimport com.androbaron.dailynews.model.*;\r\nimport com.androbaron.dailynews.quiz.SubcatListActivity;\r\nimport java.io.*;\r\nimport com.applidium.shutterbug.FetchableImageView;\r\nimport android.os.*;\r\nimport android.app.*;\r\nimport com.androbaron.dailynews.quiz.*;\r\nimport android.content.*;\r\nimport android.support.v4.app.*;\r\nimport android.annotation.*;\r\n\r\npublic class SubCategoryAdapter extends RecyclerView.Adapter&lt;SubCategoryAdapter.ViewHolder&gt; implements Filterable {\r\n\r\n    private final int mBackground;\r\n    private List&lt;SubCategory&gt; original_items = new ArrayList&lt;&gt;();\r\n    private ItemFilter mFilter = new ItemFilter();\r\n    private final TypedValue mTypedValue = new TypedValue();\r\n    private Context ctx;\r\n\tprivate ProgressDialog progress;\r\n\tString subcategoryid;\r\n\tprivate List&lt;SubCategory&gt; subcategorylist = new ArrayList&lt;SubCategory&gt;();\r\n\tprivate String category_id;\r\n\tpublic ImageView image;\r\n\tprivate ImageLoader imgloader = ImageLoader.getInstance();\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        // each data item is just a string in this case\r\n        public TextView sub_category_name;\r\n        public TextView questions;\r\n        public ImageView sub_category_image;\r\n\t\t//public TextView date;\r\n        public CardView lyt_parent;\r\n\r\n        public ViewHolder(View v) {\r\n            super(v);\r\n            sub_category_name = (TextView) v.findViewById(R.id.txtcustomrow);\r\n            questions = (TextView) v.findViewById(R.id.q_count);\r\n\t\t\tsub_category_image = (ImageView) v.findViewById(R.id.img);\r\n            lyt_parent = (CardView) v.findViewById(R.id.Ripple_layout);\r\n        }\r\n    }\r\n\r\n    public Filter getFilter() {\r\n        return mFilter;\r\n    }\r\n    // Provide a suitable constructor (depends on the kind of dataset)\r\n    public SubCategoryAdapter(Context ctx, List&lt;SubCategory&gt; items) {\r\n        this.ctx = ctx;\r\n        original_items = items;\r\n        subcategorylist = items;\r\n        ctx.getTheme().resolveAttribute(R.attr.selectableItemBackground, mTypedValue, true);\r\n        mBackground = mTypedValue.resourceId;\r\n    }\r\n\r\n    @Override\r\n    public SubCategoryAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.subcat_list, parent, false);\r\n        v.setBackgroundResource(mBackground);\r\n        ViewHolder vh = new ViewHolder(v);\r\n        return vh;\r\n    }\r\n\r\n    // Replace the contents of a view (invoked by the layout manager)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder,final int position) {\r\n\r\n\t\tfinal SubCategory p = subcategorylist.get(position);\r\n        holder.sub_category_name.setText(p.sub_category_name);\r\n\t\timgloader.displayImage(Constant.getURLimgQuizCategory(p.sub_category_image), holder.sub_category_image);\r\n\r\n\t\tholder.questions.setText(p.question);\r\n\t\tString url = DataManager.catphotourl+ subcategorylist.get(position).sub_category_image;\r\n//\t\ttry {\r\n//\t\t\turl = URLDecoder.decode(url, &quot;UTF-8&quot;);\r\n//\t\t\turl = url.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n//\t\t} catch (UnsupportedEncodingException e1) {\r\n//\t\t\t// TODO Auto-generated catch block\r\n//\t\t\te1.printStackTrace();\r\n//\t\t}\r\n\t\t//holder.category_image.setImage(url);\r\n\r\n//\t\tholder.lyt_parent.setOnClickListener(new View.OnClickListener() {\r\n//\t\t\t\t@Override\r\n//\t\t\t\tpublic void onClick(View view) {\r\n//\t\t\t\t\tIntent i = new Intent(ctx, ActivityQuizView.class);\r\n//\t\t\t\t\ti.putExtra(ActivityQuizView.EXTRA_OBJCT, p);\r\n//\t\t\t\t\tBundle options = ActivityOptionsCompat.makeScaleUpAnimation(\r\n//\t\t\t\t\t\tholder.lyt_parent, 0, 0, holder.lyt_parent.getWidth(), holder.lyt_parent.getHeight()).toBundle();\r\n//\r\n//\t\t\t\t\tActivityCompat.startActivity(ctx, i, options);\r\n//\r\n//\t\t\t\t\tctx.startActivity(i);\r\n//\t\t\t\t}\r\n//\t\t\t});\r\n\r\n\r\n    }\r\n\r\n    // Return the size of your dataset (invoked by the layout manager)\r\n    @Override\r\n    public int getItemCount() {\r\n\t\treturn subcategorylist != null ? subcategorylist.size() : 0;\r\n\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n\tpublic class getsubcategories extends AsyncTask&lt;String, Void, String&gt; {\r\n\t\tboolean response = false;\r\n\r\n\t\t@Override\r\n\t\tprotected void onPreExecute() {\r\n\r\n\t\t\tprogress = ProgressDialog.show(ctx, &quot;Getting Questions...&quot;,\r\n\t\t\t\t\t\t\t\t\t\t   &quot;Please wait....&quot;);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected String doInBackground(String... params) {\r\n\r\n\t\t\tresponse = APIManager.getsubcategories(category_id);\r\n\r\n\t\t\treturn &quot;&quot;;\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(String result) {\r\n\r\n\t\t\tprogress.cancel();\r\n\t\t\tif (response) {\r\n\r\n\t\t\t\tif (DataManager.status.equalsIgnoreCase(&quot;1&quot;)) {\r\n\r\n\t\t\t\t\tIntent i = new Intent(ctx, SubcatListActivity.class);\r\n\t\t\t\t\tctx.startActivity(i);\r\n\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tconnectionerror();\r\n\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconnectionerror();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t@Override\t\r\n\t\tprotected void onProgressUpdate(Void... values) {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic class getquestionsbycat extends AsyncTask&lt;String, Void, String&gt; {\r\n\t\tboolean response = false;\r\n\t\t@Override\r\n\t\tprotected String doInBackground(String... params) {\r\n\t\t\tresponse = APIManager.getquestionbycatagory(category_id);\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(String result) {\r\n\t\t\t//progress.cancel();\r\n\t\t\tif (response) {\r\n\t\t\t\tIntent i = new Intent(ctx, Timer_questions.class);\r\n\t\t\t\tctx.startActivity(i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void connectionerror() {\r\n\t\tAlertDialog.Builder alertDialog = new AlertDialog.Builder(ctx);\r\n\r\n\t\talertDialog.setTitle(&quot;Error!&quot;);\r\n\r\n\t\talertDialog.setMessage(&quot;Connection Lost ! Try Again&quot;);\r\n\r\n\t\talertDialog.setPositiveButton(&quot;Retry&quot;,\r\n\t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\r\n\r\n\t\t\t\t\tnew getquestionsbycat().execute();\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\talertDialog.show();\r\n\t}\r\n\r\n    private class ItemFilter extends Filter {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n            String query = constraint.toString().toLowerCase();\r\n            FilterResults results = new FilterResults();\r\n            final List&lt;SubCategory&gt; list = original_items;\r\n            final List&lt;SubCategory&gt; result_list = new ArrayList&lt;&gt;(list.size());\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                String str_title = list.get(i).sub_category_name;\r\n                String str_cat = list.get(i).question;\r\n                if (str_title.toLowerCase().contains(query) || str_cat.toLowerCase().contains(query)) {\r\n                    result_list.add(list.get(i));\r\n                }\r\n            }\r\n            results.values = result_list;\r\n            results.count = result_list.size();\r\n            return results;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            subcategorylist = (List&lt;SubCategory&gt;) results.values;\r\n            notifyDataSetChanged();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nUPDATE \r\n\r\n    public class SubCat_List_Loader extends AsyncTask&lt;String, String, List&lt;SubCategory&gt;&gt; {\r\n    String URL = Constant.getURLsubcategory();\r\n    private Gson gson = new Gson();\r\n\r\n    public interface TaskListener {\r\n        public void onFinished(List&lt;SubCategory&gt; result);\r\n    }\r\n\r\n    // This is the reference to the associated listener\r\n    private final TaskListener taskListener;\r\n\r\n    public SubCat_List_Loader(TaskListener listener) {\r\n        this.taskListener = listener;\r\n    }\r\n\r\n    @Override\r\n    protected List&lt;SubCategory&gt; doInBackground(String... params) {\r\n        ArrayList&lt;SubCategory&gt; list = new ArrayList&lt;SubCategory&gt;();\r\n        SubCategory[] f = null;\r\n\t\ttry {\r\n            URL url = new URL(URL);\r\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            Gson gson = new Gson();\r\n\r\n            JsonReader reader = new JsonReader(new InputStreamReader(con.getInputStream()));\r\n            f = gson.fromJson(reader, SubCategory[].class);\r\n\r\n            for (SubCategory flower : f) {\r\n                list.add(flower);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n\t\treturn list;\r\n\t}\r\n\r\n    @Override\r\n    protected void onPostExecute(List&lt;SubCategory&gt; result) {\r\n        super.onPostExecute(result);\r\n        // In onPostExecute we check if the listener is valid\r\n        if (this.taskListener != null) {\r\n            this.taskListener.onFinished(result);\r\n        }\r\n    }\r\n\r\n\r\n\r\nI am trying that if i click on category then subcategories of same category should be displayed in next RecyclerView\r\n\r\nif anything required kindly comment.\r\nthankyou.","title":"Not able to fetch subcategories from category adaptor in setOnClickListener with json data","body":"<p>hello i am trying to fetch subcategories whenever user click on specific category, I am using json to parse data.</p>\n<p>my json data.</p>\n<p>CATEGORY DATA</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;category_name&quot;: &quot;Maths&quot;,\n    &quot;q_count&quot;: 1,\n    &quot;category_image&quot;: &quot;qcategory_Category test 1. dPy#NQHA7#PXwRG.png&quot;,\n    &quot;sub_categorys&quot;: 2\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;category_name&quot;: &quot;General knowledge&quot;,\n    &quot;q_count&quot;: 2,\n    &quot;category_image&quot;: &quot;qcategory_Category test 2.png&quot;,\n    &quot;sub_categorys&quot;: 2\n  }\n]\n</code></pre>\n<p>SUBCATEGORIES DATA</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 6,\n    &quot;sub_category_name&quot;: &quot;Arithmetic&quot;,\n    &quot;sub_category_image&quot;: &quot;subcategory_Applenull&quot;,\n    &quot;category_id&quot;: 1,\n    &quot;question&quot;: 0\n  },\n  {\n    &quot;id&quot;: 7,\n    &quot;sub_category_name&quot;: &quot;Geometry&quot;,\n    &quot;sub_category_image&quot;: &quot;subcategory_Banananull&quot;,\n    &quot;category_id&quot;: 1,\n    &quot;question&quot;: 0\n  },\n  {\n    &quot;id&quot;: 8,\n    &quot;sub_category_name&quot;: &quot;Gk Questions class 1&quot;,\n    &quot;sub_category_image&quot;: &quot;subcategory_Carrotnull&quot;,\n    &quot;category_id&quot;: 2,\n    &quot;question&quot;: 0\n  },\n  {\n    &quot;id&quot;: 9,\n    &quot;sub_category_name&quot;: &quot;Gk Questions class 2&quot;,\n    &quot;sub_category_image&quot;: &quot;subcategory_Radishnull&quot;,\n    &quot;category_id&quot;: 2,\n    &quot;question&quot;: 0\n  }\n]\n</code></pre>\n<p>Quizadaptor (Main category)</p>\n<pre><code>public class QuizAdapter extends RecyclerView.Adapter&lt;QuizAdapter.ViewHolder&gt; implements Filterable {\n\n    private final int mBackground;\n    private List&lt;Quiz_Category&gt; original_items = new ArrayList&lt;&gt;();\n    private List&lt;Quiz_Category&gt; filtered_items = new ArrayList&lt;&gt;();\n    \n    private ItemFilter mFilter = new ItemFilter();\n    private final TypedValue mTypedValue = new TypedValue();\n    private Context ctx;\n    private ProgressDialog progress;\n    String subcategoryid;\n    private List&lt;Quiz_Category&gt; categorylist = new ArrayList&lt;Quiz_Category&gt;();\n    private String category_id;\n    public ImageView image;\n    private ImageLoader imgloader = ImageLoader.getInstance();\n    \n    public class ViewHolder extends RecyclerView.ViewHolder {\n        // each data item is just a string in this case\n        public TextView category_name;\n        public TextView bellow_name;\n        public ImageView category_image;\n        public TextView date;\n        public CardView lyt_parent;\n        \n        public ViewHolder(View v) {\n            super(v);\n            category_name = (TextView) v.findViewById(R.id.txtcustomrow);\n            bellow_name = (TextView) v.findViewById(R.id.q_count);\n            category_image = (ImageView) v.findViewById(R.id.img);\n            lyt_parent = (CardView) v.findViewById(R.id.Ripple_layout);\n        }\n    }\n\n    public Filter getFilter() {\n        return mFilter;\n    }\n    // Provide a suitable constructor (depends on the kind of dataset)\n    public QuizAdapter(Context ctx, List&lt;Quiz_Category&gt; items) {\n        this.ctx = ctx;\n        original_items = items;\n        filtered_items = items;\n        categorylist = items;\n        ctx.getTheme().resolveAttribute(R.attr.selectableItemBackground, mTypedValue, true);\n        mBackground = mTypedValue.resourceId;\n    }\n\n    @Override\n    public QuizAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.quiz_list, parent, false);\n        v.setBackgroundResource(mBackground);\n        ViewHolder vh = new ViewHolder(v);\n        return vh;\n    }\n\n    // Replace the contents of a view (invoked by the layout manager)\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder,final int position) {\n        \n        final Quiz_Category p = filtered_items.get(position);\n        \n        //final Quiz_Category p = categorylist.get(position);\n        holder.category_name.setText(p.category_name);\n        imgloader.displayImage(Constant.getURLimgQuizCategory(p.category_image), holder.category_image);\n        \n        holder.bellow_name.setText(p.question);\n        String url = DataManager.catphotourl+ categorylist.get(position).category_image;\n        try {\n            url = URLDecoder.decode(url, &quot;UTF-8&quot;);\n            url = url.replaceAll(&quot; &quot;, &quot;%20&quot;);\n        } catch (UnsupportedEncodingException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n        //holder.category_image.setImage(url);\n        \n        holder.lyt_parent.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    Intent i = new Intent(ctx, ActivitySubCategoryDetails.class);\n                    i.putExtra(ActivitySubCategoryDetails.EXTRA_OBJCT, p);\n                    ctx.startActivity(i);\n                }\n            });\n        \n        \n    }\n\n    // Return the size of your dataset (invoked by the layout manager)\n    @Override\n    public int getItemCount() {\n        //return categorylist != null ? categorylist.size() : 0;\n        return filtered_items.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return filtered_items.get(position).getId();\n    }\n    \n    public class getsubcategories extends AsyncTask&lt;String, Void, String&gt; {\n        boolean response = false;\n\n        @Override\n        protected void onPreExecute() {\n\n            progress = ProgressDialog.show(ctx, &quot;Getting Questions...&quot;,\n                                           &quot;Please wait....&quot;);\n        }\n\n        @Override\n        protected String doInBackground(String... params) {\n\n            response = APIManager.getsubcategories(category_id);\n\n            return &quot;&quot;;\n\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n\n            progress.cancel();\n            if (response) {\n\n                if (DataManager.status.equalsIgnoreCase(&quot;1&quot;)) {\n\n                    Intent i = new Intent(ctx, SubcatListActivity.class);\n                    ctx.startActivity(i);\n\n\n                } else {\n\n                    connectionerror();\n\n                }\n            } else {\n\n                connectionerror();\n            }\n\n        }\n\n        @Override   \n        protected void onProgressUpdate(Void... values) {\n\n        }\n    }\n    \n\n    public class getquestionsbycat extends AsyncTask&lt;String, Void, String&gt; {\n        boolean response = false;\n        @Override\n        protected String doInBackground(String... params) {\n            response = APIManager.getquestionbycatagory(category_id);\n            return &quot;&quot;;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            //progress.cancel();\n            if (response) {\n                Intent i = new Intent(ctx, Timer_questions.class);\n                ctx.startActivity(i);\n            }\n        }\n    }\n    \n    public void connectionerror() {\n        AlertDialog.Builder alertDialog = new AlertDialog.Builder(ctx);\n\n        alertDialog.setTitle(&quot;Error!&quot;);\n\n        alertDialog.setMessage(&quot;Connection Lost ! Try Again&quot;);\n\n        alertDialog.setPositiveButton(&quot;Retry&quot;,\n            new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int which) {\n\n                    new getquestionsbycat().execute();\n\n                }\n            });\n\n        alertDialog.show();\n    }\n    \n    private class ItemFilter extends Filter {\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n            String query = constraint.toString().toLowerCase();\n            FilterResults results = new FilterResults();\n            final List&lt;Quiz_Category&gt; list = original_items;\n            final List&lt;Quiz_Category&gt; result_list = new ArrayList&lt;&gt;(list.size());\n            for (int i = 0; i &lt; list.size(); i++) {\n                String str_title = list.get(i).category_name;\n                String str_cat = list.get(i).question;\n                if (str_title.toLowerCase().contains(query) || str_cat.toLowerCase().contains(query)) {\n                    result_list.add(list.get(i));\n                }\n            }\n            results.values = result_list;\n            results.count = result_list.size();\n            return results;\n        }\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        @Override\n        protected void publishResults(CharSequence constraint, FilterResults results) {\n            categorylist = (List&lt;Quiz_Category&gt;) results.values;\n            notifyDataSetChanged();\n        }\n\n    }\n}\n</code></pre>\n<p>subcategories adaptor</p>\n<pre><code>package com.androbaron.dailynews.quiz.adapter;\n\nimport java.net.URLDecoder;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.support.v7.widget.RecyclerView;\nimport android.util.TypedValue;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Filter;\nimport android.widget.Filterable;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.androbaron.dailynews.ActivityJobDetails;\nimport com.androbaron.dailynews.R;\nimport com.androbaron.dailynews.data.Constant;\nimport com.androbaron.dailynews.model.Quiz_Category;\n\nimport com.nostra13.universalimageloader.core.display.CircleBitmapDisplayer;\nimport com.nostra13.universalimageloader.core.ImageLoader;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport android.support.v7.widget.*;\nimport com.androbaron.dailynews.*;\nimport com.androbaron.dailynews.model.*;\nimport com.androbaron.dailynews.quiz.SubcatListActivity;\nimport java.io.*;\nimport com.applidium.shutterbug.FetchableImageView;\nimport android.os.*;\nimport android.app.*;\nimport com.androbaron.dailynews.quiz.*;\nimport android.content.*;\nimport android.support.v4.app.*;\nimport android.annotation.*;\n\npublic class SubCategoryAdapter extends RecyclerView.Adapter&lt;SubCategoryAdapter.ViewHolder&gt; implements Filterable {\n\n    private final int mBackground;\n    private List&lt;SubCategory&gt; original_items = new ArrayList&lt;&gt;();\n    private ItemFilter mFilter = new ItemFilter();\n    private final TypedValue mTypedValue = new TypedValue();\n    private Context ctx;\n    private ProgressDialog progress;\n    String subcategoryid;\n    private List&lt;SubCategory&gt; subcategorylist = new ArrayList&lt;SubCategory&gt;();\n    private String category_id;\n    public ImageView image;\n    private ImageLoader imgloader = ImageLoader.getInstance();\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        // each data item is just a string in this case\n        public TextView sub_category_name;\n        public TextView questions;\n        public ImageView sub_category_image;\n        //public TextView date;\n        public CardView lyt_parent;\n\n        public ViewHolder(View v) {\n            super(v);\n            sub_category_name = (TextView) v.findViewById(R.id.txtcustomrow);\n            questions = (TextView) v.findViewById(R.id.q_count);\n            sub_category_image = (ImageView) v.findViewById(R.id.img);\n            lyt_parent = (CardView) v.findViewById(R.id.Ripple_layout);\n        }\n    }\n\n    public Filter getFilter() {\n        return mFilter;\n    }\n    // Provide a suitable constructor (depends on the kind of dataset)\n    public SubCategoryAdapter(Context ctx, List&lt;SubCategory&gt; items) {\n        this.ctx = ctx;\n        original_items = items;\n        subcategorylist = items;\n        ctx.getTheme().resolveAttribute(R.attr.selectableItemBackground, mTypedValue, true);\n        mBackground = mTypedValue.resourceId;\n    }\n\n    @Override\n    public SubCategoryAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.subcat_list, parent, false);\n        v.setBackgroundResource(mBackground);\n        ViewHolder vh = new ViewHolder(v);\n        return vh;\n    }\n\n    // Replace the contents of a view (invoked by the layout manager)\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder,final int position) {\n\n        final SubCategory p = subcategorylist.get(position);\n        holder.sub_category_name.setText(p.sub_category_name);\n        imgloader.displayImage(Constant.getURLimgQuizCategory(p.sub_category_image), holder.sub_category_image);\n\n        holder.questions.setText(p.question);\n        String url = DataManager.catphotourl+ subcategorylist.get(position).sub_category_image;\n//      try {\n//          url = URLDecoder.decode(url, &quot;UTF-8&quot;);\n//          url = url.replaceAll(&quot; &quot;, &quot;%20&quot;);\n//      } catch (UnsupportedEncodingException e1) {\n//          // TODO Auto-generated catch block\n//          e1.printStackTrace();\n//      }\n        //holder.category_image.setImage(url);\n\n//      holder.lyt_parent.setOnClickListener(new View.OnClickListener() {\n//              @Override\n//              public void onClick(View view) {\n//                  Intent i = new Intent(ctx, ActivityQuizView.class);\n//                  i.putExtra(ActivityQuizView.EXTRA_OBJCT, p);\n//                  Bundle options = ActivityOptionsCompat.makeScaleUpAnimation(\n//                      holder.lyt_parent, 0, 0, holder.lyt_parent.getWidth(), holder.lyt_parent.getHeight()).toBundle();\n//\n//                  ActivityCompat.startActivity(ctx, i, options);\n//\n//                  ctx.startActivity(i);\n//              }\n//          });\n\n\n    }\n\n    // Return the size of your dataset (invoked by the layout manager)\n    @Override\n    public int getItemCount() {\n        return subcategorylist != null ? subcategorylist.size() : 0;\n\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public class getsubcategories extends AsyncTask&lt;String, Void, String&gt; {\n        boolean response = false;\n\n        @Override\n        protected void onPreExecute() {\n\n            progress = ProgressDialog.show(ctx, &quot;Getting Questions...&quot;,\n                                           &quot;Please wait....&quot;);\n        }\n\n        @Override\n        protected String doInBackground(String... params) {\n\n            response = APIManager.getsubcategories(category_id);\n\n            return &quot;&quot;;\n\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n\n            progress.cancel();\n            if (response) {\n\n                if (DataManager.status.equalsIgnoreCase(&quot;1&quot;)) {\n\n                    Intent i = new Intent(ctx, SubcatListActivity.class);\n                    ctx.startActivity(i);\n\n\n                } else {\n\n                    connectionerror();\n\n                }\n            } else {\n\n                connectionerror();\n            }\n\n        }\n\n        @Override   \n        protected void onProgressUpdate(Void... values) {\n\n        }\n    }\n\n\n    public class getquestionsbycat extends AsyncTask&lt;String, Void, String&gt; {\n        boolean response = false;\n        @Override\n        protected String doInBackground(String... params) {\n            response = APIManager.getquestionbycatagory(category_id);\n            return &quot;&quot;;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            //progress.cancel();\n            if (response) {\n                Intent i = new Intent(ctx, Timer_questions.class);\n                ctx.startActivity(i);\n            }\n        }\n    }\n\n    public void connectionerror() {\n        AlertDialog.Builder alertDialog = new AlertDialog.Builder(ctx);\n\n        alertDialog.setTitle(&quot;Error!&quot;);\n\n        alertDialog.setMessage(&quot;Connection Lost ! Try Again&quot;);\n\n        alertDialog.setPositiveButton(&quot;Retry&quot;,\n            new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int which) {\n\n                    new getquestionsbycat().execute();\n\n                }\n            });\n\n        alertDialog.show();\n    }\n\n    private class ItemFilter extends Filter {\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n            String query = constraint.toString().toLowerCase();\n            FilterResults results = new FilterResults();\n            final List&lt;SubCategory&gt; list = original_items;\n            final List&lt;SubCategory&gt; result_list = new ArrayList&lt;&gt;(list.size());\n            for (int i = 0; i &lt; list.size(); i++) {\n                String str_title = list.get(i).sub_category_name;\n                String str_cat = list.get(i).question;\n                if (str_title.toLowerCase().contains(query) || str_cat.toLowerCase().contains(query)) {\n                    result_list.add(list.get(i));\n                }\n            }\n            results.values = result_list;\n            results.count = result_list.size();\n            return results;\n        }\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        @Override\n        protected void publishResults(CharSequence constraint, FilterResults results) {\n            subcategorylist = (List&lt;SubCategory&gt;) results.values;\n            notifyDataSetChanged();\n        }\n\n    }\n}\n</code></pre>\n<p>UPDATE</p>\n<pre><code>public class SubCat_List_Loader extends AsyncTask&lt;String, String, List&lt;SubCategory&gt;&gt; {\nString URL = Constant.getURLsubcategory();\nprivate Gson gson = new Gson();\n\npublic interface TaskListener {\n    public void onFinished(List&lt;SubCategory&gt; result);\n}\n\n// This is the reference to the associated listener\nprivate final TaskListener taskListener;\n\npublic SubCat_List_Loader(TaskListener listener) {\n    this.taskListener = listener;\n}\n\n@Override\nprotected List&lt;SubCategory&gt; doInBackground(String... params) {\n    ArrayList&lt;SubCategory&gt; list = new ArrayList&lt;SubCategory&gt;();\n    SubCategory[] f = null;\n    try {\n        URL url = new URL(URL);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        Gson gson = new Gson();\n\n        JsonReader reader = new JsonReader(new InputStreamReader(con.getInputStream()));\n        f = gson.fromJson(reader, SubCategory[].class);\n\n        for (SubCategory flower : f) {\n            list.add(flower);\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n    return list;\n}\n\n@Override\nprotected void onPostExecute(List&lt;SubCategory&gt; result) {\n    super.onPostExecute(result);\n    // In onPostExecute we check if the listener is valid\n    if (this.taskListener != null) {\n        this.taskListener.onFinished(result);\n    }\n}\n</code></pre>\n<p>I am trying that if i click on category then subcategories of same category should be displayed in next RecyclerView</p>\n<p>if anything required kindly comment.\nthankyou.</p>\n"},{"tags":["java","enums","string","constants"],"answers":[{"tags":[],"owner":{"account_id":688,"reputation":1161,"user_id":903,"display_name":"Frank Grimm"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1226306695,"creation_date":1226306695,"answer_id":277374,"question_id":277364,"body_markdown":"I would consider Enums to be a better approach than Strings. They are type safe and comparing them is faster than comparing Strings.\r\n\r\nAs a pre Java 1.5 alternative you could use the type-safe enum pattern suggested by Joshua Bloch in his book Effective Java. For type-safe enums see also http://www.javacamp.org/designPattern/enum.html","title":"Java: `enum` vs `String` as Parameters","body":"<p>I would consider Enums to be a better approach than Strings. They are type safe and comparing them is faster than comparing Strings.</p>\n\n<p>As a pre Java 1.5 alternative you could use the type-safe enum pattern suggested by Joshua Bloch in his book Effective Java. For type-safe enums see also <a href=\"http://www.javacamp.org/designPattern/enum.html\" rel=\"noreferrer\">http://www.javacamp.org/designPattern/enum.html</a></p>\n"},{"tags":[],"owner":{"account_id":16029,"reputation":498815,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1697035493,"creation_date":1226306723,"answer_id":277375,"question_id":277364,"body_markdown":"I&#39;ve learned the &quot;method of least surprise&quot;. Instinctively, using enum is the right thing. So i would go for it. I&#39;m sure the Java makers think alike.\r\n\r\n**Edit**: Excellent explanation of POLS: [http://benpryor.com/blog/2006/06/29/api-design-the-principle-of-least-surprise/][1]\r\n\r\n\r\n  [1]: http://web.archive.org/web/20100717131330/http://benpryor.com/blog/2006/06/29/api-design-the-principle-of-least-surprise/","title":"Java: `enum` vs `String` as Parameters","body":"<p>I've learned the &quot;method of least surprise&quot;. Instinctively, using enum is the right thing. So i would go for it. I'm sure the Java makers think alike.</p>\n<p><strong>Edit</strong>: Excellent explanation of POLS: <a href=\"http://web.archive.org/web/20100717131330/http://benpryor.com/blog/2006/06/29/api-design-the-principle-of-least-surprise/\" rel=\"nofollow noreferrer\">http://benpryor.com/blog/2006/06/29/api-design-the-principle-of-least-surprise/</a></p>\n"},{"tags":[],"owner":{"account_id":12390,"reputation":1338,"user_id":24364,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1226306805,"creation_date":1226306805,"answer_id":277376,"question_id":277364,"body_markdown":"Just because you declare a `public final String` as something you expect to have passed into a method as a parameter, there&#39;s nothing stopping me from passing in anything I like.\r\n\r\nUsing `enum`s means that I can&#39;t create my own object to pass in, protecting both sides of the issue. The only time I can think you should be using constant Strings in lieu of enums is if you need to allow room for the user to extend your method to enable custom functionality...","title":"Java: `enum` vs `String` as Parameters","body":"<p>Just because you declare a <code>public final String</code> as something you expect to have passed into a method as a parameter, there's nothing stopping me from passing in anything I like.</p>\n\n<p>Using <code>enum</code>s means that I can't create my own object to pass in, protecting both sides of the issue. The only time I can think you should be using constant Strings in lieu of enums is if you need to allow room for the user to extend your method to enable custom functionality...</p>\n"},{"tags":[],"owner":{"account_id":14126,"reputation":1094,"user_id":28789,"display_name":"lycono"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1226306866,"creation_date":1226306866,"answer_id":277378,"question_id":277364,"body_markdown":"If you&#39;re referring to System.setProperty(), System.getProperty(), or System.getenv(), I think Strings are appropriate here since the set of possible keys is open.  The key parameter corresponds to an actual text/string type value in some file or store somewhere.\r\n\r\nIf you have a closed set of keys, I think enums would be much preferred.","title":"Java: `enum` vs `String` as Parameters","body":"<p>If you're referring to System.setProperty(), System.getProperty(), or System.getenv(), I think Strings are appropriate here since the set of possible keys is open.  The key parameter corresponds to an actual text/string type value in some file or store somewhere.</p>\n\n<p>If you have a closed set of keys, I think enums would be much preferred.</p>\n"},{"tags":[],"owner":{"account_id":15562,"reputation":125306,"user_id":33006,"accept_rate":88,"display_name":"Martin v. L&#246;wis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1226306872,"creation_date":1226306872,"answer_id":277379,"question_id":277364,"body_markdown":"Usage of strings in existing APIs is not bad practice; it is bad practice to change the APIs just because Java has now support for enums. For new APIs, I agree with what everybody else said.","title":"Java: `enum` vs `String` as Parameters","body":"<p>Usage of strings in existing APIs is not bad practice; it is bad practice to change the APIs just because Java has now support for enums. For new APIs, I agree with what everybody else said.</p>\n"},{"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1226310638,"creation_date":1226310638,"answer_id":277457,"question_id":277364,"body_markdown":"If your set of parameters is limited and known at compile time, use `enum`.\r\n\r\nIf your set of parameters is open and unkown at compile time, use strings.\r\n\r\n","title":"Java: `enum` vs `String` as Parameters","body":"<p>If your set of parameters is limited and known at compile time, use <code>enum</code>.</p>\n\n<p>If your set of parameters is open and unkown at compile time, use strings.</p>\n"},{"tags":[],"owner":{"account_id":35012,"reputation":32108,"user_id":99024,"accept_rate":47,"display_name":"Vanuan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1303414240,"creation_date":1303414240,"answer_id":5748871,"question_id":277364,"body_markdown":"Although using enums is type safe, the need of converting enum to string and vice versa is quite frequent. And there is no built-in feature to do that in Java. And you&#39;ll eventually end up with using valueOf() and toString(). And using that approach will be no much different from using just strings. Because you&#39;ll need to handle situations where string can not be converted to Enum.\r\n\r\nSo just using static final strings is easy and is a common practice, AFAIK.\r\n\r\nFor example, you&#39;ll want to interact with a server using some API. You&#39;ll need to define every method and a response as Enum. And then you&#39;ll need to add toString and valueOf methods. Why just not use String?","title":"Java: `enum` vs `String` as Parameters","body":"<p>Although using enums is type safe, the need of converting enum to string and vice versa is quite frequent. And there is no built-in feature to do that in Java. And you'll eventually end up with using valueOf() and toString(). And using that approach will be no much different from using just strings. Because you'll need to handle situations where string can not be converted to Enum.</p>\n\n<p>So just using static final strings is easy and is a common practice, AFAIK.</p>\n\n<p>For example, you'll want to interact with a server using some API. You'll need to define every method and a response as Enum. And then you'll need to add toString and valueOf methods. Why just not use String?</p>\n"}],"owner":{"account_id":3370,"reputation":7124,"user_id":4857,"accept_rate":96,"display_name":"Ande Turner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23902,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":277374,"answer_count":7,"score":12,"last_activity_date":1697035493,"creation_date":1226306221,"question_id":277364,"body_markdown":"I&#39;ve been reading through the details of the `System` libraries `set` and `get` methods yet the parameters are usually Strings.\r\n\r\nWould you consider the use of `String` as parameters bad practise since the inclusion of `enum`?\r\n\r\nA better alternative at minimum might be `public final String`, No?","title":"Java: `enum` vs `String` as Parameters","body":"<p>I've been reading through the details of the <code>System</code> libraries <code>set</code> and <code>get</code> methods yet the parameters are usually Strings.</p>\n\n<p>Would you consider the use of <code>String</code> as parameters bad practise since the inclusion of <code>enum</code>?</p>\n\n<p>A better alternative at minimum might be <code>public final String</code>, No?</p>\n"},{"tags":["java","spring","spring-data","spring-data-neo4j"],"owner":{"account_id":6813968,"reputation":8266,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697035469,"creation_date":1697030552,"question_id":77273455,"body_markdown":"I have the following node class:\r\n\r\n    @Node\r\n    @Data\r\n    public class Graphic {\r\n\r\n        @Id\r\n        @GeneratedValue(generatorClass = UUIDStringGenerator.class)\r\n        private String id;\r\n\r\n        private String title;\r\n\r\n        @Relationship(type = &quot;CONTAINS&quot;)\r\n        private List&lt;Field&gt; fields;\r\n    }\r\n\r\nA field has multiple properties (`id`, `title` etc). What is the best way in Spring Data to update these fields (create new ones if they don&#39;t have an id, update existing and delete these that are not in the payload)? I would like to update the whole `Graphic` entity including its fields with just one request.\r\n\r\nI tried this:\r\n\r\n    MATCH (infographic:Infographic {id: $id})\r\n    SET infographic.title = $payload.title // works\r\n    WITH infographic\r\n    UNWIND $payload.fields as payloadField // doesn&#39;t work\r\n    ...\r\n\r\nThis half ways worked but obviously doesn&#39;t delete the fields that are not in the payload. Is there some pattern that I could use for this?\r\n\r\nEdit:\r\nI got it working with a pretty bad workaround:\r\n\r\n     List&lt;String&gt; existingFieldIds = this.getGraphicById(id).getFields().stream().map(Graphic::getId).toList();\r\n        List&lt;String&gt; savedFieldIds = graphicRepository.update(id, Values.value(ClassToMapConverter.toMap(payload)));\r\n        List&lt;String&gt; fieldIdsToDelete = existingFieldIds.stream().filter(initial -&gt; !savedFieldIds.contains(initial)).toList();\r\n        this.graphicFieldRepository.deleteAllById(fieldIdsToDelete);\r\n\r\nThough this makes a lot of additional DB calls which I would like to prevent","title":"What is the best way to update list property on an entity","body":"<p>I have the following node class:</p>\n<pre><code>@Node\n@Data\npublic class Graphic {\n\n    @Id\n    @GeneratedValue(generatorClass = UUIDStringGenerator.class)\n    private String id;\n\n    private String title;\n\n    @Relationship(type = &quot;CONTAINS&quot;)\n    private List&lt;Field&gt; fields;\n}\n</code></pre>\n<p>A field has multiple properties (<code>id</code>, <code>title</code> etc). What is the best way in Spring Data to update these fields (create new ones if they don't have an id, update existing and delete these that are not in the payload)? I would like to update the whole <code>Graphic</code> entity including its fields with just one request.</p>\n<p>I tried this:</p>\n<pre><code>MATCH (infographic:Infographic {id: $id})\nSET infographic.title = $payload.title // works\nWITH infographic\nUNWIND $payload.fields as payloadField // doesn't work\n...\n</code></pre>\n<p>This half ways worked but obviously doesn't delete the fields that are not in the payload. Is there some pattern that I could use for this?</p>\n<p>Edit:\nI got it working with a pretty bad workaround:</p>\n<pre><code> List&lt;String&gt; existingFieldIds = this.getGraphicById(id).getFields().stream().map(Graphic::getId).toList();\n    List&lt;String&gt; savedFieldIds = graphicRepository.update(id, Values.value(ClassToMapConverter.toMap(payload)));\n    List&lt;String&gt; fieldIdsToDelete = existingFieldIds.stream().filter(initial -&gt; !savedFieldIds.contains(initial)).toList();\n    this.graphicFieldRepository.deleteAllById(fieldIdsToDelete);\n</code></pre>\n<p>Though this makes a lot of additional DB calls which I would like to prevent</p>\n"},{"tags":["java","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697658496,"post_id":77274103,"comment_id":136309084,"body_markdown":"You have wrong configured jdk or just missing the needed certificate in your JDK (cacerts file). apart from that I would strongly recommend to use BOM files for JUnit Jupiter instead defining each component separetely...","body":"You have wrong configured jdk or just missing the needed certificate in your JDK (cacerts file). apart from that I would strongly recommend to use BOM files for JUnit Jupiter instead defining each component separetely..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697881910,"post_id":77274103,"comment_id":136337248,"body_markdown":"Ah missed one thing. You have configured source/target with 7 which will not work because JUnit Jupiter requires at mimimum JDK8 which means at least for the test you have to use JDK8","body":"Ah missed one thing. You have configured source/target with 7 which will not work because JUnit Jupiter requires at mimimum JDK8 which means at least for the test you have to use JDK8"}],"owner":{"account_id":29649054,"reputation":1,"user_id":22723436,"display_name":"Mensch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697035306,"creation_date":1697035306,"question_id":77274103,"body_markdown":"i have a problem. My pom can not start the test. I get this exception:\r\n\r\n```\r\nCould not transfer artifact org.junit.jupiter:junit-jupiter:pom:5.9.0 from/to examplerepo-releases (https://xxx/artifactory/examplerepo-releases/): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n```\r\n\r\nMy POM.xml can you see here:\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;7&lt;/source&gt;\r\n                    &lt;target&gt;7&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n...\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-migrationsupport --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-migrationsupport&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\nI searched other entrys on this forum but they were no help\r\nI tried with various pom configurations, but none were successful","title":"Junit : unable to find valid certification path to requested target","body":"<p>i have a problem. My pom can not start the test. I get this exception:</p>\n<pre><code>Could not transfer artifact org.junit.jupiter:junit-jupiter:pom:5.9.0 from/to examplerepo-releases (https://xxx/artifactory/examplerepo-releases/): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\n</code></pre>\n<p>My POM.xml can you see here:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;7&lt;/source&gt;\n                    &lt;target&gt;7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n...\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-migrationsupport --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-migrationsupport&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I searched other entrys on this forum but they were no help\nI tried with various pom configurations, but none were successful</p>\n"},{"tags":["java","android-studio","mobile","appium","android-11"],"answers":[{"tags":[],"owner":{"account_id":13569202,"reputation":31,"user_id":9788382,"display_name":"BaCV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697034871,"creation_date":1613723524,"answer_id":66274126,"question_id":65843821,"body_markdown":"I not sure struct of &quot;media volume&quot; via command.\r\nBut in android 11, you can use below command:\r\n\r\n      adb shell service call audio 10 i32 &#39;x&#39; i32 0 i32 1\r\n\r\nEx: adb shell service call audio 10 i32 3 i32 0 i32 1","title":"adb command to set volume of android 11 device","body":"<p>I not sure struct of &quot;media volume&quot; via command.\nBut in android 11, you can use below command:</p>\n<pre><code>  adb shell service call audio 10 i32 'x' i32 0 i32 1\n</code></pre>\n<p>Ex: adb shell service call audio 10 i32 3 i32 0 i32 1</p>\n"},{"tags":[],"owner":{"account_id":18141135,"reputation":2196,"user_id":13194982,"display_name":"Sourabrt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647421948,"creation_date":1647421948,"answer_id":71494341,"question_id":65843821,"body_markdown":"The code for ```setStreamVolume``` in android 11 is ```10```. So, you can set the volume using below command -\r\n```\r\nadb shell service call audio 10 i32 3 i32 &lt;required volume&gt;\r\n```\r\nExample: \r\n```\r\nadb shell service call audio 10 i32 3 i32 15\r\n```\r\nFor me, ```0``` is min volume and ```15``` is max volume.\r\n","title":"adb command to set volume of android 11 device","body":"<p>The code for <code>setStreamVolume</code> in android 11 is <code>10</code>. So, you can set the volume using below command -</p>\n<pre><code>adb shell service call audio 10 i32 3 i32 &lt;required volume&gt;\n</code></pre>\n<p>Example:</p>\n<pre><code>adb shell service call audio 10 i32 3 i32 15\n</code></pre>\n<p>For me, <code>0</code> is min volume and <code>15</code> is max volume.</p>\n"},{"tags":[],"owner":{"account_id":18720397,"reputation":41,"user_id":13648398,"display_name":"Sadin Mostafa Musad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694753723,"creation_date":1694753723,"answer_id":77109697,"question_id":65843821,"body_markdown":"In Android 11, the same command exists but in a different form. You can use the following to achieve your goal:\r\n\r\n    adb -s &lt;device id&gt; shell cmd media_session volume --show --stream 3 --set 5\r\n\r\nNotice that instead of `media` after `shell`, we are using `cmd media_session`. This is because `media_session` is a service now accessible through `cmd` now.\r\n\r\nSimply run `adb shell cmd -l | findstr &quot;media_session&quot;` on Windows or `adb shell cmd -l | grep &quot;media_session&quot;` on Linux to test it out for yourself. You can find other services by omitting the findstr/grep part of the command.","title":"adb command to set volume of android 11 device","body":"<p>In Android 11, the same command exists but in a different form. You can use the following to achieve your goal:</p>\n<pre><code>adb -s &lt;device id&gt; shell cmd media_session volume --show --stream 3 --set 5\n</code></pre>\n<p>Notice that instead of <code>media</code> after <code>shell</code>, we are using <code>cmd media_session</code>. This is because <code>media_session</code> is a service now accessible through <code>cmd</code> now.</p>\n<p>Simply run <code>adb shell cmd -l | findstr &quot;media_session&quot;</code> on Windows or <code>adb shell cmd -l | grep &quot;media_session&quot;</code> on Linux to test it out for yourself. You can find other services by omitting the findstr/grep part of the command.</p>\n"}],"owner":{"account_id":15479086,"reputation":21,"user_id":11166963,"display_name":"PriyaK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4038,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1697034871,"creation_date":1611313049,"question_id":65843821,"body_markdown":"I want to set volume of Android 11 device via adb command to 5.Does anyone know such commands? \r\n\r\nBelow command works well for Android 8,9,10 but fails to work for Android 11.\r\n\r\n    adb -s &lt;deviceId&gt; shell media volume --show --stream 3 --set 5\r\n\r\n","title":"adb command to set volume of android 11 device","body":"<p>I want to set volume of Android 11 device via adb command to 5.Does anyone know such commands?</p>\n<p>Below command works well for Android 8,9,10 but fails to work for Android 11.</p>\n<pre><code>adb -s &lt;deviceId&gt; shell media volume --show --stream 3 --set 5\n</code></pre>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":20044001,"reputation":26,"user_id":14694132,"display_name":"1WeirdDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697034777,"creation_date":1606155201,"answer_id":64973965,"question_id":64834105,"body_markdown":"This series helped me:\r\nhttps://www.youtube.com/playlist?list=PLGEImsH6md6OH7nuLgbsTEzN0F1qN3KLy  \r\n\r\nand on the `OnPreUpdate` method, you can do something like\r\n\r\n```\r\npublic void onPreUpdate() {\r\n\t\tif(Mouse.isButtonDown(0)) {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n```","title":"Mod Coder Pack Minecraft: How can I detect if a Mouse Button is pressed?","body":"<p>This series helped me:\n<a href=\"https://www.youtube.com/playlist?list=PLGEImsH6md6OH7nuLgbsTEzN0F1qN3KLy\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PLGEImsH6md6OH7nuLgbsTEzN0F1qN3KLy</a></p>\n<p>and on the <code>OnPreUpdate</code> method, you can do something like</p>\n<pre><code>public void onPreUpdate() {\n        if(Mouse.isButtonDown(0)) {\n            \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":19814533,"reputation":17,"user_id":14512563,"display_name":"Shiru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":64973965,"answer_count":1,"score":-1,"last_activity_date":1697034822,"creation_date":1605358440,"question_id":64834105,"body_markdown":"I&#39;m making my own Minecraft Client with the MCP (Mod Coder Pack).\r\n\r\nBut I don&#39;t know how can I detect, for example, in a update method if a mouse button is pressed and which.\r\n\r\nI&#39;m using the MCP 9.10 (Minecraft 1.8)","title":"Mod Coder Pack Minecraft: How can I detect if a Mouse Button is pressed?","body":"<p>I'm making my own Minecraft Client with the MCP (Mod Coder Pack).</p>\n<p>But I don't know how can I detect, for example, in a update method if a mouse button is pressed and which.</p>\n<p>I'm using the MCP 9.10 (Minecraft 1.8)</p>\n"},{"tags":["java","icons","minecraft","minecraft-forge"],"owner":{"account_id":20076885,"reputation":45,"user_id":14720447,"display_name":"DerArkeN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697034759,"creation_date":1606492903,"question_id":65040296,"body_markdown":"I want to change the icon of Minecraft in the Hotbar. I already know that I have to edit the source code and already found the line, in which the icon is set (see below). I have to make an InputStream, but I have no clue what path I have to put the icons in and what path the original icons are.\r\n\r\nI already tried to make a new assets folder an put the png files there or putting them directly into the minecraft folder.\r\n\r\ncalled setWindowIcon() Method:\r\n\r\n         //Original Code InputStreams\r\n         //InputStream inputstream = this.getPackFinder().getVanillaPack().getResourceStream(ResourcePackType.CLIENT_RESOURCES, new ResourceLocation(&quot;icons/icon_16x16.png&quot;));\r\n         //InputStream inputstream1 = this.getPackFinder().getVanillaPack().getResourceStream(ResourcePackType.CLIENT_RESOURCES, new ResourceLocation(&quot;icons/icon_32x32.png&quot;));\r\n\r\n         //My attempt on InputStreams\r\n         InputStream inputstream = new FileInputStream(&quot;icons/icon_16x16.png&quot;);\r\n         InputStream inputstream1 = new FileInputStream(&quot;icons/icon_32x32.png&quot;);\r\n         this.mainWindow.setWindowIcon(inputstream, inputstream1);\r\n\r\nsetWindowIcon() Method:\r\n\r\n       public void setWindowIcon(InputStream p_216529_1_, InputStream p_216529_2_) {\r\n      RenderSystem.assertThread(RenderSystem::isInInitPhase);\r\n\r\n      try (MemoryStack memorystack = MemoryStack.stackPush()) {\r\n         if (p_216529_1_ == null) {\r\n            throw new FileNotFoundException(&quot;icons/icon_16x16.png&quot;);\r\n         }\r\n\r\n         if (p_216529_2_ == null) {\r\n            throw new FileNotFoundException(&quot;icons/icon_32x32.png&quot;);\r\n         }\r\n\r\n         IntBuffer intbuffer = memorystack.mallocInt(1);\r\n         IntBuffer intbuffer1 = memorystack.mallocInt(1);\r\n         IntBuffer intbuffer2 = memorystack.mallocInt(1);\r\n         Buffer buffer = GLFWImage.mallocStack(2, memorystack);\r\n         ByteBuffer bytebuffer = this.loadIcon(p_216529_1_, intbuffer, intbuffer1, intbuffer2);\r\n         if (bytebuffer == null) {\r\n            throw new IllegalStateException(&quot;Could not load icon: &quot; + STBImage.stbi_failure_reason());\r\n         }\r\n\r\n         buffer.position(0);\r\n         buffer.width(intbuffer.get(0));\r\n         buffer.height(intbuffer1.get(0));\r\n         buffer.pixels(bytebuffer);\r\n         ByteBuffer bytebuffer1 = this.loadIcon(p_216529_2_, intbuffer, intbuffer1, intbuffer2);\r\n         if (bytebuffer1 == null) {\r\n            throw new IllegalStateException(&quot;Could not load icon: &quot; + STBImage.stbi_failure_reason());\r\n         }\r\n\r\n         buffer.position(1);\r\n         buffer.width(intbuffer.get(0));\r\n         buffer.height(intbuffer1.get(0));\r\n         buffer.pixels(bytebuffer1);\r\n         buffer.position(0);\r\n         GLFW.glfwSetWindowIcon(this.handle, buffer);\r\n         STBImage.stbi_image_free(bytebuffer);\r\n         STBImage.stbi_image_free(bytebuffer1);\r\n      } catch (IOException ioexception) {\r\n         LOGGER.error(&quot;Couldn&#39;t set icon&quot;, (Throwable)ioexception);\r\n      }\r\n\r\n    }","title":"Change Minecraft Hotbar Icon / FileInputStream","body":"<p>I want to change the icon of Minecraft in the Hotbar. I already know that I have to edit the source code and already found the line, in which the icon is set (see below). I have to make an InputStream, but I have no clue what path I have to put the icons in and what path the original icons are.</p>\n<p>I already tried to make a new assets folder an put the png files there or putting them directly into the minecraft folder.</p>\n<p>called setWindowIcon() Method:</p>\n<pre><code>     //Original Code InputStreams\n     //InputStream inputstream = this.getPackFinder().getVanillaPack().getResourceStream(ResourcePackType.CLIENT_RESOURCES, new ResourceLocation(&quot;icons/icon_16x16.png&quot;));\n     //InputStream inputstream1 = this.getPackFinder().getVanillaPack().getResourceStream(ResourcePackType.CLIENT_RESOURCES, new ResourceLocation(&quot;icons/icon_32x32.png&quot;));\n\n     //My attempt on InputStreams\n     InputStream inputstream = new FileInputStream(&quot;icons/icon_16x16.png&quot;);\n     InputStream inputstream1 = new FileInputStream(&quot;icons/icon_32x32.png&quot;);\n     this.mainWindow.setWindowIcon(inputstream, inputstream1);\n</code></pre>\n<p>setWindowIcon() Method:</p>\n<pre><code>   public void setWindowIcon(InputStream p_216529_1_, InputStream p_216529_2_) {\n  RenderSystem.assertThread(RenderSystem::isInInitPhase);\n\n  try (MemoryStack memorystack = MemoryStack.stackPush()) {\n     if (p_216529_1_ == null) {\n        throw new FileNotFoundException(&quot;icons/icon_16x16.png&quot;);\n     }\n\n     if (p_216529_2_ == null) {\n        throw new FileNotFoundException(&quot;icons/icon_32x32.png&quot;);\n     }\n\n     IntBuffer intbuffer = memorystack.mallocInt(1);\n     IntBuffer intbuffer1 = memorystack.mallocInt(1);\n     IntBuffer intbuffer2 = memorystack.mallocInt(1);\n     Buffer buffer = GLFWImage.mallocStack(2, memorystack);\n     ByteBuffer bytebuffer = this.loadIcon(p_216529_1_, intbuffer, intbuffer1, intbuffer2);\n     if (bytebuffer == null) {\n        throw new IllegalStateException(&quot;Could not load icon: &quot; + STBImage.stbi_failure_reason());\n     }\n\n     buffer.position(0);\n     buffer.width(intbuffer.get(0));\n     buffer.height(intbuffer1.get(0));\n     buffer.pixels(bytebuffer);\n     ByteBuffer bytebuffer1 = this.loadIcon(p_216529_2_, intbuffer, intbuffer1, intbuffer2);\n     if (bytebuffer1 == null) {\n        throw new IllegalStateException(&quot;Could not load icon: &quot; + STBImage.stbi_failure_reason());\n     }\n\n     buffer.position(1);\n     buffer.width(intbuffer.get(0));\n     buffer.height(intbuffer1.get(0));\n     buffer.pixels(bytebuffer1);\n     buffer.position(0);\n     GLFW.glfwSetWindowIcon(this.handle, buffer);\n     STBImage.stbi_image_free(bytebuffer);\n     STBImage.stbi_image_free(bytebuffer1);\n  } catch (IOException ioexception) {\n     LOGGER.error(&quot;Couldn't set icon&quot;, (Throwable)ioexception);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":11294180,"reputation":703,"user_id":8282168,"display_name":"L_Church"},"score":0,"creation_date":1519303502,"post_id":48927747,"comment_id":84861619,"body_markdown":"is there no such thing as boolean?","body":"is there no such thing as boolean?"},{"owner":{"account_id":5832567,"reputation":11,"user_id":4596617,"display_name":"Rudi Van Eeden"},"score":0,"creation_date":1519321388,"post_id":48927747,"comment_id":84874603,"body_markdown":"@L_Church not as far as I know. Getting the OP/s is in the net.minecraft.entity class, But no mention was made of setting OP.It does check the player&#39;s game profile though, so it might be possible through some NBT editing. Will have a look at that","body":"@L_Church not as far as I know. Getting the OP/s is in the net.minecraft.entity class, But no mention was made of setting OP.It does check the player&#39;s game profile though, so it might be possible through some NBT editing. Will have a look at that"},{"owner":{"account_id":5832567,"reputation":11,"user_id":4596617,"display_name":"Rudi Van Eeden"},"score":0,"creation_date":1519383316,"post_id":48927747,"comment_id":84898727,"body_markdown":"NBT is a no go. As far as I can see anyway. Maybe I should just read/write to the ops.json file.","body":"NBT is a no go. As far as I can see anyway. Maybe I should just read/write to the ops.json file."},{"owner":{"account_id":11294180,"reputation":703,"user_id":8282168,"display_name":"L_Church"},"score":0,"creation_date":1519384178,"post_id":48927747,"comment_id":84899263,"body_markdown":"if there isnt a dedicated thing for op setting i would just edit that directly with the users username... best of luck","body":"if there isnt a dedicated thing for op setting i would just edit that directly with the users username... best of luck"}],"answers":[{"tags":[],"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697034717,"creation_date":1697034717,"answer_id":77274029,"question_id":48927747,"body_markdown":"&lt;sub&gt;Converting OP&#39;s comment to an answer:&lt;/sub&gt;\r\n\r\n&gt; Found this: \r\n&gt; ```\r\n&gt; MinecraftServer server = FMLCommonHandler.instance().getMinecraftServerInstance();\r\n&gt; server.getCommandManager(); \r\n&gt; server.commandManager.executeCommand(server, rawcommand&quot;);\r\n&gt; ``` \r\n&gt;\r\n&gt; So that means you can use it to deop and OP\r\n&gt;\r\n&gt;  – [Rudi Van Eeden](https://stackoverflow.com/users/4596617/rudi-van-eeden) &amp;nbsp;[Mar 6, 2018 at 19:05](https://stackoverflow.com/questions/48927747/minecraft-deop-a-player#comment85281477_48927747)","title":"How to &quot;deop&quot; a player in the Minecraft Forge API","body":"<p><sub>Converting OP's comment to an answer:</sub></p>\n<blockquote>\n<p>Found this:</p>\n<pre><code>MinecraftServer server = FMLCommonHandler.instance().getMinecraftServerInstance();\nserver.getCommandManager(); \nserver.commandManager.executeCommand(server, rawcommand&quot;);\n</code></pre>\n<p>So that means you can use it to deop and OP</p>\n<p>– <a href=\"https://stackoverflow.com/users/4596617/rudi-van-eeden\">Rudi Van Eeden</a>  <a href=\"https://stackoverflow.com/questions/48927747/minecraft-deop-a-player#comment85281477_48927747\">Mar 6, 2018 at 19:05</a></p>\n</blockquote>\n"}],"owner":{"account_id":5832567,"reputation":11,"user_id":4596617,"display_name":"Rudi Van Eeden"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697034734,"creation_date":1519303427,"question_id":48927747,"body_markdown":"I need help with opping and deop&#39;ing a player in Minecraft Forge 1.12.2. I can find out if a player is opped, but I need to be able to first find out if the player is an OP, save that info, then deop the player. After some conditions are met, I must be able to OP a player again if he/she was OP.\r\n\r\nCode to get OP\r\n\r\n\t//check if payer is OP\r\n\tif (plr.getServer().getPlayerList().canSendCommands(plr.getGameProfile())) {\r\n\t\topped = 1;\r\n\t}\r\n\telse {\r\n\t\topped = 0;\r\n\t}\r\n\r\nopped is an int.","title":"How to &quot;deop&quot; a player in the Minecraft Forge API","body":"<p>I need help with opping and deop'ing a player in Minecraft Forge 1.12.2. I can find out if a player is opped, but I need to be able to first find out if the player is an OP, save that info, then deop the player. After some conditions are met, I must be able to OP a player again if he/she was OP.</p>\n<p>Code to get OP</p>\n<pre><code>//check if payer is OP\nif (plr.getServer().getPlayerList().canSendCommands(plr.getGameProfile())) {\n    opped = 1;\n}\nelse {\n    opped = 0;\n}\n</code></pre>\n<p>opped is an int.</p>\n"},{"tags":["java","libgdx","bitmap-fonts"],"answers":[{"tags":[],"owner":{"account_id":233979,"reputation":851,"user_id":499837,"accept_rate":60,"display_name":"bornander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697034545,"creation_date":1696771482,"answer_id":77253790,"question_id":77253726,"body_markdown":"One way is to use the `FreeTypeFontGenerator`, [documentation][1], it allows you to generate a `BitmapFont` at a certain size. \r\n\r\nThat way you can generate several instances of the `BitmapFont`, one for each size you need in your game.\r\n\r\nIn your case the problem comes from you doing this\r\n    \r\n    parameter.size = 12;\r\n\r\noutside of the constructor (or method), it is a syntax error to do anything but declare variables there.\r\n\r\nMove that line into your constructor instead;\r\n\r\n    public Points(String name, int quantity, Texture icon) {\r\n        super();\r\n        this.name = name;\r\n        this.quantity = quantity;\r\n        this.icon = icon;\r\n        this.font = font;\r\n        \r\n        parameter.size = 12;\r\n    }\r\n\r\n\r\n  [1]: https://libgdx.com/wiki/extensions/gdx-freetype","title":"how to change fontsize using gdx BitmapFont","body":"<p>One way is to use the <code>FreeTypeFontGenerator</code>, <a href=\"https://libgdx.com/wiki/extensions/gdx-freetype\" rel=\"nofollow noreferrer\">documentation</a>, it allows you to generate a <code>BitmapFont</code> at a certain size.</p>\n<p>That way you can generate several instances of the <code>BitmapFont</code>, one for each size you need in your game.</p>\n<p>In your case the problem comes from you doing this</p>\n<pre><code>parameter.size = 12;\n</code></pre>\n<p>outside of the constructor (or method), it is a syntax error to do anything but declare variables there.</p>\n<p>Move that line into your constructor instead;</p>\n<pre><code>public Points(String name, int quantity, Texture icon) {\n    super();\n    this.name = name;\n    this.quantity = quantity;\n    this.icon = icon;\n    this.font = font;\n    \n    parameter.size = 12;\n}\n</code></pre>\n"}],"owner":{"account_id":22705906,"reputation":13,"user_id":16872635,"display_name":"arthur moiret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77253790,"answer_count":1,"score":1,"last_activity_date":1697034545,"creation_date":1696770232,"question_id":77253726,"body_markdown":"I created a font in java with BitmapFont\r\n\r\n`private BitmapFont font = new BitmapFont(Gdx.`*`files`*`.internal(&quot;HARLOWSI.TTF&quot;));`\r\n\r\nnow, I want to change the size of the font,\r\n\r\nI tried the method `font.setScale(scale);` which appears in the BitmapFont methods,\r\n\r\nit didn&#39;t work, so I looked for solutions online, I was told to try `font.getData().setScale(scale);`\r\n\r\nbut this does not work either.\r\n\r\nI also tried this, but I get an error on the parameter.size line.\r\n&quot;Syntax error on token size, VariableDeclaratorID expected after this token&quot;\r\n\r\n    package com.mygdx.game;\r\n    \r\n    import java.lang.reflect.Parameter;\r\n    \r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.graphics.Texture;\r\n    import com.badlogic.gdx.graphics.g2d.BitmapFont;\r\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\n    import com.badlogic.gdx.graphics.g2d.freetype.FreeTypeFontGenerator;\r\n    import com.badlogic.gdx.graphics.g2d.freetype.FreeTypeFontGenerator.FreeTypeFontParameter;\r\n    \r\n    public class Points {\r\n    \tFreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal(&quot;HARLOWSI.TTF&quot;));\r\n    \tFreeTypeFontParameter parameter = new FreeTypeFontParameter();\r\n    \tparameter.size = 12; //here&#39;s where I get an error\r\n    \tprivate String name;\r\n    \tprivate int quantity;\r\n    \tprivate Texture icon;\r\n    \tprivate BitmapFont font = new BitmapFont();\r\n    \t\r\n    \tpublic Points(String name, int quantity, Texture icon) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.quantity = quantity;\r\n    \t\tthis.icon = icon;\r\n    \t\tthis.font = font;\r\n    \t}\r\n    \t\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic int getQuantity() {\r\n    \t\treturn quantity;\r\n    \t}\r\n    \tpublic void setQuantity(int quantity) {\r\n    \t\tthis.quantity = quantity;\r\n    \t}\r\n    \tpublic Texture getIcon() {\r\n    \t\treturn icon;\r\n    \t}\r\n    \tpublic void setIcon(Texture icon) {\r\n    \t\tthis.icon = icon;\r\n    \t}\r\n    \t\r\n    \tpublic void add(int added) {\r\n    \t\tthis.setQuantity(this.quantity+added);\r\n    \t}\r\n    \tpublic void substract(int substracted) {\r\n    \t\tthis.add(-substracted);\r\n    \t}\r\n    \t\r\n    \tpublic void show(SpriteBatch batch) {\r\n    \t\tbatch.draw(this.icon, 10, 890-this.icon.getHeight());\r\n    \t\tthis.font.draw(batch, &quot;Points : &quot; + String.valueOf(this.quantity) , 20+this.icon.getWidth(),890-this.icon.getHeight());\r\n    \t}\r\n    \t\r\n    \tpublic void show(SpriteBatch batch,int x, int y) {\r\n    \t\tbatch.draw(this.icon, x, y);\r\n    \t\tthis.font.draw(batch, &quot;Points : &quot; + String.valueOf(this.quantity) , 20+this.icon.getWidth(),890-this.icon.getHeight());\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"how to change fontsize using gdx BitmapFont","body":"<p>I created a font in java with BitmapFont</p>\n<p><code>private BitmapFont font = new BitmapFont(Gdx.</code><em><code>files</code></em><code>.internal(&quot;HARLOWSI.TTF&quot;));</code></p>\n<p>now, I want to change the size of the font,</p>\n<p>I tried the method <code>font.setScale(scale);</code> which appears in the BitmapFont methods,</p>\n<p>it didn't work, so I looked for solutions online, I was told to try <code>font.getData().setScale(scale);</code></p>\n<p>but this does not work either.</p>\n<p>I also tried this, but I get an error on the parameter.size line.\n&quot;Syntax error on token size, VariableDeclaratorID expected after this token&quot;</p>\n<pre><code>package com.mygdx.game;\n\nimport java.lang.reflect.Parameter;\n\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.BitmapFont;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.graphics.g2d.freetype.FreeTypeFontGenerator;\nimport com.badlogic.gdx.graphics.g2d.freetype.FreeTypeFontGenerator.FreeTypeFontParameter;\n\npublic class Points {\n    FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal(&quot;HARLOWSI.TTF&quot;));\n    FreeTypeFontParameter parameter = new FreeTypeFontParameter();\n    parameter.size = 12; //here's where I get an error\n    private String name;\n    private int quantity;\n    private Texture icon;\n    private BitmapFont font = new BitmapFont();\n    \n    public Points(String name, int quantity, Texture icon) {\n        super();\n        this.name = name;\n        this.quantity = quantity;\n        this.icon = icon;\n        this.font = font;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getQuantity() {\n        return quantity;\n    }\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n    public Texture getIcon() {\n        return icon;\n    }\n    public void setIcon(Texture icon) {\n        this.icon = icon;\n    }\n    \n    public void add(int added) {\n        this.setQuantity(this.quantity+added);\n    }\n    public void substract(int substracted) {\n        this.add(-substracted);\n    }\n    \n    public void show(SpriteBatch batch) {\n        batch.draw(this.icon, 10, 890-this.icon.getHeight());\n        this.font.draw(batch, &quot;Points : &quot; + String.valueOf(this.quantity) , 20+this.icon.getWidth(),890-this.icon.getHeight());\n    }\n    \n    public void show(SpriteBatch batch,int x, int y) {\n        batch.draw(this.icon, x, y);\n        this.font.draw(batch, &quot;Points : &quot; + String.valueOf(this.quantity) , 20+this.icon.getWidth(),890-this.icon.getHeight());\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","scp","apache-mina"],"owner":{"account_id":10037245,"reputation":50,"user_id":7421401,"display_name":"MasterSansai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697034422,"creation_date":1697034422,"question_id":77273981,"body_markdown":"I have a Problem when trying to download large files through SCP. I use Apache Mina SSHD in Java. For small files it works as intended, but when I try to download a large file, the download is really slow. After arround 8-10 minutes and downloading 60-70% Apache Mina fails with following error Message:\r\n\r\n&gt; Error: write(ChannelOutputStream[ChannelExec[id=0,\r\n&gt; recipient=0]-ClientSessionImpl[user@server/ip-address:22]]\r\n&gt; SSH_MSG_CHANNEL_DATA) len=1 - channel already closed\r\n\r\nI set the SSHD-Log on the destination to debug, but nothing gets logged when the download fails. The weird part: when I try downloading the file through SCP as a command-prompt or when using SFTP in Mina instead, the file completely downloads withouth problems and within arround 1 minute. So I doubt it&#39;s an issue with my server. But just to be sure I also ran scp with -l 5000 to simulate a slow as Mina download. But it also runs without issue. \r\n\r\nHere is my code:\r\n\r\n```\r\nSshClient client = SshClient.setUpDefaultClient();\r\n\t\t\r\nclient.start()\r\n\r\nHostConfigEntry host = new HostConfigEntry(&quot;&quot;, hostname, 22, username);   \r\n\r\ntry (ClientSession session = client.connect(host).verify().getSession()){ \r\n\r\n     session.auth().await();\r\n\t\t\t\r\n     ScpClientCreator creator = ScpClientCreator.instance();\r\n     ScpClient scpClient = creator.createScpClient(session);\r\n\r\n     scpClient.download(\r\n            remoteFilePath,\r\n            localFilePath\r\n     );\r\n            \r\n     session.close();\r\n}\r\ncatch(Exception e) {\r\n     System.out.println(&quot;Error: &quot; + e.getMessage());\r\n}\r\n       \r\nclient.close();\r\n```","title":"Apache Mina SSHD slow download and failing connection using SCP","body":"<p>I have a Problem when trying to download large files through SCP. I use Apache Mina SSHD in Java. For small files it works as intended, but when I try to download a large file, the download is really slow. After arround 8-10 minutes and downloading 60-70% Apache Mina fails with following error Message:</p>\n<blockquote>\n<p>Error: write(ChannelOutputStream[ChannelExec[id=0,\nrecipient=0]-ClientSessionImpl[user@server/ip-address:22]]\nSSH_MSG_CHANNEL_DATA) len=1 - channel already closed</p>\n</blockquote>\n<p>I set the SSHD-Log on the destination to debug, but nothing gets logged when the download fails. The weird part: when I try downloading the file through SCP as a command-prompt or when using SFTP in Mina instead, the file completely downloads withouth problems and within arround 1 minute. So I doubt it's an issue with my server. But just to be sure I also ran scp with -l 5000 to simulate a slow as Mina download. But it also runs without issue.</p>\n<p>Here is my code:</p>\n<pre><code>SshClient client = SshClient.setUpDefaultClient();\n        \nclient.start()\n\nHostConfigEntry host = new HostConfigEntry(&quot;&quot;, hostname, 22, username);   \n\ntry (ClientSession session = client.connect(host).verify().getSession()){ \n\n     session.auth().await();\n            \n     ScpClientCreator creator = ScpClientCreator.instance();\n     ScpClient scpClient = creator.createScpClient(session);\n\n     scpClient.download(\n            remoteFilePath,\n            localFilePath\n     );\n            \n     session.close();\n}\ncatch(Exception e) {\n     System.out.println(&quot;Error: &quot; + e.getMessage());\n}\n       \nclient.close();\n</code></pre>\n"},{"tags":["java","generics","types"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697034315,"post_id":77273943,"comment_id":136229016,"body_markdown":"In your first example, `&lt;T&gt;` is an output type determined by the common supertype of the inputs. In your second example, `&lt;U&gt;` is determined by the `List` you are putting in. And since you put in a raw `ArrayList`, that will be `Object`.","body":"In your first example, <code>&lt;T&gt;</code> is an output type determined by the common supertype of the inputs. In your second example, <code>&lt;U&gt;</code> is determined by the <code>List</code> you are putting in. And since you put in a raw <code>ArrayList</code>, that will be <code>Object</code>."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1697034453,"post_id":77273943,"comment_id":136229049,"body_markdown":"`List&lt;Object&gt;` is **not** a superclass of `List&lt;Integer&gt;`. That&#39;s why `Object` cannot be chosen for `U`  see: [Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?](https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po)","body":"<code>List&lt;Object&gt;</code> is <b>not</b> a superclass of <code>List&lt;Integer&gt;</code>. That&#39;s why <code>Object</code> cannot be chosen for <code>U</code>  see: <a href=\"https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1697035248,"post_id":77273943,"comment_id":136229231,"body_markdown":"You can add `U` to a `List&lt;U&gt;`. But, if you were allowed to pass a `String` and `ArrayList&lt;Integer&gt;` to that method, then you&#39;d be able to add the `String` to the `ArrayList&lt;Integer&gt;`. That&#39;s not type correct, hence it&#39;s forbidden to call the method in that way.","body":"You can add <code>U</code> to a <code>List&lt;U&gt;</code>. But, if you were allowed to pass a <code>String</code> and <code>ArrayList&lt;Integer&gt;</code> to that method, then you&#39;d be able to add the <code>String</code> to the <code>ArrayList&lt;Integer&gt;</code>. That&#39;s not type correct, hence it&#39;s forbidden to call the method in that way."}],"owner":{"account_id":14055412,"reputation":39,"user_id":10152906,"display_name":"John Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697034253,"creation_date":1697034108,"question_id":77273943,"body_markdown":"Hi from the following tutorial: https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html.\r\nIt says type inference algorithm &quot;tries to find the most specific type that works with all of the arguments.&quot;\r\n\r\nIt gives the following example:\r\n    \r\n    static &lt;T&gt; T pick(T a1, T a2) { return a2; }\r\n    Serializable s = pick(&quot;d&quot;, new ArrayList&lt;String&gt;());\r\n\r\nAnd says T is Serializable.\r\nThis works but I do not understand the algorithm in other cases.\r\n\r\n\r\nWhen I try the following, however:\r\n\r\n    public static &lt;U&gt; U test(U u, List&lt;U&gt; list){\r\n        return u;\r\n    }\r\n\r\n    Object f = test(&quot;Hi&quot;, new ArrayList&lt;Integer&gt;());\r\n\r\nIt gives the following error:\r\nreason: no instance(s) of type variable(s) exist so that String conforms to Integer inference variable U has incompatible bounds: equality constraints: Integer lower bounds: String\r\n\r\nBasically, saying I have to pass String as the type argument to ArrayList.\r\n\r\nWhat is the difference between the two examples I gave.  Isnt the most specific type that works with all arguments in the second method Object? Why is this giving me a compile error.\r\n","title":"Type Inference specificity does not make sense (How it determines most specific type)","body":"<p>Hi from the following tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html</a>.\nIt says type inference algorithm &quot;tries to find the most specific type that works with all of the arguments.&quot;</p>\n<p>It gives the following example:</p>\n<pre><code>static &lt;T&gt; T pick(T a1, T a2) { return a2; }\nSerializable s = pick(&quot;d&quot;, new ArrayList&lt;String&gt;());\n</code></pre>\n<p>And says T is Serializable.\nThis works but I do not understand the algorithm in other cases.</p>\n<p>When I try the following, however:</p>\n<pre><code>public static &lt;U&gt; U test(U u, List&lt;U&gt; list){\n    return u;\n}\n\nObject f = test(&quot;Hi&quot;, new ArrayList&lt;Integer&gt;());\n</code></pre>\n<p>It gives the following error:\nreason: no instance(s) of type variable(s) exist so that String conforms to Integer inference variable U has incompatible bounds: equality constraints: Integer lower bounds: String</p>\n<p>Basically, saying I have to pass String as the type argument to ArrayList.</p>\n<p>What is the difference between the two examples I gave.  Isnt the most specific type that works with all arguments in the second method Object? Why is this giving me a compile error.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4279439,"reputation":1951,"user_id":3499277,"accept_rate":86,"display_name":"Pieter De Clercq"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1534174185,"creation_date":1534173881,"answer_id":51825704,"question_id":51825663,"body_markdown":"Writing `new ArrayList&lt;&gt;(list)` creates a new list, containing all the elements in `list`. This is required, since at the end of the function you are calling `list.remove(list.size()-1);`, you are thus modifying the `list` variable.\r\n\r\nIf you were to add `list` directly in `res`, the `remove` call would also modify `res`.\r\n\r\nAnother relevant example:\r\n\r\n    class MyClass {\r\n        public int modify = 5;\r\n    }\r\n\r\n    class Test {\r\n        public static void myFunction() {\r\n            MyClass object = new MyClass();\r\n            System.out.println(object.modify); // prints 5.\r\n            \r\n            ArrayList&lt;MyClass&gt; myList = new ArrayList&lt;&gt;();\r\n            myList.add(object);\r\n            \r\n            object.modify = 800;\r\n            for(MyClass item : myList) {\r\n                System.out.println(item.modify); // prints 800.\r\n            }\r\n        }\r\n    }","title":"Why &quot;res.add(new ArrayList&lt;&gt;(list));&quot; here?","body":"<p>Writing <code>new ArrayList&lt;&gt;(list)</code> creates a new list, containing all the elements in <code>list</code>. This is required, since at the end of the function you are calling <code>list.remove(list.size()-1);</code>, you are thus modifying the <code>list</code> variable.</p>\n\n<p>If you were to add <code>list</code> directly in <code>res</code>, the <code>remove</code> call would also modify <code>res</code>.</p>\n\n<p>Another relevant example:</p>\n\n<pre><code>class MyClass {\n    public int modify = 5;\n}\n\nclass Test {\n    public static void myFunction() {\n        MyClass object = new MyClass();\n        System.out.println(object.modify); // prints 5.\n\n        ArrayList&lt;MyClass&gt; myList = new ArrayList&lt;&gt;();\n        myList.add(object);\n\n        object.modify = 800;\n        for(MyClass item : myList) {\n            System.out.println(item.modify); // prints 800.\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534173916,"creation_date":1534173916,"answer_id":51825722,"question_id":51825663,"body_markdown":"`new ArrayList&lt;&gt;(list)` will make a copy of `list`, which will make sure the elements be stored into `res`.\r\n\r\nOtherwise, after `list.remove(list.size()-1)`, the elements in `res` will be removed.","title":"Why &quot;res.add(new ArrayList&lt;&gt;(list));&quot; here?","body":"<p><code>new ArrayList&lt;&gt;(list)</code> will make a copy of <code>list</code>, which will make sure the elements be stored into <code>res</code>.</p>\n\n<p>Otherwise, after <code>list.remove(list.size()-1)</code>, the elements in <code>res</code> will be removed.</p>\n"},{"tags":[],"owner":{"account_id":26199895,"reputation":1,"user_id":19880445,"display_name":"Sourabh Khot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697034055,"creation_date":1697034055,"answer_id":77273933,"question_id":51825663,"body_markdown":"In Java, when we add an object to the collection, it gets added to the main collection as a reference.But later if we make the changes in the object then those changes are reflected to the main collection also.\r\n\r\nHere in this case, we need to remove the last element of the &#39;list&#39; for backtracking it leads to removing the element in the &#39;res&#39; arraylist also. So we have to create a deep copy of the &#39;list&#39; as &#39; res.add(new ArrayList&lt;&gt;(list))&#39; to maintain changes.","title":"Why &quot;res.add(new ArrayList&lt;&gt;(list));&quot; here?","body":"<p>In Java, when we add an object to the collection, it gets added to the main collection as a reference.But later if we make the changes in the object then those changes are reflected to the main collection also.</p>\n<p>Here in this case, we need to remove the last element of the 'list' for backtracking it leads to removing the element in the 'res' arraylist also. So we have to create a deep copy of the 'list' as ' res.add(new ArrayList&lt;&gt;(list))' to maintain changes.</p>\n"}],"owner":{"account_id":12257553,"reputation":77,"user_id":8946206,"display_name":"Morty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1743,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1697034055,"creation_date":1534173743,"question_id":51825663,"body_markdown":"    class Solution {\r\n        public List&lt;List&lt;Integer&gt;&gt; pathSum(TreeNode root, int sum) {\r\n            List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\r\n            if(root == null) return res;\r\n            List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n            helper(res, list, root, sum);\r\n            return res;\r\n        }\r\n        public void helper(List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; list, TreeNode root, int sum){\r\n            list.add(root.val);\r\n            if(root.left == null &amp;&amp; root.right == null){\r\n                if(root.val == sum)\r\n                    res.add(new ArrayList&lt;&gt;(list));\r\n            }\r\n            if(root.left != null)\r\n                helper(res, list, root.left, sum-root.val);\r\n            if(root.right != null)\r\n                helper(res, list, root.right, sum-root.val);\r\n            list.remove(list.size()-1);\r\n        }\r\n    }\r\n\r\nI am working on [Leetcode 113. Path Sum II][1]. It&#39;s not about the problem itself. I want to know why I have to write `res.add(new ArrayList&lt;&gt;(list));` instead of writing `res.add(list);` directly in line 13.\r\n\r\n\r\n  [1]: https://leetcode.com/problems/path-sum-ii/","title":"Why &quot;res.add(new ArrayList&lt;&gt;(list));&quot; here?","body":"<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; pathSum(TreeNode root, int sum) {\n        List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\n        if(root == null) return res;\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        helper(res, list, root, sum);\n        return res;\n    }\n    public void helper(List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; list, TreeNode root, int sum){\n        list.add(root.val);\n        if(root.left == null &amp;&amp; root.right == null){\n            if(root.val == sum)\n                res.add(new ArrayList&lt;&gt;(list));\n        }\n        if(root.left != null)\n            helper(res, list, root.left, sum-root.val);\n        if(root.right != null)\n            helper(res, list, root.right, sum-root.val);\n        list.remove(list.size()-1);\n    }\n}\n</code></pre>\n\n<p>I am working on <a href=\"https://leetcode.com/problems/path-sum-ii/\" rel=\"nofollow noreferrer\">Leetcode 113. Path Sum II</a>. It's not about the problem itself. I want to know why I have to write <code>res.add(new ArrayList&lt;&gt;(list));</code> instead of writing <code>res.add(list);</code> directly in line 13.</p>\n"},{"tags":["java","html","request","http-post","form-data"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696953442,"post_id":77263263,"comment_id":136217191,"body_markdown":"Are you using [Spring](https://spring.io/)?","body":"Are you using <a href=\"https://spring.io/\" rel=\"nofollow noreferrer\">Spring</a>?"}],"answers":[{"tags":[],"owner":{"account_id":17152716,"reputation":1,"user_id":12414261,"display_name":"dijia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697033882,"creation_date":1696919381,"answer_id":77263367,"question_id":77263263,"body_markdown":"try to comment out this line:\r\n`httpPost.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);`\r\n&lt;br&gt;\r\nor try to set boundary in `MultipartEntityBuilder` and add it to http header:&lt;br&gt;\r\n\r\n    String boundary = &quot;custom-boundary&quot;;\r\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n    builder.setBoundary(boundary);\r\n    httpPost.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + boundary);\r\n\r\n","title":"Http form-data POST error: the request was rejected because no multipart boundary was found (Java)","body":"<p>try to comment out this line:\n<code>httpPost.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);</code>\n<br>\nor try to set boundary in <code>MultipartEntityBuilder</code> and add it to http header:<br></p>\n<pre><code>String boundary = &quot;custom-boundary&quot;;\nMultipartEntityBuilder builder = MultipartEntityBuilder.create();\nbuilder.setBoundary(boundary);\nhttpPost.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + boundary);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12209596,"reputation":100,"user_id":8911724,"display_name":"Mohamed Ismail M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696919599,"creation_date":1696919599,"answer_id":77263387,"question_id":77263263,"body_markdown":"I feel, we can better redesign the API which you have posted . \r\nSending json kind data in header is not correct. It must be a key value pair not a json with a key called params . \r\nEither send each data in the header or put as json in the body ","title":"Http form-data POST error: the request was rejected because no multipart boundary was found (Java)","body":"<p>I feel, we can better redesign the API which you have posted .\nSending json kind data in header is not correct. It must be a key value pair not a json with a key called params .\nEither send each data in the header or put as json in the body</p>\n"}],"owner":{"account_id":29342541,"reputation":3,"user_id":22481632,"display_name":"hachi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77263387,"answer_count":2,"score":0,"last_activity_date":1697033882,"creation_date":1696918064,"question_id":77263263,"body_markdown":"# the procedure of the problem:\r\n\r\n1. I try to get response by sending a form-data, here is the result and details from Postman(successfully got data in Postman):\r\n\r\n2. there is an error thrown:\\*\\* &quot;\\&lt;faultstring\\&gt;the request was rejected because no multipart boundary was found\\&lt;/faultstring\\&gt;&quot;\\*\\*\r\n\r\n# details of the problem:\r\n\r\n## this is the request header\r\n\r\n[this is the Postman request details](https://i.stack.imgur.com/T6RwO.png)\r\n\r\n## this is the request body\r\n\r\n[this is the request body](https://i.stack.imgur.com/RQeUR.png)\r\n\r\n## related method in HttpUtil.java below:\r\n\r\n```\r\npublic static String PostFormdata(String url, Map&lt;String, String&gt; map) {\r\n\tMultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n\r\n\tfor(String key:map.keySet()){\r\n\t\tbuilder.addTextBody(key, map.get(key));\r\n\t}\r\n\tString result = null;\r\n\ttry {\r\n\t\tHttpPost httpPost = new HttpPost(url);\r\n\t\tHttpEntity multipart = builder.build();\r\n\t\thttpPost.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);\r\n\t\thttpPost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\thttpPost.setConfig(requestConfig);\r\n\t\thttpPost.setEntity(multipart);\r\n\t\tCloseableHttpResponse response = httpClient.execute(httpPost);\r\n\r\n\t\tHttpEntity httpEntity = response.getEntity();\r\n\t\tresult = EntityUtils.toString(httpEntity, &quot;UTF-8&quot;);\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\treturn result;\r\n}\r\n```\r\n\r\n## here is my usage:\r\n\r\n```\r\nMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n\r\nparams.put(&quot;username&quot;, &quot;user01&quot;);\r\nparams.put(&quot;password&quot;, &quot;abcd&quot;);\r\nparams.put(&quot;entryid&quot;, &quot;111&quot;);\r\nparams.put(&quot;beginDate&quot;, &quot;2023-08-01&quot;);\r\nparams.put(&quot;endDate&quot;, &quot;2023-10-06&quot;);\r\n\r\nMap&lt;String, String&gt; param = new HashMap&lt;String, String&gt;();\r\nparam.put(&quot;params&quot;, params.toString());\r\n\r\nString result = HttpClientUtils.PostFormdata(url, param);\r\n```\r\n\r\nI want to get a correct result from POST request","title":"Http form-data POST error: the request was rejected because no multipart boundary was found (Java)","body":"<h1>the procedure of the problem:</h1>\n<ol>\n<li><p>I try to get response by sending a form-data, here is the result and details from Postman(successfully got data in Postman):</p>\n</li>\n<li><p>there is an error thrown:** &quot;&lt;faultstring&gt;the request was rejected because no multipart boundary was found&lt;/faultstring&gt;&quot;**</p>\n</li>\n</ol>\n<h1>details of the problem:</h1>\n<h2>this is the request header</h2>\n<p><a href=\"https://i.stack.imgur.com/T6RwO.png\" rel=\"nofollow noreferrer\">this is the Postman request details</a></p>\n<h2>this is the request body</h2>\n<p><a href=\"https://i.stack.imgur.com/RQeUR.png\" rel=\"nofollow noreferrer\">this is the request body</a></p>\n<h2>related method in HttpUtil.java below:</h2>\n<pre><code>public static String PostFormdata(String url, Map&lt;String, String&gt; map) {\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n\n    for(String key:map.keySet()){\n        builder.addTextBody(key, map.get(key));\n    }\n    String result = null;\n    try {\n        HttpPost httpPost = new HttpPost(url);\n        HttpEntity multipart = builder.build();\n        httpPost.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);\n        httpPost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n        httpPost.setConfig(requestConfig);\n        httpPost.setEntity(multipart);\n        CloseableHttpResponse response = httpClient.execute(httpPost);\n\n        HttpEntity httpEntity = response.getEntity();\n        result = EntityUtils.toString(httpEntity, &quot;UTF-8&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n<h2>here is my usage:</h2>\n<pre><code>Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n\nparams.put(&quot;username&quot;, &quot;user01&quot;);\nparams.put(&quot;password&quot;, &quot;abcd&quot;);\nparams.put(&quot;entryid&quot;, &quot;111&quot;);\nparams.put(&quot;beginDate&quot;, &quot;2023-08-01&quot;);\nparams.put(&quot;endDate&quot;, &quot;2023-10-06&quot;);\n\nMap&lt;String, String&gt; param = new HashMap&lt;String, String&gt;();\nparam.put(&quot;params&quot;, params.toString());\n\nString result = HttpClientUtils.PostFormdata(url, param);\n</code></pre>\n<p>I want to get a correct result from POST request</p>\n"},{"tags":["java","java-8","truncate","java-time"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1478246824,"creation_date":1434012057,"answer_id":30775758,"question_id":30775521,"body_markdown":"One way would be to manually set the day to the first of the month:\r\n\r\n    import static java.time.ZoneOffset.UTC;\r\n    import static java.time.temporal.ChronoUnit.DAYS;\r\n\r\n    ZonedDateTime truncatedToMonth = ZonedDateTime.now(UTC).truncatedTo(DAYS).withDayOfMonth(1);\r\n    System.out.println(truncatedToMonth); //prints 2015-06-01T00:00Z\r\n    long millis = truncatedToMonth.toInstant().toEpochMilli();\r\n    System.out.println(millis); // prints 1433116800000\r\n\r\n\r\nOr an alternative with a `LocalDate`, which is maybe cleaner:\r\n\r\n    LocalDate firstOfMonth = LocalDate.now(UTC).withDayOfMonth(1);\r\n    long millis = firstOfMonth.atStartOfDay(UTC).toEpochSecond() * 1000;\r\n    //or\r\n    long millis = firstOfMonth.atStartOfDay(UTC).toInstant().toEpochMilli();","title":"Is it possible to truncate date to Month with Java 8?","body":"<p>One way would be to manually set the day to the first of the month:</p>\n\n<pre><code>import static java.time.ZoneOffset.UTC;\nimport static java.time.temporal.ChronoUnit.DAYS;\n\nZonedDateTime truncatedToMonth = ZonedDateTime.now(UTC).truncatedTo(DAYS).withDayOfMonth(1);\nSystem.out.println(truncatedToMonth); //prints 2015-06-01T00:00Z\nlong millis = truncatedToMonth.toInstant().toEpochMilli();\nSystem.out.println(millis); // prints 1433116800000\n</code></pre>\n\n<p>Or an alternative with a <code>LocalDate</code>, which is maybe cleaner:</p>\n\n<pre><code>LocalDate firstOfMonth = LocalDate.now(UTC).withDayOfMonth(1);\nlong millis = firstOfMonth.atStartOfDay(UTC).toEpochSecond() * 1000;\n//or\nlong millis = firstOfMonth.atStartOfDay(UTC).toInstant().toEpochMilli();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482321,"reputation":9702,"user_id":896663,"accept_rate":84,"display_name":"MozenRath"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1434015118,"creation_date":1434014341,"answer_id":30776600,"question_id":30775521,"body_markdown":"For a simple way to do it:\r\n\r\n    Calendar cal = new GregorianCalendar();\r\n    System.out.println(cal.getTime());\r\n\r\n    cal.set(Calendar.DAY_OF_MONTH,1);\r\n    System.out.println(cal.getTime());\r\n\r\n    cal.set(Calendar.HOUR_OF_DAY,0);\r\n    System.out.println(cal.getTime());\r\n\r\n    cal.set(Calendar.MINUTE,0);\r\n    System.out.println(cal.getTime());\r\n\r\n    cal.set(Calendar.SECOND,0);\r\n    System.out.println(cal.getTime());\r\n\r\n    cal.set(Calendar.MILLISECOND,0);\r\n    System.out.println(cal.getTime());\r\n\r\nThe output is:\r\n\r\n    Thu Jun 11 05:36:17 EDT 2015\r\n    Mon Jun 01 05:36:17 EDT 2015\r\n    Mon Jun 01 00:36:17 EDT 2015\r\n    Mon Jun 01 00:00:17 EDT 2015\r\n    Mon Jun 01 00:00:00 EDT 2015\r\n    Mon Jun 01 00:00:00 EDT 2015","title":"Is it possible to truncate date to Month with Java 8?","body":"<p>For a simple way to do it:</p>\n\n<pre><code>Calendar cal = new GregorianCalendar();\nSystem.out.println(cal.getTime());\n\ncal.set(Calendar.DAY_OF_MONTH,1);\nSystem.out.println(cal.getTime());\n\ncal.set(Calendar.HOUR_OF_DAY,0);\nSystem.out.println(cal.getTime());\n\ncal.set(Calendar.MINUTE,0);\nSystem.out.println(cal.getTime());\n\ncal.set(Calendar.SECOND,0);\nSystem.out.println(cal.getTime());\n\ncal.set(Calendar.MILLISECOND,0);\nSystem.out.println(cal.getTime());\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>Thu Jun 11 05:36:17 EDT 2015\nMon Jun 01 05:36:17 EDT 2015\nMon Jun 01 00:36:17 EDT 2015\nMon Jun 01 00:00:17 EDT 2015\nMon Jun 01 00:00:00 EDT 2015\nMon Jun 01 00:00:00 EDT 2015\n</code></pre>\n"},{"tags":[],"owner":{"account_id":217396,"reputation":6303,"user_id":473181,"accept_rate":80,"display_name":"Simon"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1653506864,"creation_date":1460633759,"answer_id":36621887,"question_id":30775521,"body_markdown":"This is what [`java.time.temporal.TemporalAdjusters`](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html) are for.\r\n\r\n    date.with(TemporalAdjusters.firstDayOfMonth()).truncatedTo(ChronoUnit.DAYS);","title":"Is it possible to truncate date to Month with Java 8?","body":"<p>This is what <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\" rel=\"noreferrer\"><code>java.time.temporal.TemporalAdjusters</code></a> are for.</p>\n<pre><code>date.with(TemporalAdjusters.firstDayOfMonth()).truncatedTo(ChronoUnit.DAYS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697033644,"creation_date":1522821930,"answer_id":49643910,"question_id":30775521,"body_markdown":"I had same problem of course in working with instants, then following code solved my problem: \r\n\r\n    Instant instant = Instant.ofEpochSecond(longTimestamp);\r\n    instant = ZonedDateTime.ofInstant(instant, ZoneId.systemDefault())\r\n                .with(TemporalAdjusters.firstDayOfMonth())\r\n                .truncatedTo(ChronoUnit.DAYS).toInstant();","title":"Is it possible to truncate date to Month with Java 8?","body":"<p>I had same problem of course in working with instants, then following code solved my problem:</p>\n<pre><code>Instant instant = Instant.ofEpochSecond(longTimestamp);\ninstant = ZonedDateTime.ofInstant(instant, ZoneId.systemDefault())\n            .with(TemporalAdjusters.firstDayOfMonth())\n            .truncatedTo(ChronoUnit.DAYS).toInstant();\n</code></pre>\n"}],"owner":{"account_id":3784466,"reputation":625,"user_id":3142888,"accept_rate":80,"display_name":"EnverOsmanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22616,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":30775758,"answer_count":4,"score":32,"last_activity_date":1697033644,"creation_date":1434011336,"question_id":30775521,"body_markdown":"I want to get the milliseconds truncated to days, I can use\r\n\r\n    Instant.now().truncatedTo(ChronoUnit.DAYS).toEpochMilli()\r\n\r\nBut I can&#39;t truncate to `ChronoUnit.MONTH` (it throws an exception). Do I need use [a Calendar](https://stackoverflow.com/a/1908419/3142888)?","title":"Is it possible to truncate date to Month with Java 8?","body":"<p>I want to get the milliseconds truncated to days, I can use</p>\n\n<pre><code>Instant.now().truncatedTo(ChronoUnit.DAYS).toEpochMilli()\n</code></pre>\n\n<p>But I can't truncate to <code>ChronoUnit.MONTH</code> (it throws an exception). Do I need use <a href=\"https://stackoverflow.com/a/1908419/3142888\">a Calendar</a>?</p>\n"},{"tags":["java","scala","java-time"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697025197,"post_id":77272760,"comment_id":136226973,"body_markdown":"What is the problem with `2023-09-17T00:00:00Z`? It is the accepted rendering for offset 00:00 and supported by most parsers. In any case, if you really need +00:00, you&#39;ll need to create a custom pattern using `xxx` for the offset, see also the [`DateTimeFormatter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) documentation.","body":"What is the problem with <code>2023-09-17T00:00:00Z</code>? It is the accepted rendering for offset 00:00 and supported by most parsers. In any case, if you really need +00:00, you&#39;ll need to create a custom pattern using <code>xxx</code> for the offset, see also the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> documentation."},{"owner":{"account_id":2243934,"reputation":1690,"user_id":1977778,"accept_rate":88,"display_name":"sentenza"},"score":0,"creation_date":1697025382,"post_id":77272760,"comment_id":136227019,"body_markdown":"I need to replicate the exact format of DateTime. I see that I can also use [DateTimeFormatterBuilder](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html), but I was wondering if there was a predefined format for this specific one. I was looking for a possible example solution to add `.000+00:00`.","body":"I need to replicate the exact format of DateTime. I see that I can also use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html\" rel=\"nofollow noreferrer\">DateTimeFormatterBuilder</a>, but I was wondering if there was a predefined format for this specific one. I was looking for a possible example solution to add <code>.000+00:00</code>."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1697028668,"post_id":77272760,"comment_id":136227678,"body_markdown":"The solution you edited in (which BTW, you shouldn&#39;t normally do in questions) will not work correctly if you have non-zero fractional seconds (MILLI_OF_SECOND values). See also the comment on my answer.","body":"The solution you edited in (which BTW, you shouldn&#39;t normally do in questions) will not work correctly if you have non-zero fractional seconds (MILLI_OF_SECOND values). See also the comment on my answer."},{"owner":{"account_id":2243934,"reputation":1690,"user_id":1977778,"accept_rate":88,"display_name":"sentenza"},"score":0,"creation_date":1697033496,"post_id":77272760,"comment_id":136228817,"body_markdown":"Thank you for pointing that out @OleV.V. Patched with your suggestion","body":"Thank you for pointing that out @OleV.V. Patched with your suggestion"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697028104,"creation_date":1697026234,"answer_id":77272942,"question_id":77272760,"body_markdown":"There is no standard formatter that gives the exact result you want. The use of `Z` for offset 0 is standard (probably derives from ISO 8601, but I&#39;m too lazy to verify).\r\n\r\nFor the format you want, you&#39;ll need to build it up (see first example), or use a pattern (see second example). My example is in Java, but I assume it will translate directly to Scala:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    var date = LocalDateTime.parse(&quot;2023-09-17T00:00:00&quot;);\r\n\r\n    var fm = new DateTimeFormatterBuilder()\r\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n            .appendLiteral(&#39;T&#39;)\r\n            .appendValue(HOUR_OF_DAY, 2)\r\n            .appendLiteral(&#39;:&#39;)\r\n            .appendValue(MINUTE_OF_HOUR, 2)\r\n            .appendLiteral(&#39;:&#39;)\r\n            .appendValue(SECOND_OF_MINUTE, 2)\r\n            .appendFraction(MILLI_OF_SECOND, 3, 3, true)\r\n            .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)\r\n            .toFormatter();\r\n\r\n    System.out.println(date.atOffset(ZoneOffset.UTC).format(fm));\r\n}\r\n```\r\n\r\nThe most important parts here for your requirements are:\r\n\r\n- `.appendFraction(MILLI_OF_SECOND, 3, 3, true)`\r\n  \r\n  Ensures the fractional seconds are rendered in 3 digits.\r\n- `.appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)`\r\n\r\n  Renders the offset as `{+/-}HH:mm` (e.g. `-01:00`), and offset 0 as `+00:00`.\r\n\r\nOutput:\r\n\r\n```none\r\n2023-09-17T00:00:00.000+00:00\r\n```\r\n\r\nYou can also use a pattern-based formatter:\r\n\r\n```java\r\nDateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSxxx&quot;)\r\n```\r\n\r\nThe use of `.SSS` ensures three fractional digits, and `xxx` renders the offset as `{+/-}HH:mm` and offset 0 as `+00:00`.\r\n\r\nNote that it is probably best to use either of these formatters for formatting dates only, and use `ISO_DATE_TIME` for parsing, as it is more flexible and lenient.\r\n","title":"How to format properly a Java LocalDateTime for JSON (Javascript) using a DateTimeFormatter?","body":"<p>There is no standard formatter that gives the exact result you want. The use of <code>Z</code> for offset 0 is standard (probably derives from ISO 8601, but I'm too lazy to verify).</p>\n<p>For the format you want, you'll need to build it up (see first example), or use a pattern (see second example). My example is in Java, but I assume it will translate directly to Scala:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    var date = LocalDateTime.parse(&quot;2023-09-17T00:00:00&quot;);\n\n    var fm = new DateTimeFormatterBuilder()\n            .append(DateTimeFormatter.ISO_LOCAL_DATE)\n            .appendLiteral('T')\n            .appendValue(HOUR_OF_DAY, 2)\n            .appendLiteral(':')\n            .appendValue(MINUTE_OF_HOUR, 2)\n            .appendLiteral(':')\n            .appendValue(SECOND_OF_MINUTE, 2)\n            .appendFraction(MILLI_OF_SECOND, 3, 3, true)\n            .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)\n            .toFormatter();\n\n    System.out.println(date.atOffset(ZoneOffset.UTC).format(fm));\n}\n</code></pre>\n<p>The most important parts here for your requirements are:</p>\n<ul>\n<li><p><code>.appendFraction(MILLI_OF_SECOND, 3, 3, true)</code></p>\n<p>Ensures the fractional seconds are rendered in 3 digits.</p>\n</li>\n<li><p><code>.appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)</code></p>\n<p>Renders the offset as <code>{+/-}HH:mm</code> (e.g. <code>-01:00</code>), and offset 0 as <code>+00:00</code>.</p>\n</li>\n</ul>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-09-17T00:00:00.000+00:00\n</code></pre>\n<p>You can also use a pattern-based formatter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSxxx&quot;)\n</code></pre>\n<p>The use of <code>.SSS</code> ensures three fractional digits, and <code>xxx</code> renders the offset as <code>{+/-}HH:mm</code> and offset 0 as <code>+00:00</code>.</p>\n<p>Note that it is probably best to use either of these formatters for formatting dates only, and use <code>ISO_DATE_TIME</code> for parsing, as it is more flexible and lenient.</p>\n"}],"owner":{"account_id":2243934,"reputation":1690,"user_id":1977778,"accept_rate":88,"display_name":"sentenza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77272942,"answer_count":1,"score":0,"last_activity_date":1697033452,"creation_date":1697024809,"question_id":77272760,"body_markdown":"I need to format a Java `java.time.LocalDateTime` into a JSON string that will match this format:\r\n\r\n`2023-09-17T00:00:00.000+00:00`\r\n\r\nI was looking at `DateTimeFormatter.ISO_DATE_TIME` defining my LocalDateTime with:\r\n\r\n```scala\r\ndate.plusDays(daysToAdd)\r\n   .atZone(ZoneOffset.UTC)\r\n   .format(DateTimeFormatter.ISO_DATE_TIME)\r\n```\r\n\r\nbut that produces:\r\n\r\n`2023-09-17T00:00:00Z`\r\n\r\nIs there a predefined formatter for this date format? Do I need to create a custom DateTimeFormatter, if so could you provide an example for this format?\r\n\r\n### EDIT\r\n\r\nI ended up using a formatter based on Mark Rotteveel&#39;s example solution and the subsequent comments to this question:\r\n\r\n\r\n```scala\r\nval jsonDateTimeFormatter: DateTimeFormatter = new DateTimeFormatterBuilder()\r\n    .append(DateTimeFormatter.ISO_LOCAL_DATE)\r\n    .appendLiteral(&#39;T&#39;)\r\n    .appendPattern(&quot;HH:mm:ss.SSS&quot;)\r\n    .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)\r\n    .toFormatter()\r\n```\r\n","title":"How to format properly a Java LocalDateTime for JSON (Javascript) using a DateTimeFormatter?","body":"<p>I need to format a Java <code>java.time.LocalDateTime</code> into a JSON string that will match this format:</p>\n<p><code>2023-09-17T00:00:00.000+00:00</code></p>\n<p>I was looking at <code>DateTimeFormatter.ISO_DATE_TIME</code> defining my LocalDateTime with:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>date.plusDays(daysToAdd)\n   .atZone(ZoneOffset.UTC)\n   .format(DateTimeFormatter.ISO_DATE_TIME)\n</code></pre>\n<p>but that produces:</p>\n<p><code>2023-09-17T00:00:00Z</code></p>\n<p>Is there a predefined formatter for this date format? Do I need to create a custom DateTimeFormatter, if so could you provide an example for this format?</p>\n<h3>EDIT</h3>\n<p>I ended up using a formatter based on Mark Rotteveel's example solution and the subsequent comments to this question:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val jsonDateTimeFormatter: DateTimeFormatter = new DateTimeFormatterBuilder()\n    .append(DateTimeFormatter.ISO_LOCAL_DATE)\n    .appendLiteral('T')\n    .appendPattern(&quot;HH:mm:ss.SSS&quot;)\n    .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)\n    .toFormatter()\n</code></pre>\n"},{"tags":["java","reactjs","spring","docker-compose","create-react-app"],"owner":{"account_id":28780705,"reputation":1,"user_id":22042388,"display_name":"Svetlin Dimitrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697033446,"creation_date":1697033328,"question_id":77273837,"body_markdown":"When I run my main Docker Compose, everything builds successfully. However, the client inside the container is unable to make request to the server. This is the input from the browser `(http://server:8080/car/api/user/login net::ERR_NAME_NOT_RESOLVED.)`\r\n\r\nThis is my docker-compose file:\r\n\r\n    version: &#39;3.8&#39;\r\n    services:\r\n      server:\r\n        depends_on:\r\n          - mysql-db\r\n        restart: always\r\n        build:\r\n          dockerfile: DockerFile.server\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        environment:\r\n          DB_HOST: mysql-db\r\n          DB_USERNAME: root\r\n          DB_PASSWORD: 12345\r\n        networks:\r\n          - spring-app-mobilele\r\n        \r\n      mysql-db:\r\n        restart: always\r\n        image: mysql:latest\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        environment:\r\n          MYSQL_ROOT_PASSWORD: 12345\r\n          MYSQL_DATABASE: mobilele\r\n        volumes:\r\n          - mysql-data-mobilele-completed:/var/lib/mysql\r\n        networks:\r\n          - spring-app-mobilele\r\n    \r\n      client:\r\n        depends_on:\r\n          - server\r\n        build: \r\n          dockerfile: DockerFile.client\r\n        ports:\r\n          - &quot;3000:3000&quot;\r\n        networks:\r\n          - spring-app-mobilele\r\n        environment:\r\n          REACT_APP_HOST: server\r\n        \r\n    volumes:\r\n      mysql-data-mobilele-completed:\r\n    networks:\r\n      spring-app-mobilele:\r\n\r\nAs you can see i am mapping the host with the server name in the docker-compose.\r\n\r\nWhen I access the client&#39;s shell, I can reach the server using the ping command, confirming that networking is functioning correctly. When I examine the server logs, it appears that the server is not receiving any requests. This suggests that the issue is not on the server side; it does not appear to be related to the Docker Compose file, at least in my assessment. The problem likely lies within the React application. I just don&#39;t know what to do. This is my GitHub repo if someone want addition information (https://github.com/SvetlinDimitrov/Car-Web-Application)","title":"Client cannot connect to the server in the container","body":"<p>When I run my main Docker Compose, everything builds successfully. However, the client inside the container is unable to make request to the server. This is the input from the browser <code>(http://server:8080/car/api/user/login net::ERR_NAME_NOT_RESOLVED.)</code></p>\n<p>This is my docker-compose file:</p>\n<pre><code>version: '3.8'\nservices:\n  server:\n    depends_on:\n      - mysql-db\n    restart: always\n    build:\n      dockerfile: DockerFile.server\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      DB_HOST: mysql-db\n      DB_USERNAME: root\n      DB_PASSWORD: 12345\n    networks:\n      - spring-app-mobilele\n    \n  mysql-db:\n    restart: always\n    image: mysql:latest\n    ports:\n      - &quot;3306:3306&quot;\n    environment:\n      MYSQL_ROOT_PASSWORD: 12345\n      MYSQL_DATABASE: mobilele\n    volumes:\n      - mysql-data-mobilele-completed:/var/lib/mysql\n    networks:\n      - spring-app-mobilele\n\n  client:\n    depends_on:\n      - server\n    build: \n      dockerfile: DockerFile.client\n    ports:\n      - &quot;3000:3000&quot;\n    networks:\n      - spring-app-mobilele\n    environment:\n      REACT_APP_HOST: server\n    \nvolumes:\n  mysql-data-mobilele-completed:\nnetworks:\n  spring-app-mobilele:\n</code></pre>\n<p>As you can see i am mapping the host with the server name in the docker-compose.</p>\n<p>When I access the client's shell, I can reach the server using the ping command, confirming that networking is functioning correctly. When I examine the server logs, it appears that the server is not receiving any requests. This suggests that the issue is not on the server side; it does not appear to be related to the Docker Compose file, at least in my assessment. The problem likely lies within the React application. I just don't know what to do. This is my GitHub repo if someone want addition information (<a href=\"https://github.com/SvetlinDimitrov/Car-Web-Application\" rel=\"nofollow noreferrer\">https://github.com/SvetlinDimitrov/Car-Web-Application</a>)</p>\n"},{"tags":["java","c","math","java-8","java-17"],"comments":[{"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"score":9,"creation_date":1684223406,"post_id":76260498,"comment_id":134482190,"body_markdown":"Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1684223551,"post_id":76260498,"comment_id":134482223,"body_markdown":"Are you talking about [JEP 306](https://openjdk.org/jeps/306)?","body":"Are you talking about <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEP 306</a>?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1684223563,"post_id":76260498,"comment_id":134482228,"body_markdown":"how can math calculations have different valid results?","body":"how can math calculations have different valid results?"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1684224051,"post_id":76260498,"comment_id":134482332,"body_markdown":"@SharonBenAsher Older Java version used shortcuts/different calculations (at least on x86) for floating point operations for historic reasons (e.g. it was slower to use strictly conforming calculations on some hardware), and only formally complied with the IEEE-754 standard if you tagged the variables with the `strictfp` keyword. This changed in Java 17 with [JEP-306](https://openjdk.org/jeps/306), the default behaviour is now the same as the strictfp behaviour.","body":"@SharonBenAsher Older Java version used shortcuts/different calculations (at least on x86) for floating point operations for historic reasons (e.g. it was slower to use strictly conforming calculations on some hardware), and only formally complied with the IEEE-754 standard if you tagged the variables with the <code>strictfp</code> keyword. This changed in Java 17 with <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEP-306</a>, the default behaviour is now the same as the strictfp behaviour."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1684224103,"post_id":76260498,"comment_id":134482342,"body_markdown":"@SharonBenAsher Given the shortcuts used can result in slightly different values, and if you then consider compound error, the results between the old default behaviour and the strict behaviour can result in larger deviations.","body":"@SharonBenAsher Given the shortcuts used can result in slightly different values, and if you then consider compound error, the results between the old default behaviour and the strict behaviour can result in larger deviations."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1684224232,"post_id":76260498,"comment_id":134482371,"body_markdown":"OP, why can&#39;t you accept that the math behaviour changed and move on?","body":"OP, why can&#39;t you accept that the math behaviour changed and move on?"},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1684225546,"post_id":76260498,"comment_id":134482674,"body_markdown":"I added an example, and added a sentence to explain the motivation.","body":"I added an example, and added a sentence to explain the motivation."},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1684226244,"post_id":76260498,"comment_id":134482864,"body_markdown":"@MarkRotteveel the example provided is also valid for java 11, means: java 11 also produces a different result than java 8. So there was something introduced even earlier.","body":"@MarkRotteveel the example provided is also valid for java 11, means: java 11 also produces a different result than java 8. So there was something introduced even earlier."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1684226450,"post_id":76260498,"comment_id":134482913,"body_markdown":"You should be able to &quot;Any ideas how the same math behaviour can be achieved?&quot; You should be able to use `StrictMath` instead of `Math` and get the same results for both jdks.","body":"You should be able to &quot;Any ideas how the same math behaviour can be achieved?&quot; You should be able to use <code>StrictMath</code> instead of <code>Math</code> and get the same results for both jdks."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1684226527,"post_id":76260498,"comment_id":134482931,"body_markdown":"I&#39;m going to go out on a limb and guess that in Java 11 (or earlier) they made some changes which affected the non-strict floating point operations, and instead of changing it back (it likely still complied with the spec), they decided to ditch that non-strict behaviour entirely through JEP-306, so they now only have behaviour that complies with the IEEE-754 standard.","body":"I&#39;m going to go out on a limb and guess that in Java 11 (or earlier) they made some changes which affected the non-strict floating point operations, and instead of changing it back (it likely still complied with the spec), they decided to ditch that non-strict behaviour entirely through JEP-306, so they now only have behaviour that complies with the IEEE-754 standard."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1684226647,"post_id":76260498,"comment_id":134482954,"body_markdown":"@MarkRotteveel from your description it seems like `Math.exp` and `StrictMath.exp` should be the same for java 17 but different for java 8. That&#39;s not what I get though.","body":"@MarkRotteveel from your description it seems like <code>Math.exp</code> and <code>StrictMath.exp</code> should be the same for java 17 but different for java 8. That&#39;s not what I get though."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1684227100,"post_id":76260498,"comment_id":134483062,"body_markdown":"@matt Interesting, I&#39;m not sure if that is a bug or just a deviation allowed by the spec. Given `Math.exp(...)` delegates to `StrictMath.exp(...)`, I guess it should have the same result, but `Math.exp(...)` can be replaced with an intrinsic at runtime, while `StrictMath.exp(...)` cannot.","body":"@matt Interesting, I&#39;m not sure if that is a bug or just a deviation allowed by the spec. Given <code>Math.exp(...)</code> delegates to <code>StrictMath.exp(...)</code>, I guess it should have the same result, but <code>Math.exp(...)</code> can be replaced with an intrinsic at runtime, while <code>StrictMath.exp(...)</code> cannot."},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1684227560,"post_id":76260498,"comment_id":134483172,"body_markdown":"@matt yes, it is a good idea to use StrictMath in the future or any other math library which ensures consistency across versions and platforms. \nFor now it doesn&#39;t solve the problem because StrictMath doesn&#39;t deliver the same results like java 8 Math. Check with exp function and number 1.0d","body":"@matt yes, it is a good idea to use StrictMath in the future or any other math library which ensures consistency across versions and platforms.  For now it doesn&#39;t solve the problem because StrictMath doesn&#39;t deliver the same results like java 8 Math. Check with exp function and number 1.0d"},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1684227767,"post_id":76260498,"comment_id":134483225,"body_markdown":"@MarkRotteveel yes that&#39;s also my best guess...\nand yes, java.lang.Math delegates to java.lang.StrictMath, BUT because of intrinsic functions the jvm can do something different during runtime to improve performance (e.g. call native code) \nsee also this list: \nhttps://chriswhocodes.com/hotspot_intrinsics_openjdk8.html","body":"@MarkRotteveel yes that&#39;s also my best guess... and yes, java.lang.Math delegates to java.lang.StrictMath, BUT because of intrinsic functions the jvm can do something different during runtime to improve performance (e.g. call native code)  see also this list:  <a href=\"https://chriswhocodes.com/hotspot_intrinsics_openjdk8.html\" rel=\"nofollow noreferrer\">chriswhocodes.com/hotspot_intrinsics_openjdk8.html</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1684227839,"post_id":76260498,"comment_id":134483237,"body_markdown":"@Nik java 8 uses StrictMath for the Math.exp, I don&#39;t get how it can produce a different result, but I tried `a=1.0d;` and `Math.exp(a)` and `StrictMath.exp(a)` They&#39;re different. java 17 makes sense because it has the intrisic anotation. It&#39;s strange for java 8. So far though all three jdk&#39;s I try produce the same strict math results.","body":"@Nik java 8 uses StrictMath for the Math.exp, I don&#39;t get how it can produce a different result, but I tried <code>a=1.0d;</code> and <code>Math.exp(a)</code> and <code>StrictMath.exp(a)</code> They&#39;re different. java 17 makes sense because it has the intrisic anotation. It&#39;s strange for java 8. So far though all three jdk&#39;s I try produce the same strict math results."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1684228044,"post_id":76260498,"comment_id":134483291,"body_markdown":"Can not reproduce your problem with `1.0`. On my machine, `StrictMath` produces the same results from Java&#160;8 to Java&#160;21.","body":"Can not reproduce your problem with <code>1.0</code>. On my machine, <code>StrictMath</code> produces the same results from Java 8 to Java 21."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1684228123,"post_id":76260498,"comment_id":134483311,"body_markdown":"@Holger 1.0 gives different results for Math and StrictMath, that means java 21 StrictMath cannot be used for java 8 Math. The `0.003978202863827189` example gives a different result for java 17 Math and java 8 Math.","body":"@Holger 1.0 gives different results for Math and StrictMath, that means java 21 StrictMath cannot be used for java 8 Math. The <code>0.003978202863827189</code> example gives a different result for java 17 Math and java 8 Math."},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1684228149,"post_id":76260498,"comment_id":134483319,"body_markdown":"@Holger maybe a misunderstanding: StrictMath produces the same result across jdks, but not the same result like the Math counterpart. Example:\n\nJVM VERSION: 17.0.6\nInput number: 1.0\nMath result (java.lang.Math.exp):\n -&gt; 2.718281828459045\nStrictMath result (java.lang.StrictMath.exp):\n -&gt; 2.7182818284590455","body":"@Holger maybe a misunderstanding: StrictMath produces the same result across jdks, but not the same result like the Math counterpart. Example:  JVM VERSION: 17.0.6 Input number: 1.0 Math result (java.lang.Math.exp):  -&gt; 2.718281828459045 StrictMath result (java.lang.StrictMath.exp):  -&gt; 2.7182818284590455"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1684228208,"post_id":76260498,"comment_id":134483329,"body_markdown":"@matt Java 8 does not necessarily annotate hotspot intrinsic methods. Those methods can replace a pure java method. (And if you change one, but not the other...). Anyway, `Math.pow()` is a hotspot intrinsic since java 6.","body":"@matt Java 8 does not necessarily annotate hotspot intrinsic methods. Those methods can replace a pure java method. (And if you change one, but not the other...). Anyway, <code>Math.pow()</code> is a hotspot intrinsic since java 6."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1684228733,"post_id":76260498,"comment_id":134483475,"body_markdown":"I don’t understand where you’re heading at. If you want consistent results across all versions, use `StrictMath`. In all versions. Of course, it does not (always) produce the same results as `Math`. If it did, what would be the point of having two classes?","body":"I don’t understand where you’re heading at. If you want consistent results across all versions, use <code>StrictMath</code>. In all versions. Of course, it does not (always) produce the same results as <code>Math</code>. If it did, what would be the point of having two classes?"},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1684229853,"post_id":76260498,"comment_id":134483733,"body_markdown":"@Holger we have old code that uses java.lang.Math written for java 8. The same code must now run on java 17. The question is how can the same math behavior on java 8 be achieved on java 17 (or even other java versions). java.lang.Math could be only one part of the problem, e.g. I don&#39;t know if also math operators like +, -, /, * changed behaviour.\nThe question how to avoid these problems in the future (e.g. use StrictMath) is a different topic.","body":"@Holger we have old code that uses java.lang.Math written for java 8. The same code must now run on java 17. The question is how can the same math behavior on java 8 be achieved on java 17 (or even other java versions). java.lang.Math could be only one part of the problem, e.g. I don&#39;t know if also math operators like +, -, /, * changed behaviour. The question how to avoid these problems in the future (e.g. use StrictMath) is a different topic."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1684230168,"post_id":76260498,"comment_id":134483817,"body_markdown":"Did you consider building the JDK? Then you should see the options use to build the library.","body":"Did you consider building the JDK? Then you should see the options use to build the library."},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1684230741,"post_id":76260498,"comment_id":134483953,"body_markdown":"@matt I downloaded open-jdk8u and open-jdk17u source repositories. That&#39;s how I started my research and I already found out a lot, like the intrinsic functions and usage of fdlibm. But it&#39;s a huge code base and I couldn&#39;t figure out how the math parts are built yet.","body":"@matt I downloaded open-jdk8u and open-jdk17u source repositories. That&#39;s how I started my research and I already found out a lot, like the intrinsic functions and usage of fdlibm. But it&#39;s a huge code base and I couldn&#39;t figure out how the math parts are built yet."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":8,"creation_date":1684230806,"post_id":76260498,"comment_id":134483970,"body_markdown":"No, the arithmetic operations did not change their behavior. You tripped over [a single optimization](https://bugs.openjdk.org/browse/JDK-8132207) and if the application really depends on the last bit of a 64 bit floating point result, there’s a much deeper problem. And if you really consider changing the behavior of the JDK/JVM to be more feasible than fixing your own code, I’d rethink whether your code really “must now run on java 17”.","body":"No, the arithmetic operations did not change their behavior. You tripped over <a href=\"https://bugs.openjdk.org/browse/JDK-8132207\" rel=\"nofollow noreferrer\">a single optimization</a> and if the application really depends on the last bit of a 64 bit floating point result, there’s a much deeper problem. And if you really consider changing the behavior of the JDK/JVM to be more feasible than fixing your own code, I’d rethink whether your code really “must now run on java 17”."},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":1,"creation_date":1684232364,"post_id":76260498,"comment_id":134484301,"body_markdown":"Thanks for the hints (arithmetic operations, exp optimization)! Compound errors can amplify the problem. I don&#39;t want to build a special version of java 17 - a (JNI?) library with the same behaviour would be sufficient. And of course in the future the code must use something more portable - this is already planned. I&#39;m looking for a possibility to calculate old data with the old behaviour and newer data with the portable/standard behaviour. There are a lot reasons java 17 must be used in the future, e.g. overall performance, long term support/security patches, features to name a few...","body":"Thanks for the hints (arithmetic operations, exp optimization)! Compound errors can amplify the problem. I don&#39;t want to build a special version of java 17 - a (JNI?) library with the same behaviour would be sufficient. And of course in the future the code must use something more portable - this is already planned. I&#39;m looking for a possibility to calculate old data with the old behaviour and newer data with the portable/standard behaviour. There are a lot reasons java 17 must be used in the future, e.g. overall performance, long term support/security patches, features to name a few..."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1684236395,"post_id":76260498,"comment_id":134485185,"body_markdown":"@Nik yes, it is a monster, the ones I look at have pretty good instructions for building the jdk. I would suggest building it. Making sure it produces the results you want. You&#39;ll also be able to find the lib&#39;s you needs, and the commands used to build them with tools like `find` and `grep`","body":"@Nik yes, it is a monster, the ones I look at have pretty good instructions for building the jdk. I would suggest building it. Making sure it produces the results you want. You&#39;ll also be able to find the lib&#39;s you needs, and the commands used to build them with tools like <code>find</code> and <code>grep</code>"},{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1684238542,"post_id":76260498,"comment_id":134485680,"body_markdown":"You assume that the JDK 8 Math behavior is correct.  That might not be the case.  I&#39;d go for the JDK 17 StrictMath results.","body":"You assume that the JDK 8 Math behavior is correct.  That might not be the case.  I&#39;d go for the JDK 17 StrictMath results."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1684242026,"post_id":76260498,"comment_id":134486615,"body_markdown":"Writing that hypothetical JNI library still would be more effort than just using `StrictMath`. And why do you think about “performance, long term support/security patches, etc” when you’re going to throw it all away by introducing a new JNI library to your code that will kill the performance and likely introduce bugs and security holes.","body":"Writing that hypothetical JNI library still would be more effort than just using <code>StrictMath</code>. And why do you think about “performance, long term support/security patches, etc” when you’re going to throw it all away by introducing a new JNI library to your code that will kill the performance and likely introduce bugs and security holes."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":3,"creation_date":1684249956,"post_id":76260498,"comment_id":134488929,"body_markdown":"I’m voting to close this question because while there is an inconvenient here, there is no _problem_ here, IEEE floating points decimals are explicitly inaccurate, and code that relies on precision in the last few decimals but also uses IEEE floating point decimals is using the wrong datatype entirely: those decimals are guaranteed to almost never be right no matter which version of java (or any other programming language) you use. You don&#39;t try to fix Java 17, you should _really_ fix your code.","body":"I’m voting to close this question because while there is an inconvenient here, there is no <i>problem</i> here, IEEE floating points decimals are explicitly inaccurate, and code that relies on precision in the last few decimals but also uses IEEE floating point decimals is using the wrong datatype entirely: those decimals are guaranteed to almost never be right no matter which version of java (or any other programming language) you use. You don&#39;t try to fix Java 17, you should <i>really</i> fix your code."},{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1684250814,"post_id":76260498,"comment_id":134489200,"body_markdown":"I don&#39;t assume java 8 Math is &quot;correct&quot;. The discussion is not about mathematical correctness. And like I said StrictMath and/or other datatypes is the way to go in the future. I also don&#39;t try to &quot;fix&quot; java 17 everything is fine there. \nI&#39;m looking for a possibility to achieve the same outcome in the math computations for legacy code and data there already is. This old stuff will slowly fade away after some years. \nI couldn&#39;t figure out how to extract the math behaviour of the jdk source and therefore asked the community","body":"I don&#39;t assume java 8 Math is &quot;correct&quot;. The discussion is not about mathematical correctness. And like I said StrictMath and/or other datatypes is the way to go in the future. I also don&#39;t try to &quot;fix&quot; java 17 everything is fine there.  I&#39;m looking for a possibility to achieve the same outcome in the math computations for legacy code and data there already is. This old stuff will slowly fade away after some years.  I couldn&#39;t figure out how to extract the math behaviour of the jdk source and therefore asked the community"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1684256051,"post_id":76260498,"comment_id":134490554,"body_markdown":"There is an easy way to keep to the outcome of the legacy code the same. Keep running the legacy code with the legacy Java version. It’s ok, if you don’t want to touch that code (and rather let it fade away). But then, don’t touch the code.","body":"There is an easy way to keep to the outcome of the legacy code the same. Keep running the legacy code with the legacy Java version. It’s ok, if you don’t want to touch that code (and rather let it fade away). But then, don’t touch the code."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1684395133,"post_id":76260498,"comment_id":134512524,"body_markdown":"If you look at the included libraries in java 8 you can find that `liblcms.so` contains math symbols. One of them being `U exp@GLIBC_2.2.5`  There is also the StrictMath exp reference, but I think it is refering to the GLIBC one.","body":"If you look at the included libraries in java 8 you can find that <code>liblcms.so</code> contains math symbols. One of them being <code>U exp@GLIBC_2.2.5</code>  There is also the StrictMath exp reference, but I think it is refering to the GLIBC one."}],"answers":[{"tags":[],"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1684234025,"creation_date":1684234025,"answer_id":76262142,"question_id":76260498,"body_markdown":"When comparing floating point numbers, you should ALWAYS take the accuracy of the numbers involved into account. That accuracy is almost always much less than the accuracy of the floating point representation. So it should not matter for your results whether the mathematical operations have become a tiny bit more accurate.\r\n\r\nTherefore, when &quot;checking if results were calculated correctly&quot;, take the accuracy of the results into account.\r\n","title":"How can the Math behaviour of Java 8 be achieved in Java 17?","body":"<p>When comparing floating point numbers, you should ALWAYS take the accuracy of the numbers involved into account. That accuracy is almost always much less than the accuracy of the floating point representation. So it should not matter for your results whether the mathematical operations have become a tiny bit more accurate.</p>\n<p>Therefore, when &quot;checking if results were calculated correctly&quot;, take the accuracy of the results into account.</p>\n"},{"tags":[],"owner":{"account_id":4620088,"reputation":106,"user_id":3745418,"display_name":"user3745418"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697033176,"creation_date":1697033176,"answer_id":77273821,"question_id":76260498,"body_markdown":"We had a similar problem with Math.exp() when switching from Oracle JDK 8 to Zulu JDK 11.\r\n\r\nSolution which worked was replacing Math.exp() with Apache Commons Math library call. Results matched Java 8 (commons-math3-3.4.1).\r\n\r\nNot sure about performance - it was not that critical in our case.","title":"How can the Math behaviour of Java 8 be achieved in Java 17?","body":"<p>We had a similar problem with Math.exp() when switching from Oracle JDK 8 to Zulu JDK 11.</p>\n<p>Solution which worked was replacing Math.exp() with Apache Commons Math library call. Results matched Java 8 (commons-math3-3.4.1).</p>\n<p>Not sure about performance - it was not that critical in our case.</p>\n"}],"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"comment_count":32,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":2,"score":3,"last_activity_date":1697033176,"creation_date":1684223160,"question_id":76260498,"body_markdown":"We have an growing codebase which also involves doing math calculations on data and store them historically. Now we need to move on and migrate from Java 8 to Java 17 but we noticed the calculation results are different in Java 17! The reason why we try to achieve the same calculation behaviour is because of possible recalculations and historical comparison of data (check if results were calculated correctly in terms of new calculation equals the saved values).\r\n\r\nAfter a lot of research I already know, that Java 8 used optimizations like use more floating precision if available on a system. They use intrinsic functions which modify math operations during runtime for performance improvements. And they rely on fdlibm 5.3, a native c math library. In Java 17 they ported the fdlibm from c to java and use it at least in StrictMath, but still there are intrinsic functions which use native code. \r\n\r\nI think the key to achieve what I am trying is to understand how and with which options they compiled the native math code the intrinsic functions use.\r\n\r\nI built a JNI library which delegates functions like exp, log, sqrt etc. to native fdlibm. I tried different optimizations like -Ofast, but still the results are not exactly the same. \r\n\r\nMaybe the code for operators like division, multiply, plus and minus was also changed?\r\n\r\nI ran the tests on the same system so it should be comparable.\r\n\r\n**Any ideas how the math behaviour of java 8 can be extracted to use it for legacy calculations in java 17?**\r\n\r\n\r\nExample of different computation with Math.exp:\r\n\r\n    JVM VERSION: 1.8.0_362 \r\n    --- Input number: 0.003978202863827189 \r\n    java.lang.Math.exp       : 1.0039861264165226 \r\n    \r\n    JVM VERSION: 17.0.6\r\n    --- Input number: 0.003978202863827189 \r\n    java.lang.Math.exp       : 1.0039861264165224 \r\n\r\nExample Code for the output above:\r\n\r\n    public class Exp {\r\n    \r\n        public static void main(String[] args) {\r\n    \t\tSystem.out.println(System.getProperty(&quot;java.library.path&quot;));\r\n    \t\t\r\n    \t\tdouble input = Double.valueOf(args[0]);\r\n    \r\n    \t\tSystem.out.println(&quot;JVM VERSION: &quot; + System.getProperty(&quot;java.version&quot;));\r\n    \t\tSystem.out.println(&quot;---&quot;);\r\n    \t\tSystem.out.println(&quot;Input number: &quot; + input);\r\n    \t\t\t\r\n    \t\tSystem.out.println(&quot;Math result (java.lang.Math.exp):&quot;);\r\n    \t\tSystem.out.println(&quot; -&gt; &quot; + Math.exp(input)); \r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"How can the Math behaviour of Java 8 be achieved in Java 17?","body":"<p>We have an growing codebase which also involves doing math calculations on data and store them historically. Now we need to move on and migrate from Java 8 to Java 17 but we noticed the calculation results are different in Java 17! The reason why we try to achieve the same calculation behaviour is because of possible recalculations and historical comparison of data (check if results were calculated correctly in terms of new calculation equals the saved values).</p>\n<p>After a lot of research I already know, that Java 8 used optimizations like use more floating precision if available on a system. They use intrinsic functions which modify math operations during runtime for performance improvements. And they rely on fdlibm 5.3, a native c math library. In Java 17 they ported the fdlibm from c to java and use it at least in StrictMath, but still there are intrinsic functions which use native code.</p>\n<p>I think the key to achieve what I am trying is to understand how and with which options they compiled the native math code the intrinsic functions use.</p>\n<p>I built a JNI library which delegates functions like exp, log, sqrt etc. to native fdlibm. I tried different optimizations like -Ofast, but still the results are not exactly the same.</p>\n<p>Maybe the code for operators like division, multiply, plus and minus was also changed?</p>\n<p>I ran the tests on the same system so it should be comparable.</p>\n<p><strong>Any ideas how the math behaviour of java 8 can be extracted to use it for legacy calculations in java 17?</strong></p>\n<p>Example of different computation with Math.exp:</p>\n<pre><code>JVM VERSION: 1.8.0_362 \n--- Input number: 0.003978202863827189 \njava.lang.Math.exp       : 1.0039861264165226 \n\nJVM VERSION: 17.0.6\n--- Input number: 0.003978202863827189 \njava.lang.Math.exp       : 1.0039861264165224 \n</code></pre>\n<p>Example Code for the output above:</p>\n<pre><code>public class Exp {\n\n    public static void main(String[] args) {\n        System.out.println(System.getProperty(&quot;java.library.path&quot;));\n        \n        double input = Double.valueOf(args[0]);\n\n        System.out.println(&quot;JVM VERSION: &quot; + System.getProperty(&quot;java.version&quot;));\n        System.out.println(&quot;---&quot;);\n        System.out.println(&quot;Input number: &quot; + input);\n            \n        System.out.println(&quot;Math result (java.lang.Math.exp):&quot;);\n        System.out.println(&quot; -&gt; &quot; + Math.exp(input)); \n\n    }\n}\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":27027749,"reputation":31,"user_id":20584711,"display_name":"It is what it is"},"score":0,"creation_date":1697033378,"post_id":77273045,"comment_id":136228794,"body_markdown":"The problem I was having and a solution are explained here: https://stackoverflow.com/questions/52162518/mapstruct-list-mapping-is-not-using-single-mapping-when-annotated-by-named","body":"The problem I was having and a solution are explained here: <a href=\"https://stackoverflow.com/questions/52162518/mapstruct-list-mapping-is-not-using-single-mapping-when-annotated-by-named\" title=\"mapstruct list mapping is not using single mapping when annotated by named\">stackoverflow.com/questions/52162518/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29596343,"reputation":56,"user_id":22682764,"display_name":"Vindurrin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697028173,"creation_date":1697028173,"answer_id":77273168,"question_id":77273045,"body_markdown":"Have you explicitly mapped from `BusinessUnit` to `BusinessUnitDTO`? Try adding a method in `BusinessUnitMapper` to do this - that allows MapStruct to map `BusinessUnit` to `BusinessUnitDTO` when it encounters that type during the conversion from `Role` to `RoleDTO`. The explicit mapping should resolve the issue. Remember to do the same for the reverse mapping. If necessary, you can add a corresponding method to `RoleMapper`.","title":"MapStruct - working in one place but not the other","body":"<p>Have you explicitly mapped from <code>BusinessUnit</code> to <code>BusinessUnitDTO</code>? Try adding a method in <code>BusinessUnitMapper</code> to do this - that allows MapStruct to map <code>BusinessUnit</code> to <code>BusinessUnitDTO</code> when it encounters that type during the conversion from <code>Role</code> to <code>RoleDTO</code>. The explicit mapping should resolve the issue. Remember to do the same for the reverse mapping. If necessary, you can add a corresponding method to <code>RoleMapper</code>.</p>\n"}],"owner":{"account_id":27027749,"reputation":31,"user_id":20584711,"display_name":"It is what it is"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697032877,"creation_date":1697027079,"question_id":77273045,"body_markdown":"I&#39;ve been having problems with mapstruct the last few days. It was supposed to be a simple job until something weird started happening.\r\n\r\nI have BusinessUnit (BU) , UserBusinessUnitRole (UBUR) and Role.\r\n\r\nUBUR has Role and BU. Role has BU. BU doesn&#39;t have anything. \r\n\r\nI&#39;m trying to map them. I&#39;ve had UBUR successfully implemented for a lot of time. And cuz of changes in the Role I had to re-implement the role mapper (role didn&#39;t have a BU before that). So I start doing it and now I get a weird exception. I&#39;ll show first the BU mapper, entity and dto. Then the UBUR and finally the Role (with which I&#39;m having problems)\r\n\r\nBU Entity:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;BusinessUnits&quot;)\r\npublic class BusinessUnit {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @NotNull\r\n    private TypeName type;\r\n\r\n    @Nullable\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;CompaniesId&quot;, referencedColumnName = &quot;Id&quot;)\r\n    @Cascade(CascadeType.MERGE)\r\n    private BusinessUnit company;\r\n\r\n    @Nullable\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;ProjectsId&quot;, referencedColumnName = &quot;Id&quot;)\r\n    @Cascade(CascadeType.MERGE)\r\n    private BusinessUnit project;\r\n\r\n    @Nullable\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;WhiteboardsId&quot;, referencedColumnName = &quot;Id&quot;)\r\n    @Cascade(CascadeType.MERGE)\r\n    private Whiteboard whiteboard;\r\n\r\n   //constructors, getters and setters\r\n\r\n```\r\n\r\nBU DTOs: (Each record is in a different file. Just put it one here to make the question &quot;shorter&quot;)\r\n\r\n```java\r\n@JsonDeserialize(using = BusinessUnitDTODeserializer.class)\r\npublic interface BusinessUnitDTO {\r\n\r\n    Long id();\r\n\r\n    String name();\r\n\r\n    TypeName type();\r\n\r\n    CompanyDTO company();\r\n\r\n    ProjectDTO project();\r\n\r\n    WhiteboardDTO whiteboard();\r\n\r\n}\r\n\r\npublic record CompanyDTO(\r\n        Long id,\r\n\r\n        @NotNull\r\n        @NotBlank\r\n        String name,\r\n\r\n        @NotNull\r\n        TypeName type,\r\n\r\n        @Nullable\r\n        WhiteboardDTO whiteboard\r\n\r\n) implements BusinessUnitDTO{\r\n\r\n        public CompanyDTO company(){\r\n                return null;\r\n        }\r\n\r\n        public ProjectDTO project(){\r\n                return null;\r\n        }\r\n\r\n}\r\n\r\npublic record ProjectDTO(\r\n        Long id,\r\n\r\n        @NotNull\r\n        @NotBlank\r\n        String name,\r\n\r\n        @NotNull\r\n        TypeName type,\r\n\r\n        @NotNull\r\n        CompanyDTO company,\r\n\r\n        @Nullable\r\n        WhiteboardDTO whiteboard\r\n\r\n) implements BusinessUnitDTO{\r\n\r\n        public ProjectDTO project(){\r\n                return null;\r\n        }\r\n}\r\n\r\npublic record TeamDTO(\r\n        Long id,\r\n\r\n        @NotNull\r\n        @NotBlank\r\n        String name,\r\n\r\n        @NotNull\r\n        TypeName type,\r\n\r\n        @NotNull\r\n        CompanyDTO company,\r\n\r\n        @NotNull\r\n        ProjectDTO project,\r\n\r\n        @Nullable\r\n        WhiteboardDTO whiteboard\r\n\r\n) implements BusinessUnitDTO{\r\n}\r\n```\r\n\r\nand finally Mapper:\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = {WhiteboardMapper.class}, collectionMappingStrategy = CollectionMappingStrategy.TARGET_IMMUTABLE)\r\n@Validated\r\npublic interface BusinessUnitMapper {\r\n\r\n    @Named(&quot;toBusinessUnitDTO&quot;)\r\n    default BusinessUnitDTO toBusinessUnitDTO(@Valid BusinessUnit businessUnit) {\r\n        return switch (businessUnit.getType()) {\r\n            case COMPANY -&gt; toCompanyDTO(businessUnit);\r\n            case PROJECT -&gt; toProjectDTO(businessUnit);\r\n            case TEAM -&gt; toTeamDTO(businessUnit);\r\n        };\r\n    }\r\n\r\n    @Named(&quot;toBusinessUnitDTOs&quot;)\r\n    default List&lt;BusinessUnitDTO&gt; toBusinessUnitDTOs(@Valid Iterable&lt;BusinessUnit&gt; businessUnits) {\r\n        if(businessUnits == null){\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        return StreamSupport.stream(businessUnits.spliterator(), false)\r\n                .map(this::toBusinessUnitDTO)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    @Named(&quot;toCompanyDTO&quot;)\r\n    CompanyDTO toCompanyDTO(@Valid BusinessUnit businessUnit);\r\n\r\n    @Named(&quot;toProjectDTO&quot;)\r\n    @Mapping(target = &quot;company&quot;, qualifiedByName = {&quot;toCompanyDTO&quot;})\r\n    ProjectDTO toProjectDTO(@Valid BusinessUnit businessUnit);\r\n\r\n    @Named(&quot;toTeamDTO&quot;)\r\n    @Mapping(target = &quot;company&quot;, qualifiedByName = {&quot;toCompanyDTO&quot;})\r\n    @Mapping(target = &quot;project&quot;, qualifiedByName = {&quot;toProjectDTO&quot;})\r\n    TeamDTO toTeamDTO(@Valid BusinessUnit businessUnit);\r\n\r\n    @Named(&quot;toBusinessUnitEntity&quot;)\r\n    default BusinessUnit toBusinessUnitEntity(@Valid BusinessUnitDTO businessUnitDTO) {\r\n        return switch (businessUnitDTO.type()) {\r\n            case COMPANY -&gt; toEntityFromCompanyDTO((CompanyDTO) businessUnitDTO);\r\n            case PROJECT -&gt; toEntityFromProjectDTO((ProjectDTO) businessUnitDTO);\r\n            case TEAM -&gt; toEntityFromTeamDTO((TeamDTO) businessUnitDTO);\r\n        };\r\n    }\r\n\r\n    @Named(&quot;toBusinessUnitEntities&quot;)\r\n    default List&lt;BusinessUnit&gt; toBusinessUnitEntities(@Valid Iterable&lt;BusinessUnitDTO&gt; businessUnitDTOs) {\r\n        if(businessUnitDTOs == null){\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        return StreamSupport.stream(businessUnitDTOs.spliterator(), false)\r\n                .map(this::toBusinessUnitEntity)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    @Mapping(target = &quot;company&quot;, ignore = true)\r\n    @Mapping(target = &quot;project&quot;, ignore = true)\r\n    BusinessUnit toEntityFromCompanyDTO(@Valid CompanyDTO companyDTO);\r\n\r\n    @Mapping(target = &quot;project&quot;, ignore = true)\r\n    BusinessUnit toEntityFromProjectDTO(@Valid ProjectDTO projectDTO);\r\n\r\n    BusinessUnit toEntityFromTeamDTO(@Valid TeamDTO teamDTO);\r\n\r\n}\r\n```\r\n\r\nUBUR entity: \r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;UsersBusinessUnitsRoles&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;UsersId&quot;, &quot;BusinessUnitsId&quot;, &quot;RolesId&quot;})})\r\npublic class UserBusinessUnitRole {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;UsersId&quot;, referencedColumnName = &quot;Id&quot;)\r\n    @Cascade(CascadeType.MERGE)\r\n    private User user;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;BusinessUnitsId&quot;, referencedColumnName = &quot;Id&quot;)\r\n    @Cascade(CascadeType.MERGE)\r\n    private BusinessUnit businessUnit;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;RolesId&quot;, referencedColumnName = &quot;Id&quot;)\r\n    @Cascade(CascadeType.MERGE)\r\n    private Role role;\r\n    \r\n    //constructors, getters and setters\r\n\r\n```\r\n\r\nUBUR DTO\r\n\r\n```java\r\npublic record UserBusinessUnitRoleDTO(\r\n\r\n        Long id,\r\n\r\n        @NotNull\r\n        UserWithoutPasswordDTO user,\r\n\r\n        @NotNull\r\n        BusinessUnitDTO businessUnit,\r\n\r\n        @NotNull\r\n        RoleDTO role\r\n) {\r\n\r\n}\r\n```\r\n\r\nUBUR Mapper: \r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = {UserMapper.class, BusinessUnitMapper.class, RoleMapper.class}, collectionMappingStrategy = CollectionMappingStrategy.TARGET_IMMUTABLE)\r\n@Validated\r\npublic interface UsersBusinessUnitsRolesMapper {\r\n\r\n    @Mapping(target = &quot;user&quot;, qualifiedByName = {&quot;toUserWithoutPasswordDTO&quot;})\r\n    @Mapping(target = &quot;role&quot;, qualifiedByName = {&quot;toRoleDTO&quot;})\r\n    @Mapping(target = &quot;businessUnit&quot;, qualifiedByName = {&quot;toBusinessUnitDTO&quot;})\r\n    UserBusinessUnitRoleDTO toDTO(@Valid UserBusinessUnitRole userBusinessUnitRole);\r\n\r\n    List&lt;UserBusinessUnitRoleDTO&gt; toDTO(@Valid Iterable&lt;UserBusinessUnitRole&gt; usersBusinessUnitsRoles);\r\n\r\n    @Mapping(target = &quot;user&quot;, qualifiedByName = {&quot;toUserEntity&quot;})\r\n    @Mapping(target = &quot;role&quot;, qualifiedByName = {&quot;toRoleEntity&quot;})\r\n    @Mapping(target = &quot;businessUnit&quot;, qualifiedByName = {&quot;toBusinessUnitEntity&quot;})\r\n    UserBusinessUnitRole toEntity(@Valid UserWithPassBusinessUnitRoleDTO userWithPassBusinessUnitRoleDTO);\r\n\r\n    List&lt;UserBusinessUnitRole&gt; toEntity(@Valid Iterable&lt;UserWithPassBusinessUnitRoleDTO&gt; usersWithPassBusinessUnitsRolesDTOs);\r\n\r\n}\r\n```\r\n\r\nAnd here comes the baffling part.\r\n\r\nRole Entity:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;Roles&quot;)\r\npublic class Role {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @NotNull\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name= &quot;RolesAuthorities&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;RolesId&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;AuthoritiesId&quot;))\r\n    private List&lt;Authority&gt; authorities;\r\n\r\n    @NotNull\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;BusinessUnitsId&quot;)\r\n    @Cascade(CascadeType.MERGE)\r\n    private BusinessUnit businessUnit;\r\n\r\n    //constructors, getters and setters\r\n```\r\n\r\nRole DTO:\r\n\r\n```java\r\npublic record RoleDTO (\r\n        Long id,\r\n\r\n        @NotNull\r\n        String name,\r\n\r\n        List&lt;Authority&gt; authorities,\r\n\r\n        @NotNull\r\n        BusinessUnitDTO businessUnit\r\n) {\r\n}\r\n```\r\n\r\nRole Mapper:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = {AuthorityMapper.class, BusinessUnitMapper.class})\r\n@Validated\r\npublic interface RoleMapper {\r\n\r\n    @Named(&quot;toRoleDTO&quot;)\r\n    @Mapping(target = &quot;businessUnit&quot;, qualifiedByName = {&quot;toBusinessUnitDTO&quot;})\r\n    RoleDTO toDTO(@Valid Role role);\r\n\r\n    List&lt;RoleDTO&gt; toDTO(@Valid Iterable&lt;Role&gt; roles);\r\n\r\n    @Named(&quot;toRoleEntity&quot;)\r\n    @Mapping(target = &quot;businessUnit&quot;, qualifiedByName = {&quot;toBusinessUnitEntity&quot;})\r\n    Role toEntity(@Valid RoleDTO role);\r\n\r\n    List&lt;Role&gt; toEntity(@Valid Iterable&lt;RoleDTO&gt; roles);\r\n\r\n}\r\n\r\n```\r\n\r\nI mvn clean before each &quot;try&quot;.\r\nAnd here&#39;s the problem. During compilation this line (`List&lt;RoleDTO&gt; toDTO(@Valid Iterable&lt;Role&gt; roles);`) throws two exceptions: \r\n\r\n`java: The return type BusinessUnitDTO is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.`\r\n\r\n\r\n`java: Can&#39;t map property &quot;BusinessUnit role.businessUnit&quot; to &quot;BusinessUnitDTO roleDTO.businessUnit&quot;. Consider to declare/implement a mapping method: &quot;BusinessUnitDTO map(BusinessUnit value)&quot;.`\r\n\r\nIf I remove the mentioned line everything compiles.\r\n1. The implementation is basically a for loop calling the single method n times\r\n2. Pretty much the same thing works in the UBUR mapper\r\n\r\nWhy does it throw the exception on the list method and not the single one?\r\nWhat is the problem? Why is it working in one place but not the other?\r\n\r\nAlso tried upgrading from mapstruct v1.5.3.Final to v.1.5.5.Final. Didn&#39;t help.\r\n\r\nFound something (I think). MapStruct is going out of it&#39;s way to do what I don&#39;t tell it to do. \r\nSo I went into the implementations map struct makes. And I see what I expect from the UBUR mapper. Then I got into the Role implementation and see something weird\r\n\r\n```java\r\nprotected BusinessUnit businessUnitDTOToBusinessUnit(BusinessUnitDTO businessUnitDTO) {\r\n        if ( businessUnitDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        BusinessUnit businessUnit = new BusinessUnit();\r\n\r\n        return businessUnit;\r\n    }\r\n\r\n    protected Role roleDTOToRole(RoleDTO roleDTO) {\r\n        if ( roleDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        Role role = new Role();\r\n\r\n        role.setId( roleDTO.id() );\r\n        role.setName( roleDTO.name() );\r\n        List&lt;Authority&gt; list = roleDTO.authorities();\r\n        if ( list != null ) {\r\n            role.setAuthorities( new ArrayList&lt;Authority&gt;( list ) );\r\n        }\r\n        role.setBusinessUnit( businessUnitDTOToBusinessUnit( roleDTO.businessUnit() ) );\r\n\r\n        return role;\r\n    }\r\n```\r\n\r\nso the 2nd list method (dto to entity) calls roleDTOToRole which calls businessUnitDTOToBusinessUnit. The normal methods are calling their parent\r\nso for some reason I&#39;m telling mapstruct to use x method but it tries to create it&#39;s own implementation for some reason (instead of using the already created one) and miserably fails.\r\n\r\nOk it&#39;s cuz of the @Named annotation. Now just have to figure out how to tell mapstruct to not care about it.","title":"MapStruct - working in one place but not the other","body":"<p>I've been having problems with mapstruct the last few days. It was supposed to be a simple job until something weird started happening.</p>\n<p>I have BusinessUnit (BU) , UserBusinessUnitRole (UBUR) and Role.</p>\n<p>UBUR has Role and BU. Role has BU. BU doesn't have anything.</p>\n<p>I'm trying to map them. I've had UBUR successfully implemented for a lot of time. And cuz of changes in the Role I had to re-implement the role mapper (role didn't have a BU before that). So I start doing it and now I get a weird exception. I'll show first the BU mapper, entity and dto. Then the UBUR and finally the Role (with which I'm having problems)</p>\n<p>BU Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;BusinessUnits&quot;)\npublic class BusinessUnit {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @NotBlank\n    private String name;\n\n    @NotNull\n    private TypeName type;\n\n    @Nullable\n    @ManyToOne\n    @JoinColumn(name = &quot;CompaniesId&quot;, referencedColumnName = &quot;Id&quot;)\n    @Cascade(CascadeType.MERGE)\n    private BusinessUnit company;\n\n    @Nullable\n    @ManyToOne\n    @JoinColumn(name = &quot;ProjectsId&quot;, referencedColumnName = &quot;Id&quot;)\n    @Cascade(CascadeType.MERGE)\n    private BusinessUnit project;\n\n    @Nullable\n    @ManyToOne\n    @JoinColumn(name = &quot;WhiteboardsId&quot;, referencedColumnName = &quot;Id&quot;)\n    @Cascade(CascadeType.MERGE)\n    private Whiteboard whiteboard;\n\n   //constructors, getters and setters\n\n</code></pre>\n<p>BU DTOs: (Each record is in a different file. Just put it one here to make the question &quot;shorter&quot;)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize(using = BusinessUnitDTODeserializer.class)\npublic interface BusinessUnitDTO {\n\n    Long id();\n\n    String name();\n\n    TypeName type();\n\n    CompanyDTO company();\n\n    ProjectDTO project();\n\n    WhiteboardDTO whiteboard();\n\n}\n\npublic record CompanyDTO(\n        Long id,\n\n        @NotNull\n        @NotBlank\n        String name,\n\n        @NotNull\n        TypeName type,\n\n        @Nullable\n        WhiteboardDTO whiteboard\n\n) implements BusinessUnitDTO{\n\n        public CompanyDTO company(){\n                return null;\n        }\n\n        public ProjectDTO project(){\n                return null;\n        }\n\n}\n\npublic record ProjectDTO(\n        Long id,\n\n        @NotNull\n        @NotBlank\n        String name,\n\n        @NotNull\n        TypeName type,\n\n        @NotNull\n        CompanyDTO company,\n\n        @Nullable\n        WhiteboardDTO whiteboard\n\n) implements BusinessUnitDTO{\n\n        public ProjectDTO project(){\n                return null;\n        }\n}\n\npublic record TeamDTO(\n        Long id,\n\n        @NotNull\n        @NotBlank\n        String name,\n\n        @NotNull\n        TypeName type,\n\n        @NotNull\n        CompanyDTO company,\n\n        @NotNull\n        ProjectDTO project,\n\n        @Nullable\n        WhiteboardDTO whiteboard\n\n) implements BusinessUnitDTO{\n}\n</code></pre>\n<p>and finally Mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = {WhiteboardMapper.class}, collectionMappingStrategy = CollectionMappingStrategy.TARGET_IMMUTABLE)\n@Validated\npublic interface BusinessUnitMapper {\n\n    @Named(&quot;toBusinessUnitDTO&quot;)\n    default BusinessUnitDTO toBusinessUnitDTO(@Valid BusinessUnit businessUnit) {\n        return switch (businessUnit.getType()) {\n            case COMPANY -&gt; toCompanyDTO(businessUnit);\n            case PROJECT -&gt; toProjectDTO(businessUnit);\n            case TEAM -&gt; toTeamDTO(businessUnit);\n        };\n    }\n\n    @Named(&quot;toBusinessUnitDTOs&quot;)\n    default List&lt;BusinessUnitDTO&gt; toBusinessUnitDTOs(@Valid Iterable&lt;BusinessUnit&gt; businessUnits) {\n        if(businessUnits == null){\n            return new ArrayList&lt;&gt;();\n        }\n\n        return StreamSupport.stream(businessUnits.spliterator(), false)\n                .map(this::toBusinessUnitDTO)\n                .collect(Collectors.toList());\n    }\n\n    @Named(&quot;toCompanyDTO&quot;)\n    CompanyDTO toCompanyDTO(@Valid BusinessUnit businessUnit);\n\n    @Named(&quot;toProjectDTO&quot;)\n    @Mapping(target = &quot;company&quot;, qualifiedByName = {&quot;toCompanyDTO&quot;})\n    ProjectDTO toProjectDTO(@Valid BusinessUnit businessUnit);\n\n    @Named(&quot;toTeamDTO&quot;)\n    @Mapping(target = &quot;company&quot;, qualifiedByName = {&quot;toCompanyDTO&quot;})\n    @Mapping(target = &quot;project&quot;, qualifiedByName = {&quot;toProjectDTO&quot;})\n    TeamDTO toTeamDTO(@Valid BusinessUnit businessUnit);\n\n    @Named(&quot;toBusinessUnitEntity&quot;)\n    default BusinessUnit toBusinessUnitEntity(@Valid BusinessUnitDTO businessUnitDTO) {\n        return switch (businessUnitDTO.type()) {\n            case COMPANY -&gt; toEntityFromCompanyDTO((CompanyDTO) businessUnitDTO);\n            case PROJECT -&gt; toEntityFromProjectDTO((ProjectDTO) businessUnitDTO);\n            case TEAM -&gt; toEntityFromTeamDTO((TeamDTO) businessUnitDTO);\n        };\n    }\n\n    @Named(&quot;toBusinessUnitEntities&quot;)\n    default List&lt;BusinessUnit&gt; toBusinessUnitEntities(@Valid Iterable&lt;BusinessUnitDTO&gt; businessUnitDTOs) {\n        if(businessUnitDTOs == null){\n            return new ArrayList&lt;&gt;();\n        }\n\n        return StreamSupport.stream(businessUnitDTOs.spliterator(), false)\n                .map(this::toBusinessUnitEntity)\n                .collect(Collectors.toList());\n    }\n\n    @Mapping(target = &quot;company&quot;, ignore = true)\n    @Mapping(target = &quot;project&quot;, ignore = true)\n    BusinessUnit toEntityFromCompanyDTO(@Valid CompanyDTO companyDTO);\n\n    @Mapping(target = &quot;project&quot;, ignore = true)\n    BusinessUnit toEntityFromProjectDTO(@Valid ProjectDTO projectDTO);\n\n    BusinessUnit toEntityFromTeamDTO(@Valid TeamDTO teamDTO);\n\n}\n</code></pre>\n<p>UBUR entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;UsersBusinessUnitsRoles&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;UsersId&quot;, &quot;BusinessUnitsId&quot;, &quot;RolesId&quot;})})\npublic class UserBusinessUnitRole {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;UsersId&quot;, referencedColumnName = &quot;Id&quot;)\n    @Cascade(CascadeType.MERGE)\n    private User user;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;BusinessUnitsId&quot;, referencedColumnName = &quot;Id&quot;)\n    @Cascade(CascadeType.MERGE)\n    private BusinessUnit businessUnit;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;RolesId&quot;, referencedColumnName = &quot;Id&quot;)\n    @Cascade(CascadeType.MERGE)\n    private Role role;\n    \n    //constructors, getters and setters\n\n</code></pre>\n<p>UBUR DTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record UserBusinessUnitRoleDTO(\n\n        Long id,\n\n        @NotNull\n        UserWithoutPasswordDTO user,\n\n        @NotNull\n        BusinessUnitDTO businessUnit,\n\n        @NotNull\n        RoleDTO role\n) {\n\n}\n</code></pre>\n<p>UBUR Mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = {UserMapper.class, BusinessUnitMapper.class, RoleMapper.class}, collectionMappingStrategy = CollectionMappingStrategy.TARGET_IMMUTABLE)\n@Validated\npublic interface UsersBusinessUnitsRolesMapper {\n\n    @Mapping(target = &quot;user&quot;, qualifiedByName = {&quot;toUserWithoutPasswordDTO&quot;})\n    @Mapping(target = &quot;role&quot;, qualifiedByName = {&quot;toRoleDTO&quot;})\n    @Mapping(target = &quot;businessUnit&quot;, qualifiedByName = {&quot;toBusinessUnitDTO&quot;})\n    UserBusinessUnitRoleDTO toDTO(@Valid UserBusinessUnitRole userBusinessUnitRole);\n\n    List&lt;UserBusinessUnitRoleDTO&gt; toDTO(@Valid Iterable&lt;UserBusinessUnitRole&gt; usersBusinessUnitsRoles);\n\n    @Mapping(target = &quot;user&quot;, qualifiedByName = {&quot;toUserEntity&quot;})\n    @Mapping(target = &quot;role&quot;, qualifiedByName = {&quot;toRoleEntity&quot;})\n    @Mapping(target = &quot;businessUnit&quot;, qualifiedByName = {&quot;toBusinessUnitEntity&quot;})\n    UserBusinessUnitRole toEntity(@Valid UserWithPassBusinessUnitRoleDTO userWithPassBusinessUnitRoleDTO);\n\n    List&lt;UserBusinessUnitRole&gt; toEntity(@Valid Iterable&lt;UserWithPassBusinessUnitRoleDTO&gt; usersWithPassBusinessUnitsRolesDTOs);\n\n}\n</code></pre>\n<p>And here comes the baffling part.</p>\n<p>Role Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;Roles&quot;)\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @NotBlank\n    private String name;\n\n    @NotNull\n    @ManyToMany\n    @JoinTable(\n            name= &quot;RolesAuthorities&quot;,\n            joinColumns = @JoinColumn(name = &quot;RolesId&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;AuthoritiesId&quot;))\n    private List&lt;Authority&gt; authorities;\n\n    @NotNull\n    @ManyToOne\n    @JoinColumn(name = &quot;BusinessUnitsId&quot;)\n    @Cascade(CascadeType.MERGE)\n    private BusinessUnit businessUnit;\n\n    //constructors, getters and setters\n</code></pre>\n<p>Role DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record RoleDTO (\n        Long id,\n\n        @NotNull\n        String name,\n\n        List&lt;Authority&gt; authorities,\n\n        @NotNull\n        BusinessUnitDTO businessUnit\n) {\n}\n</code></pre>\n<p>Role Mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = {AuthorityMapper.class, BusinessUnitMapper.class})\n@Validated\npublic interface RoleMapper {\n\n    @Named(&quot;toRoleDTO&quot;)\n    @Mapping(target = &quot;businessUnit&quot;, qualifiedByName = {&quot;toBusinessUnitDTO&quot;})\n    RoleDTO toDTO(@Valid Role role);\n\n    List&lt;RoleDTO&gt; toDTO(@Valid Iterable&lt;Role&gt; roles);\n\n    @Named(&quot;toRoleEntity&quot;)\n    @Mapping(target = &quot;businessUnit&quot;, qualifiedByName = {&quot;toBusinessUnitEntity&quot;})\n    Role toEntity(@Valid RoleDTO role);\n\n    List&lt;Role&gt; toEntity(@Valid Iterable&lt;RoleDTO&gt; roles);\n\n}\n\n</code></pre>\n<p>I mvn clean before each &quot;try&quot;.\nAnd here's the problem. During compilation this line (<code>List&lt;RoleDTO&gt; toDTO(@Valid Iterable&lt;Role&gt; roles);</code>) throws two exceptions:</p>\n<p><code>java: The return type BusinessUnitDTO is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.</code></p>\n<p><code>java: Can't map property &quot;BusinessUnit role.businessUnit&quot; to &quot;BusinessUnitDTO roleDTO.businessUnit&quot;. Consider to declare/implement a mapping method: &quot;BusinessUnitDTO map(BusinessUnit value)&quot;.</code></p>\n<p>If I remove the mentioned line everything compiles.</p>\n<ol>\n<li>The implementation is basically a for loop calling the single method n times</li>\n<li>Pretty much the same thing works in the UBUR mapper</li>\n</ol>\n<p>Why does it throw the exception on the list method and not the single one?\nWhat is the problem? Why is it working in one place but not the other?</p>\n<p>Also tried upgrading from mapstruct v1.5.3.Final to v.1.5.5.Final. Didn't help.</p>\n<p>Found something (I think). MapStruct is going out of it's way to do what I don't tell it to do.\nSo I went into the implementations map struct makes. And I see what I expect from the UBUR mapper. Then I got into the Role implementation and see something weird</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected BusinessUnit businessUnitDTOToBusinessUnit(BusinessUnitDTO businessUnitDTO) {\n        if ( businessUnitDTO == null ) {\n            return null;\n        }\n\n        BusinessUnit businessUnit = new BusinessUnit();\n\n        return businessUnit;\n    }\n\n    protected Role roleDTOToRole(RoleDTO roleDTO) {\n        if ( roleDTO == null ) {\n            return null;\n        }\n\n        Role role = new Role();\n\n        role.setId( roleDTO.id() );\n        role.setName( roleDTO.name() );\n        List&lt;Authority&gt; list = roleDTO.authorities();\n        if ( list != null ) {\n            role.setAuthorities( new ArrayList&lt;Authority&gt;( list ) );\n        }\n        role.setBusinessUnit( businessUnitDTOToBusinessUnit( roleDTO.businessUnit() ) );\n\n        return role;\n    }\n</code></pre>\n<p>so the 2nd list method (dto to entity) calls roleDTOToRole which calls businessUnitDTOToBusinessUnit. The normal methods are calling their parent\nso for some reason I'm telling mapstruct to use x method but it tries to create it's own implementation for some reason (instead of using the already created one) and miserably fails.</p>\n<p>Ok it's cuz of the @Named annotation. Now just have to figure out how to tell mapstruct to not care about it.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697032531,"post_id":77273579,"comment_id":136228582,"body_markdown":"Did you try moving the interface (temporarily) to project B? Just to check if that is actually the problem. If it is, can you load other classes (not beans) from that project? You might have a (runtime?) dependency issue.","body":"Did you try moving the interface (temporarily) to project B? Just to check if that is actually the problem. If it is, can you load other classes (not beans) from that project? You might have a (runtime?) dependency issue."},{"owner":{"account_id":4914536,"reputation":341,"user_id":4257821,"accept_rate":62,"display_name":"eight"},"score":0,"creation_date":1697032906,"post_id":77273579,"comment_id":136228677,"body_markdown":"If I move the interface from module A to module B, I cannot import it anymore in the module A, since there is no dependency on A to B. Injecting in general works - I have tried implementing the interface in module A and spring then of course sees it and is able to inject. The problem is module A can&#39;t see beans in module B even though they are part of the same parent project.","body":"If I move the interface from module A to module B, I cannot import it anymore in the module A, since there is no dependency on A to B. Injecting in general works - I have tried implementing the interface in module A and spring then of course sees it and is able to inject. The problem is module A can&#39;t see beans in module B even though they are part of the same parent project."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697032928,"post_id":77273579,"comment_id":136228681,"body_markdown":"Module A is a sprin gboot application. You cannot use a spring boot jar as a dependency due to its structure. You either need to introduce a third module which contains the stuff you actually want to share, or apply [this](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.build.use-a-spring-boot-application-as-dependency). You also need to include module B into Module A (or at least in the module that has the `@SpringBootApplication` annotated class.","body":"Module A is a sprin gboot application. You cannot use a spring boot jar as a dependency due to its structure. You either need to introduce a third module which contains the stuff you actually want to share, or apply <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.build.use-a-spring-boot-application-as-dependency\" rel=\"nofollow noreferrer\">this</a>. You also need to include module B into Module A (or at least in the module that has the <code>@SpringBootApplication</code> annotated class."}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697032661,"creation_date":1697032661,"answer_id":77273749,"question_id":77273579,"body_markdown":"Module B uses module A, so it can use `CommonInterface` at compile time; but module A does not use module B, so `CommonInterfaceImpl` is not available in the final application.\r\n\r\nYou have to move the interface in a shared module C, so that:\r\n\r\n - B uses C\r\n - A uses B (and, trasitively, C).","title":"Spring can&#39;t inject a bean from a different module","body":"<p>Module B uses module A, so it can use <code>CommonInterface</code> at compile time; but module A does not use module B, so <code>CommonInterfaceImpl</code> is not available in the final application.</p>\n<p>You have to move the interface in a shared module C, so that:</p>\n<ul>\n<li>B uses C</li>\n<li>A uses B (and, trasitively, C).</li>\n</ul>\n"}],"owner":{"account_id":4914536,"reputation":341,"user_id":4257821,"accept_rate":62,"display_name":"eight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77273749,"answer_count":1,"score":0,"last_activity_date":1697032661,"creation_date":1697031514,"question_id":77273579,"body_markdown":"I have a root maven project with 2 modules inside it. Module A has the interfaces and main application class. Module B has module A as a dependency in pom.xml and implements interfaces. Why can&#39;t spring autowire the implementation from module B into module A?\r\n\r\nParent pom:\r\n```xml\r\n...\r\n&lt;packaging&gt;pom&lt;/packaging&gt;\r\n...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;skip&gt;true&lt;/skip&gt;\r\n      &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n...\r\n&lt;modules&gt;\r\n  &lt;module&gt;A&lt;/module&gt;\r\n  &lt;module&gt;B&lt;/module&gt;\r\n&lt;/modules&gt;\r\n...\r\n```\r\nModule A pom, so the application runs from that particular module:\r\n```xml\r\n...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;skip&gt;false&lt;/skip&gt;\r\n      &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n...\r\n```\r\nInterface on module A:\r\n```java\r\npackage com.company.exp;\r\n\r\npublic interface CommonInterface {\r\n    void doSomething();\r\n}\r\n```\r\nModule B pom:\r\n```xml\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.company.exp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n...\r\n```\r\nImplementation in module B:\r\n```java\r\npackage com.company.exp;\r\n\r\n@Service\r\npublic class CommonInterfaceImpl implements CommonInterface {\r\n    @Override\r\n    public void doSomething() {\r\n        System.out.println(&quot;Doing something&quot;);\r\n    }\r\n}\r\n```\r\nApplication class in module A:\r\n```java\r\npackage com.company.exp;\r\n\r\n@SpringBootApplication(scanBasePackages = &quot;com.company.exp&quot;)\r\npublic class Application  {\r\n\r\n    public final CommonInterface commonInterface;\r\n\r\n    public Application(CommonInterface commonInterface) {\r\n        this.commonInterface = commonInterface;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application .class, args);\r\n    }\r\n}\r\n```\r\n\r\nApplication startup fails with the following message:\r\n```\r\nConsider defining a bean of type &#39;com.company.exp.CommonInterface&#39; in your configuration.\r\n```\r\n\r\nI&#39;ve double checked the packages, the `scanBasePackages` value, the spring bean annotations (`@Service`). What am I missing here?","title":"Spring can&#39;t inject a bean from a different module","body":"<p>I have a root maven project with 2 modules inside it. Module A has the interfaces and main application class. Module B has module A as a dependency in pom.xml and implements interfaces. Why can't spring autowire the implementation from module B into module A?</p>\n<p>Parent pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;packaging&gt;pom&lt;/packaging&gt;\n...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;skip&gt;true&lt;/skip&gt;\n      &lt;/configuration&gt;\n  &lt;/plugin&gt;\n...\n&lt;modules&gt;\n  &lt;module&gt;A&lt;/module&gt;\n  &lt;module&gt;B&lt;/module&gt;\n&lt;/modules&gt;\n...\n</code></pre>\n<p>Module A pom, so the application runs from that particular module:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;skip&gt;false&lt;/skip&gt;\n      &lt;/configuration&gt;\n  &lt;/plugin&gt;\n...\n</code></pre>\n<p>Interface on module A:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.exp;\n\npublic interface CommonInterface {\n    void doSomething();\n}\n</code></pre>\n<p>Module B pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;dependency&gt;\n    &lt;groupId&gt;com.company.exp&lt;/groupId&gt;\n    &lt;artifactId&gt;A&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n...\n</code></pre>\n<p>Implementation in module B:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.exp;\n\n@Service\npublic class CommonInterfaceImpl implements CommonInterface {\n    @Override\n    public void doSomething() {\n        System.out.println(&quot;Doing something&quot;);\n    }\n}\n</code></pre>\n<p>Application class in module A:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.exp;\n\n@SpringBootApplication(scanBasePackages = &quot;com.company.exp&quot;)\npublic class Application  {\n\n    public final CommonInterface commonInterface;\n\n    public Application(CommonInterface commonInterface) {\n        this.commonInterface = commonInterface;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application .class, args);\n    }\n}\n</code></pre>\n<p>Application startup fails with the following message:</p>\n<pre><code>Consider defining a bean of type 'com.company.exp.CommonInterface' in your configuration.\n</code></pre>\n<p>I've double checked the packages, the <code>scanBasePackages</code> value, the spring bean annotations (<code>@Service</code>). What am I missing here?</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":28472786,"reputation":33,"user_id":21787868,"display_name":"GabrieleC0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697032244,"creation_date":1685893440,"answer_id":76401202,"question_id":76391719,"body_markdown":"In 1.19.3 Registry must be replaced with Registries.\r\nThe code is:\r\n```\r\npublic class ProvaMod implements ModInitializer {\r\n\t// This logger is used to write text to the console and the log file.\r\n\t// It is considered best practice to use your mod id as the logger&#39;s name.\r\n\t// That way, it&#39;s clear which mod wrote info, warnings, and errors.\r\n\tpublic static final Logger LOGGER = LoggerFactory.getLogger(&quot;modid&quot;);\r\n    public static final Item Sapphire =Registry.register(Registries.ITEM, new Identifier(&quot;provamod&quot;,&quot;sapphire&quot;), new Item(new FabricItemSettings()));\r\n\r\n\t@Override\r\n\tpublic void onInitialize() {\r\n    ItemGroupEvents.modifyEntriesEvent(ItemGroups.TOOLS).register(itemGroup -&gt;  itemGroup.add(Sapphire) );\r\n\t}\r\n}\r\n```","title":"MISC cannot be resolved or is not a field","body":"<p>In 1.19.3 Registry must be replaced with Registries.\nThe code is:</p>\n<pre><code>public class ProvaMod implements ModInitializer {\n    // This logger is used to write text to the console and the log file.\n    // It is considered best practice to use your mod id as the logger's name.\n    // That way, it's clear which mod wrote info, warnings, and errors.\n    public static final Logger LOGGER = LoggerFactory.getLogger(&quot;modid&quot;);\n    public static final Item Sapphire =Registry.register(Registries.ITEM, new Identifier(&quot;provamod&quot;,&quot;sapphire&quot;), new Item(new FabricItemSettings()));\n\n    @Override\n    public void onInitialize() {\n    ItemGroupEvents.modifyEntriesEvent(ItemGroups.TOOLS).register(itemGroup -&gt;  itemGroup.add(Sapphire) );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28472786,"reputation":33,"user_id":21787868,"display_name":"GabrieleC0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76401202,"answer_count":1,"score":0,"last_activity_date":1697032254,"creation_date":1685721449,"question_id":76391719,"body_markdown":"I tried to add an item to my minecraft mod following this tutorial: https://www.youtube.com/watch?v=_JZ7bnk3oiM.\r\nThe code is this: \r\n\r\n    public class ProvaMod implements ModInitializer {\r\n    \t// This logger is used to write text to the console and the log file.\r\n    \t// It is considered best practice to use your mod id as the logger&#39;s name.\r\n    \t// That way, it&#39;s clear which mod wrote info, warnings, and errors.\r\n    \tpublic static final Logger LOGGER = LoggerFactory.getLogger(&quot;modid&quot;);\r\n    \r\n    \tpublic static final Item IDK_IDK = new Item(new Item.Settings().group(ItemGroup.MISC));\r\n    \r\n    \t@Override\r\n    \tpublic void onInitialize() {\r\n    \t\tRegistry.register(Registry.ITEM, new Identifier(&quot;provamod&quot;, &quot;idk_idk&quot;), IDK_IDK);\r\n    \t}\r\n    }\r\nIt Underlines red MISC (Line 7) and ITEM(Line 11) and gives this errors:\r\n\r\n&gt;MISC cannot be resolved or is not a field  \r\n&gt;ITEM cannot be resolved or is not a field","title":"MISC cannot be resolved or is not a field","body":"<p>I tried to add an item to my minecraft mod following this tutorial: <a href=\"https://www.youtube.com/watch?v=_JZ7bnk3oiM\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=_JZ7bnk3oiM</a>.\nThe code is this:</p>\n<pre><code>public class ProvaMod implements ModInitializer {\n    // This logger is used to write text to the console and the log file.\n    // It is considered best practice to use your mod id as the logger's name.\n    // That way, it's clear which mod wrote info, warnings, and errors.\n    public static final Logger LOGGER = LoggerFactory.getLogger(&quot;modid&quot;);\n\n    public static final Item IDK_IDK = new Item(new Item.Settings().group(ItemGroup.MISC));\n\n    @Override\n    public void onInitialize() {\n        Registry.register(Registry.ITEM, new Identifier(&quot;provamod&quot;, &quot;idk_idk&quot;), IDK_IDK);\n    }\n}\n</code></pre>\n<p>It Underlines red MISC (Line 7) and ITEM(Line 11) and gives this errors:</p>\n<blockquote>\n<p>MISC cannot be resolved or is not a field<br />\nITEM cannot be resolved or is not a field</p>\n</blockquote>\n"},{"tags":["java","linux","intellij-idea","environment-variables"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1550044952,"post_id":54657795,"comment_id":96120764,"body_markdown":"Do you use Gradle Run/Debug Configuration? Do you have Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Gradle | Runner | **Delegate IDE build/run actions to gradle** enabled? Make also sure you have **Pass parent environment variables** option enabled: https://www.dropbox.com/s/eihfr582bf89zt5/gradle_rc_env_vars.png?dl=0 (btw you can check if the evn. variable is listed in that dialog) and use the same JDK and gradle version in IDE as in terminal.","body":"Do you use Gradle Run/Debug Configuration? Do you have Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Gradle | Runner | <b>Delegate IDE build/run actions to gradle</b> enabled? Make also sure you have <b>Pass parent environment variables</b> option enabled: <a href=\"https://www.dropbox.com/s/eihfr582bf89zt5/gradle_rc_env_vars.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/eihfr582bf89zt5/gradle_rc_env_vars.png?dl=0</a> (btw you can check if the evn. variable is listed in that dialog) and use the same JDK and gradle version in IDE as in terminal."},{"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1550067643,"post_id":54657795,"comment_id":96134446,"body_markdown":"Yes, it&#39;s a Gradle build. I _do not_ have &quot;Delegate IDE build/run actions to gradle&quot; checked, but I _do_ have &quot;Include parent environment variables&quot; checked. Didn&#39;t even notice the &quot;Show&quot; option there, and the one I care about is not in the list!","body":"Yes, it&#39;s a Gradle build. I <i>do not</i> have &quot;Delegate IDE build/run actions to gradle&quot; checked, but I <i>do</i> have &quot;Include parent environment variables&quot; checked. Didn&#39;t even notice the &quot;Show&quot; option there, and the one I care about is not in the list!"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596030286,"creation_date":1596029832,"answer_id":63154909,"question_id":54657795,"body_markdown":"@ josh-m I ran into the same problem in my IntelliJ IDEA setup with Maven.\r\n\r\nIn the end, I continued to keep the settings on each project, as there were not many, but when I studied the problem I found this IntelliJ support link:\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-141832\r\n\r\nAt least at that time, this functionality was not available in IntelliJ directly, although the following plugin, mentioned in the comments of the support article, could perhaps be of some help:\r\n\r\nhttps://plugins.jetbrains.com/plugin/7861-envfile/","title":"IntelliJ IDEA does not see my environment variables","body":"<p>@ josh-m I ran into the same problem in my IntelliJ IDEA setup with Maven.</p>\n<p>In the end, I continued to keep the settings on each project, as there were not many, but when I studied the problem I found this IntelliJ support link:</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-141832\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-141832</a></p>\n<p>At least at that time, this functionality was not available in IntelliJ directly, although the following plugin, mentioned in the comments of the support article, could perhaps be of some help:</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/7861-envfile/\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/7861-envfile/</a></p>\n"},{"tags":[],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1697032211,"creation_date":1596071758,"answer_id":63164733,"question_id":54657795,"body_markdown":"It turns out IDEA will pick up environment variables if you define them either in e.g. `/etc/environment` or `/etc/profile` or if you use ZSH, `~/.zshrc`.","title":"IntelliJ IDEA does not see my environment variables","body":"<p>It turns out IDEA will pick up environment variables if you define them either in e.g. <code>/etc/environment</code> or <code>/etc/profile</code> or if you use ZSH, <code>~/.zshrc</code>.</p>\n"},{"tags":[],"owner":{"account_id":14901094,"reputation":642,"user_id":13989422,"display_name":"Morteza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596186009,"creation_date":1596186009,"answer_id":63188797,"question_id":54657795,"body_markdown":"After setting variables, you to execute `source ~/.bashrc` and `source profile` to update and execute the file contents. ","title":"IntelliJ IDEA does not see my environment variables","body":"<p>After setting variables, you to execute <code>source ~/.bashrc</code> and <code>source profile</code> to update and execute the file contents.</p>\n"},{"tags":[],"owner":{"account_id":5368528,"reputation":953,"user_id":4277684,"display_name":"Ashish Pani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610788597,"creation_date":1610788597,"answer_id":65748073,"question_id":54657795,"body_markdown":"\r\n    launchctl setenv HADOOP_VERSION 3.1.1.7.2.8.0-SNAPSHOT \r\n\r\nExecute in this way to set your environment variables in MacOS for them to be used by other applications.\r\nAfter that restart your IDE.","title":"IntelliJ IDEA does not see my environment variables","body":"<pre><code>launchctl setenv HADOOP_VERSION 3.1.1.7.2.8.0-SNAPSHOT \n</code></pre>\n<p>Execute in this way to set your environment variables in MacOS for them to be used by other applications.\nAfter that restart your IDE.</p>\n"}],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10189,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":63164733,"answer_count":4,"score":13,"last_activity_date":1697032211,"creation_date":1550001457,"question_id":54657795,"body_markdown":"I&#39;ve configured an environment variable in `~/.bashrc` as well as `~/.profile`. \r\n\r\nWhen I run my application via IDEA&#39;s Gradle Configuration, my environment variable is apparently not available. E.g. I am referencing this variable within `application.yml`, but the default value is being used instead. Running Gradle from the command line correctly picks up my variable.\r\n\r\nHow can I configure IDEA to load this environment variable in a global way, so I don&#39;t have to manually add it to every project where I need it (~20 projects)?\r\n\r\nNote: running on Manjaro Linux v18.","title":"IntelliJ IDEA does not see my environment variables","body":"<p>I've configured an environment variable in <code>~/.bashrc</code> as well as <code>~/.profile</code>. </p>\n\n<p>When I run my application via IDEA's Gradle Configuration, my environment variable is apparently not available. E.g. I am referencing this variable within <code>application.yml</code>, but the default value is being used instead. Running Gradle from the command line correctly picks up my variable.</p>\n\n<p>How can I configure IDEA to load this environment variable in a global way, so I don't have to manually add it to every project where I need it (~20 projects)?</p>\n\n<p>Note: running on Manjaro Linux v18.</p>\n"},{"tags":["java","html","pdf","flying-saucer"],"owner":{"account_id":1278293,"reputation":1865,"user_id":1241176,"accept_rate":90,"display_name":"Balkrishna Rawool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1697031355,"creation_date":1370013178,"question_id":16860523,"body_markdown":"I am using Flying Saucer to convert HTML documents to PDF. But there is a problem when I use `&lt;span style=&quot;white-space:nowrap&quot;&gt;`\r\n\r\nGenerally `white-space:nowrap` works fine. But when the span is near the right-margin of the document, it gets trimmed.\r\n\r\nFor example:\r\n\r\nThis HTML:\r\n\r\n```\r\nThis is fine. &lt;span style=&quot;white-space:nowrap&quot;&gt;This is a test&lt;/span&gt;\r\n```\r\n\r\ngets converted to PDF like this:\r\n\r\n![enter image description here][1]\r\n\r\nwhich is perfect.\r\n\r\nBut when I use:\r\n\r\n```\r\nThis is fine. This is also fine. &lt;span style=&quot;white-space:nowrap&quot;&gt;This is a test&lt;/span&gt;\r\n```\r\n\r\nit gets converted to:\r\n\r\n![enter image description here][2]\r\n\r\nNotice that part of the span is trimmed because of the right margin.\r\nWhat I expect is:\r\n\r\n![enter image description here][3]\r\n\r\ni.e. I expect the span to move to the next line.\r\n\r\nThe code I am using to convert to PDF is:\r\n\r\n```java\r\nString inputFile = &quot;test.html&quot;;\r\nString url = new File(inputFile).toURI().toURL().toString();\r\nString outputFile = &quot;firstdoc.pdf&quot;;\r\nOutputStream os = new FileOutputStream(outputFile);\r\n\r\nITextRenderer renderer = new ITextRenderer();\r\nrenderer.setDocument(url);\r\nrenderer.layout();\r\nrenderer.createPDF(os);\r\n\r\nos.close();\r\n```\r\n\r\n[1]: http://i.stack.imgur.com/MOfeE.jpg\r\n[2]: http://i.stack.imgur.com/Me1id.jpg\r\n[3]: http://i.stack.imgur.com/LOTrI.jpg\r\n","title":"white-space:nowrap does not work properly with Flying Saucer","body":"<p>I am using Flying Saucer to convert HTML documents to PDF. But there is a problem when I use <code>&lt;span style=&quot;white-space:nowrap&quot;&gt;</code></p>\n<p>Generally <code>white-space:nowrap</code> works fine. But when the span is near the right-margin of the document, it gets trimmed.</p>\n<p>For example:</p>\n<p>This HTML:</p>\n<pre><code>This is fine. &lt;span style=&quot;white-space:nowrap&quot;&gt;This is a test&lt;/span&gt;\n</code></pre>\n<p>gets converted to PDF like this:</p>\n<p><img src=\"https://i.stack.imgur.com/MOfeE.jpg\" alt=\"enter image description here\" /></p>\n<p>which is perfect.</p>\n<p>But when I use:</p>\n<pre><code>This is fine. This is also fine. &lt;span style=&quot;white-space:nowrap&quot;&gt;This is a test&lt;/span&gt;\n</code></pre>\n<p>it gets converted to:</p>\n<p><img src=\"https://i.stack.imgur.com/Me1id.jpg\" alt=\"enter image description here\" /></p>\n<p>Notice that part of the span is trimmed because of the right margin.\nWhat I expect is:</p>\n<p><img src=\"https://i.stack.imgur.com/LOTrI.jpg\" alt=\"enter image description here\" /></p>\n<p>i.e. I expect the span to move to the next line.</p>\n<p>The code I am using to convert to PDF is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String inputFile = &quot;test.html&quot;;\nString url = new File(inputFile).toURI().toURL().toString();\nString outputFile = &quot;firstdoc.pdf&quot;;\nOutputStream os = new FileOutputStream(outputFile);\n\nITextRenderer renderer = new ITextRenderer();\nrenderer.setDocument(url);\nrenderer.layout();\nrenderer.createPDF(os);\n\nos.close();\n</code></pre>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513185412,"creation_date":1328948157,"answer_id":9238796,"question_id":9237996,"body_markdown":"If this class is a factory, it should be a Guice-managed object, having a non static getFoo method, and the getFoo method would just use \r\n\r\n    new Foo(bar)\r\n\r\nNot every class needs to be instantiated by Guice.\r\n\r\nAlso see [AssistedInject](https://github.com/google/guice/wiki/AssistedInject), to avoid creating this factory yourself and let Guice create one for you.\r\n\r\n\r\n  [1]: http://google-guice.googlecode.com/git/javadoc/com/google/inject/Injector.html#injectMembers%28java.lang.Object%29","title":"Pass parameter to constructor with Guice","body":"<p>If this class is a factory, it should be a Guice-managed object, having a non static getFoo method, and the getFoo method would just use </p>\n\n<pre><code>new Foo(bar)\n</code></pre>\n\n<p>Not every class needs to be instantiated by Guice.</p>\n\n<p>Also see <a href=\"https://github.com/google/guice/wiki/AssistedInject\" rel=\"nofollow noreferrer\">AssistedInject</a>, to avoid creating this factory yourself and let Guice create one for you.</p>\n"},{"tags":[],"owner":{"account_id":342550,"reputation":3620,"user_id":673759,"accept_rate":100,"display_name":"David H. Clements"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1328979113,"creation_date":1328978812,"answer_id":9241981,"question_id":9237996,"body_markdown":"What you are probably looking for is to use a Guice factory.  Particularly easy with the &lt;a href=&quot;http://code.google.com/p/google-guice/wiki/AssistedInject&quot;&gt;`AssistedInject`&lt;/a&gt; functionality, but they have a &lt;a href=&quot;http://code.google.com/p/google-guice/wiki/AssistedInject&quot;&gt;manual example at the top of the page&lt;/a&gt;. The short of it for the manual example is that you get the factory under non-static `getFoo` method that you pass whatever parameters to that you need and build the object from there.\r\n\r\nThis won&#39;t work directly if you have method interception in `Foo`, but it will work in many other cases. \r\n\r\nTo use `AssistedInject`, which to me has somewhat cleaner semantics and means less manual wiring, you&#39;ll need the &lt;a href=&quot;http://search.maven.org/#artifactdetails%7Ccom.google.inject.extensions%7Cguice-assistedinject%7C3.0%7Cjar&quot;&gt;guice-assistedinject&lt;/a&gt; extension in the classpath, then when creating `Foo` (well, `FooImpl`, we should be using interfaces):\r\n\r\n    @Inject\r\n    public FooImpl(@Assisted String bar)\r\n    {\r\n        this.baz = bar;\r\n    }\r\n\r\nThen you create a `FooFactory` interface:\r\n\r\n    public interface FooFactory {\r\n        public Foo create(String bar);\r\n    }\r\n\r\nThen in your guice module:\r\n\r\n    install(new FactoryModuleBuilder()\r\n        .implement(Foo.class, FooImpl.class)\r\n        .build(FooFactory.class));\r\n\r\nYou can check out the &lt;a href=&quot;http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/assistedinject/FactoryModuleBuilder.html&quot;&gt;javadoc for `FactoryModuleBuilder`&lt;/a&gt; for examples with more complex factories. ","title":"Pass parameter to constructor with Guice","body":"<p>What you are probably looking for is to use a Guice factory.  Particularly easy with the <a href=\"http://code.google.com/p/google-guice/wiki/AssistedInject\" rel=\"noreferrer\"><code>AssistedInject</code></a> functionality, but they have a <a href=\"http://code.google.com/p/google-guice/wiki/AssistedInject\" rel=\"noreferrer\">manual example at the top of the page</a>. The short of it for the manual example is that you get the factory under non-static <code>getFoo</code> method that you pass whatever parameters to that you need and build the object from there.</p>\n\n<p>This won't work directly if you have method interception in <code>Foo</code>, but it will work in many other cases. </p>\n\n<p>To use <code>AssistedInject</code>, which to me has somewhat cleaner semantics and means less manual wiring, you'll need the <a href=\"http://search.maven.org/#artifactdetails%7Ccom.google.inject.extensions%7Cguice-assistedinject%7C3.0%7Cjar\" rel=\"noreferrer\">guice-assistedinject</a> extension in the classpath, then when creating <code>Foo</code> (well, <code>FooImpl</code>, we should be using interfaces):</p>\n\n<pre><code>@Inject\npublic FooImpl(@Assisted String bar)\n{\n    this.baz = bar;\n}\n</code></pre>\n\n<p>Then you create a <code>FooFactory</code> interface:</p>\n\n<pre><code>public interface FooFactory {\n    public Foo create(String bar);\n}\n</code></pre>\n\n<p>Then in your guice module:</p>\n\n<pre><code>install(new FactoryModuleBuilder()\n    .implement(Foo.class, FooImpl.class)\n    .build(FooFactory.class));\n</code></pre>\n\n<p>You can check out the <a href=\"http://google-guice.googlecode.com/svn/trunk/javadoc/com/google/inject/assistedinject/FactoryModuleBuilder.html\" rel=\"noreferrer\">javadoc for <code>FactoryModuleBuilder</code></a> for examples with more complex factories. </p>\n"},{"tags":[],"owner":{"account_id":1120450,"reputation":1233,"user_id":1108879,"accept_rate":25,"display_name":"DougA"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1601908815,"creation_date":1328987337,"answer_id":9243191,"question_id":9237996,"body_markdown":"All the &quot;Guice Constructor Parameter&quot; answers seem to be incomplete in some way. \r\nHere is a complete solution, including usage and a visual:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    interface FooInterface {\r\n        String getFooName();\r\n    }\r\n\r\n// Annotate the constructor and assisted parameters on the implementation class\r\n\r\n    class Foo implements FooInterface {\r\n        String bar;\r\n    \r\n        @Inject\r\n        Foo(@Assisted String bar) {\r\n            this.bar = bar;\r\n        }\r\n    \r\n        // return the final name\r\n        public String getFooName() {\r\n            return this.bar;\r\n        }\r\n    \r\n    }\r\n\r\n// Create a factory interface with a create() method that takes only the assisted parameters.\r\n\r\n// FooFactory interface doesn&#39;t have an explicit implementation class (Guice Magic)\r\n\r\n    interface FooFactory {\r\n        Foo create(String bar);\r\n    }\r\n\r\n// Bind that factory to a provider created by AssistedInject\r\n\r\n    class BinderModule implements Module {\r\n    \r\n        public void configure(Binder binder) {\r\n            binder.install(new FactoryModuleBuilder()\r\n                    .implement(FooInterface.class, Foo.class)\r\n                    .build(FooFactory.class));\r\n        }\r\n    }\r\n\r\n// Now use it:\r\n\r\n    class FooAction {\r\n        @Inject private FooFactory fooFactory;\r\n    \r\n        public String doFoo() {\r\n            // Send bar details through the Factory, not the &quot;injector&quot;\r\n            Foo f = fooFactory.create(&quot;This foo is named bar. How lovely!&quot;);\r\n            return f.getFooName(); // &quot;This foo is named bar. How lovely!&quot;\r\n        }\r\n    }\r\n\r\n\r\nLots of helps here: https://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/assistedinject/FactoryModuleBuilder.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DkPre.png","title":"Pass parameter to constructor with Guice","body":"<p>All the &quot;Guice Constructor Parameter&quot; answers seem to be incomplete in some way.\nHere is a complete solution, including usage and a visual:</p>\n<p><a href=\"https://i.stack.imgur.com/DkPre.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DkPre.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>interface FooInterface {\n    String getFooName();\n}\n</code></pre>\n<p>// Annotate the constructor and assisted parameters on the implementation class</p>\n<pre><code>class Foo implements FooInterface {\n    String bar;\n\n    @Inject\n    Foo(@Assisted String bar) {\n        this.bar = bar;\n    }\n\n    // return the final name\n    public String getFooName() {\n        return this.bar;\n    }\n\n}\n</code></pre>\n<p>// Create a factory interface with a create() method that takes only the assisted parameters.</p>\n<p>// FooFactory interface doesn't have an explicit implementation class (Guice Magic)</p>\n<pre><code>interface FooFactory {\n    Foo create(String bar);\n}\n</code></pre>\n<p>// Bind that factory to a provider created by AssistedInject</p>\n<pre><code>class BinderModule implements Module {\n\n    public void configure(Binder binder) {\n        binder.install(new FactoryModuleBuilder()\n                .implement(FooInterface.class, Foo.class)\n                .build(FooFactory.class));\n    }\n}\n</code></pre>\n<p>// Now use it:</p>\n<pre><code>class FooAction {\n    @Inject private FooFactory fooFactory;\n\n    public String doFoo() {\n        // Send bar details through the Factory, not the &quot;injector&quot;\n        Foo f = fooFactory.create(&quot;This foo is named bar. How lovely!&quot;);\n        return f.getFooName(); // &quot;This foo is named bar. How lovely!&quot;\n    }\n}\n</code></pre>\n<p>Lots of helps here: <a href=\"https://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/assistedinject/FactoryModuleBuilder.html\" rel=\"noreferrer\">https://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/assistedinject/FactoryModuleBuilder.html</a></p>\n"},{"tags":[],"owner":{"account_id":1287538,"reputation":147,"user_id":7866309,"display_name":"NejcT"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1495692738,"creation_date":1495692738,"answer_id":44173504,"question_id":9237996,"body_markdown":"I know that this is old thread but I just hit the issue myself today. \r\nI only need two or maximum three different instances of &#39;Foo&#39; and I really didn&#39;t want to write all the bolierplate code of Factory. \r\nWith a little googling I found this [Stubbisms – Tony’s Weblog][1] I would suggest this solution which is perfect if you know exactly what instances you need.\r\n\r\nIn Guice module:\r\n\r\n        bind(Foo.class).annotatedWith(Names.named(&quot;firstFoo&quot;)).toProvider(new Provider&lt;Foo&gt;() {\r\n            @Override\r\n            public Foo get() {\r\n                return new FooImpl(&quot;topic A&quot;);\r\n            }\r\n        });\r\n        bind(Foo.class).annotatedWith(Names.named(&quot;secondFoo&quot;)).toProvider(new Provider&lt;Foo&gt;() {\r\n            @Override\r\n            public Foo get() {\r\n                return new FooImpl(&quot;topic B&quot;);\r\n            }\r\n        });\r\nOr in java 8:\r\n\r\n        bind(Foo.class).annotatedWith(Names.named(&quot;firstFoo&quot;)).toProvider(() -&gt; new FooImpl(&quot;first&quot;));\r\n        bind(Foo.class).annotatedWith(Names.named(&quot;secondFoo&quot;)).toProvider(() -&gt; new FooImpl(&quot;second&quot;));\r\n\r\nAnd in constructor of your service where you need Foo instances:\r\n\r\n    @Inject\r\n    public MyService (\r\n    \t@Named(&quot;firstFoo&quot;) Foo firstFoo,\r\n    \t@Named(&quot;secondFoo&quot;) Foo secondFoo) {\r\n    }\r\n\r\nAnd Foo in my case:\r\n\r\n    public class FooImpl implements Foo {\r\n    \r\n        private String name;\r\n    \r\n        public FooImpl(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nHope it helps someone.\r\n\r\n\r\n  [1]: https://stubbisms.wordpress.com/2008/07/26/google-guice-injecting-primitives-in-constructors/","title":"Pass parameter to constructor with Guice","body":"<p>I know that this is old thread but I just hit the issue myself today. \nI only need two or maximum three different instances of 'Foo' and I really didn't want to write all the bolierplate code of Factory. \nWith a little googling I found this <a href=\"https://stubbisms.wordpress.com/2008/07/26/google-guice-injecting-primitives-in-constructors/\" rel=\"noreferrer\">Stubbisms – Tony’s Weblog</a> I would suggest this solution which is perfect if you know exactly what instances you need.</p>\n\n<p>In Guice module:</p>\n\n<pre><code>    bind(Foo.class).annotatedWith(Names.named(\"firstFoo\")).toProvider(new Provider&lt;Foo&gt;() {\n        @Override\n        public Foo get() {\n            return new FooImpl(\"topic A\");\n        }\n    });\n    bind(Foo.class).annotatedWith(Names.named(\"secondFoo\")).toProvider(new Provider&lt;Foo&gt;() {\n        @Override\n        public Foo get() {\n            return new FooImpl(\"topic B\");\n        }\n    });\n</code></pre>\n\n<p>Or in java 8:</p>\n\n<pre><code>    bind(Foo.class).annotatedWith(Names.named(\"firstFoo\")).toProvider(() -&gt; new FooImpl(\"first\"));\n    bind(Foo.class).annotatedWith(Names.named(\"secondFoo\")).toProvider(() -&gt; new FooImpl(\"second\"));\n</code></pre>\n\n<p>And in constructor of your service where you need Foo instances:</p>\n\n<pre><code>@Inject\npublic MyService (\n    @Named(\"firstFoo\") Foo firstFoo,\n    @Named(\"secondFoo\") Foo secondFoo) {\n}\n</code></pre>\n\n<p>And Foo in my case:</p>\n\n<pre><code>public class FooImpl implements Foo {\n\n    private String name;\n\n    public FooImpl(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n\n<p>Hope it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":2408281,"reputation":1273,"user_id":2104103,"display_name":"Saran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654729297,"creation_date":1654729297,"answer_id":72553083,"question_id":9237996,"body_markdown":"Although this isn&#39;t a direct answer to what you&#39;re asking, hope it helps. I was trying to understand where the constructor parameters are being passed earlier. If they are custom classes, they should be bind-ed in the module.\r\n\r\n    Class CustomHandler {\r\n    \r\n      private Config config;\r\n    \r\n      @Inject\r\n      CustomHandler(Config config) {\r\n        this.config = config;\r\n      }\r\n    \r\n      public void handle() {\r\n        // handle using config here\r\n      }\r\n    }\r\n\r\nBinding:\r\n\r\n    class Module extends AbstractModule {\r\n      bind(Handler.class).to(CustomHandler.class);\r\n      bind(Config.class).to(CustomConfig.class);\r\n    }\r\n\r\nInjection:\r\n\r\n    CustomHandler handler = injector.getInstance(CustomHandler.class);\r\n    handler.handle();\r\n","title":"Pass parameter to constructor with Guice","body":"<p>Although this isn't a direct answer to what you're asking, hope it helps. I was trying to understand where the constructor parameters are being passed earlier. If they are custom classes, they should be bind-ed in the module.</p>\n<pre><code>Class CustomHandler {\n\n  private Config config;\n\n  @Inject\n  CustomHandler(Config config) {\n    this.config = config;\n  }\n\n  public void handle() {\n    // handle using config here\n  }\n}\n</code></pre>\n<p>Binding:</p>\n<pre><code>class Module extends AbstractModule {\n  bind(Handler.class).to(CustomHandler.class);\n  bind(Config.class).to(CustomConfig.class);\n}\n</code></pre>\n<p>Injection:</p>\n<pre><code>CustomHandler handler = injector.getInstance(CustomHandler.class);\nhandler.handle();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":291162,"reputation":2827,"user_id":593146,"accept_rate":83,"display_name":"Zyl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697031192,"creation_date":1697031192,"answer_id":77273540,"question_id":9237996,"body_markdown":"Here is what we ended up doing. It&#39;s a bad solution that should only be used when you aren&#39;t given time and just want to live to see another day.\r\n\r\n1. Remove all constructors, making the class default-constructible.\r\n2. Add a public method called `init` or such which takes dependencies as parameters and assigns them to fields.\r\n3. Use Guice&#39;s `Injector.getInstance()` to do the class discovery and construction for you, then call the `init` method with the fields you actually need.\r\n\r\nSome forgiveness for doing this may be received by doing some aggressive null-checking that informs oblivious callers of the need to call `init` by throwing an appropriately formed `IllegalStateException`.","title":"Pass parameter to constructor with Guice","body":"<p>Here is what we ended up doing. It's a bad solution that should only be used when you aren't given time and just want to live to see another day.</p>\n<ol>\n<li>Remove all constructors, making the class default-constructible.</li>\n<li>Add a public method called <code>init</code> or such which takes dependencies as parameters and assigns them to fields.</li>\n<li>Use Guice's <code>Injector.getInstance()</code> to do the class discovery and construction for you, then call the <code>init</code> method with the fields you actually need.</li>\n</ol>\n<p>Some forgiveness for doing this may be received by doing some aggressive null-checking that informs oblivious callers of the need to call <code>init</code> by throwing an appropriately formed <code>IllegalStateException</code>.</p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59349,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":9243191,"answer_count":6,"score":42,"last_activity_date":1697031192,"creation_date":1328937138,"question_id":9237996,"body_markdown":"I have a factory as below, \r\n\r\n    public final class Application {\r\n    \t\r\n    \tprivate static IFoo foo;\r\n    \t\r\n    \tpublic static IFoo getFoo(String bar)\r\n    \t{\r\n            // i need to inject bar to the constructor of Foo\r\n            // obvious i have to do something, not sure what\r\n    \t\tInjector injector = Guice.createInjector();\r\n    \t\tlogger = injector.getInstance(Foo.class);\r\n    \t\treturn logger;\t\t\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is the Foo definition:\r\n\r\n    class Foo\r\n    {\r\n       Foo(String bar)\r\n       {\r\n    \r\n       }\r\n      \r\n    }\r\n\r\nOK. I m not sure how I can pass this parameter to Foo constructor with Guice?\r\n\r\nAny ideas?","title":"Pass parameter to constructor with Guice","body":"<p>I have a factory as below, </p>\n\n<pre><code>public final class Application {\n\n    private static IFoo foo;\n\n    public static IFoo getFoo(String bar)\n    {\n        // i need to inject bar to the constructor of Foo\n        // obvious i have to do something, not sure what\n        Injector injector = Guice.createInjector();\n        logger = injector.getInstance(Foo.class);\n        return logger;              \n    }\n\n}\n</code></pre>\n\n<p>This is the Foo definition:</p>\n\n<pre><code>class Foo\n{\n   Foo(String bar)\n   {\n\n   }\n\n}\n</code></pre>\n\n<p>OK. I m not sure how I can pass this parameter to Foo constructor with Guice?</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","android","nestedrecyclerview","expandablerecyclerview","sectionedrecyclerviewadapter"],"owner":{"account_id":14312368,"reputation":1,"user_id":10338262,"display_name":"Mahmoud Al-Qassas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697031092,"creation_date":1696029430,"question_id":77205170,"body_markdown":"I have a variation list each item consists of header to collapse the item and option list, every thing works fine if the items is not collapsed, but if they collapsed and reopened to change the option, a worng position is passed to the nested adapter, I tried too many solutions and none of them worked.\r\nhere is my outer adapter:\r\n\r\n```\r\nvoid bind(ProductVariation productVariation, int position) {\r\n    LinearLayoutManager manager = new LinearLayoutManager(context, LinearLayoutManager.VERTICAL, false);\r\n    binding.variationOptions.setLayoutManager(manager);\r\n    binding.variationOptions.setRecycledViewPool(recycledViewPool);\r\n//        binding.variationOptions.setHasFixedSize(true);\r\n    binding.variationName.setText(productVariation.getName());\r\n    if (productVariation.getIs_addition() == 1) {\r\n        if (binding.variationOptions.getVisibility() == View.VISIBLE) {\r\n            MultiOptionAdapter multiOptionAdapter = new MultiOptionAdapter(context, productVariation, productVariation.getIs_required(), position);\r\n            binding.variationOptions.setAdapter(multiOptionAdapter);\r\n            binding.minMax.setVisibility(View.VISIBLE);\r\n            if (productVariation.getIs_required() == 0) {\r\n                binding.variationString.setText(R.string.optional);\r\n                binding.minMax.setText(context.getString(R.string.max_options) + productVariation.getMax_options());\r\n            } else {\r\n                binding.minMax.setText(context.getString(R.string.min) + productVariation.getMin_options() + &quot; &quot; + context.getString(R.string.max_options) + productVariation.getMax_options());\r\n            }\r\n        }\r\n    } else {\r\n        if (binding.variationOptions.getVisibility() == View.VISIBLE) {\r\n            SingleOptionAdapter singleOptionAdapter = new SingleOptionAdapter(context, productVariation, position);\r\n            binding.variationOptions.setAdapter(singleOptionAdapter);\r\n            if (productVariation.getIs_required() == 1)\r\n                binding.variationString.setText(R.string.choose_1);\r\n            else\r\n                binding.variationString.setText(R.string.optional);\r\n        }\r\n    }\r\n    double totalAdditions = 0.0;\r\n    for (int i = 0; i &lt; productVariation.getSelectedOptions().size(); i++) {\r\n        if (productVariation.getSelectedOptions().get(i).isSelected()) {\r\n            if (binding.variationOptions.getVisibility() == View.VISIBLE) {\r\n                if (productVariation.getIs_addition() == 0) {\r\n                    binding.variationArrow.setRotation(270);\r\n                    binding.variationOptions.setVisibility(View.GONE);\r\n//                    App.currentProduct.setNetPrice(productVariation.getSelectedOptions().get(i).getSalePrice());\r\n                    binding.variationString.setText(productVariation.getSelectedOptions().get(i).getName());\r\n                } else {\r\n                    if (productVariation.getOptions().get(i).getSalePrice() != null || productVariation.getOptions().get(i).getSalePrice() != 0)\r\n                        totalAdditions = productVariation.getOptions().get(i).getSalePrice();\r\n                    else\r\n                        totalAdditions = productVariation.getOptions().get(i).getPrice();\r\n                    Log.e(&quot;checkNetPrice&quot;, App.currentProduct.getNetPrice() + &quot; - 2 -&quot;);\r\n                    binding.variationString.setText(&quot;+&quot; + totalAdditions + context.getString(R.string.egp));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nNote: if any variation option is selected the item should collapse.  \r\n  [1]: https://i.stack.imgur.com/LxS8H.png\r\n  [2]: https://i.stack.imgur.com/T2dN8.png\r\n  [3]: https://i.stack.imgur.com/Qxi89.png\r\n\r\nI expect when any option is selected it&#39;s variation item should collapse, also if the user tapped on any item header should collapse too, the outer adapter should pass the correct position at any situation.","title":"Nested RecyclerViews wrong position passed","body":"<p>I have a variation list each item consists of header to collapse the item and option list, every thing works fine if the items is not collapsed, but if they collapsed and reopened to change the option, a worng position is passed to the nested adapter, I tried too many solutions and none of them worked.\nhere is my outer adapter:</p>\n<pre><code>void bind(ProductVariation productVariation, int position) {\n    LinearLayoutManager manager = new LinearLayoutManager(context, LinearLayoutManager.VERTICAL, false);\n    binding.variationOptions.setLayoutManager(manager);\n    binding.variationOptions.setRecycledViewPool(recycledViewPool);\n//        binding.variationOptions.setHasFixedSize(true);\n    binding.variationName.setText(productVariation.getName());\n    if (productVariation.getIs_addition() == 1) {\n        if (binding.variationOptions.getVisibility() == View.VISIBLE) {\n            MultiOptionAdapter multiOptionAdapter = new MultiOptionAdapter(context, productVariation, productVariation.getIs_required(), position);\n            binding.variationOptions.setAdapter(multiOptionAdapter);\n            binding.minMax.setVisibility(View.VISIBLE);\n            if (productVariation.getIs_required() == 0) {\n                binding.variationString.setText(R.string.optional);\n                binding.minMax.setText(context.getString(R.string.max_options) + productVariation.getMax_options());\n            } else {\n                binding.minMax.setText(context.getString(R.string.min) + productVariation.getMin_options() + &quot; &quot; + context.getString(R.string.max_options) + productVariation.getMax_options());\n            }\n        }\n    } else {\n        if (binding.variationOptions.getVisibility() == View.VISIBLE) {\n            SingleOptionAdapter singleOptionAdapter = new SingleOptionAdapter(context, productVariation, position);\n            binding.variationOptions.setAdapter(singleOptionAdapter);\n            if (productVariation.getIs_required() == 1)\n                binding.variationString.setText(R.string.choose_1);\n            else\n                binding.variationString.setText(R.string.optional);\n        }\n    }\n    double totalAdditions = 0.0;\n    for (int i = 0; i &lt; productVariation.getSelectedOptions().size(); i++) {\n        if (productVariation.getSelectedOptions().get(i).isSelected()) {\n            if (binding.variationOptions.getVisibility() == View.VISIBLE) {\n                if (productVariation.getIs_addition() == 0) {\n                    binding.variationArrow.setRotation(270);\n                    binding.variationOptions.setVisibility(View.GONE);\n//                    App.currentProduct.setNetPrice(productVariation.getSelectedOptions().get(i).getSalePrice());\n                    binding.variationString.setText(productVariation.getSelectedOptions().get(i).getName());\n                } else {\n                    if (productVariation.getOptions().get(i).getSalePrice() != null || productVariation.getOptions().get(i).getSalePrice() != 0)\n                        totalAdditions = productVariation.getOptions().get(i).getSalePrice();\n                    else\n                        totalAdditions = productVariation.getOptions().get(i).getPrice();\n                    Log.e(&quot;checkNetPrice&quot;, App.currentProduct.getNetPrice() + &quot; - 2 -&quot;);\n                    binding.variationString.setText(&quot;+&quot; + totalAdditions + context.getString(R.string.egp));\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Note: if any variation option is selected the item should collapse.<br />\n[1]: <a href=\"https://i.stack.imgur.com/LxS8H.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/LxS8H.png</a>\n[2]: <a href=\"https://i.stack.imgur.com/T2dN8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/T2dN8.png</a>\n[3]: <a href=\"https://i.stack.imgur.com/Qxi89.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Qxi89.png</a></p>\n<p>I expect when any option is selected it's variation item should collapse, also if the user tapped on any item header should collapse too, the outer adapter should pass the correct position at any situation.</p>\n"},{"tags":["java","json","protocol-buffers"],"comments":[{"owner":{"account_id":3125071,"reputation":5745,"user_id":2644098,"accept_rate":40,"display_name":"Gergely Kőr&#246;ssy"},"score":0,"creation_date":1468626315,"post_id":38406211,"comment_id":64221311,"body_markdown":"You might want to take a look at [FlatBuffers](https://google.github.io/flatbuffers/) instead.","body":"You might want to take a look at <a href=\"https://google.github.io/flatbuffers/\" rel=\"nofollow noreferrer\">FlatBuffers</a> instead."},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":1,"creation_date":1468630583,"post_id":38406211,"comment_id":64221987,"body_markdown":"&quot;is a simple way to convert a json stream/string to a protobuf stream/string? &quot;Probably not. They work differently; protobuf fields aren&#39;t actually named in the serialized representation, but they are in a sequence. JSON is almost the opposite; fields are named, but the sequence generally doesn&#39;t matter. What you *can* do is take your generated protobuf classes and use Jackson mixins to annotate them and parse into them.","body":"&quot;is a simple way to convert a json stream/string to a protobuf stream/string? &quot;Probably not. They work differently; protobuf fields aren&#39;t actually named in the serialized representation, but they are in a sequence. JSON is almost the opposite; fields are named, but the sequence generally doesn&#39;t matter. What you <i>can</i> do is take your generated protobuf classes and use Jackson mixins to annotate them and parse into them."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1663871680,"post_id":38406211,"comment_id":130347491,"body_markdown":"Related - if it helps, here is some utility to view protos as json. It has both, a Java API, as well as an installable GUI tool. You can also check the source code to see &quot;how it does that&quot;: https://github.com/Zabuzard/ProtoToJson","body":"Related - if it helps, here is some utility to view protos as json. It has both, a Java API, as well as an installable GUI tool. You can also check the source code to see &quot;how it does that&quot;: <a href=\"https://github.com/Zabuzard/ProtoToJson\" rel=\"nofollow noreferrer\">github.com/Zabuzard/ProtoToJson</a>"},{"owner":{"account_id":4382998,"reputation":406,"user_id":3574093,"display_name":"Florian Enner"},"score":0,"creation_date":1672664458,"post_id":38406211,"comment_id":132322127,"body_markdown":"Protobuf 3 has a built-in [JSON mapping](https://developers.google.com/protocol-buffers/docs/proto3#json)","body":"Protobuf 3 has a built-in <a href=\"https://developers.google.com/protocol-buffers/docs/proto3#json\" rel=\"nofollow noreferrer\">JSON mapping</a>"}],"answers":[{"tags":[],"owner":{"account_id":6370307,"reputation":1416,"user_id":4942917,"display_name":"Adam Cozzette"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1468857974,"creation_date":1468857974,"answer_id":38441368,"question_id":38406211,"body_markdown":"With proto3 you can do this using [JsonFormat][1]. It parses directly from the JSON representation, so there is no need for separately calling `MyMessage.parseFrom(...)`. Something like this should work:\r\n\r\n    JsonFormat.parser().merge(json_string, builder);\r\n\r\n\r\n  [1]: https://github.com/google/protobuf/blob/master/java/util/src/main/java/com/google/protobuf/util/JsonFormat.java","title":"How to convert from Json to Protobuf?","body":"<p>With proto3 you can do this using <a href=\"https://github.com/google/protobuf/blob/master/java/util/src/main/java/com/google/protobuf/util/JsonFormat.java\" rel=\"noreferrer\">JsonFormat</a>. It parses directly from the JSON representation, so there is no need for separately calling <code>MyMessage.parseFrom(...)</code>. Something like this should work:</p>\n\n<pre><code>JsonFormat.parser().merge(json_string, builder);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9596055,"reputation":829,"user_id":7125140,"display_name":"Ayyub Kolsawala"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1570008192,"creation_date":1570008192,"answer_id":58198700,"question_id":38406211,"body_markdown":"    //You can use this for converting your input json to a Struct / any other Protobuf Class    \r\n                    \r\n    import com.google.protobuf.Struct.Builder;\r\n    import com.google.protobuf.Struct;\r\n    import com.google.protobuf.util.JsonFormat;\r\n    import org.json.JSONObject;\r\n    \r\n    JSONObject parameters = new JSONObject();\r\n    \r\n    Builder structBuilder = Struct.newBuilder();\r\n    JsonFormat.parser().merge(parameters.toString(), structBuilder);\r\n            \r\n    // Now use the structBuilder to pass below (I used it for Dialog Flow V2 Context Management)","title":"How to convert from Json to Protobuf?","body":"<pre><code>//You can use this for converting your input json to a Struct / any other Protobuf Class    \n\nimport com.google.protobuf.Struct.Builder;\nimport com.google.protobuf.Struct;\nimport com.google.protobuf.util.JsonFormat;\nimport org.json.JSONObject;\n\nJSONObject parameters = new JSONObject();\n\nBuilder structBuilder = Struct.newBuilder();\nJsonFormat.parser().merge(parameters.toString(), structBuilder);\n\n// Now use the structBuilder to pass below (I used it for Dialog Flow V2 Context Management)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10564091,"reputation":19,"user_id":7782883,"display_name":"Benjamin McCord"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1627430793,"creation_date":1627430793,"answer_id":68552940,"question_id":38406211,"body_markdown":"Since someone asked about getting the exception &quot;com.google.protobuf.InvalidProtocolBufferException: JsonObject&quot; when following Adam&#39;s advice--I ran into the same issue.  Turns out it was due to the google protobuf timestamps.  They are being serialized as an object containing two fields &quot;seconds&quot; and &quot;nanos&quot;, since this isn&#39;t production code, I just got around this by parsing the JSON using jackson, going through the JSON object recursively and changing every timestamp from an object to a string formatted as per RFC 3339, I then serialized it back out and used the protobuf JSON parser as Adam has shown.  This fixed the issue.  This is some throwaway code I wrote (in my case all timestamp fields contain the word &quot;timestamp&quot;, this could be more robust, but I don&#39;t care):\r\n\r\n\tpublic Map&lt;String, Object&gt; fixJsonTimestamps(Map&lt;String, Object&gt; inMap) {\r\n\t\tMap&lt;String, Object&gt; outMap = new HashMap&lt;&gt;();\r\n\t\tfor(String key : inMap.keySet()) {\r\n\t\t\tObject val = inMap.get(key);\r\n\t\t\tif(val instanceof Map) {\r\n\t\t\t\tMap&lt;String, Object&gt; valMap = (Map&lt;String, Object&gt;)val;\r\n\t\t\t\tif(key.toLowerCase().contains(&quot;timestamp&quot;) &amp;&amp; \r\n\t\t\t\t\t\tvalMap.containsKey(&quot;seconds&quot;) &amp;&amp; valMap.containsKey(&quot;nanos&quot;)) {\r\n\t\t\t\t\tif(valMap.get(&quot;seconds&quot;) != null) {\r\n\t\t\t\t\t\tZonedDateTime d = ZonedDateTime.ofInstant(Instant.ofEpochSecond((int)valMap.get(&quot;seconds&quot;)).plusNanos((int)valMap.get(&quot;nanos&quot;)),\r\n\t\t\t\t\t\t\t\tZoneId.of(&quot;UTC&quot;));\r\n\t\t\t\t\t\tval = d.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tval = fixJsonTimestamps(valMap);\r\n\t\t\t\t}\r\n\t\t\t} else if(val instanceof List &amp;&amp; ((List) val).size() &gt; 0 &amp;&amp; \r\n\t\t\t\t\t((List) val).get(0) instanceof Map) {\r\n\t\t\t\tList&lt;Map&lt;String, Object&gt;&gt; outputList = new ArrayList&lt;&gt;();\r\n\t\t\t\tfor(Map item : (List&lt;Map&gt;)val) {\r\n\t\t\t\t\toutputList.add(fixJsonTimestamps(item));\r\n\t\t\t\t}\r\n\t\t\t\tval = outputList;\r\n\t\t\t}\r\n\t\t\toutMap.put(key, val);\r\n\t\t}\r\n\t\treturn outMap;\r\n\t}\r\n\r\nNot the most ideal solution but it works for what I am doing, I think I saw someone recommend using a different timestamp class.","title":"How to convert from Json to Protobuf?","body":"<p>Since someone asked about getting the exception &quot;com.google.protobuf.InvalidProtocolBufferException: JsonObject&quot; when following Adam's advice--I ran into the same issue.  Turns out it was due to the google protobuf timestamps.  They are being serialized as an object containing two fields &quot;seconds&quot; and &quot;nanos&quot;, since this isn't production code, I just got around this by parsing the JSON using jackson, going through the JSON object recursively and changing every timestamp from an object to a string formatted as per RFC 3339, I then serialized it back out and used the protobuf JSON parser as Adam has shown.  This fixed the issue.  This is some throwaway code I wrote (in my case all timestamp fields contain the word &quot;timestamp&quot;, this could be more robust, but I don't care):</p>\n<pre><code>public Map&lt;String, Object&gt; fixJsonTimestamps(Map&lt;String, Object&gt; inMap) {\n    Map&lt;String, Object&gt; outMap = new HashMap&lt;&gt;();\n    for(String key : inMap.keySet()) {\n        Object val = inMap.get(key);\n        if(val instanceof Map) {\n            Map&lt;String, Object&gt; valMap = (Map&lt;String, Object&gt;)val;\n            if(key.toLowerCase().contains(&quot;timestamp&quot;) &amp;&amp; \n                    valMap.containsKey(&quot;seconds&quot;) &amp;&amp; valMap.containsKey(&quot;nanos&quot;)) {\n                if(valMap.get(&quot;seconds&quot;) != null) {\n                    ZonedDateTime d = ZonedDateTime.ofInstant(Instant.ofEpochSecond((int)valMap.get(&quot;seconds&quot;)).plusNanos((int)valMap.get(&quot;nanos&quot;)),\n                            ZoneId.of(&quot;UTC&quot;));\n                    val = d.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;));\n                }\n                \n            } else {\n                val = fixJsonTimestamps(valMap);\n            }\n        } else if(val instanceof List &amp;&amp; ((List) val).size() &gt; 0 &amp;&amp; \n                ((List) val).get(0) instanceof Map) {\n            List&lt;Map&lt;String, Object&gt;&gt; outputList = new ArrayList&lt;&gt;();\n            for(Map item : (List&lt;Map&gt;)val) {\n                outputList.add(fixJsonTimestamps(item));\n            }\n            val = outputList;\n        }\n        outMap.put(key, val);\n    }\n    return outMap;\n}\n</code></pre>\n<p>Not the most ideal solution but it works for what I am doing, I think I saw someone recommend using a different timestamp class.</p>\n"},{"tags":[],"owner":{"account_id":14248225,"reputation":657,"user_id":10292570,"display_name":"Sneha Mule"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1663871848,"creation_date":1663871365,"answer_id":73819219,"question_id":38406211,"body_markdown":"You can convert json string to Proto using builder and json String \r\n\r\nExample :\r\n\r\n    YourProto.Builder protoBuilder = YourProto.newBuilder();\r\n    JsonFormat.parser().merge(JsonString, protoBuilder);\r\n\r\nIf you want to ignore unknown json field then\r\n\r\n     YourProto.Builder protoBuilder = YourProto.newBuilder();\r\n     JsonFormat.parser()..ignoringUnknownFields().merge(JsonString, protoBuilder);\r\n\r\n     \r\n\r\nAnother way is, to use mergeFrom method from ProtocolBuffer\r\n\r\nExample :\r\n\r\n    YourProto.Builder protoBuilder = YourProto.newBuilder();\r\n    protoBuilder.mergeFrom(JsonString.getBytes());\r\n\r\nOnce it execute, you will get all the data in protoBuilder from json String","title":"How to convert from Json to Protobuf?","body":"<p>You can convert json string to Proto using builder and json String</p>\n<p>Example :</p>\n<pre><code>YourProto.Builder protoBuilder = YourProto.newBuilder();\nJsonFormat.parser().merge(JsonString, protoBuilder);\n</code></pre>\n<p>If you want to ignore unknown json field then</p>\n<pre><code> YourProto.Builder protoBuilder = YourProto.newBuilder();\n JsonFormat.parser()..ignoringUnknownFields().merge(JsonString, protoBuilder);\n\n \n</code></pre>\n<p>Another way is, to use mergeFrom method from ProtocolBuffer</p>\n<p>Example :</p>\n<pre><code>YourProto.Builder protoBuilder = YourProto.newBuilder();\nprotoBuilder.mergeFrom(JsonString.getBytes());\n</code></pre>\n<p>Once it execute, you will get all the data in protoBuilder from json String</p>\n"},{"tags":[],"owner":{"account_id":16241816,"reputation":41,"user_id":11727924,"display_name":"Nazia Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697030898,"creation_date":1697030898,"answer_id":77273506,"question_id":38406211,"body_markdown":"Had to convert the following JSON to Protobuf. Used the following online tool to get the correct response [Online Json to Protobuf Converter Tool][1] \r\n&lt;br&gt;**Input -**\r\n\r\n    {\r\n        &quot;boolean&quot;: true,\r\n        &quot;color&quot;: &quot;blue&quot;,\r\n        &quot;object&quot;: {\r\n          &quot;a&quot;: &quot;b&quot;,\r\n          &quot;c&quot;: &quot;d&quot;\r\n        },\r\n        &quot;string&quot;: &quot;Hello World - JavaInUse&quot;\r\n    }\r\n**Output -**\r\n\r\n    fields {\r\n      key: &quot;boolean&quot;\r\n      value {\r\n        bool_value: true\r\n      }\r\n    }\r\n    fields {\r\n      key: &quot;color&quot;\r\n      value {\r\n        string_value: &quot;blue&quot;\r\n      }\r\n    }\r\n    fields {\r\n      key: &quot;object&quot;\r\n      value {\r\n        struct_value {\r\n          fields {\r\n            key: &quot;a&quot;\r\n            value {\r\n              string_value: &quot;b&quot;\r\n            }\r\n          }\r\n          fields {\r\n            key: &quot;c&quot;\r\n            value {\r\n              string_value: &quot;d&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    fields {\r\n      key: &quot;string&quot;\r\n      value {\r\n        string_value: &quot;Hello World - JavaInUse&quot;\r\n      }\r\n    }\r\n\r\n  [1]: https://www.javainuse.com/jsontoproto","title":"How to convert from Json to Protobuf?","body":"<p>Had to convert the following JSON to Protobuf. Used the following online tool to get the correct response <a href=\"https://www.javainuse.com/jsontoproto\" rel=\"nofollow noreferrer\">Online Json to Protobuf Converter Tool</a>\n<br><strong>Input -</strong></p>\n<pre><code>{\n    &quot;boolean&quot;: true,\n    &quot;color&quot;: &quot;blue&quot;,\n    &quot;object&quot;: {\n      &quot;a&quot;: &quot;b&quot;,\n      &quot;c&quot;: &quot;d&quot;\n    },\n    &quot;string&quot;: &quot;Hello World - JavaInUse&quot;\n}\n</code></pre>\n<p><strong>Output -</strong></p>\n<pre><code>fields {\n  key: &quot;boolean&quot;\n  value {\n    bool_value: true\n  }\n}\nfields {\n  key: &quot;color&quot;\n  value {\n    string_value: &quot;blue&quot;\n  }\n}\nfields {\n  key: &quot;object&quot;\n  value {\n    struct_value {\n      fields {\n        key: &quot;a&quot;\n        value {\n          string_value: &quot;b&quot;\n        }\n      }\n      fields {\n        key: &quot;c&quot;\n        value {\n          string_value: &quot;d&quot;\n        }\n      }\n    }\n  }\n}\nfields {\n  key: &quot;string&quot;\n  value {\n    string_value: &quot;Hello World - JavaInUse&quot;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8542804,"reputation":487,"user_id":6402271,"display_name":"Karan Tibrewal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113108,"favorite_count":0,"down_vote_count":1,"up_vote_count":45,"answer_count":5,"score":44,"last_activity_date":1697030898,"creation_date":1468624637,"question_id":38406211,"body_markdown":"I&#39;m new to using protobuf, and was wondering if there is a simple way to convert a json stream/string to a protobuf stream/string in Java?\r\n\r\nFor example,\r\n    \r\n    protoString = convertToProto(jsonString)\r\n\r\nI have a json string that I want to parse into a protobuf message. So, I want to first convert the json string to protobuf, and then call `Message.parseFrom()` on it.","title":"How to convert from Json to Protobuf?","body":"<p>I'm new to using protobuf, and was wondering if there is a simple way to convert a json stream/string to a protobuf stream/string in Java?</p>\n<p>For example,</p>\n<pre><code>protoString = convertToProto(jsonString)\n</code></pre>\n<p>I have a json string that I want to parse into a protobuf message. So, I want to first convert the json string to protobuf, and then call <code>Message.parseFrom()</code> on it.</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","short"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":1,"creation_date":1697018276,"post_id":77271933,"comment_id":136225666,"body_markdown":"I don&#39;t see any error in the code can you post your stacktrace if it is possible?","body":"I don&#39;t see any error in the code can you post your stacktrace if it is possible?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1697018396,"post_id":77271933,"comment_id":136225685,"body_markdown":"Also why does it assume that it is a byte data? maybe you need to solve that part.","body":"Also why does it assume that it is a byte data? maybe you need to solve that part."},{"owner":{"account_id":18258323,"reputation":109,"user_id":13291702,"display_name":"Neha"},"score":0,"creation_date":1697018877,"post_id":77271933,"comment_id":136225766,"body_markdown":"Error.o.h.e.SqlExecptionHelper-Error : cannot cast type bytea to smallint , position 26 , ExceptionHandlerExceptionResolver- javax.persistrnce.PersistenceException: SqlGrammerException : could not extract Resultset","body":"Error.o.h.e.SqlExecptionHelper-Error : cannot cast type bytea to smallint , position 26 , ExceptionHandlerExceptionResolver- javax.persistrnce.PersistenceException: SqlGrammerException : could not extract Resultset"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1697020094,"post_id":77271933,"comment_id":136225972,"body_markdown":"Strange. There is no return statement in your `getData` method. Also `crrateNativeQuery` looks suspicious. Did you post actual code?","body":"Strange. There is no return statement in your <code>getData</code> method. Also <code>crrateNativeQuery</code> looks suspicious. Did you post actual code?"},{"owner":{"account_id":18258323,"reputation":109,"user_id":13291702,"display_name":"Neha"},"score":0,"creation_date":1697029855,"post_id":77271933,"comment_id":136227933,"body_markdown":"It does have.i forget to add in here.","body":"It does have.i forget to add in here."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1697030404,"post_id":77271933,"comment_id":136228080,"body_markdown":"Especially List&lt;Object[]&gt;response is a little bit tricky. How did you parse it to Object?","body":"Especially List&lt;Object[]&gt;response is a little bit tricky. How did you parse it to Object?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1697030443,"post_id":77271933,"comment_id":136228096,"body_markdown":"There are some big integers that needs to be returned but I can not see conversion part?","body":"There are some big integers that needs to be returned but I can not see conversion part?"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1697030499,"post_id":77271933,"comment_id":136228111,"body_markdown":"Is there any scenario where `ids` can be null?","body":"Is there any scenario where <code>ids</code> can be null?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1697030632,"post_id":77271933,"comment_id":136228146,"body_markdown":"no way it is initialized new short[]{1,2};","body":"no way it is initialized new short[]{1,2};"},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1697031081,"post_id":77271933,"comment_id":136228246,"body_markdown":"Your error is because Hibernate does not map properly your `short[]` (java) into a `smallint[]` (postgresql): you probably have to fiddle with the configuration or try your chance with a `List&lt;Short&gt;` : https://stackoverflow.com/questions/4332467/mapping-array-with-hibernate","body":"Your error is because Hibernate does not map properly your <code>short[]</code> (java) into a <code>smallint[]</code> (postgresql): you probably have to fiddle with the configuration or try your chance with a <code>List&lt;Short&gt;</code> : <a href=\"https://stackoverflow.com/questions/4332467/mapping-array-with-hibernate\" title=\"mapping array with hibernate\">stackoverflow.com/questions/4332467/&hellip;</a>"},{"owner":{"account_id":18258323,"reputation":109,"user_id":13291702,"display_name":"Neha"},"score":0,"creation_date":1697525490,"post_id":77271933,"comment_id":136287227,"body_markdown":"I have tried using criteria query,it works well with short[] then why native does not work. ?","body":"I have tried using criteria query,it works well with short[] then why native does not work. ?"}],"owner":{"account_id":18258323,"reputation":109,"user_id":13291702,"display_name":"Neha"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697030782,"creation_date":1697017850,"question_id":77271933,"body_markdown":"I have created a function as below : \r\n\r\n    CREATE OR REPLACE FUNCTION demo(ids SMALLINT[])\r\n    RETURNS TABLE (processkey bigint)\r\n    AS $$\r\n    BEGIN\r\n      RETURN QUERY SELECT b.processkey FROM your_table b WHERE id_column = ANY(ids);\r\n    END;\r\n    $$ LANGUAGE plpgsql; \r\n\r\nIn java repository class I create below method : \r\n\r\n    List&lt;Object[]&gt; getData(short[] ids) {\r\n        String strq=&quot;select * from demo(:ids)&quot;;\r\n        Query q=entitymanager.createNativeQuery(strq);\r\n        q.setParameter(&quot;ids&quot;,ids);\r\n        return  q.getResultList();\r\n    }\r\n\r\nIn my controller :\r\n\r\n```java\r\nshort[] requestid= new short[]{1,2};\r\nList&lt;Object[]&gt;response=repo.getData(requestid);\r\nSystem.out.println(response);\r\n```\r\nBut while executing this it gives error as \r\nBytea cannot cast to smallint .\r\nI don&#39;t know why am getting this error\r\n\r\n    Error.o.h.e.SqlExecptionHelper-Error : cannot cast type bytea to smallint , position 26 , ExceptionHandlerExceptionResolver- javax.persistrnce.PersistenceException: SqlGrammerException : could not extract Resultset\r\n\r\n","title":"Getting error while passing short[] to function using jpa","body":"<p>I have created a function as below :</p>\n<pre><code>CREATE OR REPLACE FUNCTION demo(ids SMALLINT[])\nRETURNS TABLE (processkey bigint)\nAS $$\nBEGIN\n  RETURN QUERY SELECT b.processkey FROM your_table b WHERE id_column = ANY(ids);\nEND;\n$$ LANGUAGE plpgsql; \n</code></pre>\n<p>In java repository class I create below method :</p>\n<pre><code>List&lt;Object[]&gt; getData(short[] ids) {\n    String strq=&quot;select * from demo(:ids)&quot;;\n    Query q=entitymanager.createNativeQuery(strq);\n    q.setParameter(&quot;ids&quot;,ids);\n    return  q.getResultList();\n}\n</code></pre>\n<p>In my controller :</p>\n<pre class=\"lang-java prettyprint-override\"><code>short[] requestid= new short[]{1,2};\nList&lt;Object[]&gt;response=repo.getData(requestid);\nSystem.out.println(response);\n</code></pre>\n<p>But while executing this it gives error as\nBytea cannot cast to smallint .\nI don't know why am getting this error</p>\n<pre><code>Error.o.h.e.SqlExecptionHelper-Error : cannot cast type bytea to smallint , position 26 , ExceptionHandlerExceptionResolver- javax.persistrnce.PersistenceException: SqlGrammerException : could not extract Resultset\n</code></pre>\n"},{"tags":["java","android","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":10514292,"reputation":1065,"user_id":9382531,"display_name":"Akash Pal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697030616,"creation_date":1627904859,"answer_id":68621062,"question_id":68620900,"body_markdown":"    private void clearData() {\r\n        try {\r\n            if (Build.VERSION_CODES.KITKAT &lt;= Build.VERSION.SDK_INT) {\r\n                ((ActivityManager) getSystemService (ACTIVITY_SERVICE)).clearApplicationUserData();\r\n            } else {\r\n                Runtime.getRuntime().exec(&quot;pm clear &quot; + getApplicationContext().getPackageName());\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"How to delete/clear hidden data of app in android programmatically?","body":"<pre><code>private void clearData() {\n    try {\n        if (Build.VERSION_CODES.KITKAT &lt;= Build.VERSION.SDK_INT) {\n            ((ActivityManager) getSystemService (ACTIVITY_SERVICE)).clearApplicationUserData();\n        } else {\n            Runtime.getRuntime().exec(&quot;pm clear &quot; + getApplicationContext().getPackageName());\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12562770,"reputation":463,"user_id":9139846,"display_name":"Anas Yousuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1610,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68621062,"answer_count":1,"score":1,"last_activity_date":1697030616,"creation_date":1627904109,"question_id":68620900,"body_markdown":"Basically my App displays the WebView of a website. and it logins (Google SignIn) correctly but after logout and pressing on LogIn Again doesn&#39;t take my account, instead it saves that Gmail once, and clicking log-in again uses previous login credentials. and it gets solved if I clear my app data using device settings. I am trying to reach and Clear my App Data Programmatically.\r\n\r\n\r\nSo far I have been able to delete app data using ( **https://www.hrupin.com/2011/11/how-to-clear-user-data-in-your-android-application-programmatically** ) \r\n\r\nBut this link was useful **if** app data exist normally on DeviceFileExplorer data -&gt; data -&gt; package-name, and **my problem** is that app data is generated **hidden** inside internal storage (OS security). \r\n\r\nUsing these below commands I have been able to display them up on DeviceFileExplorer.\r\n\r\n    adb shell  \r\n    run-as com.your.packagename   \r\n    cp /data/data/com.your.packagename/\r\n\r\nI have read that this command copies(not move) my hidden package data to this /data/data/com.your.packagename/\r\n\r\nSo deleting this /data/data/com.your.packagename/ won&#39;t help.\r\n\r\n\r\n\r\n\r\n","title":"How to delete/clear hidden data of app in android programmatically?","body":"<p>Basically my App displays the WebView of a website. and it logins (Google SignIn) correctly but after logout and pressing on LogIn Again doesn't take my account, instead it saves that Gmail once, and clicking log-in again uses previous login credentials. and it gets solved if I clear my app data using device settings. I am trying to reach and Clear my App Data Programmatically.</p>\n<p>So far I have been able to delete app data using ( <strong><a href=\"https://www.hrupin.com/2011/11/how-to-clear-user-data-in-your-android-application-programmatically\" rel=\"nofollow noreferrer\">https://www.hrupin.com/2011/11/how-to-clear-user-data-in-your-android-application-programmatically</a></strong> )</p>\n<p>But this link was useful <strong>if</strong> app data exist normally on DeviceFileExplorer data -&gt; data -&gt; package-name, and <strong>my problem</strong> is that app data is generated <strong>hidden</strong> inside internal storage (OS security).</p>\n<p>Using these below commands I have been able to display them up on DeviceFileExplorer.</p>\n<pre><code>adb shell  \nrun-as com.your.packagename   \ncp /data/data/com.your.packagename/\n</code></pre>\n<p>I have read that this command copies(not move) my hidden package data to this /data/data/com.your.packagename/</p>\n<p>So deleting this /data/data/com.your.packagename/ won't help.</p>\n"},{"tags":["java","spring","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1486830728,"post_id":42176511,"comment_id":71519819,"body_markdown":"Which version of sleuth are you using? Can you post a sample somewhere on Github so that we can try to see what&#39;s going on?","body":"Which version of sleuth are you using? Can you post a sample somewhere on Github so that we can try to see what&#39;s going on?"},{"owner":{"account_id":4869680,"reputation":77,"user_id":3926645,"accept_rate":18,"display_name":"Ibrahim"},"score":0,"creation_date":1486839456,"post_id":42176511,"comment_id":71522855,"body_markdown":"I am using 1.0.12 version","body":"I am using 1.0.12 version"},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1486839543,"post_id":42176511,"comment_id":71522890,"body_markdown":"Please post your sample somewhere and provide a link to it","body":"Please post your sample somewhere and provide a link to it"},{"owner":{"account_id":4869680,"reputation":77,"user_id":3926645,"accept_rate":18,"display_name":"Ibrahim"},"score":0,"creation_date":1486839647,"post_id":42176511,"comment_id":71522921,"body_markdown":"OK, I will try to post it on Gitub, thanks","body":"OK, I will try to post it on Gitub, thanks"},{"owner":{"account_id":4869680,"reputation":77,"user_id":3926645,"accept_rate":18,"display_name":"Ibrahim"},"score":0,"creation_date":1486840603,"post_id":42176511,"comment_id":71523246,"body_markdown":"here is the url: https://github.com/IbrahimAl-Zreqat/cloud-sleuth.git\nthanks","body":"here is the url: <a href=\"https://github.com/IbrahimAl-Zreqat/cloud-sleuth.git\" rel=\"nofollow noreferrer\">github.com/IbrahimAl-Zreqat/cloud-sleuth.git</a> thanks"},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1486840979,"post_id":42176511,"comment_id":71523380,"body_markdown":"I see that you have some really old school way of packaging and setting up the app... Have you tried running this as two separate apps? Maybe your issues are related to calling your own app from the same thread? I&#39;ll check it out on Monday cause I&#39;m writing from my mobile","body":"I see that you have some really old school way of packaging and setting up the app... Have you tried running this as two separate apps? Maybe your issues are related to calling your own app from the same thread? I&#39;ll check it out on Monday cause I&#39;m writing from my mobile"},{"owner":{"account_id":4869680,"reputation":77,"user_id":3926645,"accept_rate":18,"display_name":"Ibrahim"},"score":0,"creation_date":1486841323,"post_id":42176511,"comment_id":71523494,"body_markdown":"Ok I will try, but I need to ask you that, can I use spring-cloud-sleuth without @SpringBootApplication annotation? , cause I tried it with spring boot application and all things go smoothly","body":"Ok I will try, but I need to ask you that, can I use spring-cloud-sleuth without @SpringBootApplication annotation? , cause I tried it with spring boot application and all things go smoothly"},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":1,"creation_date":1486841469,"post_id":42176511,"comment_id":71523537,"body_markdown":"I really doubt it. Theoretically you could set everything up yourself but I don&#39;t guarantee that it will work. So let&#39;s assume that the answer is no","body":"I really doubt it. Theoretically you could set everything up yourself but I don&#39;t guarantee that it will work. So let&#39;s assume that the answer is no"},{"owner":{"account_id":4869680,"reputation":77,"user_id":3926645,"accept_rate":18,"display_name":"Ibrahim"},"score":0,"creation_date":1486841687,"post_id":42176511,"comment_id":71523604,"body_markdown":"Ok, I will keep trying to solve the problem, thanks again","body":"Ok, I will keep trying to solve the problem, thanks again"}],"answers":[{"tags":[],"owner":{"account_id":3612161,"reputation":3430,"user_id":3012916,"display_name":"nekperu15739"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697030582,"creation_date":1488880570,"answer_id":42645085,"question_id":42176511,"body_markdown":"i copy/paste your code and it works, but i should mention some diferences:\r\n\r\nfirst and most important, i run it with a main witch of course have and springboot anotation:\r\n\r\n```\r\n@SpringBootApplication(scanBasePackages=&quot;com.cloud&quot;)\r\n```\r\n\r\nsecond, i delete your Config class, becaouse it doesnt do anything.\r\n\r\nthird, my spring version is `1.5.1.RELEASE` and the spring cloud version is `Dalston.BUILD-SNAPSHOT`\r\n\r\nthis are the logs:\r\n\r\n```\r\n2017-03-07 10:48:29.716  INFO [traceId,2488a4c8d3f7238a,2488a4c8d3f7238a,false] 4179 --- [nio-8080-exec-1] com.cloud.Controller                     : span id is 2632535164654658442 and trace id is 2632535164654658442\r\n2017-03-07 10:48:45.162  INFO [traceId,2488a4c8d3f7238a,f5e476485b30fd85,false] 4179 --- [nio-8080-exec-2] com.cloud.Controller                     : span id is -728327186587517563 and trace id is 2632535164654658442\r\n```","title":"different traceId every new http request in spring cloud sleuth","body":"<p>i copy/paste your code and it works, but i should mention some diferences:</p>\n<p>first and most important, i run it with a main witch of course have and springboot anotation:</p>\n<pre><code>@SpringBootApplication(scanBasePackages=&quot;com.cloud&quot;)\n</code></pre>\n<p>second, i delete your Config class, becaouse it doesnt do anything.</p>\n<p>third, my spring version is <code>1.5.1.RELEASE</code> and the spring cloud version is <code>Dalston.BUILD-SNAPSHOT</code></p>\n<p>this are the logs:</p>\n<pre><code>2017-03-07 10:48:29.716  INFO [traceId,2488a4c8d3f7238a,2488a4c8d3f7238a,false] 4179 --- [nio-8080-exec-1] com.cloud.Controller                     : span id is 2632535164654658442 and trace id is 2632535164654658442\n2017-03-07 10:48:45.162  INFO [traceId,2488a4c8d3f7238a,f5e476485b30fd85,false] 4179 --- [nio-8080-exec-2] com.cloud.Controller                     : span id is -728327186587517563 and trace id is 2632535164654658442\n</code></pre>\n"}],"owner":{"account_id":4869680,"reputation":77,"user_id":3926645,"accept_rate":18,"display_name":"Ibrahim"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697030582,"creation_date":1486820372,"question_id":42176511,"body_markdown":"Recently, I started with spring cloud sleuth to trace the request in the application, and I wrote sample project to test this feature, but when the application is run, the log shows that there are different trace ids for every new http request.\r\n\r\nand here is may code:\r\nConfig.java\r\n\r\n    package com.cloud;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n\r\n    @Configuration\r\n    @ComponentScan()\r\n    @EnableAutoConfiguration()\r\n    @EnableWebMvc\r\n    public class Config {\r\n    }\r\n\r\nController.java\r\n\r\n    package com.cloud;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.cloud.sleuth.Span;\r\n    import org.springframework.cloud.sleuth.SpanAccessor;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.client.RestTemplate;\r\n\r\n    @RestController\r\n    public class Controller {\r\n\r\n\t@Autowired\r\n\tSpanAccessor spanAccessor;\r\n\t@Autowired\r\n\tRestTemplate restTemplate;\r\n\tint port = 8080;\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(Controller.class);\r\n\t\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic String hi() throws InterruptedException {\r\n\t\tLOGGER.debug(&quot;you called hi&quot;);\r\n\t\tdebug();\r\n\t\tString s = this.restTemplate\r\n\t\t\t\t.getForObject(&quot;http://localhost:&quot; + this.port + &quot;/cloud/hi2&quot;, String.class);\r\n\t\treturn &quot;hi/&quot; + s;\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/hi2&quot;)\r\n\tpublic String hi2() throws InterruptedException {\r\n\t\tLOGGER.debug(&quot;you called hi2&quot;);\r\n\t\tdebug();\r\n\t\treturn &quot;welcome&quot;;\r\n\t}\r\n\t\r\n\tpublic void debug(){\r\n\t\tSpan span = spanAccessor.getCurrentSpan();\r\n\t\tLOGGER.info(&quot;span id is &quot;+span.getSpanId()+&quot; and trace id is &quot;+span.getTraceId());\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic RestTemplate restTemplate(){\r\n\t\treturn new RestTemplate();\r\n\t}\r\n    }\r\n\r\nand here is log:\r\n\r\n    you called hi: span id is 6716502497271349964 and trace id is 6716502497271349964\r\n    you called hi2: span id is -4542377791493777157  and trace id is -4542377791493777157\r\n\r\n\r\n\r\n","title":"different traceId every new http request in spring cloud sleuth","body":"<p>Recently, I started with spring cloud sleuth to trace the request in the application, and I wrote sample project to test this feature, but when the application is run, the log shows that there are different trace ids for every new http request.</p>\n\n<p>and here is may code:\nConfig.java</p>\n\n<pre><code>package com.cloud;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\n@Configuration\n@ComponentScan()\n@EnableAutoConfiguration()\n@EnableWebMvc\npublic class Config {\n}\n</code></pre>\n\n<p>Controller.java</p>\n\n<pre><code>package com.cloud;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.sleuth.Span;\nimport org.springframework.cloud.sleuth.SpanAccessor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\n@RestController\npublic class Controller {\n\n@Autowired\nSpanAccessor spanAccessor;\n@Autowired\nRestTemplate restTemplate;\nint port = 8080;\nprivate static final Logger LOGGER = LoggerFactory.getLogger(Controller.class);\n\n@RequestMapping(\"/\")\npublic String hi() throws InterruptedException {\n    LOGGER.debug(\"you called hi\");\n    debug();\n    String s = this.restTemplate\n            .getForObject(\"http://localhost:\" + this.port + \"/cloud/hi2\", String.class);\n    return \"hi/\" + s;\n}\n\n@RequestMapping(\"/hi2\")\npublic String hi2() throws InterruptedException {\n    LOGGER.debug(\"you called hi2\");\n    debug();\n    return \"welcome\";\n}\n\npublic void debug(){\n    Span span = spanAccessor.getCurrentSpan();\n    LOGGER.info(\"span id is \"+span.getSpanId()+\" and trace id is \"+span.getTraceId());\n}\n\n@Bean\npublic RestTemplate restTemplate(){\n    return new RestTemplate();\n}\n}\n</code></pre>\n\n<p>and here is log:</p>\n\n<pre><code>you called hi: span id is 6716502497271349964 and trace id is 6716502497271349964\nyou called hi2: span id is -4542377791493777157  and trace id is -4542377791493777157\n</code></pre>\n"},{"tags":["java","spring","lombok","final","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681108492,"creation_date":1681107900,"answer_id":75974745,"question_id":75974580,"body_markdown":"The problem is closely related to lombok, which is quite common. \r\n## What I would suggest for such problem is **to look at the processed class**. \r\nIf you are using IntelliJ, go to the project build directory to open the class file. \r\n\r\n## 1. if the Vechicle member variable of Person is declared as final, an exception is thrown;\r\nThe processed class is:\r\n```java\r\n@Component\r\npublic class Person {\r\n    private String name = &quot;Mike&quot;;\r\n    @Qualifier(&quot;vehicle2&quot;)\r\n    private final Vehicle vehicle;\r\n\r\n    public Person(final Vehicle vehicle) {\r\n        this.vehicle = vehicle;\r\n    }\r\n    ...\r\n}\r\n\r\n```\r\nWe see that injection is through the constructor in this case, and `@Qualifier` is neglected. Hence we will see `NoUniqueBeanDefinitionException` as we does not specify which bean to use.\r\n\r\n## 2. otherwise, no exception is thrown (but the vehicle is null).\r\nThis time the processed class is:\r\n```java\r\n@Component\r\npublic class Person {\r\n    private String name = &quot;Mike&quot;;\r\n    @Qualifier(&quot;vehicle2&quot;)\r\n    private Vehicle vehicle;\r\n\r\n    public Person() {\r\n    }\r\n    ...\r\n}\r\n```\r\n`vehicle` does not appear in the constructor this time and there is no `@Autowired` for `vehicle, so no injection is preformed and it is null.\r\n\r\n## How to make it work?\r\n\r\nTo begin, it is not common to use `@Data` with Spring bean, `@Data` is usually used by DTO. And in favour of constructor injection, I will modify `Person` like below\r\n```java\r\n@Component\r\npublic class Person {\r\n    private String name = &quot;Mike&quot;;\r\n    private final Vehicle vehicle;\r\n    public Person(@Qualifier(&quot;vehicle2&quot;) Vehicle vehicle) {\r\n        this.vehicle = vehicle;\r\n    }\r\n    // ... getter setter omitted\r\n}\r\n```","title":"Why @Qualifier annotation does not work with final member variable","body":"<p>The problem is closely related to lombok, which is quite common.</p>\n<h2>What I would suggest for such problem is <strong>to look at the processed class</strong>.</h2>\n<p>If you are using IntelliJ, go to the project build directory to open the class file.</p>\n<h2>1. if the Vechicle member variable of Person is declared as final, an exception is thrown;</h2>\n<p>The processed class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Person {\n    private String name = &quot;Mike&quot;;\n    @Qualifier(&quot;vehicle2&quot;)\n    private final Vehicle vehicle;\n\n    public Person(final Vehicle vehicle) {\n        this.vehicle = vehicle;\n    }\n    ...\n}\n\n</code></pre>\n<p>We see that injection is through the constructor in this case, and <code>@Qualifier</code> is neglected. Hence we will see <code>NoUniqueBeanDefinitionException</code> as we does not specify which bean to use.</p>\n<h2>2. otherwise, no exception is thrown (but the vehicle is null).</h2>\n<p>This time the processed class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Person {\n    private String name = &quot;Mike&quot;;\n    @Qualifier(&quot;vehicle2&quot;)\n    private Vehicle vehicle;\n\n    public Person() {\n    }\n    ...\n}\n</code></pre>\n<p><code>vehicle</code> does not appear in the constructor this time and there is no <code>@Autowired</code> for `vehicle, so no injection is preformed and it is null.</p>\n<h2>How to make it work?</h2>\n<p>To begin, it is not common to use <code>@Data</code> with Spring bean, <code>@Data</code> is usually used by DTO. And in favour of constructor injection, I will modify <code>Person</code> like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Person {\n    private String name = &quot;Mike&quot;;\n    private final Vehicle vehicle;\n    public Person(@Qualifier(&quot;vehicle2&quot;) Vehicle vehicle) {\n        this.vehicle = vehicle;\n    }\n    // ... getter setter omitted\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697030288,"creation_date":1697030288,"answer_id":77273423,"question_id":75974580,"body_markdown":"I faced the same problem. If you were not using Lombok annotations then your class Person would have a constructor with @Autowired annotation\r\n\r\n        @Autowired\r\n        public Person(@Qualifier(&quot;vehicle2&quot;) Vehicle vehicle) {\r\n            this.myService = myService;\r\n        }\r\nThis tells Spring to load a bean with @Qualifier(&quot;vehicle2&quot;) while loading bean of class Person in the context. And this works perfectly fine.\r\n\r\nThe problem here is the use of Lombok annotations. So with @Data,  `@RequiredArgsConstructor` comes into picture. \r\nAnd by default Lombok doesn&#39;t copy the @Qualifier annotation to the injected constructor.\r\n\r\nThis was an issue/limitation in Lombok until version 1.18.4. However it is fixed now and you need to add following line in `lombok.config` (if you are not already using this file, then create one `src` folder)\r\n\r\n    lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Qualifier\r\n\r\nAs the key means, it will instruct Lombok to add the Qualifier annotation to the injected constructor.\r\n\r\nAnd this will then work as expected. ","title":"Why @Qualifier annotation does not work with final member variable","body":"<p>I faced the same problem. If you were not using Lombok annotations then your class Person would have a constructor with @Autowired annotation</p>\n<pre><code>    @Autowired\n    public Person(@Qualifier(&quot;vehicle2&quot;) Vehicle vehicle) {\n        this.myService = myService;\n    }\n</code></pre>\n<p>This tells Spring to load a bean with @Qualifier(&quot;vehicle2&quot;) while loading bean of class Person in the context. And this works perfectly fine.</p>\n<p>The problem here is the use of Lombok annotations. So with @Data,  <code>@RequiredArgsConstructor</code> comes into picture.\nAnd by default Lombok doesn't copy the @Qualifier annotation to the injected constructor.</p>\n<p>This was an issue/limitation in Lombok until version 1.18.4. However it is fixed now and you need to add following line in <code>lombok.config</code> (if you are not already using this file, then create one <code>src</code> folder)</p>\n<pre><code>lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Qualifier\n</code></pre>\n<p>As the key means, it will instruct Lombok to add the Qualifier annotation to the injected constructor.</p>\n<p>And this will then work as expected.</p>\n"}],"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75974745,"answer_count":2,"score":1,"last_activity_date":1697030288,"creation_date":1681105864,"question_id":75974580,"body_markdown":"I noticed that the `@Qualifier` annotation does not work with `final` member variable.\r\nIn the code below, \r\n\r\n - if the `Vehicle` member variable of `Person` is declared as `final`, an exception is thrown; \r\n - otherwise, no exception is thrown (but the    `vehicle` is null).\r\n\r\nCan anyone please explain why?\r\n\r\n```\r\n// 2 Vehicle beans are annotated by @Qualifier;\r\n@Configuration\r\npublic class Config \r\n{\r\n  @Bean\r\n  @Qualifier(&quot;vehicle1&quot;)\r\n  Vehicle vehicle1() {\r\n    var veh = new Vehicle();\r\n    veh.setName(&quot;Benz&quot;);\r\n    return veh;\r\n  }\r\n\r\n  @Bean\r\n  @Qualifier(&quot;vehicle2&quot;)\r\n  Vehicle vehicle2() {\r\n    var veh = new Vehicle();\r\n    veh.setName(&quot;BMW&quot;);\r\n    return veh;\r\n  }\r\n}\r\n\r\n// Person has a final member variable Vehicle\r\n@Component\r\n@Data\r\npublic class Person \r\n{\r\n  private String name=&quot;Mike&quot;;\r\n\r\n  @Qualifier(&quot;vehicle2&quot;)\r\n  private final Vehicle vehicle;\r\n}\r\n```\r\n\r\nSpringboot complain about NoUniqueBeanDefinitionException:\r\n\r\n&gt; - No qualifying bean of type &#39;project1.Vehicle&#39; available: expected\r\n   single matching bean but found 2: vehicle1,vehicle2\r\n\r\n","title":"Why @Qualifier annotation does not work with final member variable","body":"<p>I noticed that the <code>@Qualifier</code> annotation does not work with <code>final</code> member variable.\nIn the code below,</p>\n<ul>\n<li>if the <code>Vehicle</code> member variable of <code>Person</code> is declared as <code>final</code>, an exception is thrown;</li>\n<li>otherwise, no exception is thrown (but the    <code>vehicle</code> is null).</li>\n</ul>\n<p>Can anyone please explain why?</p>\n<pre><code>// 2 Vehicle beans are annotated by @Qualifier;\n@Configuration\npublic class Config \n{\n  @Bean\n  @Qualifier(&quot;vehicle1&quot;)\n  Vehicle vehicle1() {\n    var veh = new Vehicle();\n    veh.setName(&quot;Benz&quot;);\n    return veh;\n  }\n\n  @Bean\n  @Qualifier(&quot;vehicle2&quot;)\n  Vehicle vehicle2() {\n    var veh = new Vehicle();\n    veh.setName(&quot;BMW&quot;);\n    return veh;\n  }\n}\n\n// Person has a final member variable Vehicle\n@Component\n@Data\npublic class Person \n{\n  private String name=&quot;Mike&quot;;\n\n  @Qualifier(&quot;vehicle2&quot;)\n  private final Vehicle vehicle;\n}\n</code></pre>\n<p>Springboot complain about NoUniqueBeanDefinitionException:</p>\n<blockquote>\n<ul>\n<li>No qualifying bean of type 'project1.Vehicle' available: expected\nsingle matching bean but found 2: vehicle1,vehicle2</li>\n</ul>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","selenium-grid","selenium-server"],"owner":{"account_id":26767680,"reputation":3,"user_id":20364570,"display_name":"Gaylord "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697029855,"creation_date":1697029855,"question_id":77273374,"body_markdown":"I download selenium-server-4.14.0 from official website and run it as hub on my machine (The operating system is window 11), I do the same on a virtual machine and run it as node (The operating system is window 10). When I register the node to the hub, my node keeps sending registration event and my hub keeps binding additional locator mechanisms: relative but the connection seems failed! Can you guys help me fix it?\r\n\r\n[My hub](https://i.stack.imgur.com/WnnTL.png)\r\n\r\n[My node](https://i.stack.imgur.com/1vr17.png)\r\n\r\nI try to find the solutions but found none!\r\n","title":"My node and hub couldn&#39;t communicate with each other in selenium grid","body":"<p>I download selenium-server-4.14.0 from official website and run it as hub on my machine (The operating system is window 11), I do the same on a virtual machine and run it as node (The operating system is window 10). When I register the node to the hub, my node keeps sending registration event and my hub keeps binding additional locator mechanisms: relative but the connection seems failed! Can you guys help me fix it?</p>\n<p><a href=\"https://i.stack.imgur.com/WnnTL.png\" rel=\"nofollow noreferrer\">My hub</a></p>\n<p><a href=\"https://i.stack.imgur.com/1vr17.png\" rel=\"nofollow noreferrer\">My node</a></p>\n<p>I try to find the solutions but found none!</p>\n"},{"tags":["java","hibernate","jsp","struts2"],"comments":[{"owner":{"account_id":32599,"reputation":9219,"user_id":90575,"accept_rate":57,"display_name":"mawia"},"score":0,"creation_date":1367827619,"post_id":16394327,"comment_id":23499961,"body_markdown":"Seems like you have jumped on strut, hibernate and all the heavenly framework without getting your basic, like JSP and application server interaction, cleared. Though you are not alone in this. Most of the people are pushed into SPRING STRUT thing without even first getting to know their essence. To the extent that some novice think that an application can&#39;t be designed without these framework. I will suggest to you to do more research on basic like Request object, Session object and then learn the wrapper designed over them.","body":"Seems like you have jumped on strut, hibernate and all the heavenly framework without getting your basic, like JSP and application server interaction, cleared. Though you are not alone in this. Most of the people are pushed into SPRING STRUT thing without even first getting to know their essence. To the extent that some novice think that an application can&#39;t be designed without these framework. I will suggest to you to do more research on basic like Request object, Session object and then learn the wrapper designed over them."},{"owner":{"account_id":32599,"reputation":9219,"user_id":90575,"accept_rate":57,"display_name":"mawia"},"score":0,"creation_date":1367828309,"post_id":16394327,"comment_id":23500218,"body_markdown":"yeah!Thanks for correcting:) But everything I said, I still stand by it.","body":"yeah!Thanks for correcting:) But everything I said, I still stand by it."},{"owner":{"display_name":"user2314543"},"score":0,"creation_date":1367834246,"post_id":16394327,"comment_id":23502852,"body_markdown":"@mawia : I understand that you given a right guide to me. Yes, I&#39;m novice. I&#39;m not getting values in user reference. I know i&#39;m wrong in somewhere in getting these values. Let me know where my shortfall is.","body":"@mawia : I understand that you given a right guide to me. Yes, I&#39;m novice. I&#39;m not getting values in user reference. I know i&#39;m wrong in somewhere in getting these values. Let me know where my shortfall is."}],"answers":[{"tags":[],"owner":{"account_id":1554659,"reputation":495,"user_id":1446173,"display_name":"Code2Interface"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367827774,"creation_date":1367827774,"answer_id":16394589,"question_id":16394327,"body_markdown":"instead of doing this\r\n\r\n    System.out.println(&quot;User Name: &quot; +user.getUsername());\r\n\r\ndo this \r\n\r\n\r\n    System.out.println(&quot;User Name: &quot; +getUsername());\r\n\r\n","title":"JSP Input data (Welcome.Jsp) cannot get by Java code (OrderProcessingAction.saveOrUpdate() )","body":"<p>instead of doing this</p>\n\n<pre><code>System.out.println(\"User Name: \" +user.getUsername());\n</code></pre>\n\n<p>do this </p>\n\n<pre><code>System.out.println(\"User Name: \" +getUsername());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367839290,"creation_date":1367831412,"answer_id":16395431,"question_id":16394327,"body_markdown":"In your code you should replace DAO to a [typical transaction][1]\r\n\r\n&gt; A typical transaction should use the following idiom:\r\n&gt; \r\n&gt;      Session sess = factory.openSession();\r\n&gt;      Transaction tx;\r\n&gt;      try {\r\n&gt;          tx = sess.beginTransaction();\r\n&gt;          //do some work\r\n&gt;          ...\r\n&gt;          tx.commit();\r\n&gt;      }\r\n&gt;      catch (Exception e) {\r\n&gt;          if (tx!=null) tx.rollback();\r\n&gt;          throw e;\r\n&gt;      }\r\n&gt;      finally {\r\n&gt;          sess.close();\r\n&gt;      }\r\n\r\n \r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.5/javadoc/org/hibernate/Session.html","title":"JSP Input data (Welcome.Jsp) cannot get by Java code (OrderProcessingAction.saveOrUpdate() )","body":"<p>In your code you should replace DAO to a <a href=\"http://docs.jboss.org/hibernate/orm/3.5/javadoc/org/hibernate/Session.html\" rel=\"nofollow\">typical transaction</a></p>\n\n<blockquote>\n  <p>A typical transaction should use the following idiom:</p>\n\n<pre><code> Session sess = factory.openSession();\n Transaction tx;\n try {\n     tx = sess.beginTransaction();\n     //do some work\n     ...\n     tx.commit();\n }\n catch (Exception e) {\n     if (tx!=null) tx.rollback();\n     throw e;\n }\n finally {\n     sess.close();\n }\n</code></pre>\n</blockquote>\n"}],"owner":{"display_name":"user2314543"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697029395,"creation_date":1367826488,"question_id":16394327,"body_markdown":"JSP page input the details user and sends to struts action, `struts.xml` mapped the action to Action class `OrderProcessingAction` method `saveOrUpdate()` and this method call `saveOrUpdateUser()` of DAO class where actual data accessing the DB tables fields.\r\n\r\nBelow are deliverables:  \r\n\r\n 1. JSP Page **:** Welcome.jsp&lt;br/&gt;\r\n 2. ActionClass **:** OrderProcessingAction.java&lt;br/&gt;\r\n 3. Data Access **:** UserDaoFactory.java Object&lt;br/&gt;\r\n 4. `struts.xml` file&lt;br/&gt;\r\n\r\n\r\n&lt;!-- language: lang-xml --&gt; \r\n\r\n    /**\r\n     * Welcome.Jsp : Here my JSP page code.\r\n     */\r\n    &lt;s:form method=&quot;post&quot; name=&quot;myform&quot; action=&quot;saveOrUpdate.action&quot;&gt;\r\n\t           \t\t   \r\n\t   \t&lt;s:textfield label=&quot;Customer Name&quot; name=&quot;username&quot; size=&quot;30&quot;/&gt;\r\n\t    \r\n\t    &lt;s:password label=&quot;Customer Password&quot; name=&quot;password&quot; size=&quot;30&quot;/&gt;\r\n\t    \r\n\t   \t&lt;s:textfield label=&quot;Contact No&quot; name=&quot;contact&quot; size=&quot;30&quot;/&gt;\r\n\t  \r\n\t   \t&lt;s:textfield label=&quot;Email&quot; name=&quot;email&quot; size=&quot;30&quot;/&gt;\r\n\t   \r\n\t   \t&lt;s:textfield label=&quot;City&quot; name=&quot;city&quot; size=&quot;30&quot;/&gt;\r\n\r\n\t\t\t \t   \t\t   \r\n\t\t&lt;s:submit label=&quot;Submit&quot; /&gt;\r\n\t\t&lt;s:reset label=&quot;Clear&quot;/&gt;\r\n\r\n    &lt;/s:form&gt;\r\n\r\nHere `struts.xml` file.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;saveOrUpdate&quot; \r\n            class=&quot;com.view.OrderProcessingAction&quot; \r\n            method=&quot;saveOrUpdate&quot;&gt;\r\n     &lt;result name=&quot;success&quot;&gt;/Welcome.jsp&lt;/result&gt;\r\n    &lt;/action&gt; \r\n\r\n\t\r\n\r\nBelow is my OrderProcessingAction (ActionClass) where i&#39;m getting call of DAO class method. \r\n        \r\n    private String username;\r\n\tprivate String password;\r\n\tprivate int contact;\r\n\tprivate String email;\r\n\tprivate String city;\r\n        \r\n    //Pojo class OrderPorcessing reference initiated\r\n    OrderProcessing user = new OrderProcessing();\t\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\t\r\n\tpublic int getContact() {\r\n\t\treturn contact;\r\n\t}\r\n\tpublic void setContact(int contact) {\r\n\t\tthis.contact = contact;\r\n\t}\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\t\t\r\n      /**\r\n\t  * To save or update user. \r\n\t   * @return String\r\n\t  */\r\n\t   public String saveOrUpdate(){\r\n\t\t\t\t\r\n\t\tuserDaoFactory.saveOrUpdateUser(user);\r\n        System.out.println(&quot;User Name: &quot; +user.getUsername());\r\n\t\treturn SUCCESS;\r\n\t  }\r\n\r\n    \r\nBelow saveOrUpdate method from DAO class.\r\n    \r\n         /**\r\n    \t * Used to save or update a user by saveOrUpdate().\r\n    \t * @return void\r\n    \t */\r\n    \t  public void saveOrUpdateUser(User user) {\r\n\t\ttry {\r\n\t\t\tsession = HibernateUtil.getSessionFactory().openSession();\r\n\t\t\ttx = session.getTransaction();\r\n\t\t\t \r\n\t\t\tsession.saveOrUpdate(user);\r\n\t\t\t\r\n\t\t\ttx.commit();\r\n\t\t\tsession.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n                   \r\n\r\n    \r\n    \t\r\n\r\n\r\n","title":"JSP Input data (Welcome.Jsp) cannot get by Java code (OrderProcessingAction.saveOrUpdate() )","body":"<p>JSP page input the details user and sends to struts action, <code>struts.xml</code> mapped the action to Action class <code>OrderProcessingAction</code> method <code>saveOrUpdate()</code> and this method call <code>saveOrUpdateUser()</code> of DAO class where actual data accessing the DB tables fields.</p>\n<p>Below are deliverables:</p>\n<ol>\n<li>JSP Page <strong>:</strong> Welcome.jsp<br/></li>\n<li>ActionClass <strong>:</strong> OrderProcessingAction.java<br/></li>\n<li>Data Access <strong>:</strong> UserDaoFactory.java Object<br/></li>\n<li><code>struts.xml</code> file<br/></li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>/**\n * Welcome.Jsp : Here my JSP page code.\n */\n&lt;s:form method=&quot;post&quot; name=&quot;myform&quot; action=&quot;saveOrUpdate.action&quot;&gt;\n                   \n    &lt;s:textfield label=&quot;Customer Name&quot; name=&quot;username&quot; size=&quot;30&quot;/&gt;\n    \n    &lt;s:password label=&quot;Customer Password&quot; name=&quot;password&quot; size=&quot;30&quot;/&gt;\n    \n    &lt;s:textfield label=&quot;Contact No&quot; name=&quot;contact&quot; size=&quot;30&quot;/&gt;\n  \n    &lt;s:textfield label=&quot;Email&quot; name=&quot;email&quot; size=&quot;30&quot;/&gt;\n   \n    &lt;s:textfield label=&quot;City&quot; name=&quot;city&quot; size=&quot;30&quot;/&gt;\n\n                       \n    &lt;s:submit label=&quot;Submit&quot; /&gt;\n    &lt;s:reset label=&quot;Clear&quot;/&gt;\n\n&lt;/s:form&gt;\n</code></pre>\n<p>Here <code>struts.xml</code> file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;saveOrUpdate&quot; \n        class=&quot;com.view.OrderProcessingAction&quot; \n        method=&quot;saveOrUpdate&quot;&gt;\n &lt;result name=&quot;success&quot;&gt;/Welcome.jsp&lt;/result&gt;\n&lt;/action&gt; \n</code></pre>\n<p>Below is my OrderProcessingAction (ActionClass) where i'm getting call of DAO class method.</p>\n<pre><code>private String username;\nprivate String password;\nprivate int contact;\nprivate String email;\nprivate String city;\n    \n//Pojo class OrderPorcessing reference initiated\nOrderProcessing user = new OrderProcessing();   \n\npublic String getUsername() {\n    return username;\n}\npublic void setUsername(String username) {\n    this.username = username;\n}\npublic String getPassword() {\n    return password;\n}\npublic void setPassword(String password) {\n    this.password = password;\n}   \npublic int getContact() {\n    return contact;\n}\npublic void setContact(int contact) {\n    this.contact = contact;\n}\npublic String getEmail() {\n    return email;\n}\npublic void setEmail(String email) {\n    this.email = email;\n}\npublic String getCity() {\n    return city;\n}\npublic void setCity(String city) {\n    this.city = city;\n}\n    \n  /**\n  * To save or update user. \n   * @return String\n  */\n   public String saveOrUpdate(){\n            \n    userDaoFactory.saveOrUpdateUser(user);\n    System.out.println(&quot;User Name: &quot; +user.getUsername());\n    return SUCCESS;\n  }\n</code></pre>\n<p>Below saveOrUpdate method from DAO class.</p>\n<pre><code>     /**\n     * Used to save or update a user by saveOrUpdate().\n     * @return void\n     */\n      public void saveOrUpdateUser(User user) {\n    try {\n        session = HibernateUtil.getSessionFactory().openSession();\n        tx = session.getTransaction();\n         \n        session.saveOrUpdate(user);\n        \n        tx.commit();\n        session.close();\n\n    } catch (Exception e) {\n\n        e.printStackTrace();\n    }\n}\n               \n\n\n    \n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697027677,"post_id":77273097,"comment_id":136227485,"body_markdown":"What are you using to serialize your JPA entities (directly?) to JSON?","body":"What are you using to serialize your JPA entities (directly?) to JSON?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1697058373,"post_id":77273097,"comment_id":136233323,"body_markdown":"Does this answer your question? [Spring boot @ResponseBody doesn&#39;t serialize entity id](https://stackoverflow.com/questions/24839760/spring-boot-responsebody-doesnt-serialize-entity-id)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24839760/spring-boot-responsebody-doesnt-serialize-entity-id\">Spring boot @ResponseBody doesn&#39;t serialize entity id</a>"}],"answers":[{"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697028899,"creation_date":1697028899,"answer_id":77273268,"question_id":77273097,"body_markdown":"My assumption is you are using Jackson and Spring Data Rest.  By design Spring Data Rest does not expose internal ids, under the principle that internal ids generally do not mean anything to external systems.  Also there is a security argument to prevent internal ids from being exposed.  So by default the entity internal ids (@Id) will be suppressed.  \r\n\r\nYou can obviously change this default behavior.  \r\n\r\nThe most common way to expose entity ids is configuring RepositoryRestConfigurer: \r\n\r\n    @Configuration\r\n    public class RestConfiguration implements RepositoryRestConfigurer {\r\n    \r\n        @Override\r\n        public void configureRepositoryRestConfiguration(\r\n          RepositoryRestConfiguration config, CorsRegistry cors) {\r\n            config.exposeIdsFor(Book.class);\r\n        }\r\n    }\r\n\r\nIf you have numerous entities for which you want to expose ids, there is a more generic RestConfiguration that can expose for all entities contained within an EntityManager instance.","title":"JSON data doesn’t show the id column when running Spring Boot project","body":"<p>My assumption is you are using Jackson and Spring Data Rest.  By design Spring Data Rest does not expose internal ids, under the principle that internal ids generally do not mean anything to external systems.  Also there is a security argument to prevent internal ids from being exposed.  So by default the entity internal ids (@Id) will be suppressed.</p>\n<p>You can obviously change this default behavior.</p>\n<p>The most common way to expose entity ids is configuring RepositoryRestConfigurer:</p>\n<pre><code>@Configuration\npublic class RestConfiguration implements RepositoryRestConfigurer {\n\n    @Override\n    public void configureRepositoryRestConfiguration(\n      RepositoryRestConfiguration config, CorsRegistry cors) {\n        config.exposeIdsFor(Book.class);\n    }\n}\n</code></pre>\n<p>If you have numerous entities for which you want to expose ids, there is a more generic RestConfiguration that can expose for all entities contained within an EntityManager instance.</p>\n"}],"owner":{"account_id":21994835,"reputation":23,"user_id":16267554,"display_name":"Ash Crow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697028899,"creation_date":1697027537,"question_id":77273097,"body_markdown":"I’m working on a Spring Boot project where I have an entity called “Book” with an id column. I’m using Spring Data JPA and have created a repository interface called “BookRepo” that extends JpaRepository. However, when I run the project and retrieve the book data in JSON format, the id column is not included in the JSON response. For other dependencies I have Lombok, Rest Repositories, MySQL Driver.\r\n\r\nHere’s my code for the BookRepo interface:\r\n```\r\n\r\npackage com.bonglib.springbootlibrary.dao;\r\n\r\nimport com.bonglib.springbootlibrary.entity.Book;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface BookRepo extends JpaRepository&lt;Book, Long&gt; {\r\n\r\n}\r\n```\r\nHere’s my code for the Book entity:\r\n\r\n```\r\npackage com.bonglib.springbootlibrary.entity;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @Column(name = &quot;author&quot;)\r\n    private String author;\r\n\r\n    // Getters and setters\r\n\r\n    // Constructors\r\n}\r\n```\r\nWhen I retrieve the book data in JSON format, the id column is missing from the response. Here’s an example JSON response I’m getting:\r\n\r\n```\r\n{\r\n  &quot;title&quot;: &quot;Sample Book&quot;,\r\n  &quot;author&quot;: &quot;John Doe&quot;\r\n}\r\n```\r\n\r\nI would like the JSON response to include the id column as well. What could be causing this issue? Is there a configuration or annotation that I’m missing?\r\nAny help or suggestions would be greatly appreciated. Thank you!\r\n\r\n\r\n\r\n\r\nNot much idea how to go around solving, I had previous tried including\r\n\r\n\r\n```\r\n@JsonProperty(&quot;id&quot;)\r\n```\r\n\r\nas an annotation but nothing changed.\r\n","title":"JSON data doesn’t show the id column when running Spring Boot project","body":"<p>I’m working on a Spring Boot project where I have an entity called “Book” with an id column. I’m using Spring Data JPA and have created a repository interface called “BookRepo” that extends JpaRepository. However, when I run the project and retrieve the book data in JSON format, the id column is not included in the JSON response. For other dependencies I have Lombok, Rest Repositories, MySQL Driver.</p>\n<p>Here’s my code for the BookRepo interface:</p>\n<pre><code>\npackage com.bonglib.springbootlibrary.dao;\n\nimport com.bonglib.springbootlibrary.entity.Book;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface BookRepo extends JpaRepository&lt;Book, Long&gt; {\n\n}\n</code></pre>\n<p>Here’s my code for the Book entity:</p>\n<pre><code>package com.bonglib.springbootlibrary.entity;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @Column(name = &quot;author&quot;)\n    private String author;\n\n    // Getters and setters\n\n    // Constructors\n}\n</code></pre>\n<p>When I retrieve the book data in JSON format, the id column is missing from the response. Here’s an example JSON response I’m getting:</p>\n<pre><code>{\n  &quot;title&quot;: &quot;Sample Book&quot;,\n  &quot;author&quot;: &quot;John Doe&quot;\n}\n</code></pre>\n<p>I would like the JSON response to include the id column as well. What could be causing this issue? Is there a configuration or annotation that I’m missing?\nAny help or suggestions would be greatly appreciated. Thank you!</p>\n<p>Not much idea how to go around solving, I had previous tried including</p>\n<pre><code>@JsonProperty(&quot;id&quot;)\n</code></pre>\n<p>as an annotation but nothing changed.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":1,"creation_date":1697027254,"post_id":77273036,"comment_id":136227404,"body_markdown":"How are you testing your endpoints?","body":"How are you testing your endpoints?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1697027305,"post_id":77273036,"comment_id":136227412,"body_markdown":"The endpoint itself looks fine. The problem must then be in code that you haven&#39;t shown us, such as the client or an intermediate server or proxy.","body":"The endpoint itself looks fine. The problem must then be in code that you haven&#39;t shown us, such as the client or an intermediate server or proxy."},{"owner":{"account_id":14596857,"reputation":375,"user_id":10542284,"display_name":"Jugert Mucoimaj"},"score":0,"creation_date":1697027788,"post_id":77273036,"comment_id":136227504,"body_markdown":"Hey guys, @Alex_X1 and @Jorn thanks for your time guys but the problem was in the exactly on the  `sendVerificationEmail`. I fixed it and I&#39;m closing this question now and thanks again for your time!!","body":"Hey guys, @Alex_X1 and @Jorn thanks for your time guys but the problem was in the exactly on the  <code>sendVerificationEmail</code>. I fixed it and I&#39;m closing this question now and thanks again for your time!!"}],"answers":[{"tags":[],"owner":{"account_id":26323032,"reputation":11,"user_id":19984776,"display_name":"SilverLuke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697028449,"creation_date":1697027967,"answer_id":77273141,"question_id":77273036,"body_markdown":"I think there could be problems in these different places:\r\n- The `findByVerificationToken` method run the wrong query.\r\n- he DB might not have the data you are searching for.\r\n- You could be pointing to the wrong database (Test, Production, etc.).\r\n\r\nBy the way, I personally would write the code a little bit differently, keeping the code inside a try/catch block as minimal as possible.\r\n\r\n    @GetMapping(&quot;/verify-email&quot;)\r\n        public ResponseEntity&lt;String&gt; verifyEmail(@RequestParam String token) {\r\n            System.out.println(&quot;Gets on GET&quot;);\r\n            User user;\r\n            try {\r\n                // Look up the user in your database by the provided token\r\n                user = userRepository.findByVerificationToken(token);            \r\n            } catch (Exception e) {\r\n                // Handle exceptions here\r\n                e.printStackTrace();\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;);\r\n            }\r\n            if (user != null) {\r\n                System.out.println(&quot;User found with verification token: &quot; + token);\r\n                // Mark the user as verified in your database\r\n                user.setVerified(true);\r\n                userRepository.save(user);\r\n    \r\n                // You can also return a success response or redirect to a confirmation page\r\n                return ResponseEntity.ok(&quot;Email verified successfully&quot;);\r\n            } else {\r\n                System.out.println(&quot;No user found&quot;);\r\n                // Token is not valid or user doesn&#39;t exist\r\n                return ResponseEntity.notFound().build(); // Return a 404 status code\r\n            }\r\n        }","title":"SpringBoot GetMapping Throwing always a 404 code","body":"<p>I think there could be problems in these different places:</p>\n<ul>\n<li>The <code>findByVerificationToken</code> method run the wrong query.</li>\n<li>he DB might not have the data you are searching for.</li>\n<li>You could be pointing to the wrong database (Test, Production, etc.).</li>\n</ul>\n<p>By the way, I personally would write the code a little bit differently, keeping the code inside a try/catch block as minimal as possible.</p>\n<pre><code>@GetMapping(&quot;/verify-email&quot;)\n    public ResponseEntity&lt;String&gt; verifyEmail(@RequestParam String token) {\n        System.out.println(&quot;Gets on GET&quot;);\n        User user;\n        try {\n            // Look up the user in your database by the provided token\n            user = userRepository.findByVerificationToken(token);            \n        } catch (Exception e) {\n            // Handle exceptions here\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;);\n        }\n        if (user != null) {\n            System.out.println(&quot;User found with verification token: &quot; + token);\n            // Mark the user as verified in your database\n            user.setVerified(true);\n            userRepository.save(user);\n\n            // You can also return a success response or redirect to a confirmation page\n            return ResponseEntity.ok(&quot;Email verified successfully&quot;);\n        } else {\n            System.out.println(&quot;No user found&quot;);\n            // Token is not valid or user doesn't exist\n            return ResponseEntity.notFound().build(); // Return a 404 status code\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14596857,"reputation":375,"user_id":10542284,"display_name":"Jugert Mucoimaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697028449,"creation_date":1697027038,"question_id":77273036,"body_markdown":"I have a `springboot` application and I&#39;m making a backend API email verification system. The post method works correctly as it should but I&#39;m having problems with the `GetMapping` annotation and can&#39;t get the idea why is it returning me a `404 Status Code Error`.\r\n\r\nBelow I have the code:\r\n\r\n```\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class EmailVerificationEndpoint {\r\n\r\n    private final JavaMailSender javaMailSender;\r\n    private final EmailProperties emailProperties;\r\n    private final UserRepository userRepository; // Autowire the UserRepository\r\n\r\n    @Autowired\r\n    public EmailVerificationEndpoint(JavaMailSender javaMailSender, EmailProperties emailProperties, UserRepository userRepository) {\r\n        this.javaMailSender = javaMailSender;\r\n        this.emailProperties = emailProperties;\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @PostMapping(&quot;/send-verification-email&quot;)\r\n    public ResponseEntity&lt;String&gt; sendVerificationEmail(@RequestBody EmailRequest emailRequest) {\r\n        try {\r\n            // This works fine\r\n        } catch (MessagingException | UnsupportedEncodingException e) {\r\n            // Handle exceptions (e.g., email sending failure) here\r\n            // You can log an error message or return an error response to the frontend\r\n            e.printStackTrace();\r\n            return ResponseEntity.badRequest().body(&quot;Error sending email&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/verify-email&quot;)\r\n    public ResponseEntity&lt;String&gt; verifyEmail(@RequestParam String token) {\r\n        try {\r\n            System.out.println(&quot;Gets on GET&quot;);\r\n            // Look up the user in your database by the provided token\r\n            User user = userRepository.findByVerificationToken(token);\r\n\r\n            if (user != null) {\r\n                System.out.println(&quot;User found with verification token: &quot; + token);\r\n                // Mark the user as verified in your database\r\n                user.setVerified(true);\r\n                userRepository.save(user);\r\n\r\n                // You can also return a success response or redirect to a confirmation page\r\n                return ResponseEntity.ok(&quot;Email verified successfully&quot;);\r\n            } else {\r\n                // Token is not valid or user doesn&#39;t exist\r\n                return ResponseEntity.notFound().build(); // Return a 404 status code\r\n            }\r\n        } catch (Exception e) {\r\n            // Handle exceptions here\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nCan please someone help me with what&#39;s wrong about this? What I have been trying is not working...","title":"SpringBoot GetMapping Throwing always a 404 code","body":"<p>I have a <code>springboot</code> application and I'm making a backend API email verification system. The post method works correctly as it should but I'm having problems with the <code>GetMapping</code> annotation and can't get the idea why is it returning me a <code>404 Status Code Error</code>.</p>\n<p>Below I have the code:</p>\n<pre><code>\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class EmailVerificationEndpoint {\n\n    private final JavaMailSender javaMailSender;\n    private final EmailProperties emailProperties;\n    private final UserRepository userRepository; // Autowire the UserRepository\n\n    @Autowired\n    public EmailVerificationEndpoint(JavaMailSender javaMailSender, EmailProperties emailProperties, UserRepository userRepository) {\n        this.javaMailSender = javaMailSender;\n        this.emailProperties = emailProperties;\n        this.userRepository = userRepository;\n    }\n\n    @PostMapping(&quot;/send-verification-email&quot;)\n    public ResponseEntity&lt;String&gt; sendVerificationEmail(@RequestBody EmailRequest emailRequest) {\n        try {\n            // This works fine\n        } catch (MessagingException | UnsupportedEncodingException e) {\n            // Handle exceptions (e.g., email sending failure) here\n            // You can log an error message or return an error response to the frontend\n            e.printStackTrace();\n            return ResponseEntity.badRequest().body(&quot;Error sending email&quot;);\n        }\n    }\n\n\n    @GetMapping(&quot;/verify-email&quot;)\n    public ResponseEntity&lt;String&gt; verifyEmail(@RequestParam String token) {\n        try {\n            System.out.println(&quot;Gets on GET&quot;);\n            // Look up the user in your database by the provided token\n            User user = userRepository.findByVerificationToken(token);\n\n            if (user != null) {\n                System.out.println(&quot;User found with verification token: &quot; + token);\n                // Mark the user as verified in your database\n                user.setVerified(true);\n                userRepository.save(user);\n\n                // You can also return a success response or redirect to a confirmation page\n                return ResponseEntity.ok(&quot;Email verified successfully&quot;);\n            } else {\n                // Token is not valid or user doesn't exist\n                return ResponseEntity.notFound().build(); // Return a 404 status code\n            }\n        } catch (Exception e) {\n            // Handle exceptions here\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;);\n        }\n    }\n\n\n}\n</code></pre>\n<p>Can please someone help me with what's wrong about this? What I have been trying is not working...</p>\n"},{"tags":["java","spring","spring-boot","docker","apache-kafka"],"comments":[{"owner":{"account_id":2146209,"reputation":4043,"user_id":1903781,"accept_rate":53,"display_name":"Adrian Moisa"},"score":0,"creation_date":1684698339,"post_id":67302258,"comment_id":134551279,"body_markdown":"Why do you use `volumes:  - &#39;mongo_data:/data/db&#39;` for kafka-ui? Did you manage to get it running. I&#39;m starting the GUI but it does not see any clusters. I checked port 9092, seems to have something running there.","body":"Why do you use <code>volumes:  - &#39;mongo_data:&#47;data&#47;db&#39;</code> for kafka-ui? Did you manage to get it running. I&#39;m starting the GUI but it does not see any clusters. I checked port 9092, seems to have something running there."}],"answers":[{"tags":[],"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1619623124,"creation_date":1619623124,"answer_id":67303044,"question_id":67302258,"body_markdown":"You&#39;ve not shared your Docker Compose so I can&#39;t give you the specific fix to make, but in essence you need to configure your advertised listeners correctly. This is the value that the broker provides to the client telling it where to find it when it makes subsequent connections. \r\n\r\nDetails: https://www.confluent.io/blog/kafka-client-cannot-connect-to-broker-on-aws-on-docker-etc/","title":"Error connecting to Kafka running in docker container","body":"<p>You've not shared your Docker Compose so I can't give you the specific fix to make, but in essence you need to configure your advertised listeners correctly. This is the value that the broker provides to the client telling it where to find it when it makes subsequent connections.</p>\n<p>Details: <a href=\"https://www.confluent.io/blog/kafka-client-cannot-connect-to-broker-on-aws-on-docker-etc/\" rel=\"nofollow noreferrer\">https://www.confluent.io/blog/kafka-client-cannot-connect-to-broker-on-aws-on-docker-etc/</a></p>\n"},{"tags":[],"owner":{"account_id":2146209,"reputation":4043,"user_id":1903781,"accept_rate":53,"display_name":"Adrian Moisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684708610,"creation_date":1684708610,"answer_id":76302199,"question_id":67302258,"body_markdown":"I see that you tried to get Kafka-GUI running. I&#39;ve wasted a lot of time myself trying to get it started. Thanks to the tutorial bellow now I understand properly how to setup a podman bridge network and how to configure advertised listeners in kafka. I&#39;ll list all the docker commands I&#39;ve used to get a local one node setup running. Note: podman or docker, the commands are the same. Both kafka and kafka-ui are in containers. If you read the tutorial carefully you&#39;ll see this matters a lot. If you then want to connect from local app to container kafka you&#39;ll need extra settings.\r\n\r\n- [My Python/Java/Spring/Go/Whatever Client Won’t Connect to My Apache Kafka Cluster in Docker/AWS/My Brother’s Laptop. Please Help!](https://www.confluent.io/blog/kafka-client-cannot-connect-to-broker-on-aws-on-docker-etc/) - Contains a deep review of all potential issues when the kafka cluster fails to start. Thanks to this tutorial I managed to get Kafka UI running. The key was to setup a podman network and to properly name all containers. Once the containers are named we can used these names in the connection strings params when starting kafka-gui. Note: most tutorials prefer to name the kafka container `broker`. I used `kafka` for extra clarity, do as you please in your case.\r\n\r\n**Download Kafka &amp; Zookeeper**\r\n- `podman pull bitnami/kafka` - Download kafka\r\n- `podman pull zookeeper` - Download Zookeeper\r\n\r\n**Kafka Network**\r\n- `podman network create kafka-bridge` - Name it as you please\r\n\r\n**Zookeeper Volumes**\r\nNeeded to persist data. Notice that we are creating volumes for one `zookeeper` instance. In production we will have more instances.\r\n- `podman volume create zookeeper-dataDir` - `/dataDir` - Snapshot of the in-memory database, current state of the data tree and the content of ephemeral nodes\r\n- `podman volume create zookeeper-dataLogDir` - `/dataLogDir` - Sequential record of all changes made to the ZooKeeper data tree since the last snapshot\r\n- `podman volume create zookeeper-logs` - `/logs` - Server logs, error logs, or diagnostic logs\r\n\r\n**Kafka Volume**\r\n- `podman volume create kafka-data` - By mounting a Docker volume to Kafka, the data generated and stored by Kafka will persist even if the container is stopped or removed.\r\n\r\n**Run Zookeeper** \r\nNote: we are running zookeeper outside of the any api pods that are defined. We will have more pods all connected to the same kafka server. This one node setup needs to be improved in production to ensure scalability and resilience.\r\n```\r\npodman run -dt --name zookeeper \\\r\n--network=kafka-bridge \\\r\n-p 2181:2181 \\\r\n-e ZOOKEEPER_CLIENT_PORT=2181 \\\r\n-v &#39;zookeeper-dataDir:/data:Z&#39; \\\r\n-v &#39;zookeeper-dataLogDir:/datalog:Z&#39; \\\r\n-v &#39;zookeeper-logs:/logs:Z&#39; \\\r\ndocker.io/library/zookeeper\r\n```\r\n\r\n**Run Kafka**\r\nNote: we are running zookeeper outside of the mock-api-pod.\r\nWarning! `ALLOW_PLAINTEXT_LISTENER=yes` is for development env, not production.\r\n\r\n```\r\npodman run -dt --name kafka \\\r\n--network=kafka-bridge \\\r\n-p 7203:7203 \\\r\n-p 9092:9092 \\\r\n-v kafka-data:/kafka/data \\\r\n-e KAFKA_BROKER_ID=1 \\\r\n-e ALLOW_PLAINTEXT_LISTENER=yes \\\r\n-e KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181 \\\r\n-e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092 \\\r\n-e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \\\r\ndocker.io/bitnami/kafka\r\n```\r\n\r\n**Create Topic**\r\nThis instruction can be defined in docker-compose or k8 yaml as an init instruction. For now (May 2023) we will manually configure it. [Docker compose create kafka topics](https://stackoverflow.com/questions/64865361/docker-compose-create-kafka-topics).\r\n- `podman exec -it kafka sh` - Connect to kafka container\r\n- `cd /opt/bitnami/kafka/bin`- Cd to bins of kafka\r\n- `kafka-topics.sh --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic api-mock` - Create a new topic\r\n- `kafka-configs.sh --bootstrap-server localhost:9092 --entity-type brokers --entity-name 1 --describe ` - If you want to double check on the settings. Optional, no need to run this unless you are debugging\r\n\r\n**Kafka GUI**\r\nWarning, starting kafka ui with this command does not create a password. In prod this needs to be auth.\r\n- `podman pull provectuslabs/kafka-ui` - Get the image\r\n- Start kafka UI on port 9090 to avoid collisions with anything running on 8080.\r\n```\r\npodman run -it --name kafka-ui \\\r\n--network=kafka-bridge \\\r\n-p 9090:8080 \\\r\n-e KAFKA_CLUSTERS_0_NAME=local \\\r\n-e KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka:9092 \\\r\n-e KAFKA_CLUSTERS_0_ZOOKEEPER=zookeeper:2181 \\\r\n-e KAFKA_BROKERCONNECT=kafka:9092 \\\r\n-e DYNAMIC_CONFIG_ENABLED=true \\\r\nprovectuslabs/kafka-ui\r\n``` \r\n- `http://localhost:9090/` - Visit the link to use the web gui for kafka\r\n\r\n**Connecting to Kafka container CLI**\r\n- `podman exec -it kafka sh` - Connect to kafka container\r\n- `cd /opt/bitnami/kafka/bin`- Cd to bins of kafka\r\n- `kafka-topics.sh --bootstrap-server=localhost:9092 --list` - List all topics\r\n\r\n**Inspecting Kafka via local CLI**\r\n- `brew install kcat` - First install kafkacat (renamed to kcat)\r\n- `kcat -b localhost:9092 -L` - List the available topics in the Kafka cluster\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jF0m1.png","title":"Error connecting to Kafka running in docker container","body":"<p>I see that you tried to get Kafka-GUI running. I've wasted a lot of time myself trying to get it started. Thanks to the tutorial bellow now I understand properly how to setup a podman bridge network and how to configure advertised listeners in kafka. I'll list all the docker commands I've used to get a local one node setup running. Note: podman or docker, the commands are the same. Both kafka and kafka-ui are in containers. If you read the tutorial carefully you'll see this matters a lot. If you then want to connect from local app to container kafka you'll need extra settings.</p>\n<ul>\n<li><a href=\"https://www.confluent.io/blog/kafka-client-cannot-connect-to-broker-on-aws-on-docker-etc/\" rel=\"nofollow noreferrer\">My Python/Java/Spring/Go/Whatever Client Won’t Connect to My Apache Kafka Cluster in Docker/AWS/My Brother’s Laptop. Please Help!</a> - Contains a deep review of all potential issues when the kafka cluster fails to start. Thanks to this tutorial I managed to get Kafka UI running. The key was to setup a podman network and to properly name all containers. Once the containers are named we can used these names in the connection strings params when starting kafka-gui. Note: most tutorials prefer to name the kafka container <code>broker</code>. I used <code>kafka</code> for extra clarity, do as you please in your case.</li>\n</ul>\n<p><strong>Download Kafka &amp; Zookeeper</strong></p>\n<ul>\n<li><code>podman pull bitnami/kafka</code> - Download kafka</li>\n<li><code>podman pull zookeeper</code> - Download Zookeeper</li>\n</ul>\n<p><strong>Kafka Network</strong></p>\n<ul>\n<li><code>podman network create kafka-bridge</code> - Name it as you please</li>\n</ul>\n<p><strong>Zookeeper Volumes</strong>\nNeeded to persist data. Notice that we are creating volumes for one <code>zookeeper</code> instance. In production we will have more instances.</p>\n<ul>\n<li><code>podman volume create zookeeper-dataDir</code> - <code>/dataDir</code> - Snapshot of the in-memory database, current state of the data tree and the content of ephemeral nodes</li>\n<li><code>podman volume create zookeeper-dataLogDir</code> - <code>/dataLogDir</code> - Sequential record of all changes made to the ZooKeeper data tree since the last snapshot</li>\n<li><code>podman volume create zookeeper-logs</code> - <code>/logs</code> - Server logs, error logs, or diagnostic logs</li>\n</ul>\n<p><strong>Kafka Volume</strong></p>\n<ul>\n<li><code>podman volume create kafka-data</code> - By mounting a Docker volume to Kafka, the data generated and stored by Kafka will persist even if the container is stopped or removed.</li>\n</ul>\n<p><strong>Run Zookeeper</strong>\nNote: we are running zookeeper outside of the any api pods that are defined. We will have more pods all connected to the same kafka server. This one node setup needs to be improved in production to ensure scalability and resilience.</p>\n<pre><code>podman run -dt --name zookeeper \\\n--network=kafka-bridge \\\n-p 2181:2181 \\\n-e ZOOKEEPER_CLIENT_PORT=2181 \\\n-v 'zookeeper-dataDir:/data:Z' \\\n-v 'zookeeper-dataLogDir:/datalog:Z' \\\n-v 'zookeeper-logs:/logs:Z' \\\ndocker.io/library/zookeeper\n</code></pre>\n<p><strong>Run Kafka</strong>\nNote: we are running zookeeper outside of the mock-api-pod.\nWarning! <code>ALLOW_PLAINTEXT_LISTENER=yes</code> is for development env, not production.</p>\n<pre><code>podman run -dt --name kafka \\\n--network=kafka-bridge \\\n-p 7203:7203 \\\n-p 9092:9092 \\\n-v kafka-data:/kafka/data \\\n-e KAFKA_BROKER_ID=1 \\\n-e ALLOW_PLAINTEXT_LISTENER=yes \\\n-e KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181 \\\n-e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092 \\\n-e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \\\ndocker.io/bitnami/kafka\n</code></pre>\n<p><strong>Create Topic</strong>\nThis instruction can be defined in docker-compose or k8 yaml as an init instruction. For now (May 2023) we will manually configure it. <a href=\"https://stackoverflow.com/questions/64865361/docker-compose-create-kafka-topics\">Docker compose create kafka topics</a>.</p>\n<ul>\n<li><code>podman exec -it kafka sh</code> - Connect to kafka container</li>\n<li><code>cd /opt/bitnami/kafka/bin</code>- Cd to bins of kafka</li>\n<li><code>kafka-topics.sh --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic api-mock</code> - Create a new topic</li>\n<li><code>kafka-configs.sh --bootstrap-server localhost:9092 --entity-type brokers --entity-name 1 --describe </code> - If you want to double check on the settings. Optional, no need to run this unless you are debugging</li>\n</ul>\n<p><strong>Kafka GUI</strong>\nWarning, starting kafka ui with this command does not create a password. In prod this needs to be auth.</p>\n<ul>\n<li><code>podman pull provectuslabs/kafka-ui</code> - Get the image</li>\n<li>Start kafka UI on port 9090 to avoid collisions with anything running on 8080.</li>\n</ul>\n<pre><code>podman run -it --name kafka-ui \\\n--network=kafka-bridge \\\n-p 9090:8080 \\\n-e KAFKA_CLUSTERS_0_NAME=local \\\n-e KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka:9092 \\\n-e KAFKA_CLUSTERS_0_ZOOKEEPER=zookeeper:2181 \\\n-e KAFKA_BROKERCONNECT=kafka:9092 \\\n-e DYNAMIC_CONFIG_ENABLED=true \\\nprovectuslabs/kafka-ui\n</code></pre>\n<ul>\n<li><code>http://localhost:9090/</code> - Visit the link to use the web gui for kafka</li>\n</ul>\n<p><strong>Connecting to Kafka container CLI</strong></p>\n<ul>\n<li><code>podman exec -it kafka sh</code> - Connect to kafka container</li>\n<li><code>cd /opt/bitnami/kafka/bin</code>- Cd to bins of kafka</li>\n<li><code>kafka-topics.sh --bootstrap-server=localhost:9092 --list</code> - List all topics</li>\n</ul>\n<p><strong>Inspecting Kafka via local CLI</strong></p>\n<ul>\n<li><code>brew install kcat</code> - First install kafkacat (renamed to kcat)</li>\n<li><code>kcat -b localhost:9092 -L</code> - List the available topics in the Kafka cluster</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/jF0m1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jF0m1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":117925,"reputation":4564,"user_id":308578,"accept_rate":88,"display_name":"saber tabatabaee yazdi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690276456,"creation_date":1690276456,"answer_id":76761192,"question_id":67302258,"body_markdown":"this answer has two parts: machine: port\r\n\r\nmachine:\r\n\r\nfirst, use your docker-compose environment variable for \r\n\r\nport: \r\n\r\nuse this: broker:29092 or 19092 instead of 9222 or any\r\n\r\nsth like this:\r\n\r\n      KAFKA_CLUSTERS_0_NAME: local\r\n      KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS: broker:19092","title":"Error connecting to Kafka running in docker container","body":"<p>this answer has two parts: machine: port</p>\n<p>machine:</p>\n<p>first, use your docker-compose environment variable for</p>\n<p>port:</p>\n<p>use this: broker:29092 or 19092 instead of 9222 or any</p>\n<p>sth like this:</p>\n<pre><code>  KAFKA_CLUSTERS_0_NAME: local\n  KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS: broker:19092\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697027663,"creation_date":1697027663,"answer_id":77273111,"question_id":67302258,"body_markdown":"The accepted answer is spot-on, it explains everything in detail. \r\n\r\nI faced a huge deal of challenge when using **testcontainers**, because the exact same set-up was not working for me. And it&#39;s basically testcontainers to blame :) \r\n\r\nIf you look in their `org.testcontainers.containers.KafkaContainer`, you will see that they already configure a lot of things _for us_, for example `KAFKA_LISTENERS` and `KAFKA_LISTENER_SECURITY_PROTOCOL_MAP`. What is kind of worse, that because the way code is written, you will not be able to override some of the things. For example, this was one set-up that made me really confused:\r\n\r\n\r\n```\r\n\t/**\r\n\t * A KafkaContainer, but with fixed port mappings.\r\n\t */\r\n\tprivate static final class FixedPortsKafkaContainer extends KafkaContainer {\r\n\r\n\t\tprivate FixedPortsKafkaContainer(DockerImageName dockerImageName) {\r\n\t\t\tsuper(dockerImageName);\r\n\t\t}\r\n\r\n\t\tprivate FixedPortsKafkaContainer configureFixedPorts(int[] ports) {\r\n\t\t\tfor (int port : ports) {\r\n\t\t\t\tsuper.addFixedExposedPort(port, port);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nand some `@Test` method:\r\n\r\n\r\n```   \r\nvoid test() {\r\n        \r\n    kafkaContainer = new FixedPortsKafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:7.5.1&quot;));\r\n\r\n\tkafkaContainer.withEnv(&quot;KAFKA_ADVERTISED_LISTENERS&quot;, &quot;CONNECTIONS_FROM_HOST://localhost:9092&quot;);\r\n\tkafkaContainer.withEnv(&quot;KAFKA_LISTENER_SECURITY_PROTOCOL_MAP&quot;, &quot;CONNECTIONS_FROM_HOST:PLAINTEXT&quot;);\r\n\tkafkaContainer.withEnv(&quot;KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR&quot;, &quot;1&quot;);\r\n\tkafkaContainer.withEnv(&quot;KAFKA_INTER_BROKER_LISTENER_NAME&quot;, &quot;CONNECTIONS_FROM_HOST&quot;);\r\n\r\n\tkafkaContainer.configureFixedPorts(new int[] {9092});\r\n\tkafkaContainer.start();\r\n\r\n}\r\n```\r\n\r\nwill fail with:\r\n\r\n&gt; ERROR Exiting Kafka due to fatal exception (kafka.Kafka$)\r\norg.apache.kafka.common.config.ConfigException: Listener with name CONNECTIONS_FROM_HOST defined in inter.broker.listener.name not found in listener.security.protocol.map.\r\n\r\nIf you look closer, this makes no sense! It is exactly how it was defined. The problem here is that `KAFKA_ADVERTISED_LISTENERS` is not something you can easily override with test-containers (it has no effect of me setting it, the value is different in the container). That is when I started reading the source code of test-containers...\r\n\r\n---\r\n\r\nThe solution is trivial:\r\n\r\n```\r\nspring.kafka.bootstrap-servers=localhost:9093\r\n```\r\n\r\nand \r\n\r\n```\r\n// drop all kafkaContainer.withEnv... from the above example\r\nkafka.configureFixedPorts(new int[]{9092, 9093});\r\n```\r\n\r\nin our case. ","title":"Error connecting to Kafka running in docker container","body":"<p>The accepted answer is spot-on, it explains everything in detail.</p>\n<p>I faced a huge deal of challenge when using <strong>testcontainers</strong>, because the exact same set-up was not working for me. And it's basically testcontainers to blame :)</p>\n<p>If you look in their <code>org.testcontainers.containers.KafkaContainer</code>, you will see that they already configure a lot of things <em>for us</em>, for example <code>KAFKA_LISTENERS</code> and <code>KAFKA_LISTENER_SECURITY_PROTOCOL_MAP</code>. What is kind of worse, that because the way code is written, you will not be able to override some of the things. For example, this was one set-up that made me really confused:</p>\n<pre><code>    /**\n     * A KafkaContainer, but with fixed port mappings.\n     */\n    private static final class FixedPortsKafkaContainer extends KafkaContainer {\n\n        private FixedPortsKafkaContainer(DockerImageName dockerImageName) {\n            super(dockerImageName);\n        }\n\n        private FixedPortsKafkaContainer configureFixedPorts(int[] ports) {\n            for (int port : ports) {\n                super.addFixedExposedPort(port, port);\n            }\n            return this;\n        }\n    }\n</code></pre>\n<p>and some <code>@Test</code> method:</p>\n<pre><code>void test() {\n        \n    kafkaContainer = new FixedPortsKafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:7.5.1&quot;));\n\n    kafkaContainer.withEnv(&quot;KAFKA_ADVERTISED_LISTENERS&quot;, &quot;CONNECTIONS_FROM_HOST://localhost:9092&quot;);\n    kafkaContainer.withEnv(&quot;KAFKA_LISTENER_SECURITY_PROTOCOL_MAP&quot;, &quot;CONNECTIONS_FROM_HOST:PLAINTEXT&quot;);\n    kafkaContainer.withEnv(&quot;KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR&quot;, &quot;1&quot;);\n    kafkaContainer.withEnv(&quot;KAFKA_INTER_BROKER_LISTENER_NAME&quot;, &quot;CONNECTIONS_FROM_HOST&quot;);\n\n    kafkaContainer.configureFixedPorts(new int[] {9092});\n    kafkaContainer.start();\n\n}\n</code></pre>\n<p>will fail with:</p>\n<blockquote>\n<p>ERROR Exiting Kafka due to fatal exception (kafka.Kafka$)\norg.apache.kafka.common.config.ConfigException: Listener with name CONNECTIONS_FROM_HOST defined in inter.broker.listener.name not found in listener.security.protocol.map.</p>\n</blockquote>\n<p>If you look closer, this makes no sense! It is exactly how it was defined. The problem here is that <code>KAFKA_ADVERTISED_LISTENERS</code> is not something you can easily override with test-containers (it has no effect of me setting it, the value is different in the container). That is when I started reading the source code of test-containers...</p>\n<hr />\n<p>The solution is trivial:</p>\n<pre><code>spring.kafka.bootstrap-servers=localhost:9093\n</code></pre>\n<p>and</p>\n<pre><code>// drop all kafkaContainer.withEnv... from the above example\nkafka.configureFixedPorts(new int[]{9092, 9093});\n</code></pre>\n<p>in our case.</p>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3988,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67303044,"answer_count":4,"score":3,"last_activity_date":1697027663,"creation_date":1619620408,"question_id":67302258,"body_markdown":"I have configured following Kafka properties for my spring boot based library bundled inside a `lib` directory of an `EAR` deployed to `Wildfly`. I am able to start the spring components successfully by loading the porperty file from classpath (`WEB-INF/classes`) \r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\\\r\n    org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration\r\n    spring.kafka.admin.client-id=iris-admin-local\r\n    spring.kafka.producer.client-id=iris-producer-local\r\n    spring.kafka.producer.retries=3\r\n    spring.kafka.producer.properties.max.block.ms=2000\r\n    spring.kafka.producer.bootstrap-servers=127.0.0.1:19092\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n    foo.app.kafka.executor.core-pool-size=10\r\n    foo.app.kafka.executor.max-pool-size=500\r\n    foo.app.kafka.executor.queue-capacity=1000\r\n\r\nI run Kafka and zookeeper via docker compose, and the containers are mapped to host ports `12181` and `19092` respectively. The publish fails with the error \r\n\r\n    19:37:42,914 ERROR [org.springframework.kafka.support.LoggingProducerListener] (swiftalker-3) Exception thrown when sending a message with key=&#39;543507&#39; and payload=&#39;com.foo.app.kanban.defect.entity.KanbanDefect@84b13&#39; to topic alm_swift-alm:: org.apache.kafka.common.errors.TimeoutException: Topic alm_swift-alm not present in metadata after 2000 ms.\r\n    \r\n    19:37:43,124 WARN  [org.apache.kafka.clients.NetworkClient] (kafka-producer-network-thread | iris-producer-local-1) [Producer clientId=iris-producer-local-1] Error connecting to node 6be446692a1f:9092 (id: 1001 rack: null): java.net.UnknownHostException: 6be446692a1f\r\n    \tat java.net.InetAddress.getAllByName0(InetAddress.java:1281)\r\n    \tat java.net.InetAddress.getAllByName(InetAddress.java:1193)\r\n    \tat java.net.InetAddress.getAllByName(InetAddress.java:1127)\r\n    \tat org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)\r\n    \tat org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:403)\r\n    \tat org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:363)\r\n    \tat org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:151)\r\n    \tat org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:955)\r\n    \tat org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)\r\n    \tat org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1128)\r\n    \tat org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1016)\r\n    \tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:547)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:324)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:239)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nNow this is after having provided `spring.kafka.producer.bootstrap-servers=127.0.0.1:19092` property. What&#39;s interesting though is \r\n\r\n    CONTAINER ID   NAMES                PORTS                                                                          CREATED          STATUS\r\n    2133c81ed51d   mongo                0.0.0.0:23556-&gt;27017/tcp, 0.0.0.0:23557-&gt;27018/tcp, 0.0.0.0:23558-&gt;27019/tcp   29 minutes ago   Up 29 minutes\r\n    f18b86d8739e   kafka-ui             0.0.0.0:18080-&gt;8080/tcp                                                        29 minutes ago   Up 29 minutes\r\n    6be446692a1f   kafka                0.0.0.0:19092-&gt;9092/tcp                                                        29 minutes ago   Up 29 minutes\r\n    873304e1e6a0   zookeeper            2181/tcp, 2888/tcp, 3888/tcp, 8080/tcp                                         29 minutes ago   Up 29 minutes\r\n\r\n\r\nthe Wildfly server error logs show the app is actually connecting to the docker container via it&#39;s container ID i.e. \r\n\r\n    6be446692a1f   kafka                0.0.0.0:19092-&gt;9092/tcp\r\n\r\nfrom the `docker ps -a` output and \r\n\r\n    Error connecting to node 6be446692a1f:9092 (id: 1001 rack: null): java.net.UnknownHostException: 6be446692a1f\r\n\r\nI&#39;m confused as to how is the spring boot code, despite the config property referring server over localhost and mapped port `19092`, is managing to find a docker container on it&#39;s ID and default port and then trying to connect to it? How do I fix this?\r\n\r\nUpdate: The docker compose\r\n\r\n    version: &#39;3&#39;\r\n    \r\n    networks:\r\n      app-tier:\r\n        driver: bridge\r\n    \r\n    services:\r\n      zookeeper:\r\n        image: &#39;docker.io/bitnami/zookeeper:3-debian-10&#39;\r\n        container_name: &#39;zookeeper&#39;\r\n        networks:\r\n          - app-tier\r\n        volumes:\r\n          - &#39;zookeeper_data:/bitnami&#39;\r\n        environment:\r\n          - ALLOW_ANONYMOUS_LOGIN=yes\r\n      kafka:\r\n        image: &#39;docker.io/bitnami/kafka:2-debian-10&#39;\r\n        container_name: &#39;kafka&#39;\r\n        ports:\r\n          - 19092:9092\r\n        networks:\r\n          - app-tier\r\n        volumes:\r\n          - &#39;kafka_data:/bitnami&#39;\r\n          - /var/run/docker.sock:/var/run/docker.sock\r\n        environment:\r\n          - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181\r\n          - ALLOW_PLAINTEXT_LISTENER=yes\r\n        depends_on:\r\n          - zookeeper\r\n      database:\r\n        image: &#39;mongo&#39;\r\n        container_name: &#39;mongo&#39;\r\n        environment:\r\n          - MONGO_INITDB_DATABASE=&#39;swiftalk_db&#39;\r\n        networks:\r\n          - app-tier\r\n        ports:\r\n          - 23556-23558:27017-27019\r\n        depends_on:\r\n          - kafka\r\n      kafka-ui:\r\n        container_name: kafka-ui\r\n        image: provectuslabs/kafka-ui:latest\r\n        ports:\r\n          - 18080:8080\r\n        networks:\r\n          - app-tier\r\n        volumes: \r\n          - &#39;mongo_data:/data/db&#39;\r\n        depends_on:\r\n          - kafka\r\n        environment:\r\n          - KAFKA_CLUSTERS_0_NAME=local\r\n          - KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka:9092\r\n          - KAFKA_CLUSTERS_0_ZOOKEEPER=zookeeper:2181\r\n    \r\n    volumes:\r\n      zookeeper_data:\r\n        driver: local\r\n      kafka_data:\r\n        driver: local\r\n      mongo_data:\r\n        driver: local\r\n\r\n","title":"Error connecting to Kafka running in docker container","body":"<p>I have configured following Kafka properties for my spring boot based library bundled inside a <code>lib</code> directory of an <code>EAR</code> deployed to <code>Wildfly</code>. I am able to start the spring components successfully by loading the porperty file from classpath (<code>WEB-INF/classes</code>)</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\\\norg.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration\nspring.kafka.admin.client-id=iris-admin-local\nspring.kafka.producer.client-id=iris-producer-local\nspring.kafka.producer.retries=3\nspring.kafka.producer.properties.max.block.ms=2000\nspring.kafka.producer.bootstrap-servers=127.0.0.1:19092\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\nfoo.app.kafka.executor.core-pool-size=10\nfoo.app.kafka.executor.max-pool-size=500\nfoo.app.kafka.executor.queue-capacity=1000\n</code></pre>\n<p>I run Kafka and zookeeper via docker compose, and the containers are mapped to host ports <code>12181</code> and <code>19092</code> respectively. The publish fails with the error</p>\n<pre><code>19:37:42,914 ERROR [org.springframework.kafka.support.LoggingProducerListener] (swiftalker-3) Exception thrown when sending a message with key='543507' and payload='com.foo.app.kanban.defect.entity.KanbanDefect@84b13' to topic alm_swift-alm:: org.apache.kafka.common.errors.TimeoutException: Topic alm_swift-alm not present in metadata after 2000 ms.\n\n19:37:43,124 WARN  [org.apache.kafka.clients.NetworkClient] (kafka-producer-network-thread | iris-producer-local-1) [Producer clientId=iris-producer-local-1] Error connecting to node 6be446692a1f:9092 (id: 1001 rack: null): java.net.UnknownHostException: 6be446692a1f\n    at java.net.InetAddress.getAllByName0(InetAddress.java:1281)\n    at java.net.InetAddress.getAllByName(InetAddress.java:1193)\n    at java.net.InetAddress.getAllByName(InetAddress.java:1127)\n    at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110)\n    at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:403)\n    at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:363)\n    at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:151)\n    at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:955)\n    at org.apache.kafka.clients.NetworkClient.access$600(NetworkClient.java:73)\n    at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1128)\n    at org.apache.kafka.clients.NetworkClient$DefaultMetadataUpdater.maybeUpdate(NetworkClient.java:1016)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:547)\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:324)\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:239)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Now this is after having provided <code>spring.kafka.producer.bootstrap-servers=127.0.0.1:19092</code> property. What's interesting though is</p>\n<pre><code>CONTAINER ID   NAMES                PORTS                                                                          CREATED          STATUS\n2133c81ed51d   mongo                0.0.0.0:23556-&gt;27017/tcp, 0.0.0.0:23557-&gt;27018/tcp, 0.0.0.0:23558-&gt;27019/tcp   29 minutes ago   Up 29 minutes\nf18b86d8739e   kafka-ui             0.0.0.0:18080-&gt;8080/tcp                                                        29 minutes ago   Up 29 minutes\n6be446692a1f   kafka                0.0.0.0:19092-&gt;9092/tcp                                                        29 minutes ago   Up 29 minutes\n873304e1e6a0   zookeeper            2181/tcp, 2888/tcp, 3888/tcp, 8080/tcp                                         29 minutes ago   Up 29 minutes\n</code></pre>\n<p>the Wildfly server error logs show the app is actually connecting to the docker container via it's container ID i.e.</p>\n<pre><code>6be446692a1f   kafka                0.0.0.0:19092-&gt;9092/tcp\n</code></pre>\n<p>from the <code>docker ps -a</code> output and</p>\n<pre><code>Error connecting to node 6be446692a1f:9092 (id: 1001 rack: null): java.net.UnknownHostException: 6be446692a1f\n</code></pre>\n<p>I'm confused as to how is the spring boot code, despite the config property referring server over localhost and mapped port <code>19092</code>, is managing to find a docker container on it's ID and default port and then trying to connect to it? How do I fix this?</p>\n<p>Update: The docker compose</p>\n<pre><code>version: '3'\n\nnetworks:\n  app-tier:\n    driver: bridge\n\nservices:\n  zookeeper:\n    image: 'docker.io/bitnami/zookeeper:3-debian-10'\n    container_name: 'zookeeper'\n    networks:\n      - app-tier\n    volumes:\n      - 'zookeeper_data:/bitnami'\n    environment:\n      - ALLOW_ANONYMOUS_LOGIN=yes\n  kafka:\n    image: 'docker.io/bitnami/kafka:2-debian-10'\n    container_name: 'kafka'\n    ports:\n      - 19092:9092\n    networks:\n      - app-tier\n    volumes:\n      - 'kafka_data:/bitnami'\n      - /var/run/docker.sock:/var/run/docker.sock\n    environment:\n      - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181\n      - ALLOW_PLAINTEXT_LISTENER=yes\n    depends_on:\n      - zookeeper\n  database:\n    image: 'mongo'\n    container_name: 'mongo'\n    environment:\n      - MONGO_INITDB_DATABASE='swiftalk_db'\n    networks:\n      - app-tier\n    ports:\n      - 23556-23558:27017-27019\n    depends_on:\n      - kafka\n  kafka-ui:\n    container_name: kafka-ui\n    image: provectuslabs/kafka-ui:latest\n    ports:\n      - 18080:8080\n    networks:\n      - app-tier\n    volumes: \n      - 'mongo_data:/data/db'\n    depends_on:\n      - kafka\n    environment:\n      - KAFKA_CLUSTERS_0_NAME=local\n      - KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka:9092\n      - KAFKA_CLUSTERS_0_ZOOKEEPER=zookeeper:2181\n\nvolumes:\n  zookeeper_data:\n    driver: local\n  kafka_data:\n    driver: local\n  mongo_data:\n    driver: local\n</code></pre>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler"],"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697027560,"creation_date":1697027560,"question_id":77273099,"body_markdown":"I am trying to schedule the a method in my `CustomerFeed` this class has a method `consumeActivity` I followed this [this][1] checklist. I am fulfilling all requirement except declaring  `CustomerFeed` , because I have some specific requirement please refer the below code to understand the bean creation of `CustomerFeed` \r\n\r\n    @Configuration\r\n    public class IacFeederFactory\r\n            implements BeanFactoryPostProcessor, EnvironmentAware { \r\n\t\r\n\t@Override\r\n    public void postProcessBeanFactory(final ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        Map&lt;String, ActivityRepository&gt; repos = createSourceDbRepositories();\r\n        Map&lt;String, CustomerFeedDefinition&gt; feeds = Binder.get(environment)\r\n                .bind(CONFIG_NAMESPACE, FeedConfig.class)\r\n                .orElse(FeedConfig.empty())\r\n                .getFeed();\r\n        for (Map.Entry&lt;String, CustomerFeedDefinition&gt; e : feeds.entrySet()) {\r\n            final String customerId = e.getKey();\r\n            final CustomerFeedDefinition conf = e.getValue();\r\n            ActivityRepository repository = repos.get(conf.getSourceDb());\r\n            beanFactory.registerSingleton(&quot;feed-&quot; + customerId, new CustomerFeed(customerId, repository));\r\n        }\r\n    } \r\n\t\r\n}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67284579/14237523\r\n\r\nNow I want to know is there any way to doing it except using @Component, as it is also a spring managed bean. ","title":"How to schedule a job in spring boot without declaring the class as @Component","body":"<p>I am trying to schedule the a method in my <code>CustomerFeed</code> this class has a method <code>consumeActivity</code> I followed this <a href=\"https://stackoverflow.com/a/67284579/14237523\">this</a> checklist. I am fulfilling all requirement except declaring  <code>CustomerFeed</code> , because I have some specific requirement please refer the below code to understand the bean creation of <code>CustomerFeed</code></p>\n<pre><code>@Configuration\npublic class IacFeederFactory\n        implements BeanFactoryPostProcessor, EnvironmentAware { \n\n@Override\npublic void postProcessBeanFactory(final ConfigurableListableBeanFactory beanFactory) throws BeansException {\n    Map&lt;String, ActivityRepository&gt; repos = createSourceDbRepositories();\n    Map&lt;String, CustomerFeedDefinition&gt; feeds = Binder.get(environment)\n            .bind(CONFIG_NAMESPACE, FeedConfig.class)\n            .orElse(FeedConfig.empty())\n            .getFeed();\n    for (Map.Entry&lt;String, CustomerFeedDefinition&gt; e : feeds.entrySet()) {\n        final String customerId = e.getKey();\n        final CustomerFeedDefinition conf = e.getValue();\n        ActivityRepository repository = repos.get(conf.getSourceDb());\n        beanFactory.registerSingleton(&quot;feed-&quot; + customerId, new CustomerFeed(customerId, repository));\n    }\n} \n</code></pre>\n<p>}</p>\n<p>Now I want to know is there any way to doing it except using @Component, as it is also a spring managed bean.</p>\n"},{"tags":["java","hibernate","orm","struts2"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399891581,"creation_date":1399891581,"answer_id":23606953,"question_id":23604738,"body_markdown":"On `update` hibernate requires all objects to be persistent, so you have to `get`/`load` `SupplierPaymentDetails` from session and set to `SupplierPaidDetails`. You can do this if you get the object by id which is available to the first entity. To get the second entity you need to write a method in DAO that has a parameter for id and return the entity object. You have to open a new session and transaction there if you are manages sessions and transactions manually.   ","title":"org.hibernate.TransientObjectException: object references an unsaved transient instance","body":"<p>On <code>update</code> hibernate requires all objects to be persistent, so you have to <code>get</code>/<code>load</code> <code>SupplierPaymentDetails</code> from session and set to <code>SupplierPaidDetails</code>. You can do this if you get the object by id which is available to the first entity. To get the second entity you need to write a method in DAO that has a parameter for id and return the entity object. You have to open a new session and transaction there if you are manages sessions and transactions manually.   </p>\n"}],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1402,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697027549,"creation_date":1399884806,"question_id":23604738,"body_markdown":"Here I am trying to update `SupplierPaidDetail` including data in (`supplierPaidOnlines`,`supplierPaidCashes`,`supplierPaidChecks`)  following are my code but this is showing exception.\r\n\r\n**JSP Page:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;s:form action=&quot;UpdatedPaid&quot; method=&quot;post&quot;&gt;  \r\n        &lt;s:if test=&quot;paidList.size&gt;0&quot;&gt; \r\n            &lt;s:iterator value=&quot;paidList&quot; var=&quot;pdlst&quot;&gt;\r\n                &lt;div class=&quot;box&quot;&gt;\r\n                    &lt;span class=&quot;label&quot;&gt;Payment Date&lt;/span&gt;\r\n                    &lt;span class=&quot;ib&quot;&gt;\r\n                        &lt;s:hidden name=&quot;id&quot; id=&quot;paidId&quot; value=&quot;%{paidId}&quot;/&gt;\r\n                        &lt;s:hidden name=&quot;supplierPaymentDetails.id&quot; value=&quot;%{supplierPaymentId}&quot;/&gt;\r\n                        &lt;s:textfield name=&quot;paymentDate&quot; id=&quot;paymentDate&quot; value=&quot;%{paymentDate}&quot;/&gt;\r\n                    &lt;/span&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;box&quot;&gt;\r\n                    &lt;span class=&quot;label&quot;&gt;Payment Mode&lt;/span&gt;\r\n                    &lt;span class=&quot;ib&quot;&gt;\r\n                        &lt;s:textfield name=&quot;paymentMode&quot; id=&quot;payment_mode&quot; readonly=&quot;true&quot; value=&quot;%{payment_mode}&quot;/&gt;\r\n                    &lt;/span&gt;\r\n                &lt;/div&gt;\r\n                &lt;s:if test=&quot;cashActionList.size&gt;0&quot;&gt; \r\n                    &lt;s:iterator value=&quot;cashActionList&quot; status=&quot;rowstatus&quot;&gt;\r\n                        &lt;div class=&quot;box&quot;&gt;\r\n                            &lt;span class=&quot;label&quot;&gt;Amount&lt;/span&gt;\r\n                            &lt;span class=&quot;ib&quot;&gt; \r\n                                &lt;s:textfield name=&quot;supplierPaidCashes[%{#rowstatus.index}].amount&quot; id=&quot;amount&quot; value=&quot;%{amount}&quot;/&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;box&quot;&gt;\r\n                            &lt;span class=&quot;label&quot;&gt;TO Person&lt;/span&gt;\r\n                            &lt;span class=&quot;ib&quot;&gt;\r\n                                &lt;s:hidden name=&quot;supplierPaidCashes[%{#rowstatus.index}].id&quot; id=&quot;id&quot; value=&quot;%{id}&quot;/&gt;\r\n                                &lt;s:textfield name=&quot;supplierPaidCashes[%{#rowstatus.index}].toPerson&quot; id=&quot;toPerson&quot; value=&quot;%{toPerson}&quot;/&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;box&quot;&gt;\r\n                            &lt;span class=&quot;label&quot;&gt;Designation&lt;/span&gt;\r\n                            &lt;span class=&quot;ib&quot;&gt;\r\n                                &lt;s:textfield name=&quot;supplierPaidCashes[%{#rowstatus.index}].Designation&quot; id=&quot;Designation&quot; value=&quot;%{Designation}&quot;/&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;box&quot;&gt;\r\n                            &lt;span class=&quot;label&quot;&gt;Receipt No&lt;/span&gt;\r\n                            &lt;span class=&quot;ib&quot;&gt;\r\n                                &lt;s:textfield name=&quot;supplierPaidCashes[%{#rowstatus.index}].receiptNo&quot; id=&quot;receiptNo&quot; value=&quot;%{reciptNo}&quot;/&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/s:iterator&gt;\r\n                &lt;/s:if&gt;\r\n            &lt;/s:iterator&gt;\r\n        &lt;/s:if&gt;\r\n    &lt;/s:form&gt;\r\n\r\n**In Action:**\r\n\r\n    public class hbmCashAction extends ActionSupport implements ModelDriven&lt;SupplierPaidDetails&gt; {\r\n    \r\n        SupplierPaidDetails spa = new SupplierPaidDetails();\r\n    \r\n        public String update() {\r\n            System.out.println(&quot;--------&quot;);\r\n    \r\n            System.out.println(&quot;id&quot; + spa.getId() + &quot; &quot; + spa.getPaymentDate());\r\n            SupplierPaymentDetails spdd = new SupplierPaymentDetails();\r\n            spa.setSupplierPaymentDetails(spdd);\r\n            List&lt;SupplierPaidCash&gt; aca = spa.getSupplierPaidCashes();\r\n            for (SupplierPaidCash ss : aca) {\r\n                System.out.println(&quot;Cash Details&quot;);\r\n                ss.setSupplierPaidDetails(spa);\r\n                System.out.println(ss.getId() + &quot; &quot; + ss.getAmount() + &quot; &quot; + ss.getToPerson());\r\n            }\r\n            List&lt;SupplierPaidCheck&gt; ax = spa.getSupplierPaidChecks();\r\n            for (SupplierPaidCheck ss : ax) {\r\n                System.out.println(&quot;Check Details&quot;);\r\n    \r\n                ss.setSupplierPaidDetails(spa);\r\n                System.out.println(ss.getId() + &quot; &quot; + ss.getPaidToAccNo() + &quot; &quot; + ss.getPayableAt());\r\n            }\r\n            List&lt;SupplierPaidOnline&gt; onl = spa.getSupplierPaidOnlines();\r\n            for (SupplierPaidOnline ss : onl) {\r\n                System.out.println(&quot;Online Details&quot;);\r\n                ss.setSupplierPaidDetails(spa);\r\n                System.out.println(ss.getId() + &quot; &quot; + ss.getPaidToAccNo() + &quot; &quot; + ss.getPayRefNo());\r\n            }\r\n            System.out.println(&quot;--------&quot;);\r\n            CashDao co = new CashDao();\r\n            co.update(spa);\r\n            return SUCCESS;\r\n        }\r\n      }\r\n\r\n**DAO:**\r\n\r\n    public class CashDao {\r\n    \r\n        public void update(SupplierPaidDetails spd) {\r\n    \r\n            Session session = HibernateUtil.getSessionFactory().openSession();\r\n            session.beginTransaction();\r\n            try {\r\n                session.update(spd);\r\n            } catch (HibernateException e) {\r\n                System.out.println(&quot;Exception  &quot; + e);\r\n                session.getTransaction().rollback();\r\n            }\r\n            session.getTransaction().commit();\r\n    \r\n        }\r\n      }\r\n\r\n**`SupplierPaidDetalis`:**\r\n\r\n    public class SupplierPaidDetails implements java.io.Serializable {\r\n    \r\n        private Long id;\r\n        private SupplierPaymentDetails supplierPaymentDetails;\r\n        private String paymentMode;\r\n        private Date paymentDate;\r\n        private Date addDate;\r\n        private String status;\r\n        private List&lt;SupplierPaidOnline&gt; supplierPaidOnlines = new ArrayList();\r\n        private List&lt;SupplierPaidCash&gt; supplierPaidCashes = new ArrayList();\r\n        private List&lt;SupplierPaidCheck&gt; supplierPaidChecks = new ArrayList();\r\n     /getter and setter\r\n     }\r\n\r\n**`supplierPaidDetails.hbm.xml`:**\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;!-- Generated May 10, 2014 11:18:04 PM by Hibernate Tools 3.6.0 --&gt;\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;iland.hbm.SupplierPaidDetails&quot; table=&quot;supplier_paid_details&quot; catalog=&quot;retail_shop&quot; dynamic-update=&quot;true&quot;&gt;\r\n            &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\r\n                &lt;column name=&quot;id&quot; /&gt;\r\n                &lt;generator class=&quot;identity&quot; /&gt;\r\n            &lt;/id&gt;\r\n            &lt;many-to-one name=&quot;supplierPaymentDetails&quot; class=&quot;iland.hbm.SupplierPaymentDetails&quot; fetch=&quot;select&quot;&gt;\r\n                &lt;column name=&quot;supp_payment_id&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/many-to-one&gt;\r\n            &lt;property name=&quot;paymentMode&quot; type=&quot;string&quot;&gt;\r\n                &lt;column name=&quot;payment_mode&quot; length=&quot;20&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;paymentDate&quot; type=&quot;date&quot;&gt;\r\n                &lt;column name=&quot;payment_date&quot; length=&quot;10&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;addDate&quot; type=&quot;timestamp&quot;&gt;\r\n                &lt;column name=&quot;add_date&quot; length=&quot;19&quot; default=&quot;0&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;status&quot; type=&quot;string&quot;&gt;\r\n                &lt;column name=&quot;status&quot; length=&quot;20&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;list name=&quot;supplierPaidOnlines&quot; table=&quot;supplier_paid_online&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot; &gt;\r\n                &lt;key column=&quot;spd_id&quot;  /&gt;\r\n                &lt;list-index column=&quot;id&quot; /&gt;\r\n                &lt;one-to-many class=&quot;iland.hbm.SupplierPaidOnline&quot; /&gt;\r\n            &lt;/list&gt;\r\n            &lt;list name=&quot;supplierPaidCashes&quot; table=&quot;supplier_paid_cash&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n                &lt;key column=&quot;spd_id&quot;  /&gt;\r\n                &lt;list-index column=&quot;id&quot; /&gt;\r\n                &lt;one-to-many class=&quot;iland.hbm.SupplierPaidCash&quot; /&gt;\r\n            &lt;/list&gt;\r\n            &lt;list name=&quot;supplierPaidChecks&quot; table=&quot;supplier_paid_check&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n                &lt;key column=&quot;spd_id&quot;  /&gt;\r\n                &lt;list-index column=&quot;id&quot; /&gt;\r\n                &lt;one-to-many class=&quot;iland.hbm.SupplierPaidCheck&quot; /&gt;\r\n            &lt;/list&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\n**Exceptions :**\r\n\r\n    SEVERE: Exception occurred during processing request: object references an unsaved transient instance - save the transient instance before flushing: iland.hbm.SupplierPaymentDetails\r\n    org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: iland.hbm.SupplierPaymentDetails\r\n    \tat org.hibernate.engine.ForeignKeys.getEntityIdentifierIfNotUnsaved(ForeignKeys.java:243)\r\n    \tat org.hibernate.type.EntityType.getIdentifier(EntityType.java:456)\r\n    \tat org.hibernate.type.ManyToOneType.nullSafeSet(ManyToOneType.java:121)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2559)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2495)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2822)\r\n    \tat org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\r\n    \tat org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\r\n    \tat org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\r\n    \tat org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\r\n    \tat org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\r\n    \tat org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\r\n    \tat org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\r\n    \tat org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)\r\n    \tat org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)\r\n    \tat iland.payment.CashDao.update(CashDao.java:57)\r\n    \tat iland.payment.hbmCashAction.update(hbmCashAction.java:64)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\r\n    \tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\r\n    \tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:161)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:563)\r\n    \tat org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\n\r\nHow to resolve above exceptions?","title":"org.hibernate.TransientObjectException: object references an unsaved transient instance","body":"<p>Here I am trying to update <code>SupplierPaidDetail</code> including data in (<code>supplierPaidOnlines</code>,<code>supplierPaidCashes</code>,<code>supplierPaidChecks</code>)  following are my code but this is showing exception.</p>\n<p><strong>JSP Page:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:form action=&quot;UpdatedPaid&quot; method=&quot;post&quot;&gt;  \n    &lt;s:if test=&quot;paidList.size&gt;0&quot;&gt; \n        &lt;s:iterator value=&quot;paidList&quot; var=&quot;pdlst&quot;&gt;\n            &lt;div class=&quot;box&quot;&gt;\n                &lt;span class=&quot;label&quot;&gt;Payment Date&lt;/span&gt;\n                &lt;span class=&quot;ib&quot;&gt;\n                    &lt;s:hidden name=&quot;id&quot; id=&quot;paidId&quot; value=&quot;%{paidId}&quot;/&gt;\n                    &lt;s:hidden name=&quot;supplierPaymentDetails.id&quot; value=&quot;%{supplierPaymentId}&quot;/&gt;\n                    &lt;s:textfield name=&quot;paymentDate&quot; id=&quot;paymentDate&quot; value=&quot;%{paymentDate}&quot;/&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;box&quot;&gt;\n                &lt;span class=&quot;label&quot;&gt;Payment Mode&lt;/span&gt;\n                &lt;span class=&quot;ib&quot;&gt;\n                    &lt;s:textfield name=&quot;paymentMode&quot; id=&quot;payment_mode&quot; readonly=&quot;true&quot; value=&quot;%{payment_mode}&quot;/&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n            &lt;s:if test=&quot;cashActionList.size&gt;0&quot;&gt; \n                &lt;s:iterator value=&quot;cashActionList&quot; status=&quot;rowstatus&quot;&gt;\n                    &lt;div class=&quot;box&quot;&gt;\n                        &lt;span class=&quot;label&quot;&gt;Amount&lt;/span&gt;\n                        &lt;span class=&quot;ib&quot;&gt; \n                            &lt;s:textfield name=&quot;supplierPaidCashes[%{#rowstatus.index}].amount&quot; id=&quot;amount&quot; value=&quot;%{amount}&quot;/&gt;\n                        &lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;box&quot;&gt;\n                        &lt;span class=&quot;label&quot;&gt;TO Person&lt;/span&gt;\n                        &lt;span class=&quot;ib&quot;&gt;\n                            &lt;s:hidden name=&quot;supplierPaidCashes[%{#rowstatus.index}].id&quot; id=&quot;id&quot; value=&quot;%{id}&quot;/&gt;\n                            &lt;s:textfield name=&quot;supplierPaidCashes[%{#rowstatus.index}].toPerson&quot; id=&quot;toPerson&quot; value=&quot;%{toPerson}&quot;/&gt;\n                        &lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;box&quot;&gt;\n                        &lt;span class=&quot;label&quot;&gt;Designation&lt;/span&gt;\n                        &lt;span class=&quot;ib&quot;&gt;\n                            &lt;s:textfield name=&quot;supplierPaidCashes[%{#rowstatus.index}].Designation&quot; id=&quot;Designation&quot; value=&quot;%{Designation}&quot;/&gt;\n                        &lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;box&quot;&gt;\n                        &lt;span class=&quot;label&quot;&gt;Receipt No&lt;/span&gt;\n                        &lt;span class=&quot;ib&quot;&gt;\n                            &lt;s:textfield name=&quot;supplierPaidCashes[%{#rowstatus.index}].receiptNo&quot; id=&quot;receiptNo&quot; value=&quot;%{reciptNo}&quot;/&gt;\n                        &lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/s:iterator&gt;\n            &lt;/s:if&gt;\n        &lt;/s:iterator&gt;\n    &lt;/s:if&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p><strong>In Action:</strong></p>\n<pre><code>public class hbmCashAction extends ActionSupport implements ModelDriven&lt;SupplierPaidDetails&gt; {\n\n    SupplierPaidDetails spa = new SupplierPaidDetails();\n\n    public String update() {\n        System.out.println(&quot;--------&quot;);\n\n        System.out.println(&quot;id&quot; + spa.getId() + &quot; &quot; + spa.getPaymentDate());\n        SupplierPaymentDetails spdd = new SupplierPaymentDetails();\n        spa.setSupplierPaymentDetails(spdd);\n        List&lt;SupplierPaidCash&gt; aca = spa.getSupplierPaidCashes();\n        for (SupplierPaidCash ss : aca) {\n            System.out.println(&quot;Cash Details&quot;);\n            ss.setSupplierPaidDetails(spa);\n            System.out.println(ss.getId() + &quot; &quot; + ss.getAmount() + &quot; &quot; + ss.getToPerson());\n        }\n        List&lt;SupplierPaidCheck&gt; ax = spa.getSupplierPaidChecks();\n        for (SupplierPaidCheck ss : ax) {\n            System.out.println(&quot;Check Details&quot;);\n\n            ss.setSupplierPaidDetails(spa);\n            System.out.println(ss.getId() + &quot; &quot; + ss.getPaidToAccNo() + &quot; &quot; + ss.getPayableAt());\n        }\n        List&lt;SupplierPaidOnline&gt; onl = spa.getSupplierPaidOnlines();\n        for (SupplierPaidOnline ss : onl) {\n            System.out.println(&quot;Online Details&quot;);\n            ss.setSupplierPaidDetails(spa);\n            System.out.println(ss.getId() + &quot; &quot; + ss.getPaidToAccNo() + &quot; &quot; + ss.getPayRefNo());\n        }\n        System.out.println(&quot;--------&quot;);\n        CashDao co = new CashDao();\n        co.update(spa);\n        return SUCCESS;\n    }\n  }\n</code></pre>\n<p><strong>DAO:</strong></p>\n<pre><code>public class CashDao {\n\n    public void update(SupplierPaidDetails spd) {\n\n        Session session = HibernateUtil.getSessionFactory().openSession();\n        session.beginTransaction();\n        try {\n            session.update(spd);\n        } catch (HibernateException e) {\n            System.out.println(&quot;Exception  &quot; + e);\n            session.getTransaction().rollback();\n        }\n        session.getTransaction().commit();\n\n    }\n  }\n</code></pre>\n<p><strong><code>SupplierPaidDetalis</code>:</strong></p>\n<pre><code>public class SupplierPaidDetails implements java.io.Serializable {\n\n    private Long id;\n    private SupplierPaymentDetails supplierPaymentDetails;\n    private String paymentMode;\n    private Date paymentDate;\n    private Date addDate;\n    private String status;\n    private List&lt;SupplierPaidOnline&gt; supplierPaidOnlines = new ArrayList();\n    private List&lt;SupplierPaidCash&gt; supplierPaidCashes = new ArrayList();\n    private List&lt;SupplierPaidCheck&gt; supplierPaidChecks = new ArrayList();\n /getter and setter\n }\n</code></pre>\n<p><strong><code>supplierPaidDetails.hbm.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;!-- Generated May 10, 2014 11:18:04 PM by Hibernate Tools 3.6.0 --&gt;\n&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;iland.hbm.SupplierPaidDetails&quot; table=&quot;supplier_paid_details&quot; catalog=&quot;retail_shop&quot; dynamic-update=&quot;true&quot;&gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\n            &lt;column name=&quot;id&quot; /&gt;\n            &lt;generator class=&quot;identity&quot; /&gt;\n        &lt;/id&gt;\n        &lt;many-to-one name=&quot;supplierPaymentDetails&quot; class=&quot;iland.hbm.SupplierPaymentDetails&quot; fetch=&quot;select&quot;&gt;\n            &lt;column name=&quot;supp_payment_id&quot; not-null=&quot;true&quot; /&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=&quot;paymentMode&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;payment_mode&quot; length=&quot;20&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;paymentDate&quot; type=&quot;date&quot;&gt;\n            &lt;column name=&quot;payment_date&quot; length=&quot;10&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;addDate&quot; type=&quot;timestamp&quot;&gt;\n            &lt;column name=&quot;add_date&quot; length=&quot;19&quot; default=&quot;0&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;status&quot; type=&quot;string&quot;&gt;\n            &lt;column name=&quot;status&quot; length=&quot;20&quot; /&gt;\n        &lt;/property&gt;\n        &lt;list name=&quot;supplierPaidOnlines&quot; table=&quot;supplier_paid_online&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot; &gt;\n            &lt;key column=&quot;spd_id&quot;  /&gt;\n            &lt;list-index column=&quot;id&quot; /&gt;\n            &lt;one-to-many class=&quot;iland.hbm.SupplierPaidOnline&quot; /&gt;\n        &lt;/list&gt;\n        &lt;list name=&quot;supplierPaidCashes&quot; table=&quot;supplier_paid_cash&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n            &lt;key column=&quot;spd_id&quot;  /&gt;\n            &lt;list-index column=&quot;id&quot; /&gt;\n            &lt;one-to-many class=&quot;iland.hbm.SupplierPaidCash&quot; /&gt;\n        &lt;/list&gt;\n        &lt;list name=&quot;supplierPaidChecks&quot; table=&quot;supplier_paid_check&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n            &lt;key column=&quot;spd_id&quot;  /&gt;\n            &lt;list-index column=&quot;id&quot; /&gt;\n            &lt;one-to-many class=&quot;iland.hbm.SupplierPaidCheck&quot; /&gt;\n        &lt;/list&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p><strong>Exceptions :</strong></p>\n<pre><code>SEVERE: Exception occurred during processing request: object references an unsaved transient instance - save the transient instance before flushing: iland.hbm.SupplierPaymentDetails\norg.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: iland.hbm.SupplierPaymentDetails\n    at org.hibernate.engine.ForeignKeys.getEntityIdentifierIfNotUnsaved(ForeignKeys.java:243)\n    at org.hibernate.type.EntityType.getIdentifier(EntityType.java:456)\n    at org.hibernate.type.ManyToOneType.nullSafeSet(ManyToOneType.java:121)\n    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2184)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2559)\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:2495)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:2822)\n    at org.hibernate.action.EntityUpdateAction.execute(EntityUpdateAction.java:113)\n    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:185)\n    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\n    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\n    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\n    at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)\n    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)\n    at iland.payment.CashDao.update(CashDao.java:57)\n    at iland.payment.hbmCashAction.update(hbmCashAction.java:64)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:239)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:161)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:563)\n    at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n<p>How to resolve above exceptions?</p>\n"},{"tags":["java","spring","cors"],"answers":[{"tags":[],"owner":{"account_id":4894213,"reputation":148,"user_id":6519224,"display_name":"Deepak D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697027473,"creation_date":1697027473,"answer_id":77273087,"question_id":77272838,"body_markdown":"[Since Spring 5.3.2, `allowedOriginPatterns` is supported to specify the patterns instead of literal values](https://github.com/spring-projects/spring-framework/issues/26111#issuecomment-729805112). The `allowedOrigins`, if has `*` as value, won&#39;t be added in the header if `allowCredentials=true`, which I think is the default setting.\r\n\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class CorsConfig implements WebMvcConfigurer{\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/api/**&quot;)\r\n                .allowedOriginPatterns(&quot;*&quot;) // &lt;= this line\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;);\r\n    }\r\n}\r\n```","title":"Spring CORS Header not being sent","body":"<p><a href=\"https://github.com/spring-projects/spring-framework/issues/26111#issuecomment-729805112\" rel=\"nofollow noreferrer\">Since Spring 5.3.2, <code>allowedOriginPatterns</code> is supported to specify the patterns instead of literal values</a>. The <code>allowedOrigins</code>, if has <code>*</code> as value, won't be added in the header if <code>allowCredentials=true</code>, which I think is the default setting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class CorsConfig implements WebMvcConfigurer{\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/api/**&quot;)\n                .allowedOriginPatterns(&quot;*&quot;) // &lt;= this line\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697027473,"creation_date":1697025398,"question_id":77272838,"body_markdown":"I am trying to set up CORS for my Spring REST API.  \r\nI have the following Configuration:\r\n\r\n```\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\n@EnableWebMvc \r\npublic class CorsConfig implements WebMvcConfigurer{\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/api/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever, whenever I test my endpoint with swagger, there is no CORS Header.\r\n\r\nI also tried setting CORS at the Endpoints directly:\r\n\r\n```\r\n@RequestMapping(&quot;/api/v1/news/articles&quot;)\r\n@CrossOrigin(origins = &quot;*&quot;) \r\n@RestController\r\npublic class NewsEndpoint {\r\n```\r\n\r\nBut the issue persists.","title":"Spring CORS Header not being sent","body":"<p>I am trying to set up CORS for my Spring REST API.<br />\nI have the following Configuration:</p>\n<pre><code>\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\n@EnableWebMvc \npublic class CorsConfig implements WebMvcConfigurer{\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/api/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;);\n    }\n}\n</code></pre>\n<p>However, whenever I test my endpoint with swagger, there is no CORS Header.</p>\n<p>I also tried setting CORS at the Endpoints directly:</p>\n<pre><code>@RequestMapping(&quot;/api/v1/news/articles&quot;)\n@CrossOrigin(origins = &quot;*&quot;) \n@RestController\npublic class NewsEndpoint {\n</code></pre>\n<p>But the issue persists.</p>\n"},{"tags":["java","flowchart"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":0,"creation_date":1394481229,"post_id":22309937,"comment_id":33900330,"body_markdown":"Not sure about flowchart, but ArgoUML is free and generates UML diagrams off of code, if that&#39;s what you mean.","body":"Not sure about flowchart, but ArgoUML is free and generates UML diagrams off of code, if that&#39;s what you mean."},{"owner":{"account_id":2694783,"reputation":69,"user_id":2327156,"accept_rate":40,"display_name":"Sean McCann"},"score":0,"creation_date":1394481366,"post_id":22309937,"comment_id":33900412,"body_markdown":"Hi, thanks for the reply. But no, definitely a flow chart generator! I am familiar with them also but i&#39;m finding it tricky to find one online to download for a flow chart! Thanks again.","body":"Hi, thanks for the reply. But no, definitely a flow chart generator! I am familiar with them also but i&#39;m finding it tricky to find one online to download for a flow chart! Thanks again."}],"answers":[{"tags":[],"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1415367144,"creation_date":1394481899,"answer_id":22310170,"question_id":22309937,"body_markdown":"[jgraphx][1] is capable of rendering flowcharts (which are a special case of graphs in general) and have an open source offering.\r\n\r\nthere&#39;s a manual for it [here][2]\r\n\r\n\r\n  [1]: https://www.jgraph.com/jgraph.html\r\n  [2]: https://jgraph.github.io/mxgraph/docs/manual_javavis.html","title":"Automatic Java flow chart generator","body":"<p><a href=\"https://www.jgraph.com/jgraph.html\" rel=\"nofollow\">jgraphx</a> is capable of rendering flowcharts (which are a special case of graphs in general) and have an open source offering.</p>\n\n<p>there's a manual for it <a href=\"https://jgraph.github.io/mxgraph/docs/manual_javavis.html\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":2694783,"reputation":69,"user_id":2327156,"accept_rate":40,"display_name":"Sean McCann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15037,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1697039907,"answer_count":1,"score":0,"last_activity_date":1697027410,"creation_date":1394481134,"question_id":22309937,"body_markdown":"I&#39;m just looking to see if anyone knows of any free safe automatic flow chart generators for software testing when you pass in java code that you have written. That&#39;s OK to download?","title":"Automatic Java flow chart generator","body":"<p>I'm just looking to see if anyone knows of any free safe automatic flow chart generators for software testing when you pass in java code that you have written. That's OK to download?</p>\n"},{"tags":["java","docker","memory-leaks","out-of-memory","kubernetes"],"comments":[{"owner":{"account_id":9179496,"reputation":81,"user_id":6823927,"display_name":"zhiwei peng"},"score":0,"creation_date":1476983899,"post_id":39457819,"comment_id":67590082,"body_markdown":"our application is running in kubernates managed containers, after upgraded to kubernates 1.4 this issue seems to be fixed, not more OOM in all 48 pods in more than 100 hours, even GC runs better. but still can&#39;t tell what exactly is causing this yet.","body":"our application is running in kubernates managed containers, after upgraded to kubernates 1.4 this issue seems to be fixed, not more OOM in all 48 pods in more than 100 hours, even GC runs better. but still can&#39;t tell what exactly is causing this yet."},{"owner":{"account_id":9179496,"reputation":81,"user_id":6823927,"display_name":"zhiwei peng"},"score":0,"creation_date":1477674511,"post_id":39457819,"comment_id":67877107,"body_markdown":"update again: looks like this is only improved but not solved even after the upgrade, after 8 days there are a few pods run into same issue. so the native memory still increase but at a much slower pace.","body":"update again: looks like this is only improved but not solved even after the upgrade, after 8 days there are a few pods run into same issue. so the native memory still increase but at a much slower pace."}],"answers":[{"tags":[],"owner":{"account_id":10067315,"reputation":11,"user_id":7442110,"display_name":"Jiř&#237;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484842721,"creation_date":1484842721,"answer_id":41746663,"question_id":39457819,"body_markdown":"This is not answer to your question, it is just a workaround.\r\n\r\nI have observed same problem in docker containers running JRuby on java version &quot;1.8.0_45&quot;. The solution was to explicitly invoke Garbage Collection. I have absolutely no idea, why this works, but after GC Internal Java memory returned to 8MB.","title":"Why is Internal memory in java Native Memory Tracking increasing","body":"<p>This is not answer to your question, it is just a workaround.</p>\n\n<p>I have observed same problem in docker containers running JRuby on java version \"1.8.0_45\". The solution was to explicitly invoke Garbage Collection. I have absolutely no idea, why this works, but after GC Internal Java memory returned to 8MB.</p>\n"},{"tags":[],"owner":{"account_id":11405358,"reputation":1,"user_id":8360959,"display_name":"Cliff Tian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552363328,"creation_date":1552362233,"answer_id":55113813,"question_id":39457819,"body_markdown":"Do you have `-XX:+DisableExplicitGC` configured?\r\n\r\nIf *yes*, please remove that.\r\n\r\nIf *no* &quot;`-XX:+DisableExplicitGC`&quot; configured, how about the situation after triggering a full GC via JConsole","title":"Why is Internal memory in java Native Memory Tracking increasing","body":"<p>Do you have <code>-XX:+DisableExplicitGC</code> configured?</p>\n\n<p>If <em>yes</em>, please remove that.</p>\n\n<p>If <em>no</em> \"<code>-XX:+DisableExplicitGC</code>\" configured, how about the situation after triggering a full GC via JConsole</p>\n"},{"tags":[],"owner":{"account_id":6879972,"reputation":433,"user_id":5286990,"accept_rate":100,"display_name":"刘思凡"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1697026192,"creation_date":1588731679,"answer_id":61626275,"question_id":39457819,"body_markdown":"Recently Our application met the same problem. In our case, we use netty, and netty allocate direct memory, when many io connnection exists, the internal memory in java Native Memory Tracking increasing.   \r\nAnd finally we use two parameters to limit the native memory.\r\n```\r\n-Dio.netty.maxDirectMemory=1073741824\r\n-XX:MaxDirectMemorySize=1024m\r\n","title":"Why is Internal memory in java Native Memory Tracking increasing","body":"<p>Recently Our application met the same problem. In our case, we use netty, and netty allocate direct memory, when many io connnection exists, the internal memory in java Native Memory Tracking increasing.<br />\nAnd finally we use two parameters to limit the native memory.</p>\n<pre><code>-Dio.netty.maxDirectMemory=1073741824\n-XX:MaxDirectMemorySize=1024m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642083562,"creation_date":1642083562,"answer_id":70698144,"question_id":39457819,"body_markdown":"I think you may have run into the issue that I answered here: https://stackoverflow.com/questions/68681786/java-heap-dump-how-to-find-the-objects-class-that-is-taking-memory-by-1-io-ne/68727220#68727220\r\n\r\nIf you&#39;re running on a node with a large number of cores, you may have to set the environment variable `MALLOC_ARENA_MAX` to control how native memory is allocated.","title":"Why is Internal memory in java Native Memory Tracking increasing","body":"<p>I think you may have run into the issue that I answered here: <a href=\"https://stackoverflow.com/questions/68681786/java-heap-dump-how-to-find-the-objects-class-that-is-taking-memory-by-1-io-ne/68727220#68727220\">Java Heap Dump : How to find the objects/class that is taking memory by 1. io.netty.buffer.ByteBufUtil 2. byte[] array</a></p>\n<p>If you're running on a node with a large number of cores, you may have to set the environment variable <code>MALLOC_ARENA_MAX</code> to control how native memory is allocated.</p>\n"}],"owner":{"account_id":9179496,"reputation":81,"user_id":6823927,"display_name":"zhiwei peng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2756,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1697026192,"creation_date":1473710067,"question_id":39457819,"body_markdown":"My application is running in a docker container, it use scala and use &quot;OpenJDK 64-Bit Server VM (build 25.102-b14, mixed mode)&quot;, its Xmx is set to be 16GB and container memory limit is 24Gb, after running for some time the container is killed:\r\n\r\n    Last State:         Terminated\r\n      Reason:           OOMKilled\r\n      Exit Code:        137\r\n\r\nHowever I can&#39;t find any &quot;java.lang.OutOfMemoryError: Java heap space&quot; errors in the log, not even once in last 2 weeks in all 48 nodes. So it&#39;s not likely a normal heap OOM.\r\n\r\ndmesg output:\r\n\r\n    $ dmesg -l err,crit,alert,emerg\r\n    STDIN is not a terminal\r\n    [1647254.978515] Memory cgroup out of memory: Kill process 10924 (java) score 1652 or sacrifice child\r\n    [1647254.989138] Killed process 10924 (java) total-vm:34187148kB, anon-rss:24853120kB, file-rss:23904kB\r\n    [1655749.664871] Memory cgroup out of memory: Kill process 1969 (java) score 1652 or sacrifice child\r\n    [1655749.675513] Killed process 1969 (java) total-vm:35201940kB, anon-rss:24856624kB, file-rss:24120kB\r\n    [1655749.987605] Memory cgroup out of memory: Kill process 2799 (java) score 1656 or sacrifice child\r\n\r\nI then run JCMD multiple times before it is killed again and the data looks like the following:\r\nNative Memory Tracking:\r\n\r\nTotal: reserved=25505339KB, committed=25140947KB\r\n-                 Java Heap (reserved=16777216KB, committed=16777216KB)\r\n                            (mmap: reserved=16777216KB, committed=16777216KB)\r\n\r\n-                     Class (reserved=247996KB, committed=93500KB)\r\n                            (classes #14539)\r\n                            (malloc=2236KB #29794)\r\n                            (mmap: reserved=245760KB, committed=91264KB)\r\n\r\n-                    Thread (reserved=1013160KB, committed=1013160KB)\r\n                            (thread #1902)\r\n                            (stack: reserved=1003956KB, committed=1003956KB)\r\n                            (malloc=6240KB #9523)\r\n                            (arena=2964KB #3803)\r\n\r\n-                      Code (reserved=263255KB, committed=86131KB)\r\n                            (malloc=13655KB #20964)\r\n                            (mmap: reserved=249600KB, committed=72476KB)\r\n\r\n-                        GC (reserved=776174KB, committed=776174KB)\r\n                            (malloc=120814KB #164310)\r\n                            (mmap: reserved=655360KB, committed=655360KB)\r\n\r\n-                  Compiler (reserved=812KB, committed=812KB)\r\n                            (malloc=681KB #1823)\r\n                            (arena=131KB #3)\r\n\r\n-                  Internal (reserved=6366260KB, committed=6366256KB)\r\n                            (malloc=6366256KB #178778)\r\n                            (mmap: reserved=4KB, committed=0KB)\r\n\r\n-                    Symbol (reserved=18391KB, committed=18391KB)\r\n                            (malloc=16242KB #153138)\r\n                            (arena=2150KB #1)\r\n\r\n-    Native Memory Tracking (reserved=9002KB, committed=9002KB)\r\n                            (malloc=186KB #2000)\r\n                            (tracking overhead=8816KB)\r\n\r\n-               Arena Chunk (reserved=273KB, committed=273KB)\r\n                            (malloc=273KB)\r\n\r\n-                   Unknown (reserved=32800KB, committed=32KB)\r\n                            (mmap: reserved=32800KB, committed=32KB)\r\n\r\n\r\nOne thing I noticed is this section:\r\nInternal (reserved=6366260KB, committed=6366256KB)\r\n\r\nIt keeps growing and causing total memory usage to exceed 24GB limit.\r\n\r\nAnyone has seen similar issue before? and anyone knows what is Internal memory here and what could be the reason that it keeps growing without releasing the memory?","title":"Why is Internal memory in java Native Memory Tracking increasing","body":"<p>My application is running in a docker container, it use scala and use \"OpenJDK 64-Bit Server VM (build 25.102-b14, mixed mode)\", its Xmx is set to be 16GB and container memory limit is 24Gb, after running for some time the container is killed:</p>\n\n<pre><code>Last State:         Terminated\n  Reason:           OOMKilled\n  Exit Code:        137\n</code></pre>\n\n<p>However I can't find any \"java.lang.OutOfMemoryError: Java heap space\" errors in the log, not even once in last 2 weeks in all 48 nodes. So it's not likely a normal heap OOM.</p>\n\n<p>dmesg output:</p>\n\n<pre><code>$ dmesg -l err,crit,alert,emerg\nSTDIN is not a terminal\n[1647254.978515] Memory cgroup out of memory: Kill process 10924 (java) score 1652 or sacrifice child\n[1647254.989138] Killed process 10924 (java) total-vm:34187148kB, anon-rss:24853120kB, file-rss:23904kB\n[1655749.664871] Memory cgroup out of memory: Kill process 1969 (java) score 1652 or sacrifice child\n[1655749.675513] Killed process 1969 (java) total-vm:35201940kB, anon-rss:24856624kB, file-rss:24120kB\n[1655749.987605] Memory cgroup out of memory: Kill process 2799 (java) score 1656 or sacrifice child\n</code></pre>\n\n<p>I then run JCMD multiple times before it is killed again and the data looks like the following:\nNative Memory Tracking:</p>\n\n<p>Total: reserved=25505339KB, committed=25140947KB\n-                 Java Heap (reserved=16777216KB, committed=16777216KB)\n                            (mmap: reserved=16777216KB, committed=16777216KB)</p>\n\n<ul>\n<li><p>Class (reserved=247996KB, committed=93500KB)\n                        (classes #14539)\n                        (malloc=2236KB #29794)\n                        (mmap: reserved=245760KB, committed=91264KB)</p></li>\n<li><p>Thread (reserved=1013160KB, committed=1013160KB)\n                        (thread #1902)\n                        (stack: reserved=1003956KB, committed=1003956KB)\n                        (malloc=6240KB #9523)\n                        (arena=2964KB #3803)</p></li>\n<li><p>Code (reserved=263255KB, committed=86131KB)\n                        (malloc=13655KB #20964)\n                        (mmap: reserved=249600KB, committed=72476KB)</p></li>\n<li><p>GC (reserved=776174KB, committed=776174KB)\n                        (malloc=120814KB #164310)\n                        (mmap: reserved=655360KB, committed=655360KB)</p></li>\n<li><p>Compiler (reserved=812KB, committed=812KB)\n                        (malloc=681KB #1823)\n                        (arena=131KB #3)</p></li>\n<li><p>Internal (reserved=6366260KB, committed=6366256KB)\n                        (malloc=6366256KB #178778)\n                        (mmap: reserved=4KB, committed=0KB)</p></li>\n<li><p>Symbol (reserved=18391KB, committed=18391KB)\n                        (malloc=16242KB #153138)\n                        (arena=2150KB #1)</p></li>\n<li><p>Native Memory Tracking (reserved=9002KB, committed=9002KB)\n                        (malloc=186KB #2000)\n                        (tracking overhead=8816KB)</p></li>\n<li><p>Arena Chunk (reserved=273KB, committed=273KB)\n                        (malloc=273KB)</p></li>\n<li><p>Unknown (reserved=32800KB, committed=32KB)\n                        (mmap: reserved=32800KB, committed=32KB)</p></li>\n</ul>\n\n<p>One thing I noticed is this section:\nInternal (reserved=6366260KB, committed=6366256KB)</p>\n\n<p>It keeps growing and causing total memory usage to exceed 24GB limit.</p>\n\n<p>Anyone has seen similar issue before? and anyone knows what is Internal memory here and what could be the reason that it keeps growing without releasing the memory?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":1,"creation_date":1697025607,"post_id":77272839,"comment_id":136227067,"body_markdown":"Since here we are talking about 100 values and calling size() on an ArrayList is a constant-time O(1) operation - in both cases the performance impact is negligible.","body":"Since here we are talking about 100 values and calling size() on an ArrayList is a constant-time O(1) operation - in both cases the performance impact is negligible."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697033865,"post_id":77272839,"comment_id":136228902,"body_markdown":"Are you talking about the standard ArrayList type from the java.util package, or are you asking about implementing your own version of a list?","body":"Are you talking about the standard ArrayList type from the java.util package, or are you asking about implementing your own version of a list?"}],"answers":[{"tags":[],"owner":{"account_id":7254391,"reputation":835,"user_id":5533591,"accept_rate":100,"display_name":"ChristophE"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1697025501,"creation_date":1697025501,"answer_id":77272855,"question_id":77272839,"body_markdown":"When you look in the implementation of ArrayList you can see that they already store the size in a variable themself, so no need for you to store it yourself.","title":"Calculating the size of list everytime or keep the size in variable and used","body":"<p>When you look in the implementation of ArrayList you can see that they already store the size in a variable themself, so no need for you to store it yourself.</p>\n"}],"owner":{"account_id":3228436,"reputation":157,"user_id":2724215,"accept_rate":23,"display_name":"user2724215"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1697033871,"accepted_answer_id":77272855,"answer_count":1,"score":-5,"last_activity_date":1697026124,"creation_date":1697025402,"question_id":77272839,"body_markdown":"Calculating the size of arraylist everytime, or it is good to store the size of array list variable and use it. The arraylist containing less than 100 values. \r\n\r\nWill the variable present inside the method will take much memory, anyhow the variables present in the method will be eligible for garbage collection. \r\n\r\nplease suggest storing the size of list in variable or calculate the size of list every time ? \r\n\r\n\r\n\r\n\r\n","title":"Calculating the size of list everytime or keep the size in variable and used","body":"<p>Calculating the size of arraylist everytime, or it is good to store the size of array list variable and use it. The arraylist containing less than 100 values.</p>\n<p>Will the variable present inside the method will take much memory, anyhow the variables present in the method will be eligible for garbage collection.</p>\n<p>please suggest storing the size of list in variable or calculate the size of list every time ?</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697025045,"post_id":77272778,"comment_id":136226930,"body_markdown":"You probably updated Gradle or a plugin. You need to find out where this `uploadArchives` method came from, then check that plugin&#39;s documentation to see what replaced it.","body":"You probably updated Gradle or a plugin. You need to find out where this <code>uploadArchives</code> method came from, then check that plugin&#39;s documentation to see what replaced it."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1697025301,"post_id":77272778,"comment_id":136226990,"body_markdown":"Such problems can not be solved by just looking at the error message.","body":"Such problems can not be solved by just looking at the error message."},{"owner":{"account_id":29647991,"reputation":1,"user_id":22722594,"display_name":"Vladyslav Kryvets"},"score":0,"creation_date":1697025576,"post_id":77272778,"comment_id":136227062,"body_markdown":"Thank u for help, ill try","body":"Thank u for help, ill try"}],"owner":{"account_id":29647991,"reputation":1,"user_id":22722594,"display_name":"Vladyslav Kryvets"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697026071,"creation_date":1697024927,"question_id":77272778,"body_markdown":"I have android app calendar. I need to update it because it is`nt working in new android devices. What should i do for it after upgrading gradle version i have this problems:\r\n```\r\n1) cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;base-extension&#39;. One of &#39;{codename, tag}&#39; is expected.\r\n2)cvc-complex-type.2.4.d: Invalid content was found starting with element &#39;extension-level&#39;. No child element is expected at this point.\r\n3)cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;extension-level&#39;. One of &#39;{layoutlib}&#39; is expected.\r\n4)cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;extension-level&#39;. One of &#39;{codename, tag}&#39; is expected.\r\n5)Caused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method uploadArchives() for arguments [android_release_aar_dulkhoq89m33wxqb89a5btma5$_run_closure4@7da75b2f] on project &#39;:library&#39; of type org.gradle.api.Project.\r\n```\r\n","title":"I need to update android app for new version","body":"<p>I have android app calendar. I need to update it because it is`nt working in new android devices. What should i do for it after upgrading gradle version i have this problems:</p>\n<pre><code>1) cvc-complex-type.2.4.a: Invalid content was found starting with element 'base-extension'. One of '{codename, tag}' is expected.\n2)cvc-complex-type.2.4.d: Invalid content was found starting with element 'extension-level'. No child element is expected at this point.\n3)cvc-complex-type.2.4.a: Invalid content was found starting with element 'extension-level'. One of '{layoutlib}' is expected.\n4)cvc-complex-type.2.4.a: Invalid content was found starting with element 'extension-level'. One of '{codename, tag}' is expected.\n5)Caused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method uploadArchives() for arguments [android_release_aar_dulkhoq89m33wxqb89a5btma5$_run_closure4@7da75b2f] on project ':library' of type org.gradle.api.Project.\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1659675245,"post_id":73243919,"comment_id":129355141,"body_markdown":"From gihub issue (https://github.com/kofigyan/StateProgressBar/issues/69) , it seems you need to `jcenter()` in your `build.gradle` file","body":"From gihub issue (<a href=\"https://github.com/kofigyan/StateProgressBar/issues/69\" rel=\"nofollow noreferrer\">github.com/kofigyan/StateProgressBar/issues/69</a>) , it seems you need to <code>jcenter()</code> in your <code>build.gradle</code> file"}],"answers":[{"tags":[],"owner":{"account_id":17019234,"reputation":21,"user_id":12341354,"display_name":"nikb727"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676614785,"creation_date":1676614785,"answer_id":75480840,"question_id":73243919,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QNBFq.png\r\n\r\n**You don&#39;t have to use a third-party library for it.**\r\n\r\nUse this :\r\n\r\nIn XML\r\n    \r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/ll1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view_state1&quot;\r\n                android:layout_width=&quot;25dp&quot;\r\n                android:layout_height=&quot;25dp&quot;\r\n                android:background=&quot;@drawable/cv_green_circle&quot; /&gt;\r\n\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_state1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:text=&quot;Product ordered&quot;\r\n                android:textColor=&quot;@android:color/background_dark&quot;\r\n                android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/view_progress1&quot;\r\n            android:layout_width=&quot;4dp&quot;\r\n            android:layout_height=&quot;55dp&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:background=&quot;@color/grey&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/ll2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view_state2&quot;\r\n                android:layout_width=&quot;25dp&quot;\r\n                android:layout_height=&quot;25dp&quot;\r\n                android:background=&quot;@drawable/cv_grey_circle&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_state2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;25dp&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:text=&quot;Despetched&quot;\r\n                android:textColor=&quot;@android:color/background_dark&quot;\r\n                android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/view_progress2&quot;\r\n            android:layout_width=&quot;4dp&quot;\r\n            android:layout_height=&quot;55dp&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:background=&quot;@color/grey&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/ll3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view_state3&quot;\r\n                android:layout_width=&quot;25dp&quot;\r\n                android:layout_height=&quot;25dp&quot;\r\n                android:background=&quot;@drawable/cv_grey_circle&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_state3&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:text=&quot;Out for delivery&quot;\r\n                android:textColor=&quot;@android:color/background_dark&quot;\r\n                android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/view_progress3&quot;\r\n            android:layout_width=&quot;4dp&quot;\r\n            android:layout_height=&quot;55dp&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:background=&quot;@color/grey&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/ll4&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view_state4&quot;\r\n                android:layout_width=&quot;25dp&quot;\r\n                android:layout_height=&quot;25dp&quot;\r\n                android:background=&quot;@drawable/cv_grey_circle&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_state4&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:text=&quot;Delivered&quot;\r\n                android:textColor=&quot;@android:color/background_dark&quot;\r\n                android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    // In activity :\r\n\r\n     private void changeState(int status) {\r\n       int stateId = 0, prgId = 0;\r\n       for(int i = 1; i&lt;=status; i++){\r\n\r\n           stateId = getResources().getIdentifier(&quot;view_state&quot;  + i, &quot;id&quot;, getPackageName());\r\n           View view = findViewById(stateId);\r\n           view.setBackground(getApplicationContext().getResources().getDrawable(R.drawable.cv_green_circle));\r\n\r\n           if(i&lt;status){\r\n               prgId = getResources().getIdentifier(&quot;view_progress&quot;  + i , &quot;id&quot;, getPackageName());\r\n               View prgView = findViewById(prgId);\r\n               prgView.setBackgroundColor(getApplicationContext().getResources().getColor(R.color.purple_500));\r\n           }\r\n       }\r\n    }\r\n\r\n\r\n    // In cv_green_circle.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;shape\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:shape=&quot;oval&quot;&gt;\r\n\r\n        &lt;solid\r\n            android:color=&quot;@color/purple_500&quot;/&gt;\r\n    \r\n        &lt;size\r\n            android:width=&quot;120dp&quot;\r\n            android:height=&quot;120dp&quot;/&gt;\r\n    &lt;/shape&gt;\r\n\r\n    ","title":"StateProgressBar for android studio","body":"<p><a href=\"https://i.stack.imgur.com/QNBFq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QNBFq.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>You don't have to use a third-party library for it.</strong></p>\n<p>Use this :</p>\n<p>In XML</p>\n<pre><code>&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginTop=&quot;50dp&quot;\n    android:layout_marginEnd=&quot;20dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/ll1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;View\n            android:id=&quot;@+id/view_state1&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/cv_green_circle&quot; /&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_state1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:maxLines=&quot;1&quot;\n            android:text=&quot;Product ordered&quot;\n            android:textColor=&quot;@android:color/background_dark&quot;\n            android:textSize=&quot;14sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;View\n        android:id=&quot;@+id/view_progress1&quot;\n        android:layout_width=&quot;4dp&quot;\n        android:layout_height=&quot;55dp&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:background=&quot;@color/grey&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/ll2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;View\n            android:id=&quot;@+id/view_state2&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/cv_grey_circle&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_state2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:maxLines=&quot;1&quot;\n            android:text=&quot;Despetched&quot;\n            android:textColor=&quot;@android:color/background_dark&quot;\n            android:textSize=&quot;14sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;View\n        android:id=&quot;@+id/view_progress2&quot;\n        android:layout_width=&quot;4dp&quot;\n        android:layout_height=&quot;55dp&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:background=&quot;@color/grey&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/ll3&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;View\n            android:id=&quot;@+id/view_state3&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/cv_grey_circle&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_state3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:maxLines=&quot;1&quot;\n            android:text=&quot;Out for delivery&quot;\n            android:textColor=&quot;@android:color/background_dark&quot;\n            android:textSize=&quot;14sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;View\n        android:id=&quot;@+id/view_progress3&quot;\n        android:layout_width=&quot;4dp&quot;\n        android:layout_height=&quot;55dp&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:background=&quot;@color/grey&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/ll4&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;View\n            android:id=&quot;@+id/view_state4&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/cv_grey_circle&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_state4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:maxLines=&quot;1&quot;\n            android:text=&quot;Delivered&quot;\n            android:textColor=&quot;@android:color/background_dark&quot;\n            android:textSize=&quot;14sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/LinearLayout&gt;\n\n\n// In activity :\n\n private void changeState(int status) {\n   int stateId = 0, prgId = 0;\n   for(int i = 1; i&lt;=status; i++){\n\n       stateId = getResources().getIdentifier(&quot;view_state&quot;  + i, &quot;id&quot;, getPackageName());\n       View view = findViewById(stateId);\n       view.setBackground(getApplicationContext().getResources().getDrawable(R.drawable.cv_green_circle));\n\n       if(i&lt;status){\n           prgId = getResources().getIdentifier(&quot;view_progress&quot;  + i , &quot;id&quot;, getPackageName());\n           View prgView = findViewById(prgId);\n           prgView.setBackgroundColor(getApplicationContext().getResources().getColor(R.color.purple_500));\n       }\n   }\n}\n\n\n// In cv_green_circle.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;shape\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;oval&quot;&gt;\n\n    &lt;solid\n        android:color=&quot;@color/purple_500&quot;/&gt;\n\n    &lt;size\n        android:width=&quot;120dp&quot;\n        android:height=&quot;120dp&quot;/&gt;\n&lt;/shape&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29579771,"reputation":11,"user_id":22669827,"display_name":"Mohamed Hossam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697025723,"creation_date":1697025723,"answer_id":77272878,"question_id":73243919,"body_markdown":"you need to add ```jcenter()``` to ```settings.gradle``` file in your project","title":"StateProgressBar for android studio","body":"<p>you need to add <code>jcenter()</code> to <code>settings.gradle</code> file in your project</p>\n"}],"owner":{"account_id":25955263,"reputation":13,"user_id":19672698,"display_name":"8xers6"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697025723,"creation_date":1659665134,"question_id":73243919,"body_markdown":"I already import in the dependencies the implementation `&#39;com.kofigyan.stateprogressbar:stateprogressbar:1.0.0&#39;`\r\nand gives this error \r\n\r\n&gt; Class referenced in the layout file,\r\n&gt; com.kofigyan.stateprogressbar.StateProgressBar, was not found in the\r\n&gt; project or the libraries\r\n\r\n    &lt;com.kofigyan.stateprogressbar.StateProgressBar\r\n            android:id=&quot;@+id/your_state_progress_bar_id&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:spb_currentStateNumber=&quot;three&quot;\r\n            app:spb_maxStateNumber=&quot;four&quot;\r\n            app:spb_stateBackgroundColor=&quot;#BDBDBD&quot;\r\n            app:spb_stateForegroundColor=&quot;#009688&quot;\r\n            app:spb_stateNumberBackgroundColor=&quot;#808080&quot;\r\n            app:spb_stateNumberForegroundColor=&quot;#eeeeee&quot;\r\n            app:spb_currentStateDescriptionColor=&quot;#009688&quot;\r\n            app:spb_stateDescriptionColor=&quot;#808080&quot;\r\n            app:spb_animateToCurrentProgressState=&quot;true&quot;\r\n            app:spb_checkStateCompleted=&quot;true&quot;/&gt;","title":"StateProgressBar for android studio","body":"<p>I already import in the dependencies the implementation <code>'com.kofigyan.stateprogressbar:stateprogressbar:1.0.0'</code>\nand gives this error</p>\n<blockquote>\n<p>Class referenced in the layout file,\ncom.kofigyan.stateprogressbar.StateProgressBar, was not found in the\nproject or the libraries</p>\n</blockquote>\n<pre><code>&lt;com.kofigyan.stateprogressbar.StateProgressBar\n        android:id=&quot;@+id/your_state_progress_bar_id&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:spb_currentStateNumber=&quot;three&quot;\n        app:spb_maxStateNumber=&quot;four&quot;\n        app:spb_stateBackgroundColor=&quot;#BDBDBD&quot;\n        app:spb_stateForegroundColor=&quot;#009688&quot;\n        app:spb_stateNumberBackgroundColor=&quot;#808080&quot;\n        app:spb_stateNumberForegroundColor=&quot;#eeeeee&quot;\n        app:spb_currentStateDescriptionColor=&quot;#009688&quot;\n        app:spb_stateDescriptionColor=&quot;#808080&quot;\n        app:spb_animateToCurrentProgressState=&quot;true&quot;\n        app:spb_checkStateCompleted=&quot;true&quot;/&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","microservices"],"comments":[{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1696331080,"post_id":77211819,"comment_id":136136264,"body_markdown":"If your consumer has debug logs, could you please add them. Basically want logs of this timeline -&gt; consumer consumes some message, consumer is idle, consumer gets some message again. Following these logs could help determine what happens to the consumer.","body":"If your consumer has debug logs, could you please add them. Basically want logs of this timeline -&gt; consumer consumes some message, consumer is idle, consumer gets some message again. Following these logs could help determine what happens to the consumer."},{"owner":{"account_id":15937360,"reputation":101,"user_id":11500152,"display_name":"Abhinav Ghosh"},"score":0,"creation_date":1696781366,"post_id":77211819,"comment_id":136194289,"body_markdown":"if everthing else is fine as you say and the poll() is the one to blame than you might wanna check if you are sending heartbeats regularly, and that your consumers are not spending too much in rebalancing/partition assignment...","body":"if everthing else is fine as you say and the poll() is the one to blame than you might wanna check if you are sending heartbeats regularly, and that your consumers are not spending too much in rebalancing/partition assignment..."},{"owner":{"account_id":116373,"reputation":454,"user_id":305170,"accept_rate":58,"display_name":"John"},"score":0,"creation_date":1696799384,"post_id":77211819,"comment_id":136196051,"body_markdown":"@abhinav-ghosh im not sending heartbeats manually, as I know it should be sent with every poll automatically, and Im using static membership - so no rebalancing","body":"@abhinav-ghosh im not sending heartbeats manually, as I know it should be sent with every poll automatically, and Im using static membership - so no rebalancing"}],"owner":{"account_id":116373,"reputation":454,"user_id":305170,"accept_rate":58,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697025659,"creation_date":1696185484,"question_id":77211819,"body_markdown":"I&#39;m working with a Kafka consumer in one of my microservices and am encountering an error:\r\n\r\n&gt; Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.\r\n\r\nUpon investigation, I introduced a metric named &#39;interval between poll&#39; to measure the interval between two consecutive `KafkaConsumer#poll` calls. For a problematic microsevices, this interval averages around 30-40 seconds. This is unexpected as my service is designed to poll the consumer every 100ms.\r\n\r\n```\r\nwhile (true) {\r\n    ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\r\n    // Process records...\r\n    Thread.sleep(100);\r\n}\r\n```\r\n\r\n\r\nTo dig deeper, I added more metrics to pinpoint where the delay occurs. My findings indicate that almost the entirety of this interval is taken up by the `KafkaConsumer#poll` method itself\r\n\r\nInterestingly, this problem is evident in only 2 of my microservices. Both these microservices receive infrequent traffic - approximately 1 small message (less than 1KiB) every 5 minutes. Other microservices in my system, which handle much more intensive traffic and larger messages (around 1MiB), do not exhibit this behavior.\r\n\r\n```\r\nheartbeat.interval.ms=10000\r\nsession.timeout.ms=30000\r\nmax.poll.records=100\r\nmax.poll.interval.ms=300000\r\n```\r\n\r\nWhy does the KafkaConsumer#poll method take such a long time in components with low traffic and small message?\r\n\r\n\r\nhere is graph that shows times spent by `KafkaConsumer#poll` in sec\r\n[![KafkaConsumer#poll duration in sec][1]][1]\r\n\r\nlogs\r\n\r\nconsumer\r\n\r\n    agent.MyAgent  | 11/10/2023 09:45:27.267 ERROR [MessageService on MyAgent-b834fc68614a] ConsumerCoordinator - [Consumer instanceId=MyAgent_b834fc68614a, clientId=consumer-MyAgent-MyAgent_b834fc68614a, groupId=MyAgent] Offset commit failed on partition DiscoveryRequest.Target-2 at offset 265: The coordinator is not aware of this member.\r\n    \r\n    agent.MyAgent  | 11/10/2023 09:45:27.284 ERROR [MessageService on MyAgent-b834fc68614a] ConsumerCoordinator - [Consumer instanceId=MyAgent_b834fc68614a, clientId=consumer-MyAgent-MyAgent_b834fc68614a, groupId=MyAgent] Asynchronous auto-commit of offsets failed: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.. Will continue to join group.\r\n    \r\n    agent.MyAgent  | 11/10/2023 09:45:27.860 WARN  [MessageService on MyAgent-b834fc68614a] ConsumerCoordinator - [Consumer instanceId=MyAgent_b834fc68614a, clientId=consumer-MyAgent-MyAgent_b834fc68614a, groupId=MyAgent] Asynchronous auto-commit of offsets {...} failed: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.\r\n\r\n\r\nkafka logs\r\n\r\n    kafka  | [2023-10-11 09:44:34,120] INFO [GroupCoordinator 1]: Member MyAgent_b834fc68614a-9891de54-09fa-42b0-9df3-7237953297c2 in group MyAgent has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\r\n    kafka  | [2023-10-11 09:44:34,120] INFO [GroupCoordinator 1]: Preparing to rebalance group MyAgent in state PreparingRebalance with old generation 203 (__consumer_offsets-28) (reason: removing member MyAgent_b834fc68614a-9891de54-09fa-42b0-9df3-7237953297c2 on heartbeat expiration) (kafka.coordinator.group.GroupCoordinator)\r\n    kafka  | [2023-10-11 09:44:34,120] INFO [GroupCoordinator 1]: Group MyAgent with generation 204 is now empty (__consumer_offsets-28) (kafka.coordinator.group.GroupCoordinator)\r\n    kafka  | [2023-10-11 09:45:27,571] INFO [GroupCoordinator 1]: Static member with groupInstanceId=MyAgent_b834fc68614a and unknown member id joins group MyAgent in Empty state. Created a new member id MyAgent_b834fc68614a-80adc162-5dae-4769-8eea-cd2fd0ac5ad2 for this member and add to the group. (kafka.coordinator.group.GroupCoordinator)\r\n    kafka  | [2023-10-11 09:45:27,571] INFO [GroupCoordinator 1]: Preparing to rebalance group MyAgent in state PreparingRebalance with old generation 204 (__consumer_offsets-28) (reason: Adding new member MyAgent_b834fc68614a-80adc162-5dae-4769-8eea-cd2fd0ac5ad2 with group instance id Some(MyAgent_b834fc68614a); client reason: encountered UNKNOWN_MEMBER_ID from OFFSET_COMMIT response) (kafka.coordinator.group.GroupCoordinator)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iszuf.png\r\n\r\n\r\n\r\n","title":"KafkaConsumer poll method takes unusually long in low-traffic components, causing &quot;Offset commit cannot be completed&quot; error","body":"<p>I'm working with a Kafka consumer in one of my microservices and am encountering an error:</p>\n<blockquote>\n<p>Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.</p>\n</blockquote>\n<p>Upon investigation, I introduced a metric named 'interval between poll' to measure the interval between two consecutive <code>KafkaConsumer#poll</code> calls. For a problematic microsevices, this interval averages around 30-40 seconds. This is unexpected as my service is designed to poll the consumer every 100ms.</p>\n<pre><code>while (true) {\n    ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\n    // Process records...\n    Thread.sleep(100);\n}\n</code></pre>\n<p>To dig deeper, I added more metrics to pinpoint where the delay occurs. My findings indicate that almost the entirety of this interval is taken up by the <code>KafkaConsumer#poll</code> method itself</p>\n<p>Interestingly, this problem is evident in only 2 of my microservices. Both these microservices receive infrequent traffic - approximately 1 small message (less than 1KiB) every 5 minutes. Other microservices in my system, which handle much more intensive traffic and larger messages (around 1MiB), do not exhibit this behavior.</p>\n<pre><code>heartbeat.interval.ms=10000\nsession.timeout.ms=30000\nmax.poll.records=100\nmax.poll.interval.ms=300000\n</code></pre>\n<p>Why does the KafkaConsumer#poll method take such a long time in components with low traffic and small message?</p>\n<p>here is graph that shows times spent by <code>KafkaConsumer#poll</code> in sec\n<a href=\"https://i.stack.imgur.com/Iszuf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iszuf.png\" alt=\"KafkaConsumer#poll duration in sec\" /></a></p>\n<p>logs</p>\n<p>consumer</p>\n<pre><code>agent.MyAgent  | 11/10/2023 09:45:27.267 ERROR [MessageService on MyAgent-b834fc68614a] ConsumerCoordinator - [Consumer instanceId=MyAgent_b834fc68614a, clientId=consumer-MyAgent-MyAgent_b834fc68614a, groupId=MyAgent] Offset commit failed on partition DiscoveryRequest.Target-2 at offset 265: The coordinator is not aware of this member.\n\nagent.MyAgent  | 11/10/2023 09:45:27.284 ERROR [MessageService on MyAgent-b834fc68614a] ConsumerCoordinator - [Consumer instanceId=MyAgent_b834fc68614a, clientId=consumer-MyAgent-MyAgent_b834fc68614a, groupId=MyAgent] Asynchronous auto-commit of offsets failed: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.. Will continue to join group.\n\nagent.MyAgent  | 11/10/2023 09:45:27.860 WARN  [MessageService on MyAgent-b834fc68614a] ConsumerCoordinator - [Consumer instanceId=MyAgent_b834fc68614a, clientId=consumer-MyAgent-MyAgent_b834fc68614a, groupId=MyAgent] Asynchronous auto-commit of offsets {...} failed: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.\n</code></pre>\n<p>kafka logs</p>\n<pre><code>kafka  | [2023-10-11 09:44:34,120] INFO [GroupCoordinator 1]: Member MyAgent_b834fc68614a-9891de54-09fa-42b0-9df3-7237953297c2 in group MyAgent has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\nkafka  | [2023-10-11 09:44:34,120] INFO [GroupCoordinator 1]: Preparing to rebalance group MyAgent in state PreparingRebalance with old generation 203 (__consumer_offsets-28) (reason: removing member MyAgent_b834fc68614a-9891de54-09fa-42b0-9df3-7237953297c2 on heartbeat expiration) (kafka.coordinator.group.GroupCoordinator)\nkafka  | [2023-10-11 09:44:34,120] INFO [GroupCoordinator 1]: Group MyAgent with generation 204 is now empty (__consumer_offsets-28) (kafka.coordinator.group.GroupCoordinator)\nkafka  | [2023-10-11 09:45:27,571] INFO [GroupCoordinator 1]: Static member with groupInstanceId=MyAgent_b834fc68614a and unknown member id joins group MyAgent in Empty state. Created a new member id MyAgent_b834fc68614a-80adc162-5dae-4769-8eea-cd2fd0ac5ad2 for this member and add to the group. (kafka.coordinator.group.GroupCoordinator)\nkafka  | [2023-10-11 09:45:27,571] INFO [GroupCoordinator 1]: Preparing to rebalance group MyAgent in state PreparingRebalance with old generation 204 (__consumer_offsets-28) (reason: Adding new member MyAgent_b834fc68614a-80adc162-5dae-4769-8eea-cd2fd0ac5ad2 with group instance id Some(MyAgent_b834fc68614a); client reason: encountered UNKNOWN_MEMBER_ID from OFFSET_COMMIT response) (kafka.coordinator.group.GroupCoordinator)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-kafka","health-check"],"owner":{"account_id":22467369,"reputation":141,"user_id":16668311,"display_name":"Andrei Levin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697025657,"creation_date":1693831914,"question_id":77037869,"body_markdown":"I need to add *Kafka* health checks in my spring boot app. I found some solutions (https://stackoverflow.com/questions/64869177/spring-boot-kafka-health-indicator) where *Kafka* was checked through **KafkaAdmin** (via `describeCluster()`). Also I&#39;d like to check ability of application to consume and produce messages. Is it correct to check health/state of *Kafka* components with health topic? Is it correct to check *Kafka* components at all?","title":"Kafka Health check in Spring Boot Application","body":"<p>I need to add <em>Kafka</em> health checks in my spring boot app. I found some solutions (<a href=\"https://stackoverflow.com/questions/64869177/spring-boot-kafka-health-indicator\">Spring Boot: Kafka health indicator</a>) where <em>Kafka</em> was checked through <strong>KafkaAdmin</strong> (via <code>describeCluster()</code>). Also I'd like to check ability of application to consume and produce messages. Is it correct to check health/state of <em>Kafka</em> components with health topic? Is it correct to check <em>Kafka</em> components at all?</p>\n"},{"tags":["java","spring","spring-boot","spring-cache","caffeine-cache"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697008078,"post_id":77267777,"comment_id":136223757,"body_markdown":"That is not an exception but a warning/ However why use 2 caching mechanism why not stick with just caffeine as that is a proper cache whilst a map isn&#39;t.","body":"That is not an exception but a warning/ However why use 2 caching mechanism why not stick with just caffeine as that is a proper cache whilst a map isn&#39;t."},{"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"score":0,"creation_date":1697025423,"post_id":77267777,"comment_id":136227036,"body_markdown":"@M.Deinum caffeine is new implementation and simple cache is existing one which is already in production build. so i don&#39;t want to break anything.","body":"@M.Deinum caffeine is new implementation and simple cache is existing one which is already in production build. so i don&#39;t want to break anything."}],"answers":[{"tags":[],"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697025573,"creation_date":1697025573,"answer_id":77272860,"question_id":77267777,"body_markdown":" //imports    \r\n    \r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfig extends CachingConfigurerSupport {\r\n    \r\n        @Bean\r\n        public CacheManager cacheManager() {\r\n            CompositeCacheManager cacheManager = new CompositeCacheManager();\r\n            List&lt;CacheManager&gt; cacheManagers = Arrays.asList(caffeineCacheManager(), concurrentMapCacheManager());\r\n            cacheManager.setCacheManagers(cacheManagers);\r\n            return cacheManager;\r\n        }\r\n        @Bean\r\n        public CacheManager caffeineCacheManager() {\r\n            CaffeineCacheManager cacheManager = new CaffeineCacheManager();\r\n            //add new cache here by separating with comma.\r\n            cacheManager.setCacheNames(Arrays.asList(&quot;task1&quot;));\r\n            cacheManager.setCaffeine(caffeineCacheBuilder());\r\n            return cacheManager;\r\n        }\r\n        Caffeine&lt;Object, Object&gt; caffeineCacheBuilder() {\r\n            return Caffeine.newBuilder()\r\n                    .expireAfterWrite(30, TimeUnit.DAYS) // Set TTL for 30 Days\r\n                    .maximumSize(5000); // Set maximum size to 5000 entries\r\n        }\r\n        @Bean\r\n        public CacheManager concurrentMapCacheManager() {\r\n            SimpleCacheManager cacheManager = new SimpleCacheManager();\r\n            cacheManager.setCaches(Arrays.asList(new ConcurrentMapCache(&quot;task2&quot;)));\r\n            return cacheManager;\r\n        }\r\n    }\r\n\r\n","title":"getting exceptions when using both caffeine caching and simple caching in springboot","body":"<p>//imports</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig extends CachingConfigurerSupport {\n\n    @Bean\n    public CacheManager cacheManager() {\n        CompositeCacheManager cacheManager = new CompositeCacheManager();\n        List&lt;CacheManager&gt; cacheManagers = Arrays.asList(caffeineCacheManager(), concurrentMapCacheManager());\n        cacheManager.setCacheManagers(cacheManagers);\n        return cacheManager;\n    }\n    @Bean\n    public CacheManager caffeineCacheManager() {\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager();\n        //add new cache here by separating with comma.\n        cacheManager.setCacheNames(Arrays.asList(&quot;task1&quot;));\n        cacheManager.setCaffeine(caffeineCacheBuilder());\n        return cacheManager;\n    }\n    Caffeine&lt;Object, Object&gt; caffeineCacheBuilder() {\n        return Caffeine.newBuilder()\n                .expireAfterWrite(30, TimeUnit.DAYS) // Set TTL for 30 Days\n                .maximumSize(5000); // Set maximum size to 5000 entries\n    }\n    @Bean\n    public CacheManager concurrentMapCacheManager() {\n        SimpleCacheManager cacheManager = new SimpleCacheManager();\n        cacheManager.setCaches(Arrays.asList(new ConcurrentMapCache(&quot;task2&quot;)));\n        return cacheManager;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22839416,"reputation":77,"user_id":16986695,"display_name":"Harish Mahi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77272860,"answer_count":1,"score":0,"last_activity_date":1697025573,"creation_date":1696958063,"question_id":77267777,"body_markdown":"i am new to springboot and trying to implement both caffeine caching and simple caching based on a requirement.\r\n\r\nif i use any one them its compiling and working fine but using together in same class or different class i am getting exceptions.\r\n\r\nis it okay to use both caching mechanisms?\r\n\r\n**Exceptions:**\r\n\r\n    Oct 10, 2023 9:40:06 PM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [ROOT] appears to have started a thread named [cluster-ClusterId{value=&#39;6525775bd54ff65387d86e72&#39;, description=&#39;null&#39;}-localhost:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.net.SocketInputStream.socketRead0(Native Method)\r\n     java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n     java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n     java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n     com.mongodb.internal.connection.SocketStream.read(SocketStream.java:109)\r\n     com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131)\r\n     com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:647)\r\n     com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:512)\r\n     com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:355)\r\n     com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:315)\r\n     com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:215)\r\n     com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    Oct 10, 2023 9:40:06 PM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [ROOT] appears to have started a thread named [cluster-rtt-ClusterId{value=&#39;6525775bd54ff65387d86e72&#39;, description=&#39;null&#39;}-localhost:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Thread.sleep(Native Method)\r\n     com.mongodb.internal.connection.DefaultServerMonitor.waitForNext(DefaultServerMonitor.java:435)\r\n     com.mongodb.internal.connection.DefaultServerMonitor.access$1300(DefaultServerMonitor.java:57)\r\n     com.mongodb.internal.connection.DefaultServerMonitor$RoundTripTimeRunnable.run(DefaultServerMonitor.java:409)\r\n     java.lang.Thread.run(Thread.java:750)\r\n\r\n\r\n\r\n\r\n**Java Class:**\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfig {\r\n    \r\n    \r\n        @Bean\r\n        public CacheManager caffeineCacheManager() {\r\n            CaffeineCacheManager cacheManager = new CaffeineCacheManager();\r\n            cacheManager.setCacheNames(Arrays.asList(&quot;task1&quot;));\r\n            cacheManager.setCaffeine(caffeineCacheBuilder());\r\n            return cacheManager;\r\n        }\r\n    \r\n        Caffeine&lt;Object, Object&gt; caffeineCacheBuilder() {\r\n            return Caffeine.newBuilder()\r\n                    .expireAfterWrite(30, TimeUnit.DAYS) // Set TTL for 30 Days\r\n                    .maximumSize(5000); // Set maximum size to 5000 entries\r\n        }\r\n    \r\n        @Bean\r\n        public CacheManager cacheManager() {\r\n            SimpleCacheManager cacheManager = new SimpleCacheManager();\r\n            cacheManager.setCaches(Arrays.asList(new ConcurrentMapCache(&quot;task2&quot;)));\r\n            return cacheManager;\r\n        }\r\n    \r\n    }\r\n\r\n**maven library;**\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nNote: i am getting exceptions only if i use both cache mechanisms and if i use any one of them they are working as expected\r\n\r\nThanks","title":"getting exceptions when using both caffeine caching and simple caching in springboot","body":"<p>i am new to springboot and trying to implement both caffeine caching and simple caching based on a requirement.</p>\n<p>if i use any one them its compiling and working fine but using together in same class or different class i am getting exceptions.</p>\n<p>is it okay to use both caching mechanisms?</p>\n<p><strong>Exceptions:</strong></p>\n<pre><code>Oct 10, 2023 9:40:06 PM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [ROOT] appears to have started a thread named [cluster-ClusterId{value='6525775bd54ff65387d86e72', description='null'}-localhost:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.net.SocketInputStream.socketRead0(Native Method)\n java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n java.net.SocketInputStream.read(SocketInputStream.java:171)\n java.net.SocketInputStream.read(SocketInputStream.java:141)\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:109)\n com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131)\n com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:647)\n com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:512)\n com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:355)\n com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:315)\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:215)\n com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144)\n java.lang.Thread.run(Thread.java:750)\nOct 10, 2023 9:40:06 PM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [ROOT] appears to have started a thread named [cluster-rtt-ClusterId{value='6525775bd54ff65387d86e72', description='null'}-localhost:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Thread.sleep(Native Method)\n com.mongodb.internal.connection.DefaultServerMonitor.waitForNext(DefaultServerMonitor.java:435)\n com.mongodb.internal.connection.DefaultServerMonitor.access$1300(DefaultServerMonitor.java:57)\n com.mongodb.internal.connection.DefaultServerMonitor$RoundTripTimeRunnable.run(DefaultServerMonitor.java:409)\n java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p><strong>Java Class:</strong></p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n\n    @Bean\n    public CacheManager caffeineCacheManager() {\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager();\n        cacheManager.setCacheNames(Arrays.asList(&quot;task1&quot;));\n        cacheManager.setCaffeine(caffeineCacheBuilder());\n        return cacheManager;\n    }\n\n    Caffeine&lt;Object, Object&gt; caffeineCacheBuilder() {\n        return Caffeine.newBuilder()\n                .expireAfterWrite(30, TimeUnit.DAYS) // Set TTL for 30 Days\n                .maximumSize(5000); // Set maximum size to 5000 entries\n    }\n\n    @Bean\n    public CacheManager cacheManager() {\n        SimpleCacheManager cacheManager = new SimpleCacheManager();\n        cacheManager.setCaches(Arrays.asList(new ConcurrentMapCache(&quot;task2&quot;)));\n        return cacheManager;\n    }\n\n}\n</code></pre>\n<p><strong>maven library;</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n    &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note: i am getting exceptions only if i use both cache mechanisms and if i use any one of them they are working as expected</p>\n<p>Thanks</p>\n"},{"tags":["java","ssl","tomcat7"],"answers":[{"tags":[],"owner":{"account_id":3284329,"reputation":442,"user_id":3298337,"display_name":"celezar"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1692693747,"creation_date":1392653385,"answer_id":21833913,"question_id":21833732,"body_markdown":"You need to change `server.xml` file for this. You can find it in `conf/` directory.\r\n\r\nFirst uncomment these lines:\r\n\r\n```lang-xml\r\n&lt;!--\r\n&lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;\r\nmaxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\nclientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;\r\n--&gt;\r\n```\r\n\r\nand then change it something like this\r\n\r\n```lang-xml\r\n&lt;Connector SSLEnabled           =&quot;true&quot;\r\n           acceptCount          =&quot;100&quot;\r\n           clientAuth           =&quot;false&quot;\r\n           disableUploadTimeout =&quot;true&quot;\r\n           enableLookups        =&quot;false&quot;\r\n           maxThreads           =&quot;25&quot;\r\n           port                 =&quot;8443&quot;\r\n           keystoreFile         =&quot;C:\\SSLKeys\\appkeystore.key&quot;\r\n           keystorePass         =&quot;password&quot;\r\n           protocol             =&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n           scheme               =&quot;https&quot;\r\n           secure               =&quot;true&quot;\r\n           sslProtocol          =&quot;TLS&quot;\r\n/&gt;\r\n```","title":"Configure Truststore in Tomcat","body":"<p>You need to change <code>server.xml</code> file for this. You can find it in <code>conf/</code> directory.</p>\n<p>First uncomment these lines:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!--\n&lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;\nmaxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\nclientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;\n--&gt;\n</code></pre>\n<p>and then change it something like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Connector SSLEnabled           =&quot;true&quot;\n           acceptCount          =&quot;100&quot;\n           clientAuth           =&quot;false&quot;\n           disableUploadTimeout =&quot;true&quot;\n           enableLookups        =&quot;false&quot;\n           maxThreads           =&quot;25&quot;\n           port                 =&quot;8443&quot;\n           keystoreFile         =&quot;C:\\SSLKeys\\appkeystore.key&quot;\n           keystorePass         =&quot;password&quot;\n           protocol             =&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n           scheme               =&quot;https&quot;\n           secure               =&quot;true&quot;\n           sslProtocol          =&quot;TLS&quot;\n/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1777114,"reputation":1849,"user_id":1620690,"accept_rate":68,"display_name":"AJF"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1543845212,"creation_date":1392826387,"answer_id":21886088,"question_id":21833732,"body_markdown":"I think I may have found how, or at least one way of doing this.  Someone please tell me if there is a better way of processing this.  In the Tomcat\\bin folder, where the catalina.bat file is I created a setenv.bat file and in there I declared the two Java option properties for;\r\n\r\n    set JAVA_OPTS=&quot;-Djavax.net.ssl.trustStore=C:\\path\\to\\keystore.key&quot; &quot;-Djavax.net.ssl.trustStorePassword=************&quot;\r\n\r\nApparently when Tomcat is started it initiates the catalina.bat file and the catalina.bat file determines if a setenv.bat file exists and if so runs this file to set the Java options.\r\n\r\nAgain someone please correct me if I am wrong and advise of any better way of doing this.  Although apparently where Tomcat is set up as a Windows service the options above are input through the tomcatXw.exe to initiate the Tomcat console and the Java tab is selected.","title":"Configure Truststore in Tomcat","body":"<p>I think I may have found how, or at least one way of doing this.  Someone please tell me if there is a better way of processing this.  In the Tomcat\\bin folder, where the catalina.bat file is I created a setenv.bat file and in there I declared the two Java option properties for;</p>\n\n<pre><code>set JAVA_OPTS=\"-Djavax.net.ssl.trustStore=C:\\path\\to\\keystore.key\" \"-Djavax.net.ssl.trustStorePassword=************\"\n</code></pre>\n\n<p>Apparently when Tomcat is started it initiates the catalina.bat file and the catalina.bat file determines if a setenv.bat file exists and if so runs this file to set the Java options.</p>\n\n<p>Again someone please correct me if I am wrong and advise of any better way of doing this.  Although apparently where Tomcat is set up as a Windows service the options above are input through the tomcatXw.exe to initiate the Tomcat console and the Java tab is selected.</p>\n"},{"tags":[],"owner":{"account_id":4083142,"reputation":181,"user_id":3353116,"display_name":"HeCodes"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1435678626,"creation_date":1435678062,"answer_id":31142436,"question_id":21833732,"body_markdown":"Incase anybody else is having this question, here is what I did:&lt;br&gt;\r\n1. Navigate to \\tomcatDirectory\\bin\\&lt;br&gt;\r\n2. Edit the catalina.sh/bat depending on you machine.&lt;br&gt;\r\n3. Add these properties to the JAVA_OPTS property&lt;br&gt;\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Djavax.net.ssl.trustStore=$CATALINA_HOME/certificates/truststore.ks -Djavax.net.ssl.trustStorePassword=truststorePassword -server&quot;\r\n\r\nThis will essentially tell tomcat to use the specified truststore instead of the default **cacerts** truststore which tomcat loads if it does not find any truststore specified in the system properties.\r\n\r\n\r\nAlso, I have noticed that it is possible to define the truststore in tomcat&#39;s main configuration file **server.xml**. All you have to do is set these properties in the ***connector*** property.\r\n \r\n\r\n    &lt;Connector port=&quot;8443&quot; maxThreads=&quot;500&quot;\r\n               server=&quot;Apache&quot;\r\n               scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot; acceptCount=&quot;500&quot;\r\n               keystoreFile=&quot;/apps/content/certificates/keystore.ks&quot; keystorePass=&quot;keystorepass&quot;\r\n               truststoreFile=&quot;/apps/content/certificates/truststore.ks&quot; truststorePass=&quot;truststorePassword&quot;/&gt;\r\n\r\n\r\nTry it out, Hope it helps!","title":"Configure Truststore in Tomcat","body":"<p>Incase anybody else is having this question, here is what I did:<br>\n1. Navigate to \\tomcatDirectory\\bin\\<br>\n2. Edit the catalina.sh/bat depending on you machine.<br>\n3. Add these properties to the JAVA_OPTS property<br></p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -Djavax.net.ssl.trustStore=$CATALINA_HOME/certificates/truststore.ks -Djavax.net.ssl.trustStorePassword=truststorePassword -server\"\n</code></pre>\n\n<p>This will essentially tell tomcat to use the specified truststore instead of the default <strong>cacerts</strong> truststore which tomcat loads if it does not find any truststore specified in the system properties.</p>\n\n<p>Also, I have noticed that it is possible to define the truststore in tomcat's main configuration file <strong>server.xml</strong>. All you have to do is set these properties in the <strong><em>connector</em></strong> property.</p>\n\n<pre><code>&lt;Connector port=\"8443\" maxThreads=\"500\"\n           server=\"Apache\"\n           scheme=\"https\" secure=\"true\" SSLEnabled=\"true\" acceptCount=\"500\"\n           keystoreFile=\"/apps/content/certificates/keystore.ks\" keystorePass=\"keystorepass\"\n           truststoreFile=\"/apps/content/certificates/truststore.ks\" truststorePass=\"truststorePassword\"/&gt;\n</code></pre>\n\n<p>Try it out, Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":8631943,"reputation":4386,"user_id":6463291,"display_name":"Ng Sek Long"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501128931,"creation_date":1501128931,"answer_id":45341302,"question_id":21833732,"body_markdown":"The recommended answer only works for Tomcat deployed in Windows, I found that the below works for me in **Linux** server:\r\n\r\nTOMDOGEDIRECTORY/bin/**setenv.sh** [*You need to create this file yourself*]\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Djavax.net.ssl.trustStore=/opt/meh_tuststove.jks&quot; \r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Djavax.net.ssl.trustStorePassword=muchsecure&quot; \r\n    export JAVA_OPTS\r\n","title":"Configure Truststore in Tomcat","body":"<p>The recommended answer only works for Tomcat deployed in Windows, I found that the below works for me in <strong>Linux</strong> server:</p>\n\n<p>TOMDOGEDIRECTORY/bin/<strong>setenv.sh</strong> [<em>You need to create this file yourself</em>]</p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -Djavax.net.ssl.trustStore=/opt/meh_tuststove.jks\" \nJAVA_OPTS=\"$JAVA_OPTS -Djavax.net.ssl.trustStorePassword=muchsecure\" \nexport JAVA_OPTS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697025505,"creation_date":1697018979,"answer_id":77272064,"question_id":21833732,"body_markdown":"For tomcat 9 truststore can be added in **server.xml** as follows\r\n\r\n    &lt;Connector port=&quot;&lt;portOnWhichHttpsToBeEnabled&gt;&quot; SSLEnabled=&quot;true&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n                   maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n                   clientAuth=&quot;true&quot; sslProtocol=&quot;TLS&quot;\r\n                   sslEnabledProtocols=&quot;TLSv1.2&quot;\r\n                   keystoreFile=&quot;KEYSTORE_PATH&quot;\r\n                   keystorePass=&quot;KEYSTORE_PWD&quot;\r\n                   truststoreFile=&quot;TRUSTSTORE_PATH&quot;\r\n                   truststorePass=&quot;TRUSTSTORE_PWD&quot;\r\n                   URIEncoding=&quot;UTF-8&quot;/&gt;\r\n\r\nNote: clientAuth must be set to true\r\n\r\nFor tomcat 10 and above, it can be added as follows\r\n\r\nStep 1: Add the keystore as follows in **server.xml**\r\n\r\n    &lt;Connector port=&quot;&lt;portOnWhichHttpsToBeEnabled&gt;&quot; SSLEnabled=&quot;true&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n                   sslImplementationName=&quot;org.apache.tomcat.util.net.openssl.OpenSSLImplementation&quot;\r\n                   maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n                  &gt;\r\n          &lt;SSLHostConfig&gt;\r\n            &lt;Certificate\r\n                certificateKeyAlias=&quot;KEYSTORE_ALIAS&quot;\r\n                certificateKeystoreFile=&quot;&quot;KEYSTORE_PATH&quot;&quot;\r\n                certificateKeystorePassword=&quot;KEYSTORE_PWD&quot;\r\n                type=&quot;RSA&quot;\r\n            /&gt;\r\n          &lt;/SSLHostConfig&gt;\r\n        &lt;/Connector&gt;\r\n\r\nStep 2: then add trust store as follows in **setenv.sh**\r\n\r\n    export JAVA_OPTS=&quot;$JAVA_OPTS -Djavax.net.ssl.trustStore=TRUSTORE_PATH -Djavax.net.ssl.trustStorePassword=TRUSTSTORE_PWD&quot; \r\n\r\nIn tomcat logs you can find that the trust store is loaded as follows\r\n\r\n    org.apache.tomcat.util.net.AbstractEndpoint.logCertificate Connector [https-openssl-nio-&lt;portOnWhichHttpsToBeEnabled&gt;], TLS virtual host [_default_], certificate type [RSA] configured from keystore [KEYSTORE_PATH] using alias [KEYSTORE_ALIAS] with trust store [TRUSTORE_PATH]\r\n\r\n","title":"Configure Truststore in Tomcat","body":"<p>For tomcat 9 truststore can be added in <strong>server.xml</strong> as follows</p>\n<pre><code>&lt;Connector port=&quot;&lt;portOnWhichHttpsToBeEnabled&gt;&quot; SSLEnabled=&quot;true&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n               maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n               clientAuth=&quot;true&quot; sslProtocol=&quot;TLS&quot;\n               sslEnabledProtocols=&quot;TLSv1.2&quot;\n               keystoreFile=&quot;KEYSTORE_PATH&quot;\n               keystorePass=&quot;KEYSTORE_PWD&quot;\n               truststoreFile=&quot;TRUSTSTORE_PATH&quot;\n               truststorePass=&quot;TRUSTSTORE_PWD&quot;\n               URIEncoding=&quot;UTF-8&quot;/&gt;\n</code></pre>\n<p>Note: clientAuth must be set to true</p>\n<p>For tomcat 10 and above, it can be added as follows</p>\n<p>Step 1: Add the keystore as follows in <strong>server.xml</strong></p>\n<pre><code>&lt;Connector port=&quot;&lt;portOnWhichHttpsToBeEnabled&gt;&quot; SSLEnabled=&quot;true&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n               sslImplementationName=&quot;org.apache.tomcat.util.net.openssl.OpenSSLImplementation&quot;\n               maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n              &gt;\n      &lt;SSLHostConfig&gt;\n        &lt;Certificate\n            certificateKeyAlias=&quot;KEYSTORE_ALIAS&quot;\n            certificateKeystoreFile=&quot;&quot;KEYSTORE_PATH&quot;&quot;\n            certificateKeystorePassword=&quot;KEYSTORE_PWD&quot;\n            type=&quot;RSA&quot;\n        /&gt;\n      &lt;/SSLHostConfig&gt;\n    &lt;/Connector&gt;\n</code></pre>\n<p>Step 2: then add trust store as follows in <strong>setenv.sh</strong></p>\n<pre><code>export JAVA_OPTS=&quot;$JAVA_OPTS -Djavax.net.ssl.trustStore=TRUSTORE_PATH -Djavax.net.ssl.trustStorePassword=TRUSTSTORE_PWD&quot; \n</code></pre>\n<p>In tomcat logs you can find that the trust store is loaded as follows</p>\n<pre><code>org.apache.tomcat.util.net.AbstractEndpoint.logCertificate Connector [https-openssl-nio-&lt;portOnWhichHttpsToBeEnabled&gt;], TLS virtual host [_default_], certificate type [RSA] configured from keystore [KEYSTORE_PATH] using alias [KEYSTORE_ALIAS] with trust store [TRUSTORE_PATH]\n</code></pre>\n"}],"owner":{"account_id":1777114,"reputation":1849,"user_id":1620690,"accept_rate":68,"display_name":"AJF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109163,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":21886088,"answer_count":5,"score":18,"last_activity_date":1697025505,"creation_date":1392652879,"question_id":21833732,"body_markdown":"I have a Java servlet currently running on Tomcat 7 (Windows) and it connects to a SQL Server database.  I now need to encrypt this connection and I have a public Key SSL certificate in a keystore.  But apparently I have to configure a system property for a *&quot;Truststore&quot;* and have the truststore set to the keystore.\r\n\r\nThe keystore location is C:\\SSLKeys\\appkeystore.key and from what I have found I have to set the Truststore up with the following;\r\n\r\n    Djavax.net.ssl.trustStore=C:\\SSLKeys\\appkeystore.key\r\n    Djavax.net.ssl.trustStorePassword=appkeystorePassword\r\n\r\nBut how do I set these please?  I have tried it in the command line but that doesn&#39;t seem to work.  I don&#39;t want to hard code these in the Java as I need them to be configurable.\r\n\r\nCan these be set in the `Catalina.bat` file in Tomcat?  If so where in the file do I put the command?","title":"Configure Truststore in Tomcat","body":"<p>I have a Java servlet currently running on Tomcat 7 (Windows) and it connects to a SQL Server database.  I now need to encrypt this connection and I have a public Key SSL certificate in a keystore.  But apparently I have to configure a system property for a <em>\"Truststore\"</em> and have the truststore set to the keystore.</p>\n\n<p>The keystore location is C:\\SSLKeys\\appkeystore.key and from what I have found I have to set the Truststore up with the following;</p>\n\n<pre><code>Djavax.net.ssl.trustStore=C:\\SSLKeys\\appkeystore.key\nDjavax.net.ssl.trustStorePassword=appkeystorePassword\n</code></pre>\n\n<p>But how do I set these please?  I have tried it in the command line but that doesn't seem to work.  I don't want to hard code these in the Java as I need them to be configurable.</p>\n\n<p>Can these be set in the <code>Catalina.bat</code> file in Tomcat?  If so where in the file do I put the command?</p>\n"},{"tags":["java","memory-leaks","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697022891,"creation_date":1697022891,"answer_id":77272529,"question_id":77272387,"body_markdown":"Your &quot;analysis&quot; shows only that heap usage is too high and [garbage collection][1] takes a lot of resources. \r\n\r\nIf you only have a single [HTTP Request][2] sampler and observe memory utilization getting higher over the time it&#39;s indeed a problem in JMeter and you should [report it via JMeter Github][3] \r\n\r\nHowever it could be the case it&#39;s your script which causes this behaviour, i.e. you&#39;re creating new [JMeter Variables][4] and never removing them. Or you&#39;re using the same virtual users for 48 hours and I don&#39;t think it&#39;s a valid use case. Or you&#39;re using badly configured [Groovy scripts][5] which generate new classes each time they&#39;re being called. Or you&#39;re using [Listeners][6] which don&#39;t add any value and only accumulate data. \r\n\r\n\r\nSo if the issue can be reproduced given you follow [JMeter Best Practices][6] and without any external components/code - it&#39;s a JMeter problem. Otherwise it&#39;s your test design problem.  \r\n\r\n\r\n  [1]: https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [3]: https://jmeter.apache.org/issues.html\r\n  [4]: https://jmeter.apache.org/usermanual/functions.html\r\n  [5]: https://www.blazemeter.com/blog/apache-groovy\r\n  [6]: https://jmeter.apache.org/usermanual/listeners.html","title":"Memory leaks in JMeter Java process. It is consuming &gt;90% CPU and 80% Memory while running a Test with 400 TPS for 48 hours","body":"<p>Your &quot;analysis&quot; shows only that heap usage is too high and <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\" rel=\"nofollow noreferrer\">garbage collection</a> takes a lot of resources.</p>\n<p>If you only have a single <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> sampler and observe memory utilization getting higher over the time it's indeed a problem in JMeter and you should <a href=\"https://jmeter.apache.org/issues.html\" rel=\"nofollow noreferrer\">report it via JMeter Github</a></p>\n<p>However it could be the case it's your script which causes this behaviour, i.e. you're creating new <a href=\"https://jmeter.apache.org/usermanual/functions.html\" rel=\"nofollow noreferrer\">JMeter Variables</a> and never removing them. Or you're using the same virtual users for 48 hours and I don't think it's a valid use case. Or you're using badly configured <a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Groovy scripts</a> which generate new classes each time they're being called. Or you're using <a href=\"https://jmeter.apache.org/usermanual/listeners.html\" rel=\"nofollow noreferrer\">Listeners</a> which don't add any value and only accumulate data.</p>\n<p>So if the issue can be reproduced given you follow <a href=\"https://jmeter.apache.org/usermanual/listeners.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a> and without any external components/code - it's a JMeter problem. Otherwise it's your test design problem.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697025447,"creation_date":1697024643,"answer_id":77272740,"question_id":77272387,"body_markdown":"You do appear to have a memory leak in your JMeter instance.  However, there isn&#39;t enough evidence to justify an &quot;assumption&quot; or conclusion that this is caused by a JMeter bug.\r\n\r\nThe only clue that I can see is that the leaked objects appear to be a huge number of `Logger` instances and an (almost) matching number of strings in a `ConcurrentHashMap`.  Based on the `Logger` class name, it looks like you are using log4j2, and log4j2 uses a `ConcurrentHashMap` to implement the logger registry.  So one possible explanation is *something* is creating an excessive number of distinct `Logger` instances; i.e. with distinct names.\r\n\r\nI did a quick trawl of the JMeter issue tracker for issues that mention &quot;memory leak&quot;.  None of them were obvious matches to your symptoms, but I could have missed something, and you&#39;ve given us minimal information on your JMeter scripts.  (You can review the issues for yourself [here][1].)\r\n\r\n&gt; ... could you please provide a solution for this?\r\n\r\nWe can&#39;t do that based on the information that you have provided.\r\n\r\nIf I had this problem, I would use the heap dump analyzer to look at the entries in that `ConcurrentHashMap`.  Assuming that it is the logger registry map, there should be a big clue in the keys.\r\n\r\n  [1]: https://github.com/apache/jmeter/issues?q=is%3Aissue%20%22memory%20leak%22","title":"Memory leaks in JMeter Java process. It is consuming &gt;90% CPU and 80% Memory while running a Test with 400 TPS for 48 hours","body":"<p>You do appear to have a memory leak in your JMeter instance.  However, there isn't enough evidence to justify an &quot;assumption&quot; or conclusion that this is caused by a JMeter bug.</p>\n<p>The only clue that I can see is that the leaked objects appear to be a huge number of <code>Logger</code> instances and an (almost) matching number of strings in a <code>ConcurrentHashMap</code>.  Based on the <code>Logger</code> class name, it looks like you are using log4j2, and log4j2 uses a <code>ConcurrentHashMap</code> to implement the logger registry.  So one possible explanation is <em>something</em> is creating an excessive number of distinct <code>Logger</code> instances; i.e. with distinct names.</p>\n<p>I did a quick trawl of the JMeter issue tracker for issues that mention &quot;memory leak&quot;.  None of them were obvious matches to your symptoms, but I could have missed something, and you've given us minimal information on your JMeter scripts.  (You can review the issues for yourself <a href=\"https://github.com/apache/jmeter/issues?q=is%3Aissue%20%22memory%20leak%22\" rel=\"nofollow noreferrer\">here</a>.)</p>\n<blockquote>\n<p>... could you please provide a solution for this?</p>\n</blockquote>\n<p>We can't do that based on the information that you have provided.</p>\n<p>If I had this problem, I would use the heap dump analyzer to look at the entries in that <code>ConcurrentHashMap</code>.  Assuming that it is the logger registry map, there should be a big clue in the keys.</p>\n"}],"owner":{"account_id":5664711,"reputation":479,"user_id":4481179,"display_name":"SAIR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697025447,"creation_date":1697021745,"question_id":77272387,"body_markdown":"I am running a JMeter script with 400 TPS and 48 hours, it is REST API script.\r\n\r\n**JMeter Version : 5.6.2**\r\n\r\n**JMeter script configuration given below:**\r\n\r\n```\r\nThreads : 500\r\nRamp Up : 100\r\nDuration: 48 hours\r\nTPS     : 400 Using Throughput Shaping Timer\r\n```\r\n\r\nGradually during the test I observe that CPU and Memory Utilisation keeps on increasing on the Load Generator VM where JMeter is running. **After 36-40 Hours it becomes unresponsive**\r\n\r\n```\r\nCPU Utilisation &gt;90% and Memory Utilisation &gt;80%\r\n```\r\n\r\nLoad Generator where the JMeter script is running having 8 CPU and 16GB RAM from which I have configured JMeter with -Xmx1g and -Xmx10g heap.\r\n\r\nI have taken the Thread and Heap Dump with following Analysis:\r\n\r\nProcess Details confirming the High CPU and Memory Utilization using **TOP Command**\r\n\r\n```\r\ntop - 11:38:00 up 54 days, 12:01,  1 user,  load average: 8.83, 7.98, 8.01\r\nThreads: 541 total,   8 running, 533 sleeping,   0 stopped,   0 zombie\r\n%Cpu(s): 97.9 us,  1.4 sy,  0.0 ni,  0.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\r\nKiB Mem : 16247380 total,  2010332 free, 13876416 used,   360632 buff/cache\r\nKiB Swap:  4190204 total,  3953660 free,   236544 used.  2001252 avail Mem \r\n\r\n   PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND\r\n107296 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:12.27 GC Thread#1\r\n107297 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:08.55 GC Thread#2\r\n107298 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:09.84 GC Thread#3\r\n107299 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:08.98 GC Thread#4\r\n107300 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:12.21 GC Thread#5\r\n107301 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:11.67 GC Thread#6\r\n107302 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:10.00 GC Thread#7\r\n107273 sam_user  20   0   17.1g  12.3g  20572 R 94.1 79.2 293:08.49 GC Thread#0\r\n```\r\n\r\nHeap Analysis after taking heap dump:\r\n\r\n**Problem Suspect 1:**\r\n```\r\nOne instance of org.apache.logging.slf4j.Log4jLoggerFactory loaded by \r\n\r\norg.apache.jmeter.DynamicClassLoader @ 0x580103ba0 occupies 83,61,68,864 (17.61%) bytes. \r\n\r\nThe memory is accumulated in one instance of \r\n\r\njava.util.concurrent.ConcurrentHashMap$Node[], loaded by &lt;system class loader&gt;, which \r\n\r\noccupies 83,61,68,384 (17.61%) bytes.\r\n\r\nKeywords\r\n\r\norg.apache.logging.slf4j.Log4jLoggerFactory\r\norg.apache.jmeter.DynamicClassLoader @ 0x580103ba0\r\njava.util.concurrent.ConcurrentHashMap$Node[]\r\n```\r\n\r\n**Problem Suspect 2:**\r\n```\r\n1,20,38,109 instances of java.lang.String, loaded by &lt;system class loader&gt; occupy \r\n\r\n1,82,80,04,808 (38.50%) bytes.\r\n\r\nThese instances are referenced from one instance of \r\n\r\njava.util.concurrent.ConcurrentHashMap$Node[], loaded by &lt;system class loader&gt;, which \r\n\r\noccupies 83,61,68,384 (17.61%) bytes.\r\n\r\nKeywords\r\n\r\njava.lang.String\r\njava.util.concurrent.ConcurrentHashMap$Node[]\r\n```\r\n\r\n**Problem Suspect 3:**\r\n```\r\n1,20,16,586 instances of org.apache.logging.log4j.core.Logger, loaded by \r\n\r\norg.apache.jmeter.DynamicClassLoader @ 0x580103ba0 occupy 1,53,81,23,008 (32.39%) bytes.\r\n\r\nThese instances are referenced from one instance of \r\n\r\njava.util.concurrent.ConcurrentHashMap$Node[], loaded by &lt;system class loader&gt;, which \r\n\r\noccupies 45,16,41,568 (9.51%) bytes.\r\n\r\nKeywords\r\n\r\norg.apache.logging.log4j.core.Logger\r\norg.apache.jmeter.DynamicClassLoader @ 0x580103ba0\r\njava.util.concurrent.ConcurrentHashMap$Node[]\r\n```\r\n\r\n**I assume this is Apache JMeter issue, could you please provide a solution for this?**","title":"Memory leaks in JMeter Java process. It is consuming &gt;90% CPU and 80% Memory while running a Test with 400 TPS for 48 hours","body":"<p>I am running a JMeter script with 400 TPS and 48 hours, it is REST API script.</p>\n<p><strong>JMeter Version : 5.6.2</strong></p>\n<p><strong>JMeter script configuration given below:</strong></p>\n<pre><code>Threads : 500\nRamp Up : 100\nDuration: 48 hours\nTPS     : 400 Using Throughput Shaping Timer\n</code></pre>\n<p>Gradually during the test I observe that CPU and Memory Utilisation keeps on increasing on the Load Generator VM where JMeter is running. <strong>After 36-40 Hours it becomes unresponsive</strong></p>\n<pre><code>CPU Utilisation &gt;90% and Memory Utilisation &gt;80%\n</code></pre>\n<p>Load Generator where the JMeter script is running having 8 CPU and 16GB RAM from which I have configured JMeter with -Xmx1g and -Xmx10g heap.</p>\n<p>I have taken the Thread and Heap Dump with following Analysis:</p>\n<p>Process Details confirming the High CPU and Memory Utilization using <strong>TOP Command</strong></p>\n<pre><code>top - 11:38:00 up 54 days, 12:01,  1 user,  load average: 8.83, 7.98, 8.01\nThreads: 541 total,   8 running, 533 sleeping,   0 stopped,   0 zombie\n%Cpu(s): 97.9 us,  1.4 sy,  0.0 ni,  0.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\nKiB Mem : 16247380 total,  2010332 free, 13876416 used,   360632 buff/cache\nKiB Swap:  4190204 total,  3953660 free,   236544 used.  2001252 avail Mem \n\n   PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND\n107296 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:12.27 GC Thread#1\n107297 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:08.55 GC Thread#2\n107298 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:09.84 GC Thread#3\n107299 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:08.98 GC Thread#4\n107300 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:12.21 GC Thread#5\n107301 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:11.67 GC Thread#6\n107302 sam_user  20   0   17.1g  12.3g  20572 R 99.9 79.2 293:10.00 GC Thread#7\n107273 sam_user  20   0   17.1g  12.3g  20572 R 94.1 79.2 293:08.49 GC Thread#0\n</code></pre>\n<p>Heap Analysis after taking heap dump:</p>\n<p><strong>Problem Suspect 1:</strong></p>\n<pre><code>One instance of org.apache.logging.slf4j.Log4jLoggerFactory loaded by \n\norg.apache.jmeter.DynamicClassLoader @ 0x580103ba0 occupies 83,61,68,864 (17.61%) bytes. \n\nThe memory is accumulated in one instance of \n\njava.util.concurrent.ConcurrentHashMap$Node[], loaded by &lt;system class loader&gt;, which \n\noccupies 83,61,68,384 (17.61%) bytes.\n\nKeywords\n\norg.apache.logging.slf4j.Log4jLoggerFactory\norg.apache.jmeter.DynamicClassLoader @ 0x580103ba0\njava.util.concurrent.ConcurrentHashMap$Node[]\n</code></pre>\n<p><strong>Problem Suspect 2:</strong></p>\n<pre><code>1,20,38,109 instances of java.lang.String, loaded by &lt;system class loader&gt; occupy \n\n1,82,80,04,808 (38.50%) bytes.\n\nThese instances are referenced from one instance of \n\njava.util.concurrent.ConcurrentHashMap$Node[], loaded by &lt;system class loader&gt;, which \n\noccupies 83,61,68,384 (17.61%) bytes.\n\nKeywords\n\njava.lang.String\njava.util.concurrent.ConcurrentHashMap$Node[]\n</code></pre>\n<p><strong>Problem Suspect 3:</strong></p>\n<pre><code>1,20,16,586 instances of org.apache.logging.log4j.core.Logger, loaded by \n\norg.apache.jmeter.DynamicClassLoader @ 0x580103ba0 occupy 1,53,81,23,008 (32.39%) bytes.\n\nThese instances are referenced from one instance of \n\njava.util.concurrent.ConcurrentHashMap$Node[], loaded by &lt;system class loader&gt;, which \n\noccupies 45,16,41,568 (9.51%) bytes.\n\nKeywords\n\norg.apache.logging.log4j.core.Logger\norg.apache.jmeter.DynamicClassLoader @ 0x580103ba0\njava.util.concurrent.ConcurrentHashMap$Node[]\n</code></pre>\n<p><strong>I assume this is Apache JMeter issue, could you please provide a solution for this?</strong></p>\n"},{"tags":["java","spring-boot","gradle","groovy"],"comments":[{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1697079645,"post_id":77272790,"comment_id":136235118,"body_markdown":"Could to extract that the com/example/dummy from the source directories?  Maybe put it in its own source set separate from the main code base?","body":"Could to extract that the com/example/dummy from the source directories?  Maybe put it in its own source set separate from the main code base?"},{"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"score":0,"creation_date":1697085107,"post_id":77272790,"comment_id":136235561,"body_markdown":"Thanks @chubbsondubs for the input. But, for some reason, we cannot change the directory structure.","body":"Thanks @chubbsondubs for the input. But, for some reason, we cannot change the directory structure."}],"owner":{"account_id":6506515,"reputation":1641,"user_id":5035525,"accept_rate":69,"display_name":"Ramanujan R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697025050,"creation_date":1697025050,"question_id":77272790,"body_markdown":"I have a gradle task in my Spring boot project which depends on `build` task. The task is executed with `--continuous` option from terminal. Now I can trigger this task by updating any source file, because this watches for any source file changes.\r\n\r\n    gradle buildAndReload --continuous -x test // terminal command\r\n    \r\n    tasks.register(&#39;buildAndReload&#39;) {         // gradle task in build.gradle\r\n        dependsOn build\r\n        mustRunAfter build\r\n        doLast {\r\n           // do something\r\n        }    \r\n    }\r\n\r\nBut I don&#39;t want to &quot;do something&quot; when the change is only in a specific folder, say &quot;src/main/java/com/example/dummy&quot;. If a file `src/main/java/com/example/dummy/Abc.java` is changed, I don&#39;t need to run this task or I don&#39;t need to perform operations inside `doLast`.\r\n\r\n**First try**: Exclude `src/main/java/com/example/dummy` from `sourceSets`. But then the files in this folder won&#39;t be compiled in anyway. So this is not a solution.\r\n\r\n**Second try**: Add below code inside `doLast`. But the `task.inputs.sourceFiles` not only includes the updated files, but also the other source files which are unchanged. So this is also not a solution.\r\n\r\n    doLast {\r\n      boolean nonDummyFileChanged = task.inputs.sourceFiles.files.stream()\r\n                    .map { file -&gt; file.name }\r\n                    .dropWhile { name -&gt; name.contains(&quot;src/main/java/com/example/dummy&quot;) }\r\n                    .findAny()\r\n                    .isPresent()\r\n      if (!nonDummyFileChanged) {\r\n          System.out.println(&quot;Non dummy file hasn&#39;t changed. No need to run task&quot;)\r\n          return\r\n      }\r\n      // do something\r\n    }\r\n\r\n\r\nThe task or `doLast` in the task should only run if there is a source change outside `src/main/java/com/example/dummy`. Please help!","title":"Find updated files gradle --continuous build and filter out a specific directory","body":"<p>I have a gradle task in my Spring boot project which depends on <code>build</code> task. The task is executed with <code>--continuous</code> option from terminal. Now I can trigger this task by updating any source file, because this watches for any source file changes.</p>\n<pre><code>gradle buildAndReload --continuous -x test // terminal command\n\ntasks.register('buildAndReload') {         // gradle task in build.gradle\n    dependsOn build\n    mustRunAfter build\n    doLast {\n       // do something\n    }    \n}\n</code></pre>\n<p>But I don't want to &quot;do something&quot; when the change is only in a specific folder, say &quot;src/main/java/com/example/dummy&quot;. If a file <code>src/main/java/com/example/dummy/Abc.java</code> is changed, I don't need to run this task or I don't need to perform operations inside <code>doLast</code>.</p>\n<p><strong>First try</strong>: Exclude <code>src/main/java/com/example/dummy</code> from <code>sourceSets</code>. But then the files in this folder won't be compiled in anyway. So this is not a solution.</p>\n<p><strong>Second try</strong>: Add below code inside <code>doLast</code>. But the <code>task.inputs.sourceFiles</code> not only includes the updated files, but also the other source files which are unchanged. So this is also not a solution.</p>\n<pre><code>doLast {\n  boolean nonDummyFileChanged = task.inputs.sourceFiles.files.stream()\n                .map { file -&gt; file.name }\n                .dropWhile { name -&gt; name.contains(&quot;src/main/java/com/example/dummy&quot;) }\n                .findAny()\n                .isPresent()\n  if (!nonDummyFileChanged) {\n      System.out.println(&quot;Non dummy file hasn't changed. No need to run task&quot;)\n      return\n  }\n  // do something\n}\n</code></pre>\n<p>The task or <code>doLast</code> in the task should only run if there is a source change outside <code>src/main/java/com/example/dummy</code>. Please help!</p>\n"},{"tags":["java","spring-boot","modelmapper"],"owner":{"account_id":25882721,"reputation":21,"user_id":19611476,"display_name":"Abdullaah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697024911,"creation_date":1697024911,"question_id":77272772,"body_markdown":"i am getting error from postman during get request to get a AgentCustomerMappingEntity :  &quot;ModelMapper mapping errors:\\n\\n1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@36531f6d failed to convert org.hibernate.collection.internal.PersistentSet to java.util.Set.\\n\\n1 error&quot;. Below is entity \r\npublic class AgentCustomerMappingEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;hibernate-uuid&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID id;\r\n    @OneToOne\r\n    private ProcessEntity process;\r\n    @OneToOne\r\n    private AgentEntity agent;\r\n    @OneToMany\r\n    private Set&lt;CustomerEntity&gt; customers;\r\n\r\n\r\n}.  customers are not getting mapped properly. any help would be appreciated.","title":"ModelMapper mapping error for converting Set","body":"<p>i am getting error from postman during get request to get a AgentCustomerMappingEntity :  &quot;ModelMapper mapping errors:\\n\\n1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@36531f6d failed to convert org.hibernate.collection.internal.PersistentSet to java.util.Set.\\n\\n1 error&quot;. Below is entity\npublic class AgentCustomerMappingEntity {</p>\n<pre><code>@Id\n@GeneratedValue(generator = &quot;hibernate-uuid&quot;)\n@Type(type = &quot;uuid-char&quot;)\nprivate UUID id;\n@OneToOne\nprivate ProcessEntity process;\n@OneToOne\nprivate AgentEntity agent;\n@OneToMany\nprivate Set&lt;CustomerEntity&gt; customers;\n</code></pre>\n<p>}.  customers are not getting mapped properly. any help would be appreciated.</p>\n"},{"tags":["java","image","pdfbox","image-replacement"],"comments":[{"owner":{"account_id":12890945,"reputation":31,"user_id":9322952,"display_name":"nnox"},"score":0,"creation_date":1697029065,"post_id":77272713,"comment_id":136227763,"body_markdown":"But i don&#39;t modify extracted image, just replace it with saved one. So when ImageIOUtil.writeImage saves the image doesn&#39;t apply mask to it right?","body":"But i don&#39;t modify extracted image, just replace it with saved one. So when ImageIOUtil.writeImage saves the image doesn&#39;t apply mask to it right?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1697030427,"post_id":77272713,"comment_id":136228088,"body_markdown":"The mask is the alpha part of an image and is part of the image XObject, even if it is possible to read it separately (because it&#39;s also an object of its own). You should replace an ARGB object with another ARGB object. Re `ImageIOUtil.writeImage` it depends what format you are using. JPEG doesn&#39;t have alpha IIRC. Consider including your PDF before and after.","body":"The mask is the alpha part of an image and is part of the image XObject, even if it is possible to read it separately (because it&#39;s also an object of its own). You should replace an ARGB object with another ARGB object. Re <code>ImageIOUtil.writeImage</code> it depends what format you are using. JPEG doesn&#39;t have alpha IIRC. Consider including your PDF before and after."}],"owner":{"account_id":12890945,"reputation":31,"user_id":9322952,"display_name":"nnox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697024396,"creation_date":1697024396,"question_id":77272713,"body_markdown":"I need to replace the images in the PDF document which I can do. However, after extracting and replacing the resource image object, PDF images become corrupted if there is a soft mask or mask(stencil image) in the image, mask is lost.\r\n\r\nThis is my code (used pdfbox via python with jpype):\r\n\r\n```\r\nfor page in pages:\r\n    resources = page.getResources()\r\n    if resources:\r\n        pageImages = resources.getXObjectNames()\r\n        for c in pageImages:\r\n            imageObj = resources.getXObject(c)\r\n            if isinstance(imageObj, PDImageXObject):\r\n                bImage = imageObj.getImage()\r\n                suffix = str(imageObj.getSuffix())\r\n                tmp = tempfile.NamedTemporaryFile(suffix=&quot;.&quot; + suffix, mode=&quot;wb&quot;)\r\n                out = FileOutputStream(tmp.name)\r\n                if bImage.getColorModel().hasAlpha():\r\n                    target = BufferedImage(bImage.getWidth(), bImage.getHeight(), BufferedImage.TYPE_INT_RGB)\r\n                    g = target.createGraphics()\r\n                    g.fillRect(0, 0, bImage.getWidth(), bImage.getHeight())\r\n                    g.drawImage(bImage, 0, 0, None)\r\n                    g.dispose()\r\n                    ImageIOUtil.writeImage(target, suffix, out)\r\n                else:\r\n                    ImageIOUtil.writeImage(bImage, suffix, out)\r\n                \r\n                newImage = PDImageXObject.createFromFile(tmp.name, pdf)\r\n                resources.put(c, newImage)\r\n                tmp.close()\r\n```\r\n\r\nIn the above example code even if i didn&#39;t touch extracted image and immediately replace it with extracted one if image has mask it&#39;s gone after that. I can get smask like this to check:\r\n\r\n```\r\nimageObj.getSoftMask()\r\n```\r\n\r\nHow can i replace image and apply original image mask to newImage PDImageXObject using pdfbox? There is &quot;applyMask&quot; function in PDImageXObject but it is private.","title":"How to add mask to image when replacing images in pdf with pdfbox","body":"<p>I need to replace the images in the PDF document which I can do. However, after extracting and replacing the resource image object, PDF images become corrupted if there is a soft mask or mask(stencil image) in the image, mask is lost.</p>\n<p>This is my code (used pdfbox via python with jpype):</p>\n<pre><code>for page in pages:\n    resources = page.getResources()\n    if resources:\n        pageImages = resources.getXObjectNames()\n        for c in pageImages:\n            imageObj = resources.getXObject(c)\n            if isinstance(imageObj, PDImageXObject):\n                bImage = imageObj.getImage()\n                suffix = str(imageObj.getSuffix())\n                tmp = tempfile.NamedTemporaryFile(suffix=&quot;.&quot; + suffix, mode=&quot;wb&quot;)\n                out = FileOutputStream(tmp.name)\n                if bImage.getColorModel().hasAlpha():\n                    target = BufferedImage(bImage.getWidth(), bImage.getHeight(), BufferedImage.TYPE_INT_RGB)\n                    g = target.createGraphics()\n                    g.fillRect(0, 0, bImage.getWidth(), bImage.getHeight())\n                    g.drawImage(bImage, 0, 0, None)\n                    g.dispose()\n                    ImageIOUtil.writeImage(target, suffix, out)\n                else:\n                    ImageIOUtil.writeImage(bImage, suffix, out)\n                \n                newImage = PDImageXObject.createFromFile(tmp.name, pdf)\n                resources.put(c, newImage)\n                tmp.close()\n</code></pre>\n<p>In the above example code even if i didn't touch extracted image and immediately replace it with extracted one if image has mask it's gone after that. I can get smask like this to check:</p>\n<pre><code>imageObj.getSoftMask()\n</code></pre>\n<p>How can i replace image and apply original image mask to newImage PDImageXObject using pdfbox? There is &quot;applyMask&quot; function in PDImageXObject but it is private.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9887,"page":130,"page_size":100}
